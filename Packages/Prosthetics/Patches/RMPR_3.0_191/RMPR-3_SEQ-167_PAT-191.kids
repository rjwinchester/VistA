Released RMPR*3*191 SEQ #167
Extracted from mail message
**KIDS**:RMPR*3.0*191^

**INSTALL NAME**
RMPR*3.0*191
"BLD",10758,0)
RMPR*3.0*191^PROSTHETICS^0^3171108^y
"BLD",10758,1,0)
^^7^7^3171108^^
"BLD",10758,1,1,0)
When jumping to Suspense Processing, station may be undefined. The option 
"BLD",10758,1,2,0)
entry point was modified to check station and ensure it is defined.
"BLD",10758,1,3,0)
 
"BLD",10758,1,4,0)
Associated SDM Tickets:
"BLD",10758,1,5,0)
=======================
"BLD",10758,1,6,0)
R16621509FY17 - <UNDEFINED>RMPRPAT2+15^RMPRPAT2 *RMPR("STA")
"BLD",10758,1,7,0)
R16726784FY17 - <UNDEFINED>RMPRPAT2+15^RMPRPAT2 *RMPR("STA")
"BLD",10758,4,0)
^9.64PA^^
"BLD",10758,6.3)
1
"BLD",10758,"ABPKG")
n
"BLD",10758,"KRN",0)
^9.67PA^779.2^20
"BLD",10758,"KRN",.4,0)
.4
"BLD",10758,"KRN",.401,0)
.401
"BLD",10758,"KRN",.402,0)
.402
"BLD",10758,"KRN",.403,0)
.403
"BLD",10758,"KRN",.5,0)
.5
"BLD",10758,"KRN",.84,0)
.84
"BLD",10758,"KRN",3.6,0)
3.6
"BLD",10758,"KRN",3.8,0)
3.8
"BLD",10758,"KRN",9.2,0)
9.2
"BLD",10758,"KRN",9.8,0)
9.8
"BLD",10758,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",10758,"KRN",9.8,"NM",1,0)
RMPREO^^0^B13298919
"BLD",10758,"KRN",9.8,"NM","B","RMPREO",1)

"BLD",10758,"KRN",19,0)
19
"BLD",10758,"KRN",19.1,0)
19.1
"BLD",10758,"KRN",101,0)
101
"BLD",10758,"KRN",409.61,0)
409.61
"BLD",10758,"KRN",771,0)
771
"BLD",10758,"KRN",779.2,0)
779.2
"BLD",10758,"KRN",870,0)
870
"BLD",10758,"KRN",8989.51,0)
8989.51
"BLD",10758,"KRN",8989.52,0)
8989.52
"BLD",10758,"KRN",8994,0)
8994
"BLD",10758,"KRN","B",.4,.4)

"BLD",10758,"KRN","B",.401,.401)

"BLD",10758,"KRN","B",.402,.402)

"BLD",10758,"KRN","B",.403,.403)

"BLD",10758,"KRN","B",.5,.5)

"BLD",10758,"KRN","B",.84,.84)

"BLD",10758,"KRN","B",3.6,3.6)

"BLD",10758,"KRN","B",3.8,3.8)

"BLD",10758,"KRN","B",9.2,9.2)

"BLD",10758,"KRN","B",9.8,9.8)

"BLD",10758,"KRN","B",19,19)

"BLD",10758,"KRN","B",19.1,19.1)

"BLD",10758,"KRN","B",101,101)

"BLD",10758,"KRN","B",409.61,409.61)

"BLD",10758,"KRN","B",771,771)

"BLD",10758,"KRN","B",779.2,779.2)

"BLD",10758,"KRN","B",870,870)

"BLD",10758,"KRN","B",8989.51,8989.51)

"BLD",10758,"KRN","B",8989.52,8989.52)

"BLD",10758,"KRN","B",8994,8994)

"BLD",10758,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",10758,"QUES",0)
^9.62^^
"BLD",10758,"REQB",0)
^9.611^1^1
"BLD",10758,"REQB",1,0)
RMPR*3.0*182^1
"BLD",10758,"REQB","B","RMPR*3.0*182",1)

"MBREQ")
0
"PKG",280,-1)
1^1
"PKG",280,0)
PROSTHETICS^RMPR^PROSTHETICS VERSION 3.0 ALPHA
"PKG",280,20,0)
^9.402P^^0
"PKG",280,22,0)
^9.49I^1^1
"PKG",280,22,1,0)
3.0^2960209^2970624
"PKG",280,22,1,"PAH",1,0)
191^3171108
"PKG",280,22,1,"PAH",1,1,0)
^^7^7^3171108
"PKG",280,22,1,"PAH",1,1,1,0)
When jumping to Suspense Processing, station may be undefined. The option 
"PKG",280,22,1,"PAH",1,1,2,0)
entry point was modified to check station and ensure it is defined.
"PKG",280,22,1,"PAH",1,1,3,0)
 
"PKG",280,22,1,"PAH",1,1,4,0)
Associated SDM Tickets:
"PKG",280,22,1,"PAH",1,1,5,0)
=======================
"PKG",280,22,1,"PAH",1,1,6,0)
R16621509FY17 - <UNDEFINED>RMPRPAT2+15^RMPRPAT2 *RMPR("STA")
"PKG",280,22,1,"PAH",1,1,7,0)
R16726784FY17 - <UNDEFINED>RMPRPAT2+15^RMPRPAT2 *RMPR("STA")
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","RMPREO")
0^1^B13298919^B12735146
"RTN","RMPREO",1,0)
RMPREO ;HINES/HNC  SUSPENSE PROCESSING ; 10-MARCH-2005;11/06/2017
"RTN","RMPREO",2,0)
 ;;3.0;PROSTHETICS;**45,55,83,182,191**;Feb 09, 1996;Build 1
"RTN","RMPREO",3,0)
 ;
"RTN","RMPREO",4,0)
 ;HNC #83, add free text ordering provider 3/10/05
"RTN","RMPREO",5,0)
 ;
"RTN","RMPREO",6,0)
 ;RMPR*3.0*182 Add Urgency flag to List Manager Suspense
"RTN","RMPREO",7,0)
 ;             List and print template RPMR VIEW REQUEST
"RTN","RMPREO",8,0)
 ;             for action 'View Request'
"RTN","RMPREO",9,0)
 ;             Also, adds check that will insure variable 
"RTN","RMPREO",10,0)
 ;             RMPRSITE is undefined rather than test for  
"RTN","RMPREO",11,0)
 ;             array RMPR defined as a viable site exists
"RTN","RMPREO",12,0)
 ;             in RMPRSITE.
"RTN","RMPREO",13,0)
 ;
"RTN","RMPREO",14,0)
 ;RMPR*3.0*191 Ensure array element RMPR("STA") is defined
"RTN","RMPREO",15,0)
 ;             before further processing.
"RTN","RMPREO",16,0)
 ;
"RTN","RMPREO",17,0)
EN ; -- main entry point for RMPREO
"RTN","RMPREO",18,0)
 D ^%ZISC
"RTN","RMPREO",19,0)
 N STRING,CLREND,COLUMN,LINE,ON,OFF
"RTN","RMPREO",20,0)
 ;get patient to test with
"RTN","RMPREO",21,0)
 K ^TMP($J,"RMPREO")
"RTN","RMPREO",22,0)
 K ^TMP($J,"RMPREOEE")
"RTN","RMPREO",23,0)
 ;ask station
"RTN","RMPREO",24,0)
 I '$D(RMPRSITE)!'$D(RMPR("STA")) D DIV4^RMPRSIT Q:$D(X)    ;RMPR*3.0*182, 191
"RTN","RMPREO",25,0)
 I '$D(RMPRDFN) D GETPAT^RMPRUTIL Q:'$D(RMPRDFN)
"RTN","RMPREO",26,0)
 D EN^VALM("RMPREO")
"RTN","RMPREO",27,0)
 Q
"RTN","RMPREO",28,0)
 ;
"RTN","RMPREO",29,0)
HDR ; -- header code
"RTN","RMPREO",30,0)
 N VA,VADM
"RTN","RMPREO",31,0)
 S DFN=RMPRDFN
"RTN","RMPREO",32,0)
 D DEM^VADPT
"RTN","RMPREO",33,0)
 ;S VALMHDR(1)="Suspense Processing"
"RTN","RMPREO",34,0)
 S VALMHDR(1)="Open/Pending/Closed Suspense for "_$$LOWER^VALM1(VADM(1))_"  ("_$P(VADM(2),U,2)_")    '!' = STAT"   ;RMPR*3.0*182
"RTN","RMPREO",35,0)
 D KVAR^VADPT
"RTN","RMPREO",36,0)
 Q
"RTN","RMPREO",37,0)
 ;
"RTN","RMPREO",38,0)
INIT ; -- init variables and list array
"RTN","RMPREO",39,0)
 K ^TMP($J,"RMPREO"),^TMP($J,"RMPREOEE")
"RTN","RMPREO",40,0)
 D HDR
"RTN","RMPREO",41,0)
 N RMPRA,CDATE,LINE,X,RMPRSTAT     ;RMPR*3*182
"RTN","RMPREO",42,0)
 ;start loop
"RTN","RMPREO",43,0)
 ;
"RTN","RMPREO",44,0)
 K ADATE,PDAY
"RTN","RMPREO",45,0)
 S RMPRA="",VALMCNT=0,RRX=""
"RTN","RMPREO",46,0)
 ;reverse order display
"RTN","RMPREO",47,0)
 F  S RMPRA=$O(^RMPR(668,"C",RMPRDFN,RMPRA),-1) Q:RMPRA=""  D
"RTN","RMPREO",48,0)
 .I $P(^RMPR(668,RMPRA,0),U,10)="X" Q
"RTN","RMPREO",49,0)
 .S VALMCNT=VALMCNT+1,LINE=VALMCNT
"RTN","RMPREO",50,0)
 .S RRX=$$SETFLD^VALM1(LINE,RRX,"LINE")
"RTN","RMPREO",51,0)
 .S RMPRSTAT="" I $P($G(^RMPR(668,RMPRA,8)),U,5)["STAT" S RMPRSTAT="!"    ;RMPR*3*182
"RTN","RMPREO",52,0)
 .S CDATE=$P(^RMPR(668,RMPRA,0),U,1),CDATE=$$DAT1^RMPRUTL1(CDATE)_RMPRSTAT    ;RMPR*3*182
"RTN","RMPREO",53,0)
 .S RRX=$$SETFLD^VALM1(CDATE,RRX,"DATE")
"RTN","RMPREO",54,0)
 .S WHO1=""
"RTN","RMPREO",55,0)
 .I $P(^RMPR(668,RMPRA,0),U,11)'="" S WHO1=$$WHO^RMPREOU($P(^RMPR(668,RMPRA,0),U,11),12,RMPRA)
"RTN","RMPREO",56,0)
 .I $P($G(^RMPR(668,RMPRA,"IFC1")),U,3)'="" S WHO1=$$WHO^RMPREOU("",12,RMPRA)
"RTN","RMPREO",57,0)
 .;
"RTN","RMPREO",58,0)
 .S RRX=$$SETFLD^VALM1(WHO1,RRX,"WHO")
"RTN","RMPREO",59,0)
 .K WHO,WHO1
"RTN","RMPREO",60,0)
 .;type
"RTN","RMPREO",61,0)
 .S TYPE=$$TYPE^RMPREOU(RMPRA,8)
"RTN","RMPREO",62,0)
 .S RRX=$$SETFLD^VALM1(TYPE,RRX,"TYPE")
"RTN","RMPREO",63,0)
 .;display description if manual
"RTN","RMPREO",64,0)
 .;
"RTN","RMPREO",65,0)
 .S RRX=$$SETFLD^VALM1($$DES^RMPREOU(RMPRA,22),RRX,"DES")
"RTN","RMPREO",66,0)
 .;init activation date
"RTN","RMPREO",67,0)
 .S ADATE="",PDAY="",WRKDAY=""
"RTN","RMPREO",68,0)
 .S ADATE=$P(^RMPR(668,RMPRA,0),U,9)
"RTN","RMPREO",69,0)
 .I ADATE'="" S (PDAY,WRKDAY)=$$WRKDAY^RMPREOU(RMPRA)
"RTN","RMPREO",70,0)
 .I ADATE="" S (PDAY,WRKDAY)=$$CWRKDAY^RMPREOU(RMPRA)
"RTN","RMPREO",71,0)
 .S RRX=$$SETFLD^VALM1($$DAT1^RMPRUTL1(ADATE),RRX,"INITIAL ACTION DATE")
"RTN","RMPREO",72,0)
 .I ADATE'="" S CDAY=$$PDAY^RMPREOU(RMPRA) I CDAY>7 S PDAY="*"_WRKDAY
"RTN","RMPREO",73,0)
 .I ADATE=""&(WRKDAY>5) S PDAY="@"_WRKDAY
"RTN","RMPREO",74,0)
 .S RRX=$$SETFLD^VALM1(PDAY,RRX,"PDAY")
"RTN","RMPREO",75,0)
 .K ADATE,PDAY,WRKDAY,CDAY
"RTN","RMPREO",76,0)
 .;S R660=""
"RTN","RMPREO",77,0)
 .;F  S R660=$O(^RMPR(668,RMPRA,6,"B",R660)) Q:R660'>0  D
"RTN","RMPREO",78,0)
 .; .S RRX=$$SETFLD^VALM1($$ITEM^RMPREOU(R660,17),RRX,"ITEM")
"RTN","RMPREO",79,0)
 .S RRX=$$SETFLD^VALM1($$STATUS^RMPREOU(RMPRA,7),RRX,"STATUS")
"RTN","RMPREO",80,0)
 .S ^TMP($J,"RMPREO",LINE,0)=RRX
"RTN","RMPREO",81,0)
 .S ^TMP($J,"RMPREOEE",LINE,0)=RMPRA
"RTN","RMPREO",82,0)
 Q
"RTN","RMPREO",83,0)
 ;
"RTN","RMPREO",84,0)
 ;
"RTN","RMPREO",85,0)
SET(STRING,LINE,COLUMN,CLREND,ON,OFF) ;set array
"RTN","RMPREO",86,0)
 I '$D(@VALMAR@(LINE,0)) D SET^VALM10(LINE,$J("",80))
"RTN","RMPREO",87,0)
 D SET^VALM10(LINE,$$SETSTR^VALM1(STRING,@VALMAR@(LINE,0),COLUMN,CLREND))
"RTN","RMPREO",88,0)
 I $G(ON)]""!($G(OFF)]"") D CNTRL^VALM10(LINE,COLUMN,$L(STRING),ON,OFF)
"RTN","RMPREO",89,0)
 Q
"RTN","RMPREO",90,0)
 ;
"RTN","RMPREO",91,0)
 ;
"RTN","RMPREO",92,0)
HELP ; -- help code
"RTN","RMPREO",93,0)
 S X="?" D DISP^XQORM1 W !!
"RTN","RMPREO",94,0)
 Q
"RTN","RMPREO",95,0)
 ;
"RTN","RMPREO",96,0)
EXIT ; -- exit code
"RTN","RMPREO",97,0)
 ;NOT XUSCLEAN
"RTN","RMPREO",98,0)
 K ^TMP($J,"RMPREO")
"RTN","RMPREO",99,0)
 K RMPRDFN
"RTN","RMPREO",100,0)
 Q
"RTN","RMPREO",101,0)
 ;
"RTN","RMPREO",102,0)
EXPND ; -- expand code
"RTN","RMPREO",103,0)
 Q
"RTN","RMPREO",104,0)
 ;
"VER")
8.0^22.2
"BLD",10758,6)
^167
**END**
**END**

