Released QAO*3*10 SEQ #9
Extracted from mail message
**KIDS**:QAO*3.0*10^

**INSTALL NAME**
QAO*3.0*10
"BLD",10069,0)
QAO*3.0*10^OCCURRENCE SCREEN^0^3151118^y
"BLD",10069,1,0)
^^2^2^3151105^
"BLD",10069,1,1,0)
Patch QAO*3.0*10 updates the Occurrence Screen 'Return to OR in same 
"BLD",10069,1,2,0)
admission' (Screen 107) to work with recent Surgery enhancements.
"BLD",10069,4,0)
^9.64PA^^
"BLD",10069,6.3)
5
"BLD",10069,"KRN",0)
^9.67PA^779.2^20
"BLD",10069,"KRN",.4,0)
.4
"BLD",10069,"KRN",.401,0)
.401
"BLD",10069,"KRN",.402,0)
.402
"BLD",10069,"KRN",.403,0)
.403
"BLD",10069,"KRN",.5,0)
.5
"BLD",10069,"KRN",.84,0)
.84
"BLD",10069,"KRN",3.6,0)
3.6
"BLD",10069,"KRN",3.8,0)
3.8
"BLD",10069,"KRN",9.2,0)
9.2
"BLD",10069,"KRN",9.8,0)
9.8
"BLD",10069,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",10069,"KRN",9.8,"NM",1,0)
QAOC107^^0^B9270743
"BLD",10069,"KRN",9.8,"NM","B","QAOC107",1)

"BLD",10069,"KRN",19,0)
19
"BLD",10069,"KRN",19.1,0)
19.1
"BLD",10069,"KRN",101,0)
101
"BLD",10069,"KRN",409.61,0)
409.61
"BLD",10069,"KRN",771,0)
771
"BLD",10069,"KRN",779.2,0)
779.2
"BLD",10069,"KRN",870,0)
870
"BLD",10069,"KRN",8989.51,0)
8989.51
"BLD",10069,"KRN",8989.52,0)
8989.52
"BLD",10069,"KRN",8994,0)
8994
"BLD",10069,"KRN","B",.4,.4)

"BLD",10069,"KRN","B",.401,.401)

"BLD",10069,"KRN","B",.402,.402)

"BLD",10069,"KRN","B",.403,.403)

"BLD",10069,"KRN","B",.5,.5)

"BLD",10069,"KRN","B",.84,.84)

"BLD",10069,"KRN","B",3.6,3.6)

"BLD",10069,"KRN","B",3.8,3.8)

"BLD",10069,"KRN","B",9.2,9.2)

"BLD",10069,"KRN","B",9.8,9.8)

"BLD",10069,"KRN","B",19,19)

"BLD",10069,"KRN","B",19.1,19.1)

"BLD",10069,"KRN","B",101,101)

"BLD",10069,"KRN","B",409.61,409.61)

"BLD",10069,"KRN","B",771,771)

"BLD",10069,"KRN","B",779.2,779.2)

"BLD",10069,"KRN","B",870,870)

"BLD",10069,"KRN","B",8989.51,8989.51)

"BLD",10069,"KRN","B",8989.52,8989.52)

"BLD",10069,"KRN","B",8994,8994)

"BLD",10069,"QDEF")
^^^^^^^^^^YES
"BLD",10069,"QUES",0)
^9.62^^
"BLD",10069,"REQB",0)
^9.611^1^1
"BLD",10069,"REQB",1,0)
SR*3.0*182^2
"BLD",10069,"REQB","B","SR*3.0*182",1)

"MBREQ")
0
"PKG",379,-1)
1^1
"PKG",379,0)
OCCURRENCE SCREEN^QAO^OCCURRENCE SCREENING VERSION 3.0
"PKG",379,20,0)
^9.402P^^
"PKG",379,22,0)
^9.49I^1^1
"PKG",379,22,1,0)
3.0^2930914^3040224
"PKG",379,22,1,"PAH",1,0)
10^3151118
"PKG",379,22,1,"PAH",1,1,0)
^^2^2^3151118
"PKG",379,22,1,"PAH",1,1,1,0)
Patch QAO*3.0*10 updates the Occurrence Screen 'Return to OR in same 
"PKG",379,22,1,"PAH",1,1,2,0)
admission' (Screen 107) to work with recent Surgery enhancements.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","QAOC107")
0^1^B9270743^B8395600
"RTN","QAOC107",1,0)
QAOC107 ;HISC/DAD - OCCURRENCE SCREEN AUTO ENROLLMENT ;8/12/93  09:06
"RTN","QAOC107",2,0)
 ;;3.0;Occurrence Screen;**10**;09/14/1993;Build 5
"RTN","QAOC107",3,0)
 ;SCREEN 107 -- RETURN TO THE O.R. IN THE SAME ADMISSION (SURGERY V3.0)
"RTN","QAOC107",4,0)
 Q:$$INACTIVE^QAOC0(107)  Q:$P($G(^QA(740,1,"OS")),"^",7)'>0
"RTN","QAOC107",5,0)
 K QAOSFALL
"RTN","QAOC107",6,0)
 F QAOSDT=QAMTODAY-.0000001:0 S QAOSDT=$O(^SRF("AC",QAOSDT)) Q:(QAOSDT'>0)!(QAOSDT>(QAMTODAY+.24))!(QAOSDT\1'?7N)  F QAOSRFD0=0:0 S QAOSRFD0=$O(^SRF("AC",QAOSDT,QAOSRFD0)) Q:QAOSRFD0'>0  D MAIN
"RTN","QAOC107",7,0)
 K %Y,DFN,QAOSADM,QAOSCHED,QAOSDFN,QAOSDT,QAOSDTP,QAOSFALL,QAOSRF0
"RTN","QAOC107",8,0)
 K QAOSRF30,QAOSRF31,QAOSRFD0,QAOSRFDA,QAOSVAIP,X,X1,X2
"RTN","QAOC107",9,0)
 K ^UTILITY($J,"QAM TEMP") D KVAR^VADPT
"RTN","QAOC107",10,0)
 Q
"RTN","QAOC107",11,0)
MAIN ;
"RTN","QAOC107",12,0)
 S QAOSRF0=$G(^SRF(QAOSRFD0,0)),QAOSDFN=+QAOSRF0
"RTN","QAOC107",13,0)
 Q:$S(QAOSDFN'>0:1,$D(QAOSFALL(QAOSDFN))#2:1,1:0)
"RTN","QAOC107",14,0)
 Q:$S($P(QAOSRF0,U,12)="":1,$P(QAOSRF0,U,12)="O":1,1:0)  ;QAO*3.0*10 - updated due to surgery enhancements
"RTN","QAOC107",15,0)
 S QAOSRF30=$G(^SRF(QAOSRFD0,30)),QAOSRF31=$G(^(31))
"RTN","QAOC107",16,0)
 Q:$S($P(QAOSRF30,"^"):1,$P(QAOSRF31,"^",8):1,1:0)
"RTN","QAOC107",17,0)
 S QAOSCHED=$P(QAOSRF31,"^",4)
"RTN","QAOC107",18,0)
 K VAIP S DFN=QAOSDFN,VAIP("D")=QAOSDT\1,VAIP("M")=0 D IN5^VADPT
"RTN","QAOC107",19,0)
 S QAOSVAIP(1)=VAIP(1),QAOSVAIP(9)=VAIP(9)
"RTN","QAOC107",20,0)
 S QAOSADM=+VAIP(3)\1 Q:QAOSADM'>0
"RTN","QAOC107",21,0)
 S X1=QAOSDT\1,X2=QAOSADM D ^%DTC
"RTN","QAOC107",22,0)
 I X>7 S X1=QAOSDT\1,X2=-7 D C^%DTC S QAOSADM=X
"RTN","QAOC107",23,0)
 ;
"RTN","QAOC107",24,0)
 S QAOSDTP=9999999-QAOSDT-.0000001,QAOSQUIT=0
"RTN","QAOC107",25,0)
 F QAOSDTP=QAOSDTP:0 S QAOSDTP=$O(^SRF("ADT",QAOSDFN,QAOSDTP)) Q:(QAOSDTP'>0)!(QAOSDTP\1'?7N)!QAOSQUIT  D
"RTN","QAOC107",26,0)
 . F QAOSRFDA=0:0 S QAOSRFDA=$O(^SRF("ADT",QAOSDFN,QAOSDTP,QAOSRFDA)) Q:(QAOSRFDA'>0)!(QAOSRFDA=QAOSRFD0)!QAOSQUIT  D
"RTN","QAOC107",27,0)
 .. S QAOSRF0=$G(^SRF(QAOSRFDA,0))
"RTN","QAOC107",28,0)
 .. S QAOSDTP(0)=$P(QAOSRF0,"^",9)
"RTN","QAOC107",29,0)
 .. I (QAOSDTP(0)<QAOSADM)!(QAOSDTP(0)'<QAOSDT) S QAOSQUIT=1 Q
"RTN","QAOC107",30,0)
 .. Q:$S($P(QAOSRF0,U,12)="":1,$P(QAOSRF0,U,12)="O":1,1:0)  ;QAO*3.0*10 - updated due to surgery enhancements
"RTN","QAOC107",31,0)
 .. S QAOSRF30(0)=$G(^SRF(QAOSRFD0,30)),QAOSRF31(0)=$G(^(31))
"RTN","QAOC107",32,0)
 .. Q:$S($P(QAOSRF30(0),"^"):1,$P(QAOSRF31(0),"^",8):1,1:0)
"RTN","QAOC107",33,0)
 .. I QAOSCHED,QAOSCHED\1'>(QAOSDTP(0)\1) Q
"RTN","QAOC107",34,0)
 .. I $P($G(^SRF(QAOSRFDA,29,QAOSRFD0,0)),"^",3)'="R" Q
"RTN","QAOC107",35,0)
 .. K VAIP S DFN=QAOSDFN,VAIP("D")=QAOSDTP(0)\1,VAIP("M")=0
"RTN","QAOC107",36,0)
 .. D IN5^VADPT
"RTN","QAOC107",37,0)
 .. S (QAOSFALL(QAOSDFN),QAOSQUIT)=1
"RTN","QAOC107",38,0)
 .. S ^UTILITY($J,"QAM CONDITION",QAMD1,QAOSDFN,QAMTODAY)=""
"RTN","QAOC107",39,0)
 .. S ^UTILITY($J,"QAM FALL OUT",QAMD0,QAOSDFN,QAMTODAY,"WARD")=+VAIP(5)
"RTN","QAOC107",40,0)
 .. S ^UTILITY($J,"QAM FALL OUT",QAMD0,QAOSDFN,QAMTODAY,"TXSP")=+VAIP(8)
"RTN","QAOC107",41,0)
 .. S ^UTILITY($J,"QAM FALL OUT",QAMD0,QAOSDFN,QAMTODAY,"MVDT")=QAOSDTP(0)
"RTN","QAOC107",42,0)
 .. S ^UTILITY($J,"QAM FALL OUT",QAMD0,QAOSDFN,QAMTODAY,"DIAG")=QAOSVAIP(9)
"RTN","QAOC107",43,0)
 .. S ^UTILITY($J,"QAM FALL OUT",QAMD0,QAOSDFN,QAMTODAY,"AADM")=+QAOSVAIP(1)
"RTN","QAOC107",44,0)
 .. Q
"RTN","QAOC107",45,0)
 . Q
"RTN","QAOC107",46,0)
 Q
"VER")
8.0^22.0
"BLD",10069,6)
^9
**END**
**END**

