Released DG*5.3*963 SEQ #841
Extracted from mail message
**KIDS**:DG*5.3*963^

**INSTALL NAME**
DG*5.3*963
"BLD",3334,0)
DG*5.3*963^REGISTRATION^0^3180507^y
"BLD",3334,1,0)
^^4^4^3180507^
"BLD",3334,1,1,0)
DESCRIPTION:
"BLD",3334,1,2,0)
MASTER VETERAN INDEX VISTA ENHANCEMENTS - DATE OF DEATH UPDATES
"BLD",3334,1,3,0)
Refer to patch DG*5.3*963 in the FORUM Patch Module for a complete
"BLD",3334,1,4,0)
description.
"BLD",3334,4,0)
^9.64PA^^
"BLD",3334,6.3)
1
"BLD",3334,"INID")
^n
"BLD",3334,"INIT")
POST^DG963PST
"BLD",3334,"KRN",0)
^9.67PA^779.2^20
"BLD",3334,"KRN",.4,0)
.4
"BLD",3334,"KRN",.401,0)
.401
"BLD",3334,"KRN",.402,0)
.402
"BLD",3334,"KRN",.403,0)
.403
"BLD",3334,"KRN",.5,0)
.5
"BLD",3334,"KRN",.84,0)
.84
"BLD",3334,"KRN",3.6,0)
3.6
"BLD",3334,"KRN",3.8,0)
3.8
"BLD",3334,"KRN",9.2,0)
9.2
"BLD",3334,"KRN",9.8,0)
9.8
"BLD",3334,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",3334,"KRN",9.8,"NM",1,0)
DG963PST^^0^B20714942
"BLD",3334,"KRN",9.8,"NM","B","DG963PST",1)

"BLD",3334,"KRN",19,0)
19
"BLD",3334,"KRN",19.1,0)
19.1
"BLD",3334,"KRN",101,0)
101
"BLD",3334,"KRN",409.61,0)
409.61
"BLD",3334,"KRN",771,0)
771
"BLD",3334,"KRN",779.2,0)
779.2
"BLD",3334,"KRN",870,0)
870
"BLD",3334,"KRN",8989.51,0)
8989.51
"BLD",3334,"KRN",8989.52,0)
8989.52
"BLD",3334,"KRN",8994,0)
8994
"BLD",3334,"KRN","B",.4,.4)

"BLD",3334,"KRN","B",.401,.401)

"BLD",3334,"KRN","B",.402,.402)

"BLD",3334,"KRN","B",.403,.403)

"BLD",3334,"KRN","B",.5,.5)

"BLD",3334,"KRN","B",.84,.84)

"BLD",3334,"KRN","B",3.6,3.6)

"BLD",3334,"KRN","B",3.8,3.8)

"BLD",3334,"KRN","B",9.2,9.2)

"BLD",3334,"KRN","B",9.8,9.8)

"BLD",3334,"KRN","B",19,19)

"BLD",3334,"KRN","B",19.1,19.1)

"BLD",3334,"KRN","B",101,101)

"BLD",3334,"KRN","B",409.61,409.61)

"BLD",3334,"KRN","B",771,771)

"BLD",3334,"KRN","B",779.2,779.2)

"BLD",3334,"KRN","B",870,870)

"BLD",3334,"KRN","B",8989.51,8989.51)

"BLD",3334,"KRN","B",8989.52,8989.52)

"BLD",3334,"KRN","B",8994,8994)

"BLD",3334,"QDEF")
^^^^^^^^^^
"BLD",3334,"QUES",0)
^9.62^^
"INIT")
POST^DG963PST
"MBREQ")
0
"PKG",5,-1)
1^1
"PKG",5,0)
REGISTRATION^DG^PATIENT REGISTRATION, ADMISSION, DISCHARGE, EMBOSSER 
"PKG",5,22,0)
^9.49I^1^1
"PKG",5,22,1,0)
5.3^2930813^2970721^12541
"PKG",5,22,1,"PAH",1,0)
963^3180507
"PKG",5,22,1,"PAH",1,1,0)
^^4^4^3180507
"PKG",5,22,1,"PAH",1,1,1,0)
DESCRIPTION:
"PKG",5,22,1,"PAH",1,1,2,0)
MASTER VETERAN INDEX VISTA ENHANCEMENTS - DATE OF DEATH UPDATES
"PKG",5,22,1,"PAH",1,1,3,0)
Refer to patch DG*5.3*963 in the FORUM Patch Module for a complete
"PKG",5,22,1,"PAH",1,1,4,0)
description.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","DG963PST")
0^1^B20714942^n/a
"RTN","DG963PST",1,0)
DG963PST ;BIR/JFW-PATCH DG*5.3*963 POST INSTALLATION ROUTINE ;4/26/18
"RTN","DG963PST",2,0)
 ;;5.3;Registration;**963**;Aug 13, 1993;Build 1
"RTN","DG963PST",3,0)
 ;
"RTN","DG963PST",4,0)
 ; - Story 718515 (jfw)
"RTN","DG963PST",5,0)
 ;    Update the DESCRIPTION(s) in the SUPPORTING DOCUMENTATION TYPES
"RTN","DG963PST",6,0)
 ;    (#47.75) File for the following entries:
"RTN","DG963PST",7,0)
 ;      - UNDER VA AUSPICES
"RTN","DG963PST",8,0)
 ;      - EVVE CERTIFICATION
"RTN","DG963PST",9,0)
 ;      - EVVE FACT OF DEATH QUERY
"RTN","DG963PST",10,0)
 ;
"RTN","DG963PST",11,0)
 ; IA's:
"RTN","DG963PST",12,0)
 ;  BMES^XPDUTL - Supported #10141
"RTN","DG963PST",13,0)
 ;  MES^XPDUTL  - Supported #10141
"RTN","DG963PST",14,0)
 ;  WP^DIE      - Supported #2053
"RTN","DG963PST",15,0)
 ;
"RTN","DG963PST",16,0)
POST ;Post Init process to modify File #47.75
"RTN","DG963PST",17,0)
 D BMES^XPDUTL("Post-Install:")
"RTN","DG963PST",18,0)
 D SUPPDOC  ;Supporting Documentation Description Update
"RTN","DG963PST",19,0)
 D BMES^XPDUTL("Post-Install: Finished")
"RTN","DG963PST",20,0)
 Q
"RTN","DG963PST",21,0)
 ;
"RTN","DG963PST",22,0)
 ;Modify the DESCRIPTIONs for the following TYPE CODEs in the
"RTN","DG963PST",23,0)
 ;SUPPORTING DOCUMENTATION TYPES File (#47.75):
"RTN","DG963PST",24,0)
 ;     -   EC : EVVE CERTIFICATION
"RTN","DG963PST",25,0)
 ;     - EFDQ : EVVE FACT OF DEATH QUERY
"RTN","DG963PST",26,0)
 ;     -  UVA : UNDER VA AUSPICES
"RTN","DG963PST",27,0)
SUPPDOC ;
"RTN","DG963PST",28,0)
 N DGI,DGDOCODES,DGLOC,DGTCODE
"RTN","DG963PST",29,0)
 S DGLOC="^TMP($J,""DESC"")"
"RTN","DG963PST",30,0)
 D BMES^XPDUTL("  Updating DESCRIPTIONS in SUPPORTING DOCUMENTATION TYPES File (#47.75)")
"RTN","DG963PST",31,0)
 D MES^XPDUTL("")
"RTN","DG963PST",32,0)
 S DGDOCODES="EC,EFDQ,UVA"
"RTN","DG963PST",33,0)
 F DGI=1:1:$L(DGDOCODES,",")  D
"RTN","DG963PST",34,0)
 .K @DGLOC
"RTN","DG963PST",35,0)
 .S DGTCODE=$P(DGDOCODES,",",DGI)
"RTN","DG963PST",36,0)
 .D GWPDATA(DGTCODE,$NA(@DGLOC))  ;Get Description Data
"RTN","DG963PST",37,0)
 .D WPUPDT(47.75,50,$O(^DG(47.75,"C",DGTCODE,"")),DGLOC)
"RTN","DG963PST",38,0)
 K @DGLOC
"RTN","DG963PST",39,0)
 Q
"RTN","DG963PST",40,0)
 ;
"RTN","DG963PST",41,0)
 ;Retrieve the Word Processing Supporting Document Type
"RTN","DG963PST",42,0)
 ;Description for the specified type code entry.
"RTN","DG963PST",43,0)
 ;  TYPE  - Supporting Document Type Code
"RTN","DG963PST",44,0)
 ;  DGLOC - Location to Store Type Data In
"RTN","DG963PST",45,0)
GWPDATA(DGTYPE,DGLOC) ;
"RTN","DG963PST",46,0)
 N DGDATA,DGLINE,DGEXIT,DGNODE
"RTN","DG963PST",47,0)
 S DGEXIT=0,DGNODE=1
"RTN","DG963PST",48,0)
 F DGLINE=2:1 S DGDATA=$P($T(SDTDATA+DGLINE),";",3,$L($T(SDTDATA+DGLINE),";")) Q:(DGDATA=""!DGEXIT)  D
"RTN","DG963PST",49,0)
 .;Ignore entry if NOT passed TYPE, but set exit condition
"RTN","DG963PST",50,0)
 .;if TYPE already processed to short circuit loop.
"RTN","DG963PST",51,0)
 .I $P(DGDATA,"^")'=DGTYPE D  Q
"RTN","DG963PST",52,0)
 ..S:($D(@DGLOC)) DGEXIT=1
"RTN","DG963PST",53,0)
 .S @DGLOC@(DGNODE)=$P(DGDATA,"^",2),DGNODE=DGNODE+1
"RTN","DG963PST",54,0)
 Q
"RTN","DG963PST",55,0)
 ;
"RTN","DG963PST",56,0)
 ;Update Word Processing (WP) field in File with Data
"RTN","DG963PST",57,0)
 ;  DGFILE - File where Record resides to update (REQ)
"RTN","DG963PST",58,0)
 ;  DGFLD  - Field in File to update (REQ)
"RTN","DG963PST",59,0)
 ;  RECNUM - Record Number in File to update (REQ)
"RTN","DG963PST",60,0)
 ;  DATA   - Location of WP DATA (REQ)
"RTN","DG963PST",61,0)
WPUPDT(DGFILE,DGFLD,RECNUM,DATA) ;
"RTN","DG963PST",62,0)
 N DGERR
"RTN","DG963PST",63,0)
 D WP^DIE(DGFILE,RECNUM_",",DGFLD,"K",DATA,"DGERR")
"RTN","DG963PST",64,0)
 I ($D(DGERR)) D
"RTN","DG963PST",65,0)
 .D MES^XPDUTL("    *** '"_$P(^DG(47.75,RECNUM,0),"^")_"' DESCRIPTION NOT updated.")
"RTN","DG963PST",66,0)
 .D MES^XPDUTL("         !!! Execute POST-INSTALL again from command line (D POST^DG963PST)")
"RTN","DG963PST",67,0)
 D:('$D(DGERR)) MES^XPDUTL("    *** '"_$P(^DG(47.75,RECNUM,0),"^")_"' DESCRIPTION updated.")
"RTN","DG963PST",68,0)
 Q
"RTN","DG963PST",69,0)
 ;
"RTN","DG963PST",70,0)
SDTDATA ; Supporting Documentation Type Description Data Updates
"RTN","DG963PST",71,0)
 ; FORMAT: SUPPORTING DOCUMENT TYPE CODE ^ DOCUMENT DESCRIPTION
"RTN","DG963PST",72,0)
 ;;EC^Requires receipt of a successful identity match confirming a previously 
"RTN","DG963PST",73,0)
 ;;EC^established Date of Death via the EVVE Death Certification Query. 
"RTN","DG963PST",74,0)
 ;;EC^Retention of electronic or hard copy documentation of the death 
"RTN","DG963PST",75,0)
 ;;EC^certification is required. (Currently available via the EVVE pilot 
"RTN","DG963PST",76,0)
 ;;EC^program only)
"RTN","DG963PST",77,0)
 ;;EFDQ^Requires receipt of a successful identity match providing the confirmed 
"RTN","DG963PST",78,0)
 ;;EFDQ^Date of Death via one of the three search functions available within EVVE 
"RTN","DG963PST",79,0)
 ;;EFDQ^Fact of Death Query:  1) Insurance Regulatory Settlement Agreement, 2) 
"RTN","DG963PST",80,0)
 ;;EFDQ^SSN Exact Match, 3) Custom.  Retention of electronic or hard copy 
"RTN","DG963PST",81,0)
 ;;EFDQ^documentation of the returned data is required.  (Currently available via 
"RTN","DG963PST",82,0)
 ;;EFDQ^the EVVE pilot program only)
"RTN","DG963PST",83,0)
 ;;UVA^Deaths under VA auspices include deaths where the VA receives a medical 
"RTN","DG963PST",84,0)
 ;;UVA^record from a non-VA provider documenting a death that occurs while the 
"RTN","DG963PST",85,0)
 ;;UVA^non-VA provider was furnishing authorized non-VA care; deaths occurring 
"RTN","DG963PST",86,0)
 ;;UVA^in a contract nursing home (i.e., a nursing home under contract with the 
"RTN","DG963PST",87,0)
 ;;UVA^VA to care for the individual); or deaths during a home visit when a VA 
"RTN","DG963PST",88,0)
 ;;UVA^provider is present. Documentation of the death should be received from 
"RTN","DG963PST",89,0)
 ;;UVA^the non-VA provider or VA provider and entered into the persons record.
"RTN","DG963PST",90,0)
 ;;
"VER")
8.0^22.2
"BLD",3334,6)
^841
**END**
**END**

