EMERGENCY Released VIAB*1*12 SEQ #12
Extracted from mail message
**KIDS**:VIAB*1.0*12^

**INSTALL NAME**
VIAB*1.0*12
"BLD",10642,0)
VIAB*1.0*12^VISTA INTEGRATION ADAPTER^0^3180622^y
"BLD",10642,4,0)
^9.64PA^^
"BLD",10642,6)
6^
"BLD",10642,6.3)
28
"BLD",10642,"ABPKG")
n
"BLD",10642,"INID")
^y
"BLD",10642,"INIT")
VIAB12PO
"BLD",10642,"KRN",0)
^9.67PA^779.2^20
"BLD",10642,"KRN",.4,0)
.4
"BLD",10642,"KRN",.401,0)
.401
"BLD",10642,"KRN",.402,0)
.402
"BLD",10642,"KRN",.403,0)
.403
"BLD",10642,"KRN",.5,0)
.5
"BLD",10642,"KRN",.84,0)
.84
"BLD",10642,"KRN",3.6,0)
3.6
"BLD",10642,"KRN",3.8,0)
3.8
"BLD",10642,"KRN",9.2,0)
9.2
"BLD",10642,"KRN",9.8,0)
9.8
"BLD",10642,"KRN",9.8,"NM",0)
^9.68A^3^3
"BLD",10642,"KRN",9.8,"NM",1,0)
VIABRPC^^0^B131841158
"BLD",10642,"KRN",9.8,"NM",2,0)
VIABRPC7^^0^B84520002
"BLD",10642,"KRN",9.8,"NM",3,0)
VIABPCE2^^0^B840437
"BLD",10642,"KRN",9.8,"NM","B","VIABPCE2",3)

"BLD",10642,"KRN",9.8,"NM","B","VIABRPC",1)

"BLD",10642,"KRN",9.8,"NM","B","VIABRPC7",2)

"BLD",10642,"KRN",19,0)
19
"BLD",10642,"KRN",19,"NM",0)
^9.68A^1^1
"BLD",10642,"KRN",19,"NM",1,0)
VIAB WEB SERVICES OPTION^^0
"BLD",10642,"KRN",19,"NM","B","VIAB WEB SERVICES OPTION",1)

"BLD",10642,"KRN",19.1,0)
19.1
"BLD",10642,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",10642,"KRN",101,0)
101
"BLD",10642,"KRN",409.61,0)
409.61
"BLD",10642,"KRN",771,0)
771
"BLD",10642,"KRN",779.2,0)
779.2
"BLD",10642,"KRN",870,0)
870
"BLD",10642,"KRN",8989.51,0)
8989.51
"BLD",10642,"KRN",8989.52,0)
8989.52
"BLD",10642,"KRN",8994,0)
8994
"BLD",10642,"KRN",8994,"NM",0)
^9.68A^46^46
"BLD",10642,"KRN",8994,"NM",1,0)
VIABPCE SAVE^^0
"BLD",10642,"KRN",8994,"NM",2,0)
VIAB MEDHIST^^0
"BLD",10642,"KRN",8994,"NM",3,0)
VIABDX SAVE^^0
"BLD",10642,"KRN",8994,"NM",4,0)
MBAA APPOINTMENT LIST BY NAME^^0
"BLD",10642,"KRN",8994,"NM",5,0)
MBAA APPOINTMENT MAKE^^0
"BLD",10642,"KRN",8994,"NM",6,0)
MBAA CANCEL APPOINTMENT^^0
"BLD",10642,"KRN",8994,"NM",7,0)
MBAA FACILITY WAIT LIST^^0
"BLD",10642,"KRN",8994,"NM",8,0)
MBAA GET CLINIC AVAILABILITY^^0
"BLD",10642,"KRN",8994,"NM",9,0)
MBAA GET CLINIC DETAILS^^0
"BLD",10642,"KRN",8994,"NM",10,0)
MBAA LIST CANCELLATION REASONS^^0
"BLD",10642,"KRN",8994,"NM",11,0)
MBAA PATIENT PENDING APPT^^0
"BLD",10642,"KRN",8994,"NM",12,0)
MBAA PROVIDERS BY CLINIC^^0
"BLD",10642,"KRN",8994,"NM",13,0)
MBAA REMOVE FROM EWL^^0
"BLD",10642,"KRN",8994,"NM",14,0)
MBAA VERIFY CLINIC ACCESS^^0
"BLD",10642,"KRN",8994,"NM",15,0)
MBAA WAIT LIST BY DFN^^0
"BLD",10642,"KRN",8994,"NM",16,0)
ORDEA DEATEXT^^0
"BLD",10642,"KRN",8994,"NM",17,0)
ORDEA SIGINFO^^0
"BLD",10642,"KRN",8994,"NM",18,0)
ORWDLR32 ALLSAMP^^0
"BLD",10642,"KRN",8994,"NM",19,0)
ORWDLR32 DEF^^0
"BLD",10642,"KRN",8994,"NM",20,0)
ORWDLR32 GET LAB TIMES^^0
"BLD",10642,"KRN",8994,"NM",21,0)
ORWDLR32 IC VALID^^0
"BLD",10642,"KRN",8994,"NM",22,0)
ORWDLR32 IMMED COLLECT^^0
"BLD",10642,"KRN",8994,"NM",23,0)
ORWDLR32 LOAD^^0
"BLD",10642,"KRN",8994,"NM",24,0)
ORWDLR32 MAXDAYS^^0
"BLD",10642,"KRN",8994,"NM",25,0)
ORWDLR33 FUTURE LAB COLLECTS^^0
"BLD",10642,"KRN",8994,"NM",26,0)
ORWDPS1 DFLTSPLY^^0
"BLD",10642,"KRN",8994,"NM",27,0)
ORWDPS1 DOWSCH^^0
"BLD",10642,"KRN",8994,"NM",28,0)
ORWDPS1 SCHALL^^0
"BLD",10642,"KRN",8994,"NM",29,0)
ORWDPS2 ADMIN^^0
"BLD",10642,"KRN",8994,"NM",30,0)
ORWDPS2 OISLCT^^0
"BLD",10642,"KRN",8994,"NM",31,0)
ORWDPS32 AUTH^^0
"BLD",10642,"KRN",8994,"NM",32,0)
ORWDPS32 VALSCH^^0
"BLD",10642,"KRN",8994,"NM",33,0)
ORWDRA32 IMMTYPSEL^^0
"BLD",10642,"KRN",8994,"NM",34,0)
ORWDRA32 LOCTYPE^^0
"BLD",10642,"KRN",8994,"NM",35,0)
ORWDXC ACCEPT^^0
"BLD",10642,"KRN",8994,"NM",36,0)
ORWDXC ON^^0
"BLD",10642,"KRN",8994,"NM",37,0)
ORWU DEVICE^^0
"BLD",10642,"KRN",8994,"NM",38,0)
ORWU INPLOC^^0
"BLD",10642,"KRN",8994,"NM",39,0)
ORWDRA32 RAORDITM^^0
"BLD",10642,"KRN",8994,"NM",40,0)
ORWDXA DC^^0
"BLD",10642,"KRN",8994,"NM",41,0)
ORWORDG ALLTREE^^0
"BLD",10642,"KRN",8994,"NM",42,0)
ORWDLR32 ALLSPEC^^0
"BLD",10642,"KRN",8994,"NM",43,0)
ORIMO IMOLOC^^0
"BLD",10642,"KRN",8994,"NM",44,0)
ORWORDG REVSTS^^0
"BLD",10642,"KRN",8994,"NM",45,0)
ORQOR DETAIL^^0
"BLD",10642,"KRN",8994,"NM",46,0)
ORWOR RESULT HISTORY^^0
"BLD",10642,"KRN",8994,"NM","B","MBAA APPOINTMENT LIST BY NAME",4)

"BLD",10642,"KRN",8994,"NM","B","MBAA APPOINTMENT MAKE",5)

"BLD",10642,"KRN",8994,"NM","B","MBAA CANCEL APPOINTMENT",6)

"BLD",10642,"KRN",8994,"NM","B","MBAA FACILITY WAIT LIST",7)

"BLD",10642,"KRN",8994,"NM","B","MBAA GET CLINIC AVAILABILITY",8)

"BLD",10642,"KRN",8994,"NM","B","MBAA GET CLINIC DETAILS",9)

"BLD",10642,"KRN",8994,"NM","B","MBAA LIST CANCELLATION REASONS",10)

"BLD",10642,"KRN",8994,"NM","B","MBAA PATIENT PENDING APPT",11)

"BLD",10642,"KRN",8994,"NM","B","MBAA PROVIDERS BY CLINIC",12)

"BLD",10642,"KRN",8994,"NM","B","MBAA REMOVE FROM EWL",13)

"BLD",10642,"KRN",8994,"NM","B","MBAA VERIFY CLINIC ACCESS",14)

"BLD",10642,"KRN",8994,"NM","B","MBAA WAIT LIST BY DFN",15)

"BLD",10642,"KRN",8994,"NM","B","ORDEA DEATEXT",16)

"BLD",10642,"KRN",8994,"NM","B","ORDEA SIGINFO",17)

"BLD",10642,"KRN",8994,"NM","B","ORIMO IMOLOC",43)

"BLD",10642,"KRN",8994,"NM","B","ORQOR DETAIL",45)

"BLD",10642,"KRN",8994,"NM","B","ORWDLR32 ALLSAMP",18)

"BLD",10642,"KRN",8994,"NM","B","ORWDLR32 ALLSPEC",42)

"BLD",10642,"KRN",8994,"NM","B","ORWDLR32 DEF",19)

"BLD",10642,"KRN",8994,"NM","B","ORWDLR32 GET LAB TIMES",20)

"BLD",10642,"KRN",8994,"NM","B","ORWDLR32 IC VALID",21)

"BLD",10642,"KRN",8994,"NM","B","ORWDLR32 IMMED COLLECT",22)

"BLD",10642,"KRN",8994,"NM","B","ORWDLR32 LOAD",23)

"BLD",10642,"KRN",8994,"NM","B","ORWDLR32 MAXDAYS",24)

"BLD",10642,"KRN",8994,"NM","B","ORWDLR33 FUTURE LAB COLLECTS",25)

"BLD",10642,"KRN",8994,"NM","B","ORWDPS1 DFLTSPLY",26)

"BLD",10642,"KRN",8994,"NM","B","ORWDPS1 DOWSCH",27)

"BLD",10642,"KRN",8994,"NM","B","ORWDPS1 SCHALL",28)

"BLD",10642,"KRN",8994,"NM","B","ORWDPS2 ADMIN",29)

"BLD",10642,"KRN",8994,"NM","B","ORWDPS2 OISLCT",30)

"BLD",10642,"KRN",8994,"NM","B","ORWDPS32 AUTH",31)

"BLD",10642,"KRN",8994,"NM","B","ORWDPS32 VALSCH",32)

"BLD",10642,"KRN",8994,"NM","B","ORWDRA32 IMMTYPSEL",33)

"BLD",10642,"KRN",8994,"NM","B","ORWDRA32 LOCTYPE",34)

"BLD",10642,"KRN",8994,"NM","B","ORWDRA32 RAORDITM",39)

"BLD",10642,"KRN",8994,"NM","B","ORWDXA DC",40)

"BLD",10642,"KRN",8994,"NM","B","ORWDXC ACCEPT",35)

"BLD",10642,"KRN",8994,"NM","B","ORWDXC ON",36)

"BLD",10642,"KRN",8994,"NM","B","ORWOR RESULT HISTORY",46)

"BLD",10642,"KRN",8994,"NM","B","ORWORDG ALLTREE",41)

"BLD",10642,"KRN",8994,"NM","B","ORWORDG REVSTS",44)

"BLD",10642,"KRN",8994,"NM","B","ORWU DEVICE",37)

"BLD",10642,"KRN",8994,"NM","B","ORWU INPLOC",38)

"BLD",10642,"KRN",8994,"NM","B","VIAB MEDHIST",2)

"BLD",10642,"KRN",8994,"NM","B","VIABDX SAVE",3)

"BLD",10642,"KRN",8994,"NM","B","VIABPCE SAVE",1)

"BLD",10642,"KRN","B",.4,.4)

"BLD",10642,"KRN","B",.401,.401)

"BLD",10642,"KRN","B",.402,.402)

"BLD",10642,"KRN","B",.403,.403)

"BLD",10642,"KRN","B",.5,.5)

"BLD",10642,"KRN","B",.84,.84)

"BLD",10642,"KRN","B",3.6,3.6)

"BLD",10642,"KRN","B",3.8,3.8)

"BLD",10642,"KRN","B",9.2,9.2)

"BLD",10642,"KRN","B",9.8,9.8)

"BLD",10642,"KRN","B",19,19)

"BLD",10642,"KRN","B",19.1,19.1)

"BLD",10642,"KRN","B",101,101)

"BLD",10642,"KRN","B",409.61,409.61)

"BLD",10642,"KRN","B",771,771)

"BLD",10642,"KRN","B",779.2,779.2)

"BLD",10642,"KRN","B",870,870)

"BLD",10642,"KRN","B",8989.51,8989.51)

"BLD",10642,"KRN","B",8989.52,8989.52)

"BLD",10642,"KRN","B",8994,8994)

"BLD",10642,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",10642,"QUES",0)
^9.62^^
"BLD",10642,"REQB",0)
^9.611^1^1
"BLD",10642,"REQB",1,0)
VIAB*1.0*9^2
"BLD",10642,"REQB","B","VIAB*1.0*9",1)

"INIT")
VIAB12PO
"KRN",19,2921522,-1)
0^1
"KRN",19,2921522,0)
VIAB WEB SERVICES OPTION^VIAB Web Services Option^^B^^^^^^^^VISTA INTEGRATION ADAPTER
"KRN",19,2921522,1,0)
^19.06^3^3^3180618^^^^
"KRN",19,2921522,1,1,0)
This option is required by the Kernel Broker to give 
"KRN",19,2921522,1,2,0)
access to the RPCs used by the Vista Integration Adapter 
"KRN",19,2921522,1,3,0)
(VIA) team.
"KRN",19,2921522,99.1)
64722,53121
"KRN",19,2921522,"RPC",0)
^19.05P^327^327
"KRN",19,2921522,"RPC",1,0)
DG SENSITIVE RECORD ACCESS
"KRN",19,2921522,"RPC",2,0)
DG SENSITIVE RECORD BULLETIN
"KRN",19,2921522,"RPC",3,0)
ORPRF HASFLG
"KRN",19,2921522,"RPC",4,0)
ORQPT CLINIC PATIENTS
"KRN",19,2921522,"RPC",5,0)
ORQPT PROVIDER PATIENTS
"KRN",19,2921522,"RPC",6,0)
ORQPT SPECIALTIES
"KRN",19,2921522,"RPC",7,0)
ORQPT SPECIALTY PATIENTS
"KRN",19,2921522,"RPC",8,0)
ORQPT TEAM PATIENTS
"KRN",19,2921522,"RPC",9,0)
ORQPT TEAMS
"KRN",19,2921522,"RPC",10,0)
ORQPT WARDRMBED
"KRN",19,2921522,"RPC",11,0)
ORQPT WARDS
"KRN",19,2921522,"RPC",12,0)
ORQQCN DETAIL
"KRN",19,2921522,"RPC",13,0)
ORQQCN GET ORDER NUMBER
"KRN",19,2921522,"RPC",14,0)
ORQQCN LIST
"KRN",19,2921522,"RPC",15,0)
ORVAA VAA
"KRN",19,2921522,"RPC",16,0)
ORWCIRN FACLIST
"KRN",19,2921522,"RPC",17,0)
ORWCV DTLVST
"KRN",19,2921522,"RPC",18,0)
ORWCV VST
"KRN",19,2921522,"RPC",19,0)
ORWDX LOADRSP
"KRN",19,2921522,"RPC",20,0)
ORWDX LOCK ORDER
"KRN",19,2921522,"RPC",21,0)
ORWDX UNLOCK ORDER
"KRN",19,2921522,"RPC",22,0)
ORWDXA OFCPLX
"KRN",19,2921522,"RPC",23,0)
ORWDXC SESSION
"KRN",19,2921522,"RPC",24,0)
ORWDXM DLGNAME
"KRN",19,2921522,"RPC",25,0)
ORWDXM1 BLDQRSP
"KRN",19,2921522,"RPC",26,0)
ORWLRR ALLTESTS
"KRN",19,2921522,"RPC",27,0)
ORWLRR INFO
"KRN",19,2921522,"RPC",28,0)
ORWLRR INTERIMG
"KRN",19,2921522,"RPC",29,0)
ORWORDG MAPSEQ
"KRN",19,2921522,"RPC",30,0)
ORWORR AGET
"KRN",19,2921522,"RPC",31,0)
ORWORR GET4LST
"KRN",19,2921522,"RPC",32,0)
ORWPS ACTIVE
"KRN",19,2921522,"RPC",33,0)
ORWPS DETAIL
"KRN",19,2921522,"RPC",34,0)
ORWPT ADMITLST
"KRN",19,2921522,"RPC",35,0)
ORWPT BYWARD
"KRN",19,2921522,"RPC",36,0)
ORWPT DIEDON
"KRN",19,2921522,"RPC",37,0)
ORWPT ID INFO
"KRN",19,2921522,"RPC",38,0)
ORWPT LIST ALL
"KRN",19,2921522,"RPC",39,0)
ORWPT PTINQ
"KRN",19,2921522,"RPC",40,0)
ORWPT SELECT
"KRN",19,2921522,"RPC",41,0)
ORWPT1 PCDETAIL
"KRN",19,2921522,"RPC",42,0)
ORWPT1 PRCARE
"KRN",19,2921522,"RPC",43,0)
ORWPT16 ID INFO
"KRN",19,2921522,"RPC",44,0)
ORWRP REPORT TEXT
"KRN",19,2921522,"RPC",45,0)
ORWRP2 HS COMPONENTS
"KRN",19,2921522,"RPC",46,0)
ORWRP2 HS REPORT TEXT
"KRN",19,2921522,"RPC",47,0)
ORWSR RPTLIST
"KRN",19,2921522,"RPC",48,0)
ORWTIU CHKTXT
"KRN",19,2921522,"RPC",49,0)
ORWU CLINLOC
"KRN",19,2921522,"RPC",50,0)
ORWU DT
"KRN",19,2921522,"RPC",51,0)
ORWU NEWPERS
"KRN",19,2921522,"RPC",52,0)
ORWU USERINFO
"KRN",19,2921522,"RPC",53,0)
ORWU VALIDSIG
"KRN",19,2921522,"RPC",54,0)
ORWU1 NEWLOC
"KRN",19,2921522,"RPC",55,0)
SC GETS ENTRY DATA
"KRN",19,2921522,"RPC",56,0)
SC LISTER
"KRN",19,2921522,"RPC",57,0)
TIU AUTHORIZATION
"KRN",19,2921522,"RPC",58,0)
TIU CREATE RECORD
"KRN",19,2921522,"RPC",59,0)
TIU DOCUMENTS BY CONTEXT
"KRN",19,2921522,"RPC",60,0)
TIU GET PRF ACTIONS
"KRN",19,2921522,"RPC",61,0)
TIU GET RECORD TEXT
"KRN",19,2921522,"RPC",62,0)
TIU HAS AUTHOR SIGNED?
"KRN",19,2921522,"RPC",63,0)
TIU IS THIS A CONSULT?
"KRN",19,2921522,"RPC",64,0)
TIU IS THIS A SURGERY?
"KRN",19,2921522,"RPC",65,0)
TIU ISPRF
"KRN",19,2921522,"RPC",66,0)
TIU LOCK RECORD
"KRN",19,2921522,"RPC",67,0)
TIU LONG LIST OF TITLES
"KRN",19,2921522,"RPC",68,0)
TIU ONE VISIT NOTE?
"KRN",19,2921522,"RPC",69,0)
TIU REQUIRES COSIGNATURE
"KRN",19,2921522,"RPC",70,0)
TIU SET DOCUMENT TEXT
"KRN",19,2921522,"RPC",71,0)
TIU SIGN RECORD
"KRN",19,2921522,"RPC",72,0)
TIU UNLOCK RECORD
"KRN",19,2921522,"RPC",73,0)
TIU UPDATE RECORD
"KRN",19,2921522,"RPC",74,0)
TIU WAS THIS SAVED?
"KRN",19,2921522,"RPC",75,0)
TIU WHICH SIGNATURE ACTION
"KRN",19,2921522,"RPC",78,0)
ORQQAL LIST
"KRN",19,2921522,"RPC",79,0)
ORQQVI VITALS
"KRN",19,2921522,"RPC",80,0)
ORWDX LOCK
"KRN",19,2921522,"RPC",81,0)
ORWDX SEND
"KRN",19,2921522,"RPC",82,0)
ORWDX UNLOCK
"KRN",19,2921522,"RPC",83,0)
ORWPT FULLSSN
"KRN",19,2921522,"RPC",84,0)
ORWPT LAST5
"KRN",19,2921522,"RPC",85,0)
VAFCTFU CONVERT ICN TO DFN
"KRN",19,2921522,"RPC",86,0)
VPR GET PATIENT DATA
"KRN",19,2921522,"RPC",87,0)
ORALWORD ALLWORD
"KRN",19,2921522,"RPC",88,0)
ORCHECK GETXTRA
"KRN",19,2921522,"RPC",89,0)
ORDDPAPI CLOZMSG
"KRN",19,2921522,"RPC",90,0)
OREVNTX1 GETSTS
"KRN",19,2921522,"RPC",92,0)
ORQQCN STATUS
"KRN",19,2921522,"RPC",93,0)
ORQQCN SVC W/SYNONYMS
"KRN",19,2921522,"RPC",94,0)
ORWD1 PRINTGUI
"KRN",19,2921522,"RPC",95,0)
ORWD1 RVPRINT
"KRN",19,2921522,"RPC",96,0)
ORWD2 DEVINFO
"KRN",19,2921522,"RPC",97,0)
ORWDCN32 ORDRMSG
"KRN",19,2921522,"RPC",98,0)
ORWDPS1 FAILDEA
"KRN",19,2921522,"RPC",99,0)
ORWDPS1 ODSLCT
"KRN",19,2921522,"RPC",100,0)
ORWDPS2 DAY2QTY
"KRN",19,2921522,"RPC",101,0)
ORWDPS2 MAXREF
"KRN",19,2921522,"RPC",102,0)
ORWDPS2 QTY2DAY
"KRN",19,2921522,"RPC",103,0)
ORWDPS32 DRUGMSG
"KRN",19,2921522,"RPC",104,0)
ORWDPS32 ISSPLY
"KRN",19,2921522,"RPC",105,0)
ORWDPS32 VALQTY
"KRN",19,2921522,"RPC",106,0)
ORWDPS32 VALROUTE
"KRN",19,2921522,"RPC",107,0)
ORWDRA32 APPROVAL
"KRN",19,2921522,"RPC",108,0)
ORWDRA32 DEF
"KRN",19,2921522,"RPC",110,0)
ORWDX DGNM
"KRN",19,2921522,"RPC",111,0)
ORWDX2 DCREASON
"KRN",19,2921522,"RPC",112,0)
ORWDXA ISACTOI
"KRN",19,2921522,"RPC",113,0)
ORWDXR RNWFLDS
"KRN",19,2921522,"RPC",114,0)
ORWDXR01 CANCHG
"KRN",19,2921522,"RPC",115,0)
ORWGRPC ITEMDATA
"KRN",19,2921522,"RPC",116,0)
ORWGRPC ITEMS
"KRN",19,2921522,"RPC",117,0)
ORWOR1 GETDSCH
"KRN",19,2921522,"RPC",118,0)
ORWRP GET DEFAULT PRINTER
"KRN",19,2921522,"RPC",120,0)
ORWTPD GETDFLT
"KRN",19,2921522,"RPC",121,0)
TIU DETAILED DISPLAY
"KRN",19,2921522,"RPC",125,0)
VIABPCE2 GET HFACTORS TYPE
"KRN",19,2921522,"RPC",126,0)
VIABPCE4 LEX
"KRN",19,2921522,"RPC",127,0)
VIABU EXTNAME
"KRN",19,2921522,"RPC",128,0)
TIU SET ADMINISTRATIVE CLOSURE
"KRN",19,2921522,"RPC",129,0)
VIAB GETSURR
"KRN",19,2921522,"RPC",133,0)
ORWMC PATIENT PROCEDURES1
"KRN",19,2921522,"RPC",137,0)
ORQPT PROVIDERS
"KRN",19,2921522,"RPC",158,0)
VIAB GET USER DIVISIONS
"KRN",19,2921522,"RPC",160,0)
ORWRP REPORT LISTS
"KRN",19,2921522,"RPC",161,0)
TIU CREATE ADDENDUM RECORD
"KRN",19,2921522,"RPC",162,0)
TIU UPDATE ADDITIONAL SIGNERS
"KRN",19,2921522,"RPC",163,0)
VIAB SITENAME
"KRN",19,2921522,"RPC",164,0)
VIAB ACTPROB
"KRN",19,2921522,"RPC",165,0)
VIAB BMS
"KRN",19,2921522,"RPC",166,0)
VIAB CPTMODS
"KRN",19,2921522,"RPC",167,0)
VIAB DEFAULT REQUEST REASON
"KRN",19,2921522,"RPC",168,0)
VIAB EDIT DEFAULT REASON
"KRN",19,2921522,"RPC",173,0)
VIAB NOTEVSTR
"KRN",19,2921522,"RPC",179,0)
VIAB CURSPE
"KRN",19,2921522,"RPC",180,0)
VIAB RADSRC
"KRN",19,2921522,"RPC",194,0)
MD CLIO
"KRN",19,2921522,"RPC",195,0)
VIAB DEA SIGINFO
"KRN",19,2921522,"RPC",196,0)
VIAB DEATEXT
"KRN",19,2921522,"RPC",197,0)
VIAB DOWSCH
"KRN",19,2921522,"RPC",198,0)
VIAB EFR
"KRN",19,2921522,"RPC",199,0)
VIAB FUTURE LAB COLLECTS
"KRN",19,2921522,"RPC",200,0)
VIAB GET IMMUNIZATION TYPE
"KRN",19,2921522,"RPC",201,0)
VIAB GET LAB TIMES
"KRN",19,2921522,"RPC",202,0)
VIAB IMOLOC
"KRN",19,2921522,"RPC",203,0)
VIAB INPLOC
"KRN",19,2921522,"RPC",204,0)
VIAB ISPROSVC
"KRN",19,2921522,"RPC",206,0)
VIAB LOC TYPE
"KRN",19,2921522,"RPC",207,0)
VIAB MAXDAYS
"KRN",19,2921522,"RPC",209,0)
VIAB PROVDX
"KRN",19,2921522,"RPC",210,0)
VIAB SCDIS
"KRN",19,2921522,"RPC",211,0)
VIAB SCHALL
"KRN",19,2921522,"RPC",212,0)
VIAB SCSEL
"KRN",19,2921522,"RPC",213,0)
VIAB SRGY RPTLIST
"KRN",19,2921522,"RPC",214,0)
VIAB VALSCH
"KRN",19,2921522,"RPC",215,0)
VIAB VISIT
"KRN",19,2921522,"RPC",218,0)
VIABDXC ON
"KRN",19,2921522,"RPC",219,0)
VIAB IC VALID
"KRN",19,2921522,"RPC",220,0)
VIAB TIU SECVST
"KRN",19,2921522,"RPC",221,0)
VIAB ADMIN
"KRN",19,2921522,"RPC",223,0)
VIAB IMMED COLLECT
"KRN",19,2921522,"RPC",224,0)
VIAB DFLTSPLY
"KRN",19,2921522,"RPC",225,0)
VIAB DEVICE
"KRN",19,2921522,"RPC",226,0)
VIAB ALLSAMP
"KRN",19,2921522,"RPC",227,0)
VIAB ALLSPEC
"KRN",19,2921522,"RPC",232,0)
ORWDXM FORMID
"KRN",19,2921522,"RPC",240,0)
ORWDPS5 LESGRP
"KRN",19,2921522,"RPC",250,0)
ORWDPS2 CHKGRP
"KRN",19,2921522,"RPC",251,0)
ORWORR GETTXT
"KRN",19,2921522,"RPC",252,0)
ORWDXC DISPLAY
"KRN",19,2921522,"RPC",253,0)
ORQOR DETAIL
"KRN",19,2921522,"RPC",254,0)
OREVNTX1 DLGIEN
"KRN",19,2921522,"RPC",255,0)
ORWDX DLGDEF
"KRN",19,2921522,"RPC",256,0)
ORWOR RESULT HISTORY
"KRN",19,2921522,"RPC",257,0)
ORWDX WRLST
"KRN",19,2921522,"RPC",258,0)
ORWUL FVIDX
"KRN",19,2921522,"RPC",259,0)
ORWUL FV4DG
"KRN",19,2921522,"RPC",260,0)
ORWDX ORDITM
"KRN",19,2921522,"RPC",261,0)
ORWORDG REVSTS
"KRN",19,2921522,"RPC",262,0)
ORWDXR GETPKG
"KRN",19,2921522,"RPC",263,0)
OREVNTX1 ODPTEVID
"KRN",19,2921522,"RPC",264,0)
ORWDRA32 ISOLATN
"KRN",19,2921522,"RPC",265,0)
ORWDPS2 CHKPI
"KRN",19,2921522,"RPC",266,0)
ORWU DEVICE
"KRN",19,2921522,"RPC",267,0)
ORWD2 MANUAL
"KRN",19,2921522,"RPC",268,0)
ORWDRA32 PROCMSG
"KRN",19,2921522,"RPC",270,0)
ORWUL FVSUB
"KRN",19,2921522,"RPC",274,0)
ORIMO IMOLOC
"KRN",19,2921522,"RPC",275,0)
ORIMO IMOOD
"KRN",19,2921522,"RPC",277,0)
ORWDXR ISREL
"KRN",19,2921522,"RPC",278,0)
ORWDX1 ORDMATCH
"KRN",19,2921522,"RPC",279,0)
ORWOR PKISITE
"KRN",19,2921522,"RPC",280,0)
ORWDPS2 QOGRP
"KRN",19,2921522,"RPC",281,0)
ORWDXA VALID
"KRN",19,2921522,"RPC",282,0)
ORWOR RESULT
"KRN",19,2921522,"RPC",283,0)
ORWDXC SAVECHK
"KRN",19,2921522,"RPC",286,0)
ORWDXR ISCPLX
"KRN",19,2921522,"RPC",287,0)
VIABPCE SAVE
"KRN",19,2921522,"RPC",288,0)
MBAA CANCEL APPOINTMENT
"KRN",19,2921522,"RPC",289,0)
MBAA PROVIDERS BY CLINIC
"KRN",19,2921522,"RPC",290,0)
MBAA VERIFY CLINIC ACCESS
"KRN",19,2921522,"RPC",291,0)
MBAA REMOVE FROM EWL
"KRN",19,2921522,"RPC",292,0)
VIAB MEDHIST
"KRN",19,2921522,"RPC",293,0)
VIABDX SAVE
"KRN",19,2921522,"RPC",294,0)
MBAA GET CLINIC DETAILS
"KRN",19,2921522,"RPC",295,0)
MBAA APPOINTMENT LIST BY NAME
"KRN",19,2921522,"RPC",296,0)
MBAA FACILITY WAIT LIST
"KRN",19,2921522,"RPC",297,0)
MBAA APPOINTMENT MAKE
"KRN",19,2921522,"RPC",298,0)
MBAA GET CLINIC AVAILABILITY
"KRN",19,2921522,"RPC",299,0)
MBAA LIST CANCELLATION REASONS
"KRN",19,2921522,"RPC",300,0)
MBAA PATIENT PENDING APPT
"KRN",19,2921522,"RPC",301,0)
MBAA WAIT LIST BY DFN
"KRN",19,2921522,"RPC",302,0)
ORWDRA32 RAORDITM
"KRN",19,2921522,"RPC",303,0)
ORWDXA DC
"KRN",19,2921522,"RPC",304,0)
ORWORDG ALLTREE
"KRN",19,2921522,"RPC",305,0)
ORDEA DEATEXT
"KRN",19,2921522,"RPC",306,0)
ORDEA SIGINFO
"KRN",19,2921522,"RPC",307,0)
ORWDLR32 ALLSAMP
"KRN",19,2921522,"RPC",308,0)
ORWDLR32 ALLSPEC
"KRN",19,2921522,"RPC",309,0)
ORWDLR32 DEF
"KRN",19,2921522,"RPC",310,0)
ORWDLR32 GET LAB TIMES
"KRN",19,2921522,"RPC",311,0)
ORWDLR32 IC VALID
"KRN",19,2921522,"RPC",312,0)
ORWDLR32 IMMED COLLECT
"KRN",19,2921522,"RPC",313,0)
ORWDLR32 LOAD
"KRN",19,2921522,"RPC",314,0)
ORWDLR32 MAXDAYS
"KRN",19,2921522,"RPC",315,0)
ORWDLR33 FUTURE LAB COLLECTS
"KRN",19,2921522,"RPC",316,0)
ORWDPS1 DFLTSPLY
"KRN",19,2921522,"RPC",317,0)
ORWDPS1 DOWSCH
"KRN",19,2921522,"RPC",318,0)
ORWDPS1 SCHALL
"KRN",19,2921522,"RPC",319,0)
ORWDPS2 ADMIN
"KRN",19,2921522,"RPC",320,0)
ORWDPS2 OISLCT
"KRN",19,2921522,"RPC",321,0)
ORWDPS32 AUTH
"KRN",19,2921522,"RPC",322,0)
ORWDPS32 VALSCH
"KRN",19,2921522,"RPC",323,0)
ORWDRA32 IMMTYPSEL
"KRN",19,2921522,"RPC",324,0)
ORWDRA32 LOCTYPE
"KRN",19,2921522,"RPC",325,0)
ORWDXC ACCEPT
"KRN",19,2921522,"RPC",326,0)
ORWDXC ON
"KRN",19,2921522,"RPC",327,0)
ORWU INPLOC
"KRN",19,2921522,"U")
VIAB WEB SERVICES OPTION
"KRN",8994,187,-1)
0^45
"KRN",8994,187,0)
ORQOR DETAIL^DETAIL^ORWOR^4^S^^^1^^^1
"KRN",8994,187,1,0)
^8994.01^1^1^3180618^^^^
"KRN",8994,187,1,1,0)
Returns detailed information regarding an order.
"KRN",8994,187,2,0)
^8994.02A^2^1
"KRN",8994,187,2,2,0)
ORDER^1^16^1
"KRN",8994,187,2,2,1,0)
^8994.021^1^1^3180618^^^^
"KRN",8994,187,2,2,1,1,0)
Order identifier/number from file #100.
"KRN",8994,187,2,"B","ORDER",2)

"KRN",8994,187,3,0)
^8994.03^1^1^3180618^^^^
"KRN",8994,187,3,1,0)
Array of detailed order information.
"KRN",8994,239,-1)
0^37
"KRN",8994,239,0)
ORWU DEVICE^DEVICE^ORWU^2^S^^^^^^1
"KRN",8994,239,1,0)
^^1^1^2961009^
"KRN",8994,239,1,1,0)
Returns a list of print devices.
"KRN",8994,332,-1)
0^41
"KRN",8994,332,0)
ORWORDG ALLTREE^ALLTREE^ORWORDG^2^S^^^^^^1
"KRN",8994,332,1,0)
^8994.01^1^1^3180618^^^
"KRN",8994,332,1,1,0)
Returns the tree for all display groups.
"KRN",8994,333,-1)
0^44
"KRN",8994,333,0)
ORWORDG REVSTS^REVSTS^ORWORDG^2^S^^^^^^1
"KRN",8994,333,1,0)
^8994.01^1^1^3180618^^
"KRN",8994,333,1,1,0)
Returns the status flags available for review orders action.
"KRN",8994,393,-1)
0^19
"KRN",8994,393,0)
ORWDLR32 DEF^DEF^ORWDLR32^2^S^^^^^^1
"KRN",8994,393,1,0)
^8994.01^1^1^3180618^^
"KRN",8994,393,1,1,0)
Get lab order dialog definition.
"KRN",8994,394,-1)
0^23
"KRN",8994,394,0)
ORWDLR32 LOAD^LOAD^ORWDLR32^2^S^^^^^^1
"KRN",8994,394,1,0)
^8994.01^1^1^3180618^^
"KRN",8994,394,1,1,0)
Return sample, specimen, & urgency info about a lab test.
"KRN",8994,395,-1)
0^18
"KRN",8994,395,0)
ORWDLR32 ALLSAMP^ALLSAMP^ORWDLR32^2^S^^^^^^1
"KRN",8994,395,1,0)
^8994.01^2^2^3180618^^
"KRN",8994,395,1,1,0)
Returns all collection samples in the format:
"KRN",8994,395,1,2,0)
   n^SampIEN^SampName^SpecPtr^TubeTop^^^LabCollect^^SpecName
"KRN",8994,400,-1)
0^31
"KRN",8994,400,0)
ORWDPS32 AUTH^AUTH^ORWDPS32^1^S^^^^^^1
"KRN",8994,400,1,0)
^^3^3^3000104^
"KRN",8994,400,1,1,0)
Checks restrictions for entering inpatient meds.  If no restrictions, a 0
"KRN",8994,400,1,2,0)
is returned.  If there is a restriction, it is returned in the format:
"KRN",8994,400,1,3,0)
     1^restriction text 
"KRN",8994,409,-1)
0^39
"KRN",8994,409,0)
ORWDRA32 RAORDITM^RAORDITM^ORWDRA32^2^S^^^^^^1
"KRN",8994,415,-1)
0^40
"KRN",8994,415,0)
ORWDXA DC^DC^ORWDXA^2^S^^^^^^1
"KRN",8994,415,1,0)
^8994.01^1^1^3180618^^
"KRN",8994,415,1,1,0)
RPC to discontinue, cancel, or delete an existing order.
"KRN",8994,431,-1)
0^24
"KRN",8994,431,0)
ORWDLR32 MAXDAYS^MAXDAYS^ORWDLR33^1^S^^^^^^1
"KRN",8994,431,1,0)
^8994.01^1^1^3180618^^
"KRN",8994,431,1,1,0)
Returns the maximum number of days for a continuous lab order.
"KRN",8994,446,-1)
0^42
"KRN",8994,446,0)
ORWDLR32 ALLSPEC^ALLSPEC^ORWDLR33^2^S^^^^^^1
"KRN",8994,446,1,0)
^8994.01^1^1^3180618^^
"KRN",8994,446,1,1,0)
Returns a list of specimens from the TOPOGRAPHY FIELD file (#61).
"KRN",8994,501,-1)
0^32
"KRN",8994,501,0)
ORWDPS32 VALSCH^VALSCH^ORWDPS33^1^S^^^^^^1
"KRN",8994,501,1,0)
^^1^1^3000104^
"KRN",8994,501,1,1,0)
Validate a schedule and return a 1 if it is valid, otherwise return 0.
"KRN",8994,509,-1)
0^22
"KRN",8994,509,0)
ORWDLR32 IMMED COLLECT^IMMCOLL^ORWDLR33^2^S^^^^^^1
"KRN",8994,509,1,0)
^8994.01^2^2^3180618^^
"KRN",8994,509,1,1,0)
Returns help text showing lab immediate collect times for the user's
"KRN",8994,509,1,2,0)
division.
"KRN",8994,511,-1)
0^21
"KRN",8994,511,0)
ORWDLR32 IC VALID^ICVALID^ORWDLR33^1^S^^^^^^1
"KRN",8994,511,1,0)
^8994.01^1^1^3180618^^
"KRN",8994,511,1,1,0)
Determines whether the suplied time is a valid lab immediate collect time.
"KRN",8994,511,2,0)
^8994.02A^1^1
"KRN",8994,511,2,1,0)
TIME^1^20^1
"KRN",8994,511,2,"B","TIME",1)

"KRN",8994,511,3,0)
^8994.03^2^2^3180618^^
"KRN",8994,511,3,1,0)
1^message if valid.
"KRN",8994,511,3,2,0)
0^message if invalid
"KRN",8994,513,-1)
0^36
"KRN",8994,513,0)
ORWDXC ON^ON^ORWDXC^1^S^^^^^^1
"KRN",8994,513,1,0)
^^1^1^3000105^
"KRN",8994,513,1,1,0)
Returns E if order checking enabled, otherwise D.
"KRN",8994,516,-1)
0^35
"KRN",8994,516,0)
ORWDXC ACCEPT^ACCEPT^ORWDXC^2^S^^^^^^1
"KRN",8994,516,1,0)
^^1^1^3000105^
"KRN",8994,516,1,1,0)
Return list of Order Checks on Accept Order.
"KRN",8994,572,-1)
0^38
"KRN",8994,572,0)
ORWU INPLOC^INPLOC^ORWU^2^S^^^^^^1
"KRN",8994,572,1,0)
^^1^1^3000105^
"KRN",8994,572,1,1,0)
Returns a list of wards from the HOSPITAL LOCATION file.
"KRN",8994,573,-1)
0^34
"KRN",8994,573,0)
ORWDRA32 LOCTYPE^LOCTYPE^ORWDRA32^1^S^^^^^^1
"KRN",8994,677,-1)
0^20
"KRN",8994,677,0)
ORWDLR32 GET LAB TIMES^GETLABTM^ORWDLR33^2^S^^^^^^1
"KRN",8994,677,1,0)
^8994.01^1^1^3180618^^
"KRN",8994,677,1,1,0)
Returns a list of lab collect times for a date and location.
"KRN",8994,677,2,0)
^8994.02A^3^3
"KRN",8994,677,2,1,0)
DATE^1^12^1
"KRN",8994,677,2,2,0)
LOCATION^1^12^1
"KRN",8994,677,2,3,0)
ORWDLR32 IC VALID
"KRN",8994,677,2,"B","DATE",1)

"KRN",8994,677,2,"B","LOCATION",2)

"KRN",8994,677,2,"B","ORWDLR32 IC VALID",3)

"KRN",8994,697,-1)
0^25
"KRN",8994,697,0)
ORWDLR33 FUTURE LAB COLLECTS^LCFUTR^ORWDLR33^1^S^^^^^^1
"KRN",8994,697,1,0)
^8994.01^1^1^3180618^^
"KRN",8994,697,1,1,0)
Returns the number of days in the future to allow Lab Collects.
"KRN",8994,697,2,0)
^8994.02A^1^1
"KRN",8994,697,2,1,0)
ORLOC^1^^0
"KRN",8994,697,2,"B","ORLOC",1)

"KRN",8994,922,-1)
0^30
"KRN",8994,922,0)
ORWDPS2 OISLCT^OISLCT^ORWDPS2^2^S^^^^^^1
"KRN",8994,923,-1)
0^29
"KRN",8994,923,0)
ORWDPS2 ADMIN^ADMIN^ORWDPS2^1^S^^^^^^1
"KRN",8994,925,-1)
0^28
"KRN",8994,925,0)
ORWDPS1 SCHALL^SCHALL^ORWDPS1^2^S^^^^^^1
"KRN",8994,925,2,0)
^8994.02A^2^2
"KRN",8994,925,2,1,0)
DFN^1^^1^1
"KRN",8994,925,2,1,1,0)
^^1^1^3060908^
"KRN",8994,925,2,1,1,1,0)
Patient DFN
"KRN",8994,925,2,2,0)
LOCIEN^1^^1^2
"KRN",8994,925,2,2,1,0)
^^2^2^3060908^
"KRN",8994,925,2,2,1,1,0)
This is the inpatient location IEN from file 44, if a location is not 
"KRN",8994,925,2,2,1,2,0)
defined for the patient the value will be zero.
"KRN",8994,925,2,"B","DFN",1)

"KRN",8994,925,2,"B","LOCIEN",2)

"KRN",8994,925,2,"PARAMSEQ",1,1)

"KRN",8994,925,2,"PARAMSEQ",2,2)

"KRN",8994,936,-1)
0^26
"KRN",8994,936,0)
ORWDPS1 DFLTSPLY^DFLTSPLY^ORWDPS1^1^S^^^^^^1
"KRN",8994,1219,-1)
0^46
"KRN",8994,1219,0)
ORWOR RESULT HISTORY^RESHIST^ORWOR^4^S^^^1^^^1
"KRN",8994,1219,1,0)
^8994.01^1^1^3180619^^^
"KRN",8994,1219,1,1,0)
Returns a result history of a CPRS order.
"KRN",8994,1882,-1)
0^43
"KRN",8994,1882,0)
ORIMO IMOLOC^IMOLOC^ORIMO^1^S^^^^^^1
"KRN",8994,2937,-1)
0^27
"KRN",8994,2937,0)
ORWDPS1 DOWSCH^DOWSCH^ORWDPS1^2^S^^^^^^1
"KRN",8994,2937,1,0)
^8994.01^2^2^3180618^^^^
"KRN",8994,2937,1,1,0)
This RPC returns a list of schedule that have a frequency defined and the 
"KRN",8994,2937,1,2,0)
frequency is less then or equal to 1440 minutes
"KRN",8994,2937,2,0)
^8994.02A^2^2
"KRN",8994,2937,2,1,0)
DFN^1^^1^1
"KRN",8994,2937,2,2,0)
LOCIEN^1^^1^2
"KRN",8994,2937,2,2,1,0)
^8994.021^1^1^3180618^^^
"KRN",8994,2937,2,2,1,1,0)
This is the Location IEN from file 44
"KRN",8994,2937,2,"B","DFN",1)

"KRN",8994,2937,2,"B","LOCIEN",2)

"KRN",8994,2937,2,"PARAMSEQ",1,1)

"KRN",8994,2937,2,"PARAMSEQ",2,2)

"KRN",8994,3502,-1)
0^16
"KRN",8994,3502,0)
ORDEA DEATEXT^DEATEXT^ORDEA^3^S^^^1^^^1
"KRN",8994,3502,1,0)
^8994.01^2^2^3180618^^^^
"KRN",8994,3502,1,1,0)
Returns the text to show on the signature dialog mandated by DEA for when 
"KRN",8994,3502,1,2,0)
a controlled substance order is selected to be signed.
"KRN",8994,3503,-1)
0^17
"KRN",8994,3503,0)
ORDEA SIGINFO^SIGINFO^ORDEA^3^S^^^1^^^1
"KRN",8994,3503,1,0)
^8994.01^2^2^3180618^^
"KRN",8994,3503,1,1,0)
returns the provider/patient info that must be displayed when signing a 
"KRN",8994,3503,1,2,0)
controlled substance order(s)
"KRN",8994,3683,-1)
0^9
"KRN",8994,3683,0)
MBAA GET CLINIC DETAILS^GETCLN^MBAAMRP1^2^S^^^^1^^1
"KRN",8994,3683,1,0)
^8994.01^2^2^3180618^^
"KRN",8994,3683,1,1,0)
This RPC returns clinic details needed for scheduling appointments into a 
"KRN",8994,3683,1,2,0)
clinic.
"KRN",8994,3683,2,0)
^8994.02A^1^1
"KRN",8994,3683,2,1,0)
CLINIC^1^200^1^1
"KRN",8994,3683,2,1,1,0)
^8994.021^1^1^3180618^^
"KRN",8994,3683,2,1,1,1,0)
This the IEN for the Clinic in the Hospital Location File (#44).
"KRN",8994,3683,2,"B","CLINIC",1)

"KRN",8994,3683,2,"PARAMSEQ",1,1)

"KRN",8994,3683,3,0)
^8994.03^32^32^3180618^^
"KRN",8994,3683,3,1,0)
Returns and array in the format below:
"KRN",8994,3683,3,2,0)
 
"KRN",8994,3683,3,3,0)
 LST(1)="RESULT(44,""23,"",.01,""E"")=GENERAL MEDICINE"
"KRN",8994,3683,3,4,0)
 LST(2)="RESULT(44,""23,"",.01,""I"")=GENERAL MEDICINE"
"KRN",8994,3683,3,5,0)
 LST(3)="RESULT(44,""23,"",1,""E"")=GM"
"KRN",8994,3683,3,6,0)
 LST(4)="RESULT(44,""23,"",1,""I"")=GM"
"KRN",8994,3683,3,7,0)
 LST(5)="RESULT(44,""23,"",2,""E"")=CLINIC"
"KRN",8994,3683,3,8,0)
 LST(6)="RESULT(44,""23,"",2,""I"")=C"
"KRN",8994,3683,3,9,0)
 LST(7)="RESULT(44,""23,"",7,""E"")="
"KRN",8994,3683,3,10,0)
 LST(8)="RESULT(44,""23,"",7,""I"")="
"KRN",8994,3683,3,11,0)
 LST(9)="RESULT(44,""23,"",8,""E"")=GENERAL INTERNAL MEDICINE"
"KRN",8994,3683,3,12,0)
 LST(10)="RESULT(44,""23,"",8,""I"")=141"
"KRN",8994,3683,3,13,0)
 LST(11)="RESULT(44,""23,"",9,""E"")=MEDICINE"
"KRN",8994,3683,3,14,0)
 LST(12)="RESULT(44,""23,"",9,""I"")=M"
"KRN",8994,3683,3,15,0)
 LST(13)="RESULT(44,""23,"",9.5,""E"")=GENERAL MEDICINE"
"KRN",8994,3683,3,16,0)
 LST(14)="RESULT(44,""23,"",9.5,""I"")=9"
"KRN",8994,3683,3,17,0)
 LST(15)="RESULT(44,""23,"",10,""E"")="
"KRN",8994,3683,3,18,0)
 LST(16)="RESULT(44,""23,"",10,""I"")="
"KRN",8994,3683,3,19,0)
 LST(17)="RESULT(44,""23,"",24,""E"")="
"KRN",8994,3683,3,20,0)
 LST(18)="RESULT(44,""23,"",24,""I"")="
"KRN",8994,3683,3,21,0)
 LST(19)="RESULT(44,""23,"",1912,""E"")=15"
"KRN",8994,3683,3,22,0)
 LST(20)="RESULT(44,""23,"",1912,""I"")=15"
"KRN",8994,3683,3,23,0)
 LST(21)="RESULT(44,""23,"",1914,""E"")=8"
"KRN",8994,3683,3,24,0)
 LST(22)="RESULT(44,""23,"",1914,""I"")=8"
"KRN",8994,3683,3,25,0)
 LST(23)="RESULT(44,""23,"",1917,""E"")=15-MIN "
"KRN",8994,3683,3,26,0)
 LST(24)="RESULT(44,""23,"",1917,""I"")=4"
"KRN",8994,3683,3,27,0)
 LST(25)="RESULT(44,""23,"",1918,""E"")=0"
"KRN",8994,3683,3,28,0)
 LST(26)="RESULT(44,""23,"",1918,""I"")=0"
"KRN",8994,3683,3,29,0)
 LST(27)="RESULT(44,""23,"",2500,""E"")="
"KRN",8994,3683,3,30,0)
 LST(28)="RESULT(44,""23,"",2500,""I"")="
"KRN",8994,3683,3,31,0)
 LST(29)="RESULT(44,""23,"",2503,""E"")=FAMILY PRACTICE"
"KRN",8994,3683,3,32,0)
 LST(30)="RESULT(44,""23,"",2503,""I"")=532"
"KRN",8994,3684,-1)
0^4
"KRN",8994,3684,0)
MBAA APPOINTMENT LIST BY NAME^LSTAPPT^MBAAMRP2^2^S^^^^1^^1
"KRN",8994,3684,1,0)
^8994.01^2^2^3180514^^^^
"KRN",8994,3684,1,1,0)
Returns a list of appointment types based on the input parameters from 
"KRN",8994,3684,1,2,0)
the Appointment Types file (#409.1).
"KRN",8994,3684,2,0)
^8994.02A^3^3
"KRN",8994,3684,2,1,0)
SEARCH^1^200^0^1
"KRN",8994,3684,2,1,1,0)
^8994.021^2^2^3140522^^
"KRN",8994,3684,2,1,1,1,0)
The partial match restrictions used for the search. This parameter limits 
"KRN",8994,3684,2,1,1,2,0)
the search to those entries that match the partial match restrictions. 
"KRN",8994,3684,2,2,0)
START^1^200^0^2
"KRN",8994,3684,2,2,1,0)
^8994.021^2^2^3140522^^
"KRN",8994,3684,2,2,1,1,0)
The index entry(s) from which to begin the list. For example, a value of 
"KRN",8994,3684,2,2,1,2,0)
"XQ" would result in a list that starts with the first entry after "XQ".
"KRN",8994,3684,2,3,0)
NUMBER^1^200^0^3
"KRN",8994,3684,2,3,1,0)
^8994.021^1^1^3180514^^^^
"KRN",8994,3684,2,3,1,1,0)
This is the number of entries to return.
"KRN",8994,3684,2,"B","NUMBER",3)

"KRN",8994,3684,2,"B","SEARCH",1)

"KRN",8994,3684,2,"B","START",2)

"KRN",8994,3684,2,"PARAMSEQ",1,1)

"KRN",8994,3684,2,"PARAMSEQ",2,2)

"KRN",8994,3684,2,"PARAMSEQ",3,3)

"KRN",8994,3684,3,0)
^8994.03^10^10^3180514^^^^
"KRN",8994,3684,3,1,0)
Returns an array with the subscripts below:
"KRN",8994,3684,3,2,0)
ARRAY(0)=The number of entries found^the number of entries requested^any 
"KRN",8994,3684,3,3,0)
more flag?^results flags (any more flag? is zero if there aren't any more 
"KRN",8994,3684,3,4,0)
entries, if there are more entries than returned, this is set to one.)
"KRN",8994,3684,3,5,0)
ARRAY(RECORD NUMBER)="" - This is a separator between records, this node 
"KRN",8994,3684,3,6,0)
is always null.
"KRN",8994,3684,3,7,0)
ARRAY(RECORD NUMBER,"ID")=IEN of the entry on the "NAME" node below.
"KRN",8994,3684,3,8,0)
ARRAY(RECORD NUMBER,"NAME")=Text Name of the entry.
"KRN",8994,3684,3,9,0)
 
"KRN",8994,3684,3,10,0)
RECORD NUMBER increments by one for each additional record.
"KRN",8994,3685,-1)
0^8
"KRN",8994,3685,0)
MBAA GET CLINIC AVAILABILITY^SLOTS^MBAAMRP1^2^S^^^^1^^1
"KRN",8994,3685,1,0)
^^1^1^3140325^
"KRN",8994,3685,1,1,0)
Returns the available slots for a clinic.
"KRN",8994,3685,2,0)
^8994.02A^1^1
"KRN",8994,3685,2,1,0)
CLINIC^1^200^1^1
"KRN",8994,3685,2,1,1,0)
^^1^1^3140325^
"KRN",8994,3685,2,1,1,1,0)
The Clinic ID/IEN from the Hospital Location file (#44) for the Clinic.
"KRN",8994,3685,2,"B","CLINIC",1)

"KRN",8994,3685,2,"PARAMSEQ",1,1)

"KRN",8994,3685,3,0)
^^1^1^3140325^
"KRN",8994,3685,3,1,0)
Returns an array with the Clinics Appointment Schedule.
"KRN",8994,3686,-1)
0^14
"KRN",8994,3686,0)
MBAA VERIFY CLINIC ACCESS^CLNRGHT^MBAAMRP1^2^S^^^^1^^1
"KRN",8994,3686,1,0)
^8994.01^1^1^3140325^^
"KRN",8994,3686,1,1,0)
Checks to see if the logon user has access to a clinic.
"KRN",8994,3686,2,0)
^8994.02A^1^1
"KRN",8994,3686,2,1,0)
CLN^1^200^1^1
"KRN",8994,3686,2,1,1,0)
^8994.021^1^1^3140325^^^
"KRN",8994,3686,2,1,1,1,0)
CLINIC IFN
"KRN",8994,3686,2,"B","CLN",1)

"KRN",8994,3686,2,"PARAMSEQ",1,1)

"KRN",8994,3686,3,0)
^^2^2^3140325^
"KRN",8994,3686,3,1,0)
Returns NULL if the user has access, otherwise returns 1 if the user 
"KRN",8994,3686,3,2,0)
doesn't have access to the clinic.
"KRN",8994,3687,-1)
0^10
"KRN",8994,3687,0)
MBAA LIST CANCELLATION REASONS^LSTCRSNS^MBAAMRP1^2^S^^^^1^^1
"KRN",8994,3687,1,0)
^8994.01^2^2^3140623^^
"KRN",8994,3687,1,1,0)
Returns the list of cancellation reasons from the CANCELLATION REASONS 
"KRN",8994,3687,1,2,0)
file ($409.2).
"KRN",8994,3687,2,0)
^8994.02A^3^3
"KRN",8994,3687,2,1,0)
SEARCH^1^200^0^1
"KRN",8994,3687,2,1,1,0)
^^8^8^3140623^
"KRN",8994,3687,2,1,1,1,0)
Partial match restriction. For example, a Search value of "AB" would 
"KRN",8994,3687,2,1,1,2,0)
restrict the list to just those entries that start with the letters "AB".
"KRN",8994,3687,2,1,1,3,0)
 
"KRN",8994,3687,2,1,1,4,0)
This parameter is required UNLESS the NUMBER parameter is provided. If 
"KRN",8994,3687,2,1,1,5,0)
the NUMBER parameter is > 0, this parameter is not required. 
"KRN",8994,3687,2,1,1,6,0)
 
"KRN",8994,3687,2,1,1,7,0)
If the user wants to list all Cancellation Reasons, let the Search 
"KRN",8994,3687,2,1,1,8,0)
parameter null and set the Number parameter to high value.
"KRN",8994,3687,2,2,0)
START^1^200^0^2
"KRN",8994,3687,2,2,1,0)
^^2^2^3140623^
"KRN",8994,3687,2,2,1,1,0)
The entry point to start searching from. If this value is set to "M", the 
"KRN",8994,3687,2,2,1,2,0)
search would start with any entries starting with the letter "M".
"KRN",8994,3687,2,3,0)
NUMBER^1^200^1^3
"KRN",8994,3687,2,3,1,0)
^8994.021^2^2^3140623^^
"KRN",8994,3687,2,3,1,1,0)
The maximum number of records to return. If this parameter is null, then 
"KRN",8994,3687,2,3,1,2,0)
the SEARCH parameter must be defined. 
"KRN",8994,3687,2,"B","NUMBER",3)

"KRN",8994,3687,2,"B","SEARCH",1)

"KRN",8994,3687,2,"B","START",2)

"KRN",8994,3687,2,"PARAMSEQ",1,1)

"KRN",8994,3687,2,"PARAMSEQ",2,2)

"KRN",8994,3687,2,"PARAMSEQ",3,3)

"KRN",8994,3687,3,0)
^8994.03^8^8^3140623^^^^
"KRN",8994,3687,3,1,0)
Returns an array where each node of the array has the IEN of the 
"KRN",8994,3687,3,2,0)
cancellation reason in CANCELLATION REASON file (#409.2) and the free 
"KRN",8994,3687,3,3,0)
text name for the cancellation reason separated by the carat "^".
"KRN",8994,3687,3,4,0)
 
"KRN",8994,3687,3,5,0)
Example:
"KRN",8994,3687,3,6,0)
ARRAY(1)=1^WEATHER
"KRN",8994,3687,3,7,0)
ARRAY(2)=2^INPATIENT STATUS
"KRN",8994,3687,3,8,0)
ARRAY(3)=3^PATIENT DEATH
"KRN",8994,3688,-1)
0^5
"KRN",8994,3688,0)
MBAA APPOINTMENT MAKE^MAKE^MBAAMRP2^2^S^^^^1^^1
"KRN",8994,3688,2,0)
^8994.02A^16^16
"KRN",8994,3688,2,1,0)
DFN^1^200^1^1
"KRN",8994,3688,2,2,0)
CLINIC^1^200^1^2
"KRN",8994,3688,2,2,1,0)
^^1^1^3120718^
"KRN",8994,3688,2,2,1,1,0)
CLINIC IEN
"KRN",8994,3688,2,3,0)
APPDATE^1^200^1^3
"KRN",8994,3688,2,3,1,0)
^^1^1^3120718^
"KRN",8994,3688,2,3,1,1,0)
Appointment Date
"KRN",8994,3688,2,4,0)
TYPE^1^200^1^4
"KRN",8994,3688,2,4,1,0)
^8994.021^1^1^3150217^^
"KRN",8994,3688,2,4,1,1,0)
PURPOSE OF VISIT
"KRN",8994,3688,2,5,0)
LEN^1^200^1^5
"KRN",8994,3688,2,5,1,0)
^^1^1^3120718^
"KRN",8994,3688,2,5,1,1,0)
APPOINTMENT LENGTH
"KRN",8994,3688,2,6,0)
LVL^1^10^0^15
"KRN",8994,3688,2,6,1,0)
^^4^4^3150217^
"KRN",8994,3688,2,6,1,1,0)
Flag that determines if an appointment can be made for a patient that 
"KRN",8994,3688,2,6,1,2,0)
already has an appointment scheduled for the same day as the current 
"KRN",8994,3688,2,6,1,3,0)
appointment request. Setting this parameter to 1 allows multiple 
"KRN",8994,3688,2,6,1,4,0)
appointments for the patient on the same day.
"KRN",8994,3688,2,7,0)
DESDT^1^200^0^16
"KRN",8994,3688,2,7,1,0)
^8994.021^1^1^3150217^^^
"KRN",8994,3688,2,7,1,1,0)
This is the patient's desired date/time for an appointment.
"KRN",8994,3688,2,8,0)
STYP^1^999^0^5
"KRN",8994,3688,2,8,1,0)
^^2^2^3150217^
"KRN",8994,3688,2,8,1,1,0)
This is the appointment type sub-category. It is a pointer to the Sharing 
"KRN",8994,3688,2,8,1,2,0)
Agreement Sub-Category file (#35.2).
"KRN",8994,3688,2,9,0)
SRT^1^999^0^7
"KRN",8994,3688,2,9,1,0)
^^8^8^3150217^
"KRN",8994,3688,2,9,1,1,0)
This is the Scheduling Request Type. This is a set of codes:
"KRN",8994,3688,2,9,1,2,0)
N = Next Available Appt
"KRN",8994,3688,2,9,1,3,0)
C = Other than Next Available (Clinician Requested)
"KRN",8994,3688,2,9,1,4,0)
P = Other than Next Available (Patient Requested)
"KRN",8994,3688,2,9,1,5,0)
W = Walkin Appointment
"KRN",8994,3688,2,9,1,6,0)
M = Multiple Appointment Booking
"KRN",8994,3688,2,9,1,7,0)
A = Auto Rebook
"KRN",8994,3688,2,9,1,8,0)
O = Other than Next Available Appointment
"KRN",8994,3688,2,10,0)
OTHR^1^150^0^8
"KRN",8994,3688,2,10,1,0)
^8994.021^2^2^3150217^^
"KRN",8994,3688,2,10,1,1,0)
This is a free text field with a maximum of 150 characters. This is also 
"KRN",8994,3688,2,10,1,2,0)
known as the Booking Notes on the expanded view of the appointment.
"KRN",8994,3688,2,11,0)
CIO^1^200^0^9
"KRN",8994,3688,2,11,1,0)
^^1^1^3150217^
"KRN",8994,3688,2,11,1,1,0)
Code for Check In. Value can be null or CI.
"KRN",8994,3688,2,12,0)
LAB^1^200^0^10
"KRN",8994,3688,2,12,1,0)
^^2^2^3150217^
"KRN",8994,3688,2,12,1,1,0)
If the patient needs to have labs before the appointment, this field is 
"KRN",8994,3688,2,12,1,2,0)
set to the labl appointment date/time.
"KRN",8994,3688,2,13,0)
XRAY^1^200^0^11
"KRN",8994,3688,2,13,1,0)
^^2^2^3150217^
"KRN",8994,3688,2,13,1,1,0)
If the patient needs X-Rays before the appointment, this will be the 
"KRN",8994,3688,2,13,1,2,0)
date/time for the X-Ray appointment.
"KRN",8994,3688,2,14,0)
EKG^1^200^0^12
"KRN",8994,3688,2,14,1,0)
^^2^2^3150217^
"KRN",8994,3688,2,14,1,1,0)
If the patient needs to have an EKG before  the appointment, this will be 
"KRN",8994,3688,2,14,1,2,0)
the appointment date/time for the EKG.
"KRN",8994,3688,2,15,0)
RQXRAY^1^200^0^13
"KRN",8994,3688,2,15,1,0)
^^3^3^3150217^
"KRN",8994,3688,2,15,1,1,0)
If the provider is requesting prior X-Rays be sent to the clinic prior to 
"KRN",8994,3688,2,15,1,2,0)
the appointment, this will be set to Y for Yes. Otherwise, it will be 
"KRN",8994,3688,2,15,1,3,0)
null.
"KRN",8994,3688,2,16,0)
CON^1^200^0^14
"KRN",8994,3688,2,16,1,0)
^8994.021^2^2^3180515^^
"KRN",8994,3688,2,16,1,1,0)
If the appointment is being made in response to a consult request, this 
"KRN",8994,3688,2,16,1,2,0)
parameter is set to the internal entry number for the consult request.
"KRN",8994,3688,2,"B","APPDATE",3)

"KRN",8994,3688,2,"B","CIO",11)

"KRN",8994,3688,2,"B","CLINIC",2)

"KRN",8994,3688,2,"B","CON",16)

"KRN",8994,3688,2,"B","DESDT",7)

"KRN",8994,3688,2,"B","DESIRED DATE OF APPT",7)

"KRN",8994,3688,2,"B","DFN",1)

"KRN",8994,3688,2,"B","EKG",14)

"KRN",8994,3688,2,"B","LAB",12)

"KRN",8994,3688,2,"B","LEN",5)

"KRN",8994,3688,2,"B","LVL",6)

"KRN",8994,3688,2,"B","OTHR",10)

"KRN",8994,3688,2,"B","RQXRAY",15)

"KRN",8994,3688,2,"B","SRT",9)

"KRN",8994,3688,2,"B","STYP",8)

"KRN",8994,3688,2,"B","TYPE",4)

"KRN",8994,3688,2,"B","XRAY",13)

"KRN",8994,3688,2,"PARAMSEQ",1,1)

"KRN",8994,3688,2,"PARAMSEQ",2,2)

"KRN",8994,3688,2,"PARAMSEQ",3,3)

"KRN",8994,3688,2,"PARAMSEQ",4,4)

"KRN",8994,3688,2,"PARAMSEQ",5,5)

"KRN",8994,3688,2,"PARAMSEQ",5,8)

"KRN",8994,3688,2,"PARAMSEQ",6,6)

"KRN",8994,3688,2,"PARAMSEQ",7,7)

"KRN",8994,3688,2,"PARAMSEQ",7,9)

"KRN",8994,3688,2,"PARAMSEQ",8,10)

"KRN",8994,3688,2,"PARAMSEQ",9,11)

"KRN",8994,3688,2,"PARAMSEQ",10,12)

"KRN",8994,3688,2,"PARAMSEQ",11,13)

"KRN",8994,3688,2,"PARAMSEQ",12,14)

"KRN",8994,3688,2,"PARAMSEQ",13,15)

"KRN",8994,3688,2,"PARAMSEQ",14,16)

"KRN",8994,3688,2,"PARAMSEQ",15,6)

"KRN",8994,3688,2,"PARAMSEQ",16,7)

"KRN",8994,3689,-1)
0^15
"KRN",8994,3689,0)
MBAA WAIT LIST BY DFN^EWL^MBAARPCL^2^S^^^^^^1
"KRN",8994,3689,1,0)
^8994.01^1^1^3180618^^^
"KRN",8994,3689,1,1,0)
Returns the EWL for a patient.
"KRN",8994,3689,2,0)
^8994.02A^1^1
"KRN",8994,3689,2,1,0)
DFN^1^32000^1^1
"KRN",8994,3689,2,1,1,0)
^8994.021^1^1^3180618^^^
"KRN",8994,3689,2,1,1,1,0)
Patient's DFN
"KRN",8994,3689,2,"B","DFN",1)

"KRN",8994,3689,2,"PARAMSEQ",1,1)

"KRN",8994,3689,3,0)
^8994.03^1^1^3180618^^^
"KRN",8994,3689,3,1,0)
Array of EWL data for the patient
"KRN",8994,3690,-1)
0^7
"KRN",8994,3690,0)
MBAA FACILITY WAIT LIST^FACEWL^MBAARPCL^2^S^^^^^^1
"KRN",8994,3690,1,0)
^8994.01^3^3^3180618^^^
"KRN",8994,3690,1,1,0)
This RPC will return the full Facility Electronic Wait List.
"KRN",8994,3690,1,2,0)
 
"KRN",8994,3690,1,3,0)
No input parameters are needed. 
"KRN",8994,3690,3,0)
^8994.03^8^8^3180618^^^
"KRN",8994,3690,3,1,0)
 Outputs if successful - patient is on the EWL:
"KRN",8994,3690,3,2,0)
 Results(0)=DFN^DSS STOP CODE^LAST UPDATED^PATIENT LAST NAME^PATIENT 
"KRN",8994,3690,3,3,0)
SSN^CLINIC NAME^ORIGINATING DATE^DESIRED DATE OF APPOINTMENT^DAYS ON 
"KRN",8994,3690,3,4,0)
EWL^DATE REMOVED FROM EWL^PATIENT ZIP CODE^SERVICE CONNECTED 
"KRN",8994,3690,3,5,0)
PERCENT^ENROLLEE STATUS^PRIORITY
"KRN",8994,3690,3,6,0)
 
"KRN",8994,3690,3,7,0)
If no patients are not on the EWL, returns
"KRN",8994,3690,3,8,0)
RESULTS(0)="1^EWL is empty."
"KRN",8994,3691,-1)
0^11
"KRN",8994,3691,0)
MBAA PATIENT PENDING APPT^GETPEND^MBAARPC1^2^S^^^^^^1
"KRN",8994,3691,1,0)
^8994.01^1^1^3180618^^
"KRN",8994,3691,1,1,0)
this RPC will return data about pending appointments for a patient.
"KRN",8994,3691,2,0)
^8994.02A^2^2
"KRN",8994,3691,2,1,0)
DFN^1^^1^1
"KRN",8994,3691,2,1,1,0)
^^1^1^3130828^
"KRN",8994,3691,2,1,1,1,0)
The patient DFN.
"KRN",8994,3691,2,2,0)
DATE^1^^1^2
"KRN",8994,3691,2,2,1,0)
^8994.021^1^1^3180618^^
"KRN",8994,3691,2,2,1,1,0)
The starting date in FileMan format to begin the search for appointments.
"KRN",8994,3691,2,"B","DATE",2)

"KRN",8994,3691,2,"B","DFN",1)

"KRN",8994,3691,2,"PARAMSEQ",1,1)

"KRN",8994,3691,2,"PARAMSEQ",2,2)

"KRN",8994,3691,3,0)
^8994.03^13^13^3180618^^
"KRN",8994,3691,3,1,0)
Returns an array with the following subscripts:
"KRN",8994,3691,3,2,0)
 
"KRN",8994,3691,3,3,0)
RETURN(CNT,"COLLATERAL VISIT")
"KRN",8994,3691,3,4,0)
RETURN(CNT,"APPOINTMENT TYPE")
"KRN",8994,3691,3,5,0)
RETURN(CNT,"LAB")
"KRN",8994,3691,3,6,0)
RETURN(CNT,"XRAY")
"KRN",8994,3691,3,7,0)
RETURN(CNT,"EKG")
"KRN",8994,3691,3,8,0)
RETURN(CNT,"CLINIC")
"KRN",8994,3691,3,9,0)
RETURN(CNT,"LENGTH OF APP'T")
"KRN",8994,3691,3,10,0)
RETURN(CNT,"CONSULT LINK")
"KRN",8994,3691,3,11,0)
RETURN(CNT,"OTHER")
"KRN",8994,3691,3,12,0)
 
"KRN",8994,3691,3,13,0)
CNT is the date/time of the appointment. 
"KRN",8994,3692,-1)
0^6
"KRN",8994,3692,0)
MBAA CANCEL APPOINTMENT^CANCEL^MBAARPC2^1^S^^^^^^1
"KRN",8994,3692,1,0)
^8994.01^1^1^3130924^
"KRN",8994,3692,1,1,0)
Allows cancel of an appointment
"KRN",8994,3692,2,0)
^8994.02A^6^6
"KRN",8994,3692,2,1,0)
DFN^1^200^1^1
"KRN",8994,3692,2,1,1,0)
^^1^1^3130924^
"KRN",8994,3692,2,1,1,1,0)
Patient DFN
"KRN",8994,3692,2,2,0)
CLINC^1^200^1^2
"KRN",8994,3692,2,2,1,0)
^^1^1^3130924^
"KRN",8994,3692,2,2,1,1,0)
IEN for the clinic in the Hospital Location (#44) file.
"KRN",8994,3692,2,3,0)
DATE^1^200^1^3
"KRN",8994,3692,2,3,1,0)
^^1^1^3130924^
"KRN",8994,3692,2,3,1,1,0)
The date and time of the appointment to be canceled. 
"KRN",8994,3692,2,4,0)
TYPE^1^200^1^4
"KRN",8994,3692,2,5,0)
REASON^1^200^1^5
"KRN",8994,3692,2,5,1,0)
^^1^1^3130924^
"KRN",8994,3692,2,5,1,1,0)
The cancel reason from the Cancel Reason file.
"KRN",8994,3692,2,6,0)
REMARKS^1^200^0^6
"KRN",8994,3692,2,6,1,0)
^^1^1^3130924^
"KRN",8994,3692,2,6,1,1,0)
And free text comments or remarks.
"KRN",8994,3692,2,"B","CLINC",2)

"KRN",8994,3692,2,"B","DATE",3)

"KRN",8994,3692,2,"B","DFN",1)

"KRN",8994,3692,2,"B","REASON",5)

"KRN",8994,3692,2,"B","REMARKS",6)

"KRN",8994,3692,2,"B","TYPE",4)

"KRN",8994,3692,2,"PARAMSEQ",1,1)

"KRN",8994,3692,2,"PARAMSEQ",2,2)

"KRN",8994,3692,2,"PARAMSEQ",3,3)

"KRN",8994,3692,2,"PARAMSEQ",4,4)

"KRN",8994,3692,2,"PARAMSEQ",5,5)

"KRN",8994,3692,2,"PARAMSEQ",6,6)

"KRN",8994,3692,3,0)
^^4^4^3130924^
"KRN",8994,3692,3,1,0)
Returns an array where 
"KRN",8994,3692,3,2,0)
 
"KRN",8994,3692,3,3,0)
RETURN(0)="0^Failure Reason"
"KRN",8994,3692,3,4,0)
RETURN(0)=1 for success.
"KRN",8994,3693,-1)
0^13
"KRN",8994,3693,0)
MBAA REMOVE FROM EWL^UPDTEWL^MBAARPC1^2^S^^^^^^1
"KRN",8994,3693,1,0)
^8994.01^1^1^3131009^^^^
"KRN",8994,3693,1,1,0)
This RPC removes a patient from the EWL.
"KRN",8994,3693,2,0)
^8994.02A^4^4
"KRN",8994,3693,2,1,0)
DFN^1^200^1^1
"KRN",8994,3693,2,1,1,0)
^^1^1^3131008^
"KRN",8994,3693,2,1,1,1,0)
Patient DFN.
"KRN",8994,3693,2,2,0)
SDWLIEN^1^200^1^2
"KRN",8994,3693,2,2,1,0)
^8994.021^1^1^3131008^^^
"KRN",8994,3693,2,2,1,1,0)
The IEN for the record in SD WAIT LIST File (#409.3).
"KRN",8994,3693,2,3,0)
SDWLDATA^2^240^0^4
"KRN",8994,3693,2,3,1,0)
^^18^18^3131009^
"KRN",8994,3693,2,3,1,1,0)
List of data elements:
"KRN",8994,3693,2,3,1,2,0)
 SDWLDATA(1)=SCHEDULED DATE OF APPT
"KRN",8994,3693,2,3,1,3,0)
 SDWLDATA(2)=PTR TO APPT CLINIC (CLINIC WHERE APPT MADE)
"KRN",8994,3693,2,3,1,4,0)
 SDWLDATA(15)=APPOINTMENT INSTITUTION (PTR to Institution File.)
"KRN",8994,3693,2,3,1,5,0)
 SDWLDATA(13)=APPT STOP CODE (PTR to file 40.7)
"KRN",8994,3693,2,3,1,6,0)
 SDWLDATA(14)=APPT CREDIT STOP CODE (PTR to file 40.7)
"KRN",8994,3693,2,3,1,7,0)
 SDWLDATA(16)=APPT STATION NUMBER (Free Text) MUST BE AN IEN FROM DIC(4
"KRN",8994,3693,2,3,1,8,0)
    but is not a ptr field)
"KRN",8994,3693,2,3,1,9,0)
 SDWLDATA(3)=APPT STATUS (Set of codes: 
"KRN",8994,3693,2,3,1,10,0)
     'R' FOR Scheduled/Kept 
"KRN",8994,3693,2,3,1,11,0)
     'I' FOR Inpatient
"KRN",8994,3693,2,3,1,12,0)
     'NS' FOR No-Show
"KRN",8994,3693,2,3,1,13,0)
     'NSR' FOR No_Show, Rescheduled 
"KRN",8994,3693,2,3,1,14,0)
     'CP' FOR Canceled by Patient 
"KRN",8994,3693,2,3,1,15,0)
     'CPR' FOR Canceled by Patient, Rescheduled
"KRN",8994,3693,2,3,1,16,0)
     'CC' FOR Canceled by Clinic; 
"KRN",8994,3693,2,3,1,17,0)
     'CCR' FOR Canceled by Clinic, Rescheduled
"KRN",8994,3693,2,3,1,18,0)
     'NT' FOR No Action Taken )
"KRN",8994,3693,2,4,0)
SDWLDISP^1^200^1^3
"KRN",8994,3693,2,4,1,0)
^^9^9^3131009^
"KRN",8994,3693,2,4,1,1,0)
The disposition of the entry.
"KRN",8994,3693,2,4,1,2,0)
 
"KRN",8994,3693,2,4,1,3,0)
D:DEATH
"KRN",8994,3693,2,4,1,4,0)
NC:REMOVED/NON-VA CARE
"KRN",8994,3693,2,4,1,5,0)
SA:REMOVED/SCHEDULED-ASSIGNED
"KRN",8994,3693,2,4,1,6,0)
CC:REMOVED/VA CONTRACT CARE 
"KRN",8994,3693,2,4,1,7,0)
NN:REMOVED/NO LONGER NECESSARY
"KRN",8994,3693,2,4,1,8,0)
ER:ENTERED IN ERROR
"KRN",8994,3693,2,4,1,9,0)
CL:CLINIC CHANGE
"KRN",8994,3693,2,"B","DFN",1)

"KRN",8994,3693,2,"B","SDWLDATA",3)

"KRN",8994,3693,2,"B","SDWLDISP",4)

"KRN",8994,3693,2,"B","SDWLIEN",2)

"KRN",8994,3693,2,"PARAMSEQ",1,1)

"KRN",8994,3693,2,"PARAMSEQ",2,2)

"KRN",8994,3693,2,"PARAMSEQ",3,4)

"KRN",8994,3693,2,"PARAMSEQ",4,3)

"KRN",8994,3693,3,0)
^^7^7^3131009^
"KRN",8994,3693,3,1,0)
Returns:
"KRN",8994,3693,3,2,0)
 
"KRN",8994,3693,3,3,0)
RESULTS(0)=1 - Successful
"KRN",8994,3693,3,4,0)
RESULTS(0)="0^DFN is required"
"KRN",8994,3693,3,5,0)
RESULTS(0)="0^SDWLIEN is required"
"KRN",8994,3693,3,6,0)
RESULTS(0)="0^Patient not on EWL"
"KRN",8994,3693,3,7,0)
RESULTS(0)="0^Dispostion is missing."
"KRN",8994,3694,-1)
0^12
"KRN",8994,3694,0)
MBAA PROVIDERS BY CLINIC^GETPROV^MBAARPC3^2^S^^^^^^1
"KRN",8994,3694,1,0)
^^4^4^3140820^
"KRN",8994,3694,1,1,0)
This RPC takes input of the clinic id, IEN from the Hospital Location 
"KRN",8994,3694,1,2,0)
file (#44), and returns the list of providers assigned to that clinic. 
"KRN",8994,3694,1,3,0)
The return data is the provider name and IEN for the provider from the 
"KRN",8994,3694,1,4,0)
New Person file (#200).
"KRN",8994,3694,2,0)
^8994.02A^1^1
"KRN",8994,3694,2,1,0)
CLINIC ID^1^200^1^1
"KRN",8994,3694,2,1,1,0)
^^1^1^3140820^
"KRN",8994,3694,2,1,1,1,0)
The IEN for the Clinic in the Hospital Location File (#44).
"KRN",8994,3694,2,"B","CLINIC ID",1)

"KRN",8994,3694,2,"PARAMSEQ",1,1)

"KRN",8994,3694,3,0)
^^3^3^3140820^
"KRN",8994,3694,3,1,0)
Returns an array where each node has the provider IEN from the New Person 
"KRN",8994,3694,3,2,0)
file (#200) and the provider name. Data elements are separated by the 
"KRN",8994,3694,3,3,0)
carat (^) character.
"KRN",8994,3709,-1)
0^3
"KRN",8994,3709,0)
VIABDX SAVE^SAVE^VIABDX^2^R^^^^^^1
"KRN",8994,3709,1,0)
^8994.01^9^9^3180618^^^^
"KRN",8994,3709,1,1,0)
Save the order by passing in the following information:
"KRN",8994,3709,1,2,0)
         ORVP=DFN
"KRN",8994,3709,1,3,0)
         ORNP=Provider
"KRN",8994,3709,1,4,0)
         ORL=Location
"KRN",8994,3709,1,5,0)
         DLG=Order Dialog,
"KRN",8994,3709,1,6,0)
         ORDG=Display Group
"KRN",8994,3709,1,7,0)
         ORIT=Quick Order Dialog,
"KRN",8994,3709,1,8,0)
         ORIFN=null if new order
"KRN",8994,3709,1,9,0)
         ORDIALOG=Response List
"KRN",8994,3722,-1)
0^2
"KRN",8994,3722,0)
VIAB MEDHIST^MEDHIST^VIABRPC7^4^R^^^1^^^1
"KRN",8994,3722,2,0)
^8994.02A^2^2
"KRN",8994,3722,2,1,0)
DFN^1^^^1
"KRN",8994,3722,2,1,1,0)
^^1^1^3160809^
"KRN",8994,3722,2,1,1,1,0)
DFN - IEN of the PATIENT File #2.
"KRN",8994,3722,2,2,0)
VIAIFN^1^^^2
"KRN",8994,3722,2,2,1,0)
^8994.021^1^1^3180618^^^^
"KRN",8994,3722,2,2,1,1,0)
VIAIFN - IEN of ORDER File #100.
"KRN",8994,3722,2,"B","DFN",1)

"KRN",8994,3722,2,"B","VIAIFN",2)

"KRN",8994,3722,2,"PARAMSEQ",1,1)

"KRN",8994,3722,2,"PARAMSEQ",2,2)

"KRN",8994,3722,3,0)
^8994.03^1^1^3180618^^^^
"KRN",8994,3722,3,1,0)
Returns Medication Administration History.
"KRN",8994,3728,-1)
0^1
"KRN",8994,3728,0)
VIABPCE SAVE^SAVE^VIABRPC^1^S^^^^^^1
"KRN",8994,3728,1,0)
^8994.01^61^61^3180215^^^
"KRN",8994,3728,1,1,0)
Saves PCE information and the following values must be passed in:
"KRN",8994,3728,1,2,0)
 
"KRN",8994,3728,1,3,0)
 PCELIST (n)= HDR ^ Encounter Inpatient? ^ Note has CPT codes? ^ Visit 
"KRN",8994,3728,1,4,0)
              string [Encounter location; Encounter date/time; Encounter
"KRN",8994,3728,1,5,0)
              Service category]  (REQUIRED)
"KRN",8994,3728,1,6,0)
         (n)=VST^DT^Encounter date/time
"KRN",8994,3728,1,7,0)
         (n)=VST^PT^Encounter patient (DFN) (n)=VST^HL^Encounter location
"KRN",8994,3728,1,8,0)
         (n)=VST^VC^ Encounter Service Category
"KRN",8994,3728,1,9,0)
  
"KRN",8994,3728,1,10,0)
         If  applicable:
"KRN",8994,3728,1,11,0)
               
"KRN",8994,3728,1,12,0)
         (n)=VST^PR^ Parent for secondary visit
"KRN",8994,3728,1,13,0)
         (n)=VST^OL^ Outside Location for Historical visits
"KRN",8994,3728,1,14,0)
         (n)=VST^SC^ Service Connected related?
"KRN",8994,3728,1,15,0)
         (n)=VST^AO^ Agent Orange related?
"KRN",8994,3728,1,16,0)
         (n)=VST^IR^ Ionizing Radiation related?
"KRN",8994,3728,1,17,0)
         (n)=VST^EC^ Environmental Contaminates related?
"KRN",8994,3728,1,18,0)
         (n)=VST^MST^ Military Sexual Trauma related?
"KRN",8994,3728,1,19,0)
         (n)=VST^HNC^ Head and/or Neck Cancer related?
"KRN",8994,3728,1,20,0)
         (n)=VST^CV^ Combat Vet related?
"KRN",8994,3728,1,21,0)
         (n)=VST^SHD^ Shipboard Hazard and Defense related?
"KRN",8994,3728,1,22,0)
         (n)=PRV(+:  add, -: delete) ^ Provider IEN ^^^ Provider Name ^
"KRN",8994,3728,1,23,0)
             Primary Provider?
"KRN",8994,3728,1,24,0)
         (n)=POV(+:  add, -: delete) ^ ICD diagnosis code ^ Category  ^ 
"KRN",8994,3728,1,25,0)
             Narrative (Diagnosis description) ^ Primary Diagnosis? ^
"KRN",8994,3728,1,26,0)
             Provider String ^ Add to Problem List? ^^^ Next comment
"KRN",8994,3728,1,27,0)
             sequence # if saving comments
"KRN",8994,3728,1,28,0)
         (n)=COM^COM (Comments) ^ Next comment sequence # ^ @ = no 
"KRN",8994,3728,1,29,0)
             comments added
"KRN",8994,3728,1,30,0)
         (n)=CPT (+:  add, -: delete) ^ Procedural  CPT code ^ Category ^ 
"KRN",8994,3728,1,31,0)
             Narrative (Procedure description) ^ Quantity ^ Provider IEN
"KRN",8994,3728,1,32,0)
             ^^^ [# of modifiers;  Modifier code/Modifier IEN ^ Next
"KRN",8994,3728,1,33,0)
             comment sequence # ^
"KRN",8994,3728,1,34,0)
         (n)=IMM (+:  add, -: delete) ^ Immunization IEN ^ Category ^ 
"KRN",8994,3728,1,35,0)
             Narrative (Immunization description/name) ^ Series ^
"KRN",8994,3728,1,36,0)
             Encounter Provider ^ Reaction ^ Contraindicated? ^ ^
"KRN",8994,3728,1,37,0)
             Next comment sequence # ^ CVX Code ^ Event Info Source HL7 
"KRN",8994,3728,1,38,0)
             Code;IEN ^ Dose;Units;Units IEN ^ Route Name;HL7 Code;IEN ^
"KRN",8994,3728,1,39,0)
             Admin Site Name;HL7 Code;IEN ^ Lot#;IEN ^ Manufacturer ^
"KRN",8994,3728,1,40,0)
             Expiration Date ^ Event Date and Time ^ Ordering Provider ^
"KRN",8994,3728,1,41,0)
             VIS IEN/VIS Date; VIS IEN n/VIS Date n ^ Remarks Start Seq
"KRN",8994,3728,1,42,0)
             #;Remarks End Seq # ^ Warning Ack ^ Override Reason (Seq #)
"KRN",8994,3728,1,43,0)
         (n)=SK (+:  add, -: delete) ^ Skin Test IEN ^ Category ^ 
"KRN",8994,3728,1,44,0)
             Narrative (Skin Test description/name) ^ Results ^Enc 
"KRN",8994,3728,1,45,0)
             Provider ^ Reading ^ D/T Read ^ Event D/T ^ Next comment
"KRN",8994,3728,1,46,0)
             sequence # ^ Reader ^ Ordering Provider ^ Anatomic Location
"KRN",8994,3728,1,47,0)
             of Placement;HL7 Code;IEN ^ Reading Comment (Seq #)
"KRN",8994,3728,1,48,0)
         (n)=PED (+:  add, -: delete) ^ Patient Education IEN ^ Category 
"KRN",8994,3728,1,49,0)
             Narrative (Patient Education description/name) ^ Level of
"KRN",8994,3728,1,50,0)
             understanding ^^^^^ ^^ Next comment sequence #
"KRN",8994,3728,1,51,0)
         (n)=HF (+:  add, -: delete) ^ Health Factor IEN ^ Category ^ 
"KRN",8994,3728,1,52,0)
             Narrative (Health Factor description/name) ^ Level ^^^^^ Next
"KRN",8994,3728,1,53,0)
             comment sequence # ^ Get Reminder
"KRN",8994,3728,1,54,0)
         (n)=XAM(+:  add, -: delete) ^ Exam IEN ^ Category ^ Narrative 
"KRN",8994,3728,1,55,0)
             (Exam description/name) ^ Results ^^^^^ Next comment 
"KRN",8994,3728,1,56,0)
             sequence #
"KRN",8994,3728,1,57,0)
             #
"KRN",8994,3728,1,58,0)
         (n)=ICR (+:  add, -: delete) ^ Variable Pointer IMM
"KRN",8994,3728,1,59,0)
             Contraindication Reasons/IMM Refusal Reasons ^ Category ^
"KRN",8994,3728,1,60,0)
             Narrative ^ Immunization IEN ^ Warn Until Date ^ Event
"KRN",8994,3728,1,61,0)
             Date/Time ^ Enc Provider IEN ^ ^ Next comment sequence #
"KRN",8994,3728,2,0)
^8994.02A^4^4
"KRN",8994,3728,2,1,0)
OKAY^1^40^1^1
"KRN",8994,3728,2,2,0)
PCELIST^2^255^1^2
"KRN",8994,3728,2,2,1,0)
^^60^60^3180215^
"KRN",8994,3728,2,2,1,1,0)
 PCELIST (n)= HDR ^ Encounter Inpatient? ^ Note has CPT codes? ^ Visit 
"KRN",8994,3728,2,2,1,2,0)
              string [Encounter location; Encounter date/time; Encounter
"KRN",8994,3728,2,2,1,3,0)
              Service category]  (REQUIRED)
"KRN",8994,3728,2,2,1,4,0)
         (n)=VST^DT^Encounter date/time
"KRN",8994,3728,2,2,1,5,0)
         (n)=VST^PT^Encounter patient (DFN) (n)=VST^HL^Encounter location
"KRN",8994,3728,2,2,1,6,0)
         (n)=VST^VC^ Encounter Service Category
"KRN",8994,3728,2,2,1,7,0)
  
"KRN",8994,3728,2,2,1,8,0)
         If  applicable:
"KRN",8994,3728,2,2,1,9,0)
               
"KRN",8994,3728,2,2,1,10,0)
         (n)=VST^PR^ Parent for secondary visit
"KRN",8994,3728,2,2,1,11,0)
         (n)=VST^OL^ Outside Location for Historical visits
"KRN",8994,3728,2,2,1,12,0)
         (n)=VST^SC^ Service Connected related?
"KRN",8994,3728,2,2,1,13,0)
         (n)=VST^AO^ Agent Orange related?
"KRN",8994,3728,2,2,1,14,0)
         (n)=VST^IR^ Ionizing Radiation related?
"KRN",8994,3728,2,2,1,15,0)
         (n)=VST^EC^ Environmental Contaminates related?
"KRN",8994,3728,2,2,1,16,0)
         (n)=VST^MST^ Military Sexual Trauma related?
"KRN",8994,3728,2,2,1,17,0)
         (n)=VST^HNC^ Head and/or Neck Cancer related?
"KRN",8994,3728,2,2,1,18,0)
         (n)=VST^CV^ Combat Vet related?
"KRN",8994,3728,2,2,1,19,0)
         (n)=VST^SHD^ Shipboard Hazard and Defense related?
"KRN",8994,3728,2,2,1,20,0)
         (n)=PRV(+:  add, -: delete) ^ Provider IEN ^^^ Provider Name ^
"KRN",8994,3728,2,2,1,21,0)
             Primary Provider?
"KRN",8994,3728,2,2,1,22,0)
         (n)=POV(+:  add, -: delete) ^ ICD diagnosis code ^ Category  ^ 
"KRN",8994,3728,2,2,1,23,0)
             Narrative (Diagnosis description) ^ Primary Diagnosis? ^
"KRN",8994,3728,2,2,1,24,0)
             Provider String ^ Add to Problem List? ^^^ Next comment
"KRN",8994,3728,2,2,1,25,0)
             sequence # if saving comments
"KRN",8994,3728,2,2,1,26,0)
         (n)=COM^COM (Comments) ^ Next comment sequence # ^ @ = no 
"KRN",8994,3728,2,2,1,27,0)
             comments added
"KRN",8994,3728,2,2,1,28,0)
         (n)=CPT (+:  add, -: delete) ^ Procedural  CPT code ^ Category ^ 
"KRN",8994,3728,2,2,1,29,0)
             Narrative (Procedure description) ^ Quantity ^ Provider IEN
"KRN",8994,3728,2,2,1,30,0)
             ^^^ [# of modifiers;  Modifier code/Modifier IEN ^ Next
"KRN",8994,3728,2,2,1,31,0)
             comment sequence # ^
"KRN",8994,3728,2,2,1,32,0)
         (n)=IMM (+:  add, -: delete) ^ Immunization IEN ^ Category ^ 
"KRN",8994,3728,2,2,1,33,0)
             Narrative (Immunization description/name) ^ Series ^
"KRN",8994,3728,2,2,1,34,0)
             Encounter Provider ^ Reaction ^ Contraindicated? ^ ^
"KRN",8994,3728,2,2,1,35,0)
             Next comment sequence # ^ CVX Code ^ Event Info Source HL7 
"KRN",8994,3728,2,2,1,36,0)
             Code;IEN ^ Dose;Units;Units IEN ^ Route Name;HL7 Code;IEN ^
"KRN",8994,3728,2,2,1,37,0)
             Admin Site Name;HL7 Code;IEN ^ Lot#;IEN ^ Manufacturer ^
"KRN",8994,3728,2,2,1,38,0)
             Expiration Date ^ Event Date and Time ^ Ordering Provider ^
"KRN",8994,3728,2,2,1,39,0)
             VIS IEN/VIS Date; VIS IEN n/VIS Date n ^ Remarks Start Seq
"KRN",8994,3728,2,2,1,40,0)
             #;Remarks End Seq # ^ Warning Ack ^ Override Reason (Seq #)
"KRN",8994,3728,2,2,1,41,0)
         (n)=SK (+:  add, -: delete) ^ Skin Test IEN ^ Category ^ 
"KRN",8994,3728,2,2,1,42,0)
             Narrative (Skin Test description/name) ^ Results ^
"KRN",8994,3728,2,2,1,43,0)
             Narrative (Skin Test description/name) ^ Results ^Enc 
"KRN",8994,3728,2,2,1,44,0)
             Provider ^ Reading ^ D/T Read ^ Event D/T ^ Next comment
"KRN",8994,3728,2,2,1,45,0)
             sequence # ^ Reader ^ Ordering Provider ^ Anatomic Location
"KRN",8994,3728,2,2,1,46,0)
             of Placement;HL7 Code;IEN ^ Reading Comment (Seq #)
"KRN",8994,3728,2,2,1,47,0)
         (n)=PED (+:  add, -: delete) ^ Patient Education IEN ^ Category 
"KRN",8994,3728,2,2,1,48,0)
             ^ Narrative (Patient Education description/name) ^ Level of
"KRN",8994,3728,2,2,1,49,0)
             understanding ^^^^^ ^^ Next comment sequence #
"KRN",8994,3728,2,2,1,50,0)
         (n)=HF (+:  add, -: delete) ^ Health Factor IEN ^ Category ^ 
"KRN",8994,3728,2,2,1,51,0)
             Narrative (Health Factor description/name) ^ Level ^^^^^ Next
"KRN",8994,3728,2,2,1,52,0)
             comment sequence # ^ Get Reminder
"KRN",8994,3728,2,2,1,53,0)
         (n)=XAM(+:  add, -: delete) ^ Exam IEN ^ Category ^ Narrative 
"KRN",8994,3728,2,2,1,54,0)
             (Exam description/name) ^ Results ^^^^^ Next comment 
"KRN",8994,3728,2,2,1,55,0)
             sequence #
"KRN",8994,3728,2,2,1,56,0)
             #
"KRN",8994,3728,2,2,1,57,0)
         (n)=ICR (+:  add, -: delete) ^ Variable Pointer IMM
"KRN",8994,3728,2,2,1,58,0)
             Contraindication Reasons/IMM Refusal Reasons ^ Category ^
"KRN",8994,3728,2,2,1,59,0)
             Narrative ^ Immunization IEN ^ Warn Until Date ^ Event
"KRN",8994,3728,2,2,1,60,0)
             Date/Time ^ Enc Provider IEN ^ ^ Next comment sequence #
"KRN",8994,3728,2,3,0)
NOTEIEN^1^20^1^3
"KRN",8994,3728,2,3,1,0)
^^1^1^3180215^
"KRN",8994,3728,2,3,1,1,0)
This is used to save secondary visit in TIU for inpatient only.
"KRN",8994,3728,2,4,0)
VIALOC^1^40^1^4
"KRN",8994,3728,2,4,1,0)
^^2^2^3180215^
"KRN",8994,3728,2,4,1,1,0)
This is the hospital location. This is not used when the information is 
"KRN",8994,3728,2,4,1,2,0)
 from an outside source.
"KRN",8994,3728,2,"B","NOTEIEN",3)

"KRN",8994,3728,2,"B","OKAY",1)

"KRN",8994,3728,2,"B","PCELIST",2)

"KRN",8994,3728,2,"B","VIALOC",4)

"KRN",8994,3728,2,"PARAMSEQ",1,1)

"KRN",8994,3728,2,"PARAMSEQ",2,2)

"KRN",8994,3728,2,"PARAMSEQ",3,3)

"KRN",8994,3728,2,"PARAMSEQ",4,4)

"KRN",8994,3728,3,0)
^8994.03^8^8^3180215^^
"KRN",8994,3728,3,1,0)
 The only return will be the one passed back to the calling application.
"KRN",8994,3728,3,2,0)
  
"KRN",8994,3728,3,3,0)
 A -2 indicates that the routine PXAI found an issue even though the 
"KRN",8994,3728,3,4,0)
 original input values appeared to be correct.
"KRN",8994,3728,3,5,0)
  
"KRN",8994,3728,3,6,0)
 A -3 indicates that the input parameters were not properly defined.
"KRN",8994,3728,3,7,0)
  
"KRN",8994,3728,3,8,0)
 A 1 indicate success.
"KRN",8994,4284,-1)
0^33
"KRN",8994,4284,0)
ORWDRA32 IMMTYPSEL^^^^S^^^^^^1
"MBREQ")
0
"ORD",16,8994)
8994;16;1;;;;;;;RPCDEL^XPDIA1
"ORD",16,8994,0)
REMOTE PROCEDURE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",655,-1)
1^1
"PKG",655,0)
VISTA INTEGRATION ADAPTER^VIAB^VIAB APP
"PKG",655,20,0)
^9.402P^^
"PKG",655,22,0)
^9.49I^1^1
"PKG",655,22,1,0)
1.0
"PKG",655,22,1,"PAH",1,0)
12^3180622^520736650
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
4
"RTN","VIAB12PO")
0^^B1120242^n/a
"RTN","VIAB12PO",1,0)
VIAB12PO ;BIRM;LE - VIA RPCs ;04/05/2016
"RTN","VIAB12PO",2,0)
 ;;1.0;VISTA INTEGRATION ADAPTER;**12**;06-FEB-2014;Build 28
"RTN","VIAB12PO",3,0)
 ;
"RTN","VIAB12PO",4,0)
 N DIC,DIE,X,Y,DA,DR,VIAOPT,VIASEQ,VIARPC,VALUE
"RTN","VIAB12PO",5,0)
 D EN^DDIOL("Adding VIABPCE SAVE remote procedure to the VIAB WEB SERVICE OPTION.")
"RTN","VIAB12PO",6,0)
 ;get the IEN for the option
"RTN","VIAB12PO",7,0)
 S VALUE="VIAB WEB SERVICES OPTION" S VIAOPT=$$FIND1^DIC(19,,"X",.VALUE)
"RTN","VIAB12PO",8,0)
 I '$G(VIAOPT) D  Q
"RTN","VIAB12PO",9,0)
 .D EN^DDIOL("Could not find the VIAB WEB SERVICE option to add the VIABPCE SAVE RPC.")
"RTN","VIAB12PO",10,0)
 ;
"RTN","VIAB12PO",11,0)
 ;add the VIABPCE SAVE RPC to the option
"RTN","VIAB12PO",12,0)
 K DIC,X,Y,DA
"RTN","VIAB12PO",13,0)
 S DA(1)=VIAOPT
"RTN","VIAB12PO",14,0)
 S DIC="^DIC(19,"_DA(1)_",""RPC"","
"RTN","VIAB12PO",15,0)
 S DIC(0)="XL",X="VIABPCE SAVE"
"RTN","VIAB12PO",16,0)
 D ^DIC
"RTN","VIAB12PO",17,0)
 Q
"RTN","VIAB12PO",18,0)
 ;
"RTN","VIABPCE2")
0^3^B840437^B815065
"RTN","VIABPCE2",1,0)
VIABPCE2 ;AITC/BWF - wrap calls to PCE ;2/12/16  15:13
"RTN","VIABPCE2",2,0)
 ;;1.0;VISTA INTEGRATION ADAPTER;**5,12**;06-FEB-2014;Build 28
"RTN","VIABPCE2",3,0)
 ; ICR 6904    HEALTH FACTORS file #9999999.64 (private)
"RTN","VIABPCE2",4,0)
 Q
"RTN","VIABPCE2",5,0)
HFTYPE(VIALST,ADDCATS) ;get the list of active  health factors
"RTN","VIABPCE2",6,0)
 N IEN,CNT,BINDEX,REC
"RTN","VIABPCE2",7,0)
 S (CNT,BINDEX)=0,ADDCATS=+$G(ADDCATS)
"RTN","VIABPCE2",8,0)
 F  S BINDEX=$O(^AUTTHF("B",BINDEX)) Q:BINDEX']""  D
"RTN","VIABPCE2",9,0)
 .S IEN=0 F  S IEN=$O(^AUTTHF("B",BINDEX,IEN)) Q:'+IEN  D
"RTN","VIABPCE2",10,0)
 ..S REC=$G(^AUTTHF(IEN,0))
"RTN","VIABPCE2",11,0)
 ..I +$P(REC,U,11) S REC=""
"RTN","VIABPCE2",12,0)
 ..I 'ADDCATS,$P(REC,U,10)="C" S REC=""
"RTN","VIABPCE2",13,0)
 ..I REC'="" D
"RTN","VIABPCE2",14,0)
 ...S CNT=CNT+1,VIALST(CNT)=IEN_U_$P(REC,U)
"RTN","VIABPCE2",15,0)
 ...I ADDCATS S VIALST(CNT)=VIALST(CNT)_U_$P(REC,U,10)_U_$P(REC,U,3)
"RTN","VIABPCE2",16,0)
 Q
"RTN","VIABRPC")
0^1^B131841158^B70456024
"RTN","VIABRPC",1,0)
VIABRPC ;AAC/JMC - VIA RPCs ;04/05/2016
"RTN","VIABRPC",2,0)
 ;;1.0;VISTA INTEGRATION ADAPTER;**7,8,9,12**;06-FEB-2014;Build 28
"RTN","VIABRPC",3,0)
 ; ICR 10090    INSTITUTION FILE (supported)
"RTN","VIABRPC",4,0)
 ; ICR 10048    PACKAGE FILE (#9.4) (supported)
"RTN","VIABRPC",5,0)
 ; ICR 10141    XPDUTL (supported)
"RTN","VIABRPC",6,0)
 ; ICR 3213     XQALSURO (Supported)
"RTN","VIABRPC",7,0)
 ; ICR 2533     DBIA2533 (Controlled)
"RTN","VIABRPC",8,0)
 ; ICR 3119     Consult Default Reason for Request [GETDEF^GMRCDRFR & $$REAF^GMRCDRFR]
"RTN","VIABRPC",9,0)
 ; ICR 2968     Direct access to file 34
"RTN","VIABRPC",10,0)
 ; ICR 2664     OBSERVATION API [$$PT^DGPMOBS] (supported)
"RTN","VIABRPC",11,0)
 ; ICR 1365     DBIA1365 [DSELECT^GMPLENFM] (controlled)
"RTN","VIABRPC",12,0)
 ; ICR 4075     OR CALL TO TIUSRVP [VSTRBLD^TIUSRVP] (private)
"RTN","VIABRPC",13,0)
 ; ICR 3121     Consult Ordering Utilities [$$PROVDX^GMRCUTL1]
"RTN","VIABRPC",14,0)
 ; ICR 1894     DBIA1889-F [GETENC^PXAPI](controlled)
"RTN","VIABRPC",15,0)
 ; ICR 3540     TIUSRVP, Entry Point: FILE [FILE^TIUSRVP] (controlled)
"RTN","VIABRPC",16,0)
 ; ICR 142      DBIA142-A [File #31, field #.01] (controlled)
"RTN","VIABRPC",17,0)
 ; ICR 649      DBIA186-I [File 391, field .02] (controlled)
"RTN","VIABRPC",18,0)
 ; ICR 2348     SERVICE CONNECTED CONDITIONS [SCCOND^PXUTLSCC] (controlled)
"RTN","VIABRPC",19,0)
 ; ICR 1296     DBIA 1296 GETLST~IBDF18A [GETLST^IBDF18A] (Controlled)
"RTN","VIABRPC",20,0)
 ; ICR 6473     ICR6473 - PROSTHETICS SERVICE [Read field #131 of File #123.5] (private)
"RTN","VIABRPC",21,0)
 ; ICR 6663     PXVIMM IMM SHORT LIST [IMMSHORT^PXVRPC4] (controlled)
"RTN","VIABRPC",22,0)
 ; ICR 2429     USE OF LR7OV4 CALLS [SHOW^LR7OV4] (controlled)
"RTN","VIABRPC",23,0)
 ; ICR 3167     3167 [STARTSTP^PSJORPOE]
"RTN","VIABRPC",24,0)
 ; ICR 3771     XUDHGUI [DEVICE^XUDHGUI] (supported)
"RTN","VIABRPC",25,0)
 ; ICR 3540     TIUSRVP, Entry Point: FILE [FILE^TIUSRVP] (controlled)
"RTN","VIABRPC",26,0)
 ; ICR 6478     NOTEVSTR (TIU DOCUMENT File #8925)(private)
"RTN","VIABRPC",27,0)
 ; ICR 4807     API FOR RATED DISABILITIES [RDIS^DGRPDB] (supported)
"RTN","VIABRPC",28,0)
 ; ICR 1995     CPT Code APIs [CODM^ICPTCOD] (supported)
"RTN","VIABRPC",29,0)
 ; ICR 5679     LEXU (ICD-10 UPDATE) [IMPDATE^LEXU] (supported)
"RTN","VIABRPC",30,0)
 ; ICR 2378     DBIA3278 [DSUP^PSOSIGDS] (private)
"RTN","VIABRPC",31,0)
 ; ICR 1889     ADD/EDIT/DELETE PCE DATA SILENTLY [DATA2PCE^PXAPI]
"RTN","VIABRPC",32,0)
 ; ICR 2533     DBIA2533 [DIV4^DIV4^XUSER] (controlled)
"RTN","VIABRPC",33,0)
 ; ICR 5408     CPT/HCPCS Procedure File 81 (supported)
"RTN","VIABRPC",34,0)
 ; ICR 1995     CPT Code APIs - $$CPTD^ICPTCOD (supported)
"RTN","VIABRPC",35,0)
 ;
"RTN","VIABRPC",36,0)
GETSURR(RESULT,USER) ; surrogate info.
"RTN","VIABRPC",37,0)
 ;RPC VIAB GETSURR
"RTN","VIABRPC",38,0)
 ; get user's surrogate info
"RTN","VIABRPC",39,0)
 I $G(USER)="" S RESULT="" Q
"RTN","VIABRPC",40,0)
 S RESULT=$$GETSURO^XQALSURO(USER) ;ICR(DBIA) #3213 
"RTN","VIABRPC",41,0)
 I +RESULT<1 S RESULT=""
"RTN","VIABRPC",42,0)
 Q
"RTN","VIABRPC",43,0)
SNAME(RET,SID) ; get station/site name
"RTN","VIABRPC",44,0)
 ;RPC VIAB SITENAME
"RTN","VIABRPC",45,0)
 N SIEN
"RTN","VIABRPC",46,0)
 I $G(SID)="" S RET="-1^Missing Station Number or Site ID" Q
"RTN","VIABRPC",47,0)
 S SIEN=$O(^DIC(4,"D",SID,0)) I 'SIEN S RET="-1^No site found for this Station Number or Site ID" Q
"RTN","VIABRPC",48,0)
 ; ICR(DBIA) #10090 (SUPPORTED)
"RTN","VIABRPC",49,0)
 S RET=$$GET1^DIQ(4,SIEN,.01,"E")
"RTN","VIABRPC",50,0)
 Q
"RTN","VIABRPC",51,0)
USERDIV(RESULT,VIADUZ) ; station IEN^station number^station name^default division
"RTN","VIABRPC",52,0)
 ;RPC GET USER DIVISIONS
"RTN","VIABRPC",53,0)
 K RESULT
"RTN","VIABRPC",54,0)
 N VIADX,VIADR,VIADC
"RTN","VIABRPC",55,0)
 S VIADC=0
"RTN","VIABRPC",56,0)
 D DIV4^XUSER(.VIADR,VIADUZ)
"RTN","VIABRPC",57,0)
 S VIADX=0
"RTN","VIABRPC",58,0)
 F  S VIADX=$O(VIADR(VIADX)) Q:'VIADX!($D(RESULT(1)))  D
"RTN","VIABRPC",59,0)
 .I VIADR(VIADX)=1 S VIADC=VIADC+1,RESULT(VIADC)=VIADX_"^"_$$GET1^DIQ(4,+VIADX,99)_"^"_$$GET1^DIQ(4,+VIADX,.01,)_"^1" K VIADR(VIADX)
"RTN","VIABRPC",60,0)
 S VIADX=0
"RTN","VIABRPC",61,0)
 F  S VIADX=$O(VIADR(VIADX)) Q:'VIADX  D
"RTN","VIABRPC",62,0)
 .S VIADC=VIADC+1
"RTN","VIABRPC",63,0)
 .S RESULT(VIADC)=VIADX_"^"_$$GET1^DIQ(4,+VIADX,99)_"^"_$$GET1^DIQ(4,+VIADX,.01)_"^0"
"RTN","VIABRPC",64,0)
 Q
"RTN","VIABRPC",65,0)
 ; 
"RTN","VIABRPC",66,0)
DEFRFREQ(RESULT,VIAIEN,VIADFN,RESOLVE) ;Return default reason for request for service - ICR #3119
"RTN","VIABRPC",67,0)
 ;RPC VIAB DEFAULT REQUEST REASON
"RTN","VIABRPC",68,0)
 ; VIAIEN=pointer to file 123.5
"RTN","VIABRPC",69,0)
 ; VIADFN=patient, if RESOLVE=1
"RTN","VIABRPC",70,0)
 ; RESOLVE=1 to resolve boilerplate, 0 to not resolve
"RTN","VIABRPC",71,0)
 Q:+$G(VIAIEN)=0
"RTN","VIABRPC",72,0)
 I +RESOLVE,(+$G(VIADFN)=0) Q
"RTN","VIABRPC",73,0)
 S RESULT=$NA(^TMP("VIABREQ",$J))
"RTN","VIABRPC",74,0)
 S:$G(RESOLVE)="" RESOLVE=0
"RTN","VIABRPC",75,0)
 D GETDEF^GMRCDRFR(.RESULT,VIAIEN,VIADFN,RESOLVE)
"RTN","VIABRPC",76,0)
 K @RESULT@(0)
"RTN","VIABRPC",77,0)
 Q
"RTN","VIABRPC",78,0)
 ;
"RTN","VIABRPC",79,0)
EDITDRFR(RESULT,VIAIEN) ; Allow editing of reason for request? - ICR #3119
"RTN","VIABRPC",80,0)
 ;RPC VIAB EDIT DEFAULT REASON
"RTN","VIABRPC",81,0)
 S RESULT=$$REAF^GMRCDRFR(VIAIEN)
"RTN","VIABRPC",82,0)
 Q
"RTN","VIABRPC",83,0)
 ;
"RTN","VIABRPC",84,0)
RADSRC(RESULT,SRCTYPE) ; return list of available contract/sharing/research sources - ICR #2968
"RTN","VIABRPC",85,0)
 ;RPC VIAB RADSRC
"RTN","VIABRPC",86,0)
 N VIAX
"RTN","VIABRPC",87,0)
 S VIAX=0
"RTN","VIABRPC",88,0)
 F I=1:1 S VIAX=$O(^DIC(34,VIAX)) Q:+VIAX=0  D
"RTN","VIABRPC",89,0)
 . Q:($P(^DIC(34,VIAX,0),U,2)'=SRCTYPE)
"RTN","VIABRPC",90,0)
 . I $D(^DIC(34,VIAX,"I")),(^DIC(34,VIAX,"I")<$$NOW^XLFDT) Q
"RTN","VIABRPC",91,0)
 . S RESULT(I)=VIAX_U_$P(^DIC(34,VIAX,0),U,1)
"RTN","VIABRPC",92,0)
 Q
"RTN","VIABRPC",93,0)
 ;
"RTN","VIABRPC",94,0)
CURSPE(RESULT,PTDFN) ; Return current treating specialty - ICR #2664
"RTN","VIABRPC",95,0)
 ;RPC VIAB CURSPE
"RTN","VIABRPC",96,0)
 Q:'PTDFN
"RTN","VIABRPC",97,0)
 N SPEC S SPEC=$$PT^DGPMOBS(PTDFN),RESULT=""
"RTN","VIABRPC",98,0)
 I SPEC'<0 S RESULT=$P(SPEC,U,3)_U_$P(SPEC,U,2)_U_$P(SPEC,U) ;name^ien^obs flag
"RTN","VIABRPC",99,0)
 Q
"RTN","VIABRPC",100,0)
 ;
"RTN","VIABRPC",101,0)
CPTMODS(RESULT,VIACPTCOD,VIADATE) ;Return CPT Modifiers for a CPT Code - ICR #1995
"RTN","VIABRPC",102,0)
 ;RPC VIAB CPTMODS
"RTN","VIABRPC",103,0)
 N VIAM,VIAIDX,VIAI,MODNAME
"RTN","VIABRPC",104,0)
 S:'+$G(VIADATE) VIADATE=DT
"RTN","VIABRPC",105,0)
 I +($$CODM^ICPTCOD(VIACPTCOD,$NA(VIAM),0,VIADATE)),+$D(VIAM) D
"RTN","VIABRPC",106,0)
 . S VIAIDX="",VIAI=0
"RTN","VIABRPC",107,0)
 . F  S VIAIDX=$O(VIAM(VIAIDX)) Q:(VIAIDX="")  D
"RTN","VIABRPC",108,0)
 . . S VIAI=VIAI+1,MODNAME=$P(VIAM(VIAIDX),U,1)
"RTN","VIABRPC",109,0)
 . . S RESULT(MODNAME_VIAI)=$P(VIAM(VIAIDX),U,2)_U_MODNAME_U_VIAIDX
"RTN","VIABRPC",110,0)
 Q
"RTN","VIABRPC",111,0)
 ;
"RTN","VIABRPC",112,0)
ACTPROB(RESULT,DFN,VIADATE) ;get list of patient's active problems - ICR #1365
"RTN","VIABRPC",113,0)
 ;RPC VIAB ACTPROB
"RTN","VIABRPC",114,0)
 N VIAPROB,VIAPROBIX,VIAPRCNT,GMPINDT,VIAIMPDT
"RTN","VIABRPC",115,0)
 K ^TMP("IB",$J,"INTERFACES","GMP SELECT PATIENT ACTIVE PROBLEMS")
"RTN","VIABRPC",116,0)
 S:'+$G(VIADATE) VIADATE=DT
"RTN","VIABRPC",117,0)
 S GMPINDT=VIADATE,VIAIMPDT=$$IMPDATE^LEXU("10D")
"RTN","VIABRPC",118,0)
 D DSELECT^GMPLENFM  ;DBIA 1365
"RTN","VIABRPC",119,0)
 S VIAPRCNT=0
"RTN","VIABRPC",120,0)
 S VIAPROBIX=0
"RTN","VIABRPC",121,0)
 F  S VIAPROBIX=$O(^TMP("IB",$J,"INTERFACES","GMP SELECT PATIENT ACTIVE PROBLEMS",VIAPROBIX)) Q:'VIAPROBIX  D  ;DBIA 1365
"RTN","VIABRPC",122,0)
 . I (VIADATE<VIAIMPDT)&($P(^TMP("IB",$J,"INTERFACES","GMP SELECT PATIENT ACTIVE PROBLEMS",VIAPROBIX),"^",14)="10D") K ^TMP("IB",$J,"INTERFACES","GMP SELECT PATIENT ACTIVE PROBLEMS",VIAPROBIX) Q
"RTN","VIABRPC",123,0)
 . S VIAPROB=$P(^TMP("IB",$J,"INTERFACES","GMP SELECT PATIENT ACTIVE PROBLEMS",VIAPROBIX),"^",2,3)
"RTN","VIABRPC",124,0)
 . I $L(VIAPROB)>255 S $P(VIAPROB,U)=$E($P(VIAPROB,U),1,245)
"RTN","VIABRPC",125,0)
 . I $E(VIAPROB,1)="$" S VIAPROB=$E(VIAPROB,2,255)
"RTN","VIABRPC",126,0)
 . I '$D(VIAPROB(VIAPROB)) D
"RTN","VIABRPC",127,0)
 .. S VIAPROB(VIAPROB)=""
"RTN","VIABRPC",128,0)
 .. S VIAPRCNT=VIAPRCNT+1
"RTN","VIABRPC",129,0)
 .. S $P(^TMP("IB",$J,"INTERFACES","GMP SELECT PATIENT ACTIVE PROBLEMS",VIAPROBIX),"^",2,3)=VIAPROB
"RTN","VIABRPC",130,0)
 . E  K ^TMP("IB",$J,"INTERFACES","GMP SELECT PATIENT ACTIVE PROBLEMS",VIAPROBIX)
"RTN","VIABRPC",131,0)
 S ^TMP("IB",$J,"INTERFACES","GMP SELECT PATIENT ACTIVE PROBLEMS",0)=VIAPRCNT
"RTN","VIABRPC",132,0)
 S RESULT=$NA(^TMP("IB",$J,"INTERFACES","GMP SELECT PATIENT ACTIVE PROBLEMS"))
"RTN","VIABRPC",133,0)
 Q
"RTN","VIABRPC",134,0)
 ;
"RTN","VIABRPC",135,0)
NOTEVSTR(RESULT,IEN) ; return the VSTR^AUTHOR for a note -; ICR#4075
"RTN","VIABRPC",136,0)
 ;RPC VIAB NOTEVSTR
"RTN","VIABRPC",137,0)
 N X0,X12,VISIT
"RTN","VIABRPC",138,0)
 S X0=$G(^TIU(8925,+IEN,0)),X12=$G(^(12)),VISIT=$P(X12,U,7)
"RTN","VIABRPC",139,0)
 I +VISIT S RESULT=$$VSTRBLD^TIUSRVP(VISIT) I 1
"RTN","VIABRPC",140,0)
 E  S RESULT=$P(X12,U,11)_";"_$P(X0,U,7)_";"_$P(X0,U,13)
"RTN","VIABRPC",141,0)
 Q
"RTN","VIABRPC",142,0)
 ;
"RTN","VIABRPC",143,0)
PROVDX(RESULT,VIAIEN) ;Return provisional dx prompting info for service; ICR#3121
"RTN","VIABRPC",144,0)
 ;This RPC is a similar to ORQQCN PROVDX
"RTN","VIABRPC",145,0)
 ;RPC VIAB PROVDX
"RTN","VIABRPC",146,0)
 S RESULT=$$PROVDX^GMRCUTL1($G(VIAIEN))
"RTN","VIABRPC",147,0)
 Q
"RTN","VIABRPC",148,0)
 ;
"RTN","VIABRPC",149,0)
ISPROSVC(RESULT,GMRCIEN) ; Is this service part of the consults-prosthetics interface? ICR #6473
"RTN","VIABRPC",150,0)
 ;RPC VIAB ISPROSVC
"RTN","VIABRPC",151,0)
 ;This RPC is a similar to ORQQCN ISPROSVC
"RTN","VIABRPC",152,0)
 ;GMRCIEN - IEN of selected service
"RTN","VIABRPC",153,0)
 I $$GET1^DIQ(123.5,+$G(GMRCIEN),131,"I")=1 S RESULT=1
"RTN","VIABRPC",154,0)
 Q 
"RTN","VIABRPC",155,0)
 ;
"RTN","VIABRPC",156,0)
SECVST(RESULT,NOTEIEN,VIADFN,VIAENCDT,VIAHLOC) ; save secondary visit in TIU, if inpatient; ICR#1894,#3540
"RTN","VIABRPC",157,0)
 ;RPC VIAB TIU SECVST
"RTN","VIABRPC",158,0)
 N VIAVST
"RTN","VIABRPC",159,0)
 S RESULT=0
"RTN","VIABRPC",160,0)
 I +$G(NOTEIEN),+$G(VIADFN),+$G(VIAENCDT),$G(VIAHLOC)'="" D  ; NOTEIEN only set on inpatient encounters
"RTN","VIABRPC",161,0)
 . S VIAVST=$$GETENC^PXAPI(VIADFN,VIAENCDT,VIAHLOC)
"RTN","VIABRPC",162,0)
 . I +VIAVST>0 D
"RTN","VIABRPC",163,0)
 . . ;I $$GET1^DIQ(8925,NOTEIEN,.03,"I")=VIAVST Q
"RTN","VIABRPC",164,0)
 . . N VIAOK,VIAX
"RTN","VIABRPC",165,0)
 . . S VIAX(1207)=VIAVST
"RTN","VIABRPC",166,0)
 . . D FILE^TIUSRVP(.VIAOK,NOTEIEN,.VIAX,1)
"RTN","VIABRPC",167,0)
 . . M RESULT=VIAOK
"RTN","VIABRPC",168,0)
 Q
"RTN","VIABRPC",169,0)
 ;
"RTN","VIABRPC",170,0)
SCDIS(RESULT,DFN) ; Return service connected % and rated disabilities; ICR#10061,#649,#4807,#142
"RTN","VIABRPC",171,0)
 ;RPC VIAB SCDIS
"RTN","VIABRPC",172,0)
 ;This RPC is a similar to ORWPCE SCDIS
"RTN","VIABRPC",173,0)
 N VAEL,VAERR,VIARR,I,ILST,DIS,SC,X
"RTN","VIABRPC",174,0)
 D ELIG^VADPT
"RTN","VIABRPC",175,0)
 S RESULT(1)="Service Connected: "_$S(+VAEL(3):$P(VAEL(3),U,2)_"%",1:"NO")
"RTN","VIABRPC",176,0)
 I 'VAEL(4),'$$GET1^DIQ(391,+VAEL(6),.02,"I") S RESULT(2)="NOT A VETERAN." Q 
"RTN","VIABRPC",177,0)
 D RDIS^DGRPDB(DFN,.VIARR)
"RTN","VIABRPC",178,0)
 S I=0,ILST=1 F  S I=$O(VIARR(I)) Q:'I  S X=VIARR(I) D
"RTN","VIABRPC",179,0)
 . S DIS=$$GET1^DIQ(31,+X,.01,"I") Q:DIS=""
"RTN","VIABRPC",180,0)
 . S SC=$S($P(X,U,3):"SC",$P(X,U,3)']"":"not specified",1:"NSC")
"RTN","VIABRPC",181,0)
 . S ILST=ILST+1,RESULT(ILST)=DIS_" ("_$P(X,U,2)_"% "_SC_")"
"RTN","VIABRPC",182,0)
 I ILST=1 S RESULT(2)="Rated Disabilities: NONE STATED"
"RTN","VIABRPC",183,0)
 Q
"RTN","VIABRPC",184,0)
 ;
"RTN","VIABRPC",185,0)
SCSEL(RESULT,DFN,APPDT,HLOC,VST) ; return SC conditions that maRESULT be selected; ICR#2348
"RTN","VIABRPC",186,0)
 ;RPC VIAB SCSEL
"RTN","VIABRPC",187,0)
 ;This RPC is a similar to ORWPCE SCSEL
"RTN","VIABRPC",188,0)
 ; RESULT=SCallow^SCdflt;AOallow^AOdflt;IRallow^IRdflt;ECallow^ECdflt;
"RTN","VIABRPC",189,0)
 ;     MSTallow^MSTdflt;HNCallow^HNCdflt;CVAllow^CVDflt;SHADAllow^SHADDflt
"RTN","VIABRPC",190,0)
 N VIAB,S
"RTN","VIABRPC",191,0)
 S S=";"
"RTN","VIABRPC",192,0)
 D SCCOND^PXUTLSCC(DFN,APPDT,HLOC,$G(VST),.VIAB)
"RTN","VIABRPC",193,0)
 S RESULT=$G(VIAB("SC"))_S_$G(VIAB("AO"))_S_$G(VIAB("IR"))_S_$G(VIAB("EC"))_S_$G(VIAB("MST"))_S_$G(VIAB("HNC"))_S_$G(VIAB("CV"))_S_$G(VIAB("SHAD"))
"RTN","VIABRPC",194,0)
 Q
"RTN","VIABRPC",195,0)
 ;
"RTN","VIABRPC",196,0)
VISIT(RESULT,CLINIC,VIADATE) ; get list of visit types for clinic; ICR#1296
"RTN","VIABRPC",197,0)
 ;RPC VIAB VISIT
"RTN","VIABRPC",198,0)
 ;This RPC is a similar to ORWPCE VISIT
"RTN","VIABRPC",199,0)
 S:'+$G(VIADATE) VIADATE=DT
"RTN","VIABRPC",200,0)
 D GETLST^IBDF18A(CLINIC,"DG SELECT VISIT TYPE CPT PROCEDURES","RESULT",,,,VIADATE)
"RTN","VIABRPC",201,0)
 Q
"RTN","VIABRPC",202,0)
 ;
"RTN","VIABRPC",203,0)
IMMTYPE(RESULT,VIACVXS) ;get the list of active immunizations; ICR#6663
"RTN","VIABRPC",204,0)
 ;RPC VIAB GET IMMUNIZATION TYPE
"RTN","VIABRPC",205,0)
 ;Check for CVX codes passed
"RTN","VIABRPC",206,0)
 I $G(VIACVXS) D IMMTYPE2(.RESULT,VIACVXS) Q
"RTN","VIABRPC",207,0)
 ;If no CVX codes, then return full list
"RTN","VIABRPC",208,0)
 N CNT,X,Y,VIARES,VIARY
"RTN","VIABRPC",209,0)
 S CNT=0
"RTN","VIABRPC",210,0)
 D IMMSHORT^PXVRPC4(.VIARES,"A")
"RTN","VIABRPC",211,0)
 S X="" F  S X=$O(VIARES(X)) Q:X=""  S Y=VIARES(X) I $P(Y,"^")="IMM" S VIARY($P(Y,"^",3)_"^"_$P(Y,"^",2))=""
"RTN","VIABRPC",212,0)
 S X="" F  S X=$O(VIARY(X)) Q:X=""  S CNT=CNT+1,RESULT(CNT)=$P(X,"^",2)_"^"_$P(X,"^")
"RTN","VIABRPC",213,0)
 Q
"RTN","VIABRPC",214,0)
 ;
"RTN","VIABRPC",215,0)
IMMTYPE2(RESULT,VIACVXS) ;get one or more active immunizations by CVX code; ICR#6663
"RTN","VIABRPC",216,0)
 ;RPC VIAB GET IMMUNIZATION TYPE
"RTN","VIABRPC",217,0)
 N A,I,II,JJ,CNT,CPTS,X,XX,Y,YY,VIARES,VIARY,VIACVX,VIACPT,ZXX,ZYY,ZZZ,PATH,ZCPT,VIAFND,CPTNAM,DATA,ZCPT2,CPT2,DIWL,DIWR
"RTN","VIABRPC",218,0)
 S CNT=0,X=""
"RTN","VIABRPC",219,0)
 ;just in case, if no CVX code then return list
"RTN","VIABRPC",220,0)
 I '$G(VIACVXS) D IMMTYPE2(.RESULT) Q
"RTN","VIABRPC",221,0)
 F I=1:1:$L(VIACVXS,";") S X=$P(VIACVXS,";",I) D
"RTN","VIABRPC",222,0)
 .Q:X=""  ;in case of leading or ending commas
"RTN","VIABRPC",223,0)
 .S VIACVX(X)=""
"RTN","VIABRPC",224,0)
 D IMMSHORT^PXVRPC4(.VIARES,"A")
"RTN","VIABRPC",225,0)
 S XX="" F  S XX=$O(VIARES(XX)) Q:XX=""  S YY=VIARES(XX) I $P(YY,"^")="IMM",$D(VIACVX($P(YY,"^",4))) D
"RTN","VIABRPC",226,0)
 .K VIACPT
"RTN","VIABRPC",227,0)
 .D GETS^DIQ(9999999.14,$P(YY,"^",2),"3*","I","VIACPT")
"RTN","VIABRPC",228,0)
 .S (VIAFND,JJ,ZZZ,ZYY,ZXX,PATH,ZCPT,ZCPT2,CPTNAM)=""
"RTN","VIABRPC",229,0)
 .;get the first CPT despite what the multiple within the multiple IEN may be
"RTN","VIABRPC",230,0)
 .F  S ZXX=$O(VIACPT(9999999.143,ZXX)) Q:ZXX=""  F  S ZYY=$O(VIACPT(9999999.143,ZXX,ZYY)) Q:ZYY=""  D
"RTN","VIABRPC",231,0)
 ..I $G(VIACPT(9999999.143,ZXX,ZYY,"I"))="CPT" S CPT2(ZXX)=""
"RTN","VIABRPC",232,0)
 .K ZCPT S ZCPT=""
"RTN","VIABRPC",233,0)
 .F II=1:1 S PATH=$O(VIACPT(9999999.1431,II_","_PATH)) Q:PATH=""  I $D(CPT2($P(PATH,",",2,3)_",")) D
"RTN","VIABRPC",234,0)
 ..I $G(VIACPT(9999999.1431,PATH,.01,"I")) S ZCPT2=VIACPT(9999999.1431,PATH,.01,"I") D
"RTN","VIABRPC",235,0)
 ...;get the CPT description and combine multiple lines into one
"RTN","VIABRPC",236,0)
 ...K DATA S A=$$CPTD^ICPTCOD(ZCPT2,"DATA")
"RTN","VIABRPC",237,0)
 ...; using DIWR=220 to give room for other fields in 256 length
"RTN","VIABRPC",238,0)
 ...S DIWL=1,DIWR=220,ZCPT="" K ^UTILITY($J,"W") F  S JJ=$O(DATA(JJ)) Q:JJ=""  S X=DATA(JJ) D ^DIWP
"RTN","VIABRPC",239,0)
 ...S J=0 F  S J=$O(^UTILITY($J,"W",DIWL,J)) Q:J=""  S ZCPT=ZCPT_" "_^UTILITY($J,"W",DIWL,J,0)
"RTN","VIABRPC",240,0)
 ...S ZCPT(ZCPT2)=$E(ZCPT,2,999)
"RTN","VIABRPC",241,0)
 ..K CPTS S (CPTS,ZCPT2)=""
"RTN","VIABRPC",242,0)
 .S (CPTS,ZCPT2)="" F  S ZCPT2=$O(ZCPT(ZCPT2)) Q:ZCPT2=""  S CPTS=CPTS_";"_ZCPT2_"|"_ZCPT(ZCPT2)
"RTN","VIABRPC",243,0)
 .S VIARY($P(YY,"^",3)_"^"_$P(YY,"^",4)_"^"_$P(YY,"^",2))=$E(CPTS,2,9999)
"RTN","VIABRPC",244,0)
 S X="" F  S X=$O(VIARY(X)) Q:X=""  S CNT=CNT+1,RESULT(CNT)=$P(X,"^",3)_"^"_$P(X,"^")_"^"_$P(X,"^",2)_"^"_VIARY(X)
"RTN","VIABRPC",245,0)
 K ^UTILITY($J,"W")
"RTN","VIABRPC",246,0)
 Q
"RTN","VIABRPC",247,0)
 ;
"RTN","VIABRPC",248,0)
IMMCOLL(RESULT) ; Return help screen showing immediate collect times;ICR#-2429
"RTN","VIABRPC",249,0)
 ;RPC VIAB IMMED COLLECT
"RTN","VIABRPC",250,0)
 ;This RPC is a similar to ORWDLR32 IMMED COLLECT
"RTN","VIABRPC",251,0)
 I $G(DUZ(2))="" Q
"RTN","VIABRPC",252,0)
 D SHOW^LR7OV4(DUZ(2),.RESULT)
"RTN","VIABRPC",253,0)
 Q
"RTN","VIABRPC",254,0)
 ;
"RTN","VIABRPC",255,0)
ADMIN(RESULT,DFN,SCH,OI,LOC,ADMIN) ; return administration time info;ICR-#2843,10040,10035,3167
"RTN","VIABRPC",256,0)
 ;RPC VIAB ADMIN
"RTN","VIABRPC",257,0)
 ;This RPC is a similar to ORWDPS2 ADMIN
"RTN","VIABRPC",258,0)
 ; RESULT: StartText^StartTime^Duration^FirstAdmin
"RTN","VIABRPC",259,0)
 I ($G(OI)="")!($G(LOC)="") Q
"RTN","VIABRPC",260,0)
 S OI=+$$GET1^DIQ(101.43,+OI,2,"I")
"RTN","VIABRPC",261,0)
 S LOC=+$$GET1^DIQ(44,+LOC,42,"I"),RESULT=""
"RTN","VIABRPC",262,0)
 I $L($G(^DPT(DFN,.1))) S RESULT=$$FIRST(DFN,LOC,OI,$G(SCH),"",$G(ADMIN))
"RTN","VIABRPC",263,0)
 Q
"RTN","VIABRPC",264,0)
 ;
"RTN","VIABRPC",265,0)
FIRST(DFN,WARD,OI,DATA,ORDER,ADMIN)   ; -- Return expected first admin time of order;ICR-#3167
"RTN","VIABRPC",266,0)
 N CNT,ORCNT,ORI,J,ORZ,Y,SCH,ORX,TNUM
"RTN","VIABRPC",267,0)
 I '$G(DFN)!'$G(OI) Q ""
"RTN","VIABRPC",268,0)
 S ORCNT=0 F ORI=1:1:$L(DATA,"^") S ORZ=$P(DATA,U,ORI) D  Q:$E(ORZ)="T"
"RTN","VIABRPC",269,0)
 .S TNUM=$$NUMCHAR(ORZ,";") Q:TNUM=0
"RTN","VIABRPC",270,0)
 .F CNT=1:1:TNUM D
"RTN","VIABRPC",271,0)
 .. S SCH=$P(ORZ,";",CNT+1) Q:'$L(SCH)  S ORCNT=ORCNT+1
"RTN","VIABRPC",272,0)
 .. I ORCNT>1 S ADMIN=""
"RTN","VIABRPC",273,0)
 .. S ORX(ORCNT)=$$STARTSTP^PSJORPOE(DFN,SCH,OI,WARD,$G(ORDER),$G(ADMIN))
"RTN","VIABRPC",274,0)
 S Y=9999999,J=0
"RTN","VIABRPC",275,0)
 F ORI=1:1:ORCNT S ORZ=$P(ORX(ORI),U,4) I ORZ<Y S Y=ORZ,J=ORI ;earliest
"RTN","VIABRPC",276,0)
 S Y=$S(J:ORX(J),1:"")
"RTN","VIABRPC",277,0)
 Q Y
"RTN","VIABRPC",278,0)
 ;
"RTN","VIABRPC",279,0)
NUMCHAR(STRING,SUB) ;
"RTN","VIABRPC",280,0)
 N CNT,RESULT
"RTN","VIABRPC",281,0)
 S RESULT=0
"RTN","VIABRPC",282,0)
 F CNT=1:1:$L(STRING) I $E(STRING,CNT)=SUB S RESULT=RESULT+1
"RTN","VIABRPC",283,0)
 Q RESULT
"RTN","VIABRPC",284,0)
 ; 
"RTN","VIABRPC",285,0)
DFLTSPLY(RESULT,UPD,SCH,PAT,DRG,OI) ; return days supply given quantity;ICR-#2843,3278
"RTN","VIABRPC",286,0)
 ;RPC VIAB DFLTSPLY
"RTN","VIABRPC",287,0)
 ;This RPC is a similar to ORWDPS1 DFLTSPLY
"RTN","VIABRPC",288,0)
 ; RESULT: default days supply
"RTN","VIABRPC",289,0)
 N VIABX,I,PSOI,TPKG
"RTN","VIABRPC",290,0)
 S VIABX("PATIENT")=$G(PAT)
"RTN","VIABRPC",291,0)
 I $G(DRG) S VIABX("DRUG")=DRG
"RTN","VIABRPC",292,0)
 I $D(OI) D
"RTN","VIABRPC",293,0)
 . S TPKG=$$GET1^DIQ(101.43,+$G(OI),2,"I") Q:TPKG'["PS"
"RTN","VIABRPC",294,0)
 . S PSOI=+TPKG Q:PSOI'>0
"RTN","VIABRPC",295,0)
 . S VIABX("OI")=PSOI
"RTN","VIABRPC",296,0)
 F I=1:1:$L($G(UPD),U)-1 D
"RTN","VIABRPC",297,0)
 . S VIABX("DOSE ORDERED",I)=$P($G(UPD),U,I)
"RTN","VIABRPC",298,0)
 . S VIABX("SCHEDULE",I)=$P($G(SCH),U,I)
"RTN","VIABRPC",299,0)
 D DSUP^PSOSIGDS(.VIABX)
"RTN","VIABRPC",300,0)
 S RESULT=$G(VIABX("DAYS SUPPLY"))
"RTN","VIABRPC",301,0)
 Q
"RTN","VIABRPC",302,0)
 ;
"RTN","VIABRPC",303,0)
DEVICE(RESULT,FROM,DIR,MARGIN) ; Return a subset of printer entries from the Device file;ICR-#3771
"RTN","VIABRPC",304,0)
 ;RPC VIAB DEVICE
"RTN","VIABRPC",305,0)
 ; -- Return up to 20 entries from the Device file based on Input criteria
"RTN","VIABRPC",306,0)
 ; INPUT
"RTN","VIABRPC",307,0)
 ;   FROM   : List all printers start from (text to $O from)
"RTN","VIABRPC",308,0)
 ;            B (all device with name start *WITH* B)
"RTN","VIABRPC",309,0)
 ;            B* (all device with name start *FROM* B)
"RTN","VIABRPC",310,0)
 ;   DIR    : Ascending order (1) or Descending order (-1) ($O direction)
"RTN","VIABRPC",311,0)
 ;   MARGIN - Right margin (e.g, 80, 132 or "80-132") 
"RTN","VIABRPC",312,0)
 ;
"RTN","VIABRPC",313,0)
 ; OUTPUT
"RTN","VIABRPC",314,0)
 ;   RESULT : By reference local array contains VistA printers based on input criteria
"RTN","VIABRPC",315,0)
 ;                        RESULT(1..n)=IEN^Name^DisplayName^Location^RMar^PLen
"RTN","VIABRPC",316,0)
 ;
"RTN","VIABRPC",317,0)
 K RESULT
"RTN","VIABRPC",318,0)
 S FROM=$G(FROM)
"RTN","VIABRPC",319,0)
 S DIR=$G(DIR,1)
"RTN","VIABRPC",320,0)
 S MARGIN=$G(MARGIN)
"RTN","VIABRPC",321,0)
 D DEVICE^XUDHGUI(.RESULT,FROM,DIR,MARGIN)
"RTN","VIABRPC",322,0)
 Q
"RTN","VIABRPC",323,0)
 ;
"RTN","VIABRPC",324,0)
SAVE(OK,PCELIST,NOTEIEN,VIALOC) ; save PCE information
"RTN","VIABRPC",325,0)
 S:$G(VIALOC)="" VIALOC="VISTA INTEGRATION ADAPTER"
"RTN","VIABRPC",326,0)
 N VSTR,GMPLUSER
"RTN","VIABRPC",327,0)
 N ZTIO,ZTRTN,ZTDTH,ZTSAVE,ZTDESC,ZTSYNC,ZTSK
"RTN","VIABRPC",328,0)
 S VSTR=$P(PCELIST(1),U,4) K ^TMP("VIAPCE",$J,VSTR)
"RTN","VIABRPC",329,0)
 M ^TMP("VIAPCE",$J,VSTR)=PCELIST
"RTN","VIABRPC",330,0)
 S GMPLUSER=$$CLINUSER(DUZ),NOTEIEN=+$G(NOTEIEN)
"RTN","VIABRPC",331,0)
 D DQSAVE^VIABRPC7
"RTN","VIABRPC",332,0)
 Q
"RTN","VIABRPC",333,0)
 ;
"RTN","VIABRPC",334,0)
CLINUSER(VIADUZ) ;is this a clinical user?
"RTN","VIABRPC",335,0)
 N VIAUSER
"RTN","VIABRPC",336,0)
 S VIAUSER=0
"RTN","VIABRPC",337,0)
 I $D(^XUSEC("ORES",VIADUZ)) S VIAUSER=1
"RTN","VIABRPC",338,0)
 I $D(^XUSEC("ORELSE",VIADUZ)) S VIAUSER=1
"RTN","VIABRPC",339,0)
 I $D(^XUSEC("PROVIDER",VIADUZ)) S VIAUSER=1
"RTN","VIABRPC",340,0)
 Q VIAUSER
"RTN","VIABRPC",341,0)
 ;
"RTN","VIABRPC",342,0)
GETVSIT(VSTR,DFN) ; lookup a visit
"RTN","VIABRPC",343,0)
 N PKG,SRC,VIAPXAPI,OK,VIAVISIT
"RTN","VIABRPC",344,0)
 S PKG=$O(^DIC(9.4,"B","VISTA INTEGRATION ADAPTER",0))
"RTN","VIABRPC",345,0)
 S SRC="TEXT INTEGRATION UTILITIES"
"RTN","VIABRPC",346,0)
 S VIAPXAPI("ENCOUNTER",1,"ENC D/T")=$P(VSTR,";",2)
"RTN","VIABRPC",347,0)
 S VIAPXAPI("ENCOUNTER",1,"PATIENT")=DFN
"RTN","VIABRPC",348,0)
 S VIAPXAPI("ENCOUNTER",1,"HOS LOC")=+VSTR
"RTN","VIABRPC",349,0)
 S VIAPXAPI("ENCOUNTER",1,"SERVICE CATEGORY")=$P(VSTR,";",3)
"RTN","VIABRPC",350,0)
 S VIAPXAPI("ENCOUNTER",1,"ENCOUNTER TYPE")="P"
"RTN","VIABRPC",351,0)
 S OK=$$DATA2PCE^PXAPI("VIAPXAPI",PKG,SRC,.VIAVISIT)
"RTN","VIABRPC",352,0)
 Q VIAVISIT
"RTN","VIABRPC7")
0^2^B84520002^n/a
"RTN","VIABRPC7",1,0)
VIABRPC7 ;AAC/JMC - VIA RPCs ;04/05/2016
"RTN","VIABRPC7",2,0)
 ;;1.0;VISTA INTEGRATION ADAPTER;**7,8,9,12**;06-FEB-2014;Build 28
"RTN","VIABRPC7",3,0)
 ;
"RTN","VIABRPC7",4,0)
 ; ICR 1365    DSELECT^GMPLENFM   ^TMP("IB",$J)
"RTN","VIABRPC7",5,0)
 ; ICR 2467    ^ORX8 (Controlled)
"RTN","VIABRPC7",6,0)
 ; ICR 10141   PATCH^XPDUTL (Supported)
"RTN","VIABRPC7",7,0)
 ; ICR 3459    PSBMLHS (Supported)
"RTN","VIABRPC7",8,0)
 ; ICR 3889    PSBO (Controlled)
"RTN","VIABRPC7",9,0)
 ; ICR 5771    100 (Controlled)
"RTN","VIABRPC7",10,0)
 ; ICR 6484    100.98 (Controlled)
"RTN","VIABRPC7",11,0)
 ; ICR 10048   DIC(9.4 (Supported)
"RTN","VIABRPC7",12,0)
 ; ICR 1889    $$DATA2PCE^PXAPI
"RTN","VIABRPC7",13,0)
 ; ICR 3540    FILE^TIUSRVP (Controlled)
"RTN","VIABRPC7",14,0)
 ; ICR 5680    $$EXP^LEXCODE (Supported) 
"RTN","VIABRPC7",15,0)
 ; ICR 5699    $$ICDDATA^ICDXCODE (Supported)
"RTN","VIABRPC7",16,0)
 ; ICR 1995    $$CODEN^ICPTCOD (Supported)
"RTN","VIABRPC7",17,0)
 ; ICR 5679    $$IMPDATE^LEXU (Supported)
"RTN","VIABRPC7",18,0)
 ;
"RTN","VIABRPC7",19,0)
 Q
"RTN","VIABRPC7",20,0)
 ;
"RTN","VIABRPC7",21,0)
DQSAVE ; Background Call to DATA2PCE
"RTN","VIABRPC7",22,0)
 N PKG,SRC,TYP,CODE,IEN,OK,I,X,VIAPXAPI,VIAPXDEL
"RTN","VIABRPC7",23,0)
 N CAT,NARR,ROOT,ROOT2,VIAAVST,VIAENCDT,IMPLDT,PXERRORS,PXPROBS
"RTN","VIABRPC7",24,0)
 N PRV,CPT,ICD,IMM,SK,PED,HF,XAM,TRT,MOD,MODCNT,MODIDX,MODS
"RTN","VIABRPC7",25,0)
 N COM,COMMENT,COMMENTS,SVCAT
"RTN","VIABRPC7",26,0)
 N DFN,PROBLEMS,PXAPREDT,VIACPTDE,PXERRZ,VIASAVV
"RTN","VIABRPC7",27,0)
 S IMPLDT=$$IMPDATE^LEXU("10D")
"RTN","VIABRPC7",28,0)
 I $D(ZTQUEUED) S ZTREQ="@"
"RTN","VIABRPC7",29,0)
 S PKG=$O(^DIC(9.4,"B","VISTA INTEGRATION ADAPTER",0))
"RTN","VIABRPC7",30,0)
 S SRC=$TR(VIALOC,",./;'<>?:`~!@#$%^&*()-=_+[]{}\|","                                    ")
"RTN","VIABRPC7",31,0)
 S (PRV,CPT,ICD,IMM,SK,PED,HF,XAM,TRT)=0
"RTN","VIABRPC7",32,0)
 S I="" F  S I=$O(PCELIST(I)) Q:'I  S X=PCELIST(I) D
"RTN","VIABRPC7",33,0)
 . S TYP=$P(X,U),CODE=$P(X,U,2),CAT=$P(X,U,3),NARR=$P(X,U,4)
"RTN","VIABRPC7",34,0)
 . I $E(TYP,1,3)="PRV" D  Q
"RTN","VIABRPC7",35,0)
 . . Q:'$L(CODE)
"RTN","VIABRPC7",36,0)
 . . S PRV=PRV+1
"RTN","VIABRPC7",37,0)
 . . S ROOT="VIAPXAPI(""PROVIDER"","_PRV_")"
"RTN","VIABRPC7",38,0)
 . . S ROOT2="VIAPXDEL(""PROVIDER"","_PRV_")"
"RTN","VIABRPC7",39,0)
 . . I $E(TYP,4)'="-" D
"RTN","VIABRPC7",40,0)
 . . . S @ROOT@("NAME")=CODE
"RTN","VIABRPC7",41,0)
 . . . S @ROOT@("PRIMARY")=$P(X,U,6)
"RTN","VIABRPC7",42,0)
 . . S @ROOT2@("NAME")=CODE
"RTN","VIABRPC7",43,0)
 . . S @ROOT2@("DELETE")=1
"RTN","VIABRPC7",44,0)
 . . S PXAPREDT=1 ;Allow edit of primary flag
"RTN","VIABRPC7",45,0)
 . I TYP="VST" D  Q
"RTN","VIABRPC7",46,0)
 . . S ROOT="VIAPXAPI(""ENCOUNTER"",1)"
"RTN","VIABRPC7",47,0)
 . . I CODE="DT" S (VIAENCDT,@ROOT@("ENC D/T"))=$P(X,U,3) Q
"RTN","VIABRPC7",48,0)
 . . I CODE="PT" S @ROOT@("PATIENT")=$P(X,U,3),DFN=$P(X,U,3) Q
"RTN","VIABRPC7",49,0)
 . . I CODE="HL" S @ROOT@("HOS LOC")=$P(X,U,3) Q
"RTN","VIABRPC7",50,0)
 . . I CODE="PR" S @ROOT@("PARENT")=$P(X,U,3) Q
"RTN","VIABRPC7",51,0)
 . . ;prevents checkout!
"RTN","VIABRPC7",52,0)
 . . I CODE="VC" S (SVCAT,@ROOT@("SERVICE CATEGORY"))=$P(X,U,3) Q
"RTN","VIABRPC7",53,0)
 . . I CODE="SC" S @ROOT@("SC")=$P(X,U,3) Q
"RTN","VIABRPC7",54,0)
 . . I CODE="AO" S @ROOT@("AO")=$P(X,U,3) Q
"RTN","VIABRPC7",55,0)
 . . I CODE="IR" S @ROOT@("IR")=$P(X,U,3) Q
"RTN","VIABRPC7",56,0)
 . . I CODE="EC" S @ROOT@("EC")=$P(X,U,3) Q
"RTN","VIABRPC7",57,0)
 . . I CODE="MST" S @ROOT@("MST")=$P(X,U,3) Q
"RTN","VIABRPC7",58,0)
 . . I CODE="HNC" S @ROOT@("HNC")=$P(X,U,3) Q
"RTN","VIABRPC7",59,0)
 . . I CODE="CV" S @ROOT@("CV")=$P(X,U,3) Q
"RTN","VIABRPC7",60,0)
 . . I CODE="SHD" S @ROOT@("SHAD")=$P(X,U,3) Q
"RTN","VIABRPC7",61,0)
 . . I CODE="OL" D  Q
"RTN","VIABRPC7",62,0)
 . . . I +$P(X,U,3) S @ROOT@("INSTITUTION")=$P(X,U,3)
"RTN","VIABRPC7",63,0)
 . . . E  I $P(X,U,4)'="",$P(X,U,4)'="0" D
"RTN","VIABRPC7",64,0)
 . . . . I $$PATCH^XPDUTL("PX*1.0*96") S @ROOT@("OUTSIDE LOCATION")=$P(X,U,4)
"RTN","VIABRPC7",65,0)
 . . . . E  S @ROOT@("COMMENT")="OUTSIDE LOCATION:  "_$P(X,U,4)
"RTN","VIABRPC7",66,0)
 . I $E(TYP,1,3)="CPT" D  Q
"RTN","VIABRPC7",67,0)
 . . Q:'$L(CODE)
"RTN","VIABRPC7",68,0)
 . . S CPT=CPT+1,ROOT="VIAPXAPI(""PROCEDURE"","_CPT_")"
"RTN","VIABRPC7",69,0)
 . . S IEN=$$CODEN^ICPTCOD(CODE) ;ICR #1995
"RTN","VIABRPC7",70,0)
 . . S @ROOT@("PROCEDURE")=IEN
"RTN","VIABRPC7",71,0)
 . . I +$P(X,U,9) D
"RTN","VIABRPC7",72,0)
 . . . S MODS=$P(X,U,9),MODCNT=+MODS
"RTN","VIABRPC7",73,0)
 . . . F MODIDX=1:1:MODCNT D
"RTN","VIABRPC7",74,0)
 . . . . S MOD=$P($P(MODS,";",MODIDX+1),"/")
"RTN","VIABRPC7",75,0)
 . . . . S @ROOT@("MODIFIERS",MOD)=""
"RTN","VIABRPC7",76,0)
 . . S:$L(CAT) @ROOT@("CATEGORY")=CAT
"RTN","VIABRPC7",77,0)
 . . S:$L(NARR) @ROOT@("NARRATIVE")=NARR
"RTN","VIABRPC7",78,0)
 . . S:$L($P(X,U,5)) @ROOT@("QTY")=$P(X,U,5)
"RTN","VIABRPC7",79,0)
 . . S:$P(X,U,6)>0 @ROOT@("ENC PROVIDER")=$P(X,U,6)
"RTN","VIABRPC7",80,0)
 . . S:$L($P(X,U,10))>0 COMMENT($P(X,U,10))="PROCEDURE^"_CPT
"RTN","VIABRPC7",81,0)
 . . I $E(TYP,4)="-" S @ROOT@("DELETE")=1,@ROOT@("QTY")=0,VIACPTDE=CPT
"RTN","VIABRPC7",82,0)
 . I $E(TYP,1,3)="POV" D  Q
"RTN","VIABRPC7",83,0)
 . . N VIADXI,VIADX
"RTN","VIABRPC7",84,0)
 . . Q:'$L(CODE)
"RTN","VIABRPC7",85,0)
 . . F VIADXI=1:1:$L(CODE,"/") D
"RTN","VIABRPC7",86,0)
 . . . N CSYS,CDT,IEN,LEXIEN
"RTN","VIABRPC7",87,0)
 . . . S VIADX=$P(CODE,"/",VIADXI)
"RTN","VIABRPC7",88,0)
 . . . S ICD=ICD+1,ROOT="VIAPXAPI(""DX/PL"","_ICD_")"
"RTN","VIABRPC7",89,0)
 . . . S CDT=$S($G(SVCAT)="E":DT,1:VIAENCDT)
"RTN","VIABRPC7",90,0)
 . . . S CSYS=$S(CDT'<IMPLDT:"10D",1:"ICD")
"RTN","VIABRPC7",91,0)
 . . . I (VIADX]""),(VIADX'[".") S VIADX=VIADX_"."
"RTN","VIABRPC7",92,0)
 . . . S IEN=+$$ICDDATA^ICDXCODE(CSYS,VIADX,CDT,"E")
"RTN","VIABRPC7",93,0)
 . . . I IEN'>0 Q
"RTN","VIABRPC7",94,0)
 . . . S @ROOT@("DIAGNOSIS")=IEN
"RTN","VIABRPC7",95,0)
 . . . S @ROOT@("PRIMARY")=$S(VIADXI=1:$P(X,U,5),1:0)
"RTN","VIABRPC7",96,0)
 . . . S LEXIEN=$P($$EXP^LEXCODE(VIADX,CSYS,CDT),U),@ROOT@("LEXICON TERM")=$S(LEXIEN>0:LEXIEN,1:"")
"RTN","VIABRPC7",97,0)
 . . . S:$L(CAT) @ROOT@("CATEGORY")=CAT
"RTN","VIABRPC7",98,0)
 . . . S:$L(NARR) @ROOT@("NARRATIVE")=NARR
"RTN","VIABRPC7",99,0)
 . . . S:$P(X,U,6)>0 @ROOT@("ENC PROVIDER")=$P(X,U,6)
"RTN","VIABRPC7",100,0)
 . . . I $L($P(X,U,7)),($P(X,U,7)=1),(VIADXI=1) S @ROOT@("PL ADD")=$P(X,U,7),PROBLEMS(ICD)=NARR_U_CODE
"RTN","VIABRPC7",101,0)
 . . . S:$L($P(X,U,10))>0&(VIADXI=1) COMMENT($P(X,U,10))="DX/PL^"_ICD
"RTN","VIABRPC7",102,0)
 . . . I $E(TYP,4)="-" S @ROOT@("DELETE")=1
"RTN","VIABRPC7",103,0)
 . I $E(TYP,1,3)="IMM" D  Q
"RTN","VIABRPC7",104,0)
 . . Q:'$L(CODE)
"RTN","VIABRPC7",105,0)
 . . S IMM=IMM+1,ROOT="VIAPXAPI(""IMMUNIZATION"","_IMM_")"
"RTN","VIABRPC7",106,0)
 . . S @ROOT@("IMMUN")=CODE
"RTN","VIABRPC7",107,0)
 . . S:$L($P(X,U,5)) @ROOT@("SERIES")=$P(X,U,5)
"RTN","VIABRPC7",108,0)
 . . S:$L($P(X,U,5)) @ROOT@("REACTION")=$P(X,U,7)
"RTN","VIABRPC7",109,0)
 . . S:$L($P(X,U,8)) @ROOT@("CONTRAINDICATED")=$P(X,U,8)
"RTN","VIABRPC7",110,0)
 . . S:$L($P(X,U,9)) @ROOT@("REFUSED")=$P(X,U,9)
"RTN","VIABRPC7",111,0)
 . . S:$P(X,U,6)>0 @ROOT@("ENC PROVIDER")=$P(X,U,6)
"RTN","VIABRPC7",112,0)
 . . S:$L($P(X,U,10))>0 COMMENT($P(X,U,10))="IMMUNIZATION^"_IMM
"RTN","VIABRPC7",113,0)
 . . I $E(TYP,4)="-" S @ROOT@("DELETE")=1
"RTN","VIABRPC7",114,0)
 . I $E(TYP,1,2)="SK" D  Q
"RTN","VIABRPC7",115,0)
 . . Q:'$L(CODE)
"RTN","VIABRPC7",116,0)
 . . S SK=SK+1,ROOT="VIAPXAPI(""SKIN TEST"","_SK_")"
"RTN","VIABRPC7",117,0)
 . . S @ROOT@("TEST")=CODE
"RTN","VIABRPC7",118,0)
 . . S:$L($P(X,U,5)) @ROOT@("RESULT")=$P(X,U,5)
"RTN","VIABRPC7",119,0)
 . . S:$L($P(X,U,7)) @ROOT@("READING")=$P(X,U,7)
"RTN","VIABRPC7",120,0)
 . . S:$L($P(X,U,8)) @ROOT@("D/T READ")=$P(X,U,8)
"RTN","VIABRPC7",121,0)
 . . S:$L($P(X,U,9)) @ROOT@("EVENT D/T")=$P(X,U,9)
"RTN","VIABRPC7",122,0)
 . . S:$P(X,U,6)>0 @ROOT@("ENC PROVIDER")=$P(X,U,6)
"RTN","VIABRPC7",123,0)
 . . S:$L($P(X,U,10))>0 COMMENT($P(X,U,10))="SKIN TEST^"_SK
"RTN","VIABRPC7",124,0)
 . . I $E(TYP,3)="-" S @ROOT@("DELETE")=1
"RTN","VIABRPC7",125,0)
 . I $E(TYP,1,3)="PED" D  Q
"RTN","VIABRPC7",126,0)
 . . Q:'$L(CODE)
"RTN","VIABRPC7",127,0)
 . . S PED=PED+1,ROOT="VIAPXAPI(""PATIENT ED"","_PED_")"
"RTN","VIABRPC7",128,0)
 . . S @ROOT@("TOPIC")=CODE
"RTN","VIABRPC7",129,0)
 . . S:$L($P(X,U,5)) @ROOT@("UNDERSTANDING")=$P(X,U,5)
"RTN","VIABRPC7",130,0)
 . . S:$P(X,U,6)>0 @ROOT@("ENC PROVIDER")=$P(X,U,6)
"RTN","VIABRPC7",131,0)
 . . S:$L($P(X,U,10))>0 COMMENT($P(X,U,10))="PATIENT ED^"_PED
"RTN","VIABRPC7",132,0)
 . . I $E(TYP,4)="-" S @ROOT@("DELETE")=1
"RTN","VIABRPC7",133,0)
 . I $E(TYP,1,2)="HF" D  Q
"RTN","VIABRPC7",134,0)
 . . Q:'$L(CODE)
"RTN","VIABRPC7",135,0)
 . . S HF=HF+1,ROOT="VIAPXAPI(""HEALTH FACTOR"","_HF_")"
"RTN","VIABRPC7",136,0)
 . . S @ROOT@("HEALTH FACTOR")=CODE
"RTN","VIABRPC7",137,0)
 . . S:$L($P(X,U,5)) @ROOT@("LEVEL/SEVERITY")=$P(X,U,5)
"RTN","VIABRPC7",138,0)
 . . S:$P(X,U,6)'>0 $P(X,U,6)=$G(VIAPXAPI("PROVIDER",1,"NAME"))
"RTN","VIABRPC7",139,0)
 . . S:$P(X,U,6)>0 @ROOT@("ENC PROVIDER")=$P(X,U,6)
"RTN","VIABRPC7",140,0)
 . . S:$L($P(X,U,11)) @ROOT@("EVENT D/T")=$P($P(X,U,11),";",1)
"RTN","VIABRPC7",141,0)
 . . S:$L($P(X,U,11)) SRC=$P($P(X,U,11),";",2)
"RTN","VIABRPC7",142,0)
 . . S:$L($P(X,U,10))>0 COMMENT($P(X,U,10))="HEALTH FACTOR^"_HF
"RTN","VIABRPC7",143,0)
 . . I $E(TYP,3)="-" S @ROOT@("DELETE")=1
"RTN","VIABRPC7",144,0)
 . I $E(TYP,1,3)="XAM" D  Q
"RTN","VIABRPC7",145,0)
 . . Q:'$L(CODE)
"RTN","VIABRPC7",146,0)
 . . S XAM=XAM+1,ROOT="VIAPXAPI(""EXAM"","_XAM_")"
"RTN","VIABRPC7",147,0)
 . . S @ROOT@("EXAM")=CODE
"RTN","VIABRPC7",148,0)
 . . S:$L($P(X,U,5)) @ROOT@("RESULT")=$P(X,U,5)
"RTN","VIABRPC7",149,0)
 . . S:$P(X,U,6)>0 @ROOT@("ENC PROVIDER")=$P(X,U,6)
"RTN","VIABRPC7",150,0)
 . . S:$L($P(X,U,10))>0 COMMENT($P(X,U,10))="EXAM^"_XAM
"RTN","VIABRPC7",151,0)
 . . I $E(TYP,4)="-" S @ROOT@("DELETE")=1
"RTN","VIABRPC7",152,0)
 . I $E(TYP,1,3)="TRT" D  Q
"RTN","VIABRPC7",153,0)
 . . Q:'$L(CODE)
"RTN","VIABRPC7",154,0)
 . . S TRT=TRT+1,ROOT="VIAPXAPI(""TREATMENT"","_TRT_")"
"RTN","VIABRPC7",155,0)
 . . S @ROOT@("IMMUN")=CODE
"RTN","VIABRPC7",156,0)
 . . S:$L(CAT) @ROOT@("CATEGORY")=CAT
"RTN","VIABRPC7",157,0)
 . . S:$L(NARR) @ROOT@("NARRATIVE")=NARR
"RTN","VIABRPC7",158,0)
 . . S:$L($P(X,U,5)) @ROOT@("QTY")=$P(X,U,5)
"RTN","VIABRPC7",159,0)
 . . S:$P(X,U,6)>0 @ROOT@("ENC PROVIDER")=$P(X,U,6)
"RTN","VIABRPC7",160,0)
 . . S:$L($P(X,U,10))>0 COMMENT($P(X,U,10))="TREATMENT^"_TRT
"RTN","VIABRPC7",161,0)
 . . I $E(TYP,4)="-" S @ROOT@("DELETE")=1,@ROOT@("QTY")=0
"RTN","VIABRPC7",162,0)
 . I $E(TYP,1,3)="COM" D  Q
"RTN","VIABRPC7",163,0)
 . . Q:'$L(CODE)
"RTN","VIABRPC7",164,0)
 . . Q:'$L(CAT)
"RTN","VIABRPC7",165,0)
 . . S COMMENTS(CODE)=$P(X,U,3,999)
"RTN","VIABRPC7",166,0)
 ;Store the comments
"RTN","VIABRPC7",167,0)
 S COM=""
"RTN","VIABRPC7",168,0)
 F  S COM=$O(COMMENT(COM)) Q:COM=""  S:$D(COMMENTS(COM)) VIAPXAPI($P(COMMENT(COM),"^",1),$P(COMMENT(COM),"^",2),"COMMENT")=COMMENTS(COM)
"RTN","VIABRPC7",169,0)
 ;
"RTN","VIABRPC7",170,0)
 ;Remove any problems to add that the patient already has as active problems
"RTN","VIABRPC7",171,0)
 I $D(PROBLEMS),$D(DFN) D
"RTN","VIABRPC7",172,0)
 . N VIAWPROB,VIAPROBI
"RTN","VIABRPC7",173,0)
 . K ^TMP("IB",$J,"INTERFACES","GMP SELECT PATIENT ACTIVE PROBLEMS")
"RTN","VIABRPC7",174,0)
 . D DSELECT^GMPLENFM  ;DBIA 1365
"RTN","VIABRPC7",175,0)
 . S VIAPROBI=0
"RTN","VIABRPC7",176,0)
 . F  S VIAPROBI=$O(^TMP("IB",$J,"INTERFACES","GMP SELECT PATIENT ACTIVE PROBLEMS",VIAPROBI)) Q:'VIAPROBI  D  ;DBIA 1365
"RTN","VIABRPC7",177,0)
 .. S VIAWPROB=$P(^TMP("IB",$J,"INTERFACES","GMP SELECT PATIENT ACTIVE PROBLEMS",VIAPROBI),"^",2,3)
"RTN","VIABRPC7",178,0)
 .. S VIAWPROB($S($E(VIAWPROB,1)="$":$E(VIAWPROB,2,255),1:VIAWPROB))=""
"RTN","VIABRPC7",179,0)
 . K ^TMP("IB",$J,"INTERFACES","GMP SELECT PATIENT ACTIVE PROBLEMS")
"RTN","VIABRPC7",180,0)
 . Q:'$D(VIAWPROB)
"RTN","VIABRPC7",181,0)
 . S VIAPROBI=""
"RTN","VIABRPC7",182,0)
 . F  S VIAPROBI=$O(PROBLEMS(VIAPROBI)) Q:'VIAPROBI  D
"RTN","VIABRPC7",183,0)
 .. S:$D(VIAWPROB(PROBLEMS(VIAPROBI))) VIAPXAPI("DX/PL",VIAPROBI,"PL ADD")=0
"RTN","VIABRPC7",184,0)
 ;
"RTN","VIABRPC7",185,0)
 S VIAPXAPI("ENCOUNTER",1,"ENCOUNTER TYPE")="P"
"RTN","VIABRPC7",186,0)
DATA2PCE ;
"RTN","VIABRPC7",187,0)
 N VSTR
"RTN","VIABRPC7",188,0)
 S VSTR=$P(PCELIST(1),U,4) K ^TMP("VIAPCE",$J,VSTR)
"RTN","VIABRPC7",189,0)
 S (VIASAVV,VIAAVST)=$$GETVSIT^VIABRPC(VSTR,DFN)
"RTN","VIABRPC7",190,0)
 I $G(PXAPREDT)!($G(VIACPTDE)) D
"RTN","VIABRPC7",191,0)
 . M VIAPXDEL("ENCOUNTER")=VIAPXAPI("ENCOUNTER")
"RTN","VIABRPC7",192,0)
 . I $G(VIACPTDE) M VIAPXDEL("PROCEDURE",VIACPTDE)=VIAPXAPI("PROCEDURE",VIACPTDE)
"RTN","VIABRPC7",193,0)
 . S OK=$$DATA2PCE^PXAPI("VIAPXDEL",PKG,SRC,.VIAAVST)
"RTN","VIABRPC7",194,0)
 S VIAAVST=VIASAVV,PXERRZ=""
"RTN","VIABRPC7",195,0)
 S OK=$$DATA2PCE^PXAPI("VIAPXAPI",PKG,SRC,.VIAAVST,,1,.PXERRORS,1,.PXPROBS)
"RTN","VIABRPC7",196,0)
 I OK>0,+NOTEIEN,+VIAAVST D  ; NOTEIEN only set on inpatient encounters
"RTN","VIABRPC7",197,0)
 .N VIAOK,VIAX
"RTN","VIABRPC7",198,0)
 .S VIAX(1207)=VIAAVST
"RTN","VIABRPC7",199,0)
 .D FILE^TIUSRVP(.VIAOK,NOTEIEN,.VIAX,1)
"RTN","VIABRPC7",200,0)
 S ZTSTAT=0  ; clear sync flag
"RTN","VIABRPC7",201,0)
 K NOTEIEN,PCELIST
"RTN","VIABRPC7",202,0)
 Q
"RTN","VIABRPC7",203,0)
 ;
"RTN","VIABRPC7",204,0)
MEDHIST(RESULT,DFN,VIAIFN) ; -- show admin history for a med  (RV)
"RTN","VIABRPC7",205,0)
 ; ICR#2467,#10141,#3459,#3889,#6479,#6484
"RTN","VIABRPC7",206,0)
 ;RPC VIAB MEDHIST
"RTN","VIABRPC7",207,0)
 ;This RPC is a similar to ORWPS MEDHIST
"RTN","VIABRPC7",208,0)
 N VIAPSID,HPIV,ISIV,CKPKG,VIAPHMID
"RTN","VIABRPC7",209,0)
 N CLIVDISP,DGP
"RTN","VIABRPC7",210,0)
 S VIAPSID=+$P($$OI^ORX8(VIAIFN),U,3),ISIV=0,HPIV=0
"RTN","VIABRPC7",211,0)
 S RESULT=$NA(^TMP("VIAHIST",$J)) K @RESULT
"RTN","VIABRPC7",212,0)
 S VIAPHMID=$$GET1^DIQ(100,+VIAIFN,4,"I")  ;Pharmacy order number
"RTN","VIABRPC7",213,0)
 S ISIV=$O(^ORD(100.98,"B","IV RX",ISIV))
"RTN","VIABRPC7",214,0)
 S HPIV=$O(^ORD(100.98,"B","TPN",HPIV))
"RTN","VIABRPC7",215,0)
 S CLIVDISP=$O(^ORD(100.98,"B","CI RX",""))
"RTN","VIABRPC7",216,0)
 S CKPKG=$$PATCH^XPDUTL("PSB*2.0*19")
"RTN","VIABRPC7",217,0)
 ;if the order is pending or the order has no pharmacy #
"RTN","VIABRPC7",218,0)
 ;or the order is not in the Display Group IV MEDICATION
"RTN","VIABRPC7",219,0)
 ; then use the Orderable item number to get the MAH.
"RTN","VIABRPC7",220,0)
 I (VIAPHMID["P")!(VIAPHMID="") D  Q
"RTN","VIABRPC7",221,0)
 . I '$L($T(HISTORY^PSBMLHS)) D  Q
"RTN","VIABRPC7",222,0)
 . . S @RESULT@(0)="This report is only available using BCMA version 2.0."
"RTN","VIABRPC7",223,0)
 . D HISTORY^PSBMLHS(.RESULT,DFN,VIAPSID)  ; DBIA #3459 for BCMA v2.0
"RTN","VIABRPC7",224,0)
 ; If the order has a Display Group of IV MEDICATION the use the Pharmacy order number to get the MA
"RTN","VIABRPC7",225,0)
 S DGP=$$GET1^DIQ(100,+VIAIFN,23,"I")
"RTN","VIABRPC7",226,0)
 I (DGP=ISIV)!(DGP=HPIV)!(DGP=CLIVDISP) D  Q
"RTN","VIABRPC7",227,0)
 . I 'CKPKG S @RESULT@(0)="Medication Administration History is not available at this time for IV fluids."
"RTN","VIABRPC7",228,0)
 . I CKPKG D
"RTN","VIABRPC7",229,0)
 . . D RPC^PSBO(.RESULT,"PM",DFN,"","","","","","","","","",VIAPHMID)  ;DBIA #3889
"RTN","VIABRPC7",230,0)
 . . I '$D(@RESULT) S @RESULT@(0)="No Medication Administration History found for the IV order."
"RTN","VIABRPC7",231,0)
 I '$L($T(HISTORY^PSBMLHS)) D  Q
"RTN","VIABRPC7",232,0)
 . S @RESULT@(0)="This report is only available using BCMA version 2.0."
"RTN","VIABRPC7",233,0)
 D HISTORY^PSBMLHS(.RESULT,DFN,VIAPSID)  ; DBIA #3459 for BCMA v2.0
"RTN","VIABRPC7",234,0)
 Q
"RTN","VIABRPC7",235,0)
 ;
"VER")
8.0^22.2
"BLD",10642,6)
^12
**END**
**END**

