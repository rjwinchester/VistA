EMERGENCY Released VIAB*1*14 SEQ #14
Extracted from mail message
**KIDS**:VIAB*1.0*14^

**INSTALL NAME**
VIAB*1.0*14
"BLD",10024,0)
VIAB*1.0*14^VISTA INTEGRATION ADAPTER^0^3190305^y
"BLD",10024,4,0)
^9.64PA^^
"BLD",10024,6)
1^
"BLD",10024,6.3)
17
"BLD",10024,"ABPKG")
n
"BLD",10024,"KRN",0)
^9.67PA^779.2^20
"BLD",10024,"KRN",.4,0)
.4
"BLD",10024,"KRN",.401,0)
.401
"BLD",10024,"KRN",.402,0)
.402
"BLD",10024,"KRN",.403,0)
.403
"BLD",10024,"KRN",.5,0)
.5
"BLD",10024,"KRN",.84,0)
.84
"BLD",10024,"KRN",3.6,0)
3.6
"BLD",10024,"KRN",3.8,0)
3.8
"BLD",10024,"KRN",9.2,0)
9.2
"BLD",10024,"KRN",9.8,0)
9.8
"BLD",10024,"KRN",9.8,"NM",0)
^9.68A^2^1
"BLD",10024,"KRN",9.8,"NM",2,0)
VIABMS1^^0^B103511639
"BLD",10024,"KRN",9.8,"NM","B","VIABMS1",2)
 
"BLD",10024,"KRN",19,0)
19
"BLD",10024,"KRN",19,"NM",0)
^9.68A^1^1
"BLD",10024,"KRN",19,"NM",1,0)
VIAB WEB SERVICES OPTION^^0
"BLD",10024,"KRN",19,"NM","B","VIAB WEB SERVICES OPTION",1)

"BLD",10024,"KRN",19.1,0)
19.1
"BLD",10024,"KRN",101,0)
101
"BLD",10024,"KRN",409.61,0)
409.61
"BLD",10024,"KRN",771,0)
771
"BLD",10024,"KRN",779.2,0)
779.2
"BLD",10024,"KRN",870,0)
870
"BLD",10024,"KRN",8989.51,0)
8989.51
"BLD",10024,"KRN",8989.52,0)
8989.52
"BLD",10024,"KRN",8994,0)
8994
"BLD",10024,"KRN",8994,"NM",0)
^9.68A^1^1
"BLD",10024,"KRN",8994,"NM",1,0)
VIAB GET IMMUNIZATION TYPE^^0
"BLD",10024,"KRN",8994,"NM","B","VIAB GET IMMUNIZATION TYPE",1)
 
"BLD",10024,"KRN","B",.4,.4)
 
"BLD",10024,"KRN","B",.401,.401)
 
"BLD",10024,"KRN","B",.402,.402)
 
"BLD",10024,"KRN","B",.403,.403)
 
"BLD",10024,"KRN","B",.5,.5)
 
"BLD",10024,"KRN","B",.84,.84)
 
"BLD",10024,"KRN","B",3.6,3.6)
 
"BLD",10024,"KRN","B",3.8,3.8)
 
"BLD",10024,"KRN","B",9.2,9.2)
 
"BLD",10024,"KRN","B",9.8,9.8)
 
"BLD",10024,"KRN","B",19,19)
 
"BLD",10024,"KRN","B",19.1,19.1)
 
"BLD",10024,"KRN","B",101,101)
 
"BLD",10024,"KRN","B",409.61,409.61)
 
"BLD",10024,"KRN","B",771,771)
 
"BLD",10024,"KRN","B",779.2,779.2)
 
"BLD",10024,"KRN","B",870,870)
 
"BLD",10024,"KRN","B",8989.51,8989.51)
 
"BLD",10024,"KRN","B",8989.52,8989.52)
 
"BLD",10024,"KRN","B",8994,8994)
 
"BLD",10024,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",10024,"QUES",0)
^9.62^^
"BLD",10024,"REQB",0)
^9.611^^0
"KRN",19,2921669,-1)
0^1
"KRN",19,2921669,0)
VIAB WEB SERVICES OPTION^VIAB Web Services Option^^B^^^^^^^^VISTA INTEGRATION ADAPTER
"KRN",19,2921669,1,0)
^19.06^3^3^3180827^^^^
"KRN",19,2921669,1,1,0)
This option is required by the Kernel Broker to give 
"KRN",19,2921669,1,2,0)
access to the RPCs used by the Vista Integration Adapter 
"KRN",19,2921669,1,3,0)
(VIA) team.
"KRN",19,2921669,99.1)
64931,29712
"KRN",19,2921669,"RPC",0)
^19.05P^328^328
"KRN",19,2921669,"RPC",1,0)
DG SENSITIVE RECORD ACCESS
"KRN",19,2921669,"RPC",2,0)
DG SENSITIVE RECORD BULLETIN
"KRN",19,2921669,"RPC",3,0)
ORPRF HASFLG
"KRN",19,2921669,"RPC",4,0)
ORQPT CLINIC PATIENTS
"KRN",19,2921669,"RPC",5,0)
ORQPT PROVIDER PATIENTS
"KRN",19,2921669,"RPC",6,0)
ORQPT SPECIALTIES
"KRN",19,2921669,"RPC",7,0)
ORQPT SPECIALTY PATIENTS
"KRN",19,2921669,"RPC",8,0)
ORQPT TEAM PATIENTS
"KRN",19,2921669,"RPC",9,0)
ORQPT TEAMS
"KRN",19,2921669,"RPC",10,0)
ORQPT WARDRMBED
"KRN",19,2921669,"RPC",11,0)
ORQPT WARDS
"KRN",19,2921669,"RPC",12,0)
ORQQCN DETAIL
"KRN",19,2921669,"RPC",13,0)
ORQQCN GET ORDER NUMBER
"KRN",19,2921669,"RPC",14,0)
ORQQCN LIST
"KRN",19,2921669,"RPC",15,0)
ORVAA VAA
"KRN",19,2921669,"RPC",16,0)
ORWCIRN FACLIST
"KRN",19,2921669,"RPC",17,0)
ORWCV DTLVST
"KRN",19,2921669,"RPC",18,0)
ORWCV VST
"KRN",19,2921669,"RPC",19,0)
ORWDX LOADRSP
"KRN",19,2921669,"RPC",20,0)
ORWDX LOCK ORDER
"KRN",19,2921669,"RPC",21,0)
ORWDX UNLOCK ORDER
"KRN",19,2921669,"RPC",22,0)
ORWDXA OFCPLX
"KRN",19,2921669,"RPC",23,0)
ORWDXC SESSION
"KRN",19,2921669,"RPC",24,0)
ORWDXM DLGNAME
"KRN",19,2921669,"RPC",25,0)
ORWDXM1 BLDQRSP
"KRN",19,2921669,"RPC",26,0)
ORWLRR ALLTESTS
"KRN",19,2921669,"RPC",27,0)
ORWLRR INFO
"KRN",19,2921669,"RPC",28,0)
ORWLRR INTERIMG
"KRN",19,2921669,"RPC",29,0)
ORWORDG MAPSEQ
"KRN",19,2921669,"RPC",30,0)
ORWORR AGET
"KRN",19,2921669,"RPC",31,0)
ORWORR GET4LST
"KRN",19,2921669,"RPC",32,0)
ORWPS ACTIVE
"KRN",19,2921669,"RPC",33,0)
ORWPS DETAIL
"KRN",19,2921669,"RPC",34,0)
ORWPT ADMITLST
"KRN",19,2921669,"RPC",35,0)
ORWPT BYWARD
"KRN",19,2921669,"RPC",36,0)
ORWPT DIEDON
"KRN",19,2921669,"RPC",37,0)
ORWPT ID INFO
"KRN",19,2921669,"RPC",38,0)
ORWPT LIST ALL
"KRN",19,2921669,"RPC",39,0)
ORWPT PTINQ
"KRN",19,2921669,"RPC",40,0)
ORWPT SELECT
"KRN",19,2921669,"RPC",41,0)
ORWPT1 PCDETAIL
"KRN",19,2921669,"RPC",42,0)
ORWPT1 PRCARE
"KRN",19,2921669,"RPC",43,0)
ORWPT16 ID INFO
"KRN",19,2921669,"RPC",44,0)
ORWRP REPORT TEXT
"KRN",19,2921669,"RPC",45,0)
ORWRP2 HS COMPONENTS
"KRN",19,2921669,"RPC",46,0)
ORWRP2 HS REPORT TEXT
"KRN",19,2921669,"RPC",47,0)
ORWSR RPTLIST
"KRN",19,2921669,"RPC",48,0)
ORWTIU CHKTXT
"KRN",19,2921669,"RPC",49,0)
ORWU CLINLOC
"KRN",19,2921669,"RPC",50,0)
ORWU DT
"KRN",19,2921669,"RPC",51,0)
ORWU NEWPERS
"KRN",19,2921669,"RPC",52,0)
ORWU USERINFO
"KRN",19,2921669,"RPC",53,0)
ORWU VALIDSIG
"KRN",19,2921669,"RPC",54,0)
ORWU1 NEWLOC
"KRN",19,2921669,"RPC",55,0)
SC GETS ENTRY DATA
"KRN",19,2921669,"RPC",56,0)
SC LISTER
"KRN",19,2921669,"RPC",57,0)
TIU AUTHORIZATION
"KRN",19,2921669,"RPC",58,0)
TIU CREATE RECORD
"KRN",19,2921669,"RPC",59,0)
TIU DOCUMENTS BY CONTEXT
"KRN",19,2921669,"RPC",60,0)
TIU GET PRF ACTIONS
"KRN",19,2921669,"RPC",61,0)
TIU GET RECORD TEXT
"KRN",19,2921669,"RPC",62,0)
TIU HAS AUTHOR SIGNED?
"KRN",19,2921669,"RPC",63,0)
TIU IS THIS A CONSULT?
"KRN",19,2921669,"RPC",64,0)
TIU IS THIS A SURGERY?
"KRN",19,2921669,"RPC",65,0)
TIU ISPRF
"KRN",19,2921669,"RPC",66,0)
TIU LOCK RECORD
"KRN",19,2921669,"RPC",67,0)
TIU LONG LIST OF TITLES
"KRN",19,2921669,"RPC",68,0)
TIU ONE VISIT NOTE?
"KRN",19,2921669,"RPC",69,0)
TIU REQUIRES COSIGNATURE
"KRN",19,2921669,"RPC",70,0)
TIU SET DOCUMENT TEXT
"KRN",19,2921669,"RPC",71,0)
TIU SIGN RECORD
"KRN",19,2921669,"RPC",72,0)
TIU UNLOCK RECORD
"KRN",19,2921669,"RPC",73,0)
TIU UPDATE RECORD
"KRN",19,2921669,"RPC",74,0)
TIU WAS THIS SAVED?
"KRN",19,2921669,"RPC",75,0)
TIU WHICH SIGNATURE ACTION
"KRN",19,2921669,"RPC",78,0)
ORQQAL LIST
"KRN",19,2921669,"RPC",79,0)
ORQQVI VITALS
"KRN",19,2921669,"RPC",80,0)
ORWDX LOCK
"KRN",19,2921669,"RPC",81,0)
ORWDX SEND
"KRN",19,2921669,"RPC",82,0)
ORWDX UNLOCK
"KRN",19,2921669,"RPC",83,0)
ORWPT FULLSSN
"KRN",19,2921669,"RPC",84,0)
ORWPT LAST5
"KRN",19,2921669,"RPC",85,0)
VAFCTFU CONVERT ICN TO DFN
"KRN",19,2921669,"RPC",86,0)
VPR GET PATIENT DATA
"KRN",19,2921669,"RPC",87,0)
ORALWORD ALLWORD
"KRN",19,2921669,"RPC",88,0)
ORCHECK GETXTRA
"KRN",19,2921669,"RPC",89,0)
ORDDPAPI CLOZMSG
"KRN",19,2921669,"RPC",90,0)
OREVNTX1 GETSTS
"KRN",19,2921669,"RPC",92,0)
ORQQCN STATUS
"KRN",19,2921669,"RPC",93,0)
ORQQCN SVC W/SYNONYMS
"KRN",19,2921669,"RPC",94,0)
ORWD1 PRINTGUI
"KRN",19,2921669,"RPC",95,0)
ORWD1 RVPRINT
"KRN",19,2921669,"RPC",96,0)
ORWD2 DEVINFO
"KRN",19,2921669,"RPC",97,0)
ORWDCN32 ORDRMSG
"KRN",19,2921669,"RPC",98,0)
ORWDPS1 FAILDEA
"KRN",19,2921669,"RPC",99,0)
ORWDPS1 ODSLCT
"KRN",19,2921669,"RPC",100,0)
ORWDPS2 DAY2QTY
"KRN",19,2921669,"RPC",101,0)
ORWDPS2 MAXREF
"KRN",19,2921669,"RPC",102,0)
ORWDPS2 QTY2DAY
"KRN",19,2921669,"RPC",103,0)
ORWDPS32 DRUGMSG
"KRN",19,2921669,"RPC",104,0)
ORWDPS32 ISSPLY
"KRN",19,2921669,"RPC",105,0)
ORWDPS32 VALQTY
"KRN",19,2921669,"RPC",106,0)
ORWDPS32 VALROUTE
"KRN",19,2921669,"RPC",107,0)
ORWDRA32 APPROVAL
"KRN",19,2921669,"RPC",108,0)
ORWDRA32 DEF
"KRN",19,2921669,"RPC",110,0)
ORWDX DGNM
"KRN",19,2921669,"RPC",111,0)
ORWDX2 DCREASON
"KRN",19,2921669,"RPC",112,0)
ORWDXA ISACTOI
"KRN",19,2921669,"RPC",113,0)
ORWDXR RNWFLDS
"KRN",19,2921669,"RPC",114,0)
ORWDXR01 CANCHG
"KRN",19,2921669,"RPC",115,0)
ORWGRPC ITEMDATA
"KRN",19,2921669,"RPC",116,0)
ORWGRPC ITEMS
"KRN",19,2921669,"RPC",117,0)
ORWOR1 GETDSCH
"KRN",19,2921669,"RPC",118,0)
ORWRP GET DEFAULT PRINTER
"KRN",19,2921669,"RPC",120,0)
ORWTPD GETDFLT
"KRN",19,2921669,"RPC",121,0)
TIU DETAILED DISPLAY
"KRN",19,2921669,"RPC",125,0)
VIABPCE2 GET HFACTORS TYPE
"KRN",19,2921669,"RPC",126,0)
VIABPCE4 LEX
"KRN",19,2921669,"RPC",127,0)
VIABU EXTNAME
"KRN",19,2921669,"RPC",128,0)
TIU SET ADMINISTRATIVE CLOSURE
"KRN",19,2921669,"RPC",129,0)
VIAB GETSURR
"KRN",19,2921669,"RPC",133,0)
ORWMC PATIENT PROCEDURES1
"KRN",19,2921669,"RPC",137,0)
ORQPT PROVIDERS
"KRN",19,2921669,"RPC",158,0)
VIAB GET USER DIVISIONS
"KRN",19,2921669,"RPC",160,0)
ORWRP REPORT LISTS
"KRN",19,2921669,"RPC",161,0)
TIU CREATE ADDENDUM RECORD
"KRN",19,2921669,"RPC",162,0)
TIU UPDATE ADDITIONAL SIGNERS
"KRN",19,2921669,"RPC",163,0)
VIAB SITENAME
"KRN",19,2921669,"RPC",164,0)
VIAB ACTPROB
"KRN",19,2921669,"RPC",165,0)
VIAB BMS
"KRN",19,2921669,"RPC",166,0)
VIAB CPTMODS
"KRN",19,2921669,"RPC",167,0)
VIAB DEFAULT REQUEST REASON
"KRN",19,2921669,"RPC",168,0)
VIAB EDIT DEFAULT REASON
"KRN",19,2921669,"RPC",173,0)
VIAB NOTEVSTR
"KRN",19,2921669,"RPC",179,0)
VIAB CURSPE
"KRN",19,2921669,"RPC",180,0)
VIAB RADSRC
"KRN",19,2921669,"RPC",194,0)
MD CLIO
"KRN",19,2921669,"RPC",195,0)
VIAB DEA SIGINFO
"KRN",19,2921669,"RPC",196,0)
VIAB DEATEXT
"KRN",19,2921669,"RPC",197,0)
VIAB DOWSCH
"KRN",19,2921669,"RPC",198,0)
VIAB EFR
"KRN",19,2921669,"RPC",199,0)
VIAB FUTURE LAB COLLECTS
"KRN",19,2921669,"RPC",200,0)
VIAB GET IMMUNIZATION TYPE
"KRN",19,2921669,"RPC",201,0)
VIAB GET LAB TIMES
"KRN",19,2921669,"RPC",202,0)
VIAB IMOLOC
"KRN",19,2921669,"RPC",203,0)
VIAB INPLOC
"KRN",19,2921669,"RPC",204,0)
VIAB ISPROSVC
"KRN",19,2921669,"RPC",206,0)
VIAB LOC TYPE
"KRN",19,2921669,"RPC",207,0)
VIAB MAXDAYS
"KRN",19,2921669,"RPC",209,0)
VIAB PROVDX
"KRN",19,2921669,"RPC",210,0)
VIAB SCDIS
"KRN",19,2921669,"RPC",211,0)
VIAB SCHALL
"KRN",19,2921669,"RPC",212,0)
VIAB SCSEL
"KRN",19,2921669,"RPC",213,0)
VIAB SRGY RPTLIST
"KRN",19,2921669,"RPC",214,0)
VIAB VALSCH
"KRN",19,2921669,"RPC",215,0)
VIAB VISIT
"KRN",19,2921669,"RPC",218,0)
VIABDXC ON
"KRN",19,2921669,"RPC",219,0)
VIAB IC VALID
"KRN",19,2921669,"RPC",220,0)
VIAB TIU SECVST
"KRN",19,2921669,"RPC",221,0)
VIAB ADMIN
"KRN",19,2921669,"RPC",223,0)
VIAB IMMED COLLECT
"KRN",19,2921669,"RPC",224,0)
VIAB DFLTSPLY
"KRN",19,2921669,"RPC",225,0)
VIAB DEVICE
"KRN",19,2921669,"RPC",226,0)
VIAB ALLSAMP
"KRN",19,2921669,"RPC",227,0)
VIAB ALLSPEC
"KRN",19,2921669,"RPC",232,0)
ORWDXM FORMID
"KRN",19,2921669,"RPC",240,0)
ORWDPS5 LESGRP
"KRN",19,2921669,"RPC",250,0)
ORWDPS2 CHKGRP
"KRN",19,2921669,"RPC",251,0)
ORWORR GETTXT
"KRN",19,2921669,"RPC",252,0)
ORWDXC DISPLAY
"KRN",19,2921669,"RPC",253,0)
ORQOR DETAIL
"KRN",19,2921669,"RPC",254,0)
OREVNTX1 DLGIEN
"KRN",19,2921669,"RPC",255,0)
ORWDX DLGDEF
"KRN",19,2921669,"RPC",256,0)
ORWOR RESULT HISTORY
"KRN",19,2921669,"RPC",257,0)
ORWDX WRLST
"KRN",19,2921669,"RPC",258,0)
ORWUL FVIDX
"KRN",19,2921669,"RPC",259,0)
ORWUL FV4DG
"KRN",19,2921669,"RPC",260,0)
ORWDX ORDITM
"KRN",19,2921669,"RPC",261,0)
ORWORDG REVSTS
"KRN",19,2921669,"RPC",262,0)
ORWDXR GETPKG
"KRN",19,2921669,"RPC",263,0)
OREVNTX1 ODPTEVID
"KRN",19,2921669,"RPC",264,0)
ORWDRA32 ISOLATN
"KRN",19,2921669,"RPC",265,0)
ORWDPS2 CHKPI
"KRN",19,2921669,"RPC",266,0)
ORWU DEVICE
"KRN",19,2921669,"RPC",267,0)
ORWD2 MANUAL
"KRN",19,2921669,"RPC",268,0)
ORWDRA32 PROCMSG
"KRN",19,2921669,"RPC",270,0)
ORWUL FVSUB
"KRN",19,2921669,"RPC",274,0)
ORIMO IMOLOC
"KRN",19,2921669,"RPC",275,0)
ORIMO IMOOD
"KRN",19,2921669,"RPC",277,0)
ORWDXR ISREL
"KRN",19,2921669,"RPC",278,0)
ORWDX1 ORDMATCH
"KRN",19,2921669,"RPC",279,0)
ORWOR PKISITE
"KRN",19,2921669,"RPC",280,0)
ORWDPS2 QOGRP
"KRN",19,2921669,"RPC",281,0)
ORWDXA VALID
"KRN",19,2921669,"RPC",282,0)
ORWOR RESULT
"KRN",19,2921669,"RPC",283,0)
ORWDXC SAVECHK
"KRN",19,2921669,"RPC",286,0)
ORWDXR ISCPLX
"KRN",19,2921669,"RPC",287,0)
VIABPCE SAVE
"KRN",19,2921669,"RPC",288,0)
MBAA CANCEL APPOINTMENT
"KRN",19,2921669,"RPC",289,0)
MBAA PROVIDERS BY CLINIC
"KRN",19,2921669,"RPC",290,0)
MBAA VERIFY CLINIC ACCESS
"KRN",19,2921669,"RPC",291,0)
MBAA REMOVE FROM EWL
"KRN",19,2921669,"RPC",292,0)
VIAB MEDHIST
"KRN",19,2921669,"RPC",293,0)
VIABDX SAVE
"KRN",19,2921669,"RPC",294,0)
MBAA GET CLINIC DETAILS
"KRN",19,2921669,"RPC",295,0)
MBAA APPOINTMENT LIST BY NAME
"KRN",19,2921669,"RPC",296,0)
MBAA FACILITY WAIT LIST
"KRN",19,2921669,"RPC",297,0)
MBAA APPOINTMENT MAKE
"KRN",19,2921669,"RPC",298,0)
MBAA GET CLINIC AVAILABILITY
"KRN",19,2921669,"RPC",299,0)
MBAA LIST CANCELLATION REASONS
"KRN",19,2921669,"RPC",300,0)
MBAA PATIENT PENDING APPT
"KRN",19,2921669,"RPC",301,0)
MBAA WAIT LIST BY DFN
"KRN",19,2921669,"RPC",302,0)
ORWDRA32 RAORDITM
"KRN",19,2921669,"RPC",303,0)
ORWDXA DC
"KRN",19,2921669,"RPC",304,0)
ORWORDG ALLTREE
"KRN",19,2921669,"RPC",305,0)
ORDEA DEATEXT
"KRN",19,2921669,"RPC",306,0)
ORDEA SIGINFO
"KRN",19,2921669,"RPC",307,0)
ORWDLR32 ALLSAMP
"KRN",19,2921669,"RPC",308,0)
ORWDLR32 ALLSPEC
"KRN",19,2921669,"RPC",309,0)
ORWDLR32 DEF
"KRN",19,2921669,"RPC",310,0)
ORWDLR32 GET LAB TIMES
"KRN",19,2921669,"RPC",311,0)
ORWDLR32 IC VALID
"KRN",19,2921669,"RPC",312,0)
ORWDLR32 IMMED COLLECT
"KRN",19,2921669,"RPC",313,0)
ORWDLR32 LOAD
"KRN",19,2921669,"RPC",314,0)
ORWDLR32 MAXDAYS
"KRN",19,2921669,"RPC",315,0)
ORWDLR33 FUTURE LAB COLLECTS
"KRN",19,2921669,"RPC",316,0)
ORWDPS1 DFLTSPLY
"KRN",19,2921669,"RPC",317,0)
ORWDPS1 DOWSCH
"KRN",19,2921669,"RPC",318,0)
ORWDPS1 SCHALL
"KRN",19,2921669,"RPC",319,0)
ORWDPS2 ADMIN
"KRN",19,2921669,"RPC",320,0)
ORWDPS2 OISLCT
"KRN",19,2921669,"RPC",321,0)
ORWDPS32 AUTH
"KRN",19,2921669,"RPC",322,0)
ORWDPS32 VALSCH
"KRN",19,2921669,"RPC",323,0)
ORWDRA32 IMMTYPSEL
"KRN",19,2921669,"RPC",324,0)
ORWDRA32 LOCTYPE
"KRN",19,2921669,"RPC",325,0)
ORWDXC ACCEPT
"KRN",19,2921669,"RPC",326,0)
ORWDXC ON
"KRN",19,2921669,"RPC",327,0)
ORWU INPLOC
"KRN",19,2921669,"RPC",328,0)
ORWDRA32 IMTYPSEL
"KRN",19,2921669,"U")
VIAB WEB SERVICES OPTION
"KRN",8994,4090,-1)
0^1
"KRN",8994,4090,0)
VIAB GET IMMUNIZATION TYPE^IMMTYPE^VIABRPC^2^R^^^^^^1
"KRN",8994,4090,1,0)
^8994.01^1^1^3190305^^^^
"KRN",8994,4090,1,1,0)
Returns a list of active immunizations.
"KRN",8994,4090,2,0)
^8994.02A^2^2
"KRN",8994,4090,2,1,0)
RESULT^4^^1^1
"KRN",8994,4090,2,1,1,0)
^^2^2^3180309^
"KRN",8994,4090,2,1,1,1,0)
This field is passed by reference and this RPC populates the field with 
"KRN",8994,4090,2,1,1,2,0)
immunization information.
"KRN",8994,4090,2,2,0)
VIACVXS^1^^0^2
"KRN",8994,4090,2,2,1,0)
^8994.021^1^1^3190305^^^^
"KRN",8994,4090,2,2,1,1,0)
One or more CVX CODE(s) separated by commas to be retrieved.
"KRN",8994,4090,2,"B","RESULT",1)

"KRN",8994,4090,2,"B","RESULT",2)
 
"KRN",8994,4090,2,"B","VIACVXS",1)
 
"KRN",8994,4090,2,"B","VIACVXS",2)

"KRN",8994,4090,2,"PARAMSEQ",1,1)

"KRN",8994,4090,2,"PARAMSEQ",1,2)
 
"KRN",8994,4090,2,"PARAMSEQ",2,1)
 
"KRN",8994,4090,2,"PARAMSEQ",2,2)

"KRN",8994,4090,3,0)
^8994.03^15^15^3190305^^
"KRN",8994,4090,3,1,0)
Returns a list of active immunizations from IMMUNIZATIONS file 
"KRN",8994,4090,3,2,0)
(#9999999.14).
"KRN",8994,4090,3,3,0)
 
"KRN",8994,4090,3,4,0)
Example:
"KRN",8994,4090,3,5,0)
 
"KRN",8994,4090,3,6,0)
  D IMMTYPE^VIABRPC(.RESULT,VIACVXS)
"KRN",8994,4090,3,7,0)
 
"KRN",8994,4090,3,8,0)
   Returns: Immunization IEN^SHORT NAME^CVX Code^CPT CODE^CPT Description
"KRN",8994,4090,3,9,0)
 
"KRN",8994,4090,3,10,0)
RESULT(1)="71^INFLUENZA, HIGH DOSE SEASONAL^135^90662^FLU VACC PRSV FREE 
"KRN",8994,4090,3,11,0)
INC ANT IG"
"KRN",8994,4090,3,12,0)
RESULT(2)="1140^INFLUENZA, SEASONAL, INJECTABLE, PRESERVATIVE 
"KRN",8994,4090,3,13,0)
FREE^140^90656^FLU VACCINE NO PRESERV 3 & >"
"KRN",8994,4090,3,14,0)
RESULT(3)="72^PNEUMOCOCCAL CONJUGATE PCV 13^133^90670^PNEUMOCOCCAL VACC 13
"KRN",8994,4090,3,15,0)
VAL I M"
"KRN",8994,4090,3,16,0)
VAL I M"
"MBREQ")
0
"ORD",16,8994)
8994;16;1;;;;RPCE1^XPDIA1;;;RPCDEL^XPDIA1
"ORD",16,8994,0)
REMOTE PROCEDURE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",656,-1)
1^1
"PKG",656,0)
VISTA INTEGRATION ADAPTER^VIAB^VIAB APP
"PKG",656,22,0)
^9.49I^1^1
"PKG",656,22,1,0)
1.0
"PKG",656,22,1,"PAH",1,0)
14^3190305^520736445
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","VIABMS1")
0^2^B103511639^B102618166
"RTN","VIABMS1",1,0)
VIABMS1 ;AAC/JMC - VIA BMS RPCs ;04/15/2016
"RTN","VIABMS1",2,0)
 ;;1.0;VISTA INTEGRATION ADAPTER;**8,11,13,14**;06-FEB-2014;Build 17
"RTN","VIABMS1",3,0)
 ;
"RTN","VIABMS1",4,0)
 ;The following RPC is in support of the Bed Management System (BMS). This RPC reads the parameter "Path"
"RTN","VIABMS1",5,0)
 ;and determine from that parameter which data to return.  All BMS requests are handled by this one RPC.
"RTN","VIABMS1",6,0)
 ;Continuation of VIABMS
"RTN","VIABMS1",7,0)
 ; RPC VIAB BMS
"RTN","VIABMS1",8,0)
 ; ICR 1254    DIC(45.7,   [field #1]
"RTN","VIABMS1",9,0)
 ; ICR 2638    ORDER STATUS file direct access [Filed 100.01, field #.01]
"RTN","VIABMS1",10,0)
 ; ICR 1359    DBIA1359 [File #45.7;field .01]
"RTN","VIABMS1",11,0)
 ; ICR 433     DBIA433 [File #405.1;field .01]
"RTN","VIABMS1",12,0)
 ; ICR 2438    DBIA2438 [File #40.8;field .01]
"RTN","VIABMS1",13,0)
 ; ICR 2843    DBIA2843 [File #101.43;field .01] (controlled)
"RTN","VIABMS1",14,0)
 ; ICR 2638    ORDER STATUS file direct access [File #100.01;field .01]
"RTN","VIABMS1",15,0)
 ; ICR 6611    SCHEDULED ADMISSION [File 41.1;fields fields .01;2;3;4;5;6;8;9;11;12;13;14](private)
"RTN","VIABMS1",16,0)
 ; ICR 1380    ROOM-BED [File #405.4;fields .01;.2;100](controlled)
"RTN","VIABMS1",17,0)
 ; ICR 4433    NAME: DBIA4433 (API SDAPI^SDAMA301) [supported] 
"RTN","VIABMS1",18,0)
 ; ICR 1865    DBIA1865 [File #405;fields .01;.02;.03;.04;.06;.07;.14;100;101]
"RTN","VIABMS1",19,0)
 ; ICR 6475    LIST ORDERS [File #100; fields .02;6;5;30;31;etc]
"RTN","VIABMS1",20,0)
 Q
"RTN","VIABMS1",21,0)
 ;
"RTN","VIABMS1",22,0)
TRTSPTY ; Returns a list of facility treating specialty from the FACILITY TREATING SPECIALTY file #45.7;ICR-1359
"RTN","VIABMS1",23,0)
 ;Input - VIA("PATH")="LISTFACILITYTREATINGSPECIALTY" [required]
"RTN","VIABMS1",24,0)
 ;        VIA("IENS")= Facility Treating Specialty IEN, (multiple IENs separated by comma) [optional] 
"RTN","VIABMS1",25,0)
 ;Data returned
"RTN","VIABMS1",26,0)
 ;    .01 Name,1 Specialty ID
"RTN","VIABMS1",27,0)
 N VIAFILE,VIAFIELDS,VIAFLAGS,TVIAIENS
"RTN","VIABMS1",28,0)
 S VIAFILE=45.7,VIAFIELDS="@;.01;1",VIAFLAGS="IP"
"RTN","VIABMS1",29,0)
 I VIAIENS'="" S TVIAIENS=VIAIENS S VIAIENS="",VIAMAX=""
"RTN","VIABMS1",30,0)
 D LDIC^VIABMS
"RTN","VIABMS1",31,0)
 I $G(TVIAIENS)'="" S VIAIENS=TVIAIENS D PIENS
"RTN","VIABMS1",32,0)
 Q
"RTN","VIABMS1",33,0)
 ;
"RTN","VIABMS1",34,0)
PIENS ; multiple IENs; parse IENS
"RTN","VIABMS1",35,0)
 N TRESULT,IEN,I,CNT,X
"RTN","VIABMS1",36,0)
 I '$D(RESULT) Q
"RTN","VIABMS1",37,0)
 M TRESULT=RESULT
"RTN","VIABMS1",38,0)
 K RESULT
"RTN","VIABMS1",39,0)
 S RESULT(1)="[Data]",CNT=1
"RTN","VIABMS1",40,0)
 F I=1:1:$L(VIAIENS,",") S IEN=$P(VIAIENS,",",I) I IEN'="" S IEN(IEN)=""
"RTN","VIABMS1",41,0)
 S X=0 F  S X=$O(TRESULT(X)) Q:'X  S IEN=$P(TRESULT(X),U) I IEN'="",$D(IEN(IEN)) D
"RTN","VIABMS1",42,0)
 . S CNT=CNT+1,RESULT(CNT)=TRESULT(X)
"RTN","VIABMS1",43,0)
 Q
"RTN","VIABMS1",44,0)
 ;
"RTN","VIABMS1",45,0)
MASTYP ; Returns a list of MAS movement transaction type from the MAS MOVEMENT TRANSACTION TYPE file #405.3;ICR-433
"RTN","VIABMS1",46,0)
 ;Input - VIA("PATH")="LISTMASMOVEMENTTRANSACTIONTYPE" [required] 
"RTN","VIABMS1",47,0)
 ;Data returned
"RTN","VIABMS1",48,0)
 ;    .01 Name
"RTN","VIABMS1",49,0)
 N VIAFILE,VIAFIELDS,VIAFLAGS
"RTN","VIABMS1",50,0)
 S VIAFILE=405.3,VIAFIELDS="@;.01",VIAFLAGS="IP"
"RTN","VIABMS1",51,0)
 D LDIC^VIABMS
"RTN","VIABMS1",52,0)
 Q
"RTN","VIABMS1",53,0)
 ;
"RTN","VIABMS1",54,0)
MEDCTR ; Returns a list of Medical Center division from the MEDICAL CENTER DIVISION file #40.8;ICR-2438
"RTN","VIABMS1",55,0)
 ;Input - VIA("PATH")="LISTMEDICALCENTERDIVISION" [required]
"RTN","VIABMS1",56,0)
 ;        VIA("IENS")= Medical Center Division IEN, (multiple IENs separated by comma) [optional] 
"RTN","VIABMS1",57,0)
 ;Data returned
"RTN","VIABMS1",58,0)
 ;    .01 Name
"RTN","VIABMS1",59,0)
 N VIAFILE,VIAFIELDS,VIAFLAGS,TVIAIENS
"RTN","VIABMS1",60,0)
 S VIAFILE=40.8,VIAFIELDS="@;.01",VIAFLAGS="IP"
"RTN","VIABMS1",61,0)
 I VIAIENS'="" S TVIAIENS=VIAIENS S VIAIENS="",VIAMAX=""
"RTN","VIABMS1",62,0)
 D LDIC^VIABMS
"RTN","VIABMS1",63,0)
 I $G(TVIAIENS)'="" S VIAIENS=TVIAIENS D PIENS
"RTN","VIABMS1",64,0)
 Q
"RTN","VIABMS1",65,0)
 ;
"RTN","VIABMS1",66,0)
ORDITM ; Returns a list of orderable items from the ORDERABLE ITEMS file #101.43;ICR-2843
"RTN","VIABMS1",67,0)
 ;Input - VIA("PATH")="LISTORDERABLEITEM" [required]
"RTN","VIABMS1",68,0)
 ;Data returned
"RTN","VIABMS1",69,0)
 ;    .01 Name
"RTN","VIABMS1",70,0)
 N VIAFILE,VIAFIELDS,VIAFLAGS,VIAXREF
"RTN","VIABMS1",71,0)
 S VIAFILE=101.43,VIAFIELDS="@;.01",VIAFLAGS="IPQ",VIAXREF="#"
"RTN","VIABMS1",72,0)
 D LDIC^VIABMS
"RTN","VIABMS1",73,0)
 Q
"RTN","VIABMS1",74,0)
 ;
"RTN","VIABMS1",75,0)
ORDSTA ; Returns a list of Medical Center division from the ORDER STATUS file #100.01;ICR-2638
"RTN","VIABMS1",76,0)
 ;Input - VIA("PATH")="LISTORDERSTATUS" [required]
"RTN","VIABMS1",77,0)
 ;        VIA("IENS")= Order Status IEN, (multiple IENs separated by comma) [optional] 
"RTN","VIABMS1",78,0)
 ;Data returned
"RTN","VIABMS1",79,0)
 ;    .01 Name
"RTN","VIABMS1",80,0)
 N VIAFILE,VIAFIELDS,VIAFLAGS,TVIAIENS
"RTN","VIABMS1",81,0)
 S VIAFILE=100.01,VIAFIELDS="@;.01",VIAFLAGS="IP"
"RTN","VIABMS1",82,0)
 I VIAIENS'="" S TVIAIENS=VIAIENS S VIAIENS="",VIAMAX=""
"RTN","VIABMS1",83,0)
 D LDIC^VIABMS
"RTN","VIABMS1",84,0)
 I $G(TVIAIENS)'="" S VIAIENS=TVIAIENS D PIENS
"RTN","VIABMS1",85,0)
 Q
"RTN","VIABMS1",86,0)
 ;
"RTN","VIABMS1",87,0)
BEDSWCH ; Returns a list of bed switch from the PATIENT MOVEMENT file #405;ICR-1865
"RTN","VIABMS1",88,0)
 ;Input - VIA("PATH")="LISTBEDSWITCH" [required]
"RTN","VIABMS1",89,0)
 ;        VIA("IENS")="Patient Movement IEN" (multiple IENs separated by a comma) [required]
"RTN","VIABMS1",90,0)
 ;Data returned
"RTN","VIABMS1",91,0)
 ;    .06 WardLocationId,.07 RoomBedId
"RTN","VIABMS1",92,0)
 N VIAFILE,VIAFIELDS,VIAFLAGS,I,VIATIEN,VIAIEN,TRESULT,X,N,I,VAL
"RTN","VIABMS1",93,0)
 I VIAIENS="" S VIAER="Missing MOVEMENT IEN" D ERR^VIABMS(VIAER) Q 
"RTN","VIABMS1",94,0)
 S VIAFILE=405,VIAFIELDS=".06;.07",VIAFLAGS="IE"
"RTN","VIABMS1",95,0)
 S TRESULT(1)="[Data]",CNT=1
"RTN","VIABMS1",96,0)
 ; multiple IENs
"RTN","VIABMS1",97,0)
 S VIATIEN=VIAIENS
"RTN","VIABMS1",98,0)
 F I=1:1:$L(VIATIEN,",") S VIAIEN=$P(VIATIEN,",",I) I VIAIEN'="" D
"RTN","VIABMS1",99,0)
 . S VIAIENS=VIAIEN_","
"RTN","VIABMS1",100,0)
 . K RESULT
"RTN","VIABMS1",101,0)
 . D GDIQ^VIABMS
"RTN","VIABMS1",102,0)
 . I $G(RESULT(1))'["Data" Q
"RTN","VIABMS1",103,0)
 . S VAL=$P($G(RESULT(2)),U,1,2)_U_$TR($P($G(RESULT(2)),U,4,5),"^",";")_U_$TR($P($G(RESULT(3)),U,4,5),"^",";")
"RTN","VIABMS1",104,0)
 . S CNT=CNT+1,TRESULT(CNT)=VAL
"RTN","VIABMS1",105,0)
 . K RESULT
"RTN","VIABMS1",106,0)
 M RESULT=TRESULT
"RTN","VIABMS1",107,0)
 ;
"RTN","VIABMS1",108,0)
 Q
"RTN","VIABMS1",109,0)
 N VIAFILE,VIAFIELDS,VIAFLAGS,I,VIATIEN,VIAIEN,TRESULT,X,N,I
"RTN","VIABMS1",110,0)
 I VIAIENS="" S VIAER="Missing MOVEMENT IEN" D ERR^VIABMS(VIAER) Q 
"RTN","VIABMS1",111,0)
 S VIAFILE=405,VIAFIELDS=".06;.07",VIAFLAGS="IE"
"RTN","VIABMS1",112,0)
 ; multiple IENs
"RTN","VIABMS1",113,0)
 S VIATIEN=VIAIENS
"RTN","VIABMS1",114,0)
 F I=1:1:$L(VIATIEN,",") S VIAIEN=$P(VIATIEN,",",I) I VIAIEN'="" D
"RTN","VIABMS1",115,0)
 . S VIAIENS=VIAIEN_"," D GDIQ^VIABMS
"RTN","VIABMS1",116,0)
 . I '$D(TRESULT) M TRESULT=RESULT K RESULT Q
"RTN","VIABMS1",117,0)
 . S X=0,N=$O(TRESULT(""),-1) F  S X=$O(RESULT(X)) Q:'X  S N=N+1 S TRESULT(N)=RESULT(X)
"RTN","VIABMS1",118,0)
 . K RESULT
"RTN","VIABMS1",119,0)
 M RESULT=TRESULT
"RTN","VIABMS1",120,0)
 Q 
"RTN","VIABMS1",121,0)
 ;
"RTN","VIABMS1",122,0)
GPATMVT ; Returns a patient movement records from the PATIENT MOVEMENT file #405;ICR-1865
"RTN","VIABMS1",123,0)
 ;Input - VIA("PATH")="GETPATIENTMOVEMENT" [required]
"RTN","VIABMS1",124,0)
 ;        VIA("IENS")="Patient Movement IEN" [required, optional if no other parameter]
"RTN","VIABMS1",125,0)
 ;        VIA("MOVDATE")=Movement Date [optional, required if no Patient Movement IEN]
"RTN","VIABMS1",126,0)
 ;        VIA("MOVTYPE")=Movement Type [optional, required if no Patient Movement IEN]
"RTN","VIABMS1",127,0)
 ;        VIA("PATIEN")=Patient IEN [optional, required if no Patient Movement IEN]
"RTN","VIABMS1",128,0)
 ;Data returned
"RTN","VIABMS1",129,0)
 ;    .01 MovementDate,101 EnteredDate,100 Entered By,.02 TransactionTypeId,.03 PatientIen,
"RTN","VIABMS1",130,0)
 ;    .04 TypeOfMovementIen,.06 WardLocationId,.07 RoomBedId,.14 CurrentAdmissionIen
"RTN","VIABMS1",131,0)
 N VIAFILE,VIAFIELDS,VIAFLAGS,VIASCRN,I,VIACNT
"RTN","VIABMS1",132,0)
 S VIAIENS=$P(VIAIENS,",")
"RTN","VIABMS1",133,0)
 S VIAFILE=405,VIAFIELDS=".01;101;100;.02;.03;.04;.06;.07;.14"
"RTN","VIABMS1",134,0)
 I VIAIENS="",VIAMDT="",VIAMTYP="",VIAPIEN="" S VIAER="Missing Input parameters" D ERR^VIABMS(VIAER) Q
"RTN","VIABMS1",135,0)
 I VIAPIEN'="" D PATCHK^VIABMS(VIAPIEN) I $D(RESULT) Q
"RTN","VIABMS1",136,0)
 I VIAPIEN'=""&(VIAMDT'="")&(VIAIENS="") D  G GPATMVT2
"RTN","VIABMS1",137,0)
 .F  S VIAIENS=$O(^DGPM("ADFN"_VIAPIEN,VIAMDT,VIAIENS)) Q:VIAIENS=""  D
"RTN","VIABMS1",138,0)
 ..I '$G(VIACNT) S RESULT(1)="[Data]" S VIACNT=2
"RTN","VIABMS1",139,0)
 ..S RESULT(VIACNT)=$$GMVTR^VIABMS(VIAIENS),VIACNT=VIACNT+1
"RTN","VIABMS1",140,0)
 I VIAIENS'="" D  Q
"RTN","VIABMS1",141,0)
 .S RESULT(1)="[Data]"
"RTN","VIABMS1",142,0)
 .S RESULT(2)=$$GMVTR^VIABMS(VIAIENS)
"RTN","VIABMS1",143,0)
GPATMVT2 ;
"RTN","VIABMS1",144,0)
 S VIAFIELDS="@;"_VIAFIELDS,VIAFLAGS="IP"
"RTN","VIABMS1",145,0)
 ;VIAMTYPE is actually TRANSACTION, not MOVEMENT TYPE.
"RTN","VIABMS1",146,0)
 S VIASCRN="S X=$G(^(0)) I $P(X,U)=VIAMDT,$P(X,U,2)=VIAMTYP,$P(X,U,3)=VIAPIEN"
"RTN","VIABMS1",147,0)
 D LDIC^VIABMS
"RTN","VIABMS1",148,0)
 Q
"RTN","VIABMS1",149,0)
 ;
"RTN","VIABMS1",150,0)
LPATMVT ; Returns a list of patient movement records from the PATIENT MOVEMENT file #405;ICR-1865
"RTN","VIABMS1",151,0)
 ;Input - VIA("PATH")="LISTPATIENTMOVEMENT" [required]
"RTN","VIABMS1",152,0)
 ;        VIA("PATIEN")=Patient IEN [required, if no date range]
"RTN","VIABMS1",153,0)
 ;        VIA("SDATE")=Start Date for search [optional]
"RTN","VIABMS1",154,0)
 ;        VIA("EDATE")=End Date for search [optional]
"RTN","VIABMS1",155,0)
 ;        VIA("MAX")=n [optional]
"RTN","VIABMS1",156,0)
 ;Data returned
"RTN","VIABMS1",157,0)
 ;    .01 MovementDate,101 EnteredDate,100 Entered By,.02 TransactionTypeId,.03 PatientIen,
"RTN","VIABMS1",158,0)
 ;    .04 TypeOfMovementIen,.06 WardLocationId,.07 RoomBedId,.14 CurrentAdmissionIen
"RTN","VIABMS1",159,0)
 S VIAPIEN=$TR(VIAPIEN,",")
"RTN","VIABMS1",160,0)
 I VIAPIEN="",VIASDT="",VIAEDT="" S VIAER="Missing Input Parameters" D ERR^VIABMS(VIAER) Q
"RTN","VIABMS1",161,0)
 N VIADATA,START,END,STARTI,STARTJ,RES,MORED,OFFSET,I
"RTN","VIABMS1",162,0)
 I VIAPIEN'="" D PATCHK^VIABMS(VIAPIEN) I $D(RESULT) Q
"RTN","VIABMS1",163,0)
 S VIADATA=$NA(^TMP($J,"VIADATA"))
"RTN","VIABMS1",164,0)
 K @VIADATA
"RTN","VIABMS1",165,0)
 ;Parse VIAFROM to get STARTI and STARTJ
"RTN","VIABMS1",166,0)
 S (STARTI,STARTJ)=0
"RTN","VIABMS1",167,0)
 I VIAFROM'="" D
"RTN","VIABMS1",168,0)
 .S STARTI=$P(VIAFROM,"~"),STARTJ=$P(VIAFROM,"~",2)
"RTN","VIABMS1",169,0)
 S START=$S(VIASDT'="":VIASDT-.000001,1:0)
"RTN","VIABMS1",170,0)
 S END=$S(VIAEDT="":9999999,VIAEDT[".":VIAEDT+.000001,1:VIAEDT+.99999999)
"RTN","VIABMS1",171,0)
 S RES=$$WALK^VIABMS2(STARTI,STARTJ,VIAMAX,START,END)
"RTN","VIABMS1",172,0)
 S MORED=$P(RES,U,3)
"RTN","VIABMS1",173,0)
 I MORED D
"RTN","VIABMS1",174,0)
 .S:$G(MORED) RESULT(1)="[Misc]"
"RTN","VIABMS1",175,0)
 .S:$G(MORED) RESULT(2)="MORE^"_$P(RES,U)_"~"_$P(RES,U,2)
"RTN","VIABMS1",176,0)
 .S RESULT($S($G(MORED):3,1:1))="[Data]"
"RTN","VIABMS1",177,0)
 .S OFFSET=$S($G(MORED):4,1:2)
"RTN","VIABMS1",178,0)
 E  D
"RTN","VIABMS1",179,0)
 .S RESULT(1)="[Data]"
"RTN","VIABMS1",180,0)
 .S OFFSET=2
"RTN","VIABMS1",181,0)
 S I=""
"RTN","VIABMS1",182,0)
 F  S I=$O(@VIADATA@(I)) Q:I=""  S RESULT(I+OFFSET)=@VIADATA@(I)
"RTN","VIABMS1",183,0)
 K @VIADATA
"RTN","VIABMS1",184,0)
 Q
"RTN","VIABMS1",185,0)
 ;
"RTN","VIABMS1",186,0)
MVTR(VIAIEN) ;
"RTN","VIABMS1",187,0)
 N IENS,FLDS,OUT,MOUT,VAL,I,FLD
"RTN","VIABMS1",188,0)
 S IENS=VIAIEN_","
"RTN","VIABMS1",189,0)
 S FLDS=".01;101;100;.02;.03;.04;.06;.07;.14"
"RTN","VIABMS1",190,0)
 D GETS^DIQ(405,IENS,FLDS,"I","OUT","MOUT")
"RTN","VIABMS1",191,0)
 S VAL=VIAIEN
"RTN","VIABMS1",192,0)
 F I=1:1:$L(FLDS,";") S $P(VAL,U,I+1)=$G(OUT(405,IENS,$P(FLDS,";",I),"I"))
"RTN","VIABMS1",193,0)
 Q VAL
"RTN","VIABMS1",194,0)
 ;
"RTN","VIABMS1",195,0)
 ;
"RTN","VIABMS1",196,0)
APATMVT ; Returns patient movement record by admission IEN from the PATIENT MOVEMENT file #405;ICR-1865
"RTN","VIABMS1",197,0)
 ;Input - VIA("PATH")="LISTPATIENTMOVEMENTSBYADMISSION" [required]
"RTN","VIABMS1",198,0)
 ;        VIA("PATIEN")=Movement IEN [required]  Note:  gets parsed as variable VIAPIEN
"RTN","VIABMS1",199,0)
 ;Data returned
"RTN","VIABMS1",200,0)
 ;    IEN,.01 MovementDate,101 EnteredDate,100 Entered By,.02 TransactionTypeId,.03 PatientIen,
"RTN","VIABMS1",201,0)
 ;    .04 TypeOfMovementIen,.06 WardLocationId,.07 RoomBedId,.14 CurrentAdmissionIen 
"RTN","VIABMS1",202,0)
 N Y,N
"RTN","VIABMS1",203,0)
 S N=0
"RTN","VIABMS1",204,0)
 N I,J,CNT,END,FIRST,STARTI,STARTJ,VIADATA
"RTN","VIABMS1",205,0)
 I VIAPIEN="" S VIAER="Missing Input Parameters" D ERR^VIABMS(VIAER) Q
"RTN","VIABMS1",206,0)
 S VIADATA=$NA(^TMP($J,"VIADATA"))
"RTN","VIABMS1",207,0)
 K @VIADATA
"RTN","VIABMS1",208,0)
 N I,J,K,CNT,END,FIRST,STARTI,STARTJ,DONE,LASTJ
"RTN","VIABMS1",209,0)
 S FIRST=1,DONE=0,LASTJ=""
"RTN","VIABMS1",210,0)
 ;Parse VIAFROM to get STARTI and STARTJ
"RTN","VIABMS1",211,0)
 S STARTI=$P(VIAFROM,"~"),STARTJ=$P(VIAFROM,"~",2)
"RTN","VIABMS1",212,0)
 ;Traverse "CA" index, be sure to save last J
"RTN","VIABMS1",213,0)
 S CNT=0
"RTN","VIABMS1",214,0)
 S LASTJ=$G(J)
"RTN","VIABMS1",215,0)
 S J=$S(FIRST:STARTJ,1:"")
"RTN","VIABMS1",216,0)
 F  S J=$O(^DGPM("CA",VIAPIEN,J)) Q:+J'>0!(CNT'<VIAMAX)  D
"RTN","VIABMS1",217,0)
 .S:J'="" LASTJ=J
"RTN","VIABMS1",218,0)
 .I VIAPIEN=$P($G(^DGPM(J,0)),U,14) D
"RTN","VIABMS1",219,0)
 ..S CNT=CNT+1
"RTN","VIABMS1",220,0)
 ..;Store records temporarily in @VIADATA
"RTN","VIABMS1",221,0)
 ..S @VIADATA@(CNT)=$$MVTR(J)
"RTN","VIABMS1",222,0)
 ;[Misc] section comes first
"RTN","VIABMS1",223,0)
 I CNT'<VIAMAX D
"RTN","VIABMS1",224,0)
 .D SET^VIABMS("[Misc]")
"RTN","VIABMS1",225,0)
 .D SET^VIABMS("MORE^"_VIAPIEN_"~"_LASTJ)
"RTN","VIABMS1",226,0)
 ;Now, save [Data] section and kill temp. global
"RTN","VIABMS1",227,0)
 D SET^VIABMS("[Data]")
"RTN","VIABMS1",228,0)
 S K=0
"RTN","VIABMS1",229,0)
 F  S K=$O(@VIADATA@(K)) Q:K=""  D SET^VIABMS(@VIADATA@(K))
"RTN","VIABMS1",230,0)
 K @VIADATA
"RTN","VIABMS1",231,0)
 M RESULT=Y
"RTN","VIABMS1",232,0)
 Q
"RTN","VIABMS1",233,0)
 ;
"RTN","VIABMS1",234,0)
SCHADM ; Returns a list of scheduled admissions from the SCHEDULED ADMISSION file #41.1;ICR-6611
"RTN","VIABMS1",235,0)
 ;Input - VIA("PATH")="LISTSCHEDULEDADMISSION" [required]
"RTN","VIABMS1",236,0)
 ;        VIA("PATIEN")=Patient IEN [optional]
"RTN","VIABMS1",237,0)
 ;        VIA("SDATE")=Start Date for search [required]
"RTN","VIABMS1",238,0)
 ;        VIA("EDATE")=End Date for search [required]
"RTN","VIABMS1",239,0)
 ;        VIA("MAX")=n [optional]
"RTN","VIABMS1",240,0)
 ;Data returned
"RTN","VIABMS1",241,0)
 ;    .01 PatientId,2 ReservationDateTime,3 LengthOfStayExpected,4 AdmittingDiagnosis,6 Surgery,8 WardLocation,
"RTN","VIABMS1",242,0)
 ;    9 TreatingSpecialty,12 MedicalCenterDivision,13 DateTimeCancelled,14 CancelledBy,5 Provider,11 Scheduler
"RTN","VIABMS1",243,0)
 N VIAFILE,VIAFIELDS,VIAFLAGS,VIASCRN,VIAER
"RTN","VIABMS1",244,0)
 S VIAFILE=41.1,VIAFIELDS="@;.01;2;3;4;6;8;9;12;13;14;5;11",VIAFLAGS="IP"
"RTN","VIABMS1",245,0)
 I VIAPIEN'="" D PATCHK^VIABMS(VIAPIEN) I $D(RESULT) Q
"RTN","VIABMS1",246,0)
 I VIAPIEN'="" S VIASCRN="S X=$G(^DGS(41.1,Y,0)) I $P(X,U)=VIAPIEN"
"RTN","VIABMS1",247,0)
 ;For the purposes of this call, VIASDT and VIEDT are treated instants in time, even if they are integers. For this reason,
"RTN","VIABMS1",248,0)
 ;the call to DTCHK is not made. This also means it is necessary to explicitly test for VIASDT="" and VIAEDT="".
"RTN","VIABMS1",249,0)
 I (VIAEDT="")!(VIASDT="") S VIAER="Missing date parameters." D ERR^VIABMS(VIAER) Q
"RTN","VIABMS1",250,0)
 ;I (VIASDT'="")!(VIAEDT'="") D DTCHK^VIABMS(.RESULT,.VIASDT,.VIAEDT) I $D(RESULT) Q 
"RTN","VIABMS1",251,0)
 S VIASCRN=$S(($G(VIASCRN)'="")&(VIASDT'=""):VIASCRN_",$P(X,U,2)>=VIASDT,$P(X,U,2)<=VIAEDT",VIASDT'="":"S X=$P($G(^DGS(41.1,Y,0)),U,2) I X>=VIASDT,X<=VIAEDT",1:$G(VIASCRN))
"RTN","VIABMS1",252,0)
 D LDIC^VIABMS
"RTN","VIABMS1",253,0)
 Q
"RTN","VIABMS1",254,0)
 ;
"RTN","VIABMS1",255,0)
RMBED ; Returns a list of room/beds from the ROOM-BED file #405.4;ICR-1380
"RTN","VIABMS1",256,0)
 ;Input - VIA("PATH")="LISTROOMBED" [required]
"RTN","VIABMS1",257,0)
 ;        VIA("IENS")="Room Bed IEN" [required, optional if no other parameter] 
"RTN","VIABMS1",258,0)
 ;        VIA("MAX")=n [optional]
"RTN","VIABMS1",259,0)
 ;        VIA("FROM")=string/value to start list [optional]
"RTN","VIABMS1",260,0)
 ;Data returned
"RTN","VIABMS1",261,0)
 ;    .01  Name,.2 CurrentlyOutOfService,100 WardsWhichCanAssign
"RTN","VIABMS1",262,0)
 N VIAFILE,VIAFIELDS,VIAFLAGS,TVIAIENS
"RTN","VIABMS1",263,0)
 S VIAFILE=405.4,VIAFIELDS="@;.01;.2",VIAFLAGS="IP"
"RTN","VIABMS1",264,0)
 I VIAIENS'="" S TVIAIENS=VIAIENS S VIAIENS="",VIAMAX=""
"RTN","VIABMS1",265,0)
 S VIAID="S X="""" I $D(^DG(405.4,Y,""W"",0)) S VIAA="""" F  S VIAA=$O(^DG(405.4,Y,""W"",VIAA)) S:VIAA>0 X=X_$S(X="""":"""",1:"","")_VIAA I VIAA="""" D EN^DDIOL(X) Q"
"RTN","VIABMS1",266,0)
 D LDIC^VIABMS
"RTN","VIABMS1",267,0)
 I $G(TVIAIENS)'="" S VIAIENS=TVIAIENS D PIENS
"RTN","VIABMS1",268,0)
 Q
"RTN","VIABMS1",269,0)
 ;
"RTN","VIABMS1",270,0)
CLNAPPT ; Returns a list of clinic appointments from the HOSPITAL LOCATION sub-file #44.001;ICR-#4433
"RTN","VIABMS1",271,0)
 ;Input - VIA("PATH")="LISTCLINICAPPOINTMENTS" [required]
"RTN","VIABMS1",272,0)
 ; VIA("IENS")=Clinic IEN [required]
"RTN","VIABMS1",273,0)
 ; VIA("SDATE")=Start Date for search [optional]
"RTN","VIABMS1",274,0)
 ; VIA("EDATE")=End Date for search [optional]
"RTN","VIABMS1",275,0)
 ; VIA("MAX")=n [optional]
"RTN","VIABMS1",276,0)
 ;Data returned
"RTN","VIABMS1",277,0)
 ; .01 Appointment Date/Time, 2 Patients, Clinic
"RTN","VIABMS1",278,0)
 N VIARRAY,VIARY,CNT,VIARRY,VIACNT,VIADT,VIADFN,VIAPPT,I,Y,J,FL,CLNIEN,MORE,TARRAY
"RTN","VIABMS1",279,0)
 I VIAIENS="" S VIAER="Missing CLINIC IEN" D ERR^VIABMS(VIAER) Q
"RTN","VIABMS1",280,0)
 ;I (VIASDT'="")!(VIAEDT'="") D DTCHK^VIABMS(.RESULT,.VIASDT,.VIAEDT) I $D(RESULT) Q
"RTN","VIABMS1",281,0)
 S VIAEDT=$S(VIAEDT="":DT,1:VIAEDT)
"RTN","VIABMS1",282,0)
 S CLNIEN=$TR(VIAIENS,",",";")
"RTN","VIABMS1",283,0)
 S RESULT(1)="[Data]",CNT=1,FL=0,MORE=""
"RTN","VIABMS1",284,0)
 S VIARRAY(1)=VIASDT_";"_VIAEDT
"RTN","VIABMS1",285,0)
 S VIARRAY(2)=CLNIEN
"RTN","VIABMS1",286,0)
 S VIARRAY("FLDS")="1;2;4"
"RTN","VIABMS1",287,0)
 S VIACNT=$$SDAPI^SDAMA301(.VIARRAY)
"RTN","VIABMS1",288,0)
 I VIACNT<1 D  G CLAPX Q
"RTN","VIABMS1",289,0)
 . N VIAERN
"RTN","VIABMS1",290,0)
 . S VIAERN=$O(^TMP($J,"SDAMA301",0))
"RTN","VIABMS1",291,0)
 . I VIAERN>0 S VIAER="("_VIAERN_") "_^TMP($J,"SDAMA301",VIAERN)_" - SDAPI call" D ERR^VIABMS(VIAER)
"RTN","VIABMS1",292,0)
 S CLNIEN=0 F  S CLNIEN=$O(^TMP($J,"SDAMA301",CLNIEN)) Q:'CLNIEN  D
"RTN","VIABMS1",293,0)
 . S VIADFN=0 F  S VIADFN=$O(^TMP($J,"SDAMA301",CLNIEN,VIADFN)) Q:'VIADFN  D
"RTN","VIABMS1",294,0)
 . . S VIADT=0
"RTN","VIABMS1",295,0)
 . . F  S VIADT=$O(^TMP($J,"SDAMA301",CLNIEN,VIADFN,VIADT)) Q:'VIADT  D
"RTN","VIABMS1",296,0)
 . . . S VIAPPT=$G(^TMP($J,"SDAMA301",CLNIEN,VIADFN,VIADT)) ;appointment data
"RTN","VIABMS1",297,0)
 . . . ;I (VIADT<VIASDT)!(VIADT>VIAEDT) Q
"RTN","VIABMS1",298,0)
 . . . S VIARY($P($P(VIAPPT,"^",2),";"),$P(VIAPPT,"^"),$P($P(VIAPPT,"^",4),";"))=VIAPPT
"RTN","VIABMS1",299,0)
 S CLNIEN=$S(VIAFROM'="":$P(VIAFROM,"~")-1,1:0)
"RTN","VIABMS1",300,0)
 F  S CLNIEN=$O(VIARY(CLNIEN)) Q:'CLNIEN  D  I CNT>VIAMAX Q
"RTN","VIABMS1",301,0)
 . I ($P(VIAFROM,"~")>0),($P(VIAFROM,"~")'=CLNIEN) S VIAFROM=""
"RTN","VIABMS1",302,0)
 . S VIADT=$S(VIAFROM'="":$P(VIAFROM,"~",2),1:0) ;S VIAFROM=""
"RTN","VIABMS1",303,0)
 . F  S VIADT=$O(VIARY(CLNIEN,VIADT)) Q:'VIADT  S CNT=CNT+1,RESULT(CNT)=VIADT D  S RESULT(CNT)=RESULT(CNT)_"^"_CLNIEN I CNT>VIAMAX S MORE="MORE^"_CLNIEN_"~"_VIADT,FL=1 Q
"RTN","VIABMS1",304,0)
 . . S (VIADFN,I)=0 F  S VIADFN=$O(VIARY(CLNIEN,VIADT,VIADFN)) Q:'VIADFN  D
"RTN","VIABMS1",305,0)
 . . . S RESULT(CNT)=RESULT(CNT)_$S('I:"^"_$P(VIARY(CLNIEN,VIADT,VIADFN),"^")_"^",1:"")_$S('I:"",1:"~")_VIADFN,I=1
"RTN","VIABMS1",306,0)
 I FL D  ; re-structure results array
"RTN","VIABMS1",307,0)
 . M TARRAY=RESULT
"RTN","VIABMS1",308,0)
 . K RESULT
"RTN","VIABMS1",309,0)
 . S CNT=4,I=0,RESULT(1)="[Misc]",RESULT(2)=MORE,RESULT(3)="[Data]"
"RTN","VIABMS1",310,0)
 . F  S I=$O(TARRAY(I)) Q:'I  D
"RTN","VIABMS1",311,0)
 . . I TARRAY(I)["Data" Q
"RTN","VIABMS1",312,0)
 . . S CNT=CNT+1,RESULT(CNT)=TARRAY(I)
"RTN","VIABMS1",313,0)
CLAPX K ^TMP($J,"SDAMA301")
"RTN","VIABMS1",314,0)
 Q
"VER")
8.0^22.2
"BLD",10024,6)
^14
**END**
**END**

