KIDS Distribution saved on Mar 13, 2015@11:05:18
VistA Patch to Support PCMM Web
**KIDS**:SD*5.3*603^

**INSTALL NAME**
SD*5.3*603
"BLD",8687,0)
SD*5.3*603^SCHEDULING^0^3150313^y
"BLD",8687,1,0)
^^2^2^3150209^
"BLD",8687,1,1,0)
This is the KIDS build for SD*5.3*603.  It contains the modifications to 
"BLD",8687,1,2,0)
VistA to support PCMM Web.
"BLD",8687,4,0)
^9.64PA^403.46^7
"BLD",8687,4,403.46,0)
403.46
"BLD",8687,4,403.46,222)
n^y^f^^n^^y^r^n
"BLD",8687,4,404.41,0)
404.41
"BLD",8687,4,404.41,2,0)
^9.641^404.41^1
"BLD",8687,4,404.41,2,404.41,0)
OUTPATIENT PROFILE  (File-top level)
"BLD",8687,4,404.41,2,404.41,1,0)
^9.6411^.07^2
"BLD",8687,4,404.41,2,404.41,1,.06,0)
CPRS HEADER TEXT
"BLD",8687,4,404.41,2,404.41,1,.07,0)
CPRS PC WINDOW CACHE
"BLD",8687,4,404.41,222)
y^y^p^^^^n^^n
"BLD",8687,4,404.41,224)

"BLD",8687,4,404.42,0)
404.42
"BLD",8687,4,404.42,2,0)
^9.641^404.42^1
"BLD",8687,4,404.42,2,404.42,0)
PATIENT TEAM ASSIGNMENT  (File-top level)
"BLD",8687,4,404.42,2,404.42,1,0)
^9.6411^.08^2
"BLD",8687,4,404.42,2,404.42,1,.08,0)
ASSIGNMENT TYPE
"BLD",8687,4,404.42,2,404.42,1,.15,0)
STATUS
"BLD",8687,4,404.42,222)
y^y^p^^^^n^^n
"BLD",8687,4,404.42,224)

"BLD",8687,4,404.43,0)
404.43
"BLD",8687,4,404.43,2,0)
^9.641^404.43^1
"BLD",8687,4,404.43,2,404.43,0)
PATIENT TEAM POSITION ASSIGNMENT  (File-top level)
"BLD",8687,4,404.43,2,404.43,1,0)
^9.6411^.02^2
"BLD",8687,4,404.43,2,404.43,1,.02,0)
TEAM POSITION
"BLD",8687,4,404.43,2,404.43,1,.12,0)
STATUS
"BLD",8687,4,404.43,222)
y^y^p^^^^n^^n
"BLD",8687,4,404.43,224)

"BLD",8687,4,404.52,0)
404.52
"BLD",8687,4,404.52,2,0)
^9.641^404.521^2
"BLD",8687,4,404.52,2,404.52,0)
POSITION ASSIGNMENT HISTORY  (File-top level)
"BLD",8687,4,404.52,2,404.52,1,0)
^9.6411^.09^2
"BLD",8687,4,404.52,2,404.52,1,.09,0)
FTEE EQUIVALENT
"BLD",8687,4,404.52,2,404.52,1,.12,0)
TEAMLET FLAG
"BLD",8687,4,404.52,2,404.521,0)
FTEE HISTORY  (sub-file)
"BLD",8687,4,404.52,2,404.521,1,0)
^9.6411^.03^3
"BLD",8687,4,404.52,2,404.521,1,.01,0)
FTEE HISTORY
"BLD",8687,4,404.52,2,404.521,1,.02,0)
VALUE
"BLD",8687,4,404.52,2,404.521,1,.03,0)
USER
"BLD",8687,4,404.52,222)
y^y^p^^^^n^^n
"BLD",8687,4,404.52,224)

"BLD",8687,4,404.54,0)
404.54
"BLD",8687,4,404.54,222)
y^y^f^^^^n
"BLD",8687,4,409.68,0)
409.68
"BLD",8687,4,409.68,2,0)
^9.641^409.68^1
"BLD",8687,4,409.68,2,409.68,0)
OUTPATIENT ENCOUNTER  (File-top level)
"BLD",8687,4,409.68,2,409.68,1,0)
^9.6411^.02^1
"BLD",8687,4,409.68,2,409.68,1,.02,0)
PATIENT
"BLD",8687,4,409.68,222)
y^y^p^^^^n^^n
"BLD",8687,4,409.68,224)

"BLD",8687,4,"APDD",404.41,404.41)

"BLD",8687,4,"APDD",404.41,404.41,.06)

"BLD",8687,4,"APDD",404.41,404.41,.07)

"BLD",8687,4,"APDD",404.42,404.42)

"BLD",8687,4,"APDD",404.42,404.42,.08)

"BLD",8687,4,"APDD",404.42,404.42,.15)

"BLD",8687,4,"APDD",404.43,404.43)

"BLD",8687,4,"APDD",404.43,404.43,.02)

"BLD",8687,4,"APDD",404.43,404.43,.12)

"BLD",8687,4,"APDD",404.52,404.52)

"BLD",8687,4,"APDD",404.52,404.52,.09)

"BLD",8687,4,"APDD",404.52,404.52,.12)

"BLD",8687,4,"APDD",404.52,404.521)

"BLD",8687,4,"APDD",404.52,404.521,.01)

"BLD",8687,4,"APDD",404.52,404.521,.02)

"BLD",8687,4,"APDD",404.52,404.521,.03)

"BLD",8687,4,"APDD",409.68,409.68)

"BLD",8687,4,"APDD",409.68,409.68,.02)

"BLD",8687,4,"B",403.46,403.46)

"BLD",8687,4,"B",404.41,404.41)

"BLD",8687,4,"B",404.42,404.42)

"BLD",8687,4,"B",404.43,404.43)

"BLD",8687,4,"B",404.52,404.52)

"BLD",8687,4,"B",404.54,404.54)

"BLD",8687,4,"B",409.68,409.68)

"BLD",8687,6.3)
79
"BLD",8687,"ABPKG")
n
"BLD",8687,"INI")
EN^SD53I603
"BLD",8687,"INID")
^n^y
"BLD",8687,"INIT")
EN^SD53P603
"BLD",8687,"KRN",0)
^9.67PA^779.2^20
"BLD",8687,"KRN",.4,0)
.4
"BLD",8687,"KRN",.401,0)
.401
"BLD",8687,"KRN",.401,"NM",0)
^9.68A^1^1
"BLD",8687,"KRN",.401,"NM",1,0)
SCMC INACTIVATED    FILE #404.43^404.43^0
"BLD",8687,"KRN",.401,"NM","B","SCMC INACTIVATED    FILE #404.43",1)

"BLD",8687,"KRN",.402,0)
.402
"BLD",8687,"KRN",.403,0)
.403
"BLD",8687,"KRN",.5,0)
.5
"BLD",8687,"KRN",.84,0)
.84
"BLD",8687,"KRN",3.6,0)
3.6
"BLD",8687,"KRN",3.8,0)
3.8
"BLD",8687,"KRN",9.2,0)
9.2
"BLD",8687,"KRN",9.2,"NM",0)
^9.68A^^
"BLD",8687,"KRN",9.8,0)
9.8
"BLD",8687,"KRN",9.8,"NM",0)
^9.68A^31^23
"BLD",8687,"KRN",9.8,"NM",1,0)
SCMCTSK^^0^B38253964
"BLD",8687,"KRN",9.8,"NM",7,0)
SCMCTSK5^^0^B59325306
"BLD",8687,"KRN",9.8,"NM",8,0)
SCMCTSK6^^0^B61603528
"BLD",8687,"KRN",9.8,"NM",9,0)
SCMCWS1^^0^B162034987
"BLD",8687,"KRN",9.8,"NM",11,0)
SD53P603^^0^B249302623
"BLD",8687,"KRN",9.8,"NM",13,0)
SCMCWS1A^^0^B97769299
"BLD",8687,"KRN",9.8,"NM",14,0)
SCMCDDR^^0^B34341424
"BLD",8687,"KRN",9.8,"NM",15,0)
SCMCDDR0^^0^B16319343
"BLD",8687,"KRN",9.8,"NM",16,0)
SCMCDDR2^^0^B24257447
"BLD",8687,"KRN",9.8,"NM",17,0)
SCMCDDR3^^0^B6820328
"BLD",8687,"KRN",9.8,"NM",18,0)
SCMCWSUT^^0^B5582990
"BLD",8687,"KRN",9.8,"NM",19,0)
SCAPMC23^^0^B18453123
"BLD",8687,"KRN",9.8,"NM",20,0)
SCMCENCT^^0^B28013021
"BLD",8687,"KRN",9.8,"NM",21,0)
SCMCNPER^^0^B40344757
"BLD",8687,"KRN",9.8,"NM",22,0)
SCMCMHTC^^0^B10680608
"BLD",8687,"KRN",9.8,"NM",23,0)
SCMCPAT^^0^B7157117
"BLD",8687,"KRN",9.8,"NM",25,0)
SCMCOPT^^0^B44626560
"BLD",8687,"KRN",9.8,"NM",26,0)
SCMCDD1^^0^B25172674
"BLD",8687,"KRN",9.8,"NM",27,0)
SD53I603^^0^B142505
"BLD",8687,"KRN",9.8,"NM",28,0)
SCMCFPOS^^0^B95974585
"BLD",8687,"KRN",9.8,"NM",29,0)
SCMCTSK2^^0^B105827282
"BLD",8687,"KRN",9.8,"NM",30,0)
SDCOU^^0^B4357231
"BLD",8687,"KRN",9.8,"NM",31,0)
SCMCFTEE^^0^B17041744
"BLD",8687,"KRN",9.8,"NM","B","SCAPMC23",19)

"BLD",8687,"KRN",9.8,"NM","B","SCMCDD1",26)

"BLD",8687,"KRN",9.8,"NM","B","SCMCDDR",14)

"BLD",8687,"KRN",9.8,"NM","B","SCMCDDR0",15)

"BLD",8687,"KRN",9.8,"NM","B","SCMCDDR2",16)

"BLD",8687,"KRN",9.8,"NM","B","SCMCDDR3",17)

"BLD",8687,"KRN",9.8,"NM","B","SCMCENCT",20)

"BLD",8687,"KRN",9.8,"NM","B","SCMCFPOS",28)

"BLD",8687,"KRN",9.8,"NM","B","SCMCFTEE",31)

"BLD",8687,"KRN",9.8,"NM","B","SCMCMHTC",22)

"BLD",8687,"KRN",9.8,"NM","B","SCMCNPER",21)

"BLD",8687,"KRN",9.8,"NM","B","SCMCOPT",25)

"BLD",8687,"KRN",9.8,"NM","B","SCMCPAT",23)

"BLD",8687,"KRN",9.8,"NM","B","SCMCTSK",1)

"BLD",8687,"KRN",9.8,"NM","B","SCMCTSK2",29)

"BLD",8687,"KRN",9.8,"NM","B","SCMCTSK5",7)

"BLD",8687,"KRN",9.8,"NM","B","SCMCTSK6",8)

"BLD",8687,"KRN",9.8,"NM","B","SCMCWS1",9)

"BLD",8687,"KRN",9.8,"NM","B","SCMCWS1A",13)

"BLD",8687,"KRN",9.8,"NM","B","SCMCWSUT",18)

"BLD",8687,"KRN",9.8,"NM","B","SD53I603",27)

"BLD",8687,"KRN",9.8,"NM","B","SD53P603",11)

"BLD",8687,"KRN",9.8,"NM","B","SDCOU",30)

"BLD",8687,"KRN",19,0)
19
"BLD",8687,"KRN",19,"NM",0)
^9.68A^7^3
"BLD",8687,"KRN",19,"NM",2,0)
SCMC PCMMR APP PROXY MENU^^0
"BLD",8687,"KRN",19,"NM",6,0)
SC PCMM MARK OPT OUT OF ORDER^^0
"BLD",8687,"KRN",19,"NM",7,0)
SCMC PCMMR WEB USER MENU^^0
"BLD",8687,"KRN",19,"NM","B","SC PCMM MARK OPT OUT OF ORDER",6)

"BLD",8687,"KRN",19,"NM","B","SCMC PCMMR APP PROXY MENU",2)

"BLD",8687,"KRN",19,"NM","B","SCMC PCMMR WEB USER MENU",7)

"BLD",8687,"KRN",19.1,0)
19.1
"BLD",8687,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",8687,"KRN",101,0)
101
"BLD",8687,"KRN",409.61,0)
409.61
"BLD",8687,"KRN",771,0)
771
"BLD",8687,"KRN",779.2,0)
779.2
"BLD",8687,"KRN",870,0)
870
"BLD",8687,"KRN",8989.51,0)
8989.51
"BLD",8687,"KRN",8989.52,0)
8989.52
"BLD",8687,"KRN",8994,0)
8994
"BLD",8687,"KRN",8994,"NM",0)
^9.68A^18^17
"BLD",8687,"KRN",8994,"NM",1,0)
SCMC FILER^^0
"BLD",8687,"KRN",8994,"NM",2,0)
SCMC FINDER^^0
"BLD",8687,"KRN",8994,"NM",3,0)
SCMC GETS ENTRY DATA^^0
"BLD",8687,"KRN",8994,"NM",4,0)
SCMC LISTER^^0
"BLD",8687,"KRN",8994,"NM",5,0)
SC DELETE ENTRY^^0
"BLD",8687,"KRN",8994,"NM",6,0)
SCMC GET PATIENT ENCOUNTERS^^0
"BLD",8687,"KRN",8994,"NM",7,0)
SCMC GET NEW PERSON^^0
"BLD",8687,"KRN",8994,"NM",8,0)
SC PAT ASGN MAILMAN^^0
"BLD",8687,"KRN",8994,"NM",9,0)
SC PATIENT LOOKUP^^0
"BLD",8687,"KRN",8994,"NM",10,0)
SCMC PATIENT DIEDON^^0
"BLD",8687,"KRN",8994,"NM",11,0)
SCMC PATIENT INFO^^0
"BLD",8687,"KRN",8994,"NM",13,0)
SCMC FTEE CREATE^^0
"BLD",8687,"KRN",8994,"NM",14,0)
SCMC FTEE READ^^0
"BLD",8687,"KRN",8994,"NM",15,0)
SCMC FTEE READALL^^0
"BLD",8687,"KRN",8994,"NM",16,0)
SCMC FTEE UPDATE^^0
"BLD",8687,"KRN",8994,"NM",17,0)
SCMC FTEE DELETE^^0
"BLD",8687,"KRN",8994,"NM",18,0)
SCMC PCDETAIL^^0
"BLD",8687,"KRN",8994,"NM","B","SC DELETE ENTRY",5)

"BLD",8687,"KRN",8994,"NM","B","SC PAT ASGN MAILMAN",8)

"BLD",8687,"KRN",8994,"NM","B","SC PATIENT LOOKUP",9)

"BLD",8687,"KRN",8994,"NM","B","SCMC FILER",1)

"BLD",8687,"KRN",8994,"NM","B","SCMC FINDER",2)

"BLD",8687,"KRN",8994,"NM","B","SCMC FTEE CREATE",13)

"BLD",8687,"KRN",8994,"NM","B","SCMC FTEE DELETE",17)

"BLD",8687,"KRN",8994,"NM","B","SCMC FTEE READ",14)

"BLD",8687,"KRN",8994,"NM","B","SCMC FTEE READALL",15)

"BLD",8687,"KRN",8994,"NM","B","SCMC FTEE UPDATE",16)

"BLD",8687,"KRN",8994,"NM","B","SCMC GET NEW PERSON",7)

"BLD",8687,"KRN",8994,"NM","B","SCMC GET PATIENT ENCOUNTERS",6)

"BLD",8687,"KRN",8994,"NM","B","SCMC GETS ENTRY DATA",3)

"BLD",8687,"KRN",8994,"NM","B","SCMC LISTER",4)

"BLD",8687,"KRN",8994,"NM","B","SCMC PATIENT DIEDON",10)

"BLD",8687,"KRN",8994,"NM","B","SCMC PATIENT INFO",11)

"BLD",8687,"KRN",8994,"NM","B","SCMC PCDETAIL",18)

"BLD",8687,"KRN","B",.4,.4)

"BLD",8687,"KRN","B",.401,.401)

"BLD",8687,"KRN","B",.402,.402)

"BLD",8687,"KRN","B",.403,.403)

"BLD",8687,"KRN","B",.5,.5)

"BLD",8687,"KRN","B",.84,.84)

"BLD",8687,"KRN","B",3.6,3.6)

"BLD",8687,"KRN","B",3.8,3.8)

"BLD",8687,"KRN","B",9.2,9.2)

"BLD",8687,"KRN","B",9.8,9.8)

"BLD",8687,"KRN","B",19,19)

"BLD",8687,"KRN","B",19.1,19.1)

"BLD",8687,"KRN","B",101,101)

"BLD",8687,"KRN","B",409.61,409.61)

"BLD",8687,"KRN","B",771,771)

"BLD",8687,"KRN","B",779.2,779.2)

"BLD",8687,"KRN","B",870,870)

"BLD",8687,"KRN","B",8989.51,8989.51)

"BLD",8687,"KRN","B",8989.52,8989.52)

"BLD",8687,"KRN","B",8994,8994)

"BLD",8687,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",8687,"QUES",0)
^9.62^^
"BLD",8687,"REQB",0)
^9.611^5^5
"BLD",8687,"REQB",1,0)
SD*5.3*107^1
"BLD",8687,"REQB",2,0)
SD*5.3*526^1
"BLD",8687,"REQB",3,0)
SD*5.3*539^1
"BLD",8687,"REQB",4,0)
SD*5.3*575^1
"BLD",8687,"REQB",5,0)
SD*5.3*581^1
"BLD",8687,"REQB","B","SD*5.3*107",1)

"BLD",8687,"REQB","B","SD*5.3*526",2)

"BLD",8687,"REQB","B","SD*5.3*539",3)

"BLD",8687,"REQB","B","SD*5.3*575",4)

"BLD",8687,"REQB","B","SD*5.3*581",5)

"DATA",403.46,1,0)
PHYSICIAN-ATTENDING^34^1
"DATA",403.46,1,1,0)
^403.46001^10^10^3110429^^^^
"DATA",403.46,1,1,1,0)
As a physician, incumbent's duties are to advise on, administer,
"DATA",403.46,1,1,2,0)
supervise or perform professional and scientific work in one or
"DATA",403.46,1,1,3,0)
more fields of medicine. The degree of Doctor of Medicine or Doctor
"DATA",403.46,1,1,4,0)
of Osteopathy is a fundamental requirement, along with a current
"DATA",403.46,1,1,5,0)
license to practice medicine and surgery in a US State, territory
"DATA",403.46,1,1,6,0)
or the District of Columbia.
"DATA",403.46,1,1,7,0)
 
"DATA",403.46,1,1,8,0)
As an attending physician, incumbent acts as team, ward or group
"DATA",403.46,1,1,9,0)
leader, and incurs the associated responsibilities as defined by
"DATA",403.46,1,1,10,0)
the governing Credentials committee.
"DATA",403.46,1,2,0)
^403.462PA^914^404
"DATA",403.46,1,2,1,0)
1
"DATA",403.46,1,2,2,0)
2
"DATA",403.46,1,2,3,0)
3
"DATA",403.46,1,2,4,0)
4
"DATA",403.46,1,2,5,0)
5
"DATA",403.46,1,2,6,0)
6
"DATA",403.46,1,2,7,0)
7
"DATA",403.46,1,2,8,0)
8
"DATA",403.46,1,2,9,0)
9
"DATA",403.46,1,2,10,0)
10
"DATA",403.46,1,2,11,0)
11
"DATA",403.46,1,2,12,0)
12
"DATA",403.46,1,2,13,0)
13
"DATA",403.46,1,2,14,0)
14
"DATA",403.46,1,2,15,0)
15
"DATA",403.46,1,2,17,0)
17
"DATA",403.46,1,2,18,0)
18
"DATA",403.46,1,2,19,0)
19
"DATA",403.46,1,2,20,0)
20
"DATA",403.46,1,2,21,0)
21
"DATA",403.46,1,2,22,0)
22
"DATA",403.46,1,2,23,0)
23
"DATA",403.46,1,2,26,0)
26
"DATA",403.46,1,2,27,0)
27
"DATA",403.46,1,2,28,0)
28
"DATA",403.46,1,2,29,0)
29
"DATA",403.46,1,2,30,0)
30
"DATA",403.46,1,2,31,0)
31
"DATA",403.46,1,2,32,0)
32
"DATA",403.46,1,2,33,0)
33
"DATA",403.46,1,2,34,0)
34
"DATA",403.46,1,2,35,0)
35
"DATA",403.46,1,2,36,0)
36
"DATA",403.46,1,2,37,0)
37
"DATA",403.46,1,2,38,0)
38
"DATA",403.46,1,2,39,0)
39
"DATA",403.46,1,2,40,0)
40
"DATA",403.46,1,2,41,0)
41
"DATA",403.46,1,2,42,0)
42
"DATA",403.46,1,2,43,0)
43
"DATA",403.46,1,2,45,0)
45
"DATA",403.46,1,2,46,0)
46
"DATA",403.46,1,2,47,0)
47
"DATA",403.46,1,2,48,0)
48
"DATA",403.46,1,2,49,0)
49
"DATA",403.46,1,2,50,0)
50
"DATA",403.46,1,2,51,0)
51
"DATA",403.46,1,2,52,0)
52
"DATA",403.46,1,2,53,0)
53
"DATA",403.46,1,2,54,0)
54
"DATA",403.46,1,2,55,0)
55
"DATA",403.46,1,2,56,0)
56
"DATA",403.46,1,2,57,0)
57
"DATA",403.46,1,2,58,0)
58
"DATA",403.46,1,2,59,0)
59
"DATA",403.46,1,2,61,0)
61
"DATA",403.46,1,2,62,0)
62
"DATA",403.46,1,2,63,0)
63
"DATA",403.46,1,2,64,0)
64
"DATA",403.46,1,2,65,0)
65
"DATA",403.46,1,2,66,0)
66
"DATA",403.46,1,2,67,0)
67
"DATA",403.46,1,2,69,0)
69
"DATA",403.46,1,2,70,0)
70
"DATA",403.46,1,2,71,0)
71
"DATA",403.46,1,2,72,0)
72
"DATA",403.46,1,2,73,0)
73
"DATA",403.46,1,2,74,0)
74
"DATA",403.46,1,2,75,0)
75
"DATA",403.46,1,2,76,0)
76
"DATA",403.46,1,2,77,0)
77
"DATA",403.46,1,2,78,0)
78
"DATA",403.46,1,2,79,0)
79
"DATA",403.46,1,2,80,0)
80
"DATA",403.46,1,2,81,0)
81
"DATA",403.46,1,2,82,0)
82
"DATA",403.46,1,2,83,0)
83
"DATA",403.46,1,2,84,0)
84
"DATA",403.46,1,2,85,0)
85
"DATA",403.46,1,2,86,0)
86
"DATA",403.46,1,2,87,0)
87
"DATA",403.46,1,2,88,0)
88
"DATA",403.46,1,2,89,0)
89
"DATA",403.46,1,2,90,0)
90
"DATA",403.46,1,2,91,0)
91
"DATA",403.46,1,2,92,0)
92
"DATA",403.46,1,2,93,0)
93
"DATA",403.46,1,2,94,0)
94
"DATA",403.46,1,2,95,0)
95
"DATA",403.46,1,2,96,0)
96
"DATA",403.46,1,2,97,0)
97
"DATA",403.46,1,2,98,0)
98
"DATA",403.46,1,2,99,0)
99
"DATA",403.46,1,2,100,0)
100
"DATA",403.46,1,2,101,0)
101
"DATA",403.46,1,2,102,0)
102
"DATA",403.46,1,2,103,0)
103
"DATA",403.46,1,2,104,0)
104
"DATA",403.46,1,2,105,0)
105
"DATA",403.46,1,2,106,0)
106
"DATA",403.46,1,2,107,0)
107
"DATA",403.46,1,2,108,0)
108
"DATA",403.46,1,2,109,0)
109
"DATA",403.46,1,2,110,0)
110
"DATA",403.46,1,2,111,0)
111
"DATA",403.46,1,2,112,0)
112
"DATA",403.46,1,2,113,0)
113
"DATA",403.46,1,2,114,0)
114
"DATA",403.46,1,2,115,0)
115
"DATA",403.46,1,2,116,0)
116
"DATA",403.46,1,2,117,0)
117
"DATA",403.46,1,2,118,0)
118
"DATA",403.46,1,2,119,0)
119
"DATA",403.46,1,2,120,0)
120
"DATA",403.46,1,2,121,0)
121
"DATA",403.46,1,2,122,0)
122
"DATA",403.46,1,2,123,0)
123
"DATA",403.46,1,2,124,0)
124
"DATA",403.46,1,2,125,0)
125
"DATA",403.46,1,2,126,0)
126
"DATA",403.46,1,2,127,0)
127
"DATA",403.46,1,2,128,0)
128
"DATA",403.46,1,2,131,0)
131
"DATA",403.46,1,2,133,0)
133
"DATA",403.46,1,2,134,0)
134
"DATA",403.46,1,2,135,0)
135
"DATA",403.46,1,2,136,0)
136
"DATA",403.46,1,2,138,0)
138
"DATA",403.46,1,2,139,0)
139
"DATA",403.46,1,2,141,0)
141
"DATA",403.46,1,2,142,0)
142
"DATA",403.46,1,2,143,0)
143
"DATA",403.46,1,2,146,0)
146
"DATA",403.46,1,2,147,0)
147
"DATA",403.46,1,2,148,0)
148
"DATA",403.46,1,2,149,0)
149
"DATA",403.46,1,2,150,0)
150
"DATA",403.46,1,2,152,0)
152
"DATA",403.46,1,2,154,0)
154
"DATA",403.46,1,2,155,0)
155
"DATA",403.46,1,2,156,0)
156
"DATA",403.46,1,2,157,0)
157
"DATA",403.46,1,2,158,0)
158
"DATA",403.46,1,2,159,0)
159
"DATA",403.46,1,2,160,0)
160
"DATA",403.46,1,2,162,0)
162
"DATA",403.46,1,2,163,0)
163
"DATA",403.46,1,2,165,0)
165
"DATA",403.46,1,2,166,0)
166
"DATA",403.46,1,2,168,0)
168
"DATA",403.46,1,2,170,0)
170
"DATA",403.46,1,2,171,0)
171
"DATA",403.46,1,2,172,0)
172
"DATA",403.46,1,2,173,0)
173
"DATA",403.46,1,2,174,0)
174
"DATA",403.46,1,2,175,0)
175
"DATA",403.46,1,2,176,0)
176
"DATA",403.46,1,2,177,0)
177
"DATA",403.46,1,2,178,0)
178
"DATA",403.46,1,2,569,0)
569
"DATA",403.46,1,2,570,0)
570
"DATA",403.46,1,2,571,0)
571
"DATA",403.46,1,2,572,0)
572
"DATA",403.46,1,2,573,0)
573
"DATA",403.46,1,2,574,0)
574
"DATA",403.46,1,2,575,0)
575
"DATA",403.46,1,2,576,0)
576
"DATA",403.46,1,2,577,0)
577
"DATA",403.46,1,2,578,0)
578
"DATA",403.46,1,2,579,0)
579
"DATA",403.46,1,2,580,0)
580
"DATA",403.46,1,2,581,0)
581
"DATA",403.46,1,2,582,0)
582
"DATA",403.46,1,2,583,0)
583
"DATA",403.46,1,2,584,0)
584
"DATA",403.46,1,2,585,0)
585
"DATA",403.46,1,2,586,0)
586
"DATA",403.46,1,2,587,0)
587
"DATA",403.46,1,2,588,0)
588
"DATA",403.46,1,2,589,0)
589
"DATA",403.46,1,2,590,0)
590
"DATA",403.46,1,2,591,0)
591
"DATA",403.46,1,2,592,0)
592
"DATA",403.46,1,2,593,0)
593
"DATA",403.46,1,2,594,0)
594
"DATA",403.46,1,2,595,0)
595
"DATA",403.46,1,2,596,0)
596
"DATA",403.46,1,2,597,0)
597
"DATA",403.46,1,2,598,0)
598
"DATA",403.46,1,2,599,0)
599
"DATA",403.46,1,2,600,0)
600
"DATA",403.46,1,2,601,0)
601
"DATA",403.46,1,2,602,0)
602
"DATA",403.46,1,2,603,0)
603
"DATA",403.46,1,2,604,0)
604
"DATA",403.46,1,2,605,0)
605
"DATA",403.46,1,2,606,0)
606
"DATA",403.46,1,2,607,0)
607
"DATA",403.46,1,2,608,0)
608
"DATA",403.46,1,2,685,0)
685
"DATA",403.46,1,2,686,0)
686
"DATA",403.46,1,2,687,0)
687
"DATA",403.46,1,2,688,0)
688
"DATA",403.46,1,2,689,0)
689
"DATA",403.46,1,2,690,0)
690
"DATA",403.46,1,2,691,0)
691
"DATA",403.46,1,2,692,0)
692
"DATA",403.46,1,2,693,0)
693
"DATA",403.46,1,2,694,0)
694
"DATA",403.46,1,2,695,0)
695
"DATA",403.46,1,2,696,0)
696
"DATA",403.46,1,2,697,0)
697
"DATA",403.46,1,2,698,0)
698
"DATA",403.46,1,2,699,0)
699
"DATA",403.46,1,2,700,0)
700
"DATA",403.46,1,2,701,0)
701
"DATA",403.46,1,2,702,0)
702
"DATA",403.46,1,2,703,0)
703
"DATA",403.46,1,2,704,0)
704
"DATA",403.46,1,2,705,0)
705
"DATA",403.46,1,2,706,0)
706
"DATA",403.46,1,2,707,0)
707
"DATA",403.46,1,2,708,0)
708
"DATA",403.46,1,2,709,0)
709
"DATA",403.46,1,2,710,0)
710
"DATA",403.46,1,2,711,0)
711
"DATA",403.46,1,2,712,0)
712
"DATA",403.46,1,2,713,0)
713
"DATA",403.46,1,2,714,0)
714
"DATA",403.46,1,2,715,0)
715
"DATA",403.46,1,2,716,0)
716
"DATA",403.46,1,2,717,0)
717
"DATA",403.46,1,2,718,0)
718
"DATA",403.46,1,2,743,0)
743
"DATA",403.46,1,2,744,0)
744
"DATA",403.46,1,2,745,0)
745
"DATA",403.46,1,2,746,0)
746
"DATA",403.46,1,2,747,0)
747
"DATA",403.46,1,2,748,0)
748
"DATA",403.46,1,2,749,0)
749
"DATA",403.46,1,2,750,0)
750
"DATA",403.46,1,2,751,0)
751
"DATA",403.46,1,2,752,0)
752
"DATA",403.46,1,2,753,0)
753
"DATA",403.46,1,2,754,0)
754
"DATA",403.46,1,2,755,0)
755
"DATA",403.46,1,2,756,0)
756
"DATA",403.46,1,2,757,0)
757
"DATA",403.46,1,2,758,0)
758
"DATA",403.46,1,2,759,0)
759
"DATA",403.46,1,2,760,0)
760
"DATA",403.46,1,2,761,0)
761
"DATA",403.46,1,2,762,0)
762
"DATA",403.46,1,2,764,0)
764
"DATA",403.46,1,2,765,0)
765
"DATA",403.46,1,2,766,0)
766
"DATA",403.46,1,2,767,0)
767
"DATA",403.46,1,2,768,0)
768
"DATA",403.46,1,2,769,0)
769
"DATA",403.46,1,2,770,0)
770
"DATA",403.46,1,2,771,0)
771
"DATA",403.46,1,2,772,0)
772
"DATA",403.46,1,2,773,0)
773
"DATA",403.46,1,2,774,0)
774
"DATA",403.46,1,2,775,0)
775
"DATA",403.46,1,2,776,0)
776
"DATA",403.46,1,2,777,0)
777
"DATA",403.46,1,2,778,0)
778
"DATA",403.46,1,2,779,0)
779
"DATA",403.46,1,2,780,0)
780
"DATA",403.46,1,2,781,0)
781
"DATA",403.46,1,2,782,0)
782
"DATA",403.46,1,2,783,0)
783
"DATA",403.46,1,2,784,0)
784
"DATA",403.46,1,2,785,0)
785
"DATA",403.46,1,2,786,0)
786
"DATA",403.46,1,2,787,0)
787
"DATA",403.46,1,2,788,0)
788
"DATA",403.46,1,2,789,0)
789
"DATA",403.46,1,2,790,0)
790
"DATA",403.46,1,2,791,0)
791
"DATA",403.46,1,2,792,0)
792
"DATA",403.46,1,2,793,0)
793
"DATA",403.46,1,2,794,0)
794
"DATA",403.46,1,2,795,0)
795
"DATA",403.46,1,2,796,0)
796
"DATA",403.46,1,2,797,0)
797
"DATA",403.46,1,2,798,0)
798
"DATA",403.46,1,2,799,0)
799
"DATA",403.46,1,2,800,0)
800
"DATA",403.46,1,2,801,0)
801
"DATA",403.46,1,2,802,0)
802
"DATA",403.46,1,2,803,0)
803
"DATA",403.46,1,2,804,0)
804
"DATA",403.46,1,2,805,0)
805
"DATA",403.46,1,2,806,0)
806
"DATA",403.46,1,2,807,0)
807
"DATA",403.46,1,2,808,0)
808
"DATA",403.46,1,2,809,0)
809
"DATA",403.46,1,2,810,0)
810
"DATA",403.46,1,2,811,0)
811
"DATA",403.46,1,2,812,0)
812
"DATA",403.46,1,2,813,0)
813
"DATA",403.46,1,2,814,0)
814
"DATA",403.46,1,2,815,0)
815
"DATA",403.46,1,2,816,0)
816
"DATA",403.46,1,2,817,0)
817
"DATA",403.46,1,2,818,0)
818
"DATA",403.46,1,2,819,0)
819
"DATA",403.46,1,2,820,0)
820
"DATA",403.46,1,2,821,0)
821
"DATA",403.46,1,2,822,0)
822
"DATA",403.46,1,2,823,0)
823
"DATA",403.46,1,2,824,0)
824
"DATA",403.46,1,2,825,0)
825
"DATA",403.46,1,2,826,0)
826
"DATA",403.46,1,2,827,0)
827
"DATA",403.46,1,2,828,0)
828
"DATA",403.46,1,2,829,0)
829
"DATA",403.46,1,2,830,0)
830
"DATA",403.46,1,2,831,0)
831
"DATA",403.46,1,2,832,0)
832
"DATA",403.46,1,2,833,0)
833
"DATA",403.46,1,2,834,0)
834
"DATA",403.46,1,2,835,0)
835
"DATA",403.46,1,2,836,0)
836
"DATA",403.46,1,2,837,0)
837
"DATA",403.46,1,2,838,0)
838
"DATA",403.46,1,2,839,0)
839
"DATA",403.46,1,2,840,0)
840
"DATA",403.46,1,2,841,0)
841
"DATA",403.46,1,2,842,0)
842
"DATA",403.46,1,2,843,0)
843
"DATA",403.46,1,2,844,0)
844
"DATA",403.46,1,2,845,0)
845
"DATA",403.46,1,2,846,0)
846
"DATA",403.46,1,2,847,0)
847
"DATA",403.46,1,2,848,0)
848
"DATA",403.46,1,2,849,0)
849
"DATA",403.46,1,2,850,0)
850
"DATA",403.46,1,2,851,0)
851
"DATA",403.46,1,2,852,0)
852
"DATA",403.46,1,2,853,0)
853
"DATA",403.46,1,2,854,0)
854
"DATA",403.46,1,2,855,0)
855
"DATA",403.46,1,2,856,0)
856
"DATA",403.46,1,2,857,0)
857
"DATA",403.46,1,2,858,0)
858
"DATA",403.46,1,2,859,0)
859
"DATA",403.46,1,2,860,0)
860
"DATA",403.46,1,2,861,0)
861
"DATA",403.46,1,2,862,0)
862
"DATA",403.46,1,2,863,0)
863
"DATA",403.46,1,2,864,0)
864
"DATA",403.46,1,2,865,0)
865
"DATA",403.46,1,2,866,0)
866
"DATA",403.46,1,2,867,0)
867
"DATA",403.46,1,2,868,0)
868
"DATA",403.46,1,2,869,0)
869
"DATA",403.46,1,2,870,0)
870
"DATA",403.46,1,2,871,0)
871
"DATA",403.46,1,2,872,0)
872
"DATA",403.46,1,2,873,0)
873
"DATA",403.46,1,2,874,0)
874
"DATA",403.46,1,2,875,0)
875
"DATA",403.46,1,2,876,0)
876
"DATA",403.46,1,2,877,0)
877
"DATA",403.46,1,2,878,0)
878
"DATA",403.46,1,2,879,0)
879
"DATA",403.46,1,2,880,0)
880
"DATA",403.46,1,2,881,0)
881
"DATA",403.46,1,2,882,0)
882
"DATA",403.46,1,2,883,0)
883
"DATA",403.46,1,2,884,0)
884
"DATA",403.46,1,2,885,0)
885
"DATA",403.46,1,2,886,0)
886
"DATA",403.46,1,2,887,0)
887
"DATA",403.46,1,2,888,0)
888
"DATA",403.46,1,2,889,0)
889
"DATA",403.46,1,2,890,0)
890
"DATA",403.46,1,2,891,0)
891
"DATA",403.46,1,2,892,0)
892
"DATA",403.46,1,2,893,0)
893
"DATA",403.46,1,2,894,0)
894
"DATA",403.46,1,2,895,0)
895
"DATA",403.46,1,2,896,0)
896
"DATA",403.46,1,2,897,0)
897
"DATA",403.46,1,2,898,0)
898
"DATA",403.46,1,2,899,0)
899
"DATA",403.46,1,2,900,0)
900
"DATA",403.46,1,2,901,0)
901
"DATA",403.46,1,2,902,0)
902
"DATA",403.46,1,2,903,0)
903
"DATA",403.46,1,2,904,0)
904
"DATA",403.46,1,2,905,0)
905
"DATA",403.46,1,2,906,0)
906
"DATA",403.46,1,2,907,0)
907
"DATA",403.46,1,2,908,0)
908
"DATA",403.46,1,2,909,0)
909
"DATA",403.46,1,2,910,0)
910
"DATA",403.46,1,2,911,0)
911
"DATA",403.46,1,2,912,0)
912
"DATA",403.46,1,2,913,0)
913
"DATA",403.46,1,2,914,0)
914
"DATA",403.46,2,0)
PHYSICIAN-PRIMARY CARE^334^1
"DATA",403.46,2,1,0)
^403.46001^16^16^3110429^^^^
"DATA",403.46,2,1,1,0)
As a physician, incumbent's duties are to advise on, administer,
"DATA",403.46,2,1,2,0)
supervise or perform professional and scientific work in one or
"DATA",403.46,2,1,3,0)
more fields of medicine. The degree of Doctor of Medicine or Doctor
"DATA",403.46,2,1,4,0)
of Osteopathy is a fundamental requirement, along with a current
"DATA",403.46,2,1,5,0)
license to practice medicine and surgery in a US State, territory
"DATA",403.46,2,1,6,0)
or the District of Columbia.
"DATA",403.46,2,1,7,0)
 
"DATA",403.46,2,1,8,0)
As a Primary Care practitioner, the incumbent provides the first
"DATA",403.46,2,1,9,0)
point of assistance for a patient seeking care. Primary Care duties
"DATA",403.46,2,1,10,0)
include: (1) Intake and initial needs assessment, (2) Health 
"DATA",403.46,2,1,11,0)
promotion and disease prevention, (3) Management of
"DATA",403.46,2,1,12,0)
acute and chronic biopsychosocial conditions, 
"DATA",403.46,2,1,13,0)
(4) Access to other components of health care, 
"DATA",403.46,2,1,14,0)
(5) Continuity, and (6) Patient and non-professional
"DATA",403.46,2,1,15,0)
care giver education & training.
"DATA",403.46,2,1,16,0)
(from IL 10-93-031, Under Secretary for Health's Letter)
"DATA",403.46,2,2,0)
^403.462PA^145^404
"DATA",403.46,2,2,1,0)
1
"DATA",403.46,2,2,2,0)
2
"DATA",403.46,2,2,3,0)
3
"DATA",403.46,2,2,4,0)
4
"DATA",403.46,2,2,5,0)
5
"DATA",403.46,2,2,6,0)
6
"DATA",403.46,2,2,7,0)
7
"DATA",403.46,2,2,8,0)
8
"DATA",403.46,2,2,9,0)
9
"DATA",403.46,2,2,10,0)
10
"DATA",403.46,2,2,11,0)
11
"DATA",403.46,2,2,12,0)
12
"DATA",403.46,2,2,13,0)
13
"DATA",403.46,2,2,14,0)
14
"DATA",403.46,2,2,15,0)
15
"DATA",403.46,2,2,17,0)
17
"DATA",403.46,2,2,18,0)
18
"DATA",403.46,2,2,19,0)
19
"DATA",403.46,2,2,20,0)
20
"DATA",403.46,2,2,21,0)
21
"DATA",403.46,2,2,22,0)
22
"DATA",403.46,2,2,23,0)
23
"DATA",403.46,2,2,26,0)
26
"DATA",403.46,2,2,27,0)
27
"DATA",403.46,2,2,28,0)
28
"DATA",403.46,2,2,29,0)
29
"DATA",403.46,2,2,30,0)
30
"DATA",403.46,2,2,31,0)
31
"DATA",403.46,2,2,32,0)
32
"DATA",403.46,2,2,33,0)
33
"DATA",403.46,2,2,34,0)
34
"DATA",403.46,2,2,35,0)
35
"DATA",403.46,2,2,36,0)
36
"DATA",403.46,2,2,37,0)
37
"DATA",403.46,2,2,38,0)
38
"DATA",403.46,2,2,39,0)
39
"DATA",403.46,2,2,40,0)
40
"DATA",403.46,2,2,41,0)
41
"DATA",403.46,2,2,42,0)
42
"DATA",403.46,2,2,43,0)
43
"DATA",403.46,2,2,45,0)
45
"DATA",403.46,2,2,46,0)
46
"DATA",403.46,2,2,47,0)
47
"DATA",403.46,2,2,48,0)
48
"DATA",403.46,2,2,49,0)
49
"DATA",403.46,2,2,50,0)
50
"DATA",403.46,2,2,51,0)
51
"DATA",403.46,2,2,52,0)
52
"DATA",403.46,2,2,53,0)
53
"DATA",403.46,2,2,54,0)
54
"DATA",403.46,2,2,55,0)
55
"DATA",403.46,2,2,56,0)
56
"DATA",403.46,2,2,57,0)
57
"DATA",403.46,2,2,58,0)
58
"DATA",403.46,2,2,59,0)
59
"DATA",403.46,2,2,61,0)
61
"DATA",403.46,2,2,62,0)
62
"DATA",403.46,2,2,63,0)
63
"DATA",403.46,2,2,64,0)
64
"DATA",403.46,2,2,65,0)
65
"DATA",403.46,2,2,66,0)
66
"DATA",403.46,2,2,67,0)
67
"DATA",403.46,2,2,69,0)
69
"DATA",403.46,2,2,70,0)
70
"DATA",403.46,2,2,71,0)
71
"DATA",403.46,2,2,72,0)
72
"DATA",403.46,2,2,73,0)
73
"DATA",403.46,2,2,74,0)
74
"DATA",403.46,2,2,75,0)
75
"DATA",403.46,2,2,76,0)
76
"DATA",403.46,2,2,77,0)
77
"DATA",403.46,2,2,78,0)
78
"DATA",403.46,2,2,79,0)
79
"DATA",403.46,2,2,80,0)
80
"DATA",403.46,2,2,81,0)
81
"DATA",403.46,2,2,82,0)
82
"DATA",403.46,2,2,83,0)
83
"DATA",403.46,2,2,84,0)
84
"DATA",403.46,2,2,85,0)
85
"DATA",403.46,2,2,86,0)
86
"DATA",403.46,2,2,87,0)
87
"DATA",403.46,2,2,88,0)
88
"DATA",403.46,2,2,89,0)
89
"DATA",403.46,2,2,90,0)
90
"DATA",403.46,2,2,91,0)
91
"DATA",403.46,2,2,92,0)
92
"DATA",403.46,2,2,93,0)
93
"DATA",403.46,2,2,94,0)
94
"DATA",403.46,2,2,95,0)
95
"DATA",403.46,2,2,96,0)
96
"DATA",403.46,2,2,97,0)
97
"DATA",403.46,2,2,98,0)
98
"DATA",403.46,2,2,99,0)
99
"DATA",403.46,2,2,100,0)
100
"DATA",403.46,2,2,101,0)
101
"DATA",403.46,2,2,102,0)
102
"DATA",403.46,2,2,103,0)
103
"DATA",403.46,2,2,104,0)
104
"DATA",403.46,2,2,105,0)
105
"DATA",403.46,2,2,106,0)
106
"DATA",403.46,2,2,107,0)
107
"DATA",403.46,2,2,108,0)
108
"DATA",403.46,2,2,109,0)
109
"DATA",403.46,2,2,110,0)
110
"DATA",403.46,2,2,111,0)
111
"DATA",403.46,2,2,112,0)
112
"DATA",403.46,2,2,113,0)
113
"DATA",403.46,2,2,114,0)
114
"DATA",403.46,2,2,115,0)
115
"DATA",403.46,2,2,116,0)
116
"DATA",403.46,2,2,117,0)
117
"DATA",403.46,2,2,118,0)
118
"DATA",403.46,2,2,119,0)
119
"DATA",403.46,2,2,120,0)
120
"DATA",403.46,2,2,121,0)
121
"DATA",403.46,2,2,122,0)
122
"DATA",403.46,2,2,123,0)
123
"DATA",403.46,2,2,124,0)
124
"DATA",403.46,2,2,125,0)
125
"DATA",403.46,2,2,126,0)
126
"DATA",403.46,2,2,127,0)
127
"DATA",403.46,2,2,128,0)
128
"DATA",403.46,2,2,131,0)
131
"DATA",403.46,2,2,133,0)
133
"DATA",403.46,2,2,134,0)
134
"DATA",403.46,2,2,135,0)
135
"DATA",403.46,2,2,136,0)
136
"DATA",403.46,2,2,138,0)
138
"DATA",403.46,2,2,139,0)
139
"DATA",403.46,2,2,141,0)
141
"DATA",403.46,2,2,142,0)
142
"DATA",403.46,2,2,143,0)
143
"DATA",403.46,2,2,145,0)
145
"DATA",403.46,2,2,146,0)
146
"DATA",403.46,2,2,147,0)
147
"DATA",403.46,2,2,148,0)
148
"DATA",403.46,2,2,149,0)
149
"DATA",403.46,2,2,150,0)
150
"DATA",403.46,2,2,152,0)
152
"DATA",403.46,2,2,154,0)
154
"DATA",403.46,2,2,155,0)
155
"DATA",403.46,2,2,156,0)
156
"DATA",403.46,2,2,157,0)
157
"DATA",403.46,2,2,158,0)
158
"DATA",403.46,2,2,159,0)
159
"DATA",403.46,2,2,160,0)
160
"DATA",403.46,2,2,162,0)
162
"DATA",403.46,2,2,163,0)
163
"DATA",403.46,2,2,165,0)
165
"DATA",403.46,2,2,166,0)
166
"DATA",403.46,2,2,168,0)
168
"DATA",403.46,2,2,170,0)
170
"DATA",403.46,2,2,171,0)
171
"DATA",403.46,2,2,172,0)
172
"DATA",403.46,2,2,173,0)
173
"DATA",403.46,2,2,174,0)
174
"DATA",403.46,2,2,175,0)
175
"DATA",403.46,2,2,176,0)
176
"DATA",403.46,2,2,177,0)
177
"DATA",403.46,2,2,178,0)
178
"DATA",403.46,2,2,569,0)
569
"DATA",403.46,2,2,570,0)
570
"DATA",403.46,2,2,571,0)
571
"DATA",403.46,2,2,572,0)
572
"DATA",403.46,2,2,573,0)
573
"DATA",403.46,2,2,574,0)
574
"DATA",403.46,2,2,575,0)
575
"DATA",403.46,2,2,576,0)
576
"DATA",403.46,2,2,577,0)
577
"DATA",403.46,2,2,578,0)
578
"DATA",403.46,2,2,579,0)
579
"DATA",403.46,2,2,580,0)
580
"DATA",403.46,2,2,581,0)
581
"DATA",403.46,2,2,582,0)
582
"DATA",403.46,2,2,583,0)
583
"DATA",403.46,2,2,584,0)
584
"DATA",403.46,2,2,585,0)
585
"DATA",403.46,2,2,586,0)
586
"DATA",403.46,2,2,587,0)
587
"DATA",403.46,2,2,588,0)
588
"DATA",403.46,2,2,589,0)
589
"DATA",403.46,2,2,590,0)
590
"DATA",403.46,2,2,591,0)
591
"DATA",403.46,2,2,592,0)
592
"DATA",403.46,2,2,593,0)
593
"DATA",403.46,2,2,594,0)
594
"DATA",403.46,2,2,595,0)
595
"DATA",403.46,2,2,596,0)
596
"DATA",403.46,2,2,597,0)
597
"DATA",403.46,2,2,598,0)
598
"DATA",403.46,2,2,599,0)
599
"DATA",403.46,2,2,600,0)
600
"DATA",403.46,2,2,601,0)
601
"DATA",403.46,2,2,602,0)
602
"DATA",403.46,2,2,603,0)
603
"DATA",403.46,2,2,604,0)
604
"DATA",403.46,2,2,605,0)
605
"DATA",403.46,2,2,606,0)
606
"DATA",403.46,2,2,607,0)
607
"DATA",403.46,2,2,608,0)
608
"DATA",403.46,2,2,685,0)
685
"DATA",403.46,2,2,686,0)
686
"DATA",403.46,2,2,687,0)
687
"DATA",403.46,2,2,688,0)
688
"DATA",403.46,2,2,689,0)
689
"DATA",403.46,2,2,690,0)
690
"DATA",403.46,2,2,691,0)
691
"DATA",403.46,2,2,692,0)
692
"DATA",403.46,2,2,693,0)
693
"DATA",403.46,2,2,694,0)
694
"DATA",403.46,2,2,695,0)
695
"DATA",403.46,2,2,696,0)
696
"DATA",403.46,2,2,697,0)
697
"DATA",403.46,2,2,698,0)
698
"DATA",403.46,2,2,699,0)
699
"DATA",403.46,2,2,700,0)
700
"DATA",403.46,2,2,701,0)
701
"DATA",403.46,2,2,702,0)
702
"DATA",403.46,2,2,703,0)
703
"DATA",403.46,2,2,704,0)
704
"DATA",403.46,2,2,705,0)
705
"DATA",403.46,2,2,706,0)
706
"DATA",403.46,2,2,707,0)
707
"DATA",403.46,2,2,708,0)
708
"DATA",403.46,2,2,709,0)
709
"DATA",403.46,2,2,710,0)
710
"DATA",403.46,2,2,711,0)
711
"DATA",403.46,2,2,712,0)
712
"DATA",403.46,2,2,713,0)
713
"DATA",403.46,2,2,714,0)
714
"DATA",403.46,2,2,715,0)
715
"DATA",403.46,2,2,716,0)
716
"DATA",403.46,2,2,717,0)
717
"DATA",403.46,2,2,718,0)
718
"DATA",403.46,2,2,743,0)
743
"DATA",403.46,2,2,744,0)
744
"DATA",403.46,2,2,745,0)
745
"DATA",403.46,2,2,746,0)
746
"DATA",403.46,2,2,747,0)
747
"DATA",403.46,2,2,748,0)
748
"DATA",403.46,2,2,749,0)
749
"DATA",403.46,2,2,750,0)
750
"DATA",403.46,2,2,751,0)
751
"DATA",403.46,2,2,752,0)
752
"DATA",403.46,2,2,753,0)
753
"DATA",403.46,2,2,754,0)
754
"DATA",403.46,2,2,755,0)
755
"DATA",403.46,2,2,756,0)
756
"DATA",403.46,2,2,757,0)
757
"DATA",403.46,2,2,758,0)
758
"DATA",403.46,2,2,759,0)
759
"DATA",403.46,2,2,760,0)
760
"DATA",403.46,2,2,761,0)
761
"DATA",403.46,2,2,762,0)
762
"DATA",403.46,2,2,763,0)
763
"DATA",403.46,2,2,764,0)
764
"DATA",403.46,2,2,765,0)
765
"DATA",403.46,2,2,766,0)
766
"DATA",403.46,2,2,767,0)
767
"DATA",403.46,2,2,768,0)
768
"DATA",403.46,2,2,769,0)
769
"DATA",403.46,2,2,770,0)
770
"DATA",403.46,2,2,771,0)
771
"DATA",403.46,2,2,772,0)
772
"DATA",403.46,2,2,773,0)
773
"DATA",403.46,2,2,774,0)
774
"DATA",403.46,2,2,775,0)
775
"DATA",403.46,2,2,776,0)
776
"DATA",403.46,2,2,777,0)
777
"DATA",403.46,2,2,778,0)
778
"DATA",403.46,2,2,779,0)
779
"DATA",403.46,2,2,780,0)
780
"DATA",403.46,2,2,781,0)
781
"DATA",403.46,2,2,782,0)
782
"DATA",403.46,2,2,783,0)
783
"DATA",403.46,2,2,784,0)
784
"DATA",403.46,2,2,785,0)
785
"DATA",403.46,2,2,786,0)
786
"DATA",403.46,2,2,787,0)
787
"DATA",403.46,2,2,788,0)
788
"DATA",403.46,2,2,789,0)
789
"DATA",403.46,2,2,790,0)
790
"DATA",403.46,2,2,791,0)
791
"DATA",403.46,2,2,792,0)
792
"DATA",403.46,2,2,793,0)
793
"DATA",403.46,2,2,794,0)
794
"DATA",403.46,2,2,795,0)
795
"DATA",403.46,2,2,796,0)
796
"DATA",403.46,2,2,797,0)
797
"DATA",403.46,2,2,798,0)
798
"DATA",403.46,2,2,799,0)
799
"DATA",403.46,2,2,800,0)
800
"DATA",403.46,2,2,801,0)
801
"DATA",403.46,2,2,802,0)
802
"DATA",403.46,2,2,803,0)
803
"DATA",403.46,2,2,804,0)
804
"DATA",403.46,2,2,805,0)
805
"DATA",403.46,2,2,806,0)
806
"DATA",403.46,2,2,807,0)
807
"DATA",403.46,2,2,808,0)
808
"DATA",403.46,2,2,809,0)
809
"DATA",403.46,2,2,810,0)
810
"DATA",403.46,2,2,811,0)
811
"DATA",403.46,2,2,812,0)
812
"DATA",403.46,2,2,813,0)
813
"DATA",403.46,2,2,814,0)
814
"DATA",403.46,2,2,815,0)
815
"DATA",403.46,2,2,816,0)
816
"DATA",403.46,2,2,817,0)
817
"DATA",403.46,2,2,818,0)
818
"DATA",403.46,2,2,819,0)
819
"DATA",403.46,2,2,820,0)
820
"DATA",403.46,2,2,821,0)
821
"DATA",403.46,2,2,822,0)
822
"DATA",403.46,2,2,823,0)
823
"DATA",403.46,2,2,825,0)
825
"DATA",403.46,2,2,826,0)
826
"DATA",403.46,2,2,827,0)
827
"DATA",403.46,2,2,828,0)
828
"DATA",403.46,2,2,829,0)
829
"DATA",403.46,2,2,830,0)
830
"DATA",403.46,2,2,831,0)
831
"DATA",403.46,2,2,832,0)
832
"DATA",403.46,2,2,833,0)
833
"DATA",403.46,2,2,834,0)
834
"DATA",403.46,2,2,835,0)
835
"DATA",403.46,2,2,836,0)
836
"DATA",403.46,2,2,837,0)
837
"DATA",403.46,2,2,838,0)
838
"DATA",403.46,2,2,839,0)
839
"DATA",403.46,2,2,840,0)
840
"DATA",403.46,2,2,841,0)
841
"DATA",403.46,2,2,842,0)
842
"DATA",403.46,2,2,843,0)
843
"DATA",403.46,2,2,844,0)
844
"DATA",403.46,2,2,845,0)
845
"DATA",403.46,2,2,846,0)
846
"DATA",403.46,2,2,847,0)
847
"DATA",403.46,2,2,848,0)
848
"DATA",403.46,2,2,849,0)
849
"DATA",403.46,2,2,850,0)
850
"DATA",403.46,2,2,851,0)
851
"DATA",403.46,2,2,852,0)
852
"DATA",403.46,2,2,853,0)
853
"DATA",403.46,2,2,854,0)
854
"DATA",403.46,2,2,855,0)
855
"DATA",403.46,2,2,856,0)
856
"DATA",403.46,2,2,857,0)
857
"DATA",403.46,2,2,858,0)
858
"DATA",403.46,2,2,859,0)
859
"DATA",403.46,2,2,860,0)
860
"DATA",403.46,2,2,861,0)
861
"DATA",403.46,2,2,862,0)
862
"DATA",403.46,2,2,863,0)
863
"DATA",403.46,2,2,864,0)
864
"DATA",403.46,2,2,865,0)
865
"DATA",403.46,2,2,866,0)
866
"DATA",403.46,2,2,867,0)
867
"DATA",403.46,2,2,868,0)
868
"DATA",403.46,2,2,869,0)
869
"DATA",403.46,2,2,870,0)
870
"DATA",403.46,2,2,871,0)
871
"DATA",403.46,2,2,872,0)
872
"DATA",403.46,2,2,873,0)
873
"DATA",403.46,2,2,874,0)
874
"DATA",403.46,2,2,875,0)
875
"DATA",403.46,2,2,876,0)
876
"DATA",403.46,2,2,877,0)
877
"DATA",403.46,2,2,878,0)
878
"DATA",403.46,2,2,879,0)
879
"DATA",403.46,2,2,880,0)
880
"DATA",403.46,2,2,881,0)
881
"DATA",403.46,2,2,882,0)
882
"DATA",403.46,2,2,883,0)
883
"DATA",403.46,2,2,884,0)
884
"DATA",403.46,2,2,885,0)
885
"DATA",403.46,2,2,887,0)
887
"DATA",403.46,2,2,888,0)
888
"DATA",403.46,2,2,889,0)
889
"DATA",403.46,2,2,890,0)
890
"DATA",403.46,2,2,891,0)
891
"DATA",403.46,2,2,892,0)
892
"DATA",403.46,2,2,893,0)
893
"DATA",403.46,2,2,894,0)
894
"DATA",403.46,2,2,895,0)
895
"DATA",403.46,2,2,896,0)
896
"DATA",403.46,2,2,897,0)
897
"DATA",403.46,2,2,898,0)
898
"DATA",403.46,2,2,899,0)
899
"DATA",403.46,2,2,900,0)
900
"DATA",403.46,2,2,901,0)
901
"DATA",403.46,2,2,902,0)
902
"DATA",403.46,2,2,903,0)
903
"DATA",403.46,2,2,904,0)
904
"DATA",403.46,2,2,905,0)
905
"DATA",403.46,2,2,906,0)
906
"DATA",403.46,2,2,907,0)
907
"DATA",403.46,2,2,908,0)
908
"DATA",403.46,2,2,909,0)
909
"DATA",403.46,2,2,910,0)
910
"DATA",403.46,2,2,911,0)
911
"DATA",403.46,2,2,912,0)
912
"DATA",403.46,2,2,913,0)
913
"DATA",403.46,2,2,914,0)
914
"DATA",403.46,3,0)
PHYSICIAN-SUBSPECIALTY^334^1
"DATA",403.46,3,1,0)
^403.46001^10^10^3110429^^^^
"DATA",403.46,3,1,1,0)
As a physician, incumbent's duties are to advise on, administer,
"DATA",403.46,3,1,2,0)
supervise or perform professional and scientific work in one or
"DATA",403.46,3,1,3,0)
more fields of medicine. The degree of Doctor of Medicine or Doctor
"DATA",403.46,3,1,4,0)
of Osteopathy is a fundamental requirement, along with a current
"DATA",403.46,3,1,5,0)
license to practice medicine and surgery in a US State, territory
"DATA",403.46,3,1,6,0)
or the District of Columbia.
"DATA",403.46,3,1,7,0)
 
"DATA",403.46,3,1,8,0)
The incumbent is also granted clinical privileges (by the appropriate
"DATA",403.46,3,1,9,0)
governing Credentials committee) in regard to the practice of
"DATA",403.46,3,1,10,0)
Specialty or Subspecialty care in the areas of Medicine or Surgery.
"DATA",403.46,3,2,0)
^403.462PA^144^406
"DATA",403.46,3,2,1,0)
1
"DATA",403.46,3,2,2,0)
2
"DATA",403.46,3,2,3,0)
3
"DATA",403.46,3,2,4,0)
4
"DATA",403.46,3,2,5,0)
5
"DATA",403.46,3,2,6,0)
6
"DATA",403.46,3,2,7,0)
7
"DATA",403.46,3,2,8,0)
8
"DATA",403.46,3,2,9,0)
9
"DATA",403.46,3,2,10,0)
10
"DATA",403.46,3,2,11,0)
11
"DATA",403.46,3,2,12,0)
12
"DATA",403.46,3,2,13,0)
13
"DATA",403.46,3,2,14,0)
14
"DATA",403.46,3,2,15,0)
15
"DATA",403.46,3,2,17,0)
17
"DATA",403.46,3,2,18,0)
18
"DATA",403.46,3,2,19,0)
19
"DATA",403.46,3,2,20,0)
20
"DATA",403.46,3,2,21,0)
21
"DATA",403.46,3,2,22,0)
22
"DATA",403.46,3,2,23,0)
23
"DATA",403.46,3,2,26,0)
26
"DATA",403.46,3,2,27,0)
27
"DATA",403.46,3,2,28,0)
28
"DATA",403.46,3,2,29,0)
29
"DATA",403.46,3,2,30,0)
30
"DATA",403.46,3,2,31,0)
31
"DATA",403.46,3,2,32,0)
32
"DATA",403.46,3,2,33,0)
33
"DATA",403.46,3,2,34,0)
34
"DATA",403.46,3,2,35,0)
35
"DATA",403.46,3,2,36,0)
36
"DATA",403.46,3,2,37,0)
37
"DATA",403.46,3,2,38,0)
38
"DATA",403.46,3,2,39,0)
39
"DATA",403.46,3,2,40,0)
40
"DATA",403.46,3,2,41,0)
41
"DATA",403.46,3,2,42,0)
42
"DATA",403.46,3,2,43,0)
43
"DATA",403.46,3,2,45,0)
45
"DATA",403.46,3,2,46,0)
46
"DATA",403.46,3,2,47,0)
47
"DATA",403.46,3,2,48,0)
48
"DATA",403.46,3,2,49,0)
49
"DATA",403.46,3,2,50,0)
50
"DATA",403.46,3,2,51,0)
51
"DATA",403.46,3,2,52,0)
52
"DATA",403.46,3,2,53,0)
53
"DATA",403.46,3,2,54,0)
54
"DATA",403.46,3,2,55,0)
55
"DATA",403.46,3,2,56,0)
56
"DATA",403.46,3,2,57,0)
57
"DATA",403.46,3,2,58,0)
58
"DATA",403.46,3,2,59,0)
59
"DATA",403.46,3,2,61,0)
61
"DATA",403.46,3,2,62,0)
62
"DATA",403.46,3,2,63,0)
63
"DATA",403.46,3,2,64,0)
64
"DATA",403.46,3,2,65,0)
65
"DATA",403.46,3,2,66,0)
66
"DATA",403.46,3,2,67,0)
67
"DATA",403.46,3,2,69,0)
69
"DATA",403.46,3,2,70,0)
70
"DATA",403.46,3,2,71,0)
71
"DATA",403.46,3,2,72,0)
72
"DATA",403.46,3,2,73,0)
73
"DATA",403.46,3,2,74,0)
74
"DATA",403.46,3,2,75,0)
75
"DATA",403.46,3,2,76,0)
76
"DATA",403.46,3,2,77,0)
77
"DATA",403.46,3,2,78,0)
78
"DATA",403.46,3,2,79,0)
79
"DATA",403.46,3,2,80,0)
80
"DATA",403.46,3,2,81,0)
81
"DATA",403.46,3,2,82,0)
82
"DATA",403.46,3,2,83,0)
83
"DATA",403.46,3,2,84,0)
84
"DATA",403.46,3,2,85,0)
85
"DATA",403.46,3,2,86,0)
86
"DATA",403.46,3,2,87,0)
87
"DATA",403.46,3,2,88,0)
88
"DATA",403.46,3,2,89,0)
89
"DATA",403.46,3,2,90,0)
90
"DATA",403.46,3,2,91,0)
91
"DATA",403.46,3,2,92,0)
92
"DATA",403.46,3,2,93,0)
93
"DATA",403.46,3,2,94,0)
94
"DATA",403.46,3,2,95,0)
95
"DATA",403.46,3,2,96,0)
96
"DATA",403.46,3,2,97,0)
97
"DATA",403.46,3,2,98,0)
98
"DATA",403.46,3,2,99,0)
99
"DATA",403.46,3,2,100,0)
100
"DATA",403.46,3,2,101,0)
101
"DATA",403.46,3,2,102,0)
102
"DATA",403.46,3,2,103,0)
103
"DATA",403.46,3,2,104,0)
104
"DATA",403.46,3,2,105,0)
105
"DATA",403.46,3,2,106,0)
106
"DATA",403.46,3,2,107,0)
107
"DATA",403.46,3,2,108,0)
108
"DATA",403.46,3,2,109,0)
109
"DATA",403.46,3,2,110,0)
110
"DATA",403.46,3,2,111,0)
111
"DATA",403.46,3,2,112,0)
112
"DATA",403.46,3,2,113,0)
113
"DATA",403.46,3,2,114,0)
114
"DATA",403.46,3,2,115,0)
115
"DATA",403.46,3,2,116,0)
116
"DATA",403.46,3,2,117,0)
117
"DATA",403.46,3,2,118,0)
118
"DATA",403.46,3,2,119,0)
119
"DATA",403.46,3,2,120,0)
120
"DATA",403.46,3,2,121,0)
121
"DATA",403.46,3,2,122,0)
122
"DATA",403.46,3,2,123,0)
123
"DATA",403.46,3,2,124,0)
124
"DATA",403.46,3,2,125,0)
125
"DATA",403.46,3,2,126,0)
126
"DATA",403.46,3,2,127,0)
127
"DATA",403.46,3,2,128,0)
128
"DATA",403.46,3,2,131,0)
131
"DATA",403.46,3,2,133,0)
133
"DATA",403.46,3,2,134,0)
134
"DATA",403.46,3,2,135,0)
135
"DATA",403.46,3,2,136,0)
136
"DATA",403.46,3,2,138,0)
138
"DATA",403.46,3,2,139,0)
139
"DATA",403.46,3,2,141,0)
141
"DATA",403.46,3,2,142,0)
142
"DATA",403.46,3,2,143,0)
143
"DATA",403.46,3,2,144,0)
144
"DATA",403.46,3,2,146,0)
146
"DATA",403.46,3,2,147,0)
147
"DATA",403.46,3,2,148,0)
148
"DATA",403.46,3,2,149,0)
149
"DATA",403.46,3,2,150,0)
150
"DATA",403.46,3,2,152,0)
152
"DATA",403.46,3,2,154,0)
154
"DATA",403.46,3,2,155,0)
155
"DATA",403.46,3,2,156,0)
156
"DATA",403.46,3,2,157,0)
157
"DATA",403.46,3,2,158,0)
158
"DATA",403.46,3,2,159,0)
159
"DATA",403.46,3,2,160,0)
160
"DATA",403.46,3,2,162,0)
162
"DATA",403.46,3,2,163,0)
163
"DATA",403.46,3,2,165,0)
165
"DATA",403.46,3,2,166,0)
166
"DATA",403.46,3,2,168,0)
168
"DATA",403.46,3,2,170,0)
170
"DATA",403.46,3,2,171,0)
171
"DATA",403.46,3,2,172,0)
172
"DATA",403.46,3,2,173,0)
173
"DATA",403.46,3,2,174,0)
174
"DATA",403.46,3,2,175,0)
175
"DATA",403.46,3,2,176,0)
176
"DATA",403.46,3,2,177,0)
177
"DATA",403.46,3,2,178,0)
178
"DATA",403.46,3,2,569,0)
569
"DATA",403.46,3,2,570,0)
570
"DATA",403.46,3,2,571,0)
571
"DATA",403.46,3,2,572,0)
572
"DATA",403.46,3,2,573,0)
573
"DATA",403.46,3,2,574,0)
574
"DATA",403.46,3,2,575,0)
575
"DATA",403.46,3,2,576,0)
576
"DATA",403.46,3,2,577,0)
577
"DATA",403.46,3,2,578,0)
578
"DATA",403.46,3,2,579,0)
579
"DATA",403.46,3,2,580,0)
580
"DATA",403.46,3,2,581,0)
581
"DATA",403.46,3,2,582,0)
582
"DATA",403.46,3,2,583,0)
583
"DATA",403.46,3,2,584,0)
584
"DATA",403.46,3,2,585,0)
585
"DATA",403.46,3,2,586,0)
586
"DATA",403.46,3,2,587,0)
587
"DATA",403.46,3,2,588,0)
588
"DATA",403.46,3,2,589,0)
589
"DATA",403.46,3,2,590,0)
590
"DATA",403.46,3,2,591,0)
591
"DATA",403.46,3,2,592,0)
592
"DATA",403.46,3,2,593,0)
593
"DATA",403.46,3,2,594,0)
594
"DATA",403.46,3,2,595,0)
595
"DATA",403.46,3,2,596,0)
596
"DATA",403.46,3,2,597,0)
597
"DATA",403.46,3,2,598,0)
598
"DATA",403.46,3,2,599,0)
599
"DATA",403.46,3,2,600,0)
600
"DATA",403.46,3,2,601,0)
601
"DATA",403.46,3,2,602,0)
602
"DATA",403.46,3,2,603,0)
603
"DATA",403.46,3,2,604,0)
604
"DATA",403.46,3,2,605,0)
605
"DATA",403.46,3,2,606,0)
606
"DATA",403.46,3,2,607,0)
607
"DATA",403.46,3,2,608,0)
608
"DATA",403.46,3,2,685,0)
685
"DATA",403.46,3,2,686,0)
686
"DATA",403.46,3,2,687,0)
687
"DATA",403.46,3,2,688,0)
688
"DATA",403.46,3,2,689,0)
689
"DATA",403.46,3,2,690,0)
690
"DATA",403.46,3,2,691,0)
691
"DATA",403.46,3,2,692,0)
692
"DATA",403.46,3,2,693,0)
693
"DATA",403.46,3,2,694,0)
694
"DATA",403.46,3,2,695,0)
695
"DATA",403.46,3,2,696,0)
696
"DATA",403.46,3,2,697,0)
697
"DATA",403.46,3,2,698,0)
698
"DATA",403.46,3,2,699,0)
699
"DATA",403.46,3,2,700,0)
700
"DATA",403.46,3,2,701,0)
701
"DATA",403.46,3,2,702,0)
702
"DATA",403.46,3,2,703,0)
703
"DATA",403.46,3,2,704,0)
704
"DATA",403.46,3,2,705,0)
705
"DATA",403.46,3,2,706,0)
706
"DATA",403.46,3,2,707,0)
707
"DATA",403.46,3,2,708,0)
708
"DATA",403.46,3,2,709,0)
709
"DATA",403.46,3,2,710,0)
710
"DATA",403.46,3,2,711,0)
711
"DATA",403.46,3,2,712,0)
712
"DATA",403.46,3,2,713,0)
713
"DATA",403.46,3,2,714,0)
714
"DATA",403.46,3,2,715,0)
715
"DATA",403.46,3,2,716,0)
716
"DATA",403.46,3,2,717,0)
717
"DATA",403.46,3,2,718,0)
718
"DATA",403.46,3,2,743,0)
743
"DATA",403.46,3,2,744,0)
744
"DATA",403.46,3,2,745,0)
745
"DATA",403.46,3,2,746,0)
746
"DATA",403.46,3,2,747,0)
747
"DATA",403.46,3,2,748,0)
748
"DATA",403.46,3,2,749,0)
749
"DATA",403.46,3,2,750,0)
750
"DATA",403.46,3,2,751,0)
751
"DATA",403.46,3,2,752,0)
752
"DATA",403.46,3,2,753,0)
753
"DATA",403.46,3,2,754,0)
754
"DATA",403.46,3,2,755,0)
755
"DATA",403.46,3,2,756,0)
756
"DATA",403.46,3,2,757,0)
757
"DATA",403.46,3,2,758,0)
758
"DATA",403.46,3,2,759,0)
759
"DATA",403.46,3,2,760,0)
760
"DATA",403.46,3,2,761,0)
761
"DATA",403.46,3,2,762,0)
762
"DATA",403.46,3,2,763,0)
763
"DATA",403.46,3,2,764,0)
764
"DATA",403.46,3,2,765,0)
765
"DATA",403.46,3,2,766,0)
766
"DATA",403.46,3,2,767,0)
767
"DATA",403.46,3,2,768,0)
768
"DATA",403.46,3,2,769,0)
769
"DATA",403.46,3,2,770,0)
770
"DATA",403.46,3,2,771,0)
771
"DATA",403.46,3,2,772,0)
772
"DATA",403.46,3,2,773,0)
773
"DATA",403.46,3,2,774,0)
774
"DATA",403.46,3,2,775,0)
775
"DATA",403.46,3,2,776,0)
776
"DATA",403.46,3,2,777,0)
777
"DATA",403.46,3,2,778,0)
778
"DATA",403.46,3,2,779,0)
779
"DATA",403.46,3,2,780,0)
780
"DATA",403.46,3,2,781,0)
781
"DATA",403.46,3,2,782,0)
782
"DATA",403.46,3,2,783,0)
783
"DATA",403.46,3,2,784,0)
784
"DATA",403.46,3,2,785,0)
785
"DATA",403.46,3,2,786,0)
786
"DATA",403.46,3,2,787,0)
787
"DATA",403.46,3,2,788,0)
788
"DATA",403.46,3,2,789,0)
789
"DATA",403.46,3,2,790,0)
790
"DATA",403.46,3,2,791,0)
791
"DATA",403.46,3,2,792,0)
792
"DATA",403.46,3,2,793,0)
793
"DATA",403.46,3,2,794,0)
794
"DATA",403.46,3,2,795,0)
795
"DATA",403.46,3,2,796,0)
796
"DATA",403.46,3,2,797,0)
797
"DATA",403.46,3,2,798,0)
798
"DATA",403.46,3,2,799,0)
799
"DATA",403.46,3,2,800,0)
800
"DATA",403.46,3,2,801,0)
801
"DATA",403.46,3,2,802,0)
802
"DATA",403.46,3,2,803,0)
803
"DATA",403.46,3,2,804,0)
804
"DATA",403.46,3,2,805,0)
805
"DATA",403.46,3,2,806,0)
806
"DATA",403.46,3,2,807,0)
807
"DATA",403.46,3,2,808,0)
808
"DATA",403.46,3,2,809,0)
809
"DATA",403.46,3,2,810,0)
810
"DATA",403.46,3,2,811,0)
811
"DATA",403.46,3,2,812,0)
812
"DATA",403.46,3,2,813,0)
813
"DATA",403.46,3,2,814,0)
814
"DATA",403.46,3,2,815,0)
815
"DATA",403.46,3,2,816,0)
816
"DATA",403.46,3,2,817,0)
817
"DATA",403.46,3,2,818,0)
818
"DATA",403.46,3,2,819,0)
819
"DATA",403.46,3,2,820,0)
820
"DATA",403.46,3,2,821,0)
821
"DATA",403.46,3,2,822,0)
822
"DATA",403.46,3,2,823,0)
823
"DATA",403.46,3,2,824,0)
824
"DATA",403.46,3,2,825,0)
825
"DATA",403.46,3,2,826,0)
826
"DATA",403.46,3,2,827,0)
827
"DATA",403.46,3,2,828,0)
828
"DATA",403.46,3,2,829,0)
829
"DATA",403.46,3,2,830,0)
830
"DATA",403.46,3,2,831,0)
831
"DATA",403.46,3,2,832,0)
832
"DATA",403.46,3,2,833,0)
833
"DATA",403.46,3,2,834,0)
834
"DATA",403.46,3,2,835,0)
835
"DATA",403.46,3,2,836,0)
836
"DATA",403.46,3,2,837,0)
837
"DATA",403.46,3,2,838,0)
838
"DATA",403.46,3,2,839,0)
839
"DATA",403.46,3,2,840,0)
840
"DATA",403.46,3,2,841,0)
841
"DATA",403.46,3,2,842,0)
842
"DATA",403.46,3,2,843,0)
843
"DATA",403.46,3,2,844,0)
844
"DATA",403.46,3,2,845,0)
845
"DATA",403.46,3,2,846,0)
846
"DATA",403.46,3,2,847,0)
847
"DATA",403.46,3,2,848,0)
848
"DATA",403.46,3,2,849,0)
849
"DATA",403.46,3,2,850,0)
850
"DATA",403.46,3,2,851,0)
851
"DATA",403.46,3,2,852,0)
852
"DATA",403.46,3,2,853,0)
853
"DATA",403.46,3,2,854,0)
854
"DATA",403.46,3,2,855,0)
855
"DATA",403.46,3,2,856,0)
856
"DATA",403.46,3,2,857,0)
857
"DATA",403.46,3,2,858,0)
858
"DATA",403.46,3,2,859,0)
859
"DATA",403.46,3,2,860,0)
860
"DATA",403.46,3,2,861,0)
861
"DATA",403.46,3,2,862,0)
862
"DATA",403.46,3,2,863,0)
863
"DATA",403.46,3,2,864,0)
864
"DATA",403.46,3,2,865,0)
865
"DATA",403.46,3,2,866,0)
866
"DATA",403.46,3,2,867,0)
867
"DATA",403.46,3,2,868,0)
868
"DATA",403.46,3,2,869,0)
869
"DATA",403.46,3,2,870,0)
870
"DATA",403.46,3,2,871,0)
871
"DATA",403.46,3,2,872,0)
872
"DATA",403.46,3,2,873,0)
873
"DATA",403.46,3,2,874,0)
874
"DATA",403.46,3,2,875,0)
875
"DATA",403.46,3,2,876,0)
876
"DATA",403.46,3,2,877,0)
877
"DATA",403.46,3,2,878,0)
878
"DATA",403.46,3,2,879,0)
879
"DATA",403.46,3,2,880,0)
880
"DATA",403.46,3,2,881,0)
881
"DATA",403.46,3,2,882,0)
882
"DATA",403.46,3,2,883,0)
883
"DATA",403.46,3,2,884,0)
884
"DATA",403.46,3,2,885,0)
885
"DATA",403.46,3,2,886,0)
886
"DATA",403.46,3,2,887,0)
887
"DATA",403.46,3,2,888,0)
888
"DATA",403.46,3,2,889,0)
889
"DATA",403.46,3,2,890,0)
890
"DATA",403.46,3,2,891,0)
891
"DATA",403.46,3,2,892,0)
892
"DATA",403.46,3,2,893,0)
893
"DATA",403.46,3,2,894,0)
894
"DATA",403.46,3,2,895,0)
895
"DATA",403.46,3,2,896,0)
896
"DATA",403.46,3,2,897,0)
897
"DATA",403.46,3,2,898,0)
898
"DATA",403.46,3,2,899,0)
899
"DATA",403.46,3,2,900,0)
900
"DATA",403.46,3,2,901,0)
901
"DATA",403.46,3,2,902,0)
902
"DATA",403.46,3,2,903,0)
903
"DATA",403.46,3,2,904,0)
904
"DATA",403.46,3,2,905,0)
905
"DATA",403.46,3,2,906,0)
906
"DATA",403.46,3,2,907,0)
907
"DATA",403.46,3,2,908,0)
908
"DATA",403.46,3,2,909,0)
909
"DATA",403.46,3,2,910,0)
910
"DATA",403.46,3,2,911,0)
911
"DATA",403.46,3,2,912,0)
912
"DATA",403.46,3,2,913,0)
913
"DATA",403.46,3,2,914,0)
914
"DATA",403.46,4,0)
NURSE PRACTITIONER^276^3
"DATA",403.46,4,1,0)
^403.46001^7^7^3110429^^^^
"DATA",403.46,4,1,1,0)
Performs appropriate assessments, orders diagnostic tests
"DATA",403.46,4,1,2,0)
and consultations as necessary, prescribes treatment 
"DATA",403.46,4,1,3,0)
interventions in accordance with established protocols,
"DATA",403.46,4,1,4,0)
provides or arranges follow-up care, and provides health
"DATA",403.46,4,1,5,0)
teaching and supportive counseling. Patient care is a joint
"DATA",403.46,4,1,6,0)
responsibility of the Nurse practitioner and the designated
"DATA",403.46,4,1,7,0)
Supervisory Physician or Physicians.
"DATA",403.46,4,2,0)
^403.462PA^668^19
"DATA",403.46,4,2,556,0)
556
"DATA",403.46,4,2,557,0)
557
"DATA",403.46,4,2,558,0)
558
"DATA",403.46,4,2,559,0)
559
"DATA",403.46,4,2,560,0)
560
"DATA",403.46,4,2,561,0)
561
"DATA",403.46,4,2,562,0)
562
"DATA",403.46,4,2,563,0)
563
"DATA",403.46,4,2,564,0)
564
"DATA",403.46,4,2,565,0)
565
"DATA",403.46,4,2,566,0)
566
"DATA",403.46,4,2,661,0)
661
"DATA",403.46,4,2,662,0)
662
"DATA",403.46,4,2,663,0)
663
"DATA",403.46,4,2,664,0)
664
"DATA",403.46,4,2,665,0)
665
"DATA",403.46,4,2,666,0)
666
"DATA",403.46,4,2,667,0)
667
"DATA",403.46,4,2,668,0)
668
"DATA",403.46,5,0)
PHYSICIAN ASSISTANT^335^3
"DATA",403.46,5,1,0)
^403.46001^6^6^3110429^^^^
"DATA",403.46,5,1,1,0)
Provides diagnostic and therapeutic medical care and services
"DATA",403.46,5,1,2,0)
under the guidance of a Physician. This includes taking case
"DATA",403.46,5,1,3,0)
histories, conducting physical examinations, and ordering lab
"DATA",403.46,5,1,4,0)
and other studies. Physician Assistants also may carry out
"DATA",403.46,5,1,5,0)
special procedures, such as giving injections or other medication,
"DATA",403.46,5,1,6,0)
apply or change dressings, or suturing minor lacerations.
"DATA",403.46,5,2,0)
^403.462PA^205^3
"DATA",403.46,5,2,203,0)
203
"DATA",403.46,5,2,204,0)
204
"DATA",403.46,5,2,205,0)
205
"DATA",403.46,6,0)
NURSE (RN)^272^0
"DATA",403.46,6,1,0)
^403.46001^7^7^3110429^^^^
"DATA",403.46,6,1,1,0)
Provides care to patients in clinics and other settings,
"DATA",403.46,6,1,2,0)
administers anesthetic agents and supportive treatments
"DATA",403.46,6,1,3,0)
to patients undergoing outpatient surgery and other 
"DATA",403.46,6,1,4,0)
medical treatments, promotes better health practices, and
"DATA",403.46,6,1,5,0)
consults or advises nurses providing direct care to patients.
"DATA",403.46,6,1,6,0)
Persons in this position require a professional knowledge and
"DATA",403.46,6,1,7,0)
education in the field of nursing.
"DATA",403.46,7,0)
NURSE (LPN)^571^0
"DATA",403.46,7,1,0)
^403.46001^6^6^3110429^^^^
"DATA",403.46,7,1,1,0)
Provides a variety of nursing care and practices which do
"DATA",403.46,7,1,2,0)
not require full professional nurse education, but are
"DATA",403.46,7,1,3,0)
represented by the licensing of practical and vocational
"DATA",403.46,7,1,4,0)
nurses by a State, Territory or the District of Columbia.
"DATA",403.46,7,1,5,0)
Persons in these positions may also provide administrative
"DATA",403.46,7,1,6,0)
assistance, such as making appointments, etc.
"DATA",403.46,8,0)
CLINICAL PHARMACIST^58^0
"DATA",403.46,8,1,0)
^403.46001^11^11^3110429^^^^
"DATA",403.46,8,1,1,0)
This is a PharmD.  This is a pharmacist who:
"DATA",403.46,8,1,2,0)
Performs patient care duties related to patient medications as
"DATA",403.46,8,1,3,0)
assigned or granted by the appropriate governing committee at
"DATA",403.46,8,1,4,0)
the facility. These privileges may include and may or may not be
"DATA",403.46,8,1,5,0)
limited to:
"DATA",403.46,8,1,6,0)
(1) Initiation of renewal orders for chronic maintenance medications.
"DATA",403.46,8,1,7,0)
(2) Initiation of orders for laboratory tests necessary to monitor
"DATA",403.46,8,1,8,0)
existing drug therapy.
"DATA",403.46,8,1,9,0)
(3) Initiation of therapyupon referral by a clinician holding prescriptive
"DATA",403.46,8,1,10,0)
privileges and within the scope of practice and privileging of Clinical
"DATA",403.46,8,1,11,0)
Pharmacists.
"DATA",403.46,9,0)
SOCIAL WORKER^444^0
"DATA",403.46,9,1,0)
^403.46001^5^5^3110429^^^^
"DATA",403.46,9,1,1,0)
Performs patient care duties in accordance with Clinical Privileges
"DATA",403.46,9,1,2,0)
as assigned or granted by the appropriate governing committee in
"DATA",403.46,9,1,3,0)
the area of Social Work. Provides direct services to individuals,
"DATA",403.46,9,1,4,0)
groups and families with counseling, discharge planning, crisis
"DATA",403.46,9,1,5,0)
intervention, etc.
"DATA",403.46,10,0)
PHYSICIAN-PSYCHIATRIST^366^1
"DATA",403.46,10,1,0)
^403.46001^10^10^3110429^^^^
"DATA",403.46,10,1,1,0)
As a physician, incumbent's duties are to advise on, administer,
"DATA",403.46,10,1,2,0)
supervise or perform professional and scientific work in one or
"DATA",403.46,10,1,3,0)
more fields of medicine. The degree of Doctor of Medicine or Doctor
"DATA",403.46,10,1,4,0)
of Osteopathy is a fundamental requirement, along with a current
"DATA",403.46,10,1,5,0)
license to practice medicine and surgery in a US State, territory
"DATA",403.46,10,1,6,0)
or the District of Columbia.
"DATA",403.46,10,1,7,0)
 
"DATA",403.46,10,1,8,0)
The incumbent is also granted clinical privileges (by the appropriate
"DATA",403.46,10,1,9,0)
governing Credentials committee) in regard to the practice of
"DATA",403.46,10,1,10,0)
Psychiatry.
"DATA",403.46,10,2,0)
^403.462PA^887^25
"DATA",403.46,10,2,94,0)
94
"DATA",403.46,10,2,122,0)
122
"DATA",403.46,10,2,123,0)
123
"DATA",403.46,10,2,124,0)
124
"DATA",403.46,10,2,125,0)
125
"DATA",403.46,10,2,127,0)
127
"DATA",403.46,10,2,128,0)
128
"DATA",403.46,10,2,129,0)
129
"DATA",403.46,10,2,130,0)
130
"DATA",403.46,10,2,131,0)
131
"DATA",403.46,10,2,699,0)
699
"DATA",403.46,10,2,707,0)
707
"DATA",403.46,10,2,875,0)
875
"DATA",403.46,10,2,876,0)
876
"DATA",403.46,10,2,877,0)
877
"DATA",403.46,10,2,878,0)
878
"DATA",403.46,10,2,879,0)
879
"DATA",403.46,10,2,880,0)
880
"DATA",403.46,10,2,881,0)
881
"DATA",403.46,10,2,882,0)
882
"DATA",403.46,10,2,883,0)
883
"DATA",403.46,10,2,884,0)
884
"DATA",403.46,10,2,885,0)
885
"DATA",403.46,10,2,886,0)
886
"DATA",403.46,10,2,887,0)
887
"DATA",403.46,11,0)
PSYCHOLOGIST^335^0
"DATA",403.46,11,1,0)
^403.46001^5^5^3110429^^^^
"DATA",403.46,11,1,1,0)
Performs patient care duties in accordance with Clinical Privileges
"DATA",403.46,11,1,2,0)
as assigned or granted by the appropriate governing committee in
"DATA",403.46,11,1,3,0)
the area of Psychology and Mental Health. This may include individual,
"DATA",403.46,11,1,4,0)
family and group counseling and psychotherapy, assertiveness and other
"DATA",403.46,11,1,5,0)
behavior training, etc.
"DATA",403.46,12,0)
REHAB/PSYCH TECHNICIAN^373^0
"DATA",403.46,12,1,0)
^403.46001^5^5^3110429^^^^
"DATA",403.46,12,1,1,0)
Provides patient care in accordance with Clinical Privileges
"DATA",403.46,12,1,2,0)
as assigned or granted by the appropriate governing committee in
"DATA",403.46,12,1,3,0)
the area of Psychology and Mental Health. This may include individual,
"DATA",403.46,12,1,4,0)
family or group counseling. The incumbent is typically supervised by
"DATA",403.46,12,1,5,0)
a degreed Psychologist or Mental health practitioner.
"DATA",403.46,13,0)
ADMIN COORDINATOR^78^0
"DATA",403.46,13,1,0)
^403.46001^4^4^3110429^^^^
"DATA",403.46,13,1,1,0)
The administrative coordinator for the team. This person is
"DATA",403.46,13,1,2,0)
involved with administrative (MAS requirements and/or Clinic
"DATA",403.46,13,1,3,0)
administration) duties as well as oversight of the Scheduling
"DATA",403.46,13,1,4,0)
process and Primary Care team definition.
"DATA",403.46,14,0)
PATIENT SERVICES ASSISTANT^314^0
"DATA",403.46,14,1,0)
^403.46001^5^5^3110429^^^^
"DATA",403.46,14,1,1,0)
Provides clerical and patient processing support to the clinic,
"DATA",403.46,14,1,2,0)
or other unit of a medical facility, in support of the care and
"DATA",403.46,14,1,3,0)
treatment given to patients. This include duties as receptionist,
"DATA",403.46,14,1,4,0)
record keeping duties, clerical duties related to patient care, 
"DATA",403.46,14,1,5,0)
and miscellaneous support to the medical staff of the unit.
"DATA",403.46,15,0)
OTHER^^0
"DATA",403.46,15,1,0)
^403.46001^2^2^3110429^^^^
"DATA",403.46,15,1,1,0)
A general classification for those team members who do not
"DATA",403.46,15,1,2,0)
belong in any of the listed Standard Position entries.
"DATA",403.46,16,0)
RESIDENT (PHYSICIAN)^426^2
"DATA",403.46,16,1,0)
^403.46001^9^9^3110429^^^^
"DATA",403.46,16,1,1,0)
Performs patient care duties in accordance with Clinical Privileges
"DATA",403.46,16,1,2,0)
as assigned or granted by the appropriate governing committee and
"DATA",403.46,16,1,3,0)
is supervised by an Attending or assigned physician. Duties include
"DATA",403.46,16,1,4,0)
but may not be limited to completing history & physical examinations,
"DATA",403.46,16,1,5,0)
obtaining blood and other specimens, and provision of patient medical
"DATA",403.46,16,1,6,0)
care as permitted.
"DATA",403.46,16,1,7,0)
 
"DATA",403.46,16,1,8,0)
As a Resident, the incumbent is responsible for providing patient
"DATA",403.46,16,1,9,0)
care as directed by the Attending or supervising physician.
"DATA",403.46,16,2,0)
^403.462PA^145^4
"DATA",403.46,16,2,24,0)
24
"DATA",403.46,16,2,25,0)
25
"DATA",403.46,16,2,144,0)
144
"DATA",403.46,16,2,145,0)
145
"DATA",403.46,17,0)
INTERN (PHYSICIAN)^336^2
"DATA",403.46,17,1,0)
^403.46001^6^6^3110429^^^^
"DATA",403.46,17,1,1,0)
Performs patient care duties in accordance with Clinical Privileges
"DATA",403.46,17,1,2,0)
as assigned or granted by the appropriate governing committee and
"DATA",403.46,17,1,3,0)
is supervised by an Attending or assigned physician. Duties include
"DATA",403.46,17,1,4,0)
but may not be limited to completing history & physical examinations,
"DATA",403.46,17,1,5,0)
obtaining blood and other specimens, and provision of patient medical
"DATA",403.46,17,1,6,0)
care as permitted.
"DATA",403.46,17,2,0)
^403.462PA^145^5
"DATA",403.46,17,2,24,0)
24
"DATA",403.46,17,2,25,0)
25
"DATA",403.46,17,2,144,0)
144
"DATA",403.46,17,2,145,0)
145
"DATA",403.46,17,2,747,0)
747
"DATA",403.46,18,0)
MEDICAL STUDENT^255^0
"DATA",403.46,18,1,0)
^403.46001^3^3^3110429^^^^
"DATA",403.46,18,1,1,0)
Performs patient care duties in accordance with Medical Center
"DATA",403.46,18,1,2,0)
Policy and Clinical Privileges as assigned or granted by the
"DATA",403.46,18,1,3,0)
appropriate governing committee at the facility.
"DATA",403.46,19,0)
MAS CLERK^222^0
"DATA",403.46,19,1,0)
^403.46001^2^2^3110429^^^^
"DATA",403.46,19,1,1,0)
This person is a Medical Administrative Service clerk.  Often a major
"DATA",403.46,19,1,2,0)
amount of data entry is done by this individual.
"DATA",403.46,20,0)
REGISTERED DIETITIAN^101^0
"DATA",403.46,20,1,0)
^403.46001^2^2^3140626^^^^
"DATA",403.46,20,1,1,0)
An expert in dietetics.  This person is an expert in planning meals
"DATA",403.46,20,1,2,0)
and diets.
"DATA",403.46,21,0)
PACT CLINICAL PHARMACIST^323^0
"DATA",403.46,21,1,0)
^403.46001^4^4^3140626^^^^
"DATA",403.46,21,1,1,0)
A pharmacists who: (1) Is authorized to Fill/Dispense medications (2)
"DATA",403.46,21,1,2,0)
Enter/Verify medication orders (3) Provide patient education relating to
"DATA",403.46,21,1,3,0)
medications (4) Renew established medications under the protocols defined
"DATA",403.46,21,1,4,0)
by the medical center.
"DATA",403.46,22,0)
CLINICAL NURSE SPECIALIST^274^0
"DATA",403.46,22,1,0)
17^403.46001^17^17^3110429^^^^
"DATA",403.46,22,1,1,0)
Masters Degree-prepared, registered nurses with nationally 
"DATA",403.46,22,1,2,0)
recognized clinical advanced practice certification, accountable for
"DATA",403.46,22,1,3,0)
the delivery of comprehensive health and preventive care services 
"DATA",403.46,22,1,4,0)
across the spectrum of clinical settings.  Uses an analytical
"DATA",403.46,22,1,5,0)
framework, such as nursing process, to create an environment 
"DATA",403.46,22,1,6,0)
that facilitates the delivery of care.  Coordinates and evaluates
"DATA",403.46,22,1,7,0)
integrated programs, and provides leadership in improving and
"DATA",403.46,22,1,8,0)
sustaining the quality and effectiveness of care in diverse or
"DATA",403.46,22,1,9,0)
complex programs. Function as licensed independent practitioners 
"DATA",403.46,22,1,10,0)
that do not require "supervision" by a physician, physician 
"DATA",403.46,22,1,11,0)
countersignature of orders or the care they provide. Function 
"DATA",403.46,22,1,12,0)
autonomously within a defined scope of practice in 
"DATA",403.46,22,1,13,0)
collaboration with physicians and other health care providers. 
"DATA",403.46,22,1,14,0)
[REF: IL 10-97-024, dated July 7, 1997: entitled "Under 
"DATA",403.46,22,1,15,0)
Secretary for Health's Information Letter - Utilization of Nurse 
"DATA",403.46,22,1,16,0)
Practitioners and Clinical Nurse Specialists" and Nursing
"DATA",403.46,22,1,17,0)
Qualifications Standards - Nurse Level IV]
"DATA",403.46,23,0)
TCM TRANSITION PATIENT ADVOCATE^^0
"DATA",403.46,23,1,0)
^^6^6^3140626^
"DATA",403.46,23,1,1,0)
The TCM Transition Patient Advocate (TPA) serves as the VISN
"DATA",403.46,23,1,2,0)
Director's liaison between the medical centers, the patients,
"DATA",403.46,23,1,3,0)
employees of the medical centers and the community regarding
"DATA",403.46,23,1,4,0)
patients' rights and advocacy. He or she will also serve as the
"DATA",403.46,23,1,5,0)
point of contact to assist transitioning OIF and/or OEF veterans
"DATA",403.46,23,1,6,0)
and their families.
"DATA",403.46,24,0)
TCM PROGRAM MANAGER^^0
"DATA",403.46,24,1,0)
^^7^7^3140626^
"DATA",403.46,24,1,1,0)
The TCM Program Manager is a Nurse or Social Worker who oversees all
"DATA",403.46,24,1,2,0)
seamless transition activities and the coordination of care and services
"DATA",403.46,24,1,3,0)
for OIF and/or OEF service members and veterans treated at the facility.
"DATA",403.46,24,1,4,0)
He or she serves as the Point of Contact (POC) and Coordinator for the
"DATA",403.46,24,1,5,0)
Operation Iraqi Freedom (OIF)-Operation Enduring Freedom (OEF) Veteran
"DATA",403.46,24,1,6,0)
Program and assumes all of the technical and administrative responsibility
"DATA",403.46,24,1,7,0)
for management of this program.
"DATA",403.46,25,0)
TCM CLINICAL CASE MANAGER^^0
"DATA",403.46,25,1,0)
^^12^12^3140626^
"DATA",403.46,25,1,1,0)
The TCM Clinical Case Manager is a Nurse or Social Worker who
"DATA",403.46,25,1,2,0)
provides case management of severely-injured Operation Iraqi Freedom
"DATA",403.46,25,1,3,0)
(OIF) and/or Operation Enduring Freedom (OEF) service members and veterans
"DATA",403.46,25,1,4,0)
treated at the facility. Social Work case management practice, which
"DATA",403.46,25,1,5,0)
includes psychosocial assessment, diagnosis, and treatment, is focused
"DATA",403.46,25,1,6,0)
on helping OIF and/or OEF service members and/or veterans and their
"DATA",403.46,25,1,7,0)
families maximize rehabilitation and treatment potential. The Nurse Case
"DATA",403.46,25,1,8,0)
Manager completes an in-depth assessment of functional status, acuity
"DATA",403.46,25,1,9,0)
level, prognosis, and assesses the need for treatment services and
"DATA",403.46,25,1,10,0)
resources. The Case Manager initiates contact with the patient and/or
"DATA",403.46,25,1,11,0)
family to assist and ensure a seamless transition between facilities
"DATA",403.46,25,1,12,0)
and levels of care.
"DATA",403.46,26,0)
CARE MANAGER^^0
"DATA",403.46,26,1,0)
^403.46001^9^9^3110812^
"DATA",403.46,26,1,1,0)
Member of the PACT, usually a nurse, who coordinates and manages care for
"DATA",403.46,26,1,2,0)
patients on the panel. This individual links patients with resources,
"DATA",403.46,26,1,3,0)
coordinates resources to insure provision of comprehensive care minimizing
"DATA",403.46,26,1,4,0)
duplication of services, manages care and ensures seamless transitions.
"DATA",403.46,26,1,5,0)
The Care Manager is responsible for collaborating with services internal
"DATA",403.46,26,1,6,0)
and external to the VA to facilitate care transition in order to
"DATA",403.46,26,1,7,0)
effectively meet the patients' needs. The RN Care Manager provides patient
"DATA",403.46,26,1,8,0)
and family health education with a focus on self-management, prevention,
"DATA",403.46,26,1,9,0)
and wellness, based on the patient's goals.
"DATA",403.46,27,0)
HEALTH TECHNICIAN^^0
"DATA",403.46,27,1,0)
^^9^9^3110812^
"DATA",403.46,27,1,1,0)
Individual whose work is to prepare for and provide patient care,
"DATA",403.46,27,1,2,0)
including personal care, diagnostic support activities, treatment
"DATA",403.46,27,1,3,0)
procedures, patient care documentation, and patient and family teaching
"DATA",403.46,27,1,4,0)
reinforcement.  The Health Technician directs patient flow through the
"DATA",403.46,27,1,5,0)
clinic, from checking in through checking out, and actively participates
"DATA",403.46,27,1,6,0)
as a member of the healthcare team.  Focuses on clinic visits, exams, and
"DATA",403.46,27,1,7,0)
treatments with provider, observes, records, and reports patient's
"DATA",403.46,27,1,8,0)
response or changes in patient's condition, and participates in
"DATA",403.46,27,1,9,0)
appointment scheduling including EWL and Recall.
"DATA",403.46,28,0)
CASE MANAGER^^0
"DATA",403.46,28,1,0)
^^11^11^3110812^
"DATA",403.46,28,1,1,0)
The Case Manager is responsible for collaborating with services internal
"DATA",403.46,28,1,2,0)
or external to the VA to manage the care of patients with needs of a
"DATA",403.46,28,1,3,0)
complexity level that exceeds the capability of the Primary Care Teamlet 
"DATA",403.46,28,1,4,0)
to manage.   The Case Manager is responsible for collaborating with
"DATA",403.46,28,1,5,0)
services external to the VA to facilitate care transition in order to
"DATA",403.46,28,1,6,0)
effectively meet the patients' needs, provides patient and family health
"DATA",403.46,28,1,7,0)
education with a focus on self-management, prevention, and wellness based
"DATA",403.46,28,1,8,0)
on the patients goals, and collaborates with patients to assess and
"DATA",403.46,28,1,9,0)
identify needs, issues, care goals, and resources in critical factors for
"DATA",403.46,28,1,10,0)
achieving desired outcomes for discharge, post hospital recovery and
"DATA",403.46,28,1,11,0)
health maintenance/wellness.
"DATA",403.46,29,0)
TRAINEE^^0
"DATA",403.46,29,1,0)
^^7^7^3110812^
"DATA",403.46,29,1,1,0)
Individual who serves on the care team as part of an educational
"DATA",403.46,29,1,2,0)
experience provided by a qualified supervising practitioner. This
"DATA",403.46,29,1,3,0)
relationship is evaluative, extends over time, and has the simultaneous
"DATA",403.46,29,1,4,0)
purposes of enhancing the professional functioning of the trainee while
"DATA",403.46,29,1,5,0)
monitoring the quality of services delivered. Supervision is provided
"DATA",403.46,29,1,6,0)
through observation, consultation, directing the learning and activities
"DATA",403.46,29,1,7,0)
of the trainee, and role modeling.
"DATA",403.46,30,0)
DESIGNATED WOMEN'S HEALTH PROVIDER^^0
"DATA",403.46,30,1,0)
^^4^4^3110812^
"DATA",403.46,30,1,1,0)
As described in VHA Handbook 1330.01, a primary care provider who is
"DATA",403.46,30,1,2,0)
interested and proficient in women's health. A designated Women's Health
"DATA",403.46,30,1,3,0)
Provider is preferentially assigned women Veterans within their primary
"DATA",403.46,30,1,4,0)
care patient panels.
"DATA",403.46,31,0)
PSYCHOLOGIST (MHTC)^335^0
"DATA",403.46,31,1,0)
^403.46001^7^7^3110429^^^
"DATA",403.46,31,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,31,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,31,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,31,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,31,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,31,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,31,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,32,0)
SOCIAL WORKER (MHTC)^444^0
"DATA",403.46,32,1,0)
^403.46001^7^7^3110429^^
"DATA",403.46,32,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,32,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,32,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,32,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,32,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,32,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,32,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,33,0)
REHAB/PSYCH TECHNICIAN (MHTC)^^0
"DATA",403.46,33,1,0)
^403.46001^7^7^3110429^^
"DATA",403.46,33,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,33,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,33,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,33,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,33,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,33,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,33,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,34,0)
PHYSICIAN-PSYCHIATRIST (MHTC)^366^0
"DATA",403.46,34,1,0)
^403.46001^7^7^3110429^^
"DATA",403.46,34,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,34,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,34,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,34,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,34,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,34,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,34,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,35,0)
NURSE PRACTITIONER (MHTC)^276^0
"DATA",403.46,35,1,0)
^403.46001^7^7^3110429^^
"DATA",403.46,35,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,35,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,35,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,35,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,35,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,35,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,35,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,36,0)
PHYSICIAN ASSISTANT (MHTC)^335^0
"DATA",403.46,36,1,0)
^403.46001^7^7^3110429^^
"DATA",403.46,36,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,36,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,36,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,36,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,36,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,36,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,36,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,37,0)
CLINICAL NURSE SPECIALIST (MHTC)^274^0
"DATA",403.46,37,1,0)
^403.46001^7^7^3110429^^^^
"DATA",403.46,37,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,37,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,37,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,37,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,37,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,37,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,37,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,38,0)
CLINICAL PHARMACIST (MHTC)^58^0
"DATA",403.46,38,1,0)
^403.46001^7^7^3110429^^
"DATA",403.46,38,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,38,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,38,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,38,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,38,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,38,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,38,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,39,0)
LPC^^0
"DATA",403.46,39,1,0)
^403.46001^5^5^3110429^^^
"DATA",403.46,39,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,39,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details).
"DATA",403.46,39,1,3,0)
Mental Health Service uses this position/role which is a non-primary care
"DATA",403.46,39,1,4,0)
position.  At this time Mental Health Service does not use Person
"DATA",403.46,39,1,5,0)
Class to further define this position/role.
"DATA",403.46,40,0)
LPC (MHTC)^^0
"DATA",403.46,40,1,0)
^403.46001^7^7^3110429^^
"DATA",403.46,40,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,40,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,40,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,40,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,40,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,40,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,40,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,41,0)
MFT^^0
"DATA",403.46,41,1,0)
^403.46001^5^5^3110930^^^^
"DATA",403.46,41,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,41,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details).
"DATA",403.46,41,1,3,0)
Mental Health Service uses this position/role which is a non-primary care
"DATA",403.46,41,1,4,0)
position.  At this time Mental Health Service does not use Person
"DATA",403.46,41,1,5,0)
Class to further define this position/role.
"DATA",403.46,42,0)
MFT (MHTC)^^0
"DATA",403.46,42,1,0)
^403.46001^7^7^3110930^^^
"DATA",403.46,42,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,42,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,42,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,42,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,42,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,42,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,42,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,43,0)
CHAPLAIN^42^0
"DATA",403.46,43,1,0)
^403.46001^5^5^3110429^^^^
"DATA",403.46,43,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,43,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details).
"DATA",403.46,43,1,3,0)
Mental Health Service uses this position/role which is a non-primary care
"DATA",403.46,43,1,4,0)
position.  At this time Mental Health Service does not use Person
"DATA",403.46,43,1,5,0)
Class to further define this position/role.
"DATA",403.46,44,0)
CHAPLAIN (MHTC)^42^0
"DATA",403.46,44,1,0)
^403.46001^7^7^3110429^^^
"DATA",403.46,44,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,44,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,44,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,44,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,44,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,44,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,44,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,45,0)
ADDICTION THERAPIST^^0
"DATA",403.46,45,1,0)
^403.46001^5^5^3110429^^^^
"DATA",403.46,45,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,45,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,45,1,3,0)
Health Service uses this position/role as a non-primary care position. At
"DATA",403.46,45,1,4,0)
this time Mental Health Service does not use Person Class to further
"DATA",403.46,45,1,5,0)
define this position/role.
"DATA",403.46,46,0)
ADDICTION THERAPIST (MHTC)^^0
"DATA",403.46,46,1,0)
^403.46001^7^7^3110429^^^^
"DATA",403.46,46,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,46,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,46,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,46,1,4,0)
At this time Mental Health Service does not use Person Class to further
"DATA",403.46,46,1,5,0)
define this position/role. This position/role is for a "Mental Health
"DATA",403.46,46,1,6,0)
Treatment Coordinator" and contains the "(MHTC)" designation used to
"DATA",403.46,46,1,7,0)
indentify and display the position/role in CPRS.
"DATA",403.46,47,0)
NURSE (RN) (MHTC)^272^0
"DATA",403.46,47,1,0)
^403.46001^7^7^3110429^^
"DATA",403.46,47,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,47,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,47,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,47,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,47,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,47,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,47,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,48,0)
OCCUPATIONAL THERAPIST^284^0
"DATA",403.46,48,1,0)
^403.46001^5^5^3110429^^^^
"DATA",403.46,48,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,48,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details).
"DATA",403.46,48,1,3,0)
Mental Health Service uses this position/role which is a non-primary care
"DATA",403.46,48,1,4,0)
position.  At this time Mental Health Service does not use Person
"DATA",403.46,48,1,5,0)
Class to further define this position/role.
"DATA",403.46,49,0)
OCCUPATIONAL THERAPIST (MHTC)^284^0
"DATA",403.46,49,1,0)
^403.46001^7^7^3110429^^
"DATA",403.46,49,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,49,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,49,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,49,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,49,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,49,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,49,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,50,0)
VOC REHAB SPEC/COUNSELOR^536^0
"DATA",403.46,50,1,0)
^403.46001^5^5^3110930^^^^
"DATA",403.46,50,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,50,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details).
"DATA",403.46,50,1,3,0)
Mental Health Service uses this position/role which is a non-primary care
"DATA",403.46,50,1,4,0)
position.  At this time Mental Health Service does not use Person
"DATA",403.46,50,1,5,0)
Class to further define this position/role.
"DATA",403.46,51,0)
VOC REHAB SPEC/COUNSELOR (MHTC)^536^0
"DATA",403.46,51,1,0)
^403.46001^7^7^3110930^^^
"DATA",403.46,51,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,51,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,51,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,51,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,51,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,51,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,51,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,53,0)
RECREATION THERAPIST^409^0
"DATA",403.46,53,1,0)
^403.46001^5^5^3110429^^^^
"DATA",403.46,53,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,53,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details).
"DATA",403.46,53,1,3,0)
Mental Health Service uses this position/role which is a non-primary care
"DATA",403.46,53,1,4,0)
position.  At this time Mental Health Service does not use Person
"DATA",403.46,53,1,5,0)
Class to further define this position/role.
"DATA",403.46,54,0)
RECREATION THERAPIST (MHTC)^409^0
"DATA",403.46,54,1,0)
^403.46001^7^7^3110429^^
"DATA",403.46,54,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,54,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details). Mental
"DATA",403.46,54,1,3,0)
Health Service uses this position/role as a non-primary care position. 
"DATA",403.46,54,1,4,0)
At this time Mental Health Service does not use Person Class to 
"DATA",403.46,54,1,5,0)
further define this position/role. This position/role is for a "Mental
"DATA",403.46,54,1,6,0)
Health Treatment Coordinator" and contains the "(MHTC)" designation used
"DATA",403.46,54,1,7,0)
to indentify and display the position/role in CPRS.
"DATA",403.46,55,0)
PEER SUPPORT STAFF^^0
"DATA",403.46,55,1,0)
^403.46001^5^5^3140626^^^^
"DATA",403.46,55,1,1,0)
This position/role was created as part of the Identification of Principal
"DATA",403.46,55,1,2,0)
Mental Health Provider project (see patch SD*5.3*575 for details).
"DATA",403.46,55,1,3,0)
Mental Health Service uses this position/role which is a non-primary care
"DATA",403.46,55,1,4,0)
position.  At this time Mental Health Service does not use Person
"DATA",403.46,55,1,5,0)
Class to further define this position/role.
"DATA",403.46,56,0)
ADMINISTRATIVE ASSOCIATE^^0
"DATA",403.46,56,1,0)
^^3^3^3140626^
"DATA",403.46,56,1,1,0)
Provides clerical and patient processing support to the clinic, or other
"DATA",403.46,56,1,2,0)
unit of a medical facility, in support of the care and treatment given to
"DATA",403.46,56,1,3,0)
patients. Typically, MAS Clerks or Patient Services Assistants.
"DATA",403.46,57,0)
ANTICOAG CLINICAL PHARMACIST^58^0
"DATA",403.46,57,1,0)
^^2^2^3140626^
"DATA",403.46,57,1,1,0)
Clinical Pharmacists managing anticoagulation therapy in centralized
"DATA",403.46,57,1,2,0)
anticoagulation clinics.
"DATA",403.46,58,0)
ADVANCE PRACTICE ASSOCIATE PROVIDER^272^0
"DATA",403.46,58,1,0)
^^2^2^3140626^
"DATA",403.46,58,1,1,0)
Advance Nurse Trainee responsible for providing patient care as directed
"DATA",403.46,58,1,2,0)
by the supervising physician or RN.
"DATA",403.46,59,0)
ASSOCIATE PROVIDER^426^2
"DATA",403.46,59,1,0)
^^2^2^3140626^
"DATA",403.46,59,1,1,0)
Intern or Resident responsible for providing patient care as directed by
"DATA",403.46,59,1,2,0)
the Attending or supervising physician.
"DATA",403.46,60,0)
CLINICAL ASSOCIATE^^0
"DATA",403.46,60,1,0)
^^4^4^3140626^
"DATA",403.46,60,1,1,0)
Individual whose work is to prepare for and provide patient care,
"DATA",403.46,60,1,2,0)
including personal care, diagnostic support activities, treatment
"DATA",403.46,60,1,3,0)
procedures, patient care documentation, and patient and family teaching
"DATA",403.46,60,1,4,0)
reinforcement.
"DATA",403.46,61,0)
FELLOW^426^2
"DATA",403.46,61,1,0)
^^9^9^3140626^
"DATA",403.46,61,1,1,0)
Performs patient care duties in accordance with Clinical Privileges as
"DATA",403.46,61,1,2,0)
assigned or granted by the appropriate governing committee and is
"DATA",403.46,61,1,3,0)
supervised by an Attending or assigned physician. Duties include but may
"DATA",403.46,61,1,4,0)
not be limited to completing history & physical examinations, obtaining 
"DATA",403.46,61,1,5,0)
blood and other specimens, and provision of patient medical care as
"DATA",403.46,61,1,6,0)
permitted.  
"DATA",403.46,61,1,7,0)
  
"DATA",403.46,61,1,8,0)
Responsible for providing patient care as directed by the Attending or
"DATA",403.46,61,1,9,0)
supervising physician.
"DATA",403.46,62,0)
NURSE (LVN)^^0
"DATA",403.46,62,1,0)
^^5^5^3140626^
"DATA",403.46,62,1,1,0)
Provides a variety of nursing care and practices which do not require full
"DATA",403.46,62,1,2,0)
professional nurse education, but are represented by the licensing of
"DATA",403.46,62,1,3,0)
practical and vocational nurses by a State, Territory or the District of
"DATA",403.46,62,1,4,0)
Columbia.  Persons in these positions may also provide administrative
"DATA",403.46,62,1,5,0)
assistance, such as making appointments, etc.
"DATA",403.46,63,0)
NURSE PRACTITIONER ASSOCIATE PROVIDER^^0
"DATA",403.46,63,1,0)
^^2^2^3140626^
"DATA",403.46,63,1,1,0)
Nurse Practitioner Trainee responsible for providing patient care as
"DATA",403.46,63,1,2,0)
directed by the supervising physician or NP.
"DATA",403.46,64,0)
PEER SUPPORT APPRENTICE^^0
"DATA",403.46,64,1,0)
^^1^1^3140626^
"DATA",403.46,64,1,1,0)
This position/role is used in MH as trainee to Peer Support Staff role.
"DATA",403.46,65,0)
PEER SUPPORT SPECIALIST^^0
"DATA",403.46,65,1,0)
^^1^1^3140626^
"DATA",403.46,65,1,1,0)
This position/role is used in MH as mentor to Peer Support Staff role.
"DATA",403.46,66,0)
PHYSICIAN ASSISTANT ASSOCIATE PROVIDER^^0
"DATA",403.46,66,1,0)
^403.46001^2^2^3140626^^
"DATA",403.46,66,1,1,0)
Physician Assistant Trainee responsible for providing patient care as
"DATA",403.46,66,1,2,0)
directed by the supervising physician or PA.
"DATA",403.46,67,0)
PRIMARY CARE PROVIDER^334^1
"DATA",403.46,67,1,0)
^^5^5^3140626^
"DATA",403.46,67,1,1,0)
As a physician, incumbent's duties are to advise on, administer, supervise
"DATA",403.46,67,1,2,0)
or perform professional and scientific work in one or more fields of
"DATA",403.46,67,1,3,0)
medicine. The degree of Doctor of Medicine or Doctor of Osteopathy is a
"DATA",403.46,67,1,4,0)
fundamental requirement, along with a current license to practice medicine
"DATA",403.46,67,1,5,0)
and surgery in a US State, territory or the District of Columbia.
"DATA",403.46,68,0)
SURROGATE CARE MANAGER^^0
"DATA",403.46,68,1,0)
^^1^1^3140626^
"DATA",403.46,68,1,1,0)
Backup for the CARE MANAGER role that is part of the PACT teamlet.
"DATA",403.46,69,0)
SURROGATE PRIMARY CARE PROVIDER^334^1
"DATA",403.46,69,1,0)
^^2^2^3140627^
"DATA",403.46,69,1,1,0)
Backup for the PRIMARY CARE PROVIDER role that is part of the PACT 
"DATA",403.46,69,1,2,0)
teamlet.
"DATA",403.46,70,0)
SURROGATE CLINICAL ASSOCIATE^^0
"DATA",403.46,70,1,0)
^^1^1^3140627^
"DATA",403.46,70,1,1,0)
Backup for the CLINICAL role that is part of the PACT teamlet.
"DATA",403.46,71,0)
ADVANCE PRACTICE NURSE^^0
"DATA",403.46,71,1,0)
^^1^1^3140630^
"DATA",403.46,71,1,1,0)
Specialty Nurse.  No Person Class needed.  This is ARNP.
"DATA",403.46,72,0)
ADVANCE PRACTICE NURSE (MHTC)^^0
"DATA",403.46,72,1,0)
^^1^1^3140630^
"DATA",403.46,72,1,1,0)
Specialty Nurse serving as MHTC.  No Person Class needed.  This is ARNP.
"DATA",403.46,73,0)
LEAD COORDINATOR^^0
"DATA",403.46,73,1,0)
^^2^2^3140630^
"DATA",403.46,73,1,1,0)
TCM Clinical Case Manager serving as Lead Coordinator for this patient on 
"DATA",403.46,73,1,2,0)
his Transition and Care Management Teams.  No Person Class needeed.
"DATA",403.46,74,0)
PEER SUPPORT SPECIALIST (MHTC)^^0
"DATA",403.46,74,1,0)
^^2^2^3140702^
"DATA",403.46,74,1,1,0)
This position/role serves as an MHTC to the patient and also serves in MH 
"DATA",403.46,74,1,2,0)
as mentor to Peer Support Staff role.
"FIA",403.46)
STANDARD POSITION
"FIA",403.46,0)
^SD(403.46,
"FIA",403.46,0,0)
403.46
"FIA",403.46,0,1)
n^y^f^^n^^y^r^n
"FIA",403.46,0,10)

"FIA",403.46,0,11)

"FIA",403.46,0,"RLRO")

"FIA",403.46,0,"VR")
5.3^SD
"FIA",403.46,403.46)
0
"FIA",403.46,403.46001)
0
"FIA",403.46,403.462)
0
"FIA",404.41)
OUTPATIENT PROFILE
"FIA",404.41,0)
^SCPT(404.41,
"FIA",404.41,0,0)
404.41P
"FIA",404.41,0,1)
y^y^p^^^^n^^n
"FIA",404.41,0,10)

"FIA",404.41,0,11)

"FIA",404.41,0,"RLRO")

"FIA",404.41,0,"VR")
5.3^SD
"FIA",404.41,404.41)
1
"FIA",404.41,404.41,.06)

"FIA",404.41,404.41,.07)

"FIA",404.41,404.411)
0
"FIA",404.42)
PATIENT TEAM ASSIGNMENT
"FIA",404.42,0)
^SCPT(404.42,
"FIA",404.42,0,0)
404.42PIA
"FIA",404.42,0,1)
y^y^p^^^^n^^n
"FIA",404.42,0,10)

"FIA",404.42,0,11)

"FIA",404.42,0,"RLRO")

"FIA",404.42,0,"VR")
5.3^SD
"FIA",404.42,404.42)
1
"FIA",404.42,404.42,.08)

"FIA",404.42,404.42,.15)

"FIA",404.43)
PATIENT TEAM POSITION ASSIGNMENT
"FIA",404.43,0)
^SCPT(404.43,
"FIA",404.43,0,0)
404.43PI
"FIA",404.43,0,1)
y^y^p^^^^n^^n
"FIA",404.43,0,10)

"FIA",404.43,0,11)

"FIA",404.43,0,"RLRO")

"FIA",404.43,0,"VR")
5.3^SD
"FIA",404.43,404.43)
1
"FIA",404.43,404.43,.02)

"FIA",404.43,404.43,.12)

"FIA",404.52)
POSITION ASSIGNMENT HISTORY
"FIA",404.52,0)
^SCTM(404.52,
"FIA",404.52,0,0)
404.52PIA
"FIA",404.52,0,1)
y^y^p^^^^n^^n
"FIA",404.52,0,10)

"FIA",404.52,0,11)

"FIA",404.52,0,"RLRO")

"FIA",404.52,0,"VR")
5.3^SD
"FIA",404.52,404.52)
1
"FIA",404.52,404.52,.09)

"FIA",404.52,404.52,.12)

"FIA",404.52,404.52,1)

"FIA",404.52,404.521)
1
"FIA",404.52,404.521,.01)

"FIA",404.52,404.521,.02)

"FIA",404.52,404.521,.03)

"FIA",404.54)
PCMM PATIENT EVENTS
"FIA",404.54,0)
^SCPT(404.54,
"FIA",404.54,0,0)
404.54P
"FIA",404.54,0,1)
y^y^f^^^^n
"FIA",404.54,0,10)

"FIA",404.54,0,11)

"FIA",404.54,0,"RLRO")

"FIA",404.54,0,"VR")
5.3^SD
"FIA",404.54,404.54)
0
"FIA",409.68)
OUTPATIENT ENCOUNTER
"FIA",409.68,0)
^SCE(
"FIA",409.68,0,0)
409.68ID
"FIA",409.68,0,1)
y^y^p^^^^n^^n
"FIA",409.68,0,10)

"FIA",409.68,0,11)

"FIA",409.68,0,"RLRO")

"FIA",409.68,0,"VR")
5.3^SD
"FIA",409.68,409.68)
1
"FIA",409.68,409.68,.02)

"INI")
EN^SD53I603
"INIT")
EN^SD53P603
"IX",404.43,404.43,"AC",0)
404.43^AC^Disposition Waiting List Entry^MU^^R^IR^I^404.43^^^^^A
"IX",404.43,404.43,"AC",1)
D POSRM^SCMCWAIT(X(1),X(2))
"IX",404.43,404.43,"AC",2)
Q
"IX",404.43,404.43,"AC",11.1,0)
^.114IA^2^2
"IX",404.43,404.43,"AC",11.1,1,0)
1^F^404.43^.01^^1^F
"IX",404.43,404.43,"AC",11.1,1,3)

"IX",404.43,404.43,"AC",11.1,2,0)
2^F^404.43^.02^^2^F
"IX",404.43,404.43,"AC",11.1,2,3)

"IX",404.43,404.43,"ASTAT",0)
404.43^ASTAT^STATUS CROSS REFERENCE^R^^R^IR^I^404.43^^^^^S
"IX",404.43,404.43,"ASTAT",1)
S ^SCPT(404.43,"ASTAT",X(1),X(2),DA)=""
"IX",404.43,404.43,"ASTAT",2)
K ^SCPT(404.43,"ASTAT",X(1),X(2),DA)
"IX",404.43,404.43,"ASTAT",2.5)
K ^SCPT(404.43,"ASTAT")
"IX",404.43,404.43,"ASTAT",11.1,0)
^.114IA^2^2
"IX",404.43,404.43,"ASTAT",11.1,1,0)
1^F^404.43^.01^^1^F
"IX",404.43,404.43,"ASTAT",11.1,2,0)
2^F^404.43^.12^^2^F
"IX",409.68,409.68,"ACOD",0)
409.68^ACOD^Sort records by Patient and Check Out Completed Date.^MU^^R^IR^I^409.68^^^^^S
"IX",409.68,409.68,"ACOD",.1,0)
^^5^5^3140716^
"IX",409.68,409.68,"ACOD",.1,1,0)
This index sorts records by Patient (.02) and Check Out Process Completion
"IX",409.68,409.68,"ACOD",.1,2,0)
(.07).  The index is used by a PCMM Web RPC to find a patient's completed 
"IX",409.68,409.68,"ACOD",.1,3,0)
encounters within the past 30 days (possibly 90 days).  Given this 
"IX",409.68,409.68,"ACOD",.1,4,0)
requirement, a record is only indexed if Check Out Process Completion
"IX",409.68,409.68,"ACOD",.1,5,0)
(.07) is on or after 04/01/2014.
"IX",409.68,409.68,"ACOD",1)
I X(2)>3140400 S ^SCE("ACOD",X(1),X(2),DA)=""
"IX",409.68,409.68,"ACOD",2)
K ^SCE("ACOD",X(1),X(2),DA)
"IX",409.68,409.68,"ACOD",2.5)
K ^SCE("ACOD")
"IX",409.68,409.68,"ACOD",11.1,0)
^.114IA^2^2
"IX",409.68,409.68,"ACOD",11.1,1,0)
1^F^409.68^.02^^1^F
"IX",409.68,409.68,"ACOD",11.1,2,0)
2^F^409.68^.07^^2^F
"KRN",.401,948,-1)
0^1
"KRN",.401,948,0)
SCMC INACTIVATED^3140624.1911^@^404.43^^@^3140624
"KRN",.401,948,2,0)
^.4014^6^6
"KRN",.401,948,2,1,0)
404.43^.12^STATUS^'^^^^^^3
"KRN",.401,948,2,1,"F")
DBz^DC^DC (DISCHARGE FROM CARE)
"KRN",.401,948,2,1,"GET")
S DISX(1)=$P($G(^SCPT(404.43,D0,0)),U,12)
"KRN",.401,948,2,1,"IX")
^SCPT(404.43,"ASTATB",^SCPT(404.43,^2
"KRN",.401,948,2,1,"QCON")
I (DISX(1)]]"DBz")&(DISX(1)']]"RP")
"KRN",.401,948,2,1,"T")
RP^RP^RP (REQ BY PAT)
"KRN",.401,948,2,1,"TXT")
STATUS from DC (DISCHARGE FROM CARE) to RP (REQ BY PAT)
"KRN",.401,948,2,2,0)
404.43^.04^POSITION UNASSIGNED DATE^@'^^^^^^1
"KRN",.401,948,2,2,"ASK")
1
"KRN",.401,948,2,2,"F")
3080215.999999^FEB 16,2008^Feb 16,2008
"KRN",.401,948,2,2,"GET")
S DISX(2)=$P($G(^SCPT(404.43,D0,0)),U,4)
"KRN",.401,948,2,2,"QCON")
I DISX(2)]]3080215.999999
"KRN",.401,948,2,2,"T")
z^
"KRN",.401,948,2,2,"TXT")
POSITION UNASSIGNED DATE from Feb 16,2008
"KRN",.401,948,2,3,0)
404.57^^TEAM:INSTITUTION^""^;"Institution: "^^^^^4
"KRN",.401,948,2,3,2,0)
^.401418^1^1
"KRN",.401,948,2,3,2,1,0)
404.43^100^404.57^SCTM(404.57,^0
"KRN",.401,948,2,3,2,1,"RCOD")
S I(0,0)=D0 S Y(1)=$S($D(^SCPT(404.43,D0,0)):^(0),1:"") S X=$P(Y(1),U,2),X=X S D(0)=+X
"KRN",.401,948,2,3,2,"B",404.43,1)

"KRN",.401,948,2,3,3,0)
^.401419^1^1
"KRN",.401,948,2,3,3,1,0)
OVF100^9.2
"KRN",.401,948,2,3,3,1,"OVF0")
S I(100,0)=$G(D0),Y(101)=$S($D(^SCTM(404.57,D0,0)):^(0),1:""),D0=$P(Y(101),U,2) S:'D0!'$D(^SCTM(404.51,+D0,0)) D0=-1 S Y(201)=$S($D(^SCTM(404.51,D0,0)):^(0),1:"")
"KRN",.401,948,2,3,3,"B","OVF100",1)

"KRN",.401,948,2,3,"CM")
X DPP(3,"OVF100",9.2) S X=$P($G(^DIC(4,+$P(Y(201),U,7),0)),U) S D0=I(100,0) I D0>0 S DISX(3)=X
"KRN",.401,948,2,3,"GET")
X DPP(3,"OVF100",9.2) S X=$P($G(^DIC(4,+$P(Y(201),U,7),0)),U) S D0=I(100,0) I D0>0 S DISX(3)=X
"KRN",.401,948,2,3,"QCON")
I DISX(3)'=""
"KRN",.401,948,2,3,"TXT")
TEAM:INSTITUTION not null
"KRN",.401,948,2,4,0)
404.42^^TEAM ASSIGNMENT^"".03^^^^^^4
"KRN",.401,948,2,4,2,0)
^.401418^1^1
"KRN",.401,948,2,4,2,1,0)
404.43^100^404.42^SCPT(404.42,^0
"KRN",.401,948,2,4,2,1,"RCOD")
S I(0,0)=D0 S Y(1)=$S($D(^SCPT(404.43,D0,0)):^(0),1:"") S X=$P(Y(1),U,1),X=X S D(0)=+X
"KRN",.401,948,2,4,2,"B",404.43,1)

"KRN",.401,948,2,4,"CM")
S Y(101)=$S($D(^SCPT(404.42,D0,0)):^(0),1:"") S X=$P($G(^SCTM(404.51,+$P(Y(101),U,3),0)),U) I D0>0 S DISX(4)=X
"KRN",.401,948,2,4,"GET")
S Y(101)=$S($D(^SCPT(404.42,D0,0)):^(0),1:"") S X=$P($G(^SCTM(404.51,+$P(Y(101),U,3),0)),U) I D0>0 S DISX(4)=X
"KRN",.401,948,2,4,"QCON")
I DISX(4)'=""
"KRN",.401,948,2,4,"TXT")
TEAM ASSIGNMENT not null
"KRN",.401,948,2,5,0)
404.57^304^CURRENT PRACTITIONER^"^^^^^^4
"KRN",.401,948,2,5,2,0)
^.401418^1^1
"KRN",.401,948,2,5,2,1,0)
404.43^100^404.57^SCTM(404.57,^0
"KRN",.401,948,2,5,2,1,"RCOD")
S I(0,0)=D0 S Y(1)=$S($D(^SCPT(404.43,D0,0)):^(0),1:"") S X=$P(Y(1),U,2),X=X S D(0)=+X
"KRN",.401,948,2,5,2,"B",404.43,1)

"KRN",.401,948,2,5,"F")
?z^@
"KRN",.401,948,2,5,"GET")
S X=$P($$GETPRTP^SCAPMCU2(D0,DT),U,2) S DISX(5)=X
"KRN",.401,948,2,5,"QCON")
I 1
"KRN",.401,948,2,5,"T")
z^
"KRN",.401,948,2,5,"TXT")
All CURRENT PRACTITIONER (includes nulls)
"KRN",.401,948,2,6,0)
404.42^^PATIENT^"".01^^^^^^4
"KRN",.401,948,2,6,2,0)
^.401418^1^1
"KRN",.401,948,2,6,2,1,0)
404.43^100^404.42^SCPT(404.42,^0
"KRN",.401,948,2,6,2,1,"RCOD")
S I(0,0)=D0 S Y(1)=$S($D(^SCPT(404.43,D0,0)):^(0),1:"") S X=$P(Y(1),U,1),X=X S D(0)=+X
"KRN",.401,948,2,6,2,"B",404.43,1)

"KRN",.401,948,2,6,"CM")
S Y(101)=$S($D(^SCPT(404.42,D0,0)):^(0),1:"") S X=$P($G(^DPT(+$P(Y(101),U,1),0)),U) I D0>0 S DISX(6)=X
"KRN",.401,948,2,6,"GET")
S Y(101)=$S($D(^SCPT(404.42,D0,0)):^(0),1:"") S X=$P($G(^DPT(+$P(Y(101),U,1),0)),U) I D0>0 S DISX(6)=X
"KRN",.401,948,2,6,"QCON")
I DISX(6)'=""
"KRN",.401,948,2,6,"TXT")
PATIENT not null
"KRN",.401,948,2,"B",404.42,4)

"KRN",.401,948,2,"B",404.42,6)

"KRN",.401,948,2,"B",404.43,1)

"KRN",.401,948,2,"B",404.43,2)

"KRN",.401,948,2,"B",404.57,3)

"KRN",.401,948,2,"B",404.57,5)

"KRN",.401,948,"%D",0)
^.4012^1^1^3060926^^^^
"KRN",.401,948,"%D",1,0)
Patient inactivated automatically.
"KRN",19,11385,-1)
0^2
"KRN",19,11385,0)
SCMC PCMMR APP PROXY MENU^PCMMR Application Proxy Menu^^B^^^^^^^^SCHEDULING
"KRN",19,11385,1,0)
^^2^2^3140128^
"KRN",19,11385,1,1,0)
This option is assigned to the PCMM/R Application Proxy.  It defines the 
"KRN",19,11385,1,2,0)
PCMM/R RPCs that may be executed.
"KRN",19,11385,99.1)
63251,59367
"KRN",19,11385,"RPC",0)
^19.05P^17^17
"KRN",19,11385,"RPC",1,0)
SCMC FINDER
"KRN",19,11385,"RPC",2,0)
SCMC LISTER
"KRN",19,11385,"RPC",3,0)
SCMC GETS ENTRY DATA
"KRN",19,11385,"RPC",4,0)
SCMC FILER
"KRN",19,11385,"RPC",5,0)
SC DELETE ENTRY
"KRN",19,11385,"RPC",6,0)
SCMC GET PATIENT ENCOUNTERS
"KRN",19,11385,"RPC",7,0)
SCMC GET NEW PERSON
"KRN",19,11385,"RPC",8,0)
SC PAT ASGN MAILMAN
"KRN",19,11385,"RPC",9,0)
SC PATIENT LOOKUP
"KRN",19,11385,"RPC",10,0)
SCMC PATIENT DIEDON
"KRN",19,11385,"RPC",11,0)
SCMC PATIENT INFO
"KRN",19,11385,"RPC",12,0)
SCMC PCDETAIL
"KRN",19,11385,"RPC",13,0)
SCMC FTEE CREATE
"KRN",19,11385,"RPC",14,0)
SCMC FTEE READ
"KRN",19,11385,"RPC",15,0)
SCMC FTEE READALL
"KRN",19,11385,"RPC",16,0)
SCMC FTEE UPDATE
"KRN",19,11385,"RPC",17,0)
SCMC FTEE DELETE
"KRN",19,11385,"U")
PCMMR APPLICATION PROXY MENU
"KRN",19,11470,-1)
0^6
"KRN",19,11470,0)
SC PCMM MARK OPT OUT OF ORDER^Mark Legacy PCMM options OOO^^R^^^^^^^y^SCHEDULING
"KRN",19,11470,1,0)
^^3^3^3140804^
"KRN",19,11470,1,1,0)
This options marks a number of legacy PCMM menu options Out-of-Order 
"KRN",19,11470,1,2,0)
and disables a protocol - SC PC PATIENT ASSIGN/UNASSIGN - because the
"KRN",19,11470,1,3,0)
functionality has been moved to the PCMM Web application.
"KRN",19,11470,10.1)
MARK PCMM OPTIONS OOO
"KRN",19,11470,25)
OPTOUT^SCMCOPT
"KRN",19,11470,"U")
MARK LEGACY PCMM OPTIONS OOO
"KRN",19,11471,-1)
0^7
"KRN",19,11471,0)
SCMC PCMMR WEB USER MENU^PCMMR Web User Menu^^B^^^^^^^^SCHEDULING
"KRN",19,11471,1,0)
^^2^2^3140707^
"KRN",19,11471,1,1,0)
This Broker menu option is assigned to PCMMR web application users and 
"KRN",19,11471,1,2,0)
defines the PCMMR RPCs that may be executed.
"KRN",19,11471,"RPC",0)
^19.05P^7^7
"KRN",19,11471,"RPC",1,0)
SC PATIENT LOOKUP
"KRN",19,11471,"RPC",2,0)
SCMC PATIENT INFO
"KRN",19,11471,"RPC",3,0)
SCMC PATIENT DIEDON
"KRN",19,11471,"RPC",4,0)
SCMC GET NEW PERSON
"KRN",19,11471,"RPC",5,0)
SCMC LISTER
"KRN",19,11471,"RPC",6,0)
SCMC GETS ENTRY DATA
"KRN",19,11471,"RPC",7,0)
ORWPT LAST5
"KRN",19,11471,"U")
PCMMR WEB USER MENU
"KRN",8994,17,-1)
0^5
"KRN",8994,17,0)
SC DELETE ENTRY^DIKC^SCUTBK1^1^P^^^^^^1
"KRN",8994,17,1,0)
^^1^1^2950510^^^^
"KRN",8994,17,1,1,0)
Allows file entry deletion via FileMan ^DIK call.
"KRN",8994,17,2,0)
^8994.02A^1^1
"KRN",8994,17,2,1,0)
PARAMETERS^2^^1
"KRN",8994,17,2,1,1,0)
^^1^1^2950510^
"KRN",8994,17,2,1,1,1,0)
Contains subscripts that indicate global root and entry number.
"KRN",8994,17,2,"B","PARAMETERS",1)

"KRN",8994,17,3,0)
^^1^1^2950510^
"KRN",8994,17,3,1,0)
Indicates whether delete operation was successful.
"KRN",8994,34,-1)
0^9
"KRN",8994,34,0)
SC PATIENT LOOKUP^FINDP^SCUTBK11^4^R^^^1^^^1
"KRN",8994,34,1,0)
^8994.01^6^6^3000825^^^^
"KRN",8994,34,1,1,0)
Patient lookup.  This is intended as a temporary RPC until a VA or
"KRN",8994,34,1,2,0)
FileMan component is available.  Does a Multiple index lookup on
"KRN",8994,34,1,3,0)
the PATIENT file (#2).  This does not invoke DPTLK.  Given lookup
"KRN",8994,34,1,4,0)
value, this returns a list of the form DFN^patient name^DOB^PID.
"KRN",8994,34,1,5,0)
 
"KRN",8994,34,1,6,0)
Only the first 500 records that match the value are returned.
"KRN",8994,34,2,0)
^8994.02A^1^1
"KRN",8994,34,2,1,0)
LIST ATTRIBUTES^2^512^1
"KRN",8994,34,2,"B","LIST ATTRIBUTES",1)

"KRN",8994,69,-1)
0^8
"KRN",8994,69,0)
SC PAT ASGN MAILMAN^PTASGMM^SCUTBK10^1^P^^^^^^1
"KRN",8994,69,1,0)
^^2^2^2960521^
"KRN",8994,69,1,1,0)
Builds the before and after status for a single patient assignment to
"KRN",8994,69,1,2,0)
either a team or a position, and fires off a mailman message.
"KRN",8994,69,2,0)
^8994.02A^1^1
"KRN",8994,69,2,1,0)
VALUE^1^512^1
"KRN",8994,69,2,"B","VALUE",1)

"KRN",8994,2168,-1)
0^1
"KRN",8994,2168,0)
SCMC FILER^FILEC^SCMCDDR3^2^R^^^^1^^1
"KRN",8994,2168,1,0)
^^1^1^3140724^
"KRN",8994,2168,1,1,0)
Generic call to FILE^DIE and UPDATE^DIE Fileman DBS APIs.
"KRN",8994,2168,2,0)
^8994.02A^5^4
"KRN",8994,2168,2,2,0)
MODE^1^3^1^1
"KRN",8994,2168,2,2,1,0)
^8994.021^1^1^3140122^^
"KRN",8994,2168,2,2,1,1,0)
Process request as add or update. For adding records, this should = ADD.
"KRN",8994,2168,2,3,0)
ROOT^2^512^1^2
"KRN",8994,2168,2,3,1,0)
^^2^2^3140122^
"KRN",8994,2168,2,3,1,1,0)
An array of delimited strings - file # ^ field # ^ ien ^ value
"KRN",8994,2168,2,3,1,2,0)
Used to build the FDA_ROOT DBS parameter.
"KRN",8994,2168,2,4,0)
FLAGS^2^512^0^3
"KRN",8994,2168,2,4,1,0)
^^1^1^3140122^
"KRN",8994,2168,2,4,1,1,0)
Flags for the FILE^DIE call.
"KRN",8994,2168,2,5,0)
IENS^2^512^0^4
"KRN",8994,2168,2,5,1,0)
^^1^1^3140122^
"KRN",8994,2168,2,5,1,1,0)
List of iens used to build the IEN_ROOT DBS parameter for UPDATE^DIE.
"KRN",8994,2168,2,"B","FLAGS",4)

"KRN",8994,2168,2,"B","IENS",5)

"KRN",8994,2168,2,"B","MODE",2)

"KRN",8994,2168,2,"B","ROOT",3)

"KRN",8994,2168,2,"PARAMSEQ",1,2)

"KRN",8994,2168,2,"PARAMSEQ",2,3)

"KRN",8994,2168,2,"PARAMSEQ",3,4)

"KRN",8994,2168,2,"PARAMSEQ",4,5)

"KRN",8994,2168,3,0)
^8994.03^2^2^3140122^^
"KRN",8994,2168,3,1,0)
If file update is successful, then a 1 is returned. A 0 is returned if 
"KRN",8994,2168,3,2,0)
unsuccessful.
"KRN",8994,2271,-1)
0^3
"KRN",8994,2271,0)
SCMC GETS ENTRY DATA^GETSC^SCMCDDR2^2^R^^^^1^^1
"KRN",8994,2271,1,0)
^8994.01^1^1^3140122^^
"KRN",8994,2271,1,1,0)
Calls Fileman DBS API - GETS^DIQ
"KRN",8994,2271,2,0)
^8994.02A^1^1
"KRN",8994,2271,2,1,0)
GETS ATTRIBUTES^2^512^1^1
"KRN",8994,2271,2,1,1,0)
^^7^7^3140122^
"KRN",8994,2271,2,1,1,1,0)
Input array with the following entries:
"KRN",8994,2271,2,1,1,2,0)
"FILE"
"KRN",8994,2271,2,1,1,3,0)
"IENS"
"KRN",8994,2271,2,1,1,4,0)
"FIELDS"
"KRN",8994,2271,2,1,1,5,0)
"FLAGS"
"KRN",8994,2271,2,1,1,6,0)
"XREF"
"KRN",8994,2271,2,1,1,7,0)
"SCREEN"
"KRN",8994,2271,2,"B","GETS ATTRIBUTES",1)

"KRN",8994,2271,2,"PARAMSEQ",1,1)

"KRN",8994,2271,3,0)
^^2^2^3140122^
"KRN",8994,2271,3,1,0)
An array containing found items.  The content and format depends on 
"KRN",8994,2271,3,2,0)
parameters passed in "FIELDS" and "FLAGS"
"KRN",8994,2273,-1)
0^4
"KRN",8994,2273,0)
SCMC LISTER^LISTC^SCMCDDR^4^R^^^1^1^^1
"KRN",8994,2273,1,0)
^^1^1^3140122^
"KRN",8994,2273,1,1,0)
Calls Fileman DBS API - LIST^DIC
"KRN",8994,2273,2,0)
^8994.02A^1^1
"KRN",8994,2273,2,1,0)
LIST ATTRIBUTES^2^512^1^1
"KRN",8994,2273,2,1,1,0)
^^12^12^3140122^
"KRN",8994,2273,2,1,1,1,0)
Input array with the following entries:
"KRN",8994,2273,2,1,1,2,0)
"FILE"
"KRN",8994,2273,2,1,1,3,0)
"IENS"
"KRN",8994,2273,2,1,1,4,0)
"FIELDS"
"KRN",8994,2273,2,1,1,5,0)
"FLAGS"
"KRN",8994,2273,2,1,1,6,0)
"MAX" (defaults to *
"KRN",8994,2273,2,1,1,7,0)
"FROM"
"KRN",8994,2273,2,1,1,8,0)
"PART"
"KRN",8994,2273,2,1,1,9,0)
"XREF"
"KRN",8994,2273,2,1,1,10,0)
"SCREEN"
"KRN",8994,2273,2,1,1,11,0)
"ID"
"KRN",8994,2273,2,1,1,12,0)
"OPTIONS"
"KRN",8994,2273,2,"B","LIST ATTRIBUTES",1)

"KRN",8994,2273,2,"PARAMSEQ",1,1)

"KRN",8994,2273,3,0)
^^2^2^3140122^
"KRN",8994,2273,3,1,0)
An array containing found items.  The content and format depends on 
"KRN",8994,2273,3,2,0)
parameters passed in "FIELDS" and "FLAGS"
"KRN",8994,2845,-1)
0^2
"KRN",8994,2845,0)
SCMC FINDER^FINDC^SCMCDDR0^4^R^^^1^1^^1
"KRN",8994,2845,1,0)
^^1^1^3140122^
"KRN",8994,2845,1,1,0)
Calls Fileman DBS API - FIND^DIC
"KRN",8994,2845,2,0)
^8994.02A^1^1
"KRN",8994,2845,2,1,0)
FIND ATTRIBUTES^2^512^1^1
"KRN",8994,2845,2,1,1,0)
^^12^12^3140122^
"KRN",8994,2845,2,1,1,1,0)
Input array with the following entries:
"KRN",8994,2845,2,1,1,2,0)
"FILE"
"KRN",8994,2845,2,1,1,3,0)
"IENS"
"KRN",8994,2845,2,1,1,4,0)
"FIELDS"
"KRN",8994,2845,2,1,1,5,0)
"FLAGS"
"KRN",8994,2845,2,1,1,6,0)
"MAX" (efaults to *)
"KRN",8994,2845,2,1,1,7,0)
"VALUE"
"KRN",8994,2845,2,1,1,8,0)
"XREF"
"KRN",8994,2845,2,1,1,9,0)
"SCREEN"
"KRN",8994,2845,2,1,1,10,0)
"ID"
"KRN",8994,2845,2,1,1,11,0)
"ROOT"
"KRN",8994,2845,2,1,1,12,0)
"OPTIONS"
"KRN",8994,2845,2,"B","FIND ATTRIBUTES",1)

"KRN",8994,2845,2,"PARAMSEQ",1,1)

"KRN",8994,2845,3,0)
^^2^2^3140122^
"KRN",8994,2845,3,1,0)
An array containing found items.  The content and format depends on 
"KRN",8994,2845,3,2,0)
parameters passed in "FIELDS" and "FLAGS"
"KRN",8994,2861,-1)
0^6
"KRN",8994,2861,0)
SCMC GET PATIENT ENCOUNTERS^ENCT^SCMCENCT^4^R^0^^1^1^^1
"KRN",8994,2861,1,0)
^8994.01^2^2^3150112^^
"KRN",8994,2861,1,1,0)
This RPC will return an array of patient encounter data. See return 
"KRN",8994,2861,1,2,0)
parameter description below.
"KRN",8994,2861,2,0)
^8994.02A^3^3
"KRN",8994,2861,2,1,0)
DFN^1^20^0^1
"KRN",8994,2861,2,1,1,0)
^^1^1^3140502^
"KRN",8994,2861,2,1,1,1,0)
Patient DFN or null to examine all patients.
"KRN",8994,2861,2,2,0)
NUMBER OF DAYS^1^4^0^2
"KRN",8994,2861,2,2,1,0)
^8994.021^2^2^3150112^^^^
"KRN",8994,2861,2,2,1,1,0)
Number of days back (from today) to look for an encounter.
"KRN",8994,2861,2,2,1,2,0)
Default = 30
"KRN",8994,2861,2,3,0)
END DAYS^1^4^0^3
"KRN",8994,2861,2,3,1,0)
^^4^4^3150112^
"KRN",8994,2861,2,3,1,1,0)
Number of days back (from today) to stop looking for an encounter.
"KRN",8994,2861,2,3,1,2,0)
Default = 0
"KRN",8994,2861,2,3,1,3,0)
This and the NUMBER OF DAYS parameter allows looking for a block of days 
"KRN",8994,2861,2,3,1,4,0)
in the past.
"KRN",8994,2861,2,"B","DFN",1)

"KRN",8994,2861,2,"B","END DAYS",3)

"KRN",8994,2861,2,"B","NUMBER OF DAYS",2)

"KRN",8994,2861,2,"PARAMSEQ",1,1)

"KRN",8994,2861,2,"PARAMSEQ",2,2)

"KRN",8994,2861,2,"PARAMSEQ",3,3)

"KRN",8994,2861,3,0)
^^24^24^3150112^
"KRN",8994,2861,3,1,0)
Returns an array with these elements in each entry
"KRN",8994,2861,3,2,0)
1^2^3^4^5^6^7^8^9^10^11^12^13^14^15
"KRN",8994,2861,3,3,0)
Element                           Source
"KRN",8994,2861,3,4,0)
1   Patient DFN                   parameter or 409.68/.02
"KRN",8994,2861,3,5,0)
2   Encounter Date/Time           409.68/.01
"KRN",8994,2861,3,6,0)
3   Provider IEN                  9000010.06/.01
"KRN",8994,2861,3,7,0)
4   Primary/Secondary             9000010.06/.04      P, S
"KRN",8994,2861,3,8,0)
5   Stop Code                     409.68/.03->40.7/1  AMIS stop code
"KRN",8994,2861,3,9,0)
6   Encounter Type                9000010/15003       P, O, S, A, C
"KRN",8994,2861,3,10,0)
7   Checkout Completed Date/Time  409.68/.07
"KRN",8994,2861,3,11,0)
8   Encounter IEN                 409.68/IEN
"KRN",8994,2861,3,12,0)
9   Encounter Parent IEN          409.68/.06
"KRN",8994,2861,3,13,0)
10  Visit IEN                     9000010/IEN
"KRN",8994,2861,3,14,0)
11  Visit Parent IEN              9000010/.12
"KRN",8994,2861,3,15,0)
12  Hospital Location Type        9000010/.22->44/2     C,M,W,Z,N,F,I,OR
"KRN",8994,2861,3,16,0)
13  Hosp. Loc. Non-Count Clinic   9000010/.22->44/2502  Y,N
"KRN",8994,2861,3,17,0)
14  Visit Service Category        9000010/.07    A,H,I,C,T,N,S,O,E,R,D,X
"KRN",8994,2861,3,18,0)
15  Visit Patient Status          9000010/15002 1,0
"KRN",8994,2861,3,19,0)
 
"KRN",8994,2861,3,20,0)
Errors:
"KRN",8994,2861,3,21,0)
If DFN is passed:
"KRN",8994,2861,3,22,0)
-1^Patient was not found.
"KRN",8994,2861,3,23,0)
If END DAYS parameter is passed:
"KRN",8994,2861,3,24,0)
-1^End Days must be less than Number of Days
"KRN",8994,2862,-1)
0^7
"KRN",8994,2862,0)
SCMC GET NEW PERSON^EN1^SCMCNPER^4^R^0^^1^1^^1
"KRN",8994,2862,1,0)
^8994.01^5^5^3140408^^
"KRN",8994,2862,1,1,0)
This RPC provides the functionality to query the New Person (#200) file.
"KRN",8994,2862,1,2,0)
The calling application may query the New Person (#200) file by using 
"KRN",8994,2862,1,3,0)
either the VPID or IEN of the requested entry or part or all of a last
"KRN",8994,2862,1,4,0)
name. Other optional parameters may be passed to the call as additional
"KRN",8994,2862,1,5,0)
filters.
"KRN",8994,2862,2,0)
^8994.02A^9^9
"KRN",8994,2862,2,1,0)
VPID^1^20^1^1
"KRN",8994,2862,2,1,1,0)
^8994.021^2^2^3140408^^
"KRN",8994,2862,2,1,1,1,0)
VPID (VA Person ID) for the requested user.  (Required for lookup by 
"KRN",8994,2862,2,1,1,2,0)
VPID.  Either VPID, DUZ, or Last Name are required.)
"KRN",8994,2862,2,2,0)
LAST NAME^1^30^1^3
"KRN",8994,2862,2,2,1,0)
^^2^2^3140408^
"KRN",8994,2862,2,2,1,1,0)
All or part of a last name.  (Required for lookup by Last Name. Either
"KRN",8994,2862,2,2,1,2,0)
VPID, DUZ, or Last Name are required.)
"KRN",8994,2862,2,3,0)
FIRST NAME^1^30^0^4
"KRN",8994,2862,2,3,1,0)
^8994.021^1^1^3140407^^
"KRN",8994,2862,2,3,1,1,0)
Optional parameter set to null or the full or partial first name.
"KRN",8994,2862,2,4,0)
SSN^1^9^0^5
"KRN",8994,2862,2,4,1,0)
^8994.021^1^1^3140407^^^
"KRN",8994,2862,2,4,1,1,0)
Value set to null or contains the 9 digits of the Social Security Number.
"KRN",8994,2862,2,5,0)
PROVIDER^1^1^0^6
"KRN",8994,2862,2,5,1,0)
^8994.021^2^2^3140407^^
"KRN",8994,2862,2,5,1,1,0)
Optional input parameter set to null or "P".  If set to "P", screesn for
"KRN",8994,2862,2,5,1,2,0)
providers (person with active user class).
"KRN",8994,2862,2,6,0)
STATION^1^10^0^7
"KRN",8994,2862,2,6,1,0)
^8994.021^1^1^3140407^^
"KRN",8994,2862,2,6,1,1,0)
Optional parameter set to null or station number.
"KRN",8994,2862,2,7,0)
NUMBER OF ENTRIES^1^2^0^8
"KRN",8994,2862,2,7,1,0)
^8994.021^2^2^3140407^^
"KRN",8994,2862,2,7,1,1,0)
Optional parameter set to maximum number of entries (1-50) to be
"KRN",8994,2862,2,7,1,2,0)
returned.  Defaults to 50.
"KRN",8994,2862,2,8,0)
DATE^1^8^0^9
"KRN",8994,2862,2,8,1,0)
^8994.021^2^2^3140407^^
"KRN",8994,2862,2,8,1,1,0)
Optional parameter contains the date (HL7 format - yyyymmdd) used to
"KRN",8994,2862,2,8,1,2,0)
determine if person class is active.  Defaults to current date.
"KRN",8994,2862,2,9,0)
DUZ^1^20^1^2
"KRN",8994,2862,2,9,1,0)
^^2^2^3140408^
"KRN",8994,2862,2,9,1,1,0)
File 200 IEN (Required for lookup by DUZ.  Either VPID, DUZ, or Last Name
"KRN",8994,2862,2,9,1,2,0)
are required.)
"KRN",8994,2862,2,"B","DATE",8)

"KRN",8994,2862,2,"B","DUZ",9)

"KRN",8994,2862,2,"B","FIRST NAME",3)

"KRN",8994,2862,2,"B","LAST NAME",2)

"KRN",8994,2862,2,"B","NUMBER OF ENTRIES",7)

"KRN",8994,2862,2,"B","PROVIDER",5)

"KRN",8994,2862,2,"B","SSN",4)

"KRN",8994,2862,2,"B","STATION",6)

"KRN",8994,2862,2,"B","VPID",1)

"KRN",8994,2862,2,"PARAMSEQ",1,1)

"KRN",8994,2862,2,"PARAMSEQ",2,9)

"KRN",8994,2862,2,"PARAMSEQ",3,2)

"KRN",8994,2862,2,"PARAMSEQ",4,3)

"KRN",8994,2862,2,"PARAMSEQ",5,4)

"KRN",8994,2862,2,"PARAMSEQ",6,5)

"KRN",8994,2862,2,"PARAMSEQ",7,6)

"KRN",8994,2862,2,"PARAMSEQ",8,7)

"KRN",8994,2862,2,"PARAMSEQ",9,8)

"KRN",8994,2862,3,0)
^^9^9^3150206^
"KRN",8994,2862,3,1,0)
An array with the following nodes:
"KRN",8994,2862,3,2,0)
^TMP($J,"SCMCQRY",1) - 1 if found, 0 if not found
"KRN",8994,2862,3,3,0)
^TMP($J,"SCMCQRY",n,0) - VPID^IEN^Last Name~First Name~Middle 
"KRN",8994,2862,3,4,0)
Name^SSN^DOB^SEX^Phone^Pager^
"KRN",8994,2862,3,5,0)
^TMP($J,"SCMCQRY",n,1) - Provider Type^   (Person Class)
"KRN",8994,2862,3,6,0)
^TMP($J,"SCMCQRY",n,2) - Provider Classification^
"KRN",8994,2862,3,7,0)
^TMP($J,"SCMCQRY",n,3) - Provider Area of Specialization^
"KRN",8994,2862,3,8,0)
^TMP($J,"SCMCQRY",n,4) - VA CODE^^Specialty Code^
"KRN",8994,2862,3,9,0)
^TMP($J,"SCMCQRY",n,5) - return code^status^date^| ("|" = end of record)
"KRN",8994,2863,-1)
0^10
"KRN",8994,2863,0)
SCMC PATIENT DIEDON^DIEDON^SCMCPAT^1^^^^^^^1
"KRN",8994,2863,1,0)
^8994.01^1^1^3140430^^
"KRN",8994,2863,1,1,0)
Get patient date of death.
"KRN",8994,2863,2,0)
^8994.02A^1^1
"KRN",8994,2863,2,1,0)
DFN^1^20^1^1
"KRN",8994,2863,2,1,1,0)
^8994.021^1^1^3140430^^^
"KRN",8994,2863,2,1,1,1,0)
Patient DFN.
"KRN",8994,2863,2,"B","DFN",1)

"KRN",8994,2863,2,"PARAMSEQ",1,1)

"KRN",8994,2863,3,0)
^^4^4^3140430^
"KRN",8994,2863,3,1,0)
Returns date of death if patient has expired.  Otherwise returns 0.
"KRN",8994,2863,3,2,0)
Errors:
"KRN",8994,2863,3,3,0)
  -1^Missing DFN parameter.
"KRN",8994,2863,3,4,0)
  -1^Patient was not found.
"KRN",8994,2864,-1)
0^11
"KRN",8994,2864,0)
SCMC PATIENT INFO^PATIENT^SCMCPAT^1^^^^^^^1
"KRN",8994,2864,1,0)
^^1^1^3140430^
"KRN",8994,2864,1,1,0)
This RPC returns patient demographic data.
"KRN",8994,2864,2,0)
^8994.02A^1^1
"KRN",8994,2864,2,1,0)
DFN^1^20^1^1
"KRN",8994,2864,2,1,1,0)
^^1^1^3140430^
"KRN",8994,2864,2,1,1,1,0)
Patient DFN.
"KRN",8994,2864,2,"B","DFN",1)

"KRN",8994,2864,2,"PARAMSEQ",1,1)

"KRN",8994,2864,3,0)
^^11^11^3140430^
"KRN",8994,2864,3,1,0)
Returns patient demographic data in a ^ delimited string.
"KRN",8994,2864,3,2,0)
 
"KRN",8994,2864,3,3,0)
 1      2         3   4   5   6     7             8           9 
"KRN",8994,2864,3,4,0)
DFN^PATIENT NAME^SSN^DOB^AGE^SEX^MARITAL STATUS^ACTIVE DUTY^ADDRESS1^
"KRN",8994,2864,3,5,0)
 10        11      12   13    14  15      16       17        18
"KRN",8994,2864,3,6,0)
ADDRESS2^ADDRESS3^CITY^STATE^ZIP^COUNTY^TELEPHONE^SENSITIVE^ICN
"KRN",8994,2864,3,7,0)
 
"KRN",8994,2864,3,8,0)
Errors:
"KRN",8994,2864,3,9,0)
  -1^Missing DFN parameter.
"KRN",8994,2864,3,10,0)
  -1^Patient was not found.
"KRN",8994,2864,3,11,0)
  -1^Error retrieving patient data.
"KRN",8994,2865,-1)
0^18
"KRN",8994,2865,0)
SCMC PCDETAIL^PCDETAIL^SCMCWS1^2^R^0^^^^^1
"KRN",8994,2865,1,0)
^^2^2^3150304^
"KRN",8994,2865,1,1,0)
Returns detailed PACT and other team assignment information for a patient.
"KRN",8994,2865,1,2,0)
Used to batch load CPRS PC Window Cache during PCMMR deployment.
"KRN",8994,2865,2,0)
^8994.02A^1^1
"KRN",8994,2865,2,1,0)
DFN^1^20^1^1
"KRN",8994,2865,2,1,1,0)
^^1^1^3140508^
"KRN",8994,2865,2,1,1,1,0)
Patient DFN.
"KRN",8994,2865,2,"B","DFN",1)

"KRN",8994,2865,2,"PARAMSEQ",1,1)

"KRN",8994,2865,3,0)
^^1^1^3140508^
"KRN",8994,2865,3,1,0)
An array of detailed PACT and other team assignment information.
"KRN",8994,2983,-1)
0^13
"KRN",8994,2983,0)
SCMC FTEE CREATE^CREATE^SCMCFTEE^1^R^^^^1^^1
"KRN",8994,2983,1,0)
^8994.01^2^2^3150123^^^^
"KRN",8994,2983,1,1,0)
This RPC will create an FTEE history record in the Position Assignment 
"KRN",8994,2983,1,2,0)
History File (404.52).
"KRN",8994,2983,2,0)
^8994.02A^4^4
"KRN",8994,2983,2,1,0)
SCPHIEN^1^20^1^1
"KRN",8994,2983,2,1,1,0)
^^1^1^3150107^
"KRN",8994,2983,2,1,1,1,0)
Position Assignment History Record IEN
"KRN",8994,2983,2,2,0)
SCHSTDT^1^15^0^2
"KRN",8994,2983,2,2,1,0)
^^1^1^3150107^
"KRN",8994,2983,2,2,1,1,0)
History date - defaults to current date/time if null
"KRN",8994,2983,2,3,0)
SCVALUE^1^5^0^3
"KRN",8994,2983,2,3,1,0)
^8994.021^1^1^3150123^^
"KRN",8994,2983,2,3,1,1,0)
FTEE value
"KRN",8994,2983,2,4,0)
SCDUZ^1^20^0^4
"KRN",8994,2983,2,4,1,0)
^^2^2^3150108^
"KRN",8994,2983,2,4,1,1,0)
User DUZ (New Person IEN)
"KRN",8994,2983,2,4,1,2,0)
If parameter is null, it will default to SCMC,APPLICATION PROXY
"KRN",8994,2983,2,"B","SCDUZ",4)

"KRN",8994,2983,2,"B","SCHSTDT",2)

"KRN",8994,2983,2,"B","SCPHIEN",1)

"KRN",8994,2983,2,"B","SCVALUE",3)

"KRN",8994,2983,2,"PARAMSEQ",1,1)

"KRN",8994,2983,2,"PARAMSEQ",2,2)

"KRN",8994,2983,2,"PARAMSEQ",3,3)

"KRN",8994,2983,2,"PARAMSEQ",4,4)

"KRN",8994,2983,3,0)
^^6^6^3150123^
"KRN",8994,2983,3,1,0)
Return code:
"KRN",8994,2983,3,2,0)
  IEN of history record created
"KRN",8994,2983,3,3,0)
 
"KRN",8994,2983,3,4,0)
Errors:
"KRN",8994,2983,3,5,0)
  0^Missing record IEN
"KRN",8994,2983,3,6,0)
  0^Error creating FTEE history record
"KRN",8994,2984,-1)
0^14
"KRN",8994,2984,0)
SCMC FTEE READ^READ^SCMCFTEE^1^R^^^^1^^1
"KRN",8994,2984,1,0)
^^2^2^3150107^
"KRN",8994,2984,1,1,0)
This RPC will read an FTEE history record from the Position Assignment
"KRN",8994,2984,1,2,0)
History File (404.52).
"KRN",8994,2984,2,0)
^8994.02A^2^2
"KRN",8994,2984,2,1,0)
SCPHIEN^1^20^1^1
"KRN",8994,2984,2,1,1,0)
^^1^1^3150107^
"KRN",8994,2984,2,1,1,1,0)
Position Assignment History Record IEN
"KRN",8994,2984,2,2,0)
SCFTIEN^1^20^1^2
"KRN",8994,2984,2,2,1,0)
^^1^1^3150107^
"KRN",8994,2984,2,2,1,1,0)
FTEE History Sub-Record IEN
"KRN",8994,2984,2,"B","SCFTIEN",2)

"KRN",8994,2984,2,"B","SCPHIEN",1)

"KRN",8994,2984,2,"PARAMSEQ",1,1)

"KRN",8994,2984,2,"PARAMSEQ",2,2)

"KRN",8994,2984,3,0)
^^5^5^3150107^
"KRN",8994,2984,3,1,0)
FTEE history record values:
"KRN",8994,2984,3,2,0)
  ien^history date^ftee value^user ien(duz)
"KRN",8994,2984,3,3,0)
  Errors:
"KRN",8994,2984,3,4,0)
    0^Missing record IEN
"KRN",8994,2984,3,5,0)
    0^Missing FTEE record IEN
"KRN",8994,2985,-1)
0^16
"KRN",8994,2985,0)
SCMC FTEE UPDATE^UPDATE^SCMCFTEE^1^R^^^^1^^1
"KRN",8994,2985,1,0)
^8994.01^2^2^3150223^^
"KRN",8994,2985,1,1,0)
This RPC will update an FTEE history record in the Position Assignment
"KRN",8994,2985,1,2,0)
History File (404.52).
"KRN",8994,2985,2,0)
^8994.02A^5^5
"KRN",8994,2985,2,1,0)
SCPHIEN^1^20^1^1
"KRN",8994,2985,2,1,1,0)
^^1^1^3150107^
"KRN",8994,2985,2,1,1,1,0)
Position Assignment History Record IEN
"KRN",8994,2985,2,2,0)
SCFTIEN^1^20^1^2
"KRN",8994,2985,2,2,1,0)
^^1^1^3150107^
"KRN",8994,2985,2,2,1,1,0)
FTEE History Sub-Record IEN
"KRN",8994,2985,2,3,0)
SCHSTDT^1^15^0^3
"KRN",8994,2985,2,3,1,0)
^^1^1^3150107^
"KRN",8994,2985,2,3,1,1,0)
History Date
"KRN",8994,2985,2,4,0)
SCVALUE^1^5^0^4
"KRN",8994,2985,2,4,1,0)
^^1^1^3150107^
"KRN",8994,2985,2,4,1,1,0)
FTEE Value
"KRN",8994,2985,2,5,0)
SCDUZ^1^20^0^5
"KRN",8994,2985,2,5,1,0)
^8994.021^1^1^3150223^^
"KRN",8994,2985,2,5,1,1,0)
User DUZ (New Person IEN)
"KRN",8994,2985,2,"B","SCDUZ",5)

"KRN",8994,2985,2,"B","SCFTIEN",2)

"KRN",8994,2985,2,"B","SCHSTDT",3)

"KRN",8994,2985,2,"B","SCPHIEN",1)

"KRN",8994,2985,2,"B","SCVALUE",4)

"KRN",8994,2985,2,"PARAMSEQ",1,1)

"KRN",8994,2985,2,"PARAMSEQ",2,2)

"KRN",8994,2985,2,"PARAMSEQ",3,3)

"KRN",8994,2985,2,"PARAMSEQ",4,4)

"KRN",8994,2985,2,"PARAMSEQ",5,5)

"KRN",8994,2985,3,0)
^^6^6^3150223^
"KRN",8994,2985,3,1,0)
Return code:
"KRN",8994,2985,3,2,0)
  1 = record updated
"KRN",8994,2985,3,3,0)
  Errors:
"KRN",8994,2985,3,4,0)
    0^Missing record IEN
"KRN",8994,2985,3,5,0)
    0^Missing FTEE record IEN
"KRN",8994,2985,3,6,0)
    0^Error updating FTEE history record
"KRN",8994,2986,-1)
0^17
"KRN",8994,2986,0)
SCMC FTEE DELETE^DELETE^SCMCFTEE^1^R^^^^1^^1
"KRN",8994,2986,1,0)
^^2^2^3150107^
"KRN",8994,2986,1,1,0)
This RPC will delete an FTEE history record from the Position Assignment
"KRN",8994,2986,1,2,0)
History File (404.52).
"KRN",8994,2986,2,0)
^8994.02A^2^2
"KRN",8994,2986,2,1,0)
SCPHIEN^1^20^1^1
"KRN",8994,2986,2,1,1,0)
^^1^1^3150107^
"KRN",8994,2986,2,1,1,1,0)
Position Assignment History Record IEN
"KRN",8994,2986,2,2,0)
SCFTIEN^1^20^1^2
"KRN",8994,2986,2,2,1,0)
^^1^1^3150107^
"KRN",8994,2986,2,2,1,1,0)
FTEE History Sub-Record IEN
"KRN",8994,2986,2,"B","SCFTIEN",2)

"KRN",8994,2986,2,"B","SCPHIEN",1)

"KRN",8994,2986,2,"PARAMSEQ",1,1)

"KRN",8994,2986,2,"PARAMSEQ",2,2)

"KRN",8994,2986,3,0)
^^5^5^3150107^
"KRN",8994,2986,3,1,0)
Return code:
"KRN",8994,2986,3,2,0)
  defaults to 1 (there is no return code from ^DIK Fileman API)
"KRN",8994,2986,3,3,0)
  Errors:
"KRN",8994,2986,3,4,0)
    0^Missing record IEN
"KRN",8994,2986,3,5,0)
    0^Missing FTEE record IEN
"KRN",8994,2987,-1)
0^15
"KRN",8994,2987,0)
SCMC FTEE READALL^READALL^SCMCFTEE^2^R^^^^1^^1
"KRN",8994,2987,1,0)
^^2^2^3150108^
"KRN",8994,2987,1,1,0)
This RPC will read all FTEE history records from the Position Assignment
"KRN",8994,2987,1,2,0)
History File (404.52).
"KRN",8994,2987,2,0)
^8994.02A^1^1
"KRN",8994,2987,2,1,0)
SCPHIEN^1^20^1^1
"KRN",8994,2987,2,1,1,0)
^^1^1^3150108^
"KRN",8994,2987,2,1,1,1,0)
Position Assignment History Record IEN
"KRN",8994,2987,2,"B","SCPHIEN",1)

"KRN",8994,2987,2,"PARAMSEQ",1,1)

"KRN",8994,2987,3,0)
^^12^12^3150108^
"KRN",8994,2987,3,1,0)
FTEE history record values:
"KRN",8994,2987,3,2,0)
an array of: ien^history date^ftee value^user ien(duz)
"KRN",8994,2987,3,3,0)
Example:
"KRN",8994,2987,3,4,0)
retval(0)=0  (no records found)
"KRN",8994,2987,3,5,0)
 
"KRN",8994,2987,3,6,0)
retval(0)=3  (3 records)
"KRN",8994,2987,3,7,0)
retval(1)="1^3100608.1123^.05^452"
"KRN",8994,2987,3,8,0)
retval(2)="2^3100608.1123^.2^452"
"KRN",8994,2987,3,9,0)
retval(3)="3^3110113.1422^.0^452"
"KRN",8994,2987,3,10,0)
 
"KRN",8994,2987,3,11,0)
Errors:
"KRN",8994,2987,3,12,0)
retval(0)="0^Missing record IEN"
"MBREQ")
0
"ORD",6,.401)
.401;6;;;EDEOUT^DIFROMSO(.401,DA,"",XPDA);FPRE^DIFROMSI(.401,"",XPDA);EPRE^DIFROMSI(.401,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.401,DA,"",XPDA);DEL^DIFROMSK(.401,"",%)
"ORD",6,.401,0)
SORT TEMPLATE
"ORD",16,8994)
8994;16;1;;;;;;;RPCDEL^XPDIA1
"ORD",16,8994,0)
REMOTE PROCEDURE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",48,-1)
1^1
"PKG",48,0)
SCHEDULING^SD^APPOINTMENTS,PROFILES,LETTERS,AMIS REPORTS
"PKG",48,20,0)
^9.402P^^
"PKG",48,22,0)
^9.49I^1^1
"PKG",48,22,1,0)
5.3^2930813^2960613
"PKG",48,22,1,"PAH",1,0)
603^3150313
"PKG",48,22,1,"PAH",1,1,0)
^^2^2^3150313
"PKG",48,22,1,"PAH",1,1,1,0)
This is the KIDS build for SD*5.3*603.  It contains the modifications to 
"PKG",48,22,1,"PAH",1,1,2,0)
VistA to support PCMM Web.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
23
"RTN","SCAPMC23")
0^19^B18453123
"RTN","SCAPMC23",1,0)
SCAPMC23 ;ALB/REW - Team API's:TPPT ;02/19/2014
"RTN","SCAPMC23",2,0)
 ;;5.3;Scheduling;**41,148,603**;AUG 13, 1993;Build 79
"RTN","SCAPMC23",3,0)
 ;
"RTN","SCAPMC23",4,0)
 ;;1.0
"RTN","SCAPMC23",5,0)
TPPT(DFN,SCDATES,SCPOSA,SCUSRA,SCPURPA,SCROLEA,SCYESCL,SCLIST,SCERR) ; -- positions for a patient 
"RTN","SCAPMC23",6,0)
 ; input:
"RTN","SCAPMC23",7,0)
 ; DFN = ien of PATIENT file(#2) [required]
"RTN","SCAPMC23",8,0)
 ; SCDATES("BEGIN") = begin date to search (inclusive)
"RTN","SCAPMC23",9,0)
 ;                      [default: TODAY]
"RTN","SCAPMC23",10,0)
 ;        ("END")   = end date to search (inclusive)
"RTN","SCAPMC23",11,0)
 ;                      [default: TODAY]
"RTN","SCAPMC23",12,0)
 ;        ("INCL")  = 1: only use patients who were assigned to
"RTN","SCAPMC23",13,0)
 ;                       team for entire date range
"RTN","SCAPMC23",14,0)
 ;                    0: anytime in date range
"RTN","SCAPMC23",15,0)
 ;                      [default: 1] 
"RTN","SCAPMC23",16,0)
 ;  SCPOSA -array of pointers to team position - 404.57 (per SCPURPA)
"RTN","SCAPMC23",17,0)
 ;  SCUSRA -array of pointers to user file - 8930 (per SCPURPA array)
"RTN","SCAPMC23",18,0)
 ;  SCPURPA -array of pointers to team purpose file 403.47
"RTN","SCAPMC23",19,0)
 ;          if none are defined - returns all teams
"RTN","SCAPMC23",20,0)
 ;          if @SCPURPA@('exclude') is defined - exclude listed teams
"RTN","SCAPMC23",21,0)
 ;  SCROLEA - array of pointers to std position file 403.46 (per SCPURPA)
"RTN","SCAPMC23",22,0)
 ; SCYESCL -boolean[0-NO(default)/1-YES] Include pts asc. via enrollment?
"RTN","SCAPMC23",23,0)
 ;  SCLIST -array name to store list
"RTN","SCAPMC23",24,0)
 ;          [ex. ^TMP("SCPT",$J)]
"RTN","SCAPMC23",25,0)
 ;        
"RTN","SCAPMC23",26,0)
 ;  SCERR = array NAME to store error messages.
"RTN","SCAPMC23",27,0)
 ;          [ex. ^TMP("ORXX",$J)]
"RTN","SCAPMC23",28,0)
 ;
"RTN","SCAPMC23",29,0)
 ; Output:
"RTN","SCAPMC23",30,0)
 ;  SCLIST() = array of positions (includes SCTP xref)
"RTN","SCAPMC23",31,0)
 ;             Format:
"RTN","SCAPMC23",32,0)
 ;               Subscript: Sequential # from 1 to n
"RTN","SCAPMC23",33,0)
 ;               Piece     Description
"RTN","SCAPMC23",34,0)
 ;                 1       IEN of TEAM POSITION File (#404.57)
"RTN","SCAPMC23",35,0)
 ;                 2       Name of Position
"RTN","SCAPMC23",36,0)
 ;                 3       IEN of Team #404.51
"RTN","SCAPMC23",37,0)
 ;                 4       IEN of file #404.43 (Pt Tm Pos Assign -404.43)
"RTN","SCAPMC23",38,0)
 ;                 5       current effective date
"RTN","SCAPMC23",39,0)
 ;                 6       current inactivate date (if any)
"RTN","SCAPMC23",40,0)
 ;                 7       pointer to 403.46 (role)
"RTN","SCAPMC23",41,0)
 ;                 8       Name of Standard Role
"RTN","SCAPMC23",42,0)
 ;                 9       pointer to User Class (#8930)
"RTN","SCAPMC23",43,0)
 ;                10       Name of User Class
"RTN","SCAPMC23",44,0)
 ;                11       Pointer to patient team assignment (404.42)JLU
"RTN","SCAPMC23",45,0)
 ;                Subscript: "SCTP",SCTM,IEN =""
"RTN","SCAPMC23",46,0)
 ;
"RTN","SCAPMC23",47,0)
 ;  SCERR() = Array of DIALOG file messages(errors) .
"RTN","SCAPMC23",48,0)
 ;  @SCERR@(0) = number of errors, undefined if none
"RTN","SCAPMC23",49,0)
 ;             Format:
"RTN","SCAPMC23",50,0)
 ;               Subscript: Sequential # from 1 to n
"RTN","SCAPMC23",51,0)
 ;               Piece     Description
"RTN","SCAPMC23",52,0)
 ;                 1       IEN of DIALOG file
"RTN","SCAPMC23",53,0)
 ;  Returned: 1 if ok, 0 if error
"RTN","SCAPMC23",54,0)
 ; Other:
"RTN","SCAPMC23",55,0)
 ;  SCACTHIS =  status (-1:err|0:inact|1:act)^404.59 ien ^actdt^inacdt
"RTN","SCAPMC23",56,0)
 ;
"RTN","SCAPMC23",57,0)
 ;
"RTN","SCAPMC23",58,0)
ST N SCPTTP,SCPTTP0,SCTP,SCR,SCACTHIS,SCTM,SCND,SCU,SCPTTPI,SCTPA,SCPTBEG,SCPTEND,SCTPPT,SCTEAMA,SCENROLL
"RTN","SCAPMC23",59,0)
 N SCLSEQ,SCN,SCESEQ,SCPARM,SCBEGIN,SCEND,SCINCL,SCDTS,SCPTPA
"RTN","SCAPMC23",60,0)
 ; -- initialize control variables
"RTN","SCAPMC23",61,0)
 G:'$$OKDATA PRACQ
"RTN","SCAPMC23",62,0)
 ; -- loop through patient team position assignment history
"RTN","SCAPMC23",63,0)
 ; -- 603 - changed quit condition on 3 for loops below to prevent endless loop when bad data
"RTN","SCAPMC23",64,0)
 S (SCTP,SCTPA)=0
"RTN","SCAPMC23",65,0)
 F  S SCTP=$O(^SCPT(404.43,"ADFN",DFN,SCTP)) Q:SCTP=""  D
"RTN","SCAPMC23",66,0)
 .F SCPTTP=0:0 S SCPTTP=$O(^SCPT(404.43,"ADFN",DFN,SCTP,SCPTTP)) Q:SCPTTP=""  D
"RTN","SCAPMC23",67,0)
 .. ; S SCPTTPI=$O(^SCPT(404.43,"ADFN",DFN,SCTP,SCPTTP,0))
"RTN","SCAPMC23",68,0)
 .. ; replaced line above with FOR LOOP and new dot level below. Now loops thru all assignments
"RTN","SCAPMC23",69,0)
 .. ; made on a given day - PDR 9/98
"RTN","SCAPMC23",70,0)
 .. S SCPTPA="" ; position assignment IEN
"RTN","SCAPMC23",71,0)
 .. F  S SCPTPA=$O(^SCPT(404.43,"ADFN",DFN,SCTP,SCPTTP,SCPTPA)) Q:SCPTPA=""  D
"RTN","SCAPMC23",72,0)
 ... S SCPTTP0=$G(^SCPT(404.43,SCPTPA,0))
"RTN","SCAPMC23",73,0)
 ... S SCPTBEG=$P(SCPTTP0,U,3)
"RTN","SCAPMC23",74,0)
 ... S SCPTEND=$P(SCPTTP0,U,4)
"RTN","SCAPMC23",75,0)
 ... Q:1>$$DTCHK^SCAPU1(SCBEGIN,SCEND,SCINCL,SCPTBEG,SCPTEND)
"RTN","SCAPMC23",76,0)
 ... S SCACTHIS=$$ACTHIST^SCAPMCU2(404.59,SCTP,SCDATES,SCERR,"SCTPPT")
"RTN","SCAPMC23",77,0)
 ... ; --- below changes scacthis to send 404.43 data
"RTN","SCAPMC23",78,0)
 ... S:SCPTBEG>$P(SCACTHIS,U,3) $P(SCACTHIS,U,3)=SCPTBEG
"RTN","SCAPMC23",79,0)
 ... S:SCPTEND&((SCPTEND<$P(SCACTHIS,U,4))!('$P(SCACTHIS,U,4))) $P(SCACTHIS,U,4)=SCPTEND
"RTN","SCAPMC23",80,0)
 ... S $P(SCACTHIS,U,2)=SCPTPA ; SCPTTPI
"RTN","SCAPMC23",81,0)
 ... Q:'SCACTHIS
"RTN","SCAPMC23",82,0)
 ... Q:'$$OKARRAY^SCAPU1(.SCPOSA,.SCTP)
"RTN","SCAPMC23",83,0)
 ... S SCND=$G(^SCTM(404.57,SCTP,0)) ;the team position 0 node
"RTN","SCAPMC23",84,0)
 ... S SCU=$P(SCND,U,13)
"RTN","SCAPMC23",85,0)
 ... Q:'$$OKUSRCL^SCAPU1(.SCUSRA,.SCU)
"RTN","SCAPMC23",86,0)
 ... S SCTM=$P(SCND,U,2)
"RTN","SCAPMC23",87,0)
 ... S SCP=$P(^SCTM(404.51,+SCTM,0),U,3)
"RTN","SCAPMC23",88,0)
 ... Q:'$$OKARRAY^SCAPU1(.SCPURPA,.SCP)
"RTN","SCAPMC23",89,0)
 ... S SCPTA=0
"RTN","SCAPMC23",90,0)
 ... S SCR=+$P(SCND,U,3)
"RTN","SCAPMC23",91,0)
 ... Q:'$$OKARRAY^SCAPU1(.SCROLEA,.SCR)
"RTN","SCAPMC23",92,0)
 ... D BLD^SCAPMC24(.SCLIST,SCTM,SCTP,SCACTHIS,SCR)
"RTN","SCAPMC23",93,0)
 ; - if scyescl=1 get enrolled clinics & find positions associated w clinc for teams that the pt is in
"RTN","SCAPMC23",94,0)
 G:'SCYESCL PRACQ
"RTN","SCAPMC23",95,0)
 IF '$$TMPT^SCAPMC(DFN,SCDATES,.SCPURPA,"SCTEAMA",.SCERR) G PRACQ
"RTN","SCAPMC23",96,0)
 IF '$$CLPT^SCAPMC29(DFN,SCDATES,"SCTEAMA","SCENROLL",.SCERR) G PRACQ
"RTN","SCAPMC23",97,0)
 IF '$G(SCENROLL(0)) G PRACQ
"RTN","SCAPMC23",98,0)
 S INDX=0
"RTN","SCAPMC23",99,0)
 F INDX=1:1:$G(SCENROLL(0)) S SCX=$G(SCENROLL(INDX)) D
"RTN","SCAPMC23",100,0)
 .IF 'SCX D  Q
"RTN","SCAPMC23",101,0)
 ..S SCPARM("Enroll Xref")=$G(SCX)
"RTN","SCAPMC23",102,0)
 ..D ERR^SCAPMCU1(.SCESEQ,,SCPARM,"",.SCERR)
"RTN","SCAPMC23",103,0)
 .S SC44=$P(SCX,U,1)
"RTN","SCAPMC23",104,0)
 .S ENR("BEGIN")=$S(SCBEGIN>$P(SCX,U,3):SCBEGIN,1:$P(SCX,U,3))
"RTN","SCAPMC23",105,0)
 .S ENR("END")=$S('$P(SCX,U,4):SCEND,(SCEND<$P(SCX,U,4)):SCEND,1:$P(SCX,U,4))
"RTN","SCAPMC23",106,0)
 .S ENR("INCL")=SCINCL
"RTN","SCAPMC23",107,0)
 .Q:'$$TPCL^SCAPMC(SC44,"ENR",.SCPOSA,.SCUSRA,.SCPURPA,.SCROLEA,.SCLIST,.SCERR)
"RTN","SCAPMC23",108,0)
PRACQ Q $G(@SCERR@(0))<1
"RTN","SCAPMC23",109,0)
 ;
"RTN","SCAPMC23",110,0)
OKDATA() ;setup/check variables
"RTN","SCAPMC23",111,0)
 N SCOK
"RTN","SCAPMC23",112,0)
 S SCOK=1
"RTN","SCAPMC23",113,0)
 D INIT^SCAPMCU1(.SCOK) ; set default dates & error array (if undefined)
"RTN","SCAPMC23",114,0)
 S SCYESCL=+$G(SCYESCL,0)
"RTN","SCAPMC23",115,0)
 IF '$D(^DPT(+$G(DFN),0)) D  S SCOK=0
"RTN","SCAPMC23",116,0)
 . S SCPARM("Patient")=$G(DFN,"Undefined")
"RTN","SCAPMC23",117,0)
 . D ERR^SCAPMCU1(.SCESEQ,4045101,.SCPARM,"",.SCERR)
"RTN","SCAPMC23",118,0)
 ;
"RTN","SCAPMC23",119,0)
 Q SCOK
"RTN","SCAPMC23",120,0)
 ;
"RTN","SCMCDD1")
0^26^B25172674
"RTN","SCMCDD1",1,0)
SCMCDD1 ;ALB/REW/ART - DD Calls used by PCMM ;08/25/2014
"RTN","SCMCDD1",2,0)
 ;;5.3;Scheduling;**41,89,107,603**;AUG 13, 1993;Build 79
"RTN","SCMCDD1",3,0)
 ;
"RTN","SCMCDD1",4,0)
 ;Subscription ICR
"RTN","SCMCDD1",5,0)
 ; 3617 - DBIA3617 (^ORD(101,"B"))
"RTN","SCMCDD1",6,0)
 ;
"RTN","SCMCDD1",7,0)
 ;1
"RTN","SCMCDD1",8,0)
WRITETP(SCTP) ;used by write node of 404.57
"RTN","SCMCDD1",9,0)
 N SCCL
"RTN","SCMCDD1",10,0)
 S SCCL=$P($G(^SCTM(404.57,+$G(SCTP),0)),U,9)
"RTN","SCMCDD1",11,0)
 Q $P($$GETPRTP^SCAPMCU2(SCTP,DT),U,2)_"  "_$P($G(^SC(+$G(SCCL),0)),U,1)
"RTN","SCMCDD1",12,0)
 ;
"RTN","SCMCDD1",13,0)
SETPTTM(SCPTTMA) ;delete
"RTN","SCMCDD1",14,0)
 Q
"RTN","SCMCDD1",15,0)
 ;
"RTN","SCMCDD1",16,0)
KILLPTTM(SCPTTMA) ;delete
"RTN","SCMCDD1",17,0)
 Q
"RTN","SCMCDD1",18,0)
 ;
"RTN","SCMCDD1",19,0)
AFTERTM(SCPTTM) ;called after update of 404.42
"RTN","SCMCDD1",20,0)
 N SCPTTMB4,SCPCTMB4,SCTMB4,SCTMNDB4,SCPTTMAF,SCPCTMAF,SCTMAF,X,SCFLD,SCX,SCTMNDAF,SCTMNMB4,Y
"RTN","SCMCDD1",21,0)
 Q:'$G(SCPTTM)
"RTN","SCMCDD1",22,0)
 S SCPTTMAF=$G(^SCPT(404.42,SCPTTM,0))
"RTN","SCMCDD1",23,0)
 Q:'SCPTTMAF  ;603
"RTN","SCMCDD1",24,0)
 S SCPCTMAF=$S(($P(SCPTTMAF,U,8)=1):1,1:0)
"RTN","SCMCDD1",25,0)
 S SCTMAF=$P(SCPTTMAF,U,3)
"RTN","SCMCDD1",26,0)
 S:SCTMAF SCTMNDAF=$G(^SCTM(404.51,SCTMAF,0))
"RTN","SCMCDD1",27,0)
 F X="SCPTTMB4","SCPCTMB4","SCTMB4","SCTMNMB4" S @X=$G(^TMP($J,"SCTMCHG",SCPTTM,X))
"RTN","SCMCDD1",28,0)
 F SCFLD=1:1:14 S SCX=$P(SCPTTMAF,U,SCFLD) S:SCX'="" ^TMP($J,"SCTMCHG",SCPTTM,"AF",(SCFLD*.01))=SCX
"RTN","SCMCDD1",29,0)
 S X=+$O(^ORD(101,"B","SCMC PATIENT TEAM CHANGES",0))_";ORD(101,"
"RTN","SCMCDD1",30,0)
 D:SCPTTMAF'=SCPTTMB4 EN^XQOR
"RTN","SCMCDD1",31,0)
 K ^TMP($J,"SCTMCHG",SCPTTM)
"RTN","SCMCDD1",32,0)
 Q
"RTN","SCMCDD1",33,0)
 ;
"RTN","SCMCDD1",34,0)
BEFORETM(SCPTTM) ;called before update of 404.42
"RTN","SCMCDD1",35,0)
 N SCPTTMB4,SCPCTMB4,SCTMB4,SCTMNDB4,X,SCFLD,SCX,SCY,DR,DIC,DA,DIQ
"RTN","SCMCDD1",36,0)
 Q:'$G(SCPTTM)
"RTN","SCMCDD1",37,0)
 K ^TMP($J,"SCTMCHG",SCPTTM)
"RTN","SCMCDD1",38,0)
 S SCPTTMB4=$G(^SCPT(404.42,SCPTTM,0))
"RTN","SCMCDD1",39,0)
 Q:'SCPTTMB4  ;603
"RTN","SCMCDD1",40,0)
 S SCPCTMB4=$S(($P(SCPTTMB4,U,8)=1):1,1:0)
"RTN","SCMCDD1",41,0)
 S SCTMB4=$P(SCPTTMB4,U,3)
"RTN","SCMCDD1",42,0)
 S:SCTMB4 SCTMNDB4=$G(^SCTM(404.51,SCTMB4,0))
"RTN","SCMCDD1",43,0)
 F X="SCPTTMB4","SCPCTMB4","SCTMB4","SCTMNDB4" S ^TMP($J,"SCTMCHG",SCPTTM,X)=$G(@X)
"RTN","SCMCDD1",44,0)
 F SCY=1:1:14 S SCX=$P(SCPTTMB4,U,SCY) IF SCX'="" D
"RTN","SCMCDD1",45,0)
 .S SCFLD=SCY*.01
"RTN","SCMCDD1",46,0)
 .S ^TMP($J,"SCTMCHG",SCPTTM,"B4",SCFLD)=SCX
"RTN","SCMCDD1",47,0)
 Q
"RTN","SCMCDD1",48,0)
 ;
"RTN","SCMCDD1",49,0)
SETPC(SC1,SC2,SC3,SC4,DA)  ;APCPOS xref for 404.43
"RTN","SCMCDD1",50,0)
 ;DFN = Pointer to Patient File
"RTN","SCMCDD1",51,0)
 ;SC1 = pointer to 404.42
"RTN","SCMCDD1",52,0)
 ;SC2 = ROLE (1=pc practitioner,2=pc attending)
"RTN","SCMCDD1",53,0)
 ;SC3 = Activation Date
"RTN","SCMCDD1",54,0)
 ;SC4 = Team Position
"RTN","SCMCDD1",55,0)
 N DFN
"RTN","SCMCDD1",56,0)
 S DFN=$P($G(^SCPT(404.42,SC1,0)),U,1)
"RTN","SCMCDD1",57,0)
 S:DFN&SC1&SC2&SC3&SC4&DA ^SCPT(404.43,"APCPOS",DFN,SC2,SC3,SC4,DA)=""
"RTN","SCMCDD1",58,0)
 Q
"RTN","SCMCDD1",59,0)
KILLPC(SC1,SC2,SC3,SC4,DA) ;APCPOS xref for 404.43
"RTN","SCMCDD1",60,0)
 ;DFN = Pointer to Patient File
"RTN","SCMCDD1",61,0)
 ;SC1 = pointer to 404.42
"RTN","SCMCDD1",62,0)
 ;SC2 = ROLE (1=pc practitioner,2=pc attending)
"RTN","SCMCDD1",63,0)
 ;SC3 = Activation Date
"RTN","SCMCDD1",64,0)
 ;SC4 = Team Position
"RTN","SCMCDD1",65,0)
 N DFN
"RTN","SCMCDD1",66,0)
 S DFN=$P($G(^SCPT(404.42,SC1,0)),U,1)
"RTN","SCMCDD1",67,0)
 K:DFN&SC1&SC2&SC3&SC4&DA ^SCPT(404.43,"APCPOS",DFN,SC2,SC3,SC4,DA)
"RTN","SCMCDD1",68,0)
 Q
"RTN","SCMCDD1",69,0)
 ;
"RTN","SCMCDD1",70,0)
MAKEMANY(DFNA,SCOLDASS,SCBADASS,SCNEWASS) ;Not supported for use by PCMM Only - sets PC field to YES
"RTN","SCMCDD1",71,0)
 ;   DFNA    - DFN ARRAY
"RTN","SCMCDD1",72,0)
 ;   SCOLDASS - Subset of DFNA that were previously assigned
"RTN","SCMCDD1",73,0)
 ;   SCBADASS - Subset of DFNA that could not be assigned
"RTN","SCMCDD1",74,0)
 ;   SCNEWASS - Subset of DFNA that were newly assigned
"RTN","SCMCDD1",75,0)
 ;   Returned: total^new^old^bad
"RTN","SCMCDD1",76,0)
 ; Note: No input error checking!!
"RTN","SCMCDD1",77,0)
 N DFN,SCX,SCOUTFLD,SCBADOUT,SCOLDCNT,SCBADCNT,SCNEWCNT
"RTN","SCMCDD1",78,0)
 S (SCBADCNT,SCOLDCNT,SCNEWCNT)=0
"RTN","SCMCDD1",79,0)
 S DFN=0
"RTN","SCMCDD1",80,0)
 F  S DFN=$O(@DFNA@(DFN)) Q:'DFN  D
"RTN","SCMCDD1",81,0)
 .S SCOUTFLD(.04)=1
"RTN","SCMCDD1",82,0)
 .S SCX=$$ACOUTPT^SCAPMC20(DFN,"SCOUTFLD","SCBADOUT")
"RTN","SCMCDD1",83,0)
 .;SCX=OK?^p404.41^new?
"RTN","SCMCDD1",84,0)
 .IF 'SCX D
"RTN","SCMCDD1",85,0)
 ..S SCBADCNT=SCBADCNT+1
"RTN","SCMCDD1",86,0)
 ..S @SCBADASS@(DFN)=""
"RTN","SCMCDD1",87,0)
 .ELSE  D
"RTN","SCMCDD1",88,0)
 ..IF $P(SCX,U,3) D
"RTN","SCMCDD1",89,0)
 ...S SCNEWCNT=SCNEWCNT+1
"RTN","SCMCDD1",90,0)
 ...S @SCNEWASS@(DFN)=""
"RTN","SCMCDD1",91,0)
 ..ELSE  D
"RTN","SCMCDD1",92,0)
 ...S SCOLDCNT=SCOLDCNT+1
"RTN","SCMCDD1",93,0)
 ...S @SCOLDASS@(DFN)=""
"RTN","SCMCDD1",94,0)
 Q (SCOLDCNT+SCNEWCNT)_U_SCNEWCNT_U_SCOLDCNT_U_SCBADCNT
"RTN","SCMCDD1",95,0)
 ;
"RTN","SCMCDD1",96,0)
MAKEOUT(DA) ;used by 404.42 to create an outpatient profile entry (if there wasn't one) and set the PRIMARY CARE?(.04) field to YES
"RTN","SCMCDD1",97,0)
 ;  Input: DA - 404.42 IEN
"RTN","SCMCDD1",98,0)
 ;  Returned (for de-bugging): ok?^ien of404.41^new?
"RTN","SCMCDD1",99,0)
 ; 603 - create record for all assignment types
"RTN","SCMCDD1",100,0)
 N SCNODE,SCX,DFN,SCOUTFLD,SCASSIGN
"RTN","SCMCDD1",101,0)
 S SCNODE=$G(^SCPT(404.42,+$G(DA),0))
"RTN","SCMCDD1",102,0)
 S DFN=$P(SCNODE,U,1)
"RTN","SCMCDD1",103,0)
 S SCASSIGN=$P(SCNODE,U,8)
"RTN","SCMCDD1",104,0)
 S SCOUTFLD(.04)=$S(SCASSIGN=1:"Y",SCASSIGN=98:"Y",SCASSIGN=99:"N",1:"")
"RTN","SCMCDD1",105,0)
 S SCX=$$ACOUTPT^SCAPMC20(DFN,"SCOUTFLD","SCBADOUT")
"RTN","SCMCDD1",106,0)
 Q $G(SCX)
"RTN","SCMCDD1",107,0)
 ;
"RTN","SCMCDD1",108,0)
AFTERTP(SCPTTP) ;called after update of 404.43
"RTN","SCMCDD1",109,0)
 N SCPTTPB4,SCPCTPB4,SCTPB4,SCTPNDB4,SCPTTPAF,SCPCTPAF,SCTPAF,X,SCFLD,SCX,SCTMB4,SCTMNDB4,SCTMNDAF,SCTMAF,SCPTNM,SCTPNDAF,SCTPNMB4,Y
"RTN","SCMCDD1",110,0)
 Q:'$G(SCPTTP)
"RTN","SCMCDD1",111,0)
 S SCPTTPAF=$G(^SCPT(404.43,SCPTTP,0))
"RTN","SCMCDD1",112,0)
 Q:'SCPTTPAF  ;603
"RTN","SCMCDD1",113,0)
 S SCPCTPAF=+$P(SCPTTPAF,U,5)
"RTN","SCMCDD1",114,0)
 S SCTPAF=$P(SCPTTPAF,U,2)
"RTN","SCMCDD1",115,0)
 S:SCTPAF SCTPNDAF=$G(^SCTM(404.57,SCTPAF,0))
"RTN","SCMCDD1",116,0)
 S:SCTPAF SCTMAF=$P(SCTPNDAF,U,2)
"RTN","SCMCDD1",117,0)
 S:SCTMAF SCTMNDAF=$G(^SCTM(404.51,SCTMAF,0))
"RTN","SCMCDD1",118,0)
 F X="SCPTTPB4","SCPCTPB4","SCTPB4","SCTPNMB4","SCTMB4","SCTMNDB4" S @X=$G(^TMP($J,"SCTPCHG",SCPTTP,X))
"RTN","SCMCDD1",119,0)
 F SCFLD=1:1:9 S SCX=$P(SCPTTPAF,U,SCFLD) S:SCX'="" ^TMP($J,"SCTPCHG",SCPTTP,"AF",(SCFLD*.01))=SCX
"RTN","SCMCDD1",120,0)
 S X=+$O(^ORD(101,"B","SCMC PATIENT TEAM POSITION CHANGES",0))_";ORD(101,"
"RTN","SCMCDD1",121,0)
 D:SCPTTPAF'=SCPTTPB4 EN^XQOR
"RTN","SCMCDD1",122,0)
 K ^TMP($J,"SCTPCHG",SCPTTP)
"RTN","SCMCDD1",123,0)
 Q
"RTN","SCMCDD1",124,0)
 ;
"RTN","SCMCDD1",125,0)
BEFORETP(SCPTTP) ;called before update of 404.43
"RTN","SCMCDD1",126,0)
 N SCPTTPB4,SCPCTPB4,SCTPB4,SCTPNDB4,X,SCFLD,SCX,SCY,DR,DIC,DA,DIQ,SCTMB4,SCTMNDAF,SCTMNDB4,SCTMNMB4
"RTN","SCMCDD1",127,0)
 Q:'$G(SCPTTP)
"RTN","SCMCDD1",128,0)
 K ^TMP($J,"SCTPCHG",SCPTTP)
"RTN","SCMCDD1",129,0)
 S SCPTTPB4=$G(^SCPT(404.43,SCPTTP,0))
"RTN","SCMCDD1",130,0)
 Q:'SCPTTPB4
"RTN","SCMCDD1",131,0)
 S SCPCTPB4=+$P(SCPTTPB4,U,5)
"RTN","SCMCDD1",132,0)
 S SCTPB4=$P(SCPTTPB4,U,2)
"RTN","SCMCDD1",133,0)
 S:SCTPB4 SCTPNDB4=$G(^SCTM(404.57,SCTPB4,0))
"RTN","SCMCDD1",134,0)
 S:SCTPB4 SCTMB4=$P(SCTPNDB4,U,2)
"RTN","SCMCDD1",135,0)
 S:SCTMB4 SCTMNDB4=$G(^SCTM(404.51,SCTMB4,0))
"RTN","SCMCDD1",136,0)
 F X="SCPTTPB4","SCPCTPB4","SCTPB4","SCTPNDB4","SCTMNDB4","SCTMB4" S ^TMP($J,"SCTPCHG",SCPTTP,X)=$G(@X)
"RTN","SCMCDD1",137,0)
 F SCY=1:1:9 S SCX=$P(SCPTTPB4,U,SCY) IF SCX'="" D
"RTN","SCMCDD1",138,0)
 .S SCFLD=SCY*.01
"RTN","SCMCDD1",139,0)
 .S ^TMP($J,"SCTPCHG",SCPTTP,"B4",SCFLD)=SCX
"RTN","SCMCDD1",140,0)
 Q
"RTN","SCMCDDR")
0^14^B34341424
"RTN","SCMCDDR",1,0)
SCMCDDR ;ALB/ART - FileMan LIST^DIC DBS Call for PCMM Web RPCs ;02/26/2015
"RTN","SCMCDDR",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SCMCDDR",3,0)
 ;
"RTN","SCMCDDR",4,0)
 ;This routine was copied from DDR.  PCMM/R needs a new RPC that has .11 APP PROXY ALLOWED set to Yes
"RTN","SCMCDDR",5,0)
 ;
"RTN","SCMCDDR",6,0)
 ;Public, Supported ICRs
"RTN","SCMCDDR",7,0)
 ; #2051 - Database Server API: Lookup Utilities (DIC)
"RTN","SCMCDDR",8,0)
 ; #2238 - CHANGE RPC RETURN TYPE (XWBLIB)
"RTN","SCMCDDR",9,0)
 ; #2239 - XWBAPVER -- RPC VERSION
"RTN","SCMCDDR",10,0)
 ;
"RTN","SCMCDDR",11,0)
 ;DDR ;ALB/MJK,SF/DCM-FileMan Delphi Components' RPCs ;4/28/98  10:38
"RTN","SCMCDDR",12,0)
 ;;22.0;VA FileMan;;Mar 30, 1999
"RTN","SCMCDDR",13,0)
 ;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","SCMCDDR",14,0)
 ;
"RTN","SCMCDDR",15,0)
 QUIT
"RTN","SCMCDDR",16,0)
 ;
"RTN","SCMCDDR",17,0)
LISTC(SCDATA,SC) ; -- broker callback to get list data
"RTN","SCMCDDR",18,0)
 N SCFILE,SCIENS,SCFLDS,SCMAX,SCFROM,SCPART,SCXREF,SCSCRN,SCID,SCVAL,SCERR,SCRSLT,SCFLD,SCFLAGS,SCOPT,SCOUT,DIERR
"RTN","SCMCDDR",19,0)
 ; -- parse array to parameters
"RTN","SCMCDDR",20,0)
 D PARSE(.SC)
"RTN","SCMCDDR",21,0)
 S SCPART=$TR(SCPART,$C(13)_$C(10),"")
"RTN","SCMCDDR",22,0)
 ; -- get specific field criteria
"RTN","SCMCDDR",23,0)
 IF $G(SC("DDFILE")),$G(SC("DDFIELD")),$D(^DD(SC("DDFILE"),SC("DDFIELD"),12.1)) D
"RTN","SCMCDDR",24,0)
 . N DIC X ^(12.1) S:$D(DIC("S")) SCSCRN=DIC("S")
"RTN","SCMCDDR",25,0)
 I 'XWBAPVER D V0 Q
"RTN","SCMCDDR",26,0)
 I XWBAPVER>0 D V1 Q
"RTN","SCMCDDR",27,0)
 Q
"RTN","SCMCDDR",28,0)
 ;
"RTN","SCMCDDR",29,0)
DIC ;
"RTN","SCMCDDR",30,0)
 D LIST^DIC(SCFILE,SCIENS,SCFLDS,SCFLAGS,SCMAX,.SCFROM,SCPART,SCXREF,SCSCRN,SCID,SCOUT,"SCERR")
"RTN","SCMCDDR",31,0)
 Q
"RTN","SCMCDDR",32,0)
 ;
"RTN","SCMCDDR",33,0)
V0 ;
"RTN","SCMCDDR",34,0)
 S SCOUT="SCRSLT",SCFLAGS=$G(SCFLAGS)_"P",SCFLDS=$G(SCFLDS)_";@"
"RTN","SCMCDDR",35,0)
 D DIC
"RTN","SCMCDDR",36,0)
 N Y,I,N S N=0
"RTN","SCMCDDR",37,0)
 I $G(SCFROM)]"" D SET("[Misc]"),SET("MORE"_U_SCFROM_U_SCFROM("IEN"))
"RTN","SCMCDDR",38,0)
 I $D(SCRSLT("DILIST")) D
"RTN","SCMCDDR",39,0)
 . D SET("[Data]")
"RTN","SCMCDDR",40,0)
 . S I=0 F  S I=$O(SCRSLT("DILIST",I)) Q:'I  D SET(SCRSLT("DILIST",I,0))
"RTN","SCMCDDR",41,0)
 IF $D(SCERR) D SET("[Errors]")
"RTN","SCMCDDR",42,0)
 S X=$$STYPE("ARRAY")
"RTN","SCMCDDR",43,0)
 Q
"RTN","SCMCDDR",44,0)
 ;
"RTN","SCMCDDR",45,0)
STYPE(X,WRAP) ;For backward compatability only
"RTN","SCMCDDR",46,0)
 I $D(WRAP) Q $$RTRNFMT^XWBLIB($G(X),WRAP)
"RTN","SCMCDDR",47,0)
 Q $$RTRNFMT^XWBLIB(X)
"RTN","SCMCDDR",48,0)
 ;
"RTN","SCMCDDR",49,0)
V1 ;
"RTN","SCMCDDR",50,0)
 S SCOUT=""
"RTN","SCMCDDR",51,0)
 I XWBAPVER=1,SCFLAGS["P" S SCFLAGS=SCFLAGS_"S" ;only P flag is sent from client for V1 of FMCD
"RTN","SCMCDDR",52,0)
 D DIC
"RTN","SCMCDDR",53,0)
 I $G(SCFLAGS)["P" D  Q
"RTN","SCMCDDR",54,0)
 . I $D(^TMP("DILIST",$J)) D
"RTN","SCMCDDR",55,0)
 . . N END S END=+^TMP("DILIST",$J,0)
"RTN","SCMCDDR",56,0)
 . . I XWBAPVER>1 S ^(.3)="[MAP]",^TMP("DILIST",$J,.4)=^TMP("DILIST",$J,0,"MAP")
"RTN","SCMCDDR",57,0)
 . . K ^TMP("DILIST",$J,0) S ^(.5)="[BEGIN_diDATA]",^(END+1)="[END_diDATA]"
"RTN","SCMCDDR",58,0)
 . D 11,31
"RTN","SCMCDDR",59,0)
 . S SCDATA=$NA(^TMP("DILIST",$J))
"RTN","SCMCDDR",60,0)
 . Q
"RTN","SCMCDDR",61,0)
 I $G(SCFLAGS)'["P" D 11,UNPACKED,31 S SCDATA=$NA(^TMP("DILIST",$J)) Q
"RTN","SCMCDDR",62,0)
 Q
"RTN","SCMCDDR",63,0)
11 ;
"RTN","SCMCDDR",64,0)
 I $G(SCFROM)]"" S ^TMP("DILIST",$J,.1)="[Misc]",^(.2)="MORE"_U_SCFROM_U_SCFROM("IEN")_$S(XWBAPVER>1:U_$P($G(^TMP("DILIST",$J,0)),U,4),1:"")
"RTN","SCMCDDR",65,0)
 Q
"RTN","SCMCDDR",66,0)
31 ;
"RTN","SCMCDDR",67,0)
 I $D(DIERR) D ERROR
"RTN","SCMCDDR",68,0)
 Q
"RTN","SCMCDDR",69,0)
SET(X) ;
"RTN","SCMCDDR",70,0)
 S N=N+1
"RTN","SCMCDDR",71,0)
 S SCDATA(N)=X
"RTN","SCMCDDR",72,0)
 Q
"RTN","SCMCDDR",73,0)
PARSE(SC) ; -- array parsing
"RTN","SCMCDDR",74,0)
 S SCFILE=$G(SC("FILE"))
"RTN","SCMCDDR",75,0)
 S SCIENS=$G(SC("IENS"))
"RTN","SCMCDDR",76,0)
 S SCFLDS=$G(SC("FIELDS"))
"RTN","SCMCDDR",77,0)
 S SCFLAGS=$G(SC("FLAGS"))
"RTN","SCMCDDR",78,0)
 S SCMAX=$G(SC("MAX"),"*")
"RTN","SCMCDDR",79,0)
 M SCFROM=SC("FROM")
"RTN","SCMCDDR",80,0)
 S SCPART=$G(SC("PART"))
"RTN","SCMCDDR",81,0)
 S SCXREF=$G(SC("XREF"))
"RTN","SCMCDDR",82,0)
 S SCSCRN=$G(SC("SCREEN"))
"RTN","SCMCDDR",83,0)
 S SCID=$G(SC("ID"))
"RTN","SCMCDDR",84,0)
 S SCOPT=$G(SC("OPTIONS"))
"RTN","SCMCDDR",85,0)
 Q
"RTN","SCMCDDR",86,0)
ERROR ;
"RTN","SCMCDDR",87,0)
 N I S I=1
"RTN","SCMCDDR",88,0)
 D Z("[BEGIN_diERRORS]")
"RTN","SCMCDDR",89,0)
 N A S A=0 F  S A=$O(SCERR("DIERR",A)) Q:'A  D
"RTN","SCMCDDR",90,0)
 . N HD,PARAM,B,C,TEXT,TXTCNT,D,FILE,FIELD,IENS,%
"RTN","SCMCDDR",91,0)
 . S HD=SCERR("DIERR",A)
"RTN","SCMCDDR",92,0)
 . I $D(SCERR("DIERR",A,"PARAM",0)) D
"RTN","SCMCDDR",93,0)
 . . S (B,D)=0 F C=1:1 S B=$O(SCERR("DIERR",A,"PARAM",B)) Q:B=""  D
"RTN","SCMCDDR",94,0)
 . . . I B="FILE" S FILE=SCERR("DIERR",A,"PARAM","FILE")
"RTN","SCMCDDR",95,0)
 . . . I B="FIELD" S FIELD=SCERR("DIERR",A,"PARAM","FIELD")
"RTN","SCMCDDR",96,0)
 . . . I B="IENS" S IENS=SCERR("DIERR",A,"PARAM","IENS")
"RTN","SCMCDDR",97,0)
 . . . S D=D+1,PARAM(D)=B_U_SCERR("DIERR",A,"PARAM",B)
"RTN","SCMCDDR",98,0)
 . S C=0 F  S C=$O(SCERR("DIERR",A,"TEXT",C)) Q:'C  S TEXT(C)=SCERR("DIERR",A,"TEXT",C),TXTCNT=C
"RTN","SCMCDDR",99,0)
 . S HD=HD_U_TXTCNT_U_$G(FILE)_U_$G(IENS)_U_$G(FIELD)_U_$G(D) D Z(HD)
"RTN","SCMCDDR",100,0)
 . S B=0 F  S B=$O(PARAM(B)) Q:'B  S %=PARAM(B) D Z(%)
"RTN","SCMCDDR",101,0)
 . S B=0 F  S B=$O(TEXT(B)) Q:'B  S %=TEXT(B) D Z(%)
"RTN","SCMCDDR",102,0)
 . Q
"RTN","SCMCDDR",103,0)
 D Z("[END_diERRORS]")
"RTN","SCMCDDR",104,0)
 Q
"RTN","SCMCDDR",105,0)
Z(%) ;
"RTN","SCMCDDR",106,0)
 S ^TMP("DILIST",$J,"ZERR",I)=%,I=I+1
"RTN","SCMCDDR",107,0)
 Q
"RTN","SCMCDDR",108,0)
 ;
"RTN","SCMCDDR",109,0)
UNPACKED ;
"RTN","SCMCDDR",110,0)
 Q:'$D(^TMP("DILIST",$J))
"RTN","SCMCDDR",111,0)
 N COUNT,IXCNT
"RTN","SCMCDDR",112,0)
 S COUNT=+^TMP("DILIST",$J,0) Q:'COUNT
"RTN","SCMCDDR",113,0)
 I XWBAPVER>1 S ^TMP("DILIST",$J,.3)="[MAP]",^TMP("DILIST",$J,.4)=^TMP("DILIST",$J,0,"MAP")
"RTN","SCMCDDR",114,0)
 K ^TMP("DILIST",$J,0)
"RTN","SCMCDDR",115,0)
 S ^TMP("DILIST",$J,.5)="[BEGIN_diDATA]"
"RTN","SCMCDDR",116,0)
 I XWBAPVER=1 D IX1
"RTN","SCMCDDR",117,0)
 D IENS,FLDS,WID,END
"RTN","SCMCDDR",118,0)
 Q
"RTN","SCMCDDR",119,0)
IX1 ;
"RTN","SCMCDDR",120,0)
 I SCOPT["IX",$D(^TMP("DILIST",$J,1)) D
"RTN","SCMCDDR",121,0)
 . S ^TMP("DILIST",$J,1,COUNT+1)="END_IXVALUES" D  S ^(.1)="BEGIN_IXVALUES",^(.2)=IXCNT
"RTN","SCMCDDR",122,0)
 . . N Z S Z=0,IXCNT=0 I $G(^TMP("DILIST",$J,1,1))]"" S IXCNT=1 Q
"RTN","SCMCDDR",123,0)
 . . F  S Z=$O(^TMP("DILIST",$J,1,1,Z)) Q:'Z  S IXCNT=IXCNT+1
"RTN","SCMCDDR",124,0)
 I SCOPT'["IX" K ^TMP("DILIST",$J,1)
"RTN","SCMCDDR",125,0)
 Q
"RTN","SCMCDDR",126,0)
IENS ;
"RTN","SCMCDDR",127,0)
 I $D(^TMP("DILIST",$J,2)) D
"RTN","SCMCDDR",128,0)
 .  S ^TMP("DILIST",$J,2,.1)="BEGIN_IENs",^(COUNT+1)="END_IENs"
"RTN","SCMCDDR",129,0)
 Q
"RTN","SCMCDDR",130,0)
FLDS ;
"RTN","SCMCDDR",131,0)
 I SCFLDS]"",$D(^TMP("DILIST",$J,"ID")) D
"RTN","SCMCDDR",132,0)
 . N Z,FLD,FLDCNT S FLD="",(Z,FLDCNT,I)=0
"RTN","SCMCDDR",133,0)
 . ;I XWBAPVER>1,SCFLDS["IX" D
"RTN","SCMCDDR",134,0)
 . ;. F  S I=$O(^TMP("DILIST",$J,"ID",1,0,I)) Q:'I  S IXCNT=IXCNT+1
"RTN","SCMCDDR",135,0)
 . ;. S ^TMP("DILIST",$J,"ID",0,0)="IXCNT="_IXCNT Q
"RTN","SCMCDDR",136,0)
 . F  S Z=$O(^TMP("DILIST",$J,"ID",1,Z)) Q:'Z   S FLD=FLD_Z_";",FLDCNT=FLDCNT+1
"RTN","SCMCDDR",137,0)
 . Q:'FLDCNT
"RTN","SCMCDDR",138,0)
 . S ^TMP("DILIST",$J,"ID",0)="BEGIN_IDVALUES"
"RTN","SCMCDDR",139,0)
 . I XWBAPVER=1 S ^TMP("DILIST",$J,"ID",.1)=FLD_U_FLDCNT
"RTN","SCMCDDR",140,0)
 . S ^TMP("DILIST",$J,"ID",COUNT+1)="END_IDVALUES"
"RTN","SCMCDDR",141,0)
 E  D
"RTN","SCMCDDR",142,0)
 . N Z S Z=0 F  S Z=$O(^TMP("DILIST",$J,"ID",Z)) Q:'Z  K ^TMP("DILIST",$J,"ID",Z)
"RTN","SCMCDDR",143,0)
 Q
"RTN","SCMCDDR",144,0)
WID ;
"RTN","SCMCDDR",145,0)
 I (SCOPT["WID")!(SCFLDS["WID"),$D(^TMP("DILIST",$J,"ID","WRITE")) D
"RTN","SCMCDDR",146,0)
 . N Z,N,I,IEN,WIDCNT S (N,I)=0
"RTN","SCMCDDR",147,0)
 . M Z=^TMP("DILIST",$J,"ID","WRITE") K ^TMP("DILIST",$J,"ID","WRITE")
"RTN","SCMCDDR",148,0)
 . S ^TMP("DILIST",$J,"ID","WID",0)="BEGIN_WIDVALUES",N=N+1
"RTN","SCMCDDR",149,0)
 . F  S I=$O(Z(I)) Q:'I  S IEN=$G(^TMP("DILIST",$J,2,I)) D
"RTN","SCMCDDR",150,0)
 . . N J S (J,WIDCNT)=0 F  S J=$O(Z(I,J)) Q:'J  S WIDCNT=WIDCNT+1
"RTN","SCMCDDR",151,0)
 . . S ^TMP("DILIST",$J,"ID","WID",N)="WID"_U_IEN_U_WIDCNT,N=N+1
"RTN","SCMCDDR",152,0)
 . . N J S J=0 F J=1:1:WIDCNT S ^TMP("DILIST",$J,"ID","WID",N)=Z(I,J),N=N+1
"RTN","SCMCDDR",153,0)
 . S ^TMP("DILIST",$J,"ID","WID",N)="END_WIDVALUES"
"RTN","SCMCDDR",154,0)
 I (SCOPT'["WID")&(SCFLDS'["WID") K ^TMP("DILIST",$J,"ID","WRITE")
"RTN","SCMCDDR",155,0)
 Q
"RTN","SCMCDDR",156,0)
END ;
"RTN","SCMCDDR",157,0)
 S ^TMP("DILIST",$J,"IDZ")="[END_diDATA]"
"RTN","SCMCDDR",158,0)
 Q
"RTN","SCMCDDR0")
0^15^B16319343
"RTN","SCMCDDR0",1,0)
SCMCDDR0 ;ALB/ART - FileMan FIND^DIC DBS Call for PCMM Web RPCs ;01/22/2014
"RTN","SCMCDDR0",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SCMCDDR0",3,0)
 ;
"RTN","SCMCDDR0",4,0)
 ;This routine was copied from DDR0.  PCMM/R needs a new RPC that has .11 APP PROXY ALLOWED set to Yes
"RTN","SCMCDDR0",5,0)
 ;
"RTN","SCMCDDR0",6,0)
 ;Public, Supported ICRs
"RTN","SCMCDDR0",7,0)
 ; #2051 - Database Server API: Lookup Utilities (DIC)
"RTN","SCMCDDR0",8,0)
 ;
"RTN","SCMCDDR0",9,0)
 ;DDR0 ;SF/DCM-FileMan Delphi Components' RPCs ;4/28/98  10:52
"RTN","SCMCDDR0",10,0)
 ;;22.0;VA FileMan;;Mar 30, 1999
"RTN","SCMCDDR0",11,0)
 ;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","SCMCDDR0",12,0)
 ;
"RTN","SCMCDDR0",13,0)
 QUIT
"RTN","SCMCDDR0",14,0)
 ;
"RTN","SCMCDDR0",15,0)
FINDC(SCDATA,SC) ; -- broker callback to get list data
"RTN","SCMCDDR0",16,0)
 N SCFILE,SCIENS,SCFLDS,SCFLAGS,SCVAL,SCMAX,SCXREF,SCSCRN,SCID,SCROOT,SCERR,SCRSLT,SCOPT,SCOUT,DIERR
"RTN","SCMCDDR0",17,0)
 ; -- parse array to parameters
"RTN","SCMCDDR0",18,0)
 D PARSE(.SC)
"RTN","SCMCDDR0",19,0)
 S SCOUT=""
"RTN","SCMCDDR0",20,0)
 D FIND^DIC(SCFILE,SCIENS,SCFLDS,SCFLAGS,SCVAL,SCMAX,SCXREF,SCSCRN,SCID,SCOUT,"SCERR")
"RTN","SCMCDDR0",21,0)
 I $G(SCFLAGS)["P" D
"RTN","SCMCDDR0",22,0)
 . Q:'$D(^TMP("DILIST",$J))
"RTN","SCMCDDR0",23,0)
 . N COUNT S COUNT=^TMP("DILIST",$J,0) Q:'COUNT  D 1
"RTN","SCMCDDR0",24,0)
 . I XWBAPVER>1 S ^(.3)="[MAP]",^TMP("DILIST",$J,.4)=^TMP("DILIST",$J,0,"MAP")
"RTN","SCMCDDR0",25,0)
 . K ^TMP("DILIST",$J,0) S ^(.5)="[BEGIN_diDATA]",^(COUNT+1)="[END_diDATA]"
"RTN","SCMCDDR0",26,0)
 . Q
"RTN","SCMCDDR0",27,0)
 I $G(SCFLAGS)'["P" D
"RTN","SCMCDDR0",28,0)
 . Q:'$D(^TMP("DILIST",$J))
"RTN","SCMCDDR0",29,0)
 . N COUNT S COUNT=^TMP("DILIST",$J,0) Q:'COUNT
"RTN","SCMCDDR0",30,0)
 . D 1,UNPACKED
"RTN","SCMCDDR0",31,0)
 . Q
"RTN","SCMCDDR0",32,0)
 D 3,4
"RTN","SCMCDDR0",33,0)
 Q
"RTN","SCMCDDR0",34,0)
1 Q:'$P(COUNT,U,3)
"RTN","SCMCDDR0",35,0)
 S ^TMP("DILIST",$J,.1)="[Misc]",^(.2)="MORE"
"RTN","SCMCDDR0",36,0)
 Q
"RTN","SCMCDDR0",37,0)
3 I $D(DIERR) D ERROR
"RTN","SCMCDDR0",38,0)
 Q
"RTN","SCMCDDR0",39,0)
4 S SCDATA=$NA(^TMP("DILIST",$J))
"RTN","SCMCDDR0",40,0)
 Q
"RTN","SCMCDDR0",41,0)
PARSE(SC) ; -- array parsing
"RTN","SCMCDDR0",42,0)
 S SCFILE=$G(SC("FILE"))
"RTN","SCMCDDR0",43,0)
 S SCIENS=$G(SC("IENS"))
"RTN","SCMCDDR0",44,0)
 S SCFLDS=$G(SC("FIELDS"))
"RTN","SCMCDDR0",45,0)
 S SCFLAGS=$G(SC("FLAGS"))
"RTN","SCMCDDR0",46,0)
 S SCMAX=$G(SC("MAX"),"*")
"RTN","SCMCDDR0",47,0)
 S SCVAL=$G(SC("VALUE"))
"RTN","SCMCDDR0",48,0)
 S SCXREF=$G(SC("XREF"))
"RTN","SCMCDDR0",49,0)
 S SCSCRN=$G(SC("SCREEN"))
"RTN","SCMCDDR0",50,0)
 S SCID=$G(SC("ID"))
"RTN","SCMCDDR0",51,0)
 S SCROOT=$G(SC("ROOT"))
"RTN","SCMCDDR0",52,0)
 S SCOPT=$G(SC("OPTIONS"))
"RTN","SCMCDDR0",53,0)
 Q
"RTN","SCMCDDR0",54,0)
ERROR ;
"RTN","SCMCDDR0",55,0)
 N I S I=1
"RTN","SCMCDDR0",56,0)
 D Z("[BEGIN_diERRORS]")
"RTN","SCMCDDR0",57,0)
 N A S A=0 F  S A=$O(SCERR("DIERR",A)) Q:'A  D
"RTN","SCMCDDR0",58,0)
 . N HD,PARAM,B,C,TEXT,TXTCNT,D,FILE,FIELD,IENS,%
"RTN","SCMCDDR0",59,0)
 . S HD=SCERR("DIERR",A)
"RTN","SCMCDDR0",60,0)
 . I $D(SCERR("DIERR",A,"PARAM",0)) D
"RTN","SCMCDDR0",61,0)
 . . S (B,D)=0 F C=1:1 S B=$O(SCERR("DIERR",A,"PARAM",B)) Q:B=""  D
"RTN","SCMCDDR0",62,0)
 . . . I B="FILE" S FILE=SCERR("DIERR",A,"PARAM","FILE")
"RTN","SCMCDDR0",63,0)
 . . . I B="FIELD" S FIELD=SCERR("DIERR",A,"PARAM","FIELD")
"RTN","SCMCDDR0",64,0)
 . . . I B="IENS" S IENS=SCERR("DIERR",A,"PARAM","IENS")
"RTN","SCMCDDR0",65,0)
 . . . S D=D+1,PARAM(D)=B_U_SCERR("DIERR",A,"PARAM",B)
"RTN","SCMCDDR0",66,0)
 . S C=0 F  S C=$O(SCERR("DIERR",A,"TEXT",C)) Q:'C  S TEXT(C)=SCERR("DIERR",A,"TEXT",C),TXTCNT=C
"RTN","SCMCDDR0",67,0)
 . S HD=HD_U_TXTCNT_U_$G(FILE)_U_$G(IENS)_U_$G(FIELD)_U_$G(D) D Z(HD)
"RTN","SCMCDDR0",68,0)
 . S B=0 F  S B=$O(PARAM(B)) Q:'B  S %=PARAM(B) D Z(%)
"RTN","SCMCDDR0",69,0)
 . S B=0 F  S B=$O(TEXT(B)) Q:'B  S %=TEXT(B) D Z(%)
"RTN","SCMCDDR0",70,0)
 . Q
"RTN","SCMCDDR0",71,0)
 D Z("[END_diERRORS]")
"RTN","SCMCDDR0",72,0)
 Q
"RTN","SCMCDDR0",73,0)
Z(%) ;
"RTN","SCMCDDR0",74,0)
 S ^TMP("DILIST",$J,"ZERR",I)=%,I=I+1
"RTN","SCMCDDR0",75,0)
 Q
"RTN","SCMCDDR0",76,0)
UNPACKED ;
"RTN","SCMCDDR0",77,0)
 K ^TMP("DILIST",$J,0)
"RTN","SCMCDDR0",78,0)
 S ^TMP("DILIST",$J,.5)="[BEGIN_diDATA]" K ^TMP("DILIST",$J,1)
"RTN","SCMCDDR0",79,0)
 S ^TMP("DILIST",$J,2,.1)="BEGIN_IENs",^(COUNT+1)="END_IENs"
"RTN","SCMCDDR0",80,0)
 I SCFLDS]"",$D(^TMP("DILIST",$J,"ID")) D
"RTN","SCMCDDR0",81,0)
 . N Z,FLD,FLDCNT S Z=0,FLD="",FLDCNT=0
"RTN","SCMCDDR0",82,0)
 . F  S Z=$O(^TMP("DILIST",$J,"ID",1,Z)) Q:'Z   S FLD=FLD_Z_";",FLDCNT=FLDCNT+1
"RTN","SCMCDDR0",83,0)
 . Q:'FLDCNT
"RTN","SCMCDDR0",84,0)
 . S ^TMP("DILIST",$J,"ID",0)="BEGIN_IDVALUES",^(.1)=FLD_U_FLDCNT,^(COUNT+1)="END_IDVALUES"
"RTN","SCMCDDR0",85,0)
 E  D
"RTN","SCMCDDR0",86,0)
 . N Z S Z=0 F  S Z=$O(^TMP("DILIST",$J,"ID",Z)) Q:'Z  K ^TMP("DILIST",$J,"ID",Z)
"RTN","SCMCDDR0",87,0)
 I $G(SCOPT)["WID",$D(^TMP("DILIST",$J,"ID","WRITE")) D
"RTN","SCMCDDR0",88,0)
 . N Z,N,I,IEN,WIDCNT S (N,I)=0
"RTN","SCMCDDR0",89,0)
 . M Z=^TMP("DILIST",$J,"ID","WRITE") K ^TMP("DILIST",$J,"ID","WRITE")
"RTN","SCMCDDR0",90,0)
 . S ^TMP("DILIST",$J,"ID","WID",0)="BEGIN_WIDVALUES",N=N+1
"RTN","SCMCDDR0",91,0)
 . F  S I=$O(Z(I)) Q:'I  S IEN=$G(^TMP("DILIST",$J,2,I)) D
"RTN","SCMCDDR0",92,0)
 . . N J S (J,WIDCNT)=0 F  S J=$O(Z(I,J)) Q:'J  S WIDCNT=WIDCNT+1
"RTN","SCMCDDR0",93,0)
 . . S ^TMP("DILIST",$J,"ID","WID",N)="WID"_U_IEN_U_WIDCNT,N=N+1
"RTN","SCMCDDR0",94,0)
 . . N J S J=0 F J=1:1:WIDCNT S ^TMP("DILIST",$J,"ID","WID",N)=Z(I,J),N=N+1
"RTN","SCMCDDR0",95,0)
 . S ^TMP("DILIST",$J,"ID","WID",N)="END_WIDVALUES"
"RTN","SCMCDDR0",96,0)
 I $G(SCOPT)'["WID" K ^TMP("DILIST",$J,"ID","WRITE")
"RTN","SCMCDDR0",97,0)
 S ^TMP("DILIST",$J,"IDZ")="[END_diDATA]"
"RTN","SCMCDDR0",98,0)
 Q
"RTN","SCMCDDR2")
0^16^B24257447
"RTN","SCMCDDR2",1,0)
SCMCDDR2 ;ALB/ART - FileMan FIND1^DIC and GETS^DIQ DBS Call for PCMM Web RPCs ;02/04/2015
"RTN","SCMCDDR2",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SCMCDDR2",3,0)
 ;
"RTN","SCMCDDR2",4,0)
 ;This routine was copied from DDR2.
"RTN","SCMCDDR2",5,0)
 ;PCMM Web needs a new RPC that has .11 APP PROXY ALLOWED set to Yes
"RTN","SCMCDDR2",6,0)
 ;
"RTN","SCMCDDR2",7,0)
 ;DDR2 ;ALB/MJK-FileMan Delphi Components' RPCs ;4/20/98  11:38
"RTN","SCMCDDR2",8,0)
 ;;22.0;VA FileMan;;Mar 30, 1999
"RTN","SCMCDDR2",9,0)
 ;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","SCMCDDR2",10,0)
 ;
"RTN","SCMCDDR2",11,0)
 ;Public, Supported ICRs
"RTN","SCMCDDR2",12,0)
 ; #2051 - Database Server API: Lookup Utilities (DIC)
"RTN","SCMCDDR2",13,0)
 ; #2053 - Data Base Server API: Editing Utilities (DIE)
"RTN","SCMCDDR2",14,0)
 ; #2055 - Data Base Server API: Misc. Data Libaray Functions (DILFD)
"RTN","SCMCDDR2",15,0)
 ; #2056 - Data Base Server API: Data Retriever Utilities (DIQ)
"RTN","SCMCDDR2",16,0)
 ; #10154 - DESCRIPTOR BLOCK - ^DD
"RTN","SCMCDDR2",17,0)
 ;
"RTN","SCMCDDR2",18,0)
 QUIT
"RTN","SCMCDDR2",19,0)
 ;
"RTN","SCMCDDR2",20,0)
FIND1C(SCDATA,SC) ; DDR FIND1 rpc callback
"RTN","SCMCDDR2",21,0)
 N SCFILE,SCIENS,SCFLAGS,SCVAL,SCXREF,SCSCRN,SCERR,A,IEN,N,DIERR
"RTN","SCMCDDR2",22,0)
 D PARSE(.SC) S SCVAL=$G(SC("VALUE"))
"RTN","SCMCDDR2",23,0)
 S A=$$FIND1^DIC(SCFILE,SCIENS,SCFLAGS,SCVAL,SCXREF,SCSCRN,"SCERR")
"RTN","SCMCDDR2",24,0)
 S A=$S($G(DIERR):"",1:A)
"RTN","SCMCDDR2",25,0)
 S N=0 D SET(A)
"RTN","SCMCDDR2",26,0)
 I $G(DIERR) D ERROR Q
"RTN","SCMCDDR2",27,0)
 I $G(SCOPT)["R" S IEN=$S($G(SCIENS)]"":A_SCIENS,1:A_",") D RECALL^DILFD(SCFILE,IEN,DUZ)
"RTN","SCMCDDR2",28,0)
 Q
"RTN","SCMCDDR2",29,0)
 ;
"RTN","SCMCDDR2",30,0)
GETSC(SCDATA,SC) ; DDR GETS ENTRY DATA rpc callback
"RTN","SCMCDDR2",31,0)
 N SCFILE,SCIENS,SCFLDS,SCFLAGS,SCOPT,SCRSLT,SCERR
"RTN","SCMCDDR2",32,0)
 N SCXREF,SCSCRN,N
"RTN","SCMCDDR2",33,0)
 D PARSE(.SC)
"RTN","SCMCDDR2",34,0)
 D GETS^DIQ(SCFILE,SCIENS,SCFLDS,SCFLAGS,"SCRSLT","SCERR")
"RTN","SCMCDDR2",35,0)
 S N=0
"RTN","SCMCDDR2",36,0)
 I '$D(SCOPT) D 1,2 Q
"RTN","SCMCDDR2",37,0)
 I $G(SCOPT)["U" D 11,21
"RTN","SCMCDDR2",38,0)
 I $G(SCOPT)["?" D HLP
"RTN","SCMCDDR2",39,0)
 Q
"RTN","SCMCDDR2",40,0)
 ;
"RTN","SCMCDDR2",41,0)
1 ;
"RTN","SCMCDDR2",42,0)
 I $D(SCRSLT) D
"RTN","SCMCDDR2",43,0)
 . N SCFIELD,X,J
"RTN","SCMCDDR2",44,0)
 . D SET("[Data]")
"RTN","SCMCDDR2",45,0)
 . S SCFIELD=0 F  S SCFIELD=$O(SCRSLT(SCFILE,SCIENS,SCFIELD)) Q:'SCFIELD  D
"RTN","SCMCDDR2",46,0)
 . . ;Do not remove stripping of ',' from IENS in line below if this code should work with T11 (21.1T1) of FM components.
"RTN","SCMCDDR2",47,0)
 . . S X=SCFILE_"^"_$E(SCIENS,1,$L(SCIENS)-1)_"^"_SCFIELD_"^"
"RTN","SCMCDDR2",48,0)
 . . I $P($G(^DD(+$P($G(^DD(SCFILE,SCFIELD,0)),U,2),.01,0)),U,2)["W" D
"RTN","SCMCDDR2",49,0)
 . . . D SET(X_"[WORD PROCESSING]")
"RTN","SCMCDDR2",50,0)
 . . . S J=0 F  S J=$O(SCRSLT(SCFILE,SCIENS,SCFIELD,J)) Q:'J  D
"RTN","SCMCDDR2",51,0)
 . . . . D SET(SCRSLT(SCFILE,SCIENS,SCFIELD,J))
"RTN","SCMCDDR2",52,0)
 . . . D SET("$$END$$")
"RTN","SCMCDDR2",53,0)
 . . E  D
"RTN","SCMCDDR2",54,0)
 . . . D SET(X_$G(SCRSLT(SCFILE,SCIENS,SCFIELD,"I"))_"^"_$G(SCRSLT(SCFILE,SCIENS,SCFIELD,"E")))
"RTN","SCMCDDR2",55,0)
 Q
"RTN","SCMCDDR2",56,0)
 ;
"RTN","SCMCDDR2",57,0)
11 ;
"RTN","SCMCDDR2",58,0)
 N HD,I,E,B,J,K
"RTN","SCMCDDR2",59,0)
 D SET("[BEGIN_diDATA]")
"RTN","SCMCDDR2",60,0)
 S HD=SCFILE_U_$E(SCIENS,1,$L(SCIENS)-1)
"RTN","SCMCDDR2",61,0)
 S I=SCFLAGS["I",E=SCFLAGS["E",B=(I&E)
"RTN","SCMCDDR2",62,0)
 S SCFIELD=0 F  S SCFIELD=$O(SCRSLT(SCFILE,SCIENS,SCFIELD)) Q:'SCFIELD  D
"RTN","SCMCDDR2",63,0)
 . I $P($G(^DD(+$P($G(^DD(SCFILE,SCFIELD,0)),U,2),.01,0)),U,2)["W" D  Q
"RTN","SCMCDDR2",64,0)
 . . S (K,J)=0 F  S K=$O(SCRSLT(SCFILE,SCIENS,SCFIELD,K)) Q:'K  S J=J+1
"RTN","SCMCDDR2",65,0)
 . . D SET(HD_U_SCFIELD_U_"W"_U_J)
"RTN","SCMCDDR2",66,0)
 . . S J=0  F  S J=$O(SCRSLT(SCFILE,SCIENS,SCFIELD,J)) Q:'J  D SET(SCRSLT(SCFILE,SCIENS,SCFIELD,J))
"RTN","SCMCDDR2",67,0)
 . . Q
"RTN","SCMCDDR2",68,0)
 . S FLG=$S(B:"B",I:"I",1:"E")
"RTN","SCMCDDR2",69,0)
 . D SET(HD_U_SCFIELD_U_FLG)
"RTN","SCMCDDR2",70,0)
 . I B D SET(SCRSLT(SCFILE,SCIENS,SCFIELD,"E")),SET(SCRSLT(SCFILE,SCIENS,SCFIELD,"I")) Q
"RTN","SCMCDDR2",71,0)
 . I E D SET(SCRSLT(SCFILE,SCIENS,SCFIELD,"E")) Q
"RTN","SCMCDDR2",72,0)
 . I I D SET(SCRSLT(SCFILE,SCIENS,SCFIELD,"I")) Q
"RTN","SCMCDDR2",73,0)
 D SET("[END_diDATA]")
"RTN","SCMCDDR2",74,0)
 Q
"RTN","SCMCDDR2",75,0)
 ;
"RTN","SCMCDDR2",76,0)
2 ;
"RTN","SCMCDDR2",77,0)
 IF $D(SCERR) D SET("[ERROR]")
"RTN","SCMCDDR2",78,0)
 Q
"RTN","SCMCDDR2",79,0)
 ;
"RTN","SCMCDDR2",80,0)
21 ;
"RTN","SCMCDDR2",81,0)
 I $D(DIERR) D ERROR
"RTN","SCMCDDR2",82,0)
 Q
"RTN","SCMCDDR2",83,0)
 ;
"RTN","SCMCDDR2",84,0)
SET(X) ;
"RTN","SCMCDDR2",85,0)
 S N=N+1
"RTN","SCMCDDR2",86,0)
 S SCDATA(N)=X
"RTN","SCMCDDR2",87,0)
 Q
"RTN","SCMCDDR2",88,0)
 ;
"RTN","SCMCDDR2",89,0)
HLP ;
"RTN","SCMCDDR2",90,0)
 N FLD,FLG,Z,%
"RTN","SCMCDDR2",91,0)
 S FLD=0,FLG="?"
"RTN","SCMCDDR2",92,0)
 D SET("[BEGIN_diHELP]")
"RTN","SCMCDDR2",93,0)
 F Z=1:1 S FLD=+$P(SCFLDS,";",Z) Q:'FLD  D HELP(SCFILE,SCIENS,FLD,FLG)
"RTN","SCMCDDR2",94,0)
 D SET("[END_diHELP]")
"RTN","SCMCDDR2",95,0)
 Q
"RTN","SCMCDDR2",96,0)
 ;
"RTN","SCMCDDR2",97,0)
GETHLPC(SCDATA,SC) ; SC GET DD HELP rpc callback
"RTN","SCMCDDR2",98,0)
 N SCFILE,SCFIELD,SCFLGS,N
"RTN","SCMCDDR2",99,0)
 S SCFILE=$G(SC("FILE"))
"RTN","SCMCDDR2",100,0)
 S SCFIELD=$G(SC("FIELD"))
"RTN","SCMCDDR2",101,0)
 S SCFLGS=$G(SC("FLAGS"))
"RTN","SCMCDDR2",102,0)
 S N=0
"RTN","SCMCDDR2",103,0)
 D SET("[BEGIN_diHELP]")
"RTN","SCMCDDR2",104,0)
 D HELP(SCFILE,"",SCFIELD,SCFLGS)
"RTN","SCMCDDR2",105,0)
 D SET("[END_diHELP]")
"RTN","SCMCDDR2",106,0)
 Q
"RTN","SCMCDDR2",107,0)
 ;
"RTN","SCMCDDR2",108,0)
HELP(FILE,IENS,FIELD,FLGS) ;
"RTN","SCMCDDR2",109,0)
 N SCHLP,HD,A
"RTN","SCMCDDR2",110,0)
 D HELP^DIE(FILE,IENS,FIELD,FLGS,"SCHLP")
"RTN","SCMCDDR2",111,0)
 Q:'$D(SCHLP("DIHELP"))
"RTN","SCMCDDR2",112,0)
 S HD=FILE_U_FIELD_U_"?"_U_SCHLP("DIHELP") D SET(HD)
"RTN","SCMCDDR2",113,0)
 S A=0 F  S A=$O(SCHLP("DIHELP",A)) Q:'A   D SET(SCHLP("DIHELP",A))
"RTN","SCMCDDR2",114,0)
 Q
"RTN","SCMCDDR2",115,0)
 ;
"RTN","SCMCDDR2",116,0)
ERROR ;
"RTN","SCMCDDR2",117,0)
 D SET("[BEGIN_diERRORS]")
"RTN","SCMCDDR2",118,0)
 N A S A=0 F  S A=$O(SCERR("DIERR",A)) Q:'A  D
"RTN","SCMCDDR2",119,0)
 . N HD,PARAM,B,C,TEXT,TXTCNT,D,FILE,FIELD,IENS,%
"RTN","SCMCDDR2",120,0)
 . S HD=SCERR("DIERR",A)
"RTN","SCMCDDR2",121,0)
 . I $D(SCERR("DIERR",A,"PARAM",0)) D
"RTN","SCMCDDR2",122,0)
 . . S (B,D)=0 F C=1:1 S B=$O(SCERR("DIERR",A,"PARAM",B)) Q:B=""  D
"RTN","SCMCDDR2",123,0)
 . . . I B="FILE" S FILE=SCERR("DIERR",A,"PARAM","FILE")
"RTN","SCMCDDR2",124,0)
 . . . I B="FIELD" S FIELD=SCERR("DIERR",A,"PARAM","FIELD")
"RTN","SCMCDDR2",125,0)
 . . . I B="IENS" S IENS=SCERR("DIERR",A,"PARAM","IENS")
"RTN","SCMCDDR2",126,0)
 . . . S D=D+1,PARAM(D)=B_U_SCERR("DIERR",A,"PARAM",B)
"RTN","SCMCDDR2",127,0)
 . S C=0 F  S C=$O(SCERR("DIERR",A,"TEXT",C)) Q:'C  S TEXT(C)=SCERR("DIERR",A,"TEXT",C),TXTCNT=C
"RTN","SCMCDDR2",128,0)
 . S HD=HD_U_TXTCNT_U_$G(FILE)_U_$G(IENS)_U_$G(FIELD)_U_$G(D) D SET(HD)
"RTN","SCMCDDR2",129,0)
 . S B=0 F  S B=$O(PARAM(B)) Q:'B  S %=PARAM(B) D SET(%)
"RTN","SCMCDDR2",130,0)
 . S B=0 F  S B=$O(TEXT(B)) Q:'B  S %=TEXT(B) D SET(%)
"RTN","SCMCDDR2",131,0)
 . Q
"RTN","SCMCDDR2",132,0)
 D SET("[END_diERRORS]")
"RTN","SCMCDDR2",133,0)
 Q
"RTN","SCMCDDR2",134,0)
 ;
"RTN","SCMCDDR2",135,0)
PARSE(SC) ;
"RTN","SCMCDDR2",136,0)
 S SCFILE=$G(SC("FILE"))
"RTN","SCMCDDR2",137,0)
 S SCIENS=$G(SC("IENS"))
"RTN","SCMCDDR2",138,0)
 S SCFLDS=$G(SC("FIELDS"))
"RTN","SCMCDDR2",139,0)
 S SCFLAGS=$G(SC("FLAGS"))
"RTN","SCMCDDR2",140,0)
 S SCXREF=$G(SC("XREF"))
"RTN","SCMCDDR2",141,0)
 S SCSCRN=$G(SC("SCREEN"))
"RTN","SCMCDDR2",142,0)
 S:$D(SC("OPTIONS")) SCOPT=SC("OPTIONS")
"RTN","SCMCDDR2",143,0)
 Q
"RTN","SCMCDDR2",144,0)
 ;
"RTN","SCMCDDR3")
0^17^B6820328
"RTN","SCMCDDR3",1,0)
SCMCDDR3 ;ALB/ART - FileMan FILE^DIC and UPDATE^DIC DBS Calls for PCMM Web RPCs ;02/04/2015
"RTN","SCMCDDR3",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SCMCDDR3",3,0)
 ;
"RTN","SCMCDDR3",4,0)
 ;This routine was copied from DDR3.
"RTN","SCMCDDR3",5,0)
 ;PCMM Web needs a new RPC that has .11 APP PROXY ALLOWED set to Yes
"RTN","SCMCDDR3",6,0)
 ;
"RTN","SCMCDDR3",7,0)
 ;DDR3 ;ALB/MJK,SF/DCM-FileMan Delphi Components' RPCs ;2/24/98  10:01
"RTN","SCMCDDR3",8,0)
 ;;22.0;VA FileMan;;Mar 30, 1999
"RTN","SCMCDDR3",9,0)
 ;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","SCMCDDR3",10,0)
 ;
"RTN","SCMCDDR3",11,0)
 ;Public, Supported ICRs
"RTN","SCMCDDR3",12,0)
 ; #2053 - Data Base Server API: Editing Utilities (DIE)
"RTN","SCMCDDR3",13,0)
 ; #2054 - Data Base Server API: Misc. Library Functions (DILF)
"RTN","SCMCDDR3",14,0)
 ;
"RTN","SCMCDDR3",15,0)
 QUIT
"RTN","SCMCDDR3",16,0)
 ;
"RTN","SCMCDDR3",17,0)
FILEC(SCDATA,SCMODE,SCROOT,SCFLAGS,SCIENS) ;  DDR FILER rpc callback
"RTN","SCMCDDR3",18,0)
 N SCRTN,SCFDA,SCERR,N,I
"RTN","SCMCDDR3",19,0)
 D FDASET(.SCROOT,.SCFDA)
"RTN","SCMCDDR3",20,0)
 ; -- set up placeholder DINUM's if any
"RTN","SCMCDDR3",21,0)
 ; -- NOTE:  Can't use until multiple arrays can be passed by broker
"RTN","SCMCDDR3",22,0)
 I $D(SCROOT("IENs")) M SCIENS=SCROOT("IENs")
"RTN","SCMCDDR3",23,0)
 S I="" F  S I=$O(SCIENS(I)) Q:I=""  S SCRTN(+I)=+SCIENS(I)
"RTN","SCMCDDR3",24,0)
 IF SCMODE="ADD" D
"RTN","SCMCDDR3",25,0)
 . D UPDATE^DIE("","SCFDA","SCRTN","SCERR")
"RTN","SCMCDDR3",26,0)
 ELSE  D
"RTN","SCMCDDR3",27,0)
 . S SCFLAGS=$S($D(SCFLAGS):SCFLAGS,1:"")
"RTN","SCMCDDR3",28,0)
 . D FILE^DIE(SCFLAGS,"SCFDA","SCERR")
"RTN","SCMCDDR3",29,0)
 S N=0
"RTN","SCMCDDR3",30,0)
 D SET("[Data]")
"RTN","SCMCDDR3",31,0)
 ; -- send back info on entry #'s for placeholders
"RTN","SCMCDDR3",32,0)
 S I=0 F  S I=$O(SCRTN(I)) Q:'I  D SET("+"_I_","_U_SCRTN(I))
"RTN","SCMCDDR3",33,0)
 IF $D(SCERR) D ERROR
"RTN","SCMCDDR3",34,0)
 Q
"RTN","SCMCDDR3",35,0)
 ;
"RTN","SCMCDDR3",36,0)
FDASET(SCROOT,SCFDA) ;
"RTN","SCMCDDR3",37,0)
 N SCFILE,SCIEN,SCFIELD,SCVAL,SCERR,I
"RTN","SCMCDDR3",38,0)
 S I=0
"RTN","SCMCDDR3",39,0)
 F  S I=$O(SCROOT(I)) Q:'I  S X=SCROOT(I) D
"RTN","SCMCDDR3",40,0)
 . S SCFILE=$P(X,U)
"RTN","SCMCDDR3",41,0)
 . S SCFIELD=$P(X,U,2)
"RTN","SCMCDDR3",42,0)
 . S SCIEN=$P(X,U,3)
"RTN","SCMCDDR3",43,0)
 . S SCVAL=$P(X,U,4,99)
"RTN","SCMCDDR3",44,0)
 . D FDA^DILF(SCFILE,SCIEN_$S($E(SCIEN,$L(SCIEN))'=",":",",1:""),SCFIELD,"",SCVAL,"SCFDA","SCERR")
"RTN","SCMCDDR3",45,0)
 Q
"RTN","SCMCDDR3",46,0)
 ;
"RTN","SCMCDDR3",47,0)
SET(X) ;
"RTN","SCMCDDR3",48,0)
 S N=N+1
"RTN","SCMCDDR3",49,0)
 S SCDATA(N)=X
"RTN","SCMCDDR3",50,0)
 Q
"RTN","SCMCDDR3",51,0)
ERROR ;
"RTN","SCMCDDR3",52,0)
 D SET("[BEGIN_diERRORS]")
"RTN","SCMCDDR3",53,0)
 N A S A=0 F  S A=$O(SCERR("DIERR",A)) Q:'A  D
"RTN","SCMCDDR3",54,0)
 . N HD,PARAM,B,C,TEXT,TXTCNT,D,FILE,FIELD,IENS,%
"RTN","SCMCDDR3",55,0)
 . S HD=SCERR("DIERR",A)
"RTN","SCMCDDR3",56,0)
 . I $D(SCERR("DIERR",A,"PARAM",0)) D
"RTN","SCMCDDR3",57,0)
 . . S (B,D)=0 F C=1:1 S B=$O(SCERR("DIERR",A,"PARAM",B)) Q:B=""  D
"RTN","SCMCDDR3",58,0)
 . . . I B="FILE" S FILE=SCERR("DIERR",A,"PARAM","FILE")
"RTN","SCMCDDR3",59,0)
 . . . I B="FIELD" S FIELD=SCERR("DIERR",A,"PARAM","FIELD")
"RTN","SCMCDDR3",60,0)
 . . . I B="IENS" S IENS=SCERR("DIERR",A,"PARAM","IENS")
"RTN","SCMCDDR3",61,0)
 . . . S D=D+1,PARAM(D)=B_U_SCERR("DIERR",A,"PARAM",B)
"RTN","SCMCDDR3",62,0)
 . S C=0 F  S C=$O(SCERR("DIERR",A,"TEXT",C)) Q:'C  S TEXT(C)=SCERR("DIERR",A,"TEXT",C),TXTCNT=C
"RTN","SCMCDDR3",63,0)
 . S HD=HD_U_TXTCNT_U_$G(FILE)_U_$G(IENS)_U_$G(FIELD)_U_$G(D) D SET(HD)
"RTN","SCMCDDR3",64,0)
 . S B=0 F  S B=$O(PARAM(B)) Q:'B  S %=PARAM(B) D SET(%)
"RTN","SCMCDDR3",65,0)
 . S B=0 F  S B=$O(TEXT(B)) Q:'B  S %=TEXT(B) D SET(%)
"RTN","SCMCDDR3",66,0)
 . Q
"RTN","SCMCDDR3",67,0)
 D SET("[END_diERRORS]")
"RTN","SCMCDDR3",68,0)
 Q
"RTN","SCMCDDR3",69,0)
 ;
"RTN","SCMCENCT")
0^20^B28013021
"RTN","SCMCENCT",1,0)
SCMCENCT ;ALB/ART - PCMM Web RPC to Get Patient Encounters ;02/05/2015
"RTN","SCMCENCT",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SCMCENCT",3,0)
 ;
"RTN","SCMCENCT",4,0)
 QUIT
"RTN","SCMCENCT",5,0)
 ;
"RTN","SCMCENCT",6,0)
 ;Public, Supported ICRs
"RTN","SCMCENCT",7,0)
 ; #2056 - Data Base Server API: Data Retriever Utilities (DIQ)
"RTN","SCMCENCT",8,0)
 ; #10003 - Classic FileMan API: Date/Time Input & Conversion (%DT)
"RTN","SCMCENCT",9,0)
 ; #10035 - PATIENT FILE (^DPT)
"RTN","SCMCENCT",10,0)
 ; #10103 - Kernel Date functions (XLFDT)
"RTN","SCMCENCT",11,0)
 ;Subscription ICRs
"RTN","SCMCENCT",12,0)
 ; #2028 - READ ACCESS ONLY TO PCE VISIT FILE
"RTN","SCMCENCT",13,0)
 ; #2316 - DBIA2316 - V Provider (9000010.06) "AD" xref
"RTN","SCMCENCT",14,0)
 ;
"RTN","SCMCENCT",15,0)
ENCT(SCLIST,SCDFN,SCLKBK,SCLKEND) ;Get patient encounters
"RTN","SCMCENCT",16,0)
 ;Entry Point for RPC - SCMC GET PATIENT ENCOUNTERS
"RTN","SCMCENCT",17,0)
 ;Inputs: SCLIST - Array for patient encounter  info - passed by reference
"RTN","SCMCENCT",18,0)
 ;        SCDFN  - Patient DFN, if null returns all patients
"RTN","SCMCENCT",19,0)
 ;        SCLKBK - Number of days in the past to look for encounters, defaults to 30
"RTN","SCMCENCT",20,0)
 ;        SCLKEND - Number of days to end look back for encounters, defaults to 0
"RTN","SCMCENCT",21,0)
 ;Output: populated SCLIST
"RTN","SCMCENCT",22,0)
 ;
"RTN","SCMCENCT",23,0)
 NEW X,Y,%DT
"RTN","SCMCENCT",24,0)
 NEW SCDAYS,SCDAYEND,SCPASTDT,SCINDX,SCDFN1
"RTN","SCMCENCT",25,0)
 ;
"RTN","SCMCENCT",26,0)
 ;Number of days to look back for encounters
"RTN","SCMCENCT",27,0)
 SET SCDAYS=$GET(SCLKBK,30)
"RTN","SCMCENCT",28,0)
 SET SCDAYEND=$GET(SCLKEND,0)
"RTN","SCMCENCT",29,0)
 IF SCDAYEND'<SCDAYS DO  QUIT
"RTN","SCMCENCT",30,0)
 . SET ^TMP("SCMCENCT",$J,1)="-1^End Days must be less than Number of Days."
"RTN","SCMCENCT",31,0)
 ;
"RTN","SCMCENCT",32,0)
 ;begin date: today-SCDAYS days
"RTN","SCMCENCT",33,0)
 SET %DT=""
"RTN","SCMCENCT",34,0)
 SET X="T-"_SCDAYS
"RTN","SCMCENCT",35,0)
 DO ^%DT
"RTN","SCMCENCT",36,0)
 SET SCPASTDT=+Y
"RTN","SCMCENCT",37,0)
 ;end date: today
"RTN","SCMCENCT",38,0)
 IF SCDAYEND=0 DO
"RTN","SCMCENCT",39,0)
 . SET SCENDDT=DT_".235959"
"RTN","SCMCENCT",40,0)
 ELSE  DO
"RTN","SCMCENCT",41,0)
 . ;end date: today-SCDAYEND days
"RTN","SCMCENCT",42,0)
 . SET %DT=""
"RTN","SCMCENCT",43,0)
 . SET X="T-"_SCDAYEND
"RTN","SCMCENCT",44,0)
 . DO ^%DT
"RTN","SCMCENCT",45,0)
 . SET SCENDDT=+Y_".235959"
"RTN","SCMCENCT",46,0)
 ;
"RTN","SCMCENCT",47,0)
 K ^TMP("SCMCENCT",$J)
"RTN","SCMCENCT",48,0)
 S SCLIST=$NA(^TMP("SCMCENCT",$J)) ;set variable to name of global array where output data will be stored 
"RTN","SCMCENCT",49,0)
 S ^TMP("SCMCENCT",$J,1)="" ;initialize to no data found
"RTN","SCMCENCT",50,0)
 ;
"RTN","SCMCENCT",51,0)
 SET SCINDX=1
"RTN","SCMCENCT",52,0)
 ;
"RTN","SCMCENCT",53,0)
 IF $GET(SCDFN)="" DO
"RTN","SCMCENCT",54,0)
 . ;Look at all patients
"RTN","SCMCENCT",55,0)
 . SET SCDFN1=""
"RTN","SCMCENCT",56,0)
 . FOR  SET SCDFN1=$ORDER(^SCE("ACOD",SCDFN1)) QUIT:SCDFN1=""  DO
"RTN","SCMCENCT",57,0)
 . . DO FIND(SCDFN1,SCPASTDT,SCENDDT,.SCINDX)
"RTN","SCMCENCT",58,0)
 ELSE  DO
"RTN","SCMCENCT",59,0)
 . ;or specified patient
"RTN","SCMCENCT",60,0)
 . IF $$GET1^DIQ(2,SCDFN_",",.01)="" DO  QUIT
"RTN","SCMCENCT",61,0)
 . . SET ^TMP("SCMCENCT",$J,1)="-1^Patient was not found."
"RTN","SCMCENCT",62,0)
 . DO FIND(SCDFN,SCPASTDT,SCENDDT,.SCINDX)
"RTN","SCMCENCT",63,0)
 ;
"RTN","SCMCENCT",64,0)
 QUIT
"RTN","SCMCENCT",65,0)
 ;
"RTN","SCMCENCT",66,0)
FIND(SCDFN,SCPASTDT,SCENDDT,SCINDX) ;Look for Patient's Encounters in Outpatient Encounter and Visit Files
"RTN","SCMCENCT",67,0)
 ;Inputs: SCDFN  - Patient DFN
"RTN","SCMCENCT",68,0)
 ;        SCPPASDT - look for encounters greater than this date
"RTN","SCMCENCT",69,0)
 ;        SCENDDT - look for encounters less than this date
"RTN","SCMCENCT",70,0)
 ;        SCINDX - index for ^TMP, passed by reference
"RTN","SCMCENCT",71,0)
 ;Output: populated ^TMP("SCMCENCT",$J) global, RPC returns a global array
"RTN","SCMCENCT",72,0)
 ;
"RTN","SCMCENCT",73,0)
 NEW SCENCDT,SCENCIEN,SCPDUZ,SCPRISEC,SCVPIEN,SCVSTIEN
"RTN","SCMCENCT",74,0)
 NEW SCSTCIEN,SCSTOPCD,SCEPARNT,SCVPARNT,SCVTYPE,SCCOCOMP
"RTN","SCMCENCT",75,0)
 NEW SCLOC,SCCTYPE,SCNCNT,SCCAT,SCSTAT,SCPREC
"RTN","SCMCENCT",76,0)
 ;
"RTN","SCMCENCT",77,0)
 ;^SCE("ACOD",<dfn>,<checkout date>,<encounter ien>)=""
"RTN","SCMCENCT",78,0)
 SET SCCOCOMP=SCPASTDT-1 ;start at begin date -1
"RTN","SCMCENCT",79,0)
 FOR  SET SCCOCOMP=$ORDER(^SCE("ACOD",SCDFN,SCCOCOMP)) QUIT:('SCCOCOMP)!(SCCOCOMP>SCENDDT)  DO
"RTN","SCMCENCT",80,0)
 . SET SCENCIEN=""
"RTN","SCMCENCT",81,0)
 . FOR  SET SCENCIEN=$ORDER(^SCE("ACOD",SCDFN,SCCOCOMP,SCENCIEN)) QUIT:SCENCIEN=""  DO
"RTN","SCMCENCT",82,0)
 . . QUIT:+$$GET1^DIQ(409.68,SCENCIEN,.07,"I")\1<$GET(SCPASTDT)  ;checkout date < begin date
"RTN","SCMCENCT",83,0)
 . . SET SCVSTIEN=+$$GET1^DIQ(409.68,SCENCIEN,.05,"I") ;Visit File IEN
"RTN","SCMCENCT",84,0)
 . . QUIT:+$$GET1^DIQ(9000010,SCVSTIEN,.11,"I")  ;visit delete flag
"RTN","SCMCENCT",85,0)
 . . QUIT:$$GET1^DIQ(9000010,SCVSTIEN,.03,"I")'="V"  ;non VA visit
"RTN","SCMCENCT",86,0)
 . . SET SCENCDT=$$GET1^DIQ(409.68,SCENCIEN,.01,"I") ;encounter date
"RTN","SCMCENCT",87,0)
 . . SET SCSTCIEN=$$GET1^DIQ(409.68,SCENCIEN,.03,"I") ;clinic stop code ien
"RTN","SCMCENCT",88,0)
 . . SET SCSTOPCD=$$GET1^DIQ(40.7,SCSTCIEN,1) ;AMIS stop code
"RTN","SCMCENCT",89,0)
 . . SET SCEPARNT=$$GET1^DIQ(409.68,SCENCIEN,.06,"I") ;parent encounter ien
"RTN","SCMCENCT",90,0)
 . . SET SCVPARNT=$$GET1^DIQ(9000010,SCVSTIEN,.12,"I") ;parent visit ien
"RTN","SCMCENCT",91,0)
 . . SET SCVTYPE=$$GET1^DIQ(9000010,SCVSTIEN,15003,"I") ;visit type
"RTN","SCMCENCT",92,0)
 . . SET SCLOC=$$GET1^DIQ(9000010,SCVSTIEN,.22,"I") ;hospital location
"RTN","SCMCENCT",93,0)
 . . SET SCCTYPE=$$GET1^DIQ(44,SCLOC,2,"I") ;hospital location type
"RTN","SCMCENCT",94,0)
 . . SET SCNCNT=$$GET1^DIQ(44,SCLOC,2502,"I") ;hospital location non-count clinic
"RTN","SCMCENCT",95,0)
 . . SET SCCAT=$$GET1^DIQ(9000010,SCVSTIEN,.07,"I") ;visit service category
"RTN","SCMCENCT",96,0)
 . . SET SCSTAT=$$GET1^DIQ(9000010,SCVSTIEN,15002,"I") ;visit patient status
"RTN","SCMCENCT",97,0)
 . . ; Visit Providers - ^AUPNVPRV("AD",<visit ien>,<visit prov ien>)
"RTN","SCMCENCT",98,0)
 . . SET SCVPIEN=""
"RTN","SCMCENCT",99,0)
 . . SET SCPREC=0
"RTN","SCMCENCT",100,0)
 . . FOR  SET SCVPIEN=$ORDER(^AUPNVPRV("AD",SCVSTIEN,SCVPIEN)) QUIT:SCVPIEN=""  DO
"RTN","SCMCENCT",101,0)
 . . . SET SCPDUZ=$$GET1^DIQ(9000010.06,SCVPIEN,.01,"I") ;provider duz/ien for 200 file
"RTN","SCMCENCT",102,0)
 . . . SET SCPRISEC=$$GET1^DIQ(9000010.06,SCVPIEN,.04,"I") ;primary/secondary
"RTN","SCMCENCT",103,0)
 . . . SET ^TMP("SCMCENCT",$J,SCINDX)=SCDFN_U_SCENCDT_U_SCPDUZ_U_SCPRISEC_U_SCSTOPCD_U_SCVTYPE_U_SCCOCOMP_U_SCENCIEN_U_SCEPARNT_U_SCVSTIEN_U_SCVPARNT_U_SCCTYPE_U_SCNCNT_U_SCCAT_U_SCSTAT
"RTN","SCMCENCT",104,0)
 . . . SET SCINDX=SCINDX+1
"RTN","SCMCENCT",105,0)
 . . . SET SCPREC=1
"RTN","SCMCENCT",106,0)
 . . IF 'SCPREC DO
"RTN","SCMCENCT",107,0)
 . . . SET SCPDUZ=""
"RTN","SCMCENCT",108,0)
 . . . SET SCPRISEC=""
"RTN","SCMCENCT",109,0)
 . . . SET ^TMP("SCMCENCT",$J,SCINDX)=SCDFN_U_SCENCDT_U_SCPDUZ_U_SCPRISEC_U_SCSTOPCD_U_SCVTYPE_U_SCCOCOMP_U_SCENCIEN_U_SCEPARNT_U_SCVSTIEN_U_SCVPARNT_U_SCCTYPE_U_SCNCNT_U_SCCAT_U_SCSTAT
"RTN","SCMCENCT",110,0)
 . . . SET SCINDX=SCINDX+1
"RTN","SCMCENCT",111,0)
 ;
"RTN","SCMCENCT",112,0)
 QUIT
"RTN","SCMCENCT",113,0)
 ;
"RTN","SCMCFPOS")
0^28^B95974585
"RTN","SCMCFPOS",1,0)
SCMCFPOS ;ALB/ART - PCMM Web-Fix Standard Position ;02/27/2015
"RTN","SCMCFPOS",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SCMCFPOS",3,0)
 ;
"RTN","SCMCFPOS",4,0)
 QUIT
"RTN","SCMCFPOS",5,0)
 ;
"RTN","SCMCFPOS",6,0)
 ;Public, Supported ICRs
"RTN","SCMCFPOS",7,0)
 ; #2053 - Data Base Server API: Editing Utilities (DIE)
"RTN","SCMCFPOS",8,0)
 ; #2056 - Data Base Server API: Data Retriever Utilities (DIQ) 
"RTN","SCMCFPOS",9,0)
 ; #10112 - VASITE - Supported APIs for site info
"RTN","SCMCFPOS",10,0)
 ; #10103 - XLFDT - Supported APIs for date & time
"RTN","SCMCFPOS",11,0)
 ;
"RTN","SCMCFPOS",12,0)
 ; This routine will fix entries in the Team Position (404.57) file at sites that deviated from
"RTN","SCMCFPOS",13,0)
 ;  the gold Standard Position (403.46) file.
"RTN","SCMCFPOS",14,0)
 ;
"RTN","SCMCFPOS",15,0)
 ; >>> THIS ROUTINE MAY ONLY BE RUN ONCE PER AFFECTED SITE <<<
"RTN","SCMCFPOS",16,0)
 ; >>> (unless the global backup of 404.57 is restored)    <<<
"RTN","SCMCFPOS",17,0)
 ;
"RTN","SCMCFPOS",18,0)
EN ;Main Entry Point
"RTN","SCMCFPOS",19,0)
 ;
"RTN","SCMCFPOS",20,0)
 IF $DATA(^XTMP("SCMCFPOS")) DO  QUIT
"RTN","SCMCFPOS",21,0)
 . WRITE !!,"This cleanup process has already been run at this site.",!
"RTN","SCMCFPOS",22,0)
 . WRITE "To run it again:",!
"RTN","SCMCFPOS",23,0)
 . WRITE "  Restore the backup of the Team Position File",!
"RTN","SCMCFPOS",24,0)
 . WRITE "  Delete the ^XTMP(SCMCFPOS) global",!
"RTN","SCMCFPOS",25,0)
 . WRITE "  Rerun this routine",!
"RTN","SCMCFPOS",26,0)
 . WRITE "Steps may be found in the PCMM Web-VistA Installation Guide",!!
"RTN","SCMCFPOS",27,0)
 ;
"RTN","SCMCFPOS",28,0)
 NEW SCI,SCSITE,SCCODE,SCIEN,SCPOS
"RTN","SCMCFPOS",29,0)
 NEW SCIENS,SCFDA,SCERR
"RTN","SCMCFPOS",30,0)
 ;
"RTN","SCMCFPOS",31,0)
 KILL ^TMP("SCMCFPOS",$JOB)
"RTN","SCMCFPOS",32,0)
 ;
"RTN","SCMCFPOS",33,0)
 ;Get local site ID
"RTN","SCMCFPOS",34,0)
 SET SCSITE=$PIECE($$SITE^VASITE(),U,3)
"RTN","SCMCFPOS",35,0)
 ;Build ^TMP global with position IENs
"RTN","SCMCFPOS",36,0)
 FOR SCI=1:1 SET SCCODE=$PIECE($TEXT(POSDATA+SCI),";;",2) QUIT:SCCODE="$$END"  DO
"RTN","SCMCFPOS",37,0)
 . SET ^TMP("SCMCFPOS",$JOB,$PIECE(SCCODE,U,1),$PIECE(SCCODE,U,2))=$PIECE(SCCODE,U,3)
"RTN","SCMCFPOS",38,0)
 ;If site needs conversion
"RTN","SCMCFPOS",39,0)
 IF $DATA(^TMP("SCMCFPOS",$JOB,SCSITE)) DO
"RTN","SCMCFPOS",40,0)
 . SET ^XTMP("SCMCFPOS",0)=$$FMADD^XLFDT($$DT^XLFDT(),365)_U_$$DT^XLFDT()_U_"Standard Position Fix"
"RTN","SCMCFPOS",41,0)
 . SET SCIEN=0
"RTN","SCMCFPOS",42,0)
 . FOR  SET SCIEN=$ORDER(^SCTM(404.57,SCIEN)) QUIT:+SCIEN=0  DO
"RTN","SCMCFPOS",43,0)
 . . SET SCPOS=$$GET1^DIQ(404.57,SCIEN,.03,"I")
"RTN","SCMCFPOS",44,0)
 . . QUIT:SCPOS=""
"RTN","SCMCFPOS",45,0)
 . . IF $DATA(^TMP("SCMCFPOS",$JOB,SCSITE,SCPOS)) DO
"RTN","SCMCFPOS",46,0)
 . . . SET ^XTMP("SCMCFPOS",SCIEN,"1-Before")=^SCTM(404.57,SCIEN,0)
"RTN","SCMCFPOS",47,0)
 . . . SET SCIENS=SCIEN_","
"RTN","SCMCFPOS",48,0)
 . . . NEW SCFDA
"RTN","SCMCFPOS",49,0)
 . . . SET SCFDA(404.57,SCIENS,.03)=^TMP("SCMCFPOS",$JOB,SCSITE,SCPOS)
"RTN","SCMCFPOS",50,0)
 . . . DO FILE^DIE("K","SCFDA","SCERR")
"RTN","SCMCFPOS",51,0)
 . . . SET ^XTMP("SCMCFPOS",SCIEN,"2-After")=^SCTM(404.57,SCIEN,0)
"RTN","SCMCFPOS",52,0)
 ELSE  DO
"RTN","SCMCFPOS",53,0)
 . W !,"Site does not deviate from gold Standard Position reference file.",!
"RTN","SCMCFPOS",54,0)
 ;
"RTN","SCMCFPOS",55,0)
 KILL ^TMP("SCMCFPOS",$JOB)
"RTN","SCMCFPOS",56,0)
 QUIT
"RTN","SCMCFPOS",57,0)
 ;
"RTN","SCMCFPOS",58,0)
POSDATA ;Position Conversion Data ;site^bad pos ien^good pos ien^name
"RTN","SCMCFPOS",59,0)
 ;;614^46^45^ADDICTION THERAPIST
"RTN","SCMCFPOS",60,0)
 ;;614^47^46^ADDICTION THERAPIST (MHTC)
"RTN","SCMCFPOS",61,0)
 ;;614^27^26^CARE MANAGER
"RTN","SCMCFPOS",62,0)
 ;;614^29^28^CASE MANAGER
"RTN","SCMCFPOS",63,0)
 ;;614^44^43^CHAPLAIN
"RTN","SCMCFPOS",64,0)
 ;;614^45^44^CHAPLAIN (MHTC)
"RTN","SCMCFPOS",65,0)
 ;;614^38^37^CLINICAL NURSE SPECIALIST (MHTC)
"RTN","SCMCFPOS",66,0)
 ;;614^39^38^CLINICAL PHARMACIST (MHTC)
"RTN","SCMCFPOS",67,0)
 ;;614^31^30^DESIGNATED WOMEN'S HEALTH PROVIDER
"RTN","SCMCFPOS",68,0)
 ;;614^28^27^HEALTH TECHNICIAN
"RTN","SCMCFPOS",69,0)
 ;;614^40^39^LPC
"RTN","SCMCFPOS",70,0)
 ;;614^41^40^LPC (MHTC)
"RTN","SCMCFPOS",71,0)
 ;;614^42^41^MFT
"RTN","SCMCFPOS",72,0)
 ;;614^43^42^MFT (MHTC)
"RTN","SCMCFPOS",73,0)
 ;;614^48^47^NURSE (RN) (MHTC)
"RTN","SCMCFPOS",74,0)
 ;;614^36^35^NURSE PRACTITIONER (MHTC)
"RTN","SCMCFPOS",75,0)
 ;;614^49^48^OCCUPATIONAL THERAPIST
"RTN","SCMCFPOS",76,0)
 ;;614^50^49^OCCUPATIONAL THERAPIST (MHTC)
"RTN","SCMCFPOS",77,0)
 ;;614^26^25^OIF OEF CLINICAL CASE MANAGER
"RTN","SCMCFPOS",78,0)
 ;;614^25^24^OIF OEF PROGRAM MANAGER
"RTN","SCMCFPOS",79,0)
 ;;614^24^23^OIF OEF TRANSITION PATIENT ADVOCATE
"RTN","SCMCFPOS",80,0)
 ;;614^37^36^PHYSICIAN ASSISTANT (MHTC)
"RTN","SCMCFPOS",81,0)
 ;;614^35^34^PHYSICIAN-PSYCHIATRIST (MHTC)
"RTN","SCMCFPOS",82,0)
 ;;614^32^31^PSYCHOLOGIST (MHTC)
"RTN","SCMCFPOS",83,0)
 ;;614^34^33^REHAB/PSYCH TECHNICIAN (MHTC)
"RTN","SCMCFPOS",84,0)
 ;;614^23^9^SOCIAL WORKER
"RTN","SCMCFPOS",85,0)
 ;;614^33^32^SOCIAL WORKER (MHTC)
"RTN","SCMCFPOS",86,0)
 ;;614^30^29^TRAINEE
"RTN","SCMCFPOS",87,0)
 ;;614^51^50^VOC REHAB SPEC/COUNSELOR
"RTN","SCMCFPOS",88,0)
 ;;614^52^51^VOC REHAB SPEC/COUNSELOR (MHTC)
"RTN","SCMCFPOS",89,0)
 ;;501^44^45^ADDICTION THERAPIST
"RTN","SCMCFPOS",90,0)
 ;;501^45^46^ADDICTION THERAPIST (MHTC)
"RTN","SCMCFPOS",91,0)
 ;;501^501001^28^CASE MANAGER
"RTN","SCMCFPOS",92,0)
 ;;501^42^43^CHAPLAIN
"RTN","SCMCFPOS",93,0)
 ;;501^43^44^CHAPLAIN (MHTC)
"RTN","SCMCFPOS",94,0)
 ;;501^36^37^CLINICAL NURSE SPECIALIST (MHTC)
"RTN","SCMCFPOS",95,0)
 ;;501^37^38^CLINICAL PHARMACIST (MHTC)
"RTN","SCMCFPOS",96,0)
 ;;501^38^39^LPC
"RTN","SCMCFPOS",97,0)
 ;;501^39^40^LPC (MHTC)
"RTN","SCMCFPOS",98,0)
 ;;501^40^41^MFT
"RTN","SCMCFPOS",99,0)
 ;;501^41^42^MFT (MHTC)
"RTN","SCMCFPOS",100,0)
 ;;501^46^47^NURSE (RN) (MHTC)
"RTN","SCMCFPOS",101,0)
 ;;501^34^35^NURSE PRACTITIONER (MHTC)
"RTN","SCMCFPOS",102,0)
 ;;501^47^48^OCCUPATIONAL THERAPIST
"RTN","SCMCFPOS",103,0)
 ;;501^48^49^OCCUPATIONAL THERAPIST (MHTC)
"RTN","SCMCFPOS",104,0)
 ;;501^35^36^PHYSICIAN ASSISTANT (MHTC)
"RTN","SCMCFPOS",105,0)
 ;;501^33^34^PHYSICIAN-PSYCHIATRIST (MHTC)
"RTN","SCMCFPOS",106,0)
 ;;501^28^31^PSYCHOLOGIST (MHTC)
"RTN","SCMCFPOS",107,0)
 ;;501^32^33^REHAB/PSYCH TECHNICIAN (MHTC)
"RTN","SCMCFPOS",108,0)
 ;;501^31^32^SOCIAL WORKER (MHTC)
"RTN","SCMCFPOS",109,0)
 ;;501^49^50^VOC REHAB SPEC/COUNSELOR
"RTN","SCMCFPOS",110,0)
 ;;501^50^51^VOC REHAB SPEC/COUNSELOR (MHTC)
"RTN","SCMCFPOS",111,0)
 ;;512^44^45^ADDICTION THERAPIST
"RTN","SCMCFPOS",112,0)
 ;;512^45^46^ADDICTION THERAPIST (MHTC)
"RTN","SCMCFPOS",113,0)
 ;;512^29^26^CARE MANAGER
"RTN","SCMCFPOS",114,0)
 ;;512^51^28^CASE MANAGER
"RTN","SCMCFPOS",115,0)
 ;;512^42^43^CHAPLAIN
"RTN","SCMCFPOS",116,0)
 ;;512^43^44^CHAPLAIN (MHTC)
"RTN","SCMCFPOS",117,0)
 ;;512^36^37^CLINICAL NURSE SPECIALIST (MHTC)
"RTN","SCMCFPOS",118,0)
 ;;512^37^38^CLINICAL PHARMACIST (MHTC)
"RTN","SCMCFPOS",119,0)
 ;;512^57^30^DESIGNATED WOMEN'S HEALTH PROVIDER
"RTN","SCMCFPOS",120,0)
 ;;512^30^27^HEALTH TECHNICIAN
"RTN","SCMCFPOS",121,0)
 ;;512^38^39^LPC
"RTN","SCMCFPOS",122,0)
 ;;512^39^40^LPC (MHTC)
"RTN","SCMCFPOS",123,0)
 ;;512^40^41^MFT
"RTN","SCMCFPOS",124,0)
 ;;512^41^42^MFT (MHTC)
"RTN","SCMCFPOS",125,0)
 ;;512^46^47^NURSE (RN) (MHTC)
"RTN","SCMCFPOS",126,0)
 ;;512^32^35^NURSE PRACTITIONER (MHTC)
"RTN","SCMCFPOS",127,0)
 ;;512^47^48^OCCUPATIONAL THERAPIST
"RTN","SCMCFPOS",128,0)
 ;;512^48^49^OCCUPATIONAL THERAPIST (MHTC)
"RTN","SCMCFPOS",129,0)
 ;;512^33^36^PHYSICIAN ASSISTANT (MHTC)
"RTN","SCMCFPOS",130,0)
 ;;512^31^34^PHYSICIAN-PSYCHIATRIST (MHTC)
"RTN","SCMCFPOS",131,0)
 ;;512^26^31^PSYCHOLOGIST (MHTC)
"RTN","SCMCFPOS",132,0)
 ;;512^28^33^REHAB/PSYCH TECHNICIAN (MHTC)
"RTN","SCMCFPOS",133,0)
 ;;512^27^32^SOCIAL WORKER (MHTC)
"RTN","SCMCFPOS",134,0)
 ;;512^52^29^TRAINEE
"RTN","SCMCFPOS",135,0)
 ;;512^49^50^VOC REHAB SPEC/COUNSELOR
"RTN","SCMCFPOS",136,0)
 ;;512^50^51^VOC REHAB SPEC/COUNSELOR (MHTC)
"RTN","SCMCFPOS",137,0)
 ;;528^44^45^ADDICTION THERAPIST
"RTN","SCMCFPOS",138,0)
 ;;528^45^46^ADDICTION THERAPIST (MHTC)
"RTN","SCMCFPOS",139,0)
 ;;528^59^26^CARE MANAGER
"RTN","SCMCFPOS",140,0)
 ;;528^58^28^CASE MANAGER
"RTN","SCMCFPOS",141,0)
 ;;528^42^43^CHAPLAIN
"RTN","SCMCFPOS",142,0)
 ;;528^43^44^CHAPLAIN (MHTC)
"RTN","SCMCFPOS",143,0)
 ;;528^36^37^CLINICAL NURSE SPECIALIST (MHTC)
"RTN","SCMCFPOS",144,0)
 ;;528^37^38^CLINICAL PHARMACIST (MHTC)
"RTN","SCMCFPOS",145,0)
 ;;528^60^30^DESIGNATED WOMEN'S HEALTH PROVIDER
"RTN","SCMCFPOS",146,0)
 ;;528^61^27^HEALTH TECHNICIAN
"RTN","SCMCFPOS",147,0)
 ;;528^38^39^LPC
"RTN","SCMCFPOS",148,0)
 ;;528^39^40^LPC (MHTC)
"RTN","SCMCFPOS",149,0)
 ;;528^29^41^MFT
"RTN","SCMCFPOS",150,0)
 ;;528^30^42^MFT (MHTC)
"RTN","SCMCFPOS",151,0)
 ;;528^46^47^NURSE (RN) (MHTC)
"RTN","SCMCFPOS",152,0)
 ;;528^32^35^NURSE PRACTITIONER (MHTC)
"RTN","SCMCFPOS",153,0)
 ;;528^47^48^OCCUPATIONAL THERAPIST
"RTN","SCMCFPOS",154,0)
 ;;528^48^49^OCCUPATIONAL THERAPIST (MHTC)
"RTN","SCMCFPOS",155,0)
 ;;528^33^36^PHYSICIAN ASSISTANT (MHTC)
"RTN","SCMCFPOS",156,0)
 ;;528^31^34^PHYSICIAN-PSYCHIATRIST (MHTC)
"RTN","SCMCFPOS",157,0)
 ;;528^26^31^PSYCHOLOGIST (MHTC)
"RTN","SCMCFPOS",158,0)
 ;;528^28^33^REHAB/PSYCH TECHNICIAN (MHTC)
"RTN","SCMCFPOS",159,0)
 ;;528^27^32^SOCIAL WORKER (MHTC)
"RTN","SCMCFPOS",160,0)
 ;;528^62^29^TRAINEE
"RTN","SCMCFPOS",161,0)
 ;;528^51^50^VOC REHAB SPEC/COUNSELOR
"RTN","SCMCFPOS",162,0)
 ;;528^52^51^VOC REHAB SPEC/COUNSELOR (MHTC)
"RTN","SCMCFPOS",163,0)
 ;;548^44^45^ADDICTION THERAPIST
"RTN","SCMCFPOS",164,0)
 ;;548^45^46^ADDICTION THERAPIST (MHTC)
"RTN","SCMCFPOS",165,0)
 ;;548^29^26^CARE MANAGER
"RTN","SCMCFPOS",166,0)
 ;;548^51^28^CASE MANAGER
"RTN","SCMCFPOS",167,0)
 ;;548^42^43^CHAPLAIN
"RTN","SCMCFPOS",168,0)
 ;;548^43^44^CHAPLAIN (MHTC)
"RTN","SCMCFPOS",169,0)
 ;;548^23^22^CLINICAL NURSE SPECIALIST
"RTN","SCMCFPOS",170,0)
 ;;548^36^37^CLINICAL NURSE SPECIALIST (MHTC)
"RTN","SCMCFPOS",171,0)
 ;;548^37^38^CLINICAL PHARMACIST (MHTC)
"RTN","SCMCFPOS",172,0)
 ;;548^57^30^DESIGNATED WOMEN'S HEALTH PROVIDER
"RTN","SCMCFPOS",173,0)
 ;;548^21^20^DIETITIAN
"RTN","SCMCFPOS",174,0)
 ;;548^30^27^HEALTH TECHNICIAN
"RTN","SCMCFPOS",175,0)
 ;;548^38^39^LPC
"RTN","SCMCFPOS",176,0)
 ;;548^39^40^LPC (MHTC)
"RTN","SCMCFPOS",177,0)
 ;;548^58^41^MFT
"RTN","SCMCFPOS",178,0)
 ;;548^59^42^MFT (MHTC)
"RTN","SCMCFPOS",179,0)
 ;;548^46^47^NURSE (RN) (MHTC)
"RTN","SCMCFPOS",180,0)
 ;;548^32^35^NURSE PRACTITIONER (MHTC)
"RTN","SCMCFPOS",181,0)
 ;;548^47^48^OCCUPATIONAL THERAPIST
"RTN","SCMCFPOS",182,0)
 ;;548^48^49^OCCUPATIONAL THERAPIST (MHTC)
"RTN","SCMCFPOS",183,0)
 ;;548^20^23^OIF OEF TRANSITION PATIENT ADVOCATE
"RTN","SCMCFPOS",184,0)
 ;;548^33^36^PHYSICIAN ASSISTANT (MHTC)
"RTN","SCMCFPOS",185,0)
 ;;548^31^34^PHYSICIAN-PSYCHIATRIST (MHTC)
"RTN","SCMCFPOS",186,0)
 ;;548^26^31^PSYCHOLOGIST (MHTC)
"RTN","SCMCFPOS",187,0)
 ;;548^28^33^REHAB/PSYCH TECHNICIAN (MHTC)
"RTN","SCMCFPOS",188,0)
 ;;548^27^32^SOCIAL WORKER (MHTC)
"RTN","SCMCFPOS",189,0)
 ;;548^22^21^TEAM PHARMACIST
"RTN","SCMCFPOS",190,0)
 ;;548^52^29^TRAINEE
"RTN","SCMCFPOS",191,0)
 ;;548^60^50^VOC REHAB SPEC/COUNSELOR
"RTN","SCMCFPOS",192,0)
 ;;548^61^51^VOC REHAB SPEC/COUNSELOR (MHTC)
"RTN","SCMCFPOS",193,0)
 ;;558^44^45^ADDICTION THERAPIST
"RTN","SCMCFPOS",194,0)
 ;;558^45^46^ADDICTION THERAPIST (MHTC)
"RTN","SCMCFPOS",195,0)
 ;;558^59^26^CARE MANAGER
"RTN","SCMCFPOS",196,0)
 ;;558^58^28^CASE MANAGER
"RTN","SCMCFPOS",197,0)
 ;;558^42^43^CHAPLAIN
"RTN","SCMCFPOS",198,0)
 ;;558^43^44^CHAPLAIN (MHTC)
"RTN","SCMCFPOS",199,0)
 ;;558^36^37^CLINICAL NURSE SPECIALIST (MHTC)
"RTN","SCMCFPOS",200,0)
 ;;558^37^38^CLINICAL PHARMACIST (MHTC)
"RTN","SCMCFPOS",201,0)
 ;;558^60^30^DESIGNATED WOMEN'S HEALTH PROVIDER
"RTN","SCMCFPOS",202,0)
 ;;558^61^27^HEALTH TECHNICIAN
"RTN","SCMCFPOS",203,0)
 ;;558^38^39^LPC
"RTN","SCMCFPOS",204,0)
 ;;558^39^40^LPC (MHTC)
"RTN","SCMCFPOS",205,0)
 ;;558^29^41^MFT
"RTN","SCMCFPOS",206,0)
 ;;558^30^42^MFT (MHTC)
"RTN","SCMCFPOS",207,0)
 ;;558^46^47^NURSE (RN) (MHTC)
"RTN","SCMCFPOS",208,0)
 ;;558^32^35^NURSE PRACTITIONER (MHTC)
"RTN","SCMCFPOS",209,0)
 ;;558^47^48^OCCUPATIONAL THERAPIST
"RTN","SCMCFPOS",210,0)
 ;;558^48^49^OCCUPATIONAL THERAPIST (MHTC)
"RTN","SCMCFPOS",211,0)
 ;;558^33^36^PHYSICIAN ASSISTANT (MHTC)
"RTN","SCMCFPOS",212,0)
 ;;558^31^34^PHYSICIAN-PSYCHIATRIST (MHTC)
"RTN","SCMCFPOS",213,0)
 ;;558^26^31^PSYCHOLOGIST (MHTC)
"RTN","SCMCFPOS",214,0)
 ;;558^28^33^REHAB/PSYCH TECHNICIAN (MHTC)
"RTN","SCMCFPOS",215,0)
 ;;558^27^32^SOCIAL WORKER (MHTC)
"RTN","SCMCFPOS",216,0)
 ;;558^62^29^TRAINEE
"RTN","SCMCFPOS",217,0)
 ;;558^51^50^VOC REHAB SPEC/COUNSELOR
"RTN","SCMCFPOS",218,0)
 ;;558^52^51^VOC REHAB SPEC/COUNSELOR (MHTC)
"RTN","SCMCFPOS",219,0)
 ;;590^23^22^CLINICAL NURSE SPECIALIST
"RTN","SCMCFPOS",220,0)
 ;;590^21^20^DIETITIAN
"RTN","SCMCFPOS",221,0)
 ;;590^20^23^OIF OEF TRANSITION PATIENT ADVOCATE
"RTN","SCMCFPOS",222,0)
 ;;590^22^21^TEAM PHARMACIST
"RTN","SCMCFPOS",223,0)
 ;;598^44^45^ADDICTION THERAPIST
"RTN","SCMCFPOS",224,0)
 ;;598^45^46^ADDICTION THERAPIST (MHTC)
"RTN","SCMCFPOS",225,0)
 ;;598^59^26^CARE MANAGER
"RTN","SCMCFPOS",226,0)
 ;;598^58^28^CASE MANAGER
"RTN","SCMCFPOS",227,0)
 ;;598^42^43^CHAPLAIN
"RTN","SCMCFPOS",228,0)
 ;;598^43^44^CHAPLAIN (MHTC)
"RTN","SCMCFPOS",229,0)
 ;;598^36^37^CLINICAL NURSE SPECIALIST (MHTC)
"RTN","SCMCFPOS",230,0)
 ;;598^37^38^CLINICAL PHARMACIST (MHTC)
"RTN","SCMCFPOS",231,0)
 ;;598^60^30^DESIGNATED WOMEN'S HEALTH PROVIDER
"RTN","SCMCFPOS",232,0)
 ;;598^61^27^HEALTH TECHNICIAN
"RTN","SCMCFPOS",233,0)
 ;;598^38^39^LPC
"RTN","SCMCFPOS",234,0)
 ;;598^39^40^LPC (MHTC)
"RTN","SCMCFPOS",235,0)
 ;;598^40^41^MFT
"RTN","SCMCFPOS",236,0)
 ;;598^41^42^MFT (MHTC)
"RTN","SCMCFPOS",237,0)
 ;;598^46^47^NURSE (RN) (MHTC)
"RTN","SCMCFPOS",238,0)
 ;;598^32^35^NURSE PRACTITIONER (MHTC)
"RTN","SCMCFPOS",239,0)
 ;;598^47^48^OCCUPATIONAL THERAPIST
"RTN","SCMCFPOS",240,0)
 ;;598^48^49^OCCUPATIONAL THERAPIST (MHTC)
"RTN","SCMCFPOS",241,0)
 ;;598^33^36^PHYSICIAN ASSISTANT (MHTC)
"RTN","SCMCFPOS",242,0)
 ;;598^31^34^PHYSICIAN-PSYCHIATRIST (MHTC)
"RTN","SCMCFPOS",243,0)
 ;;598^26^31^PSYCHOLOGIST (MHTC)
"RTN","SCMCFPOS",244,0)
 ;;598^28^33^REHAB/PSYCH TECHNICIAN (MHTC)
"RTN","SCMCFPOS",245,0)
 ;;598^27^32^SOCIAL WORKER (MHTC)
"RTN","SCMCFPOS",246,0)
 ;;598^62^29^TRAINEE
"RTN","SCMCFPOS",247,0)
 ;;598^49^50^VOC REHAB SPEC/COUNSELOR
"RTN","SCMCFPOS",248,0)
 ;;598^50^51^VOC REHAB SPEC/COUNSELOR (MHTC)
"RTN","SCMCFPOS",249,0)
 ;;644^44^45^ADDICTION THERAPIST
"RTN","SCMCFPOS",250,0)
 ;;644^45^46^ADDICTION THERAPIST (MHTC)
"RTN","SCMCFPOS",251,0)
 ;;644^29^26^CARE MANAGER
"RTN","SCMCFPOS",252,0)
 ;;644^51^28^CASE MANAGER
"RTN","SCMCFPOS",253,0)
 ;;644^42^43^CHAPLAIN
"RTN","SCMCFPOS",254,0)
 ;;644^43^44^CHAPLAIN (MHTC)
"RTN","SCMCFPOS",255,0)
 ;;644^36^37^CLINICAL NURSE SPECIALIST (MHTC)
"RTN","SCMCFPOS",256,0)
 ;;644^37^38^CLINICAL PHARMACIST (MHTC)
"RTN","SCMCFPOS",257,0)
 ;;644^57^30^DESIGNATED WOMEN'S HEALTH PROVIDER
"RTN","SCMCFPOS",258,0)
 ;;644^30^27^HEALTH TECHNICIAN
"RTN","SCMCFPOS",259,0)
 ;;644^38^39^LPC
"RTN","SCMCFPOS",260,0)
 ;;644^39^40^LPC (MHTC)
"RTN","SCMCFPOS",261,0)
 ;;644^58^41^MFT
"RTN","SCMCFPOS",262,0)
 ;;644^59^42^MFT (MHTC)
"RTN","SCMCFPOS",263,0)
 ;;644^46^47^NURSE (RN) (MHTC)
"RTN","SCMCFPOS",264,0)
 ;;644^32^35^NURSE PRACTITIONER (MHTC)
"RTN","SCMCFPOS",265,0)
 ;;644^47^48^OCCUPATIONAL THERAPIST
"RTN","SCMCFPOS",266,0)
 ;;644^48^49^OCCUPATIONAL THERAPIST (MHTC)
"RTN","SCMCFPOS",267,0)
 ;;644^33^36^PHYSICIAN ASSISTANT (MHTC)
"RTN","SCMCFPOS",268,0)
 ;;644^31^34^PHYSICIAN-PSYCHIATRIST (MHTC)
"RTN","SCMCFPOS",269,0)
 ;;644^26^31^PSYCHOLOGIST (MHTC)
"RTN","SCMCFPOS",270,0)
 ;;644^28^33^REHAB/PSYCH TECHNICIAN (MHTC)
"RTN","SCMCFPOS",271,0)
 ;;644^27^32^SOCIAL WORKER (MHTC)
"RTN","SCMCFPOS",272,0)
 ;;644^52^29^TRAINEE
"RTN","SCMCFPOS",273,0)
 ;;644^60^50^VOC REHAB SPEC/COUNSELOR
"RTN","SCMCFPOS",274,0)
 ;;644^61^51^VOC REHAB SPEC/COUNSELOR (MHTC)
"RTN","SCMCFPOS",275,0)
 ;;679^23^22^CLINICAL NURSE SPECIALIST
"RTN","SCMCFPOS",276,0)
 ;;679^21^20^DIETITIAN
"RTN","SCMCFPOS",277,0)
 ;;679^20^23^OIF OEF TRANSITION PATIENT ADVOCATE
"RTN","SCMCFPOS",278,0)
 ;;679^22^21^TEAM PHARMACIST
"RTN","SCMCFPOS",279,0)
 ;;$$END
"RTN","SCMCFTEE")
0^31^B17041744
"RTN","SCMCFTEE",1,0)
SCMCFTEE ;ALB/ART - PCMM Web CRUD for FTEE History ;02/23/2015
"RTN","SCMCFTEE",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SCMCFTEE",3,0)
 ;
"RTN","SCMCFTEE",4,0)
 QUIT
"RTN","SCMCFTEE",5,0)
 ;
"RTN","SCMCFTEE",6,0)
 ;Public, Supported ICRs
"RTN","SCMCFTEE",7,0)
 ; #2051 - Database Server API: Lookup Utilities (DIC) 
"RTN","SCMCFTEE",8,0)
 ; #2053 - Data Base Server API: Editing Utilities (DIE)
"RTN","SCMCFTEE",9,0)
 ; #2056 - Data Base Server API: Data Retriever Utilities (DIQ)
"RTN","SCMCFTEE",10,0)
 ; #10013 - Classic FileMan API: Entry Deletion & File Reindexing (DIK)
"RTN","SCMCFTEE",11,0)
 ; #10060 - NEW PERSON FILE
"RTN","SCMCFTEE",12,0)
 ; #10103 - Kernel Date functions (XLFDT)
"RTN","SCMCFTEE",13,0)
 ;Subscription
"RTN","SCMCFTEE",14,0)
 ;
"RTN","SCMCFTEE",15,0)
EN ;
"RTN","SCMCFTEE",16,0)
 ;
"RTN","SCMCFTEE",17,0)
 QUIT
"RTN","SCMCFTEE",18,0)
 ;
"RTN","SCMCFTEE",19,0)
CREATE(SCRET,SCPHIEN,SCHSTDT,SCVALUE,SCDUZ) ; Create/Add a Position Assignment History FTEE History Record
"RTN","SCMCFTEE",20,0)
 ;Inputs: SCRET - return data - passed by reference
"RTN","SCMCFTEE",21,0)
 ;        SCPHIEN - Position Assignment History Record IEN
"RTN","SCMCFTEE",22,0)
 ;        SCHSTDT - History Date
"RTN","SCMCFTEE",23,0)
 ;        SCVALUE - FTEE Value
"RTN","SCMCFTEE",24,0)
 ;        SCDUZ - User DUZ
"RTN","SCMCFTEE",25,0)
 ;Output: populated SCRET - 
"RTN","SCMCFTEE",26,0)
 ;
"RTN","SCMCFTEE",27,0)
 IF $GET(SCPHIEN)="" DO  QUIT
"RTN","SCMCFTEE",28,0)
 . SET SCRET="0^Missing record IEN"
"RTN","SCMCFTEE",29,0)
 ;
"RTN","SCMCFTEE",30,0)
 IF $GET(SCHSTDT)="" DO
"RTN","SCMCFTEE",31,0)
 . SET SCHSTDT=$$NOW^XLFDT()
"RTN","SCMCFTEE",32,0)
 ;
"RTN","SCMCFTEE",33,0)
 NEW SCNAME
"RTN","SCMCFTEE",34,0)
 SET SCNAME="SCMC,APPLICATION PROXY"
"RTN","SCMCFTEE",35,0)
 IF $GET(SCDUZ)="" DO
"RTN","SCMCFTEE",36,0)
 . SET SCDUZ=$$FIND1^DIC(200,"","BX",SCNAME,"","","")
"RTN","SCMCFTEE",37,0)
 ;
"RTN","SCMCFTEE",38,0)
 NEW SCIENS,SCFDA,SCFDAI,SCERR,DIERR
"RTN","SCMCFTEE",39,0)
 ;add sub rec
"RTN","SCMCFTEE",40,0)
 SET SCIENS="+1,"_SCPHIEN_","
"RTN","SCMCFTEE",41,0)
 SET SCFDA(404.521,SCIENS,.01)=$GET(SCHSTDT) ;History Date
"RTN","SCMCFTEE",42,0)
 SET SCFDA(404.521,SCIENS,.02)=$GET(SCVALUE) ;FTEE Value
"RTN","SCMCFTEE",43,0)
 SET SCFDA(404.521,SCIENS,.03)=$GET(SCDUZ) ;User DUZ
"RTN","SCMCFTEE",44,0)
 DO UPDATE^DIE("","SCFDA","SCFDAI","SCERR")
"RTN","SCMCFTEE",45,0)
 IF '$DATA(DIERR) DO
"RTN","SCMCFTEE",46,0)
 . SET SCRET=SCFDAI(1)
"RTN","SCMCFTEE",47,0)
 ELSE  DO
"RTN","SCMCFTEE",48,0)
 . SET SCRET="0^Error creating FTEE history record"
"RTN","SCMCFTEE",49,0)
 ;
"RTN","SCMCFTEE",50,0)
 QUIT
"RTN","SCMCFTEE",51,0)
 ;
"RTN","SCMCFTEE",52,0)
READ(SCRET,SCPHIEN,SCFTIEN) ; Read a Position Assignment History FTEE History Record
"RTN","SCMCFTEE",53,0)
 ;Inputs: SCRET - return data - passed by reference
"RTN","SCMCFTEE",54,0)
 ;        SCPHIEN - Position Assignment History Record IEN
"RTN","SCMCFTEE",55,0)
 ;        SCFTIEN - FTEE History Sub-Record IEN
"RTN","SCMCFTEE",56,0)
 ;Output: populated SCRET - ien^history date^ftee value^user ien(duz)
"RTN","SCMCFTEE",57,0)
 ;
"RTN","SCMCFTEE",58,0)
 IF $GET(SCPHIEN)="" DO  QUIT
"RTN","SCMCFTEE",59,0)
 . SET SCRET="0^Missing record IEN"
"RTN","SCMCFTEE",60,0)
 IF $GET(SCFTIEN)="" DO  QUIT
"RTN","SCMCFTEE",61,0)
 . SET SCRET="0^Missing FTEE record IEN"
"RTN","SCMCFTEE",62,0)
 ;
"RTN","SCMCFTEE",63,0)
 NEW SCIENS,SCHSTDT,SCVALUE,SCDUZ
"RTN","SCMCFTEE",64,0)
 SET SCIENS=SCFTIEN_","_SCPHIEN_","
"RTN","SCMCFTEE",65,0)
 SET SCHSTDT=$$GET1^DIQ(404.521,SCIENS,.01,"I") ;History Date
"RTN","SCMCFTEE",66,0)
 SET SCVALUE=$$GET1^DIQ(404.521,SCIENS,.02,"I") ;FTEE Value
"RTN","SCMCFTEE",67,0)
 SET SCDUZ=$$GET1^DIQ(404.521,SCIENS,.03,"I") ;User DUZ
"RTN","SCMCFTEE",68,0)
 SET SCRET=SCFTIEN_U_SCHSTDT_U_SCVALUE_U_SCDUZ
"RTN","SCMCFTEE",69,0)
 ;
"RTN","SCMCFTEE",70,0)
 QUIT
"RTN","SCMCFTEE",71,0)
 ;
"RTN","SCMCFTEE",72,0)
READALL(SCRET,SCPHIEN) ; Read Position Assignment History FTEE History Records
"RTN","SCMCFTEE",73,0)
 ;Inputs: SCRET - return data - passed by reference
"RTN","SCMCFTEE",74,0)
 ;        SCPHIEN - Position Assignment History Record IEN
"RTN","SCMCFTEE",75,0)
 ;Output: populated SCRET - array of: ien^history date^ftee value^user ien(duz)
"RTN","SCMCFTEE",76,0)
 ;
"RTN","SCMCFTEE",77,0)
 IF $GET(SCPHIEN)="" DO  QUIT
"RTN","SCMCFTEE",78,0)
 . SET SCRET(0)="0^Missing record IEN"
"RTN","SCMCFTEE",79,0)
 ;
"RTN","SCMCFTEE",80,0)
 NEW SCIENS,SCFTIEN,SCHSTDT,SCVALUE,SCDUZ,SCI
"RTN","SCMCFTEE",81,0)
 ;
"RTN","SCMCFTEE",82,0)
 SET SCI=1
"RTN","SCMCFTEE",83,0)
 SET SCFTIEN=0
"RTN","SCMCFTEE",84,0)
 FOR  SET SCFTIEN=$ORDER(^SCTM(404.52,SCPHIEN,1,SCFTIEN)) QUIT:+SCFTIEN=0  DO
"RTN","SCMCFTEE",85,0)
 . SET SCIENS=SCFTIEN_","_SCPHIEN_","
"RTN","SCMCFTEE",86,0)
 . SET SCHSTDT=$$GET1^DIQ(404.521,SCIENS,.01,"I") ;History Date
"RTN","SCMCFTEE",87,0)
 . SET SCVALUE=$$GET1^DIQ(404.521,SCIENS,.02,"I") ;FTEE Value
"RTN","SCMCFTEE",88,0)
 . SET SCDUZ=$$GET1^DIQ(404.521,SCIENS,.03,"I") ;User DUZ
"RTN","SCMCFTEE",89,0)
 . SET SCRET(SCI)=SCFTIEN_U_SCHSTDT_U_SCVALUE_U_SCDUZ
"RTN","SCMCFTEE",90,0)
 . SET SCI=SCI+1
"RTN","SCMCFTEE",91,0)
 SET SCRET(0)=SCI-1
"RTN","SCMCFTEE",92,0)
 ;
"RTN","SCMCFTEE",93,0)
 QUIT
"RTN","SCMCFTEE",94,0)
 ;
"RTN","SCMCFTEE",95,0)
UPDATE(SCRET,SCPHIEN,SCFTIEN,SCHSTDT,SCVALUE,SCDUZ) ; Update a Position Assignment History FTEE History Record
"RTN","SCMCFTEE",96,0)
 ;Inputs: SCRET - return data - passed by reference
"RTN","SCMCFTEE",97,0)
 ;        SCPHIEN - Position Assignment History Record IEN
"RTN","SCMCFTEE",98,0)
 ;        SCFTIEN - FTEE History Sub-Record IEN
"RTN","SCMCFTEE",99,0)
 ;        SCHSTDT - History Date
"RTN","SCMCFTEE",100,0)
 ;        SCVALUE - FTEE Value
"RTN","SCMCFTEE",101,0)
 ;        SCDUZ - User DUZ
"RTN","SCMCFTEE",102,0)
 ;Output: populated SCRET - 
"RTN","SCMCFTEE",103,0)
 ;
"RTN","SCMCFTEE",104,0)
 IF $GET(SCPHIEN)="" DO  QUIT
"RTN","SCMCFTEE",105,0)
 . SET SCRET="0^Missing record IEN"
"RTN","SCMCFTEE",106,0)
 IF $GET(SCFTIEN)="" DO  QUIT
"RTN","SCMCFTEE",107,0)
 . SET SCRET="0^Missing FTEE record IEN"
"RTN","SCMCFTEE",108,0)
 ;
"RTN","SCMCFTEE",109,0)
 NEW SCIENS,SCFDA,SCERR,SCGO
"RTN","SCMCFTEE",110,0)
 SET SCGO=0
"RTN","SCMCFTEE",111,0)
 ;
"RTN","SCMCFTEE",112,0)
 SET SCIENS=SCFTIEN_","_SCPHIEN_","
"RTN","SCMCFTEE",113,0)
 SET SCFDA(404.521,SCIENS,.01)=$GET(SCHSTDT) ;History Date
"RTN","SCMCFTEE",114,0)
 SET SCFDA(404.521,SCIENS,.02)=$GET(SCVALUE) ;FTEE Value
"RTN","SCMCFTEE",115,0)
 SET SCFDA(404.521,SCIENS,.03)=$GET(SCDUZ) ;User DUZ
"RTN","SCMCFTEE",116,0)
 DO FILE^DIE("K","SCFDA","SCERR")
"RTN","SCMCFTEE",117,0)
 IF '$DATA(DIERR) DO
"RTN","SCMCFTEE",118,0)
 . SET SCRET=1
"RTN","SCMCFTEE",119,0)
 ELSE  DO
"RTN","SCMCFTEE",120,0)
 . SET SCRET="0^Error updating FTEE history record"
"RTN","SCMCFTEE",121,0)
 ;
"RTN","SCMCFTEE",122,0)
 QUIT
"RTN","SCMCFTEE",123,0)
 ;
"RTN","SCMCFTEE",124,0)
DELETE(SCRET,SCPHIEN,SCFTIEN) ; Delete a Position Assignment History FTEE History Record
"RTN","SCMCFTEE",125,0)
 ;Inputs: SCRET - return code - passed by reference
"RTN","SCMCFTEE",126,0)
 ;        SCPHIEN - Position Assignment History Record IEN
"RTN","SCMCFTEE",127,0)
 ;        SCFTIEN - FTEE History Sub-Record IEN
"RTN","SCMCFTEE",128,0)
 ;Output: populated SCRET - defaults to 1 (there is no return code from ^DIK)
"RTN","SCMCFTEE",129,0)
 ;
"RTN","SCMCFTEE",130,0)
 IF $GET(SCPHIEN)="" DO  QUIT
"RTN","SCMCFTEE",131,0)
 . SET SCRET="0^Missing record IEN"
"RTN","SCMCFTEE",132,0)
 IF $GET(SCFTIEN)="" DO  QUIT
"RTN","SCMCFTEE",133,0)
 . SET SCRET="0^Missing FTEE record IEN"
"RTN","SCMCFTEE",134,0)
 ;
"RTN","SCMCFTEE",135,0)
 NEW DIK,DA
"RTN","SCMCFTEE",136,0)
 SET DIK="^SCTM(404.52,"_SCPHIEN_",1,"
"RTN","SCMCFTEE",137,0)
 SET DA=SCFTIEN
"RTN","SCMCFTEE",138,0)
 SET DA(1)=SCPHIEN
"RTN","SCMCFTEE",139,0)
 DO ^DIK
"RTN","SCMCFTEE",140,0)
 SET SCRET=1
"RTN","SCMCFTEE",141,0)
 QUIT
"RTN","SCMCFTEE",142,0)
 ;
"RTN","SCMCMHTC")
0^22^B10680608
"RTN","SCMCMHTC",1,0)
SCMCMHTC ;BP/DMR - PCMM/MH API ;02/27/2015
"RTN","SCMCMHTC",2,0)
 ;;5.3;Scheduling;**575,603**;AUG 13, 1993;Build 79
"RTN","SCMCMHTC",3,0)
 ;
"RTN","SCMCMHTC",4,0)
 ;This API provides the Mental Health Treatment Coordinator
"RTN","SCMCMHTC",5,0)
 ;from PCMM for display in CPRS, or used as a stand alone API.
"RTN","SCMCMHTC",6,0)
 ;ICR #5697 - PCMM MHTC API's for CPRS
"RTN","SCMCMHTC",7,0)
 ;
"RTN","SCMCMHTC",8,0)
 ;Input  - DFN
"RTN","SCMCMHTC",9,0)
 ;Output - IEN^MHTC^Team Position^Role^Team
"RTN","SCMCMHTC",10,0)
 ;
"RTN","SCMCMHTC",11,0)
START(DFN) ; Get patient MHTC info.
"RTN","SCMCMHTC",12,0)
 Q:'$G(DFN)
"RTN","SCMCMHTC",13,0)
 N ACT,IEN,PNAM,PRO,TIEM,TPUR,TEAM
"RTN","SCMCMHTC",14,0)
 N TP,TPR,TPRIEN,ADATE,UDATE,SAVE,NP,TNAM,SCNOW
"RTN","SCMCMHTC",15,0)
 S MHTC="",SAVE=""
"RTN","SCMCMHTC",16,0)
 ;
"RTN","SCMCMHTC",17,0)
 S IEN="" F  S IEN=$O(^SCPT(404.42,"B",DFN,IEN)) Q:IEN=""!(SAVE=1)  D
"RTN","SCMCMHTC",18,0)
 .S TIEM="" S TIEM=$P($G(^SCPT(404.42,IEN,0)),"^",3) Q:TIEM=""
"RTN","SCMCMHTC",19,0)
 .Q:$$GET1^DIQ(404.51,TIEM,.03)'="MENTAL HEALTH TREATMENT"
"RTN","SCMCMHTC",20,0)
 .S TPIEN="" F  S TPIEN=$O(^SCPT(404.43,"B",IEN,TPIEN)) Q:TPIEN=""!(SAVE=1)  D
"RTN","SCMCMHTC",21,0)
 ..S TPRIEN="",TPRIEN=$$GET1^DIQ(404.43,TPIEN,.02,"I") Q:TPRIEN=""
"RTN","SCMCMHTC",22,0)
 ..S TPR="",TPR=$$GET1^DIQ(404.57,TPRIEN,.03) Q:TPR=""
"RTN","SCMCMHTC",23,0)
 ..Q:TPR'["(MHTC)"  S TP="",TP=$$GET1^DIQ(404.57,TPRIEN,.01) Q:TP=""
"RTN","SCMCMHTC",24,0)
 ..S PRO="",PRO=$O(^SCTM(404.52,"B",TPRIEN,PRO),-1) Q:PRO=""
"RTN","SCMCMHTC",25,0)
 ..S ACT="",ACT=$$GET1^DIQ(404.52,PRO,.04,"I") Q:ACT'=1
"RTN","SCMCMHTC",26,0)
 ..S PNAM="",PNAM=$$GET1^DIQ(404.52,PRO,.03) Q:PNAM=""
"RTN","SCMCMHTC",27,0)
 ..S ADATE="",ADATE=$$GET1^DIQ(404.43,TPIEN,.03,"I")
"RTN","SCMCMHTC",28,0)
 ..S UDATE="",UDATE=$$GET1^DIQ(404.43,TPIEN,.04,"I")
"RTN","SCMCMHTC",29,0)
 ..;Q:ADATE>DT  Q:UDATE>ADATE&(UDATE<DT)  Q:UDATE=ADATE&(UDATE<DT)  D SAVE
"RTN","SCMCMHTC",30,0)
 ..S SCNOW=$$NOW^XLFDT() ;603
"RTN","SCMCMHTC",31,0)
 ..Q:ADATE>SCNOW  ;603
"RTN","SCMCMHTC",32,0)
 ..Q:UDATE>ADATE&(UDATE<SCNOW)  ;603
"RTN","SCMCMHTC",33,0)
 ..Q:UDATE=ADATE&(UDATE<SCNOW)  ;603
"RTN","SCMCMHTC",34,0)
 ..D SAVE
"RTN","SCMCMHTC",35,0)
 I $G(CPRSGUI) D PRINT Q
"RTN","SCMCMHTC",36,0)
 Q MHTC
"RTN","SCMCMHTC",37,0)
 ;
"RTN","SCMCMHTC",38,0)
SAVE ;Save MHTC info.
"RTN","SCMCMHTC",39,0)
 ;
"RTN","SCMCMHTC",40,0)
 S MHTC="",SAVE="",NP="",TNAM=""
"RTN","SCMCMHTC",41,0)
 S NP=$$GET1^DIQ(404.52,PRO,.03,"I")
"RTN","SCMCMHTC",42,0)
 S TNAM=$$GET1^DIQ(404.51,TIEM,.01)
"RTN","SCMCMHTC",43,0)
 S $P(MHTC,"^",1)=NP
"RTN","SCMCMHTC",44,0)
 S $P(MHTC,"^",2)=PNAM
"RTN","SCMCMHTC",45,0)
 S $P(MHTC,"^",3)=TP
"RTN","SCMCMHTC",46,0)
 S $P(MHTC,"^",4)=TPR
"RTN","SCMCMHTC",47,0)
 S $P(MHTC,"^",5)=TNAM
"RTN","SCMCMHTC",48,0)
 S SAVE=1
"RTN","SCMCMHTC",49,0)
 Q
"RTN","SCMCMHTC",50,0)
 ;
"RTN","SCMCMHTC",51,0)
PRINT ;Display in CPRS Patient Inquiry.
"RTN","SCMCMHTC",52,0)
 ;
"RTN","SCMCMHTC",53,0)
 Q:'$G(CPRSGUI)
"RTN","SCMCMHTC",54,0)
 N PH,PAG,DPAG
"RTN","SCMCMHTC",55,0)
 Q:'+$G(NP)
"RTN","SCMCMHTC",56,0)
 Q:PNAM=""
"RTN","SCMCMHTC",57,0)
 Q:TP=""
"RTN","SCMCMHTC",58,0)
 S PH=$$GET1^DIQ(200,NP,.132),PAG=$$GET1^DIQ(200,NP,.137),DPAG=$$GET1^DIQ(200,NP,.138)
"RTN","SCMCMHTC",59,0)
 W !!," MH Treatment Team: ",TNAM
"RTN","SCMCMHTC",60,0)
 W !,"MH Treatment Coord: ",$E(PNAM,1,28),?52,"Position: ",$E(TP,1,18)
"RTN","SCMCMHTC",61,0)
 W !,"                  Analog Pager: ",PAG,?55,"Phone: ",PH
"RTN","SCMCMHTC",62,0)
 W !,"                 Digital Pager: ",DPAG
"RTN","SCMCMHTC",63,0)
 Q
"RTN","SCMCMHTC",64,0)
 ;
"RTN","SCMCMHTC",65,0)
LIST ;List of all active MHTC's from PCMM to CPRS.
"RTN","SCMCMHTC",66,0)
 ;
"RTN","SCMCMHTC",67,0)
 ;Output Fields - PIEN^MHTC^Role^Team Position^Team
"RTN","SCMCMHTC",68,0)
 ;Output Global - ^TMP("SCMCMHTC",$J,MHTC,CC)
"RTN","SCMCMHTC",69,0)
 ;
"RTN","SCMCMHTC",70,0)
 S MHTC="",PIEN="",IEN="",ROLE="",PAIEN="",TPIEN="",TP="",TEAM="",CC=""
"RTN","SCMCMHTC",71,0)
 K ^TMP("SCMCMHTC",$J)
"RTN","SCMCMHTC",72,0)
 ;
"RTN","SCMCMHTC",73,0)
 S IEN="" F  S IEN=$O(^SCTM(404.52,"B",IEN)) Q:IEN=""  D
"RTN","SCMCMHTC",74,0)
 .S PAIEN="" F  S PAIEN=$O(^SCTM(404.52,"B",IEN,PAIEN)) Q:PAIEN=""  D
"RTN","SCMCMHTC",75,0)
 ..Q:$$GET1^DIQ(404.52,PAIEN,.04,"I")'=1
"RTN","SCMCMHTC",76,0)
 ..S TPIEN="",TPIEN=$$GET1^DIQ(404.52,PAIEN,.01,"I") Q:TPIEN=""
"RTN","SCMCMHTC",77,0)
 ..S ROLE="",ROLE=$$GET1^DIQ(404.57,TPIEN,.03) Q:ROLE'["(MHTC)"
"RTN","SCMCMHTC",78,0)
 ..S MHTC="",MHTC=$$GET1^DIQ(404.52,PAIEN,.03) Q:MHTC="" 
"RTN","SCMCMHTC",79,0)
 ..S PIEN="",PIEN=$$GET1^DIQ(404.52,PAIEN,.03,"I")
"RTN","SCMCMHTC",80,0)
 ..S TP="",TP=$$GET1^DIQ(404.57,TPIEN,.01)
"RTN","SCMCMHTC",81,0)
 ..S TEAM="",TEAM=$$GET1^DIQ(404.57,TPIEN,.02)
"RTN","SCMCMHTC",82,0)
 ..S CC=CC+1 S ^TMP("SCMCMHTC",$J,MHTC,CC)=PIEN_"^"_MHTC_"^"_ROLE_"^"_TP_"^"_TEAM
"RTN","SCMCMHTC",83,0)
 ..Q
"RTN","SCMCMHTC",84,0)
 D EXIT
"RTN","SCMCMHTC",85,0)
 Q
"RTN","SCMCMHTC",86,0)
 ;
"RTN","SCMCMHTC",87,0)
EXIT ;
"RTN","SCMCMHTC",88,0)
 K PIEN,ROLE,PAIEN,TP,TEAM,CC,MHTC,IEN,TPIEN
"RTN","SCMCMHTC",89,0)
 Q
"RTN","SCMCNPER")
0^21^B40344757
"RTN","SCMCNPER",1,0)
SCMCNPER ;ALB/ART - PCMM Web Query New Person file ;03/13/2015
"RTN","SCMCNPER",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SCMCNPER",3,0)
 ;
"RTN","SCMCNPER",4,0)
 QUIT
"RTN","SCMCNPER",5,0)
 ;
"RTN","SCMCNPER",6,0)
 ;Cloned from XUPSQRY - PCMM Web needs Application Proxy Access
"RTN","SCMCNPER",7,0)
 ;added new parameter to lookup by DUZ, and add phone and pager to return
"RTN","SCMCNPER",8,0)
 ;don't filter out inactive, return info to PCMM Web
"RTN","SCMCNPER",9,0)
 ;
"RTN","SCMCNPER",10,0)
 ;Public, Supported ICRs
"RTN","SCMCNPER",11,0)
 ; #1625  - PERSON CLASS API'S
"RTN","SCMCNPER",12,0)
 ; #2343  - DBIA2343 (XUSER)
"RTN","SCMCNPER",13,0)
 ; #4574  - XUPS APIs
"RTN","SCMCNPER",14,0)
 ; #10000 - Classic FileMan API: Date/Time Manipulation (%DTC)
"RTN","SCMCNPER",15,0)
 ; #10060 - NEW PERSON FILE
"RTN","SCMCNPER",16,0)
 ; #10106 - HLFNC (HL7 APIs)
"RTN","SCMCNPER",17,0)
 ; #10112 - VASITE - Supported APIs for site info
"RTN","SCMCNPER",18,0)
 ;
"RTN","SCMCNPER",19,0)
 ;XUPSQRY ;EDS/GRR - Query New Person file ;4/9/04  10:40
"RTN","SCMCNPER",20,0)
 ;;8.0;KERNEL;**325**; Jul 10, 1995
"RTN","SCMCNPER",21,0)
 ;
"RTN","SCMCNPER",22,0)
 ;Input Parameter:
"RTN","SCMCNPER",23,0)
 ;   SCMCVPID - VPID of the user (Required for lookup by VPID)
"RTN","SCMCNPER",24,0)
 ;   SCMCDUZ  - File 200 IEN (Required for lookup by IEN)
"RTN","SCMCNPER",25,0)
 ;   SCMCLNAM - Part or all of the last name to use for basis
"RTN","SCMCNPER",26,0)
 ;              of query (Required for lookup by name)
"RTN","SCMCNPER",27,0)
 ;   SCMCFNAM - Part or all of the first name to use for basis
"RTN","SCMCNPER",28,0)
 ;              of query filter (optional, can be null)
"RTN","SCMCNPER",29,0)
 ;   SCMCSSN  - Social Security Number (null or full 9 digits) to
"RTN","SCMCNPER",30,0)
 ;              use as additional filter for query
"RTN","SCMCNPER",31,0)
 ;   SCMCPROV - If value set to "P", screen for only providers
"RTN","SCMCNPER",32,0)
 ;              (only persons with active person class)
"RTN","SCMCNPER",33,0)
 ;   SCMCSTN  - Filter persons based on station number entered
"RTN","SCMCNPER",34,0)
 ;              (optional, can be null)  This parameter is no longer used, but left as a place holder.
"RTN","SCMCNPER",35,0)
 ;   SCMCMNM  - Maximum Number of entries to return
"RTN","SCMCNPER",36,0)
 ;              (Number between 1 and 50.  Null defaults to 50)
"RTN","SCMCNPER",37,0)
 ;   SCMCDATE - Date to be used to determine whether person has
"RTN","SCMCNPER",38,0)
 ;              active person class.  If null, current date is used.
"RTN","SCMCNPER",39,0)
 ;
"RTN","SCMCNPER",40,0)
 ;Output:
"RTN","SCMCNPER",41,0)
 ;   RESULT - Name of global array were output data is stored
"RTN","SCMCNPER",42,0)
 ;            ^TMP($J,"SCMCQRY",1) - 1 if found, 0 if not found
"RTN","SCMCNPER",43,0)
 ;            ^TMP($J,"SCMCQRY",n,0) - VPID^IEN^Last Name~First Name~Middle Name^SSN^DOB^SEX^Phone^Pager^
"RTN","SCMCNPER",44,0)
 ;            ^TMP($J,"SCMCQRY",n,1) - Provider Type^
"RTN","SCMCNPER",45,0)
 ;            ^TMP($J,"SCMCQRY",n,2) - Provider Classification^
"RTN","SCMCNPER",46,0)
 ;            ^TMP($J,"SCMCQRY",n,3) - Provider Area of Specialization^
"RTN","SCMCNPER",47,0)
 ;            ^TMP($J,"SCMCQRY",n,4) - VA CODE^X12 CODE^Specialty Code
"RTN","SCMCNPER",48,0)
 ;            ^TMP($J,"SCMCQRY",n,5) - Result of call to $$ACTIVE^XUSER(SCMCIEN)^end-of-record character "|"
"RTN","SCMCNPER",49,0)
 ;
"RTN","SCMCNPER",50,0)
EN1(RESULT,SCMCVPID,SCMCDUZ,SCMCLNAM,SCMCFNAM,SCMCSSN,SCMCPROV,SCMCSTN,SCMCMNM,SCMCDATE) ;
"RTN","SCMCNPER",51,0)
 N %,SCMCNDAT
"RTN","SCMCNPER",52,0)
 K ^TMP($J,"SCMCQRY")
"RTN","SCMCNPER",53,0)
 K RESULT
"RTN","SCMCNPER",54,0)
 S RESULT=$NA(^TMP($J,"SCMCQRY")) ;set variable to name of global array where output data will be stored 
"RTN","SCMCNPER",55,0)
 S ^TMP($J,"SCMCQRY",1)=0 ;initialize to not found
"RTN","SCMCNPER",56,0)
 I $G(SCMCLNAM)="",($G(SCMCVPID)=""),($G(SCMCDUZ)="") Q  ;one of the 3 lookup parameters is required
"RTN","SCMCNPER",57,0)
 S SCMCFNAM=$G(SCMCFNAM)  ;Set to null if missing
"RTN","SCMCNPER",58,0)
 S SCMCSSN=$G(SCMCSSN)  ;Set to null if missing
"RTN","SCMCNPER",59,0)
 S SCMCPROV=$G(SCMCPROV)  ;Set to null if missing
"RTN","SCMCNPER",60,0)
 S SCMCSTN=$G(SCMCSTN)  ;Set to null if missing
"RTN","SCMCNPER",61,0)
 I $G(SCMCDATE)="" S SCMCDATE="" ;set to null if missing
"RTN","SCMCNPER",62,0)
 D NOW^%DTC
"RTN","SCMCNPER",63,0)
 S SCMCNDAT=%\1 ;set date to today and truncate time
"RTN","SCMCNPER",64,0)
 S SCMCDATE=$S(SCMCDATE="":SCMCNDAT,1:$$FMDATE^HLFNC(SCMCDATE)) ;change date from hl7 format to fileman format
"RTN","SCMCNPER",65,0)
 ;
"RTN","SCMCNPER",66,0)
 N SCMCCNT,SCMCNAME,SCMCIEN,SCMCDOB,SCMCSEX,SCMCPC,SCMCX12,SCMCPASS ;initialize new set of variables
"RTN","SCMCNPER",67,0)
 S:$G(SCMCMNM)="" SCMCMNM=50 ;set to default
"RTN","SCMCNPER",68,0)
 S SCMCCNT=0 ;Initialize variable
"RTN","SCMCNPER",69,0)
 ;
"RTN","SCMCNPER",70,0)
 ;Lookup by VPID
"RTN","SCMCNPER",71,0)
 I $G(SCMCVPID)'="" D  Q
"RTN","SCMCNPER",72,0)
 .S SCMCIEN=$$IEN^XUPS(SCMCVPID)
"RTN","SCMCNPER",73,0)
 .I +SCMCIEN>0 D
"RTN","SCMCNPER",74,0)
 ..D FILTER
"RTN","SCMCNPER",75,0)
 ..Q:SCMCPASS=0
"RTN","SCMCNPER",76,0)
 ..S SCMCCNT=SCMCCNT+1
"RTN","SCMCNPER",77,0)
 ..D FOUND(SCMCCNT,SCMCIEN,SCMCDATE) ;set array with person data
"RTN","SCMCNPER",78,0)
 ;
"RTN","SCMCNPER",79,0)
 ;Lookup by DUZ
"RTN","SCMCNPER",80,0)
 I $G(SCMCDUZ)'="" D  Q
"RTN","SCMCNPER",81,0)
 .Q:$$GET1^DIQ(200,SCMCDUZ_",",.01,"I")=""
"RTN","SCMCNPER",82,0)
 .S SCMCIEN=SCMCDUZ
"RTN","SCMCNPER",83,0)
 .D FILTER
"RTN","SCMCNPER",84,0)
 .Q:SCMCPASS=0
"RTN","SCMCNPER",85,0)
 .S SCMCCNT=SCMCCNT+1
"RTN","SCMCNPER",86,0)
 .D FOUND(SCMCCNT,SCMCIEN,SCMCDATE) ;set array with person data
"RTN","SCMCNPER",87,0)
 ;
"RTN","SCMCNPER",88,0)
 ;Lookup by name
"RTN","SCMCNPER",89,0)
 S SCMCIEN=0,SCMCNAME=SCMCLNAM ;initialize variables
"RTN","SCMCNPER",90,0)
 N SCMCRET,SCMCMSG,SCI
"RTN","SCMCNPER",91,0)
 D FIND^DIC(200,,"@;.01","PQ",SCMCLNAM,500,"B",,,"SCMCRET","SCMCMSG")
"RTN","SCMCNPER",92,0)
 S SCI=0
"RTN","SCMCNPER",93,0)
 F  S SCI=$O(SCMCRET("DILIST",SCI)) Q:SCI=""  D
"RTN","SCMCNPER",94,0)
 .S SCMCIEN=$P(SCMCRET("DILIST",SCI,0),U,1)
"RTN","SCMCNPER",95,0)
 .D FILTER
"RTN","SCMCNPER",96,0)
 .Q:SCMCPASS=0
"RTN","SCMCNPER",97,0)
 .S SCMCCNT=SCMCCNT+1
"RTN","SCMCNPER",98,0)
 .D FOUND(SCMCCNT,SCMCIEN,SCMCDATE) ;set array with person data
"RTN","SCMCNPER",99,0)
 Q
"RTN","SCMCNPER",100,0)
 ;
"RTN","SCMCNPER",101,0)
FILTER ;
"RTN","SCMCNPER",102,0)
 S SCMCPASS=1 ;initialize found flag to found
"RTN","SCMCNPER",103,0)
 I SCMCFNAM]"" S SCMCPASS=$$NMATCH(SCMCIEN,SCMCFNAM) ;check if matches name filter
"RTN","SCMCNPER",104,0)
 Q:'SCMCPASS  ;failed to match
"RTN","SCMCNPER",105,0)
 I SCMCSSN]"",($$GET1^DIQ(200,SCMCIEN_",",9)'=SCMCSSN) S SCMCPASS=0 Q  ;check ssn filter
"RTN","SCMCNPER",106,0)
 ;possible future use
"RTN","SCMCNPER",107,0)
 ;I SCMCSTN]"" S SCMCPASS=$$STNMAT(SCMCIEN,SCMCSTN) ;check station number
"RTN","SCMCNPER",108,0)
 ;Q:'SCMCPASS  ;failed match
"RTN","SCMCNPER",109,0)
 I SCMCPROV]"",($$GET^XUA4A72(SCMCIEN,SCMCDATE)<0) S SCMCPASS=0 Q  ;check if active person class
"RTN","SCMCNPER",110,0)
 Q
"RTN","SCMCNPER",111,0)
 ;
"RTN","SCMCNPER",112,0)
FOUND(SCMCCNT,SCMCIEN,SCMCDATE) ;format output array
"RTN","SCMCNPER",113,0)
 N SCMCNAME,SCMCSSN,SCMCVPID,SCMCSEX,SCMCDOB,SCMCPHON,SCMCPAGR,I,Y
"RTN","SCMCNPER",114,0)
 S Y=$$GET1^DIQ(200,SCMCIEN_",",.01) ;get full name
"RTN","SCMCNPER",115,0)
 S SCMCNAME=$$HLNAME^HLFNC(Y,"~|\/") ;format name into last name~first name~middle name
"RTN","SCMCNPER",116,0)
 I $L(SCMCNAME,"~")<3 S $P(SCMCNAME,"~",3)="" ;make sure formatted name has all 3 pieces
"RTN","SCMCNPER",117,0)
 S SCMCSSN=$$GET1^DIQ(200,SCMCIEN_",",9) ;ssn
"RTN","SCMCNPER",118,0)
 S SCMCVPID=$$GET1^DIQ(200,SCMCIEN_",",9000) ;vpid
"RTN","SCMCNPER",119,0)
 S SCMCSEX=$$GET1^DIQ(200,SCMCIEN_",",4,"I") ;sex
"RTN","SCMCNPER",120,0)
 S SCMCDOB=$$GET1^DIQ(200,SCMCIEN_",",5,"I") ;dob fileman format
"RTN","SCMCNPER",121,0)
 I SCMCDOB]"" S SCMCDOB=$$HLDATE^HLFNC(SCMCDOB,"DT") ;format dob to correct hl7 format yyyymmdd
"RTN","SCMCNPER",122,0)
 S SCMCPHON=$$GET1^DIQ(200,SCMCIEN_",",.132) ;office phone
"RTN","SCMCNPER",123,0)
 S SCMCPAGR=$$GET1^DIQ(200,SCMCIEN_",",.138) ;digital pager
"RTN","SCMCNPER",124,0)
 S ^TMP($J,"SCMCQRY",1)=1 ;set to indicate match found
"RTN","SCMCNPER",125,0)
 S ^TMP($J,"SCMCQRY",SCMCCNT,0)=SCMCVPID_"^"_SCMCIEN_"^"_SCMCNAME_"^"_SCMCSSN_"^"_SCMCDOB_"^"_SCMCSEX_"^"_SCMCPHON_"^"_SCMCPAGR_"^"
"RTN","SCMCNPER",126,0)
 S SCMCPC=$$GET^XUA4A72(SCMCIEN,SCMCDATE) ;get active person class data
"RTN","SCMCNPER",127,0)
 S:SCMCPC<0 SCMCPC="" ;no active person class
"RTN","SCMCNPER",128,0)
 F I=1:1:3 S ^TMP($J,"SCMCQRY",SCMCCNT,I)=$P(SCMCPC,"^",(1+I))_"^" ;put provider type, provider class, and are of specialization in output array
"RTN","SCMCNPER",129,0)
 S SCMCX12="" ;PCMM Web does not use this - 603
"RTN","SCMCNPER",130,0)
 S ^TMP($J,"SCMCQRY",SCMCCNT,4)=$P(SCMCPC,"^",7)_"^"_SCMCX12_"^"_$P(SCMCPC,"^",8)_"^" ;put va code, x12 code, specialty code
"RTN","SCMCNPER",131,0)
 S ^TMP($J,"SCMCQRY",SCMCCNT,5)=$$ACTIVE^XUSER(SCMCIEN)_"^|" ;603
"RTN","SCMCNPER",132,0)
 Q
"RTN","SCMCNPER",133,0)
 ;
"RTN","SCMCNPER",134,0)
NMATCH(SCMCIEN,SCMCFNAM) ;
"RTN","SCMCNPER",135,0)
 ;Match on First Name
"RTN","SCMCNPER",136,0)
 ;Input Parameters:
"RTN","SCMCNPER",137,0)
 ;      SCMCIEN - Internal Entry Number of New Person entry
"RTN","SCMCNPER",138,0)
 ;     SCMCFNAM - Part or all of Person first name
"RTN","SCMCNPER",139,0)
 ;Output:
"RTN","SCMCNPER",140,0)
 ;      SCMCOUT - 1 if name matched, 0 if name did not match
"RTN","SCMCNPER",141,0)
 ;
"RTN","SCMCNPER",142,0)
 N SCMCA,SCMCHFN,SCMCFN,SCMCNFN,SCMCOUT ;establish new variables
"RTN","SCMCNPER",143,0)
 S SCMCFN=$$GET1^DIQ(200,SCMCIEN_",",.01) ;get full name
"RTN","SCMCNPER",144,0)
 S SCMCHFN=$$HLNAME^HLFNC(SCMCFN,"~|\/") ;change to HL7 format (last name~first name~middle name)
"RTN","SCMCNPER",145,0)
 S SCMCNFN=$P(SCMCHFN,"~",2) ;get first name
"RTN","SCMCNPER",146,0)
 S SCMCOUT=$S($E(SCMCNFN,1,$L(SCMCFNAM))[SCMCFNAM:1,1:0) ; match first name to first name passed
"RTN","SCMCNPER",147,0)
 Q SCMCOUT  ;return 1 if name matched, 0 if no match
"RTN","SCMCNPER",148,0)
 ;
"RTN","SCMCNPER",149,0)
 ;STNMAT(SCMCIEN,SCMCSTN) ;Station Number matching (possible future use)
"RTN","SCMCNPER",150,0)
 ;Input Parameters:
"RTN","SCMCNPER",151,0)
 ;     SCMCIEN - Internal Entry Number of New Person entry
"RTN","SCMCNPER",152,0)
 ;     SCMCSTN - 3-6 character station number to use as screen
"RTN","SCMCNPER",153,0)
 ;               (i.e. 603 or 528A4)
"RTN","SCMCNPER",154,0)
 ;Output:
"RTN","SCMCNPER",155,0)
 ;     SCMCOUT - 1 if station matched, 0 if no station match
"RTN","SCMCNPER",156,0)
 ;
"RTN","SCMCNPER",157,0)
 ; NOTE: If this code is ever used, needs to be tested and subscription to ICR 4055
"RTN","SCMCNPER",158,0)
 ;
"RTN","SCMCNPER",159,0)
 ;NEW SCMCOUT,SCMCRET,SCI,SCHIT
"RTN","SCMCNPER",160,0)
 ;SET SCMCOUT=0
"RTN","SCMCNPER",161,0)
 ;DO DIVGET^XUSRB2(.SCMCRET,SCMCIEN)
"RTN","SCMCNPER",162,0)
 ;IF +SCMCRET(0)'=0 DO
"RTN","SCMCNPER",163,0)
 ;. SET SCHIT=0
"RTN","SCMCNPER",164,0)
 ;. SET SCI=""
"RTN","SCMCNPER",165,0)
 ;. FOR  SET SCI=$ORDER(SCMCRET(SCI)) QUIT:SCI=""!(SCHIT)  DO
"RTN","SCMCNPER",166,0)
 ;. . IF $PIECE(SCMCRET(SCI),U,3)=SCMCSTN DO
"RTN","SCMCNPER",167,0)
 ;. . . SET SCMCOUT=1
"RTN","SCMCNPER",168,0)
 ;. . . SET SCHIT=1
"RTN","SCMCNPER",169,0)
 ;QUIT SCMCOUT  ;return 1 if match, 0 if no match
"RTN","SCMCNPER",170,0)
 ;
"RTN","SCMCOPT")
0^25^B44626560
"RTN","SCMCOPT",1,0)
SCMCOPT ;ALB/DJS/ART - MARK SET OF PCMM OPTIONS OUT-OF-ORDER ;02/27/2015
"RTN","SCMCOPT",2,0)
 ;;5.3;Scheduling;**603**;AUG 13, 1993;Build 79
"RTN","SCMCOPT",3,0)
 ;
"RTN","SCMCOPT",4,0)
 QUIT
"RTN","SCMCOPT",5,0)
 ;
"RTN","SCMCOPT",6,0)
 ;Supported ICRs
"RTN","SCMCOPT",7,0)
 ; #1157 - XPDMENU call
"RTN","SCMCOPT",8,0)
 ; #5567 - XPDPROT call
"RTN","SCMCOPT",9,0)
 ; #2053 - Data Base Server API: Editing Utilities (DIE)
"RTN","SCMCOPT",10,0)
 ; #2056 - Data Base Server API: Data Retriever Utilities (DIQ)
"RTN","SCMCOPT",11,0)
 ; #10060 - NEW PERSON FILE
"RTN","SCMCOPT",12,0)
 ; #10075 - OPTION FILE
"RTN","SCMCOPT",13,0)
 ; #10141 - XPDUTL - Public APIs for KIDS
"RTN","SCMCOPT",14,0)
 ;
"RTN","SCMCOPT",15,0)
OPTOUT ;Set option out-of-order
"RTN","SCMCOPT",16,0)
 ;
"RTN","SCMCOPT",17,0)
 ;  OPT - Menu option to mark out-of-order
"RTN","SCMCOPT",18,0)
 ;  TXT - Out-of-order message text
"RTN","SCMCOPT",19,0)
 ;
"RTN","SCMCOPT",20,0)
 N I,OPT,TXT
"RTN","SCMCOPT",21,0)
 S TXT="This functionality is now accomplished by the PCMM Web Application."
"RTN","SCMCOPT",22,0)
 ;
"RTN","SCMCOPT",23,0)
 ;Set up FOR loop to process each OOO option
"RTN","SCMCOPT",24,0)
 ;
"RTN","SCMCOPT",25,0)
 F I=1:1 S OPT=$P($TEXT(OPTLIST+I),";;",2) Q:OPT="$$END"!(OPT="")   D
"RTN","SCMCOPT",26,0)
 . D OUT^XPDMENU(OPT,TXT)  ;Mark option out-of-order
"RTN","SCMCOPT",27,0)
 DO MES^XPDUTL(" o  Legacy PCMM menu options were marked Out-of-Order.")
"RTN","SCMCOPT",28,0)
 DO MES^XPDUTL(" ")
"RTN","SCMCOPT",29,0)
 ;
"RTN","SCMCOPT",30,0)
PROTDIS ;Disable protocol
"RTN","SCMCOPT",31,0)
 ;
"RTN","SCMCOPT",32,0)
 ;  PROT - Protocol to disable
"RTN","SCMCOPT",33,0)
 ;  TXT - Disabled protocol message text
"RTN","SCMCOPT",34,0)
 ;
"RTN","SCMCOPT",35,0)
 N I,PROT,TXT
"RTN","SCMCOPT",36,0)
 S TXT="This functionality is now accomplished by the PCMM Web Application."
"RTN","SCMCOPT",37,0)
 ;
"RTN","SCMCOPT",38,0)
 ;Set up FOR loop to process each disabled protocol
"RTN","SCMCOPT",39,0)
 ;
"RTN","SCMCOPT",40,0)
 F I=1:1 S PROT=$P($TEXT(PROTLIST+I),";;",2) Q:PROT="$$END"!(PROT="")   D
"RTN","SCMCOPT",41,0)
 . D OUT^XPDPROT(PROT,TXT)  ;Disable protocol
"RTN","SCMCOPT",42,0)
 DO MES^XPDUTL(" o  Legacy PCMM - SC PC PATIENT ASSIGN/UNASSIGN - protocol was disabled.")
"RTN","SCMCOPT",43,0)
 DO MES^XPDUTL(" ")
"RTN","SCMCOPT",44,0)
 QUIT
"RTN","SCMCOPT",45,0)
 ;
"RTN","SCMCOPT",46,0)
RESTORE ;UnSet option out-of-order
"RTN","SCMCOPT",47,0)
 ;
"RTN","SCMCOPT",48,0)
 ;  OPT - Menu option to mark out-of-order
"RTN","SCMCOPT",49,0)
 ;  TXT - Out-of-order message text
"RTN","SCMCOPT",50,0)
 ;
"RTN","SCMCOPT",51,0)
 N I,OPT,TXT
"RTN","SCMCOPT",52,0)
 S TXT=""
"RTN","SCMCOPT",53,0)
 ;
"RTN","SCMCOPT",54,0)
 ;Set up FOR loop to process each OOO option
"RTN","SCMCOPT",55,0)
 ;
"RTN","SCMCOPT",56,0)
 F I=1:1 S OPT=$P($TEXT(OPTLIST+I),";;",2) Q:OPT="$$END"!(OPT="")   D
"RTN","SCMCOPT",57,0)
 . D OUT^XPDMENU(OPT,TXT)  ;UnMark option out-of-order
"RTN","SCMCOPT",58,0)
 W !!,"Legacy PCMM options were unmarked Out-of-Order.",!
"RTN","SCMCOPT",59,0)
 ;
"RTN","SCMCOPT",60,0)
 QUIT
"RTN","SCMCOPT",61,0)
 ;
"RTN","SCMCOPT",62,0)
SECMENU ; Change New Person Records that have SCMC PCMM GUI WORKSTATION to SCMC PCMMR WEB USER MENU
"RTN","SCMCOPT",63,0)
 ;
"RTN","SCMCOPT",64,0)
 NEW SCGUIIEN,SCWEBIEN,SCDUZ,SCSECIEN,SCIENS,SCFDA,SCERR
"RTN","SCMCOPT",65,0)
 NEW SCGUINM,SCWEBNM
"RTN","SCMCOPT",66,0)
 SET SCGUINM="SCMC PCMM GUI WORKSTATION"
"RTN","SCMCOPT",67,0)
 SET SCWEBNM="SCMC PCMMR WEB USER MENU"
"RTN","SCMCOPT",68,0)
 ;
"RTN","SCMCOPT",69,0)
 SET SCGUIIEN=$$FIND1^DIC(19,"","BX",SCGUINM,"","","")
"RTN","SCMCOPT",70,0)
 SET SCWEBIEN=$$FIND1^DIC(19,"","BX",SCWEBNM,"","","")
"RTN","SCMCOPT",71,0)
 QUIT:'SCGUIIEN
"RTN","SCMCOPT",72,0)
 QUIT:'SCWEBIEN
"RTN","SCMCOPT",73,0)
 ;
"RTN","SCMCOPT",74,0)
 WRITE !,"This routine will convert a user's Seconary Menu Option from",!
"RTN","SCMCOPT",75,0)
 WRITE "SCMC PCMM GUI WORKSTATION to SCMC PCMMR WEB USER MENU",!
"RTN","SCMCOPT",76,0)
 ;
"RTN","SCMCOPT",77,0)
 SET ^XTMP("SCMC-SECMENU",0)=$$FMADD^XLFDT($$DT^XLFDT(),180)_U_$$DT^XLFDT()_U_"Convert PCMM Users Secondary Menu Option"
"RTN","SCMCOPT",78,0)
 SET SCDUZ=0
"RTN","SCMCOPT",79,0)
 FOR  SET SCDUZ=$ORDER(^VA(200,SCDUZ)) QUIT:'+SCDUZ  DO
"RTN","SCMCOPT",80,0)
 . SET SCSECIEN=0
"RTN","SCMCOPT",81,0)
 . FOR  SET SCSECIEN=$ORDER(^VA(200,SCDUZ,203,SCSECIEN)) QUIT:'+SCSECIEN  DO
"RTN","SCMCOPT",82,0)
 . . SET SCIENS=SCSECIEN_","_SCDUZ_","
"RTN","SCMCOPT",83,0)
 . . IF $$GET1^DIQ(200.03,SCIENS,.01,"I")=SCGUIIEN DO  ;if = SCMC PCMM GUI WORKSTATION
"RTN","SCMCOPT",84,0)
 . . . ;change it to SCMC PCMMR WEB USER MENU
"RTN","SCMCOPT",85,0)
 . . . NEW SCFDA
"RTN","SCMCOPT",86,0)
 . . . SET SCFDA(200.03,SCIENS,.01)=SCWEBIEN
"RTN","SCMCOPT",87,0)
 . . . SET SCFDA(200.03,SCIENS,2)=""
"RTN","SCMCOPT",88,0)
 . . . DO FILE^DIE("K","SCFDA","SCERR")
"RTN","SCMCOPT",89,0)
 . . . SET ^XTMP("SCMC-SECMENU",SCDUZ)=$$GET1^DIQ(200,SCDUZ,.01)
"RTN","SCMCOPT",90,0)
 ;
"RTN","SCMCOPT",91,0)
 ;list
"RTN","SCMCOPT",92,0)
 WRITE !!,"Users with Secondary Menu Option - SCMC PCMMR WEB USER MENU",!
"RTN","SCMCOPT",93,0)
 SET SCDUZ=0
"RTN","SCMCOPT",94,0)
 FOR  SET SCDUZ=$ORDER(^VA(200,SCDUZ)) QUIT:'+SCDUZ  DO
"RTN","SCMCOPT",95,0)
 . SET SCSECIEN=0
"RTN","SCMCOPT",96,0)
 . FOR  SET SCSECIEN=$ORDER(^VA(200,SCDUZ,203,SCSECIEN)) QUIT:'+SCSECIEN  DO
"RTN","SCMCOPT",97,0)
 . . SET SCIENS=SCSECIEN_","_SCDUZ_","
"RTN","SCMCOPT",98,0)
 . . IF $$GET1^DIQ(200.03,SCIENS,.01,"I")=SCWEBIEN DO  ;if = SCMC PCMMR WEB USER MENU
"RTN","SCMCOPT",99,0)
 . . . WRITE "DUZ: ",SCDUZ,"     NAME: ",$$GET1^DIQ(200,SCDUZ,.01),!
"RTN","SCMCOPT",100,0)
 ;
"RTN","SCMCOPT",101,0)
 QUIT
"RTN","SCMCOPT",102,0)
 ;
"RTN","SCMCOPT",103,0)
RESTMENU ; Change New Person Records that have SCMC PCMMR WEB USER MENU to SCMC PCMM GUI WORKSTATION
"RTN","SCMCOPT",104,0)
 ;
"RTN","SCMCOPT",105,0)
 NEW SCGUIIEN,SCWEBIEN,SCDUZ,SCSECIEN,SCIENS,SCFDA,SCERR
"RTN","SCMCOPT",106,0)
 NEW SCGUINM,SCWEBNM
"RTN","SCMCOPT",107,0)
 SET SCGUINM="SCMC PCMM GUI WORKSTATION"
"RTN","SCMCOPT",108,0)
 SET SCWEBNM="SCMC PCMMR WEB USER MENU"
"RTN","SCMCOPT",109,0)
 ;
"RTN","SCMCOPT",110,0)
 SET SCGUIIEN=$$FIND1^DIC(19,"","BX",SCGUINM,"","","")
"RTN","SCMCOPT",111,0)
 SET SCWEBIEN=$$FIND1^DIC(19,"","BX",SCWEBNM,"","","")
"RTN","SCMCOPT",112,0)
 QUIT:'SCGUIIEN
"RTN","SCMCOPT",113,0)
 QUIT:'SCWEBIEN
"RTN","SCMCOPT",114,0)
 ;
"RTN","SCMCOPT",115,0)
 ;list
"RTN","SCMCOPT",116,0)
 WRITE !,"This routine will convert a user's Seconary Menu Option from",!
"RTN","SCMCOPT",117,0)
 WRITE "SCMC PCMMR WEB USER MENU to SCMC PCMM GUI WORKSTATION",!
"RTN","SCMCOPT",118,0)
 WRITE !,"Users with Secondary Menu Option - SCMC PCMMR WEB USER MENU",!
"RTN","SCMCOPT",119,0)
 SET SCDUZ=0
"RTN","SCMCOPT",120,0)
 FOR  SET SCDUZ=$ORDER(^VA(200,SCDUZ)) QUIT:'+SCDUZ  DO
"RTN","SCMCOPT",121,0)
 . SET SCSECIEN=0
"RTN","SCMCOPT",122,0)
 . FOR  SET SCSECIEN=$ORDER(^VA(200,SCDUZ,203,SCSECIEN)) QUIT:'+SCSECIEN  DO
"RTN","SCMCOPT",123,0)
 . . SET SCIENS=SCSECIEN_","_SCDUZ_","
"RTN","SCMCOPT",124,0)
 . . IF $$GET1^DIQ(200.03,SCIENS,.01,"I")=SCWEBIEN DO  ;if = SCMC PCMMR WEB USER MENU
"RTN","SCMCOPT",125,0)
 . . . WRITE "DUZ: ",SCDUZ,"     NAME: ",$$GET1^DIQ(200,SCDUZ,.01),!
"RTN","SCMCOPT",126,0)
 ;
"RTN","SCMCOPT",127,0)
 NEW DIR,X,Y,DIRUT
"RTN","SCMCOPT",128,0)
 SET DIR(0)="Y"
"RTN","SCMCOPT",129,0)
 SET DIR("A")="Do you want to convert now"
"RTN","SCMCOPT",130,0)
 SET DIR("B")="NO"
"RTN","SCMCOPT",131,0)
 DO ^DIR
"RTN","SCMCOPT",132,0)
 QUIT:$DATA(DIRUT)
"RTN","SCMCOPT",133,0)
 QUIT:'Y
"RTN","SCMCOPT",134,0)
 ;
"RTN","SCMCOPT",135,0)
 ;convert
"RTN","SCMCOPT",136,0)
 SET ^XTMP("SCMC-SECMENU2",0)=$$FMADD^XLFDT($$DT^XLFDT(),180)_U_$$DT^XLFDT()_U_"UnConvert PCMM Users Secondary Menu Option"
"RTN","SCMCOPT",137,0)
 SET SCDUZ=0
"RTN","SCMCOPT",138,0)
 FOR  SET SCDUZ=$ORDER(^VA(200,SCDUZ)) QUIT:'+SCDUZ  DO
"RTN","SCMCOPT",139,0)
 . SET SCSECIEN=0
"RTN","SCMCOPT",140,0)
 . FOR  SET SCSECIEN=$ORDER(^VA(200,SCDUZ,203,SCSECIEN)) QUIT:'+SCSECIEN  DO
"RTN","SCMCOPT",141,0)
 . . SET SCIENS=SCSECIEN_","_SCDUZ_","
"RTN","SCMCOPT",142,0)
 . . IF $$GET1^DIQ(200.03,SCIENS,.01,"I")=SCWEBIEN DO  ;if = SCMC PCMMR WEB USER MENU
"RTN","SCMCOPT",143,0)
 . . . ;change it to SCMC PCMMR WEB USER MENU
"RTN","SCMCOPT",144,0)
 . . . NEW SCFDA
"RTN","SCMCOPT",145,0)
 . . . SET SCFDA(200.03,SCIENS,.01)=SCGUIIEN
"RTN","SCMCOPT",146,0)
 . . . SET SCFDA(200.03,SCIENS,2)=""
"RTN","SCMCOPT",147,0)
 . . . DO FILE^DIE("K","SCFDA","SCERR")
"RTN","SCMCOPT",148,0)
 . . . SET ^XTMP("SCMC-SECMENU2",SCDUZ)=$$GET1^DIQ(200,SCDUZ,.01)
"RTN","SCMCOPT",149,0)
 ;
"RTN","SCMCOPT",150,0)
 ;list again
"RTN","SCMCOPT",151,0)
 WRITE !!,"Users with Secondary Menu Option - SCMC PCMM GUI WORKSTATION",!
"RTN","SCMCOPT",152,0)
 SET SCDUZ=0
"RTN","SCMCOPT",153,0)
 FOR  SET SCDUZ=$ORDER(^VA(200,SCDUZ)) QUIT:'+SCDUZ  DO
"RTN","SCMCOPT",154,0)
 . SET SCSECIEN=0
"RTN","SCMCOPT",155,0)
 . FOR  SET SCSECIEN=$ORDER(^VA(200,SCDUZ,203,SCSECIEN)) QUIT:'+SCSECIEN  DO
"RTN","SCMCOPT",156,0)
 . . SET SCIENS=SCSECIEN_","_SCDUZ_","
"RTN","SCMCOPT",157,0)
 . . IF $$GET1^DIQ(200.03,SCIENS,.01,"I")=SCGUIIEN DO  ;if = SCMC PCMM GUI WORKSTATION
"RTN","SCMCOPT",158,0)
 . . . WRITE "DUZ: ",SCDUZ,"     NAME: ",$$GET1^DIQ(200,SCDUZ,.01),!
"RTN","SCMCOPT",159,0)
 ;
"RTN","SCMCOPT",160,0)
 QUIT
"RTN","SCMCOPT",161,0)
 ;
"RTN","SCMCOPT",162,0)
OPTLIST ;OPTIONS LIST
"RTN","SCMCOPT",163,0)
 ;;SCMC PATIENT ASSIGN/UNASSIGN
"RTN","SCMCOPT",164,0)
 ;;SCMC CLEAN GHOST ENTRIES
"RTN","SCMCOPT",165,0)
 ;;SCMC CLEAN INSTITUTION
"RTN","SCMCOPT",166,0)
 ;;SCMC CONVERSION TOOLS MENU
"RTN","SCMCOPT",167,0)
 ;;SCMC EXTEND A PATIENT
"RTN","SCMCOPT",168,0)
 ;;SCMC FLAGGED
"RTN","SCMCOPT",169,0)
 ;;SCMC MU MASS TEAM UNASSIGNMENT
"RTN","SCMCOPT",170,0)
 ;;SCMC PC ATTENDING CONVERSION
"RTN","SCMCOPT",171,0)
 ;;SCMC PCMM BASELINE SEEDING
"RTN","SCMCOPT",172,0)
 ;;SCMC PCMM EDIT PRACTIT #404.52
"RTN","SCMCOPT",173,0)
 ;;SCMC PCMM NIGHTLY TASK
"RTN","SCMCOPT",174,0)
 ;;SCMC PRECEPTOR CONVERSION
"RTN","SCMCOPT",175,0)
 ;;SCMC PRECEPTOR MIGRATION RPT
"RTN","SCMCOPT",176,0)
 ;;SCMC RETRANSMIT
"RTN","SCMCOPT",177,0)
 ;;SCMC PCMM GUI WORKSTATION
"RTN","SCMCOPT",178,0)
 ;;SCMC PC ATTENDING ASGN RPT
"RTN","SCMCOPT",179,0)
 ;;$$END
"RTN","SCMCOPT",180,0)
 ;
"RTN","SCMCOPT",181,0)
PROTLIST ;PROTOCOLS LIST
"RTN","SCMCOPT",182,0)
 ;;SC PC PATIENT ASSIGN/UNASSIGN
"RTN","SCMCOPT",183,0)
 ;;$$END
"RTN","SCMCOPT",184,0)
 ;
"RTN","SCMCPAT")
0^23^B7157117
"RTN","SCMCPAT",1,0)
SCMCPAT ;ALB/ART - PCMMR-RPC to Get Patient Data ;02/05/2015
"RTN","SCMCPAT",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SCMCPAT",3,0)
 ;
"RTN","SCMCPAT",4,0)
 QUIT
"RTN","SCMCPAT",5,0)
 ;
"RTN","SCMCPAT",6,0)
 ;Public, Supported ICRs
"RTN","SCMCPAT",7,0)
 ; #2056 - Data Base Server API: Data Retriever Utilities (DIQ)
"RTN","SCMCPAT",8,0)
 ; #2701 - MPIF001 - ICN
"RTN","SCMCPAT",9,0)
 ; #10035 - PATIENT FILE
"RTN","SCMCPAT",10,0)
 ; #10061 - VADPT - Patient file data
"RTN","SCMCPAT",11,0)
 ;
"RTN","SCMCPAT",12,0)
DIEDON(SCRET,SCDFN) ; Check for patient date of death
"RTN","SCMCPAT",13,0)
 ;Inputs: SCRET - String for patient DoD - passed by reference
"RTN","SCMCPAT",14,0)
 ;        SCDFN - Patient DFN
"RTN","SCMCPAT",15,0)
 ;Output: populated SCRET
"RTN","SCMCPAT",16,0)
 ; #2056 - Data Base Server API: Data Retriever Utilities (DIQ)
"RTN","SCMCPAT",17,0)
 ;
"RTN","SCMCPAT",18,0)
 IF $GET(SCDFN)="" DO  QUIT
"RTN","SCMCPAT",19,0)
 . SET SCRET="-1^Missing DFN parameter."
"RTN","SCMCPAT",20,0)
 IF $$GET1^DIQ(2,SCDFN_",",.01)="" DO  QUIT
"RTN","SCMCPAT",21,0)
 . SET SCRET="-1^Patient was not found."
"RTN","SCMCPAT",22,0)
 SET SCRET=+$$GET1^DIQ(2,SCDFN_",",.351,"I")
"RTN","SCMCPAT",23,0)
 QUIT
"RTN","SCMCPAT",24,0)
 ;
"RTN","SCMCPAT",25,0)
PATIENT(SCRET,SCDFN) ; Patient Information
"RTN","SCMCPAT",26,0)
 ;Inputs: SCRET - String for patient Data - passed by reference
"RTN","SCMCPAT",27,0)
 ;        SCDFN - Patient DFN
"RTN","SCMCPAT",28,0)
 ;Output: populated SCRET
"RTN","SCMCPAT",29,0)
 ; 1      2         3   4   5   6      7             8          9        10       11      12   13   14    15      16       17       18
"RTN","SCMCPAT",30,0)
 ;DFN^PATIENT NAME^SSN^DOB^AGE^SEX^MARITAL STATUS^ACTIVE DUTY^ADDRESS1^ADDRESS2^ADDRESS3^CITY^STATE^ZIP^COUNTY^TELEPHONE^SENSITIVE^ICN
"RTN","SCMCPAT",31,0)
 ;
"RTN","SCMCPAT",32,0)
 ; #10061 - VADPT - Patient file data
"RTN","SCMCPAT",33,0)
 ; #2701 - MPIF001 - ICN
"RTN","SCMCPAT",34,0)
 ;
"RTN","SCMCPAT",35,0)
 IF $GET(SCDFN)="" DO  QUIT
"RTN","SCMCPAT",36,0)
 . SET SCRET="-1^Missing DFN parameter"
"RTN","SCMCPAT",37,0)
 IF $$GET1^DIQ(2,SCDFN_",",.01)="" DO  QUIT
"RTN","SCMCPAT",38,0)
 . SET SCRET="-1^Patient was not found."
"RTN","SCMCPAT",39,0)
 SET SCRET="-1^Error retrieving patient data"
"RTN","SCMCPAT",40,0)
 ;
"RTN","SCMCPAT",41,0)
 NEW DFN,I,VA,VADM,VAEL,VAERR,VAPA,SCTMP,SCPAT,SCICN
"RTN","SCMCPAT",42,0)
 SET DFN=SCDFN
"RTN","SCMCPAT",43,0)
 DO DEM^VADPT QUIT:VAERR
"RTN","SCMCPAT",44,0)
 DO ADD^VADPT QUIT:VAERR
"RTN","SCMCPAT",45,0)
 DO ELIG^VADPT QUIT:VAERR
"RTN","SCMCPAT",46,0)
 MERGE SCTMP=VADM
"RTN","SCMCPAT",47,0)
 SET SCTMP(10)=$PIECE(SCTMP(10),U,2)
"RTN","SCMCPAT",48,0)
 SET SCPAT=SCDFN
"RTN","SCMCPAT",49,0)
 FOR I=1,2,3,4,5,10 SET SCPAT=SCPAT_U_$PIECE(SCTMP(I),U)
"RTN","SCMCPAT",50,0)
 SET SCPAT=SCPAT_U_$SELECT($PIECE(VAEL(6),U,2)="ACTIVE DUTY":"A",1:"N")
"RTN","SCMCPAT",51,0)
 NEW SCTMP
"RTN","SCMCPAT",52,0)
 MERGE SCTMP=VAPA
"RTN","SCMCPAT",53,0)
 FOR I=5,7 SET SCTMP(I)=$PIECE(SCTMP(I),U,2)
"RTN","SCMCPAT",54,0)
 FOR I=1,2,3,4,5,6,7,8 SET SCPAT=SCPAT_U_$PIECE(SCTMP(I),U)
"RTN","SCMCPAT",55,0)
 SET SCPAT=SCPAT_U_$$SENSITIV(SCDFN)
"RTN","SCMCPAT",56,0)
 SET SCICN=+$$GETICN^MPIF001(SCDFN)
"RTN","SCMCPAT",57,0)
 SET SCPAT=SCPAT_U_$SELECT(SCICN>0:SCICN,1:"")
"RTN","SCMCPAT",58,0)
 SET SCRET=SCPAT
"RTN","SCMCPAT",59,0)
 QUIT
"RTN","SCMCPAT",60,0)
 ;
"RTN","SCMCPAT",61,0)
SENSITIV(SCDFN) ; Sensitive Patient record check
"RTN","SCMCPAT",62,0)
 ;Input: SCDFN = Pointer to the Patient file (#2)
"RTN","SCMCPAT",63,0)
 ;Returns:
"RTN","SCMCPAT",64,0)
 ;   0 - Patient record IS NOT sensitive
"RTN","SCMCPAT",65,0)
 ;   1 - Patient record IS sensitive
"RTN","SCMCPAT",66,0)
 ; #2056 - Data Base Server API: Data Retriever Utilities (DIQ)
"RTN","SCMCPAT",67,0)
 ;
"RTN","SCMCPAT",68,0)
 QUIT ''$$GET1^DIQ(38.1,+$GET(SCDFN),2,"I")
"RTN","SCMCPAT",69,0)
 ;
"RTN","SCMCPAT",70,0)
MAKEOUT(SCRET,SCDFN,SCASSIGN) ;create/update an outpatient profile entry
"RTN","SCMCPAT",71,0)
 ;Called by RPC - ?????????????????????????
"RTN","SCMCPAT",72,0)
 ;Input: SCRET    - return code - passed by reference
"RTN","SCMCPAT",73,0)
 ;       SCDFN    - patient DFN
"RTN","SCMCPAT",74,0)
 ;       SCASSIGN - assignment type
"RTN","SCMCPAT",75,0)
 ;Output: populated SCRET
"RTN","SCMCPAT",76,0)
 ;
"RTN","SCMCPAT",77,0)
 IF $GET(SCDFN)="" DO  QUIT
"RTN","SCMCPAT",78,0)
 . SET SCRET="-1^Missing DFN parameter."
"RTN","SCMCPAT",79,0)
 IF $GET(SCASSIGN)="" DO  QUIT
"RTN","SCMCPAT",80,0)
 . SET SCRET="-1^Missing assignment type parameter."
"RTN","SCMCPAT",81,0)
 ;
"RTN","SCMCPAT",82,0)
 NEW SCX,SCOUTFLD,SCBADOUT
"RTN","SCMCPAT",83,0)
 SET SCOUTFLD(.04)=$SELECT(SCASSIGN=1:"Y",SCASSIGN=98:"Y",SCASSIGN=99:"N",1:"N")
"RTN","SCMCPAT",84,0)
 SET SCRET=$$ACOUTPT^SCAPMC20(SCDFN,"SCOUTFLD","SCBADOUT")
"RTN","SCMCPAT",85,0)
 QUIT
"RTN","SCMCPAT",86,0)
 ;
"RTN","SCMCTSK")
0^1^B38253964
"RTN","SCMCTSK",1,0)
SCMCTSK ;ALB/JDS/ART - PCMM ;02/26/2015
"RTN","SCMCTSK",2,0)
 ;;5.3;Scheduling;**264,278,272,297,581,603**;AUG 13, 1993;Build 79
"RTN","SCMCTSK",3,0)
 ;
"RTN","SCMCTSK",4,0)
 Q
"RTN","SCMCTSK",5,0)
RPT1 ;REPORT
"RTN","SCMCTSK",6,0)
 N DHD,DIOBEG,DIC,FLDS,BY
"RTN","SCMCTSK",7,0)
 S DIOBEG="D INACTIVE^SCMCTSK",DIC="^SCPT(404.43,",(FLDS,BY)="[SCMC PENDING UNASSIGN]"
"RTN","SCMCTSK",8,0)
 S DHD="Patients Flagged for Inactivation from PACT" ;603
"RTN","SCMCTSK",9,0)
 D EN1^DIP
"RTN","SCMCTSK",10,0)
 Q
"RTN","SCMCTSK",11,0)
INACTIVE ;run every night to determine if patient can be inactivated from
"RTN","SCMCTSK",12,0)
 ;team
"RTN","SCMCTSK",13,0)
 ;Inactivation happens for patients without activity for 20 months
"RTN","SCMCTSK",14,0)
 N I,TEAMNM,SDDT,TYDT
"RTN","SCMCTSK",15,0)
 D DT^DICRW S X="T-8M" D ^%DT S STDT=Y ;603
"RTN","SCMCTSK",16,0)
 S X="T-20M" D ^%DT S TYDT=+Y ;603
"RTN","SCMCTSK",17,0)
RPT ;enter for report with STDT and TYDT defined
"RTN","SCMCTSK",18,0)
 S A="^SCPT(404.43,""ADFN""",L=""""""
"RTN","SCMCTSK",19,0)
 S Q=A_")"
"RTN","SCMCTSK",20,0)
 F  S Q=$Q(@Q) Q:Q'[A  D
"RTN","SCMCTSK",21,0)
 .S ENTRY=+$P(Q,",",6)
"RTN","SCMCTSK",22,0)
 .S TEAM=$P(Q,",",4)
"RTN","SCMCTSK",23,0)
 .;I $P($G(^SCTM(404.51,+TEAM,0)),U,16) Q  ;no automatic for this team
"RTN","SCMCTSK",24,0)
 .;I $G(^DPT(DFN,.35)) D DIS Q  ;Patient is deceased
"RTN","SCMCTSK",25,0)
 .I $P(Q,",",5)>STDT Q  ;Later
"RTN","SCMCTSK",26,0)
 .S ZERO=$G(^SCPT(404.43,+ENTRY,0))
"RTN","SCMCTSK",27,0)
 .I $P(ZERO,U,4) Q  ;Already unassigned
"RTN","SCMCTSK",28,0)
 .I '$P(ZERO,U,5) Q  ;not Primary Care
"RTN","SCMCTSK",29,0)
 .;I $P(ZERO,U,16) Q  ;No Automatic unassign
"RTN","SCMCTSK",30,0)
 .;Check if any activity
"RTN","SCMCTSK",31,0)
 .S DFN=$P(Q,",",3),DFN=+$G(^SCPT(404.42,+DFN,0))
"RTN","SCMCTSK",32,0)
 .S SEEN=0
"RTN","SCMCTSK",33,0)
 .S TEAM=$P(Q,",",4),TEAMNM=$P($G(^SCTM(404.51,+TEAM,0)),U)
"RTN","SCMCTSK",34,0)
 .;who was provider for this position
"RTN","SCMCTSK",35,0)
 .Q:$$SEEN1(DFN,+$P(ZERO,U,2))
"RTN","SCMCTSK",36,0)
 .;I $G(DIS) D DIS Q
"RTN","SCMCTSK",37,0)
 .S ^TMP("SCMCTSK",$J,ENTRY)=""
"RTN","SCMCTSK",38,0)
 Q
"RTN","SCMCTSK",39,0)
SEEN1(DFN,POS) ;
"RTN","SCMCTSK",40,0)
 S SEEN=0
"RTN","SCMCTSK",41,0)
 K PROV F I=0:0 S I=$O(^SCTM(404.52,"B",+$G(POS),I)) Q:'I  D
"RTN","SCMCTSK",42,0)
 .N A S A=$G(^SCTM(404.52,+I,0)) I $P(A,U,4) S PROV(+$P(A,U,3))="" Q
"RTN","SCMCTSK",43,0)
 .I $P(A,U,2)<TYDT K PROV(+$P(A,U,3))
"RTN","SCMCTSK",44,0)
 F PROV=0:0 S PROV=$O(PROV(PROV)) Q:'PROV  D SEEN
"RTN","SCMCTSK",45,0)
 Q SEEN
"RTN","SCMCTSK",46,0)
SEEN ;See if seen in last 24 months go through visits
"RTN","SCMCTSK",47,0)
 F I=0:0 S I=$O(^AUPNVSIT("AA",DFN,I)) Q:'I  Q:(9999999-I<TYDT)  D  Q:SEEN
"RTN","SCMCTSK",48,0)
 .F J=0:0 S J=$O(^AUPNVSIT("AA",DFN,I,J)) Q:'J  D
"RTN","SCMCTSK",49,0)
 ..F P=0:0 S P=$O(^AUPNVPRV("AD",J,P))  Q:'P  S:PROV=(+$G(^AUPNVPRV(P,0))) SEEN=1 Q:SEEN  ;GET THE PROVIDERJ
"RTN","SCMCTSK",50,0)
 Q
"RTN","SCMCTSK",51,0)
DIS ;discharge
"RTN","SCMCTSK",52,0)
 N ZERO S ZERO=$G(^SCPT(404.43,+ENTRY,0))
"RTN","SCMCTSK",53,0)
 I $P(ZERO,U,4) Q  ;Already discharged
"RTN","SCMCTSK",54,0)
 ;I $P(ZERO,U,16) Q
"RTN","SCMCTSK",55,0)
 S DA=ENTRY,DIE="^SCPT(404.43,",DR=".04////"_DT_";.12////IU"
"RTN","SCMCTSK",56,0)
 D ^DIE
"RTN","SCMCTSK",57,0)
 ;
"RTN","SCMCTSK",58,0)
 Q
"RTN","SCMCTSK",59,0)
DEATH ;Called from date of death event
"RTN","SCMCTSK",60,0)
 ;DG FIELD MONITOR protocol, which calls SCMC PCMM INACTIVATE ON DATE OF DEATH
"RTN","SCMCTSK",61,0)
 ;
"RTN","SCMCTSK",62,0)
 I $G(DGFILE)'=2 Q
"RTN","SCMCTSK",63,0)
 I $G(DGFIELD)'=.351 Q
"RTN","SCMCTSK",64,0)
 S DFN=+$G(DGDA)
"RTN","SCMCTSK",65,0)
 N DEATH,I,DR,DIE,SCI,SCJ,SCTP,SCERR
"RTN","SCMCTSK",66,0)
 D DEM^VADPT S DEATH=$G(VADM(6))
"RTN","SCMCTSK",67,0)
 ;update CPMM patient Events (404.54) - 603
"RTN","SCMCTSK",68,0)
 D UPDEVNT(DFN,DEATH)
"RTN","SCMCTSK",69,0)
 Q:'DEATH
"RTN","SCMCTSK",70,0)
 ;DISPOSITION WAIT LIST
"RTN","SCMCTSK",71,0)
 F I=0:0 S I=$O(^SDWL(409.3,"B",+$G(DFN),I)) Q:'I  S A=$G(^SDWL(409.3,I,0)) D
"RTN","SCMCTSK",72,0)
 .I $G(^SDWL(409.3,I,"DIS")) Q
"RTN","SCMCTSK",73,0)
 .N FDA
"RTN","SCMCTSK",74,0)
 .S FDA(409.3,I_",",21)="D"
"RTN","SCMCTSK",75,0)
 .S FDA(409.3,I_",",19)=DT
"RTN","SCMCTSK",76,0)
 .S FDA(409.3,I_",",23)="C"
"RTN","SCMCTSK",77,0)
 .S FDA(409.3,I_",",20)=DUZ
"RTN","SCMCTSK",78,0)
 .D UPDATE^DIE("","FDA")
"RTN","SCMCTSK",79,0)
 Q
"RTN","SCMCTSK",80,0)
 ;
"RTN","SCMCTSK",81,0)
UPDEVNT(SCDFN,SCDTDTH) ;create/update patient event record (404.54)
"RTN","SCMCTSK",82,0)
 ; new for patch 603
"RTN","SCMCTSK",83,0)
 ; Inputs: SCDFN - patient DFN
"RTN","SCMCTSK",84,0)
 ;         SCDTDTH - patient date of death
"RTN","SCMCTSK",85,0)
 ; Output: new or updated record in 404.54
"RTN","SCMCTSK",86,0)
 ;
"RTN","SCMCTSK",87,0)
 ; ICR - 10103 - XLFDT - Supported APIs for date & time
"RTN","SCMCTSK",88,0)
 ; ICR - 2053 - Data Base Server API: Editing Utilities (DIE) - supported, public
"RTN","SCMCTSK",89,0)
 ;
"RTN","SCMCTSK",90,0)
 NEW SCEXIST,SCIEN,SCIENS,SCFDA,SCERR
"RTN","SCMCTSK",91,0)
 SET SCEXIST=$DATA(^SCPT(404.54,+SCDFN))
"RTN","SCMCTSK",92,0)
 IF SCEXIST DO
"RTN","SCMCTSK",93,0)
 . SET SCIENS=SCDFN_","
"RTN","SCMCTSK",94,0)
 . SET SCFDA(404.54,SCIENS,.02)=$$NOW^XLFDT()
"RTN","SCMCTSK",95,0)
 . SET SCFDA(404.54,SCIENS,.03)=$SELECT(+SCDTDTH>0:"AD",1:"AR")
"RTN","SCMCTSK",96,0)
 . SET SCFDA(404.54,SCIENS,.04)=$SELECT(+SCDTDTH>0:$TR(SCDTDTH,"^","|"),1:"")
"RTN","SCMCTSK",97,0)
 . DO FILE^DIE("K","SCFDA","SCERR")
"RTN","SCMCTSK",98,0)
 ELSE  DO
"RTN","SCMCTSK",99,0)
 . SET SCIENS="+1,"
"RTN","SCMCTSK",100,0)
 . SET SCIEN(1)=SCDFN
"RTN","SCMCTSK",101,0)
 . SET SCFDA(404.54,SCIENS,.01)=SCDFN
"RTN","SCMCTSK",102,0)
 . SET SCFDA(404.54,SCIENS,.02)=$$NOW^XLFDT()
"RTN","SCMCTSK",103,0)
 . SET SCFDA(404.54,SCIENS,.03)=$SELECT(+SCDTDTH>0:"AD",1:"AR")
"RTN","SCMCTSK",104,0)
 . SET SCFDA(404.54,SCIENS,.04)=$SELECT(+SCDTDTH>0:$TR(SCDTDTH,"^","|"),1:"")
"RTN","SCMCTSK",105,0)
 . DO UPDATE^DIE("","SCFDA","SCIEN","SCERR")
"RTN","SCMCTSK",106,0)
 QUIT
"RTN","SCMCTSK",107,0)
 ;
"RTN","SCMCTSK",108,0)
POST ;
"RTN","SCMCTSK",109,0)
 D MES^XPDUTL("Deleting Traditional ASTAT CROSS REFERENCE from FILE 404.43")
"RTN","SCMCTSK",110,0)
 D DELIX^DDMOD(404.43,.12,1)
"RTN","SCMCTSK",111,0)
 N ENTRY,DGDA,DGFIELD,DGFILE,DATE
"RTN","SCMCTSK",112,0)
 K DGLEFDA,YEAR
"RTN","SCMCTSK",113,0)
 I '$D(^SCTM(404.46,"B","1.2.3.0")) D
"RTN","SCMCTSK",114,0)
 .K DO S DIC(0)="LM",DIC("DR")=".02////1;.03////"_DT,DIC="^SCTM(404.46,",X="1.2.3.0" D FILE^DICN
"RTN","SCMCTSK",115,0)
 I '$D(^SCTM(404.45,"B","SD*5.3*264")) D
"RTN","SCMCTSK",116,0)
 .S ENTRY=$O(^SCTM(404.46,"B","1.2.3.0",0))
"RTN","SCMCTSK",117,0)
 .S DIC("DR")=".02////"_(+ENTRY)_";.03////"_DT_";.04////1",DIC(0)="LM"
"RTN","SCMCTSK",118,0)
 .K DO S X="SD*5.3*264",DIC="^SCTM(404.45," D FILE^DICN
"RTN","SCMCTSK",119,0)
 D MES^XPDUTL("Removing Patients with Date of Death from Team/Position Assignments")
"RTN","SCMCTSK",120,0)
 S YEAR=0
"RTN","SCMCTSK",121,0)
 F DATE=0:0 S DATE=$O(^DPT("AEXP1",DATE)) Q:'DATE  F DGDA=0:0 S DGDA=$O(^DPT("AEXP1",DATE,DGDA)) Q:'DGDA  D
"RTN","SCMCTSK",122,0)
 .S DFN=+DGDA D DEM^VADPT I $G(VADM(6)) S DGFILE=2,DGFIELD=.351 D DEATH
"RTN","SCMCTSK",123,0)
 .I $E(YEAR,1,3)'=$E(DATE,1,3) S YEAR=$E(DATE,1,3) I "05"[$E(YEAR,3) D MES^XPDUTL("Starting with Dates of Death in "_(1700+YEAR))
"RTN","SCMCTSK",124,0)
 Q
"RTN","SCMCTSK",125,0)
POST278 ;postinit for 278
"RTN","SCMCTSK",126,0)
 D MES^XPDUTL("Setting up GUI to VistA mapping")
"RTN","SCMCTSK",127,0)
 I '$D(^SCTM(404.46,"B","1.2.3.1")) D
"RTN","SCMCTSK",128,0)
 .K DO S DIC(0)="LM",DIC("DR")=".02////1;.03////"_DT,DIC="^SCTM(404.46,",X="1.2.3.1" D FILE^DICN
"RTN","SCMCTSK",129,0)
 I '$D(^SCTM(404.45,"B","SD*5.3*278")) D
"RTN","SCMCTSK",130,0)
 .S ENTRY=$O(^SCTM(404.46,"B","1.2.3.1",0))
"RTN","SCMCTSK",131,0)
 .S DIC("DR")=".02////"_(+ENTRY)_";.03////"_DT_";.04////1",DIC(0)="LM"
"RTN","SCMCTSK",132,0)
 .K DO S X="SD*5.3*278",DIC="^SCTM(404.45," D FILE^DICN
"RTN","SCMCTSK",133,0)
 Q
"RTN","SCMCTSK",134,0)
FTEE(DATA,SCTEAM) ;return list of positions for the team
"RTN","SCMCTSK",135,0)
 ;IEN^POSITION^PROVIDER^FTEE
"RTN","SCMCTSK",136,0)
 N CNT,I,J,K,A S CNT=1 S SCTEAM=+$G(SCTEAM),DATA(1)="<DATA>"
"RTN","SCMCTSK",137,0)
 S A=""
"RTN","SCMCTSK",138,0)
 F  S A=$O(^SCTM(404.57,"ATMPOS",SCTEAM,A)) Q:A=""  D
"RTN","SCMCTSK",139,0)
 .F I=0:0 S I=$O(^SCTM(404.57,"ATMPOS",SCTEAM,A,I)) Q:'I  D
"RTN","SCMCTSK",140,0)
 ..I '$$DATES^SCAPMCU1(404.59,I) Q   ;Not an active position
"RTN","SCMCTSK",141,0)
 ..;I '$P($G(^SCTM(404.57,I,0)),U,4) Q  ;Not PC; include sd/581
"RTN","SCMCTSK",142,0)
 ..S J=-(DT+1) S J=$O(^SCTM(404.52,"AIDT",I,1,J)) Q:J=""
"RTN","SCMCTSK",143,0)
 ..I $O(^SCTM(404.52,"AIDT",I,0,-(DT+1)))<J Q
"RTN","SCMCTSK",144,0)
 ..S K=0 S K=$O(^SCTM(404.52,"AIDT",I,1,J,K)) Q:'K
"RTN","SCMCTSK",145,0)
 ..S ZERO=$G(^SCTM(404.52,+K,0)) Q:'$P(ZERO,U,4)
"RTN","SCMCTSK",146,0)
 ..S CNT=CNT+1
"RTN","SCMCTSK",147,0)
 ..S DATA(CNT)=K_U_A_U_$$GET1^DIQ(200,(+$P(ZERO,U,3))_",",.01)_U_$P(ZERO,U,9)_U_K_U_$P(ZERO,U,3)
"RTN","SCMCTSK",148,0)
 Q
"RTN","SCMCTSK",149,0)
FILE(RES,DATA) ;File data on FTEE
"RTN","SCMCTSK",150,0)
 N I
"RTN","SCMCTSK",151,0)
 F I=1:1 Q:'$D(DATA(I))   D
"RTN","SCMCTSK",152,0)
 .S ZERO=$G(^SCTM(404.52,+DATA(I),0))
"RTN","SCMCTSK",153,0)
 .I $P(ZERO,U,9)=$P(DATA(I),U,7) Q
"RTN","SCMCTSK",154,0)
 .S FLDA(404.52,(+DATA(I))_",",.09)=+$TR($P(DATA(I),U,7)," ")
"RTN","SCMCTSK",155,0)
 I $O(FLDA(0)) D FILE^DIE("E","FLDA","ERR")
"RTN","SCMCTSK",156,0)
 Q
"RTN","SCMCTSK",157,0)
FTEXR ;Ftee cross reference - this code is obsolete as of SD*5.3*603
"RTN","SCMCTSK",158,0)
 ;N DIC,DD,DO,DINUM,DS,ENTRY,VALUE
"RTN","SCMCTSK",159,0)
 ;I '$D(^SCTM(404.52,+DA,1,0)) S ^(0)="^404.521DA"
"RTN","SCMCTSK",160,0)
 ;S ENTRY=+$G(DA),VALUE=X
"RTN","SCMCTSK",161,0)
 ;N DIC,FLDA,Y,DA,X S DIC="^SCTM(404.52,"_ENTRY_",1,",DA(1)=ENTRY
"RTN","SCMCTSK",162,0)
 ;S DIC(0)="LM",X="NOW",DIC("DR")=".02////"_VALUE_";.03////"_$G(DUZ)
"RTN","SCMCTSK",163,0)
 ;D ^DICN
"RTN","SCMCTSK",164,0)
 Q
"RTN","SCMCTSK",165,0)
SCREEN ;Screen for active assignments
"RTN","SCMCTSK",166,0)
 N A S A=$G(^SCTM(404.52,D0,0))
"RTN","SCMCTSK",167,0)
 N J S J=-(DT+1),J=$O(^SCTM(404.52,"AIDT",+A,1,J)) I J="" S X=0 Q
"RTN","SCMCTSK",168,0)
 I '$P($G(^SCTM(404.57,+A,0)),U,4) Q  ;Not PC
"RTN","SCMCTSK",169,0)
 I '$$DATES^SCAPMCU1(404.59,+A) Q   ;Not an active position
"RTN","SCMCTSK",170,0)
 I $O(^SCTM(404.52,"AIDT",+A,0,-(DT+1)))<J S X=0 Q
"RTN","SCMCTSK",171,0)
 I '$D(^SCTM(404.52,"AIDT",+A,1,J,D0)) S X=0 Q
"RTN","SCMCTSK",172,0)
 S X=1 Q
"RTN","SCMCTSK2")
0^29^B105827282
"RTN","SCMCTSK2",1,0)
SCMCTSK2 ;ALB/JDS - PCMM Inactivation Nightly Job; 09/16/2014 ;18 Apr 2003  9:36 AM ; 10/24/07 12:23pm  ; Compiled November 21, 2007 13:32:47  ; 9/22/09 8:43am
"RTN","SCMCTSK2",2,0)
 ;;5.3;Scheduling;**297,498,527,499,532,504,603**;AUG 13, 1993;Build 79
"RTN","SCMCTSK2",3,0)
 ;
"RTN","SCMCTSK2",4,0)
 Q
"RTN","SCMCTSK2",5,0)
NIGHT ;
"RTN","SCMCTSK2",6,0)
 ;
"RTN","SCMCTSK2",7,0)
 QUIT  ;THIS PROCESSING IS NOW DONE BY PCMM WEB - 603
"RTN","SCMCTSK2",8,0)
 ;
"RTN","SCMCTSK2",9,0)
 N ENDDT,NOINAC,SIXM,FLGDT,L,PATDT,SEEN,SDDT,LDOM
"RTN","SCMCTSK2",10,0)
 D DT^DICRW S SDDT=$P($G(^XTMP("SCMCTSK2-"_DT,0)),U,2)
"RTN","SCMCTSK2",11,0)
 I SDDT="" S SDDT=DT
"RTN","SCMCTSK2",12,0)
 S ALPHA=$G(^SCTM(404.44,1,1)),ALPHA=$P(ALPHA,U,8) I ALPHA<SDDT S ALPHA=0
"RTN","SCMCTSK2",13,0)
 ;if 'ALPHA NOINAC=1 except 15th and the Last Day of a Month (LDoM)
"RTN","SCMCTSK2",14,0)
 ;inact only on 15th and on LDoM
"RTN","SCMCTSK2",15,0)
 S (NOINAC,LDOM)=0
"RTN","SCMCTSK2",16,0)
 S X1=SDDT,X2=1 D C^%DTC
"RTN","SCMCTSK2",17,0)
 I ($E(SDDT,1,5)'=$E(X,1,5)) S LDOM=1
"RTN","SCMCTSK2",18,0)
 I 'ALPHA D
"RTN","SCMCTSK2",19,0)
 .I ($E(SDDT,6,7)'=15)&('LDOM) S NOINAC=1
"RTN","SCMCTSK2",20,0)
 .D INACTIVE^SCMCTSK1
"RTN","SCMCTSK2",21,0)
 S SIXM=$P($G(^SCTM(404.44,1,1)),U,9)
"RTN","SCMCTSK2",22,0)
 I SIXM!(LDOM) D PRFLAG
"RTN","SCMCTSK2",23,0)
 I ALPHA D INACTIVE^SCMCTSK1
"RTN","SCMCTSK2",24,0)
 ;determine ENDDT-Inactn Date-30 days if flagged today
"RTN","SCMCTSK2",25,0)
 F DATE=0:0 S DATE=$O(^SCPT(404.43,"AFLG",DATE)) Q:'DATE  D
"RTN","SCMCTSK2",26,0)
 .F ENTRY=0:0 S ENTRY=$O(^SCPT(404.43,"AFLG",DATE,ENTRY)) Q:'ENTRY  D
"RTN","SCMCTSK2",27,0)
 ..S ZERO=$G(^SCPT(404.43,ENTRY,0)) Q:'ZERO
"RTN","SCMCTSK2",28,0)
 ..S DFN=+$G(^SCPT(404.42,+ZERO,0)) Q:'DFN
"RTN","SCMCTSK2",29,0)
 ..S POS=$P(ZERO,U,2)
"RTN","SCMCTSK2",30,0)
 ..I $P(ZERO,U,4) D UNFLG Q  ;unass.
"RTN","SCMCTSK2",31,0)
 ..S X1=DATE,X2=$S(ALPHA:+2,1:+30) D C^%DTC S ENDDT=X
"RTN","SCMCTSK2",32,0)
 ..N SDASS S SDASS=$P(ZERO,U,3)
"RTN","SCMCTSK2",33,0)
 ..;N-new or E-stbl.
"RTN","SCMCTSK2",34,0)
 ..;assig >12 months since flagging, not NEW, E-stbl)
"RTN","SCMCTSK2",35,0)
 ..N NEW
"RTN","SCMCTSK2",36,0)
 ..S NEW=0 S X1=DATE,X2=SDASS D ^%DTC I X<365 S NEW=1
"RTN","SCMCTSK2",37,0)
 ..I NEW S %DT="",X="T-12M" D ^%DT S STDT=+Y D
"RTN","SCMCTSK2",38,0)
 ...S X1=STDT,X2=-7 D C^%DTC S TYDT=X
"RTN","SCMCTSK2",39,0)
 ..I 'NEW S %DT="",X="T-24M" D ^%DT S STDT=+Y D
"RTN","SCMCTSK2",40,0)
 ...S X1=STDT,X2=-7 D C^%DTC S TYDT=X
"RTN","SCMCTSK2",41,0)
 ..;
"RTN","SCMCTSK2",42,0)
 ..;I $P(ZERO,U,17) D UNFLG Q  ;react.
"RTN","SCMCTSK2",43,0)
 ..;get prec 
"RTN","SCMCTSK2",44,0)
 ..;S %DT="",X="T-12M" D ^%DT S STDT=+Y
"RTN","SCMCTSK2",45,0)
 ..;S PREC=$$DATES^SCAPMCU1(404.53,+POS),PREC=$S(PREC:$P($G(^SCTM(404.53,+$P(PREC,U,4),0)),U,6),1:+POS)
"RTN","SCMCTSK2",46,0)
 ..I '$P(ZERO,U,5) D UNFLG Q  ;Not PC
"RTN","SCMCTSK2",47,0)
 ..D SEEN^SCMCTSK1(DFN,POS,TYDT,SDDT,.PROV,.PRECP,.SEEN)
"RTN","SCMCTSK2",48,0)
 ..;S PC=$$GET^XUA4A72(+PROV)
"RTN","SCMCTSK2",49,0)
 ..I SEEN D UNFLG Q
"RTN","SCMCTSK2",50,0)
 ..I $P(ZERO,U,13) S X1=DATE,X2=$S(ALPHA:4,1:90) D C^%DTC S FLGDT=X I FLGDT>SDDT Q  ;do not inactivate yet; extended
"RTN","SCMCTSK2",51,0)
 ..I ('NOINAC)&(SDDT'<ENDDT) D DIS^SCMCTSK1
"RTN","SCMCTSK2",52,0)
 ;flag prov 6m after install sd/297
"RTN","SCMCTSK2",53,0)
 I NOINAC D:ALPHA BULL I '$D(^SCPT(404.43,"AFLG",SDDT)) K ^TMP($J,"SCMCTSK2") Q
"RTN","SCMCTSK2",54,0)
 ;flag prov 6m after install sd/297
"RTN","SCMCTSK2",55,0)
 ;I SIXM&(SIXM'>SDDT)!LDOM D
"RTN","SCMCTSK2",56,0)
 I LDOM!ALPHA D
"RTN","SCMCTSK2",57,0)
 .D PRINAC
"RTN","SCMCTSK2",58,0)
 .;N FLDA
"RTN","SCMCTSK2",59,0)
 .;S FLDA(404.44,"1,",19)=""
"RTN","SCMCTSK2",60,0)
 .;D FILE^DIE("I","FLDA","ERR")
"RTN","SCMCTSK2",61,0)
 D BULL K ^TMP($J,"SCMCTSK2")
"RTN","SCMCTSK2",62,0)
 Q
"RTN","SCMCTSK2",63,0)
UNFLG ;Unflagging
"RTN","SCMCTSK2",64,0)
 N DR,DIE,DA
"RTN","SCMCTSK2",65,0)
 S DR=".15///@;.13///@;.12///@",DIE="^SCPT(404.43,",DA=ENTRY D ^DIE
"RTN","SCMCTSK2",66,0)
 Q
"RTN","SCMCTSK2",67,0)
PRFLAG ;flag incorrect provider pos
"RTN","SCMCTSK2",68,0)
 N POS
"RTN","SCMCTSK2",69,0)
 ;prov inact. has run once
"RTN","SCMCTSK2",70,0)
 ;I $P($G(^SCTM(404.44,1,1)),U,11)'="" Q
"RTN","SCMCTSK2",71,0)
 D PRFLAG^SCMCTSK3
"RTN","SCMCTSK2",72,0)
 Q
"RTN","SCMCTSK2",73,0)
PRINAC ;inact. flagged providers
"RTN","SCMCTSK2",74,0)
 N I,II
"RTN","SCMCTSK2",75,0)
 ;Prov inact. run already
"RTN","SCMCTSK2",76,0)
 I $G(SDDT)="" S SDDT=DT
"RTN","SCMCTSK2",77,0)
 ;S II=$P($G(^SCTM(404.44,1,1)),U,11) I II'="",II'=SDDT Q
"RTN","SCMCTSK2",78,0)
 F I=0:0 S I=$O(^SCTM(404.52,I)) Q:'I  S ZERO=$G(^(I,0)) I $P(ZERO,U,10) D
"RTN","SCMCTSK2",79,0)
 .S ZEROIEN=I
"RTN","SCMCTSK2",80,0)
 .;uncomment next line for testing only bpfo/swo 11.19.2008
"RTN","SCMCTSK2",81,0)
 .;S X1=$P(ZERO,U,10),X2=$S(ALPHA:2,1:30) D C^%DTC I SDDT<X Q  ;not time yet
"RTN","SCMCTSK2",82,0)
 .;I $P(ZERO,U,10)>$G(ENDDT) Q   ;not time yet
"RTN","SCMCTSK2",83,0)
 .I +$$EN^SCMCTSKI(1)<SDDT Q
"RTN","SCMCTSK2",84,0)
 .I $O(^SCTM(404.52,"AIDT",+ZERO,0,-9999999))<(-$P(ZERO,U,2)) Q   ;inactivated
"RTN","SCMCTSK2",85,0)
 .;Check valid criteria
"RTN","SCMCTSK2",86,0)
 .S POS=+ZERO
"RTN","SCMCTSK2",87,0)
 .S PROV=+$$GETPRTP^SCAPMCU2(POS,SDDT)
"RTN","SCMCTSK2",88,0)
 .S PC=$$GET^XUA4A72(+PROV)
"RTN","SCMCTSK2",89,0)
 .S DR=".091///@",DIE="^SCTM(404.52,",DA=ZEROIEN D ^DIE  ;remove flag
"RTN","SCMCTSK2",90,0)
 .S ZERO1=$G(^SCTM(404.57,POS,0))
"RTN","SCMCTSK2",91,0)
 .I '$D(^SD(403.46,+$P(ZERO1,U,3),2,+PC)) D
"RTN","SCMCTSK2",92,0)
 ..;inactivation
"RTN","SCMCTSK2",93,0)
 ..K DO
"RTN","SCMCTSK2",94,0)
 ..S DIC="^SCTM(404.52,",X=+ZERO,DIC("DR")=".02////"_DT_";.03////"_$P(ZERO,U,3)_";.04////0;.05///EMPLOYEE LEAVES POSITION;.11////1"
"RTN","SCMCTSK2",95,0)
 ..S DIC(0)="Z" D FILE^DICN
"RTN","SCMCTSK2",96,0)
 ..;S DIE="^SCTM(404.52,",DA=+ZERO,DR=".02////"_SDDT_";.03////"_$P(ZERO,U,3)_";.04////0;.05///EMPLOYEE LEAVES POSITION;.11////1"
"RTN","SCMCTSK2",97,0)
 ..;D ^DIE
"RTN","SCMCTSK2",98,0)
 ;only run inact. once
"RTN","SCMCTSK2",99,0)
 S $P(^SCTM(404.44,1,1),U,11)=SDDT
"RTN","SCMCTSK2",100,0)
 Q
"RTN","SCMCTSK2",101,0)
FUTAPP(DFN) ;print future appts
"RTN","SCMCTSK2",102,0)
 N TAB,SCDT0,SCARRAY,SCDTMP S TAB=$X
"RTN","SCMCTSK2",103,0)
 I $G(SDDT)="" S SDDT=DT
"RTN","SCMCTSK2",104,0)
 S SCDT=SDDT+.24
"RTN","SCMCTSK2",105,0)
 S SCARRAY(1)=SCDT  ;date/time filter
"RTN","SCMCTSK2",106,0)
 S SCARRAY(4)=DFN  ;patient filter
"RTN","SCMCTSK2",107,0)
 S SCARRAY("SORT")="P"  ;sort filter
"RTN","SCMCTSK2",108,0)
 S SCARRAY("FLDS")="1;2;3"
"RTN","SCMCTSK2",109,0)
 I ($$SDAPI^SDAMA301(.SCARRAY)>0) D
"RTN","SCMCTSK2",110,0)
 .S SCDTMP=0 F  S SCDTMP=$O(^TMP($J,"SDAMA301",DFN,SCDTMP)) Q:'SCDTMP  D
"RTN","SCMCTSK2",111,0)
 ..S SCDT0=$G(^TMP($J,"SDAMA301",DFN,SCDTMP)) Q:($P($P(SCDT0,U,3),U)="R")
"RTN","SCMCTSK2",112,0)
 ..S Y=SCDTMP X ^DD("DD") W $E(Y_" ",1,17)_" "_$E($P($P(SCDT0,U,2),";",2),1,10)
"RTN","SCMCTSK2",113,0)
 Q
"RTN","SCMCTSK2",114,0)
GETASC(DATA,ENTRY) ;get assoc. clinics
"RTN","SCMCTSK2",115,0)
 N I,CNT S CNT=0
"RTN","SCMCTSK2",116,0)
 F I=0:0 S I=$O(^SCTM(404.57,+$G(ENTRY),5,I)) Q:'I  S CNT=CNT+1,DATA(CNT)=I_U_$P($G(^SC(I,0)),U)
"RTN","SCMCTSK2",117,0)
 Q
"RTN","SCMCTSK2",118,0)
SETASC(RESULT,DATA) ;set assoc. clinics
"RTN","SCMCTSK2",119,0)
 D SETASC^SCMCTSK7(.RESULT,DATA) Q
"RTN","SCMCTSK2",120,0)
MSG(SCTP,DFN) ;send inact. message
"RTN","SCMCTSK2",121,0)
 ;given valid positions get current practitioners
"RTN","SCMCTSK2",122,0)
 S SCLIST="SCL"
"RTN","SCMCTSK2",123,0)
 I $G(SDDT)="" S SDDT=DT
"RTN","SCMCTSK2",124,0)
 I "N"'[$P($G(^SCTM(404.57,SCTP,2)),U,9) D
"RTN","SCMCTSK2",125,0)
 .S SCOK=$$PRTP^SCAPMC(SCTP,"",.SCLIST,.SCERR)
"RTN","SCMCTSK2",126,0)
 .;if preceptor notice turned on for message type
"RTN","SCMCTSK2",127,0)
 I +$P($G(^SCTM(404.57,SCTP,2)),U,9) D
"RTN","SCMCTSK2",128,0)
 .S SCX=+$$OKPREC2^SCMCLK(SCTP,SDDT)
"RTN","SCMCTSK2",129,0)
 .;if preceptor duz returned, add to array
"RTN","SCMCTSK2",130,0)
 .I SCX S @SCLIST@("SCPR",SCX)=""
"RTN","SCMCTSK2",131,0)
 N XMY F I=0:0 S I=$O(@SCLIST@("SCPR",I)) Q:'I  S XMY(I)=""
"RTN","SCMCTSK2",132,0)
 S SCTEXT(1,0)="PATIENT "_$P($G(^DPT(DFN,0)),U)_" has been inactivated from PC team position "_$P($G(^SCTM(404.57,SCTP,0)),U)
"RTN","SCMCTSK2",133,0)
 S XMSUB="Provider's Inactivated Primary Care Patients" D ^XMD
"RTN","SCMCTSK2",134,0)
 Q
"RTN","SCMCTSK2",135,0)
BULL ;EOM Bulletin
"RTN","SCMCTSK2",136,0)
 N DISUPNO,BY,DHIT,HEAD
"RTN","SCMCTSK2",137,0)
 S DISUPNO=1,L=0
"RTN","SCMCTSK2",138,0)
 S XMSUB="Patients Scheduled for Inactivation from PC Panel"
"RTN","SCMCTSK2",139,0)
 S XMY("G.PCMM PATIENT/PROVIDER INACTIVE")=""
"RTN","SCMCTSK2",140,0)
 K ^TMP("SCMC",$J),^TMP("SCMCTXT",$J),^TMP("SCML",$J)
"RTN","SCMCTSK2",141,0)
 S XMTEXT="^TMP(""SCMCTXT"",$J," ;S @XMTEXT@(0)=""
"RTN","SCMCTSK2",142,0)
 S DIC="^SCPT(404.43,",BY="[SCMC FLAGGED BULLETIN]",FLDS="[SC BULLETIN]",CNT=0
"RTN","SCMCTSK2",143,0)
 S:0 FLDS="" S IOP="",DHD="@@",(FR,TO)="" D EN1^DIP
"RTN","SCMCTSK2",144,0)
 S ^TMP("SCMCTXT",$J,1,0)="There are "_$O(^TMP("SCMC",$J,""),-1)_" Patients scheduled for inactivation in next 30 days"
"RTN","SCMCTSK2",145,0)
 D LINES(1)
"RTN","SCMCTSK2",146,0)
 D ^XMD
"RTN","SCMCTSK2",147,0)
 D PRMAIL^SCMCTSK5(1)
"RTN","SCMCTSK2",148,0)
 F SCI=0:0 S SCI=$O(^TMP("SCF",$J,SCI)) Q:'SCI  D
"RTN","SCMCTSK2",149,0)
 .K XMY S XMY(SCI)="" K ^TMP("SCMC",$J),^TMP("SCMCTXT",$J)
"RTN","SCMCTSK2",150,0)
 .M ^TMP("SCMC",$J)=^TMP("SCF",$J,SCI)
"RTN","SCMCTSK2",151,0)
 .S XMSUB="Patients Scheduled for Inactivation from PC Panel"
"RTN","SCMCTSK2",152,0)
 .S XMTEXT="^TMP(""SCMCTXT"",$J,"
"RTN","SCMCTSK2",153,0)
 S DISUPNO=1
"RTN","SCMCTSK2",154,0)
 K ^TMP("SCMC",$J),^TMP("SCMCTXT")
"RTN","SCMCTSK2",155,0)
 I $G(NOINAC) K ^TMP($J,"SCMCTSK2") Q  ; SD/499
"RTN","SCMCTSK2",156,0)
 S XMSUB="Patients With Extended PCMM Inactivation Dates"
"RTN","SCMCTSK2",157,0)
 S XMY("G.PCMM PATIENT/PROVIDER INACTIVE")=""
"RTN","SCMCTSK2",158,0)
 K ^TMP("SCMC",$J)
"RTN","SCMCTSK2",159,0)
 S XMTEXT="^TMP(""SCMCTXT"",$J," ;S @XMTEXT@(0)=""
"RTN","SCMCTSK2",160,0)
 S DIC="^SCPT(404.43,",BY="[SCMC EXTENDED BULLETIN]",DHIT="S CNT=$G(CNT)+1,^TMP(""SCMC"",$J,CNT,D0)=""""",CNT=0
"RTN","SCMCTSK2",161,0)
 S FR=",,,",TO=FR,FLDS="",IOP="",DHD="@@" D EN1^DIP
"RTN","SCMCTSK2",162,0)
 S ^TMP("SCMCTXT",$J,1,0)="There are "_$O(^TMP("SCMC",$J,""),-1)_" Patients Extended from inactivation"
"RTN","SCMCTSK2",163,0)
 D LINES(3)
"RTN","SCMCTSK2",164,0)
 D ^XMD
"RTN","SCMCTSK2",165,0)
 D PRMAIL^SCMCTSK5(3)
"RTN","SCMCTSK2",166,0)
 S DISUPNO=1
"RTN","SCMCTSK2",167,0)
 K ^TMP("SCMC",$J),^TMP("SCMCTXT")
"RTN","SCMCTSK2",168,0)
 S XMSUB="Patients Automated Inactivations from PC Panels"
"RTN","SCMCTSK2",169,0)
 S XMY("G.PCMM PATIENT/PROVIDER INACTIVE")=""
"RTN","SCMCTSK2",170,0)
 K ^TMP("SCMC",$J)
"RTN","SCMCTSK2",171,0)
 S XMTEXT="^TMP(""SCMCTXT"",$J," ;S @XMTEXT@(0)=""
"RTN","SCMCTSK2",172,0)
 S DIC="^SCPT(404.43,",BY="[SCMC INACTIVATED]",DHIT="S CNT=$G(CNT)+1,^TMP(""SCMC"",$J,CNT,D0)=""""",CNT=0
"RTN","SCMCTSK2",173,0)
 S FLDS="",IOP="",DHD="@@",FR=",T-30,,",TO=",,,,," D EN1^DIP
"RTN","SCMCTSK2",174,0)
 S ^TMP("SCMCTXT",$J,1,0)="There are "_$O(^TMP("SCMC",$J,""),-1)_" Patients Inactivated in last 30 days"
"RTN","SCMCTSK2",175,0)
 D LINES(2)
"RTN","SCMCTSK2",176,0)
 D ^XMD
"RTN","SCMCTSK2",177,0)
TST ;
"RTN","SCMCTSK2",178,0)
 S DISUPNO=1
"RTN","SCMCTSK2",179,0)
 D PRMAIL^SCMCTSK5(2)
"RTN","SCMCTSK2",180,0)
 K ^TMP("SCMC",$J),^TMP("SCMCTXT")
"RTN","SCMCTSK2",181,0)
 ;I $P($G(^SCTM(404.44,1,1)),U,11)="" D
"RTN","SCMCTSK2",182,0)
 S XMSUB="PC Providers Scheduled for Inactivation"
"RTN","SCMCTSK2",183,0)
 S XMY("G.PCMM PATIENT/PROVIDER INACTIVE")=""
"RTN","SCMCTSK2",184,0)
 K ^TMP("SCMC",$J)
"RTN","SCMCTSK2",185,0)
 S XMTEXT="^TMP(""SCMCTXT"",$J,"
"RTN","SCMCTSK2",186,0)
 S DIC="^SCTM(404.52,",BY="[SC PROVIDER FLAGGED BULLE]",DHIT="S CNT=$G(CNT)+1,^TMP(""SCMC"",$J,CNT,D0)=""""",CNT=0
"RTN","SCMCTSK2",187,0)
 S FLDS="",IOP="",DHD="@@",FR="",TO="" D EN1^DIP
"RTN","SCMCTSK2",188,0)
 D LINES(4)
"RTN","SCMCTSK2",189,0)
 D ^XMD
"RTN","SCMCTSK2",190,0)
 D PRMAIL^SCMCTSK5(4)
"RTN","SCMCTSK2",191,0)
 D BULL^SCMCTSK6
"RTN","SCMCTSK2",192,0)
 Q
"RTN","SCMCTSK2",193,0)
LINES(TYPE) ;Lines of Bulletin
"RTN","SCMCTSK2",194,0)
 D LINES^SCMCTSK5(TYPE) Q
"RTN","SCMCTSK2",195,0)
ROLE(DATA,INFO) ;SCMC ROLE
"RTN","SCMCTSK2",196,0)
 N ROLE,TP,I,SCRSLT,SCTF,SCLS,SCPOR
"RTN","SCMCTSK2",197,0)
 S (SCPOR,SCRSLT)=0
"RTN","SCMCTSK2",198,0)
 S ROLE=+$G(INFO),TP=+$P($G(INFO),U,2)
"RTN","SCMCTSK2",199,0)
 I 'ROLE Q
"RTN","SCMCTSK2",200,0)
 I 'TP Q
"RTN","SCMCTSK2",201,0)
 ;get values
"RTN","SCMCTSK2",202,0)
 S DATA(0)=+$P($G(^SD(403.46,ROLE,0)),U,3)
"RTN","SCMCTSK2",203,0)
 I $$DATES^SCAPMCU1(404.53,+TP) S SCPOR=1
"RTN","SCMCTSK2",204,0)
 N PREC S PREC=0
"RTN","SCMCTSK2",205,0)
 F I=0:0 S I=$O(^SCTM(404.53,"AD",TP,I)) Q:'I  D   Q:PREC
"RTN","SCMCTSK2",206,0)
 .I $D(^SCTM(404.53,"AD",TP,I,1)) I '$D(^(0)) S PREC=1
"RTN","SCMCTSK2",207,0)
 I +DATA(0)'=0 D
"RTN","SCMCTSK2",208,0)
 . S SCTF=$$GETPRTP^SCAPMCU2(TP) Q:+SCTF=0
"RTN","SCMCTSK2",209,0)
 . S SCLS=$$GET^XUA4A72(+SCTF)
"RTN","SCMCTSK2",210,0)
 . I SCLS S SCRSLT=$S('$D(^SD(403.46,ROLE,2,"B",+SCLS)):1,1:0)
"RTN","SCMCTSK2",211,0)
 ;end of get
"RTN","SCMCTSK2",212,0)
 ;type of role^preceptor^preceptee^person class check
"RTN","SCMCTSK2",213,0)
 S DATA(0)=DATA(0)_U_SCPOR_U_PREC_U_SCRSLT
"RTN","SCMCTSK2",214,0)
 Q
"RTN","SCMCTSK2",215,0)
INRPT ; REPORT
"RTN","SCMCTSK2",216,0)
 N DIOEND,SCDHD
"RTN","SCMCTSK2",217,0)
 D PROMPT^SCMCTSK3("** Date Range Selection **","DATE PATIENTS INACTIVATED FROM PC PANELS")
"RTN","SCMCTSK2",218,0)
 Q:'$D(^TMP("SC",$J,"XR"))
"RTN","SCMCTSK2",219,0)
 D UNASSIGN^SCMCTSK3
"RTN","SCMCTSK2",220,0)
 S Q=""""
"RTN","SCMCTSK2",221,0)
 S DIC="^SCPT(404.43," ;=0,BY="[SCMC INACTIVATION SORT]"
"RTN","SCMCTSK2",222,0)
 D BY
"RTN","SCMCTSK2",223,0)
 S (SCDHD,DHD)="AUTOMATED PATIENT INACTIVATION FROM PRIMARY CARE PANELS REPORT"
"RTN","SCMCTSK2",224,0)
 S DIOBEG="D DIOBEG^SCMCTSK4"
"RTN","SCMCTSK2",225,0)
 S DIOEND="D DIOEND1^SCMCTSK4"
"RTN","SCMCTSK2",226,0)
 S FLDS="[SCMC INACTIVATED]" ;,FR="?,,"_$TR(DIPA("SI"),","," "),TO="T,,"_$TR(DIPA("EI")_"z",","," ")
"RTN","SCMCTSK2",227,0)
 D EN1^DIP
"RTN","SCMCTSK2",228,0)
 Q
"RTN","SCMCTSK2",229,0)
IN30 ;inact. last month
"RTN","SCMCTSK2",230,0)
 N DIPA,SDD D SORT^SCMCTSK1(.DIPA,.SDD) Q:'SDD  ;SD/499
"RTN","SCMCTSK2",231,0)
 S Q=""""
"RTN","SCMCTSK2",232,0)
 S DIC="^SCPT(404.43,",L=0,BY="[SCMC INACTIVATION SORT]"
"RTN","SCMCTSK2",233,0)
 S DHD="Patients Inactivated from Primary Care Panels in the Past Month"
"RTN","SCMCTSK2",234,0)
 S FLDS="[SCMC INACTIVATED]",FR="T-31,,"_$TR(DIPA("SI"),","," "),TO="T,,"_$TR(DIPA("EI")_"z",","," ")
"RTN","SCMCTSK2",235,0)
 D EN1^DIP
"RTN","SCMCTSK2",236,0)
 Q
"RTN","SCMCTSK2",237,0)
EXRPT ;EXTEND REPORT
"RTN","SCMCTSK2",238,0)
 K CLIN,TEAM,INST
"RTN","SCMCTSK2",239,0)
 D PROMPT^SCMCTSK3("PCMM Patients with Extended Inactivations","Scheduled Inactivation Date")
"RTN","SCMCTSK2",240,0)
 Q:'$D(^TMP("SC",$J,"XR"))
"RTN","SCMCTSK2",241,0)
 S Q="""",SORT=1
"RTN","SCMCTSK2",242,0)
 D EXTEND^SCMCTSK3
"RTN","SCMCTSK2",243,0)
 S DIC="^SCPT(404.43," ;,L=0,BY="[SCMC EXTENDED]"
"RTN","SCMCTSK2",244,0)
 S (SCDHD,DHD)="PCMM Patients with extended Inactivations"
"RTN","SCMCTSK2",245,0)
 S DIOBEG="D DIOBEG^SCMCTSK4",DIOEND="D EXTKEY^SCMCTSK9"
"RTN","SCMCTSK2",246,0)
 D BY
"RTN","SCMCTSK2",247,0)
 S FLDS="[SCMC EXTENDED]"
"RTN","SCMCTSK2",248,0)
 D EN1^DIP
"RTN","SCMCTSK2",249,0)
 Q 
"RTN","SCMCTSK2",250,0)
BY N DISPAR
"RTN","SCMCTSK2",251,0)
 S BY(0)="^TMP(""SCSORT"",$J)",L(0)=$O(^TMP("SC",$J,"SORT",99),-1)+1,DISPAR(0,1)="+",L=0 I $G(SCDHD)["FTEE" S DISPAR(0,1)="+#" ;BY="@'.01"
"RTN","SCMCTSK2",252,0)
 F I=1:1:$L(SORTN,U) S A=$P(SORTN,U,I) Q:'$L(A)  S $P(DISPAR(0,I),U,2)=";"_Q_A_": "_Q D
"RTN","SCMCTSK2",253,0)
 .I A["PATIENT" I (I>1)!($G(SCDHD)["Patients Scheduled for Inactivation from PC Panel") S $P(DISPAR(0,I),U)="@"
"RTN","SCMCTSK2",254,0)
 .I $G(SCDHD)["FTEE" D
"RTN","SCMCTSK2",255,0)
 ..I A["PROV" S $P(DISPAR(0,I),U)="@"
"RTN","SCMCTSK2",256,0)
 ..I I>1 I (A["CLI")!(A["POS") S $P(DISPAR(0,I),U)="@"_$P($G(DISPAR(0,I)),U)
"RTN","SCMCTSK2",257,0)
 S ZTSAVE("^TMP(""SC"",$J,")="",ZTSAVE("^TMP(""SCSORT"",$J,")=""
"RTN","SCMCTSK2",258,0)
 Q
"RTN","SCMCTSK2",259,0)
FLRPT ;FLAGGED REPORT
"RTN","SCMCTSK2",260,0)
 D PROMPT^SCMCTSK3("Patients Scheduled for Inactivation from PC Panels","Date Scheduled for Inactivation")
"RTN","SCMCTSK2",261,0)
 Q:'$D(^TMP("SC",$J,"XR"))
"RTN","SCMCTSK2",262,0)
 D FLAGG^SCMCTSK3
"RTN","SCMCTSK2",263,0)
 S Q=""""
"RTN","SCMCTSK2",264,0)
 S DIC="^SCPT(404.43,",L=0
"RTN","SCMCTSK2",265,0)
 S (SCDHD,DHD)="Patients Scheduled for Inactivation from PC Panels"
"RTN","SCMCTSK2",266,0)
 D BY
"RTN","SCMCTSK2",267,0)
 S DIOBEG="D DIOBEG^SCMCTSK4"
"RTN","SCMCTSK2",268,0)
 S FLDS="[SCMC PENDING UNASSIGN]"
"RTN","SCMCTSK2",269,0)
 I $G(DISPAR(0,1))["PATIENT" S FLDS="[SCMC PENDING UNASSIGN PAT]"
"RTN","SCMCTSK2",270,0)
 S DIOEND="D DIOEND^SCMCTSK4"
"RTN","SCMCTSK2",271,0)
 D EN1^DIP
"RTN","SCMCTSK5")
0^7^B59325306
"RTN","SCMCTSK5",1,0)
SCMCTSK5 ;ALB/JDS - PCMM Inactivation Reports ;01/28/2013
"RTN","SCMCTSK5",2,0)
 ;;5.3;Scheduling;**297,532,539,603**;AUG 13, 1993;Build 79
"RTN","SCMCTSK5",3,0)
 ;
"RTN","SCMCTSK5",4,0)
 Q
"RTN","SCMCTSK5",5,0)
FLAG ;
"RTN","SCMCTSK5",6,0)
 ;;Patients scheduled for inactivation from their Patient Aligned Care
"RTN","SCMCTSK5",7,0)
 ;;Team (PACT) assignments appear below.
"RTN","SCMCTSK5",8,0)
 ;;  
"RTN","SCMCTSK5",9,0)
 ;;Flagging of primary care patients from a PCMM panel occurs each time
"RTN","SCMCTSK5",10,0)
 ;;this Inactivation Task is run.
"RTN","SCMCTSK5",11,0)
 ;;All providers assigned to a particular position are evaluated.  
"RTN","SCMCTSK5",12,0)
 ;;If a patient is assigned to PC position and a provider assigned to that
"RTN","SCMCTSK5",13,0)
 ;;position has a preceptor all encounters for that patient will be
"RTN","SCMCTSK5",14,0)
 ;;checked for matches with either the provider (preceptee) assigned to
"RTN","SCMCTSK5",15,0)
 ;;that position or the provider (preceptor) assigned as preceptor to that
"RTN","SCMCTSK5",16,0)
 ;;position. If a patient is assigned to the PC preceptor position then only
"RTN","SCMCTSK5",17,0)
 ;;the encounters with the provider assigned as preceptor will be evaluated.
"RTN","SCMCTSK5",18,0)
 ;;(a) If a patient is NEW as assigned to the position 12 months or less,
"RTN","SCMCTSK5",19,0)
 ;;and it is the 8th month since being assigned to the position,
"RTN","SCMCTSK5",20,0)
 ;;and the patient had no prior encounters with the PCP/APs in the preceding
"RTN","SCMCTSK5",21,0)
 ;;8 months + 7 days then the patient is flagged for inactivation.
"RTN","SCMCTSK5",22,0)
 ;;(b) If a patient is ESTABLISHED as assigned to the position more than
"RTN","SCMCTSK5",23,0)
 ;;12 months and if the patient had no prior encounters with the PCP/AP in
"RTN","SCMCTSK5",24,0)
 ;;the preceding 20 months + 7 days the patient is flagged for inactivation.
"RTN","SCMCTSK5",25,0)
 ;;Inactivation will occur on the fifteenth and the last day of the month
"RTN","SCMCTSK5",26,0)
 ;;unless the patient has a completed appointment encounter with their current
"RTN","SCMCTSK5",27,0)
 ;;Primary Care Provider (PCP) or their Associate Primary Care Provider (AP)
"RTN","SCMCTSK5",28,0)
 ;;before that date. The patient may be reactivated to their previous PCP and PC
"RTN","SCMCTSK5",29,0)
 ;;team if they return for care.
"RTN","SCMCTSK5",30,0)
 ;;This message is generated each time when at least one new occurrence of
"RTN","SCMCTSK5",31,0)
 ;;flagging for inactivation takes place, and unconditionally on the 15th and
"RTN","SCMCTSK5",32,0)
 ;;the last day of a month.
"RTN","SCMCTSK5",33,0)
 ;;Patients scheduled for Inactivation from Primary Care panels
"RTN","SCMCTSK5",34,0)
 ;;                                                            Dates
"RTN","SCMCTSK5",35,0)
 ;;                                                            Scheduled
"RTN","SCMCTSK5",36,0)
 ;;Patient Name        SSN Provider            Team            for Inactivation
"RTN","SCMCTSK5",37,0)
 ;;----------------------------------------------------------------------------
"RTN","SCMCTSK5",38,0)
 Q
"RTN","SCMCTSK5",39,0)
EXT ;
"RTN","SCMCTSK5",40,0)
 ;;By using the Extend Patient Inactivation Date option, these patients'
"RTN","SCMCTSK5",41,0)
 ;;PCMM inactivation dates are now 183 days from their original inactivation date.
"RTN","SCMCTSK5",42,0)
 ;;Inactivation occurs on the fifteenth and the last day of the month, unless
"RTN","SCMCTSK5",43,0)
 ;;the patient has a completed appointment encounter with their current
"RTN","SCMCTSK5",44,0)
 ;;Primary Care Provider (PCP) or their Associate Primary Care Provider (AP)
"RTN","SCMCTSK5",45,0)
 ;;before that date. The patient may be reactivated to their previous PCP and PC
"RTN","SCMCTSK5",46,0)
 ;;team if they return for care.
"RTN","SCMCTSK5",47,0)
 ;;Patients with Extended PCMM Inactivation Dates
"RTN","SCMCTSK5",48,0)
 ;;                                                        Date
"RTN","SCMCTSK5",49,0)
 ;;                                                        Scheduled for
"RTN","SCMCTSK5",50,0)
 ;;Patient Name         SSN  Provider         Team         Inactivation
"RTN","SCMCTSK5",51,0)
 ;;---------------------------------------------------------------------------
"RTN","SCMCTSK5",52,0)
 Q
"RTN","SCMCTSK5",53,0)
INACT ;
"RTN","SCMCTSK5",54,0)
 ;;Patients inactivated from their Patient Aligned Care Team (PACT)
"RTN","SCMCTSK5",55,0)
 ;;assignments appear below.
"RTN","SCMCTSK5",56,0)
 ;;Inactivation occurs on the fifteenth and the last day of a month, unless
"RTN","SCMCTSK5",57,0)
 ;;the patient has a completed appointment encounter with their current
"RTN","SCMCTSK5",58,0)
 ;;Primary Care Provider (PCP) or their Associate Primary Care Provider (AP)
"RTN","SCMCTSK5",59,0)
 ;;before that date.
"RTN","SCMCTSK5",60,0)
 ;;Inactivation of primary care patients from a PCMM panel occurs under
"RTN","SCMCTSK5",61,0)
 ;;the following circumstances:
"RTN","SCMCTSK5",62,0)
 ;;(a) The patient expires
"RTN","SCMCTSK5",63,0)
 ;;(b) Newly assigned patients (either newly-enrolled patients or patients who    
"RTN","SCMCTSK5",64,0)
 ;;have been re-assigned to a different provider) who have not been seen by 
"RTN","SCMCTSK5",65,0)
 ;;their PCP or Associate Provider (AP) and 12 months have passed since the 
"RTN","SCMCTSK5",66,0)
 ;;time of assignment to that provider.  This provides every PCP a 1-year grace
"RTN","SCMCTSK5",67,0)
 ;;period for seeing patients added to their panel (either newly-enrolled
"RTN","SCMCTSK5",68,0)
 ;;patients or patients transferred from a different panel) before they are
"RTN","SCMCTSK5",69,0)
 ;;inactivated. Patients must be seen by their PCP or AP within 8 months +7 days
"RTN","SCMCTSK5",70,0)
 ;;of being assigned, or they need to be inactivated from the PCP's panel.
"RTN","SCMCTSK5",71,0)
 ;;(c) Established patients that have been assigned to the PCP's panel for more 
"RTN","SCMCTSK5",72,0)
 ;;than 12 months, but have not been seen by their PCP or AP in the past
"RTN","SCMCTSK5",73,0)
 ;;20 months +7 days need to be inactivated.
"RTN","SCMCTSK5",74,0)
 ;;The patient may be reactivated to their previous PCP and PC team if they
"RTN","SCMCTSK5",75,0)
 ;;return for care.
"RTN","SCMCTSK5",76,0)
 ;;Patients Automated Inactivation from Primary Care Panels
"RTN","SCMCTSK5",77,0)
 ;;                                                           Patient     Patient
"RTN","SCMCTSK5",78,0)
 ;;Patient Name         SSN  Provider          Team           Inact Date  Inact
"RTN","SCMCTSK5",79,0)
 ;;-------------------------------------------------------------------------------
"RTN","SCMCTSK5",80,0)
 Q
"RTN","SCMCTSK5",81,0)
PRIN ;
"RTN","SCMCTSK5",82,0)
 ;;WARNING- The following primary care staff will be automatically
"RTN","SCMCTSK5",83,0)
 ;;inactivated in PCMM software if a correct 'Person Class' and 
"RTN","SCMCTSK5",84,0)
 ;;'Provider Type' are not entered in the New Person File (#200) or
"RTN","SCMCTSK5",85,0)
 ;;their role and position in the 'Position Setup' window is not 
"RTN","SCMCTSK5",86,0)
 ;;corrected to correspond with their 'Provider Type', 'Person
"RTN","SCMCTSK5",87,0)
 ;;Class' and the Primary Care business rules stated below:
"RTN","SCMCTSK5",88,0)
 ;;  
"RTN","SCMCTSK5",89,0)
 ;;1. Staff designated as Primary Care Providers (PCPs) in PCMM that
"RTN","SCMCTSK5",90,0)
 ;;   are not an Attending physician (Attending MD or Attending DO) NP
"RTN","SCMCTSK5",91,0)
 ;;   or PA, shall be inactivated from PCMM
"RTN","SCMCTSK5",92,0)
 ;;2. Staff designated as Associate Providers (APs) in PCMM, that are not
"RTN","SCMCTSK5",93,0)
 ;;   a Resident/Intern (Physician) NP or PA shall be inactivated in 
"RTN","SCMCTSK5",94,0)
 ;;   PCMM
"RTN","SCMCTSK5",95,0)
 ;;3. All persons designated as an Associate Provider or Primary Care 
"RTN","SCMCTSK5",96,0)
 ;;   Provider, who do not have the correct 'Provider Type' and 'Person
"RTN","SCMCTSK5",97,0)
 ;;   Class' entered in the New Person file (#200) in VistA, shall be 
"RTN","SCMCTSK5",98,0)
 ;;   inactivated from their Primary Care positions in PCMM.
"RTN","SCMCTSK5",99,0)
 ;;4. Please contact your PCMM Coordinator or Information Systems 
"RTN","SCMCTSK5",100,0)
 ;;   to correct these problems
"RTN","SCMCTSK5",101,0)
 ;;  
"RTN","SCMCTSK5",102,0)
 ;;  PRIMARY CARE PROVIDERS SCHEDULDED FOR INACTIVATION
"RTN","SCMCTSK5",103,0)
 ;;  
"RTN","SCMCTSK5",104,0)
 ;;Provider's     Assoc     Team                      Person    # of Pts  Sch Inac
"RTN","SCMCTSK5",105,0)
 ;;Name           Clinics   Position   Role           Class     Assigned  Date 
"RTN","SCMCTSK5",106,0)
 ;;-------------------------------------------------------------------------------
"RTN","SCMCTSK5",107,0)
 ;;  
"RTN","SCMCTSK5",108,0)
 Q
"RTN","SCMCTSK5",109,0)
GONE ;
"RTN","SCMCTSK5",110,0)
 ;;  PRIMARY CARE PROVIDERS INACTIVATED
"RTN","SCMCTSK5",111,0)
 ;; 
"RTN","SCMCTSK5",112,0)
 ;;Provider's     Assoc     Team                      Person    # of Pts  Inac
"RTN","SCMCTSK5",113,0)
 ;;Name           Clinics   Position   Role           Class     Assigned  Date   
"RTN","SCMCTSK5",114,0)
 ;;-------------------------------------------------------------------------------
"RTN","SCMCTSK5",115,0)
 ;;    
"RTN","SCMCTSK5",116,0)
 Q
"RTN","SCMCTSK5",117,0)
MAIL(POS,T)       ;Given POS as position set up who gets mail 
"RTN","SCMCTSK5",118,0)
 I $D(^TMP("SCML",$J,"POS",POS)) Q
"RTN","SCMCTSK5",119,0)
 S ^TMP("SCML",$J,"POS",+$G(POS))=""
"RTN","SCMCTSK5",120,0)
 ;who gets mail at this position 
"RTN","SCMCTSK5",121,0)
 N TWO S TWO=$G(^SCTM(404.57,+$G(POS),2))
"RTN","SCMCTSK5",122,0)
 I $P(TWO,U,10) D  ;get preceptor
"RTN","SCMCTSK5",123,0)
 .S PREC=+$$OKPREC3^SCMCLK(POS,DT) Q:'PREC
"RTN","SCMCTSK5",124,0)
 .D POS(PREC)
"RTN","SCMCTSK5",125,0)
 I $P(TWO,U,9)="T" D  ;get team providers
"RTN","SCMCTSK5",126,0)
 .S T=$G(T)
"RTN","SCMCTSK5",127,0)
 .N I F I=0:0 S I=$O(^SCTM(404.57,"C",T,I)) Q:'I  D POS(I)
"RTN","SCMCTSK5",128,0)
 I $P(TWO,U,9)="P" D  ;get position providers
"RTN","SCMCTSK5",129,0)
 .D POS(POS) Q
"RTN","SCMCTSK5",130,0)
 Q
"RTN","SCMCTSK5",131,0)
POS(P) ;provider
"RTN","SCMCTSK5",132,0)
 N A
"RTN","SCMCTSK5",133,0)
 S A=+$$GETPRTP^SCAPMCU2(P,DT) Q:'A
"RTN","SCMCTSK5",134,0)
 S ^TMP("SCML",$J,"POS",A)=""
"RTN","SCMCTSK5",135,0)
 S ^TMP("SCML",$J,"XM",A,POS)=""
"RTN","SCMCTSK5",136,0)
 Q
"RTN","SCMCTSK5",137,0)
LINES(TYPE) ;Lines of Bulletin
"RTN","SCMCTSK5",138,0)
 N I,ZERO,ZERO1,Y
"RTN","SCMCTSK5",139,0)
 S Y=$$PDAT^SCMCGU("SD*5.3*297") X ^DD("DD")
"RTN","SCMCTSK5",140,0)
 F I=1:1 S A=$P($T(@($P("FLAG^INACT^EXT^PRIN^GONE",U,TYPE))+I),";;",2) Q:A=""  D
"RTN","SCMCTSK5",141,0)
 .S ^TMP("SCMCTXT",$J,I,0)=$S(A["|DATE|":$P(A,"|DATE|",1)_Y,1:A)
"RTN","SCMCTSK5",142,0)
 ;S ^TMP("SCMCTXT",$J,2,0)="Patient                   Team                 Position           Dt "_$S($G(XMSUB)["Fla":"Flagged",1:"Inactivate")
"RTN","SCMCTSK5",143,0)
 S (CNT,HEAD)=$O(^TMP("SCMCTXT",$J,99),-1)+1
"RTN","SCMCTSK5",144,0)
 S DIV=""
"RTN","SCMCTSK5",145,0)
 F I=0:0 S I=$O(^TMP("SCMC",$J,I)) Q:'I  S ENTRY=+$O(^(I,0)) D
"RTN","SCMCTSK5",146,0)
 .I TYPE>3 D MM(TYPE) Q
"RTN","SCMCTSK5",147,0)
 .S ZERO=$G(^SCPT(404.43,+ENTRY,0)),ZERO1=$G(^SCPT(404.42,+ZERO,0))
"RTN","SCMCTSK5",148,0)
 .D MAIL(+$P(ZERO,U,2),+$P(ZERO1,U,3)) ;find out which individuals get this
"RTN","SCMCTSK5",149,0)
 .D MAKEMAIL(TYPE)
"RTN","SCMCTSK5",150,0)
 Q
"RTN","SCMCTSK5",151,0)
MAKEMAIL(TYPE)  ;
"RTN","SCMCTSK5",152,0)
 D MAKEMAIL^SCMCTSK6(TYPE) Q
"RTN","SCMCTSK5",153,0)
MM(TYPE)        ;for providers
"RTN","SCMCTSK5",154,0)
 D MM^SCMCTSK6(TYPE) Q
"RTN","SCMCTSK5",155,0)
PRMAIL(TYPE)    ;
"RTN","SCMCTSK5",156,0)
 ;Send mail to providers
"RTN","SCMCTSK5",157,0)
 D PRMAIL^SCMCTSK6(TYPE)
"RTN","SCMCTSK6")
0^8^B61603528
"RTN","SCMCTSK6",1,0)
SCMCTSK6 ;ALB/JDS - PCMM Bulletins ;01/28/2013
"RTN","SCMCTSK6",2,0)
 ;;5.3;Scheduling;**297,532,581,603**;AUG 13, 1993;Build 79
"RTN","SCMCTSK6",3,0)
 ;
"RTN","SCMCTSK6",4,0)
 Q
"RTN","SCMCTSK6",5,0)
MAKEMAIL(TYPE)  ;
"RTN","SCMCTSK6",6,0)
 N PRE,IN
"RTN","SCMCTSK6",7,0)
 S ZERO=$G(^SCPT(404.43,+ENTRY,0)),ZERO1=$G(^SCPT(404.42,+ZERO,0))
"RTN","SCMCTSK6",8,0)
 S T=+$P(ZERO1,U,3),IN=$P($G(^SCTM(404.51,T,0)),U,7) S INSTNM=$$GET1^DIQ(4,(+IN)_",",.01)
"RTN","SCMCTSK6",9,0)
 I INSTNM'=DIV S DIV=INSTNM D
"RTN","SCMCTSK6",10,0)
 .S ^TMP("SCMCTXT",$J,CNT,0)="  "
"RTN","SCMCTSK6",11,0)
 .S ^TMP("SCMCTXT",$J,CNT+1,0)="      INSTITUTION: "_DIV,CNT=CNT+2
"RTN","SCMCTSK6",12,0)
 S PROV=$P($$GETPRTP^SCAPMCU2(+$P(ZERO,U,2),DT),U,2)
"RTN","SCMCTSK6",13,0)
 S PRE=$P($$OKPREC2^SCMCLK(+$P(ZERO,U,2),DT),U,2)
"RTN","SCMCTSK6",14,0)
 S A=$E($$NAME^SCMCQK1(+ZERO1)_$J("",30),1,20)_" "_$E($$GET1^DIQ(2,(+ZERO1)_",",.0905)_$J("",5),2,5)_" "
"RTN","SCMCTSK6",15,0)
 S A=A_$E(PROV_$J("",20),1,17)_" "_$E($E($$TEAMNM^SCMCQK1(+$P(ZERO1,U,3)),1,14)_$J("",20),1,15)
"RTN","SCMCTSK6",16,0)
 ;S A=A_" "_$E($$POSITION^SCMCQK1(+$P(ZERO,U,2))_$J("",20),1,20)
"RTN","SCMCTSK6",17,0)
 D INACTDT^SCMCTSK1(+ENTRY) S Y=X S:$G(TYPE)=2 Y=$P(ZERO,U,4),Y=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_$E(Y,2,3),A=A_$E(Y_$J("",20),1,11)
"RTN","SCMCTSK6",18,0)
 I $G(TYPE)=3 S Y=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_$E(Y,2,3) S A=A_" "_$E(Y_$J("",20),1,11)
"RTN","SCMCTSK6",19,0)
 I $G(TYPE)=1 S Y=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_$E(Y,2,3) S A=A_" "_$E(Y_$J("",20),1,11)
"RTN","SCMCTSK6",20,0)
 I $G(TYPE)=2 S B=$P(ZERO,U,12),A=A_" "_$S(B="NA":"NO APPT",B="DU":"DECEASED",1:"Unknown")
"RTN","SCMCTSK6",21,0)
 S ^TMP("SCMCTXT",$J,CNT,0)=A
"RTN","SCMCTSK6",22,0)
 I PRE'=PROV I $L(PRE) S CNT=CNT+1,^TMP("SCMCTXT",$J,CNT,0)=$J("",26)_$E(PRE,1,17)
"RTN","SCMCTSK6",23,0)
 S CNT=CNT+1
"RTN","SCMCTSK6",24,0)
 Q
"RTN","SCMCTSK6",25,0)
MM(TYPE)        ;for providers
"RTN","SCMCTSK6",26,0)
 N EXP
"RTN","SCMCTSK6",27,0)
 ;S Y=$P($G(^SCTM(404.52,+ENTRY,0)),U,10) I 'ALPHA D
"RTN","SCMCTSK6",28,0)
 S EXP=$$EN^SCMCTSKI(1)
"RTN","SCMCTSK6",29,0)
 ;.;S X1=Y,X2=30 D C^%DTC I $E(X,6,7)<16 S $E(X,6,7)=15 Q
"RTN","SCMCTSK6",30,0)
 ;.;S X=$S($E(X,4,5)=2:28,$E(X,4,5)=4:30,$E(X,4,5)=6:30,$E(X,4,5)=9:30,$E(X,4,5)=11:30,1:31)
"RTN","SCMCTSK6",31,0)
 ;I ALPHA D
"RTN","SCMCTSK6",32,0)
 ;.S X1=Y,X2=2 D C^%DTC
"RTN","SCMCTSK6",33,0)
 S EXP=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3)
"RTN","SCMCTSK6",34,0)
 S ZERO=$G(^SCTM(404.52,+ENTRY,0)) N CLI
"RTN","SCMCTSK6",35,0)
 S TP=$G(^SCTM(404.57,+ZERO,0)) D MAIL^SCMCTSK5(+ZERO,+$P(TP,U,2)) S T=$P(TP,U,2)
"RTN","SCMCTSK6",36,0)
 S ^TMP("SCML",$J,"POS",+$P(ZERO,U,3))=""
"RTN","SCMCTSK6",37,0)
 S ^TMP("SCML",$J,"XM",+$P(ZERO,U,3),+ZERO)=""
"RTN","SCMCTSK6",38,0)
 I TYPE=5 S Y=$P(ZERO,U,2),EXP=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_$E(Y,2,3)
"RTN","SCMCTSK6",39,0)
 S IN=$P($G(^SCTM(404.51,T,0)),U,7) S INSTNM=$$GET1^DIQ(4,(+IN)_",",.01)
"RTN","SCMCTSK6",40,0)
 I INSTNM'=DIV S DIV=INSTNM D
"RTN","SCMCTSK6",41,0)
 .S ^TMP("SCMCTXT",$J,CNT,0)="   "
"RTN","SCMCTSK6",42,0)
 .S ^TMP("SCMCTXT",$J,CNT+1,0)="      INSTITUTION: "_DIV,CNT=CNT+2
"RTN","SCMCTSK6",43,0)
 N I,CNT1 S CNT1=0
"RTN","SCMCTSK6",44,0)
 S ROLE=$P($G(^SD(403.46,+$P(TP,U,3),0)),U)
"RTN","SCMCTSK6",45,0)
 S PC=$P($$GET^XUA4A72(+$P(ZERO,U,3)),U,2)
"RTN","SCMCTSK6",46,0)
 I $G(^TMP("SCMCTXT",$J,3,0))["|POS|" S A=^(0),^(0)=$P(A,"|POS|")_$P(TP,U)_" ROLE: "_ROLE D
"RTN","SCMCTSK6",47,0)
 .S A=$G(^TMP("SCMCTXT",$J,5,0)),^(0)=$P(A,"|PC|")_PC
"RTN","SCMCTSK6",48,0)
 F I=0:0 S I=$O(^SCTM(404.57,+ZERO,5,I)) Q:'I  S CLI(CNT1)=$P($G(^SC(I,0)),U),CNT1=CNT1+1
"RTN","SCMCTSK6",49,0)
 S A=$E($P($G(^VA(200,+$P(ZERO,U,3),0)),U)_$J("",20),1,14)_" "_$E($G(CLI(0))_$J("",10),1,9)
"RTN","SCMCTSK6",50,0)
 S A=A_" "_$E($P(TP,U)_$J("",20),1,10)_" "_$E(ROLE_$J("",20),1,14)
"RTN","SCMCTSK6",51,0)
 S A=A_" "_$E(PC_$J("",20),1,14)
"RTN","SCMCTSK6",52,0)
 S A=A_" "_$E($$PCPOSCNT^SCAPMCU1(+ZERO,DT,0)_$J("",9),1,4)_" "_EXP
"RTN","SCMCTSK6",53,0)
 S ^TMP("SCMCTXT",$J,CNT,0)=A
"RTN","SCMCTSK6",54,0)
 F I=1:1 Q:'$D(CLI(I))  I $L(CLI(I)) S CNT=CNT+1,^TMP("SCMCTXT",$J,CNT,0)=$J("",15)_$E(CLI(I),1,9)
"RTN","SCMCTSK6",55,0)
 S CNT=CNT+1
"RTN","SCMCTSK6",56,0)
 Q
"RTN","SCMCTSK6",57,0)
PRMAIL(TYPE)    ;
"RTN","SCMCTSK6",58,0)
 ;Send mail to providers
"RTN","SCMCTSK6",59,0)
 N USER
"RTN","SCMCTSK6",60,0)
 F USER=0:0 S USER=$O(^TMP("SCML",$J,"XM",USER)) Q:'USER  D
"RTN","SCMCTSK6",61,0)
 .F I=HEAD:0 S I=$O(^TMP("SCMCTXT",$J,I)) Q:'I  K ^(I)
"RTN","SCMCTSK6",62,0)
 .I TYPE=5 D M5
"RTN","SCMCTSK6",63,0)
 .S CNT=HEAD,DIV=""
"RTN","SCMCTSK6",64,0)
 .F I=0:0 S I=$O(^TMP("SCMC",$J,I)) Q:'I  S ENTRY=+$O(^(I,0)) D
"RTN","SCMCTSK6",65,0)
 ..S ZERO=$G(^SCPT(404.43,+ENTRY,0)),ZERO1=$G(^SCPT(404.42,+ZERO,0))
"RTN","SCMCTSK6",66,0)
 ..I TYPE>3 D  Q
"RTN","SCMCTSK6",67,0)
 ...S ZERO=$G(^SCTM(404.52,+ENTRY,0))
"RTN","SCMCTSK6",68,0)
 ...I $D(^TMP("SCML",$J,"XM",USER,+ZERO)) D MM(TYPE)
"RTN","SCMCTSK6",69,0)
 ..I $D(^TMP("SCML",$J,"XM",USER,+$P(ZERO,U,2))) D MAKEMAIL(TYPE)
"RTN","SCMCTSK6",70,0)
 .I CNT=HEAD Q
"RTN","SCMCTSK6",71,0)
 .S XMY(USER)="",XMTEXT="^TMP(""SCMCTXT"",$J,"
"RTN","SCMCTSK6",72,0)
 .S XMSUB="Patients Scheduled for Inactivation from PACT"
"RTN","SCMCTSK6",73,0)
 .I TYPE=3 S XMSUB="Patients With Extended PCMM Inactivation Date"
"RTN","SCMCTSK6",74,0)
 .I TYPE=2 S XMSUB="Patients Automated Inactivations from PACT"
"RTN","SCMCTSK6",75,0)
 .I TYPE=4 S XMSUB="Primary Care Providers Scheduled for Inactivation"
"RTN","SCMCTSK6",76,0)
 .I TYPE=5 Q  ;S XMSUB="Primary Care Providers Inactivated"
"RTN","SCMCTSK6",77,0)
 .D ^XMD
"RTN","SCMCTSK6",78,0)
 Q
"RTN","SCMCTSK6",79,0)
M5 ;Individual provider bulletin
"RTN","SCMCTSK6",80,0)
 Q:$G(^TMP("SCMCTXT",$J,1,0))["ATTENTION"
"RTN","SCMCTSK6",81,0)
 F I=1:1:CNT-1 Q:'$D(^TMP("SCMCTXT",$J,I))  S A=^(I,0),^TMP("SCMCTXT",$J,I+11,0)=A
"RTN","SCMCTSK6",82,0)
 F I=0:1:10 S A=$P($T(M6+I),";;",2),^TMP("SCMCTXT",$J,I+1,0)=A
"RTN","SCMCTSK6",83,0)
 S HEAD=HEAD+12
"RTN","SCMCTSK6",84,0)
 Q
"RTN","SCMCTSK6",85,0)
M6 ;;ATTENTION: You may be inactivated as Primary Care Staff in the computer program
"RTN","SCMCTSK6",86,0)
 ;;Primary Care Management Module (PCMM) VistA
"RTN","SCMCTSK6",87,0)
 ;;Your Primary Care position |POS|       Role |ROLE|
"RTN","SCMCTSK6",88,0)
 ;;May not correspond to your Person Class of
"RTN","SCMCTSK6",89,0)
 ;;|PC|
"RTN","SCMCTSK6",90,0)
 ;;in VistA (file 200). Associate Primary Care Providers who provide Primary Care
"RTN","SCMCTSK6",91,0)
 ;;must be a Resident or Intern (Physician) a Nurse Practitioner or a Physician's
"RTN","SCMCTSK6",92,0)
 ;;Assistant. Primary Care Providers must be an Attending physician (MD or DO),
"RTN","SCMCTSK6",93,0)
 ;;Nurse Practitioner or a Physician's Assistant
"RTN","SCMCTSK6",94,0)
 ;;Please contact your PCMM Coordinator or information systems department if you
"RTN","SCMCTSK6",95,0)
 ;;do not think you should be inactivated in PCMM as a provider.
"RTN","SCMCTSK6",96,0)
 Q
"RTN","SCMCTSK6",97,0)
ACLIN ;Get sting of clinics in Alpha Order
"RTN","SCMCTSK6",98,0)
 S X=""
"RTN","SCMCTSK6",99,0)
 N A,I
"RTN","SCMCTSK6",100,0)
 F I=0:0 S I=$O(^SCTM(404.57,+$G(D0),5,I)) Q:'I  S A=$P($G(^SC(I,0)),U) I $L(A) S A(A)=""
"RTN","SCMCTSK6",101,0)
 S A="" F  S A=$O(A(A)) Q:A=""  S X=X_$E(A,1,5)_U
"RTN","SCMCTSK6",102,0)
 S X=$P(X,U,1,$S(X[U:$L(X,U)-1,1:1))
"RTN","SCMCTSK6",103,0)
 Q
"RTN","SCMCTSK6",104,0)
BULL ;
"RTN","SCMCTSK6",105,0)
 N FLDS
"RTN","SCMCTSK6",106,0)
 S DISUPNO=1
"RTN","SCMCTSK6",107,0)
 K ^TMP("SCMC",$J),^TMP("SCMCTXT",$J),^TMP("SCML",$J),XMY
"RTN","SCMCTSK6",108,0)
 S XMY("G.PCMM PATIENT/PROVIDER INACTIVE")=""
"RTN","SCMCTSK6",109,0)
 S XMTEXT="^TMP(""SCMCTXT"",$J,"
"RTN","SCMCTSK6",110,0)
 S DIC="^SCTM(404.52,",BY="[SCMC PROVIDER INACTIVATED]",DHIT="S CNT=$G(CNT)+1,^TMP(""SCMC"",$J,CNT,D0)=""""",CNT=0
"RTN","SCMCTSK6",111,0)
 S FLDS="",IOP="",DHD="@@",FR="",TO="" D EN1^DIP
"RTN","SCMCTSK6",112,0)
 S XMSUB="Primary Care Providers Inactivated"
"RTN","SCMCTSK6",113,0)
 D LINES^SCMCTSK5(5)
"RTN","SCMCTSK6",114,0)
 D ^XMD
"RTN","SCMCTSK6",115,0)
 D PRMAIL^SCMCTSK5(5)
"RTN","SCMCTSK6",116,0)
 Q
"RTN","SCMCTSK6",117,0)
FTERPT ;FTEE REPORT
"RTN","SCMCTSK6",118,0)
 D PROMPT^SCMCTSK3("FTEE AND PANEL SIZE")
"RTN","SCMCTSK6",119,0)
 Q:'$D(^TMP("SC",$J,"XR"))
"RTN","SCMCTSK6",120,0)
 ;D FLAGG^SCMCTSK3
"RTN","SCMCTSK6",121,0)
 S Q=""""
"RTN","SCMCTSK6",122,0)
 S DIC="^SCTM(404.52,",L=0
"RTN","SCMCTSK6",123,0)
 D FTEE
"RTN","SCMCTSK6",124,0)
 S (SCDHD,DHD)="FTEE AND PANEL SIZE"
"RTN","SCMCTSK6",125,0)
 D BY^SCMCTSK2
"RTN","SCMCTSK6",126,0)
 S DIOBEG="D DIOBEG^SCMCTSK4"
"RTN","SCMCTSK6",127,0)
 S FLDS="[SCMC FTEE AND PANEL SIZE]"
"RTN","SCMCTSK6",128,0)
 I $D(^TMP("SC",$J,"SCLIN")) S FLDS="[SCMC FTEE 1 CLN]"
"RTN","SCMCTSK6",129,0)
 S DIOEND="D DIOEND^SCMCTSK7"
"RTN","SCMCTSK6",130,0)
 D EN1^DIP
"RTN","SCMCTSK6",131,0)
 Q
"RTN","SCMCTSK6",132,0)
FTEE ;Sort FLAGGED
"RTN","SCMCTSK6",133,0)
 K ^TMP("SCSORT",$J)
"RTN","SCMCTSK6",134,0)
 N I,A,J
"RTN","SCMCTSK6",135,0)
 I '$D(^TMP("SC",$J,"SORT",1)) S ^(1)="DV^INSTITUTION^SCDIV",SORTN="INSTITUTION",^(2)="TM^TEAM^SCTEAM",^(3)="PR^PROVIDER^SCPROV"
"RTN","SCMCTSK6",136,0)
 N SORT S A="" F  S A=$O(^TMP("SC",$J,A)) Q:A=""  I "XRSORTDTR"'[A I $G(^(A))'="ALL" S SORT($S(A="ASPR":"PR",A="CLINIC":"EC",A="DIV":"DV",A="POS":"TP",1:"TM"))=""
"RTN","SCMCTSK6",137,0)
 F I=0:0 S I=$O(^SCTM(404.52,"AIDT",I)) Q:'I  S K=$O(^SCTM(404.52,"AIDT",I,1,-9999999)) I K D
"RTN","SCMCTSK6",138,0)
 .I $O(^SCTM(404.52,"AIDT",I,0,K),-1) Q   ;inactive
"RTN","SCMCTSK6",139,0)
 .S J=$O(^SCTM(404.52,"AIDT",I,1,K,0)) Q:'J
"RTN","SCMCTSK6",140,0)
 .D SORT(0)
"RTN","SCMCTSK6",141,0)
 Q
"RTN","SCMCTSK6",142,0)
SORT(INACTIVE)  ;
"RTN","SCMCTSK6",143,0)
 N A,B,C,D,E,QUIT,SCA,K,KCNT
"RTN","SCMCTSK6",144,0)
 S ZERO=$G(^SCTM(404.52,+J,0))
"RTN","SCMCTSK6",145,0)
 S QUIT=0,KCNT=0
"RTN","SCMCTSK6",146,0)
 F K=1:1 Q:'$D(^TMP("SC",$J,"SORT",K))  S A=^(K) K SORT($P(A,U)) S @("A("_K_")=$$"_$P(A,U)_"("_J_")") D  I (A(K)=-1)!($P(A(K),U)="") S QUIT=1 Q
"RTN","SCMCTSK6",147,0)
 .I ($P(A,U)="EC")!($P(A,U)="AC") D
"RTN","SCMCTSK6",148,0)
 ..I $L(A(K),U)>2 S KCNT=K
"RTN","SCMCTSK6",149,0)
 ..N I F I=1:1:$L(A(K),U)-1 S ^TMP("SC",$J,"SCLIN",+ZERO,$P(A(K),U,I))=""
"RTN","SCMCTSK6",150,0)
 Q:QUIT
"RTN","SCMCTSK6",151,0)
 S A="" F  S A=$O(SORT(A)) Q:A=""  S @("B=$$"_A_"("_J_")") I B=-1 S QUIT=1 Q
"RTN","SCMCTSK6",152,0)
 Q:QUIT
"RTN","SCMCTSK6",153,0)
 F PIECE=1:1:$S(KCNT:$L(A(KCNT),U)-1,1:1) D
"RTN","SCMCTSK6",154,0)
 .S B="E" K @B
"RTN","SCMCTSK6",155,0)
 .F K=1:1:$O(A(99),-1) S @B@($P(A(K),U,$S(K=KCNT:PIECE,1:1)))="" S C=$Q(@B) K @B S B=C
"RTN","SCMCTSK6",156,0)
 .S @B@(J)=""
"RTN","SCMCTSK6",157,0)
 .M ^TMP("SCSORT",$J)=E
"RTN","SCMCTSK6",158,0)
 Q
"RTN","SCMCTSK6",159,0)
DV(PP) ;return institution sort of patient assignment entry and then IEN of team^ien of position
"RTN","SCMCTSK6",160,0)
 N A,B,C,T,I,INSTNM,INSTN
"RTN","SCMCTSK6",161,0)
 S T=+$P($G(^SCTM(404.57,+ZERO,0)),U,2) I $D(INST(T)) Q INST(T)_U_T_U_(+ZERO)
"RTN","SCMCTSK6",162,0)
 S I=+$P($G(^SCTM(404.51,T,0)),U,7) I $O(^TMP("SC",$J,"DIV",0)) I '$D(^TMP("SC",$J,"DIV",I)) Q -1
"RTN","SCMCTSK6",163,0)
 S INSTNM=$$GET1^DIQ(4,(+I)_",",.01),INSTN=$$GET1^DIQ(4,(+I)_",",99)
"RTN","SCMCTSK6",164,0)
 S INST(T)=$S($L(INSTN)=3:INSTN_" ",1:"")_INSTNM Q INST(T)_U_T_U_(+ZERO)
"RTN","SCMCTSK6",165,0)
EC(PP) Q $$AC(PP)
"RTN","SCMCTSK6",166,0)
AC(PP) ;return enrolled clinics
"RTN","SCMCTSK6",167,0)
 N I,A
"RTN","SCMCTSK6",168,0)
 S A=""
"RTN","SCMCTSK6",169,0)
 F I=0:0 S I=$O(^SCTM(404.57,+ZERO,5,I)) Q:'I  D
"RTN","SCMCTSK6",170,0)
 .;I '$$PTCL^SCRPO2(DFN,U_I,0,DT) Q   ;not enrolled
"RTN","SCMCTSK6",171,0)
 .I $D(CLIN(I)) S A=A_CLIN(I)_U Q
"RTN","SCMCTSK6",172,0)
 .I $O(^TMP("SC",$J,"CLINIC",0)) I '$D(^(I)) Q
"RTN","SCMCTSK6",173,0)
 .S CLIN(I)=$P($G(^SC(I,0)),U) I $L(CLIN(I)) S A=A_CLIN(I)_U
"RTN","SCMCTSK6",174,0)
 Q $S(A="":-1,1:A)
"RTN","SCMCTSK6",175,0)
TM(PP) ;Return Team
"RTN","SCMCTSK6",176,0)
 N I,A,T
"RTN","SCMCTSK6",177,0)
 S T=+$P($G(^SCTM(404.57,+ZERO,0)),U,2)
"RTN","SCMCTSK6",178,0)
 I $D(TEAM(T)) Q TEAM(T)
"RTN","SCMCTSK6",179,0)
 I $O(^TMP("SC",$J,"TEAM",0)) I '$D(^(T)) Q -1
"RTN","SCMCTSK6",180,0)
 S TEAM(T)=$P($G(^SCTM(404.51,+T,0)),U)
"RTN","SCMCTSK6",181,0)
 I '$L(TEAM(T)) K TEAM(T) Q -1
"RTN","SCMCTSK6",182,0)
 Q TEAM(T)
"RTN","SCMCTSK6",183,0)
TP(A) ;return the team position
"RTN","SCMCTSK6",184,0)
 N TP S TP=+ZERO
"RTN","SCMCTSK6",185,0)
 I $O(^TMP("SC",$J,"POS",0)) I '$D(^(TP)) Q -1
"RTN","SCMCTSK6",186,0)
 Q $P($G(^SCTM(404.57,+TP,0)),U)
"RTN","SCMCTSK6",187,0)
PR(PP) ;Return assigned provider
"RTN","SCMCTSK6",188,0)
 N A
"RTN","SCMCTSK6",189,0)
 I $O(^TMP("SC",$J,"ASPR",0)) I '$D(^(+$P(ZERO,U,3))) Q -1
"RTN","SCMCTSK6",190,0)
 S A=$$GET1^DIQ(200,(+$P(ZERO,U,3))_",",.01) Q $S(A="":-1,1:A)
"RTN","SCMCTSK6",191,0)
 Q
"RTN","SCMCTSK6",192,0)
PCP(D0) ;PCP or AP
"RTN","SCMCTSK6",193,0)
 N A I +$P($G(^SCTM(404.57,D0,0)),U,4)=0 Q " "   ;SD/581
"RTN","SCMCTSK6",194,0)
 S A=$O(^SCTM(404.53,"AIDT",D0,1,0),-1)
"RTN","SCMCTSK6",195,0)
 I 'A Q "PCP"
"RTN","SCMCTSK6",196,0)
 I $O(^SCTM(404.53,"AIDT",D0,0,A),-1) Q "PCP"
"RTN","SCMCTSK6",197,0)
 Q "AP"
"RTN","SCMCTSK6",198,0)
CLN(D0) ;sorted by clinic get next one
"RTN","SCMCTSK6",199,0)
 N A S A=$O(^TMP("SC",$J,"SCLIN",D0,"")) Q:A=""
"RTN","SCMCTSK6",200,0)
 N I F I=0:0 S I=$O(^SC("B",A,I)) Q:'I  I $D(^SCTM(404.57,D0,5,I)) Q
"RTN","SCMCTSK6",201,0)
 Q:'I
"RTN","SCMCTSK6",202,0)
 S DIPA("NUM")="`"_I K ^TMP("SC",$J,"SCLIN",D0,A)
"RTN","SCMCWS1")
0^9^B162034987
"RTN","SCMCWS1",1,0)
SCMCWS1 ;ALB/ART - PCMM Web-Call Patient Summary Web Service ;02/06/2015
"RTN","SCMCWS1",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SCMCWS1",3,0)
 ;
"RTN","SCMCWS1",4,0)
 QUIT
"RTN","SCMCWS1",5,0)
 ;
"RTN","SCMCWS1",6,0)
 ;Public, Supported ICRs
"RTN","SCMCWS1",7,0)
 ; #2053 - Data Base Server API: Editing Utilities (DIE)
"RTN","SCMCWS1",8,0)
 ; #2056 - Data Base Server API: Data Retriever Utilities (DIQ)
"RTN","SCMCWS1",9,0)
 ; #4440 - DBIA4440 (XUPROD)
"RTN","SCMCWS1",10,0)
 ; #5421 - XOBWLIB - Public APIs for HWSC
"RTN","SCMCWS1",11,0)
 ; #10035 - PATIENT FILE
"RTN","SCMCWS1",12,0)
 ; #10060 - NEW PERSON FILE
"RTN","SCMCWS1",13,0)
 ; #10103 - XLFDT - Supported APIs for date & time
"RTN","SCMCWS1",14,0)
 ; #10112 - VASITE - Supported APIs for site info
"RTN","SCMCWS1",15,0)
 ;
"RTN","SCMCWS1",16,0)
PCDETAIL(SCDISPLY,SCDFN) ;Call PCMM/R Web Service
"RTN","SCMCWS1",17,0)
 ;Inputs: SCDISPLY - Array for team assignment info - passed by reference
"RTN","SCMCWS1",18,0)
 ;        SCDFN    - Patient DFN
"RTN","SCMCWS1",19,0)
 ;Output: populated SCDISPLY
"RTN","SCMCWS1",20,0)
 ; ICR #6027 - SCMC PCMM/R GET PRIMARY CARE DETAILS
"RTN","SCMCWS1",21,0)
 ;
"RTN","SCMCWS1",22,0)
 NEW SCSERVER,SCSERVC,SCLIST,SCSRVRKY,SCRC
"RTN","SCMCWS1",23,0)
 NEW SCSTAT,SCEOF,SCREADR,SCCNT,SCARRAY,SCVALUE,SCNODE,SCROW
"RTN","SCMCWS1",24,0)
 NEW SCREST,SCGETRC,SCERR
"RTN","SCMCWS1",25,0)
 NEW SCTEAMS,SCINPAT,SCNVA,SCBLOCK,SCTMLVL,SCPCLVL,SCNVALVL,SCMHLVL,SCOELVL,SCSPLVL,SCSPTYPE,SCSPMBR
"RTN","SCMCWS1",26,0)
 NEW SCDATA,SCX,SCY
"RTN","SCMCWS1",27,0)
 ;
"RTN","SCMCWS1",28,0)
 IF $$PROD^XUPROD DO
"RTN","SCMCWS1",29,0)
 . SET SCDATA("serverNameKey")="PCMMR SERVER"
"RTN","SCMCWS1",30,0)
 ELSE  DO
"RTN","SCMCWS1",31,0)
 . SET SCDATA("serverNameKey")="PCMMR TEST SERVER"
"RTN","SCMCWS1",32,0)
 SET SCDATA("webServiceName")="PCMM-R GET PC INFO REST"
"RTN","SCMCWS1",33,0)
 ;
"RTN","SCMCWS1",34,0)
 ; Web service setup
"RTN","SCMCWS1",35,0)
 SET SCRC=+$$SETUP^SCMCWSUT(.SCDATA)
"RTN","SCMCWS1",36,0)
 IF SCRC=0 DO  QUIT
"RTN","SCMCWS1",37,0)
 . SET SCDISPLY(1)=$PIECE(SCRC,U,2)
"RTN","SCMCWS1",38,0)
 ;
"RTN","SCMCWS1",39,0)
 ; Get client REST request object
"RTN","SCMCWS1",40,0)
 SET SCDATA("restObject")=$$GETREST^XOBWLIB(SCDATA("webServiceName"),SCDATA("serverName"))
"RTN","SCMCWS1",41,0)
 ;
"RTN","SCMCWS1",42,0)
 ; Get Local Site ID
"RTN","SCMCWS1",43,0)
 ;Institution file pointer^Institution name^station number with suffix
"RTN","SCMCWS1",44,0)
 SET SCDATA("site")=$PIECE($$SITE^VASITE(),U,3)
"RTN","SCMCWS1",45,0)
 ;
"RTN","SCMCWS1",46,0)
 ; Set PCMM/R web service parameters
"RTN","SCMCWS1",47,0)
 SET SCDATA("webServiceParameters")="/"_SCDATA("site")_"/"_SCDFN_".xml"
"RTN","SCMCWS1",48,0)
 ;
"RTN","SCMCWS1",49,0)
 ; Retrieve the resource; execute HTTP GET method
"RTN","SCMCWS1",50,0)
 SET SCGETRC=$$GET^XOBWLIB(SCDATA("restObject"),SCDATA("webServiceParameters"),.SCERR,0)
"RTN","SCMCWS1",51,0)
 IF 'SCGETRC DO  QUIT
"RTN","SCMCWS1",52,0)
 . SET SCRC=$$GET1^DIQ(404.41,SCDFN_",",.07,"","SCDISPLY")
"RTN","SCMCWS1",53,0)
 . IF $GET(SCDISPLY(1))="" DO
"RTN","SCMCWS1",54,0)
 . . SET SCDISPLY(1)="PCMM is unavailable."
"RTN","SCMCWS1",55,0)
 ;
"RTN","SCMCWS1",56,0)
 ; Parse the XML stream
"RTN","SCMCWS1",57,0)
 SET SCSTAT=##class(%XML.TextReader).ParseStream(SCDATA("restObject").HttpResponse.Data,.SCREADR)
"RTN","SCMCWS1",58,0)
 ;
"RTN","SCMCWS1",59,0)
 ; Check XML parse error
"RTN","SCMCWS1",60,0)
 IF 'SCSTAT DO  QUIT
"RTN","SCMCWS1",61,0)
 . SET SCDISPLY(1)=">>> ERROR reading XML <<<"
"RTN","SCMCWS1",62,0)
 . SET SCDISPLY(2)="    Invalid XML Format"
"RTN","SCMCWS1",63,0)
 ;
"RTN","SCMCWS1",64,0)
 ; Process XML
"RTN","SCMCWS1",65,0)
 SET SCTMLVL=0
"RTN","SCMCWS1",66,0)
 SET SCPCLVL=0
"RTN","SCMCWS1",67,0)
 SET SCNVALVL=0
"RTN","SCMCWS1",68,0)
 SET SCMHLVL=0
"RTN","SCMCWS1",69,0)
 SET SCOELVL=0
"RTN","SCMCWS1",70,0)
 SET SCSPLVL=0
"RTN","SCMCWS1",71,0)
 SET SCSPTYPE=0
"RTN","SCMCWS1",72,0)
 SET SCSPMBR=0
"RTN","SCMCWS1",73,0)
 SET SCCNT=0
"RTN","SCMCWS1",74,0)
 SET SCBLOCK=0
"RTN","SCMCWS1",75,0)
 SET SCEOF=0
"RTN","SCMCWS1",76,0)
 FOR  QUIT:SCEOF!SCREADR.EOF!'SCREADR.Read()  DO
"RTN","SCMCWS1",77,0)
 . ; Get element value
"RTN","SCMCWS1",78,0)
 . IF (SCREADR.NodeType="chars") DO
"RTN","SCMCWS1",79,0)
 . . SET SCNODE=SCREADR.Path
"RTN","SCMCWS1",80,0)
 . . SET SCVALUE=SCREADR.Value
"RTN","SCMCWS1",81,0)
 . . DO PARSEXML^SCMCWS1A(SCNODE,SCVALUE,.SCTEAMS,.SCNVA,.SCTMLVL,.SCPCLVL,.SCNVALVL,.SCMHLVL,.SCOELVL,.SCSPLVL,.SCSPTYPE,.SCSPMBR,.SCBLOCK,.SCEOF)
"RTN","SCMCWS1",82,0)
 . ; Check for last closing tag
"RTN","SCMCWS1",83,0)
 . IF (SCREADR.NodeType="endelement")&(SCREADR.LocalName="PatientSummary") DO
"RTN","SCMCWS1",84,0)
 . . SET SCEOF=1
"RTN","SCMCWS1",85,0)
 ;
"RTN","SCMCWS1",86,0)
 ; Get Ipatient Data
"RTN","SCMCWS1",87,0)
 DO GETINPAT(SCDFN,.SCINPAT)
"RTN","SCMCWS1",88,0)
 ;
"RTN","SCMCWS1",89,0)
 ; Build Display Array
"RTN","SCMCWS1",90,0)
 IF 'SCBLOCK DO
"RTN","SCMCWS1",91,0)
 . DO BLDISPLY(.SCTEAMS,.SCINPAT,.SCNVA,.SCDISPLY,SCDATA("site"))
"RTN","SCMCWS1",92,0)
 ELSE  DO
"RTN","SCMCWS1",93,0)
 . DO BLDBLOCK(.SCTEAMS,.SCINPAT,.SCDISPLY)
"RTN","SCMCWS1",94,0)
 ;
"RTN","SCMCWS1",95,0)
 ;Save display array in OutPatient Profile
"RTN","SCMCWS1",96,0)
 SET SCDISPLY(1)="ATTENTION: PCMM is unavailable, data is current as of: "_$$FMTE^XLFDT($$NOW^XLFDT(),2)
"RTN","SCMCWS1",97,0)
 DO WP^DIE(404.41,SCDFN_",",.07,"K","SCDISPLY")
"RTN","SCMCWS1",98,0)
 SET SCDISPLY(1)=""
"RTN","SCMCWS1",99,0)
 ;
"RTN","SCMCWS1",100,0)
 QUIT
"RTN","SCMCWS1",101,0)
 ;
"RTN","SCMCWS1",102,0)
 ;
"RTN","SCMCWS1",103,0)
GETINPAT(SCDFN,SCINPAT) ;Build an array of local attending and inpatient providers
"RTN","SCMCWS1",104,0)
 ;Inputs: SCDFN    - patient DFN
"RTN","SCMCWS1",105,0)
 ;        SCINPAT  - inpatient provider array - by reference
"RTN","SCMCWS1",106,0)
 ;Output: Populated inpatient provider array
"RTN","SCMCWS1",107,0)
 ;
"RTN","SCMCWS1",108,0)
 NEW SCATT,SCPROV
"RTN","SCMCWS1",109,0)
 ;If patient is assigned to a ward
"RTN","SCMCWS1",110,0)
 IF $$GET1^DIQ(2,SCDFN_",",.1)'="" DO
"RTN","SCMCWS1",111,0)
 . SET SCATT=$$GET1^DIQ(2,SCDFN_",",.1041,"I")
"RTN","SCMCWS1",112,0)
 . SET SCPROV=$$GET1^DIQ(2,SCDFN_",",.104,"I")
"RTN","SCMCWS1",113,0)
 . ;populate array from New Person File
"RTN","SCMCWS1",114,0)
 . IF +SCATT DO
"RTN","SCMCWS1",115,0)
 . . SET SCINPAT("ATT NAME")=$$GET1^DIQ(200,+SCATT_",",.01)
"RTN","SCMCWS1",116,0)
 . . SET SCINPAT("ATT PHONE")=$$GET1^DIQ(200,+SCATT_",",.132)
"RTN","SCMCWS1",117,0)
 . . SET SCINPAT("ATT PAGER")=$$GET1^DIQ(200,+SCATT_",",.138)
"RTN","SCMCWS1",118,0)
 . IF +SCPROV DO
"RTN","SCMCWS1",119,0)
 . . SET SCINPAT("PROV NAME")=$$GET1^DIQ(200,+SCPROV_",",.01)
"RTN","SCMCWS1",120,0)
 . . SET SCINPAT("PROV PHONE")=$$GET1^DIQ(200,+SCPROV_",",.132)
"RTN","SCMCWS1",121,0)
 . . SET SCINPAT("PROV PAGER")=$$GET1^DIQ(200,+SCPROV_",",.138)
"RTN","SCMCWS1",122,0)
 QUIT
"RTN","SCMCWS1",123,0)
 ;
"RTN","SCMCWS1",124,0)
BLDBLOCK(SCTEAMS,SCINPAT,SCDISPLY) ; Build the Display Array
"RTN","SCMCWS1",125,0)
 ;Inputs: SCTEAMS  - Teams array - by reference
"RTN","SCMCWS1",126,0)
 ;        SCINPAT  - inpatient array - by reference
"RTN","SCMCWS1",127,0)
 ;        SCDISPLY - Display array - by reference
"RTN","SCMCWS1",128,0)
 ;Output: Populated Display Array
"RTN","SCMCWS1",129,0)
 ;
"RTN","SCMCWS1",130,0)
 NEW SCDISP,SCSKIP,SCI
"RTN","SCMCWS1",131,0)
 ;
"RTN","SCMCWS1",132,0)
 SET SCDISP=1
"RTN","SCMCWS1",133,0)
 SET SCSKIP=0
"RTN","SCMCWS1",134,0)
 SET SCDISPLY(SCDISP)=""
"RTN","SCMCWS1",135,0)
 ;Inpatient providers
"RTN","SCMCWS1",136,0)
 IF $GET(SCINPAT("ATT NAME"))'="" DO
"RTN","SCMCWS1",137,0)
 . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",138,0)
 . SET SCSKIP=1
"RTN","SCMCWS1",139,0)
 . SET SCDISPLY(SCDISP)="  Inpatient Attending: "_$GET(SCINPAT("ATT NAME"))_$$FMTPHPG("I","ATT",0)
"RTN","SCMCWS1",140,0)
 IF $GET(SCINPAT("PROV NAME"))'="" DO
"RTN","SCMCWS1",141,0)
 . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",142,0)
 . SET SCSKIP=1
"RTN","SCMCWS1",143,0)
 . SET SCDISPLY(SCDISP)="  Inpatient Provider:  "_$GET(SCINPAT("PROV NAME"))_$$FMTPHPG("I","PROV",0)
"RTN","SCMCWS1",144,0)
 IF SCSKIP DO
"RTN","SCMCWS1",145,0)
 . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",146,0)
 . SET SCDISPLY(SCDISP)=""
"RTN","SCMCWS1",147,0)
 ;
"RTN","SCMCWS1",148,0)
 FOR SCI=1:1 QUIT:'$DATA(SCTEAMS(SCI))  DO
"RTN","SCMCWS1",149,0)
 . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",150,0)
 . SET SCDISPLY(SCDISP)=SCTEAMS(SCI)
"RTN","SCMCWS1",151,0)
 ;
"RTN","SCMCWS1",152,0)
 QUIT
"RTN","SCMCWS1",153,0)
 ;
"RTN","SCMCWS1",154,0)
BLDISPLY(SCTEAMS,SCINPAT,SCNVA,SCDISPLY,SCSITE) ; Build the Display Array
"RTN","SCMCWS1",155,0)
 ;Inputs: SCTEAMS  - Teams array - by reference
"RTN","SCMCWS1",156,0)
 ;        SCINPAT  - inpatient array - by reference
"RTN","SCMCWS1",157,0)
 ;        SCNVA    - nonVA array - by reference
"RTN","SCMCWS1",158,0)
 ;        SCDISPLY - Display array - by reference
"RTN","SCMCWS1",159,0)
 ;        SCSITE   - Site Number
"RTN","SCMCWS1",160,0)
 ;Output: Populated Display Array
"RTN","SCMCWS1",161,0)
 ;
"RTN","SCMCWS1",162,0)
 NEW SCDISP,SCX,SCY,SCZ,SCLEVEL,SCLEVEL2,SCSTAT,SCXSITE,SCLOCAL,SCTMCNT,SCDISPSV,SCTYPE,SCSKIP,SCOTHTM
"RTN","SCMCWS1",163,0)
 SET SCDISP=0
"RTN","SCMCWS1",164,0)
 SET SCTMCNT=0
"RTN","SCMCWS1",165,0)
 SET SCDISPSV=0
"RTN","SCMCWS1",166,0)
 SET SCSKIP=0
"RTN","SCMCWS1",167,0)
 SET SCOTHTM=0
"RTN","SCMCWS1",168,0)
 ;Teams from web service call
"RTN","SCMCWS1",169,0)
 SET SCLEVEL=""
"RTN","SCMCWS1",170,0)
 FOR  SET SCLEVEL=$ORDER(SCTEAMS(SCLEVEL)) QUIT:SCLEVEL=""  DO
"RTN","SCMCWS1",171,0)
 . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",172,0)
 . SET SCDISPLY(SCDISP)=""
"RTN","SCMCWS1",173,0)
 . ;Check for local site
"RTN","SCMCWS1",174,0)
 . SET SCXSITE=$TR($PIECE($GET(SCTEAMS(SCLEVEL,"STATION")),"(",2),"#)","")
"RTN","SCMCWS1",175,0)
 . SET SCLOCAL=$SELECT(SCSITE=SCXSITE:1,1:0)
"RTN","SCMCWS1",176,0)
 . IF SCLOCAL DO
"RTN","SCMCWS1",177,0)
 . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",178,0)
 . . SET SCDISPLY(SCDISP)="LOCAL - "_$GET(SCTEAMS(SCLEVEL,"STATION"))
"RTN","SCMCWS1",179,0)
 . . ;Inpatient providers
"RTN","SCMCWS1",180,0)
 . . IF $GET(SCINPAT("ATT NAME"))'="" DO
"RTN","SCMCWS1",181,0)
 . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",182,0)
 . . . SET SCSKIP=1
"RTN","SCMCWS1",183,0)
 . . . SET SCDISPLY(SCDISP)="  Inpatient Attending: "_$GET(SCINPAT("ATT NAME"))_$$FMTPHPG("I","ATT",0)
"RTN","SCMCWS1",184,0)
 . . IF $GET(SCINPAT("PROV NAME"))'="" DO
"RTN","SCMCWS1",185,0)
 . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",186,0)
 . . . SET SCSKIP=1
"RTN","SCMCWS1",187,0)
 . . . SET SCDISPLY(SCDISP)="  Inpatient Provider:  "_$GET(SCINPAT("PROV NAME"))_$$FMTPHPG("I","PROV",0)
"RTN","SCMCWS1",188,0)
 . ELSE  DO
"RTN","SCMCWS1",189,0)
 . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",190,0)
 . . SET SCDISPLY(SCDISP)="REMOTE - "_$GET(SCTEAMS(SCLEVEL,"STATION"))
"RTN","SCMCWS1",191,0)
 . IF SCLOCAL,SCSKIP DO
"RTN","SCMCWS1",192,0)
 . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",193,0)
 . . SET SCDISPLY(SCDISP)=""
"RTN","SCMCWS1",194,0)
 . ;
"RTN","SCMCWS1",195,0)
 . ;PACT
"RTN","SCMCWS1",196,0)
 . IF '$DATA(SCTEAMS(SCLEVEL,2)) DO
"RTN","SCMCWS1",197,0)
 . . IF SCLOCAL DO
"RTN","SCMCWS1",198,0)
 . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",199,0)
 . . . SET SCDISPSV=SCDISP
"RTN","SCMCWS1",200,0)
 . . . SET SCDISPLY(SCDISP)="  PACT: No Local PACT Assigned."
"RTN","SCMCWS1",201,0)
 . SET SCY=""
"RTN","SCMCWS1",202,0)
 . FOR  SET SCY=$ORDER(SCTEAMS(SCLEVEL,2,SCY)) QUIT:SCY=""  DO
"RTN","SCMCWS1",203,0)
 . . IF $GET(SCTEAMS(SCLEVEL,2,SCY,"PACT"))'="" DO
"RTN","SCMCWS1",204,0)
 . . . SET SCTMCNT=SCTMCNT+1
"RTN","SCMCWS1",205,0)
 . . . SET SCSTAT=$GET(SCTEAMS(SCLEVEL,2,SCY,"STATUS"))
"RTN","SCMCWS1",206,0)
 . . . SET SCSTAT=$SELECT(SCSTAT="Pending":"PENDING: ",1:"")
"RTN","SCMCWS1",207,0)
 . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",208,0)
 . . . SET SCDISPLY(SCDISP)="  PACT: "_SCSTAT_$GET(SCTEAMS(SCLEVEL,2,SCY,"PACT"))
"RTN","SCMCWS1",209,0)
 . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",210,0)
 . . . IF $GET(SCTEAMS(SCLEVEL,2,SCY,"PCP NAME"))'="" DO
"RTN","SCMCWS1",211,0)
 . . . . SET SCDISPLY(SCDISP)="    Primary Care Provider: "_$GET(SCTEAMS(SCLEVEL,2,SCY,"PCP NAME"))_$$FMTPHPG("P","PCP",2)
"RTN","SCMCWS1",212,0)
 . . . ELSE  DO
"RTN","SCMCWS1",213,0)
 . . . . SET SCDISPLY(SCDISP)="    Primary Care Provider: Vacant"
"RTN","SCMCWS1",214,0)
 . . . IF $GET(SCTEAMS(SCLEVEL,2,SCY,"ASSOC NAME"))'="" DO
"RTN","SCMCWS1",215,0)
 . . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",216,0)
 . . . . SET SCDISPLY(SCDISP)="    Associate Provider:    "_$GET(SCTEAMS(SCLEVEL,2,SCY,"ASSOC NAME"))_$$FMTPHPG("P","ASSOC",2)
"RTN","SCMCWS1",217,0)
 . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",218,0)
 . . . IF $GET(SCTEAMS(SCLEVEL,2,SCY,"APOC NAME"))'="" DO
"RTN","SCMCWS1",219,0)
 . . . . SET SCDISPLY(SCDISP)="    Administrative POC:    "_$GET(SCTEAMS(SCLEVEL,2,SCY,"APOC ROLE"))_" || "_$GET(SCTEAMS(SCLEVEL,2,SCY,"APOC NAME"))_$$FMTPHPG("P","APOC",2)
"RTN","SCMCWS1",220,0)
 . . . ELSE  DO
"RTN","SCMCWS1",221,0)
 . . . . SET SCDISPLY(SCDISP)="    Administrative POC:    Vacant"
"RTN","SCMCWS1",222,0)
 . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",223,0)
 . . . IF $GET(SCTEAMS(SCLEVEL,2,SCY,"CPOC NAME"))'="" DO
"RTN","SCMCWS1",224,0)
 . . . . SET SCDISPLY(SCDISP)="    Clinical POC:          "_$GET(SCTEAMS(SCLEVEL,2,SCY,"CPOC ROLE"))_" || "_$GET(SCTEAMS(SCLEVEL,2,SCY,"CPOC NAME"))_$$FMTPHPG("P","CPOC",2)
"RTN","SCMCWS1",225,0)
 . . . ELSE  DO
"RTN","SCMCWS1",226,0)
 . . . . SET SCDISPLY(SCDISP)="    Clinical POC:          Vacant"
"RTN","SCMCWS1",227,0)
 . . ELSE  DO  ;No Local PACT Assigned
"RTN","SCMCWS1",228,0)
 . . . IF SCLOCAL DO
"RTN","SCMCWS1",229,0)
 . . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",230,0)
 . . . . SET SCDISPSV=SCDISP
"RTN","SCMCWS1",231,0)
 . . . . SET SCDISPLY(SCDISP)="  PACT: No Local PACT Assigned."
"RTN","SCMCWS1",232,0)
 . ;
"RTN","SCMCWS1",233,0)
 . ; Mental Health
"RTN","SCMCWS1",234,0)
 . SET SCY=""
"RTN","SCMCWS1",235,0)
 . FOR  SET SCY=$ORDER(SCTEAMS(SCLEVEL,4,SCY)) QUIT:SCY=""  DO
"RTN","SCMCWS1",236,0)
 . . IF $GET(SCTEAMS(SCLEVEL,4,SCY,"SP TEAM"))'="" DO
"RTN","SCMCWS1",237,0)
 . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",238,0)
 . . . SET SCDISPLY(SCDISP)=""
"RTN","SCMCWS1",239,0)
 . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",240,0)
 . . . SET SCDISPLY(SCDISP)="  MH: "_$GET(SCTEAMS(SCLEVEL,4,SCY,"SP TEAM"))
"RTN","SCMCWS1",241,0)
 . . . SET SCZ=0
"RTN","SCMCWS1",242,0)
 . . . FOR  SET SCZ=$ORDER(SCTEAMS(SCLEVEL,4,SCY,SCZ)) QUIT:'SCZ  DO
"RTN","SCMCWS1",243,0)
 . . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",244,0)
 . . . . SET SCDISPLY(SCDISP)="    "_$GET(SCTEAMS(SCLEVEL,4,SCY,SCZ,"SP ROLE"))_" || "_$GET(SCTEAMS(SCLEVEL,4,SCY,SCZ,"SP NAME"))_$$FMTPHPG("S","SP",4)
"RTN","SCMCWS1",245,0)
 . . . SET:SCLOCAL SCOTHTM=1
"RTN","SCMCWS1",246,0)
 . ;
"RTN","SCMCWS1",247,0)
 . ; OEF/OIF/OND
"RTN","SCMCWS1",248,0)
 . SET SCY=""
"RTN","SCMCWS1",249,0)
 . FOR  SET SCY=$ORDER(SCTEAMS(SCLEVEL,"OEF",SCY)) QUIT:SCY=""  DO
"RTN","SCMCWS1",250,0)
 . . IF ($GET(SCTEAMS(SCLEVEL,"OEF",SCY,"OEF TEAM"))'="")!($GET(SCTEAMS(SCLEVEL,"OEF",SCY,"OEF MGR"))'="") DO
"RTN","SCMCWS1",251,0)
 . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",252,0)
 . . . SET SCDISPLY(SCDISP)=""
"RTN","SCMCWS1",253,0)
 . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",254,0)
 . . . SET SCDISPLY(SCDISP)="  OEF/OIF/OND: "_$GET(SCTEAMS(SCLEVEL,"OEF",SCY,"OEF TEAM"))
"RTN","SCMCWS1",255,0)
 . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",256,0)
 . . . SET SCDISPLY(SCDISP)="    LEAD COORDINATOR: "_$GET(SCTEAMS(SCLEVEL,"OEF",SCY,"OEF MGR"))_$$FMTPHPG("O","OEF","OEF")
"RTN","SCMCWS1",257,0)
 . . . SET:SCLOCAL SCOTHTM=1
"RTN","SCMCWS1",258,0)
 . ;
"RTN","SCMCWS1",259,0)
 . ; Specialty
"RTN","SCMCWS1",260,0)
 . SET SCX=""
"RTN","SCMCWS1",261,0)
 . FOR  SET SCX=$ORDER(SCTEAMS(SCLEVEL,SCX)) QUIT:'+SCX  DO
"RTN","SCMCWS1",262,0)
 . . QUIT:SCX=4  ;MH
"RTN","SCMCWS1",263,0)
 . . QUIT:SCX=2  ;PC
"RTN","SCMCWS1",264,0)
 . . QUIT:SCX=10  ;OEF
"RTN","SCMCWS1",265,0)
 . . SET SCY=0
"RTN","SCMCWS1",266,0)
 . . FOR  SET SCY=$ORDER(SCTEAMS(SCLEVEL,SCX,SCY)) QUIT:'+SCY  DO
"RTN","SCMCWS1",267,0)
 . . . IF ($GET(SCTEAMS(SCLEVEL,SCX,SCY,"SP TEAM"))'="")!($GET(SCTEAMS(SCLEVEL,SCX,SCY,"SP ROLE"))'="") DO
"RTN","SCMCWS1",268,0)
 . . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",269,0)
 . . . . SET SCDISPLY(SCDISP)=""
"RTN","SCMCWS1",270,0)
 . . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",271,0)
 . . . SET SCDISPLY(SCDISP)="  SP: "_$GET(SCTEAMS(SCLEVEL,SCX,SCY,"SP TEAM"))
"RTN","SCMCWS1",272,0)
 . . . SET SCZ=0
"RTN","SCMCWS1",273,0)
 . . . FOR  SET SCZ=$ORDER(SCTEAMS(SCLEVEL,SCX,SCY,SCZ)) QUIT:'SCZ  DO
"RTN","SCMCWS1",274,0)
 . . . . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",275,0)
 . . . . SET SCDISPLY(SCDISP)="    "_$GET(SCTEAMS(SCLEVEL,SCX,SCY,SCZ,"SP ROLE"))_" || "_$GET(SCTEAMS(SCLEVEL,SCX,SCY,SCZ,"SP NAME"))_$$FMTPHPG("S","SP",SCX)
"RTN","SCMCWS1",276,0)
 . . . SET:SCLOCAL SCOTHTM=1
"RTN","SCMCWS1",277,0)
 ;Check if PACTs assigned
"RTN","SCMCWS1",278,0)
 IF 'SCTMCNT,SCDISPSV DO
"RTN","SCMCWS1",279,0)
 . SET:'SCOTHTM SCDISPLY(SCDISPSV-1)=""
"RTN","SCMCWS1",280,0)
 . SET SCDISPLY(SCDISPSV)="  No PACT assigned at any VA location."
"RTN","SCMCWS1",281,0)
 IF '$DATA(SCTEAMS) DO
"RTN","SCMCWS1",282,0)
 . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",283,0)
 . SET SCDISPLY(SCDISP)=""
"RTN","SCMCWS1",284,0)
 . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",285,0)
 . SET SCDISPLY(SCDISP)="  No PACT assigned at any VA location."
"RTN","SCMCWS1",286,0)
 ; Non-VA Providers
"RTN","SCMCWS1",287,0)
 QUIT:'$DATA(SCNVA)
"RTN","SCMCWS1",288,0)
 SET SCDISP=SCDISP+1
"RTN","SCMCWS1",289,0)
 SET SCDISPLY(SCDISP)=""
"RTN","SCMCWS1",290,0)
 SET SCLEVEL=""
"RTN","SCMCWS1",291,0)
 FOR  SET SCLEVEL=$ORDER(SCNVA(SCLEVEL)) QUIT:SCLEVEL=""  DO
"RTN","SCMCWS1",292,0)
 . SET SCDISP=SCDISP+1
"RTN","SCMCWS1",293,0)
 . SET SCDISPLY(SCDISP)="Non-VA: "_$GET(SCNVA(SCLEVEL,"ROLE"))_" || "_$GET(SCNVA(SCLEVEL,"NAME"))_$$FMTPHPG("N","N",0)
"RTN","SCMCWS1",294,0)
 ;
"RTN","SCMCWS1",295,0)
 QUIT
"RTN","SCMCWS1",296,0)
 ;
"RTN","SCMCWS1",297,0)
FMTPHPG(SCTYPE,SCPREFIX,SCTEAMID) ;Format Phone and Pager #
"RTN","SCMCWS1",298,0)
 ;Inputs: SCTYPE   - Team Type - I=Inpatient, P=Primary Care, O=OEF/OIF, S=Specialty & MH, N=Non-VA
"RTN","SCMCWS1",299,0)
 ;        SCPREFIX - Value of Prefix
"RTN","SCMCWS1",300,0)
 ;        SCTEAMID - Value of team ID
"RTN","SCMCWS1",301,0)
 ;Returns: Phone and Pager string
"RTN","SCMCWS1",302,0)
 ;
"RTN","SCMCWS1",303,0)
 QUIT:$GET(SCTYPE)="" -1
"RTN","SCMCWS1",304,0)
 QUIT:$GET(SCPREFIX)="" -2
"RTN","SCMCWS1",305,0)
 QUIT:$GET(SCTEAMID)="" -3
"RTN","SCMCWS1",306,0)
 NEW SCPPSTR
"RTN","SCMCWS1",307,0)
 SET SCPPSTR=""
"RTN","SCMCWS1",308,0)
 ; Inpatient
"RTN","SCMCWS1",309,0)
 IF SCTYPE="I" DO
"RTN","SCMCWS1",310,0)
 . SET SCPPSTR=$SELECT($GET(SCINPAT(SCPREFIX_" PHONE"))="":"",1:" || PHONE:"_SCINPAT(SCPREFIX_" PHONE"))
"RTN","SCMCWS1",311,0)
 . SET SCPPSTR=SCPPSTR_$S($GET(SCINPAT(SCPREFIX_" PAGER"))="":"",1:" || PAGER:"_SCINPAT(SCPREFIX_" PAGER"))
"RTN","SCMCWS1",312,0)
 ; Primary Care
"RTN","SCMCWS1",313,0)
 IF SCTYPE="P" DO
"RTN","SCMCWS1",314,0)
 . SET SCPPSTR=$SELECT($GET(SCTEAMS(SCLEVEL,SCTEAMID,SCY,SCPREFIX_" PHONE"))="":"",1:" || PHONE:"_SCTEAMS(SCLEVEL,SCTEAMID,SCY,SCPREFIX_" PHONE"))
"RTN","SCMCWS1",315,0)
 . SET SCPPSTR=SCPPSTR_$SELECT($GET(SCTEAMS(SCLEVEL,SCTEAMID,SCY,SCPREFIX_" PAGER"))="":"",1:" || PAGER:"_SCTEAMS(SCLEVEL,SCTEAMID,SCY,SCPREFIX_" PAGER"))
"RTN","SCMCWS1",316,0)
 ; Specialty & MH
"RTN","SCMCWS1",317,0)
 IF SCTYPE="S" DO
"RTN","SCMCWS1",318,0)
 . SET SCPPSTR=$SELECT($GET(SCTEAMS(SCLEVEL,SCTEAMID,SCY,SCZ,SCPREFIX_" PHONE"))="":"",1:" || PHONE:"_SCTEAMS(SCLEVEL,SCTEAMID,SCY,SCZ,SCPREFIX_" PHONE"))
"RTN","SCMCWS1",319,0)
 . SET SCPPSTR=SCPPSTR_$S($GET(SCTEAMS(SCLEVEL,SCTEAMID,SCY,SCZ,SCPREFIX_" PAGER"))="":"",1:" || PAGER:"_SCTEAMS(SCLEVEL,SCTEAMID,SCY,SCZ,SCPREFIX_" PAGER"))
"RTN","SCMCWS1",320,0)
 ; OEF/OIF
"RTN","SCMCWS1",321,0)
 IF SCTYPE="O" DO
"RTN","SCMCWS1",322,0)
 . SET SCPPSTR=$SELECT($GET(SCTEAMS(SCLEVEL,SCTEAMID,SCY,SCPREFIX_" PHONE"))="":"",1:" || PHONE:"_SCTEAMS(SCLEVEL,SCPREFIX,SCY,SCPREFIX_" PHONE"))
"RTN","SCMCWS1",323,0)
 . SET SCPPSTR=SCPPSTR_$S($GET(SCTEAMS(SCLEVEL,SCTEAMID,SCY,SCPREFIX_" PAGER"))="":"",1:" || PAGER:"_SCTEAMS(SCLEVEL,SCPREFIX,SCY,SCPREFIX_" PAGER"))
"RTN","SCMCWS1",324,0)
 ; Non-VA
"RTN","SCMCWS1",325,0)
 IF SCTYPE="N" DO
"RTN","SCMCWS1",326,0)
 . SET SCPPSTR=$SELECT($GET(SCNVA(SCLEVEL,"PHONE"))="":"",1:" || PHONE:"_SCNVA(SCLEVEL,"PHONE"))
"RTN","SCMCWS1",327,0)
 . SET SCPPSTR=SCPPSTR_$SELECT($GET(SCNVA(SCLEVEL,"CITY"))="":"",1:" || CITY: "_SCNVA(SCLEVEL,"CITY"))
"RTN","SCMCWS1",328,0)
 . SET SCPPSTR=SCPPSTR_$SELECT($GET(SCNVA(SCLEVEL,"STATE"))="":"",1:" || STATE: "_SCNVA(SCLEVEL,"STATE"))
"RTN","SCMCWS1",329,0)
 ;
"RTN","SCMCWS1",330,0)
 QUIT SCPPSTR
"RTN","SCMCWS1",331,0)
 ;
"RTN","SCMCWS1A")
0^13^B97769299
"RTN","SCMCWS1A",1,0)
SCMCWS1A ;ALB/ART - PCMMR-Call Patient Summary Web Service ;01/15/2015
"RTN","SCMCWS1A",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SCMCWS1A",3,0)
 ;
"RTN","SCMCWS1A",4,0)
 QUIT
"RTN","SCMCWS1A",5,0)
 ;
"RTN","SCMCWS1A",6,0)
PARSEXML(SCNODE,SCVALUE,SCTEAMS,SCNVA,SCTMLVL,SCPCLVL,SCNVALVL,SCMHLVL,SCOELVL,SCSPLVL,SCSPTYPE,SCSPMBR,SCBLOCK,SCEOF) ;Build an array from XML data
"RTN","SCMCWS1A",7,0)
 ;Inputs: SCNODE   - XML node spec
"RTN","SCMCWS1A",8,0)
 ;        SCVALUE  - XML node value
"RTN","SCMCWS1A",9,0)
 ;        SCTEAMS  - Teams array populated from XML data - by reference
"RTN","SCMCWS1A",10,0)
 ;        SCNVA    - nonVA array populated from XML data - by reference
"RTN","SCMCWS1A",11,0)
 ;        SCTMLVL  - array station count - by reference
"RTN","SCMCWS1A",12,0)
 ;        SCPCLVL  - array PACT count - by reference
"RTN","SCMCWS1A",13,0)
 ;        SCNVALVL - array nonVA count - by reference
"RTN","SCMCWS1A",14,0)
 ;        SCMHLVL  - array MH count - by reference
"RTN","SCMCWS1A",15,0)
 ;        SCOELVL  - array OEF count - by reference
"RTN","SCMCWS1A",16,0)
 ;        SCSPLVL  - array SP count - by reference
"RTN","SCMCWS1A",17,0)
 ;        SCSPTYPE - array SP team type - by reference
"RTN","SCMCWS1A",18,0)
 ;        SCSPMBR  - array SP team member count - by reference
"RTN","SCMCWS1A",19,0)
 ;        SCBLOCK  - gets set to 1 if preformatted data is received - by reference
"RTN","SCMCWS1A",20,0)
 ;        SCEOF    - gets set to 1 if preformatted data is received - by reference
"RTN","SCMCWS1A",21,0)
 ;
"RTN","SCMCWS1A",22,0)
 ; Patient Data Block
"RTN","SCMCWS1A",23,0)
 IF SCNODE="/PatientSummary/PatientSummaryText" DO  QUIT
"RTN","SCMCWS1A",24,0)
 . IF SCVALUE="<![CDATA[]]" QUIT
"RTN","SCMCWS1A",25,0)
 . IF SCVALUE=">" QUIT
"RTN","SCMCWS1A",26,0)
 . IF SCVALUE["<![CDATA[" DO
"RTN","SCMCWS1A",27,0)
 . . SET SCVALUE=$PIECE(SCVALUE,"<![CDATA[",2)
"RTN","SCMCWS1A",28,0)
 . . SET SCVALUE=$TR(SCVALUE,"]","")
"RTN","SCMCWS1A",29,0)
 . NEW SCI
"RTN","SCMCWS1A",30,0)
 . FOR SCI=1:1:$LENGTH(SCVALUE,$CHAR(10)) DO
"RTN","SCMCWS1A",31,0)
 . . SET SCTEAMS(SCI)=$PIECE(SCVALUE,$CHAR(10),SCI)
"RTN","SCMCWS1A",32,0)
 . SET SCEOF=1
"RTN","SCMCWS1A",33,0)
 . SET SCBLOCK=1
"RTN","SCMCWS1A",34,0)
 . ;
"RTN","SCMCWS1A",35,0)
 ; Station name
"RTN","SCMCWS1A",36,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/StationNameAndNumber" DO  QUIT
"RTN","SCMCWS1A",37,0)
 . SET SCTMLVL=SCTMLVL+1
"RTN","SCMCWS1A",38,0)
 . SET SCMHLVL=0
"RTN","SCMCWS1A",39,0)
 . SET SCTEAMS(SCTMLVL,"STATION")=$TR(SCVALUE,"#","")
"RTN","SCMCWS1A",40,0)
 . ;
"RTN","SCMCWS1A",41,0)
 ; PC Status
"RTN","SCMCWS1A",42,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/assignmentStatus" DO  QUIT
"RTN","SCMCWS1A",43,0)
 . SET SCPCLVL=SCPCLVL+1
"RTN","SCMCWS1A",44,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"STATUS")=SCVALUE
"RTN","SCMCWS1A",45,0)
 . ;
"RTN","SCMCWS1A",46,0)
 ; PACT Name
"RTN","SCMCWS1A",47,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/teamName" DO  QUIT
"RTN","SCMCWS1A",48,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"PACT")=SCVALUE
"RTN","SCMCWS1A",49,0)
 . ;
"RTN","SCMCWS1A",50,0)
 ; PC Admin POC Role
"RTN","SCMCWS1A",51,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/administrativePoc/teamRoleName" DO  QUIT
"RTN","SCMCWS1A",52,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"APOC ROLE")=SCVALUE
"RTN","SCMCWS1A",53,0)
 . ;
"RTN","SCMCWS1A",54,0)
 ; PC Admin POC Name
"RTN","SCMCWS1A",55,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/administrativePoc/name" DO  QUIT
"RTN","SCMCWS1A",56,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"APOC NAME")=SCVALUE
"RTN","SCMCWS1A",57,0)
 . ;
"RTN","SCMCWS1A",58,0)
 ; PC Admin POC Phone
"RTN","SCMCWS1A",59,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/administrativePoc/phone" DO  QUIT
"RTN","SCMCWS1A",60,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"APOC PHONE")=SCVALUE
"RTN","SCMCWS1A",61,0)
 . ;
"RTN","SCMCWS1A",62,0)
 ; PC Admin POC Pager
"RTN","SCMCWS1A",63,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/administrativePoc/pager" DO  QUIT
"RTN","SCMCWS1A",64,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"APOC PAGER")=SCVALUE
"RTN","SCMCWS1A",65,0)
 . ;
"RTN","SCMCWS1A",66,0)
 ; PC Clinical POC Role
"RTN","SCMCWS1A",67,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/clinicalPoc/teamRoleName" DO  QUIT
"RTN","SCMCWS1A",68,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"CPOC ROLE")=SCVALUE
"RTN","SCMCWS1A",69,0)
 . ;
"RTN","SCMCWS1A",70,0)
 ; PC Clinical POC Name
"RTN","SCMCWS1A",71,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/clinicalPoc/name" DO  QUIT
"RTN","SCMCWS1A",72,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"CPOC NAME")=SCVALUE
"RTN","SCMCWS1A",73,0)
 . ;
"RTN","SCMCWS1A",74,0)
 ; PC Clinical POC Phone
"RTN","SCMCWS1A",75,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/clinicalPoc/phone" DO  QUIT
"RTN","SCMCWS1A",76,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"CPOC PHONE")=SCVALUE
"RTN","SCMCWS1A",77,0)
 . ;
"RTN","SCMCWS1A",78,0)
 ; PC Clinical POC Pager
"RTN","SCMCWS1A",79,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/clinicalPoc/pager" DO  QUIT
"RTN","SCMCWS1A",80,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"CPOC PAGER")=SCVALUE
"RTN","SCMCWS1A",81,0)
 . ;
"RTN","SCMCWS1A",82,0)
 ; PCP Name
"RTN","SCMCWS1A",83,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/primaryCareProvider/name" DO  QUIT
"RTN","SCMCWS1A",84,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"PCP NAME")=SCVALUE
"RTN","SCMCWS1A",85,0)
 . ;
"RTN","SCMCWS1A",86,0)
 ; PCP Phone
"RTN","SCMCWS1A",87,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/primaryCareProvider/phone" DO  QUIT
"RTN","SCMCWS1A",88,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"PCP PHONE")=SCVALUE
"RTN","SCMCWS1A",89,0)
 . ;
"RTN","SCMCWS1A",90,0)
 ; PCP Pager
"RTN","SCMCWS1A",91,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/primaryCareProvider/pager" DO  QUIT
"RTN","SCMCWS1A",92,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"PCP PAGER")=SCVALUE
"RTN","SCMCWS1A",93,0)
 . ;
"RTN","SCMCWS1A",94,0)
 ; PC Assoc Provider Name
"RTN","SCMCWS1A",95,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/associateProvider/name" DO  QUIT
"RTN","SCMCWS1A",96,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"ASSOC NAME")=SCVALUE
"RTN","SCMCWS1A",97,0)
 . ;
"RTN","SCMCWS1A",98,0)
 ; PC Assoc Provider Phone
"RTN","SCMCWS1A",99,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/associateProvider/phone" DO  QUIT
"RTN","SCMCWS1A",100,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"ASSOC PHONE")=SCVALUE
"RTN","SCMCWS1A",101,0)
 . ;
"RTN","SCMCWS1A",102,0)
 ; PC Assoc Provider Pager
"RTN","SCMCWS1A",103,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/PrimaryCareAssignments/PrimaryCareAssignment/associateProvider/pager" DO  QUIT
"RTN","SCMCWS1A",104,0)
 . SET SCTEAMS(SCTMLVL,2,SCPCLVL,"ASSOC PAGER")=SCVALUE
"RTN","SCMCWS1A",105,0)
 . ;
"RTN","SCMCWS1A",106,0)
 ; OEF Team
"RTN","SCMCWS1A",107,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/OEFOIFAssignments/OEFOIFAssignment/teamName" DO  QUIT
"RTN","SCMCWS1A",108,0)
 . SET SCOELVL=SCOELVL+1
"RTN","SCMCWS1A",109,0)
 . SET SCTEAMS(SCTMLVL,"OEF",SCOELVL,"OEF TEAM")=SCVALUE
"RTN","SCMCWS1A",110,0)
 . ;
"RTN","SCMCWS1A",111,0)
 ; OEF Clinical Case Manager Name
"RTN","SCMCWS1A",112,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/OEFOIFAssignments/OEFOIFAssignment/LeadCoordinator/name" DO  QUIT
"RTN","SCMCWS1A",113,0)
 . SET SCTEAMS(SCTMLVL,"OEF",SCOELVL,"OEF MGR")=SCVALUE
"RTN","SCMCWS1A",114,0)
 . ;
"RTN","SCMCWS1A",115,0)
 ; OEF Clinical Case Manager Phone
"RTN","SCMCWS1A",116,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/OEFOIFAssignments/OEFOIFAssignment/LeadCoordinator/phone" DO  QUIT
"RTN","SCMCWS1A",117,0)
 . SET SCTEAMS(SCTMLVL,"OEF",SCOELVL,"OEF PHONE")=SCVALUE
"RTN","SCMCWS1A",118,0)
 . ;
"RTN","SCMCWS1A",119,0)
 ; OEF Clinical Case Manager Pager
"RTN","SCMCWS1A",120,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/OEFOIFAssignments/OEFOIFAssignment/LeadCoordinator/pager" DO  QUIT
"RTN","SCMCWS1A",121,0)
 . SET SCTEAMS(SCTMLVL,"OEF",SCOELVL,"OEF PAGER")=SCVALUE
"RTN","SCMCWS1A",122,0)
 . ;
"RTN","SCMCWS1A",123,0)
 ; Specialty Team
"RTN","SCMCWS1A",124,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/SpecialtyAssignments/SpecialtyAssignment/CareTypeCode" DO  QUIT
"RTN","SCMCWS1A",125,0)
 . SET SCSPLVL=SCSPLVL+1
"RTN","SCMCWS1A",126,0)
 . SET SCSPMBR=0
"RTN","SCMCWS1A",127,0)
 . SET SCSPTYPE=SCVALUE
"RTN","SCMCWS1A",128,0)
 . SET SCTEAMS(SCTMLVL,SCSPTYPE,SCSPLVL,"SP TYPE CD")=SCVALUE
"RTN","SCMCWS1A",129,0)
 . ;
"RTN","SCMCWS1A",130,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/SpecialtyAssignments/SpecialtyAssignment/CareTypeName" DO  QUIT
"RTN","SCMCWS1A",131,0)
 . SET SCTEAMS(SCTMLVL,SCSPTYPE,SCSPLVL,"SP TYPE NM")=SCVALUE
"RTN","SCMCWS1A",132,0)
 . ;
"RTN","SCMCWS1A",133,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/SpecialtyAssignments/SpecialtyAssignment/teamName" DO  QUIT
"RTN","SCMCWS1A",134,0)
 . SET SCTEAMS(SCTMLVL,SCSPTYPE,SCSPLVL,"SP TEAM")=SCVALUE
"RTN","SCMCWS1A",135,0)
 . ;
"RTN","SCMCWS1A",136,0)
 ; Specialty Team Role
"RTN","SCMCWS1A",137,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/SpecialtyAssignments/SpecialtyAssignment/TeamMembers/teamRoleName" DO  QUIT
"RTN","SCMCWS1A",138,0)
 . SET SCSPMBR=SCSPMBR+1
"RTN","SCMCWS1A",139,0)
 . SET SCTEAMS(SCTMLVL,SCSPTYPE,SCSPLVL,SCSPMBR,"SP ROLE")=SCVALUE
"RTN","SCMCWS1A",140,0)
 . ;
"RTN","SCMCWS1A",141,0)
 ; Specialty Team Member Name
"RTN","SCMCWS1A",142,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/SpecialtyAssignments/SpecialtyAssignment/TeamMembers/name" DO  QUIT
"RTN","SCMCWS1A",143,0)
 . SET SCTEAMS(SCTMLVL,SCSPTYPE,SCSPLVL,SCSPMBR,"SP NAME")=SCVALUE
"RTN","SCMCWS1A",144,0)
 . ;
"RTN","SCMCWS1A",145,0)
 ; Specialty Team Member Phone
"RTN","SCMCWS1A",146,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/SpecialtyAssignments/SpecialtyAssignment/TeamMembers/phone" DO  QUIT
"RTN","SCMCWS1A",147,0)
 . SET SCTEAMS(SCTMLVL,SCSPTYPE,SCSPLVL,SCSPMBR,"SP PHONE")=SCVALUE
"RTN","SCMCWS1A",148,0)
 . ;
"RTN","SCMCWS1A",149,0)
 ; Specialty Team Member Pager
"RTN","SCMCWS1A",150,0)
 IF SCNODE="/PatientSummary/PatientNationalAssignments/PatientStationLevelAssignment/SpecialtyAssignments/SpecialtyAssignment/TeamMembers/pager" DO  QUIT
"RTN","SCMCWS1A",151,0)
 . SET SCTEAMS(SCTMLVL,SCSPTYPE,SCSPLVL,SCSPMBR,"SP PAGER")=SCVALUE
"RTN","SCMCWS1A",152,0)
 . ;
"RTN","SCMCWS1A",153,0)
 ; nonVA Role
"RTN","SCMCWS1A",154,0)
 IF SCNODE="/PatientSummary/NonVAProviders/NonVAProvider/roleSpecialty" DO  QUIT
"RTN","SCMCWS1A",155,0)
 . SET SCNVALVL=SCNVALVL+1
"RTN","SCMCWS1A",156,0)
 . ;DO BUILDNVA(.SCNVA,SCNVALVL)
"RTN","SCMCWS1A",157,0)
 . SET SCNVA(SCNVALVL,"ROLE")=SCVALUE
"RTN","SCMCWS1A",158,0)
 . ;
"RTN","SCMCWS1A",159,0)
 ; nonVA Name
"RTN","SCMCWS1A",160,0)
 IF SCNODE="/PatientSummary/NonVAProviders/NonVAProvider/providerName" DO  QUIT
"RTN","SCMCWS1A",161,0)
 . SET SCNVA(SCNVALVL,"NAME")=SCVALUE
"RTN","SCMCWS1A",162,0)
 . ;
"RTN","SCMCWS1A",163,0)
 ; nonVA Phone
"RTN","SCMCWS1A",164,0)
 IF SCNODE="/PatientSummary/NonVAProviders/NonVAProvider/phone" DO  QUIT
"RTN","SCMCWS1A",165,0)
 . SET SCNVA(SCNVALVL,"PHONE")=SCVALUE
"RTN","SCMCWS1A",166,0)
 . ;
"RTN","SCMCWS1A",167,0)
 ; nonVA City
"RTN","SCMCWS1A",168,0)
 IF SCNODE="/PatientSummary/NonVAProviders/NonVAProvider/city" DO  QUIT
"RTN","SCMCWS1A",169,0)
 . SET SCNVA(SCNVALVL,"CITY")=SCVALUE
"RTN","SCMCWS1A",170,0)
 . ;
"RTN","SCMCWS1A",171,0)
 ; nonVA State
"RTN","SCMCWS1A",172,0)
 IF SCNODE="/PatientSummary/NonVAProviders/NonVAProvider/state" DO  QUIT
"RTN","SCMCWS1A",173,0)
 . SET SCNVA(SCNVALVL,"STATE")=SCVALUE
"RTN","SCMCWS1A",174,0)
 . ;
"RTN","SCMCWS1A",175,0)
 ;
"RTN","SCMCWS1A",176,0)
 QUIT
"RTN","SCMCWS1A",177,0)
 ;
"RTN","SCMCWSUT")
0^18^B5582990
"RTN","SCMCWSUT",1,0)
SCMCWSUT ;ALB/ART - PCMM Web Call Patient Summary Web Service ;09/11/2014
"RTN","SCMCWSUT",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SCMCWSUT",3,0)
 ;
"RTN","SCMCWSUT",4,0)
 QUIT
"RTN","SCMCWSUT",5,0)
 ;
"RTN","SCMCWSUT",6,0)
 ;Public, Supported ICRs
"RTN","SCMCWSUT",7,0)
 ; #5421 - XOBWLIB - Public APIs for HWSC
"RTN","SCMCWSUT",8,0)
 ; #2051 - Database Server API: Lookup Utilities (DIC)
"RTN","SCMCWSUT",9,0)
 ; #2056 - Data Base Server API: Data Retriever Utilities (DIQ)
"RTN","SCMCWSUT",10,0)
 ;
"RTN","SCMCWSUT",11,0)
SETUP(SCDATA) ;Web service setup
"RTN","SCMCWSUT",12,0)
 ;   Lookup server name
"RTN","SCMCWSUT",13,0)
 ;   Validate server name
"RTN","SCMCWSUT",14,0)
 ;   Validate service name
"RTN","SCMCWSUT",15,0)
 ;   Get REST request object
"RTN","SCMCWSUT",16,0)
 ; Inputs: SCDATA - array of variables, passed by reference
"RTN","SCMCWSUT",17,0)
 ; Output: 
"RTN","SCMCWSUT",18,0)
 ; Returns: success = 1
"RTN","SCMCWSUT",19,0)
 ;          failure = 0^error message
"RTN","SCMCWSUT",20,0)
 ;
"RTN","SCMCWSUT",21,0)
 NEW SCRC,SCSERVER,SCLIST
"RTN","SCMCWSUT",22,0)
 ;
"RTN","SCMCWSUT",23,0)
 ; Get PCMM/R Web Server Name
"RTN","SCMCWSUT",24,0)
 SET SCRC=$$SNAME4KY^XOBWLIB(SCDATA("serverNameKey"),.SCSERVER)
"RTN","SCMCWSUT",25,0)
 QUIT:'SCRC "0^>>> CONFIGURATION ERROR: No Server Key Definition <<<"
"RTN","SCMCWSUT",26,0)
 SET SCDATA("serverName")=SCSERVER
"RTN","SCMCWSUT",27,0)
 ;
"RTN","SCMCWSUT",28,0)
 ; Validate PCMM/R Web Server Name
"RTN","SCMCWSUT",29,0)
 DO LKUPSRVR(SCDATA("serverName"),.SCLIST)
"RTN","SCMCWSUT",30,0)
 QUIT:$GET(SCLIST(1))=0 "0^>>> CONFIGURATION ERROR: No Server Definition <<<"
"RTN","SCMCWSUT",31,0)
 ;
"RTN","SCMCWSUT",32,0)
 ; Validate PCMM/R Web Service Name
"RTN","SCMCWSUT",33,0)
 NEW SCLIST
"RTN","SCMCWSUT",34,0)
 DO LKUPSRVS(SCDATA("webServiceName"),.SCLIST)
"RTN","SCMCWSUT",35,0)
 QUIT:$GET(SCLIST(1))=0 "0^>>> CONFIGURATION ERROR: No Service Definition <<<"
"RTN","SCMCWSUT",36,0)
 ;
"RTN","SCMCWSUT",37,0)
 QUIT 1
"RTN","SCMCWSUT",38,0)
 ;
"RTN","SCMCWSUT",39,0)
LKUPSRVR(SCNAME,SCLIST) ; Web Server Lookup
"RTN","SCMCWSUT",40,0)
 ; Inputs: SCNAME - name of the server
"RTN","SCMCWSUT",41,0)
 ; Output: SCLIST - list of matching IENs, by reference
"RTN","SCMCWSUT",42,0)
 ;                  ien^name
"RTN","SCMCWSUT",43,0)
 ;FIND^DIC(FILE,IENS,FIELDS,FLAGS,[.]VALUE,NUMBER,[.]INDEXES,[.]SCREEN,IDENTIFIER,TARGET_ROOT,MSG_ROOT)
"RTN","SCMCWSUT",44,0)
 N I,SCRET,SCERR,Y
"RTN","SCMCWSUT",45,0)
 SET SCLIST(1)=0
"RTN","SCMCWSUT",46,0)
 ; Fileman DBS Web Server Lookup
"RTN","SCMCWSUT",47,0)
 DO FIND^DIC(18.12,"","@;.01","P",SCNAME,"","B","","","SCRET","SCERR")
"RTN","SCMCWSUT",48,0)
 SET I=0
"RTN","SCMCWSUT",49,0)
 FOR  SET I=$ORDER(SCRET("DILIST",I)) QUIT:'I  DO
"RTN","SCMCWSUT",50,0)
 . SET SCLIST(I)=SCRET("DILIST",I,0)
"RTN","SCMCWSUT",51,0)
 QUIT
"RTN","SCMCWSUT",52,0)
 ;
"RTN","SCMCWSUT",53,0)
LKUPSRVS(SCNAME,SCLIST) ; Web Service Lookup
"RTN","SCMCWSUT",54,0)
 ; Inputs: SCNAME - name of the service
"RTN","SCMCWSUT",55,0)
 ; Output: SCLIST - list of matching IENs and names, by reference
"RTN","SCMCWSUT",56,0)
 ;                  ien^name
"RTN","SCMCWSUT",57,0)
 ;FIND^DIC(FILE,IENS,FIELDS,FLAGS,[.]VALUE,NUMBER,[.]INDEXES,[.]SCREEN,IDENTIFIER,TARGET_ROOT,MSG_ROOT)
"RTN","SCMCWSUT",58,0)
 N I,SCRET,SCERR,Y
"RTN","SCMCWSUT",59,0)
 SET SCLIST(1)=0
"RTN","SCMCWSUT",60,0)
 ; Fileman DBS Web Service Lookup
"RTN","SCMCWSUT",61,0)
 DO FIND^DIC(18.02,"","@;.01","P",SCNAME,"","B","","","SCRET","SCERR")
"RTN","SCMCWSUT",62,0)
 SET I=0
"RTN","SCMCWSUT",63,0)
 FOR  SET I=$ORDER(SCRET("DILIST",I)) QUIT:'I  DO
"RTN","SCMCWSUT",64,0)
 . SET SCLIST(I)=SCRET("DILIST",I,0)
"RTN","SCMCWSUT",65,0)
 QUIT
"RTN","SCMCWSUT",66,0)
 ;
"RTN","SCMCWSUT",67,0)
CPRSHEAD(SCDFN) ;Get data for CPRS PCMMR Header
"RTN","SCMCWSUT",68,0)
 ; Inputs: SCDFN - Patient DFN
"RTN","SCMCWSUT",69,0)
 ; Returns: String of PACT info from Outpatient Profile (404.41), CPRS Header Text (.06) 
"RTN","SCMCWSUT",70,0)
 ;
"RTN","SCMCWSUT",71,0)
 QUIT:$GET(SCDFN)="" "Internal Error: Missing DFN"
"RTN","SCMCWSUT",72,0)
 NEW SCIENS,SCTEXT
"RTN","SCMCWSUT",73,0)
 SET SCIENS=SCDFN_","
"RTN","SCMCWSUT",74,0)
 SET SCTEXT=$$GET1^DIQ(404.41,SCIENS,.06)
"RTN","SCMCWSUT",75,0)
 SET:SCTEXT="" SCTEXT="No PACT assigned at any VA location"
"RTN","SCMCWSUT",76,0)
 QUIT SCTEXT
"RTN","SCMCWSUT",77,0)
 ;
"RTN","SD53I603")
0^27^B142505
"RTN","SD53I603",1,0)
SD53I603 ;ALB/ART - SD*5.3*603 Pre Install ;06/30/2014
"RTN","SD53I603",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SD53I603",3,0)
 ;
"RTN","SD53I603",4,0)
 QUIT
"RTN","SD53I603",5,0)
 ;
"RTN","SD53I603",6,0)
EN ;Main Entry Point
"RTN","SD53I603",7,0)
 ;Delete the global for the Standard Position file.
"RTN","SD53I603",8,0)
 ;A new file will be loaded with some renamed positions and new entries.
"RTN","SD53I603",9,0)
 ;
"RTN","SD53I603",10,0)
 KILL ^SD(403.46)
"RTN","SD53I603",11,0)
 SET ^SD(403.46,0)="STANDARD POSITION^403.46^0^0"
"RTN","SD53I603",12,0)
 ;
"RTN","SD53I603",13,0)
 QUIT
"RTN","SD53I603",14,0)
 ;
"RTN","SD53P603")
0^11^B249302623
"RTN","SD53P603",1,0)
SD53P603 ;ALB/ART - SD*5.3*603 Post Install ;02/27/2015
"RTN","SD53P603",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SD53P603",3,0)
 ;
"RTN","SD53P603",4,0)
 QUIT
"RTN","SD53P603",5,0)
 ;
"RTN","SD53P603",6,0)
 ;Public, Supported ICRs
"RTN","SD53P603",7,0)
 ; #2050 - Database Server (DBS) API: DIALOG Utilities
"RTN","SD53P603",8,0)
 ; #2051 - Database Server API: Lookup Utilities (DIC)
"RTN","SD53P603",9,0)
 ; #2053 - Data Base Server API: Editing Utilities (DIE)
"RTN","SD53P603",10,0)
 ; #2054 - Data Base Server API: Misc. Library Functions (DILF)
"RTN","SD53P603",11,0)
 ; #2916 - Data Base Server API: DD Modification Utilities (DDMOD)
"RTN","SD53P603",12,0)
 ; #5421 - XOBWLIB - Public APIs for HWSC
"RTN","SD53P603",13,0)
 ; #10013 - Classic FileMan API: Entry Deletion & File Reindexing (DIK)
"RTN","SD53P603",14,0)
 ; #10063 - %ZTLOAD
"RTN","SD53P603",15,0)
 ; #10070 - XMD - Mailman API
"RTN","SD53P603",16,0)
 ; #10075 - OPTION FILE
"RTN","SD53P603",17,0)
 ; #10103 - XLFDT - Supported APIs for date & time
"RTN","SD53P603",18,0)
 ; #10141 - XPDUTL - Public APIs for KIDS
"RTN","SD53P603",19,0)
 ;Subscription
"RTN","SD53P603",20,0)
 ; #4677 - Application Proxy (XUSAP)
"RTN","SD53P603",21,0)
 ;Private
"RTN","SD53P603",22,0)
 ; #6121 - REMOVE PCMM NIGHTLY TASKS FROM FILE #19.2
"RTN","SD53P603",23,0)
 ; #6168 - READ ACCESS TO DD(404.52
"RTN","SD53P603",24,0)
 ; #6171 - READ WRITE ACCESS TO WEB SERVER FILE
"RTN","SD53P603",25,0)
 ; #6172 - WRITE ACCESS TO WEB SERVER LOOKUP KEY FILE
"RTN","SD53P603",26,0)
 ; #6173 - READ ACCESS TO THE WEB SERVICE FILE
"RTN","SD53P603",27,0)
 ;
"RTN","SD53P603",28,0)
EN ;
"RTN","SD53P603",29,0)
 ;
"RTN","SD53P603",30,0)
 ;Add/update records in 18.02, 18.12, 18.13 for HWSC web service
"RTN","SD53P603",31,0)
 DO SETHWSC
"RTN","SD53P603",32,0)
 ;
"RTN","SD53P603",33,0)
 ;Create PCMMR Application Proxy User - user needs XUMGR security key
"RTN","SD53P603",34,0)
 DO ADDPROXY
"RTN","SD53P603",35,0)
 ;
"RTN","SD53P603",36,0)
 ; Convert Status (.12) in 404.43 from NA to IU
"RTN","SD53P603",37,0)
 DO CNVTSTAT
"RTN","SD53P603",38,0)
 ;
"RTN","SD53P603",39,0)
 ;Delete PCMM Nightly Task from Option Scheduling file (#19.2)
"RTN","SD53P603",40,0)
 DO DLNITTSK
"RTN","SD53P603",41,0)
 ;
"RTN","SD53P603",42,0)
 ;Disable Legacy PCMM Menus
"RTN","SD53P603",43,0)
 DO DISMENU
"RTN","SD53P603",44,0)
 ;
"RTN","SD53P603",45,0)
 ;add 2 records to Team Purpose (403.47)
"RTN","SD53P603",46,0)
 DO TEAMPURP
"RTN","SD53P603",47,0)
 ;
"RTN","SD53P603",48,0)
 ;Change New Person Records that have SCMC PCMM GUI WORKSTATION to SCMC PCMMR WEB USER MENU
"RTN","SD53P603",49,0)
 DO SECMENU
"RTN","SD53P603",50,0)
 ;
"RTN","SD53P603",51,0)
 ;Delete FTEE History trigger in 404.52
"RTN","SD53P603",52,0)
 DO DELTRIGR
"RTN","SD53P603",53,0)
 ;
"RTN","SD53P603",54,0)
 ;Build Patient Team Position Assignment File C cross reference
"RTN","SD53P603",55,0)
 DO BLDINDX2
"RTN","SD53P603",56,0)
 ;
"RTN","SD53P603",57,0)
 ;Build Oupatient Encounters ACOD index
"RTN","SD53P603",58,0)
 DO JOBINDEX
"RTN","SD53P603",59,0)
 ;
"RTN","SD53P603",60,0)
 ;Create Outpatient Encounters 'ACOD' index for child encounters
"RTN","SD53P603",61,0)
 DO ACOD
"RTN","SD53P603",62,0)
 ;
"RTN","SD53P603",63,0)
 QUIT
"RTN","SD53P603",64,0)
 ;
"RTN","SD53P603",65,0)
SETHWSC ;Add/update records in 18.02, 18.12, 18.13
"RTN","SD53P603",66,0)
 NEW SDSVC,SDROOT
"RTN","SD53P603",67,0)
 NEW SDSVRNM1,SDSVRNM2,SDADRS,SDPORT
"RTN","SD53P603",68,0)
 NEW SDI,SDKEYNM,SDKEYDSC,SDKEYIEN,SDSVR1,SDSVR2,SDREGIEN,SDFDA,SDFDAI,SDIENS,SDERR,DIERR
"RTN","SD53P603",69,0)
 NEW SDSVCIEN
"RTN","SD53P603",70,0)
 ; future-get these values from "config file"
"RTN","SD53P603",71,0)
 ; patient care info service
"RTN","SD53P603",72,0)
 SET SDSVC="PCMM-R GET PC INFO REST"
"RTN","SD53P603",73,0)
 SET SDROOT="pcmmr_web/ws/patientSummary"
"RTN","SD53P603",74,0)
 ;
"RTN","SD53P603",75,0)
 ; add/update web service record
"RTN","SD53P603",76,0)
 DO REGREST^XOBWLIB(SDSVC,SDROOT,"")
"RTN","SD53P603",77,0)
 ;
"RTN","SD53P603",78,0)
 ; add/update PCMMR production web server (1)
"RTN","SD53P603",79,0)
 SET SDSVRNM1="PCMMR"
"RTN","SD53P603",80,0)
 SET SDADRS="127.0.0.1"
"RTN","SD53P603",81,0)
 SET SDADRS="vaww-pcmm.cc.domain.ext"
"RTN","SD53P603",82,0)
 SET SDPORT=80
"RTN","SD53P603",83,0)
 SET SDSVR1=$$FILESRVR(SDSVRNM1,SDADRS,SDPORT)
"RTN","SD53P603",84,0)
 DO MES^XPDUTL(" o  WEB SERVER '"_SDSVRNM1_"' addition/update "_$SELECT(SDSVR1:"succeeded.",1:"failed."))
"RTN","SD53P603",85,0)
 DO MES^XPDUTL(" ")
"RTN","SD53P603",86,0)
 QUIT:'SDSVR1
"RTN","SD53P603",87,0)
 ;
"RTN","SD53P603",88,0)
 ; add web service to web server
"RTN","SD53P603",89,0)
 DO SERVICE(SDSVC,SDSVR1,SDSVRNM1)
"RTN","SD53P603",90,0)
 ;
"RTN","SD53P603",91,0)
 ; add/update PCMMR TEST web server (2)
"RTN","SD53P603",92,0)
 SET SDSVRNM2="PCMMR TEST"
"RTN","SD53P603",93,0)
 SET SDADRS="vaww-sqa-x.ciss.cc.domain.ext"
"RTN","SD53P603",94,0)
 SET SDADRS="127.0.0.1" ; remove this line when load balancer is back online <<<<<<<<<<<<<<<
"RTN","SD53P603",95,0)
 SET SDPORT=10100
"RTN","SD53P603",96,0)
 SET SDSVR2=$$FILESRVR(SDSVRNM2,SDADRS,SDPORT)
"RTN","SD53P603",97,0)
 DO MES^XPDUTL(" o  WEB SERVER '"_SDSVRNM2_"' addition/update "_$SELECT(SDSVR2:"succeeded.",1:"failed."))
"RTN","SD53P603",98,0)
 DO MES^XPDUTL(" ")
"RTN","SD53P603",99,0)
 QUIT:'SDSVR2
"RTN","SD53P603",100,0)
 ;
"RTN","SD53P603",101,0)
 ; add web service to web server
"RTN","SD53P603",102,0)
 DO SERVICE(SDSVC,SDSVR2,SDSVRNM2)
"RTN","SD53P603",103,0)
 ;
"RTN","SD53P603",104,0)
 ; add/update prod server lookup key
"RTN","SD53P603",105,0)
 SET SDKEYNM="PCMMR SERVER"
"RTN","SD53P603",106,0)
 SET SDKEYDSC="Web server for PCMMR transactions"
"RTN","SD53P603",107,0)
 SET SDKEYIEN=$$SKEYADD^XOBWLIB(SDKEYNM,SDKEYDSC)
"RTN","SD53P603",108,0)
 DO MES^XPDUTL(" o  WEB SERVER LOOKUP KEY '"_SDKEYNM_"' addition/update "_$SELECT(SDKEYIEN:"succeeded.",1:"failed."))
"RTN","SD53P603",109,0)
 DO MES^XPDUTL(" ")
"RTN","SD53P603",110,0)
 ;
"RTN","SD53P603",111,0)
 DO LKUPKEY(SDSVR1,SDKEYIEN,SDSVRNM1)
"RTN","SD53P603",112,0)
 ;
"RTN","SD53P603",113,0)
 ; add/update test server lookup key
"RTN","SD53P603",114,0)
 SET SDKEYNM="PCMMR TEST SERVER"
"RTN","SD53P603",115,0)
 SET SDKEYDSC="Web server (test system) for PCMMR transactions"
"RTN","SD53P603",116,0)
 SET SDKEYIEN=$$SKEYADD^XOBWLIB(SDKEYNM,SDKEYDSC)
"RTN","SD53P603",117,0)
 DO MES^XPDUTL(" o  WEB SERVER LOOKUP KEY '"_SDKEYNM_"' addition/update "_$SELECT(SDKEYIEN:"succeeded.",1:"failed."))
"RTN","SD53P603",118,0)
 DO MES^XPDUTL(" ")
"RTN","SD53P603",119,0)
 ;
"RTN","SD53P603",120,0)
 DO LKUPKEY(SDSVR2,SDKEYIEN,SDSVRNM2)
"RTN","SD53P603",121,0)
 ;
"RTN","SD53P603",122,0)
 QUIT
"RTN","SD53P603",123,0)
 ;
"RTN","SD53P603",124,0)
SERVICE(SDSVC,SDSVRIEN,SDSRVR) ; add web service to web server
"RTN","SD53P603",125,0)
 ; Input: SDSVC    - web service name
"RTN","SD53P603",126,0)
 ;        SDSVRIEN - web server ien
"RTN","SD53P603",127,0)
 ;        SDSRVR   - web server name
"RTN","SD53P603",128,0)
 ;
"RTN","SD53P603",129,0)
 NEW SDSVCIEN,SDIENS,SDFDA,SDFDAI,SDERR,DIERR
"RTN","SD53P603",130,0)
 ;
"RTN","SD53P603",131,0)
 SET SDSVCIEN=+$$FIND1^DIC(18.02,"","BX",SDSVC,"","","")
"RTN","SD53P603",132,0)
 IF '$DATA(^XOB(18.12,"AB",SDSVCIEN,SDSVRIEN)) DO
"RTN","SD53P603",133,0)
 . ;add sub rec
"RTN","SD53P603",134,0)
 . SET SDIENS="+1,"_SDSVRIEN_","
"RTN","SD53P603",135,0)
 . SET SDFDA(18.121,SDIENS,.01)=SDSVCIEN ;service ien
"RTN","SD53P603",136,0)
 . SET SDFDA(18.121,SDIENS,.06)=1 ;status
"RTN","SD53P603",137,0)
 . DO UPDATE^DIE("","SDFDA","SDFDAI","SDERR")
"RTN","SD53P603",138,0)
 . IF $DATA(DIERR) DO
"RTN","SD53P603",139,0)
 . . DO DISPERR($NAME(SDERR))
"RTN","SD53P603",140,0)
 . . DO MES^XPDUTL(" o  ERROR occurred registering WEB SERVICE '"_SDSVC_"' to WEB SERVER '"_SDSRVR_"'")
"RTN","SD53P603",141,0)
 . . DO MES^XPDUTL(" ")
"RTN","SD53P603",142,0)
 . ELSE  DO
"RTN","SD53P603",143,0)
 . . DO MES^XPDUTL(" o  WEB SERVICE '"_SDSVC_"' was registered to WEB SERVER '"_SDSRVR_"'")
"RTN","SD53P603",144,0)
 . . DO MES^XPDUTL(" ")
"RTN","SD53P603",145,0)
 . DO CLEAN^DILF
"RTN","SD53P603",146,0)
 ELSE  DO
"RTN","SD53P603",147,0)
 . DO MES^XPDUTL(" o  WEB SERVICE '"_SDSVC_"' already registered to WEB SERVER '"_SDSRVR_"'")
"RTN","SD53P603",148,0)
 . DO MES^XPDUTL(" ")
"RTN","SD53P603",149,0)
 ;
"RTN","SD53P603",150,0)
 QUIT
"RTN","SD53P603",151,0)
 ;
"RTN","SD53P603",152,0)
LKUPKEY(SDSVRIEN,SDKEYIEN,SDSRVR) ; point lookup key to server
"RTN","SD53P603",153,0)
 ; Input: SDSVRIEN - web server ien
"RTN","SD53P603",154,0)
 ;        SDKEYIEN - lookup key ien
"RTN","SD53P603",155,0)
 ;        SDSRVR   - web server name
"RTN","SD53P603",156,0)
 NEW SDFDA
"RTN","SD53P603",157,0)
 IF $GET(SDSVRIEN),$GET(SDKEYIEN) DO
"RTN","SD53P603",158,0)
 . SET SDIENS=SDKEYIEN_","
"RTN","SD53P603",159,0)
 . SET SDFDA(18.13,SDIENS,.03)=SDSVRIEN ;server ien
"RTN","SD53P603",160,0)
 . DO FILE^DIE("K","SDFDA","SDERR")
"RTN","SD53P603",161,0)
 . IF $DATA(DIERR) DO
"RTN","SD53P603",162,0)
 . . DO DISPERR($NAME(SDERR))
"RTN","SD53P603",163,0)
 . ELSE  DO
"RTN","SD53P603",164,0)
 . . DO MES^XPDUTL(" o  WEB SERVER LOOKUP KEY '"_SDKEYNM_"' pointed to WEB SERVER '"_SDSRVR_"'")
"RTN","SD53P603",165,0)
 . . DO MES^XPDUTL(" ")
"RTN","SD53P603",166,0)
 ELSE  DO
"RTN","SD53P603",167,0)
 . DO MES^XPDUTL(" o  WEB SERVER LOOKUP KEY not assigned because of previous errors.")
"RTN","SD53P603",168,0)
 . DO MES^XPDUTL(" ")
"RTN","SD53P603",169,0)
 ;
"RTN","SD53P603",170,0)
 QUIT
"RTN","SD53P603",171,0)
 ;
"RTN","SD53P603",172,0)
FILESRVR(SDSRVR,SDADRS,SDPORT) ; File a new record in file #18.12 or edit existing
"RTN","SD53P603",173,0)
 ; Input: SDSRVR - web server name
"RTN","SD53P603",174,0)
 ;        SDADRS - web server address
"RTN","SD53P603",175,0)
 ;        SDPORT - port number
"RTN","SD53P603",176,0)
 ; Output:
"RTN","SD53P603",177,0)
 ;    Function Value - Returns IEN of record on success, 0 on failure
"RTN","SD53P603",178,0)
 ;
"RTN","SD53P603",179,0)
 NEW SDFDA,SDFDAI,SDERR,SDIENS,SDIEN,DIERR
"RTN","SD53P603",180,0)
 ;
"RTN","SD53P603",181,0)
 SET SDIEN=+$$FIND1^DIC(18.12,"","BX",SDSRVR,"","","")
"RTN","SD53P603",182,0)
 ;
"RTN","SD53P603",183,0)
 ; If record doesn't already exist, create new
"RTN","SD53P603",184,0)
 IF SDIEN DO
"RTN","SD53P603",185,0)
 . SET SDIENS=SDIEN_","
"RTN","SD53P603",186,0)
 ELSE  DO
"RTN","SD53P603",187,0)
 . SET SDIENS="+1,"
"RTN","SD53P603",188,0)
 ;
"RTN","SD53P603",189,0)
 ; Set up FDA with field values
"RTN","SD53P603",190,0)
 SET SDFDA(18.12,SDIENS,.01)=$GET(SDSRVR) ;server name
"RTN","SD53P603",191,0)
 SET SDFDA(18.12,SDIENS,.03)=$GET(SDPORT) ;ws port nbr
"RTN","SD53P603",192,0)
 SET SDFDA(18.12,SDIENS,.04)=$GET(SDADRS) ;server address
"RTN","SD53P603",193,0)
 SET SDFDA(18.12,SDIENS,.06)=1 ;status
"RTN","SD53P603",194,0)
 SET SDFDA(18.12,SDIENS,.07)=30 ;timeout
"RTN","SD53P603",195,0)
 SET SDFDA(18.12,SDIENS,1.01)=0 ;login required
"RTN","SD53P603",196,0)
 SET SDFDA(18.12,SDIENS,3.01)=0 ;ssl enabled
"RTN","SD53P603",197,0)
 ;
"RTN","SD53P603",198,0)
 IF SDIEN DO  ;update current record
"RTN","SD53P603",199,0)
 . DO FILE^DIE("K","SDFDA","SDERR")
"RTN","SD53P603",200,0)
 . IF $DATA(DIERR) DO
"RTN","SD53P603",201,0)
 . . DO DISPERR($NAME(SDERR))
"RTN","SD53P603",202,0)
 . . SET SDIEN=0
"RTN","SD53P603",203,0)
 ELSE  DO  ;create new record
"RTN","SD53P603",204,0)
 . DO UPDATE^DIE("","SDFDA","SDFDAI","SDERR")
"RTN","SD53P603",205,0)
 . IF $DATA(DIERR) DO
"RTN","SD53P603",206,0)
 . . DO DISPERR($NAME(SDERR))
"RTN","SD53P603",207,0)
 . . SET SDIEN=0
"RTN","SD53P603",208,0)
 . ELSE  DO
"RTN","SD53P603",209,0)
 . . SET SDIEN=$GET(SDFDAI(1))
"RTN","SD53P603",210,0)
 ;
"RTN","SD53P603",211,0)
 QUIT $SELECT($GET(SDIEN)>0:SDIEN,1:0)
"RTN","SD53P603",212,0)
 ;
"RTN","SD53P603",213,0)
DISPERR(SDINARR) ; display error message
"RTN","SD53P603",214,0)
 NEW SDOUT,SDI
"RTN","SD53P603",215,0)
 WRITE !,"FM Database Server Error Information:"
"RTN","SD53P603",216,0)
 DO MSG^DIALOG("AE",.SDOUT,70,"",SDINARR)
"RTN","SD53P603",217,0)
 FOR SDI=1:1 QUIT:$D(SDOUT(SDI))=0  WRITE !,$GET(SDOUT(SDI))
"RTN","SD53P603",218,0)
 QUIT
"RTN","SD53P603",219,0)
 ;
"RTN","SD53P603",220,0)
ADDPROXY ;Create PCMMR Application Proxy User
"RTN","SD53P603",221,0)
 ;User needs XUMGR security key for this to work
"RTN","SD53P603",222,0)
 ; ICR 4677 - Application Proxy
"RTN","SD53P603",223,0)
 ;
"RTN","SD53P603",224,0)
 NEW SDOPT,SDRTN
"RTN","SD53P603",225,0)
 SET SDOPT("SCMC PCMMR APP PROXY MENU")=1
"RTN","SD53P603",226,0)
 SET SDRTN=$$CREATE^XUSAP("SCMC,APPLICATION PROXY","",.SDOPT)
"RTN","SD53P603",227,0)
 IF SDRTN DO  QUIT
"RTN","SD53P603",228,0)
 . DO MES^XPDUTL(" o  SCMC,APPLICATION PROXY user was created.")
"RTN","SD53P603",229,0)
 . DO MES^XPDUTL(" ")
"RTN","SD53P603",230,0)
 IF +SDRTN=0 DO
"RTN","SD53P603",231,0)
 . DO MES^XPDUTL(" o  SCMC,APPLICATION PROXY user already exists.")
"RTN","SD53P603",232,0)
 . DO MES^XPDUTL(" ")
"RTN","SD53P603",233,0)
 ELSE   DO
"RTN","SD53P603",234,0)
 . DO MES^XPDUTL(" o  Error creating SCMC,APPLICATION PROXY user ")
"RTN","SD53P603",235,0)
 . DO MES^XPDUTL(" ")
"RTN","SD53P603",236,0)
 QUIT
"RTN","SD53P603",237,0)
 ;
"RTN","SD53P603",238,0)
DISMENU ;Disable Legacy PCMM Menu Options
"RTN","SD53P603",239,0)
 ;
"RTN","SD53P603",240,0)
 DO OPTOUT^SCMCOPT
"RTN","SD53P603",241,0)
 DO MES^XPDUTL(" o  Legacy PCMM Menu Options have been placed Out of Order")
"RTN","SD53P603",242,0)
 DO MES^XPDUTL(" ")
"RTN","SD53P603",243,0)
 QUIT
"RTN","SD53P603",244,0)
 ;
"RTN","SD53P603",245,0)
SECMENU ;Change New Person Records that have SCMC PCMM GUI WORKSTATION to SCMC PCMMR WEB USER MENU
"RTN","SD53P603",246,0)
 ;
"RTN","SD53P603",247,0)
 DO SECMENU^SCMCOPT
"RTN","SD53P603",248,0)
 DO MES^XPDUTL(" o  New Person records with Secondary Menu Option SCMC PCMM GUI WORKSTATION changed to SCMC PCMMR WEB USER MENU")
"RTN","SD53P603",249,0)
 DO MES^XPDUTL(" ")
"RTN","SD53P603",250,0)
 QUIT
"RTN","SD53P603",251,0)
 ;
"RTN","SD53P603",252,0)
BLDINDEX ;Build Outpatient Encounters ACOD index
"RTN","SD53P603",253,0)
 ;
"RTN","SD53P603",254,0)
 ; #10141 - XPDUTL - Public APIs for KIDS
"RTN","SD53P603",255,0)
 ; #10013 - Classic Fileman API: Entry Deletion & File Reindexing (DIK)
"RTN","SD53P603",256,0)
 ; #10103 - XLFDT - Supported APIs for date & time
"RTN","SD53P603",257,0)
 ;
"RTN","SD53P603",258,0)
 IF $DATA(^SCE("ACOD")) DO  QUIT
"RTN","SD53P603",259,0)
 . DO MES^XPDUTL(" o  Outpatient Encounters ACOD index already exists.")
"RTN","SD53P603",260,0)
 . DO MES^XPDUTL(" ")
"RTN","SD53P603",261,0)
 ;
"RTN","SD53P603",262,0)
 DO MES^XPDUTL(" o  Building Outpatient Encounters ACOD index.")
"RTN","SD53P603",263,0)
 DO MES^XPDUTL(" o  This may take a while, there are "_$PIECE(^SCE(0),U,4)_" records.")
"RTN","SD53P603",264,0)
 DO MES^XPDUTL(" ")
"RTN","SD53P603",265,0)
 NEW DIK,SDSTART,SDEND
"RTN","SD53P603",266,0)
 SET SDSTART=$$NOW^XLFDT()
"RTN","SD53P603",267,0)
 SET DIK="^SCE("
"RTN","SD53P603",268,0)
 SET DIK(1)=".02^ACOD"
"RTN","SD53P603",269,0)
 DO ENALL^DIK
"RTN","SD53P603",270,0)
 SET SDEND=$$NOW^XLFDT()
"RTN","SD53P603",271,0)
 DO MES^XPDUTL(" o  Outpatient Encounters ACOD index completed.")
"RTN","SD53P603",272,0)
 DO MES^XPDUTL("      Elapsed time: "_$$FMDIFF^XLFDT(SDEND,SDSTART,3))
"RTN","SD53P603",273,0)
 DO MES^XPDUTL(" ")
"RTN","SD53P603",274,0)
 ;
"RTN","SD53P603",275,0)
 QUIT
"RTN","SD53P603",276,0)
 ;
"RTN","SD53P603",277,0)
JOBINDEX ;Build Outpatient Encounters ACOD index
"RTN","SD53P603",278,0)
 ;
"RTN","SD53P603",279,0)
 ; #10141 - XPDUTL - Public APIs for KIDS
"RTN","SD53P603",280,0)
 ; #10013 - Classic Fileman API: Entry Deletion & File Reindexing (DIK)
"RTN","SD53P603",281,0)
 ; #10103 - XLFDT - Supported APIs for date & time
"RTN","SD53P603",282,0)
 ;
"RTN","SD53P603",283,0)
 DO MES^XPDUTL(" o  Submitting Build Outpatient Encounters ACOD Index to Taskman.")
"RTN","SD53P603",284,0)
 DO MES^XPDUTL(" o  A Mailman message will be sent when it has completed.")
"RTN","SD53P603",285,0)
 DO MES^XPDUTL(" ")
"RTN","SD53P603",286,0)
 ;
"RTN","SD53P603",287,0)
 NEW SDDUZ,ZTRTN,ZTDESC,ZTDTH,ZTSAVE,ZTIO
"RTN","SD53P603",288,0)
 SET SDDUZ=DUZ
"RTN","SD53P603",289,0)
 SET ZTRTN="BLDACOD^SD53P603"
"RTN","SD53P603",290,0)
 SET ZTDESC="Build Outpatient Encounters ACOD Index"
"RTN","SD53P603",291,0)
 SET ZTDTH=$$NOW^XLFDT()
"RTN","SD53P603",292,0)
 SET ZTIO=""
"RTN","SD53P603",293,0)
 SET ZTSAVE("SDDUZ")=""
"RTN","SD53P603",294,0)
 ;Submit the job to Taskman
"RTN","SD53P603",295,0)
 DO ^%ZTLOAD
"RTN","SD53P603",296,0)
 ;
"RTN","SD53P603",297,0)
 QUIT
"RTN","SD53P603",298,0)
 ;
"RTN","SD53P603",299,0)
BLDACOD ;Build Outpatient Encounters ACOD index
"RTN","SD53P603",300,0)
 ;
"RTN","SD53P603",301,0)
 ; #10013 - Classic Fileman API: Entry Deletion & File Reindexing (DIK)
"RTN","SD53P603",302,0)
 ; #10070 - XMD - Mailman API
"RTN","SD53P603",303,0)
 ; #10103 - XLFDT - Supported APIs for date & time
"RTN","SD53P603",304,0)
 ;
"RTN","SD53P603",305,0)
 NEW DIK,SDSTART,SDEND,SDX,SDECDT,SDHIT,SDMSG,XMSUB
"RTN","SD53P603",306,0)
 SET SDSTART=$$NOW^XLFDT()
"RTN","SD53P603",307,0)
 SET SDHIT=0
"RTN","SD53P603",308,0)
 ;
"RTN","SD53P603",309,0)
 SET SDX=""
"RTN","SD53P603",310,0)
 FOR  SET SDX=$ORDER(^SCE("ACOD",SDX)) QUIT:SDX=""!(SDHIT)  DO
"RTN","SD53P603",311,0)
 . SET SDECDT=""
"RTN","SD53P603",312,0)
 . FOR  SET SDECDT=$ORDER(^SCE("ACOD",SDX,SDECDT)) QUIT:SDECDT=""!(SDHIT)  DO
"RTN","SD53P603",313,0)
 . . SET:+$$FMDIFF^XLFDT(SDSTART,SDECDT,1)>3 SDHIT=1
"RTN","SD53P603",314,0)
 IF SDHIT DO  QUIT
"RTN","SD53P603",315,0)
 . SET XMSUB="Outpatient Encounters ACOD Index Already Exists"
"RTN","SD53P603",316,0)
 . SET SDMSG(1)="The Outpatient Encounters ACOD index already exists."
"RTN","SD53P603",317,0)
 . DO SENDMAIL(XMSUB,.SDMSG)
"RTN","SD53P603",318,0)
 ;
"RTN","SD53P603",319,0)
 KILL ^SCE("ACOD")
"RTN","SD53P603",320,0)
 SET DIK="^SCE("
"RTN","SD53P603",321,0)
 SET DIK(1)=".02^ACOD"
"RTN","SD53P603",322,0)
 DO ENALL^DIK
"RTN","SD53P603",323,0)
 SET SDEND=$$NOW^XLFDT()
"RTN","SD53P603",324,0)
 ;
"RTN","SD53P603",325,0)
 ; send mail message
"RTN","SD53P603",326,0)
 SET XMSUB="Build Outpatient Encounters ACOD Index has Completed"
"RTN","SD53P603",327,0)
 SET SDMSG(1)="Building the Outpatient Encounters ACOD index has completed."
"RTN","SD53P603",328,0)
 SET SDMSG(2)="  There were "_$PIECE(^SCE(0),U,4)_" data records in the file."
"RTN","SD53P603",329,0)
 SET SDMSG(3)="  Elapsed time: "_$$FMDIFF^XLFDT(SDEND,SDSTART,3)
"RTN","SD53P603",330,0)
 DO SENDMAIL(XMSUB,.SDMSG)
"RTN","SD53P603",331,0)
 QUIT
"RTN","SD53P603",332,0)
 ;
"RTN","SD53P603",333,0)
SENDMAIL(XMSUB,SDMSG) ;send Mailman message
"RTN","SD53P603",334,0)
 ; Input: XMSUB - Mail message subject
"RTN","SD53P603",335,0)
 ;        SDMSG - Mail message text, by reference
"RTN","SD53P603",336,0)
 ;
"RTN","SD53P603",337,0)
 NEW XMDUZ,XMTEXT,XMY,XMZ,XMMG
"RTN","SD53P603",338,0)
 ;
"RTN","SD53P603",339,0)
 SET XMDUZ=.5 ;$GET(DUZ,.5)
"RTN","SD53P603",340,0)
 SET:$GET(SDDUZ)="" SDDUZ=DUZ
"RTN","SD53P603",341,0)
 SET XMY(SDDUZ)=""
"RTN","SD53P603",342,0)
 SET XMTEXT="SDMSG("
"RTN","SD53P603",343,0)
 DO ^XMD
"RTN","SD53P603",344,0)
 ;
"RTN","SD53P603",345,0)
 QUIT
"RTN","SD53P603",346,0)
 ;
"RTN","SD53P603",347,0)
BLDINDX2 ;Patient Team Position Assignment File (#404.43) C cross reference
"RTN","SD53P603",348,0)
 ;
"RTN","SD53P603",349,0)
 ; #10141 - XPDUTL - Public APIs for KIDS
"RTN","SD53P603",350,0)
 ; #10013 - Classic FileMan API: Entry Deletion & File Reindexing (DIK)
"RTN","SD53P603",351,0)
 ; #10103 - XLFDT - Supported APIs for date & time
"RTN","SD53P603",352,0)
 ;
"RTN","SD53P603",353,0)
 IF $DATA(^SCPT(404.43,"C")) DO  QUIT
"RTN","SD53P603",354,0)
 . DO MES^XPDUTL(" o  Patient Team Position Assignment C cross reference already exists.")
"RTN","SD53P603",355,0)
 . DO MES^XPDUTL(" ")
"RTN","SD53P603",356,0)
 ;
"RTN","SD53P603",357,0)
 DO MES^XPDUTL(" o  Patient Team Position Assignment C cross reference.")
"RTN","SD53P603",358,0)
 DO MES^XPDUTL(" o  There are "_$PIECE(^SCPT(404.43,0),U,4)_" records to cross reference.")
"RTN","SD53P603",359,0)
 DO MES^XPDUTL(" ")
"RTN","SD53P603",360,0)
 NEW DIK,SDSTART,SDEND
"RTN","SD53P603",361,0)
 SET SDSTART=$$NOW^XLFDT()
"RTN","SD53P603",362,0)
 SET DIK="^SCPT(404.43,"
"RTN","SD53P603",363,0)
 SET DIK(1)=".02^C"
"RTN","SD53P603",364,0)
 DO ENALL^DIK
"RTN","SD53P603",365,0)
 SET SDEND=$$NOW^XLFDT()
"RTN","SD53P603",366,0)
 DO MES^XPDUTL(" o  Patient Team Position Assignment C cross reference completed.")
"RTN","SD53P603",367,0)
 DO MES^XPDUTL("      Elapsed time: "_$$FMDIFF^XLFDT(SDEND,SDSTART,3))
"RTN","SD53P603",368,0)
 DO MES^XPDUTL(" ")
"RTN","SD53P603",369,0)
 ;
"RTN","SD53P603",370,0)
 QUIT
"RTN","SD53P603",371,0)
 ;
"RTN","SD53P603",372,0)
DLNITTSK ; Delete SCMC PCMM NIGHTLY TASK from the Scheduled Options file
"RTN","SD53P603",373,0)
 NEW TSKNAM,OPT,DA,DIK
"RTN","SD53P603",374,0)
 SET TSKNAM="SCMC PCMM NIGHTLY TASK"
"RTN","SD53P603",375,0)
 SET OPT=+$$FIND1^DIC(19,"","BX",TSKNAM,"","","")
"RTN","SD53P603",376,0)
 SET DA=""
"RTN","SD53P603",377,0)
 FOR  SET DA=$ORDER(^DIC(19.2,"B",OPT,DA)) QUIT:'+DA  DO
"RTN","SD53P603",378,0)
 . SET DIK="^DIC(19.2,"
"RTN","SD53P603",379,0)
 . DO ^DIK
"RTN","SD53P603",380,0)
 ;
"RTN","SD53P603",381,0)
 DO MES^XPDUTL(" o  SCMC PCMM NIGHTLY TASK deleted from the Scheduled Options file.")
"RTN","SD53P603",382,0)
 DO MES^XPDUTL(" ")
"RTN","SD53P603",383,0)
 QUIT
"RTN","SD53P603",384,0)
 ;
"RTN","SD53P603",385,0)
CNVTSTAT ; Convert Status (.12) in 404.43 from NA to IU
"RTN","SD53P603",386,0)
 ;
"RTN","SD53P603",387,0)
 NEW SDIEN,SDIENS,SDFDA,SDERR
"RTN","SD53P603",388,0)
 SET SDIEN=""
"RTN","SD53P603",389,0)
 FOR  SET SDIEN=$ORDER(^SCPT(404.43,"ASTATB","NA",SDIEN)) QUIT:SDIEN=""  DO
"RTN","SD53P603",390,0)
 . SET SDIENS=SDIEN_","
"RTN","SD53P603",391,0)
 . NEW SDFDA
"RTN","SD53P603",392,0)
 . SET SDFDA(404.43,SDIENS,.12)="IU" ;status name
"RTN","SD53P603",393,0)
 . DO FILE^DIE("K","SDFDA","SDERR")
"RTN","SD53P603",394,0)
 ;
"RTN","SD53P603",395,0)
 DO MES^XPDUTL(" o  Convert Status (.12) in Patient Team Position Assignment (404.43) from NA to IU has completed.")
"RTN","SD53P603",396,0)
 DO MES^XPDUTL(" ")
"RTN","SD53P603",397,0)
 ;
"RTN","SD53P603",398,0)
 QUIT
"RTN","SD53P603",399,0)
 ;
"RTN","SD53P603",400,0)
ACOD ;Create Outpatient Encounters 'ACOD' index for child encounters
"RTN","SD53P603",401,0)
 ;
"RTN","SD53P603",402,0)
 N ZTRTN,ZTDESC,ZTDTH,ZTSAVE,ZTIO,SDUZ
"RTN","SD53P603",403,0)
 D BMES^XPDUTL("Building Outpatient Encounters 'ACOD' index for child encounters.")
"RTN","SD53P603",404,0)
 D MES^XPDUTL("This job will be tasked to run in the background.")
"RTN","SD53P603",405,0)
 D MES^XPDUTL("A MailMan message will be sent to the installer upon completion.")
"RTN","SD53P603",406,0)
 D BMES^XPDUTL("")
"RTN","SD53P603",407,0)
 S SDUZ=DUZ
"RTN","SD53P603",408,0)
 S ZTRTN="ACODIND^SD53P603"
"RTN","SD53P603",409,0)
 S ZTDESC="Build missing child Outpatient Encounters 'ACOD' Index"
"RTN","SD53P603",410,0)
 S ZTDTH=$$NOW^XLFDT()
"RTN","SD53P603",411,0)
 S ZTIO=""
"RTN","SD53P603",412,0)
 S ZTSAVE("SDUZ")=""
"RTN","SD53P603",413,0)
 ;Submit the job to Taskman
"RTN","SD53P603",414,0)
 D ^%ZTLOAD
"RTN","SD53P603",415,0)
 ;D ACODIND
"RTN","SD53P603",416,0)
 Q
"RTN","SD53P603",417,0)
 ;
"RTN","SD53P603",418,0)
ACODIND ;Build missing ACOD index for child encounters checked out on or after 04/01/14
"RTN","SD53P603",419,0)
 N SDSTART,SDEND,SDDT,SD0,SDPE,CODT,SDFN,CNT,IEN,DA,DIK
"RTN","SD53P603",420,0)
 S SDSTART=$$NOW^XLFDT()
"RTN","SD53P603",421,0)
 S SDDT=3140331.9999
"RTN","SD53P603",422,0)
 S CNT=0
"RTN","SD53P603",423,0)
 S DIK="^SCE("
"RTN","SD53P603",424,0)
 F  S SDDT=$O(^SCE("B",SDDT)) Q:'SDDT  S IEN=0 D
"RTN","SD53P603",425,0)
 .F  S IEN=$O(^SCE("B",SDDT,IEN)) Q:'IEN  D
"RTN","SD53P603",426,0)
 ..S SD0=$G(^SCE(IEN,0)) Q:'SD0
"RTN","SD53P603",427,0)
 ..;check if parent encounter then quit
"RTN","SD53P603",428,0)
 ..S SDPE=$P(SD0,"^",6) I SDPE="" Q
"RTN","SD53P603",429,0)
 ..;if no DFN or check out process completion date then quit
"RTN","SD53P603",430,0)
 ..S SDFN=$P(SD0,"^",2),CODT=$P(SD0,"^",7) I (SDFN="")!(CODT="") Q
"RTN","SD53P603",431,0)
 ..;if parent encounter has no "ACOD" then quit, not checked out
"RTN","SD53P603",432,0)
 ..I '$D(^SCE("ACOD",SDFN,CODT,SDPE)) Q
"RTN","SD53P603",433,0)
 ..;if 'ACOD' index already exist for child then quit
"RTN","SD53P603",434,0)
 ..I $D(^SCE("ACOD",SDFN,CODT,IEN)) Q
"RTN","SD53P603",435,0)
 ..S DA=IEN,DIK(1)=".02^ACOD",CNT=CNT+1
"RTN","SD53P603",436,0)
 ..D EN1^DIK
"RTN","SD53P603",437,0)
 S SDEND=$$NOW^XLFDT()
"RTN","SD53P603",438,0)
 D MAIL
"RTN","SD53P603",439,0)
 Q
"RTN","SD53P603",440,0)
 ;
"RTN","SD53P603",441,0)
MAIL ;Generate MailMan message
"RTN","SD53P603",442,0)
 N XMDUZ,XMSUB,XMDUN,XMTEXT,XMY,XMZ,XMMG,SDMSG
"RTN","SD53P603",443,0)
 S XMDUZ=.5
"RTN","SD53P603",444,0)
 S XMY(SDUZ)=""
"RTN","SD53P603",445,0)
 S XMSUB="Build completed for missing 'ACOD' Index child Outpatient Encounters"
"RTN","SD53P603",446,0)
 S SDMSG(1)="Build of missing child Outpatient Encounters 'ACOD' index has been completed."
"RTN","SD53P603",447,0)
 S SDMSG(2)="  There were "_CNT_" 'ACOD' index added for child encounters in File (#409.68)."
"RTN","SD53P603",448,0)
 S SDMSG(3)="  Start time:   "_$$FMTE^XLFDT(SDSTART,"2F")
"RTN","SD53P603",449,0)
 S SDMSG(4)="  End time:     "_$$FMTE^XLFDT(SDEND,"2F")
"RTN","SD53P603",450,0)
 S SDMSG(5)="  Elapsed time: "_$$FMDIFF^XLFDT(SDEND,SDSTART,3)
"RTN","SD53P603",451,0)
 S XMTEXT="SDMSG("
"RTN","SD53P603",452,0)
 D ^XMD
"RTN","SD53P603",453,0)
 Q
"RTN","SD53P603",454,0)
 ;
"RTN","SD53P603",455,0)
DELTRIGR ;Delete FTEE History trigger in 404.52
"RTN","SD53P603",456,0)
 ;
"RTN","SD53P603",457,0)
 ;ICR 6168 - READ ACCESS TO DD(404.52
"RTN","SD53P603",458,0)
 ;
"RTN","SD53P603",459,0)
 NEW SDERR
"RTN","SD53P603",460,0)
 DO BMES^XPDUTL("Delete the FTEXR Trigger in 404.52/.09")
"RTN","SD53P603",461,0)
 ;
"RTN","SD53P603",462,0)
 IF $DATA(^DD(404.52,.09,1,2,0)),^DD(404.52,.09,1,2,0)["FTEXR" DO
"RTN","SD53P603",463,0)
 . DO DELIX^DDMOD(404.52,.09,2,"","SDERR")
"RTN","SD53P603",464,0)
 . IF '$DATA(SDERR) DO
"RTN","SD53P603",465,0)
 . . DO BMES^XPDUTL("The FTEXR trigger was deleted.")
"RTN","SD53P603",466,0)
 . ELSE  DO
"RTN","SD53P603",467,0)
 . . DO BMES^XPDUTL("ERROR encountered deleting the trigger.")
"RTN","SD53P603",468,0)
 ELSE  DO
"RTN","SD53P603",469,0)
 . DO BMES^XPDUTL("The FTEXR trigger does not exist - previously deleted.")
"RTN","SD53P603",470,0)
 QUIT
"RTN","SD53P603",471,0)
 ;
"RTN","SD53P603",472,0)
TEAMPURP ;add 2 records to Team Purpose (403.47)
"RTN","SD53P603",473,0)
 ;
"RTN","SD53P603",474,0)
 NEW SDNAME,SDDESC,SDI
"RTN","SD53P603",475,0)
 ;
"RTN","SD53P603",476,0)
 SET SDNAME(1)="PRIMARY CARE - NVCC"
"RTN","SD53P603",477,0)
 SET SDNAME(2)="PRIMARY CARE - HBPC"
"RTN","SD53P603",478,0)
 SET SDDESC(1)="Primary Care teams staffed by non-VA providers."
"RTN","SD53P603",479,0)
 SET SDDESC(2)="Primary Care teams providing Home Based Primary Care."
"RTN","SD53P603",480,0)
 ;
"RTN","SD53P603",481,0)
 FOR SDI=1:1:2 DO
"RTN","SD53P603",482,0)
 . NEW SDFDA,SDFDAI,SDERR,SDIEN,DIERR,SDWP
"RTN","SD53P603",483,0)
 . SET SDIEN=+$$FIND1^DIC(403.47,"","BX",SDNAME(SDI),"","","")
"RTN","SD53P603",484,0)
 . ; If record doesn't already exist, create new
"RTN","SD53P603",485,0)
 . IF 'SDIEN DO
"RTN","SD53P603",486,0)
 . . SET SDFDA(403.47,"+1,",.01)=SDNAME(SDI) ;name
"RTN","SD53P603",487,0)
 . . DO UPDATE^DIE("","SDFDA","SDFDAI","SDERR")
"RTN","SD53P603",488,0)
 . . IF $DATA(SDERR) DO  QUIT
"RTN","SD53P603",489,0)
 . . . DO TPERR($NAME(SDERR))
"RTN","SD53P603",490,0)
 . . SET SDWP(1,0)=SDDESC(SDI)
"RTN","SD53P603",491,0)
 . . DO WP^DIE(403.47,SDFDAI(1)_",",1,"K","SDWP")
"RTN","SD53P603",492,0)
 ;
"RTN","SD53P603",493,0)
 QUIT
"RTN","SD53P603",494,0)
 ;
"RTN","SD53P603",495,0)
TPERR(SDINARR) ; display error message
"RTN","SD53P603",496,0)
 NEW SDOUT,SDI
"RTN","SD53P603",497,0)
 WRITE !,"Create Team Purpose Error:"
"RTN","SD53P603",498,0)
 DO MSG^DIALOG("AE",.SDOUT,70,"",SDINARR)
"RTN","SD53P603",499,0)
 FOR SDI=1:1 QUIT:$D(SDOUT(SDI))=0  WRITE !,$GET(SDOUT(SDI))
"RTN","SD53P603",500,0)
 QUIT
"RTN","SD53P603",501,0)
 ;
"RTN","SDCOU")
0^30^B4357231
"RTN","SDCOU",1,0)
SDCOU ;ALB/RMO - Utilities - Check Out;28 DEC 1992 10:00 am ;01/21/2015
"RTN","SDCOU",2,0)
 ;;5.3;Scheduling;**603**;Aug 13, 1993;Build 79
"RTN","SDCOU",3,0)
 ;
"RTN","SDCOU",4,0)
 ;Private ICR
"RTN","SDCOU",5,0)
 ; 6167 - READ ACCESS TO DD(409.68
"RTN","SDCOU",6,0)
 ;
"RTN","SDCOU",7,0)
CODT(DFN,SDT,SDCL) ; -- does appt have co date
"RTN","SDCOU",8,0)
 Q $P($G(^SC(SDCL,"S",SDT,1,+$$FIND^SDAM2(.DFN,.SDT,.SDCL),"C")),U,3)
"RTN","SDCOU",9,0)
 ;
"RTN","SDCOU",10,0)
CHK(SDSEL) ;Check if Appt can be Checked Out
"RTN","SDCOU",11,0)
 ; Input  -- SDSEL    Appt Selected in Appt Mgr
"RTN","SDCOU",12,0)
 ; Output -- 1=Yes and 0=No
"RTN","SDCOU",13,0)
 N SDAT,Y
"RTN","SDCOU",14,0)
 S SDAT=$G(^TMP("SDAMIDX",$J,SDSEL)) G CHKQ:SDAT']""
"RTN","SDCOU",15,0)
 S Y=1
"RTN","SDCOU",16,0)
 I '$D(^SD(409.63,"ACO",1,$$STATUS(SDAT))) W !!,*7,">>> You can not check out this appointment." D PAUSE^VALM1 S Y=0 G CHKQ
"RTN","SDCOU",17,0)
 I $P(+$P(SDAT,"^",3),".")>DT W !!,*7,">>> It is too soon to check out this appointment." D PAUSE^VALM1 S Y=0 G CHKQ
"RTN","SDCOU",18,0)
CHKQ Q +$G(Y)
"RTN","SDCOU",19,0)
 ;
"RTN","SDCOU",20,0)
STATUS(SDAT) ;Selected Appointment Status IEN
"RTN","SDCOU",21,0)
 Q +$$STATUS^SDAM1(+$P(SDAT,"^",2),+$P(SDAT,"^",3),+$P(SDAT,"^",4),$G(^DPT(+$P(SDAT,"^",2),"S",+$P(SDAT,"^",3),0)),+$P(SDAT,"^",5))
"RTN","SDCOU",22,0)
 ;
"RTN","SDCOU",23,0)
ORG(SDORG) ;Originating Process Type Name for Outpatient Encounter
"RTN","SDCOU",24,0)
 ; Input  -- SDORG    Originating Process Type
"RTN","SDCOU",25,0)
 ; Output -- Originating Process Type Name
"RTN","SDCOU",26,0)
 ;ICR 6167 - READ ACCESS TO DD(409.68
"RTN","SDCOU",27,0)
 N Y
"RTN","SDCOU",28,0)
 S Y=$$LOWER^VALM1($P($P(^DD(409.68,.08,0),SDORG_":",2),";"))
"RTN","SDCOU",29,0)
 Q $G(Y)
"RTN","SDCOU",30,0)
 ;
"RTN","SDCOU",31,0)
COMDT(SDOE) ;Check Out Process Completion Date/Time
"RTN","SDCOU",32,0)
 Q $P($G(^SCE(+SDOE,0)),"^",7)
"RTN","SDCOU",33,0)
 ;
"RTN","SDCOU",34,0)
SET(SDOE,SDNEW) ; -- set x-ref logic for co completion date to update children
"RTN","SDCOU",35,0)
 I '$D(^SCE("APAR",SDOE)) G SETQ
"RTN","SDCOU",36,0)
 N SDOEC,SDFDA
"RTN","SDCOU",37,0)
 S SDOEC=0 F  S SDOEC=$O(^SCE("APAR",SDOE,SDOEC)) Q:'SDOEC  D
"RTN","SDCOU",38,0)
 .I $D(^SCE(SDOE,0)) D
"RTN","SDCOU",39,0)
 ..K SDFDA
"RTN","SDCOU",40,0)
 ..S SDFDA(409.68,SDOEC_",",.07)=SDNEW
"RTN","SDCOU",41,0)
 ..D FILE^DIE("","SDFDA")
"RTN","SDCOU",42,0)
SETQ Q
"RTN","SDCOU",43,0)
 ;
"RTN","SDCOU",44,0)
KILL(SDOE,SDOLD) ; -- set x-ref logic for co completion date to update children
"RTN","SDCOU",45,0)
 I '$D(^SCE("APAR",SDOE)) G KILLQ
"RTN","SDCOU",46,0)
 N SDOEC,SDFDA
"RTN","SDCOU",47,0)
 S SDOEC=0 F  S SDOEC=$O(^SCE("APAR",SDOE,SDOEC)) Q:'SDOEC  D
"RTN","SDCOU",48,0)
 .I $D(^SCE(SDOE,0)) D
"RTN","SDCOU",49,0)
 ..K SDFDA
"RTN","SDCOU",50,0)
 ..S SDFDA(409.68,SDOEC_",",.07)=""
"RTN","SDCOU",51,0)
 ..D FILE^DIE("","SDFDA")
"RTN","SDCOU",52,0)
KILLQ Q
"RTN","SDCOU",53,0)
 ;
"SEC","^DIC",403.46,403.46,0,"AUDIT")
@
"SEC","^DIC",403.46,403.46,0,"DD")
@
"SEC","^DIC",403.46,403.46,0,"DEL")
@
"SEC","^DIC",403.46,403.46,0,"LAYGO")
@
"SEC","^DIC",403.46,403.46,0,"RD")
d
"SEC","^DIC",403.46,403.46,0,"WR")
@
"SEC","^DIC",404.54,404.54,0,"AUDIT")
@
"SEC","^DIC",404.54,404.54,0,"DD")
@
"SEC","^DIC",404.54,404.54,0,"DEL")
@
"SEC","^DIC",404.54,404.54,0,"LAYGO")
@
"SEC","^DIC",404.54,404.54,0,"RD")
d
"SEC","^DIC",404.54,404.54,0,"WR")
@
"UP",404.41,404.411,-1)
404.41^2
"UP",404.41,404.411,0)
404.411
"UP",404.52,404.521,-1)
404.52^1
"UP",404.52,404.521,0)
404.521
"VER")
8.0^22.0
"^DD",403.46,403.46,0)
FIELD^^2^5
"^DD",403.46,403.46,0,"DDA")
N
"^DD",403.46,403.46,0,"DT")
3031210
"^DD",403.46,403.46,0,"IX","B",403.46,.01)

"^DD",403.46,403.46,0,"IX","USR",403.46,.02)

"^DD",403.46,403.46,0,"NM","STANDARD POSITION")

"^DD",403.46,403.46,0,"PT",404.57,.03)

"^DD",403.46,403.46,0,"PT",404.95,40)

"^DD",403.46,403.46,0,"PT",404.9503,.01)

"^DD",403.46,403.46,0,"VRPK")
SD
"^DD",403.46,403.46,.01,0)
STANDARD POSITION^RF^^0;1^K:$L(X)>50!($L(X)<3)!'(X'?1P.E) X
"^DD",403.46,403.46,.01,1,0)
^.1
"^DD",403.46,403.46,.01,1,1,0)
403.46^B
"^DD",403.46,403.46,.01,1,1,1)
S ^SD(403.46,"B",$E(X,1,30),DA)=""
"^DD",403.46,403.46,.01,1,1,2)
K ^SD(403.46,"B",$E(X,1,30),DA)
"^DD",403.46,403.46,.01,3)
Choose standard position from list defined by VA Central Office.
"^DD",403.46,403.46,.01,21,0)
^.001^3^3^3040406^^^
"^DD",403.46,403.46,.01,21,1,0)
Standard role the provider performs as part of this team.
"^DD",403.46,403.46,.01,21,2,0)
 
"^DD",403.46,403.46,.01,21,3,0)
These standard positions are defined by Central Office.
"^DD",403.46,403.46,.01,"DT")
2950224
"^DD",403.46,403.46,.02,0)
USER CLASSIFICATION^P8930'^USR(8930,^0;2^Q
"^DD",403.46,403.46,.02,1,0)
^.1
"^DD",403.46,403.46,.02,1,1,0)
403.46^USR
"^DD",403.46,403.46,.02,1,1,1)
S ^SD(403.46,"USR",$E(X,1,30),DA)=""
"^DD",403.46,403.46,.02,1,1,2)
K ^SD(403.46,"USR",$E(X,1,30),DA)
"^DD",403.46,403.46,.02,1,1,"DT")
2950228
"^DD",403.46,403.46,.02,3)
The class of users defined in the USR CLASS File (#8930) that are permited to fill this position.
"^DD",403.46,403.46,.02,21,0)
^^1^1^2950728^^^
"^DD",403.46,403.46,.02,21,1,0)
Name of the user class that may fill this standard position.
"^DD",403.46,403.46,.02,"DT")
2950728
"^DD",403.46,403.46,.03,0)
ALLOWED TO BE PRIMARY CARE^S^1:YES;0:NO;2:CAN BE PRIMARY AS PRECEPTED;3:NP CAN BE PRIMARY;^0;3^Q
"^DD",403.46,403.46,.03,21,0)
^^4^4^3060712^
"^DD",403.46,403.46,.03,21,1,0)
Can this position provide Primary Care to the patient
"^DD",403.46,403.46,.03,21,2,0)
This field is used to determine inconsistencies between the Team Position
"^DD",403.46,403.46,.03,21,3,0)
Role and the ability of that role to act a Primary Care Provider.
"^DD",403.46,403.46,.03,21,4,0)
This fields value is distributed by patch SD*5.3*297 and should not be changed.
"^DD",403.46,403.46,.03,"DT")
3031210
"^DD",403.46,403.46,1,0)
DESCRIPTION^403.46001^^1;0
"^DD",403.46,403.46,2,0)
PERSON CLASS^403.462PA^^2;0
"^DD",403.46,403.46,2,21,0)
^^4^4^3040406^
"^DD",403.46,403.46,2,21,1,0)
This multiple defines which Person Class(es) are allowed in this position.
"^DD",403.46,403.46,2,21,2,0)
If none is indicated all Person Classes are permitted.
"^DD",403.46,403.46,2,21,3,0)
This field is used to insure consistency between Practitioner and Team Position
"^DD",403.46,403.46,2,21,4,0)
Standard Role. This field is populated with patch SD*5.3*297 and should not be edited.
"^DD",403.46,403.46001,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",403.46,403.46001,0,"DT")
2950222
"^DD",403.46,403.46001,0,"NM","DESCRIPTION")

"^DD",403.46,403.46001,0,"UP")
403.46
"^DD",403.46,403.46001,.01,0)
DESCRIPTION^W^^0;1^Q
"^DD",403.46,403.46001,.01,3)
This is the long description of the standard position
"^DD",403.46,403.46001,.01,21,0)
^^1^1^2950222^
"^DD",403.46,403.46001,.01,21,1,0)
This is a more complete description of the standard position.
"^DD",403.46,403.46001,.01,"DT")
2950222
"^DD",403.46,403.462,0)
PERSON CLASS SUB-FIELD^^.01^1
"^DD",403.46,403.462,0,"DT")
3020821
"^DD",403.46,403.462,0,"IX","B",403.462,.01)

"^DD",403.46,403.462,0,"NM","PERSON CLASS")

"^DD",403.46,403.462,0,"UP")
403.46
"^DD",403.46,403.462,.01,0)
PERSON CLASS^MP8932.1'X^USC(8932.1,^0;1^S DINUM=X
"^DD",403.46,403.462,.01,1,0)
^.1
"^DD",403.46,403.462,.01,1,1,0)
403.462^B
"^DD",403.46,403.462,.01,1,1,1)
S ^SD(403.46,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",403.46,403.462,.01,1,1,2)
K ^SD(403.46,DA(1),2,"B",$E(X,1,30),DA)
"^DD",403.46,403.462,.01,3)
Enter only if this role restricts by person class
"^DD",403.46,403.462,.01,21,0)
^.001^1^1^3021025^^
"^DD",403.46,403.462,.01,21,1,0)
Screen of Providers that can be assigned to a position. If no entries all providers are allowed
"^DD",403.46,403.462,.01,"DT")
3020821
"^DD",404.41,404.41,.06,0)
CPRS HEADER TEXT^F^^1;1^K:$L(X)>250!($L(X)<1) X
"^DD",404.41,404.41,.06,.1)

"^DD",404.41,404.41,.06,3)
Answer must be 1-250 characters in length.
"^DD",404.41,404.41,.06,10)

"^DD",404.41,404.41,.06,21,0)
^^2^2^3140328^^
"^DD",404.41,404.41,.06,21,1,0)
This field contains PACT assignment data to be used in the PCMM/R Header
"^DD",404.41,404.41,.06,21,2,0)
in CPRS for this patient.
"^DD",404.41,404.41,.06,23,0)
^^2^2^3140328^
"^DD",404.41,404.41,.06,23,1,0)
This field will be updated by PCMM/R when the patient's PACT team is 
"^DD",404.41,404.41,.06,23,2,0)
assigned or unassigned.
"^DD",404.41,404.41,.06,"DT")
3150218
"^DD",404.41,404.41,.07,0)
CPRS PC WINDOW CACHE^404.411^^2;0
"^DD",404.41,404.41,.07,21,0)
^^3^3^3140509^^
"^DD",404.41,404.41,.07,21,1,0)
This field will contain a cached version of a patient's PACT and other
"^DD",404.41,404.41,.07,21,2,0)
team assignment details that is displayed in the CPRS PCMMR Details
"^DD",404.41,404.41,.07,21,3,0)
Window.
"^DD",404.41,404.41,.07,23,0)
^^4^4^3140509^^
"^DD",404.41,404.41,.07,23,1,0)
This field will be updated each time a patient's PACT and other team
"^DD",404.41,404.41,.07,23,2,0)
details are requested by CPRS from PCMMR.  The cached data will 
"^DD",404.41,404.41,.07,23,3,0)
be displayed in the CPRS PCMMR Details Window if the connection to PCMMR
"^DD",404.41,404.41,.07,23,4,0)
is not available.
"^DD",404.41,404.411,0)
CPRS PC WINDOW CACHE SUB-FIELD^^.01^1
"^DD",404.41,404.411,0,"DT")
3140509
"^DD",404.41,404.411,0,"NM","CPRS PC WINDOW CACHE")

"^DD",404.41,404.411,0,"UP")
404.41
"^DD",404.41,404.411,.01,0)
CPRS PC WINDOW CACHE^W^^0;1
"^DD",404.41,404.411,.01,21,0)
^^3^3^3140509^^
"^DD",404.41,404.411,.01,21,1,0)
This field will contain a cached version of a patient's PACT and other
"^DD",404.41,404.411,.01,21,2,0)
team assignment details that is displayed in the CPRS PCMMR Details
"^DD",404.41,404.411,.01,21,3,0)
Window.
"^DD",404.41,404.411,.01,23,0)
^^4^4^3140509^^^
"^DD",404.41,404.411,.01,23,1,0)
This field will be updated each time a patient's PACT and other team
"^DD",404.41,404.411,.01,23,2,0)
details are requested by CPRS from PCMMR.  The cached data will be 
"^DD",404.41,404.411,.01,23,3,0)
displayed in the CPRS PCMMR Details Window if the connection to PCMMR is
"^DD",404.41,404.411,.01,23,4,0)
not available.
"^DD",404.41,404.411,.01,"DT")
3140509
"^DD",404.42,404.42,.08,0)
ASSIGNMENT TYPE^S^1:PRIMARY CARE;98:PENDING PRIMARY CARE;99:OTHER;^0;8^Q
"^DD",404.42,404.42,.08,1,0)
^.1
"^DD",404.42,404.42,.08,1,1,0)
404.42^APCTM1^MUMPS
"^DD",404.42,404.42,.08,1,1,1)
N SC1,SC3,SC4 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,2) I SC3]"" S SC4=$P($G(^(0)),U,3) I SC4 S ^SCPT(404.42,"APCTM",SC1,X,SC3,SC4,DA)=""
"^DD",404.42,404.42,.08,1,1,2)
N SC1,SC3,SC4 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,2) I SC3]"" S SC4=$P($G(^(0)),U,3) I SC4 K ^SCPT(404.42,"APCTM",SC1,X,SC3,SC4,DA)
"^DD",404.42,404.42,.08,1,1,"%D",0)
^^1^1^2960325^^^
"^DD",404.42,404.42,.08,1,1,"%D",1,0)
This sorts by PATIENT(#.01), then by ASSIGNMENT TYPE(#.08), then by -TEAM ASSIGNED DATE(#.02), then by TEAM ASSIGNMENT(#.03).  There are associated cross references for each of these fields.
"^DD",404.42,404.42,.08,1,1,"DT")
2960214
"^DD",404.42,404.42,.08,1,2,0)
404.42^AOUTPT^MUMPS
"^DD",404.42,404.42,.08,1,2,1)
N SCX S SCX=$$MAKEOUT^SCMCDD1(DA)
"^DD",404.42,404.42,.08,1,2,2)
Q
"^DD",404.42,404.42,.08,1,2,"%D",0)
^^2^2^2960325^
"^DD",404.42,404.42,.08,1,2,"%D",1,0)
This makes an entry in the Outpatient Profile File for every patient
"^DD",404.42,404.42,.08,1,2,"%D",2,0)
who ever gets assigned to a primary care team.
"^DD",404.42,404.42,.08,1,2,"DT")
2960325
"^DD",404.42,404.42,.08,3)
Enter the type of care provided by this assignment.
"^DD",404.42,404.42,.08,21,0)
^^1^1^2950309^^
"^DD",404.42,404.42,.08,21,1,0)
This field indicates the type of care provided by this assignment.
"^DD",404.42,404.42,.08,"DT")
3140519
"^DD",404.42,404.42,.15,0)
STATUS^S^DU:DOD UNASSIGN;IU:INACTIVE UNASSIGN;DD:REASSIGN-DOD REMOVED;PR:PAT RELOCATED;RP:REQ BY PAT;NN:NOT NEEDED;PC:PROV CHANGE;PI:MVI MOVE/MERGE;FT:INTRA FAC TRANS;MU:MISSING/UNK;MD:M-PACT DENIAL/WDRAW;DC:DISCHARGE FROM CARE;ER:ERROR;^0;15^Q
"^DD",404.42,404.42,.15,3)
Choose the unassignment status.
"^DD",404.42,404.42,.15,21,0)
^^1^1^3140403^
"^DD",404.42,404.42,.15,21,1,0)
The status reason the patient was unassigned from the team.
"^DD",404.42,404.42,.15,"DT")
3140624
"^DD",404.43,404.43,.02,0)
TEAM POSITION^RP404.57'X^SCTM(404.57,^0;2^S DIC("S")="I $$OKTP^SCMCTPU(DA,Y)"
"^DD",404.43,404.43,.02,1,0)
^.1
"^DD",404.43,404.43,.02,1,1,0)
404.43^APRIMARY1^MUMPS
"^DD",404.43,404.43,.02,1,1,1)
N SC1,SC3 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,3) I SC3]"" S ^SCPT(404.43,"APRIMARY",SC1,X,-SC3,DA)=""
"^DD",404.43,404.43,.02,1,1,2)
N SC1,SC3 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,3) I SC3]"" K ^SCPT(404.43,"APRIMARY",SC1,X,-SC3,DA)
"^DD",404.43,404.43,.02,1,1,"%D",0)
^^1^1^2950908^
"^DD",404.43,404.43,.02,1,1,"%D",1,0)
This sorts by PATIENT TEAM ASSIGNMENT(#.01), then by TEAM POSITION(#.02), then by -POSITION ASSIGNED DATE(#.03).  There are associated cross references for each of these fields.
"^DD",404.43,404.43,.02,1,1,"DT")
2950908
"^DD",404.43,404.43,.02,1,2,0)
404.43^APTPA^MUMPS
"^DD",404.43,404.43,.02,1,2,1)
N SC2 S SC2=$P($G(^SCPT(404.43,DA,0)),U,1) I SC2 S ^SCPT(404.43,"APTPA",X,SC2,DA)=""
"^DD",404.43,404.43,.02,1,2,2)
N SC2 S SC2=$P($G(^SCPT(404.43,DA,0)),U,1) I SC2 K ^SCPT(404.43,"APTPA",X,SC2,DA)
"^DD",404.43,404.43,.02,1,2,"%D",0)
^^1^1^2951023^
"^DD",404.43,404.43,.02,1,2,"%D",1,0)
This sorts by TEAM POSITION(#.02), then by PATIENT TEAM ASSIGNMENT(#.01).  There is an associated cross reference for the PATIENT TEAM ASSIGNMENT Field (#.01).
"^DD",404.43,404.43,.02,1,2,"DT")
2951023
"^DD",404.43,404.43,.02,1,3,0)
404.43^ADFN1^MUMPS
"^DD",404.43,404.43,.02,1,3,1)
N SCDFN,SC1,SC3 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,3) I SC3]"" S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN S ^SCPT(404.43,"ADFN",SCDFN,X,SC3,DA)=""
"^DD",404.43,404.43,.02,1,3,2)
N SCDFN,SC1,SC3 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,3) I SC3]"" S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN K ^SCPT(404.43,"ADFN",SCDFN,X,SC3,DA)
"^DD",404.43,404.43,.02,1,3,"%D",0)
^^1^1^2960319^^^
"^DD",404.43,404.43,.02,1,3,"%D",1,0)
This sorts by PATIENT file ien (DFN), then by TEAM POSITION(#.02), then by POSITION ASSIGNED DATE(#.03).  There are associated cross references for each of these fields.
"^DD",404.43,404.43,.02,1,3,"DT")
2960319
"^DD",404.43,404.43,.02,1,4,0)
404.43^APCPOS3^MUMPS
"^DD",404.43,404.43,.02,1,4,1)
N SC1,SC2,SC3 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,5) I SC2]"" S SC3=$P($G(^(0)),U,3) I SC3]"" D SETPC^SCMCDD1(SC1,SC2,SC3,X,DA)
"^DD",404.43,404.43,.02,1,4,2)
N SC1,SC2,SC3 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,5) I SC2]"" S SC3=$P($G(^(0)),U,3) I SC3]"" D KILLPC^SCMCDD1(SC1,SC2,SC3,X,DA)
"^DD",404.43,404.43,.02,1,4,"%D",0)
^^2^2^2960214^^^^
"^DD",404.43,404.43,.02,1,4,"%D",1,0)
This sorts by Patient (via PATIENT TEAM ASSIGNMENT(#.01)), then by PC ROLE(#.05), then by -POSITION ASSIGNED DATE(#.03), then by
"^DD",404.43,404.43,.02,1,4,"%D",2,0)
 TEAM POSITION(#.02).  There are associated cross references for each of these fields.
"^DD",404.43,404.43,.02,1,4,"DT")
2960214
"^DD",404.43,404.43,.02,1,5,0)
404.43^AEVENT3^MUMPS
"^DD",404.43,404.43,.02,1,5,1)
D PTPXREF^SCMCHLX(DA)
"^DD",404.43,404.43,.02,1,5,2)
D PTPXREF^SCMCHLX(DA)
"^DD",404.43,404.43,.02,1,5,"%D",0)
^^1^1^2990507^
"^DD",404.43,404.43,.02,1,5,"%D",1,0)
Trigger an entry into PCMM HL7 EVENT file when this field is edited.
"^DD",404.43,404.43,.02,1,5,"DT")
2990507
"^DD",404.43,404.43,.02,1,6,0)
404.43^C
"^DD",404.43,404.43,.02,1,6,1)
S ^SCPT(404.43,"C",$E(X,1,30),DA)=""
"^DD",404.43,404.43,.02,1,6,2)
K ^SCPT(404.43,"C",$E(X,1,30),DA)
"^DD",404.43,404.43,.02,1,6,"%D",0)
^^1^1^3140813^
"^DD",404.43,404.43,.02,1,6,"%D",1,0)
Cross reference by Team Position.
"^DD",404.43,404.43,.02,1,6,"DT")
3140813
"^DD",404.43,404.43,.02,3)
Enter the position associated with the patient.
"^DD",404.43,404.43,.02,12)
used to assure position is from team
"^DD",404.43,404.43,.02,12.1)
S DIC("S")="I $$OKTP^SCMCTPU(DA,Y)"
"^DD",404.43,404.43,.02,21,0)
^^1^1^2960215^^^^
"^DD",404.43,404.43,.02,21,1,0)
This is the position associated with the patient.
"^DD",404.43,404.43,.02,23,0)
^^1^1^2960215^^^^
"^DD",404.43,404.43,.02,23,1,0)
Position must be from parent team - see screen.
"^DD",404.43,404.43,.02,"DT")
3140813
"^DD",404.43,404.43,.12,0)
STATUS^S^DU:DOD UNASSIGN;IU:INACTIVE UNASSIGN;DD:REASSIGN-DOD REMOVED;PR:PAT RELOCATION;RP:REQ BY PAT;NN:NOT NEEDED;PC:PROV CHANGE;PI:MVI MOVE/MERGE;FT:INTRA FAC TRANS;MU:MISSING/UNK;MD:M-PACT DENIAL/WDRAW;DC:DISCHARGE FROM CARE;ER:ERROR;^0;12^Q
"^DD",404.43,404.43,.12,1,0)
^.1^^-1
"^DD",404.43,404.43,.12,1,2,0)
404.43^ASTATB
"^DD",404.43,404.43,.12,1,2,1)
S ^SCPT(404.43,"ASTATB",$E(X,1,30),DA)=""
"^DD",404.43,404.43,.12,1,2,2)
K ^SCPT(404.43,"ASTATB",$E(X,1,30),DA)
"^DD",404.43,404.43,.12,1,2,"%D",0)
^^1^1^2981120^
"^DD",404.43,404.43,.12,1,2,"%D",1,0)
Sort by Status
"^DD",404.43,404.43,.12,1,2,"DT")
2981120
"^DD",404.43,404.43,.12,3)
Choose the unassignment status.
"^DD",404.43,404.43,.12,21,0)
^^1^1^3140624^
"^DD",404.43,404.43,.12,21,1,0)
The status reason the patient was unassigned from the team position.
"^DD",404.43,404.43,.12,"DT")
3140624
"^DD",404.52,404.52,.09,0)
FTEE EQUIVALENT^NJ4,2X^^0;9^K:+X'=X!(X>1)!(X<0)!(X?.E1"."3N.N) X
"^DD",404.52,404.52,.09,1,0)
^.1^^-1
"^DD",404.52,404.52,.09,1,1,0)
404.52^AFTEE^MUMPS
"^DD",404.52,404.52,.09,1,1,1)
D POSBXREF^SCMCHLX(DA,404.52)
"^DD",404.52,404.52,.09,1,1,2)
D POSBXREF^SCMCHLX(DA,404.52)
"^DD",404.52,404.52,.09,1,1,"%D",0)
^.101^1^1^3030218^^^^
"^DD",404.52,404.52,.09,1,1,"%D",1,0)
For HL7 Workload transmission. Creates an entry in PCMM HL7 EVENT file.
"^DD",404.52,404.52,.09,1,1,"DT")
3021216
"^DD",404.52,404.52,.09,3)
Type a Number between 0 and 1, 2 Decimal Digits. Total for site cannot exceed 1.
"^DD",404.52,404.52,.09,21,0)
^.001^2^2^3120228^^
"^DD",404.52,404.52,.09,21,1,0)
Workload measurement. This information is transmitted in the HL7 workload 
"^DD",404.52,404.52,.09,21,2,0)
message.
"^DD",404.52,404.52,.09,"DT")
3150114
"^DD",404.52,404.52,.12,0)
TEAMLET POSITION^S^1:YES;0:NO;^0;12^Q
"^DD",404.52,404.52,.12,.1)
Teamlet position
"^DD",404.52,404.52,.12,3)
Is the position a teamlet position?
"^DD",404.52,404.52,.12,10)

"^DD",404.52,404.52,.12,21,0)
^.001^4^4^3130122^^
"^DD",404.52,404.52,.12,21,1,0)
Historically, a patient encounter with a primary care provider or similar
"^DD",404.52,404.52,.12,21,2,0)
was necessary for that patient to avoid being inactivated from PCMM. 
"^DD",404.52,404.52,.12,21,3,0)
With the implementation of PCMMR this proviso was changed to include any
"^DD",404.52,404.52,.12,21,4,0)
provider assigned to a teamlet-designated position.
"^DD",404.52,404.52,.12,"DT")
3150218
"^DD",404.52,404.52,1,0)
FTEE HISTORY^404.521DA^^1;0
"^DD",404.52,404.52,1,21,0)
^^2^2^3150113^
"^DD",404.52,404.52,1,21,1,0)
Historical changes in FTEE values. This is maintained by PCMM Web and 
"^DD",404.52,404.52,1,21,2,0)
should not be edited.
"^DD",404.52,404.521,0)
FTEE HISTORY SUB-FIELD^^.03^3
"^DD",404.52,404.521,0,"NM","FTEE HISTORY")

"^DD",404.52,404.521,.01,0)
FTEE HISTORY^D^^0;1^S %DT="ETX" D ^%DT S X=Y K:Y<1 X
"^DD",404.52,404.521,.01,1,0)
^.1
"^DD",404.52,404.521,.01,1,1,0)
404.521^B
"^DD",404.52,404.521,.01,1,1,1)
S ^SCTM(404.52,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",404.52,404.521,.01,1,1,2)
K ^SCTM(404.52,DA(1),1,"B",$E(X,1,30),DA)
"^DD",404.52,404.521,.01,3)
Enter the current date/time.
"^DD",404.52,404.521,.01,21,0)
^^2^2^3150113^
"^DD",404.52,404.521,.01,21,1,0)
Record of changes in FTEE. This is maintained by PCMM Web and should not
"^DD",404.52,404.521,.01,21,2,0)
be edited.
"^DD",404.52,404.521,.01,"DT")
3150113
"^DD",404.52,404.521,.02,0)
VALUE^NJ4,2^^0;2^K:+X'=X!(X>1)!(X<0)!(X?.E1"."3N.N) X
"^DD",404.52,404.521,.02,3)
Type a Number between 0 and 1, 2 Decimal Digits
"^DD",404.52,404.521,.02,21,0)
^^2^2^3150113^
"^DD",404.52,404.521,.02,21,1,0)
Historical record of FTEE changes. This is maintained by PCMM Web and 
"^DD",404.52,404.521,.02,21,2,0)
should not be edited.
"^DD",404.52,404.521,.02,"DT")
3150113
"^DD",404.52,404.521,.03,0)
USER^P200'^VA(200,^0;3^Q
"^DD",404.52,404.521,.03,3)
Enter the name of the person updating FTEE history.
"^DD",404.52,404.521,.03,21,0)
^^2^2^3150113^
"^DD",404.52,404.521,.03,21,1,0)
User making changes to FTEE. This is maintained by PCMM Web and should 
"^DD",404.52,404.521,.03,21,2,0)
not be edited.
"^DD",404.52,404.521,.03,"DT")
3150113
"^DD",404.54,404.54,0)
FIELD^^.04^4
"^DD",404.54,404.54,0,"DDA")
N
"^DD",404.54,404.54,0,"DT")
3140529
"^DD",404.54,404.54,0,"IX","B",404.54,.01)

"^DD",404.54,404.54,0,"IX","C",404.54,.02)

"^DD",404.54,404.54,0,"NM","PCMM PATIENT EVENTS")

"^DD",404.54,404.54,.01,0)
PATIENT^RP2'^DPT(^0;1^Q
"^DD",404.54,404.54,.01,1,0)
^.1
"^DD",404.54,404.54,.01,1,1,0)
404.54^B
"^DD",404.54,404.54,.01,1,1,1)
S ^SCPT(404.54,"B",$E(X,1,30),DA)=""
"^DD",404.54,404.54,.01,1,1,2)
K ^SCPT(404.54,"B",$E(X,1,30),DA)
"^DD",404.54,404.54,.01,3)
Enter the Patient name for this Event.
"^DD",404.54,404.54,.01,21,0)
^^1^1^3140529^
"^DD",404.54,404.54,.01,21,1,0)
This is the Patient to which the Event pertains.
"^DD",404.54,404.54,.01,"DT")
3140529
"^DD",404.54,404.54,.02,0)
EVENT DATE/TIME^RD^^0;2^S %DT="ESTXR" D ^%DT S X=Y K:X<1 X
"^DD",404.54,404.54,.02,1,0)
^.1
"^DD",404.54,404.54,.02,1,1,0)
404.54^C
"^DD",404.54,404.54,.02,1,1,1)
S ^SCPT(404.54,"C",$E(X,1,30),DA)=""
"^DD",404.54,404.54,.02,1,1,2)
K ^SCPT(404.54,"C",$E(X,1,30),DA)
"^DD",404.54,404.54,.02,1,1,"%D",0)
^^2^2^3140522^
"^DD",404.54,404.54,.02,1,1,"%D",1,0)
This index is used to find events that occurred on or before a specific 
"^DD",404.54,404.54,.02,1,1,"%D",2,0)
date.
"^DD",404.54,404.54,.02,1,1,"DT")
3140522
"^DD",404.54,404.54,.02,3)
Enter the event date and time.
"^DD",404.54,404.54,.02,21,0)
^^1^1^3140521^
"^DD",404.54,404.54,.02,21,1,0)
This is the date and time when the event occurred.
"^DD",404.54,404.54,.02,"DT")
3140522
"^DD",404.54,404.54,.03,0)
EVENT CODE^RS^AD:DATE OF DEATH SET;AR:DATE OF DEATH UNSET;^0;3^Q
"^DD",404.54,404.54,.03,3)
Enter an event code.
"^DD",404.54,404.54,.03,21,0)
^^1^1^3140521^
"^DD",404.54,404.54,.03,21,1,0)
This is a code to indicate the type of event that occurred.
"^DD",404.54,404.54,.03,"DT")
3140521
"^DD",404.54,404.54,.04,0)
EVENT DATA^F^^1;1^K:$L(X)>200!($L(X)<1) X
"^DD",404.54,404.54,.04,3)
Answer must be 1-200 characters in length.
"^DD",404.54,404.54,.04,21,0)
^^1^1^3140529^^^
"^DD",404.54,404.54,.04,21,1,0)
This is additional information pertaining to the event.
"^DD",404.54,404.54,.04,23,0)
^^1^1^3140529^^
"^DD",404.54,404.54,.04,23,1,0)
This field contains the date of death for "AD" EVENT CODE.
"^DD",404.54,404.54,.04,"DT")
3140529
"^DD",409.68,409.68,.02,0)
PATIENT^RP2'I^DPT(^0;2^Q
"^DD",409.68,409.68,.02,1,0)
^.1
"^DD",409.68,409.68,.02,1,1,0)
409.68^C
"^DD",409.68,409.68,.02,1,1,1)
S ^SCE("C",$E(X,1,30),DA)=""
"^DD",409.68,409.68,.02,1,1,2)
K ^SCE("C",$E(X,1,30),DA)
"^DD",409.68,409.68,.02,1,1,"DT")
2921016
"^DD",409.68,409.68,.02,1,2,0)
409.68^ADFN^MUMPS
"^DD",409.68,409.68,.02,1,2,1)
S:$D(^SCE(DA,0)) ^SCE("ADFN",X,+^SCE(DA,0),DA)=""
"^DD",409.68,409.68,.02,1,2,2)
K:$D(^SCE(DA,0)) ^SCE("ADFN",X,+^SCE(DA,0),DA)
"^DD",409.68,409.68,.02,1,2,"%D",0)
^^4^4^2930429^
"^DD",409.68,409.68,.02,1,2,"%D",1,0)
 
"^DD",409.68,409.68,.02,1,2,"%D",2,0)
This cross reference is by patient DFN and the outpatient encounter date.
"^DD",409.68,409.68,.02,1,2,"%D",3,0)
The DATE(#.01) field also has a companion cross reference to set this
"^DD",409.68,409.68,.02,1,2,"%D",4,0)
compound cross reference.
"^DD",409.68,409.68,.02,1,2,"DT")
2930429
"^DD",409.68,409.68,.02,21,0)
^^1^1^2930511^
"^DD",409.68,409.68,.02,21,1,0)
This field contains the patient associated with the encounter.
"^DD",409.68,409.68,.02,"DT")
3140716
"^DIC",403.46,403.46,0)
STANDARD POSITION^403.46
"^DIC",403.46,403.46,0,"GL")
^SD(403.46,
"^DIC",403.46,403.46,"%D",0)
^^14^14^2960415^^^
"^DIC",403.46,403.46,"%D",1,0)
This table contains the standard team positions used by PCMM.
"^DIC",403.46,403.46,"%D",2,0)
 
"^DIC",403.46,403.46,"%D",3,0)
Each Team Position entry must map to one of these standard roles.
"^DIC",403.46,403.46,"%D",4,0)
 
"^DIC",403.46,403.46,"%D",5,0)
Sites are NOT allowed to edit the structure of this file.  Making any 
"^DIC",403.46,403.46,"%D",6,0)
kind of revision to this file may result in a faulty performance of the
"^DIC",403.46,403.46,"%D",7,0)
Primary Care Management Software or other DHCP software that uses this 
"^DIC",403.46,403.46,"%D",8,0)
file.  Updates to this file should only be done as a result of an 
"^DIC",403.46,403.46,"%D",9,0)
official patch to the Scheduling Module.
"^DIC",403.46,403.46,"%D",10,0)
 
"^DIC",403.46,403.46,"%D",11,0)
Sites are NOT allowed to edit this file's fields via FileMan, without 
"^DIC",403.46,403.46,"%D",12,0)
the direction of DHCP Customer Support.  Deleting, changing, or adding 
"^DIC",403.46,403.46,"%D",13,0)
entries to this file may result in faulty performance of the Primary 
"^DIC",403.46,403.46,"%D",14,0)
Care Management Software or other DHCP software that uses this file.
"^DIC",403.46,"B","STANDARD POSITION",403.46)

"^DIC",404.54,404.54,0)
PCMM PATIENT EVENTS^404.54
"^DIC",404.54,404.54,0,"GL")
^SCPT(404.54,
"^DIC",404.54,404.54,"%",0)
^1.005^^
"^DIC",404.54,404.54,"%D",0)
^^5^5^3140528^
"^DIC",404.54,404.54,"%D",1,0)
This file tracks patient events of interest to PCMM.
"^DIC",404.54,404.54,"%D",2,0)
 
"^DIC",404.54,404.54,"%D",3,0)
For patient death events, the file is updated by the DG FIELD MONITOR
"^DIC",404.54,404.54,"%D",4,0)
event driver executing the SCMC PCMM INACTIVATE ON DATE OF DEATH event
"^DIC",404.54,404.54,"%D",5,0)
protocol.
"^DIC",404.54,"B","PCMM PATIENT EVENTS",404.54)

**END**
**END**
