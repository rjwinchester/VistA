Released SD*5.3*624 SEQ #523
Extracted from mail message
**KIDS**:SD*5.3*624^

**INSTALL NAME**
SD*5.3*624
"BLD",9830,0)
SD*5.3*624^SCHEDULING^0^3150116^y
"BLD",9830,1,0)
^^1^1^3140918^
"BLD",9830,1,1,0)
SHUTDOWN OF HL7 FOR PCMM.
"BLD",9830,4,0)
^9.64PA^^
"BLD",9830,6.3)
19
"BLD",9830,"INI")
EN^SCMCHL7K
"BLD",9830,"INID")
^^y
"BLD",9830,"KRN",0)
^9.67PA^779.2^20
"BLD",9830,"KRN",.4,0)
.4
"BLD",9830,"KRN",.401,0)
.401
"BLD",9830,"KRN",.402,0)
.402
"BLD",9830,"KRN",.403,0)
.403
"BLD",9830,"KRN",.5,0)
.5
"BLD",9830,"KRN",.84,0)
.84
"BLD",9830,"KRN",3.6,0)
3.6
"BLD",9830,"KRN",3.8,0)
3.8
"BLD",9830,"KRN",9.2,0)
9.2
"BLD",9830,"KRN",9.8,0)
9.8
"BLD",9830,"KRN",9.8,"NM",0)
^9.68A^^
"BLD",9830,"KRN",19,0)
19
"BLD",9830,"KRN",19,"NM",0)
^9.68A^^
"BLD",9830,"KRN",19.1,0)
19.1
"BLD",9830,"KRN",101,0)
101
"BLD",9830,"KRN",409.61,0)
409.61
"BLD",9830,"KRN",771,0)
771
"BLD",9830,"KRN",779.2,0)
779.2
"BLD",9830,"KRN",870,0)
870
"BLD",9830,"KRN",870,"NM",0)
^9.68A^^
"BLD",9830,"KRN",8989.51,0)
8989.51
"BLD",9830,"KRN",8989.52,0)
8989.52
"BLD",9830,"KRN",8994,0)
8994
"BLD",9830,"KRN","B",.4,.4)

"BLD",9830,"KRN","B",.401,.401)

"BLD",9830,"KRN","B",.402,.402)

"BLD",9830,"KRN","B",.403,.403)

"BLD",9830,"KRN","B",.5,.5)

"BLD",9830,"KRN","B",.84,.84)

"BLD",9830,"KRN","B",3.6,3.6)

"BLD",9830,"KRN","B",3.8,3.8)

"BLD",9830,"KRN","B",9.2,9.2)

"BLD",9830,"KRN","B",9.8,9.8)

"BLD",9830,"KRN","B",19,19)

"BLD",9830,"KRN","B",19.1,19.1)

"BLD",9830,"KRN","B",101,101)

"BLD",9830,"KRN","B",409.61,409.61)

"BLD",9830,"KRN","B",771,771)

"BLD",9830,"KRN","B",779.2,779.2)

"BLD",9830,"KRN","B",870,870)

"BLD",9830,"KRN","B",8989.51,8989.51)

"BLD",9830,"KRN","B",8989.52,8989.52)

"BLD",9830,"KRN","B",8994,8994)

"BLD",9830,"QDEF")
^^^^^^^^YES
"BLD",9830,"QUES",0)
^9.62^^
"BLD",9830,"REQB",0)
^9.611^^
"INI")
EN^SCMCHL7K
"MBREQ")
0
"PKG",16,-1)
1^1
"PKG",16,0)
SCHEDULING^SD^APPOINTMENTS,PROFILES,LETTERS,AMIS REPORTS
"PKG",16,20,0)
^9.402P^^
"PKG",16,22,0)
^9.49I^1^1
"PKG",16,22,1,0)
5.3^2930813
"PKG",16,22,1,"PAH",1,0)
624^3150116^1223
"PKG",16,22,1,"PAH",1,1,0)
^^1^1^3150116
"PKG",16,22,1,"PAH",1,1,1,0)
SHUTDOWN OF HL7 FOR PCMM.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","SCMCHL7K")
0^^B7677628^n/a
"RTN","SCMCHL7K",1,0)
SCMCHL7K ;ALB/DJS - STOP PCMM HL7 TRANSMISSIONS;08/18/14
"RTN","SCMCHL7K",2,0)
 ;;5.3;Scheduling;**624**;AUG 13, 1993;Build 19
"RTN","SCMCHL7K",3,0)
 ;
"RTN","SCMCHL7K",4,0)
 ; #1157 [Supported] Kernel XPDMENU call
"RTN","SCMCHL7K",5,0)
 ; #2051 - Database Server API: Lookup Utilities (DIC)
"RTN","SCMCHL7K",6,0)
 ; #6121 - Remove Task from #19.2
"RTN","SCMCHL7K",7,0)
 ; SCOPT - Menu option to mark out-of-order
"RTN","SCMCHL7K",8,0)
 ; SCTXT - Out-of-order message text
"RTN","SCMCHL7K",9,0)
 ; PLAN - Turn off Logical Links, empty HL7 event file and HL7 error file,
"RTN","SCMCHL7K",10,0)
 ;        set all HL7 related options Out-Of-Order, set all HL7 Protocols
"RTN","SCMCHL7K",11,0)
 ;        Out-Of-Order.
"RTN","SCMCHL7K",12,0)
 Q
"RTN","SCMCHL7K",13,0)
EN ; Entry Point
"RTN","SCMCHL7K",14,0)
 ;
"RTN","SCMCHL7K",15,0)
 D LOGLNK,EMFILE,OPTOUT,DELETE
"RTN","SCMCHL7K",16,0)
 D BMES^XPDUTL("Patch Completed")
"RTN","SCMCHL7K",17,0)
 Q
"RTN","SCMCHL7K",18,0)
 ;
"RTN","SCMCHL7K",19,0)
LOGLNK ; This Routine will turn off Logical Links for PCMM.
"RTN","SCMCHL7K",20,0)
 N SCMCL,SCMCVAL,DA,DR
"RTN","SCMCHL7K",21,0)
 S SCMCL="1" F  S SCMCL=$O(^HLCS(870,SCMCL)) Q:SCMCL'>0  D
"RTN","SCMCHL7K",22,0)
 . I $P(^HLCS(870,SCMCL,0),U,1)="PCMM" D
"RTN","SCMCHL7K",23,0)
 .. N DIE S DIE="^HLCS(870,",DA=SCMCL,DR="4.5///0;14///1" D ^DIE
"RTN","SCMCHL7K",24,0)
 .. D BMES^XPDUTL("Logical Links for PCMM HL7 have been shut down and Autostart disabled.")
"RTN","SCMCHL7K",25,0)
 Q
"RTN","SCMCHL7K",26,0)
 ;
"RTN","SCMCHL7K",27,0)
EMFILE ;Empty HL7 Event File and Error File
"RTN","SCMCHL7K",28,0)
 ;
"RTN","SCMCHL7K",29,0)
 N SCMCN,SCMCL,SCMCVAL,SCMCZ,SCFN,DA
"RTN","SCMCHL7K",30,0)
 F SCMCN=1:1 S SCFN=$P($TEXT(FILELIST+SCMCN),";;",2) Q:SCFN="$$END"!(SCFN="")  D
"RTN","SCMCHL7K",31,0)
 . S ^XTMP("SD",$J,0)=$$FMADD^XLFDT(DT+90)_"^"_DT_"^copy of SCPT global deleted"
"RTN","SCMCHL7K",32,0)
 . M ^XTMP("SD",$J,"SCPT",SCFN)=^SCPT(SCFN)
"RTN","SCMCHL7K",33,0)
 . K ^SCPT(SCFN)
"RTN","SCMCHL7K",34,0)
 . S ^SCPT(SCFN,0)=^XTMP("SD",$J,"SCPT",SCFN,0)
"RTN","SCMCHL7K",35,0)
 . S SCMCZ=$P(^SCPT(SCFN,0),U,1,2)_"^0^0"
"RTN","SCMCHL7K",36,0)
 . S ^SCPT(SCFN,0)=SCMCZ
"RTN","SCMCHL7K",37,0)
 D BMES^XPDUTL("All PCMM HL7 related data files have been deleted.")
"RTN","SCMCHL7K",38,0)
 Q
"RTN","SCMCHL7K",39,0)
 ; 
"RTN","SCMCHL7K",40,0)
OPTOUT ;Set option out-of-order
"RTN","SCMCHL7K",41,0)
 N SCMCN,SCOPT,SCTXT
"RTN","SCMCHL7K",42,0)
 S SCTXT="This functionality is now accomplished by CDW/VSSC."
"RTN","SCMCHL7K",43,0)
 F SCMCN=1:1 S SCOPT=$P($TEXT(OPTLIST+SCMCN),";;",2) Q:SCOPT="$$END"!(SCOPT="")  D
"RTN","SCMCHL7K",44,0)
 . D OUT^XPDMENU(SCOPT,SCTXT)  ;Mark option out-of-order
"RTN","SCMCHL7K",45,0)
 D BMES^XPDUTL("Legacy PCMM options were marked Out-of-Order.")
"RTN","SCMCHL7K",46,0)
 Q
"RTN","SCMCHL7K",47,0)
 ;
"RTN","SCMCHL7K",48,0)
DELETE ;Delete Task
"RTN","SCMCHL7K",49,0)
 N SCTSK,SCOPT,DA,DIK
"RTN","SCMCHL7K",50,0)
 S SCTSK="SCMC PCMM HL7 TRANSMIT"
"RTN","SCMCHL7K",51,0)
 S SCOPT=$O(^DIC(19,"B",SCTSK,""))
"RTN","SCMCHL7K",52,0)
 S DA=""
"RTN","SCMCHL7K",53,0)
 F  S DA=$O(^DIC(19.2,"B",SCOPT,DA)) Q:'+DA  D
"RTN","SCMCHL7K",54,0)
 . S ^XTMP("SCTSK",$J,0)=$$FMADD^XLFDT(DT+90)_"^"_DT_"^copy of PCMM HL7 Task^"_DA
"RTN","SCMCHL7K",55,0)
 . M ^XTMP("SCTSK",$J,"DIC",19.2,DA)=^DIC(19.2,DA)
"RTN","SCMCHL7K",56,0)
 . S DIK="^DIC(19.2," D ^DIK
"RTN","SCMCHL7K",57,0)
 . D BMES^XPDUTL("Legacy task "_SCTSK_" Deleted.")
"RTN","SCMCHL7K",58,0)
 Q
"RTN","SCMCHL7K",59,0)
 ;
"RTN","SCMCHL7K",60,0)
OPTLIST ;OPTIONS LIST
"RTN","SCMCHL7K",61,0)
 ;;SCMC HL7 MENU
"RTN","SCMCHL7K",62,0)
 ;;SCMC PCMM ERR CODE REPORT
"RTN","SCMCHL7K",63,0)
 ;;SCMC PCMM HL7 TRANSMIT
"RTN","SCMCHL7K",64,0)
 ;;SCMC PCMM REJECT TRANS MENU
"RTN","SCMCHL7K",65,0)
 ;;SCMC PCMM TRANS ERROR PROC
"RTN","SCMCHL7K",66,0)
 ;;SCMC PCMM TRANS ERROR REPORT
"RTN","SCMCHL7K",67,0)
 ;;$$END
"RTN","SCMCHL7K",68,0)
 ;
"RTN","SCMCHL7K",69,0)
FILELIST ;LIST OF FILES TO EMPTY
"RTN","SCMCHL7K",70,0)
 ;;404.471
"RTN","SCMCHL7K",71,0)
 ;;404.48
"RTN","SCMCHL7K",72,0)
 ;;404.49
"RTN","SCMCHL7K",73,0)
 ;;$$END
"VER")
8.0^22.0
"BLD",9830,6)
^523
**END**
**END**

