Released GMRV*5*31 SEQ #26
Extracted from mail message
**KIDS**:GMRV*5.0*31^

**INSTALL NAME**
GMRV*5.0*31
"BLD",9687,0)
GMRV*5.0*31^GEN. MED. REC. - VITALS^0^3161114^y
"BLD",9687,1,0)
^^1^1^3160504^
"BLD",9687,1,1,0)
CHANGE LB TO KG CONVERSION FACTOR IN CUMULATIVE REPORT
"BLD",9687,4,0)
^9.64PA^^
"BLD",9687,6.3)
2
"BLD",9687,"KRN",0)
^9.67PA^779.2^20
"BLD",9687,"KRN",.4,0)
.4
"BLD",9687,"KRN",.401,0)
.401
"BLD",9687,"KRN",.402,0)
.402
"BLD",9687,"KRN",.403,0)
.403
"BLD",9687,"KRN",.5,0)
.5
"BLD",9687,"KRN",.84,0)
.84
"BLD",9687,"KRN",3.6,0)
3.6
"BLD",9687,"KRN",3.8,0)
3.8
"BLD",9687,"KRN",9.2,0)
9.2
"BLD",9687,"KRN",9.8,0)
9.8
"BLD",9687,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",9687,"KRN",9.8,"NM",1,0)
GMRVUTL^^0^B5421541
"BLD",9687,"KRN",9.8,"NM","B","GMRVUTL",1)

"BLD",9687,"KRN",19,0)
19
"BLD",9687,"KRN",19.1,0)
19.1
"BLD",9687,"KRN",101,0)
101
"BLD",9687,"KRN",409.61,0)
409.61
"BLD",9687,"KRN",771,0)
771
"BLD",9687,"KRN",779.2,0)
779.2
"BLD",9687,"KRN",870,0)
870
"BLD",9687,"KRN",8989.51,0)
8989.51
"BLD",9687,"KRN",8989.52,0)
8989.52
"BLD",9687,"KRN",8994,0)
8994
"BLD",9687,"KRN","B",.4,.4)

"BLD",9687,"KRN","B",.401,.401)

"BLD",9687,"KRN","B",.402,.402)

"BLD",9687,"KRN","B",.403,.403)

"BLD",9687,"KRN","B",.5,.5)

"BLD",9687,"KRN","B",.84,.84)

"BLD",9687,"KRN","B",3.6,3.6)

"BLD",9687,"KRN","B",3.8,3.8)

"BLD",9687,"KRN","B",9.2,9.2)

"BLD",9687,"KRN","B",9.8,9.8)

"BLD",9687,"KRN","B",19,19)

"BLD",9687,"KRN","B",19.1,19.1)

"BLD",9687,"KRN","B",101,101)

"BLD",9687,"KRN","B",409.61,409.61)

"BLD",9687,"KRN","B",771,771)

"BLD",9687,"KRN","B",779.2,779.2)

"BLD",9687,"KRN","B",870,870)

"BLD",9687,"KRN","B",8989.51,8989.51)

"BLD",9687,"KRN","B",8989.52,8989.52)

"BLD",9687,"KRN","B",8994,8994)

"BLD",9687,"QUES",0)
^9.62^^
"BLD",9687,"REQB",0)
^9.611^1^1
"BLD",9687,"REQB",1,0)
GMRV*5.0*23^1
"BLD",9687,"REQB","B","GMRV*5.0*23",1)

"MBREQ")
0
"PKG",44,-1)
1^1
"PKG",44,0)
GEN. MED. REC. - VITALS^GMRV^Vitals/Measurements Module of General Medical Record.
"PKG",44,20,0)
^9.402P^^
"PKG",44,22,0)
^9.49I^1^1
"PKG",44,22,1,0)
5.0^3021029
"PKG",44,22,1,"PAH",1,0)
31^3161114
"PKG",44,22,1,"PAH",1,1,0)
^^1^1^3161114
"PKG",44,22,1,"PAH",1,1,1,0)
CHANGE LB TO KG CONVERSION FACTOR IN CUMULATIVE REPORT
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","GMRVUTL")
0^1^B5421541^B4909510
"RTN","GMRVUTL",1,0)
GMRVUTL ;HIOFO/RM,MD,FT-CALLABLE ENTRY POINTS FOR PROGRAMMER UTILITIES ;5/8/07
"RTN","GMRVUTL",2,0)
 ;;5.0;GEN. MED. REC. - VITALS;**23,31**;Oct 31, 2002;Build 2
"RTN","GMRVUTL",3,0)
 ;
"RTN","GMRVUTL",4,0)
 ; This routine uses the following IAs:
"RTN","GMRVUTL",5,0)
 ;  #4290 - ^PXRMINDX global     (controlled)
"RTN","GMRVUTL",6,0)
 ; 05/02/2016 KAM GMRV*5*31 Rem Ticket 1004874 Vitals Measurement
"RTN","GMRVUTL",7,0)
 ; Remedy ticket closed and transferred to CA Ticket I9840386FY16
"RTN","GMRVUTL",8,0)
 ;
"RTN","GMRVUTL",9,0)
EN1 ; CALL TO CONVERT TEMPERATURE (F) IN VARIABLE X TO TEMPERATURE (C)
"RTN","GMRVUTL",10,0)
 ; IN VARIABLE Y
"RTN","GMRVUTL",11,0)
 S Y=$J(X-32*5/9,0,1)
"RTN","GMRVUTL",12,0)
 Q
"RTN","GMRVUTL",13,0)
EN2 ; CALL TO CONVERT AN INCHES MEASUREMENT IN X TO A CENTIMETER 
"RTN","GMRVUTL",14,0)
 ; MEASUREMENT IN Y
"RTN","GMRVUTL",15,0)
 S Y=$J(2.54*X,0,2)
"RTN","GMRVUTL",16,0)
 Q
"RTN","GMRVUTL",17,0)
EN3 ; CALL TO CONVERT A WEIGHT (LBS) IN VARIABLE X TO A WEIGHT (KG)
"RTN","GMRVUTL",18,0)
 ; IN VARIABLE Y
"RTN","GMRVUTL",19,0)
 ;
"RTN","GMRVUTL",20,0)
 ; 05/02/2016 KAM GMRV*5*31 Rem Ticket 1004874 Changed next line
"RTN","GMRVUTL",21,0)
 ;                          lbs to kgs conversion factor
"RTN","GMRVUTL",22,0)
 ; Remedy ticket closed and transferred to CA Ticket I9840386FY16
"RTN","GMRVUTL",23,0)
 ;
"RTN","GMRVUTL",24,0)
 ;S Y=$J(X/2.2,0,2)
"RTN","GMRVUTL",25,0)
 S Y=$J(X/2.20462262,0,2)
"RTN","GMRVUTL",26,0)
 Q
"RTN","GMRVUTL",27,0)
 ;EN4 ; CALL TO RETURN PATIENT'S LATEST WEIGHT READING
"RTN","GMRVUTL",28,0)
 ; PATIENT DEFINED BY DFN, WEIGHT RETURNED IN X
"RTN","GMRVUTL",29,0)
 ;Q:'$D(DFN)  S X="",GMRVIT=$O(^GMRD(120.51,"B","WEIGHT",0)) I GMRVIT'>0 K GMRVIT Q
"RTN","GMRVUTL",30,0)
 ;F GMRX=0:0 S GMRX=$O(^GMR(120.5,"AA",DFN,GMRVIT,GMRX)) Q:GMRX'>0!(X'="")  F GMRY=0:0 S GMRY=$O(^GMR(120.5,"AA",DFN,GMRVIT,GMRX,GMRY)) Q:GMRY'>0  D
"RTN","GMRVUTL",31,0)
 ;. I $S('$D(^GMR(120.5,GMRY,2)):1,$P(^(2),"^")="":1,1:0) S X=$S($D(^(0))&($P(^(0),"^",8)>0):$P(^(0),"^",8),1:"")
"RTN","GMRVUTL",32,0)
 ;K GMRVIT,GMRX,GMRY,GMRZ
"RTN","GMRVUTL",33,0)
 ;Q
"RTN","GMRVUTL",34,0)
 ;Q
"RTN","GMRVUTL",35,0)
EN6 ; ENTRY TO GET LATEST PATIENT VITAL/MEASUREMENT DATA <IA 1120 - SUPPORTED>
"RTN","GMRVUTL",36,0)
 ; INPUT VARIABLES:
"RTN","GMRVUTL",37,0)
 ;    DFN = Patient IEN  (REQUIRED)
"RTN","GMRVUTL",38,0)
 ;    GMRVSTR = Abbreviation of vital type in Vital Type (120.51) file.
"RTN","GMRVUTL",39,0)
 ;              (REQUIRED)
"RTN","GMRVUTL",40,0)
 ; OUTPUT VARIABLES:
"RTN","GMRVUTL",41,0)
 ;    X = ^GMR(120.5,IEN,0) where IEN is entry number of latest V/M.
"RTN","GMRVUTL",42,0)
 ;    X Global contains qualifiers, for example
"RTN","GMRVUTL",43,0)
 ;      X(1)=R ARM, X(2)=LYING for BP
"RTN","GMRVUTL",44,0)
 ; GMRVSTR will be killed.
"RTN","GMRVUTL",45,0)
 S X="" I '$D(DFN)!'$D(GMRVSTR) Q
"RTN","GMRVUTL",46,0)
 S GMRVSTR("TDA")=$O(^GMRD(120.51,"C",GMRVSTR,0))
"RTN","GMRVUTL",47,0)
 G Q6:GMRVSTR("TDA")'>0
"RTN","GMRVUTL",48,0)
 S GMRVSTR("R")=9999999
"RTN","GMRVUTL",49,0)
 F  S GMRVSTR("R")=$O(^PXRMINDX(120.5,"PI",DFN,GMRVSTR("TDA"),GMRVSTR("R")),-1) Q:GMRVSTR("R")'>0!(X'="")  D C6
"RTN","GMRVUTL",50,0)
Q6 K GMRVSTR
"RTN","GMRVUTL",51,0)
 Q
"RTN","GMRVUTL",52,0)
C6 ;
"RTN","GMRVUTL",53,0)
 N GMVCNT,GMVLOOP,GMVQIEN,GMVTEMP
"RTN","GMRVUTL",54,0)
 F GMRVSTR("IEN")=0:0 S GMRVSTR("IEN")=$O(^PXRMINDX(120.5,"PI",DFN,GMRVSTR("TDA"),GMRVSTR("R"),GMRVSTR("IEN"))) Q:$L(GMRVSTR("IEN"))'>0!(X'="")  D
"RTN","GMRVUTL",55,0)
 .I GMRVSTR("IEN")=+GMRVSTR("IEN") D
"RTN","GMRVUTL",56,0)
 ..D F1205^GMVUTL(.GMVTEMP,+GMRVSTR("IEN"),0)
"RTN","GMRVUTL",57,0)
 ..S X=$G(GMVTEMP(0)),GMVTEMP(5)=$G(GMVTEMP(5))
"RTN","GMRVUTL",58,0)
 ..Q
"RTN","GMRVUTL",59,0)
 .I GMRVSTR("IEN")'=+GMRVSTR("IEN") D 
"RTN","GMRVUTL",60,0)
 ..D CLIO^GMVUTL(.GMVTEMP,GMRVSTR("IEN"))
"RTN","GMRVUTL",61,0)
 ..I '$D(GMVTEMP(0)) Q
"RTN","GMRVUTL",62,0)
 ..S X=GMVTEMP(0),GMVTEMP(5)=$G(GMVTEMP(5))
"RTN","GMRVUTL",63,0)
 ..Q
"RTN","GMRVUTL",64,0)
 .Q
"RTN","GMRVUTL",65,0)
 I X="" Q
"RTN","GMRVUTL",66,0)
 I "REFUSEDPASSUNAVAILABLE"[$$UP^XLFSTR($P(X,U,8)) S X="" Q
"RTN","GMRVUTL",67,0)
 S GMVCNT=0
"RTN","GMRVUTL",68,0)
 F GMVLOOP=1:1 Q:$P(GMVTEMP(5),U,GMVLOOP)=""  D
"RTN","GMRVUTL",69,0)
 .S GMVQIEN=$P(GMVTEMP(5),U,GMVLOOP)
"RTN","GMRVUTL",70,0)
 .I GMVQIEN>0 D
"RTN","GMRVUTL",71,0)
 ..S GMVCNT=GMVCNT+1
"RTN","GMRVUTL",72,0)
 ..S X(GMVCNT)=$G(^GMRD(120.52,+GMVQIEN,0))
"RTN","GMRVUTL",73,0)
 ..Q
"RTN","GMRVUTL",74,0)
 .Q
"RTN","GMRVUTL",75,0)
 Q
"VER")
8.0^22.0
"BLD",9687,6)
^26
**END**
**END**

