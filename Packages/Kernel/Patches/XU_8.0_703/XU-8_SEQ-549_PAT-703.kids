Released XU*8*703 SEQ #549
Extracted from mail message
**KIDS**:XU*8.0*703^

**INSTALL NAME**
XU*8.0*703
"BLD",10793,0)
XU*8.0*703^KERNEL^0^3190103^y
"BLD",10793,1,0)
^^4^4^3181220^
"BLD",10793,1,1,0)
Patch XU*8.0*703 corrects issues found in patch XU*8.0*679 and 
"BLD",10793,1,2,0)
reported in tickets INC2380289 and INC2422028. The input transform for 
"BLD",10793,1,3,0)
the NEW PERSON file (#200) DEGREE field (10.6) and the NAME COMPONENT 
"BLD",10793,1,4,0)
file (#20) DEGREE field (6) were modified and routine XUSESIG3.
"BLD",10793,4,0)
^9.64PA^20^2
"BLD",10793,4,20,0)
20
"BLD",10793,4,20,2,0)
^9.641^20^1
"BLD",10793,4,20,2,20,0)
NAME COMPONENTS  (File-top level)
"BLD",10793,4,20,2,20,1,0)
^9.6411^6^1
"BLD",10793,4,20,2,20,1,6,0)
DEGREE
"BLD",10793,4,20,222)
y^n^p^^^^n^^n
"BLD",10793,4,20,224)

"BLD",10793,4,200,0)
200
"BLD",10793,4,200,2,0)
^9.641^200^1
"BLD",10793,4,200,2,200,0)
NEW PERSON  (File-top level)
"BLD",10793,4,200,2,200,1,0)
^9.6411^10.6^1
"BLD",10793,4,200,2,200,1,10.6,0)
DEGREE
"BLD",10793,4,200,222)
y^n^p^^^^n^^n
"BLD",10793,4,200,224)

"BLD",10793,4,"APDD",20,20)

"BLD",10793,4,"APDD",20,20,6)

"BLD",10793,4,"APDD",200,200)

"BLD",10793,4,"APDD",200,200,10.6)

"BLD",10793,4,"B",20,20)

"BLD",10793,4,"B",200,200)

"BLD",10793,6)
^367
"BLD",10793,6.3)
35
"BLD",10793,"ABPKG")
n
"BLD",10793,"INI")

"BLD",10793,"INID")
^^
"BLD",10793,"KRN",0)
^9.67PA^779.2^20
"BLD",10793,"KRN",.4,0)
.4
"BLD",10793,"KRN",.4,"NM",0)
^9.68A^^
"BLD",10793,"KRN",.401,0)
.401
"BLD",10793,"KRN",.402,0)
.402
"BLD",10793,"KRN",.403,0)
.403
"BLD",10793,"KRN",.5,0)
.5
"BLD",10793,"KRN",.84,0)
.84
"BLD",10793,"KRN",3.6,0)
3.6
"BLD",10793,"KRN",3.8,0)
3.8
"BLD",10793,"KRN",9.2,0)
9.2
"BLD",10793,"KRN",9.8,0)
9.8
"BLD",10793,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",10793,"KRN",9.8,"NM",1,0)
XUSESIG3^^0^B7661999
"BLD",10793,"KRN",9.8,"NM","B","XUSESIG3",1)

"BLD",10793,"KRN",19,0)
19
"BLD",10793,"KRN",19,"NM",0)
^9.68A^^0
"BLD",10793,"KRN",19.1,0)
19.1
"BLD",10793,"KRN",19.1,"NM",0)
^9.68A^^0
"BLD",10793,"KRN",101,0)
101
"BLD",10793,"KRN",409.61,0)
409.61
"BLD",10793,"KRN",771,0)
771
"BLD",10793,"KRN",779.2,0)
779.2
"BLD",10793,"KRN",870,0)
870
"BLD",10793,"KRN",8989.51,0)
8989.51
"BLD",10793,"KRN",8989.51,"NM",0)
^9.68A^^0
"BLD",10793,"KRN",8989.52,0)
8989.52
"BLD",10793,"KRN",8994,0)
8994
"BLD",10793,"KRN","B",.4,.4)

"BLD",10793,"KRN","B",.401,.401)

"BLD",10793,"KRN","B",.402,.402)

"BLD",10793,"KRN","B",.403,.403)

"BLD",10793,"KRN","B",.5,.5)

"BLD",10793,"KRN","B",.84,.84)

"BLD",10793,"KRN","B",3.6,3.6)

"BLD",10793,"KRN","B",3.8,3.8)

"BLD",10793,"KRN","B",9.2,9.2)

"BLD",10793,"KRN","B",9.8,9.8)

"BLD",10793,"KRN","B",19,19)

"BLD",10793,"KRN","B",19.1,19.1)

"BLD",10793,"KRN","B",101,101)

"BLD",10793,"KRN","B",409.61,409.61)

"BLD",10793,"KRN","B",771,771)

"BLD",10793,"KRN","B",779.2,779.2)

"BLD",10793,"KRN","B",870,870)

"BLD",10793,"KRN","B",8989.51,8989.51)

"BLD",10793,"KRN","B",8989.52,8989.52)

"BLD",10793,"KRN","B",8994,8994)

"BLD",10793,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",10793,"QUES",0)
^9.62^^
"BLD",10793,"REQB",0)
^9.611^1^1
"BLD",10793,"REQB",1,0)
XU*8.0*679^1
"BLD",10793,"REQB","B","XU*8.0*679",1)

"FIA",20)
NAME COMPONENTS
"FIA",20,0)
^VA(20,
"FIA",20,0,0)
20IA
"FIA",20,0,1)
y^n^p^^^^n^^n
"FIA",20,0,10)

"FIA",20,0,11)

"FIA",20,0,"RLRO")

"FIA",20,0,"VR")
8.0^XU
"FIA",20,20)
1
"FIA",20,20,6)

"FIA",200)
NEW PERSON
"FIA",200,0)
^VA(200,
"FIA",200,0,0)
200Is
"FIA",200,0,1)
y^n^p^^^^n^^n
"FIA",200,0,10)

"FIA",200,0,11)

"FIA",200,0,"RLRO")

"FIA",200,0,"VR")
8.0^XU
"FIA",200,200)
1
"FIA",200,200,10.6)

"IX",20,20,"ADEG",0)
20^ADEG^Update the DEGREE field in the New Person file, if necessary.^MU^^R^IR^I^20^^^^^A
"IX",20,20,"ADEG",.1,0)
^^4^4^3000105^^
"IX",20,20,"ADEG",.1,1,0)
If this entry in the Name Components file corresponds to an entry in the
"IX",20,20,"ADEG",.1,2,0)
New Person file, this MUMPS cross-reference updates the DEGREE field in
"IX",20,20,"ADEG",.1,3,0)
the New Person file when the DEGREE field in the Name Components file is
"IX",20,20,"ADEG",.1,4,0)
changed, to ensure that the two fields are in synch.
"IX",20,20,"ADEG",1)
I '$G(XUNODEGT),X(1)=200,X(2)=.01,X2(4)]"" N XUNODEGT,DIERR,FDA,MSG S XUNODEGT=1,FDA(200,X(3),10.6)=X(4) D FILE^DIE("","FDA","MSG")
"IX",20,20,"ADEG",2)
I '$G(XUNODEGT),X(1)=200,X(2)=.01,X2(4)="" N XUNODEGT,DIERR,FDA,MSG S XUNODEGT=1,FDA(200,X(3),10.6)="@" D FILE^DIE("","FDA","MSG")
"IX",20,20,"ADEG",11.1,0)
^.114IA^4^4
"IX",20,20,"ADEG",11.1,1,0)
1^F^20^.01^^^F
"IX",20,20,"ADEG",11.1,2,0)
2^F^20^.02^^^F
"IX",20,20,"ADEG",11.1,3,0)
3^F^20^.03^^^F
"IX",20,20,"ADEG",11.1,4,0)
4^F^20^6^^^F
"IX",200,200,"ADEG",0)
200^ADEG^Update the DEGREE field in the Name Components file.^MU^^F^IR^I^200^^^^^A
"IX",200,200,"ADEG",.1,0)
^^2^2^3000105^^
"IX",200,200,"ADEG",.1,1,0)
This cross-reference keeps the DEGREE field in the New Person file in
"IX",200,200,"ADEG",.1,2,0)
synch with the DEGREE field in the Name Components file.
"IX",200,200,"ADEG",1)
I '$G(XUNODEGT),X2(1)]"" N XUNODEGT,XUPVAL,DIERR,XUFDA,XUMSG S XUPVAL=$P($G(^VA(200,DA,3.1)),U) I XUPVAL S XUNODEGT=1,XUFDA(20,XUPVAL_",",6)=X D FILE^DIE("","XUFDA","XUMSG")
"IX",200,200,"ADEG",2)
I '$G(XUNODEGT),X2(1)="" N XUNODEGT,XUPVAL,DIERR,XUFDA,XUMSG S XUPVAL=$P($G(^VA(200,DA,3.1)),U) I XUPVAL S XUNODEGT=1,XUFDA(20,XUPVAL_",",6)="@" D FILE^DIE("","XUFDA","XUMSG")
"IX",200,200,"ADEG",11.1,0)
^.114IA^1^1
"IX",200,200,"ADEG",11.1,1,0)
1^F^200^10.6^^1^F
"MBREQ")
0
"PKG",173,-1)
1^1
"PKG",173,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^
"PKG",173,22,0)
^9.49I^1^1
"PKG",173,22,1,0)
8.0^2950703^2951015^1
"PKG",173,22,1,"PAH",1,0)
703^3190103
"PKG",173,22,1,"PAH",1,1,0)
^^4^4^3190103
"PKG",173,22,1,"PAH",1,1,1,0)
Patch XU*8.0*703 corrects issues found in patch XU*8.0*679 and 
"PKG",173,22,1,"PAH",1,1,2,0)
reported in tickets INC2380289 and INC2422028. The input transform for 
"PKG",173,22,1,"PAH",1,1,3,0)
the NEW PERSON file (#200) DEGREE field (10.6) and the NAME COMPONENT 
"PKG",173,22,1,"PAH",1,1,4,0)
file (#20) DEGREE field (6) were modified and routine XUSESIG3.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","XUSESIG3")
0^1^B7661999^B5931967
"RTN","XUSESIG3",1,0)
XUSESIG3 ;EPIP/WLC - ROUTINE TO ENTER OR CHNAGE ELECTRONIC SIGNATURE REVISED; 10 Feb 2017  11:15 AM ; 21 Feb 2017  8:31 AM
"RTN","XUSESIG3",2,0)
 ;;8.0;KERNEL;**679,703**;02/02/17;Build 35
"RTN","XUSESIG3",3,0)
 Q
"RTN","XUSESIG3",4,0)
PNM ; Signature Block Printed Name & Title edit
"RTN","XUSESIG3",5,0)
 ;S DIC="^VA(200,",DIC(0)="AEMQ",DIC("A")="Enter Employee to edit:  "
"RTN","XUSESIG3",6,0)
 ;D ^DIC Q:Y<1
"RTN","XUSESIG3",7,0)
 ;S DA=+Y
"RTN","XUSESIG3",8,0)
 N DIE S DIE=200,DR="20.2;20.3" D ^DIE
"RTN","XUSESIG3",9,0)
 Q
"RTN","XUSESIG3",10,0)
 ;
"RTN","XUSESIG3",11,0)
DEG ; Old method
"RTN","XUSESIG3",12,0)
 N DIE
"RTN","XUSESIG3",13,0)
 S DIE=200,DR="10.6" D ^DIE
"RTN","XUSESIG3",14,0)
 Q
"RTN","XUSESIG3",15,0)
 ;
"RTN","XUSESIG3",16,0)
DEGREE ; test input for DEGREE field
"RTN","XUSESIG3",17,0)
 N DEF,DIR,X,Y,I,FLAG
"RTN","XUSESIG3",18,0)
 S FLAG=0,DEF=$$GET1^DIQ(200,DA,10.6)
"RTN","XUSESIG3",19,0)
 F I=1:1 D  Q:FLAG
"RTN","XUSESIG3",20,0)
 . W !!,$$GET1^DIQ(200,DA,.01),!
"RTN","XUSESIG3",21,0)
 . W !,"Current entry for DEGREE is:  ",DEF
"RTN","XUSESIG3",22,0)
 . W !! S DIR("A")="(A)ppend/Enter or (R)eplace " S DIR(0)="F:O^1:1^I ""AaRr""'[X K X"
"RTN","XUSESIG3",23,0)
 . S DIR("?",1)="Enter ""A"" to create a new entry or to append an additional"
"RTN","XUSESIG3",24,0)
 . S DIR("?",2)="degree to the existing string. Enter ""R"" to start over and"
"RTN","XUSESIG3",25,0)
 . S DIR("?",3)="replace the entire contents of degree with a new value"
"RTN","XUSESIG3",26,0)
 . S DIR("?")="or ""R"" with no value to delete the contents of DEGREE."
"RTN","XUSESIG3",27,0)
 . D ^DIR
"RTN","XUSESIG3",28,0)
 . I $D(DIRUT) S FLAG=1 Q
"RTN","XUSESIG3",29,0)
 . I Y="R"!(Y="r") D
"RTN","XUSESIG3",30,0)
 . . S FDA(200,DA_",",10.6)="" D FILE^DIE("","FDA",) K DIR("B") S DEF=""
"RTN","XUSESIG3",31,0)
 . S DIR(0)="PO^20.11:EMOZ",DIR("A")="Enter degree mnemonic ",DIR("?")="Enter the type of degree using a mnemonic/acronym."
"RTN","XUSESIG3",32,0)
 . D ^DIR
"RTN","XUSESIG3",33,0)
 . I $D(DIRUT) S FLAG=1 Q
"RTN","XUSESIG3",34,0)
 . S DELIM=" " S:$G(DEF)="" DELIM=""
"RTN","XUSESIG3",35,0)
 . S DEF=DEF_DELIM_$P(^DIC(20.11,+Y,0),U,3)
"RTN","XUSESIG3",36,0)
 . I $L(DEF)>10 S DEF=$$GET1^DIQ(200,DA_",",10.6) W !,"*****  Entry too long.  Try Again. *****",!,"Entry must be less than ten (10) characters." Q
"RTN","XUSESIG3",37,0)
 . I $$COMP(DEF) S DEF=$$GET1^DIQ(200,DA_",",10.6) W !,"*****  Entry contains duplicates.  Try Again. *****",!
"RTN","XUSESIG3",38,0)
 . N FDA,FDAERR S FDA(200,DA_",",10.6)=DEF D FILE^DIE("","FDA","FDAERR")
"RTN","XUSESIG3",39,0)
 . I '$D(FDAERR) Q
"RTN","XUSESIG3",40,0)
 . I $D(FDAERR) W !,"Error in filing data.  Please try again." Q
"RTN","XUSESIG3",41,0)
 Q
"RTN","XUSESIG3",42,0)
 ;
"RTN","XUSESIG3",43,0)
COMP(X) ;
"RTN","XUSESIG3",44,0)
 ; Compares input string to determine if it contains dups
"RTN","XUSESIG3",45,0)
 N FLAG,CNT,CNT1,CNT2,T1 S FLAG=0
"RTN","XUSESIG3",46,0)
 S CNT=$L(X," ")
"RTN","XUSESIG3",47,0)
 I CNT=1 Q FLAG
"RTN","XUSESIG3",48,0)
 F CNT1=1:1:CNT-1 Q:'$D(X)  S T1=$P(X," ",CNT1) F CNT2=CNT1+1:1:CNT I T1=$P(X," ",CNT2) S FLAG=1
"RTN","XUSESIG3",49,0)
 Q FLAG
"RTN","XUSESIG3",50,0)
 ;
"RTN","XUSESIG3",51,0)
PATM(X) ;
"RTN","XUSESIG3",52,0)
 N FLAG S FLAG=0
"RTN","XUSESIG3",53,0)
 I X'?1.10U.4(1" "1.4U) S FLAG=1
"RTN","XUSESIG3",54,0)
 Q FLAG
"RTN","XUSESIG3",55,0)
 ;
"VER")
8.0^22.2
"^DD",20,20,6,0)
DEGREE^FXJ10^^1;6^ K:$L(X)>10!($L(X)<1)!($$PATM^XUSESIG3(X))!($$COMP^XUSESIG3(X)) X  I $G(X)'="" N I,Z S Z=X F I=1:1:$L(Z," ") I '$D(^DIC(20.11,"C",$P(Z," ",I))) K X
"^DD",20,20,6,3)
Answer must be valid code/s from the EDUCATION (#20.11) file. The field can contain multiple degree codes delimited by single blank space up to the 10 character length.  No leading or trailing spaces.
"^DD",20,20,6,21,0)
^^6^6^3181220^
"^DD",20,20,6,21,1,0)
This field holds any academic or professional degree that have been 
"^DD",20,20,6,21,2,0)
earned by the user. This would be things like BS, BA, MD, and PHD. Each 
"^DD",20,20,6,21,3,0)
degree must be a valid code from the EDUCATION (#20.11) file. The field 
"^DD",20,20,6,21,4,0)
can contain multiple degrees delimited by a single blank space up to the
"^DD",20,20,6,21,5,0)
10 character field length. This would be like PHD MD or BA CNA etc. No 
"^DD",20,20,6,21,6,0)
leading or trailing spaces.
"^DD",20,20,6,"DT")
3181220
"^DD",200,200,10.6,0)
DEGREE^FJ10X^^3.1;6^K:$L(X)>10!($L(X)<1)!($$PATM^XUSESIG3(X))!($$COMP^XUSESIG3(X)) X  I $G(X)'="" N I,Z S Z=X F I=1:1:$L(Z," ") I '$D(^DIC(20.11,"C",$P(Z," ",I))) K X
"^DD",200,200,10.6,1,0)
^.1^^0
"^DD",200,200,10.6,3)
Answer must be valid code/s from the EDUCATION (#20.11) file. The field can contain multiple degree codes delimited by single blank spaces up to the 10 character length. No leading or trailing spaces.
"^DD",200,200,10.6,4)

"^DD",200,200,10.6,21,0)
^^5^5^3181220^
"^DD",200,200,10.6,21,1,0)
This field holds any academic or professional degree that have been earned
"^DD",200,200,10.6,21,2,0)
by the user. This would be things like BS, BA, MD, and PHD. The field can 
"^DD",200,200,10.6,21,3,0)
contain multiple degrees delimited by a single blank space up to the 10
"^DD",200,200,10.6,21,4,0)
character field length. This would be like PHD MD or BA CNA etc. No 
"^DD",200,200,10.6,21,5,0)
leading or trailing spaces.
"^DD",200,200,10.6,"DT")
3181220
"BLD",10793,6)
^549
**END**
**END**

