Released XU*8*671 SEQ #534
Extracted from mail message
**KIDS**:XU*8.0*671^

**INSTALL NAME**
XU*8.0*671
"BLD",9919,0)
XU*8.0*671^KERNEL^0^3171019^y
"BLD",9919,1,0)
^^1^1^3170728^^
"BLD",9919,1,1,0)
Please see FORUM for full patch description and installation instructions.
"BLD",9919,4,0)
^9.64PA^8932.1^1
"BLD",9919,4,8932.1,0)
8932.1
"BLD",9919,4,8932.1,222)
y^y^f^^^^n^^n
"BLD",9919,4,8932.1,224)

"BLD",9919,4,"B",8932.1,8932.1)

"BLD",9919,6.3)
16
"BLD",9919,"ABPKG")
n
"BLD",9919,"INID")
^n
"BLD",9919,"INIT")
XU671PO
"BLD",9919,"KRN",0)
^9.67PA^779.2^20
"BLD",9919,"KRN",.4,0)
.4
"BLD",9919,"KRN",.4,"NM",0)
^9.68A^^
"BLD",9919,"KRN",.401,0)
.401
"BLD",9919,"KRN",.402,0)
.402
"BLD",9919,"KRN",.403,0)
.403
"BLD",9919,"KRN",.5,0)
.5
"BLD",9919,"KRN",.84,0)
.84
"BLD",9919,"KRN",3.6,0)
3.6
"BLD",9919,"KRN",3.8,0)
3.8
"BLD",9919,"KRN",9.2,0)
9.2
"BLD",9919,"KRN",9.8,0)
9.8
"BLD",9919,"KRN",9.8,"NM",0)
^9.68A^4^3
"BLD",9919,"KRN",9.8,"NM",2,0)
XUPC991^^0^B3537010
"BLD",9919,"KRN",9.8,"NM",3,0)
XU671PO^^0^B85035735
"BLD",9919,"KRN",9.8,"NM",4,0)
XUPCZRT^^0^B43372715
"BLD",9919,"KRN",9.8,"NM","B","XU671PO",3)

"BLD",9919,"KRN",9.8,"NM","B","XUPC991",2)

"BLD",9919,"KRN",9.8,"NM","B","XUPCZRT",4)

"BLD",9919,"KRN",19,0)
19
"BLD",9919,"KRN",19.1,0)
19.1
"BLD",9919,"KRN",101,0)
101
"BLD",9919,"KRN",409.61,0)
409.61
"BLD",9919,"KRN",771,0)
771
"BLD",9919,"KRN",779.2,0)
779.2
"BLD",9919,"KRN",870,0)
870
"BLD",9919,"KRN",8989.51,0)
8989.51
"BLD",9919,"KRN",8989.52,0)
8989.52
"BLD",9919,"KRN",8994,0)
8994
"BLD",9919,"KRN","B",.4,.4)

"BLD",9919,"KRN","B",.401,.401)

"BLD",9919,"KRN","B",.402,.402)

"BLD",9919,"KRN","B",.403,.403)

"BLD",9919,"KRN","B",.5,.5)

"BLD",9919,"KRN","B",.84,.84)

"BLD",9919,"KRN","B",3.6,3.6)

"BLD",9919,"KRN","B",3.8,3.8)

"BLD",9919,"KRN","B",9.2,9.2)

"BLD",9919,"KRN","B",9.8,9.8)

"BLD",9919,"KRN","B",19,19)

"BLD",9919,"KRN","B",19.1,19.1)

"BLD",9919,"KRN","B",101,101)

"BLD",9919,"KRN","B",409.61,409.61)

"BLD",9919,"KRN","B",771,771)

"BLD",9919,"KRN","B",779.2,779.2)

"BLD",9919,"KRN","B",870,870)

"BLD",9919,"KRN","B",8989.51,8989.51)

"BLD",9919,"KRN","B",8989.52,8989.52)

"BLD",9919,"KRN","B",8994,8994)

"BLD",9919,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",9919,"QUES",0)
^9.62^^
"BLD",9919,"REQB",0)
^9.611^2^2
"BLD",9919,"REQB",1,0)
XU*8.0*677^1
"BLD",9919,"REQB",2,0)
HDI*1.0*18^1
"BLD",9919,"REQB","B","HDI*1.0*18",2)

"BLD",9919,"REQB","B","XU*8.0*677",1)

"FIA",8932.1)
PERSON CLASS
"FIA",8932.1,0)
^USC(8932.1,
"FIA",8932.1,0,0)
8932.1OIs
"FIA",8932.1,0,1)
y^y^f^^^^n^^n
"FIA",8932.1,0,10)

"FIA",8932.1,0,11)

"FIA",8932.1,0,"RLRO")

"FIA",8932.1,0,"VR")
8.0^XU
"FIA",8932.1,8932.1)
0
"FIA",8932.1,8932.111)
0
"FIA",8932.1,8932.199)
0
"INIT")
XU671PO
"IX",8932.1,8932.1,"AMASTERVUID",0)
8932.1^AMASTERVUID^This cross-reference identifies the Master entry for a VUID.^R^^R^IR^I^8932.1^^^^^S
"IX",8932.1,8932.1,"AMASTERVUID",.1,0)
^^3^3^3170322^
"IX",8932.1,8932.1,"AMASTERVUID",.1,1,0)
If multiple entries have the same VUID in the file, this cross-reference 
"IX",8932.1,8932.1,"AMASTERVUID",.1,2,0)
can be used to identify the Master entry for a VUID associated with a 
"IX",8932.1,8932.1,"AMASTERVUID",.1,3,0)
Term/Concept.
"IX",8932.1,8932.1,"AMASTERVUID",1)
S ^USC(8932.1,"AMASTERVUID",$E(X(1),1,30),X(2),DA)=""
"IX",8932.1,8932.1,"AMASTERVUID",2)
K ^USC(8932.1,"AMASTERVUID",$E(X(1),1,30),X(2),DA)
"IX",8932.1,8932.1,"AMASTERVUID",2.5)
K ^USC(8932.1,"AMASTERVUID")
"IX",8932.1,8932.1,"AMASTERVUID",11.1,0)
^.114IA^2^2
"IX",8932.1,8932.1,"AMASTERVUID",11.1,1,0)
1^F^8932.1^99.99^30^1^F
"IX",8932.1,8932.1,"AMASTERVUID",11.1,2,0)
2^F^8932.1^99.98^^2^F
"IX",8932.1,8932.199,"AVSTATUS",0)
8932.199^AVSTATUS^Update existing STATUS (#3) with TERMSTATUS status.^MU^^F^^I^8932.199^^^^^A
"IX",8932.1,8932.199,"AVSTATUS",.1,0)
^^2^2^3161223^
"IX",8932.1,8932.199,"AVSTATUS",.1,1,0)
This Cross Reference is to keep the existing field STATUS (#3) in sync
"IX",8932.1,8932.199,"AVSTATUS",.1,2,0)
with the Vuid TERMSTATUS status (8932.199,.02).
"IX",8932.1,8932.199,"AVSTATUS",1)
D SET^XUPC991(DA,$G(DA(1)))
"IX",8932.1,8932.199,"AVSTATUS",2)
Q
"IX",8932.1,8932.199,"AVSTATUS",11.1,0)
^.114IA^1^1
"IX",8932.1,8932.199,"AVSTATUS",11.1,1,0)
1^F^8932.199^.02^^^F
"MBREQ")
0
"PKG",173,-1)
1^1
"PKG",173,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^
"PKG",173,20,0)
^9.402P^2^2
"PKG",173,20,1,0)
200^^XDRM200N
"PKG",173,20,1,1)

"PKG",173,20,2,0)
2^^RGDRM03
"PKG",173,20,2,1)

"PKG",173,20,"B",2,2)

"PKG",173,20,"B",200,1)

"PKG",173,22,0)
^9.49I^1^1
"PKG",173,22,1,0)
8.0^2950703^2951015^1
"PKG",173,22,1,"PAH",1,0)
671^3171019
"PKG",173,22,1,"PAH",1,1,0)
^^1^1^3171019
"PKG",173,22,1,"PAH",1,1,1,0)
Please see FORUM for full patch description and installation instructions.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
3
"RTN","XU671PO")
0^3^B85035735^n/a
"RTN","XU671PO",1,0)
XU671PO ;BPFO/CLT - PATCH XU*8.0*671 POST INSTALL ; 31 Aug 2016  11:24 AM
"RTN","XU671PO",2,0)
 ;;8.0;KERNEL;**671**;JUL 03, 1995;Build 16
"RTN","XU671PO",3,0)
 ;
"RTN","XU671PO",4,0)
 ; This routine uses the following IAs:
"RTN","XU671PO",5,0)
 ; #4640 - ^HDISVF01 calls (supported)
"RTN","XU671PO",6,0)
 ; #4639 - ^HDISVCMR calls     (supported)
"RTN","XU671PO",7,0)
 ; #4651 - ^HDISVF09 calls     (supported)
"RTN","XU671PO",8,0)
 ;
"RTN","XU671PO",9,0)
HDIS ;
"RTN","XU671PO",10,0)
 N DIC,DA,PXVTMP,HDISP,DOMAIN,FIL,XPROD,XMSUB,HDITEXT,XMY,XMDUZ,XMTEXT,XMZ,XMMG,XMYBLOB,XMMG,XMSTRIP
"RTN","XU671PO",11,0)
 N XMTO,XMINSTR,XMDF,DOMPTR,TMP,XMY
"RTN","XU671PO",12,0)
 N XUMAILGROUP,XUMAILGROUPXQA,XUSITE,XUSTN,XUST,XUTEXT,XUX,XUDTA,XUMSG,WB,XUXNM,HDIMSG,X,Y
"RTN","XU671PO",13,0)
 S U="^" I $G(DT)="" S DT=$$DT^XLFDT
"RTN","XU671PO",14,0)
 ;
"RTN","XU671PO",15,0)
 D HDISAV
"RTN","XU671PO",16,0)
 D SMSG
"RTN","XU671PO",17,0)
 G HDISQ
"RTN","XU671PO",18,0)
 ;
"RTN","XU671PO",19,0)
HDISAV ; entry for hdis process
"RTN","XU671PO",20,0)
 ; 8932.1 data save into ^XTMP
"RTN","XU671PO",21,0)
 S WB=$$SITE^VASITE,WB=$P(WB,U,1)
"RTN","XU671PO",22,0)
 S XUXNM="XU PATCH 671 SAVE OF FILE 8932-1",XUX=0
"RTN","XU671PO",23,0)
 S XUDTA=$G(^XTMP(XUXNM,0)) S:XUDTA="" $P(XUDTA,U,3)="Save of file 8932.1 for patch XU*8.0*671"
"RTN","XU671PO",24,0)
 S $P(XUDTA,U,1)=$$FMADD^XLFDT(DT,90),$P(XUDTA,U,2)=DT,^XTMP(XUXNM,0)=XUDTA
"RTN","XU671PO",25,0)
 S XUX=$G(^XTMP(XUXNM,"D",0)),XUX=XUX+1,^XTMP(XUXNM,"D",0)=XUX
"RTN","XU671PO",26,0)
 ;save 8932.1
"RTN","XU671PO",27,0)
 M ^XTMP(XUXNM,"D",XUX,"8932.1")=^USC(8932.1)
"RTN","XU671PO",28,0)
 ;
"RTN","XU671PO",29,0)
 ; check if process has already been done
"RTN","XU671PO",30,0)
 S DOMAIN="PROVIDERS",FIL=8932.1
"RTN","XU671PO",31,0)
 S A=$P($$GETSTAT^HDISVF01(FIL),U)
"RTN","XU671PO",32,0)
 ; if status already set do not re-run
"RTN","XU671PO",33,0)
 I A>3 S MSG="File: "_FIL_" Has already been seeded. Status is: "_A D PSTHALT(MSG) Q
"RTN","XU671PO",34,0)
 ;
"RTN","XU671PO",35,0)
 S TMP=$$GETIEN^HDISVF09(DOMAIN,.DOMPTR)
"RTN","XU671PO",36,0)
 I '+DOMPTR D MES^XPDUTL("***** Error retrieving the IEN for the "_DOMAIN_" domain."),PSTHALT("") Q
"RTN","XU671PO",37,0)
 ; set the seeding status to complete for data deployments.
"RTN","XU671PO",38,0)
 D SETSTAT^HDISVF01(FIL,,4)
"RTN","XU671PO",39,0)
 ; send message to STS that patch is installed and the current status
"RTN","XU671PO",40,0)
 S XPROD=$$PROD^XUPROD()
"RTN","XU671PO",41,0)
 S PXVTMP=$$SITE^VASITE()
"RTN","XU671PO",42,0)
 S XMSUB="Site: "_$P(PXVTMP,"^",2)_" File: 8932.1 in "_($S(XPROD:"PRODUCTION",1:"TEST"))_" ready for ERT Update"
"RTN","XU671PO",43,0)
 S XMY("G.HDIS ERT NOTIFICATION@FORUM.DOMAIN.EXT")=""
"RTN","XU671PO",44,0)
 S XMDUZ="Site: "_$P(PXVTMP,"^",3)_" Patch Install XU*8*671 is Complete"
"RTN","XU671PO",45,0)
 S XMY(DUZ)=""
"RTN","XU671PO",46,0)
 K HDITEXT
"RTN","XU671PO",47,0)
 S HDITEXT(1)=""
"RTN","XU671PO",48,0)
 S HDITEXT(2)="Site: "_$P(PXVTMP,"^",2)_" - "_$P(PXVTMP,"^",3)
"RTN","XU671PO",49,0)
 S HDITEXT(2)=HDITEXT(2)_" with Domain/IP Address of "_$G(^XMB("NETNAME")) ;facility name
"RTN","XU671PO",50,0)
 S HDITEXT(3)="Has Installed Patch XU*8*671 into their "_$S(XPROD:"PRODUCTION",1:"TEST")_" System Environment"
"RTN","XU671PO",51,0)
 S HDITEXT(4)="The Patch was Installed on: "
"RTN","XU671PO",52,0)
 S B=$$NOW^XLFDT N Y S Y=B D DD^%DT S HDITEXT(4)=HDITEXT(4)_Y ;date/time
"RTN","XU671PO",53,0)
 S HDITEXT(5)=""
"RTN","XU671PO",54,0)
 S HDITEXT(6)="Patch XU*8*671 has standardized file: PERSON CLASS (#8932.1)"
"RTN","XU671PO",55,0)
 S HDITEXT(7)=""
"RTN","XU671PO",56,0)
 S HDITEXT(8)="The current HDIS status of file #8932.1 is:  "_$P($$GETSTAT^HDISVF01(FIL),U)
"RTN","XU671PO",57,0)
 S HDITEXT(9)=""
"RTN","XU671PO",58,0)
 S HDITEXT(10)="Site: "_$P(PXVTMP,"^",2)_" - "_$P(PXVTMP,"^",3)_"  needs full file update of the PERSON CLASS file (#8932.1) as soon as possible."
"RTN","XU671PO",59,0)
 S HDITEXT(11)=""
"RTN","XU671PO",60,0)
 N DIFROM S XMTEXT="HDITEXT(" D ^XMD K DIFROM
"RTN","XU671PO",61,0)
 ;
"RTN","XU671PO",62,0)
 S MSG="File: "_FIL_" Has been 'seeded'. Message Number: "_$G(XMZ) D PSTDONE(MSG)
"RTN","XU671PO",63,0)
 Q
"RTN","XU671PO",64,0)
 ;
"RTN","XU671PO",65,0)
 ; send message to G.PERSON CLASS UPDATE group
"RTN","XU671PO",66,0)
SMSG S XUSITE=$$SITE^VASITE,XUSTN=$P(XUSITE,"^",2),XUST=$P(XUSITE,"^",3)
"RTN","XU671PO",67,0)
 S XMSUB="SITE: "_XUST_" "_XUSTN_" PERSON CLASS File (#8932.1) updates have transitioned From Kernel "_DT
"RTN","XU671PO",68,0)
 K XMY S XMY(DUZ)="",XMY("G.PERSON CLASS UPDATE")=""
"RTN","XU671PO",69,0)
 K XUTEXT
"RTN","XU671PO",70,0)
 S XUTEXT(1)="*************************************************************************"
"RTN","XU671PO",71,0)
 S XUTEXT(2)="* NOTE: FOR MEMBERS OF THE PERSON CLASS UPDATE MAIL GROUP               *"
"RTN","XU671PO",72,0)
 S XUTEXT(3)="*                                                                       *"
"RTN","XU671PO",73,0)
 S XUTEXT(4)="* PLEASE NOTE: The Kernel Team will no longer be deploying the updates  *"
"RTN","XU671PO",74,0)
 S XUTEXT(5)="* to the PERSON CLASS File (#8932.1). The deployment of the file has    *"
"RTN","XU671PO",75,0)
 S XUTEXT(6)="* been transitioned to the Standards & Terminology Services Team (STS). *"
"RTN","XU671PO",76,0)
 S XUTEXT(7)="*                                                                       *"
"RTN","XU671PO",77,0)
 S XUTEXT(8)="* The Standards & Terminology Services Team (STS) will use an automated *"
"RTN","XU671PO",78,0)
 S XUTEXT(9)="* e-mail delivery 'listserv' to notify users of updates to the PERSON   *"
"RTN","XU671PO",79,0)
 S XUTEXT(10)="* CLASS File (#8932.1).                                                 *"
"RTN","XU671PO",80,0)
 S XUTEXT(11)="* All personnel that maintain associations between users and the Person *"
"RTN","XU671PO",81,0)
 S XUTEXT(12)="* Class file MUST subscribe to the NTRT_NOTIFICATION-L listserv (       *"
"RTN","XU671PO",82,0)
 S XUTEXT(13)="* detailed below) to receive communications about deployments of the    *"
"RTN","XU671PO",83,0)
 S XUTEXT(14)="* PERSON CLASS File (#8932.1).                                          *"
"RTN","XU671PO",84,0)
 S XUTEXT(15)="* (Note: STS will not use the Kernel Team's G.PERSON CLASS UPDATE mail  *"
"RTN","XU671PO",85,0)
 S XUTEXT(16)="* group for updates.)                                                   *"
"RTN","XU671PO",86,0)
 S XUTEXT(17)="*                                                                       *"
"RTN","XU671PO",87,0)
 S XUTEXT(18)="* The responsible person will initially need to run the following       *"
"RTN","XU671PO",88,0)
 S XUTEXT(19)="* options twice.                                                        *"
"RTN","XU671PO",89,0)
 S XUTEXT(20)="* The options will need to be run whenever an update                    *"
"RTN","XU671PO",90,0)
 S XUTEXT(21)="* deployment of the PERSON CLASS File (#8932.1) has been sent.          *"
"RTN","XU671PO",91,0)
 S XUTEXT(22)="*                                                                       *"
"RTN","XU671PO",92,0)
 S XUTEXT(23)="* Once when the patch has been installed and has received this          *"
"RTN","XU671PO",93,0)
 S XUTEXT(24)="* notification. The second time when notified by the NTRT_NOTIFICATION-L*"
"RTN","XU671PO",94,0)
 S XUTEXT(25)="* listserv that the PERSON CLASS File (#8932.1) has been deployed.      *"
"RTN","XU671PO",95,0)
 S XUTEXT(26)="* The purpose of the first is to set the baseline of which users are    *"
"RTN","XU671PO",96,0)
 S XUTEXT(27)="* associated to inactive Person Class entries and allows the facility   *"
"RTN","XU671PO",97,0)
 S XUTEXT(28)="* to associate those users to active Person Class entries.              *"
"RTN","XU671PO",98,0)
 S XUTEXT(29)="* The second allows the facility to identify users who are associated   *"
"RTN","XU671PO",99,0)
 S XUTEXT(30)="* to newly inactivated Person Class entries and associate them to active*"
"RTN","XU671PO",100,0)
 S XUTEXT(31)="* Person Class entries.                                                 *"
"RTN","XU671PO",101,0)
 S XUTEXT(32)="*                                                                       *"
"RTN","XU671PO",102,0)
 S XUTEXT(33)="*OPTIONS:                                                               *"
"RTN","XU671PO",103,0)
 S XUTEXT(34)="* Use the 'List Inactive Person Class Users' [XU-INACTIVE PERSON CLASS  *"
"RTN","XU671PO",104,0)
 S XUTEXT(35)="* USERS] option to list all users who currently have inactive person    *"
"RTN","XU671PO",105,0)
 S XUTEXT(36)="* classes assigned.                                                     *"
"RTN","XU671PO",106,0)
 S XUTEXT(37)="*                                                                       *"
"RTN","XU671PO",107,0)
 S XUTEXT(38)="* Use the 'Person Class Edit' [XU-PERSON CLASS EDIT] option to assign   *"
"RTN","XU671PO",108,0)
 S XUTEXT(39)="* an active Person Class to the users that are associated to inactive   *"
"RTN","XU671PO",109,0)
 S XUTEXT(40)="* Person Classes.                                                       *"
"RTN","XU671PO",110,0)
 S XUTEXT(41)="* Do NOT use FM Enter/Edit the edit a users person class.               *"
"RTN","XU671PO",111,0)
 S XUTEXT(42)="*                                                                       *"
"RTN","XU671PO",112,0)
 S XUTEXT(43)="* If you do not have access to either of these options, please contact  *"
"RTN","XU671PO",113,0)
 S XUTEXT(44)="* your regional support team for assignment to the                      *"
"RTN","XU671PO",114,0)
 S XUTEXT(45)="* correct menu options.                                                 *"
"RTN","XU671PO",115,0)
 S XUTEXT(46)="*                                                                       *"
"RTN","XU671PO",116,0)
 S XUTEXT(47)="*                                                                       *"
"RTN","XU671PO",117,0)
 S XUTEXT(48)="* When STS deploys an update to the PERSON CLASS file (#8932.1) a       *"
"RTN","XU671PO",118,0)
 S XUTEXT(49)="* message is sent to the NTRT_NOTIFICATION-L listserv.                  *"
"RTN","XU671PO",119,0)
 S XUTEXT(50)="*                                                                       *"
"RTN","XU671PO",120,0)
 S XUTEXT(51)="*                                                                       *"
"RTN","XU671PO",121,0)
 S XUTEXT(52)="* SUBSCRIBE TO THE LISTSERV                                             *"
"RTN","XU671PO",122,0)
 S XUTEXT(53)="* The VA's listserv is an e-mail list and e-mail delivery solution to   *"
"RTN","XU671PO",123,0)
 S XUTEXT(54)="* manage electronic newsletters, discussion groups, and direct e-mail.  *"
"RTN","XU671PO",124,0)
 S XUTEXT(55)="*                                                                       *"
"RTN","XU671PO",125,0)
 S XUTEXT(56)="* lISTSERV: NTRT_NOTIFICATION-L                                         *"
"RTN","XU671PO",126,0)
 S XUTEXT(57)="* The personnel at the facility who are responsible for entering        *"
"RTN","XU671PO",127,0)
 S XUTEXT(58)="* or editing 'Persons' associations to the PERSON CLASS file (#8932.1)  *"
"RTN","XU671PO",128,0)
 S XUTEXT(59)="* shall subscribe to this list using the following web site:            *"
"RTN","XU671PO",129,0)
 S XUTEXT(60)="*                                                                       *"
"RTN","XU671PO",130,0)
 S XUTEXT(61)="* http://vaww.listserv.domain.ext/scripts/wa.exe.                           *"
"RTN","XU671PO",131,0)
 S XUTEXT(62)="*                                                                       *"
"RTN","XU671PO",132,0)
 S XUTEXT(63)="* The STS group does not own the List Serve application. The List Serve *"
"RTN","XU671PO",133,0)
 S XUTEXT(64)="* is a VA service.                                                      *"
"RTN","XU671PO",134,0)
 S XUTEXT(65)="* The responsible personnel will need to create an account using a      *"
"RTN","XU671PO",135,0)
 S XUTEXT(66)="* username and password that does NOT synchronize with their VA network *"
"RTN","XU671PO",136,0)
 S XUTEXT(67)="* account.                                                              *"
"RTN","XU671PO",137,0)
 S XUTEXT(68)="*************************************************************************"
"RTN","XU671PO",138,0)
 S XUTEXT(69)=" "
"RTN","XU671PO",139,0)
 S XUTEXT(70)="Please refer to the 'Assigning Person Class to Providers User Guide"
"RTN","XU671PO",140,0)
 S XUTEXT(71)="(XU*8.0*531)'located at https://www4.domain.ext/VDL/documents/Infrastructure/"
"RTN","XU671PO",141,0)
 S XUTEXT(72)="Kernel/xu_8_0p671sp.pdf. for a listing of PERSON CLASS File entries that"
"RTN","XU671PO",142,0)
 S XUTEXT(73)="are inactive with this patch."
"RTN","XU671PO",143,0)
 S XUTEXT(74)=""
"RTN","XU671PO",144,0)
 N DIFROM S XMTEXT="XUTEXT(" D ^XMD K DIFROM
"RTN","XU671PO",145,0)
 K XUTEXT,XMTEXT
"RTN","XU671PO",146,0)
 ;
"RTN","XU671PO",147,0)
 Q
"RTN","XU671PO",148,0)
 ;
"RTN","XU671PO",149,0)
HDISQ ; quit point
"RTN","XU671PO",150,0)
 K DIC,DA,PXVTMP,HDISP,DOMAIN,FIL,XMSUB,HDITEXT,XMY,XMDUZ,XMTEXT,XMZ,XMMG,XMYBLOB,XMMG,XMSTRIP
"RTN","XU671PO",151,0)
 K XMTO,XMINSTR,XMDF,DOMPTR,TMP,XMY
"RTN","XU671PO",152,0)
 K XUSITE,XUSTN,XUST,XUTEXT,XUX,XUDTA,XUMSG,WB,XUXNM,HDIMSG,X,Y
"RTN","XU671PO",153,0)
 Q
"RTN","XU671PO",154,0)
 ;
"RTN","XU671PO",155,0)
PSTHALT(MSG) ; display error message
"RTN","XU671PO",156,0)
 S HDIMSG(1)=""
"RTN","XU671PO",157,0)
 S HDIMSG(2)=MSG
"RTN","XU671PO",158,0)
 S HDIMSG(3)="***** Post-installation of Patch XU*8.0*671 HDIS 'seeding' has been halted."
"RTN","XU671PO",159,0)
 S HDIMSG(4)="***** Please contact Enterprise VistA Support."
"RTN","XU671PO",160,0)
 S HDIMSG(5)=""
"RTN","XU671PO",161,0)
 D MES^XPDUTL(.HDIMSG)
"RTN","XU671PO",162,0)
 Q
"RTN","XU671PO",163,0)
 ;
"RTN","XU671PO",164,0)
PSTDONE(MSG) ; display FINISHED message
"RTN","XU671PO",165,0)
 S HDIMSG(1)=""
"RTN","XU671PO",166,0)
 S HDIMSG(2)=MSG
"RTN","XU671PO",167,0)
 S HDIMSG(3)="***** Post-installation of Patch XU*8.0*671 HDIS 'seeding' has Completed."
"RTN","XU671PO",168,0)
 S HDIMSG(4)="***** An update message has been sent to Enterprise VistA Support."
"RTN","XU671PO",169,0)
 S HDIMSG(5)=""
"RTN","XU671PO",170,0)
 D MES^XPDUTL(.HDIMSG)
"RTN","XU671PO",171,0)
 Q
"RTN","XUPC991")
0^2^B3537010^n/a
"RTN","XUPC991",1,0)
XUPC991 ;BPO/CLT - UPDATE EFFECTIVE DATE FIELD ; 06 Oct 2016  8:49 AM
"RTN","XUPC991",2,0)
 ;;8.0;KERNEL;**671**;JUL 10, 1995;Build 16
"RTN","XUPC991",3,0)
 ;
"RTN","XUPC991",4,0)
 ; since the original field STATUS (#3)is part of the 8932.1 file screen check and
"RTN","XUPC991",5,0)
 ; has a built in trigger to set field 4 to the current date if the status is Inactive
"RTN","XUPC991",6,0)
 ; the update of the STATUS field must be synchronized with the standarized VUID status.
"RTN","XUPC991",7,0)
 ;
"RTN","XUPC991",8,0)
SET(XUDA,XUDA1) ;SET THE EFFECTIVE DATE FIELD INFO TO CURRENT STATUS and DATE
"RTN","XUPC991",9,0)
 ; XUDA - The IEN of vuid STATUS (#8932.199,.02)
"RTN","XUPC991",10,0)
 ; XUDA1 - The IEN of the PERSON CLASS (#8932.1) entry
"RTN","XUPC991",11,0)
 ; X1 - old change array before edit
"RTN","XUPC991",12,0)
 ; X2 - new change array after edit
"RTN","XUPC991",13,0)
 ; XUNM -  external name value of vuid STATUS field
"RTN","XUPC991",14,0)
 ;
"RTN","XUPC991",15,0)
 N ZTDTH,ZTRTN,ZTSAVE,ZTIO,ZTSK,ZTDESC,XUN,XUO,XUNM
"RTN","XUPC991",16,0)
 M XUO=X1,XUN=X2
"RTN","XUPC991",17,0)
 S XUNM=$G(%)
"RTN","XUPC991",18,0)
 S ZTDTH=$$NOW^XLFDT,ZTDESC="Save of Vuid Status to 8932.1 Status (#3) and update field 4 inactive date"
"RTN","XUPC991",19,0)
 S ZTRTN="SETJ^XUPC991("_XUDA_","_XUDA1_")",ZTSAVE("XUDA")="",ZTSAVE("XUDA1")="",ZTSAVE("XUNM")=""
"RTN","XUPC991",20,0)
 S ZTSAVE("XUO(")="",ZTSAVE("XUN(")=""
"RTN","XUPC991",21,0)
 S ZTIO=""
"RTN","XUPC991",22,0)
 ;D ^%ZTLOAD
"RTN","XUPC991",23,0)
 D SETJ(XUDA,XUDA1)
"RTN","XUPC991",24,0)
 ;
"RTN","XUPC991",25,0)
 K ZTDTH,ZTRTN,ZTSAVE,ZTIO,ZTSK,ZTDESC,XUN,XUO,XUNM
"RTN","XUPC991",26,0)
 Q
"RTN","XUPC991",27,0)
 ;
"RTN","XUPC991",28,0)
SETJ(XUDA,XUDA1) ; save of vuid status to field 3 and 4
"RTN","XUPC991",29,0)
 N DIE,DIQ,DR,XUSTAT,XUDT,DP,DI,DL,A,B,C,D,E,F,CS,CD,AR,DA,FDA
"RTN","XUPC991",30,0)
 D GETS^DIQ(8932.1,XUDA1_",","3;4","IE","F")
"RTN","XUPC991",31,0)
 M AR=F("8932.1",XUDA1_",")
"RTN","XUPC991",32,0)
 S CS=AR(3,"I")
"RTN","XUPC991",33,0)
 S A=+$G(XUN(1)),B=$G(XUNM)
"RTN","XUPC991",34,0)
 I (+A=0!(B="INACTIVE"))&(CS'="i") D SETSD,SETS G SETQ
"RTN","XUPC991",35,0)
 I +A=1&(CS'="a") D SETSA,SETS,SETD G SETQ
"RTN","XUPC991",36,0)
 G SETQ
"RTN","XUPC991",37,0)
 ;
"RTN","XUPC991",38,0)
SETS ;save the status
"RTN","XUPC991",39,0)
 ;S DIE="^USC(8932.1,",DA=XUDA1
"RTN","XUPC991",40,0)
 ;S DR="3///"_XUSTAT D ^DIE
"RTN","XUPC991",41,0)
 K FDA
"RTN","XUPC991",42,0)
 S FDA(8932.1,XUDA1_",",3)=XUSTAT
"RTN","XUPC991",43,0)
 D FILE^DIE("","FDA")
"RTN","XUPC991",44,0)
 Q
"RTN","XUPC991",45,0)
SETD ; make sure field 4 is clear when status is 'a'
"RTN","XUPC991",46,0)
 ;S DIE="^USC(8932.1,",DA=XUDA1
"RTN","XUPC991",47,0)
 ;S XUDT="@",DR="4///"_XUDT D ^DIE
"RTN","XUPC991",48,0)
 K FDA
"RTN","XUPC991",49,0)
 S FDA(8932.1,XUDA1_",",4)="@"
"RTN","XUPC991",50,0)
 D FILE^DIE("","FDA")
"RTN","XUPC991",51,0)
 Q
"RTN","XUPC991",52,0)
 ;
"RTN","XUPC991",53,0)
SETQ ; quit
"RTN","XUPC991",54,0)
 Q
"RTN","XUPC991",55,0)
 ;
"RTN","XUPC991",56,0)
SETSD ;set for inactive
"RTN","XUPC991",57,0)
 S XUSTAT="i"
"RTN","XUPC991",58,0)
 Q
"RTN","XUPC991",59,0)
SETSA ;set for active
"RTN","XUPC991",60,0)
 S XUSTAT="a"
"RTN","XUPC991",61,0)
 Q
"RTN","XUPC991",62,0)
 ;
"RTN","XUPC991",63,0)
KILL(XUDA,XUDA1) ;
"RTN","XUPC991",64,0)
 Q  ; do not change value of field #3 STATUS
"RTN","XUPC991",65,0)
 ;
"RTN","XUPC991",66,0)
 ; S $P(^USC(8932.1,XUDA1,0),U,4,5)="a^"
"RTN","XUPC991",67,0)
 Q
"RTN","XUPCZRT")
0^4^B43372715^n/a
"RTN","XUPCZRT",1,0)
XUPCZRT ;BPFO/PB - KERNEL - CALLABLE ENTRY POINTS FOR ZRT SEGMENT ; 15 FEBRUARY 2017 12:58 PM
"RTN","XUPCZRT",2,0)
 ;;8.0;KERNEL;**671**;Jul 10, 1995;Build 16
"RTN","XUPCZRT",3,0)
 ;
"RTN","XUPCZRT",4,0)
 ;
"RTN","XUPCZRT",5,0)
 Q
"RTN","XUPCZRT",6,0)
ZRT ;Manipulate update of MFN ZRT segment for 8932.1 file
"RTN","XUPCZRT",7,0)
 I IEN,((NAME="Term")!(NAME="Status")) K XXIEN ;This is the indication that it's first update for any subfile
"RTN","XUPCZRT",8,0)
 ;S:$D(HLNODE(1)) HLNODE=HLNODE_HLNODE(1)
"RTN","XUPCZRT",9,0)
 G 89321:IFN=8932.1
"RTN","XUPCZRT",10,0)
 Q
"RTN","XUPCZRT",11,0)
 ;
"RTN","XUPCZRT",12,0)
89321 ;Manipulate update of MFN ZRT segment for 8932.1 File
"RTN","XUPCZRT",13,0)
 I NAME="Status" K XXIEN Q  ;XXIEN01 is the .01 of record without IEN
"RTN","XUPCZRT",14,0)
 I NAME="VistA_Textual_Definition" D  S OUT=1 Q
"RTN","XUPCZRT",15,0)
 .I $P(HLNODE,HLFS,3)="""""" D  Q
"RTN","XUPCZRT",16,0)
 ..S $P(HLNODE,HLFS,3)=""
"RTN","XUPCZRT",17,0)
 ..;Q  ;QUIT here means, we put extra NULL line if WP field deleted. its for VETS-Discovery Functionality testing.
"RTN","XUPCZRT",18,0)
 ..D WP^DIE(8932.1,IENS,11,"K","@","ERR")
"RTN","XUPCZRT",19,0)
 ..I $D(ERR) S ERROR="1^Error in delete file: 8932.1 of WP field 11,  IENS="_IENS D EM^XUMF1H(ERROR,.ERR) K ERR
"RTN","XUPCZRT",20,0)
 ..Q
"RTN","XUPCZRT",21,0)
 .;WP ;codng from WP^XUMF1H we need to do so because coding there is: D SEGPRSE^XUMFXHL7("HLNODE","X",HLFS,60)
"RTN","XUPCZRT",22,0)
 .;
"RTN","XUPCZRT",23,0)
 .N X,Y,A,I,CNT,X1,X2,ESC
"RTN","XUPCZRT",24,0)
 .D SEGPRSE^XUMFXHL7("HLNODE","X",HLFS)
"RTN","XUPCZRT",25,0)
 .S CNT=1
"RTN","XUPCZRT",26,0)
 .S A(CNT)=X(2)
"RTN","XUPCZRT",27,0)
 .S I=0
"RTN","XUPCZRT",28,0)
 .F  S I=$O(X(2,I)) Q:'I  D
"RTN","XUPCZRT",29,0)
 ..S Y=X(2,I)
"RTN","XUPCZRT",30,0)
 ..I $E(Y,1)=" " D  Q
"RTN","XUPCZRT",31,0)
 ...S A(CNT)=A(CNT)_" "
"RTN","XUPCZRT",32,0)
 ...Q:$P(Y," ",2)=""
"RTN","XUPCZRT",33,0)
 ...S CNT=CNT+1
"RTN","XUPCZRT",34,0)
 ...S A(CNT)=$P(Y," ",2,99)
"RTN","XUPCZRT",35,0)
 ..S X1=$P(Y," ",1)
"RTN","XUPCZRT",36,0)
 ..S X2=$P(Y," ",2,99)
"RTN","XUPCZRT",37,0)
 ..S A(CNT)=A(CNT)_X1_$S(X2="":"",1:" ")
"RTN","XUPCZRT",38,0)
 ..Q:X2=""
"RTN","XUPCZRT",39,0)
 ..S CNT=CNT+1
"RTN","XUPCZRT",40,0)
 ..S A(CNT)=X2
"RTN","XUPCZRT",41,0)
 .;  
"RTN","XUPCZRT",42,0)
 .D UNESCWP^XUMF0(.A,.HL)
"RTN","XUPCZRT",43,0)
 .; 
"RTN","XUPCZRT",44,0)
 .D WP^DIE(IFN,IENS,11,"K","A","ERR")
"RTN","XUPCZRT",45,0)
 .;
"RTN","XUPCZRT",46,0)
 .I $D(ERR) D
"RTN","XUPCZRT",47,0)
 ..S ERROR="1^wp field error"
"RTN","XUPCZRT",48,0)
 ..D EM^XUMF1H(ERROR,.ERR) K ERR
"RTN","XUPCZRT",49,0)
 .;
"RTN","XUPCZRT",50,0)
 .Q
"RTN","XUPCZRT",51,0)
 ;
"RTN","XUPCZRT",52,0)
 S:$D(HLNODE(1)) HLNODE=HLNODE_HLNODE(1)
"RTN","XUPCZRT",53,0)
 Q:IEN
"RTN","XUPCZRT",54,0)
 I NAME="Term" S XXIEN(.01)=$$UNESC^XUMF0($P(HLNODE,HLFS,3),.HL),OUT=1 Q
"RTN","XUPCZRT",55,0)
 I NAME="VistA_VA_Code" S XXIEN(5)=$P(HLNODE,HLFS,3),OUT=1 S:XXIEN(5)="""""" XXIEN(5)="" Q  ;Field #5  "F" X-ref
"RTN","XUPCZRT",56,0)
 I NAME="VistA_ASC_X12_Code" S XXIEN(6)=$P(HLNODE,HLFS,3),OUT=1 S:XXIEN(6)="""""" XXIEN(6)="" Q  ;Field #6   "G" X-REF
"RTN","XUPCZRT",57,0)
 D  ;Check if all definition fields are included in ZRT segment  
"RTN","XUPCZRT",58,0)
 .N ERMM
"RTN","XUPCZRT",59,0)
 .S:'$D(XXIEN(.01)) ERMM=ERMM_"Term,"
"RTN","XUPCZRT",60,0)
 .S:'$D(XXIEN(5)) ERMM=ERMM_",VistA_VA_Code,"
"RTN","XUPCZRT",61,0)
 .S:'$D(XXIEN(6)) ERMM=ERMM_",VistA_ASC_X12_Code"
"RTN","XUPCZRT",62,0)
 .I $D(ERMM) S ERROR="1^"_ERMM_"^Missing in ZRT Segment"
"RTN","XUPCZRT",63,0)
 N I,X5,X6,XX,NEWIEN
"RTN","XUPCZRT",64,0)
 S NEWIEN=0
"RTN","XUPCZRT",65,0)
 S X5=$S($L(XXIEN(5)):1,1:0) S:'X5 XXIEN(5)=" "
"RTN","XUPCZRT",66,0)
 S X6=$S($L(XXIEN(6)):1,1:0) S:'X6 XXIEN(6)=" "
"RTN","XUPCZRT",67,0)
 I X5 S I=0 F  S I=$O(^USC(8932.1,"F",XXIEN(5),I)) Q:'I  S XXIEN(5,I)=""
"RTN","XUPCZRT",68,0)
 I X6 S I=0 F  S I=$O(^USC(8932.1,"G",XXIEN(6),I)) Q:'I  S XXIEN(6,I)=""
"RTN","XUPCZRT",69,0)
 I 'X5!('X6) S I=0 F  S I=$O(^USC(8932.1,I)) Q:'I  S XX=^(I,0) S:'$L($P(XX,U,6))&'X5 XXIEN(5,I)="" S:'$L($P(XX,U,7))&'X6 XXIEN(6,I)=""
"RTN","XUPCZRT",70,0)
 S I=0 F  S I=$O(XXIEN(5,I)) Q:'I  K:'$D(XXIEN(6,I)) XXIEN(5,I)
"RTN","XUPCZRT",71,0)
 S I=0 F  S I=$O(XXIEN(6,I)) Q:'I  K:'$D(XXIEN(5,I)) XXIEN(6,I)
"RTN","XUPCZRT",72,0)
 ;New entry should be created.
"RTN","XUPCZRT",73,0)
 I '$O(XXIEN(5,0))!'$O(XXIEN(6,0)) D NEW,SM1(IEN,1,0) Q  ;New entry
"RTN","XUPCZRT",74,0)
 ;
"RTN","XUPCZRT",75,0)
 ;So now we have one or multiple results
"RTN","XUPCZRT",76,0)
 K XX S I=0 F  S I=$O(XXIEN(5,I)) Q:'I  S XX(I)=""
"RTN","XUPCZRT",77,0)
 S I=0 F  S I=$O(XXIEN(6,I)) Q:'I  S XX(I)=""
"RTN","XUPCZRT",78,0)
 S I=$O(XX(0)) D SM1(I,1,0) K XX(I) ;First IEN Set master to 0  No status set
"RTN","XUPCZRT",79,0)
 S IEN=I,IENS=IEN_","
"RTN","XUPCZRT",80,0)
 S I=0 F  S I=$O(XX(I)) Q:'I  D SM1(I,0,1)  ;Set master to 0 and status to 0 as well.
"RTN","XUPCZRT",81,0)
 ;I '$O(XXIEN(5,$O(XXIEN(5,0))))  ; Multiple entries in field 6
"RTN","XUPCZRT",82,0)
 ;I '$O(XXIEN(5,$O(XXIEN(6,0))))  ; Multiple entries in field 5
"RTN","XUPCZRT",83,0)
 Q
"RTN","XUPCZRT",84,0)
NEW ;New entry
"RTN","XUPCZRT",85,0)
 N X,DIC,Y
"RTN","XUPCZRT",86,0)
 ;
"RTN","XUPCZRT",87,0)
 S XUMF=1
"RTN","XUPCZRT",88,0)
 D CHK^DIE(IFN,.01,,XXIEN(.01),.X,"ERR")
"RTN","XUPCZRT",89,0)
 I $D(ERR) S ERROR="1^Error - .01 is invalid"_" File #: "_IFN_" HLNODE="_HLNODE Q
"RTN","XUPCZRT",90,0)
 K DIC S DIC=IFN,DIC(0)="F" D FILE^DICN K DIC
"RTN","XUPCZRT",91,0)
 I Y="-1" S ERROR="1^Error - stub entry IFN: "_IFN_" failed HLNODE: "_HLNODE Q
"RTN","XUPCZRT",92,0)
 S IEN=+Y,RECORD("NEW")=1
"RTN","XUPCZRT",93,0)
 S IENS=IEN_","
"RTN","XUPCZRT",94,0)
 S NEWIEN=1
"RTN","XUPCZRT",95,0)
 Q
"RTN","XUPCZRT",96,0)
SM1(IEN,XY,X0) ;Set master to one/zero and possibly status to 0
"RTN","XUPCZRT",97,0)
 ;XY=Master Yes/No
"RTN","XUPCZRT",98,0)
 ;If X0=1 Status set to 0?
"RTN","XUPCZRT",99,0)
 N ROOT,IENS,XUMF,X
"RTN","XUPCZRT",100,0)
 D CHK^DIE(IFN,.01,,XXIEN(.01),.X,"ERR")
"RTN","XUPCZRT",101,0)
 I $D(ERR) S ERROR="1^Error - .01 from VETS is invalid"_" File #: "_IFN_"  HLNODE="_HLNODE Q
"RTN","XUPCZRT",102,0)
 S IENS=IEN_","
"RTN","XUPCZRT",103,0)
 S ROOT=$$ROOT^DILFD(IFN,,1)
"RTN","XUPCZRT",104,0)
 M RECORD("BEFORE")=@ROOT@(IEN)
"RTN","XUPCZRT",105,0)
 S RECORD("STATUS")=$$GETSTAT^XTID(IFN,,IEN_",")
"RTN","XUPCZRT",106,0)
 S FDA(IFN,IENS,.01)=XXIEN(.01) ;Validation??
"RTN","XUPCZRT",107,0)
 S FDA(IFN,IENS,5)=$S(XXIEN(5)=" ":"@",1:XXIEN(5))
"RTN","XUPCZRT",108,0)
 S FDA(IFN,IENS,6)=$S(XXIEN(6)=" ":"@",1:XXIEN(6))
"RTN","XUPCZRT",109,0)
 S FDA(IFN,IENS,99.99)=VUID
"RTN","XUPCZRT",110,0)
 S FDA(IFN,IENS,99.98)=XY
"RTN","XUPCZRT",111,0)
 N ERR
"RTN","XUPCZRT",112,0)
 S XUMF=1
"RTN","XUPCZRT",113,0)
 D FILE^DIE("E","FDA","ERR")
"RTN","XUPCZRT",114,0)
 I $D(ERR) D  Q
"RTN","XUPCZRT",115,0)
 .S ERROR="1^VUID update error IFN: "_IFN_"   IEN: "_IEN_"   VUID: "_VUID_"   HLNODE: "_HLNODE
"RTN","XUPCZRT",116,0)
 .D EM^XUMF1H(ERROR,.ERR) K ERR
"RTN","XUPCZRT",117,0)
 D:X0  ;SET STATUS TO 0
"RTN","XUPCZRT",118,0)
 .N FDA,SUBFILE
"RTN","XUPCZRT",119,0)
 .S SUBFILE=8932.199
"RTN","XUPCZRT",120,0)
 .;I VALUE=$P($$GETSTAT^XTID(IFN,,IEN_","),U) Q
"RTN","XUPCZRT",121,0)
 .S FDA(SUBFILE,"?+1,"_IENS,.01)=$$NOW^XLFDT
"RTN","XUPCZRT",122,0)
 .S FDA(SUBFILE,"?+1,"_IENS,.02)=0
"RTN","XUPCZRT",123,0)
 .D UPDATE^DIE(,"FDA",,"ERR")
"RTN","XUPCZRT",124,0)
 .I $D(ERR) D
"RTN","XUPCZRT",125,0)
 ..S ERROR="1^effective date and status error"
"RTN","XUPCZRT",126,0)
 ..D EM^XUMF1H(ERROR,.ERR) K ERR
"RTN","XUPCZRT",127,0)
 ;
"RTN","XUPCZRT",128,0)
 ;
"RTN","XUPCZRT",129,0)
 D ADD^XUMF1H
"RTN","XUPCZRT",130,0)
 ;
"RTN","XUPCZRT",131,0)
 ; clean multiple flag
"RTN","XUPCZRT",132,0)
 K:'$D(XIEN(IEN)) XIEN
"RTN","XUPCZRT",133,0)
 S XIEN(IEN)=$G(XIEN(IEN))+1
"RTN","XUPCZRT",134,0)
 ; 
"RTN","XUPCZRT",135,0)
 Q
"RTN","XUPCZRT",136,0)
 ;
"RTN","XUPCZRT",137,0)
P89321 ;Post processing logic.      4.001,2       POST-PROCESSING LOGIC  2;E1,245 MUMPS
"RTN","XUPCZRT",138,0)
 Q:$G(ERROR)
"RTN","XUPCZRT",139,0)
 N I,X0,X1,X2,C,XV
"RTN","XUPCZRT",140,0)
 S I=0,C=10 F  S I=$O(^USC(8932.1,I)) Q:'I  S XV=$G(^(I,"VUID"),"^"),XV=$P(XV,U) D:'$L(XV)
"RTN","XUPCZRT",141,0)
 .S X0=$G(^USC(8932.1,I,0))
"RTN","XUPCZRT",142,0)
 .S C=C+1,ERR("DIERR",1,"TEXT",C)="EIN="_I_"   .01="_$P(X0,U)_"   VA CODE="_$P(X0,U,6)_"   X12 CODE="_$P(X0,U,7)
"RTN","XUPCZRT",143,0)
 D:$D(ERR)
"RTN","XUPCZRT",144,0)
 .S ERR("DIERR",1,"TEXT",10)="List of records not associated with VUID on site: "_$$SITE^VASITE()
"RTN","XUPCZRT",145,0)
 .S ERROR="1^Missing VUIDs in update of IFN: "_IFN_"  Listing of records see in MFS ERROR/WARNING/INFO"
"RTN","XUPCZRT",146,0)
 .Q
"RTN","XUPCZRT",147,0)
 Q
"RTN","XUPCZRT",148,0)
D89321 ; Discovery coding to get conversion to escape characters.. + set VistA_Individual_Flag to I/N
"RTN","XUPCZRT",149,0)
 N II,CNT,CNT1,VAL,VAL1
"RTN","XUPCZRT",150,0)
 S CNT=0,(VAL,VAL1)=""
"RTN","XUPCZRT",151,0)
 F  S CNT=$O(^TMP("HLA",$J,CNT)) Q:'CNT  S II=$G(^TMP("HLA",$J,CNT)) Q:'$L(II)  Q:$G(ERROR)  D:$P(II,HLFS)="ZRT"
"RTN","XUPCZRT",152,0)
 .S VAL=$P(II,HLFS,3)
"RTN","XUPCZRT",153,0)
 .Q:'$L(VAL)
"RTN","XUPCZRT",154,0)
 .S:$P(II,HLFS,2)="VistA_Individual_Flag" VAL=$E(VAL,1)
"RTN","XUPCZRT",155,0)
 .S VAL=$$ESC(VAL,.HL)
"RTN","XUPCZRT",156,0)
 .S $P(II,HLFS,3)=VAL
"RTN","XUPCZRT",157,0)
 .S ^TMP("HLA",$J,CNT)=II
"RTN","XUPCZRT",158,0)
 .D:$O(^TMP("HLA",$J,CNT,0))
"RTN","XUPCZRT",159,0)
 ..S CNT1=0 F  S CNT1=$O(^TMP("HLA",$J,CNT,CNT1)) Q:'CNT1  D
"RTN","XUPCZRT",160,0)
 ...S VAL=$G(^TMP("HLA",$J,CNT,CNT1))
"RTN","XUPCZRT",161,0)
 ...S ^TMP("HLA",$J,CNT,CNT1)=$$ESC(VAL,.HL)
"RTN","XUPCZRT",162,0)
 Q
"RTN","XUPCZRT",163,0)
ESC(VALUE,HL) ;Escape value
"RTN","XUPCZRT",164,0)
 N ESC,ESCFS,ESCCMP,ESCSUB,ESCREP,ESCESC,ESCSEQ,CVRT
"RTN","XUPCZRT",165,0)
 S ESC=$E(HL("ECH"),3)
"RTN","XUPCZRT",166,0)
 S ESCFS=ESC_"F"_ESC S CVRT("ESCFS")=HL("FS")
"RTN","XUPCZRT",167,0)
 S ESCCMP=ESC_"S"_ESC S CVRT("ESCCMP")=$E(HL("ECH"),1)
"RTN","XUPCZRT",168,0)
 S ESCREP=ESC_"R"_ESC S CVRT("ESCREP")=$E(HL("ECH"),2)
"RTN","XUPCZRT",169,0)
 S ESCESC=ESC_"E"_ESC S CVRT("ESCESC")=ESC
"RTN","XUPCZRT",170,0)
 S ESCSUB=ESC_"T"_ESC S CVRT("ESCSUB")=$E(HL("ECH"),4)
"RTN","XUPCZRT",171,0)
 ;F ESCSEQ="ESCFS","ESCCMP","ESCSUB","ESCREP","ESCESC" D
"RTN","XUPCZRT",172,0)
 F ESCSEQ="ESCFS","ESCCMP","ESCSUB","ESCREP" D
"RTN","XUPCZRT",173,0)
 .F  Q:VALUE'[CVRT(ESCSEQ)  D
"RTN","XUPCZRT",174,0)
 ..S VALUE=$P(VALUE,CVRT(ESCSEQ))_@ESCSEQ_$P(VALUE,CVRT(ESCSEQ),2,9999)
"RTN","XUPCZRT",175,0)
 Q VALUE
"SEC","^DD",8932.1,8932.199,.02,8.5)

"SEC","^DD",8932.1,8932.199,.02,9)
Y
"SEC","^DIC",8932.1,8932.1,0,"AUDIT")
@
"SEC","^DIC",8932.1,8932.1,0,"DD")
@
"SEC","^DIC",8932.1,8932.1,0,"DEL")
@
"SEC","^DIC",8932.1,8932.1,0,"LAYGO")
@
"SEC","^DIC",8932.1,8932.1,0,"WR")
@
"VER")
8.0^22.2
"^DD",8932.1,8932.1,0)
FIELD^^90002^19
"^DD",8932.1,8932.1,0,"DDA")
N
"^DD",8932.1,8932.1,0,"DT")
3170629
"^DD",8932.1,8932.1,0,"ID",6)
W "   ",$P(^(0),U,7)
"^DD",8932.1,8932.1,0,"ID","WRITE")
N % S %=^(0) D:$L($P(%,U,2)) EN^DDIOL($P(%,U,2),"","!,?20") D:$L($P(%,U,3)) EN^DDIOL($P(%,U,3),"","!,?25")
"^DD",8932.1,8932.1,0,"IX","AREPLACETERM",8932.1,99.97)

"^DD",8932.1,8932.1,0,"IX","AVUID",8932.1,99.99)

"^DD",8932.1,8932.1,0,"IX","B",8932.1,.01)

"^DD",8932.1,8932.1,0,"IX","C",8932.1,.01)

"^DD",8932.1,8932.1,0,"IX","D",8932.1,1)

"^DD",8932.1,8932.1,0,"IX","E",8932.1,2)

"^DD",8932.1,8932.1,0,"IX","F",8932.1,5)

"^DD",8932.1,8932.1,0,"IX","G",8932.1,6)

"^DD",8932.1,8932.1,0,"NM","PERSON CLASS")

"^DD",8932.1,8932.1,0,"PT",200.05,.01)

"^DD",8932.1,8932.1,0,"PT",355.9342,.01)

"^DD",8932.1,8932.1,0,"PT",363.3411,.01)

"^DD",8932.1,8932.1,0,"PT",399,243)

"^DD",8932.1,8932.1,0,"PT",399,244)

"^DD",8932.1,8932.1,0,"PT",399,252)

"^DD",8932.1,8932.1,0,"PT",399.0222,.15)

"^DD",8932.1,8932.1,0,"PT",399.0404,.15)

"^DD",8932.1,8932.1,0,"PT",403.462,.01)

"^DD",8932.1,8932.1,0,"PT",409.44,.03)

"^DD",8932.1,8932.1,0,"PT",8930,.05)

"^DD",8932.1,8932.1,0,"PT",8932.1,99.97)

"^DD",8932.1,8932.1,0,"PT",9000010.06,.06)

"^DD",8932.1,8932.1,0,"SCR")
I $P(^(0),U,4)'["i"
"^DD",8932.1,8932.1,0,"VRPK")
XU
"^DD",8932.1,8932.1,.001,0)
NUMBER^NJ7,0^^ ^K:+X'=X!(X>9999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",8932.1,8932.1,.001,3)
Type a Number between 1 and 9999999, 0 Decimal Digits
"^DD",8932.1,8932.1,.001,9)
^
"^DD",8932.1,8932.1,.001,21,0)
^^1^1^2960530^
"^DD",8932.1,8932.1,.001,21,1,0)
This is a number field to allow adding new entries by number.
"^DD",8932.1,8932.1,.001,"DT")
2960530
"^DD",8932.1,8932.1,.01,0)
PROVIDER TYPE^RFXJ100^^0;1^K:$L(X)>100!($L(X)<3)!'(X'?1P.E) X
"^DD",8932.1,8932.1,.01,1,0)
^.1
"^DD",8932.1,8932.1,.01,1,1,0)
8932.1^B^MUMPS
"^DD",8932.1,8932.1,.01,1,1,1)
S ^USC(8932.1,"B",$E(X,1,100),DA)=""
"^DD",8932.1,8932.1,.01,1,1,2)
K ^USC(8932.1,"B",$E(X,1,100),DA)
"^DD",8932.1,8932.1,.01,1,1,"DT")
3170614
"^DD",8932.1,8932.1,.01,1,2,0)
8932.1^C^KWIC
"^DD",8932.1,8932.1,.01,1,2,1)
S X=$$UP^XLFSTR(X),%1=1 F %=1:1:$L(X)+1 S I=$E(X,%) I "(,.?! '-/&:;)"[I S I=$E($E(X,%1,%-1),1,30),%1=%+1 I $L(I)>2,^DD("KWIC")'[I S ^USC(8932.1,"C",I,DA)=""
"^DD",8932.1,8932.1,.01,1,2,2)
S X=$$UP^XLFSTR(X),%1=1 F %=1:1:$L(X)+1 S I=$E(X,%) I "(,.?! '-/&:;)"[I S I=$E($E(X,%1,%-1),1,30),%1=%+1 I $L(I)>2 K ^USC(8932.1,"C",I,DA)
"^DD",8932.1,8932.1,.01,1,2,3)
Modified
"^DD",8932.1,8932.1,.01,1,2,"%D",0)
^^1^1^2960530^^^
"^DD",8932.1,8932.1,.01,1,2,"%D",1,0)
This is a UPPERCASE KWIC lookup.
"^DD",8932.1,8932.1,.01,1,2,"DT")
2960530
"^DD",8932.1,8932.1,.01,3)
Answer must be 3-100 characters in length.
"^DD",8932.1,8932.1,.01,7.5)
I $G(DIC(0))["L",'$D(XUMF) K X D EN^DDIOL("Entries must be edited via the Master File Server (MFS).","","!?5")
"^DD",8932.1,8932.1,.01,9)
^
"^DD",8932.1,8932.1,.01,21,0)
^.001^1^1^3170613^^^
"^DD",8932.1,8932.1,.01,21,1,0)
This is Level I of NUCC's structure of the Provider Taxonomy.
"^DD",8932.1,8932.1,.01,23,0)
^.001^7^7^3170627^^^^
"^DD",8932.1,8932.1,.01,23,1,0)
Increased the field length from 60 to 62 to accommodate all values of TYPE
"^DD",8932.1,8932.1,.01,23,2,0)
as defined by the NUCC.  August 30, 2002.
"^DD",8932.1,8932.1,.01,23,3,0)
 
"^DD",8932.1,8932.1,.01,23,4,0)
Increased the "B" x-ref from 30 to 62 chars.  August 30, 2002.
"^DD",8932.1,8932.1,.01,23,5,0)
Increased the "B" x-ref from 62 to 100 chars. June, 2017.
"^DD",8932.1,8932.1,.01,23,6,0)
 
"^DD",8932.1,8932.1,.01,23,7,0)
Added DESCRIPTION.  August 30, 2002.
"^DD",8932.1,8932.1,.01,"DEL",1,0)
D:'$D(XUMF) EN^DDIOL("Entries must be inactivated via the Master File Server(MFS).","","!?5") I '$D(XUMF)
"^DD",8932.1,8932.1,.01,"DT")
3170627
"^DD",8932.1,8932.1,.01,"LAYGO",1,0)
D:'$D(XUMF) EN^DDIOL("Entries must be added via the Master File Server(MFS).","","!?5") I $D(XUMF)
"^DD",8932.1,8932.1,.011,0)
PROVIDER TYPE CODE^CJ2^^ ; ^X ^DD(8932.1,.011,9.2) S X=$E(Y(8932.1,.011,2),Y(8932.1,.011,3),X)
"^DD",8932.1,8932.1,.011,9)
^
"^DD",8932.1,8932.1,.011,9.01)
8932.1^6
"^DD",8932.1,8932.1,.011,9.1)
$E(X12 CODE,1,2)
"^DD",8932.1,8932.1,.011,9.2)
S Y(8932.1,.011,1)=$S($D(^USC(8932.1,D0,0)):^(0),1:"") S X=$P(Y(8932.1,.011,1),U,7),Y(8932.1,.011,2)=X S X=1,Y(8932.1,.011,3)=X S X=2
"^DD",8932.1,8932.1,.011,21,0)
^^3^3^3020830^
"^DD",8932.1,8932.1,.011,21,1,0)
This is Level I, Provider Type - 2 byte alphanumeric consisting of the 1st
"^DD",8932.1,8932.1,.011,21,2,0)
and 2nd characters of X12 CODE:   A code that identifies a major grouping
"^DD",8932.1,8932.1,.011,21,3,0)
of service(s) or occupation(s) of health care providers.
"^DD",8932.1,8932.1,.011,23,0)
^^1^1^3020830^^
"^DD",8932.1,8932.1,.011,23,1,0)
Field added August 30, 2002.
"^DD",8932.1,8932.1,1,0)
CLASSIFICATION^FXJ110^^0;2^K:$L(X)>110!($L(X)<3) X
"^DD",8932.1,8932.1,1,1,0)
^.1
"^DD",8932.1,8932.1,1,1,1,0)
8932.1^D^KWIC
"^DD",8932.1,8932.1,1,1,1,1)
S X=$$UP^XLFSTR(X),%1=1 F %=1:1:$L(X)+1 S I=$E(X,%) I "(,.?! '-/&:;)"[I S I=$E($E(X,%1,%-1),1,30),%1=%+1 I $L(I)>2,^DD("KWIC")'[I S ^USC(8932.1,"D",I,DA)=""
"^DD",8932.1,8932.1,1,1,1,2)
S X=$$UP^XLFSTR(X),%1=1 F %=1:1:$L(X)+1 S I=$E(X,%) I "(,.?! '-/&:;)"[I S I=$E($E(X,%1,%-1),1,30),%1=%+1 I $L(I)>2 K ^USC(8932.1,"D",I,DA)
"^DD",8932.1,8932.1,1,1,1,3)
Modified
"^DD",8932.1,8932.1,1,1,1,"%D",0)
^^1^1^2960530^^
"^DD",8932.1,8932.1,1,1,1,"%D",1,0)
This is a UPPERCASE KWIC lookup.
"^DD",8932.1,8932.1,1,1,1,"DT")
2960530
"^DD",8932.1,8932.1,1,3)
Answer must be 3-110 characters in length.
"^DD",8932.1,8932.1,1,9)
^
"^DD",8932.1,8932.1,1,21,0)
^.001^1^1^3170613^^^^
"^DD",8932.1,8932.1,1,21,1,0)
This is the CMS (X12) Classification (Level II).
"^DD",8932.1,8932.1,1,23,0)
^.001^6^6^3170629^^^
"^DD",8932.1,8932.1,1,23,1,0)
Increased the field length from 50 to 65 to accommodate all values
"^DD",8932.1,8932.1,1,23,2,0)
of Classification as defined by the NUCC.  August 30, 2002.
"^DD",8932.1,8932.1,1,23,3,0)
 
"^DD",8932.1,8932.1,1,23,4,0)
Increased the field length from 65 to 110 to accommodate all values of Classification as defined by the NUCC. June, 2017.
"^DD",8932.1,8932.1,1,23,5,0)
 
"^DD",8932.1,8932.1,1,23,6,0)
Updated DESCRIPTION.  June, 2017
"^DD",8932.1,8932.1,1,"DT")
3170629
"^DD",8932.1,8932.1,1.1,0)
CLASSIFICATION CODE^CJ2^^ ; ^X ^DD(8932.1,1.1,9.2) S X=$E(Y(8932.1,1.1,2),Y(8932.1,1.1,3),X)
"^DD",8932.1,8932.1,1.1,9)
^
"^DD",8932.1,8932.1,1.1,9.01)
8932.1^6
"^DD",8932.1,8932.1,1.1,9.1)
$E(X12 CODE,3,4)
"^DD",8932.1,8932.1,1.1,9.2)
S Y(8932.1,1.1,1)=$S($D(^USC(8932.1,D0,0)):^(0),1:"") S X=$P(Y(8932.1,1.1,1),U,7),Y(8932.1,1.1,2)=X S X=3,Y(8932.1,1.1,3)=X S X=4
"^DD",8932.1,8932.1,1.1,21,0)
^^4^4^3020830^
"^DD",8932.1,8932.1,1.1,21,1,0)
This is Level II, Classification Code - 2 byte alphanumeric consisting of
"^DD",8932.1,8932.1,1.1,21,2,0)
the 3rd and 4th characters of the X12 CODE:   A code that identifies more
"^DD",8932.1,8932.1,1.1,21,3,0)
specific services(s) or occupation(s) within the health care provider
"^DD",8932.1,8932.1,1.1,21,4,0)
type. The coding is based on licensed provider classifications.
"^DD",8932.1,8932.1,1.1,23,0)
^^1^1^3020830^
"^DD",8932.1,8932.1,1.1,23,1,0)
Field added August 30, 2002.
"^DD",8932.1,8932.1,2,0)
AREA OF SPECIALIZATION^FXJ90^^0;3^K:$L(X)>90!($L(X)<2) X
"^DD",8932.1,8932.1,2,1,0)
^.1
"^DD",8932.1,8932.1,2,1,1,0)
8932.1^E^KWIC
"^DD",8932.1,8932.1,2,1,1,1)
S X=$$UP^XLFSTR(X),%1=1 F %=1:1:$L(X)+1 S I=$E(X,%) I "(,.?! '-/&:;)"[I S I=$E($E(X,%1,%-1),1,30),%1=%+1 I $L(I)>2,^DD("KWIC")'[I S ^USC(8932.1,"E",I,DA)=""
"^DD",8932.1,8932.1,2,1,1,2)
S X=$$UP^XLFSTR(X),%1=1 F %=1:1:$L(X)+1 S I=$E(X,%) I "(,.?! '-/&:;)"[I S I=$E($E(X,%1,%-1),1,30),%1=%+1 I $L(I)>2 K ^USC(8932.1,"E",I,DA)
"^DD",8932.1,8932.1,2,1,1,3)
Modified
"^DD",8932.1,8932.1,2,1,1,"%D",0)
^^1^1^2960530^^
"^DD",8932.1,8932.1,2,1,1,"%D",1,0)
This is a UPPERCASE KWIC lookup.
"^DD",8932.1,8932.1,2,1,1,"DT")
2960530
"^DD",8932.1,8932.1,2,3)
Answer must be 2-90 characters in length.
"^DD",8932.1,8932.1,2,9)
^
"^DD",8932.1,8932.1,2,21,0)
^.001^2^2^3170613^^^
"^DD",8932.1,8932.1,2,21,1,0)
This is Level III in NUCC's structure of the Provider Taxonomy.  It is the
"^DD",8932.1,8932.1,2,21,2,0)
most specific, but sometimes defines a "sub-category" of Classification.
"^DD",8932.1,8932.1,2,23,0)
^.001^9^9^3170629^^^^
"^DD",8932.1,8932.1,2,23,1,0)
Increased the field length from 50 to 75 to accommodate all values of Area
"^DD",8932.1,8932.1,2,23,2,0)
of Specialization as defined by the NUCC.  August 30, 2002.
"^DD",8932.1,8932.1,2,23,3,0)
 
"^DD",8932.1,8932.1,2,23,4,0)
Increased the field length from 75 to 90 to accommodate all values of Area of Specialization as defined by the NUCC. JUNE, 2017
"^DD",8932.1,8932.1,2,23,5,0)
 
"^DD",8932.1,8932.1,2,23,6,0)
Decreased the minimum field length from 3 to 2 to accommodate the value
"^DD",8932.1,8932.1,2,23,7,0)
"VA" for X12 code "261QV0200X".  August 30, 2002.
"^DD",8932.1,8932.1,2,23,8,0)
 
"^DD",8932.1,8932.1,2,23,9,0)
Added DESCRIPTION.  August 30, 2002.
"^DD",8932.1,8932.1,2,"DT")
3170629
"^DD",8932.1,8932.1,2.1,0)
AREA OF SPECIALIZATION CODE^CJ5^^ ; ^X ^DD(8932.1,2.1,9.2) S X=$E(Y(8932.1,2.1,2),Y(8932.1,2.1,3),X)
"^DD",8932.1,8932.1,2.1,9)
^
"^DD",8932.1,8932.1,2.1,9.01)
8932.1^6
"^DD",8932.1,8932.1,2.1,9.1)
$E(X12 CODE,5,9)
"^DD",8932.1,8932.1,2.1,9.2)
S Y(8932.1,2.1,1)=$S($D(^USC(8932.1,D0,0)):^(0),1:"") S X=$P(Y(8932.1,2.1,1),U,7),Y(8932.1,2.1,2)=X S X=5,Y(8932.1,2.1,3)=X S X=9
"^DD",8932.1,8932.1,2.1,21,0)
^^7^7^3020830^
"^DD",8932.1,8932.1,2.1,21,1,0)
This is Level III, Area of Specialization - a 5 byte alphanumeric
"^DD",8932.1,8932.1,2.1,21,2,0)
consisting of the 5th through 9th characters of the X12 CODE:   A code that
"^DD",8932.1,8932.1,2.1,21,3,0)
identifies the provider's specialization, a segment of the population that
"^DD",8932.1,8932.1,2.1,21,4,0)
a health care provider chooses to service, a specific medical service, a
"^DD",8932.1,8932.1,2.1,21,5,0)
specialization in treating a specific disease, or any other descriptive
"^DD",8932.1,8932.1,2.1,21,6,0)
characteristic about the providers practice relating to the services
"^DD",8932.1,8932.1,2.1,21,7,0)
rendered.
"^DD",8932.1,8932.1,2.1,23,0)
^^1^1^3020830^
"^DD",8932.1,8932.1,2.1,23,1,0)
Field added August 30, 2002.
"^DD",8932.1,8932.1,3,0)
STATUS^S^a:Active;i:Inactive;^0;4^Q
"^DD",8932.1,8932.1,3,1,0)
^.1
"^DD",8932.1,8932.1,3,1,1,0)
^^TRIGGER^8932.1^4
"^DD",8932.1,8932.1,3,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S X=$S($D(DIFROM):0,1:X["i") I X S X=DIV S Y(1)=$S($D(^USC(8932.1,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC X ^DD(8932.1,3,1,1,1.4)
"^DD",8932.1,8932.1,3,1,1,1.4)
S DIH=$S($D(^USC(8932.1,DIV(0),0)):^(0),1:""),DIV=X S $P(^(0),U,5)=DIV,DIH=8932.1,DIG=4 D ^DICR:$O(^DD(DIH,DIG,1,0))>0
"^DD",8932.1,8932.1,3,1,1,2)
Q
"^DD",8932.1,8932.1,3,1,1,"%D",0)
^^1^1^2960729^
"^DD",8932.1,8932.1,3,1,1,"%D",1,0)
This trigger sets a date in the 'Date Inactivated' field.
"^DD",8932.1,8932.1,3,1,1,"CREATE CONDITION")
S X=$S($D(DIFROM):0,1:X["i")
"^DD",8932.1,8932.1,3,1,1,"CREATE VALUE")
TODAY
"^DD",8932.1,8932.1,3,1,1,"DELETE VALUE")
NO EFFECT
"^DD",8932.1,8932.1,3,1,1,"DT")
2960703
"^DD",8932.1,8932.1,3,1,1,"FIELD")
Date In
"^DD",8932.1,8932.1,3,9)
^
"^DD",8932.1,8932.1,3,21,0)
^^2^2^3020826^^
"^DD",8932.1,8932.1,3,21,1,0)
This field will allow old entries to be disabled without removing
"^DD",8932.1,8932.1,3,21,2,0)
them from the table.
"^DD",8932.1,8932.1,3,23,0)
^^1^1^3170629^
"^DD",8932.1,8932.1,3,23,1,0)
As of June 2017 the STATUS field (#3) will be controlled by the EFFECTIVE DATE/TIME STATUS field (#8932.199,.02).
"^DD",8932.1,8932.1,3,"DT")
3170629
"^DD",8932.1,8932.1,4,0)
DATE INACTIVATED^D^^0;5^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",8932.1,8932.1,4,3)
Enter the date this Class was inactivated.
"^DD",8932.1,8932.1,4,5,1,0)
8932.1^3^1
"^DD",8932.1,8932.1,4,9)
^
"^DD",8932.1,8932.1,4,21,0)
^^1^1^3020826^^
"^DD",8932.1,8932.1,4,21,1,0)
This field holds the date that this Class was inactivated.
"^DD",8932.1,8932.1,4,"DT")
2960729
"^DD",8932.1,8932.1,5,0)
VA CODE^F^^0;6^K:$L(X)>7!($L(X)<7)!'(X?1"V"6N) X
"^DD",8932.1,8932.1,5,1,0)
^.1
"^DD",8932.1,8932.1,5,1,1,0)
8932.1^F
"^DD",8932.1,8932.1,5,1,1,1)
S ^USC(8932.1,"F",$E(X,1,30),DA)=""
"^DD",8932.1,8932.1,5,1,1,2)
K ^USC(8932.1,"F",$E(X,1,30),DA)
"^DD",8932.1,8932.1,5,1,1,"%D",0)
^^2^2^2960807^
"^DD",8932.1,8932.1,5,1,1,"%D",1,0)
This X-ref provides a way for users to enter the VA CODE to lookup
"^DD",8932.1,8932.1,5,1,1,"%D",2,0)
a person class.
"^DD",8932.1,8932.1,5,1,1,"DT")
2960807
"^DD",8932.1,8932.1,5,3)
Answer 7 character VA code.
"^DD",8932.1,8932.1,5,9)
^
"^DD",8932.1,8932.1,5,21,0)
^^1^1^3020826^^
"^DD",8932.1,8932.1,5,21,1,0)
This field holds the 7 character VA assigned code for national roll-up.
"^DD",8932.1,8932.1,5,"DT")
3170613
"^DD",8932.1,8932.1,6,0)
X12 CODE^FJ10X^^0;7^K:$L(X)>10!($L(X)<10)!'(X?3N2AN4N1A) X
"^DD",8932.1,8932.1,6,1,0)
^.1
"^DD",8932.1,8932.1,6,1,1,0)
8932.1^G
"^DD",8932.1,8932.1,6,1,1,1)
S ^USC(8932.1,"G",$E(X,1,30),DA)=""
"^DD",8932.1,8932.1,6,1,1,2)
K ^USC(8932.1,"G",$E(X,1,30),DA)
"^DD",8932.1,8932.1,6,1,1,3)
Allows lookups.
"^DD",8932.1,8932.1,6,1,1,"%D",0)
^.101^5^5^3170106^^
"^DD",8932.1,8932.1,6,1,1,"%D",1,0)
Created this x-ref to allow lookups on this field, e.g.:
"^DD",8932.1,8932.1,6,1,1,"%D",2,0)
 
"^DD",8932.1,8932.1,6,1,1,"%D",3,0)
   S DIC=8932.1,X="261QV0200X",DIC(0)="M" D ^DIC
"^DD",8932.1,8932.1,6,1,1,"%D",4,0)
 
"^DD",8932.1,8932.1,6,1,1,"%D",5,0)
August 30, 2002.
"^DD",8932.1,8932.1,6,1,1,"DT")
3020828
"^DD",8932.1,8932.1,6,3)
Answer must be 10 characters in length.
"^DD",8932.1,8932.1,6,9)
^
"^DD",8932.1,8932.1,6,21,0)
^^2^2^3020830^^^
"^DD",8932.1,8932.1,6,21,1,0)
This is the code assigned by X12N.  X12 published the joint X12N and CMS
"^DD",8932.1,8932.1,6,21,2,0)
Health Care Provider Taxonomy following the June 1997 X12 meeting.
"^DD",8932.1,8932.1,6,23,0)
^^42^42^3170627^^
"^DD",8932.1,8932.1,6,23,1,0)
Changed the IT from
"^DD",8932.1,8932.1,6,23,2,0)
 
"^DD",8932.1,8932.1,6,23,3,0)
   X?3N2U4N1U 
"^DD",8932.1,8932.1,6,23,4,0)
 to
"^DD",8932.1,8932.1,6,23,5,0)
   X?3N2AN4N1"X"
"^DD",8932.1,8932.1,6,23,6,0)
 
"^DD",8932.1,8932.1,6,23,7,0)
to match the current pattern of the X12 code.  August 30, 2002.
"^DD",8932.1,8932.1,6,23,8,0)
 
"^DD",8932.1,8932.1,6,23,9,0)
Changed the IT from:
"^DD",8932.1,8932.1,6,23,10,0)
 
"^DD",8932.1,8932.1,6,23,11,0)
 X?3N2AN4N1"X"
"^DD",8932.1,8932.1,6,23,12,0)
 
"^DD",8932.1,8932.1,6,23,13,0)
to:
"^DD",8932.1,8932.1,6,23,14,0)
 
"^DD",8932.1,8932.1,6,23,15,0)
X?3N2AN4N1"A"
"^DD",8932.1,8932.1,6,23,16,0)
 
"^DD",8932.1,8932.1,6,23,17,0)
 to match the current pattern of the X12 code. JUNE, 2017
"^DD",8932.1,8932.1,6,23,18,0)
 
"^DD",8932.1,8932.1,6,23,19,0)
August 30, 2002:
"^DD",8932.1,8932.1,6,23,20,0)
 There are approximately 800 Provider Taxonomy codes and they are all 10
"^DD",8932.1,8932.1,6,23,21,0)
digits in length. The hierarchy of provider categories incorporates four
"^DD",8932.1,8932.1,6,23,22,0)
areas of provider classifications that, when used in concert with one
"^DD",8932.1,8932.1,6,23,23,0)
another, create the capability to sort providers into broad and specific
"^DD",8932.1,8932.1,6,23,24,0)
categories.  There are four levels in the hierarchy including:
"^DD",8932.1,8932.1,6,23,25,0)
 
"^DD",8932.1,8932.1,6,23,26,0)
 I. Provider Type - 2 byte alphanumeric:
"^DD",8932.1,8932.1,6,23,27,0)
 A code that identifies a major grouping of service(s) or occupation(s) of
"^DD",8932.1,8932.1,6,23,28,0)
health care providers.
"^DD",8932.1,8932.1,6,23,29,0)
 
"^DD",8932.1,8932.1,6,23,30,0)
 II. Classification Code - 2 byte alphanumeric:
"^DD",8932.1,8932.1,6,23,31,0)
 A code that identifies more specific services(s) or occupation(s) within
"^DD",8932.1,8932.1,6,23,32,0)
the health care provider type. The coding is based on licensed provider
"^DD",8932.1,8932.1,6,23,33,0)
classifications.
"^DD",8932.1,8932.1,6,23,34,0)
 
"^DD",8932.1,8932.1,6,23,35,0)
 III. Area of Specialization - 5 byte alphanumeric:
"^DD",8932.1,8932.1,6,23,36,0)
 A code that identifies the provider's specialization, a segment of the
"^DD",8932.1,8932.1,6,23,37,0)
population that a health care provider chooses to service, a specific
"^DD",8932.1,8932.1,6,23,38,0)
medical service, a specialization in treating a specific disease, or any
"^DD",8932.1,8932.1,6,23,39,0)
other descriptive characteristic about the providers practice relating to
"^DD",8932.1,8932.1,6,23,40,0)
the services rendered.
"^DD",8932.1,8932.1,6,23,41,0)
 
"^DD",8932.1,8932.1,6,23,42,0)
 IV. A place holder for future expansion - 1 byte alphanumeric
"^DD",8932.1,8932.1,6,"DT")
3170627
"^DD",8932.1,8932.1,7,0)
reserved^F^^0;8^K:$L(X)>12!($L(X)<1) X
"^DD",8932.1,8932.1,7,3)
Answer must be 1-12 characters in length.
"^DD",8932.1,8932.1,7,9)
^
"^DD",8932.1,8932.1,7,21,0)
^^2^2^3020826^
"^DD",8932.1,8932.1,7,21,1,0)
This field is only to help a conversion routine for updates to the file.
"^DD",8932.1,8932.1,7,21,2,0)
Any data is used only be a update routine.
"^DD",8932.1,8932.1,7,"DT")
3020830
"^DD",8932.1,8932.1,8,0)
SPECIALTY CODE^F^^0;9^K:$L(X)>2!($L(X)<2) X
"^DD",8932.1,8932.1,8,3)
Enter the 2 character specialty code associated with this classification
"^DD",8932.1,8932.1,8,9)
^
"^DD",8932.1,8932.1,8,21,0)
^^1^1^3020826^
"^DD",8932.1,8932.1,8,21,1,0)
This field holds the specialty code associated with the classification
"^DD",8932.1,8932.1,8,"DT")
3170613
"^DD",8932.1,8932.1,11,0)
DEFINITION^8932.111^^11;0
"^DD",8932.1,8932.1,11,9)
^
"^DD",8932.1,8932.1,99.97,0)
REPLACED BY VHA STANDARD TERM^P8932.1'^USC(8932.1,^VUID;3^Q
"^DD",8932.1,8932.1,99.97,1,0)
^.1
"^DD",8932.1,8932.1,99.97,1,1,0)
8932.1^AREPLACETERM
"^DD",8932.1,8932.1,99.97,1,1,1)
S ^USC(8932.1,"AREPLACETERM",$E(X,1,30),DA)=""
"^DD",8932.1,8932.1,99.97,1,1,2)
K ^USC(8932.1,"AREPLACETERM",$E(X,1,30),DA)
"^DD",8932.1,8932.1,99.97,1,1,"%D",0)
^^2^2^3080103^
"^DD",8932.1,8932.1,99.97,1,1,"%D",1,0)
This cross-reference can be used to identify the replacement entries 
"^DD",8932.1,8932.1,99.97,1,1,"%D",2,0)
associated with a Term/Concept.
"^DD",8932.1,8932.1,99.97,1,1,"DT")
3080103
"^DD",8932.1,8932.1,99.97,3)
Enter the Term/Concept that replaces this one, if applicable.
"^DD",8932.1,8932.1,99.97,9)
^
"^DD",8932.1,8932.1,99.97,21,0)
^.001^4^4^3160831^^
"^DD",8932.1,8932.1,99.97,21,1,0)
This field is populated when one Term/Concept replaces another 
"^DD",8932.1,8932.1,99.97,21,2,0)
Term/Concept.  This field is controlled by standardization and should 
"^DD",8932.1,8932.1,99.97,21,3,0)
only be changed by standardization processes.  This field contains a 
"^DD",8932.1,8932.1,99.97,21,4,0)
pointer to a VHA standard term that replaces this entry.
"^DD",8932.1,8932.1,99.97,"DT")
3160728
"^DD",8932.1,8932.1,99.98,0)
MASTER ENTRY FOR VUID^RSI^0:NO;1:YES;^VUID;2^Q
"^DD",8932.1,8932.1,99.98,3)
Enter a '1' if this is a master entry, otherwise enter a'0'.
"^DD",8932.1,8932.1,99.98,9)
^
"^DD",8932.1,8932.1,99.98,21,0)
^.001^2^2^3160831^^^
"^DD",8932.1,8932.1,99.98,21,1,0)
This field identifies the Master entry for a VUID associated with a 
"^DD",8932.1,8932.1,99.98,21,2,0)
Term/Concept.
"^DD",8932.1,8932.1,99.98,"DT")
3160728
"^DD",8932.1,8932.1,99.99,0)
VUID^RFXI^^VUID;1^S X=+X K:$L(X)>20!($L(X)<1)!'(X?1.20N) X
"^DD",8932.1,8932.1,99.99,1,0)
^.1
"^DD",8932.1,8932.1,99.99,1,1,0)
8932.1^AVUID
"^DD",8932.1,8932.1,99.99,1,1,1)
S ^USC(8932.1,"AVUID",$E(X,1,30),DA)=""
"^DD",8932.1,8932.1,99.99,1,1,2)
K ^USC(8932.1,"AVUID",$E(X,1,30),DA)
"^DD",8932.1,8932.1,99.99,1,1,3)
This cross-reference is by VUID.
"^DD",8932.1,8932.1,99.99,1,1,"%D",0)
^^1^1^3051026^
"^DD",8932.1,8932.1,99.99,1,1,"%D",1,0)
This cross-reference is by VUID.
"^DD",8932.1,8932.1,99.99,1,1,"DT")
3041223
"^DD",8932.1,8932.1,99.99,3)
Answer must be 1-20 digits in length.
"^DD",8932.1,8932.1,99.99,9)
^
"^DD",8932.1,8932.1,99.99,21,0)
^.001^2^2^3170109^^^^
"^DD",8932.1,8932.1,99.99,21,1,0)
VHA Unique ID (VUID). A unique meaningless integer assigned to reference
"^DD",8932.1,8932.1,99.99,21,2,0)
terms VHA wide.
"^DD",8932.1,8932.1,99.99,"DT")
3160728
"^DD",8932.1,8932.1,99.991,0)
EFFECTIVE DATE/TIME^8932.199DA^^TERMSTATUS;0
"^DD",8932.1,8932.1,99.991,9)
^
"^DD",8932.1,8932.1,99.991,21,0)
^.001^1^1^3161223^^^^
"^DD",8932.1,8932.1,99.991,21,1,0)
Describes the pair Status and Effective Date/Time for each reference term.
"^DD",8932.1,8932.1,99.991,"DT")
3160728
"^DD",8932.1,8932.1,90002,0)
INDIVIDUAL/NON^S^I:INDIVIDUAL;N:NON-INDIVIDUAL;^90002;2^Q
"^DD",8932.1,8932.1,90002,9)
^
"^DD",8932.1,8932.1,90002,21,0)
^^7^7^3020830^
"^DD",8932.1,8932.1,90002,21,1,0)
This field indicates whether the entry is for an Individual or for a
"^DD",8932.1,8932.1,90002,21,2,0)
Non-Individual, and was added at the request of IHS in their namespace,
"^DD",8932.1,8932.1,90002,21,3,0)
until the file supporting Non-Individuals can be defined.
"^DD",8932.1,8932.1,90002,21,4,0)
 
"^DD",8932.1,8932.1,90002,21,5,0)
Note that the current definition of the X12 CODE does not explicitly
"^DD",8932.1,8932.1,90002,21,6,0)
indicate whether an entry is for an Individual or for a Non-Individual,
"^DD",8932.1,8932.1,90002,21,7,0)
either in value or structure definition.
"^DD",8932.1,8932.1,90002,23,0)
^^11^11^3030708^
"^DD",8932.1,8932.1,90002,23,1,0)
This field is in the IHS numberspace, and is for their use pending
"^DD",8932.1,8932.1,90002,23,2,0)
development and deployment of a file to support a Non-Individual taxonomy.
"^DD",8932.1,8932.1,90002,23,3,0)
 
"^DD",8932.1,8932.1,90002,23,4,0)
PERSON CLASS is intended for Individuals, and as of this writing, plans
"^DD",8932.1,8932.1,90002,23,5,0)
are under way to create a separate file to support that portion of the
"^DD",8932.1,8932.1,90002,23,6,0)
X12 Provider Taxonomy which is for Non-Individuals.
"^DD",8932.1,8932.1,90002,23,7,0)
 
"^DD",8932.1,8932.1,90002,23,8,0)
August 30, 2002.
"^DD",8932.1,8932.1,90002,23,9,0)
 
"^DD",8932.1,8932.1,90002,23,10,0)
IHS has added entries for non-Individuals to the file.  Patches should 
"^DD",8932.1,8932.1,90002,23,11,0)
take that in to account when planning how to load new data.
"^DD",8932.1,8932.1,90002,"DT")
3030708
"^DD",8932.1,8932.111,0)
DEFINITION SUB-FIELD^^.01^1
"^DD",8932.1,8932.111,0,"DT")
3020828
"^DD",8932.1,8932.111,0,"NM","DEFINITION")

"^DD",8932.1,8932.111,0,"UP")
8932.1
"^DD",8932.1,8932.111,.01,0)
DEFINITION^W^^0;1^Q
"^DD",8932.1,8932.111,.01,3)
Enter the definition of this Provider Type.
"^DD",8932.1,8932.111,.01,21,0)
^^2^2^3020829^
"^DD",8932.1,8932.111,.01,21,1,0)
Enter the definition of this Provider Type.  Types with X12 codes are
"^DD",8932.1,8932.111,.01,21,2,0)
defined by the NUCC, provided by various sources.
"^DD",8932.1,8932.111,.01,23,0)
^^1^1^3020829^
"^DD",8932.1,8932.111,.01,23,1,0)
DEFINITION field added August 29, 2002.
"^DD",8932.1,8932.111,.01,"DT")
3020828
"^DD",8932.1,8932.199,0)
EFFECTIVE DATE/TIME SUB-FIELD^^.02^2
"^DD",8932.1,8932.199,0,"DT")
3050201
"^DD",8932.1,8932.199,0,"IX","B",8932.199,.01)

"^DD",8932.1,8932.199,0,"NM","EFFECTIVE DATE/TIME")
 
"^DD",8932.1,8932.199,0,"UP")
8932.1
"^DD",8932.1,8932.199,.01,0)
EFFECTIVE DATE/TIME^RDI^^0;1^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",8932.1,8932.199,.01,1,0)
^.1^^-1
"^DD",8932.1,8932.199,.01,1,1,0)
8932.199^B
"^DD",8932.1,8932.199,.01,1,1,1)
S ^USC(8932.1,DA(1),"TERMSTATUS","B",$E(X,1,30),DA)=""
"^DD",8932.1,8932.199,.01,1,1,2)
K ^USC(8932.1,DA(1),"TERMSTATUS","B",$E(X,1,30),DA)
"^DD",8932.1,8932.199,.01,1,1,"%D",0)
^^1^1^3050201^
"^DD",8932.1,8932.199,.01,1,1,"%D",1,0)
This cross-reference is by Effective Date/Time.
"^DD",8932.1,8932.199,.01,3)
Enter the date/time this status became effective.
"^DD",8932.1,8932.199,.01,9)
^
"^DD",8932.1,8932.199,.01,21,0)
^.001^2^2^3160831^^^^
"^DD",8932.1,8932.199,.01,21,1,0)
This is the date/time when the Status of the reference term was 
"^DD",8932.1,8932.199,.01,21,2,0)
established.
"^DD",8932.1,8932.199,.01,"DT")
3161223
"^DD",8932.1,8932.199,.02,0)
STATUS^RSI^1:ACTIVE;0:INACTIVE;^0;2^Q
"^DD",8932.1,8932.199,.02,1,0)
^.1^^0
"^DD",8932.1,8932.199,.02,3)
Enter a '1' for status of ACTIVE, or enter a '0' for INACTIVE.
"^DD",8932.1,8932.199,.02,21,0)
^.001^4^4^3161223^^^
"^DD",8932.1,8932.199,.02,21,1,0)
The Status of a reference term is either 'ACTIVE' or 'INACTIVE'. If 
"^DD",8932.1,8932.199,.02,21,2,0)
'ACTIVE', then the term will be accessible by end-users to document a 
"^DD",8932.1,8932.199,.02,21,3,0)
particular patient event. If 'INACTIVE', then the term will only be 
"^DD",8932.1,8932.199,.02,21,4,0)
accessible by the application to display legacy data.
"^DD",8932.1,8932.199,.02,"DT")
3170103
"^DIC",8932.1,8932.1,0)
PERSON CLASS^8932.1
"^DIC",8932.1,8932.1,0,"GL")
^USC(8932.1,
"^DIC",8932.1,8932.1,"%D",0)
^^18^18^3160728
"^DIC",8932.1,8932.1,"%D",1,0)
Per VHA Directive 2005-044, this file has been "locked down" by Data 
"^DIC",8932.1,8932.1,"%D",2,0)
Standardization (DS).  The file definition (i.e. data dictionary) shall 
"^DIC",8932.1,8932.1,"%D",3,0)
not be modified.  All additions, changes and deletions to entries in the 
"^DIC",8932.1,8932.1,"%D",4,0)
file shall be done by Enterprise Reference Terminology (ERT) using the 
"^DIC",8932.1,8932.1,"%D",5,0)
Master File Server (MFS), provided by Common Services (CS).  Creating 
"^DIC",8932.1,8932.1,"%D",6,0)
and/or editing locally defined fields in the file are not permitted.  Use 
"^DIC",8932.1,8932.1,"%D",7,0)
of locally defined fields that were created prior to the VHA Directive's 
"^DIC",8932.1,8932.1,"%D",8,0)
2005-044 effective date shall not be supported.
"^DIC",8932.1,8932.1,"%D",9,0)

"^DIC",8932.1,8932.1,"%D",10,0)
This file holds the CMS (HCFA) provider type data.
"^DIC",8932.1,8932.1,"%D",11,0)
 
"^DIC",8932.1,8932.1,"%D",12,0)
In 2001, ANSI ASC X12N asked the National Uniform Claim Committee (NUCC)
"^DIC",8932.1,8932.1,"%D",13,0)
to become the official maintainer of the Health Care Provider Taxonomy
"^DIC",8932.1,8932.1,"%D",14,0)
List (provider type).
"^DIC",8932.1,8932.1,"%D",15,0)
 
"^DIC",8932.1,8932.1,"%D",16,0)
PERSON CLASS is to be used for identifying provider types for roll-ups.
"^DIC",8932.1,8932.1,"%D",17,0)
 
"^DIC",8932.1,8932.1,"%D",18,0)
Patches need to review the technical description on field 90002.
"^DIC",8932.1,"B","PERSON CLASS",8932.1)

"BLD",9919,6)
^534
**END**
**END**

