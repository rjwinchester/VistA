Released EC*2*124 SEQ #116
Extracted from mail message
**KIDS**:EC*2.0*124^

**INSTALL NAME**
EC*2.0*124
"BLD",9427,0)
EC*2.0*124^EVENT CAPTURE^0^3140418^y
"BLD",9427,4,0)
^9.64PA^^
"BLD",9427,6.3)
4
"BLD",9427,"ABPKG")
n
"BLD",9427,"KRN",0)
^9.67PA^779.2^20
"BLD",9427,"KRN",.4,0)
.4
"BLD",9427,"KRN",.401,0)
.401
"BLD",9427,"KRN",.402,0)
.402
"BLD",9427,"KRN",.403,0)
.403
"BLD",9427,"KRN",.5,0)
.5
"BLD",9427,"KRN",.84,0)
.84
"BLD",9427,"KRN",3.6,0)
3.6
"BLD",9427,"KRN",3.8,0)
3.8
"BLD",9427,"KRN",9.2,0)
9.2
"BLD",9427,"KRN",9.8,0)
9.8
"BLD",9427,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",9427,"KRN",9.8,"NM",1,0)
ECUURPC^^0^B6143414
"BLD",9427,"KRN",9.8,"NM","B","ECUURPC",1)

"BLD",9427,"KRN",19,0)
19
"BLD",9427,"KRN",19.1,0)
19.1
"BLD",9427,"KRN",101,0)
101
"BLD",9427,"KRN",409.61,0)
409.61
"BLD",9427,"KRN",771,0)
771
"BLD",9427,"KRN",779.2,0)
779.2
"BLD",9427,"KRN",870,0)
870
"BLD",9427,"KRN",8989.51,0)
8989.51
"BLD",9427,"KRN",8989.52,0)
8989.52
"BLD",9427,"KRN",8994,0)
8994
"BLD",9427,"KRN","B",.4,.4)

"BLD",9427,"KRN","B",.401,.401)

"BLD",9427,"KRN","B",.402,.402)

"BLD",9427,"KRN","B",.403,.403)

"BLD",9427,"KRN","B",.5,.5)

"BLD",9427,"KRN","B",.84,.84)

"BLD",9427,"KRN","B",3.6,3.6)

"BLD",9427,"KRN","B",3.8,3.8)

"BLD",9427,"KRN","B",9.2,9.2)

"BLD",9427,"KRN","B",9.8,9.8)

"BLD",9427,"KRN","B",19,19)

"BLD",9427,"KRN","B",19.1,19.1)

"BLD",9427,"KRN","B",101,101)

"BLD",9427,"KRN","B",409.61,409.61)

"BLD",9427,"KRN","B",771,771)

"BLD",9427,"KRN","B",779.2,779.2)

"BLD",9427,"KRN","B",870,870)

"BLD",9427,"KRN","B",8989.51,8989.51)

"BLD",9427,"KRN","B",8989.52,8989.52)

"BLD",9427,"KRN","B",8994,8994)

"BLD",9427,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",9427,"QUES",0)
^9.62^^
"BLD",9427,"REQB",0)
^9.611^3^3
"BLD",9427,"REQB",1,0)
ICD*18.0*57^1
"BLD",9427,"REQB",2,0)
LEX*2.0*80^1
"BLD",9427,"REQB",3,0)
EC*2.0*104^1
"BLD",9427,"REQB","B","EC*2.0*104",3)

"BLD",9427,"REQB","B","ICD*18.0*57",1)

"BLD",9427,"REQB","B","LEX*2.0*80",2)

"MBREQ")
0
"PKG",151,-1)
1^1
"PKG",151,0)
EVENT CAPTURE^EC^Event Capture Workload Capture System^
"PKG",151,20,0)
^9.402P^^
"PKG",151,22,0)
^9.49I^1^1
"PKG",151,22,1,0)
2.0^2960508^2960926^1
"PKG",151,22,1,"PAH",1,0)
124^3140418
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","ECUURPC")
0^1^B6143414^B5650806
"RTN","ECUURPC",1,0)
ECUURPC ;ALB/JAM - Event Capture Data Entry Broker Utilities ;5 May 2008
"RTN","ECUURPC",2,0)
 ;;2.0;EVENT CAPTURE;**25,42,49,94,95,76,104,124**;8 May 96;Build 4
"RTN","ECUURPC",3,0)
 ;
"RTN","ECUURPC",4,0)
 ; Reference to $$CODEN^ICDEX supported by ICR #5747
"RTN","ECUURPC",5,0)
 ;
"RTN","ECUURPC",6,0)
ECHELP(RESULTS,ECARY) ;
"RTN","ECUURPC",7,0)
 ;
"RTN","ECUURPC",8,0)
 ;Broker call returns the entries from HELP FILE #9.2
"RTN","ECUURPC",9,0)
 ;        RPC: EC GETSCNHELP
"RTN","ECUURPC",10,0)
 ;INPUTS   ECARY - Contains the following elements
"RTN","ECUURPC",11,0)
 ;          HLPDA  - Help Frame Name
"RTN","ECUURPC",12,0)
 ;
"RTN","ECUURPC",13,0)
 ;OUTPUTS  RESULTS - Array of help text in the HELP FRAM File (#9.2)
"RTN","ECUURPC",14,0)
 ;
"RTN","ECUURPC",15,0)
 N HLPDA,DIC,X,Y
"RTN","ECUURPC",16,0)
 S HLPDA=$G(ECARY) I HLPDA="" Q
"RTN","ECUURPC",17,0)
 D SETENV^ECUMRPC K ^TMP($J,"ECHELP")
"RTN","ECUURPC",18,0)
 S DIC="^DIC(9.2,",DIC(0)="MN",X=HLPDA
"RTN","ECUURPC",19,0)
 D ^DIC M ^TMP($J,"ECHELP")=^DIC(9.2,+Y,1)
"RTN","ECUURPC",20,0)
 I $D(^TMP($J,"ECHELP")) D
"RTN","ECUURPC",21,0)
 . S $P(^TMP($J,"ECHELP",0),U)=$P(^DIC(9.2,+Y,0),U,2)
"RTN","ECUURPC",22,0)
 S RESULTS=$NA(^TMP($J,"ECHELP"))
"RTN","ECUURPC",23,0)
 Q
"RTN","ECUURPC",24,0)
FNDIEN(RESULTS,ECARY) ;find IEN
"RTN","ECUURPC",25,0)
 ;Broker call returns the IEN from a file
"RTN","ECUURPC",26,0)
 ;        RPC: EC GETIEN
"RTN","ECUURPC",27,0)
 ;INPUTS   ECARY - Contains the following data elements
"RTN","ECUURPC",28,0)
 ;          FIL  - File number
"RTN","ECUURPC",29,0)
 ;          TXT  - .01 description
"RTN","ECUURPC",30,0)
 ;
"RTN","ECUURPC",31,0)
 ;OUTPUTS  RESULTS - File IEN
"RTN","ECUURPC",32,0)
 ;
"RTN","ECUURPC",33,0)
 N TXT,FIL,DIC,X,Y
"RTN","ECUURPC",34,0)
 D SETENV^ECUMRPC
"RTN","ECUURPC",35,0)
 S FIL=$P(ECARY,U),TXT=$P(ECARY,U,2) I TXT=""!(FIL="") Q
"RTN","ECUURPC",36,0)
 ; For lookups on #80, use approved API
"RTN","ECUURPC",37,0)
 I FIL=80 S RESULTS=+$$CODEN^ICDEX(TXT,80) Q
"RTN","ECUURPC",38,0)
 ;
"RTN","ECUURPC",39,0)
 S DIC=FIL,DIC(0)="MN",X=TXT
"RTN","ECUURPC",40,0)
 I FIL=81.3 S DIC("S")="I +$P($$MOD^ICPTMOD(Y,""I""),U,7)=1"
"RTN","ECUURPC",41,0)
 D ^DIC I Y=-1 Q
"RTN","ECUURPC",42,0)
 S RESULTS=+Y
"RTN","ECUURPC",43,0)
 Q
"RTN","ECUURPC",44,0)
ECDATE(RESULTS,ECARY) ;
"RTN","ECUURPC",45,0)
 ;
"RTN","ECUURPC",46,0)
 ;Broker call returns an Fileman internal date
"RTN","ECUURPC",47,0)
 ;        RPC: EC GETDATE
"RTN","ECUURPC",48,0)
 ;INPUTS   ECARY - Contains the following elements
"RTN","ECUURPC",49,0)
 ;          DTSTR  - Date String
"RTN","ECUURPC",50,0)
 ;          FLG    - Date Flag (optional)
"RTN","ECUURPC",51,0)
 ;
"RTN","ECUURPC",52,0)
 ;OUTPUTS  RESULTS - A valid Fileman date format^External format
"RTN","ECUURPC",53,0)
 ;
"RTN","ECUURPC",54,0)
 N ECDTSTR,DIC,X,Y,DTSTR,FLG
"RTN","ECUURPC",55,0)
 D SETENV^ECUMRPC
"RTN","ECUURPC",56,0)
 S DTSTR=$P(ECARY,U),FLG=$P(ECARY,U,2) I DTSTR="" Q
"RTN","ECUURPC",57,0)
 S X=DTSTR,%DT="XT"_$S(FLG="R":"R",1:""),%DT(0)="-NOW" D ^%DT
"RTN","ECUURPC",58,0)
 I +Y<1 S RESULTS="0^Invalid Date/Time" Q
"RTN","ECUURPC",59,0)
 S RESULTS=Y D D^DIQ
"RTN","ECUURPC",60,0)
 S RESULTS=RESULTS_U_Y
"RTN","ECUURPC",61,0)
 Q
"RTN","ECUURPC",62,0)
PATCH(RESULTS,ECARY)    ;
"RTN","ECUURPC",63,0)
 ;
"RTN","ECUURPC",64,0)
 ;Broker call returns 1 if patch X is installed
"RTN","ECUURPC",65,0)
 ;        RPC: EC GETPATCH
"RTN","ECUURPC",66,0)
 ;INPUTS   ECARY - contains the patch number
"RTN","ECUURPC",67,0)
 ;
"RTN","ECUURPC",68,0)
 ;OUTPUTS  RESULTS 1 OR 0
"RTN","ECUURPC",69,0)
 ;
"RTN","ECUURPC",70,0)
 I ECARY="" Q
"RTN","ECUURPC",71,0)
 D SETENV^ECUMRPC
"RTN","ECUURPC",72,0)
 S RESULTS=$$PATCH^XPDUTL(ECARY)
"RTN","ECUURPC",73,0)
 Q
"RTN","ECUURPC",74,0)
VERSRV(RESULTS,ECARY,VERSION)   ; Return server version of option name and 
"RTN","ECUURPC",75,0)
 ; minimum GUI client version.
"RTN","ECUURPC",76,0)
 ;
"RTN","ECUURPC",77,0)
 ;Server/client version consist of 4 pieces, namely
"RTN","ECUURPC",78,0)
 ;    major version.minor version.release.build  (ex. 2.0.10.1)
"RTN","ECUURPC",79,0)
 ;
"RTN","ECUURPC",80,0)
 ;Broker call returns server version of option name
"RTN","ECUURPC",81,0)
 ;        RPC: EC GETVERSION
"RTN","ECUURPC",82,0)
 ;INPUTS   ECARY - contains the option name
"RTN","ECUURPC",83,0)
 ;         VERSION - EC GUI client version ;stay in partition for session
"RTN","ECUURPC",84,0)
 ;
"RTN","ECUURPC",85,0)
 ;OUTPUTS  RESULTS version number OR null ("")
"RTN","ECUURPC",86,0)
 ;           current server version^minimum client version
"RTN","ECUURPC",87,0)
 ;
"RTN","ECUURPC",88,0)
 S ECCLVER=$G(VERSION)
"RTN","ECUURPC",89,0)
 I $G(ECARY)="" Q
"RTN","ECUURPC",90,0)
 N ECLST,ECMINV
"RTN","ECUURPC",91,0)
 S ECMINV="2.1.2.1"  ;Minimum version of EC GUI client
"RTN","ECUURPC",92,0)
 D FIND^DIC(19,"",1,"X",ECARY,1,,,,"ECLST")
"RTN","ECUURPC",93,0)
 I 'ECLST("DILIST",0) S RESULTS="" Q
"RTN","ECUURPC",94,0)
 S RESULTS=ECLST("DILIST","ID",1,1)
"RTN","ECUURPC",95,0)
 S RESULTS=$P(RESULTS,"version ",2)_U_ECMINV
"RTN","ECUURPC",96,0)
 Q
"VER")
8.0^22.0
"BLD",9427,6)
^116
**END**
**END**

