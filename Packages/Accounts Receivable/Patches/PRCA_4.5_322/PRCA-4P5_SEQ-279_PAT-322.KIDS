EMERGENCY Released PRCA*4.5*322 SEQ #279
Extracted from mail message
**KIDS**:PRCA*4.5*322^

**INSTALL NAME**
PRCA*4.5*322
"BLD",10418,0)
PRCA*4.5*322^ACCOUNTS RECEIVABLE^0^3170214^y
"BLD",10418,1,0)
^^2^2^3170214^
"BLD",10418,1,1,0)
1. Insure the Implied bill# entered in Receipt Processing payment entry
"BLD",10418,1,2,0)
   posts to the intended implied bill first.
"BLD",10418,4,0)
^9.64PA^^
"BLD",10418,6.3)
1
"BLD",10418,"ABPKG")
n
"BLD",10418,"KRN",0)
^9.67PA^779.2^20
"BLD",10418,"KRN",.4,0)
.4
"BLD",10418,"KRN",.401,0)
.401
"BLD",10418,"KRN",.402,0)
.402
"BLD",10418,"KRN",.403,0)
.403
"BLD",10418,"KRN",.5,0)
.5
"BLD",10418,"KRN",.84,0)
.84
"BLD",10418,"KRN",3.6,0)
3.6
"BLD",10418,"KRN",3.8,0)
3.8
"BLD",10418,"KRN",9.2,0)
9.2
"BLD",10418,"KRN",9.8,0)
9.8
"BLD",10418,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",10418,"KRN",9.8,"NM",1,0)
RCBEPAYF^^0^B49142931
"BLD",10418,"KRN",9.8,"NM","B","RCBEPAYF",1)

"BLD",10418,"KRN",19,0)
19
"BLD",10418,"KRN",19.1,0)
19.1
"BLD",10418,"KRN",101,0)
101
"BLD",10418,"KRN",409.61,0)
409.61
"BLD",10418,"KRN",771,0)
771
"BLD",10418,"KRN",779.2,0)
779.2
"BLD",10418,"KRN",870,0)
870
"BLD",10418,"KRN",8989.51,0)
8989.51
"BLD",10418,"KRN",8989.52,0)
8989.52
"BLD",10418,"KRN",8994,0)
8994
"BLD",10418,"KRN","B",.4,.4)

"BLD",10418,"KRN","B",.401,.401)

"BLD",10418,"KRN","B",.402,.402)

"BLD",10418,"KRN","B",.403,.403)

"BLD",10418,"KRN","B",.5,.5)

"BLD",10418,"KRN","B",.84,.84)

"BLD",10418,"KRN","B",3.6,3.6)

"BLD",10418,"KRN","B",3.8,3.8)

"BLD",10418,"KRN","B",9.2,9.2)

"BLD",10418,"KRN","B",9.8,9.8)

"BLD",10418,"KRN","B",19,19)

"BLD",10418,"KRN","B",19.1,19.1)

"BLD",10418,"KRN","B",101,101)

"BLD",10418,"KRN","B",409.61,409.61)

"BLD",10418,"KRN","B",771,771)

"BLD",10418,"KRN","B",779.2,779.2)

"BLD",10418,"KRN","B",870,870)

"BLD",10418,"KRN","B",8989.51,8989.51)

"BLD",10418,"KRN","B",8989.52,8989.52)

"BLD",10418,"KRN","B",8994,8994)

"BLD",10418,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",10418,"QUES",0)
^9.62^^
"BLD",10418,"REQB",0)
^9.611^1^1
"BLD",10418,"REQB",1,0)
PRCA*4.5*301^2
"BLD",10418,"REQB","B","PRCA*4.5*301",1)

"MBREQ")
0
"PKG",142,-1)
1^1
"PKG",142,0)
ACCOUNTS RECEIVABLE^PRCA^BILL COLLECTIONS
"PKG",142,20,0)
^9.402P^^0
"PKG",142,22,0)
^9.49I^1^1
"PKG",142,22,1,0)
4.5^^2950320
"PKG",142,22,1,"PAH",1,0)
322^3170214
"PKG",142,22,1,"PAH",1,1,0)
^^2^2^3170214
"PKG",142,22,1,"PAH",1,1,1,0)
1. Insure the Implied bill# entered in Receipt Processing payment entry
"PKG",142,22,1,"PAH",1,1,2,0)
   posts to the intended implied bill first.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","RCBEPAYF")
0^1^B49142931^B49084627
"RTN","RCBEPAYF",1,0)
RCBEPAYF ;WISC/RFJ-first party payment processing(called by rcbepay) ;1 Jun 00
"RTN","RCBEPAYF",2,0)
 ;;4.5;Accounts Receivable;**153,301,322**;Mar 20, 1995;Build 1
"RTN","RCBEPAYF",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCBEPAYF",4,0)
 Q
"RTN","RCBEPAYF",5,0)
 ;
"RTN","RCBEPAYF",6,0)
 ;PRCA*4.5*322 Awaken commented line to post payemnt to
"RTN","RCBEPAYF",7,0)
 ;             implied bill# for receipt payment
"RTN","RCBEPAYF",8,0)
 ;
"RTN","RCBEPAYF",9,0)
FIRSTPTY() ;  apply payment to first party account
"RTN","RCBEPAYF",10,0)
 ;  called by rcbepay
"RTN","RCBEPAYF",11,0)
 N PAYMENT,RCBILBAL,RCBILLDA,RCDATE,RCDEBTDA,RCERROR,RCREPAMT,RCSTATUS,RCTRANDA,X
"RTN","RCBEPAYF",12,0)
 K ^TMP("RCBEPAY",$J)
"RTN","RCBEPAYF",13,0)
 ; acc't lookup info  BB prca*4.5*301
"RTN","RCBEPAYF",14,0)
 S CSBILLDA=+$E($P(RCDATA,"^",7),22,99),CSDEP=$P(RCDATA,"^",19),CSBILL=$E($P(RCDATA,"^",7),1,3)_"-"_$E($P(RCDATA,"^",7),4,10)
"RTN","RCBEPAYF",15,0)
 I 'CSDEP S CSDEP=169     ;Default for missing pay type
"RTN","RCBEPAYF",16,0)
 I $E($G(CSDEP),1,3)=170 S CSBILLDA=$O(^PRCA(430,"B",CSBILL,0))
"RTN","RCBEPAYF",17,0)
 I RCDATA["PRCA(430," S CSBILLDA=+$P(RCDATA,"^",3)
"RTN","RCBEPAYF",18,0)
 I CSDEP>167,CSDEP<171 S RCBETYPE=CSDEP
"RTN","RCBEPAYF",19,0)
 ;end PRCA*4.5*301
"RTN","RCBEPAYF",20,0)
 ;
"RTN","RCBEPAYF",21,0)
 ;  look up account in debtor file
"RTN","RCBEPAYF",22,0)
 S RCDEBTDA=$$DEBT^RCEVUTL(RCACCT)
"RTN","RCBEPAYF",23,0)
 I RCDEBTDA<0 Q "1^Could not add Patient ("_RCACCT_") to debtor file"
"RTN","RCBEPAYF",24,0)
 ;
"RTN","RCBEPAYF",25,0)
 ;  lock the debtor account
"RTN","RCBEPAYF",26,0)
 L +^RCD(340,RCDEBTDA):20 I '$T Q "1^Another user is working with this patient account"
"RTN","RCBEPAYF",27,0)
 ;
"RTN","RCBEPAYF",28,0)
 ;  build list of active(16) and open(42) bills for patient
"RTN","RCBEPAYF",29,0)
 ;  sorted by date bill prepared
"RTN","RCBEPAYF",30,0)
 F RCSTATUS=16,42 S RCBILLDA=0 F  S RCBILLDA=$O(^PRCA(430,"AS",RCDEBTDA,RCSTATUS,RCBILLDA)) Q:'RCBILLDA  D
"RTN","RCBEPAYF",31,0)
 .   ;  check bill for prepayment
"RTN","RCBEPAYF",32,0)
 .   I $P(^PRCA(430,RCBILLDA,0),"^",2)=26 Q  ; ACCOUNTS RECEIVABLE CATEGORY (PREPAYMENT=26)
"RTN","RCBEPAYF",33,0)
 .   ;
"RTN","RCBEPAYF",34,0)
 .   ;  checks if payment was via a "170" CS Treasury lockbox transaction ; prca*4.5*301
"RTN","RCBEPAYF",35,0)
 .   ;    Ignores bill if bill is NOT a "TCSP" CS bill
"RTN","RCBEPAYF",36,0)
 .   ;    else sets as FIRST if designated as bill to be applied, or subsequent in oldest date order
"RTN","RCBEPAYF",37,0)
 .   I CSDEP=170 D  Q  ; prca*4.5*301
"RTN","RCBEPAYF",38,0)
 .   .  I $D(^PRCA(430,"TCSP",RCBILLDA)) D  Q  ;
"RTN","RCBEPAYF",39,0)
 .   .  . I CSBILLDA=RCBILLDA S ^TMP("RCBEPAY",$J,0,RCBILLDA)="" Q
"RTN","RCBEPAYF",40,0)
 .   .  . S ^TMP("RCBEPAY",$J,880000000+$P($G(^PRCA(430,RCBILLDA,0)),"^",10),RCBILLDA)=""
"RTN","RCBEPAYF",41,0)
 .   .  S ^TMP("RCBEPAY",$J,990000000+$P($G(^PRCA(430,RCBILLDA,0)),"^",10),RCBILLDA)=""
"RTN","RCBEPAYF",42,0)
 .   I $E($G(CSDEP),1,3)'=168,$D(^PRCA(430,"TCSP",RCBILLDA)) Q   ;BB prca*4.5*301
"RTN","RCBEPAYF",43,0)
 .   I CSBILLDA=RCBILLDA S ^TMP("RCBEPAY",$J,0,RCBILLDA)="" Q   ;PRCA*4.5*322
"RTN","RCBEPAYF",44,0)
 .   S ^TMP("RCBEPAY",$J,+$P($G(^PRCA(430,RCBILLDA,0)),"^",10),RCBILLDA)=""
"RTN","RCBEPAYF",45,0)
PROC ;
"RTN","RCBEPAYF",46,0)
 ;  loop all the bills for a patients account and keep looping them
"RTN","RCBEPAYF",47,0)
 ;  until either there is no more bills or the money paid is zero.
"RTN","RCBEPAYF",48,0)
 ;  the bills are looped in case of repayments.  if there is money
"RTN","RCBEPAYF",49,0)
 ;  left over, this will apply more money to the repayment bills
"RTN","RCBEPAYF",50,0)
 ;  instead of creating a prepayment.  a prepayment should only be
"RTN","RCBEPAYF",51,0)
 ;  created if all bills for the account is collected/closed.
"RTN","RCBEPAYF",52,0)
 S RCERROR=0
"RTN","RCBEPAYF",53,0)
 ;  quit the loop if no money left to apply OR an error occurred OR
"RTN","RCBEPAYF",54,0)
 ;  no more bills left to apply payment to
"RTN","RCBEPAYF",55,0)
 F  D  I 'RCPAYAMT!(RCERROR)!($O(^TMP("RCBEPAY",$J,""))="") Q
"RTN","RCBEPAYF",56,0)
 .   ;  loop the bills by date prepared and apply the payment
"RTN","RCBEPAYF",57,0)
 .   ;  quit if no money left to apply OR and error occurred
"RTN","RCBEPAYF",58,0)
 .   S RCDATE="" F  S RCDATE=$O(^TMP("RCBEPAY",$J,RCDATE)) Q:RCDATE=""  D  I 'RCPAYAMT!(RCERROR) Q
"RTN","RCBEPAYF",59,0)
 .   .   S RCBILLDA=0 F  S RCBILLDA=$O(^TMP("RCBEPAY",$J,RCDATE,RCBILLDA)) Q:'RCBILLDA  D  I 'RCPAYAMT!(RCERROR) Q
"RTN","RCBEPAYF",60,0)
 .   .   .   L +^PRCA(430,RCBILLDA):10
"RTN","RCBEPAYF",61,0)
 .   .   .   I '$T S RCERROR="1^Another user is working with bill "_$P(^PRCA(430,RCBILLDA,0),"^") Q
"RTN","RCBEPAYF",62,0)
 .   .   .   ;
"RTN","RCBEPAYF",63,0)
 .   .   .   ;  exempt any interest/admin/penalty charges added on or after
"RTN","RCBEPAYF",64,0)
 .   .   .   ;  the payment date
"RTN","RCBEPAYF",65,0)
 .   .   .   D EXEMPT^RCBECHGE(RCBILLDA,RCPAYDAT)
"RTN","RCBEPAYF",66,0)
 .   .   .   ;
"RTN","RCBEPAYF",67,0)
 .   .   .   ;  get the repayment amount (if any)
"RTN","RCBEPAYF",68,0)
 .   .   .   S RCREPAMT=$P($G(^PRCA(430,RCBILLDA,4)),"^",3) I CSDEP=168!(CSDEP=170) S RCREPAMT=0   ;PRCA*4.5*301
"RTN","RCBEPAYF",69,0)
 .   .   .   ;
"RTN","RCBEPAYF",70,0)
 .   .   .   ;  get the balance of the bill
"RTN","RCBEPAYF",71,0)
 .   .   .   S X=$G(^PRCA(430,RCBILLDA,7))
"RTN","RCBEPAYF",72,0)
 .   .   .   S RCBILBAL=$P(X,"^")+$P(X,"^",2)+$P(X,"^",3)+$P(X,"^",4)+$P(X,"^",5)
"RTN","RCBEPAYF",73,0)
 .   .   .   ;  if bill has no balance, chg status = collected/closed
"RTN","RCBEPAYF",74,0)
 .   .   .   I 'RCBILBAL D  Q    ;PRCA*4.5*301
"RTN","RCBEPAYF",75,0)
 .   .   .   . D CHGSTAT^RCBEUBIL(RCBILLDA,22)
"RTN","RCBEPAYF",76,0)
 .   .   .   . L -^PRCA(430,RCBILLDA)
"RTN","RCBEPAYF",77,0)
 .   .   .   . K ^TMP("RCBEPAY",$J,RCDATE,RCBILLDA)
"RTN","RCBEPAYF",78,0)
 .   .   .   ;
"RTN","RCBEPAYF",79,0)
 .   .   .   ;  determine amount to pay
"RTN","RCBEPAYF",80,0)
 .   .   .   ;  if the payment is greater than billed amount, pay billed amount
"RTN","RCBEPAYF",81,0)
 .   .   .   ;  if there is a repayment amount, pay the repayment amount
"RTN","RCBEPAYF",82,0)
 .   .   .   ;  do not allow payment to exceed amount paid
"RTN","RCBEPAYF",83,0)
 .   .   .   S PAYMENT=RCPAYAMT
"RTN","RCBEPAYF",84,0)
 .   .   .   I PAYMENT>RCBILBAL S PAYMENT=RCBILBAL
"RTN","RCBEPAYF",85,0)
 .   .   .   I RCREPAMT S PAYMENT=RCREPAMT I PAYMENT>RCBILBAL S PAYMENT=RCBILBAL
"RTN","RCBEPAYF",86,0)
 .   .   .   I PAYMENT>RCPAYAMT S PAYMENT=RCPAYAMT
"RTN","RCBEPAYF",87,0)
 .   .   .   ;
"RTN","RCBEPAYF",88,0)
 .   .   .   ;  apply payment to bill
"RTN","RCBEPAYF",89,0)
 .   .   .   ;  return error if problem adding payment transaction
"RTN","RCBEPAYF",90,0)
 .   .   .   S RCTRANDA=$$PAYTRAN^RCBEPAY1(RCBILLDA,PAYMENT,RCRECTDA,RCPAYDA,RCPAYDAT)
"RTN","RCBEPAYF",91,0)
 .   .   .   I 'RCTRANDA L -^PRCA(430,RCBILLDA) S RCERROR="1^"_$P(RCTRANDA,"^",2) Q
"RTN","RCBEPAYF",92,0)
 .   .   .   ;
"RTN","RCBEPAYF",93,0)
 .   .   .   ;  payment applied to bill, subtract off the payment amount
"RTN","RCBEPAYF",94,0)
 .   .   .   S RCPAYAMT=RCPAYAMT-$P($G(^PRCA(433,RCTRANDA,1)),"^",5)
"RTN","RCBEPAYF",95,0)
 .   .   .   ;
"RTN","RCBEPAYF",96,0)
 .   .   .   ;  set the amount processed on the receipt payment
"RTN","RCBEPAYF",97,0)
 .   .   .   D SETAMT^RCBEPAY(RCRECTDA,RCPAYDA,$P($G(^PRCA(433,RCTRANDA,1)),"^",5))
"RTN","RCBEPAYF",98,0)
 .   .   .   ;
"RTN","RCBEPAYF",99,0)
 .   .   .   ;  if Bill is Cross-Serviced, then create DECREASED ADJUSTMENT for 5B reporting
"RTN","RCBEPAYF",100,0)
 .   .   .   I $E($G(CSDEP),1,3)=168,$D(^PRCA(430,"TCSP",RCBILLDA)) D CS5B(RCBILLDA) ; BB prca*4.5*301
"RTN","RCBEPAYF",101,0)
 .   .   .   I $E($G(CSDEP),1,3)=170,RCBILLDA'=CSBILLDA,$D(^PRCA(430,"TCSP",RCBILLDA)) D CS5B(RCBILLDA) ; BB prca*4.5*301
"RTN","RCBEPAYF",102,0)
 .   .   .   ;
"RTN","RCBEPAYF",103,0)
 .   .   .   ;  get the new balance of the bill.  if it is zero
"RTN","RCBEPAYF",104,0)
 .   .   .   ;  remove it from the tmp global (this will stop the
"RTN","RCBEPAYF",105,0)
 .   .   .   ;  loop if dollars are left and no bills are active)
"RTN","RCBEPAYF",106,0)
 .   .   .   S X=$G(^PRCA(430,RCBILLDA,7))
"RTN","RCBEPAYF",107,0)
 .   .   .   S RCBILBAL=$P(X,"^")+$P(X,"^",2)+$P(X,"^",3)+$P(X,"^",4)+$P(X,"^",5)
"RTN","RCBEPAYF",108,0)
 .   .   .   I 'RCBILBAL D      ;PRCA*4.5*301
"RTN","RCBEPAYF",109,0)
 .   .   .   . D CHGSTAT^RCBEUBIL(RCBILLDA,22)
"RTN","RCBEPAYF",110,0)
 .   .   .   . K ^TMP("RCBEPAY",$J,RCDATE,RCBILLDA)
"RTN","RCBEPAYF",111,0)
 .   .   .   . I $D(^PRCA(430,"TCSP",RCBILLDA)),RCBILLDA=CSBILLDA S $P(^PRCA(430,RCBILLDA,15),"^")="" K ^PRCA(430,"TCSP",RCBILLDA)     ;S DA=RCBILLDA,DIE="^PRCA(430,",DR="151////@" D ^DIE K DIE,DA,DR
"RTN","RCBEPAYF",112,0)
 .   .   .   ;
"RTN","RCBEPAYF",113,0)
 .   .   .   L -^PRCA(430,RCBILLDA)
"RTN","RCBEPAYF",114,0)
 ;
"RTN","RCBEPAYF",115,0)
 K ^TMP("RCBEPAY",$J)
"RTN","RCBEPAYF",116,0)
 ;
"RTN","RCBEPAYF",117,0)
 ;  if an error occurred, quit
"RTN","RCBEPAYF",118,0)
 I RCERROR L -^RCD(340,RCDEBTDA) Q RCERROR
"RTN","RCBEPAYF",119,0)
 ;
"RTN","RCBEPAYF",120,0)
 ;  if no money left, quit
"RTN","RCBEPAYF",121,0)
 I 'RCPAYAMT L -^RCD(340,RCDEBTDA) Q 0
"RTN","RCBEPAYF",122,0)
 ;
"RTN","RCBEPAYF",123,0)
 ;  dollars remaining, create a prepayment
"RTN","RCBEPAYF",124,0)
 N %,%H,%I,%X,D,D0,DFN,DI,DIC,DICR,DIG,DIH,DIU,DIV,DIW,DQ,I,PRCA,RCREF,VA,VADM
"RTN","RCBEPAYF",125,0)
 D EN^PRCAPAY3(RCACCT,RCPAYAMT,RCPAYDAT,DUZ,$P(^RCY(344,RCRECTDA,0),"^"),"","",.RCERROR,"")
"RTN","RCBEPAYF",126,0)
 ;  no errors
"RTN","RCBEPAYF",127,0)
 I RCERROR=""!(RCERROR=0) D
"RTN","RCBEPAYF",128,0)
 .   S RCERROR=0
"RTN","RCBEPAYF",129,0)
 .   ;  set the amount processed on the receipt
"RTN","RCBEPAYF",130,0)
 .   D SETAMT^RCBEPAY(RCRECTDA,RCPAYDA,RCPAYAMT)
"RTN","RCBEPAYF",131,0)
 ;  error creating prepayment
"RTN","RCBEPAYF",132,0)
 I RCERROR'=0 S RCERROR="1^"_RCERROR
"RTN","RCBEPAYF",133,0)
 ;
"RTN","RCBEPAYF",134,0)
 L -^RCD(340,RCDEBTDA)
"RTN","RCBEPAYF",135,0)
 Q RCERROR
"RTN","RCBEPAYF",136,0)
 ;
"RTN","RCBEPAYF",137,0)
CS5B(RCBILLDA) ; logs DEC ADJ for 5B CS reporting if Cross-Serviced bill ; prca*4.5*301 ; LEG  
"RTN","RCBEPAYF",138,0)
 ; note: can use either I +$G(^PRCA(430,RCBILLDA,15)) D  ; bill is Cross-Serviced
"RTN","RCBEPAYF",139,0)
 I $D(^PRCA(430,"TCSP",RCBILLDA)) D  ; bill is Cross-Serviced
"RTN","RCBEPAYF",140,0)
 . ;  checks for valid bill
"RTN","RCBEPAYF",141,0)
 . S DIC="^PRCA(430,",DIC(0)="KMNZ",X=RCBILLDA D ^DIC
"RTN","RCBEPAYF",142,0)
 . ; checks if DEC ADJ record was previously logged
"RTN","RCBEPAYF",143,0)
 . S IDX=0,PREV=0
"RTN","RCBEPAYF",144,0)
 . F  S IDX=$O(^PRCA(430,RCBILLDA,17,IDX)) Q:'IDX  D  ;
"RTN","RCBEPAYF",145,0)
 . . I +$G(^PRCA(430,RCBILLDA,17,IDX,0))=RCTRANDA S PREV=1
"RTN","RCBEPAYF",146,0)
 . I PREV Q  ; transaction was already logged
"RTN","RCBEPAYF",147,0)
 . ;
"RTN","RCBEPAYF",148,0)
 . ;  gets next DEC ADJ subfile entry number or creates 1st
"RTN","RCBEPAYF",149,0)
 . K DR,DA,DD,DO,DIC,DIE
"RTN","RCBEPAYF",150,0)
 . S X=RCTRANDA       ; CS DECREASE ADJ TRANS NUMBER
"RTN","RCBEPAYF",151,0)
 . S DA(1)=RCBILLDA
"RTN","RCBEPAYF",152,0)
 . S DIC="^PRCA(430,"_DA(1)_",17,"
"RTN","RCBEPAYF",153,0)
 . S DIC(0)="KLMNZ"
"RTN","RCBEPAYF",154,0)
 . S DIC("P")=$P(^DD(430,171,0),"^",2)
"RTN","RCBEPAYF",155,0)
 . D ^DIC
"RTN","RCBEPAYF",156,0)
 . ;  set DEC ADJ Fields
"RTN","RCBEPAYF",157,0)
 . S DIE=DIC K DIC
"RTN","RCBEPAYF",158,0)
 . S DA=+Y
"RTN","RCBEPAYF",159,0)
 . S DR="1////1" ; SEND TCSP RECORD 5B
"RTN","RCBEPAYF",160,0)
 . S DIC("DR")=DR
"RTN","RCBEPAYF",161,0)
 . D ^DIE
"RTN","RCBEPAYF",162,0)
 Q
"VER")
8.0^22.0
"BLD",10418,6)
^279
**END**
**END**

