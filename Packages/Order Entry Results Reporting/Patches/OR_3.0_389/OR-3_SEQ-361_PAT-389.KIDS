Released OR*3*389 SEQ #361
Extracted from mail message
**KIDS**:OR*3.0*389^

**INSTALL NAME**
OR*3.0*389
"BLD",8986,0)
OR*3.0*389^ORDER ENTRY/RESULTS REPORTING^0^3160112^y
"BLD",8986,4,0)
^9.64PA^100.98^3
"BLD",8986,4,100,0)
100
"BLD",8986,4,100,2,0)
^9.641^100^1
"BLD",8986,4,100,2,100,0)
ORDER  (File-top level)
"BLD",8986,4,100,2,100,1,0)
^9.6411^7^2
"BLD",8986,4,100,2,100,1,2,0)
DIALOG
"BLD",8986,4,100,2,100,1,7,0)
ITEM ORDERED
"BLD",8986,4,100,222)
y^n^p^^^^n^^n
"BLD",8986,4,100,224)

"BLD",8986,4,100.98,0)
100.98
"BLD",8986,4,100.98,222)
n^n^f^^y^^y^r^n
"BLD",8986,4,100.98,224)
I $$SENDDSPG^ORY389($P(^(0),U))
"BLD",8986,4,101.41,0)
101.41
"BLD",8986,4,101.41,222)
n^n^f^^y^^y^r^n
"BLD",8986,4,101.41,224)
I $$SENDDLG^ORY389($P(^(0),U))
"BLD",8986,4,"APDD",100,100)

"BLD",8986,4,"APDD",100,100,2)

"BLD",8986,4,"APDD",100,100,7)

"BLD",8986,4,"B",100,100)

"BLD",8986,4,"B",100.98,100.98)

"BLD",8986,4,"B",101.41,101.41)

"BLD",8986,6.3)
17
"BLD",8986,"INI")

"BLD",8986,"INID")
y
"BLD",8986,"INIT")
POST^ORY389
"BLD",8986,"KRN",0)
^9.67PA^779.2^20
"BLD",8986,"KRN",.4,0)
.4
"BLD",8986,"KRN",.4,"NM",0)
^9.68A^^0
"BLD",8986,"KRN",.401,0)
.401
"BLD",8986,"KRN",.401,"NM",0)
^9.68A^^0
"BLD",8986,"KRN",.402,0)
.402
"BLD",8986,"KRN",.402,"NM",0)
^9.68A^^0
"BLD",8986,"KRN",.403,0)
.403
"BLD",8986,"KRN",.403,"NM",0)
^9.68A^^0
"BLD",8986,"KRN",.5,0)
.5
"BLD",8986,"KRN",.84,0)
.84
"BLD",8986,"KRN",3.6,0)
3.6
"BLD",8986,"KRN",3.6,"NM",0)
^9.68A^^0
"BLD",8986,"KRN",3.8,0)
3.8
"BLD",8986,"KRN",3.8,"NM",0)
^9.68A^^0
"BLD",8986,"KRN",9.2,0)
9.2
"BLD",8986,"KRN",9.2,"NM",0)
^9.68A^^0
"BLD",8986,"KRN",9.8,0)
9.8
"BLD",8986,"KRN",9.8,"NM",0)
^9.68A^7^7
"BLD",8986,"KRN",9.8,"NM",1,0)
ORCMEDT4^^0^B93356095
"BLD",8986,"KRN",9.8,"NM",2,0)
ORQQPXRM^^0^B30470800
"BLD",8986,"KRN",9.8,"NM",3,0)
ORY389^^0^B181884503
"BLD",8986,"KRN",9.8,"NM",4,0)
ORY389A^^0^B9015623
"BLD",8986,"KRN",9.8,"NM",5,0)
ORCMEDT9^^0^B48472878
"BLD",8986,"KRN",9.8,"NM",6,0)
ORY389E^^0^B15752385
"BLD",8986,"KRN",9.8,"NM",7,0)
ORCMEDT0^^0^B20168167
"BLD",8986,"KRN",9.8,"NM","B","ORCMEDT0",7)

"BLD",8986,"KRN",9.8,"NM","B","ORCMEDT4",1)

"BLD",8986,"KRN",9.8,"NM","B","ORCMEDT9",5)

"BLD",8986,"KRN",9.8,"NM","B","ORQQPXRM",2)

"BLD",8986,"KRN",9.8,"NM","B","ORY389",3)

"BLD",8986,"KRN",9.8,"NM","B","ORY389A",4)

"BLD",8986,"KRN",9.8,"NM","B","ORY389E",6)

"BLD",8986,"KRN",19,0)
19
"BLD",8986,"KRN",19,"NM",0)
^9.68A^3^3
"BLD",8986,"KRN",19,"NM",1,0)
ORCM MGMT^^2
"BLD",8986,"KRN",19,"NM",2,0)
OR CONV INPT QO TO CLIN ORD QO^^0
"BLD",8986,"KRN",19,"NM",3,0)
OR CONVERT UD TO CM^^1^
"BLD",8986,"KRN",19,"NM","B","OR CONV INPT QO TO CLIN ORD QO",2)

"BLD",8986,"KRN",19,"NM","B","OR CONVERT UD TO CM",3)

"BLD",8986,"KRN",19,"NM","B","ORCM MGMT",1)

"BLD",8986,"KRN",19.1,0)
19.1
"BLD",8986,"KRN",101,0)
101
"BLD",8986,"KRN",409.61,0)
409.61
"BLD",8986,"KRN",771,0)
771
"BLD",8986,"KRN",779.2,0)
779.2
"BLD",8986,"KRN",870,0)
870
"BLD",8986,"KRN",8989.51,0)
8989.51
"BLD",8986,"KRN",8989.52,0)
8989.52
"BLD",8986,"KRN",8994,0)
8994
"BLD",8986,"KRN","B",.4,.4)

"BLD",8986,"KRN","B",.401,.401)

"BLD",8986,"KRN","B",.402,.402)

"BLD",8986,"KRN","B",.403,.403)

"BLD",8986,"KRN","B",.5,.5)

"BLD",8986,"KRN","B",.84,.84)

"BLD",8986,"KRN","B",3.6,3.6)

"BLD",8986,"KRN","B",3.8,3.8)

"BLD",8986,"KRN","B",9.2,9.2)

"BLD",8986,"KRN","B",9.8,9.8)

"BLD",8986,"KRN","B",19,19)

"BLD",8986,"KRN","B",19.1,19.1)

"BLD",8986,"KRN","B",101,101)

"BLD",8986,"KRN","B",409.61,409.61)

"BLD",8986,"KRN","B",771,771)

"BLD",8986,"KRN","B",779.2,779.2)

"BLD",8986,"KRN","B",870,870)

"BLD",8986,"KRN","B",8989.51,8989.51)

"BLD",8986,"KRN","B",8989.52,8989.52)

"BLD",8986,"KRN","B",8994,8994)

"BLD",8986,"PRE")
ORY389E
"BLD",8986,"QUES",0)
^9.62^1^1
"BLD",8986,"QUES",1,0)
POS1
"BLD",8986,"QUES",1,1)
FU^3:50
"BLD",8986,"QUES",1,"A")
Select the report recipient:
"BLD",8986,"QUES",1,"M")
D RECIP^ORY389E K DIR,DIRUT
"BLD",8986,"QUES","B","POS1",1)

"BLD",8986,"REQB",0)
^9.611^3^3
"BLD",8986,"REQB",1,0)
OR*3.0*296^2
"BLD",8986,"REQB",2,0)
OR*3.0*313^2
"BLD",8986,"REQB",3,0)
OR*3.0*306^2
"BLD",8986,"REQB","B","OR*3.0*296",1)

"BLD",8986,"REQB","B","OR*3.0*306",3)

"BLD",8986,"REQB","B","OR*3.0*313",2)

"DATA",100.98,27,0)
SUPPLIES/DEVICES^Supplies^SPLY^171
"DATA",100.98,62,0)
CLINIC MEDICATIONS^Clinic Medications^C RX^15992
"DATA",100.98,67,0)
CLINIC INFUSIONS^Clinic Infusions^CI RX^15993
"DATA",100.98,70,0)
CLINIC ORDERS^Clinic Orders^CL OR
"DATA",101.41,171,0)
PSO SUPPLY^Supplies^^D^27^1^141^1^2
"DATA",101.41,171,3)
D PROVIDER^ORCDPSIV Q:$G(ORQUIT)  D EN^ORCDPS1("O")
"DATA",101.41,171,3.1)
D EN1^ORCDPS1
"DATA",101.41,171,4)
D EXIT^ORCDPS1
"DATA",101.41,171,5)
^^^Supplies^140
"DATA",101.41,171,7)
D SC^ORCDPS3
"DATA",101.41,171,10,0)
^101.412IA^21^21
"DATA",101.41,171,10,1,0)
1^4^^Medication: ^^1^^^^S.SPLY
"DATA",101.41,171,10,1,1)
Enter the item or device you wish to order for this patient.
"DATA",101.41,171,10,1,2)
1^@1350
"DATA",101.41,171,10,1,4)
I '$G(^(.1))!($G(^(.1))>$$NOW^XLFDT)
"DATA",101.41,171,10,1,5)
D DEA^ORCDPS1 Q:'$G(DONE)  I $G(ORESET)'=+Y D CHANGED^ORCDPS1("OI")
"DATA",101.41,171,10,1,6)
N IDX,SCR S IDX=$G(ORDIALOG(PROMPT,"D")),SCR=$G(ORDIALOG(PROMPT,"S")) D XHELP^ORDD43(IDX,SCR)
"DATA",101.41,171,10,1,9)
D ENOI^ORCDPS1
"DATA",101.41,171,10,1,10)
S OROI=+$G(ORDIALOG(PROMPT,INST)) D ORDITM^ORCDPS1(OROI),NFI^ORCDPS1(OROI)
"DATA",101.41,171,10,2,0)
2^136^^Dose: ^^1^1^^C^^^^Instructions: 
"DATA",101.41,171,10,2,1)
Enter the dosage instructions for this order, as an amount and units.
"DATA",101.41,171,10,2,5)
D CHDOSE^ORCDPS2 Q:'$G(DONE)  D DEFCONJ^ORCDPS1
"DATA",101.41,171,10,2,6)
D LIST^ORCD:$G(ORDIALOG(PROMPT,"LIST")),F^ORCDLGH:'$G(ORDIALOG(PROMPT,"LIST"))
"DATA",101.41,171,10,2,9)
D DOSES^ORCDPS2 I $G(ORDIALOG(PROMPT,"LIST")),'$O(ORDIALOG(PROMPT,0)),'$G(ORENEW) D LIST^ORCD
"DATA",101.41,171,10,2,10)
D EXDOSE^ORCDPS2
"DATA",101.41,171,10,3,0)
2.1^137^^^^0^^^C^^136
"DATA",101.41,171,10,3,1)
Enter the route of administration for this drug.
"DATA",101.41,171,10,3,2)
^1~3
"DATA",101.41,171,10,3,4)
I $P(^(0),U,4)
"DATA",101.41,171,10,3,6)
D LIST^ORCD:$G(ORDIALOG(PROMPT,"LIST"))&(X="?"),P^ORCDLGH:'$G(ORDIALOG(PROMPT,"LIST"))!(X'="?")
"DATA",101.41,171,10,3,7)
D DEFRTE^ORCDPS1
"DATA",101.41,171,10,3,9)
D ROUTES^ORCDPS1
"DATA",101.41,171,10,3,10)
S OROUTE=+$G(ORDIALOG(PROMPT,INST))
"DATA",101.41,171,10,4,0)
2.2^170^^^^1^^^C^^136
"DATA",101.41,171,10,4,1)
Enter a standard schedule for administering this medication.
"DATA",101.41,171,10,4,5)
D CKSCH^ORCDPS1
"DATA",101.41,171,10,4,6)
N DIC,D,DZ S DIC="^PS(51.1,",DIC(0)="EQS",D="APPSJ",DZ="??" D MIX^PSSDI(51.1,"PSJ",.DIC,D,.X)
"DATA",101.41,171,10,4,7)
S:$L($G(^TMP("PSJSCH",$J))) Y=^($J)
"DATA",101.41,171,10,4,9)
I $G(ORTYPE)'="Z" S:ORCAT="I" REQD=$$SCHREQ^PSJORPOE(OROUTE,OROI,$G(ORDRUG))
"DATA",101.41,171,10,4,10)
S ORSCH=$G(ORDIALOG(PROMPT,INST))
"DATA",101.41,171,10,5,0)
8^7^^Priority: ^^1^^^C^S.PSO
"DATA",101.41,171,10,5,1)
Enter the urgency of this order.
"DATA",101.41,171,10,5,2)
6^^ROUTINE DONE
"DATA",101.41,171,10,5,7)
S Y=+$$RECALL^ORCD(PROMPT) S:Y EDITONLY=1 S:'Y Y=9
"DATA",101.41,171,10,5,9)
S ORDIALOG(PROMPT,"D")=$S(ORCAT="I":"S.PSJ",1:"S.PSO")
"DATA",101.41,171,10,6,0)
10^15^^Comments: ^^^^^C
"DATA",101.41,171,10,6,1)
Enter any additional instructions for this order.
"DATA",101.41,171,10,6,2)
7
"DATA",101.41,171,10,6,3)
I '$G(PSJNOPC)!($G(ORTYPE)="Z")
"DATA",101.41,171,10,7,0)
1.1^384^^^^^^^^^4
"DATA",101.41,171,10,7,2)
^@1350
"DATA",101.41,171,10,7,3)
I 0 ;stuffed in via Instructions
"DATA",101.41,171,10,8,0)
5.5^149^^^^^^^C
"DATA",101.41,171,10,8,1)
Enter the amount (number of tablets, e.g.) to be dispensed.
"DATA",101.41,171,10,8,2)
8^^^Quantity:^^1
"DATA",101.41,171,10,8,3)
I ORCAT="O"
"DATA",101.41,171,10,8,7)
I $G(ORCAT)="O",$G(ORTYPE)'="Z" S Y=$$QTY^ORCDPS1 K:Y'>0 Y
"DATA",101.41,171,10,8,9)
I ORCAT="O" W:$L($G(ORQTY)) !,ORQTY S ORDIALOG(PROMPT,"A")="Quantity"_$S($L($G(ORQTYUNT)):" ("_ORQTYUNT_"): ",1:": ")
"DATA",101.41,171,10,9,0)
7^148^^Pick Up: ^^1^^^RC
"DATA",101.41,171,10,9,1)
Enter if the patient is to receive this medication by mail, at the window, or in the clinic.
"DATA",101.41,171,10,9,3)
I ORCAT="O"
"DATA",101.41,171,10,9,6)
D SETLIST^ORCD
"DATA",101.41,171,10,9,7)
I ORCAT="O",$G(ORTYPE)'="Z" S Y=$S($G(OREVENT):"W",$D(^PSX(550,"C")):"M",1:"W") I $D(^TMP("ORECALL",$J,ORDIALOG,PROMPT,INST)) S Y=^(INST),EDITONLY=1
"DATA",101.41,171,10,10,0)
6^150^^Refills: ^^1^^^RC
"DATA",101.41,171,10,10,1)
Enter the number of refills to allow for this order.
"DATA",101.41,171,10,10,2)
9^^^Refills:
"DATA",101.41,171,10,10,3)
I ORCAT="O",$G(OREFILLS)>0
"DATA",101.41,171,10,10,9)
I ORCAT="O",'$G(OREFILLS) D MAXREFS^ORCDPS1
"DATA",101.41,171,10,11,0)
9^151^^Is this medication for a SC condition? ^^^^^CW^^^^SC: 
"DATA",101.41,171,10,11,1)
If this medication is for treatment of a service-connected condition, enter YES.
"DATA",101.41,171,10,11,3)
I ORCAT="O",$G(ORCOPAY),$G(ORSC)
"DATA",101.41,171,10,11,6)
N DFN S DFN=+ORVP D DIS^DGRPDB
"DATA",101.41,171,10,11,7)
I $G(ORTYPE)'="Z",ORCAT="O",$G(ORCOPAY),$G(ORSC) S Y=$S($P(ORSC,U,2)>50:1,1:0)
"DATA",101.41,171,10,11,9)
I ORCAT="O" S ORCOPAY=$$ASKSC^ORCDPS1 I ORCOPAY,$G(ORSC),'$D(ORDIALOG(PROMPT,INST)) N DFN S DFN=+ORVP D:$P(ORSC,U,2)'>50 DIS^DGRPDB S:$P(ORSC,U,2)>50 $P(ORDIALOG(PROMPT,0),U)="YA",EDITONLY=1 ; Req'd
"DATA",101.41,171,10,12,0)
2.3^153^^How long: ^^^^^C^^136
"DATA",101.41,171,10,12,1)
Enter the length of time over which this dose is to be administered as '4 HOURS', '7 DAYS', '2 WEEKS', or '1 MONTH'.
"DATA",101.41,171,10,12,2)
^^^FOR
"DATA",101.41,171,10,12,3)
I $$ASKDUR^ORCDPS3
"DATA",101.41,171,10,12,5)
D DUR^ORCDPS3
"DATA",101.41,171,10,12,7)
Q  I $G(ORTYPE)'="Z",$G(ORCAT)="I",$G(ORCOMPLX),$P($G(ORSD),U,3) S Y=+$P(ORSD,U,3)_" DAYS"
"DATA",101.41,171,10,13,0)
4^6^^Start: ^^^^1^C
"DATA",101.41,171,10,13,1)
Enter the date this order should begin.
"DATA",101.41,171,10,13,3)
I $G(ORCAT)="O",$G(OREVENT) ;discharge orders only
"DATA",101.41,171,10,13,7)
Q  I $G(ORTYPE)'="Z",ORCAT'="O" S Y=$P($G(ORSD),U) K:'$L(Y) Y
"DATA",101.41,171,10,13,9)
D START^ORCDPS3 ;I 'FIRST,$G(ORDIALOG(PROMPT,"LIST")),'$O(ORDIALOG(PROMPT,0)) D LIST^ORCD ;editonly
"DATA",101.41,171,10,14,0)
3^385
"DATA",101.41,171,10,14,2)
2^^^^^1^0
"DATA",101.41,171,10,14,3)
I 0 ;created by Instructions, if Outpt order
"DATA",101.41,171,10,15,0)
2.5^386^^^^^^^*^^136
"DATA",101.41,171,10,15,2)
^@
"DATA",101.41,171,10,15,3)
I 0 ;created by Instructions
"DATA",101.41,171,10,15,7)
S Y=$$ID^ORCDPS K:'$L(Y) Y
"DATA",101.41,171,10,16,0)
2.6^138^^^^^^^*
"DATA",101.41,171,10,16,3)
I 0 ;created by Instructions
"DATA",101.41,171,10,17,0)
5^387^^^^1^^^C
"DATA",101.41,171,10,17,1)
Enter the number of days for which the patient needs this medication.
"DATA",101.41,171,10,17,3)
I $G(ORCAT)="O"
"DATA",101.41,171,10,17,5)
I $G(ORESET),+ORESET'=+Y D CHANGED^ORCDPS1("DS")
"DATA",101.41,171,10,17,9)
I $G(ORCAT)="O" D DSUP^ORCDPS1
"DATA",101.41,171,10,17,10)
S:$G(ORCAT)="O" ORDSUP=+$G(ORDIALOG(PROMPT,INST))
"DATA",101.41,171,10,18,0)
1.5^1350
"DATA",101.41,171,10,18,2)
1.5
"DATA",101.41,171,10,18,3)
I 0 ;stuffed in via Instructions
"DATA",101.41,171,10,19,0)
2.4^388^^^^^^^C^^136
"DATA",101.41,171,10,19,.1)
D INPCONJ^ORCDPS1
"DATA",101.41,171,10,19,1)
Enter AND if the next dose is to be administered concurrently with this one, or THEN if it is to follow after.
"DATA",101.41,171,10,19,3)
I $G(ORCOMPLX)
"DATA",101.41,171,10,19,5)
I $G(ORESET)'=$P(Y,U) D CHANGED^ORCDPS1("QUANTITY")
"DATA",101.41,171,10,19,9)
D ENCONJ^ORCDPS1
"DATA",101.41,171,10,19,10)
I $G(ORCOMPLX),'$L($G(ORDIALOG(PROMPT,INST))),FIRST,'$G(ORJUMP) S MAX=1 ;stop prompting dose multiple
"DATA",101.41,171,10,20,0)
3.5^1358^^^^^^^C
"DATA",101.41,171,10,20,2)
3
"DATA",101.41,171,10,20,3)
I 0 ;text stuffed via Entry Action
"DATA",101.41,171,10,20,9)
D PI^ORCDPS2
"DATA",101.41,171,10,21,0)
4.5^1359
"DATA",101.41,171,10,21,2)
10^^^First Dose^^1
"DATA",101.41,171,10,21,3)
I 0 ;set via Entry Action
"DATA",101.41,171,10,21,9)
D NOW^ORCDPS3
"DATA",101.41,171,99)
63628,38688
"DATA",101.41,15992,0)
PSJ OR CLINIC OE^Clinic Medications^^D^62^2^197^1^2
"DATA",101.41,15992,3)
D PROVIDER^ORCDPSIV Q:$G(ORQUIT)  D EN^ORCDPS1("I")
"DATA",101.41,15992,3.1)
D EN1^ORCDPS1
"DATA",101.41,15992,4)
D EXIT^ORCDPS1
"DATA",101.41,15992,5)
^^^Clinic Medications^1444
"DATA",101.41,15992,7)
D SC^ORCDPS3
"DATA",101.41,15992,10,0)
^101.412IA^23^23
"DATA",101.41,15992,10,1,0)
1^4^^Medication: ^^1^^^^S.UD RX
"DATA",101.41,15992,10,1,1)
Enter the medication you wish to order for this patient.
"DATA",101.41,15992,10,1,2)
1^@1350
"DATA",101.41,15992,10,1,4)
I '$G(^(.1))!($G(^(.1))>$$NOW^XLFDT)
"DATA",101.41,15992,10,1,5)
D DEA^ORCDPS1 Q:'$G(DONE)  I $G(ORESET)'=+Y D CHANGED^ORCDPS1("OI")
"DATA",101.41,15992,10,1,6)
N IDX,SCR S IDX=$G(ORDIALOG(PROMPT,"D")),SCR=$G(ORDIALOG(PROMPT,"S")) D XHELP^ORDD43(IDX,SCR)
"DATA",101.41,15992,10,1,9)
D ENOI^ORCDPS1
"DATA",101.41,15992,10,1,10)
S OROI=+$G(ORDIALOG(PROMPT,INST)) D ORDITM^ORCDPS1(OROI),NFI^ORCDPS1(OROI)
"DATA",101.41,15992,10,2,0)
2^136^^Dose: ^^1^1^^C^^^^Instructions: 
"DATA",101.41,15992,10,2,1)
Enter the dosage instructions for this order, as an amount and units.
"DATA",101.41,15992,10,2,5)
D CHDOSE^ORCDPS2 Q:'$G(DONE)  D DEFCONJ^ORCDPS1
"DATA",101.41,15992,10,2,6)
D LIST^ORCD:$G(ORDIALOG(PROMPT,"LIST")),F^ORCDLGH:'$G(ORDIALOG(PROMPT,"LIST"))
"DATA",101.41,15992,10,2,9)
D DOSES^ORCDPS2 I $G(ORDIALOG(PROMPT,"LIST")),'$O(ORDIALOG(PROMPT,0)),'$G(ORENEW) D LIST^ORCD
"DATA",101.41,15992,10,2,10)
D EXDOSE^ORCDPS2
"DATA",101.41,15992,10,3,0)
2.1^137^^^^1^^^C^^136
"DATA",101.41,15992,10,3,1)
Enter the route of administration for this drug.
"DATA",101.41,15992,10,3,2)
^1~3
"DATA",101.41,15992,10,3,4)
I $P(^(0),U,4)
"DATA",101.41,15992,10,3,6)
D LIST^ORCD:$G(ORDIALOG(PROMPT,"LIST"))&(X="?"),P^ORCDLGH:'$G(ORDIALOG(PROMPT,"LIST"))!(X'="?")
"DATA",101.41,15992,10,3,7)
D DEFRTE^ORCDPS1
"DATA",101.41,15992,10,3,9)
D ROUTES^ORCDPS1
"DATA",101.41,15992,10,3,10)
S OROUTE=+$G(ORDIALOG(PROMPT,INST))
"DATA",101.41,15992,10,4,0)
2.2^170^^^^1^^^C^^136
"DATA",101.41,15992,10,4,1)
Enter a standard schedule for administering this medication.
"DATA",101.41,15992,10,4,5)
D CKSCH^ORCDPS1
"DATA",101.41,15992,10,4,6)
N DIC,D,X S DIC="^PS(51.1,",DIC(0)="EQS",D="APPSJ",X="??" D MIX^PSSDI(51.1,"PSJ",.DIC,D,.X)
"DATA",101.41,15992,10,4,7)
S:$L($G(^TMP("PSJSCH",$J))) Y=^($J)
"DATA",101.41,15992,10,4,9)
I $G(ORTYPE)'="Z" S:ORCAT="I" REQD=$$SCHREQ^PSJORPOE(OROUTE,OROI,$G(ORDRUG))
"DATA",101.41,15992,10,4,10)
S ORSCH=$G(ORDIALOG(PROMPT,INST))
"DATA",101.41,15992,10,5,0)
8^7^^Priority: ^^1^^^C^S.PSO
"DATA",101.41,15992,10,5,1)
Enter the urgency of this order.
"DATA",101.41,15992,10,5,2)
6^^ROUTINE DONE
"DATA",101.41,15992,10,5,7)
S Y=+$$RECALL^ORCD(PROMPT) S:Y EDITONLY=1 S:'Y Y=9
"DATA",101.41,15992,10,5,9)
S ORDIALOG(PROMPT,"D")=$S(ORCAT="I":"S.PSJ",1:"S.PSO")
"DATA",101.41,15992,10,6,0)
10^15^^Comments: ^^^^^C
"DATA",101.41,15992,10,6,1)
Enter any additional instructions for this order.
"DATA",101.41,15992,10,6,2)
7
"DATA",101.41,15992,10,6,3)
I '$G(PSJNOPC)!($G(ORTYPE)="Z")
"DATA",101.41,15992,10,7,0)
1.1^384^^^^^^^^^4
"DATA",101.41,15992,10,7,2)
^@1350
"DATA",101.41,15992,10,7,3)
I 0 ;stuffed in via Instructions
"DATA",101.41,15992,10,8,0)
5.5^149^^^^^^^C
"DATA",101.41,15992,10,8,1)
Enter the amount (number of tablets, e.g.) to be dispensed.
"DATA",101.41,15992,10,8,2)
8^^^Quantity:^^1
"DATA",101.41,15992,10,8,3)
I ORCAT="O"
"DATA",101.41,15992,10,8,7)
I $G(ORCAT)="O",$G(ORTYPE)'="Z" S Y=$$QTY^ORCDPS1 K:Y'>0 Y
"DATA",101.41,15992,10,8,9)
I ORCAT="O" W:$L($G(ORQTY)) !,ORQTY S ORDIALOG(PROMPT,"A")="Quantity"_$S($L($G(ORQTYUNT)):" ("_ORQTYUNT_"): ",1:": ")
"DATA",101.41,15992,10,9,0)
7^148^^Pick Up: ^^1^^^RC
"DATA",101.41,15992,10,9,1)
Enter if the patient is to receive this medication by mail, at the window, or in the clinic.
"DATA",101.41,15992,10,9,3)
I ORCAT="O"
"DATA",101.41,15992,10,9,6)
D SETLIST^ORCD
"DATA",101.41,15992,10,9,7)
I ORCAT="O",$G(ORTYPE)'="Z" S Y=$S($G(OREVENT):"W",$D(^PSX(550,"C")):"M",1:"W") I $D(^TMP("ORECALL",$J,ORDIALOG,PROMPT,INST)) S Y=^(INST),EDITONLY=1
"DATA",101.41,15992,10,10,0)
6^150^^Refills: ^^1^^^RC
"DATA",101.41,15992,10,10,1)
Enter the number of refills to allow for this order.
"DATA",101.41,15992,10,10,2)
9^^^Refills:
"DATA",101.41,15992,10,10,3)
I ORCAT="O",$G(OREFILLS)>0
"DATA",101.41,15992,10,10,9)
I ORCAT="O",'$G(OREFILLS) D MAXREFS^ORCDPS1
"DATA",101.41,15992,10,11,0)
9^151^^Is this medication for a SC condition? ^^^^^CW^^^^SC: 
"DATA",101.41,15992,10,11,1)
If this medication is for treatment of a service-connected condition, enter YES.
"DATA",101.41,15992,10,11,3)
I ORCAT="O",$G(ORCOPAY),$G(ORSC)
"DATA",101.41,15992,10,11,6)
N DFN S DFN=+ORVP D DIS^DGRPDB
"DATA",101.41,15992,10,11,7)
I $G(ORTYPE)'="Z",ORCAT="O",$G(ORCOPAY),$G(ORSC) S Y=$S($P(ORSC,U,2)>50:1,1:0)
"DATA",101.41,15992,10,11,9)
I ORCAT="O" S ORCOPAY=$$ASKSC^ORCDPS1 I ORCOPAY,$G(ORSC),'$D(ORDIALOG(PROMPT,INST)) N DFN S DFN=+ORVP D:$P(ORSC,U,2)'>50 DIS^DGRPDB S:$P(ORSC,U,2)>50 $P(ORDIALOG(PROMPT,0),U)="YA",EDITONLY=1 ; Req'd
"DATA",101.41,15992,10,12,0)
2.3^153^^How long: ^^^^^C^^136
"DATA",101.41,15992,10,12,1)
Enter the length of time over which this dose is to be administered as '4 HOURS', '7 DAYS', '2 WEEKS', or '1 MONTH'.
"DATA",101.41,15992,10,12,2)
^^^FOR
"DATA",101.41,15992,10,12,3)
I $$ASKDUR^ORCDPS3
"DATA",101.41,15992,10,12,5)
D DUR^ORCDPS3
"DATA",101.41,15992,10,12,7)
Q  I $G(ORTYPE)'="Z",$G(ORCAT)="I",$G(ORCOMPLX),$P($G(ORSD),U,3) S Y=+$P(ORSD,U,3)_" DAYS"
"DATA",101.41,15992,10,13,0)
4^6^^Start: ^^^^1^C
"DATA",101.41,15992,10,13,1)
Enter the date this order should begin.
"DATA",101.41,15992,10,13,3)
I $G(ORCAT)="O",$G(OREVENT) ;discharge orders only
"DATA",101.41,15992,10,13,7)
Q  I $G(ORTYPE)'="Z",ORCAT'="O" S Y=$P($G(ORSD),U) K:'$L(Y) Y
"DATA",101.41,15992,10,13,9)
D START^ORCDPS3 ;I 'FIRST,$G(ORDIALOG(PROMPT,"LIST")),'$O(ORDIALOG(PROMPT,0)) D LIST^ORCD ;editonly
"DATA",101.41,15992,10,14,0)
3^385^^Text: 
"DATA",101.41,15992,10,14,2)
2^^^^^1^0
"DATA",101.41,15992,10,14,3)
I 0 ;created by Instructions, if Outpt order
"DATA",101.41,15992,10,15,0)
2.5^386^^^^^^^*^^136
"DATA",101.41,15992,10,15,2)
^@
"DATA",101.41,15992,10,15,3)
I 0 ;created by Instructions
"DATA",101.41,15992,10,15,7)
S Y=$$ID^ORCDPS K:'$L(Y) Y
"DATA",101.41,15992,10,16,0)
2.6^138^^^^^^^*
"DATA",101.41,15992,10,16,3)
I 0 ;created by Instructions
"DATA",101.41,15992,10,17,0)
5^387^^^^1^^^C
"DATA",101.41,15992,10,17,1)
Enter the number of days for which the patient needs this medication.
"DATA",101.41,15992,10,17,3)
I $G(ORCAT)="O"
"DATA",101.41,15992,10,17,5)
I $G(ORESET),+ORESET'=+Y D CHANGED^ORCDPS1("DS")
"DATA",101.41,15992,10,17,9)
I $G(ORCAT)="O" D DSUP^ORCDPS1
"DATA",101.41,15992,10,17,10)
S:$G(ORCAT)="O" ORDSUP=+$G(ORDIALOG(PROMPT,INST))
"DATA",101.41,15992,10,18,0)
1.5^1350
"DATA",101.41,15992,10,18,2)
1.5
"DATA",101.41,15992,10,18,3)
I 0 ;stuffed in via Instructions
"DATA",101.41,15992,10,19,0)
2.4^388^^^^^^^C^^136
"DATA",101.41,15992,10,19,.1)
D INPCONJ^ORCDPS1
"DATA",101.41,15992,10,19,1)
Enter AND if the next dose is to be administered concurrently with this one, or THEN if it is to follow after.
"DATA",101.41,15992,10,19,3)
I $G(ORCOMPLX)
"DATA",101.41,15992,10,19,5)
I $G(ORESET)'=$P(Y,U) D CHANGED^ORCDPS1("QUANTITY")
"DATA",101.41,15992,10,19,9)
D ENCONJ^ORCDPS1
"DATA",101.41,15992,10,19,10)
I $G(ORCOMPLX),'$L($G(ORDIALOG(PROMPT,INST))),FIRST,'$G(ORJUMP) S MAX=1 ;stop prompting dose multiple
"DATA",101.41,15992,10,20,0)
3.5^1358^^^^^^^C
"DATA",101.41,15992,10,20,2)
3
"DATA",101.41,15992,10,20,3)
I 0 ;text stuffed via Entry Action
"DATA",101.41,15992,10,20,9)
D PI^ORCDPS2
"DATA",101.41,15992,10,21,0)
4.5^1359
"DATA",101.41,15992,10,21,2)
10^^^First Dose^^1
"DATA",101.41,15992,10,21,3)
I 0 ;set via Entry Action
"DATA",101.41,15992,10,21,9)
D NOW^ORCDPS3
"DATA",101.41,15992,10,22,0)
2.7^15813^^^^^^^*^^136
"DATA",101.41,15992,10,22,2)
^@
"DATA",101.41,15992,10,22,3)
I 0 ;from Schedule
"DATA",101.41,15992,10,23,0)
2.8^716^^^^^^^*^^136
"DATA",101.41,15992,10,23,2)
^@
"DATA",101.41,15992,10,23,3)
I 0 ;from Schedule
"DATA",101.41,15992,99)
63628,38688
"DATA",101.41,15993,0)
CLINIC OR PAT FLUID OE^Clinic Infusions^^D^67^2^197^1^2
"DATA",101.41,15993,3)
D PROVIDER^ORCDPSIV
"DATA",101.41,15993,3.1)
D:$G(ORNP) PROVIDER^ORCDPSIV
"DATA",101.41,15993,4)
S:$G(ORXNP) ORNP=ORXNP K PSJNOPC,ORXNP,ORIVTYPE,ORLEAD,ORTRAIL,OROTSCH
"DATA",101.41,15993,5)
^^^Clinic Infusions^1555
"DATA",101.41,15993,10,0)
^101.412IA^18^15
"DATA",101.41,15993,10,1,0)
2^4^^Solution: ^^1^1^^C^S.IVB RX^^^Solutions: 
"DATA",101.41,15993,10,1,1)
Enter a base solution for this order.
"DATA",101.41,15993,10,1,2)
2^^^^^1
"DATA",101.41,15993,10,1,4)
I $$ACTIVE^ORDD43(Y)
"DATA",101.41,15993,10,1,5)
I $G(ORESET),ORESET'=+Y D CHANGED^ORCDPSIV("B")
"DATA",101.41,15993,10,1,6)
N IDX,SCR S IDX=$G(ORDIALOG(PROMPT,"D")),SCR=$G(ORDIALOG(PROMPT,"S")) D XHELP^ORDD43(IDX,SCR)
"DATA",101.41,15993,10,1,9)
S:FIRST MULT=0 S REQD=$S($G(ORIVTYPE)="I":0,1:1)
"DATA",101.41,15993,10,1,10)
D INACTIVE^ORCDPSIV("B")
"DATA",101.41,15993,10,2,0)
3^131^^Additive: ^^^1^^C^S.IVA RX^^^Additives: 
"DATA",101.41,15993,10,2,1)
Enter an additive for these IV solutions.
"DATA",101.41,15993,10,2,2)
1^^^^in^1
"DATA",101.41,15993,10,2,3)
I '($$PREMIX^ORCDPSIV&FIRST)
"DATA",101.41,15993,10,2,4)
I $$ACTIVE^ORDD43(Y)
"DATA",101.41,15993,10,2,5)
I $G(ORESET),ORESET'=ORDIALOG(PROMPT,ORI) D CHANGED^ORCDPSIV("A")
"DATA",101.41,15993,10,2,6)
N IDX,SCR S IDX=$G(ORDIALOG(PROMPT,"D")),SCR=$G(ORDIALOG(PROMPT,"S")) D XHELP^ORDD43(IDX,SCR)
"DATA",101.41,15993,10,2,10)
D INACTIVE^ORCDPSIV("A")
"DATA",101.41,15993,10,3,0)
3.1^152^^^^1^^^C^^131
"DATA",101.41,15993,10,3,1)
Enter the strength of this additive, as a number.
"DATA",101.41,15993,10,3,9)
D UNITS^ORCDPSIV
"DATA",101.41,15993,10,5,0)
5^128^^Infusion Rate: ^^1^^^C
"DATA",101.41,15993,10,5,.1)
D INF^ORCDPSIV
"DATA",101.41,15993,10,5,1)
Enter the rate at which the IV is to be administered, as the number of ml/hr or Text@Number of Labels per day.
"DATA",101.41,15993,10,5,2)
4^^^@ORLEAD^@ORTRAIL
"DATA",101.41,15993,10,5,9)
D ENRATE^ORCDPSIV
"DATA",101.41,15993,10,5,10)
S (ORLEAD,ORTRAIL)="" S:$G(ORIVTYPE)="I" ORLEAD="Infuse over",ORTRAIL="minutes"
"DATA",101.41,15993,10,7,0)
9^15^^Provider Comments: ^^^^^C
"DATA",101.41,15993,10,7,1)
Enter any additional comments or instructions for this order.
"DATA",101.41,15993,10,7,2)
8^^^^^1
"DATA",101.41,15993,10,7,3)
I '$G(PSJNOPC)!($G(ORTYPE)="Z")
"DATA",101.41,15993,10,9,0)
3.2^30^^^^^^^C^^131
"DATA",101.41,15993,10,9,1)
Enter the units of measurement for this additive.
"DATA",101.41,15993,10,9,3)
I '$D(ORDIALOG(PROMPT,INST))
"DATA",101.41,15993,10,9,6)
D SETLIST^ORCD
"DATA",101.41,15993,10,10,0)
2.1^172^^Volume (in ml): ^^1^^^C^^4
"DATA",101.41,15993,10,10,1)
Enter the volume to be administered, as the number of milliliters.
"DATA",101.41,15993,10,10,2)
^^^^ml
"DATA",101.41,15993,10,10,3)
I $G(ORDIALOG(PROMPT,"LIST"))>1
"DATA",101.41,15993,10,10,6)
D LIST^ORCD
"DATA",101.41,15993,10,10,7)
S Y=$O(ORDIALOG(PROMPT,"LIST",""),-1) K:'Y Y D:$G(ORDIALOG(PROMPT,"LIST"))>1 LIST^ORCD
"DATA",101.41,15993,10,10,9)
D VOLUME^ORCDPSIV
"DATA",101.41,15993,10,11,0)
8^7^^Priority: ^^^^^C^S.PSJ
"DATA",101.41,15993,10,11,1)
Enter the urgency of this order.
"DATA",101.41,15993,10,11,2)
7^^ROUTINE
"DATA",101.41,15993,10,11,7)
S Y=+$$RECALL^ORCD(PROMPT) S:Y EDITONLY=1 S:'Y Y=9
"DATA",101.41,15993,10,12,0)
6^170^^^^^^^C
"DATA",101.41,15993,10,12,1)
Enter a standard schedule for administering this medication.
"DATA",101.41,15993,10,12,2)
5
"DATA",101.41,15993,10,12,3)
I $G(ORIVTYPE)="I" ;intermittent only
"DATA",101.41,15993,10,12,5)
D CKSCH^ORCDPSIV
"DATA",101.41,15993,10,12,6)
N DIC,D,X S DIC="^PS(51.1,",DIC(0)="EQS",D="APPSJ",X="??" D MIX^PSSDI(51.1,"PSJ",.DIC,D,.X)
"DATA",101.41,15993,10,12,10)
S OROTSCH=$$ISONETIM^ORCDPSIV($G(ORDIALOG(PROMPT,INST)))
"DATA",101.41,15993,10,13,0)
7^153^^Limitation:^^^^^C
"DATA",101.41,15993,10,13,.1)
D IVPSI^ORCDPSIV
"DATA",101.41,15993,10,13,2)
6
"DATA",101.41,15993,10,13,3)
I +$G(OROTSCH)=0 D IVPSI1^ORCDPSIV
"DATA",101.41,15993,10,13,6)
D IVDURH^ORCDPSIV
"DATA",101.41,15993,10,14,0)
1^15809^^^^1^^^C
"DATA",101.41,15993,10,14,1)
Enter the infusion type for this order.
"DATA",101.41,15993,10,14,5)
I $L($G(ORESET)),ORESET'=ORDIALOG(PROMPT,ORI) D CHANGED^ORCDPSIV("T")
"DATA",101.41,15993,10,14,10)
S ORIVTYPE=$G(ORDIALOG(PROMPT,INST))
"DATA",101.41,15993,10,15,0)
4^137^^^^1^^^C
"DATA",101.41,15993,10,15,1)
Enter the route of administration for this infusion.
"DATA",101.41,15993,10,15,2)
3^1~3
"DATA",101.41,15993,10,15,4)
I $$IVRTESCR^ORCDPSIV(Y)
"DATA",101.41,15993,10,15,6)
D LVROUTES^ORCDPSIV
"DATA",101.41,15993,10,15,9)
D IVRTEENT^ORCDPSIV
"DATA",101.41,15993,10,16,0)
6.5^15813
"DATA",101.41,15993,10,16,2)
^@
"DATA",101.41,15993,10,16,3)
I 0 ;from Schedule
"DATA",101.41,15993,10,17,0)
10^1359
"DATA",101.41,15993,10,17,2)
15^^^First Dose^^1
"DATA",101.41,15993,10,17,3)
I 0 ;set via Entry Action
"DATA",101.41,15993,10,17,9)
D NOW^ORCDPS3
"DATA",101.41,15993,10,18,0)
3.3^15730^^^^^^^C^^131
"DATA",101.41,15993,10,18,.1)
D ADDFRQI^ORCDPSIV
"DATA",101.41,15993,10,18,1)
Enter the solution bag number the additive should be added to.
"DATA",101.41,15993,10,18,2)
^^All Bags
"DATA",101.41,15993,10,18,3)
I $G(ORIVTYPE)="C" ;continuous only
"DATA",101.41,15993,10,18,6)
D ADDFRQC^ORCDPSIV
"DATA",101.41,15993,10,18,7)
S Y=$$ADDFRD^ORCDPSIV(.ORDIALOG,INST,PROMPT)
"DATA",101.41,15993,10,18,9)
D ADDFRQC^ORCDPSIV
"DATA",101.41,15993,99)
63628,38688
"FIA",100)
ORDER
"FIA",100,0)
^OR(100,
"FIA",100,0,0)
100I
"FIA",100,0,1)
y^n^p^^^^n^^n
"FIA",100,0,10)

"FIA",100,0,11)

"FIA",100,0,"RLRO")

"FIA",100,0,"VR")
3.0^OR
"FIA",100,100)
1
"FIA",100,100,2)

"FIA",100,100,7)

"FIA",100.98)
DISPLAY GROUP
"FIA",100.98,0)
^ORD(100.98,
"FIA",100.98,0,0)
100.98I
"FIA",100.98,0,1)
n^n^f^^y^^y^r^n
"FIA",100.98,0,10)

"FIA",100.98,0,11)
I $$SENDDSPG^ORY389($P(^(0),U))
"FIA",100.98,0,"RLRO")

"FIA",100.98,0,"VR")
3.0^OR
"FIA",100.98,100.98)
0
"FIA",100.98,100.981)
0
"FIA",101.41)
ORDER DIALOG
"FIA",101.41,0)
^ORD(101.41,
"FIA",101.41,0,0)
101.41I
"FIA",101.41,0,1)
n^n^f^^y^^y^r^n
"FIA",101.41,0,10)

"FIA",101.41,0,11)
I $$SENDDLG^ORY389($P(^(0),U))
"FIA",101.41,0,"RLRO")

"FIA",101.41,0,"VR")
3.0^OR
"FIA",101.41,101.41)
0
"FIA",101.41,101.411)
0
"FIA",101.41,101.412)
0
"FIA",101.41,101.41218)
0
"FIA",101.41,101.415)
0
"FIA",101.41,101.416)
0
"FIA",101.41,101.4162)
0
"FRV1",100.98,"27,0",4)
PSO SUPPLY
"FRV1",100.98,"27,0",4,"F")
;ORD(101.41,
"FRV1",100.98,"62,0",4)
PSJ OR CLINIC OE
"FRV1",100.98,"62,0",4,"F")
;ORD(101.41,
"FRV1",100.98,"67,0",4)
CLINIC OR PAT FLUID OE
"FRV1",100.98,"67,0",4,"F")
;ORD(101.41,
"FRV1",101.41,"15992,0",5)
CLINIC MEDICATIONS
"FRV1",101.41,"15992,0",5,"F")
;ORD(100.98,
"FRV1",101.41,"15992,0",7)
INPATIENT MEDICATIONS
"FRV1",101.41,"15992,0",7,"F")
;DIC(9.4,
"FRV1",101.41,"15992,10,1,0",2)
OR GTX ORDERABLE ITEM
"FRV1",101.41,"15992,10,1,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,10,0",2)
OR GTX REFILLS
"FRV1",101.41,"15992,10,10,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,11,0",2)
OR GTX SERVICE CONNECTED
"FRV1",101.41,"15992,10,11,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,12,0",2)
OR GTX DURATION
"FRV1",101.41,"15992,10,12,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,12,0",11)
OR GTX INSTRUCTIONS
"FRV1",101.41,"15992,10,12,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,13,0",2)
OR GTX START DATE/TIME
"FRV1",101.41,"15992,10,13,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,14,0",2)
OR GTX SIG
"FRV1",101.41,"15992,10,14,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,15,0",2)
OR GTX DOSE
"FRV1",101.41,"15992,10,15,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,15,0",11)
OR GTX INSTRUCTIONS
"FRV1",101.41,"15992,10,15,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,16,0",2)
OR GTX DISPENSE DRUG
"FRV1",101.41,"15992,10,16,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,17,0",2)
OR GTX DAYS SUPPLY
"FRV1",101.41,"15992,10,17,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,18,0",2)
OR GTX DRUG NAME
"FRV1",101.41,"15992,10,18,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,19,0",2)
OR GTX AND/THEN
"FRV1",101.41,"15992,10,19,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,19,0",11)
OR GTX INSTRUCTIONS
"FRV1",101.41,"15992,10,19,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,2,0",2)
OR GTX INSTRUCTIONS
"FRV1",101.41,"15992,10,2,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,20,0",2)
OR GTX PATIENT INSTRUCTIONS
"FRV1",101.41,"15992,10,20,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,21,0",2)
OR GTX NOW
"FRV1",101.41,"15992,10,21,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,22,0",2)
OR GTX ADMIN TIMES
"FRV1",101.41,"15992,10,22,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,22,0",11)
OR GTX INSTRUCTIONS
"FRV1",101.41,"15992,10,22,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,23,0",2)
OR GTX SCHEDULE TYPE
"FRV1",101.41,"15992,10,23,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,23,0",11)
OR GTX INSTRUCTIONS
"FRV1",101.41,"15992,10,23,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,3,0",2)
OR GTX ROUTE
"FRV1",101.41,"15992,10,3,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,3,0",11)
OR GTX INSTRUCTIONS
"FRV1",101.41,"15992,10,3,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,4,0",2)
OR GTX SCHEDULE
"FRV1",101.41,"15992,10,4,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,4,0",11)
OR GTX INSTRUCTIONS
"FRV1",101.41,"15992,10,4,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,5,0",2)
OR GTX URGENCY
"FRV1",101.41,"15992,10,5,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,6,0",2)
OR GTX WORD PROCESSING 1
"FRV1",101.41,"15992,10,6,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,7,0",2)
OR GTX STRENGTH
"FRV1",101.41,"15992,10,7,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,7,0",11)
OR GTX ORDERABLE ITEM
"FRV1",101.41,"15992,10,7,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,8,0",2)
OR GTX QUANTITY
"FRV1",101.41,"15992,10,8,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15992,10,9,0",2)
OR GTX ROUTING
"FRV1",101.41,"15992,10,9,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,0",5)
CLINIC INFUSIONS
"FRV1",101.41,"15993,0",5,"F")
;ORD(100.98,
"FRV1",101.41,"15993,0",7)
INPATIENT MEDICATIONS
"FRV1",101.41,"15993,0",7,"F")
;DIC(9.4,
"FRV1",101.41,"15993,10,1,0",2)
OR GTX ORDERABLE ITEM
"FRV1",101.41,"15993,10,1,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,10,0",2)
OR GTX VOLUME
"FRV1",101.41,"15993,10,10,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,10,0",11)
OR GTX ORDERABLE ITEM
"FRV1",101.41,"15993,10,10,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,11,0",2)
OR GTX URGENCY
"FRV1",101.41,"15993,10,11,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,12,0",2)
OR GTX SCHEDULE
"FRV1",101.41,"15993,10,12,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,13,0",2)
OR GTX DURATION
"FRV1",101.41,"15993,10,13,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,14,0",2)
OR GTX IV TYPE
"FRV1",101.41,"15993,10,14,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,15,0",2)
OR GTX ROUTE
"FRV1",101.41,"15993,10,15,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,16,0",2)
OR GTX ADMIN TIMES
"FRV1",101.41,"15993,10,16,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,17,0",2)
OR GTX NOW
"FRV1",101.41,"15993,10,17,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,18,0",2)
OR GTX ADDITIVE FREQUENCY
"FRV1",101.41,"15993,10,18,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,18,0",11)
OR GTX ADDITIVE
"FRV1",101.41,"15993,10,18,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,2,0",2)
OR GTX ADDITIVE
"FRV1",101.41,"15993,10,2,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,3,0",2)
OR GTX STRENGTH PSIV
"FRV1",101.41,"15993,10,3,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,3,0",11)
OR GTX ADDITIVE
"FRV1",101.41,"15993,10,3,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,5,0",2)
OR GTX INFUSION RATE
"FRV1",101.41,"15993,10,5,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,7,0",2)
OR GTX WORD PROCESSING 1
"FRV1",101.41,"15993,10,7,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,9,0",2)
OR GTX UNITS
"FRV1",101.41,"15993,10,9,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"15993,10,9,0",11)
OR GTX ADDITIVE
"FRV1",101.41,"15993,10,9,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"171,0",5)
SUPPLIES/DEVICES
"FRV1",101.41,"171,0",5,"F")
;ORD(100.98,
"FRV1",101.41,"171,0",7)
OUTPATIENT PHARMACY
"FRV1",101.41,"171,0",7,"F")
;DIC(9.4,
"FRV1",101.41,"171,10,1,0",2)
OR GTX ORDERABLE ITEM
"FRV1",101.41,"171,10,1,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,10,0",2)
OR GTX REFILLS
"FRV1",101.41,"171,10,10,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,11,0",2)
OR GTX SERVICE CONNECTED
"FRV1",101.41,"171,10,11,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,12,0",2)
OR GTX DURATION
"FRV1",101.41,"171,10,12,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,12,0",11)
OR GTX INSTRUCTIONS
"FRV1",101.41,"171,10,12,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,13,0",2)
OR GTX START DATE/TIME
"FRV1",101.41,"171,10,13,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,14,0",2)
OR GTX SIG
"FRV1",101.41,"171,10,14,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,15,0",2)
OR GTX DOSE
"FRV1",101.41,"171,10,15,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,15,0",11)
OR GTX INSTRUCTIONS
"FRV1",101.41,"171,10,15,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,16,0",2)
OR GTX DISPENSE DRUG
"FRV1",101.41,"171,10,16,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,17,0",2)
OR GTX DAYS SUPPLY
"FRV1",101.41,"171,10,17,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,18,0",2)
OR GTX DRUG NAME
"FRV1",101.41,"171,10,18,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,19,0",2)
OR GTX AND/THEN
"FRV1",101.41,"171,10,19,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,19,0",11)
OR GTX INSTRUCTIONS
"FRV1",101.41,"171,10,19,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,2,0",2)
OR GTX INSTRUCTIONS
"FRV1",101.41,"171,10,2,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,20,0",2)
OR GTX PATIENT INSTRUCTIONS
"FRV1",101.41,"171,10,20,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,21,0",2)
OR GTX NOW
"FRV1",101.41,"171,10,21,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,3,0",2)
OR GTX ROUTE
"FRV1",101.41,"171,10,3,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,3,0",11)
OR GTX INSTRUCTIONS
"FRV1",101.41,"171,10,3,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,4,0",2)
OR GTX SCHEDULE
"FRV1",101.41,"171,10,4,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,4,0",11)
OR GTX INSTRUCTIONS
"FRV1",101.41,"171,10,4,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,5,0",2)
OR GTX URGENCY
"FRV1",101.41,"171,10,5,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,6,0",2)
OR GTX WORD PROCESSING 1
"FRV1",101.41,"171,10,6,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,7,0",2)
OR GTX STRENGTH
"FRV1",101.41,"171,10,7,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,7,0",11)
OR GTX ORDERABLE ITEM
"FRV1",101.41,"171,10,7,0",11,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,8,0",2)
OR GTX QUANTITY
"FRV1",101.41,"171,10,8,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"171,10,9,0",2)
OR GTX ROUTING
"FRV1",101.41,"171,10,9,0",2,"F")
;ORD(101.41,
"INIT")
POST^ORY389
"IX",101.41,101.41,"B",0)
101.41^B^Regular B index using full field length^R^^F^IR^I^101.41^^^^^LS
"IX",101.41,101.41,"B",1)
S ^ORD(101.41,"B",$E(X,1,63),DA)=""
"IX",101.41,101.41,"B",2)
K ^ORD(101.41,"B",$E(X,1,63),DA)
"IX",101.41,101.41,"B",2.5)
K ^ORD(101.41,"B")
"IX",101.41,101.41,"B",11.1,0)
^.114IA^1^1
"IX",101.41,101.41,"B",11.1,1,0)
1^F^101.41^.01^63^1^F
"KRN",19,10926,-1)
2^1
"KRN",19,10926,0)
ORCM MGMT^Order Menu Management^^M^11712^^^^^^^
"KRN",19,10926,10,0)
^19.01IP^20^20
"KRN",19,10926,10,20,0)
14334^CO
"KRN",19,10926,10,20,"^")
OR CONV INPT QO TO CLIN ORD QO
"KRN",19,10926,"U")
ORDER MENU MANAGEMENT
"KRN",19,14334,-1)
0^2
"KRN",19,14334,0)
OR CONV INPT QO TO CLIN ORD QO^Create Clinic Order QOs from Inpatient QOs^^R^^^^^^^^ORDER ENTRY/RESULTS REPORTING
"KRN",19,14334,1,0)
^19.06^33^33^3150909^^^^
"KRN",19,14334,1,1,0)
This utility provides a means of converting existing Unit Dose 
"KRN",19,14334,1,2,0)
Medications or IV Medication quick orders (QO) into Clinic Medication or 
"KRN",19,14334,1,3,0)
Clinic Infusion quick orders respectively. Upon entering the option, the
"KRN",19,14334,1,4,0)
user is presented with a list of all Unit Dose and IV Medication quick
"KRN",19,14334,1,5,0)
orders on the system.  Personal quick orders are excluded from the list.
"KRN",19,14334,1,6,0)
For any item in the list, the utility offers two actions: Move, or Copy.
"KRN",19,14334,1,7,0)
 
"KRN",19,14334,1,8,0)
COPY
"KRN",19,14334,1,9,0)
---- 
"KRN",19,14334,1,10,0)
Copy will create a copy of the quick order and then, if OR*3.0*350 
"KRN",19,14334,1,11,0)
(CPRS GUI v30.B) has been installed, will prompt you to delete the
"KRN",19,14334,1,12,0)
originally selected quick order.  During the copy process, the user is 
"KRN",19,14334,1,13,0)
prompted to enter a new name for the copied order and the Display Group is
"KRN",19,14334,1,14,0)
set to Clinic Medications or Clinic Infusions. The Copy action can only
"KRN",19,14334,1,15,0)
work with one quick order at a time and therefore is limited to a single
"KRN",19,14334,1,16,0)
selection item from the list of available quick orders.
"KRN",19,14334,1,17,0)
 
"KRN",19,14334,1,18,0)
If you choose to delete the original quick order, the utility will check
"KRN",19,14334,1,19,0)
for any pointers referencing the selected quick order.  If any other items
"KRN",19,14334,1,20,0)
(menus, orders sets, display group(s), reminder dialog items) are
"KRN",19,14334,1,21,0)
referencing the selected quick order, the delete action will not be
"KRN",19,14334,1,22,0)
permitted. If any pointers are found, the utility will display those items
"KRN",19,14334,1,23,0)
on the screen.  If, at some point in the future, the pointers are removed
"KRN",19,14334,1,24,0)
(i.e. you find that the selected QO is part of an order menu and then you
"KRN",19,14334,1,25,0)
remove that QO from the menu) you should then be able to manually delete
"KRN",19,14334,1,26,0)
the QO via the QO editor [ORCM QUICK ORDERS].
"KRN",19,14334,1,27,0)
 
"KRN",19,14334,1,28,0)
MOVE
"KRN",19,14334,1,29,0)
----
"KRN",19,14334,1,30,0)
Move will modify the selected quick order by changing the Display Group 
"KRN",19,14334,1,31,0)
to Clinic Medications or Clinic Infusions. The Move action allows for
"KRN",19,14334,1,32,0)
selecting either a single item or a range of items (e.g. 1,3,4-9) to be
"KRN",19,14334,1,33,0)
converted in succession.
"KRN",19,14334,25)
UDQO^ORCMEDT9
"KRN",19,14334,"U")
CREATE CLINIC ORDER QOS FROM I
"KRN",19,14370,-1)
1^3
"KRN",19,14370,0)
OR CONVERT UD TO CM
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PGL",100.98,0,4,4)
DEFAULT DIALOG^P101.41'^ORD(101.41,^0;4^Q
"PGL",101.41,0,5,5)
DISPLAY GROUP^P100.98'^ORD(100.98,^0;5^Q
"PGL",101.41,0,7,7)
PACKAGE^P9.4'^DIC(9.4,^0;7^Q
"PGL",101.412,0,2,2)
ITEM^P101.41'X^ORD(101.41,^0;2^D TREE^ORDD41
"PGL",101.412,0,11,1)
PARENT^P101.41'^ORD(101.41,^0;11^Q
"PGL",101.415,0,2,2)
ITEM^P101.41'^ORD(101.41,^0;2^Q
"PGL",101.416,0,2,.02)
DIALOG^P101.41'^ORD(101.41,^0;2^Q
"PKG",170,-1)
1^1
"PKG",170,0)
ORDER ENTRY/RESULTS REPORTING^OR^Order Entry/Results Reporting
"PKG",170,20,0)
^9.402P^^
"PKG",170,22,0)
^9.49I^1^1
"PKG",170,22,1,0)
3.0^2971217^2980917^11712
"PKG",170,22,1,"PAH",1,0)
389^3160112
"PRE")
ORY389E
"QUES","POS1",0)
FU^3:50
"QUES","POS1","A")
Select the report recipient:
"QUES","POS1","M")
D RECIP^ORY389E K DIR,DIRUT
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
7
"RTN","ORCMEDT0")
0^7^B20168167^B17670670
"RTN","ORCMEDT0",1,0)
ORCMEDT0 ;SLC/MKB-Dialog Utilities ;09/16/15  06:50
"RTN","ORCMEDT0",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**46,60,190,215,243,296,389**;Dec 17, 1997;Build 17
"RTN","ORCMEDT0",3,0)
DIALOG(TYPE) ; -- Get Dialog file entry
"RTN","ORCMEDT0",4,0)
 N X,Y,Z,D,DIC,DIE,DIK,DA,DR,DLAYGO,ORPKG,ORDLG,ORIT,OROI,I,IDX
"RTN","ORCMEDT0",5,0)
 ;389/WAT - Sites have deleted entries in 101.41 w/o also removing pointers ergo reusing IENs can result in other file entries pointing back to
"RTN","ORCMEDT0",6,0)
 ;incorrect order dialog entries. Adding a check if 3rd piece is not highest available IEN, then reset accordingly
"RTN","ORCMEDT0",7,0)
 N ORD03,ORD03TMP S ORD03=$P(^ORD(101.41,0),U,3) S ORD03TMP=$$CHKDA(ORD03)
"RTN","ORCMEDT0",8,0)
 I ORD03TMP'=ORD03 S $P(^ORD(101.41,0),U,3)=ORD03TMP
"RTN","ORCMEDT0",9,0)
 S ORPKG="ORDER ENTRY/RESULTS REPORTING",DIC="^ORD(101.41,",DIC(0)="AEQLZ"
"RTN","ORCMEDT0",10,0)
 S DIC("S")="I $P(^(0),U,4)="""_TYPE_"""",DLAYGO=101.41
"RTN","ORCMEDT0",11,0)
 S DIC("A")="Select "_$S(TYPE="Q":"QUICK ORDER",TYPE="O":"ORDER SET",TYPE="A":"ACTION",1:"ORDER DIALOG")_" NAME: "
"RTN","ORCMEDT0",12,0)
 S DIC("DR")="4///"_TYPE_$S(TYPE="D":";7///^S X=ORPKG",1:"")
"RTN","ORCMEDT0",13,0)
D0 S D="AB" D IX^DIC I Y'>0 S ORDLG="^" G DQ
"RTN","ORCMEDT0",14,0)
 S ORDLG=+Y,ORDG=$P(Y(0),U,5) G:'$P(Y,U,3) DQ ; not a new entry
"RTN","ORCMEDT0",15,0)
 I $O(^ORD(101.41,"AB",$P(Y,U,2),0))'=+Y W $C(7),!,"Another entry already exists by this name!",! D DEL(+Y) G D0
"RTN","ORCMEDT0",16,0)
 I TYPE="D" D  G:ORDLG="^" DQ ;new dialog
"RTN","ORCMEDT0",17,0)
 . S DA=ORDLG,DR="5R",DIE=DIC,ORIT=$P(Y,U,2) D ^DIE
"RTN","ORCMEDT0",18,0)
 . S ORDG=+$P($G(^ORD(101.41,ORDLG,0)),U,5)
"RTN","ORCMEDT0",19,0)
 . I 'ORDG W $C(7),!,"Deleting <"_ORIT_"> ..." S DA=ORDLG,DIK=DIC D ^DIK S ORDLG="^" Q
"RTN","ORCMEDT0",20,0)
 . S ORIT=$$OI^ORCMEDT3(+ORDG) S:ORIT="^" ORDLG="^"
"RTN","ORCMEDT0",21,0)
 I TYPE="Q" D  G DQ ;new quick order
"RTN","ORCMEDT0",22,0)
 . S DIC="^ORD(100.98,",DIC(0)="AEQM",DIC("S")="I $P(^(0),U,4)"
"RTN","ORCMEDT0",23,0)
 . S DIC("A")="TYPE OF QUICK ORDER: " D ^DIC
"RTN","ORCMEDT0",24,0)
 . I Y>0 S ORDG=+Y,$P(^ORD(101.41,ORDLG,0),U,5)=+Y Q
"RTN","ORCMEDT0",25,0)
 . W !,$P(^ORD(101.41,ORDLG,0),U)_" quick order dialog DELETED!",!
"RTN","ORCMEDT0",26,0)
 . S DA=ORDLG,DIK="^ORD(101.41,",ORDLG="^" D ^DIK
"RTN","ORCMEDT0",27,0)
D1 I $$COPY^ORCMEDIT(TYPE) D  ;copy an existing dialog?
"RTN","ORCMEDT0",28,0)
 . K DLAYGO,DIC("B") S DIC(0)="AEQZ",DIC("A")="Select "_$S(TYPE="Q":"QUICK ORDER",TYPE="O":"ORDER SET",1:"ORDER DIALOG")_" TO COPY: "
"RTN","ORCMEDT0",29,0)
 . D ^DIC Q:Y'>0  W !,"Copying ..."
"RTN","ORCMEDT0",30,0)
 . F I=2,6,8,9 S $P(^ORD(101.41,ORDLG,0),U,I)=$P(Y(0),U,I)
"RTN","ORCMEDT0",31,0)
 . S:TYPE'="D" $P(^ORD(101.41,ORDLG,0),U,5)=$P(Y(0),U,5) ;skip DG if Dlg
"RTN","ORCMEDT0",32,0)
 . S:$L($P(Y(0),U,2)) ^ORD(101.41,"C",$$UP^XLFSTR($P(Y(0),U,2)),ORDLG)="" ;disp text
"RTN","ORCMEDT0",33,0)
 . F I=2,3,3.1,4,5,6,7,9,10 I $D(^ORD(101.41,+Y,I)) M ^ORD(101.41,ORDLG,I)=^ORD(101.41,+Y,I)
"RTN","ORCMEDT0",34,0)
 . I $P(Y(0),U,7) S DA=ORDLG,DIE=DIC,DR="7///"_$P(Y(0),U,7) D ^DIE
"RTN","ORCMEDT0",35,0)
 . K DA S DA(1)=ORDLG,DIK="^ORD(101.41,"_ORDLG_",10,",DIK(1)="2^AD" D ENALL^DIK
"RTN","ORCMEDT0",36,0)
D2 I TYPE="D",$G(ORIT) D  ;stuff in default OI
"RTN","ORCMEDT0",37,0)
 . S DA=ORDLG,DR="2///"_$P(ORIT,U,2),DIE="^ORD(101.41," D ^DIE
"RTN","ORCMEDT0",38,0)
 . S OROI=$$PTR^ORCD("OR GTX ORDERABLE ITEM"),DA=$O(^ORD(101.41,ORDLG,10,"D",OROI,0)) I 'DA D  Q:'DA  ;create OI prompt
"RTN","ORCMEDT0",39,0)
 .. S X=+$O(^ORD(101.41,ORDLG,10,"B",0)),X=$S(X=0:1,1:X-.1) ;get Seq#
"RTN","ORCMEDT0",40,0)
 .. K DA,DIC S DIC="^ORD(101.41,"_ORDLG_",10,",DIC(0)="L",DA(1)=ORDLG
"RTN","ORCMEDT0",41,0)
 .. D ^DIC Q:Y'>0  S DA=+Y ;S DIC("P")=$P(^DD(101.41,10,0),U,2)
"RTN","ORCMEDT0",42,0)
 .. S Z=+$O(^ORD(101.41,ORDLG,10,"ATXT",0)),Z=$S(Z=0:1,1:Z-.1) ;TxtSeq#
"RTN","ORCMEDT0",43,0)
 .. S ^ORD(101.41,ORDLG,10,DA,0)=X_U_OROI_"^^Order: ^^1",^(2)=Z
"RTN","ORCMEDT0",44,0)
 .. S ^ORD(101.41,"AD",OROI,ORDLG,DA)="",^ORD(101.41,ORDLG,10,"B",X,DA)="",^ORD(101.41,ORDLG,10,"D",OROI,DA)="",^ORD(101.41,ORDLG,10,"ATXT",X,DA)=""
"RTN","ORCMEDT0",45,0)
 . S IDX="S."_$P($G(^ORD(100.98,+ORDG,0)),U,3)
"RTN","ORCMEDT0",46,0)
 . S $P(^ORD(101.41,ORDLG,10,DA,0),U,8)=1,$P(^(0),U,10)=IDX,^(3)="I 0 ;uneditable",^(7)="S Y="_+ORIT
"RTN","ORCMEDT0",47,0)
DQ Q ORDLG
"RTN","ORCMEDT0",48,0)
 ;
"RTN","ORCMEDT0",49,0)
DEL(DA) ; -- delete bad entry in Order Dialog file
"RTN","ORCMEDT0",50,0)
 N DIK S DIK="^ORD(101.41," D:$G(DA) ^DIK
"RTN","ORCMEDT0",51,0)
 Q
"RTN","ORCMEDT0",52,0)
 ;
"RTN","ORCMEDT0",53,0)
SAVE ; -- Save ORDG, responses in ORDIALOG to dialog ORQDLG
"RTN","ORCMEDT0",54,0)
 N PROMPT,CNT,ITM,TYPE,INST,VALUE,INP,UD K ^ORD(101.41,ORQDLG,6)
"RTN","ORCMEDT0",55,0)
 S (PROMPT,CNT)=0 F  S PROMPT=$O(ORDIALOG(PROMPT)) Q:PROMPT'>0  D
"RTN","ORCMEDT0",56,0)
 . S ITM=ORDIALOG(PROMPT),TYPE=$E(ORDIALOG(PROMPT,0))
"RTN","ORCMEDT0",57,0)
 . S INST=0 F  S INST=$O(ORDIALOG(PROMPT,INST)) Q:INST'>0  D
"RTN","ORCMEDT0",58,0)
 . . S VALUE=$G(ORDIALOG(PROMPT,INST)),CNT=CNT+1
"RTN","ORCMEDT0",59,0)
 . . S ^ORD(101.41,ORQDLG,6,CNT,0)=+ITM_U_PROMPT_U_INST
"RTN","ORCMEDT0",60,0)
 . . S:TYPE'="W" ^ORD(101.41,ORQDLG,6,CNT,1)=VALUE
"RTN","ORCMEDT0",61,0)
 . . M:TYPE="W" ^ORD(101.41,ORQDLG,6,CNT,2)=@VALUE
"RTN","ORCMEDT0",62,0)
 . . S ^ORD(101.41,ORQDLG,6,"D",PROMPT,CNT)=""
"RTN","ORCMEDT0",63,0)
 S ^ORD(101.41,ORQDLG,6,0)="^101.416^"_CNT_U_CNT
"RTN","ORCMEDT0",64,0)
 S INP=+$O(^ORD(100.98,"B","INPATIENT MEDICATIONS",""))
"RTN","ORCMEDT0",65,0)
 S UD=+$O(^ORD(100.98,"B","UNIT DOSE MEDICATIONS",""))
"RTN","ORCMEDT0",66,0)
 I +$G(ORDG)>0,ORDG=INP,UD>0 S ORDG=UD
"RTN","ORCMEDT0",67,0)
 S:$G(ORDG) $P(^ORD(101.41,ORQDLG,0),U,5)=+ORDG
"RTN","ORCMEDT0",68,0)
 Q
"RTN","ORCMEDT0",69,0)
 ;
"RTN","ORCMEDT0",70,0)
ITEM(Z) ; -- Select new item to add
"RTN","ORCMEDT0",71,0)
 N X,Y,DIC,ORDDF,ORERR,I
"RTN","ORCMEDT0",72,0)
 S DIC=101.41,DIC(0)="AEQM",DIC("A")="ITEM: "
"RTN","ORCMEDT0",73,0)
 I $G(Z) S Z=$P($G(^ORD(101.41,+Z,0)),U) S:$L(Z) DIC("B")=Z
"RTN","ORCMEDT0",74,0)
 S DIC("S")="I $P(^(0),U,4)'=""P"""
"RTN","ORCMEDT0",75,0)
IT1 D ^DIC I Y'>0 S Y=$S($D(DUOUT)!$D(DTOUT):"^",1:"") Q Y
"RTN","ORCMEDT0",76,0)
 D RECURSV^ORCMEDT5(+Y,+ORMENU,.ORERR) I $D(ORERR) D  G IT1
"RTN","ORCMEDT0",77,0)
 . W $C(7),!!,"If an item is already included on this menu, it may not be added!"
"RTN","ORCMEDT0",78,0)
 . W !,ORERR S I=0 F  S I=$O(ORERR(I)) Q:I'>0  W !?18," =>"_ORERR(I)
"RTN","ORCMEDT0",79,0)
 Q +Y
"RTN","ORCMEDT0",80,0)
 ;
"RTN","ORCMEDT0",81,0)
CHKDA(ORIFN) ; return numerically largest IEN in use
"RTN","ORCMEDT0",82,0)
 N ORFLG,ORNEW
"RTN","ORCMEDT0",83,0)
 S ORFLG=0
"RTN","ORCMEDT0",84,0)
 ;ORIFN - 3rd piece 0 node
"RTN","ORCMEDT0",85,0)
 ;ORFLG - Set to 1 when the largest IEN is found
"RTN","ORCMEDT0",86,0)
 ;ORNEW - next higher IEN
"RTN","ORCMEDT0",87,0)
 Q:$G(ORIFN)=""
"RTN","ORCMEDT0",88,0)
 S ORNEW=ORIFN
"RTN","ORCMEDT0",89,0)
 F  S ORNEW=$O(^ORD(101.41,ORNEW))  D  Q:ORFLG=1
"RTN","ORCMEDT0",90,0)
 . I +$O(^ORD(101.41,ORNEW))'>0 S ORFLG=1 Q
"RTN","ORCMEDT0",91,0)
 I +$G(ORNEW)>ORIFN Q ORNEW
"RTN","ORCMEDT0",92,0)
 Q ORIFN
"RTN","ORCMEDT4")
0^1^B93356095^B65485434
"RTN","ORCMEDT4",1,0)
ORCMEDT4 ;SLC/MKB-Prompt Editor ;04/01/15  13:32
"RTN","ORCMEDT4",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**8,46,95,245,313,389**;Dec 17, 1997;Build 17
"RTN","ORCMEDT4",3,0)
 ;;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","ORCMEDT4",4,0)
EN ; -- Enter/edit prompts
"RTN","ORCMEDT4",5,0)
 N PRMT F  S PRMT=+$$PROMPT Q:PRMT'>0  D  W !
"RTN","ORCMEDT4",6,0)
 . I $P($G(^ORD(101.41,PRMT,0)),U,7)=$O(^DIC(9.4,"C","OR",0)) D  Q
"RTN","ORCMEDT4",7,0)
 . . N DIC,DA S DIC="^ORD(101.41,",DA=PRMT D EN^DIQ
"RTN","ORCMEDT4",8,0)
 . . W !,"This prompt is not editable!"
"RTN","ORCMEDT4",9,0)
 . D EDIT(PRMT)
"RTN","ORCMEDT4",10,0)
 Q
"RTN","ORCMEDT4",11,0)
 ;
"RTN","ORCMEDT4",12,0)
EDIT(DA) ; -- Edit prompt DA
"RTN","ORCMEDT4",13,0)
 N DR,DIE,NAME,TEXT,TYPE,DOMAIN,OR0,OR1,ORP
"RTN","ORCMEDT4",14,0)
 Q:'$G(DA)  S OR0=$G(^ORD(101.41,DA,0)),OR1=$G(^(1)),ORP=DA
"RTN","ORCMEDT4",15,0)
 S NAME=$$NAME(DA) Q:(NAME="@")!(NAME="^")  ;deleted or quit
"RTN","ORCMEDT4",16,0)
 S TEXT=$$DTEXT($P(OR0,U,2)) Q:TEXT="^"
"RTN","ORCMEDT4",17,0)
 S TYPE=$$DATATYPE($P(OR1,U)) Q:TYPE="^"  S DOMAIN=$P(OR1,U,2)
"RTN","ORCMEDT4",18,0)
 D @$S(TYPE="D"!(TYPE="R"):"DATE",TYPE="F":"TEXT",TYPE="N":"NMBR",TYPE="P":"PTR",TYPE="S":"SET",1:"OTHER") Q:DOMAIN="^"
"RTN","ORCMEDT4",19,0)
 S $P(^ORD(101.41,DA,1),U,1,2)=TYPE_U_DOMAIN,DIE="^ORD(101.41,"
"RTN","ORCMEDT4",20,0)
 S DR=$S(NAME'=$P(OR0,U):".01///^S X=NAME;",1:"")_$S(TEXT'=$P(OR0,U,2):"2///^S X=TEXT;",1:"")_"20"_";13" D ^DIE ;95
"RTN","ORCMEDT4",21,0)
 Q
"RTN","ORCMEDT4",22,0)
 ;
"RTN","ORCMEDT4",23,0)
PROMPT() ; -- Find prompt in #101.41
"RTN","ORCMEDT4",24,0)
 N X,Y,DIC,DLAYGO
"RTN","ORCMEDT4",25,0)
 S DIC="^ORD(101.41,",DIC(0)="AEQLM",DLAYGO=101.41
"RTN","ORCMEDT4",26,0)
 S DIC("A")="Select PROMPT: ",DIC("S")="I $P(^(0),U,4)=""P"""
"RTN","ORCMEDT4",27,0)
 S DIC("DR")="4////P" D ^DIC
"RTN","ORCMEDT4",28,0)
 Q Y
"RTN","ORCMEDT4",29,0)
 ;
"RTN","ORCMEDT4",30,0)
NAME(IFN) ; -- Edit .01 name of dialog IFN
"RTN","ORCMEDT4",31,0)
 N X,Y,DIR,OLDNAME,ISPQO,NODELETE,DA,DIK,TYPE
"RTN","ORCMEDT4",32,0)
 S DIR(0)="FAO^3:63",DIR("A")="NAME: "
"RTN","ORCMEDT4",33,0)
 S OLDNAME=$P($G(^ORD(101.41,IFN,0)),U),ISPQO=0,NODELETE=1
"RTN","ORCMEDT4",34,0)
 S TYPE=$P($G(^ORD(101.41,IFN,0)),U,4)
"RTN","ORCMEDT4",35,0)
 I TYPE="Q",$E(OLDNAME,1,6)="ORWDQ " S ISPQO=1
"RTN","ORCMEDT4",36,0)
 I ISPQO!(TYPE="P") S NODELETE=0 ; OK to delete personal quick orders and prompts
"RTN","ORCMEDT4",37,0)
 S DIR("B")=OLDNAME
"RTN","ORCMEDT4",38,0)
 S DIR("?")="Enter a unique name, up to 63 characters in length."
"RTN","ORCMEDT4",39,0)
NM I $L($P($G(^ORD(101.41,IFN,0)),U,3))>0 W !,!,"(This "_$$GETITM(IFN)_" has been disabled)"
"RTN","ORCMEDT4",40,0)
 D ^DIR S:$D(DTOUT)!(X["^") Y="^"
"RTN","ORCMEDT4",41,0)
 I X="@" D  G NM:X=""
"RTN","ORCMEDT4",42,0)
 . I $D(^ORD(101.41,"AD",IFN)) W $C(7),!,"Cannot delete - currently in use!",! S X="" Q
"RTN","ORCMEDT4",43,0)
 . I $$INUSE^ORCMEDT5(IFN) W $C(7),!,"Cannot delete - currently an Add Orders Menu!",! S X="" Q
"RTN","ORCMEDT4",44,0)
 . S NODELETE=$$PTRCHK(IFN,"ORDLG PTRS") I NODELETE W $C(7),!,"Cannot delete - other file entries point to this order dialog!",! D PTRRPT("ORDLG PTRS",IFN)
"RTN","ORCMEDT4",45,0)
 . I NODELETE D DISABLE(IFN) S X="" Q
"RTN","ORCMEDT4",46,0)
 . I '$$SURE(IFN) S X="" Q  ;reask
"RTN","ORCMEDT4",47,0)
 . N IDX1,IDX2 S IDX1=0
"RTN","ORCMEDT4",48,0)
 . F  S IDX1=$O(^ORD(101.44,"C",IFN,IDX1)) Q:'IDX1  D
"RTN","ORCMEDT4",49,0)
 . . S IDX2=0
"RTN","ORCMEDT4",50,0)
 . . F  S IDX2=$O(^ORD(101.44,"C",IFN,IDX1,IDX2)) Q:'IDX2  D
"RTN","ORCMEDT4",51,0)
 . . . S DA=IDX2,DA(1)=IDX1,DIK="^ORD(101.44,"_IDX1_",10," D ^DIK
"RTN","ORCMEDT4",52,0)
 . K DA S DA=IFN,DIK="^ORD(101.41," D ^DIK W "  ...deleted." S (X,Y)="@"
"RTN","ORCMEDT4",53,0)
 I ISPQO,Y'="^",X'="@",Y'=OLDNAME D  G NM
"RTN","ORCMEDT4",54,0)
 . W $C(7),!,"Cannot rename a personal quick order",!
"RTN","ORCMEDT4",55,0)
 K ^TMP($J,"ORDLG PTRS")
"RTN","ORCMEDT4",56,0)
 Q Y
"RTN","ORCMEDT4",57,0)
 ;
"RTN","ORCMEDT4",58,0)
GETITM(DLG) ;
"RTN","ORCMEDT4",59,0)
 N ITM
"RTN","ORCMEDT4",60,0)
 S ITM=$P($G(^ORD(101.41,DLG,0)),U,4)
"RTN","ORCMEDT4",61,0)
 I ITM="Q",$E($P($G(^ORD(101.41,IFN,0)),U),1,6)="ORWDQ " Q "personal quick order"
"RTN","ORCMEDT4",62,0)
 S ITM=$S(ITM="P":"prompt",ITM="D":"dialog",ITM="Q":"quick order",ITM="O":"order set",ITM="A":"action",ITM="M":"menu",1:"item")
"RTN","ORCMEDT4",63,0)
 Q ITM
"RTN","ORCMEDT4",64,0)
 ;
"RTN","ORCMEDT4",65,0)
SURE(DLG) ; -- Are you sure?
"RTN","ORCMEDT4",66,0)
 N X,Y,DIR,ITM,DA
"RTN","ORCMEDT4",67,0)
 S ITM=$$GETITM(DLG)
"RTN","ORCMEDT4",68,0)
 S DIR(0)="YA",DIR("A")="Are you sure you want to delete this "_ITM_"? "
"RTN","ORCMEDT4",69,0)
 S DIR("?")="Enter YES if you want to delete this "_ITM_" from the file, or NO to quit."
"RTN","ORCMEDT4",70,0)
 D ^DIR
"RTN","ORCMEDT4",71,0)
 Q +Y
"RTN","ORCMEDT4",72,0)
 ;
"RTN","ORCMEDT4",73,0)
DISABLE(DLG) ; Disable item - return true if disabled
"RTN","ORCMEDT4",74,0)
 N DIR,X,Y,ITM,DA,DR,DIE,DIDEL,DISABLED
"RTN","ORCMEDT4",75,0)
 ;W $C(7),!,!,"Deletion not allowed outside of FileMan."
"RTN","ORCMEDT4",76,0)
 S ITM=$$GETITM(DLG)
"RTN","ORCMEDT4",77,0)
 S DISABLED=$L($P($G(^ORD(101.41,IFN,0)),U,3))>0
"RTN","ORCMEDT4",78,0)
 S DIR(0)="YA"
"RTN","ORCMEDT4",79,0)
 I DISABLED D  I 1
"RTN","ORCMEDT4",80,0)
 . S DIR("A",1)="This "_ITM_" is already disabled."
"RTN","ORCMEDT4",81,0)
 . S DIR("A")="Would you like to edit the disable message? "
"RTN","ORCMEDT4",82,0)
 . S DIR("?")="Enter YES if you want to edit the disabled message, or NO to quit."
"RTN","ORCMEDT4",83,0)
 . S DIR("B")="NO"
"RTN","ORCMEDT4",84,0)
 E  D
"RTN","ORCMEDT4",85,0)
 . S DIR("A")="Would you like to disable this "_ITM_"? "
"RTN","ORCMEDT4",86,0)
 . S DIR("?")="Enter YES if you want to disable this "_ITM_", or NO to quit."
"RTN","ORCMEDT4",87,0)
 . S DIR("B")="YES"
"RTN","ORCMEDT4",88,0)
 D ^DIR
"RTN","ORCMEDT4",89,0)
 I '+Y Q
"RTN","ORCMEDT4",90,0)
 W !,"Enter disable message:"
"RTN","ORCMEDT4",91,0)
 S DA=DLG,DR="3",DIE="^ORD(101.41,"
"RTN","ORCMEDT4",92,0)
 D ^DIE
"RTN","ORCMEDT4",93,0)
 Q
"RTN","ORCMEDT4",94,0)
 ;
"RTN","ORCMEDT4",95,0)
DTEXT(X) ; -- Enter/edit display text of prompt
"RTN","ORCMEDT4",96,0)
 N Y,DIR
"RTN","ORCMEDT4",97,0)
 S DIR(0)="FA^3:63",DIR("A")="TEXT OF PROMPT: " S:$L($G(X)) DIR("B")=X
"RTN","ORCMEDT4",98,0)
 S DIR("?")="Enter the text of this prompt, including any punctuation and spaces"
"RTN","ORCMEDT4",99,0)
 D ^DIR S:$D(DTOUT) Y="^"
"RTN","ORCMEDT4",100,0)
 Q Y
"RTN","ORCMEDT4",101,0)
 ;
"RTN","ORCMEDT4",102,0)
DATATYPE(X) ; -- Returns desired datatype for prompt
"RTN","ORCMEDT4",103,0)
 N DIR,Y S DIR("A")="TYPE OF PROMPT: "
"RTN","ORCMEDT4",104,0)
 S DIR(0)="SAM^D:date/time;R:relative date/time;F:free text;N:numeric;S:set of codes;P:pointer to a file;Y:yes/no;W:word processing;"
"RTN","ORCMEDT4",105,0)
 S:$L($G(X)) DIR("B")=$P($P(DIR(0),X_":",2),";")
"RTN","ORCMEDT4",106,0)
 S DIR("?")="Select the type of data to be entered at this prompt"
"RTN","ORCMEDT4",107,0)
 D ^DIR S:$D(DTOUT) Y="^"
"RTN","ORCMEDT4",108,0)
 Q Y
"RTN","ORCMEDT4",109,0)
 ;
"RTN","ORCMEDT4",110,0)
DATE ; -- date parameters
"RTN","ORCMEDT4",111,0)
 N X,Y,DIR,ORX,ORT,ORS,ORR
"RTN","ORCMEDT4",112,0)
 S X=$P(DOMAIN,":",3),ORX=X["X",ORT=X["T",ORS=X["S",ORR=X["R",DIR(0)="YA"
"RTN","ORCMEDT4",113,0)
 ; Still need to handle Earliest and Latest dates allowed
"RTN","ORCMEDT4",114,0)
 S DIR("A")="CAN DATE BE IMPRECISE? ",DIR("B")=$S(ORX:"NO",1:"YES")
"RTN","ORCMEDT4",115,0)
 D ^DIR S ORX='Y I $D(DUOUT)!($D(DTOUT)) S DOMAIN="^" Q
"RTN","ORCMEDT4",116,0)
 S DIR("A")="CAN TIME OF DAY BE ENTERED? ",DIR("B")=$S(ORT:"YES",1:"NO")
"RTN","ORCMEDT4",117,0)
 D ^DIR I $D(DUOUT)!($D(DTOUT)) S DOMAIN="^" Q
"RTN","ORCMEDT4",118,0)
 S ORT=Y I 'Y S (ORS,ORR)=0 G DQ
"RTN","ORCMEDT4",119,0)
 S DIR("A")="CAN SECONDS BE ENTERED? ",DIR("B")=$S(ORS:"YES",1:"NO")
"RTN","ORCMEDT4",120,0)
 D ^DIR S ORS=Y I $D(DUOUT)!($D(DTOUT)) S DOMAIN="^" Q
"RTN","ORCMEDT4",121,0)
 S DIR("A")="IS TIME REQUIRED? ",DIR("B")=$S(ORR:"YES",1:"NO")
"RTN","ORCMEDT4",122,0)
 D ^DIR S ORR=Y I $D(DUOUT)!($D(DTOUT)) S DOMAIN="^" Q
"RTN","ORCMEDT4",123,0)
DQ S DOMAIN="::E"_$S(ORX:"X",1:"")_$S(ORT:"T",1:"")_$S(ORS:"S",1:"")_$S(ORR:"R",1:"")
"RTN","ORCMEDT4",124,0)
 Q
"RTN","ORCMEDT4",125,0)
 ;
"RTN","ORCMEDT4",126,0)
TEXT ; -- free text
"RTN","ORCMEDT4",127,0)
 N X,Y,DIR
"RTN","ORCMEDT4",128,0)
 S DIR(0)="NAO^1:245",DIR("A")="MINIMUM LENGTH: "
"RTN","ORCMEDT4",129,0)
 S:+DOMAIN DIR("B")=+DOMAIN
"RTN","ORCMEDT4",130,0)
 D ^DIR I $D(DTOUT)!($D(DUOUT)) S DOMAIN="^" Q
"RTN","ORCMEDT4",131,0)
 S $P(DOMAIN,":")=Y,DIR("A")="MAXIMUM LENGTH: " K DIR("B")
"RTN","ORCMEDT4",132,0)
 S:$P(DOMAIN,":",2) DIR("B")=$P(DOMAIN,":",2)
"RTN","ORCMEDT4",133,0)
 D ^DIR I $D(DUOUT)!($D(DTOUT)) S DOMAIN="^" Q
"RTN","ORCMEDT4",134,0)
 S $P(DOMAIN,":",2)=Y
"RTN","ORCMEDT4",135,0)
 ; Opt pattern match ??
"RTN","ORCMEDT4",136,0)
 Q
"RTN","ORCMEDT4",137,0)
 ;
"RTN","ORCMEDT4",138,0)
NMBR ; -- numeric
"RTN","ORCMEDT4",139,0)
 N X,Y,DIR,STR
"RTN","ORCMEDT4",140,0)
 S DIR(0)="NAO^::"_+$P(DOMAIN,":",3),DIR("A")="INCLUSIVE LOWER BOUND: ",DIR("B")=+DOMAIN ;95
"RTN","ORCMEDT4",141,0)
 D ^DIR I $D(DTOUT)!($D(DUOUT)) S DOMAIN="^" Q
"RTN","ORCMEDT4",142,0)
 S STR=Y,DIR(0)="NAO^"_Y_"::"_+$P(DOMAIN,":",3),DIR("A")="INCLUSIVE UPPER BOUND: ",DIR("B")=+$P(DOMAIN,":",2) ;95
"RTN","ORCMEDT4",143,0)
 D ^DIR I $D(DTOUT)!($D(DUOUT)) S DOMAIN="^" Q
"RTN","ORCMEDT4",144,0)
 S STR=STR_":"_Y,DIR(0)="NAO",DIR("A")="MAXIMUM NUMBER OF FRACTIONAL DIGITS: ",DIR("B")=+$P(DOMAIN,":",3) ;95
"RTN","ORCMEDT4",145,0)
 D ^DIR I $D(DUOUT)!($D(DTOUT)) S DOMAIN="^" Q
"RTN","ORCMEDT4",146,0)
 S DOMAIN=STR_":"_Y
"RTN","ORCMEDT4",147,0)
 Q
"RTN","ORCMEDT4",148,0)
 ;
"RTN","ORCMEDT4",149,0)
PTR ; -- pointer
"RTN","ORCMEDT4",150,0)
 I DUZ(0)="@"!($L(DOMAIN)&'DOMAIN) D ROOT Q  ; allow file root
"RTN","ORCMEDT4",151,0)
 N X,Y,DIR,DIE,DR,FILE,STR,SCR
"RTN","ORCMEDT4",152,0)
 S DIR(0)="PA^1:AEQM",DIR("A")="POINT TO WHICH FILE: "
"RTN","ORCMEDT4",153,0)
 S:$L(DOMAIN) DIR("B")=$$FILENAME(+DOMAIN)
"RTN","ORCMEDT4",154,0)
 D ^DIR I $D(DUOUT)!($D(DTOUT)) S DOMAIN="^" Q
"RTN","ORCMEDT4",155,0)
 S FILE=+Y,STR=$P(DOMAIN,":",2) S:'$L(STR) STR="EQ"
"RTN","ORCMEDT4",156,0)
 S DOMAIN=FILE_":"_STR
"RTN","ORCMEDT4",157,0)
 Q
"RTN","ORCMEDT4",158,0)
 ;
"RTN","ORCMEDT4",159,0)
ROOT ; -- pointer via file root
"RTN","ORCMEDT4",160,0)
 N X,Y,DIR,STR
"RTN","ORCMEDT4",161,0)
 S DIR(0)="FA^1:100",DIR("A")="POINT TO WHICH FILE: "
"RTN","ORCMEDT4",162,0)
 S DIR("?")="Enter the file by name, file number, or global root (without the leading '^')."
"RTN","ORCMEDT4",163,0)
 S:$L(DOMAIN) DIR("B")=$S(+DOMAIN:$$FILENAME(+DOMAIN),1:$P(DOMAIN,":"))
"RTN","ORCMEDT4",164,0)
RT1 D ^DIR I $D(DTOUT)!$D(DUOUT) S DOMAIN="^" Q
"RTN","ORCMEDT4",165,0)
 I $L(DOMAIN),$L(X),X=$G(DIR("B")) S Y=$P(DOMAIN,":") G RTQ ; default
"RTN","ORCMEDT4",166,0)
 I +Y=Y S X=$$FILENAME(+Y) I $L(X) W "   "_X G RTQ ; valid file number
"RTN","ORCMEDT4",167,0)
 I $L(Y),+Y'=Y D  G:$D(Y) RTQ ; valid root or name
"RTN","ORCMEDT4",168,0)
 . I "(,"[$E(Y,$L(Y)) Q:$D(@(U_Y_"0)"))  ; valid file root
"RTN","ORCMEDT4",169,0)
 . S DIC=1,DIC(0)="EQ",X=Y D ^DIC S:Y>0 Y=+Y K:Y'>0 Y
"RTN","ORCMEDT4",170,0)
 W $C(7),!,"Invalid file!" G RT1
"RTN","ORCMEDT4",171,0)
RTQ S STR=$P(DOMAIN,":",2),DOMAIN=Y_":"_$S($L(STR):STR,1:"EQ")
"RTN","ORCMEDT4",172,0)
 Q
"RTN","ORCMEDT4",173,0)
 ;
"RTN","ORCMEDT4",174,0)
SET ; -- set of codes
"RTN","ORCMEDT4",175,0)
 N I,ORI,ORJ,ITEM,X,Y,ORQUIT,NEWLNG S ORJ=0
"RTN","ORCMEDT4",176,0)
 F I=1:1:$L(DOMAIN,";") S:$P(DOMAIN,";",I)'="" ITEM(I)=$P(DOMAIN,";",I)
"RTN","ORCMEDT4",177,0)
 S ORI=0 F  S ORI=$O(ITEM(ORI)) Q:ORI'>0  D SETEDIT Q:$G(ORQUIT)!(Y="")
"RTN","ORCMEDT4",178,0)
 I $G(ORQUIT) S DOMAIN="^" Q
"RTN","ORCMEDT4",179,0)
 S ORI=ORJ F  S ORI=ORI+1 D SETEDIT Q:$G(ORQUIT)!(Y="")  ; new codes
"RTN","ORCMEDT4",180,0)
 I $G(ORQUIT) S DOMAIN="^" Q
"RTN","ORCMEDT4",181,0)
 ; now done editing, rebuild DOMAIN
"RTN","ORCMEDT4",182,0)
 S I=0,DOMAIN="" F  S I=$O(ITEM(I)) Q:I'>0  S NEWLNG=$L(DOMAIN)+$L(ITEM(I))+1 S:NEWLNG'>235 DOMAIN=DOMAIN_ITEM(I)_";" I NEWLNG>235 W $C(7),!,"Domain too long - unable to store all codes."  H 2 Q
"RTN","ORCMEDT4",183,0)
 Q
"RTN","ORCMEDT4",184,0)
SETEDIT ; -- edit each item in DOMAIN
"RTN","ORCMEDT4",185,0)
 N DIR,TEXT,CODE S DIR(0)="FAO^1:5",DIR("A")="INTERNALLY-STORED CODE: "
"RTN","ORCMEDT4",186,0)
 S CODE=$P($G(ITEM(ORI)),":"),TEXT=$P($G(ITEM(ORI)),":",2),ORJ=ORI
"RTN","ORCMEDT4",187,0)
 S:$L(CODE) DIR("B")=CODE
"RTN","ORCMEDT4",188,0)
 D ^DIR S:$D(DUOUT)!($D(DTOUT)) ORQUIT=1 Q:$G(ORQUIT)!(X="")
"RTN","ORCMEDT4",189,0)
 I X="@" K ITEM(ORI) Q
"RTN","ORCMEDT4",190,0)
 S CODE=X W "  WILL STAND FOR: " W:$L(TEXT) TEXT_"// "
"RTN","ORCMEDT4",191,0)
SE1 R Y:DTIME I '$T!(Y["^") S ORQUIT=1 Q
"RTN","ORCMEDT4",192,0)
 S:Y="" Y=TEXT I "@"[Y W $C(7),!,"  Required value!",!,"'"_CODE_"' WILL STAND FOR: " W:$L(TEXT) TEXT_"// " G SE1
"RTN","ORCMEDT4",193,0)
 S TEXT=Y,ITEM(ORI)=CODE_":"_TEXT
"RTN","ORCMEDT4",194,0)
 Q
"RTN","ORCMEDT4",195,0)
 ;
"RTN","ORCMEDT4",196,0)
OTHER ; -- no parameters needed
"RTN","ORCMEDT4",197,0)
 S DOMAIN=""
"RTN","ORCMEDT4",198,0)
 Q
"RTN","ORCMEDT4",199,0)
 ;
"RTN","ORCMEDT4",200,0)
FILENAME(FNUM) ; -- Returns name of file FNUM
"RTN","ORCMEDT4",201,0)
 N ORY,Y D:$G(FNUM) FILE^DID(+FNUM,,"NAME","ORY")
"RTN","ORCMEDT4",202,0)
 S Y=$G(ORY("NAME"))
"RTN","ORCMEDT4",203,0)
 Q Y
"RTN","ORCMEDT4",204,0)
PTRCHK(DLG,ARRNAME) ; --check for pointers to order dialog
"RTN","ORCMEDT4",205,0)
 K ^TMP($J,ARRNAME)
"RTN","ORCMEDT4",206,0)
 N AREPTRS,INC S AREPTRS=0
"RTN","ORCMEDT4",207,0)
 I +$G(DLG) D
"RTN","ORCMEDT4",208,0)
 .D OR100(DLG,ARRNAME)
"RTN","ORCMEDT4",209,0)
 .D ORD10098(DLG,ARRNAME)
"RTN","ORCMEDT4",210,0)
 .D PTR80141^ORQQPXRM(DLG_";ORD(101.41,",ARRNAME)
"RTN","ORCMEDT4",211,0)
 S AREPTRS=$D(^TMP($J,ARRNAME))
"RTN","ORCMEDT4",212,0)
 Q +AREPTRS
"RTN","ORCMEDT4",213,0)
PTRRPT(ARRNAME,ORIFN) ; --show list of pointers to order dialog
"RTN","ORCMEDT4",214,0)
 N FILENUM,ITEMIEN,IEN,TAB,ITEM S FILENUM="",ITEMIEN="",IEN=""
"RTN","ORCMEDT4",215,0)
 W !,$P(^ORD(101.41,ORIFN,0),U)_" is pointed to by:"
"RTN","ORCMEDT4",216,0)
 W !,"FILE #",?10,"IEN",?20,"NAME"
"RTN","ORCMEDT4",217,0)
 W !,$$REPEAT^XLFSTR("-",24)
"RTN","ORCMEDT4",218,0)
 F FILENUM=100,100.98,801.41 D
"RTN","ORCMEDT4",219,0)
 .I $D(^TMP($J,ARRNAME,FILENUM)) D
"RTN","ORCMEDT4",220,0)
 ..F  S ITEMIEN=$O(^TMP($J,ARRNAME,FILENUM,ITEMIEN)) Q:ITEMIEN=""  D
"RTN","ORCMEDT4",221,0)
 ...S ITEM=^TMP($J,ARRNAME,FILENUM,ITEMIEN)
"RTN","ORCMEDT4",222,0)
 ...W !,FILENUM,?10,ITEMIEN
"RTN","ORCMEDT4",223,0)
 ...W ?20,$S(FILENUM=100:"N/A",1:ITEM),!
"RTN","ORCMEDT4",224,0)
 Q
"RTN","ORCMEDT4",225,0)
OR100(DLG,ARR) ;100
"RTN","ORCMEDT4",226,0)
 N ORIFN,TEMP
"RTN","ORCMEDT4",227,0)
 S TEMP=DLG_";ORD(101.41,",ORIFN=""
"RTN","ORCMEDT4",228,0)
 I $D(^OR(100,"C",TEMP)) D
"RTN","ORCMEDT4",229,0)
 .F  S ORIFN=$O(^OR(100,"C",TEMP,ORIFN)) Q:ORIFN=""  D
"RTN","ORCMEDT4",230,0)
 ..I $P(^OR(100,ORIFN,0),U,5)=TEMP D  ;if DIALOG has pointer to order dialog
"RTN","ORCMEDT4",231,0)
 ...S ^TMP($J,ARR,100,ORIFN)=$P(^OR(100,ORIFN,0),U,5)
"RTN","ORCMEDT4",232,0)
 I $D(^OR(100,"D",TEMP)) D
"RTN","ORCMEDT4",233,0)
 .F  S ORIFN=$O(^OR(100,"D",TEMP,ORIFN)) Q:ORIFN=""  D
"RTN","ORCMEDT4",234,0)
 ..I $P(^OR(100,ORIFN,3),U,4)=TEMP D  ;if ITEM ORDERED has pointer to order dialog
"RTN","ORCMEDT4",235,0)
 ...S ^TMP($J,ARR,100,ORIFN)=$P(^OR(100,ORIFN,3),U,4)
"RTN","ORCMEDT4",236,0)
 Q
"RTN","ORCMEDT4",237,0)
 ;
"RTN","ORCMEDT4",238,0)
ORD10098(DLG,ARR) ;100.98
"RTN","ORCMEDT4",239,0)
 N DISGRP,DISIEN S DISGRP="",DISIEN=""
"RTN","ORCMEDT4",240,0)
 F  S DISGRP=$O(^ORD(100.98,"B",DISGRP)) Q:DISGRP=""  D
"RTN","ORCMEDT4",241,0)
 .F  S DISIEN=$O(^ORD(100.98,"B",DISGRP,DISIEN)) Q:DISIEN=""  D
"RTN","ORCMEDT4",242,0)
 ..Q:^ORD(100.98,"B",DISGRP,DISIEN)=1  ;second B x-ref entry for SHORT NAME, Q to avoid duplicates in results
"RTN","ORCMEDT4",243,0)
 ..I $P(^ORD(100.98,DISIEN,0),U,4)=DLG D  ;if DEFAULT DIALOG has pointer to order dialog
"RTN","ORCMEDT4",244,0)
 ...S ^TMP($J,ARR,100.98,DISIEN)=$P(^ORD(100.98,DISIEN,0),U)
"RTN","ORCMEDT4",245,0)
 Q
"RTN","ORCMEDT4",246,0)
 ;
"RTN","ORCMEDT9")
0^5^B48472878^n/a
"RTN","ORCMEDT9",1,0)
ORCMEDT9 ;SLC/WAT - Move/copy utility for QOs ;09/08/15  06:20
"RTN","ORCMEDT9",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**389**;Dec 17, 1997;Build 17
"RTN","ORCMEDT9",3,0)
UDQO ; -- unit dose quick order
"RTN","ORCMEDT9",4,0)
 N ORQDLG,ORDG,ORCMDG,ORCIDG,ORABORT,ORPMAX,ORINDEX
"RTN","ORCMEDT9",5,0)
 S ORABORT=0,ORPMAX=IOSL-5,ORINDEX=""
"RTN","ORCMEDT9",6,0)
 S ORCMDG=$O(^ORD(100.98,"B","CLINIC MEDICATIONS",""))
"RTN","ORCMEDT9",7,0)
 S ORCIDG=$O(^ORD(100.98,"B","CLINIC INFUSIONS",""))
"RTN","ORCMEDT9",8,0)
 I +$G(ORCMDG)'>0 W !,"Abort: Clinic Medications display group not found!" Q
"RTN","ORCMEDT9",9,0)
 I +$G(ORCIDG)'>0 W !,"Abort: Clinic Infusions display group not found!" Q
"RTN","ORCMEDT9",10,0)
 D BLDUDQO
"RTN","ORCMEDT9",11,0)
 F  D  Q:ORABORT=1
"RTN","ORCMEDT9",12,0)
 . D DISP(ORPMAX,.ORINDEX)
"RTN","ORCMEDT9",13,0)
 . D CHOOSE(.ORABORT)
"RTN","ORCMEDT9",14,0)
 D CLEAN^DILF
"RTN","ORCMEDT9",15,0)
 Q
"RTN","ORCMEDT9",16,0)
 ;
"RTN","ORCMEDT9",17,0)
CHOOSE(ORABORT) ;select qo for action
"RTN","ORCMEDT9",18,0)
 N ORQO,ORACT
"RTN","ORCMEDT9",19,0)
 N DIR,X,Y,DIRUT,DTOUT,DUOUT
"RTN","ORCMEDT9",20,0)
 S DIR(0)="LO"
"RTN","ORCMEDT9",21,0)
 D ^DIR
"RTN","ORCMEDT9",22,0)
 I $D(DTOUT) S ORABORT=1 Q
"RTN","ORCMEDT9",23,0)
 I $D(DUOUT) S ORABORT=1 Q
"RTN","ORCMEDT9",24,0)
 Q:X=""
"RTN","ORCMEDT9",25,0)
 I X'[","&(X'["-")&($D(^TMP("ORUDQO",$J,X))) D  Q  ;single selection can Move OR Copy
"RTN","ORCMEDT9",26,0)
 . S ORACT=$$ACTASK
"RTN","ORCMEDT9",27,0)
 . I ORACT="^" S ORABORT=1 Q
"RTN","ORCMEDT9",28,0)
 . E  D ACTION(ORACT,X)
"RTN","ORCMEDT9",29,0)
 I X[","!(X["-") D ACTION(1,Y) ;check for series of numbers. Move only
"RTN","ORCMEDT9",30,0)
 Q
"RTN","ORCMEDT9",31,0)
 ;
"RTN","ORCMEDT9",32,0)
ACTION(ORGO,ORNUMBER) ;
"RTN","ORCMEDT9",33,0)
 ;ORGO=1 MOVE, ORGO=2 COPY
"RTN","ORCMEDT9",34,0)
 N ORTEMP,ORCOUNT
"RTN","ORCMEDT9",35,0)
 I $G(ORGO)=2 D COPY^ORCMEDT9(ORNUMBER) Q
"RTN","ORCMEDT9",36,0)
 S:$G(ORCMDG)="" ORCMDG=$O(^ORD(100.98,"B","CLINIC MEDICATIONS",""))
"RTN","ORCMEDT9",37,0)
 S ORCOUNT=1
"RTN","ORCMEDT9",38,0)
 F  S ORTEMP=$P(ORNUMBER,",",ORCOUNT) Q:$G(ORTEMP)=""  D
"RTN","ORCMEDT9",39,0)
 . I $D(^TMP("ORUDQO",$J,ORTEMP)) D MOVE(ORTEMP)
"RTN","ORCMEDT9",40,0)
 . S ORCOUNT=ORCOUNT+1
"RTN","ORCMEDT9",41,0)
 Q
"RTN","ORCMEDT9",42,0)
 ;
"RTN","ORCMEDT9",43,0)
DISP(ORPMAX,ORINDEX) ; show qo dialogs for action choices
"RTN","ORCMEDT9",44,0)
 ;^TMP("ORUDQO",$J,1)=12345
"RTN","ORCMEDT9",45,0)
 ;                 2)=12346
"RTN","ORCMEDT9",46,0)
 N ORDLGNM,ORIFN,ORQONAM,ORDISABL,ORDG
"RTN","ORCMEDT9",47,0)
 D HEADER
"RTN","ORCMEDT9",48,0)
 S ORIFN=""
"RTN","ORCMEDT9",49,0)
 F  S ORINDEX=$O(^TMP("ORUDQO",$J,ORINDEX)) Q:ORINDEX=""  D  Q:$Y>ORPMAX
"RTN","ORCMEDT9",50,0)
 . I IOSL-$Y<5 D HEADER
"RTN","ORCMEDT9",51,0)
 . S ORQONAM=$P(^TMP("ORUDQO",$J,ORINDEX),U,2),ORQONAM=$E(ORQONAM,1,45)
"RTN","ORCMEDT9",52,0)
 . S ORDG=$P(^TMP("ORUDQO",$J,ORINDEX),U,3)
"RTN","ORCMEDT9",53,0)
 . S ORDISABL=$P(^TMP("ORUDQO",$J,ORINDEX),U,4)
"RTN","ORCMEDT9",54,0)
 . W !,$J(ORINDEX,5)_". "_ORQONAM,?60,ORDG,?70,ORDISABL
"RTN","ORCMEDT9",55,0)
 Q
"RTN","ORCMEDT9",56,0)
 ;
"RTN","ORCMEDT9",57,0)
MOVE(ORQDLG) ;Move changes the DISPLAY GROUP to CLINIC MEDICATIONS or CLINIC INFUSIONS
"RTN","ORCMEDT9",58,0)
 ;ORQDLG is the index from ^TMP("ORUDQO",$J,index)=order dialog ifn^order NAME(.01)^DisplayGroup^Disabled
"RTN","ORCMEDT9",59,0)
 N ORIFN,ORCONVDG S ORIFN=$P(^TMP("ORUDQO",$J,ORQDLG),U) Q:$G(ORIFN)=""
"RTN","ORCMEDT9",60,0)
 I $D(^ORD(101.41,ORIFN,0)) D  Q
"RTN","ORCMEDT9",61,0)
 . S ORCONVDG=$P(^TMP("ORUDQO",$J,ORQDLG),U,3)
"RTN","ORCMEDT9",62,0)
 . S ORCONVDG=$S(ORCONVDG="UDM":ORCMDG,1:ORCIDG)
"RTN","ORCMEDT9",63,0)
 . S $P(^ORD(101.41,ORIFN,0),U,5)=$G(ORCONVDG)
"RTN","ORCMEDT9",64,0)
 . I $D(^TMP("ORUDQO",$J,ORQDLG)) K ^TMP("ORUDQO",$J,ORQDLG)
"RTN","ORCMEDT9",65,0)
 E  W $C(7),!,"Abort: Order dialog not found - check file entry and try again."
"RTN","ORCMEDT9",66,0)
 Q
"RTN","ORCMEDT9",67,0)
COPY(ORQDLG) ;copy creates a new CLINIC MEDICATIONS or CLINIC INFUSIONS qo dialog and will ask to delete the original qo
"RTN","ORCMEDT9",68,0)
 ;ORQDLG is the index from ^TMP("ORUDQO",$J,index)=order dialog ifn^order NAME(.01)^DisplayGroup^Disabled
"RTN","ORCMEDT9",69,0)
 N ORQIFN,ORNUNAME,ORNUIFN,ORCUR0,ORESULT,ORPOINT,OR30350,ORTMPDLG,ORDIGP
"RTN","ORCMEDT9",70,0)
 S OR30350=$$PATCH^XPDUTL("OR*3.0*350") ;no delete if 350 not installed
"RTN","ORCMEDT9",71,0)
 S ORQIFN=$P(^TMP("ORUDQO",$J,ORQDLG),U) Q:+$G(ORQIFN)'>0
"RTN","ORCMEDT9",72,0)
 S ORDIGP=$P(^TMP("ORUDQO",$J,ORQDLG),U,3)
"RTN","ORCMEDT9",73,0)
 S ORDIGP=$S(ORDIGP="UDM":ORCMDG,1:ORCIDG)
"RTN","ORCMEDT9",74,0)
 Q:'$D(^ORD(101.41,ORQIFN,0))
"RTN","ORCMEDT9",75,0)
 S ORNUNAME=$$GETNAME() I $G(ORNUNAME)="^" S ORQDLG=ORNUNAME Q
"RTN","ORCMEDT9",76,0)
 S ORNUIFN=$$STUB(101.41,ORNUNAME) I +$G(ORNUIFN)'>0 W !,"Error creating new entry. Please try again later."  S ORESULT=0 Q ORESULT
"RTN","ORCMEDT9",77,0)
 N I,DA,DIE,DR,DIK,ORTEMP
"RTN","ORCMEDT9",78,0)
 S ORCUR0=^ORD(101.41,ORQIFN,0) ;get 0 node of current QO
"RTN","ORCMEDT9",79,0)
 F I=2,4,6,8,9 S $P(^ORD(101.41,ORNUIFN,0),U,I)=$P(ORCUR0,U,I)
"RTN","ORCMEDT9",80,0)
 S $P(^ORD(101.41,ORNUIFN,0),U,5)=$G(ORDIGP)
"RTN","ORCMEDT9",81,0)
 S:$L($P(ORCUR0,U,2)) ^ORD(101.41,"C",$$UP^XLFSTR($P(ORCUR0,U,2)),ORNUIFN)="" ;disp text
"RTN","ORCMEDT9",82,0)
 F I=2,3,3.1,4,5,6,7,9,10 I $D(^ORD(101.41,ORQIFN,I)) M ^ORD(101.41,ORNUIFN,I)=^ORD(101.41,ORQIFN,I)
"RTN","ORCMEDT9",83,0)
 I $P(ORCUR0,U,7) S ORTEMP=$P(ORCUR0,U,7),DA=ORNUIFN,DIE="^ORD(101.41,",DR="7///^S X=ORTEMP;99///^S X=$H" D ^DIE
"RTN","ORCMEDT9",84,0)
 K DA S DA(1)=ORNUIFN,DIK="^ORD(101.41,"_ORNUIFN_",10,",DIK(1)="2^AD" D ENALL^DIK
"RTN","ORCMEDT9",85,0)
 S ORESULT=1
"RTN","ORCMEDT9",86,0)
 I ($G(OR30350)=1) D  Q ORQDLG
"RTN","ORCMEDT9",87,0)
 . S ORPOINT=$$PTRCHECK(ORQIFN) I +$G(ORPOINT)>0 D  Q
"RTN","ORCMEDT9",88,0)
 . . S ORQDLG="^"
"RTN","ORCMEDT9",89,0)
 . . D CONT
"RTN","ORCMEDT9",90,0)
 . Q:$G(ORQDLG)="^"
"RTN","ORCMEDT9",91,0)
 . I '$$DELOK() W !,"OK. You can manually delete the QO later via the QO editor." S ORQDLG="^" Q
"RTN","ORCMEDT9",92,0)
 . W !,"Now deleting original quick order..."
"RTN","ORCMEDT9",93,0)
 . S ORESULT=$$DELETE(ORQIFN)
"RTN","ORCMEDT9",94,0)
 . I $G(ORESULT)'="@" W !,"Error deleting IEN "_ORQIFN_" from ORDER DIALOG (101.41)."
"RTN","ORCMEDT9",95,0)
 . E  I $D(^TMP("ORUDQO",$J,ORQDLG)) K ^TMP("ORUDQO",$J,ORQDLG)
"RTN","ORCMEDT9",96,0)
 Q ORQDLG
"RTN","ORCMEDT9",97,0)
 ;
"RTN","ORCMEDT9",98,0)
BLDUDQO ;build list of UDM and IVM qos
"RTN","ORCMEDT9",99,0)
 N ORUDMDG,ORIVMED,ORDLGNM,ORIFN,ORINDEX,ORDISABL,ORDG
"RTN","ORCMEDT9",100,0)
 S ORINDEX=1,ORDLGNM=""
"RTN","ORCMEDT9",101,0)
 S ORUDMDG=$O(^ORD(100.98,"B","UNIT DOSE MEDICATIONS",""))
"RTN","ORCMEDT9",102,0)
 S ORIVMED=$O(^ORD(100.98,"B","IV MEDICATIONS",""))
"RTN","ORCMEDT9",103,0)
 Q:$G(ORUDMDG)=""!($G(ORIVMED)="")
"RTN","ORCMEDT9",104,0)
 K ^TMP("ORUDQO",$J)
"RTN","ORCMEDT9",105,0)
 F  S ORDLGNM=$O(^ORD(101.41,"B",ORDLGNM))  Q:$G(ORDLGNM)=""  D
"RTN","ORCMEDT9",106,0)
 . S ORIFN=$O(^ORD(101.41,"B",ORDLGNM,""))
"RTN","ORCMEDT9",107,0)
 . Q:+$G(ORIFN)'>0
"RTN","ORCMEDT9",108,0)
 . Q:$P($G(^ORD(101.41,ORIFN,0)),U,5)'=ORUDMDG&($P($G(^ORD(101.41,ORIFN,0)),U,5)'=ORIVMED)!($P($G(^ORD(101.41,ORIFN,0)),U,5)="")
"RTN","ORCMEDT9",109,0)
 . Q:$P($G(^(0)),U,4)'="Q"
"RTN","ORCMEDT9",110,0)
 . Q:$E($P($G(^(0)),U),1,6)="ORWDQ "
"RTN","ORCMEDT9",111,0)
 . S ORDISABL=$P($G(^(0)),U,3)
"RTN","ORCMEDT9",112,0)
 . S ORDG=$P($G(^(0)),U,5) S ORDG=$S(ORDG=ORUDMDG:"UDM",ORDG=ORIVMED:"IVM",1:"")
"RTN","ORCMEDT9",113,0)
 . S ORDISABL=$S($L($G(ORDISABL))>0:"YES",1:"")
"RTN","ORCMEDT9",114,0)
 . S ^TMP("ORUDQO",$J,ORINDEX)=ORIFN_"^"_$P(^ORD(101.41,ORIFN,0),U)_"^"_ORDG_"^"_ORDISABL,ORINDEX=ORINDEX+1
"RTN","ORCMEDT9",115,0)
 Q
"RTN","ORCMEDT9",116,0)
 ;
"RTN","ORCMEDT9",117,0)
GETNAME() ;get new name for copied dialog
"RTN","ORCMEDT9",118,0)
 N DIR,X,Y ;prompt for new NAME .01
"RTN","ORCMEDT9",119,0)
 S DIR(0)="F^3:63^",DIR("A")="NAME"
"RTN","ORCMEDT9",120,0)
 S DIR("?")="Enter a NAME (between 3 and 63 characters) for the new order dialog."
"RTN","ORCMEDT9",121,0)
NM D ^DIR
"RTN","ORCMEDT9",122,0)
 I $D(DIRUT)!($D(DUOUT)) S Y="^" Q Y
"RTN","ORCMEDT9",123,0)
 I $O(^ORD(101.41,"AB",X,""))'="" W $C(7),!,"Another entry already exists by this name!",! S X="" G NM
"RTN","ORCMEDT9",124,0)
 K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>63!($L(X)<3)!'(X'?1P.E) X
"RTN","ORCMEDT9",125,0)
 I '$D(X) G NM
"RTN","ORCMEDT9",126,0)
 Q Y
"RTN","ORCMEDT9",127,0)
PTRCHECK(ORIEN) ; check for pointers if Copy action
"RTN","ORCMEDT9",128,0)
 N IHAZPTR S IHAZPTR=0
"RTN","ORCMEDT9",129,0)
 I $D(^ORD(101.41,"AD",ORIEN)) S IHAZPTR=1 W $C(7),!,"Cannot delete order dialog - currently in use!",! Q IHAZPTR
"RTN","ORCMEDT9",130,0)
 S IHAZPTR=$$PTRCHK^ORCMEDT4(ORIEN,"QO PTRS")
"RTN","ORCMEDT9",131,0)
 I IHAZPTR D
"RTN","ORCMEDT9",132,0)
 . W $C(7),!,"Cannot delete order dialog - other file entries point to this order dialog!",!
"RTN","ORCMEDT9",133,0)
 . D PTRRPT^ORCMEDT4("QO PTRS",ORIEN)
"RTN","ORCMEDT9",134,0)
 Q IHAZPTR
"RTN","ORCMEDT9",135,0)
 ;
"RTN","ORCMEDT9",136,0)
ACTASK() ; get action Move or Copy
"RTN","ORCMEDT9",137,0)
 N DIR,X,Y
"RTN","ORCMEDT9",138,0)
 S DIR(0)="S^1:MOVE;2:COPY"
"RTN","ORCMEDT9",139,0)
 S DIR("?")="Choose an action for this quick order"
"RTN","ORCMEDT9",140,0)
 S DIR("?",1)="Move converts the selected QO into a new Clinic Medication QO."
"RTN","ORCMEDT9",141,0)
 S DIR("?",2)="Copy clones the selected QO into a new Clinic Medication QO."
"RTN","ORCMEDT9",142,0)
 S DIR("?",3)="The original QO is then deleted."
"RTN","ORCMEDT9",143,0)
 D ^DIR
"RTN","ORCMEDT9",144,0)
 S:$D(DTOUT)!($D(DUOUT)) Y="^"
"RTN","ORCMEDT9",145,0)
 Q Y
"RTN","ORCMEDT9",146,0)
 ;
"RTN","ORCMEDT9",147,0)
DELETE(IFN) ;remove old QO;
"RTN","ORCMEDT9",148,0)
 N Y,DA,DIK,IDX1,IDX2 S (IDX1,Y)=0
"RTN","ORCMEDT9",149,0)
 F  S IDX1=$O(^ORD(101.44,"C",IFN,IDX1)) Q:'IDX1  D
"RTN","ORCMEDT9",150,0)
 . S IDX2=0
"RTN","ORCMEDT9",151,0)
 . F  S IDX2=$O(^ORD(101.44,"C",IFN,IDX1,IDX2)) Q:'IDX2  D
"RTN","ORCMEDT9",152,0)
 . . S DA=IDX2,DA(1)=IDX1,DIK="^ORD(101.44,"_IDX1_",10," D ^DIK
"RTN","ORCMEDT9",153,0)
 K DA S DA=IFN,DIK="^ORD(101.41," D ^DIK W "  ...deleted." S Y="@"
"RTN","ORCMEDT9",154,0)
 Q Y
"RTN","ORCMEDT9",155,0)
 ;
"RTN","ORCMEDT9",156,0)
STUB(ORFILE,ORNAME) ; create new entry in file
"RTN","ORCMEDT9",157,0)
 N FDA,MSG,IEN
"RTN","ORCMEDT9",158,0)
 S FDA(ORFILE,"+1,",.01)=ORNAME
"RTN","ORCMEDT9",159,0)
 D UPDATE^DIE("","FDA","IEN","MSG")
"RTN","ORCMEDT9",160,0)
 I $D(MSG)>0
"RTN","ORCMEDT9",161,0)
 D CLEAN^DILF
"RTN","ORCMEDT9",162,0)
 Q IEN(1)
"RTN","ORCMEDT9",163,0)
 ;
"RTN","ORCMEDT9",164,0)
CONT() ; -- gives user a chance to read output from pointer check
"RTN","ORCMEDT9",165,0)
 N X,Y,DIR
"RTN","ORCMEDT9",166,0)
 S DIR(0)="FO",DIR("A")="Enter to continue "
"RTN","ORCMEDT9",167,0)
 D ^DIR
"RTN","ORCMEDT9",168,0)
 Q
"RTN","ORCMEDT9",169,0)
DELOK() ; -- Are you ready?
"RTN","ORCMEDT9",170,0)
 N X,Y,DIR
"RTN","ORCMEDT9",171,0)
 S DIR(0)="YA",DIR("A")="Do you want to delete the original quick order? ",DIR("B")="NO"
"RTN","ORCMEDT9",172,0)
 W ! D ^DIR
"RTN","ORCMEDT9",173,0)
 Q +Y
"RTN","ORCMEDT9",174,0)
HEADER ;header
"RTN","ORCMEDT9",175,0)
 W @IOF
"RTN","ORCMEDT9",176,0)
 W ".......Quick Order",$$REPEAT^XLFSTR(".",42),?60,"Type...",?67,"Disabled....."
"RTN","ORCMEDT9",177,0)
 Q
"RTN","ORQQPXRM")
0^2^B30470800^B16643774
"RTN","ORQQPXRM",1,0)
ORQQPXRM ; SLC/PJH - Functions for reminder data ;03/03/14  05:33
"RTN","ORQQPXRM",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**10,85,116,173,187,190,215,243,306,389**;Dec 17, 1997;Build 17
"RTN","ORQQPXRM",3,0)
 ;
"RTN","ORQQPXRM",4,0)
 ;ORQQPXRM DIALOG ACTIVE
"RTN","ORQQPXRM",5,0)
ACTIVE(ORY,ORLIST) D ACTIVE^PXRMRPCC(.ORY,.ORLIST) Q  ; DBIA 3080
"RTN","ORQQPXRM",6,0)
 ;
"RTN","ORQQPXRM",7,0)
 ;ORQQPXRM REMINDER EVALUATION
"RTN","ORQQPXRM",8,0)
ALIST(ORY,ORPT,ORLIST) D ALIST^PXRMRPCA(.ORY,.ORPT,.ORLIST) Q  ; DBIA 3078
"RTN","ORQQPXRM",9,0)
 ;
"RTN","ORQQPXRM",10,0)
 ;ORQQPXRM REMINDERS APPLICABLE
"RTN","ORQQPXRM",11,0)
APPL(ORY,ORPT,ORLOC) D EVALCOVR^ORQQPX(.ORY,ORPT,ORLOC) Q
"RTN","ORQQPXRM",12,0)
 ;D APPL^PXRMRPCA(.ORY,ORPT,ORLOC) Q  ; DBIA 3078
"RTN","ORQQPXRM",13,0)
 ;
"RTN","ORQQPXRM",14,0)
 ;ORQQPXRM REMINDER CATEGORIES
"RTN","ORQQPXRM",15,0)
CATEGORY(ORY,ORPT,ORLOC) ;
"RTN","ORQQPXRM",16,0)
 D CATEGORY^PXRMRPCA(.ORY,ORPT,ORLOC) Q  ; DBIA 3078
"RTN","ORQQPXRM",17,0)
 ;
"RTN","ORQQPXRM",18,0)
 ;ORQQPXRM REMINDER DIALOG
"RTN","ORQQPXRM",19,0)
DIALOG(ORY,ORREM,DFN) ;
"RTN","ORQQPXRM",20,0)
 ; DBIA 3080
"RTN","ORQQPXRM",21,0)
 N DIEN
"RTN","ORQQPXRM",22,0)
 D DIALOG^PXRMRPCC(.ORY,ORREM,DFN)
"RTN","ORQQPXRM",23,0)
 ;I $G(DFN)'="" D DIALOG^PXRMRPCC(.ORY,ORREM,DFN)
"RTN","ORQQPXRM",24,0)
 ;I $G(DFN)="" D DIALOG^PXRMRPCC(.ORY,ORREM)
"RTN","ORQQPXRM",25,0)
 I $P($G(ORY(1)),U)=-1 Q
"RTN","ORQQPXRM",26,0)
 S DIEN=$G(^PXD(811.9,ORREM,51))
"RTN","ORQQPXRM",27,0)
 S ORY(0)=0_U_+$P($G(^PXRMD(801.41,DIEN,0)),U,17)
"RTN","ORQQPXRM",28,0)
 Q
"RTN","ORQQPXRM",29,0)
 ;
"RTN","ORQQPXRM",30,0)
 ;ORQQPXRM EDUCATION SUBTOPICS
"RTN","ORQQPXRM",31,0)
EDS(ORY,OREDU) D EDS^PXRMRPCB(.ORY,OREDU) Q  ; DBIA 3079
"RTN","ORQQPXRM",32,0)
 ;
"RTN","ORQQPXRM",33,0)
 ;ORQQPXRM EDUCATION SUMMARY
"RTN","ORQQPXRM",34,0)
EDL(ORY,OREM) D EDL^PXRMRPCB(.ORY,OREM) Q  ; DBIA 3079
"RTN","ORQQPXRM",35,0)
 ;
"RTN","ORQQPXRM",36,0)
 ;ORQQPXRM EDUCATION TOPIC
"RTN","ORQQPXRM",37,0)
EDU(ORY,OREDU) D EDU^PXRMRPCB(.ORY,OREDU) Q  ; DBIA 3079
"RTN","ORQQPXRM",38,0)
 ;
"RTN","ORQQPXRM",39,0)
 ;ORQQPXRM PROGRESS NOTE HEADER
"RTN","ORQQPXRM",40,0)
HDR(ORY,ORLOC) D HDR^PXRMRPCC(.ORY,ORLOC) Q  ; DBIA 3080
"RTN","ORQQPXRM",41,0)
 ;
"RTN","ORQQPXRM",42,0)
 ;ORQQPXRM REMINDERS UNEVALUATED
"RTN","ORQQPXRM",43,0)
LIST(ORY,ORPT,ORLOC) D GETLIST^ORQQPX(.ORY,ORLOC) Q
"RTN","ORQQPXRM",44,0)
 ;D LIST^PXRMRPCA(.ORY,ORPT,ORLOC) Q  ; DBIA 3078
"RTN","ORQQPXRM",45,0)
 ;
"RTN","ORQQPXRM",46,0)
 ;ORQQPXRM MENTAL HEALTH
"RTN","ORQQPXRM",47,0)
MH(ORY,OTEST) ;
"RTN","ORQQPXRM",48,0)
 D MH^PXRMRPCC(.ORY,OTEST)  ; DBIA 3080
"RTN","ORQQPXRM",49,0)
 S ORY(0)=0
"RTN","ORQQPXRM",50,0)
 I $$PATCH^XPDUTL("YS*5.01*85") S ORY(0)=1
"RTN","ORQQPXRM",51,0)
 Q
"RTN","ORQQPXRM",52,0)
 ;
"RTN","ORQQPXRM",53,0)
MHDLL(ORY,DFN,INPUTS) ;
"RTN","ORQQPXRM",54,0)
 N CNT,CNT1,ORRESULT,ORSCORES,TEXT
"RTN","ORQQPXRM",55,0)
 F TEXT="RESULTS","SCORES" D
"RTN","ORQQPXRM",56,0)
 .S CNT=0,CNT1=0
"RTN","ORQQPXRM",57,0)
 .F  S CNT=$O(INPUTS(TEXT,CNT)) Q:CNT=""  D
"RTN","ORQQPXRM",58,0)
 ..S CNT1=CNT1+1
"RTN","ORQQPXRM",59,0)
 ..I TEXT="RESULTS" S ORRESULT(CNT1)=$G(INPUTS(TEXT,CNT))
"RTN","ORQQPXRM",60,0)
 ..I TEXT="SCORES" S ORSCORES(CNT1)=$G(INPUTS(TEXT,CNT))
"RTN","ORQQPXRM",61,0)
 D MHDLL^PXRMDRSG(.ORY,.ORRESULT,.ORSCORES,DFN)
"RTN","ORQQPXRM",62,0)
 Q
"RTN","ORQQPXRM",63,0)
 ;
"RTN","ORQQPXRM",64,0)
 ;ORQQPXRM MENTAL HEALTH RESULTS
"RTN","ORQQPXRM",65,0)
MHR(ORY,RESULT,ORES) ;
"RTN","ORQQPXRM",66,0)
 ; DBIA 3080
"RTN","ORQQPXRM",67,0)
 D MHR^PXRMRPCC(.ORY,RESULT,.ORES)
"RTN","ORQQPXRM",68,0)
 Q
"RTN","ORQQPXRM",69,0)
 ;
"RTN","ORQQPXRM",70,0)
 ;ORQQPXRM MENTAL HEALTH SAVE
"RTN","ORQQPXRM",71,0)
MHS(ORY,ORES) D MHS^PXRMRPCC(.ORY,.ORES) Q  ; DBIA 3080
"RTN","ORQQPXRM",72,0)
 ;
"RTN","ORQQPXRM",73,0)
MHV(ORY,DFN,NAME,ANS) ;
"RTN","ORQQPXRM",74,0)
 N ORDATA,ORES,X
"RTN","ORQQPXRM",75,0)
 S ORY(0)=0
"RTN","ORQQPXRM",76,0)
 I '$$PATCH^XPDUTL("YS*5.01*85") S ORY(0)=2 Q
"RTN","ORQQPXRM",77,0)
 I '$L(ANS) Q
"RTN","ORQQPXRM",78,0)
 S ORES("DFN")=DFN,ORES("CODE")=NAME
"RTN","ORQQPXRM",79,0)
 F X=1:1:$L(ANS) I $E(ANS,X)'="X" D
"RTN","ORQQPXRM",80,0)
 .;I $E(ANS,X)="T" S $E(ANS,X)=1
"RTN","ORQQPXRM",81,0)
 .;I $E(ANS,X)="F" S $E(ANS,X)=2
"RTN","ORQQPXRM",82,0)
 .S ORES(X)=X_U_$E(ANS,X)
"RTN","ORQQPXRM",83,0)
 D CHECKCR^YTQPXRM4(.ORDATA,.ORES)
"RTN","ORQQPXRM",84,0)
 I $G(ORDATA(2))="OK" S ORY(0)=1 Q
"RTN","ORQQPXRM",85,0)
 S ORY(1)=$P($G(ORDATA(2)),U,2)
"RTN","ORQQPXRM",86,0)
 Q
"RTN","ORQQPXRM",87,0)
 ;
"RTN","ORQQPXRM",88,0)
 ;ORQQPXRM MST UPDATE
"RTN","ORQQPXRM",89,0)
MST(ORY,ORPT,ORDATE,ORSTAT,ORPROV,ORFTYP,ORFIEN,ORRES) ;
"RTN","ORQQPXRM",90,0)
 D MST^PXRMRPCC(.ORY,ORPT,ORDATE,ORSTAT,ORPROV,ORFTYP,ORFIEN,ORRES) Q
"RTN","ORQQPXRM",91,0)
 ;
"RTN","ORQQPXRM",92,0)
 ;ORQQPXRM WOMEN HEALTH RESULT
"RTN","ORQQPXRM",93,0)
WH(ORY,ORRESULT) ;
"RTN","ORQQPXRM",94,0)
 D WH^PXRMRPCC(.ORY,.ORRESULT) Q
"RTN","ORQQPXRM",95,0)
 ;
"RTN","ORQQPXRM",96,0)
WHLETTER(ORY,ORIEN) ;
"RTN","ORQQPXRM",97,0)
 D LETTER^WVRPCNO1(.ORY,ORIEN) Q
"RTN","ORQQPXRM",98,0)
 ;
"RTN","ORQQPXRM",99,0)
WHREPORT(ORY,ORIEN) ;
"RTN","ORQQPXRM",100,0)
 D RESULTS^WVALERTF(.ORY,ORIEN) Q
"RTN","ORQQPXRM",101,0)
 ;
"RTN","ORQQPXRM",102,0)
 ;ORQQPXRM DIALOG PROMPTS
"RTN","ORQQPXRM",103,0)
PROMPT(ORY,ORDLG,ORDCUR,ORFTYP) ;
"RTN","ORQQPXRM",104,0)
 D PROMPT^PXRMRPCC(.ORY,ORDLG,ORDCUR,ORFTYP) Q  ; DBIA 3080
"RTN","ORQQPXRM",105,0)
 ;
"RTN","ORQQPXRM",106,0)
 ;ORQQPXRM REMINDER DETAIL
"RTN","ORQQPXRM",107,0)
REMDET(ORY,ORPT,ORIEN) D REMDET^PXRMRPCA(.ORY,ORPT,ORIEN) Q  ; DBIA 3078
"RTN","ORQQPXRM",108,0)
 ;
"RTN","ORQQPXRM",109,0)
 ;ORQQPXRM REMINDER INQUIRY
"RTN","ORQQPXRM",110,0)
RES(ORY,ORREM) D RES^PXRMRPCC(.ORY,ORREM) Q  ; DBIA 3080
"RTN","ORQQPXRM",111,0)
 ;
"RTN","ORQQPXRM",112,0)
 ;ORQQPXRM REMINDER WEB
"RTN","ORQQPXRM",113,0)
WEB(ORY,ORREM) D WEB^PXRMRPCA(.ORY,ORREM) Q  ; DBIA 3078
"RTN","ORQQPXRM",114,0)
 ;
"RTN","ORQQPXRM",115,0)
 ;PXRM REMINDER DIALOG (TIU)
"RTN","ORQQPXRM",116,0)
TDIALOG(ORY,ORDLG,DFN) ;
"RTN","ORQQPXRM",117,0)
 D DIALOG^PXRMRPCD(.ORY,ORDLG,DFN)
"RTN","ORQQPXRM",118,0)
 I $P($G(ORY(1)),U)=-1 Q
"RTN","ORQQPXRM",119,0)
 S ORY(0)=0_U_+$P($G(^PXRMD(801.41,ORDLG,0)),U,17)
"RTN","ORQQPXRM",120,0)
 Q
"RTN","ORQQPXRM",121,0)
 ;
"RTN","ORQQPXRM",122,0)
ACT(REM) ;ORQQPX SEARCH ITEMS - XPAR value screen for active reminders
"RTN","ORQQPXRM",123,0)
 ;Treat a null value as inactive
"RTN","ORQQPXRM",124,0)
 I 'REM Q 0
"RTN","ORQQPXRM",125,0)
 ;Treat a non-existen entry as inactive
"RTN","ORQQPXRM",126,0)
 I $G(^PXD(811.9,REM,0))="" Q 0
"RTN","ORQQPXRM",127,0)
 ;Check IF inactive flag is set
"RTN","ORQQPXRM",128,0)
 I ($T(INACTIVE^PXRM)'=""),$$INACTIVE^PXRM(REM) Q 0 ; DBIA 2182
"RTN","ORQQPXRM",129,0)
 ;Otherwise active
"RTN","ORQQPXRM",130,0)
 Q 1
"RTN","ORQQPXRM",131,0)
 ;
"RTN","ORQQPXRM",132,0)
REMVER(ORLIST) ;
"RTN","ORQQPXRM",133,0)
 S ORLIST=$$VERSION^XPDUTL("PXRM")
"RTN","ORQQPXRM",134,0)
 Q
"RTN","ORQQPXRM",135,0)
 ;
"RTN","ORQQPXRM",136,0)
GEC(ORRESULT,IEN,DFN,VISIT,NOTEIEN) ;
"RTN","ORQQPXRM",137,0)
 D API^PXRMGECU(.ORRESULT,IEN,DFN,VISIT,1,NOTEIEN)
"RTN","ORQQPXRM",138,0)
 Q
"RTN","ORQQPXRM",139,0)
 ;
"RTN","ORQQPXRM",140,0)
GECF(RESULT,DFN,FIN) ;
"RTN","ORQQPXRM",141,0)
 D FINISHED^PXRMGECU(DFN,FIN)
"RTN","ORQQPXRM",142,0)
 Q
"RTN","ORQQPXRM",143,0)
 ;
"RTN","ORQQPXRM",144,0)
GECP(RESULT,DFN) ;
"RTN","ORQQPXRM",145,0)
 S RESULT=$$STATUS^PXRMGECU(DFN)
"RTN","ORQQPXRM",146,0)
 Q
"RTN","ORQQPXRM",147,0)
 ;
"RTN","ORQQPXRM",148,0)
PTR80141(ORDLGPTR,ARRNAME) ;
"RTN","ORQQPXRM",149,0)
 ;;PARAMETER: ORDLGPTR => variable pointer to 101.41 (REQUIRED) e.g. 51;ORD(101.41,
"RTN","ORQQPXRM",150,0)
 ;;           ARRNAME => name subscript to use for TMP array (REQUIRED) e.g. "ORDLG PTRS"
"RTN","ORQQPXRM",151,0)
 ;;           Kill ^TMP($J,ARRNAME) before call and when finished processing returned data
"RTN","ORQQPXRM",152,0)
 ;;OUTPUT:    Array of reminder dialog elements and/or groups that have a Finding Item or Additional Finding Item that points to 101.41
"RTN","ORQQPXRM",153,0)
 ;;ARRAY FORMAT: ^TMP($J,ARRNAME,801.41,Reminder Dialog IEN)=.01 NAME from 801.41
"RTN","ORQQPXRM",154,0)
 Q:$G(ORDLGPTR)=""!($G(ORDLGPTR)'[";ORD(101.41,")!$G(ARRNAME)=""
"RTN","ORQQPXRM",155,0)
 N TYPE,RMDIEN,AFIND,INC,ORDLG S RMDIEN="",AFIND="",INC="1"
"RTN","ORQQPXRM",156,0)
 S ORDLG=$P(ORDLGPTR,";")
"RTN","ORQQPXRM",157,0)
 F TYPE="G","E" S RMDIEN="" D
"RTN","ORQQPXRM",158,0)
 .F  S RMDIEN=$O(^PXRMD(801.41,"TYPE",TYPE,RMDIEN)) Q:RMDIEN'>0  D  ;DBIA 5133
"RTN","ORQQPXRM",159,0)
 ..I $P($G(^PXRMD(801.41,RMDIEN,1)),U,5)=ORDLGPTR D
"RTN","ORQQPXRM",160,0)
 ...S ^TMP($J,ARRNAME,801.41,RMDIEN)=$P(^PXRMD(801.41,RMDIEN,0),U)
"RTN","ORQQPXRM",161,0)
 ..F  S AFIND=$O(^PXRMD(801.41,RMDIEN,3,"B",AFIND)) Q:AFIND=""  D
"RTN","ORQQPXRM",162,0)
 ...I AFIND=ORDLGPTR S ^TMP($J,ARRNAME,801.41,RMDIEN)=$P(^PXRMD(801.41,RMDIEN,0),U)
"RTN","ORQQPXRM",163,0)
 Q
"RTN","ORQQPXRM",164,0)
 ;
"RTN","ORY389")
0^3^B181884503^n/a
"RTN","ORY389",1,0)
ORY389 ;SP/WAT,RFR - PRE/POST INSTALL FOR OR*3*389 ;01/06/16  05:57
"RTN","ORY389",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**389**;Dec 17, 1997;Build 17
"RTN","ORY389",3,0)
 Q
"RTN","ORY389",4,0)
POST ;post
"RTN","ORY389",5,0)
 D BMES^XPDUTL("Configuring order dialogs...")
"RTN","ORY389",6,0)
 D UPDDGMAP
"RTN","ORY389",7,0)
 D DLGBULL
"RTN","ORY389",8,0)
 D PARVAL
"RTN","ORY389",9,0)
 D BMES^XPDUTL("DONE")
"RTN","ORY389",10,0)
 N ORPOST,ORSTNUM,XPDIDTOT
"RTN","ORY389",11,0)
 S ORPOST=1,ORSTNUM=1,XPDIDTOT=4
"RTN","ORY389",12,0)
 D QUEUE("re-index file #100","INDEX^ORY389(""?"")","OE/RR ADD C AND D INDEX TO FILE #100",.ORSTNUM)
"RTN","ORY389",13,0)
 D QUEUE("find consult quick orders","CONSULT^ORY389","OE/RR FIND CONSULT QUICK ORDERS",.ORSTNUM)
"RTN","ORY389",14,0)
 D QUEUE("supply orderable item report","SODLGCON^ORY389","OE/RR SUPPLY ORDERABLE ITEM REPORT",.ORSTNUM)
"RTN","ORY389",15,0)
 D QUEUE("outpatient pharmacy quick order report","EN^ORY389A","OE/RR PSO QO REPORT",.ORSTNUM)
"RTN","ORY389",16,0)
 Q
"RTN","ORY389",17,0)
 ;
"RTN","ORY389",18,0)
RESTART ;index redux
"RTN","ORY389",19,0)
 N DIC,Y,X,DTOUT,DUOUT
"RTN","ORY389",20,0)
 S DIC="^OR(100,",DIC(0)="AEQX",DIC("A")="ENTER THE STARTING ORDER NUMBER FROM THE STATUS EMAIL: "
"RTN","ORY389",21,0)
 D ^DIC
"RTN","ORY389",22,0)
 Q:+Y<1
"RTN","ORY389",23,0)
 W !,"Queueing re-index..."
"RTN","ORY389",24,0)
 D QUEUE("re-index file #100","INDEX^ORY389("_+Y_")","OE/RR ADD C AND D INDEX TO FILE #100")
"RTN","ORY389",25,0)
 Q
"RTN","ORY389",26,0)
 ;
"RTN","ORY389",27,0)
QUEUE(ORMSG,ZTRTN,ZTDESC,ORCURITM) ;CREATE A SPECIFIED TASK
"RTN","ORY389",28,0)
 ;PARAMETERS: ORMSG    => STRING CONTAINING THE TEXT TO OUTPUT TO THE SCREEN
"RTN","ORY389",29,0)
 ;            ZTRTN    => STRING CONTAINING THE ROUTINE TASKMAN SHOULD EXECUTE
"RTN","ORY389",30,0)
 ;            ZTDESC   => STRING CONTAINING THE TASK'S DESCRIPTION
"RTN","ORY389",31,0)
 ;            ORCURITM => REFERENCE TO THE VARIABLE STORING THE NUMBER OF THE CURRENT ITEM
"RTN","ORY389",32,0)
 N ZTDTH,ZTIO,ZTSK
"RTN","ORY389",33,0)
 D BMES^XPDUTL("Queueing "_ORMSG_"...")
"RTN","ORY389",34,0)
 S ZTDTH=$$FMADD^XLFDT($$NOW^XLFDT,0,0,0,10)
"RTN","ORY389",35,0)
 S ZTIO=""
"RTN","ORY389",36,0)
 D ^%ZTLOAD
"RTN","ORY389",37,0)
 I +$G(ZTSK)=0 D
"RTN","ORY389",38,0)
 .I $G(ORPOST) D BMES^XPDUTL("Unable to queue the "_ORMSG_"; file a Remedy ticket for assistance.")
"RTN","ORY389",39,0)
 .E  W "ERROR",!,"Unable to queue the "_ORMSG_"; file a Remedy ticket for assistance.",!
"RTN","ORY389",40,0)
 E  D
"RTN","ORY389",41,0)
 .I $G(ORPOST) D
"RTN","ORY389",42,0)
 ..D BMES^XPDUTL("DONE - Task #"_ZTSK)
"RTN","ORY389",43,0)
 ..D UPDATE^XPDID(ORCURITM)
"RTN","ORY389",44,0)
 ..S ORCURITM=ORCURITM+1
"RTN","ORY389",45,0)
 .E  W "DONE",!,"Task #"_ZTSK,!
"RTN","ORY389",46,0)
 Q
"RTN","ORY389",47,0)
 ;
"RTN","ORY389",48,0)
INDEX(ORIFN) ;create indices
"RTN","ORY389",49,0)
 ;100,2 DIALOG
"RTN","ORY389",50,0)
 ;100,7 ITEM ORDERED
"RTN","ORY389",51,0)
 N ORNODE,ORDLG,ORITEM,ORREP,ORSTAT,ORRECP
"RTN","ORY389",52,0)
 F  S ORIFN=$O(^OR(100,ORIFN),-1) H:'(ORIFN#10000) 1 D  Q:$G(ORIFN)=""!($G(ZTSTOP)=1)
"RTN","ORY389",53,0)
 .Q:+ORIFN'>0
"RTN","ORY389",54,0)
 .I $D(^OR(100,ORIFN,0))'=0 D
"RTN","ORY389",55,0)
 ..S ORNODE=^OR(100,ORIFN,0)
"RTN","ORY389",56,0)
 ..S ORDLG=$P(ORNODE,U,5)
"RTN","ORY389",57,0)
 ..S:$G(ORDLG)'="" ^OR(100,"C",$E(ORDLG,1,30),ORIFN)=""
"RTN","ORY389",58,0)
 .I $D(^OR(100,ORIFN,3))'=0 D
"RTN","ORY389",59,0)
 ..S ORNODE=^OR(100,ORIFN,3),ORDLG=""
"RTN","ORY389",60,0)
 ..S ORDLG=$P(ORNODE,U,4)
"RTN","ORY389",61,0)
 ..S:$G(ORDLG)'="" ^OR(100,"D",$E(ORDLG,1,30),ORIFN)=""
"RTN","ORY389",62,0)
 .I ORIFN#1000=0,($$S^%ZTLOAD) N X S ZTSTOP=1,X=$$S^%ZTLOAD("Received shutdown request")
"RTN","ORY389",63,0)
 ;SEND STATUS EMAIL
"RTN","ORY389",64,0)
 I +$G(ZTSTOP)=0 D
"RTN","ORY389",65,0)
 .S ORREP(1)="The file #100 re-index process from OR*3.0*389 was successfully completed."
"RTN","ORY389",66,0)
 E  D
"RTN","ORY389",67,0)
 .K ORREP
"RTN","ORY389",68,0)
 .S ORREP(1)="The file #100 re-index process from OR*3.0*389 has unexpectedly stopped."
"RTN","ORY389",69,0)
 .S ORREP(2)="If you or the system manager did not stop the process, please check the"
"RTN","ORY389",70,0)
 .S ORREP(3)="error log and file a Remedy ticket for assistance."
"RTN","ORY389",71,0)
 .S ORREP(4)=""
"RTN","ORY389",72,0)
 .S ORREP(5)="To requeue the cleanup/conversion process, run RESTART^ORY389 from the"
"RTN","ORY389",73,0)
 .S ORREP(6)="programmer prompt and when asked for the starting order number, enter"
"RTN","ORY389",74,0)
 .S ORREP(7)=ORIFN+1
"RTN","ORY389",75,0)
 S ORRECP(DUZ)=""
"RTN","ORY389",76,0)
 S ORSTAT=$$MAIL^ORUTL("ORREP(","PATCH OR*3.0*389 ORDER RE-INDEX STATUS",.ORRECP)
"RTN","ORY389",77,0)
 I +ORSTAT,($G(ZTSTOP)=1) D
"RTN","ORY389",78,0)
 .S ^XTMP("ORY389",0)=$$FMADD^XLFDT($$NOW^XLFDT,7,0,0,0)_U_$$NOW^XLFDT_U_"OR*3*389 POST-INSTALL DATA"
"RTN","ORY389",79,0)
 .S ^XTMP("ORY389","ORDER")=(ORIFN+1)
"RTN","ORY389",80,0)
 S ZTREQ="@"
"RTN","ORY389",81,0)
 Q
"RTN","ORY389",82,0)
 ;
"RTN","ORY389",83,0)
CONSULT ;find GMRC QO's to show the EAD default value/WAT
"RTN","ORY389",84,0)
 K ^TMP("OREAD",$J)
"RTN","ORY389",85,0)
 N ORGMRPKG,DA,DA1,QONAME,RESPONSE,OREAD,COUNT,TOTAL,ORDISABL,ORSTAT,ORLABEL
"RTN","ORY389",86,0)
 S (QONAME,DA,DA1)="",COUNT=1
"RTN","ORY389",87,0)
 S ORGMRPKG=$O(^DIC(9.4,"B","CONSULT/REQUEST TRACKING",""))
"RTN","ORY389",88,0)
 S OREAD=$O(^ORD(101.41,"B","OR GTX EARLIEST DATE","")),ORLABEL="EARLIEST DATE"
"RTN","ORY389",89,0)
 I $G(OREAD)="" S OREAD=$O(^ORD(101.41,"B","OR GTX CLINICALLY INDICATED DATE","")),ORLABEL="CLINICALLY INDICATED DATE"
"RTN","ORY389",90,0)
 I +$G(OREAD)'>0 S ^TMP("OREAD",$J,COUNT)=(" OR GTX "_ORLABEL_" not found in ORDERABLE ITEMS file  ") G XM Q
"RTN","ORY389",91,0)
 S ^TMP("OREAD",$J,COUNT)="Contains Consult and Procedure quick orders with a default value stored",COUNT=COUNT+1
"RTN","ORY389",92,0)
 S ^TMP("OREAD",$J,COUNT)="in the "_ORLABEL_" field. These quick orders should be",COUNT=COUNT+1
"RTN","ORY389",93,0)
 S ^TMP("OREAD",$J,COUNT)="reviewed in advance of the installation of CPRS GUI v30.B (OR*3*350)",COUNT=COUNT+1
"RTN","ORY389",94,0)
 S ^TMP("OREAD",$J,COUNT)="and GMRC*3.0*81.",COUNT=COUNT+1
"RTN","ORY389",95,0)
 S ^TMP("OREAD",$J,COUNT)="These patches rename the Earliest Date field and introduce a new parameter.",COUNT=COUNT+1
"RTN","ORY389",96,0)
 S ^TMP("OREAD",$J,COUNT)="The new ORCDGMRC CLIN IND DATE DEFAULT parameter can be set for the",COUNT=COUNT+1
"RTN","ORY389",97,0)
 S ^TMP("OREAD",$J,COUNT)="DIVISION, SYSTEM, and PACKAGE levels. The PACKAGE setting for the parameter",COUNT=COUNT+1
"RTN","ORY389",98,0)
 S ^TMP("OREAD",$J,COUNT)="is null, which will force a provider to actively choose a value for",COUNT=COUNT+1
"RTN","ORY389",99,0)
 S ^TMP("OREAD",$J,COUNT)="the date field.  Local settings may be chosen for the DIVISION and SYSTEM",COUNT=COUNT+1
"RTN","ORY389",100,0)
 S ^TMP("OREAD",$J,COUNT)="levels. Refer to the parameter definition and the OR*3.0*389/350 patch",COUNT=COUNT+1
"RTN","ORY389",101,0)
 S ^TMP("OREAD",$J,COUNT)="descriptions for further information.",COUNT=COUNT+1
"RTN","ORY389",102,0)
 S ^TMP("OREAD",$J,COUNT)="Data format of the entries in this message are as follows:",COUNT=COUNT+1
"RTN","ORY389",103,0)
 S ^TMP("OREAD",$J,COUNT)="IEN from file 101.41^Quick Order Name^"_ORLABEL_" value",COUNT=COUNT+1
"RTN","ORY389",104,0)
 S ^TMP("OREAD",$J,COUNT)="",COUNT=COUNT+1
"RTN","ORY389",105,0)
 S ^TMP("OREAD",$J,COUNT)="If you change the value of the parameter, any quick orders in this list",COUNT=COUNT+1
"RTN","ORY389",106,0)
 S ^TMP("OREAD",$J,COUNT)="that should reflect the new value, should have the "_ORLABEL,COUNT=COUNT+1
"RTN","ORY389",107,0)
 S ^TMP("OREAD",$J,COUNT)="field edited accordingly.",COUNT=COUNT+1
"RTN","ORY389",108,0)
 S ^TMP("OREAD",$J,COUNT)="",COUNT=COUNT+1
"RTN","ORY389",109,0)
 F  S QONAME=$O(^ORD(101.41,"B",QONAME)) Q:QONAME=""  D
"RTN","ORY389",110,0)
 .F  S DA=$O(^ORD(101.41,"B",QONAME,DA)) Q:DA=""  D
"RTN","ORY389",111,0)
 ..Q:$P(^ORD(101.41,DA,0),U,4)'="Q"
"RTN","ORY389",112,0)
 ..Q:$P(^ORD(101.41,DA,0),U,7)'=+$G(ORGMRPKG)
"RTN","ORY389",113,0)
 ..;now find the EAD in the items for this QO and show that value
"RTN","ORY389",114,0)
 ..F  S DA1=$O(^ORD(101.41,DA,6,DA1)) Q:DA1=""  D
"RTN","ORY389",115,0)
 ...Q:DA1<1
"RTN","ORY389",116,0)
 ...S RESPONSE=$P(^ORD(101.41,DA,6,DA1,0),U,2)
"RTN","ORY389",117,0)
 ...Q:RESPONSE'=+OREAD
"RTN","ORY389",118,0)
 ...S ORDISABL=$P(^ORD(101.41,DA,0),U,3)
"RTN","ORY389",119,0)
 ...S ORDISABL=$S($L($G(ORDISABL))>0:"YES",1:"")
"RTN","ORY389",120,0)
 ...S ^TMP("OREAD",$J,COUNT)=DA_"^"_QONAME_"^"_^ORD(101.41,DA,6,DA1,1)_"^"_$G(ORDISABL),COUNT=COUNT+1
"RTN","ORY389",121,0)
 I COUNT'>18 S ^TMP("OREAD",$J,COUNT)="No Consult or Procedure quick orders found with a default value stored."
"RTN","ORY389",122,0)
 S TOTAL=0  S:COUNT>18 TOTAL=COUNT-19 S ^TMP("OREAD",$J,COUNT)="TOTAL NUMBER OF QOs FOUND: "_TOTAL,COUNT=COUNT+1
"RTN","ORY389",123,0)
XM S ORSTAT=$$MAIL^ORUTL("^TMP(""OREAD"",$J,","CONSULT/PROCEDURE QOs EARLIEST APPROPRIATE DATE DEFAULT VALUE",,"ORY389CQORECIPS")
"RTN","ORY389",124,0)
 S ZTREQ="@"
"RTN","ORY389",125,0)
 Q
"RTN","ORY389",126,0)
 ;
"RTN","ORY389",127,0)
SODLGCON ;LOOP THROUGH ALL ORDERABLE ITEMS AND REPORT ON THOSE THAT ARE SUPPLY (TASKED)
"RTN","ORY389",128,0)
 N ORCHK,ORDATE,ORDGIEN,ORDLGIDX,ORDLGIEN,ORDRGIEN,OREXIT,ORFIELDS,ORGROUP,ORIDX,ORTEXT
"RTN","ORY389",129,0)
 N ORITMHDR,ORITMIEN,ORLINE,ORPHOI,ORQIEN,ORQORDER,ORRESULT,ORDDHDR,ORIEN,ORISSUP,ORSTAT
"RTN","ORY389",130,0)
 N ORCHNKBR,ORGO,ORDLG
"RTN","ORY389",131,0)
 I '$D(ZTQUEUED) W "Assembling the supply orderable item report...",!
"RTN","ORY389",132,0)
 S ORGO=1,ORTEXT=$NA(^TMP($J,"ORSODLGCON")) K @ORTEXT
"RTN","ORY389",133,0)
 S ORDLG("ORDERABLE ITEM")=+$O(^ORD(101.41,"B","OR GTX ORDERABLE ITEM",0))
"RTN","ORY389",134,0)
 I ORDLG("ORDERABLE ITEM")=0 D
"RTN","ORY389",135,0)
 .S @ORTEXT@(1)="Unable to find the OR GTX ORDERABLE ITEM dialog in the ORDER DIALOG file"
"RTN","ORY389",136,0)
 .S @ORTEXT@(2)="(#101.41). Please log a Remedy ticket for assistance.",@ORTEXT=2
"RTN","ORY389",137,0)
 S ORDLG("ADDITIVE")=+$O(^ORD(101.41,"B","OR GTX ADDITIVE",0))
"RTN","ORY389",138,0)
 I ORDLG("ADDITIVE")=0 D
"RTN","ORY389",139,0)
 .S:+$G(@ORTEXT)>0 @ORTEXT=@ORTEXT+1,@ORTEXT@(@ORTEXT)=""
"RTN","ORY389",140,0)
 .S @ORTEXT=$G(@ORTEXT)+1,@ORTEXT@(@ORTEXT)="Unable to find the OR GTX ADDITIVE dialog in the ORDER DIALOG file (#101.41)."
"RTN","ORY389",141,0)
 .S @ORTEXT=@ORTEXT+1,@ORTEXT@(@ORTEXT)="Please log a Remedy ticket for assistance."
"RTN","ORY389",142,0)
 I ORGO D
"RTN","ORY389",143,0)
 .S @ORTEXT@(1)="The following orderable items resolve to a supply dispense item.",@ORTEXT@(2)=""
"RTN","ORY389",144,0)
 .S @ORTEXT@(3)="ORDERABLE ITEM",@ORTEXT@(4)=$$REPEAT^XLFSTR("-",72),@ORTEXT=4
"RTN","ORY389",145,0)
 .;CREATE ORDERABLE ITEM INDEX OF QUICK ORDERS
"RTN","ORY389",146,0)
 .S ORQORDER=$NA(^TMP($J,"ORQORDER")) K @ORQORDER
"RTN","ORY389",147,0)
 .S ORQIEN=0 F  S ORQIEN=$O(^ORD(101.41,ORQIEN)) Q:'+$G(ORQIEN)  D
"RTN","ORY389",148,0)
 ..Q:$P($G(^ORD(101.41,ORQIEN,0)),U,4)'="Q"
"RTN","ORY389",149,0)
 ..S ORDLGIDX="" F  S ORDLGIDX=$O(ORDLG(ORDLGIDX)) Q:$G(ORDLGIDX)=""  D
"RTN","ORY389",150,0)
 ...S ORDLGIEN=0 F  S ORDLGIEN=$O(^ORD(101.41,ORQIEN,6,"D",ORDLG(ORDLGIDX),ORDLGIEN)) Q:'+ORDLGIEN  D
"RTN","ORY389",151,0)
 ....S ORITMIEN=$G(^ORD(101.41,ORQIEN,6,ORDLGIEN,1))
"RTN","ORY389",152,0)
 ....Q:+ORITMIEN'=ORITMIEN
"RTN","ORY389",153,0)
 ....S @ORQORDER@(ORITMIEN,$P(^ORD(101.41,ORQIEN,0),U,1))=ORQIEN
"RTN","ORY389",154,0)
 .S ORCHNKBR=$$REPEAT^XLFSTR("*",30)
"RTN","ORY389",155,0)
 .S ORIEN=0 F  S ORIEN=$O(^ORD(101.43,ORIEN)) Q:+$G(ORIEN)=0!($G(ZTSTOP))  D
"RTN","ORY389",156,0)
 ..I ORIEN#1000=0 D  Q:$G(ZTSTOP)
"RTN","ORY389",157,0)
 ...I $$S^%ZTLOAD D
"RTN","ORY389",158,0)
 ....N X
"RTN","ORY389",159,0)
 ....S ZTSTOP=1,X=$$S^%ZTLOAD("Received shutdown request")
"RTN","ORY389",160,0)
 ..S ORDATE=$P($G(^ORD(101.43,ORIEN,.1)),U,1),OREXIT=0
"RTN","ORY389",161,0)
 ..I ORDATE'="",(+ORDATE<DT) S OREXIT=1
"RTN","ORY389",162,0)
 ..Q:+$G(OREXIT)=1
"RTN","ORY389",163,0)
 ..S ORPHOI=$P($G(^ORD(101.43,ORIEN,0)),U,2)
"RTN","ORY389",164,0)
 ..Q:$P(ORPHOI,";",2)'="99PSP"
"RTN","ORY389",165,0)
 ..S ORCHK=0
"RTN","ORY389",166,0)
 ..D DRGIEN^PSS50P7(+ORPHOI,,"ORSUPPLY")
"RTN","ORY389",167,0)
 ..Q:+^TMP($J,"ORSUPPLY",0)<1
"RTN","ORY389",168,0)
 ..S (ORITMHDR,ORDDHDR,ORISSUP)=0
"RTN","ORY389",169,0)
 ..S ORDRGIEN=0 F  S ORDRGIEN=$O(^TMP($J,"ORSUPPLY",ORDRGIEN)) Q:'+$G(ORDRGIEN)  D
"RTN","ORY389",170,0)
 ...D ZERO^PSS50(ORDRGIEN,,,,,"ORDRUG")
"RTN","ORY389",171,0)
 ...Q:+^TMP($J,"ORDRUG",0)<1
"RTN","ORY389",172,0)
 ...I $$ISSUPPLY(ORDRGIEN) D
"RTN","ORY389",173,0)
 ....I 'ORITMHDR D WRAP^ORUTL($P(^ORD(101.43,ORIEN,0),U,1),ORTEXT) S ORITMHDR=1
"RTN","ORY389",174,0)
 ....I 'ORDDHDR D WRAP^ORUTL("DISPENSE ITEM(S): "_^TMP($J,"ORDRUG",ORDRGIEN,.01),ORTEXT) I 1 S ORDDHDR=1
"RTN","ORY389",175,0)
 ....E  D WRAP^ORUTL($$REPEAT^XLFSTR(" ",18)_^TMP($J,"ORDRUG",ORDRGIEN,.01),ORTEXT)
"RTN","ORY389",176,0)
 ....S ORISSUP=1
"RTN","ORY389",177,0)
 ..I ORISSUP D
"RTN","ORY389",178,0)
 ...D QUICK(ORIEN,ORTEXT)
"RTN","ORY389",179,0)
 ...D REMIND(ORIEN,ORTEXT,"101.43^ORD(101.43,")
"RTN","ORY389",180,0)
 ...S @ORTEXT=@ORTEXT+1,@ORTEXT@(@ORTEXT)=ORCHNKBR
"RTN","ORY389",181,0)
 .I +$G(ZTSTOP)=0 D
"RTN","ORY389",182,0)
 ..S @ORTEXT=@ORTEXT+1,@ORTEXT@(@ORTEXT)=$$REPEAT^XLFSTR(" ",32)_"[END OF REPORT]"
"RTN","ORY389",183,0)
 .E  D
"RTN","ORY389",184,0)
 ..S @ORTEXT=@ORTEXT+1,@ORTEXT@(@ORTEXT)=""
"RTN","ORY389",185,0)
 ..S @ORTEXT=@ORTEXT+1,@ORTEXT@(@ORTEXT)="The quick order dialog report process has unexpectedly stopped."
"RTN","ORY389",186,0)
 ..S @ORTEXT=@ORTEXT+1,@ORTEXT@(@ORTEXT)="If you or the system manager did not stop the process, please check the"
"RTN","ORY389",187,0)
 ..S @ORTEXT=@ORTEXT+1,@ORTEXT@(@ORTEXT)="error log and file a Remedy ticket for assistance."
"RTN","ORY389",188,0)
 ..S @ORTEXT=@ORTEXT+1,@ORTEXT@(@ORTEXT)=""
"RTN","ORY389",189,0)
 I 'ORGO!($G(ZTSTOP)) D
"RTN","ORY389",190,0)
 .S @ORTEXT=@ORTEXT+1,@ORTEXT@(@ORTEXT)="To rerun the report, execute SODLGCON^ORY389 from the programmer prompt."
"RTN","ORY389",191,0)
 K ^TMP($J,"FDATA"),^TMP($J,"DLG FIND")
"RTN","ORY389",192,0)
 S ORSTAT=$$MAIL^ORUTL($P(ORTEXT,")",1)_",","SUPPLY ORDERABLE ITEM REPORT",,"ORY389SOIRECIPS")
"RTN","ORY389",193,0)
 K @ORTEXT,@ORQORDER
"RTN","ORY389",194,0)
 I $D(ZTQUEUED) S ZTREQ="@"
"RTN","ORY389",195,0)
 E  W !,"Report successfully generated.",!
"RTN","ORY389",196,0)
 Q
"RTN","ORY389",197,0)
ISSUPPLY(ORDRGIEN) ;DETERMINE IF DRUG IS A SUPPLY ITEM
"RTN","ORY389",198,0)
 ;PARAMETERS: ORDRGIEN=>DRUG IEN IN ^TMP($J,"ORDRUG") GLOBAL
"RTN","ORY389",199,0)
 Q:"^XA^XX^"[(U_$E(^TMP($J,"ORDRUG",ORDRGIEN,2),1,2)_U)!(^TMP($J,"ORDRUG",ORDRGIEN,2)="DX900"&($G(^TMP($J,"ORDRUG",ORDRGIEN,3))["S")) 1
"RTN","ORY389",200,0)
 Q 0
"RTN","ORY389",201,0)
QUICK(ORIEN,ORTEXT) ;FIND QUICK ORDERS THAT REFERENCE THE ORDERABLE ITEM
"RTN","ORY389",202,0)
 ;PARAMETERS: ORIEN =>ORDERABLE ITEM IEN
"RTN","ORY389",203,0)
 ;            ORTEXT=>NAME OF ARRAY TO STORE OUTPUT TEXT IN
"RTN","ORY389",204,0)
 N ORQO,ORHEADER
"RTN","ORY389",205,0)
 S ORHEADER=0
"RTN","ORY389",206,0)
 S ORQO="" F  S ORQO=$O(@ORQORDER@(ORIEN,ORQO)) Q:$G(ORQO)=""  D
"RTN","ORY389",207,0)
 .I 'ORHEADER D WRAP^ORUTL("QUICK ORDERS: "_ORQO,ORTEXT) I 1 S ORHEADER=1
"RTN","ORY389",208,0)
 .E  D WRAP^ORUTL($$REPEAT^XLFSTR(" ",14)_ORQO,ORTEXT)
"RTN","ORY389",209,0)
 .D REMIND(@ORQORDER@(ORIEN,ORQO),ORTEXT,"101.41^ORD(101.41,",18)
"RTN","ORY389",210,0)
 .D MENU(@ORQORDER@(ORIEN,ORQO),ORTEXT,18)
"RTN","ORY389",211,0)
 Q
"RTN","ORY389",212,0)
REMIND(ORITMIEN,ORTEXT,ORFILE,ORINDENT) ;FIND CLINICAL REMINDERS THAT REFERENCE THE ORDERABLE ITEM/QUICK ORDER DIALOG
"RTN","ORY389",213,0)
 ;PARAMETERS: ORITMIEN=>ORDERABLE ITEM/QUICK ORDER DIALOG IEN
"RTN","ORY389",214,0)
 ;            ORTEXT  =>NAME OF ARRAY TO STORE OUTPUT TEXT IN
"RTN","ORY389",215,0)
 ;            ORFILE  =>DELIMITED STRING WITH FILE_NUMBER^FILE_GLOBAL_ROOT
"RTN","ORY389",216,0)
 ;            ORINDENT=>NUMBER OF SPACES TO INDENT TEXT; DEFAULT IS 0
"RTN","ORY389",217,0)
 K ^TMP($J,"FDATA")
"RTN","ORY389",218,0)
 D BLDLIST^PXRMFRPT(+ORFILE,$P(ORFILE,U,2),ORITMIEN,"FDATA")
"RTN","ORY389",219,0)
 D MSG(ORTEXT,$G(ORINDENT,0))
"RTN","ORY389",220,0)
 Q
"RTN","ORY389",221,0)
MSG(TEXTOUT,ORINDENT) ;PROCESS DATA FROM BLDLIST^PXRMFRPT
"RTN","ORY389",222,0)
 ;PARAMETERS: TEXTOUT =>TEXT TO OUTPUT TO THE SCREEN
"RTN","ORY389",223,0)
 ;            ORINDENT=>NUMBER OF SPACES TO INDENT TEXT; DEFAULT IS 0
"RTN","ORY389",224,0)
 N DTYP,FILENUM,IND,NAME,NL,NOUT,RNUM,FI,FIEN,IEN,TEXT,TYPE,SUBHEAD
"RTN","ORY389",225,0)
 N OUTPUT
"RTN","ORY389",226,0)
 S ORINDENT=$$REPEAT^XLFSTR(" ",$G(ORINDENT,0))
"RTN","ORY389",227,0)
 S FILENUM=0
"RTN","ORY389",228,0)
 F  S FILENUM=$O(^TMP($J,"FDATA",FILENUM)) Q:FILENUM=""  D
"RTN","ORY389",229,0)
 .S FIEN=0
"RTN","ORY389",230,0)
 .F  S FIEN=$O(^TMP($J,"FDATA",FILENUM,FIEN)) Q:FIEN=""  D
"RTN","ORY389",231,0)
 ..F TYPE="DEF","TERM","DIALOG","ROC" D
"RTN","ORY389",232,0)
 ...I '$D(^TMP($J,"FDATA",FILENUM,FIEN,TYPE)) Q
"RTN","ORY389",233,0)
 ...S RNUM=$S(TYPE="DEF":811.9,TYPE="TERM":811.5,TYPE="DIALOG":801.41,TYPE="ROC":801)
"RTN","ORY389",234,0)
 ...S OUTPUT=ORINDENT_"REMINDER "_$S(TYPE="DEF":"DEFINITIONS:",TYPE="TERM":"TERMS:",TYPE="DIALOG":"DIALOGS:",TYPE="ROC":"ORDER CHECKS:",1:"")
"RTN","ORY389",235,0)
 ...S IEN=0
"RTN","ORY389",236,0)
 ...F  S IEN=$O(^TMP($J,"FDATA",FILENUM,FIEN,TYPE,IEN)) Q:IEN=""  D
"RTN","ORY389",237,0)
 ....S NAME=$$GET1^DIQ(RNUM,IEN,.01)
"RTN","ORY389",238,0)
 ....I TYPE="DIALOG" D
"RTN","ORY389",239,0)
 .....S DTYP=$P(^PXRMD(801.41,IEN,0),U,4)
"RTN","ORY389",240,0)
 .....S OUTPUT=$G(OUTPUT,ORINDENT)_" Dialog "_$S(DTYP="E":"element",DTYP="G":"group",DTYP="S":"result group",1:"item")
"RTN","ORY389",241,0)
 .....S OUTPUT=OUTPUT_" "_NAME_$S($P(^PXRMD(801.41,IEN,0),U,3)=1:" (Disable)",1:"")_" (IEN="_IEN_")"
"RTN","ORY389",242,0)
 .....S OUTPUT=OUTPUT_", used in the "
"RTN","ORY389",243,0)
 .....N ORITMS
"RTN","ORY389",244,0)
 .....S FI=0 F  S FI=$O(^TMP($J,"FDATA",FILENUM,FIEN,TYPE,IEN,FI)) Q:FI=""  S ORITMS=$S($G(ORITMS)'="":ORITMS_", ",1:"")_$S(FI=15:"Finding Item field",FI=17:"Orderable Item field",FI=18:"Additional Finding field",FI=119:"MH Test field",1:"")
"RTN","ORY389",245,0)
 .....D WRAP^ORUTL(OUTPUT_$G(ORITMS),TEXTOUT)
"RTN","ORY389",246,0)
 ....I TYPE'="DIALOG" D
"RTN","ORY389",247,0)
 .....S OUTPUT=$G(OUTPUT,ORINDENT)_" "_NAME_" (IEN="_IEN_", "
"RTN","ORY389",248,0)
 .....S (FI,SUBHEAD)=0
"RTN","ORY389",249,0)
 .....F  S FI=$O(^TMP($J,"FDATA",FILENUM,FIEN,TYPE,IEN,FI)) Q:FI=""  D
"RTN","ORY389",250,0)
 ......I 'SUBHEAD D
"RTN","ORY389",251,0)
 .......S OUTPUT=OUTPUT_$S(TYPE="ROC":"Rule Name ",1:"Finding number ")_FI_", "
"RTN","ORY389",252,0)
 .......S SUBHEAD=1
"RTN","ORY389",253,0)
 ......E  S OUTPUT=OUTPUT_FI_", "
"RTN","ORY389",254,0)
 .....D WRAP^ORUTL($E(OUTPUT,1,*-2)_")",TEXTOUT)
"RTN","ORY389",255,0)
 Q
"RTN","ORY389",256,0)
MENU(ORQIEN,ORTEXT,ORINDENT) ;FIND ORDER MENUS THAT REFERENCE THE ORDERABLE ITEM
"RTN","ORY389",257,0)
 ;PARAMETERS: ORQIEN=>QUICK ORDER DIALOG IEN
"RTN","ORY389",258,0)
 ;            ORTEXT=>NAME OF ARRAY TO STORE OUTPUT TEXT IN
"RTN","ORY389",259,0)
 ;            ORINDENT=>NUMBER OF SPACES TO INDENT TEXT; DEFAULT IS 0
"RTN","ORY389",260,0)
 N ORIDX,HEADER,OUTPUT
"RTN","ORY389",261,0)
 S ORINDENT=$G(ORINDENT,0)
"RTN","ORY389",262,0)
 S (ORIDX,HEADER)=0 F  S ORIDX=$O(^ORD(101.41,"AD",ORQIEN,ORIDX)) Q:+ORIDX=0  D
"RTN","ORY389",263,0)
 .I 'HEADER S OUTPUT=$$REPEAT^XLFSTR(" ",ORINDENT)_"ORDER MENUS: ",HEADER=1
"RTN","ORY389",264,0)
 .E  S OUTPUT=$$REPEAT^XLFSTR(" ",ORINDENT+13)
"RTN","ORY389",265,0)
 .D WRAP^ORUTL($G(OUTPUT)_$P($G(^ORD(101.41,ORIDX,0)),U,1),ORTEXT)
"RTN","ORY389",266,0)
 Q
"RTN","ORY389",267,0)
UPDDGMAP ;Update the Pharmacy Display Group child mappings
"RTN","ORY389",268,0)
 ;find the IENs of the PHARMACY, CLINIC MEDICATIONS and CLINIC INFUSIONS display groups
"RTN","ORY389",269,0)
 N ORPHDG,ORCMDG,ORCIDG,ORZZ,ORFND,ORI,ORCSUP
"RTN","ORY389",270,0)
 S ORPHDG=$O(^ORD(100.98,"B","PHARMACY",0))
"RTN","ORY389",271,0)
 S ORCMDG=$O(^ORD(100.98,"B","CLINIC MEDICATIONS",0))
"RTN","ORY389",272,0)
 S ORCIDG=$O(^ORD(100.98,"B","CLINIC INFUSIONS",0))
"RTN","ORY389",273,0)
 S ORCSUP=$O(^ORD(100.98,"B","SUPPLIES/DEVICES",0))
"RTN","ORY389",274,0)
 S ORFND=0,ORI=0 F  S ORI=$O(^ORD(100.98,2,1,ORI)) Q:'ORI  D
"RTN","ORY389",275,0)
 .I $G(^ORD(100.98,2,1,ORI,0))=ORCMDG S ORFND=1
"RTN","ORY389",276,0)
 I 'ORFND S ORZZ(1,100.981,"+2,"_ORPHDG_",",.01)=ORCMDG
"RTN","ORY389",277,0)
 S ORFND=0,ORI=0 F  S ORI=$O(^ORD(100.98,2,1,ORI)) Q:'ORI  D
"RTN","ORY389",278,0)
 .I $G(^ORD(100.98,2,1,ORI,0))=ORCIDG S ORFND=1
"RTN","ORY389",279,0)
 I 'ORFND S ORZZ(1,100.981,"+3,"_ORPHDG_",",.01)=ORCIDG
"RTN","ORY389",280,0)
 S ORFND=0,ORI=0 F  S ORI=$O(^ORD(100.98,2,1,ORI)) Q:'ORI  D
"RTN","ORY389",281,0)
 .I $G(^ORD(100.98,2,1,ORI,0))=ORCSUP S ORFND=1
"RTN","ORY389",282,0)
 I 'ORFND S ORZZ(1,100.981,"+4,"_ORPHDG_",",.01)=ORCSUP
"RTN","ORY389",283,0)
 D UPDATE^DIE("","ORZZ(1)")
"RTN","ORY389",284,0)
 Q
"RTN","ORY389",285,0)
 ;
"RTN","ORY389",286,0)
SENDDSPG(ANAME) ; Return true if the current display group should be sent
"RTN","ORY389",287,0)
 I ANAME="CLINIC ORDERS" Q 1
"RTN","ORY389",288,0)
 I ANAME="CLINIC INFUSIONS" Q 1
"RTN","ORY389",289,0)
 I ANAME="CLINIC MEDICATIONS" Q 1
"RTN","ORY389",290,0)
 I ANAME="SUPPLIES/DEVICES" Q 1
"RTN","ORY389",291,0)
 Q 0
"RTN","ORY389",292,0)
 ;
"RTN","ORY389",293,0)
SENDDLG(ANAME) ; Return true if the current order dialog should be sent
"RTN","ORY389",294,0)
 I ANAME="PSJ OR CLINIC OE" Q 1
"RTN","ORY389",295,0)
 I ANAME="CLINIC OR PAT FLUID OE" Q 1
"RTN","ORY389",296,0)
 I ANAME="PSO SUPPLY" Q 1
"RTN","ORY389",297,0)
 Q 0
"RTN","ORY389",298,0)
 ;
"RTN","ORY389",299,0)
DLGBULL ; send bulletin about modified dialogs <on first install>
"RTN","ORY389",300,0)
 N I,ORD
"RTN","ORY389",301,0)
 F I="PSJ OR CLINIC OE","CLINIC OR PAT FLUID OE","PSO SUPPLY" S ORD(I)=""
"RTN","ORY389",302,0)
 D EN^ORYDLG(389,.ORD)
"RTN","ORY389",303,0)
 Q
"RTN","ORY389",304,0)
 ;
"RTN","ORY389",305,0)
PARVAL ;add Clin. Inf, Clin Meds display group to SEQUENCE parameter
"RTN","ORY389",306,0)
 N X
"RTN","ORY389",307,0)
 D DEL^XPAR("PKG","ORWOR CATEGORY SEQUENCE",69)
"RTN","ORY389",308,0)
 I $D(^ORD(100.98,"B","CLINIC MEDICATIONS")) D
"RTN","ORY389",309,0)
 . S X=0,X=$O(^ORD(100.98,"B","CLINIC MEDICATIONS",X)) Q:'X  D
"RTN","ORY389",310,0)
 . . D PUT^XPAR("PKG","ORWOR CATEGORY SEQUENCE",69,X)
"RTN","ORY389",311,0)
 D DEL^XPAR("PKG","ORWOR CATEGORY SEQUENCE",59)
"RTN","ORY389",312,0)
 I $D(^ORD(100.98,"B","CLINIC INFUSIONS")) D
"RTN","ORY389",313,0)
 . S X=0,X=$O(^ORD(100.98,"B","CLINIC INFUSIONS",X)) Q:'X  D
"RTN","ORY389",314,0)
 . . D PUT^XPAR("PKG","ORWOR CATEGORY SEQUENCE",59,X)
"RTN","ORY389",315,0)
 D DEL^XPAR("PKG","ORWOR CATEGORY SEQUENCE",130)
"RTN","ORY389",316,0)
 I $D(^ORD(100.98,"B","SUPPLIES/DEVICES")) D
"RTN","ORY389",317,0)
 . S X=0,X=$O(^ORD(100.98,"B","SUPPLIES/DEVICES",X)) Q:'X  D
"RTN","ORY389",318,0)
 . . D PUT^XPAR("PKG","ORWOR CATEGORY SEQUENCE",130,X)
"RTN","ORY389",319,0)
 Q
"RTN","ORY389",320,0)
 ;
"RTN","ORY389A")
0^4^B9015623^n/a
"RTN","ORY389A",1,0)
ORY389A ;SLC/JLC-Search through Outpatient Pharmacy Quick Orders ;04/27/2015  13:42
"RTN","ORY389A",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**389**;Dec 17, 1997;Build 17
"RTN","ORY389A",3,0)
 ;
"RTN","ORY389A",4,0)
 ;Reference to PXRMD(801.41 supported by ICR #4097
"RTN","ORY389A",5,0)
 ;Reference to DIC(9.4 supported by ICR #2058
"RTN","ORY389A",6,0)
 ;
"RTN","ORY389A",7,0)
 Q
"RTN","ORY389A",8,0)
EN ; -- main entry point
"RTN","ORY389A",9,0)
 S:$D(ZTQUEUED) ZTREQ="@"
"RTN","ORY389A",10,0)
 N CREAT,EXPR,ORPSO,ORURG,ORDUO,ORDONE,S1,A,B,%,X
"RTN","ORY389A",11,0)
 D NOW^%DTC S CREAT=$E(%,1,7),EXPR=$$FMADD^XLFDT(CREAT,30,0,0,0) K ^XTMP("ORY389A"),^TMP($J)
"RTN","ORY389A",12,0)
 N DIEN,AFIND,TEXT,TYPE
"RTN","ORY389A",13,0)
 F TYPE="G","E" D
"RTN","ORY389A",14,0)
 . S DIEN="" F  S DIEN=$O(^PXRMD(801.41,"TYPE",TYPE,DIEN)) Q:DIEN'>0  D
"RTN","ORY389A",15,0)
 .. S TEXT=$P($G(^PXRMD(801.41,DIEN,1)),U,5)
"RTN","ORY389A",16,0)
 .. I TEXT[101.41 S ^TMP($J,$P(TEXT,";"))=""
"RTN","ORY389A",17,0)
 .. S AFIND="" F  S AFIND=$O(^PXRMD(801.41,DIEN,3,"B",AFIND)) Q:AFIND=""  D
"RTN","ORY389A",18,0)
 ... I AFIND'[101.41 Q
"RTN","ORY389A",19,0)
 ... S ^TMP($J,$P(AFIND,";"))=""
"RTN","ORY389A",20,0)
 S ORPSO=$O(^DIC(9.4,"B","OUTPATIENT PHARMACY",""))
"RTN","ORY389A",21,0)
 S ORURG=$O(^ORD(101.41,"B","OR GTX URGENCY",""))
"RTN","ORY389A",22,0)
 S ORDONE=$O(^ORD(101.42,"S.PSO","DONE",""))
"RTN","ORY389A",23,0)
 I ORDONE="" S ^XTMP("ORY389A",1)="No Priority of DONE on system." D SEND K ZTQUEUED,ZTREQ Q
"RTN","ORY389A",24,0)
 S ORD=0
"RTN","ORY389A",25,0)
 F  S ORD=$O(^ORD(101.41,ORD)) Q:'ORD  S A=$G(^(ORD,0)) I $P(A,"^",4)="Q",$P(A,"^",7)=ORPSO D
"RTN","ORY389A",26,0)
 . S ORDUO=""
"RTN","ORY389A",27,0)
 . S S1=0 F  S S1=$O(^ORD(101.41,ORD,6,S1)) Q:'S1  S B=$G(^(S1,0)) I $P(B,"^",2)=ORURG D
"RTN","ORY389A",28,0)
 .. I $G(^ORD(101.41,ORD,6,S1,1))'=ORDONE Q
"RTN","ORY389A",29,0)
 .. S ^XTMP("ORY389A",ORD)=$P(A,"^")_"^"_$P(A,"^",3)
"RTN","ORY389A",30,0)
 I $D(^XTMP("ORY389A")) S ^XTMP("ORY389A",0)=EXPR_"^"_CREAT
"RTN","ORY389A",31,0)
 D SEND
"RTN","ORY389A",32,0)
 K ZTQUEUED,ZTREQ Q
"RTN","ORY389A",33,0)
SEND ;Send message
"RTN","ORY389A",34,0)
 N OCNT,ORD,A,S1,H1,H2,H3,ORSTAT,ORMSGT
"RTN","ORY389A",35,0)
 S ORMSGT(1,0)="  The check of Outpatient Pharmacy Quick Orders is complete."
"RTN","ORY389A",36,0)
 S ORMSGT(2,0)=" ",ORMSGT(3,0)="  Here is the list of all quick orders that should be reviewed and/or updated: ",ORMSGT(4,0)=" "
"RTN","ORY389A",37,0)
 S ORD=0,ORMSGT(5,0)="Quick Order Name                       Disable Text     Ancestors/Menus or Reminders"
"RTN","ORY389A",38,0)
 S ORMSGT(6,0)="  ",OCNT=6
"RTN","ORY389A",39,0)
 F  S ORD=$O(^XTMP("ORY389A",ORD)) Q:ORD=""  S A=^(ORD) D
"RTN","ORY389A",40,0)
 . S OCNT=OCNT+1,ORMSGT(OCNT,0)=$E($P(A,"^")_$J(" ",38),1,37)_"  "_$E($P(A,"^",2)_$J(" ",38),1,15)_"  ",(H1,H2,H3)=""
"RTN","ORY389A",41,0)
 . I $D(^TMP($J,ORD)) S H2="Used in Clinical Reminders Dialog"
"RTN","ORY389A",42,0)
 . I $D(^ORD(101.41,"AD",ORD)) S H3="On a menu or in an order set"
"RTN","ORY389A",43,0)
 . I H2]"" S ORMSGT(OCNT,0)=ORMSGT(OCNT,0)_H2
"RTN","ORY389A",44,0)
 . I H3]"" S:$L(ORMSGT(OCNT,0))>97 OCNT=OCNT+1,ORMSGT(OCNT,0)=$J(" ",97) S ORMSGT(OCNT,0)=ORMSGT(OCNT,0)_H3
"RTN","ORY389A",45,0)
 . S OCNT=OCNT+1,ORMSGT(OCNT,0)=" "
"RTN","ORY389A",46,0)
 S ORSTAT=$$MAIL^ORUTL("ORMSGT(","OUTPATIENT PHARMACY QUICK ORDERS",,"ORY389OQORECIPS")
"RTN","ORY389A",47,0)
 Q
"RTN","ORY389E")
0^6^B15752385^n/a
"RTN","ORY389E",1,0)
ORY389E ;SP/RFR - INSTALL QUESTIONS FOR OR*3*389 ;04/27/2015  13:05
"RTN","ORY389E",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**389**;Dec 17, 1997;Build 17
"RTN","ORY389E",3,0)
 Q
"RTN","ORY389E",4,0)
RECIP ;PROMPT FOR RECIPIENTS
"RTN","ORY389E",5,0)
 K:$D(^XTMP("ORY389SOIRECIPS")) ^XTMP("ORY389SOIRECIPS")
"RTN","ORY389E",6,0)
 K:$D(^XTMP("ORY389CQORECIPS")) ^XTMP("ORY389CQORECIPS")
"RTN","ORY389E",7,0)
 W !,$$CJ^XLFSTR("*** SUPPLY ORDERABLE ITEM REPORT QUESTIONS ***",80," "),!
"RTN","ORY389E",8,0)
 W !,"The post-install will create the SUPPLY ORDERABLE ITEM REPORT, which contains",!
"RTN","ORY389E",9,0)
 W "orderable items that resolve to a pharmacy supply item. For each orderable item,",!
"RTN","ORY389E",10,0)
 W "the report lists the quick order dialogs that reference that orderable item, as",!
"RTN","ORY389E",11,0)
 W "well as the reminder dialogs and definitions that reference either the orderable",!
"RTN","ORY389E",12,0)
 W "item or the quick order that references the orderable item.",!
"RTN","ORY389E",13,0)
 W "The installer is strongly encouraged to include the site's local Clinical",!
"RTN","ORY389E",14,0)
 W "Application Coordinators (CACs) as recipients of this report.",!!
"RTN","ORY389E",15,0)
 N XMDUZ,XMDF,XMMG,X,XMOUT,XMY,DIR
"RTN","ORY389E",16,0)
 S XMDUZ=DUZ
"RTN","ORY389E",17,0)
 D DES^XMA21 ;ICR #10067
"RTN","ORY389E",18,0)
 I $D(XMY)>9 D
"RTN","ORY389E",19,0)
 .S ^XTMP("ORY389SOIRECIPS",0)=$$FMADD^XLFDT(DT,31)_U_DT_U_"RECIPIENTS OF SUPPLY ORDERABLE ITEM REPORT"
"RTN","ORY389E",20,0)
 .M ^XTMP("ORY389SOIRECIPS")=XMY
"RTN","ORY389E",21,0)
 W !,$$CJ^XLFSTR("*** CONSULT/PROCEDURE QOs EARLIEST APPROPRIATE ",80," "),!
"RTN","ORY389E",22,0)
 W $$CJ^XLFSTR("DATE DEFAULT VALUE REPORT QUESTIONS ***",80," "),!
"RTN","ORY389E",23,0)
 W !,"The post-install will create the CONSULT/PROCEDURE QOs EARLIEST APPROPRIATE",!
"RTN","ORY389E",24,0)
 W "DATE DEFAULT VALUE REPORT, which contains quick orders with a default value",!
"RTN","ORY389E",25,0)
 W "stored in the Earliest Appropriate Date (EAD) field. The installer is strongly",!
"RTN","ORY389E",26,0)
 W "encouraged to include the site's local Clinical Application Coordinators (CACs)",!
"RTN","ORY389E",27,0)
 W "as recipients of this report.",!!
"RTN","ORY389E",28,0)
 S DIR("A")="CONSULT/PROCEDURE QOs EARLIEST APPROPRIATE DATE DEFAULT VALUE REPORT"
"RTN","ORY389E",29,0)
 S DIR("A",1)="Do you want the SUPPLY ORDERABLE ITEM REPORT recipients to also receive the"
"RTN","ORY389E",30,0)
 I $$QUES(.DIR)=0 D
"RTN","ORY389E",31,0)
 .K XMY
"RTN","ORY389E",32,0)
 .W !!,"Please select the recipients for the CONSULT/PROCEDURE QOs EARLIEST APPROPRIATE DATE DEFAULT VALUE REPORT",!
"RTN","ORY389E",33,0)
 .W "below."
"RTN","ORY389E",34,0)
 .D DES^XMA21 ;ICR #10067
"RTN","ORY389E",35,0)
 I $D(XMY)>9 D
"RTN","ORY389E",36,0)
 .S ^XTMP("ORY389CQORECIPS",0)=$$FMADD^XLFDT(DT,31)_U_DT_U_"RECIPIENTS OF CONSULT/PROCEDURE QOs EARLIEST APPROPRIATE DATE DEFAULT VALUE REPORT"
"RTN","ORY389E",37,0)
 .M ^XTMP("ORY389CQORECIPS")=XMY
"RTN","ORY389E",38,0)
 W !,$$CJ^XLFSTR("*** OUTPATIENT PHARMACY QUICK ORDER REPORT *** ",80," "),!
"RTN","ORY389E",39,0)
 W !,"The post-install will create the OUTPATIENT PHARMACY QUICK ORDER REPORT,",!
"RTN","ORY389E",40,0)
 W "which contains quick orders that are marked as done. The installer is strongly",!
"RTN","ORY389E",41,0)
 W "encouraged to include the site's local Clinical Application Coordinators (CACs)",!
"RTN","ORY389E",42,0)
 W "as recipients of this report.",!!
"RTN","ORY389E",43,0)
 S DIR("A")="OUTPATIENT PHARMACY QUICK ORDER REPORT"
"RTN","ORY389E",44,0)
 S DIR("A",1)="Do you want the SUPPLY ORDERABLE ITEM REPORT recipients to also receive the"
"RTN","ORY389E",45,0)
 I $$QUES(.DIR)=0 D
"RTN","ORY389E",46,0)
 .K XMY
"RTN","ORY389E",47,0)
 .W !!,"Please select the recipients for the OUTPATIENT PHARMACY QUICK ORDER REPORT",!
"RTN","ORY389E",48,0)
 .W "below."
"RTN","ORY389E",49,0)
 .D DES^XMA21 ;ICR #10067
"RTN","ORY389E",50,0)
 I $D(XMY)>9 D
"RTN","ORY389E",51,0)
 .S ^XTMP("ORY389OQORECIPS",0)=$$FMADD^XLFDT(DT,31)_U_DT_U_"RECIPIENTS OF CONSULT/PROCEDURE QOs EARLIEST APPROPRIATE DATE DEFAULT VALUE REPORT"
"RTN","ORY389E",52,0)
 .M ^XTMP("ORY389OQORECIPS")=XMY
"RTN","ORY389E",53,0)
 Q
"RTN","ORY389E",54,0)
QUES(DIR) ;
"RTN","ORY389E",55,0)
 ;ASK A QUESTION
"RTN","ORY389E",56,0)
 Q:$G(DIR("A"))=""
"RTN","ORY389E",57,0)
 N DIRUT,Y
"RTN","ORY389E",58,0)
 F  D  Q:$D(Y)
"RTN","ORY389E",59,0)
 .N X,DTOUT,DUOUT,DIROUT
"RTN","ORY389E",60,0)
 .S DIR(0)="Y"_U,DIR("B")="YES"
"RTN","ORY389E",61,0)
 .D ^DIR
"RTN","ORY389E",62,0)
 .I $D(DIRUT) W !,"A response is required.",! K Y
"RTN","ORY389E",63,0)
 Q $G(Y)
"VER")
8.0^22.0
"^DD",100,100,2,0)
DIALOG^RV^^0;5^Q
"^DD",100,100,2,1,0)
^.1
"^DD",100,100,2,1,1,0)
100^C
"^DD",100,100,2,1,1,1)
S ^OR(100,"C",$E(X,1,30),DA)=""
"^DD",100,100,2,1,1,2)
K ^OR(100,"C",$E(X,1,30),DA)
"^DD",100,100,2,1,1,"%D",0)
^^1^1^3140228^
"^DD",100,100,2,1,1,"%D",1,0)
Allows retrieval of the orders placed for a given ORDER DIALOG.
"^DD",100,100,2,1,1,"DT")
3140226
"^DD",100,100,2,3)
Enter the dialog that was used to create this order.
"^DD",100,100,2,21,0)
^^1^1^2951120^^^^
"^DD",100,100,2,21,1,0)
This is the dialog that created this order.
"^DD",100,100,2,"DT")
3140226
"^DD",100,100,2,"V",0)
^.12P^2^2
"^DD",100,100,2,"V",1,0)
19^OPTION^1^OPT^^n
"^DD",100,100,2,"V",2,0)
101^PROTOCOL^2^PRO^^n
"^DD",100,100,2,"V",3,0)
101.41^DIALOG^3^DLG^n^n
"^DD",100,100,7,0)
ITEM ORDERED^V^^3;4^Q
"^DD",100,100,7,1,0)
^.1
"^DD",100,100,7,1,1,0)
100^D
"^DD",100,100,7,1,1,1)
S ^OR(100,"D",$E(X,1,30),DA)=""
"^DD",100,100,7,1,1,2)
K ^OR(100,"D",$E(X,1,30),DA)
"^DD",100,100,7,1,1,"%D",0)
^.101^1^1^3140228^^
"^DD",100,100,7,1,1,"%D",1,0)
Allows retrieval of the orders placed for a given ORDER DIALOG.
"^DD",100,100,7,1,1,"DT")
3140228
"^DD",100,100,7,3)
Enter the item ordered.
"^DD",100,100,7,21,0)
^^1^1^2971027^^^^
"^DD",100,100,7,21,1,0)
This is the variable pointer to the file and item ordered. 
"^DD",100,100,7,"DT")
3140228
"^DD",100,100,7,"V",0)
^.12P^3^2
"^DD",100,100,7,"V",1,0)
19^PROTOCOL^1^MISC^^n
"^DD",100,100,7,"V",2,0)
60^LAB TEST^2^LAB^^n
"^DD",100,100,7,"V",3,0)
101.41^ORDER DIALOG^3^DIALOG^n^n
"^DD",100.98,100.98,0)
FIELD^^4^5
"^DD",100.98,100.98,0,"DDA")
N
"^DD",100.98,100.98,0,"DT")
2960814
"^DD",100.98,100.98,0,"IX","AD",100.981,.01)

"^DD",100.98,100.98,0,"IX","B",100.98,.01)

"^DD",100.98,100.98,0,"IX","B",100.98,3)

"^DD",100.98,100.98,0,"NM","DISPLAY GROUP")

"^DD",100.98,100.98,0,"PT",100,23)

"^DD",100.98,100.98,0,"PT",100.65,.01)

"^DD",100.98,100.98,0,"PT",100.981,.01)

"^DD",100.98,100.98,0,"PT",100.995,1.1)

"^DD",100.98,100.98,0,"PT",101.41,5)

"^DD",100.98,100.98,0,"PT",101.43,5)

"^DD",100.98,100.98,0,"PT",123.5,123.01)

"^DD",100.98,100.98,0,"VRPK")
ORDER ENTRY/RESULTS REPORTING
"^DD",100.98,100.98,.01,0)
NAME^RF^^0;1^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",100.98,100.98,.01,1,0)
^.1^^-1
"^DD",100.98,100.98,.01,1,1,0)
100.98^B
"^DD",100.98,100.98,.01,1,1,1)
S ^ORD(100.98,"B",$E(X,1,30),DA)=""
"^DD",100.98,100.98,.01,1,1,2)
K ^ORD(100.98,"B",$E(X,1,30),DA)
"^DD",100.98,100.98,.01,3)
ANSWER MUST BE 3-30 CHARACTERS IN LENGTH
"^DD",100.98,100.98,.01,4)

"^DD",100.98,100.98,.01,21,0)
^^3^3^2920224^^^^
"^DD",100.98,100.98,.01,21,1,0)
This is the name of the display group for a particular kind of order.
"^DD",100.98,100.98,.01,21,2,0)
The display group generally corresponds to a hospital service or part
"^DD",100.98,100.98,.01,21,3,0)
of a service.
"^DD",100.98,100.98,.01,"DT")
2890131
"^DD",100.98,100.98,1,0)
MEMBER^100.981P^^1;0
"^DD",100.98,100.98,1,3)
Enter a display group as a member.
"^DD",100.98,100.98,1,21,0)
^^3^3^2920224^^^^
"^DD",100.98,100.98,1,21,1,0)
This is a list of specific display groups that `belong' to the display
"^DD",100.98,100.98,1,21,2,0)
group listed in the NAME field.  (This is similar to menu items in the
"^DD",100.98,100.98,1,21,3,0)
OPTION File.)
"^DD",100.98,100.98,2,0)
MIXED NAME^F^^0;2^K:$L(X)>30!($L(X)<1) X
"^DD",100.98,100.98,2,3)
Answer must be 1-30 characters in length.
"^DD",100.98,100.98,2,21,0)
^^3^3^2960617^
"^DD",100.98,100.98,2,21,1,0)
This field contains a mixed case name for the display group.  The name 
"^DD",100.98,100.98,2,21,2,0)
should be as short as possible without being obscure.  This name is 
"^DD",100.98,100.98,2,21,3,0)
primarily intended for use in the windows display of orders.
"^DD",100.98,100.98,2,"DT")
2960617
"^DD",100.98,100.98,3,0)
SHORT NAME^F^^0;3^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>5!($L(X)<1) X
"^DD",100.98,100.98,3,1,0)
^.1
"^DD",100.98,100.98,3,1,1,0)
100.98^B^MNEMONIC
"^DD",100.98,100.98,3,1,1,1)
S:'$D(^ORD(100.98,"B",$E(X,1,30),DA)) ^(DA)=1
"^DD",100.98,100.98,3,1,1,2)
I $D(^ORD(100.98,"B",$E(X,1,30),DA)),^(DA) K ^(DA)
"^DD",100.98,100.98,3,3)
ANSWER MUST BE 1-5 CHARACTERS IN LENGTH
"^DD",100.98,100.98,3,21,0)
^^2^2^2920224^^^
"^DD",100.98,100.98,3,21,1,0)
This is an abbreviation for the display group to be used in displays and
"^DD",100.98,100.98,3,21,2,0)
reports.
"^DD",100.98,100.98,3,"DT")
2880308
"^DD",100.98,100.98,4,0)
DEFAULT DIALOG^P101.41'^ORD(101.41,^0;4^Q
"^DD",100.98,100.98,4,3)
Enter the default ordering dialog for this display group.
"^DD",100.98,100.98,4,21,0)
^^2^2^2960815^^
"^DD",100.98,100.98,4,21,1,0)
This is the dialog that will be used as the default definition when
"^DD",100.98,100.98,4,21,2,0)
placing quick orders associated with this display group.
"^DD",100.98,100.98,4,"DT")
2960814
"^DD",100.98,100.981,0)
MEMBER SUB-FIELD^^.01^2
"^DD",100.98,100.981,0,"DT")
2920601
"^DD",100.98,100.981,0,"IX","B",100.981,.01)

"^DD",100.98,100.981,0,"NM","MEMBER")

"^DD",100.98,100.981,0,"UP")
100.98
"^DD",100.98,100.981,.001,0)
SEQUENCE^NJ5,1^^ ^K:+X'=X!(X>900)!(X<0)!(X?.E1"."2N.N) X
"^DD",100.98,100.981,.001,3)
Type a Number between 0 and 900, 1 Decimal Digit
"^DD",100.98,100.981,.001,21,0)
^^2^2^2920601^
"^DD",100.98,100.981,.001,21,1,0)
This is the sequence of the member in the display group for reporting
"^DD",100.98,100.981,.001,21,2,0)
purposes.
"^DD",100.98,100.981,.001,"DT")
2920601
"^DD",100.98,100.981,.01,0)
MEMBER^MP100.98X^ORD(100.98,^0;1^S ORDDF=100.98 D TREE^ORDD101
"^DD",100.98,100.981,.01,1,0)
^.1
"^DD",100.98,100.981,.01,1,1,0)
100.981^B
"^DD",100.98,100.981,.01,1,1,1)
S ^ORD(100.98,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",100.98,100.981,.01,1,1,2)
K ^ORD(100.98,DA(1),1,"B",$E(X,1,30),DA)
"^DD",100.98,100.981,.01,1,2,0)
100.98^AD^MUMPS
"^DD",100.98,100.981,.01,1,2,1)
S ^ORD(100.98,"AD",$E(X,1,30),DA(1),DA)=""
"^DD",100.98,100.981,.01,1,2,2)
K ^ORD(100.98,"AD",$E(X,1,30),DA(1),DA)
"^DD",100.98,100.981,.01,1,2,"%D",0)
^^2^2^2971217^^
"^DD",100.98,100.981,.01,1,2,"%D",1,0)
^ORD(100.98,"AD",ORMEM,ORGRP,DA)
"^DD",100.98,100.981,.01,1,2,"%D",2,0)
Provides backwards pointer from member to parent group.
"^DD",100.98,100.981,.01,3)
Enter a display group.  A display group that is an ancestor may not also be a member.
"^DD",100.98,100.981,.01,4)

"^DD",100.98,100.981,.01,21,0)
^^2^2^2920224^^^
"^DD",100.98,100.981,.01,21,1,0)
This is a display group listed in the NAME field. (This is similar to a
"^DD",100.98,100.981,.01,21,2,0)
menu item in the OPTION File.)
"^DD",100.98,100.981,.01,"DT")
2890207
"^DD",101.41,101.41,0)
FIELD^^99^30
"^DD",101.41,101.41,0,"DDA")
N
"^DD",101.41,101.41,0,"DT")
2980501
"^DD",101.41,101.41,0,"IX","AB",101.41,.01)

"^DD",101.41,101.41,0,"IX","AD",101.412,2)

"^DD",101.41,101.41,0,"IX","AM",101.41,99)

"^DD",101.41,101.41,0,"IX","AM2",101.41,2)

"^DD",101.41,101.41,0,"IX","AM51",101.41,51)

"^DD",101.41,101.41,0,"IX","AM52",101.41,52)

"^DD",101.41,101.41,0,"IX","AMM",101.412,.01)

"^DD",101.41,101.41,0,"IX","AMM2",101.412,2)

"^DD",101.41,101.41,0,"IX","AMM3",101.412,3)

"^DD",101.41,101.41,0,"IX","AMM4",101.412,4)

"^DD",101.41,101.41,0,"IX","AMM5",101.412,5)

"^DD",101.41,101.41,0,"IX","APKG",101.41,7)

"^DD",101.41,101.41,0,"IX","C",101.41,2)

"^DD",101.41,101.41,0,"NM","ORDER DIALOG")

"^DD",101.41,101.41,0,"PT",100,2)

"^DD",101.41,101.41,0,"PT",100,7)

"^DD",101.41,101.41,0,"PT",100.045,.02)

"^DD",101.41,101.41,0,"PT",100.5,4)

"^DD",101.41,101.41,0,"PT",100.5,5)

"^DD",101.41,101.41,0,"PT",100.98,4)

"^DD",101.41,101.41,0,"PT",101.412,1)

"^DD",101.41,101.41,0,"PT",101.412,2)

"^DD",101.41,101.41,0,"PT",101.415,2)

"^DD",101.41,101.41,0,"PT",101.416,.02)

"^DD",101.41,101.41,0,"PT",101.441,.01)

"^DD",101.41,101.41,0,"PT",801.41,15)

"^DD",101.41,101.41,0,"PT",801.4118,.01)

"^DD",101.41,101.41,0,"VRPK")
OR
"^DD",101.41,101.41,.01,0)
NAME^RF^^0;1^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>63!($L(X)<3)!'(X'?1P.E) X
"^DD",101.41,101.41,.01,1,0)
^.1^^-1
"^DD",101.41,101.41,.01,1,2,0)
101.41^AB
"^DD",101.41,101.41,.01,1,2,1)
S ^ORD(101.41,"AB",$E(X,1,63),DA)=""
"^DD",101.41,101.41,.01,1,2,2)
K ^ORD(101.41,"AB",$E(X,1,63),DA)
"^DD",101.41,101.41,.01,1,2,"%D",0)
^^1^1^2971020^
"^DD",101.41,101.41,.01,1,2,"%D",1,0)
This is a regular index on the full 63 characters of the Name field.
"^DD",101.41,101.41,.01,1,2,"DT")
2971020
"^DD",101.41,101.41,.01,3)
Answer must be 3-63 characters in length.
"^DD",101.41,101.41,.01,21,0)
^^3^3^2971219^
"^DD",101.41,101.41,.01,21,1,0)
This is the name of the dialog; entries that were converted from the
"^DD",101.41,101.41,.01,21,2,0)
Protocol file will retain the same name.  Namespacing is not required,
"^DD",101.41,101.41,.01,21,3,0)
but still encouraged.
"^DD",101.41,101.41,.01,"DT")
2971020
"^DD",101.41,101.41,2,0)
DISPLAY TEXT^FX^^0;2^K:$L(X)>80!($L(X)<3)!($$CHKNAM^ORUTL(X)) X
"^DD",101.41,101.41,2,1,0)
^.1
"^DD",101.41,101.41,2,1,1,0)
101.41^C
"^DD",101.41,101.41,2,1,1,1)
S ^ORD(101.41,"C",$$UP^XLFSTR($E(X,1,63)),DA)=""
"^DD",101.41,101.41,2,1,1,2)
K ^ORD(101.41,"C",$$UP^XLFSTR($E(X,1,63)),DA)
"^DD",101.41,101.41,2,1,1,"DT")
2950112
"^DD",101.41,101.41,2,1,2,0)
101.41^AM2^MUMPS
"^DD",101.41,101.41,2,1,2,1)
D REDOM^ORDD41
"^DD",101.41,101.41,2,1,2,2)
D REDOM^ORDD41
"^DD",101.41,101.41,2,1,2,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.41,2,1,2,"%D",1,0)
Update TIMESTAMP whenever DISPLAY TEXT is changed.
"^DD",101.41,101.41,2,1,2,"DT")
2990210
"^DD",101.41,101.41,2,3)
Answer must be 3-80 characters in length and cannot contain a semicolon (;), a comma (,), an up-arrow (^), a dash (-), or an equal sign (=). 
"^DD",101.41,101.41,2,21,0)
^.001^1^1^3010913^^^^
"^DD",101.41,101.41,2,21,1,0)
The text of this dialog's name as it appears on a menu or subheader.
"^DD",101.41,101.41,2,"DT")
3000823
"^DD",101.41,101.41,3,0)
DISABLE^F^^0;3^K:$L(X)>40!($L(X)<1) X
"^DD",101.41,101.41,3,3)
Enter a message here to disable this dialog, 1-40 characters in length.
"^DD",101.41,101.41,3,21,0)
^^3^3^2950112^
"^DD",101.41,101.41,3,21,1,0)
This field disables use of this dialog when it contains text.  The text
"^DD",101.41,101.41,3,21,2,0)
should be a short message explaining why use of this dialog has been
"^DD",101.41,101.41,3,21,3,0)
disabled, as it will be displayed if this dialog is selected.
"^DD",101.41,101.41,3,"DT")
2950112
"^DD",101.41,101.41,4,0)
TYPE^RS^P:prompt;D:dialog;Q:quick order;O:order set;M:menu;A:action;^0;4^Q
"^DD",101.41,101.41,4,3)
Specify a type for this dialog.
"^DD",101.41,101.41,4,21,0)
^^5^5^2950716^^^^
"^DD",101.41,101.41,4,21,1,0)
This field defines the type of order dialog to be processed.  Control
"^DD",101.41,101.41,4,21,2,0)
will be passed to the OE/RR Dialog Processor for dialog items; menu types
"^DD",101.41,101.41,4,21,3,0)
are used for displaying and selecting dialog items.  Action types will only
"^DD",101.41,101.41,4,21,4,0)
execute the entry and exit actions, ignoring any items that may exist; these
"^DD",101.41,101.41,4,21,5,0)
dialogs should not create entries in the Orders file.
"^DD",101.41,101.41,4,"DT")
2950716
"^DD",101.41,101.41,5,0)
DISPLAY GROUP^P100.98'^ORD(100.98,^0;5^Q
"^DD",101.41,101.41,5,3)
Enter the display group containing orderable items defined by this dialog.
"^DD",101.41,101.41,5,21,0)
^^3^3^2950112^
"^DD",101.41,101.41,5,21,1,0)
This field determines what display group this dialog has been defined for.
"^DD",101.41,101.41,5,21,2,0)
It will define which orderable items are selectable with this dialog,
"^DD",101.41,101.41,5,21,3,0)
as well as what service to send the order to when it is complete.
"^DD",101.41,101.41,5,"DT")
2950112
"^DD",101.41,101.41,6,0)
SIGNATURE REQUIRED^S^0:NONE;1:ORELSE;2:ORES;^0;6^Q
"^DD",101.41,101.41,6,3)
Enter the OR key required to sign orders created by this dialog
"^DD",101.41,101.41,6,21,0)
^^6^6^2970318^^
"^DD",101.41,101.41,6,21,1,0)
This field indicates what signature will be required for orders created by
"^DD",101.41,101.41,6,21,2,0)
this dialog, to be considered complete and ready to release to the service
"^DD",101.41,101.41,6,21,3,0)
for action.  If this flag is set to NO and the dialog contains a prompt
"^DD",101.41,101.41,6,21,4,0)
for item(s) from the Orderable Item file, the order created may still
"^DD",101.41,101.41,6,21,5,0)
require a signature if any of the items ordered are individually flagged
"^DD",101.41,101.41,6,21,6,0)
as requiring a signature.
"^DD",101.41,101.41,6,"DT")
2970318
"^DD",101.41,101.41,7,0)
PACKAGE^P9.4'^DIC(9.4,^0;7^Q
"^DD",101.41,101.41,7,1,0)
^.1
"^DD",101.41,101.41,7,1,1,0)
101.41^APKG
"^DD",101.41,101.41,7,1,1,1)
S ^ORD(101.41,"APKG",$E(X,1,30),DA)=""
"^DD",101.41,101.41,7,1,1,2)
K ^ORD(101.41,"APKG",$E(X,1,30),DA)
"^DD",101.41,101.41,7,1,1,"DT")
2970325
"^DD",101.41,101.41,7,3)
Enter the VISTA package that is to receive orders created by this dialog.
"^DD",101.41,101.41,7,21,0)
^^3^3^2950208^
"^DD",101.41,101.41,7,21,1,0)
This is the VISTA package that is intended to receive orders created by
"^DD",101.41,101.41,7,21,2,0)
this dialog; this is required for creating the HL7 messages to pass the
"^DD",101.41,101.41,7,21,3,0)
order.
"^DD",101.41,101.41,7,"DT")
2970325
"^DD",101.41,101.41,8,0)
VERIFY ORDER^S^1:YES;0:NO;^0;8^Q
"^DD",101.41,101.41,8,3)
Enter YES to have orders created by this dialog presented to the user before saving, with the opportunity to edit.
"^DD",101.41,101.41,8,21,0)
^^3^3^2950623^
"^DD",101.41,101.41,8,21,1,0)
This field is a flag, which determines if the order created by this dialog
"^DD",101.41,101.41,8,21,2,0)
will be presented to the user for verification before saving in the Orders
"^DD",101.41,101.41,8,21,3,0)
file; for most quick orders, this flag should be set to 0 (no).
"^DD",101.41,101.41,8,"DT")
2950623
"^DD",101.41,101.41,9,0)
ASK FOR ANOTHER ORDER^S^0:NO;1:YES;2:YES-DON'T ASK;^0;9^Q
"^DD",101.41,101.41,9,3)
Enter YES to have the user asked to enter another order from this dialog before exiting.
"^DD",101.41,101.41,9,21,0)
^^6^6^2970616^^^
"^DD",101.41,101.41,9,21,1,0)
This field allows the user to add another order from this dialog, when the
"^DD",101.41,101.41,9,21,2,0)
initial order is accepted and placed; if set to YES, the user will be
"^DD",101.41,101.41,9,21,3,0)
asked "Add another <dialog display text> order?" to allow for either
"^DD",101.41,101.41,9,21,4,0)
exiting the processor or adding an additional order of the same type.
"^DD",101.41,101.41,9,21,5,0)
This field can also be set to YES-DON'T ASK to force the processor to
"^DD",101.41,101.41,9,21,6,0)
automatically drop into prompting for another order without asking first.
"^DD",101.41,101.41,9,"DT")
2970616
"^DD",101.41,101.41,10,0)
ITEMS^101.412IA^^10;0
"^DD",101.41,101.41,10,21,0)
^^5^5^2990211^^^^
"^DD",101.41,101.41,10,21,1,0)
This field contains the components for dialogs:
"^DD",101.41,101.41,10,21,2,0)
     Dialogs      -> prompts
"^DD",101.41,101.41,10,21,3,0)
     Quick orders -> prompts (completed)
"^DD",101.41,101.41,10,21,4,0)
     Order sets   -> dialogs or quick orders
"^DD",101.41,101.41,10,21,5,0)
     Menus        -> dialogs, quick orders, or order sets
"^DD",101.41,101.41,11,0)
DATA TYPE^S^D:date/time;R:free text date/time;F:free text;N:numeric;S:set of codes;Y:yes/no;P:pointer;W:word processing;^1;1^Q
"^DD",101.41,101.41,11,3)
Enter the type of data to be collected at this prompt.
"^DD",101.41,101.41,11,21,0)
^^2^2^2950823^^
"^DD",101.41,101.41,11,21,1,0)
This is the type of data being prompted for; this field is used to define
"^DD",101.41,101.41,11,21,2,0)
a call to the reader (^DIR) in most cases.
"^DD",101.41,101.41,11,23,0)
^^1^1^2950823^^
"^DD",101.41,101.41,11,23,1,0)
Used with Prompt-type only.
"^DD",101.41,101.41,11,"DT")
2950407
"^DD",101.41,101.41,12,0)
DOMAIN^F^^1;2^K:$L(X)>235!($L(X)<1) X
"^DD",101.41,101.41,12,3)
Answer must be 1-235 characters in length.
"^DD",101.41,101.41,12,21,0)
^^3^3^2990225^^^^
"^DD",101.41,101.41,12,21,1,0)
This is a parameter that may be used to further specify the data type.
"^DD",101.41,101.41,12,21,2,0)
The string stored here should be appropriate for the second ^-piece of
"^DD",101.41,101.41,12,21,3,0)
DIR(0) when used with the data type field.
"^DD",101.41,101.41,12,23,0)
^^1^1^2990225^^^^
"^DD",101.41,101.41,12,23,1,0)
Used with Prompt-type only.
"^DD",101.41,101.41,12,"DT")
2990225
"^DD",101.41,101.41,13,0)
ID^F^^1;3^K:$L(X)>10!($L(X)<2) X
"^DD",101.41,101.41,13,3)
Answer must be 2-10 characters in length.
"^DD",101.41,101.41,13,21,0)
^.001^20^20^3010727^^
"^DD",101.41,101.41,13,21,1,0)
This field may contain a single word identifier which will be
"^DD",101.41,101.41,13,21,2,0)
stored with the user response in the Orders file #100, where it
"^DD",101.41,101.41,13,21,3,0)
will be indexed for quick reference to certain values in the
"^DD",101.41,101.41,13,21,4,0)
order dialog.  The following are some examples of values
"^DD",101.41,101.41,13,21,5,0)
currently in use:
"^DD",101.41,101.41,13,21,6,0)
 
"^DD",101.41,101.41,13,21,7,0)
   START      -> Start date/time
"^DD",101.41,101.41,13,21,8,0)
   STOP       -> Stop date/time
"^DD",101.41,101.41,13,21,9,0)
   SCHEDULE   -> Administration Schedule
"^DD",101.41,101.41,13,21,10,0)
   ORDERABLE  -> Orderable Item
"^DD",101.41,101.41,13,21,11,0)
   DRUG       -> Dispense Drug
"^DD",101.41,101.41,13,21,12,0)
   CANCEL     -> Cancel Future Orders flag
"^DD",101.41,101.41,13,21,13,0)
   COMMENT    -> Word processing comments
"^DD",101.41,101.41,13,21,14,0)
 
"^DD",101.41,101.41,13,21,15,0)
These values must be unique among entries within an order dialog
"^DD",101.41,101.41,13,21,16,0)
but do not need to be unique across the entire file.  Be sure to
"^DD",101.41,101.41,13,21,17,0)
check the IDs assigned to generic text entries to make sure that
"^DD",101.41,101.41,13,21,18,0)
all IDs are unique.  In order to avoid potential problems it's
"^DD",101.41,101.41,13,21,19,0)
recommended that you use unique IDs for any local entries that you
"^DD",101.41,101.41,13,21,20,0)
create.
"^DD",101.41,101.41,13,"DT")
2960215
"^DD",101.41,101.41,17,0)
VALIDATION^K^^7;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.41,17,3)
This is Standard MUMPS code.
"^DD",101.41,101.41,17,9)
@
"^DD",101.41,101.41,17,21,0)
^^3^3^2960912^
"^DD",101.41,101.41,17,21,1,0)
This is MUMPS code that will be executed at the time of releasing an
"^DD",101.41,101.41,17,21,2,0)
order created with this dialog; dialog responses may be checked again
"^DD",101.41,101.41,17,21,3,0)
here before releasing the order to the service.
"^DD",101.41,101.41,17,"DT")
2960912
"^DD",101.41,101.41,19,0)
ADDITIONAL TEXT^K^^9;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.41,19,3)
This is Standard MUMPS code.
"^DD",101.41,101.41,19,9)
@
"^DD",101.41,101.41,19,21,0)
^^3^3^2960405^^
"^DD",101.41,101.41,19,21,1,0)
This is MUMPS code that will be executed when order ORIFN created by this
"^DD",101.41,101.41,19,21,2,0)
dialog is about to be displayed; any string that should be appended to the
"^DD",101.41,101.41,19,21,3,0)
order text should be returned in Y.
"^DD",101.41,101.41,19,"DT")
2960405
"^DD",101.41,101.41,20,0)
DESCRIPTION^101.411^^2;0
"^DD",101.41,101.41,20,21,0)
^^1^1^2971219^
"^DD",101.41,101.41,20,21,1,0)
This is a description of the dialog and its uses.
"^DD",101.41,101.41,21,0)
RESPONSES^101.416^^6;0
"^DD",101.41,101.41,21,21,0)
^^2^2^2971219^
"^DD",101.41,101.41,21,21,1,0)
This multiple contains any responses to prompts that have been pre-answered
"^DD",101.41,101.41,21,21,2,0)
to create a quick order.
"^DD",101.41,101.41,30,0)
ENTRY ACTION^K^^3;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.41,30,3)
This is Standard MUMPS code.
"^DD",101.41,101.41,30,9)
@
"^DD",101.41,101.41,30,21,0)
^^4^4^2950425^
"^DD",101.41,101.41,30,21,1,0)
This is MUMPS code that will be executed at the top of a dialog, prior to
"^DD",101.41,101.41,30,21,2,0)
the execution of any prompts; it may perform functions such as listing
"^DD",101.41,101.41,30,21,3,0)
the recent Radiology exams before ordering a new one, or alerting the
"^DD",101.41,101.41,30,21,4,0)
user to an existing diet order before making a change.
"^DD",101.41,101.41,30,"DT")
2950425
"^DD",101.41,101.41,31,0)
QUICK SETUP^K^^3.1;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.41,31,3)
This is Standard MUMPS code.
"^DD",101.41,101.41,31,9)
@
"^DD",101.41,101.41,31,21,0)
^^3^3^2970113^
"^DD",101.41,101.41,31,21,1,0)
This is MUMPS code that will be executed in the place of the Entry Action
"^DD",101.41,101.41,31,21,2,0)
when creating quick orders for this dialog; variables may be set here
"^DD",101.41,101.41,31,21,3,0)
instead to bypass the usual dependence on specific patient values.
"^DD",101.41,101.41,31,"DT")
2970113
"^DD",101.41,101.41,40,0)
EXIT ACTION^K^^4;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.41,40,3)
This is Standard MUMPS code.
"^DD",101.41,101.41,40,9)
@
"^DD",101.41,101.41,40,21,0)
^^2^2^2950622^
"^DD",101.41,101.41,40,21,1,0)
This is MUMPS code that will be executed upon completion of processing the
"^DD",101.41,101.41,40,21,2,0)
dialog; it is currently used only with dialog-type entries.
"^DD",101.41,101.41,40,"DT")
2950622
"^DD",101.41,101.41,50,0)
CONTROLS^101.415A^^50;0
"^DD",101.41,101.41,51,0)
COLUMN WIDTH^NJ3,0^^5;1^K:+X'=X!(X>240)!(X<20)!(X?.E1"."1N.N) X
"^DD",101.41,101.41,51,1,0)
^.1
"^DD",101.41,101.41,51,1,1,0)
101.41^AM51^MUMPS
"^DD",101.41,101.41,51,1,1,1)
D REDO^ORDD41
"^DD",101.41,101.41,51,1,1,2)
D REDO^ORDD41
"^DD",101.41,101.41,51,1,1,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.41,51,1,1,"%D",1,0)
Update TIMESTAMP whenever COLUMN WIDTH is changed.
"^DD",101.41,101.41,51,1,1,"DT")
2990210
"^DD",101.41,101.41,51,3)
Type a Number between 20 and 240, 0 Decimal Digits
"^DD",101.41,101.41,51,21,0)
^^2^2^2950623^
"^DD",101.41,101.41,51,21,1,0)
This is the width, in characters, for each column in a menu.  For example,
"^DD",101.41,101.41,51,21,2,0)
to have 3 columns on an 80 character device, enter a width of 26.
"^DD",101.41,101.41,51,"DT")
2990210
"^DD",101.41,101.41,52,0)
MNEMONIC WIDTH^NJ1,0^^5;2^K:+X'=X!(X>9)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.41,101.41,52,1,0)
^.1
"^DD",101.41,101.41,52,1,1,0)
101.41^AM52^MUMPS
"^DD",101.41,101.41,52,1,1,1)
D REDO^ORDD41
"^DD",101.41,101.41,52,1,1,2)
D REDO^ORDD41
"^DD",101.41,101.41,52,1,1,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.41,52,1,1,"%D",1,0)
Update TIMESTAMP whenever MNEMONIC WIDTH is changed.
"^DD",101.41,101.41,52,1,1,"DT")
2990210
"^DD",101.41,101.41,52,3)
Type a Number between 1 and 9, 0 Decimal Digits
"^DD",101.41,101.41,52,21,0)
^^2^2^2950623^
"^DD",101.41,101.41,52,21,1,0)
This field allows the width of item mnemonics to be varied; the default
"^DD",101.41,101.41,52,21,2,0)
value is 5.
"^DD",101.41,101.41,52,"DT")
2990210
"^DD",101.41,101.41,53,0)
PATH SWITCH^S^1:YES;0:NO;^5;3^Q
"^DD",101.41,101.41,53,3)
Enter YES if this menu should be redisplayed when traversing back up the menu tree.
"^DD",101.41,101.41,53,21,0)
^^5^5^2950623^
"^DD",101.41,101.41,53,21,1,0)
This switch allows the user, when traversing back UP the tree of menus and
"^DD",101.41,101.41,53,21,2,0)
items, to select a new path back down the tree.  In other words, the menu
"^DD",101.41,101.41,53,21,3,0)
is redisplayed when returning to that menu's level in the tree and
"^DD",101.41,101.41,53,21,4,0)
processing back down the tree is possible from that point.  If nothing is
"^DD",101.41,101.41,53,21,5,0)
selected from the menu, the path continues back up the tree.
"^DD",101.41,101.41,53,"DT")
2950623
"^DD",101.41,101.41,54,0)
LISTBOX TEXT^F^^5;4^K:$L(X)>30!($L(X)<1) X
"^DD",101.41,101.41,54,3)
Answer must be 1-30 characters in length.
"^DD",101.41,101.41,54,"DT")
2960524
"^DD",101.41,101.41,55,0)
WINDOW FORM ID^NJ4,0^^5;5^K:+X'=X!(X>9999)!(X<0)!(X?.E1"."1N.N) X
"^DD",101.41,101.41,55,3)
Type a Number between 0 and 9999, 0 Decimal Digits
"^DD",101.41,101.41,55,21,0)
^.001^23^23^3010727^^
"^DD",101.41,101.41,55,21,1,0)
This field tells the GUI DELPHI code which form to use to process the
"^DD",101.41,101.41,55,21,2,0)
order dialog.  Each number represents a unique form.  Following are some
"^DD",101.41,101.41,55,21,3,0)
of the more common codes and their corresponding form in DELPHI.
"^DD",101.41,101.41,55,21,4,0)
 
"^DD",101.41,101.41,55,21,5,0)
    Form Name     Windows Form ID
"^DD",101.41,101.41,55,21,6,0)
    ---------     ---------------
"^DD",101.41,101.41,55,21,7,0)
  OD_ACTIVITY           100
"^DD",101.41,101.41,55,21,8,0)
  OD_ALLERGY            105
"^DD",101.41,101.41,55,21,9,0)
  OD_CONSULT            110
"^DD",101.41,101.41,55,21,10,0)
  OD_PROCEDURE          112
"^DD",101.41,101.41,55,21,11,0)
  OD_DIET_TXT           115
"^DD",101.41,101.41,55,21,12,0)
  OD_DIET               117
"^DD",101.41,101.41,55,21,13,0)
  OD_LAB                120
"^DD",101.41,101.41,55,21,14,0)
  OD_MEDINPT            130
"^DD",101.41,101.41,55,21,15,0)
  OD_MEDS               135
"^DD",101.41,101.41,55,21,16,0)
  OD_MEDOUTPT           140
"^DD",101.41,101.41,55,21,17,0)
  OD_NURSING            150
"^DD",101.41,101.41,55,21,18,0)
  OD_MISC               151
"^DD",101.41,101.41,55,21,19,0)
  OD_GENERIC            152
"^DD",101.41,101.41,55,21,20,0)
  OD_IMAGING            160
"^DD",101.41,101.41,55,21,21,0)
  OD_VITALS             171 
"^DD",101.41,101.41,55,21,22,0)
  OD_MEDIV              180
"^DD",101.41,101.41,55,21,23,0)
  OD_TEXTONLY           999
"^DD",101.41,101.41,55,"DT")
2960804
"^DD",101.41,101.41,56,0)
CREATE PARENT ORDER^S^1:YES;0:NO;^5;6^Q
"^DD",101.41,101.41,56,3)
Enter YES if a parent order should be created for this order set
"^DD",101.41,101.41,56,21,0)
^^6^6^2970227^
"^DD",101.41,101.41,56,21,1,0)
This flag indicates whether a parent order should be created to group
"^DD",101.41,101.41,56,21,2,0)
together all the orders created by this order set; this flag is only
"^DD",101.41,101.41,56,21,3,0)
valid with SET type order dialogs.  If this value is YES, a parent
"^DD",101.41,101.41,56,21,4,0)
order will be created, and only the parent will be presented on the
"^DD",101.41,101.41,56,21,5,0)
orders list for display and action; NO will prevent a parent from being
"^DD",101.41,101.41,56,21,6,0)
created and all orders will be created and displayed independently.
"^DD",101.41,101.41,56,"DT")
2970227
"^DD",101.41,101.41,57,0)
DISPLAY SUBHEADER^S^1:YES;0:NO;^5;7^Q
"^DD",101.41,101.41,57,3)
Enter YES if a subheader should be displayed as each order in this set is processed
"^DD",101.41,101.41,57,21,0)
^^3^3^2970227^
"^DD",101.41,101.41,57,21,1,0)
This flag indicates whether a subheader is to be displayed for each order
"^DD",101.41,101.41,57,21,2,0)
in this set as it is processed and placed; this flag is only valid with
"^DD",101.41,101.41,57,21,3,0)
SET type order dialogs.
"^DD",101.41,101.41,57,"DT")
2970227
"^DD",101.41,101.41,58,0)
AUTO-ACCEPT QUICK ORDER^S^1:YES;^5;8^Q
"^DD",101.41,101.41,58,3)
Enter 'Yes' if the order should be placed without displaying the dialog window.
"^DD",101.41,101.41,58,21,0)
^^2^2^2980902^
"^DD",101.41,101.41,58,21,1,0)
This can be set to yes for a quick order so that it can be placed simply
"^DD",101.41,101.41,58,21,2,0)
by clicking on it in the GUI (no ordering dialog is displayed).
"^DD",101.41,101.41,58,"DT")
2980902
"^DD",101.41,101.41,99,0)
TIMESTAMP^F^^99;1^K:$L(X)>15!($L(X)<1) X
"^DD",101.41,101.41,99,1,0)
^.1
"^DD",101.41,101.41,99,1,1,0)
101.41^AM^MUMPS
"^DD",101.41,101.41,99,1,1,1)
D SET^ORDD41(DA)
"^DD",101.41,101.41,99,1,1,2)
D KILL^ORDD41(DA)
"^DD",101.41,101.41,99,1,1,"%D",0)
^^2^2^2990210^
"^DD",101.41,101.41,99,1,1,"%D",1,0)
Recompiles order dialog menus in ^XUTL("XQORM",<dialog#>_";ORD(101.41,")
"^DD",101.41,101.41,99,1,1,"%D",2,0)
whenever fields necessary to displaying the menu are changed.
"^DD",101.41,101.41,99,1,1,"DT")
2990210
"^DD",101.41,101.41,99,3)
Answer must be 1-15 characters in length.
"^DD",101.41,101.41,99,21,0)
^^2^2^2980501^
"^DD",101.41,101.41,99,21,1,0)
For menus, this contains the $H time the menu was last compiled for use
"^DD",101.41,101.41,99,21,2,0)
with the Unwinder utility (^XQOR).
"^DD",101.41,101.41,99,"DT")
2990210
"^DD",101.41,101.411,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",101.41,101.411,0,"DT")
2950407
"^DD",101.41,101.411,0,"NM","DESCRIPTION")

"^DD",101.41,101.411,0,"UP")
101.41
"^DD",101.41,101.411,.01,0)
DESCRIPTION^W^^0;1^Q
"^DD",101.41,101.411,.01,3)
Enter a description of this dialog.
"^DD",101.41,101.411,.01,21,0)
^^1^1^2950425^^
"^DD",101.41,101.411,.01,21,1,0)
This field contains a description of the content and use of this dialog.
"^DD",101.41,101.411,.01,"DT")
2950407
"^DD",101.41,101.412,0)
ITEMS SUB-FIELD^^117^37
"^DD",101.41,101.412,0,"DT")
2971117
"^DD",101.41,101.412,0,"ID","WRITE")
N OR0,ORNM S OR0=^(0) I $P(OR0,U,2) S ORNM=$P($G(^ORD(101.41,+$P(OR0,U,2),0)),U) D:$L(ORNM) EN^DDIOL(ORNM,,"?10")
"^DD",101.41,101.412,0,"IX","ATXT",101.412,21)

"^DD",101.41,101.412,0,"IX","B",101.412,.01)

"^DD",101.41,101.412,0,"IX","D",101.412,2)

"^DD",101.41,101.412,0,"IX","DAD",101.412,1)

"^DD",101.41,101.412,0,"IX","DAD1",101.412,.01)

"^DD",101.41,101.412,0,"NM","ITEMS")

"^DD",101.41,101.412,0,"UP")
101.41
"^DD",101.41,101.412,.01,0)
SEQUENCE^MNJ5,1^^0;1^K:+X'=X!(X>999.9)!(X<.1)!(X?.E1"."2N.N) X
"^DD",101.41,101.412,.01,1,0)
^.1
"^DD",101.41,101.412,.01,1,1,0)
101.412^B
"^DD",101.41,101.412,.01,1,1,1)
S ^ORD(101.41,DA(1),10,"B",$E(X,1,30),DA)=""
"^DD",101.41,101.412,.01,1,1,2)
K ^ORD(101.41,DA(1),10,"B",$E(X,1,30),DA)
"^DD",101.41,101.412,.01,1,2,0)
101.412^DAD1^MUMPS
"^DD",101.41,101.412,.01,1,2,1)
N ORP S ORP=$P(^ORD(101.41,DA(1),10,DA,0),U,11) S:ORP ^ORD(101.41,DA(1),10,"DAD",ORP,X,DA)=""
"^DD",101.41,101.412,.01,1,2,2)
N ORP S ORP=$P(^ORD(101.41,DA(1),10,DA,0),U,11) K:ORP ^ORD(101.41,DA(1),10,"DAD",ORP,X,DA)
"^DD",101.41,101.412,.01,1,2,"%D",0)
^^1^1^2950511^
"^DD",101.41,101.412,.01,1,2,"%D",1,0)
Allows retrieval of 'child' prompts in sequence by parent.
"^DD",101.41,101.412,.01,1,2,"DT")
2950511
"^DD",101.41,101.412,.01,1,3,0)
101.41^AMM^MUMPS
"^DD",101.41,101.412,.01,1,3,1)
D REDOX^ORDD41
"^DD",101.41,101.412,.01,1,3,2)
D REDOX^ORDD41
"^DD",101.41,101.412,.01,1,3,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.412,.01,1,3,"%D",1,0)
Update TIMESTAMP whenever SEQUENCE is changed.
"^DD",101.41,101.412,.01,1,3,"DT")
2990210
"^DD",101.41,101.412,.01,3)
Type a Number between .1 and 999.9, 1 Decimal Digit
"^DD",101.41,101.412,.01,21,0)
^^2^2^2971117^^^^
"^DD",101.41,101.412,.01,21,1,0)
This field specifies the order in which this item will be displayed or
"^DD",101.41,101.412,.01,21,2,0)
processed.
"^DD",101.41,101.412,.01,"DT")
2990210
"^DD",101.41,101.412,.1,0)
INPUT TRANSFORM^K^^.1;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,.1,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,.1,9)
@
"^DD",101.41,101.412,.1,21,0)
^^2^2^2950816^
"^DD",101.41,101.412,.1,21,1,0)
This is code that will be used as the third piece of DIR(0) when asking
"^DD",101.41,101.412,.1,21,2,0)
this prompt.
"^DD",101.41,101.412,.1,"DT")
2950816
"^DD",101.41,101.412,1,0)
PARENT^P101.41'^ORD(101.41,^0;11^Q
"^DD",101.41,101.412,1,1,0)
^.1
"^DD",101.41,101.412,1,1,1,0)
101.412^DAD^MUMPS
"^DD",101.41,101.412,1,1,1,1)
S ^ORD(101.41,DA(1),10,"DAD",X,$P(^ORD(101.41,DA(1),10,DA,0),U),DA)=""
"^DD",101.41,101.412,1,1,1,2)
K ^ORD(101.41,DA(1),10,"DAD",X,$P(^ORD(101.41,DA(1),10,DA,0),U),DA)
"^DD",101.41,101.412,1,1,1,"%D",0)
^^1^1^2950511^^
"^DD",101.41,101.412,1,1,1,"%D",1,0)
Allows retrieval of 'child' prompts in sequence by parent.
"^DD",101.41,101.412,1,1,1,"DT")
2950511
"^DD",101.41,101.412,1,3)
If this prompt is subordinate to another in this dialog, enter the parent prompt here
"^DD",101.41,101.412,1,21,0)
^^4^4^2950511^
"^DD",101.41,101.412,1,21,1,0)
This field controls the behavior of this prompt.  If a parent is defined
"^DD",101.41,101.412,1,21,2,0)
here, this prompt will be asked from within the parent's dialog; when it
"^DD",101.41,101.412,1,21,3,0)
is invoked independently based on its position sequence number, the child
"^DD",101.41,101.412,1,21,4,0)
prompt will be ignored.
"^DD",101.41,101.412,1,"DT")
2950511
"^DD",101.41,101.412,2,0)
ITEM^P101.41'X^ORD(101.41,^0;2^D TREE^ORDD41
"^DD",101.41,101.412,2,1,0)
^.1
"^DD",101.41,101.412,2,1,1,0)
101.41^AD
"^DD",101.41,101.412,2,1,1,1)
S ^ORD(101.41,"AD",$E(X,1,30),DA(1),DA)=""
"^DD",101.41,101.412,2,1,1,2)
K ^ORD(101.41,"AD",$E(X,1,30),DA(1),DA)
"^DD",101.41,101.412,2,1,1,"DT")
2950123
"^DD",101.41,101.412,2,1,2,0)
101.412^D
"^DD",101.41,101.412,2,1,2,1)
S ^ORD(101.41,DA(1),10,"D",$E(X,1,30),DA)=""
"^DD",101.41,101.412,2,1,2,2)
K ^ORD(101.41,DA(1),10,"D",$E(X,1,30),DA)
"^DD",101.41,101.412,2,1,2,"DT")
2950411
"^DD",101.41,101.412,2,1,3,0)
101.41^AMM2^MUMPS
"^DD",101.41,101.412,2,1,3,1)
D REDOX^ORDD41
"^DD",101.41,101.412,2,1,3,2)
D REDOX^ORDD41
"^DD",101.41,101.412,2,1,3,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.412,2,1,3,"%D",1,0)
Update TIMESTAMP whenever ITEM is changed.
"^DD",101.41,101.412,2,1,3,"DT")
2990210
"^DD",101.41,101.412,2,3)
Enter an order dialog; a dialog that is an ancestor may not also be a sub-item.
"^DD",101.41,101.412,2,21,0)
^^3^3^2950123^
"^DD",101.41,101.412,2,21,1,0)
This field points to an order dialog which is subordinate to this dialog.
"^DD",101.41,101.412,2,21,2,0)
NOTE:  The parent dialog menu or one of its ancestors may not be entered
"^DD",101.41,101.412,2,21,3,0)
as an item.
"^DD",101.41,101.412,2,"DT")
2990217
"^DD",101.41,101.412,3,0)
MNEMONIC^FX^^0;3^K:$L(X)>4!($L(X)<1)!(+X=X&($L(X,".")>1))!($$CHKMNE^ORUTL(X)) X
"^DD",101.41,101.412,3,1,0)
^.1
"^DD",101.41,101.412,3,1,1,0)
101.41^AMM3^MUMPS
"^DD",101.41,101.412,3,1,1,1)
D REDOX^ORDD41
"^DD",101.41,101.412,3,1,1,2)
D REDOX^ORDD41
"^DD",101.41,101.412,3,1,1,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.412,3,1,1,"%D",1,0)
Update TIMESTAMP whenever MNEMONIC is changed.
"^DD",101.41,101.412,3,1,1,"DT")
2990210
"^DD",101.41,101.412,3,3)
Enter a mnemonic to be used when this dialog is displayed for selection, 1-4 characters in length with no decimal places if numeric. Standard list manager mnemonics may not be used.
"^DD",101.41,101.412,3,21,0)
^.001^2^2^3010727^^^^
"^DD",101.41,101.412,3,21,1,0)
This is a short abbreviation for this item dialog to be used when this
"^DD",101.41,101.412,3,21,2,0)
dialog is displayed for selection.
"^DD",101.41,101.412,3,"DT")
3000822
"^DD",101.41,101.412,4,0)
DISPLAY TEXT^FX^^0;4^K:$L(X)>80!($L(X)<1)!($$CHKNAM^ORUTL(X)) X
"^DD",101.41,101.412,4,1,0)
^.1
"^DD",101.41,101.412,4,1,1,0)
101.41^AMM4^MUMPS
"^DD",101.41,101.412,4,1,1,1)
D REDOX^ORDD41
"^DD",101.41,101.412,4,1,1,2)
D REDOX^ORDD41
"^DD",101.41,101.412,4,1,1,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.412,4,1,1,"%D",1,0)
Update TIMESTAMP whenever DISPLAY TEXT is changed.
"^DD",101.41,101.412,4,1,1,"DT")
2990210
"^DD",101.41,101.412,4,3)
Answer must be 1-80 characters in length and cannot contain a semicolon (;), a comma (,), an up-arrow (^), a dash (-), or an equal sign (=).
"^DD",101.41,101.412,4,21,0)
^.001^2^2^3010419^^^^
"^DD",101.41,101.412,4,21,1,0)
This field allows the text that normally appears for this item to be
"^DD",101.41,101.412,4,21,2,0)
replaced with alternate text for use in this dialog or menu.
"^DD",101.41,101.412,4,"DT")
3000823
"^DD",101.41,101.412,5,0)
DISPLAY ONLY?^S^0:NO;1:YES;2:YES-HEADER;^0;5^Q
"^DD",101.41,101.412,5,1,0)
^.1
"^DD",101.41,101.412,5,1,1,0)
101.41^AMM5^MUMPS
"^DD",101.41,101.412,5,1,1,1)
D REDOX^ORDD41
"^DD",101.41,101.412,5,1,1,2)
D REDOX^ORDD41
"^DD",101.41,101.412,5,1,1,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.412,5,1,1,"%D",1,0)
Update TIMESTAMP whenever DISPLAY ONLY? is changed.
"^DD",101.41,101.412,5,1,1,"DT")
2990210
"^DD",101.41,101.412,5,3)
Enter YES if this item is text for display only and not a selectable item.
"^DD",101.41,101.412,5,21,0)
^^3^3^2970409^^^^
"^DD",101.41,101.412,5,21,1,0)
This field identifies an item as being free text for display purposes
"^DD",101.41,101.412,5,21,2,0)
only.  The text in the Display Text field will be displayed, but it
"^DD",101.41,101.412,5,21,3,0)
is not selectable; if designated as a header, the text will be underlined.
"^DD",101.41,101.412,5,"DT")
2990210
"^DD",101.41,101.412,6,0)
REQUIRED^S^1:YES;0:NO;^0;6^Q
"^DD",101.41,101.412,6,3)
Enter YES if a response to this prompt is mandatory.
"^DD",101.41,101.412,6,21,0)
^^1^1^2950407^
"^DD",101.41,101.412,6,21,1,0)
This field indicates that the user must enter a response to this prompt.
"^DD",101.41,101.412,6,"DT")
2950407
"^DD",101.41,101.412,7,0)
MULTIPLE VALUED^S^1:YES;0:NO;^0;7^Q
"^DD",101.41,101.412,7,3)
Enter YES if this prompt is to be asked multiple times.
"^DD",101.41,101.412,7,21,0)
^^3^3^2950407^
"^DD",101.41,101.412,7,21,1,0)
This field determines if this prompt will be allowed to have multiple
"^DD",101.41,101.412,7,21,2,0)
values, or be prompted for only once; if this prompt is a sub-dialog,
"^DD",101.41,101.412,7,21,3,0)
the entire dialog will be asked once or many times, as a group.
"^DD",101.41,101.412,7,"DT")
2950407
"^DD",101.41,101.412,7.1,0)
MAX NUMBER OF MULTIPLES^NJ2,0^^0;12^K:+X'=X!(X>99)!(X<2)!(X?.E1"."1N.N) X
"^DD",101.41,101.412,7.1,3)
Type a Number between 2 and 99, 0 Decimal Digits
"^DD",101.41,101.412,7.1,21,0)
^^4^4^2950815^
"^DD",101.41,101.412,7.1,21,1,0)
This is the maximum number of values that may be entered for this prompt,
"^DD",101.41,101.412,7.1,21,2,0)
if it is flagged as being multiple-valued.  For example, a diet order may
"^DD",101.41,101.412,7.1,21,3,0)
have up to 5 diet modifications entered, where 5 is the maximum allowed
"^DD",101.41,101.412,7.1,21,4,0)
that would be entered here.
"^DD",101.41,101.412,7.1,"DT")
2950815
"^DD",101.41,101.412,7.2,0)
TITLE^F^^0;13^K:$L(X)>30!($L(X)<3) X
"^DD",101.41,101.412,7.2,3)
Answer must be 3-30 characters in length.
"^DD",101.41,101.412,7.2,21,0)
^^8^8^2970430^^
"^DD",101.41,101.412,7.2,21,1,0)
This is text that will be used in place of the prompt when the order is
"^DD",101.41,101.412,7.2,21,2,0)
displayed for place, edit, or cancel, or at the top of a multiple-valued
"^DD",101.41,101.412,7.2,21,3,0)
prompt.  The Display Text for the prompt will be used together with the
"^DD",101.41,101.412,7.2,21,4,0)
instance number to prompt for user input; for example if Title="Lab Tests:"
"^DD",101.41,101.412,7.2,21,5,0)
and Display Text="Test:" the user would see
"^DD",101.41,101.412,7.2,21,6,0)
  Lab Tests:
"^DD",101.41,101.412,7.2,21,7,0)
  1. Test:
"^DD",101.41,101.412,7.2,21,8,0)
  2. Test:
"^DD",101.41,101.412,7.2,"DT")
2950815
"^DD",101.41,101.412,7.3,0)
PROMPT^F^^0;14^K:$L(X)>10!($L(X)<1) X
"^DD",101.41,101.412,7.3,3)
Answer must be 1-10 characters in length.
"^DD",101.41,101.412,7.3,21,0)
^^3^3^2970618^
"^DD",101.41,101.412,7.3,21,1,0)
This field contains text that will be appended to the beginning of the
"^DD",101.41,101.412,7.3,21,2,0)
display text when prompting for additional values; if this field is
"^DD",101.41,101.412,7.3,21,3,0)
empty, then "Another " will be used.
"^DD",101.41,101.412,7.3,"DT")
2970618
"^DD",101.41,101.412,8,0)
ASK ON EDIT ONLY^S^1:YES;0:NO;^0;8^Q
"^DD",101.41,101.412,8,3)
Enter YES if this prompt should not be asked initially when creating this order, only if the user chooses to edit the order.
"^DD",101.41,101.412,8,21,0)
^^4^4^2960112^^^
"^DD",101.41,101.412,8,21,1,0)
This field determines the behaviour of the dialog driver for this prompt;
"^DD",101.41,101.412,8,21,2,0)
if no value or the defined default is usually correct for this prompt,
"^DD",101.41,101.412,8,21,3,0)
enter YES here to have this prompt skipped on the first pass through this
"^DD",101.41,101.412,8,21,4,0)
dialog when creating an order.
"^DD",101.41,101.412,8,"DT")
2950407
"^DD",101.41,101.412,9,0)
ASK ON ACTION^F^^0;9^K:$L(X)>3!($L(X)<1) X
"^DD",101.41,101.412,9,3)
Answer must be 1-3 characters in length.
"^DD",101.41,101.412,9,21,0)
^^6^6^2970708^^^
"^DD",101.41,101.412,9,21,1,0)
This field determines the behaviour of the dialog driver for this prompt
"^DD",101.41,101.412,9,21,2,0)
when taking a particular action on an order created by this dialog.  If
"^DD",101.41,101.412,9,21,3,0)
this string contains "R", this prompt will be asked when renewing an order;
"^DD",101.41,101.412,9,21,4,0)
if this string contains "C", this prompt will be asked when changing an
"^DD",101.41,101.412,9,21,5,0)
order; if this string contains "W", this prompt will be asked when
"^DD",101.41,101.412,9,21,6,0)
rewriting an order.
"^DD",101.41,101.412,9,"DT")
2970708
"^DD",101.41,101.412,10,0)
INDEX^F^^0;10^K:$L(X)>25!($L(X)<1) X
"^DD",101.41,101.412,10,3)
Answer must be 1-25 characters in length.
"^DD",101.41,101.412,10,21,0)
^^3^3^2950713^^^
"^DD",101.41,101.412,10,21,1,0)
For pointer-type prompts, this is the index to use when searching the file;
"^DD",101.41,101.412,10,21,2,0)
it must be in the form of a regular cross-reference.  To search on multiple
"^DD",101.41,101.412,10,21,3,0)
indices, enter a string of index names separated by semi-colons, i.e. "B;C".
"^DD",101.41,101.412,10,"DT")
2950713
"^DD",101.41,101.412,11,0)
HELP MESSAGE^F^^1;1^K:$L(X)>160!($L(X)<1) X
"^DD",101.41,101.412,11,3)
Answer must be 1-160 characters in length.
"^DD",101.41,101.412,11,21,0)
^^2^2^2970609^^
"^DD",101.41,101.412,11,21,1,0)
This field contains the help message to be presented when the user enters
"^DD",101.41,101.412,11,21,2,0)
a question mark at this prompt.
"^DD",101.41,101.412,11,"DT")
2970609
"^DD",101.41,101.412,12,0)
SPECIAL LOOKUP ROUTINE^F^^1;2^K:$L(X)>20!($L(X)<3) X
"^DD",101.41,101.412,12,3)
Enter the routine to use instead of DIC to do this lookup, as [TAG;]ROUTINE
"^DD",101.41,101.412,12,21,0)
^^3^3^2970609^
"^DD",101.41,101.412,12,21,1,0)
This field contains a routine to execute that will replace the standard
"^DD",101.41,101.412,12,21,2,0)
DIC lookup for this prompt; it must be entered here as LINETAG;ROUTINE
"^DD",101.41,101.412,12,21,3,0)
using a ; instead of ^ and where LINETAG is optional.
"^DD",101.41,101.412,12,"DT")
2970609
"^DD",101.41,101.412,13,0)
ASK ON CONDITION^K^^3;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,13,3)
This is MUMPS code that sets $T to determine if this prompt should be asked, or given a default value and bypassed.
"^DD",101.41,101.412,13,9)
@
"^DD",101.41,101.412,13,21,0)
^^5^5^2950407^
"^DD",101.41,101.412,13,21,1,0)
This is MUMPS code that sets $T to determine if this prompt should be asked
"^DD",101.41,101.412,13,21,2,0)
or simply given a default value and presented to the user for acceptance
"^DD",101.41,101.412,13,21,3,0)
or editing.  For example, the prompt "Pregnant: " may have code here to
"^DD",101.41,101.412,13,21,4,0)
check the sex of the current patient, i.e. I ORSEX="F" will allow it to be
"^DD",101.41,101.412,13,21,5,0)
asked only for female patients.
"^DD",101.41,101.412,13,"DT")
2950407
"^DD",101.41,101.412,14,0)
SCREEN^K^^4;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,14,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,14,9)
@
"^DD",101.41,101.412,14,21,0)
^^2^2^2950407^
"^DD",101.41,101.412,14,21,1,0)
For pointer-type prompts, this field may contain MUMPS code that will be
"^DD",101.41,101.412,14,21,2,0)
set into DIC("S") to screen the possible choices in the pointed-to file.
"^DD",101.41,101.412,14,"DT")
2950407
"^DD",101.41,101.412,15,0)
POST-SELECTION ACTION^K^^5;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,15,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,15,9)
@
"^DD",101.41,101.412,15,21,0)
^^3^3^2970923^^^^
"^DD",101.41,101.412,15,21,1,0)
This is code that will be executed after a response is entered to this
"^DD",101.41,101.412,15,21,2,0)
prompt; if this prompt should be re-asked, kill the variable DONE.
"^DD",101.41,101.412,15,21,3,0)
If execution of the ordering dialog should be stopped, set ORQUIT=1.
"^DD",101.41,101.412,15,"DT")
2970923
"^DD",101.41,101.412,16,0)
XECUTABLE HELP^K^^6;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,16,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,16,9)
@
"^DD",101.41,101.412,16,21,0)
^^2^2^2950407^
"^DD",101.41,101.412,16,21,1,0)
This is code that is to be executed when the user enters two or more
"^DD",101.41,101.412,16,21,2,0)
question marks at this prompt.
"^DD",101.41,101.412,16,"DT")
2950407
"^DD",101.41,101.412,17,0)
DEFAULT^K^^7;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,17,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,17,9)
@
"^DD",101.41,101.412,17,21,0)
^^2^2^2971219^^^^
"^DD",101.41,101.412,17,21,1,0)
This is code that is to be executed to determine the appropriate default
"^DD",101.41,101.412,17,21,2,0)
value for this prompt, setting Y=internal form of this value.
"^DD",101.41,101.412,17,"DT")
2950519
"^DD",101.41,101.412,18,0)
DEFAULT WORD-PROCESSING TEXT^101.41218^^8;0
"^DD",101.41,101.412,18,21,0)
^^1^1^2971219^
"^DD",101.41,101.412,18,21,1,0)
This is default text to be stuffed into this word-processing prompt.
"^DD",101.41,101.412,19,0)
ENTRY ACTION^K^^9;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,19,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,19,9)
@
"^DD",101.41,101.412,19,21,0)
^^3^3^2970609^
"^DD",101.41,101.412,19,21,1,0)
This is code that will be executed at the beginning of the processing of
"^DD",101.41,101.412,19,21,2,0)
this prompt, before the Default and Ask on Condition fields are executed;
"^DD",101.41,101.412,19,21,3,0)
any special setup required for this field should be done here.
"^DD",101.41,101.412,19,"DT")
2970609
"^DD",101.41,101.412,20,0)
EXIT ACTION^K^^10;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,20,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,20,9)
@
"^DD",101.41,101.412,20,21,0)
^^3^3^2970609^
"^DD",101.41,101.412,20,21,1,0)
This is code that will be executed at the very end of the processing of
"^DD",101.41,101.412,20,21,2,0)
this prompt, after prompting and the Validation field is executed;
"^DD",101.41,101.412,20,21,3,0)
any special cleanup should be done here.
"^DD",101.41,101.412,20,"DT")
2970609
"^DD",101.41,101.412,21,0)
ORDER TEXT SEQUENCE^NJ5,2^^2;1^K:+X'=X!(X>99.99)!(X<1)!(X?.E1"."3N.N) X
"^DD",101.41,101.412,21,1,0)
^.1
"^DD",101.41,101.412,21,1,1,0)
101.412^ATXT
"^DD",101.41,101.412,21,1,1,1)
S ^ORD(101.41,DA(1),10,"ATXT",$E(X,1,30),DA)=""
"^DD",101.41,101.412,21,1,1,2)
K ^ORD(101.41,DA(1),10,"ATXT",$E(X,1,30),DA)
"^DD",101.41,101.412,21,1,1,"%D",0)
^^1^1^2960226^
"^DD",101.41,101.412,21,1,1,"%D",1,0)
Used to build order text.
"^DD",101.41,101.412,21,1,1,"DT")
2960226
"^DD",101.41,101.412,21,3)
Enter the order in which this value should be added to the order text, as a number between 1 and 99.99; leave this field blank to prevent this value from being included
"^DD",101.41,101.412,21,21,0)
^^3^3^2970607^^^
"^DD",101.41,101.412,21,21,1,0)
This field indicates the order in which values will be concatenated
"^DD",101.41,101.412,21,21,2,0)
together to build the order text; this may differ from the prompting
"^DD",101.41,101.412,21,21,3,0)
order defined in the .01 Sequence field.
"^DD",101.41,101.412,21,"DT")
2960226
"^DD",101.41,101.412,22,0)
FORMAT^F^^2;2^K:$L(X)>10!($L(X)<1) X
"^DD",101.41,101.412,22,3)
Answer must be 1-10 characters in length.
"^DD",101.41,101.412,22,21,0)
^^15^15^2971207^^^^
"^DD",101.41,101.412,22,21,1,0)
This is a string of characters that will define any exceptions to how
"^DD",101.41,101.412,22,21,2,0)
the external form of this value is generated.  Possible values include:
"^DD",101.41,101.412,22,21,3,0)
  Pointer         -> <field #>~<piece in RPC list of field #>, default =.01
"^DD",101.41,101.412,22,21,4,0)
  Set of Codes    -> 1~<piece in RPC list of code> to use code for name
"^DD",101.41,101.412,22,21,5,0)
  Date/Time       -> Format string to pass $$FMTE^XLFDT (default = 2)
"^DD",101.41,101.412,22,21,6,0)
  
"^DD",101.41,101.412,22,21,7,0)
  Suppress value  -> @
"^DD",101.41,101.412,22,21,8,0)
  Replace value   -> @<ptr> where ptr is the Dialog IEN of the prompt
"^DD",101.41,101.412,22,21,9,0)
                      whose value, when present, supersedes this value
"^DD",101.41,101.412,22,21,10,0)
  Required value  -> *<ptr> where ptr is the Dialog IEN of the prompt
"^DD",101.41,101.412,22,21,11,0)
                      whose value is required to be present to include
"^DD",101.41,101.412,22,21,12,0)
                      this value
"^DD",101.41,101.412,22,21,13,0)
  Ignore if same  -> =<ptr> where ptr is the Dialog IEN of the prompt
"^DD",101.41,101.412,22,21,14,0)
                      whose value, if the external form is the same,
"^DD",101.41,101.412,22,21,15,0)
                      supersedes this value
"^DD",101.41,101.412,22,"DT")
2960226
"^DD",101.41,101.412,23,0)
OMIT TEXT^F^^2;3^K:$L(X)>30!($L(X)<1) X
"^DD",101.41,101.412,23,3)
Answer must be 1-30 characters in length.
"^DD",101.41,101.412,23,21,0)
^^3^3^2970829^^^^
"^DD",101.41,101.412,23,21,1,0)
This is the external form of a value that is not to be included when building
"^DD",101.41,101.412,23,21,2,0)
the order text.  E.g. to include the urgency in the order text unless it
"^DD",101.41,101.412,23,21,3,0)
is routine, enter "ROUTINE" here.
"^DD",101.41,101.412,23,"DT")
2970829
"^DD",101.41,101.412,24,0)
LEADING TEXT^F^^2;4^K:$L(X)>80!($L(X)<1) X
"^DD",101.41,101.412,24,3)
Answer must be 1-80 characters in length.
"^DD",101.41,101.412,24,21,0)
^^3^3^2970724^^^^
"^DD",101.41,101.412,24,21,1,0)
This field contains text that will be appended to the order text
"^DD",101.41,101.412,24,21,2,0)
immediately in front of this value, e.g. "Instructions:".  If this text
"^DD",101.41,101.412,24,21,3,0)
is contained in a variable, enter @NAME where NAME is the variable name.
"^DD",101.41,101.412,24,"DT")
2970724
"^DD",101.41,101.412,25,0)
TRAILING TEXT^F^^2;5^K:$L(X)>80!($L(X)<1) X
"^DD",101.41,101.412,25,3)
Answer must be 1-80 characters in length.
"^DD",101.41,101.412,25,21,0)
^^3^3^2970724^^^^
"^DD",101.41,101.412,25,21,1,0)
This field contains text that will be appended to the order text
"^DD",101.41,101.412,25,21,2,0)
immediately following this value, e.g. "refills".  If this text is
"^DD",101.41,101.412,25,21,3,0)
contained in a variable, enter @NAME where NAME is the variable name.
"^DD",101.41,101.412,25,"DT")
2970724
"^DD",101.41,101.412,26,0)
START NEW LINE^S^1:YES;0:NO;^2;6^Q
"^DD",101.41,101.412,26,3)
Enter YES if this value should begin on a new line in the order text.
"^DD",101.41,101.412,26,21,0)
0^^2^2^2970911^
"^DD",101.41,101.412,26,21,1,0)
This field determines if this value is concatenated onto the current line
"^DD",101.41,101.412,26,21,2,0)
when building the order text, or if a new line is started with this value.
"^DD",101.41,101.412,26,"DT")
2970911
"^DD",101.41,101.412,27,0)
WORD-WRAP^S^1:DON'T WRAP;0:WRAP;^2;7^Q
"^DD",101.41,101.412,27,3)
Enter 'Don't Wrap' to have the text be added line-by-line as it is stored; the default formatting is 'Wrap'.
"^DD",101.41,101.412,27,21,0)
^^3^3^2970926^^^
"^DD",101.41,101.412,27,21,1,0)
This field determines if this text should be wrapped when added to the
"^DD",101.41,101.412,27,21,2,0)
order text, or appended line by line as stored in the file; this is only
"^DD",101.41,101.412,27,21,3,0)
used for word-processing type prompts.
"^DD",101.41,101.412,27,"DT")
2970926
"^DD",101.41,101.412,101,0)
WINDOWS CONTROL^F^^W;1^K:$L(X)>30!($L(X)<1) X
"^DD",101.41,101.412,101,3)
Answer must be 1-30 characters in length.
"^DD",101.41,101.412,101,21,0)
^^2^2^2950715^
"^DD",101.41,101.412,101,21,1,0)
Stores the type of Windows control necessary to get the data for this
"^DD",101.41,101.412,101,21,2,0)
prompt.
"^DD",101.41,101.412,101,"DT")
2960517
"^DD",101.41,101.412,102,0)
API NAME^F^^W;2^K:$L(X)>30!($L(X)<1) X
"^DD",101.41,101.412,102,3)
Answer must be 1-30 characters in length.
"^DD",101.41,101.412,102,21,0)
^^3^3^2950715^
"^DD",101.41,101.412,102,21,1,0)
This is the API that should be called when the control is used.  How the API
"^DD",101.41,101.412,102,21,2,0)
is used varys with the control.  Examples are: filling list boxes, getting
"^DD",101.41,101.412,102,21,3,0)
boilerplate text, etc.
"^DD",101.41,101.412,102,"DT")
2951002
"^DD",101.41,101.412,103,0)
API PARAMETER #1^F^^W;3^K:$L(X)>30!($L(X)<1) X
"^DD",101.41,101.412,103,3)
Answer must be 1-30 characters in length.
"^DD",101.41,101.412,103,21,0)
^^1^1^2950715^
"^DD",101.41,101.412,103,21,1,0)
A parameter that is used by the API call may be stored here.
"^DD",101.41,101.412,103,"DT")
2950715
"^DD",101.41,101.412,113,0)
WINDOWS CONDITION^K^^W3;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,113,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,113,9)
@
"^DD",101.41,101.412,113,21,0)
^^3^3^2950715^
"^DD",101.41,101.412,113,21,1,0)
This is silent code that is executed when building the dialog for windows.
"^DD",101.41,101.412,113,21,2,0)
It identifies which prompts should be included in the dialog.  The condition
"^DD",101.41,101.412,113,21,3,0)
should leave $T false if the prompt should not be asked.
"^DD",101.41,101.412,113,"DT")
2950715
"^DD",101.41,101.412,117,0)
WINDOWS DEFAULT^K^^W7;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,117,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,117,9)
@
"^DD",101.41,101.412,117,21,0)
^^2^2^2950715^
"^DD",101.41,101.412,117,21,1,0)
This code should silently set the default value of a prompt when it is 
"^DD",101.41,101.412,117,21,2,0)
selected.
"^DD",101.41,101.412,117,"DT")
2950715
"^DD",101.41,101.41218,0)
DEFAULT WORD-PROCESSING TEXT SUB-FIELD^^.01^1
"^DD",101.41,101.41218,0,"DT")
2950407
"^DD",101.41,101.41218,0,"NM","DEFAULT WORD-PROCESSING TEXT")

"^DD",101.41,101.41218,0,"UP")
101.412
"^DD",101.41,101.41218,.01,0)
DEFAULT WORD-PROCESSING TEXT^W^^0;1^Q
"^DD",101.41,101.41218,.01,3)
Enter the default response for a word-processing type prompt.
"^DD",101.41,101.41218,.01,21,0)
^^2^2^2950407^
"^DD",101.41,101.41218,.01,21,1,0)
This field contains the text to be presented as the default for this prompt,
"^DD",101.41,101.41218,.01,21,2,0)
for word-processing type prompts.
"^DD",101.41,101.41218,.01,"DT")
2950407
"^DD",101.41,101.415,0)
CONTROLS SUB-FIELD^^14^14
"^DD",101.41,101.415,0,"DT")
2960202
"^DD",101.41,101.415,0,"IX","AC",101.415,3)

"^DD",101.41,101.415,0,"IX","B",101.415,.01)

"^DD",101.41,101.415,0,"NM","CONTROLS")

"^DD",101.41,101.415,0,"UP")
101.41
"^DD",101.41,101.415,.01,0)
LOGICAL NAME^MF^^0;1^K:$L(X)>8!($L(X)<1)!'(X?1.8U) X
"^DD",101.41,101.415,.01,1,0)
^.1
"^DD",101.41,101.415,.01,1,1,0)
101.415^B
"^DD",101.41,101.415,.01,1,1,1)
S ^ORD(101.41,DA(1),50,"B",$E(X,1,30),DA)=""
"^DD",101.41,101.415,.01,1,1,2)
K ^ORD(101.41,DA(1),50,"B",$E(X,1,30),DA)
"^DD",101.41,101.415,.01,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,.01,21,0)
^^1^1^2960202^
"^DD",101.41,101.415,.01,21,1,0)
This is the name by which controls can refer to each other.
"^DD",101.41,101.415,.01,"DT")
2960202
"^DD",101.41,101.415,2,0)
ITEM^P101.41'^ORD(101.41,^0;2^Q
"^DD",101.41,101.415,2,"DT")
2960202
"^DD",101.41,101.415,3,0)
CREATE SEQUENCE^NJ2,0^^0;3^K:+X'=X!(X>99)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.41,101.415,3,1,0)
^.1
"^DD",101.41,101.415,3,1,1,0)
101.415^AC
"^DD",101.41,101.415,3,1,1,1)
S ^ORD(101.41,DA(1),50,"AC",$E(X,1,30),DA)=""
"^DD",101.41,101.415,3,1,1,2)
K ^ORD(101.41,DA(1),50,"AC",$E(X,1,30),DA)
"^DD",101.41,101.415,3,1,1,"%D",0)
^^2^2^2960202^
"^DD",101.41,101.415,3,1,1,"%D",1,0)
The 'AC' cross-reference puts in window controls in order by creation 
"^DD",101.41,101.415,3,1,1,"%D",2,0)
sequence.
"^DD",101.41,101.415,3,1,1,"DT")
2960202
"^DD",101.41,101.415,3,3)
Type a Number between 1 and 99, 0 Decimal Digits
"^DD",101.41,101.415,3,"DT")
2960202
"^DD",101.41,101.415,4,0)
CONTROL TYPE^S^0:Label;1:Button;2:Edit;3:Memo;4:ListBox;5:SimpleCombo;6:DropDownList;7:LongCombo;^0;4^Q
"^DD",101.41,101.415,4,"DT")
2960202
"^DD",101.41,101.415,5,0)
LABEL^F^^0;5^K:$L(X)>30!($L(X)<1) X
"^DD",101.41,101.415,5,3)
Answer must be 1-30 characters in length.
"^DD",101.41,101.415,5,"DT")
2960202
"^DD",101.41,101.415,6,0)
BESIDE^F^^0;6^K:$L(X)>8!($L(X)<1) X
"^DD",101.41,101.415,6,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,6,"DT")
2960202
"^DD",101.41,101.415,7,0)
BELOW^F^^0;7^K:$L(X)>8!($L(X)<1) X
"^DD",101.41,101.415,7,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,7,"DT")
2960202
"^DD",101.41,101.415,8,0)
WIDTH^NJ6,4^^0;8^K:+X'=X!(X>1)!(X<0)!(X?.E1"."5N.N) X
"^DD",101.41,101.415,8,3)
Type a Number between 0 and 1, 4 Decimal Digits
"^DD",101.41,101.415,8,"DT")
2960202
"^DD",101.41,101.415,9,0)
LEFT CONTROL^F^^0;9^K:$L(X)>8!($L(X)<1) X
"^DD",101.41,101.415,9,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,9,"DT")
2960202
"^DD",101.41,101.415,10,0)
RIGHT CONTROL^F^^0;10^K:$L(X)>8!($L(X)<1) X
"^DD",101.41,101.415,10,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,10,"DT")
2960202
"^DD",101.41,101.415,11,0)
HEIGHT^NJ2,0^^0;11^K:+X'=X!(X>15)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.41,101.415,11,3)
Type a Number between 1 and 15, 0 Decimal Digits
"^DD",101.41,101.415,11,"DT")
2960202
"^DD",101.41,101.415,12,0)
UPPER CONTROL^F^^0;12^K:$L(X)>8!($L(X)<1) X
"^DD",101.41,101.415,12,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,12,"DT")
2960202
"^DD",101.41,101.415,13,0)
LOWER CONTROL^F^^0;13^K:$L(X)>8!($L(X)<1) X
"^DD",101.41,101.415,13,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,13,"DT")
2960202
"^DD",101.41,101.415,14,0)
TAB SEQUENCE^NJ2,0^^0;14^K:+X'=X!(X>89)!(X<0)!(X?.E1"."1N.N) X
"^DD",101.41,101.415,14,3)
Type a Number between 0 and 89, 0 Decimal Digits
"^DD",101.41,101.415,14,"DT")
2960202
"^DD",101.41,101.416,0)
RESPONSES SUB-FIELD^^2^5
"^DD",101.41,101.416,0,"DT")
2960717
"^DD",101.41,101.416,0,"IX","D",101.416,.02)

"^DD",101.41,101.416,0,"NM","RESPONSES")

"^DD",101.41,101.416,0,"UP")
101.41
"^DD",101.41,101.416,.01,0)
ITEM ENTRY^MNJ7,0^^0;1^K:+X'=X!(X>9999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.41,101.416,.01,1,0)
^.1^^0
"^DD",101.41,101.416,.01,3)
Type a Number between 1 and 9999999, 0 Decimal Digits
"^DD",101.41,101.416,.01,21,0)
^^2^2^2971219^^^
"^DD",101.41,101.416,.01,21,1,0)
This is the internal entry number of the prompt in the Item multiple
"^DD",101.41,101.416,.01,21,2,0)
by which this response was obtained.
"^DD",101.41,101.416,.01,"DT")
2961118
"^DD",101.41,101.416,.02,0)
DIALOG^P101.41'^ORD(101.41,^0;2^Q
"^DD",101.41,101.416,.02,1,0)
^.1
"^DD",101.41,101.416,.02,1,1,0)
101.416^D
"^DD",101.41,101.416,.02,1,1,1)
S ^ORD(101.41,DA(1),6,"D",$E(X,1,30),DA)=""
"^DD",101.41,101.416,.02,1,1,2)
K ^ORD(101.41,DA(1),6,"D",$E(X,1,30),DA)
"^DD",101.41,101.416,.02,1,1,"DT")
2961118
"^DD",101.41,101.416,.02,3)
Select the dialog prompt from which this response was generated.
"^DD",101.41,101.416,.02,21,0)
^^2^2^2960717^
"^DD",101.41,101.416,.02,21,1,0)
This is a pointer to the dialog prompt, which is in the Order Dialog file
"^DD",101.41,101.416,.02,21,2,0)
as type prompt.
"^DD",101.41,101.416,.02,"DT")
2961118
"^DD",101.41,101.416,.03,0)
INSTANCE^NJ7,0^^0;3^K:+X'=X!(X>9999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.41,101.416,.03,3)
Type a Number between 1 and 9999999, 0 Decimal Digits
"^DD",101.41,101.416,.03,21,0)
^^2^2^2960717^
"^DD",101.41,101.416,.03,21,1,0)
In the case of multiple answers for the same item, this identifies the
"^DD",101.41,101.416,.03,21,2,0)
individual instance.
"^DD",101.41,101.416,.03,"DT")
2960717
"^DD",101.41,101.416,1,0)
VALUE^FO^^1;1^K:$L(X)>245!($L(X)<1) X
"^DD",101.41,101.416,1,2)
S Y(0)=Y S Y=$$OUTPUT^ORCMEDT5(Y)
"^DD",101.41,101.416,1,2.1)
S Y=$$OUTPUT^ORCMEDT5(Y)
"^DD",101.41,101.416,1,3)
Answer must be 1-245 characters in length.
"^DD",101.41,101.416,1,21,0)
^^2^2^2971219^^
"^DD",101.41,101.416,1,21,1,0)
This contains the actual response, unless the value is a word processing
"^DD",101.41,101.416,1,21,2,0)
type.
"^DD",101.41,101.416,1,"DT")
2980717
"^DD",101.41,101.416,2,0)
TEXT^101.4162^^2;0
"^DD",101.41,101.416,2,21,0)
^^1^1^2971219^
"^DD",101.41,101.416,2,21,1,0)
This contains the actual response, for word-processing type prompts.
"^DD",101.41,101.416,2,"DT")
2960717
"^DD",101.41,101.4162,0)
TEXT SUB-FIELD^^.01^1
"^DD",101.41,101.4162,0,"DT")
2960717
"^DD",101.41,101.4162,0,"NM","TEXT")

"^DD",101.41,101.4162,0,"UP")
101.416
"^DD",101.41,101.4162,.01,0)
TEXT^WL^^0;1^Q
"^DD",101.41,101.4162,.01,21,0)
^^1^1^2960717^^
"^DD",101.41,101.4162,.01,21,1,0)
This contains responses to items that are a word processing type.
"^DD",101.41,101.4162,.01,"DT")
2960717
"^DIC",100.98,100.98,0)
DISPLAY GROUP^100.98I
"^DIC",100.98,100.98,0,"GL")
^ORD(100.98,
"^DIC",100.98,100.98,"%D",0)
^^5^5^2971218^^^^
"^DIC",100.98,100.98,"%D",1,0)
This file allows orders to be clustered in groups other than by package.
"^DIC",100.98,100.98,"%D",2,0)
It is similar in structure to the OPTION File (19).  This allows display
"^DIC",100.98,100.98,"%D",3,0)
groups to be arranged in a hierarchy.  The main entry in this file
"^DIC",100.98,100.98,"%D",4,0)
should be 'ALL SERVICES'.  Other entries should be logically subordinate
"^DIC",100.98,100.98,"%D",5,0)
to the 'ALL SERVICES' entry.
"^DIC",100.98,"B","DISPLAY GROUP",100.98)

"^DIC",101.41,101.41,0)
ORDER DIALOG^101.41
"^DIC",101.41,101.41,0,"GL")
^ORD(101.41,
"^DIC",101.41,101.41,"%D",0)
^^2^2^2960819^^
"^DIC",101.41,101.41,"%D",1,0)
This file contains the information needed to define how to prompt for each
"^DIC",101.41,101.41,"%D",2,0)
order, what values are acceptable, etc.
"^DIC",101.41,"B","ORDER DIALOG",101.41)

"BLD",8986,6)
^361
**END**
**END**

