Released OR*3*388 SEQ #339
Extracted from mail message
**KIDS**:OR*3.0*388^

**INSTALL NAME**
OR*3.0*388
"BLD",9622,0)
OR*3.0*388^ORDER ENTRY/RESULTS REPORTING^0^3140411^y
"BLD",9622,4,0)
^9.64PA^100.6^1
"BLD",9622,4,100.6,0)
100.6
"BLD",9622,4,100.6,2,0)
^9.641^100.6^1
"BLD",9622,4,100.6,2,100.6,0)
OE/RR AUTO-DC RULES  (File-top level)
"BLD",9622,4,100.6,2,100.6,1,0)
^9.6411^2^1
"BLD",9622,4,100.6,2,100.6,1,2,0)
TYPE OF EVENT
"BLD",9622,4,100.6,222)
y^y^p^^^^n^^n
"BLD",9622,4,100.6,224)

"BLD",9622,4,"APDD",100.6,100.6)

"BLD",9622,4,"APDD",100.6,100.6,2)

"BLD",9622,4,"B",100.6,100.6)

"BLD",9622,6.3)
10
"BLD",9622,"ABPKG")
n
"BLD",9622,"KRN",0)
^9.67PA^779.2^20
"BLD",9622,"KRN",.4,0)
.4
"BLD",9622,"KRN",.401,0)
.401
"BLD",9622,"KRN",.402,0)
.402
"BLD",9622,"KRN",.403,0)
.403
"BLD",9622,"KRN",.5,0)
.5
"BLD",9622,"KRN",.84,0)
.84
"BLD",9622,"KRN",3.6,0)
3.6
"BLD",9622,"KRN",3.8,0)
3.8
"BLD",9622,"KRN",9.2,0)
9.2
"BLD",9622,"KRN",9.8,0)
9.8
"BLD",9622,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",9622,"KRN",9.8,"NM",1,0)
ORWDXM1^^0^B102077765
"BLD",9622,"KRN",9.8,"NM",2,0)
ORCDPSIV^^0^B121517971
"BLD",9622,"KRN",9.8,"NM","B","ORCDPSIV",2)

"BLD",9622,"KRN",9.8,"NM","B","ORWDXM1",1)

"BLD",9622,"KRN",19,0)
19
"BLD",9622,"KRN",19,"NM",0)
^9.68A^^
"BLD",9622,"KRN",19.1,0)
19.1
"BLD",9622,"KRN",101,0)
101
"BLD",9622,"KRN",409.61,0)
409.61
"BLD",9622,"KRN",771,0)
771
"BLD",9622,"KRN",779.2,0)
779.2
"BLD",9622,"KRN",870,0)
870
"BLD",9622,"KRN",8989.51,0)
8989.51
"BLD",9622,"KRN",8989.52,0)
8989.52
"BLD",9622,"KRN",8994,0)
8994
"BLD",9622,"KRN","B",.4,.4)

"BLD",9622,"KRN","B",.401,.401)

"BLD",9622,"KRN","B",.402,.402)

"BLD",9622,"KRN","B",.403,.403)

"BLD",9622,"KRN","B",.5,.5)

"BLD",9622,"KRN","B",.84,.84)

"BLD",9622,"KRN","B",3.6,3.6)

"BLD",9622,"KRN","B",3.8,3.8)

"BLD",9622,"KRN","B",9.2,9.2)

"BLD",9622,"KRN","B",9.8,9.8)

"BLD",9622,"KRN","B",19,19)

"BLD",9622,"KRN","B",19.1,19.1)

"BLD",9622,"KRN","B",101,101)

"BLD",9622,"KRN","B",409.61,409.61)

"BLD",9622,"KRN","B",771,771)

"BLD",9622,"KRN","B",779.2,779.2)

"BLD",9622,"KRN","B",870,870)

"BLD",9622,"KRN","B",8989.51,8989.51)

"BLD",9622,"KRN","B",8989.52,8989.52)

"BLD",9622,"KRN","B",8994,8994)

"BLD",9622,"QUES",0)
^9.62^^
"BLD",9622,"REQB",0)
^9.611^1^1
"BLD",9622,"REQB",1,0)
OR*3.0*331^1
"BLD",9622,"REQB","B","OR*3.0*331",1)

"FIA",100.6)
OE/RR AUTO-DC RULES
"FIA",100.6,0)
^ORD(100.6,
"FIA",100.6,0,0)
100.6I
"FIA",100.6,0,1)
y^y^p^^^^n^^n
"FIA",100.6,0,10)

"FIA",100.6,0,11)

"FIA",100.6,0,"RLRO")

"FIA",100.6,0,"VR")
3.0^OR
"FIA",100.6,100.6)
1
"FIA",100.6,100.6,2)

"IX",100.6,100.6,"AE",0)
100.6^AE^Active events by division^R^^R^IR^I^100.6^^^^^S
"IX",100.6,100.6,"AE",1)
S ^ORD(100.6,"AE",X(1),X(2),DA)=""
"IX",100.6,100.6,"AE",1.4)
S X=$S(X(3)<1:1,X(3)>$$NOW^XLFDT:1,1:0)
"IX",100.6,100.6,"AE",2)
K ^ORD(100.6,"AE",X(1),X(2),DA)
"IX",100.6,100.6,"AE",2.4)
S X=$S(X(3)<1:1,X(3)>$$NOW^XLFDT:1,1:0)
"IX",100.6,100.6,"AE",2.5)
K ^ORD(100.6,"AE")
"IX",100.6,100.6,"AE",11.1,0)
^.114IA^3^3
"IX",100.6,100.6,"AE",11.1,1,0)
1^F^100.6^3^^1^F
"IX",100.6,100.6,"AE",11.1,2,0)
2^F^100.6^2^^2^F
"IX",100.6,100.6,"AE",11.1,3,0)
3^F^100.6^1^^^F
"MBREQ")
0
"PKG",174,-1)
1^1
"PKG",174,0)
ORDER ENTRY/RESULTS REPORTING^OR^Order Entry/Results Reporting
"PKG",174,20,0)
^9.402P^^
"PKG",174,22,0)
^9.49I^1^1
"PKG",174,22,1,0)
3.0^2971217^2990325^66481
"PKG",174,22,1,"PAH",1,0)
388^3140411
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","ORCDPSIV")
0^2^B121517971^B121037905
"RTN","ORCDPSIV",1,0)
ORCDPSIV ;SLC/MKB-Pharmacy IV dialog utilities ;06/17/10
"RTN","ORCDPSIV",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**4,38,48,158,195,243,296,280,388**;Dec 17, 1997;Build 10
"RTN","ORCDPSIV",3,0)
 ;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","ORCDPSIV",4,0)
CKSCH ; -- validate schedule [Called from P-S Action]
"RTN","ORCDPSIV",5,0)
 N ORX S ORX=ORDIALOG(PROMPT,ORI) Q:ORX=$G(ORESET)  K ORSD
"RTN","ORCDPSIV",6,0)
 D EN^PSSGS0(.ORX,"I")
"RTN","ORCDPSIV",7,0)
 I $D(ORX) S ORDIALOG(PROMPT,ORI)=ORX Q
"RTN","ORCDPSIV",8,0)
 W $C(7),!,"Enter a standard schedule for administering this medication."
"RTN","ORCDPSIV",9,0)
 Q
"RTN","ORCDPSIV",10,0)
ISONETIM(SCH) ;
"RTN","ORCDPSIV",11,0)
 N DUR
"RTN","ORCDPSIV",12,0)
 I SCH="" Q 0
"RTN","ORCDPSIV",13,0)
 K ^TMP($J,"ORCDPSIV GETSCHTYP")
"RTN","ORCDPSIV",14,0)
 D ZERO^PSS51P1(,SCH,"PSJ","O","ORCDPSIV GETSCHTYP")
"RTN","ORCDPSIV",15,0)
 I $D(^TMP($J,"ORCDPSIV GETSCHTYP","B",SCH)) D  Q 1
"RTN","ORCDPSIV",16,0)
 .S DUR=$$PTR^ORCD("OR GTX DURATION")
"RTN","ORCDPSIV",17,0)
 .I $G(ORDIALOG(DUR,1))="" Q
"RTN","ORCDPSIV",18,0)
 .S ORDIALOG(DUR,1)=""
"RTN","ORCDPSIV",19,0)
 .W !,"IV Orders with a schedule type of one-time cannot have a duration."
"RTN","ORCDPSIV",20,0)
 .W !,"The duration has been deleted from this quick order." H 1
"RTN","ORCDPSIV",21,0)
 K ^TMP($J,"ORCDPSIV GETSCHTYP")
"RTN","ORCDPSIV",22,0)
 Q 0
"RTN","ORCDPSIV",23,0)
 ;
"RTN","ORCDPSIV",24,0)
ADDFRD(ORDIALOG,INST,PROMPT) ;
"RTN","ORCDPSIV",25,0)
 N ADDFRIEN,ADDIEN,OI,PSOI,RESULT
"RTN","ORCDPSIV",26,0)
 S RESULT=""
"RTN","ORCDPSIV",27,0)
 I $G(ORIVTYPE)'="C" Q RESULT
"RTN","ORCDPSIV",28,0)
 S ADDFRIEN=$O(^ORD(101.41,"AB","OR GTX ADDITIVE FREQUENCY","")) I 'ADDFRIEN Q RESULT
"RTN","ORCDPSIV",29,0)
 S ADDIEN=$O(^ORD(101.41,"AB","OR GTX ADDITIVE","")) I 'ADDIEN Q RESULT
"RTN","ORCDPSIV",30,0)
 S RESULT=$$RECALL^ORCD(PROMPT,INST) I RESULT'="" Q RESULT
"RTN","ORCDPSIV",31,0)
 S OI=$G(ORDIALOG(ADDIEN,INST)) I OI="" Q RESULT
"RTN","ORCDPSIV",32,0)
 S PSOI=+$P($G(^ORD(101.43,OI,0)),U,2) I +PSOI'>0 Q RESULT
"RTN","ORCDPSIV",33,0)
 S RESULT=$$IV^PSSDSAPA(+PSOI)
"RTN","ORCDPSIV",34,0)
 S RESULT=$S(RESULT="A":"All Bags",RESULT=1:"1 Bag/Day",1:"")
"RTN","ORCDPSIV",35,0)
 Q RESULT
"RTN","ORCDPSIV",36,0)
 ;
"RTN","ORCDPSIV",37,0)
ADDFRQC ;
"RTN","ORCDPSIV",38,0)
 I $G(ORIVTYPE)'="C" Q
"RTN","ORCDPSIV",39,0)
 W !,"Select from the list of the codes below to assign an additive frequency for this additive."
"RTN","ORCDPSIV",40,0)
 W !,"A = All Bags"
"RTN","ORCDPSIV",41,0)
 W !,"1 = 1 Bag/Day"
"RTN","ORCDPSIV",42,0)
 W !,"S = See Comments"
"RTN","ORCDPSIV",43,0)
 W !
"RTN","ORCDPSIV",44,0)
 Q
"RTN","ORCDPSIV",45,0)
ADDFRQI ;
"RTN","ORCDPSIV",46,0)
 S X=$$UP^XLFSTR(X)
"RTN","ORCDPSIV",47,0)
 I X'="A",X'=1,X'="S" D ADDFRQC K X Q
"RTN","ORCDPSIV",48,0)
 I X="A" S X="All Bags" Q
"RTN","ORCDPSIV",49,0)
 I X=1 S X="1 Bag/Day" Q
"RTN","ORCDPSIV",50,0)
 I X="S" S X="See Comments"
"RTN","ORCDPSIV",51,0)
 Q
"RTN","ORCDPSIV",52,0)
 ;
"RTN","ORCDPSIV",53,0)
PROVIDER ; -- Check provider, if authorized to write med orders
"RTN","ORCDPSIV",54,0)
 I $D(^XUSEC("OREMAS",DUZ)),'$$GET^XPAR("ALL","OR OREMAS MED ORDERS") W $C(7),!!,"OREMAS key holders may not enter medication orders." S ORQUIT=1 Q
"RTN","ORCDPSIV",55,0)
 N PS,NAME S PS=$G(^VA(200,+$G(ORNP),"PS")),NAME=$P($G(^(20)),U,2)
"RTN","ORCDPSIV",56,0)
 I '$L(NAME) S NAME=$P(^VA(200,+$G(ORNP),0),U)
"RTN","ORCDPSIV",57,0)
 I '$P(PS,U) W $C(7),!!,NAME_" is not authorized to write medication orders!" S ORQUIT=1
"RTN","ORCDPSIV",58,0)
 I $P(PS,U,4),$$NOW^XLFDT>$P(PS,U,4) W $C(7),!!,NAME_" is no longer authorized to write medication orders!" S ORQUIT=1
"RTN","ORCDPSIV",59,0)
 I $G(ORQUIT) W !,"You must select another provider to continue.",! S PS=$$MEDPROV I PS S ORXNP=ORNP,ORNP=PS K ORQUIT
"RTN","ORCDPSIV",60,0)
 Q
"RTN","ORCDPSIV",61,0)
 ;
"RTN","ORCDPSIV",62,0)
MEDPROV() ; -- Return ordering med provider
"RTN","ORCDPSIV",63,0)
 N X,Y,D,DIC
"RTN","ORCDPSIV",64,0)
 S DIC=200,DIC(0)="AEQ",DIC("A")="Select PROVIDER: ",D="AK.PROVIDER"
"RTN","ORCDPSIV",65,0)
 S DIC("S")="I $P($G(^(""PS"")),U),'$P(^(""PS""),U,4)!($P(^(""PS""),U,4)>$$NOW^XLFDT)"
"RTN","ORCDPSIV",66,0)
 D IX^DIC S:Y>0 Y=+Y I Y'>0 S Y="^"
"RTN","ORCDPSIV",67,0)
 Q Y
"RTN","ORCDPSIV",68,0)
 ;
"RTN","ORCDPSIV",69,0)
CHANGED(TYPE) ; -- Kill dependent values when OI changes
"RTN","ORCDPSIV",70,0)
 N PROMPTS,NAME,PTR,P,I
"RTN","ORCDPSIV",71,0)
 Q:'$L($G(TYPE))  S PROMPTS=""
"RTN","ORCDPSIV",72,0)
 S:TYPE="B" PROMPTS="VOLUME"
"RTN","ORCDPSIV",73,0)
 S:TYPE="A" PROMPTS="STRENGTH PSIV^UNITS"
"RTN","ORCDPSIV",74,0)
 I TYPE="T" D
"RTN","ORCDPSIV",75,0)
 .S PROMPTS="INFUSION RATE^SCHEDULE^ADDITIVE FREQUENCY"
"RTN","ORCDPSIV",76,0)
 .S PTR=$O(^ORD(101.41,"AB","OR GTX DURATION","")) Q:'PTR
"RTN","ORCDPSIV",77,0)
 .I $G(ORDIALOG(PTR,1))["DOSES" S PROMPTS=PROMPTS_U_"DURATION"
"RTN","ORCDPSIV",78,0)
 ;
"RTN","ORCDPSIV",79,0)
 F P=1:1:$L(PROMPTS,U) S NAME=$P(PROMPTS,U,P) D
"RTN","ORCDPSIV",80,0)
 . S PTR=$O(^ORD(101.41,"AB","OR GTX "_NAME,0)) Q:'PTR
"RTN","ORCDPSIV",81,0)
 . S I=0 F  S I=$O(ORDIALOG(PTR,I)) Q:I'>0  K ORDIALOG(PTR,I)
"RTN","ORCDPSIV",82,0)
 . K ORDIALOG(PTR,"LIST")
"RTN","ORCDPSIV",83,0)
 Q
"RTN","ORCDPSIV",84,0)
 ;
"RTN","ORCDPSIV",85,0)
INACTIVE(TYPE) ; -- Check OI inactive date
"RTN","ORCDPSIV",86,0)
 N OI,X,I,PSOI,DEA,EXIT S:$G(TYPE)'="A" TYPE="S"
"RTN","ORCDPSIV",87,0)
 S OI=+$G(ORDIALOG(PROMPT,INST)) Q:OI'>0
"RTN","ORCDPSIV",88,0)
 I $G(^ORD(101.43,OI,.1)),^(.1)'>$$NOW^XLFDT D  Q  ;inactive
"RTN","ORCDPSIV",89,0)
 . S X=$S(TYPE="A":"additive",1:"solution"),ORQUIT=1
"RTN","ORCDPSIV",90,0)
 . W $C(7),!,"This "_X_" may not be ordered anymore.  Please select another."
"RTN","ORCDPSIV",91,0)
 S I=$S(TYPE="A":4,1:3) I '$P($G(^ORD(101.43,OI,"PS")),U,I) D  Q
"RTN","ORCDPSIV",92,0)
 . S X=$S(TYPE="A":"an additive",1:"a solution"),ORQUIT=1
"RTN","ORCDPSIV",93,0)
 . W $C(7),!,"This item may not be ordered as "_X_"."
"RTN","ORCDPSIV",94,0)
 S EXIT=$$INPT^ORCD I EXIT=0 D ROUTECHK Q
"RTN","ORCDPSIV",95,0)
 Q:'$L($T(IVDEA^PSSUTIL1))  ;DBIA #3784
"RTN","ORCDPSIV",96,0)
 S PSOI=+$P($G(^ORD(101.43,OI,0)),U,2)
"RTN","ORCDPSIV",97,0)
 S DEA=$$IVDEA^PSSUTIL1(PSOI,TYPE) I DEA>0 D  Q:$G(ORQUIT)
"RTN","ORCDPSIV",98,0)
 . I $G(ORNP),'$L($P($G(^VA(200,+ORNP,"PS")),U,2)),'$L($P($G(^("PS")),U,3)) W $C(7),!,$P($G(^(0)),U)_" must have a DEA# or VA# to order this drug!" S ORQUIT=1 Q
"RTN","ORCDPSIV",99,0)
 . I DEA=1 W $C(7),!,"This order will require a wet signature!"
"RTN","ORCDPSIV",100,0)
 D ROUTECHK
"RTN","ORCDPSIV",101,0)
 Q
"RTN","ORCDPSIV",102,0)
 ;
"RTN","ORCDPSIV",103,0)
VOLUME ; -- get allowable volumes for solution
"RTN","ORCDPSIV",104,0)
 N PSOI,ORY,CNT,I,XORY K ORDIALOG(PROMPT,"LIST")
"RTN","ORCDPSIV",105,0)
 S PSOI=+$P($G(^ORD(101.43,+$$VAL^ORCD("SOLUTION",INST),0)),U,2)_"B"
"RTN","ORCDPSIV",106,0)
 D ENVOL^PSJORUT2(PSOI,.ORY) Q:'ORY
"RTN","ORCDPSIV",107,0)
 ;S (I,CNT)=0 F  S I=$O(ORY(I)) Q:I'>0  S CNT=CNT+1,ORDIALOG(PROMPT,"LIST",+ORY(I))=+ORY(I)
"RTN","ORCDPSIV",108,0)
 S (I,CNT)=0 F  S I=$O(ORY(I)) Q:I'>0  D
"RTN","ORCDPSIV",109,0)
 . S CNT=CNT+1
"RTN","ORCDPSIV",110,0)
 . S XORY(I)=+ORY(I) I XORY(I)<1,$E(XORY(I),1,2)'="0." S XORY(I)=0_XORY(I)
"RTN","ORCDPSIV",111,0)
 . S ORDIALOG(PROMPT,"LIST",XORY(I))=XORY(I)
"RTN","ORCDPSIV",112,0)
 S ORDIALOG(PROMPT,"LIST")=CNT_"^1"
"RTN","ORCDPSIV",113,0)
 Q
"RTN","ORCDPSIV",114,0)
 ;
"RTN","ORCDPSIV",115,0)
UNITS ; -- get allowable units for current additive
"RTN","ORCDPSIV",116,0)
 N PSOI,ORY,I,UNITS
"RTN","ORCDPSIV",117,0)
 S PSOI=+$P(^ORD(101.43,+ORDIALOG($$PTR^ORCD("OR GTX ADDITIVE"),INST),0),U,2)_"A"
"RTN","ORCDPSIV",118,0)
 D ENVOL^PSJORUT2(PSOI,.ORY)
"RTN","ORCDPSIV",119,0)
 S I=$O(ORY(0)) Q:'I  S UNITS=$P($G(ORY(I)),U,2)
"RTN","ORCDPSIV",120,0)
 S ORDIALOG($$PTR^ORCD("OR GTX UNITS"),INST)=UNITS
"RTN","ORCDPSIV",121,0)
 W !," (Units for this additive are "_UNITS_")"
"RTN","ORCDPSIV",122,0)
 Q
"RTN","ORCDPSIV",123,0)
 ;
"RTN","ORCDPSIV",124,0)
PREMIX() ; -- Returns 1 or 0, if IV base is a premix solution
"RTN","ORCDPSIV",125,0)
 N BASE,PS,I,Y
"RTN","ORCDPSIV",126,0)
 S BASE=$$PTR^ORCD("OR GTX ORDERABLE ITEM"),Y=0
"RTN","ORCDPSIV",127,0)
 S I=0 F  S I=$O(ORDIALOG(BASE,I)) Q:I'>0  D  Q:Y
"RTN","ORCDPSIV",128,0)
 . S PS=$G(^ORD(101.43,+$G(ORDIALOG(BASE,I)),"PS"))
"RTN","ORCDPSIV",129,0)
 . I $P(PS,U,3)&($P(PS,U,4)) S Y=1
"RTN","ORCDPSIV",130,0)
 Q Y
"RTN","ORCDPSIV",131,0)
 ;
"RTN","ORCDPSIV",132,0)
IVRTEENT ;
"RTN","ORCDPSIV",133,0)
 N ARRAY,DIR,RIEN,TROUTE
"RTN","ORCDPSIV",134,0)
 I ORTYPE'="Z" Q
"RTN","ORCDPSIV",135,0)
 S RIEN=$P($G(ORDIALOG("B","ROUTE")),U,2) Q:RIEN'>0
"RTN","ORCDPSIV",136,0)
 S EXIT=0,TROUTE=$G(ORDIALOG(RIEN,1)) Q:TROUTE'>0
"RTN","ORCDPSIV",137,0)
 I $$IVRTESCR(TROUTE)=1 Q
"RTN","ORCDPSIV",138,0)
 S ORDIALOG(RIEN,1)=""
"RTN","ORCDPSIV",139,0)
 W !!,"The selected route is not a valid route for this order."
"RTN","ORCDPSIV",140,0)
 W !,"Select a new route for this order from the list of routes below."
"RTN","ORCDPSIV",141,0)
 D RTEDISP(.ARRAY)
"RTN","ORCDPSIV",142,0)
 Q
"RTN","ORCDPSIV",143,0)
 ;
"RTN","ORCDPSIV",144,0)
BIVOI(ARRAY) ;
"RTN","ORCDPSIV",145,0)
 N CNT,NUM,OIIEN,OTYPE
"RTN","ORCDPSIV",146,0)
 S CNT=0
"RTN","ORCDPSIV",147,0)
 F OTYPE="SOLUTION","ADDITIVE" D
"RTN","ORCDPSIV",148,0)
 .S OIIEN=+$P($G(ORDIALOG("B",OTYPE)),U,2) I OIIEN>0 D
"RTN","ORCDPSIV",149,0)
 ..S NUM=0 F  S NUM=$O(ORDIALOG(OIIEN,NUM)) Q:NUM'>0  I +$G(ORDIALOG(OIIEN,NUM))>0 D
"RTN","ORCDPSIV",150,0)
 ...S CNT=CNT+1,ARRAY(CNT)=ORDIALOG(OIIEN,NUM)
"RTN","ORCDPSIV",151,0)
 Q
"RTN","ORCDPSIV",152,0)
 ;
"RTN","ORCDPSIV",153,0)
LVROUTES ;
"RTN","ORCDPSIV",154,0)
 N ARRAY,ROUTES
"RTN","ORCDPSIV",155,0)
 D BIVOI(.ARRAY)
"RTN","ORCDPSIV",156,0)
 D IVDOSFRM^ORWDPS33(.ROUTES,.ARRAY,1)
"RTN","ORCDPSIV",157,0)
 D RTEDISP(.ROUTES)
"RTN","ORCDPSIV",158,0)
 Q
"RTN","ORCDPSIV",159,0)
 ;
"RTN","ORCDPSIV",160,0)
RTEDISP(ROUTES) ;
"RTN","ORCDPSIV",161,0)
 N CNT
"RTN","ORCDPSIV",162,0)
 S CNT="" F  S CNT=$O(ROUTES(CNT)) Q:CNT'>0  D
"RTN","ORCDPSIV",163,0)
 .W !,$P($G(ROUTES(CNT)),U,2)
"RTN","ORCDPSIV",164,0)
 Q
"RTN","ORCDPSIV",165,0)
 ;
"RTN","ORCDPSIV",166,0)
IVRTESCR(Y) ;
"RTN","ORCDPSIV",167,0)
 N ARRAY,ROUTES,VALUE
"RTN","ORCDPSIV",168,0)
 D BIVOI(.ARRAY)
"RTN","ORCDPSIV",169,0)
 S VALUE=$$IVQOVAL^ORWDPS33(.ARRAY,Y) I VALUE'="" Q 1
"RTN","ORCDPSIV",170,0)
 Q 0
"RTN","ORCDPSIV",171,0)
 ;
"RTN","ORCDPSIV",172,0)
ROUTECHK ;
"RTN","ORCDPSIV",173,0)
 N CNT,IEN,ROUTE,VALUE
"RTN","ORCDPSIV",174,0)
 S RIEN=$P($G(ORDIALOG("B","ROUTE")),U,2) Q:RIEN'>0
"RTN","ORCDPSIV",175,0)
 S TROUTE=$G(ORDIALOG(RIEN,1)) Q:TROUTE'>0
"RTN","ORCDPSIV",176,0)
 I $$IVRTESCR(TROUTE)=1 Q
"RTN","ORCDPSIV",177,0)
 S ORDIALOG(RIEN,1)=""
"RTN","ORCDPSIV",178,0)
 W !!,"The route defined for this order is an invalid route."
"RTN","ORCDPSIV",179,0)
 W !,"You will need to define a new route for this order."
"RTN","ORCDPSIV",180,0)
 Q
"RTN","ORCDPSIV",181,0)
 ;
"RTN","ORCDPSIV",182,0)
ENRATE ; -- set display text, help based on IV TYPE
"RTN","ORCDPSIV",183,0)
 N X,MSG S X=$G(ORIVTYPE),MSG=""
"RTN","ORCDPSIV",184,0)
 S ORDIALOG(PROMPT,"A")=$S(X="I":"Infuse over time (min): ",1:"Infusion Rate (ml/hr): ")
"RTN","ORCDPSIV",185,0)
 S MSG="Enter the "_$S(X="I":"number of minutes over which to infuse this medication.",1:"infusion rate, as the number of ml/hr or Text@Number of Labels per day. ")
"RTN","ORCDPSIV",186,0)
 S ORDIALOG(PROMPT,"?")=MSG,ORDIALOG(PROMPT,"??")=MSG ;p388
"RTN","ORCDPSIV",187,0)
 I X="I" D
"RTN","ORCDPSIV",188,0)
 .N RATEI,RATEV,TIME,UNIT
"RTN","ORCDPSIV",189,0)
 .S RATEI=$P($G(ORDIALOG("B","INFUSION RATE")),U,2) Q:RATEI'>0
"RTN","ORCDPSIV",190,0)
 .S RATEV=$G(ORDIALOG(RATEI,1)) Q:'$L(RATEV)
"RTN","ORCDPSIV",191,0)
 .I RATEV'["INFUSE OVER" Q
"RTN","ORCDPSIV",192,0)
 .S TIME=$P(RATEV," ",3)
"RTN","ORCDPSIV",193,0)
 .S UNIT=$P(RATEV," ",4)
"RTN","ORCDPSIV",194,0)
 .I TIME["." Q
"RTN","ORCDPSIV",195,0)
 .I UNIT="Hours" S TIME=TIME*60
"RTN","ORCDPSIV",196,0)
 .S ORDIALOG(RATEI,1)=TIME
"RTN","ORCDPSIV",197,0)
 Q
"RTN","ORCDPSIV",198,0)
 ;
"RTN","ORCDPSIV",199,0)
INF ; -- input transform for INFUSION RATE
"RTN","ORCDPSIV",200,0)
 N ALPHA,CNT,EXIT,FAIL,LDEC,RDEC,TEMP
"RTN","ORCDPSIV",201,0)
 I $G(ORIVTYPE)="I" D  Q
"RTN","ORCDPSIV",202,0)
 .I X["." W !,"Infuse Over Time must be a whole number." K X Q
"RTN","ORCDPSIV",203,0)
 .I $L(X)>4 W !,"Infuse Over Time cannot exceed 4 characters for minutes." K X Q
"RTN","ORCDPSIV",204,0)
 .S FAIL=0
"RTN","ORCDPSIV",205,0)
 .F CNT=1:1:$L(X) D  I FAIL=1 Q
"RTN","ORCDPSIV",206,0)
 ..I ($A($E(X,CNT))<48)!($A($E(X,CNT))>58) S FAIL=1
"RTN","ORCDPSIV",207,0)
 .I FAIL=1 W !,"Infuse Over Time must be a whole number." K X Q
"RTN","ORCDPSIV",208,0)
 K:$L(X)<1!($L(X)>30)!(X["""")!($A(X)=45) X I '$D(X) Q
"RTN","ORCDPSIV",209,0)
 I $G(ORIVTYPE)="C" D  Q
"RTN","ORCDPSIV",210,0)
 .S TEMP=$E(X,($L(X)-5),$L(X))
"RTN","ORCDPSIV",211,0)
 .I X["@",$$UP^XLFSTR(TEMP)=" ML/HR" Q
"RTN","ORCDPSIV",212,0)
 .S ALPHA=0
"RTN","ORCDPSIV",213,0)
 .I X'["@",X'["." D  I ALPHA=1 K X Q
"RTN","ORCDPSIV",214,0)
 ..F CNT=1:1:$L(X) D  I ALPHA=1 Q
"RTN","ORCDPSIV",215,0)
 ...I ($A($E(X,CNT))<48)!($A($E(X,CNT))>58) S ALPHA=1
"RTN","ORCDPSIV",216,0)
 .S EXIT=0
"RTN","ORCDPSIV",217,0)
 .I X[".",X'["@" D  I EXIT=1 K X Q
"RTN","ORCDPSIV",218,0)
 ..S LDEC=$P(X,"."),RDEC=$P(X,".",2)
"RTN","ORCDPSIV",219,0)
 ..I LDEC="" W !,"Infusion Rate required a leading numeric value." S EXIT=1
"RTN","ORCDPSIV",220,0)
 ..I $L(RDEC)>1 W !,"Infusion Rate cannot exceed one decimal place." S EXIT=1
"RTN","ORCDPSIV",221,0)
 ..S ALPHA=0
"RTN","ORCDPSIV",222,0)
 ..F CNT=1:1:$L(LDEC) D  I ALPHA=1 S EXIT=1 Q
"RTN","ORCDPSIV",223,0)
 ...I ($A($E(LDEC,CNT))<48)!($A($E(LDEC,CNT))>58) S ALPHA=1
"RTN","ORCDPSIV",224,0)
 ..I $L(RDEC)=0 Q
"RTN","ORCDPSIV",225,0)
 ..F CNT=1:1:$L(RDEC) D  I ALPHA=1 S EXIT=1 Q
"RTN","ORCDPSIV",226,0)
 ...I ($A($E(RDEC,CNT))<48)!($A($E(RDEC,CNT))>58) S ALPHA=1
"RTN","ORCDPSIV",227,0)
 .D ORINF^PSIVSP Q
"RTN","ORCDPSIV",228,0)
 ; -- assume #minutes for now
"RTN","ORCDPSIV",229,0)
 K:(X'=+X)!(X<1)!(X>999) X ;range?
"RTN","ORCDPSIV",230,0)
 Q
"RTN","ORCDPSIV",231,0)
 ;
"RTN","ORCDPSIV",232,0)
VALIDAYS(X) ; -- Validate IV duration
"RTN","ORCDPSIV",233,0)
 N UNITS,X1,X2,Y,I
"RTN","ORCDPSIV",234,0)
 I X'?1.N." "1.A Q 0
"RTN","ORCDPSIV",235,0)
 S UNITS="^MIN^HOURS^DAYS^M^H^D^",(X1,X2)=""
"RTN","ORCDPSIV",236,0)
 F I=1:1:$L(X) S Y=$E(X,I) S:Y?1N X1=X1_Y S:Y?1A X2=X2_$$UP^XLFSTR(Y)
"RTN","ORCDPSIV",237,0)
 I 'X1 Q 0
"RTN","ORCDPSIV",238,0)
 I UNITS'[(U_X2_U) Q 0
"RTN","ORCDPSIV",239,0)
 Q 1
"RTN","ORCDPSIV",240,0)
 ;
"RTN","ORCDPSIV",241,0)
VALDURA(X) ;-- Validate IV duration/limitation
"RTN","ORCDPSIV",242,0)
 K:$L(X)<1!($L(X)>30)!(X["""")!($A(X)=45) X I '$D(X) Q
"RTN","ORCDPSIV",243,0)
 ;
"RTN","ORCDPSIV",244,0)
IVPSI ;INPUT-TRANSFORM
"RTN","ORCDPSIV",245,0)
 I $L(X)<1!($L(X)>30)!(X["""")!($A(X)=45) S X="" Q
"RTN","ORCDPSIV",246,0)
 I $L(X)>1,X[" " W !,"Spaces are not allow in the duration." K X Q
"RTN","ORCDPSIV",247,0)
 I $E(X)=0 W !,!,"Duration cannot start with a zero." K X Q
"RTN","ORCDPSIV",248,0)
 I X["." W !,!,"Invalid duration or total volume.",!,"Duration has to be integer value!" S X="" Q
"RTN","ORCDPSIV",249,0)
 S X=$$UP^XLFSTR(X)
"RTN","ORCDPSIV",250,0)
 I X["DOSES" D  Q
"RTN","ORCDPSIV",251,0)
 .I $G(ORIVTYPE)'="I" K X W !,"Continuous IV Orders cannot have DOSES as a duration." Q
"RTN","ORCDPSIV",252,0)
 .I +$P(X,"DOSES")<1,+$P(X,"DOSES")>200000 W !,"Invalid number of Doses.",! K X Q
"RTN","ORCDPSIV",253,0)
 I (X'?.N1.2A),(X'?.N1".".N1.2A) W !,!,"Invalid duration or total volume.",! S X="" Q
"RTN","ORCDPSIV",254,0)
 I (X?.N1A) D
"RTN","ORCDPSIV",255,0)
 . I (X["L")!(X["H")!(X["D") Q
"RTN","ORCDPSIV",256,0)
 . E  W !,!,"Invalid duration or total volume.",! S X="" Q
"RTN","ORCDPSIV",257,0)
 I (X?.N1".".N1A) D
"RTN","ORCDPSIV",258,0)
 . I X["L" Q
"RTN","ORCDPSIV",259,0)
 . E  W !,!,"Invalid duration or total volume.",!,"Duration has to be integer value!",! S X="" Q
"RTN","ORCDPSIV",260,0)
 I (X?.N2A)!(X?.N1".".N2A) D
"RTN","ORCDPSIV",261,0)
 . I (X["ML")!(X["CC") Q
"RTN","ORCDPSIV",262,0)
 . E  W !,!,"Invalid duration or total volume",! S X="" Q
"RTN","ORCDPSIV",263,0)
 I X="" K X
"RTN","ORCDPSIV",264,0)
 Q
"RTN","ORCDPSIV",265,0)
 ;
"RTN","ORCDPSIV",266,0)
IVPSI1 ; ASK ON CONDITION
"RTN","ORCDPSIV",267,0)
 N DURI,DURV,TEMPX
"RTN","ORCDPSIV",268,0)
 I $G(OROTSCH)=1 Q
"RTN","ORCDPSIV",269,0)
 S DURI=$P($G(ORDIALOG("B","LIMITATION")),U,2)
"RTN","ORCDPSIV",270,0)
 I DURI>0 S DURV=$G(ORDIALOG(DURI,1))
"RTN","ORCDPSIV",271,0)
 I $L(DURV)>1,$E(DURV)="f",DURV["doses" D
"RTN","ORCDPSIV",272,0)
 .S TEMPX=$P(DURV," ",5)_"DOSES"
"RTN","ORCDPSIV",273,0)
 .I TEMPX'="",TEMPX'=DURV S ORDIALOG(DURI,1)=TEMPX
"RTN","ORCDPSIV",274,0)
 N INT,IVTYPE,ONETIME,TYPE,SCH,SCHNAME
"RTN","ORCDPSIV",275,0)
 D IVDURT($G(ORIVTYPE))
"RTN","ORCDPSIV",276,0)
 ;I $G(ORIVTYPE)'="I" D  G IVPS1X
"RTN","ORCDPSIV",277,0)
 ;.W !,!,"Enter the length of administrative time or total volume for IV fluid order followed by ML or CC for milliliters, L for liters, D for days, H for hours to set limitation."
"RTN","ORCDPSIV",278,0)
 ;.W !,"(Examples: 1500ML, 1000CC, 1L, 3D, or 72H)",!
"RTN","ORCDPSIV",279,0)
 ;W !,"This field is optional a value does not need to be entered."
"RTN","ORCDPSIV",280,0)
 ;W !,!,"Enter the length of administrative time or total volume for IV fluid order followed by ML or CC for milliliters, L for liters, D for days, H for hours or DOSES to set limitation."
"RTN","ORCDPSIV",281,0)
 ;W !,"(Examples: 1500ML, 1000CC, 1L, 3D, 72H, or 10DOSES)",!
"RTN","ORCDPSIV",282,0)
IVPS1X ;
"RTN","ORCDPSIV",283,0)
 ;W !,"This field is optional a value does not need to be entered."
"RTN","ORCDPSIV",284,0)
 I 1
"RTN","ORCDPSIV",285,0)
 Q
"RTN","ORCDPSIV",286,0)
 ;
"RTN","ORCDPSIV",287,0)
IVDURT(TYPE) ;
"RTN","ORCDPSIV",288,0)
 I TYPE'="I" D  G IVDURX
"RTN","ORCDPSIV",289,0)
 .W !,!,"Enter the length of administrative time or total volume for IV fluid order followed by ML or CC for milliliters, L for liters, D for days, H for hours to set limitation."
"RTN","ORCDPSIV",290,0)
 .W !,"(Examples: 1500ML, 1000CC, 1L, 3D, or 72H)",!
"RTN","ORCDPSIV",291,0)
 W !,"This field is optional a value does not need to be entered."
"RTN","ORCDPSIV",292,0)
 W !,!,"Enter the length of administrative time or total volume for IV fluid order followed by ML or CC for milliliters, L for liters, D for days, H for hours or DOSES to set limitation."
"RTN","ORCDPSIV",293,0)
 W !,"(Examples: 1500ML, 1000CC, 1L, 3D, 72H, or 10DOSES)",!
"RTN","ORCDPSIV",294,0)
IVDURX ;
"RTN","ORCDPSIV",295,0)
 W !,"This field is optional a value does not need to be entered."
"RTN","ORCDPSIV",296,0)
 Q
"RTN","ORCDPSIV",297,0)
 ;
"RTN","ORCDPSIV",298,0)
IVDURH ;
"RTN","ORCDPSIV",299,0)
 D IVDURT($G(ORIVTYPE))
"RTN","ORCDPSIV",300,0)
 Q
"RTN","ORCDPSIV",301,0)
 ;
"RTN","ORWDXM1")
0^1^B102077765^B96832603
"RTN","ORWDXM1",1,0)
ORWDXM1 ;SLC/KCM - Order Dialogs, Menus;5/12/08 6:14am ;9/10/2010
"RTN","ORWDXM1",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**10,85,131,132,141,178,185,187,215,243,280,331,388**;Dec 17, 1997;Build 10
"RTN","ORWDXM1",3,0)
 ;
"RTN","ORWDXM1",4,0)
BLDQRSP(LST,ORIT,FLDS,ISIMO,ENCLOC) ; Build responses for an order
"RTN","ORWDXM1",5,0)
 ; LST=QuickLevel^ResponseID(ORIT;$H)^Dialog^Type^FormID^DGrp
"RTN","ORWDXM1",6,0)
 ; LST(n)=verify or reject text
"RTN","ORWDXM1",7,0)
 ; ORIT= ptr to 101.41 for quick order, 100 for copy
"RTN","ORWDXM1",8,0)
 ; 1 2 3 4 5 6 7 8 11-20
"RTN","ORWDXM1",9,0)
 ; FLDS=DFN^LOC^ORNP^INPT^SEX^AGE^EVENT^SC%^^^Key Variables...
"RTN","ORWDXM1",10,0)
 ; ORIT=+ORIT: ptr to 101.41, $E(ORIT)=C: copy $E(ORIT)=X: change
"RTN","ORWDXM1",11,0)
 ; !! SHOULD CHECK for PRE-CPRS ORDERS (treat as text?)
"RTN","ORWDXM1",12,0)
 K ^TMP("ORWDXMQ",$J)
"RTN","ORWDXM1",13,0)
 N ORWMODE ; 0:Dlg,Quick 1:copy 2:change
"RTN","ORWDXM1",14,0)
 N TEMPCAT ; pt cat from DPT
"RTN","ORWDXM1",15,0)
 N ISXFER ; Trnsfr order?
"RTN","ORWDXM1",16,0)
 N ORIMO ;If IMO(inpt med on opt)
"RTN","ORWDXM1",17,0)
 N TEMPORIT
"RTN","ORWDXM1",18,0)
 N ADMLOC,PATLOC,ORDLOC,LEVEL,DELAY,SCHLOC,SCHTYP
"RTN","ORWDXM1",19,0)
 S PATLOC=$P(FLDS,U,2)
"RTN","ORWDXM1",20,0)
 S ORDLOC=$S(ORIT["C":+$P($G(^OR(100,+$P(ORIT,"C",2),0)),U,10),1:0)
"RTN","ORWDXM1",21,0)
 S ORIMO=$G(ISIMO)
"RTN","ORWDXM1",22,0)
 S ORWMODE=0,ISXFER=""
"RTN","ORWDXM1",23,0)
 S:$E(ORIT)="C" ORWMODE=1 S:$E(ORIT)="T" ORWMODE=1,ISXFER=";T" ;treat xfer as copy
"RTN","ORWDXM1",24,0)
 S:$E(ORIT)="X" ORWMODE=2
"RTN","ORWDXM1",25,0)
 S TEMPORIT=ORIT
"RTN","ORWDXM1",26,0)
 I ORWMODE S ORIT=$E(ORIT,2,999)
"RTN","ORWDXM1",27,0)
 S LST(0)=""
"RTN","ORWDXM1",28,0)
 ;disable
"RTN","ORWDXM1",29,0)
 D CHKDSBL^ORWDXM3(.LST,ORIT,ORWMODE) Q:+LST(0)=8
"RTN","ORWDXM1",30,0)
 ;action
"RTN","ORWDXM1",31,0)
 D CHKVACT^ORWDXM3(.LST,ORIT,ORWMODE,$P(FLDS,U,3)) Q:+LST(0)=8
"RTN","ORWDXM1",32,0)
 ;no copy
"RTN","ORWDXM1",33,0)
 I ORWMODE=1 D CHKCOPY^ORWDXM3(.LST,ORIT,FLDS) Q:+LST(0)=8
"RTN","ORWDXM1",34,0)
 ;change
"RTN","ORWDXM1",35,0)
 I ORWMODE=2 D BLD4CHG^ORWDXM3(.LST,ORIT,FLDS) Q
"RTN","ORWDXM1",36,0)
 I 'ORWMODE,($P(^ORD(101.41,+ORIT,0),U,4)="D"),'($O(^DIC(9.4,"C","OR",0))[$P(^ORD(101.41,+ORIT,0),U,7)) S LST(0)="0^0^"_$$DLGINFO^ORWDXM3(ORIT,ORWMODE_ISXFER) Q
"RTN","ORWDXM1",37,0)
 N ORIMTYPE,ORCOMP,ORTAS,LRFZX,LRFSAMP,LRFSPEC,LRFDATE,LRFURG,LRFSCH
"RTN","ORWDXM1",38,0)
 N ORTIME,ORCOLLCT,ORMAX,ORTEST,ORIMTIME,ORSMAX,ORSTMS,ORSCH
"RTN","ORWDXM1",39,0)
 N PSJNOPC,ORMORE,ORINPT,ORXNP,ORSCHED,ORQTY,ORNOUNS,ORXNP,OREFILLS
"RTN","ORWDXM1",40,0)
 N ORCOMPLX,ORQTY,ORCOPAY,ORDRUG,ORWPSPIK,ORWPSWRG,ORSD,ORDSUP,ORWP94
"RTN","ORWDXM1",41,0)
 N ORPARAM,ORNPO,ORTIME,ORMEAL,ORTRAY,ORDATE,GMRCNOPD,GMRCNOAT,GMRCREAF
"RTN","ORWDXM1",42,0)
 N ORTYPE,ORVP,ORL,ORNP,ORSEX,ORAGE,ORWARD,OREVENT,ORDIV,ORSC,KEYVAR
"RTN","ORWDXM1",43,0)
 N ORDG,ORDIALOG,ORCAT,FIRST,ORQUIT,X,ORTRAIL,ORLEAD,RSPREF,AUTOACK
"RTN","ORWDXM1",44,0)
 N OREVNTYP
"RTN","ORWDXM1",45,0)
 S ORWP94=$O(^ORD(101.41,"AB","PS MEDS",0))>0
"RTN","ORWDXM1",46,0)
 S ORVP=$P(FLDS,U,1)_";DPT(",ORNP=+$P(FLDS,U,3),ORSC=$P(FLDS,U,8)
"RTN","ORWDXM1",47,0)
 S ORL=$P(FLDS,U,2)_";SC(",ORL(2)=ORL
"RTN","ORWDXM1",48,0)
 S ORSEX=$P(FLDS,U,5),ORAGE=$P(FLDS,U,6),ORTYPE="Q",FIRST=1
"RTN","ORWDXM1",49,0)
 I $P(FLDS,U,4),$G(^SC(+ORL,42)) S ORWARD=+^SC(+ORL,42)
"RTN","ORWDXM1",50,0)
 I $L($P(FLDS,U,7)) D
"RTN","ORWDXM1",51,0)
 . S OREVENT=$P(FLDS,U,7)
"RTN","ORWDXM1",52,0)
 . S OREVNTYP=$P(OREVENT,";",2)
"RTN","ORWDXM1",53,0)
 . S OREVENT("TS")=$P(OREVENT,";",3)
"RTN","ORWDXM1",54,0)
 . S OREVENT("EFFECTIVE")=$P(OREVENT,";",4)
"RTN","ORWDXM1",55,0)
 . S OREVENT=+$P(OREVENT,";",1)
"RTN","ORWDXM1",56,0)
 I 'ORWMODE D
"RTN","ORWDXM1",57,0)
 . D SETKEYV^ORWDXM3($P(FLDS,U,11,20)) ; from menu path
"RTN","ORWDXM1",58,0)
 . S KEYVAR=$$KEYVAR^ORWDXM3(ORIT) ; from entry action
"RTN","ORWDXM1",59,0)
 . D SETKEYV^ORWDXM3(KEYVAR)
"RTN","ORWDXM1",60,0)
 K ^TMP("ORWORD",$J)
"RTN","ORWDXM1",61,0)
 ; init return record based on auto-accept
"RTN","ORWDXM1",62,0)
 I ORWMODE S LST(0)="2^"_ORIT ;verify on copy
"RTN","ORWDXM1",63,0)
 E  S LST(0)=+$P($G(^ORD(101.41,ORIT,5)),U,8)_U_ORIT
"RTN","ORWDXM1",64,0)
 S TEMPCAT=$S($L($P($G(^DPT(+ORVP,.1)),U)):"I",1:"O")
"RTN","ORWDXM1",65,0)
 I TEMPCAT="I",+$P(FLDS,U,4)=1,$E(TEMPORIT)="C",$P($G(^ORD(100.98,$P($G(^OR(100,+ORIT,0)),U,11),0)),U)="OUTPATIENT MEDICATIONS" S TEMPCAT="O"
"RTN","ORWDXM1",66,0)
 I $L($G(OREVNTYP)) D
"RTN","ORWDXM1",67,0)
 . S ORCAT=$S(OREVNTYP="A":"I",OREVNTYP="T":"I",OREVNTYP="O":TEMPCAT,OREVNTYP="M":TEMPCAT,OREVNTYP="C":TEMPCAT,1:"O") I $G(OREVENT) D
"RTN","ORWDXM1",68,0)
 .. N X S X=$$EVT^OREVNTX(OREVENT),X=$P($G(^ORD(100.5,+X,0)),U,7)
"RTN","ORWDXM1",69,0)
 .. I OREVNTYP="T",X,X<4 S ORCAT="O" ;To pass=outpt
"RTN","ORWDXM1",70,0)
 .. I OREVNTYP="D",X=41 S ORCAT="I" ;From ASIH=inpt
"RTN","ORWDXM1",71,0)
 E  S ORCAT=TEMPCAT
"RTN","ORWDXM1",72,0)
 D SETUP^ORWDXM4 Q:+LST(0)=8
"RTN","ORWDXM1",73,0)
 S X="OR GTX START DATE"_$S($G(ORWP94):"/TIME",1:"")
"RTN","ORWDXM1",74,0)
 I ORWMODE,(ORDG=+$O(^ORD(100.98,"B","O RX",0))) D  ;remove old values
"RTN","ORWDXM1",75,0)
 . K ORDIALOG($$PTR^ORCD(X),1)
"RTN","ORWDXM1",76,0)
 . I ORWMODE=2,$$DRAFT^ORWDX2(ORIT) Q  ;keep comments
"RTN","ORWDXM1",77,0)
 . K:ISXFER'["T" ORDIALOG($$PTR^ORCD("OR GTX WORD PROCESSING 1"),1)
"RTN","ORWDXM1",78,0)
 D SETUPS^ORWDXM4 ;moved to save space, expects X
"RTN","ORWDXM1",79,0)
 Q:+LST(0)=8
"RTN","ORWDXM1",80,0)
 I $G(ORQUIT) S LST(0)="0^0^"_$$DLGINFO^ORWDXM3(ORIT,ORWMODE_ISXFER)_"^"_$G(KEYVAR) Q
"RTN","ORWDXM1",81,0)
 N SEQ,DA,XCODE,MUSTASK,PROMPT,INST,KEY,IVFID
"RTN","ORWDXM1",82,0)
 S IVFID=$O(^ORD(101.41,"B","PSJI OR PAT FLUID OE",0))
"RTN","ORWDXM1",83,0)
 S AUTOACK=$S($D(ORWPSWRG):0,1:1)
"RTN","ORWDXM1",84,0)
 ; If copying, clear bad dates. Later, SETITEM will fill dates with default values. ;DJE-VM *331
"RTN","ORWDXM1",85,0)
 I ORWMODE=1 D  ;
"RTN","ORWDXM1",86,0)
 . I $L($$VAL^ORCD("START DATE")) D  ;
"RTN","ORWDXM1",87,0)
 . . S X=$$VAL^ORCD("START DATE"),%DT="TX" D ^%DT
"RTN","ORWDXM1",88,0)
 . . I Y'<$$DT^XLFDT,(($L($$VAL^ORCD("STOP DATE"))=0)!('$$FTDCOMP^ORCD("START DATE","STOP DATE",">"))) Q  ;quit if valid dates: start not in the past or stop after start
"RTN","ORWDXM1",89,0)
 . . K ORDIALOG($$PTR("START DATE"),1),ORDIALOG($$PTR("START DATE/TIME"),1) ;erase bad start and stop dates.
"RTN","ORWDXM1",90,0)
 . . K ORDIALOG($$PTR("STOP DATE"),1),ORDIALOG($$PTR("STOP DATE/TIME"),1)
"RTN","ORWDXM1",91,0)
 . ; check start and stop dates found in diet orders
"RTN","ORWDXM1",92,0)
 . I $L($$VAL^ORCD("EFFECTIVE DATE/TIME")) D  ;
"RTN","ORWDXM1",93,0)
 . . S X=$$VAL^ORCD("EFFECTIVE DATE/TIME"),%DT="TX" D ^%DT
"RTN","ORWDXM1",94,0)
 . . I Y'<$$DT^XLFDT,(($L($$VAL^ORCD("EXPIRATION DATE/TIME"))=0)!('$$FTDCOMP^ORCD("EFFECTIVE DATE/TIME","EXPIRATION DATE/TIME",">"))) Q  ;quit if valid dates: start not in the past or stop after start
"RTN","ORWDXM1",95,0)
 . . K ORDIALOG($P(ORDIALOG("B","EFFECTIVE DATE/TIME"),U,2),1) ;erase bad start and stop dates.
"RTN","ORWDXM1",96,0)
 . . K ORDIALOG($P(ORDIALOG("B","EXPIRATION DATE/TIME"),U,2),1)
"RTN","ORWDXM1",97,0)
 . ; check date desired field found in imaging orders
"RTN","ORWDXM1",98,0)
 . I $L($$VAL^ORCD("DATE DESIRED")) D  ;
"RTN","ORWDXM1",99,0)
 . . S X=$$VAL^ORCD("DATE DESIRED"),%DT="TX" D ^%DT
"RTN","ORWDXM1",100,0)
 . . I Y'<$$DT^XLFDT Q  ;quit if not a past date
"RTN","ORWDXM1",101,0)
 . . K ORDIALOG($P(ORDIALOG("B","DATE DESIRED"),U,2),1) ;erase bad date
"RTN","ORWDXM1",102,0)
 . ; check collection date field found in lab orders
"RTN","ORWDXM1",103,0)
 . I $L($$VAL^ORCD("COLLECTION DATE/TIME")) D  ;
"RTN","ORWDXM1",104,0)
 . . S X=$$VAL^ORCD("COLLECTION DATE/TIME")
"RTN","ORWDXM1",105,0)
 . . I X="NEXT" Q  ;No need to check this.
"RTN","ORWDXM1",106,0)
 . . S %DT="TX" D ^%DT
"RTN","ORWDXM1",107,0)
 . . I $P(Y,".",2),Y'<$E($$NOW^XLFDT,1,12) Q  ;quit if not a past date and time (lab is more precise than other dates)
"RTN","ORWDXM1",108,0)
 . . I $P(Y,".",2)="",Y'<$$DT^XLFDT Q  ;
"RTN","ORWDXM1",109,0)
 . . K ORDIALOG($P(ORDIALOG("B","COLLECTION DATE/TIME"),U,2),1) ;erase bad date
"RTN","ORWDXM1",110,0)
 S SEQ=0 F  S SEQ=$O(^ORD(101.41,+ORDIALOG,10,"B",SEQ)) Q:'SEQ  D
"RTN","ORWDXM1",111,0)
 . S DA=0 F  S DA=$O(^ORD(101.41,+ORDIALOG,10,"B",SEQ,DA)) Q:'DA  D
"RTN","ORWDXM1",112,0)
 . . ; skip if child prmpt
"RTN","ORWDXM1",113,0)
 . . I $P(^ORD(101.41,+ORDIALOG,10,DA,0),U,11) Q
"RTN","ORWDXM1",114,0)
 . . ; set dflt for prmpt, chk if interactive
"RTN","ORWDXM1",115,0)
 . . S PROMPT=$P(^ORD(101.41,+ORDIALOG,10,DA,0),U,2)
"RTN","ORWDXM1",116,0)
 . . D SETITEM(DA,PROMPT,1,.MUSTASK)
"RTN","ORWDXM1",117,0)
 . . I MUSTASK S AUTOACK=0 Q
"RTN","ORWDXM1",118,0)
 . . ; iterate through child items if parent & edit only
"RTN","ORWDXM1",119,0)
 . . Q:'$D(^ORD(101.41,+ORDIALOG,10,"DAD",PROMPT))
"RTN","ORWDXM1",120,0)
 . . N CSEQ,CDA,CPROMPT,INST,ORQUIT
"RTN","ORWDXM1",121,0)
 . . S CSEQ=0 F  S CSEQ=$O(^ORD(101.41,+ORDIALOG,10,"DAD",PROMPT,CSEQ)) Q:'CSEQ  D  Q:$G(ORQUIT)
"RTN","ORWDXM1",122,0)
 . . . S CDA=$O(^ORD(101.41,+ORDIALOG,10,"DAD",PROMPT,CSEQ,0))
"RTN","ORWDXM1",123,0)
 . . . S CPROMPT=$P(^ORD(101.41,+ORDIALOG,10,CDA,0),U,2)
"RTN","ORWDXM1",124,0)
 . . . ; if req & no instances then need interaction
"RTN","ORWDXM1",125,0)
 . . . I $P(^ORD(101.41,+ORDIALOG,10,CDA,0),U,6),ORDIALOG'=IVFID,'$O(ORDIALOG(CPROMPT,0)) S AUTOACK=0
"RTN","ORWDXM1",126,0)
 . . . S INST=0 F  S INST=$O(ORDIALOG(CPROMPT,INST)) Q:'INST  D
"RTN","ORWDXM1",127,0)
 . . . . N ORASK D VBASK^ORWDXM4(INST) ; set ORASK for VBECS
"RTN","ORWDXM1",128,0)
 . . . . ; set dflt for each child prmpt
"RTN","ORWDXM1",129,0)
 . . . . D SETITEM(CDA,CPROMPT,INST,.MUSTASK)
"RTN","ORWDXM1",130,0)
 . . . . ; if no val & child prmpt req'd then need interaction
"RTN","ORWDXM1",131,0)
 . . . . I MUSTASK,$P(^ORD(101.41,+ORDIALOG,10,CDA,0),U,6) S AUTOACK=0
"RTN","ORWDXM1",132,0)
 N IVDLG
"RTN","ORWDXM1",133,0)
 S IVDLG=$O(^ORD(101.41,"AB","PSJI OR PAT FLUID OE",0))
"RTN","ORWDXM1",134,0)
 I $$ISMED(ORIT),(ORDIALOG'=IVDLG),(ORCAT="I") D
"RTN","ORWDXM1",135,0)
 . F P="PATIENT INSTRUCTIONS","DAYS SUPPLY","QUANTITY","REFILLS","ROUTING","SERVICE CONNECTED" K ORDIALOG($$PTR(P),1)
"RTN","ORWDXM1",136,0)
 . I '$$ISQO(ORIT) K ORDIALOG($$PTR("START DATE/TIME"),1) ; kill if not a non-VA med quick order. p388
"RTN","ORWDXM1",137,0)
 S KEY=$S(ORWMODE:"C",1:"")_ORIT_"-"_$P($H,",",2),SEQ=0
"RTN","ORWDXM1",138,0)
 I $$ISINPMED(ORIT) D
"RTN","ORWDXM1",139,0)
 .S LEVEL=$P(LST(0),U),DELAY=$S($P($G(OREVENT),";")>0:1,1:0)
"RTN","ORWDXM1",140,0)
 .I LEVEL=2!(ISIMO) D ADMTIME^ORWDXM2(ORDLOC,PATLOC,ENCLOC,DELAY,ISIMO)
"RTN","ORWDXM1",141,0)
 I ($$ISMED(ORIT)),'($$VALQO^ORWDXM3(ORIT)) S AUTOACK=0
"RTN","ORWDXM1",142,0)
 S PROMPT=0 F  S PROMPT=$O(ORDIALOG(PROMPT)) Q:'PROMPT  D
"RTN","ORWDXM1",143,0)
 . I '$D(^ORD(101.41,ORDIALOG,10,"D",PROMPT)) K ORDIALOG(PROMPT) Q
"RTN","ORWDXM1",144,0)
 . S INST=0 F  S INST=$O(ORDIALOG(PROMPT,INST)) Q:'INST  D
"RTN","ORWDXM1",145,0)
 . . S SEQ=SEQ+1,^TMP("ORWDXMQ",$J,KEY,SEQ,0)=U_PROMPT_U_INST
"RTN","ORWDXM1",146,0)
 . . ; save word proc val
"RTN","ORWDXM1",147,0)
 . . I $E(ORDIALOG(PROMPT,0))="W",$L(ORDIALOG(PROMPT,INST)) D
"RTN","ORWDXM1",148,0)
 . . . M ^TMP("ORWDXMQ",$J,KEY,SEQ,2)=@ORDIALOG(PROMPT,INST)
"RTN","ORWDXM1",149,0)
 . . ; save other val types
"RTN","ORWDXM1",150,0)
 . . E  S ^TMP("ORWDXMQ",$J,KEY,SEQ,1)=ORDIALOG(PROMPT,INST)
"RTN","ORWDXM1",151,0)
 I AUTOACK D
"RTN","ORWDXM1",152,0)
 . I ORWMODE S AUTOACK=2
"RTN","ORWDXM1",153,0)
 . I 'ORWMODE,($P(^ORD(101.41,ORIT,0),U,8)!'LST(0)) S AUTOACK=2
"RTN","ORWDXM1",154,0)
 ;I ($$ISMED(ORIT)),'($$VALQO^ORWDXM3(ORIT)) S AUTOACK=0
"RTN","ORWDXM1",155,0)
 I ORIMO,ORWMODE S AUTOACK=2
"RTN","ORWDXM1",156,0)
 ; accept Herbal/OTC/NonVA Med quick orders
"RTN","ORWDXM1",157,0)
 I $L($G(^ORD(101.41,+ORIT,0))),($P(^ORD(100.98,$P(^ORD(101.41,+ORIT,0),U,5),0),U,3)="NV RX"),($P($G(^ORD(101.41,+ORIT,5)),U,8)) S AUTOACK=1
"RTN","ORWDXM1",158,0)
 ;I AUTOACK=2,$$ISMED(ORIT),(ORDIALOG=IVDLG),$$VERORD^ORWDXM3=0 S AUTOACK=0
"RTN","ORWDXM1",159,0)
 I AUTOACK=2,$$ISMED(ORIT),$$VERORD^ORWDXM3(ORIT)=0 S AUTOACK=0
"RTN","ORWDXM1",160,0)
 I AUTOACK=2 D VERTXT^ORWDXM2
"RTN","ORWDXM1",161,0)
 S LST(0)=AUTOACK_U_KEY_U_$$DLGINFO^ORWDXM3(ORIT,ORWMODE_ISXFER)_"^"_$G(KEYVAR)
"RTN","ORWDXM1",162,0)
 I $P(LST(0),U,4)="D" S $P(LST(0),U,4)="Q"
"RTN","ORWDXM1",163,0)
 I ORWMODE=1 S $P(LST(0),U,4)="C"
"RTN","ORWDXM1",164,0)
 K ^TMP("ORWORD",$J)
"RTN","ORWDXM1",165,0)
 K ^TMP("PSJINS",$J),^TMP("PSJMR",$J),^TMP("PSJNOUN",$J)
"RTN","ORWDXM1",166,0)
 Q
"RTN","ORWDXM1",167,0)
SETITEM(DA,PROMPT,INST,MUSTASK) ; set dflt val & return if must prompt
"RTN","ORWDXM1",168,0)
 N EDITONLY,Y,VALIV,XCODE
"RTN","ORWDXM1",169,0)
 S MUSTASK=0,EDITONLY=0,VALIV=0
"RTN","ORWDXM1",170,0)
 I $D(^TMP("ORWDHTM",$J,ORDIALOG,PROMPT)) D
"RTN","ORWDXM1",171,0)
 . I $E(ORDIALOG(PROMPT,0))="W" D
"RTN","ORWDXM1",172,0)
 . . S ^TMP("ORWORD",$J,PROMPT,INST,1,0)=^TMP("ORWDHTM",$J,ORDIALOG,PROMPT)
"RTN","ORWDXM1",173,0)
 . . S ORDIALOG(PROMPT,INST)="^TMP(""ORWORD"","_$J_","_PROMPT_","_INST_")"
"RTN","ORWDXM1",174,0)
 . E  S ORDIALOG(PROMPT,INST)=^TMP("ORWDHTM",$J,ORDIALOG,PROMPT)
"RTN","ORWDXM1",175,0)
 I $D(^TMP("ORWDHTM",$J,ORIT,PROMPT)) D
"RTN","ORWDXM1",176,0)
 . S ORDIALOG(PROMPT,INST)=^TMP("ORWDHTM",$J,ORIT,PROMPT)
"RTN","ORWDXM1",177,0)
 . ; NEED TO CLEAN UP ^TMP("ORWDHTM") after process order set!!!
"RTN","ORWDXM1",178,0)
 ;
"RTN","ORWDXM1",179,0)
 ; skip if a value already exists for this prompt and not WP
"RTN","ORWDXM1",180,0)
 Q:$D(ORDIALOG(PROMPT,INST))&($E(ORDIALOG(PROMPT,0))'="W")
"RTN","ORWDXM1",181,0)
 ; execute default action if no value in QO, checking EDITONLY afterwards
"RTN","ORWDXM1",182,0)
 I '$D(ORDIALOG(PROMPT,INST)) D
"RTN","ORWDXM1",183,0)
 . ;
"RTN","ORWDXM1",184,0)
 . ;Intermittent IV orders do not require a solution or an infusion rate
"RTN","ORWDXM1",185,0)
 . I PROMPT=$$PTR("INFUSION RATE"),$$GETIVTYP^ORWDXM3="I" S VALIV=1 Q
"RTN","ORWDXM1",186,0)
 . I PROMPT=$$PTR("ORDERABLE ITEM"),$$GETIVTYP^ORWDXM3="I" S VALIV=1 Q
"RTN","ORWDXM1",187,0)
 . I $E(ORDIALOG(PROMPT,0))="W",$D(^ORD(101.41,+ORDIALOG,10,DA,8))>9 D
"RTN","ORWDXM1",188,0)
 . . M ^TMP("ORWORD",$J,PROMPT,INST)=^ORD(101.41,+ORDIALOG,10,DA,8)
"RTN","ORWDXM1",189,0)
 . . S ORDIALOG(PROMPT,INST)="^TMP(""ORWORD"","_$J_","_PROMPT_","_INST_")"
"RTN","ORWDXM1",190,0)
 . E  D
"RTN","ORWDXM1",191,0)
 . . S XCODE=$$SUBCODE($G(^ORD(101.41,+ORDIALOG,10,DA,7)))
"RTN","ORWDXM1",192,0)
 . . I $L(XCODE) X XCODE S:$D(Y) ORDIALOG(PROMPT,INST)=Y
"RTN","ORWDXM1",193,0)
 Q:VALIV=1
"RTN","ORWDXM1",194,0)
 Q:$G(EDITONLY)
"RTN","ORWDXM1",195,0)
 I 'ORWMODE,$P($G(^ORD(101.41,+ORDIALOG,10,DA,0)),U,8) Q
"RTN","ORWDXM1",196,0)
 I ORWMODE,($P($G(^ORD(101.41,+ORDIALOG,10,DA,0)),U,9)'["W"),'$P($G(^ORD(101.41,+ORDIALOG,10,DA,0)),U,6)!$D(ORDIALOG(PROMPT,INST)) Q
"RTN","ORWDXM1",197,0)
 I 'ORWMODE,LST(0),$D(ORDIALOG(PROMPT,INST)),($E(ORDIALOG(PROMPT,0))="W") Q
"RTN","ORWDXM1",198,0)
 I 'ORWMODE,LST(0),'$P($G(^ORD(101.41,+ORDIALOG,10,DA,0)),U,6) Q
"RTN","ORWDXM1",199,0)
 S XCODE=$$SUBCODE($G(^ORD(101.41,+ORDIALOG,10,DA,3)))
"RTN","ORWDXM1",200,0)
 I $L(XCODE) X XCODE Q:'$T
"RTN","ORWDXM1",201,0)
 S MUSTASK=1
"RTN","ORWDXM1",202,0)
 Q
"RTN","ORWDXM1",203,0)
SUBCODE(X) ; substitute code
"RTN","ORWDXM1",204,0)
 I X["$$REQDCOMM^ORCDLR" Q "I $$LRRQCM^ORWDXM2"
"RTN","ORWDXM1",205,0)
 I X["$$ASKSAMP^ORCDLR" Q "I $$LRASMP^ORWDXM2"
"RTN","ORWDXM1",206,0)
 I X["$$SCHEDULD^ORCDRA1" Q "I $$SCHEDULD^ORWDXM2"
"RTN","ORWDXM1",207,0)
 I X["(^PSX(550,""C"")" Q "S Y=$E($$DEFPICK^ORWDPS32) K:'$L(Y) Y"
"RTN","ORWDXM1",208,0)
 I X["I $$ASKURG^ORCDVBEC" Q "I 1"
"RTN","ORWDXM1",209,0)
 I X["K:$G(ORASK)" Q "I $G(ORASK)"
"RTN","ORWDXM1",210,0)
 Q X
"RTN","ORWDXM1",211,0)
PTR(NAME) ; -- Returns pointer to OR GTX NAME
"RTN","ORWDXM1",212,0)
 Q +$O(^ORD(101.41,"AB",$E("OR GTX "_NAME,1,63),0))
"RTN","ORWDXM1",213,0)
 ;
"RTN","ORWDXM1",214,0)
ISINPMED(IFN) ;
"RTN","ORWDXM1",215,0)
 N PKG,RESULT,Y
"RTN","ORWDXM1",216,0)
 I 'ORWMODE S PKG=$P($G(^ORD(101.41,IFN,0)),U,7)
"RTN","ORWDXM1",217,0)
 E  S PKG=$P($G(^OR(100,+IFN,0)),U,14)
"RTN","ORWDXM1",218,0)
 S Y=$$GET1^DIQ(9.4,+PKG_",",1)
"RTN","ORWDXM1",219,0)
 S RESULT=$S($E(Y,1,3)="PSJ":1,1:0)
"RTN","ORWDXM1",220,0)
 Q RESULT
"RTN","ORWDXM1",221,0)
 ;
"RTN","ORWDXM1",222,0)
ISMED(IFN) ; return 1 if pharmacy order dlg used
"RTN","ORWDXM1",223,0)
 N PKG
"RTN","ORWDXM1",224,0)
 I 'ORWMODE S PKG=$P($G(^ORD(101.41,IFN,0)),U,7)
"RTN","ORWDXM1",225,0)
 E  S PKG=$P($G(^OR(100,+IFN,0)),U,14)
"RTN","ORWDXM1",226,0)
 Q $$NMSP^ORCD(PKG)="PS"
"RTN","ORWDXM1",227,0)
SITEVAL() ;return 1 if site does want the reason for study to carry through from past orders of this ordering session
"RTN","ORWDXM1",228,0)
 I $$GET^XPAR("ALL^SRV.`"_+^VA(200,DUZ,5),"OR RA RFS CARRY ON")=0 Q 0
"RTN","ORWDXM1",229,0)
 Q 1
"RTN","ORWDXM1",230,0)
SVRPC(RET,X) ;RPC FOR SITEVAL
"RTN","ORWDXM1",231,0)
 S RET=$$SITEVAL
"RTN","ORWDXM1",232,0)
 Q
"RTN","ORWDXM1",233,0)
ISQO(IFN) ;return 1 if a non-VA medication quick order type of order dialog. p388
"RTN","ORWDXM1",234,0)
 I $P($G(^ORD(101.41,IFN,0)),U,5)'=$O(^ORD(100.98,"B","NV RX",0)) Q 0
"RTN","ORWDXM1",235,0)
 I $P($G(^ORD(101.41,IFN,0)),U,4)="Q" Q 1
"RTN","ORWDXM1",236,0)
 Q 0
"VER")
8.0^22.0
"^DD",100.6,100.6,2,0)
TYPE OF EVENT^RS^A:ADMISSION;T:TRANSFER;D:DISCHARGE;S:SPECIALTY TRANSFER;O:O.R.;^0;2^Q
"^DD",100.6,100.6,2,3)
Enter the type of event that should trigger orders to be auto-dc'd.
"^DD",100.6,100.6,2,21,0)
^^3^3^3140206^
"^DD",100.6,100.6,2,21,1,0)
This is the event that should cause orders to be automatically 
"^DD",100.6,100.6,2,21,2,0)
discontinued; for OR events, the orders will be discontinued when the
"^DD",100.6,100.6,2,21,3,0)
TIME PAT IN OR field is entered in the Surgery package.
"^DD",100.6,100.6,2,"DT")
3140206
"BLD",9622,6)
^339
**END**
**END**

