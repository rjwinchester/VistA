KIDS Distribution saved on Aug 17, 2016@14:24:48
OR 3.0 423 V75B BUILD
**KIDS**:OR*3.0*423^

**INSTALL NAME**
OR*3.0*423
"BLD",9417,0)
OR*3.0*423^ORDER ENTRY/RESULTS REPORTING^0^3160817^y
"BLD",9417,1,0)
^9.61A^1^1^3151124^^^^
"BLD",9417,1,1,0)
The description of this patch can be found in the National Patch Module.
"BLD",9417,4,0)
^9.64PA^101.41^1
"BLD",9417,4,101.41,0)
101.41
"BLD",9417,4,101.41,222)
n^n^f^^y^^y^r^n
"BLD",9417,4,101.41,224)
I $$SENDDLG^ORY423($P(^(0),U))
"BLD",9417,4,"B",101.41,101.41)

"BLD",9417,6.3)
19
"BLD",9417,"INIT")
POST^ORY423
"BLD",9417,"KRN",0)
^9.67PA^779.2^20
"BLD",9417,"KRN",.4,0)
.4
"BLD",9417,"KRN",.401,0)
.401
"BLD",9417,"KRN",.402,0)
.402
"BLD",9417,"KRN",.403,0)
.403
"BLD",9417,"KRN",.5,0)
.5
"BLD",9417,"KRN",.84,0)
.84
"BLD",9417,"KRN",3.6,0)
3.6
"BLD",9417,"KRN",3.8,0)
3.8
"BLD",9417,"KRN",9.2,0)
9.2
"BLD",9417,"KRN",9.8,0)
9.8
"BLD",9417,"KRN",9.8,"NM",0)
^9.68A^32^28
"BLD",9417,"KRN",9.8,"NM",1,0)
ORWPCE4^^0^B23255140
"BLD",9417,"KRN",9.8,"NM",3,0)
ORCMEDT9^^0^B52002206
"BLD",9417,"KRN",9.8,"NM",4,0)
ORY423^^0^B29308775
"BLD",9417,"KRN",9.8,"NM",5,0)
ORDV02B^^0^B32191615
"BLD",9417,"KRN",9.8,"NM",6,0)
ORDV02C^^0^B17644720
"BLD",9417,"KRN",9.8,"NM",7,0)
ORCXPND1^^0^B99799009
"BLD",9417,"KRN",9.8,"NM",8,0)
ORSPUTIL^^0^B5339128
"BLD",9417,"KRN",9.8,"NM",9,0)
ORY42301^^0^B71295993
"BLD",9417,"KRN",9.8,"NM",10,0)
ORY42302^^0^B78839911
"BLD",9417,"KRN",9.8,"NM",11,0)
ORY42303^^0^B82195528
"BLD",9417,"KRN",9.8,"NM",12,0)
ORY42304^^0^B57396163
"BLD",9417,"KRN",9.8,"NM",13,0)
ORY42305^^0^B65132619
"BLD",9417,"KRN",9.8,"NM",14,0)
ORY42306^^0^B64186028
"BLD",9417,"KRN",9.8,"NM",15,0)
ORY42307^^0^B43427611
"BLD",9417,"KRN",9.8,"NM",18,0)
ORY423ES^^0^B12635175
"BLD",9417,"KRN",9.8,"NM",19,0)
ORY4231^^0^B40549530
"BLD",9417,"KRN",9.8,"NM",20,0)
ORY4232^^0^B26766770
"BLD",9417,"KRN",9.8,"NM",21,0)
ORY4233^^0^B12996402
"BLD",9417,"KRN",9.8,"NM",22,0)
ORY4234^^0^B13526302
"BLD",9417,"KRN",9.8,"NM",23,0)
ORY4230^^0^B15650295
"BLD",9417,"KRN",9.8,"NM",24,0)
ORCSAVE^^0^B99645257
"BLD",9417,"KRN",9.8,"NM",25,0)
ORY423A^^0^B9027788
"BLD",9417,"KRN",9.8,"NM",26,0)
ORDV02D^^0^B33524231
"BLD",9417,"KRN",9.8,"NM",27,0)
ORQOR2^^0^B16133259
"BLD",9417,"KRN",9.8,"NM",28,0)
ORB3F1^^0^B26395205
"BLD",9417,"KRN",9.8,"NM",29,0)
ORWDXM1^^0^B106857204
"BLD",9417,"KRN",9.8,"NM",31,0)
ORB3SPEC^^0^B95914098
"BLD",9417,"KRN",9.8,"NM",32,0)
ORWOR2^^0^B33533980
"BLD",9417,"KRN",9.8,"NM","B","ORB3F1",28)

"BLD",9417,"KRN",9.8,"NM","B","ORB3SPEC",31)

"BLD",9417,"KRN",9.8,"NM","B","ORCMEDT9",3)

"BLD",9417,"KRN",9.8,"NM","B","ORCSAVE",24)

"BLD",9417,"KRN",9.8,"NM","B","ORCXPND1",7)

"BLD",9417,"KRN",9.8,"NM","B","ORDV02B",5)

"BLD",9417,"KRN",9.8,"NM","B","ORDV02C",6)

"BLD",9417,"KRN",9.8,"NM","B","ORDV02D",26)

"BLD",9417,"KRN",9.8,"NM","B","ORQOR2",27)

"BLD",9417,"KRN",9.8,"NM","B","ORSPUTIL",8)

"BLD",9417,"KRN",9.8,"NM","B","ORWDXM1",29)

"BLD",9417,"KRN",9.8,"NM","B","ORWOR2",32)

"BLD",9417,"KRN",9.8,"NM","B","ORWPCE4",1)

"BLD",9417,"KRN",9.8,"NM","B","ORY423",4)

"BLD",9417,"KRN",9.8,"NM","B","ORY4230",23)

"BLD",9417,"KRN",9.8,"NM","B","ORY42301",9)

"BLD",9417,"KRN",9.8,"NM","B","ORY42302",10)

"BLD",9417,"KRN",9.8,"NM","B","ORY42303",11)

"BLD",9417,"KRN",9.8,"NM","B","ORY42304",12)

"BLD",9417,"KRN",9.8,"NM","B","ORY42305",13)

"BLD",9417,"KRN",9.8,"NM","B","ORY42306",14)

"BLD",9417,"KRN",9.8,"NM","B","ORY42307",15)

"BLD",9417,"KRN",9.8,"NM","B","ORY4231",19)

"BLD",9417,"KRN",9.8,"NM","B","ORY4232",20)

"BLD",9417,"KRN",9.8,"NM","B","ORY4233",21)

"BLD",9417,"KRN",9.8,"NM","B","ORY4234",22)

"BLD",9417,"KRN",9.8,"NM","B","ORY423A",25)

"BLD",9417,"KRN",9.8,"NM","B","ORY423ES",18)

"BLD",9417,"KRN",19,0)
19
"BLD",9417,"KRN",19,"NM",0)
^9.68A^8^6
"BLD",9417,"KRN",19,"NM",3,0)
ORCM MGMT^^3
"BLD",9417,"KRN",19,"NM",4,0)
OR SUPPLY UTIL MENU^^0
"BLD",9417,"KRN",19,"NM",5,0)
OR SUPPLY NF CONVERSION^^0
"BLD",9417,"KRN",19,"NM",6,0)
OR SUPPLY OP CONVERSION^^0
"BLD",9417,"KRN",19,"NM",7,0)
OR CONV INPT QO TO CLIN ORD QO^^0
"BLD",9417,"KRN",19,"NM",8,0)
OR CPRS GUI CHART^^0
"BLD",9417,"KRN",19,"NM","B","OR CONV INPT QO TO CLIN ORD QO",7)

"BLD",9417,"KRN",19,"NM","B","OR CPRS GUI CHART",8)

"BLD",9417,"KRN",19,"NM","B","OR SUPPLY NF CONVERSION",5)

"BLD",9417,"KRN",19,"NM","B","OR SUPPLY OP CONVERSION",6)

"BLD",9417,"KRN",19,"NM","B","OR SUPPLY UTIL MENU",4)

"BLD",9417,"KRN",19,"NM","B","ORCM MGMT",3)

"BLD",9417,"KRN",19.1,0)
19.1
"BLD",9417,"KRN",101,0)
101
"BLD",9417,"KRN",409.61,0)
409.61
"BLD",9417,"KRN",771,0)
771
"BLD",9417,"KRN",779.2,0)
779.2
"BLD",9417,"KRN",870,0)
870
"BLD",9417,"KRN",8989.51,0)
8989.51
"BLD",9417,"KRN",8989.52,0)
8989.52
"BLD",9417,"KRN",8994,0)
8994
"BLD",9417,"KRN","B",.4,.4)

"BLD",9417,"KRN","B",.401,.401)

"BLD",9417,"KRN","B",.402,.402)

"BLD",9417,"KRN","B",.403,.403)

"BLD",9417,"KRN","B",.5,.5)

"BLD",9417,"KRN","B",.84,.84)

"BLD",9417,"KRN","B",3.6,3.6)

"BLD",9417,"KRN","B",3.8,3.8)

"BLD",9417,"KRN","B",9.2,9.2)

"BLD",9417,"KRN","B",9.8,9.8)

"BLD",9417,"KRN","B",19,19)

"BLD",9417,"KRN","B",19.1,19.1)

"BLD",9417,"KRN","B",101,101)

"BLD",9417,"KRN","B",409.61,409.61)

"BLD",9417,"KRN","B",771,771)

"BLD",9417,"KRN","B",779.2,779.2)

"BLD",9417,"KRN","B",870,870)

"BLD",9417,"KRN","B",8989.51,8989.51)

"BLD",9417,"KRN","B",8989.52,8989.52)

"BLD",9417,"KRN","B",8994,8994)

"BLD",9417,"PRE")
ORY423E
"BLD",9417,"QUES",0)
^9.62^^
"BLD",9417,"REQB",0)
^9.611^4^4
"BLD",9417,"REQB",1,0)
OR*3.0*350^2
"BLD",9417,"REQB",2,0)
OR*3.0*389^2
"BLD",9417,"REQB",3,0)
OR*3.0*269^2
"BLD",9417,"REQB",4,0)
OR*3.0*348^2
"BLD",9417,"REQB","B","OR*3.0*269",3)

"BLD",9417,"REQB","B","OR*3.0*348",4)

"BLD",9417,"REQB","B","OR*3.0*350",1)

"BLD",9417,"REQB","B","OR*3.0*389",2)

"DATA",101.41,51,0)
GMRCOR CONSULT^Consult^^D^11^2^294^1^1
"DATA",101.41,51,3)
D GETSERV^ORCDGMRC
"DATA",101.41,51,3.1)
D GETSERV^ORCDGMRC
"DATA",101.41,51,4)
K ORSERV,ORPDX,GMRCNOPD,GMRCNOAT,GMRCREAF,^TMP("GMRCS",$J),^TMP("GMRCSLIST",$J)
"DATA",101.41,51,5)
^^^Consult^110
"DATA",101.41,51,10,0)
^101.412IA^10^10
"DATA",101.41,51,10,1,0)
1^4^^Consult to Service/Specialty: ^^1^^^^S.CSLT
"DATA",101.41,51,10,1,1)
Select the service/specialty consultation you wish to request for this patient.
"DATA",101.41,51,10,1,2)
2^^^^Cons
"DATA",101.41,51,10,1,3)
I $G(ORTYPE)'="Q",'$D(OREDIT),'$G(OREWRITE)
"DATA",101.41,51,10,1,4)
I $$ACTIVE^ORDD43(Y),$D(^TMP("GMRCS",$J,+$P(^(0),U,2)))
"DATA",101.41,51,10,1,5)
I $G(ORESET)'=+Y D CKSERV^ORCDGMRC K GMRCREAF
"DATA",101.41,51,10,1,6)
D LISTSERV^ORCDGMRC(1)
"DATA",101.41,51,10,1,10)
N OI S OI=+$G(ORDIALOG(PROMPT,INST)),ORSERV=+$P($G(^ORD(101.43,OI,0)),U,2) D:ORSERV SERVMSG^ORCDGMRC
"DATA",101.41,51,10,1,"W")
cboService
"DATA",101.41,51,10,2,0)
2^15^^Reason for Request: ^^1
"DATA",101.41,51,10,2,1)
Enter a brief description of why this consult is being requested.
"DATA",101.41,51,10,2,3)
I $G(ORTYPE)="Z"!'$G(GMRCREAF)!($G(GMRCREAF)=1&'FIRST)
"DATA",101.41,51,10,2,7)
D REASON^ORCDGMRC
"DATA",101.41,51,10,2,9)
S:'$D(GMRCREAF) GMRCREAF=$$REAF^GMRCDRFR(+$G(ORSERV))
"DATA",101.41,51,10,2,"W")
memReason
"DATA",101.41,51,10,3,0)
3^10^^^^1
"DATA",101.41,51,10,3,1)
Enter if the service rendered will be on an inpatient or outpatient basis.
"DATA",101.41,51,10,3,5)
I $G(ORESET)'="",ORESET'=$P(Y,U) D CHANGED^ORCDGMRC("CAT")
"DATA",101.41,51,10,3,6)
D SETLIST^ORCD
"DATA",101.41,51,10,3,7)
S:$G(ORTYPE)'="Z" Y=$S($$INPT^ORCD:"I",1:"O")
"DATA",101.41,51,10,3,9)
S ORDIALOG(PROMPT,0)=$P(ORDIALOG(PROMPT,0),";",1,2) ;I or O only
"DATA",101.41,51,10,3,"W")
refCategory
"DATA",101.41,51,10,4,0)
4^7^^^^1^^^^S.GMRCT
"DATA",101.41,51,10,4,1)
Select the urgency indicating how quickly results from this consult are needed.
"DATA",101.41,51,10,4,2)
4^^ROUTINE
"DATA",101.41,51,10,4,7)
S Y=9
"DATA",101.41,51,10,4,9)
D URGENCY^ORCDGMRC("C")
"DATA",101.41,51,10,4,"W")
cboUrgency
"DATA",101.41,51,10,5,0)
5^140^^^^1
"DATA",101.41,51,10,5,1)
Select the preferred place to see the patient for this consult.
"DATA",101.41,51,10,5,2)
3
"DATA",101.41,51,10,5,6)
D LIST^ORCD
"DATA",101.41,51,10,5,7)
S:$G(ORTYPE)'="Z" Y=$S($$VAL^ORCD("CATEGORY")="I":"B",1:"C")
"DATA",101.41,51,10,5,9)
D PLACE^ORCDGMRC
"DATA",101.41,51,10,5,"W")
cboPlace
"DATA",101.41,51,10,6,0)
6^17^^Attention: 
"DATA",101.41,51,10,6,1)
Enter the service/specialty user who is to be notified of this request.
"DATA",101.41,51,10,6,3)
I '$G(GMRCNOAT)
"DATA",101.41,51,10,6,4)
N ORT S ORT=$P(^(0),U,11) I 'ORT!(ORT>DT)
"DATA",101.41,51,10,6,"W")
txtAttn
"DATA",101.41,51,10,7,0)
7^20^^Provisional Diagnosis: ^^
"DATA",101.41,51,10,7,1)
Enter a preliminary diagnosis relating to this request, up to 240 characters.
"DATA",101.41,51,10,7,3)
I '$G(GMRCNOPD)
"DATA",101.41,51,10,7,5)
D LEX^ORCDGMRC
"DATA",101.41,51,10,7,9)
D ENPDX^ORCDGMRC
"DATA",101.41,51,10,7,"W")
txtProvDiag
"DATA",101.41,51,10,8,0)
1.1^178^^Consult Type: 
"DATA",101.41,51,10,8,1)
Enter the type of consult you wish to have done at this service
"DATA",101.41,51,10,8,2)
1
"DATA",101.41,51,10,8,3)
I $G(ORTYPE)="Z"!$D(ORDIALOG(PROMPT,INST)) ;populated by QO only
"DATA",101.41,51,10,9,0)
7.1^173^^^^^^^^^20
"DATA",101.41,51,10,9,3)
I 0 ;stuffed in via Prov Dx
"DATA",101.41,51,10,10,0)
4.5^15820^^Clinically Indicated Date:^^^^^W
"DATA",101.41,51,10,10,1)
Enter the clinically indicated date for this consult to be performed.
"DATA",101.41,51,10,10,3)
Q:'$G(ORSERV)  I $G(^GMR(123.5,ORSERV,"INT"))'=1
"DATA",101.41,51,10,10,5)
Q:$G(ORTYPE)'="Z"  I $G(ORDIALOG(PROMPT,INST))'["T" K DONE W $C(7),!,"Response must be relative date (e.g. TODAY, T+7D, T+3M)"
"DATA",101.41,51,10,10,7)
Q:'$G(ORSERV)  S:$G(^GMR(123.5,ORSERV,"INT"))'=1 Y=$$GET^XPAR("DIV^SYS^PKG","ORCDGMRC CLIN IND DATE DEFAULT",1,"Q")
"DATA",101.41,51,10,10,10)
N X,Y,%DT S X=$G(ORDIALOG(PROMPT,INST)),%DT="X" I $L(X) D ^%DT S:Y>0 ORDATE=$P(Y,".")
"DATA",101.41,51,10,10,"W")
calClinicallyIndicated
"DATA",101.41,51,10,10,"W7")
S Y=$$GET^XPAR("DIV^SYS^PKG","ORCDGMRC CLIN IND DATE DEFAULT",1,"Q")
"DATA",101.41,51,99)
64076,28432
"FIA",101.41)
ORDER DIALOG
"FIA",101.41,0)
^ORD(101.41,
"FIA",101.41,0,0)
101.41I
"FIA",101.41,0,1)
n^n^f^^y^^y^r^n
"FIA",101.41,0,10)

"FIA",101.41,0,11)
I $$SENDDLG^ORY423($P(^(0),U))
"FIA",101.41,0,"RLRO")

"FIA",101.41,0,"VR")
3.0^OR
"FIA",101.41,101.41)
0
"FIA",101.41,101.411)
0
"FIA",101.41,101.412)
0
"FIA",101.41,101.41218)
0
"FIA",101.41,101.415)
0
"FIA",101.41,101.416)
0
"FIA",101.41,101.4162)
0
"FRV1",101.41,"51,0",5)
CONSULTS
"FRV1",101.41,"51,0",5,"F")
;ORD(100.98,
"FRV1",101.41,"51,0",7)
CONSULT/REQUEST TRACKING
"FRV1",101.41,"51,0",7,"F")
;DIC(9.4,
"FRV1",101.41,"51,10,1,0",2)
OR GTX ORDERABLE ITEM
"FRV1",101.41,"51,10,1,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"51,10,10,0",2)
OR GTX CLINICALLY INDICATED DATE
"FRV1",101.41,"51,10,10,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"51,10,2,0",2)
OR GTX WORD PROCESSING 1
"FRV1",101.41,"51,10,2,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"51,10,3,0",2)
OR GTX CATEGORY
"FRV1",101.41,"51,10,3,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"51,10,4,0",2)
OR GTX URGENCY
"FRV1",101.41,"51,10,4,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"51,10,5,0",2)
OR GTX PLACE OF CONSULTATION
"FRV1",101.41,"51,10,5,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"51,10,6,0",2)
OR GTX PROVIDER
"FRV1",101.41,"51,10,6,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"51,10,7,0",2)
OR GTX FREE TEXT
"FRV1",101.41,"51,10,7,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"51,10,8,0",2)
OR GTX FREE TEXT OI
"FRV1",101.41,"51,10,8,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"51,10,9,0",2)
OR GTX CODE
"FRV1",101.41,"51,10,9,0",2,"F")
;ORD(101.41,
"FRV1",101.41,"51,10,9,0",11)
OR GTX FREE TEXT
"FRV1",101.41,"51,10,9,0",11,"F")
;ORD(101.41,
"INIT")
POST^ORY423
"IX",101.41,101.41,"B",0)
101.41^B^Regular B index using full field length^R^^F^IR^I^101.41^^^^^LS
"IX",101.41,101.41,"B",1)
S ^ORD(101.41,"B",$E(X,1,63),DA)=""
"IX",101.41,101.41,"B",2)
K ^ORD(101.41,"B",$E(X,1,63),DA)
"IX",101.41,101.41,"B",2.5)
K ^ORD(101.41,"B")
"IX",101.41,101.41,"B",11.1,0)
^.114IA^1^1
"IX",101.41,101.41,"B",11.1,1,0)
1^F^101.41^.01^63^1^F
"KRN",19,10926,-1)
3^3
"KRN",19,10926,0)
ORCM MGMT^Order Menu Management^^M^^^^^^^^
"KRN",19,10926,1,0)
^19.06^8^8^3160503^^^^
"KRN",19,10926,1,1,0)
Options on this menu can be used for editing and modifying options
"KRN",19,10926,1,2,0)
and menus for CPRS. If your site used OE/RR 2.5, most of your menus,
"KRN",19,10926,1,3,0)
quick orders, and generic orders are converted to CPRS with the
"KRN",19,10926,1,4,0)
installation of CPRS. Order Menu Management options can help you
"KRN",19,10926,1,5,0)
convert protocols that weren't automatically converted, edit or
"KRN",19,10926,1,6,0)
create quick orders and generic orders, create order sets, and
"KRN",19,10926,1,7,0)
assign primary order menus. If your site hasn't used OE/RR 2.5,
"KRN",19,10926,1,8,0)
you must create and assign primary order menus for all of your users.
"KRN",19,10926,10,0)
^19.01IP^21^21
"KRN",19,10926,10,20,0)
14334^CO
"KRN",19,10926,10,20,"^")
OR CONV INPT QO TO CLIN ORD QO
"KRN",19,10926,10,21,0)
14387^SP
"KRN",19,10926,10,21,"^")
OR SUPPLY UTIL MENU
"KRN",19,10926,99)
64041,33896
"KRN",19,10926,99.1)
64147,21608
"KRN",19,10926,"U")
ORDER MENU MANAGEMENT
"KRN",19,10989,-1)
0^8
"KRN",19,10989,0)
OR CPRS GUI CHART^CPRSChart version 1.0.30.75^^B^^^^^^^^
"KRN",19,10989,1,0)
^19.06^2^2^3160728^^^^
"KRN",19,10989,1,1,0)
This option is required by the Kernel Broker to give access to the
"KRN",19,10989,1,2,0)
RPCs used by the CPRS GUI (CPRSChart.EXE).
"KRN",19,10989,99)
60921,44613
"KRN",19,10989,99.1)
63886,47134
"KRN",19,10989,"RPC",0)
^19.05P^2156^2145
"KRN",19,10989,"RPC",1,0)
GMRC LIST CONSULT REQUESTS
"KRN",19,10989,"RPC",218,0)
XWB GET VARIABLE VALUE
"KRN",19,10989,"RPC",219,0)
TIU AUTHORIZATION
"KRN",19,10989,"RPC",220,0)
TIU CAN CHANGE COSIGNER?
"KRN",19,10989,"RPC",221,0)
TIU CREATE ADDENDUM RECORD
"KRN",19,10989,"RPC",222,0)
TIU CREATE RECORD
"KRN",19,10989,"RPC",223,0)
TIU DELETE RECORD
"KRN",19,10989,"RPC",224,0)
TIU DETAILED DISPLAY
"KRN",19,10989,"RPC",225,0)
TIU DOCUMENTS BY CONTEXT
"KRN",19,10989,"RPC",226,0)
TIU GET ADDITIONAL SIGNERS
"KRN",19,10989,"RPC",227,0)
TIU GET ALERT INFO
"KRN",19,10989,"RPC",228,0)
TIU GET DOCUMENT PARAMETERS
"KRN",19,10989,"RPC",229,0)
TIU GET DS TITLES
"KRN",19,10989,"RPC",230,0)
TIU GET DS URGENCIES
"KRN",19,10989,"RPC",231,0)
TIU GET PERSONAL PREFERENCES
"KRN",19,10989,"RPC",232,0)
TIU GET PN TITLES
"KRN",19,10989,"RPC",233,0)
TIU GET RECORD TEXT
"KRN",19,10989,"RPC",234,0)
TIU IDENTIFY CONSULTS CLASS
"KRN",19,10989,"RPC",235,0)
TIU IS THIS A CONSULT?
"KRN",19,10989,"RPC",236,0)
TIU JUSTIFY DELETE?
"KRN",19,10989,"RPC",237,0)
TIU LOAD BOILERPLATE TEXT
"KRN",19,10989,"RPC",238,0)
TIU LOAD RECORD FOR EDIT
"KRN",19,10989,"RPC",239,0)
TIU LOCK RECORD
"KRN",19,10989,"RPC",240,0)
TIU LONG LIST CONSULT TITLES
"KRN",19,10989,"RPC",241,0)
TIU LONG LIST OF TITLES
"KRN",19,10989,"RPC",242,0)
TIU NOTES
"KRN",19,10989,"RPC",243,0)
TIU NOTES 16 BIT
"KRN",19,10989,"RPC",244,0)
TIU NOTES BY VISIT
"KRN",19,10989,"RPC",245,0)
TIU PERSONAL TITLE LIST
"KRN",19,10989,"RPC",246,0)
TIU PRINT RECORD
"KRN",19,10989,"RPC",247,0)
TIU REQUIRES COSIGNATURE
"KRN",19,10989,"RPC",248,0)
TIU SIGN RECORD
"KRN",19,10989,"RPC",249,0)
TIU SUMMARIES
"KRN",19,10989,"RPC",250,0)
TIU SUMMARIES BY VISIT
"KRN",19,10989,"RPC",251,0)
TIU UNLOCK RECORD
"KRN",19,10989,"RPC",252,0)
TIU UPDATE ADDITIONAL SIGNERS
"KRN",19,10989,"RPC",253,0)
TIU UPDATE RECORD
"KRN",19,10989,"RPC",254,0)
TIU WHICH SIGNATURE ACTION
"KRN",19,10989,"RPC",1032,0)
ORB DELETE ALERT
"KRN",19,10989,"RPC",1033,0)
ORB FOLLOW-UP ARRAY
"KRN",19,10989,"RPC",1034,0)
ORB FOLLOW-UP STRING
"KRN",19,10989,"RPC",1035,0)
ORB FOLLOW-UP TYPE
"KRN",19,10989,"RPC",1036,0)
ORB SORT METHOD
"KRN",19,10989,"RPC",1037,0)
ORK TRIGGER
"KRN",19,10989,"RPC",1038,0)
ORQ NULL LIST
"KRN",19,10989,"RPC",1039,0)
ORQOR DETAIL
"KRN",19,10989,"RPC",1040,0)
TIU TEMPLATE CHECK BOILERPLATE
"KRN",19,10989,"RPC",1041,0)
TIU TEMPLATE CREATE/MODIFY
"KRN",19,10989,"RPC",1042,0)
TIU TEMPLATE DELETE
"KRN",19,10989,"RPC",1045,0)
TIU TEMPLATE GETPROOT
"KRN",19,10989,"RPC",1049,0)
TIU TEMPLATE LISTOWNR
"KRN",19,10989,"RPC",1050,0)
TIU TEMPLATE SET ITEMS
"KRN",19,10989,"RPC",1051,0)
TIU GET LIST OF OBJECTS
"KRN",19,10989,"RPC",1052,0)
ORQOR LIST
"KRN",19,10989,"RPC",1053,0)
ORQORB SORT
"KRN",19,10989,"RPC",1054,0)
ORQPT ATTENDING/PRIMARY
"KRN",19,10989,"RPC",1055,0)
ORQPT CLINIC PATIENTS
"KRN",19,10989,"RPC",1056,0)
ORQPT CLINICS
"KRN",19,10989,"RPC",1057,0)
ORQPT DEFAULT LIST SOURCE
"KRN",19,10989,"RPC",1058,0)
ORQPT DEFAULT PATIENT LIST
"KRN",19,10989,"RPC",1059,0)
ORQPT PATIENT TEAM PROVIDERS
"KRN",19,10989,"RPC",1060,0)
ORQPT PROVIDER PATIENTS
"KRN",19,10989,"RPC",1061,0)
ORQPT PROVIDERS
"KRN",19,10989,"RPC",1062,0)
ORQPT SPECIALTIES
"KRN",19,10989,"RPC",1063,0)
ORQPT SPECIALTY PATIENTS
"KRN",19,10989,"RPC",1064,0)
ORQPT TEAM PATIENTS
"KRN",19,10989,"RPC",1065,0)
ORQPT TEAMS
"KRN",19,10989,"RPC",1066,0)
ORQPT WARD PATIENTS
"KRN",19,10989,"RPC",1067,0)
ORQPT WARDRMBED
"KRN",19,10989,"RPC",1068,0)
ORQPT WARDS
"KRN",19,10989,"RPC",1069,0)
ORQQAL DETAIL
"KRN",19,10989,"RPC",1070,0)
ORQQAL LIST
"KRN",19,10989,"RPC",1071,0)
ORQQAL LIST REPORT
"KRN",19,10989,"RPC",1072,0)
ORQQCN ADDCMT
"KRN",19,10989,"RPC",1073,0)
ORQQCN ADMIN COMPLETE
"KRN",19,10989,"RPC",1074,0)
ORQQCN DETAIL
"KRN",19,10989,"RPC",1075,0)
ORQQCN DISCONTINUE
"KRN",19,10989,"RPC",1076,0)
ORQQCN FIND CONSULT
"KRN",19,10989,"RPC",1077,0)
ORQQCN FORWARD
"KRN",19,10989,"RPC",1078,0)
ORQQCN GET CONSULT
"KRN",19,10989,"RPC",1079,0)
ORQQCN GET ORDER NUMBER
"KRN",19,10989,"RPC",1080,0)
ORQQCN GET PROC SVCS
"KRN",19,10989,"RPC",1081,0)
ORQQCN LIST
"KRN",19,10989,"RPC",1082,0)
ORQQCN LOAD FOR EDIT
"KRN",19,10989,"RPC",1083,0)
ORQQCN MED RESULTS
"KRN",19,10989,"RPC",1084,0)
ORQQCN PRINT SF513
"KRN",19,10989,"RPC",1085,0)
ORQQCN RECEIVE
"KRN",19,10989,"RPC",1086,0)
ORQQCN RESUBMIT
"KRN",19,10989,"RPC",1087,0)
ORQQCN SET ACT MENUS
"KRN",19,10989,"RPC",1088,0)
ORQQCN SHOW SF513
"KRN",19,10989,"RPC",1089,0)
ORQQCN SIGFIND
"KRN",19,10989,"RPC",1090,0)
ORQQCN STATUS
"KRN",19,10989,"RPC",1091,0)
ORQQCN SVCLIST
"KRN",19,10989,"RPC",1092,0)
ORQQCN SVCTREE
"KRN",19,10989,"RPC",1093,0)
ORQQCN URGENCIES
"KRN",19,10989,"RPC",1094,0)
ORQQCN2 GET CONTEXT
"KRN",19,10989,"RPC",1095,0)
ORQQCN2 SAVE CONTEXT
"KRN",19,10989,"RPC",1096,0)
ORQQLR DETAIL
"KRN",19,10989,"RPC",1097,0)
ORQQLR SEARCH RANGE INPT
"KRN",19,10989,"RPC",1098,0)
ORQQLR SEARCH RANGE OUTPT
"KRN",19,10989,"RPC",1099,0)
ORQQPL ADD SAVE
"KRN",19,10989,"RPC",1100,0)
ORQQPL AUDIT HIST
"KRN",19,10989,"RPC",1101,0)
ORQQPL CHECK DUP
"KRN",19,10989,"RPC",1102,0)
ORQQPL CLIN FILTER LIST
"KRN",19,10989,"RPC",1103,0)
ORQQPL CLIN SRCH
"KRN",19,10989,"RPC",1104,0)
ORQQPL DELETE
"KRN",19,10989,"RPC",1105,0)
ORQQPL DETAIL
"KRN",19,10989,"RPC",1106,0)
ORQQPL EDIT LOAD
"KRN",19,10989,"RPC",1107,0)
ORQQPL EDIT SAVE
"KRN",19,10989,"RPC",1108,0)
ORQQPL INACTIVATE
"KRN",19,10989,"RPC",1109,0)
ORQQPL INIT PT
"KRN",19,10989,"RPC",1110,0)
ORQQPL INIT USER
"KRN",19,10989,"RPC",1111,0)
ORQQPL LIST
"KRN",19,10989,"RPC",1112,0)
ORQQPL PROB COMMENTS
"KRN",19,10989,"RPC",1113,0)
ORQQPL PROBLEM LEX SEARCH
"KRN",19,10989,"RPC",1114,0)
ORQQPL PROBLEM LIST
"KRN",19,10989,"RPC",1115,0)
ORQQPL PROV FILTER LIST
"KRN",19,10989,"RPC",1116,0)
ORQQPL PROVIDER LIST
"KRN",19,10989,"RPC",1117,0)
ORQQPL REPLACE
"KRN",19,10989,"RPC",1118,0)
ORQQPL SAVEVIEW
"KRN",19,10989,"RPC",1119,0)
ORQQPL SERV FILTER LIST
"KRN",19,10989,"RPC",1120,0)
ORQQPL SRVC SRCH
"KRN",19,10989,"RPC",1121,0)
ORQQPL UPDATE
"KRN",19,10989,"RPC",1122,0)
ORQQPL USER PROB CATS
"KRN",19,10989,"RPC",1123,0)
ORQQPL USER PROB LIST
"KRN",19,10989,"RPC",1124,0)
ORQQPL VERIFY
"KRN",19,10989,"RPC",1125,0)
ORQQPP LIST
"KRN",19,10989,"RPC",1126,0)
ORQQPS DETAIL
"KRN",19,10989,"RPC",1127,0)
ORQQPS LIST
"KRN",19,10989,"RPC",1133,0)
ORQQPX REMINDER DETAIL
"KRN",19,10989,"RPC",1135,0)
ORQQPX REMINDERS LIST
"KRN",19,10989,"RPC",1136,0)
ORQQVI NOTEVIT
"KRN",19,10989,"RPC",1137,0)
ORQQVI VITALS
"KRN",19,10989,"RPC",1138,0)
ORQQVI VITALS FOR DATE RANGE
"KRN",19,10989,"RPC",1139,0)
ORQQVI1 DETAIL
"KRN",19,10989,"RPC",1140,0)
ORQQVI1 GRID
"KRN",19,10989,"RPC",1141,0)
ORQQVI2 VITALS HELP
"KRN",19,10989,"RPC",1142,0)
ORQQVI2 VITALS RATE CHECK
"KRN",19,10989,"RPC",1144,0)
ORQQVI2 VITALS VAL & STORE
"KRN",19,10989,"RPC",1145,0)
ORQQVI2 VITALS VALIDATE
"KRN",19,10989,"RPC",1146,0)
ORQQVI2 VITALS VALIDATE TYPE
"KRN",19,10989,"RPC",1147,0)
ORQQVS DETAIL NOTES
"KRN",19,10989,"RPC",1148,0)
ORQQVS DETAIL SUMMARY
"KRN",19,10989,"RPC",1149,0)
ORQQVS VISITS/APPTS
"KRN",19,10989,"RPC",1150,0)
ORQQXMB MAIL GROUPS
"KRN",19,10989,"RPC",1151,0)
ORQQXQA PATIENT
"KRN",19,10989,"RPC",1152,0)
ORQQXQA USER
"KRN",19,10989,"RPC",1153,0)
ORWCH LOADALL
"KRN",19,10989,"RPC",1154,0)
ORWCH LOADSIZ
"KRN",19,10989,"RPC",1155,0)
ORWCH SAVEALL
"KRN",19,10989,"RPC",1156,0)
ORWCH SAVESIZ
"KRN",19,10989,"RPC",1157,0)
ORWCS LIST OF CONSULT REPORTS
"KRN",19,10989,"RPC",1158,0)
ORWCS PRINT REPORT
"KRN",19,10989,"RPC",1159,0)
ORWCS REPORT TEXT
"KRN",19,10989,"RPC",1160,0)
ORWCV DTLVST
"KRN",19,10989,"RPC",1161,0)
ORWCV LAB
"KRN",19,10989,"RPC",1162,0)
ORWCV POLL
"KRN",19,10989,"RPC",1163,0)
ORWCV START
"KRN",19,10989,"RPC",1164,0)
ORWCV STOP
"KRN",19,10989,"RPC",1165,0)
ORWCV VST
"KRN",19,10989,"RPC",1166,0)
ORWD DEF
"KRN",19,10989,"RPC",1167,0)
ORWD DT
"KRN",19,10989,"RPC",1168,0)
ORWD FORMID
"KRN",19,10989,"RPC",1169,0)
ORWD GET4EDIT
"KRN",19,10989,"RPC",1170,0)
ORWD KEY
"KRN",19,10989,"RPC",1171,0)
ORWD OI
"KRN",19,10989,"RPC",1172,0)
ORWD PROVKEY
"KRN",19,10989,"RPC",1173,0)
ORWD SAVE
"KRN",19,10989,"RPC",1174,0)
ORWD SAVEACT
"KRN",19,10989,"RPC",1175,0)
ORWD SIGN
"KRN",19,10989,"RPC",1176,0)
ORWD VALIDACT
"KRN",19,10989,"RPC",1177,0)
ORWD1 PARAM
"KRN",19,10989,"RPC",1178,0)
ORWD1 PRINTGUI
"KRN",19,10989,"RPC",1179,0)
ORWD1 RVPRINT
"KRN",19,10989,"RPC",1180,0)
ORWD2 DEVINFO
"KRN",19,10989,"RPC",1181,0)
ORWD2 MANUAL
"KRN",19,10989,"RPC",1182,0)
ORWDAL32 ALLERGY MATCH
"KRN",19,10989,"RPC",1183,0)
ORWDAL32 DEF
"KRN",19,10989,"RPC",1184,0)
ORWDAL32 SYMPTOMS
"KRN",19,10989,"RPC",1185,0)
ORWDCN32 DEF
"KRN",19,10989,"RPC",1186,0)
ORWDCN32 ORDRMSG
"KRN",19,10989,"RPC",1187,0)
ORWDCN32 PROCEDURES
"KRN",19,10989,"RPC",1188,0)
ORWDCSLT DEF
"KRN",19,10989,"RPC",1189,0)
ORWDCSLT LOOK200
"KRN",19,10989,"RPC",1190,0)
ORWDFH ADDLATE
"KRN",19,10989,"RPC",1191,0)
ORWDFH ATTR
"KRN",19,10989,"RPC",1192,0)
ORWDFH CURISO
"KRN",19,10989,"RPC",1193,0)
ORWDFH DIETS
"KRN",19,10989,"RPC",1194,0)
ORWDFH FINDTYP
"KRN",19,10989,"RPC",1195,0)
ORWDFH ISOIEN
"KRN",19,10989,"RPC",1196,0)
ORWDFH ISOLIST
"KRN",19,10989,"RPC",1197,0)
ORWDFH PARAM
"KRN",19,10989,"RPC",1198,0)
ORWDFH QTY2CC
"KRN",19,10989,"RPC",1199,0)
ORWDFH TFPROD
"KRN",19,10989,"RPC",1200,0)
ORWDFH TXT
"KRN",19,10989,"RPC",1201,0)
ORWDGX LOAD
"KRN",19,10989,"RPC",1202,0)
ORWDGX VMDEF
"KRN",19,10989,"RPC",1203,0)
ORWDLR ABBSPEC
"KRN",19,10989,"RPC",1204,0)
ORWDLR ALLSAMP
"KRN",19,10989,"RPC",1205,0)
ORWDLR DEF
"KRN",19,10989,"RPC",1206,0)
ORWDLR LOAD
"KRN",19,10989,"RPC",1207,0)
ORWDLR OIPARAM
"KRN",19,10989,"RPC",1208,0)
ORWDLR STOP
"KRN",19,10989,"RPC",1209,0)
ORWDLR32 ABBSPEC
"KRN",19,10989,"RPC",1210,0)
ORWDLR32 ALLSAMP
"KRN",19,10989,"RPC",1211,0)
ORWDLR32 ALLSPEC
"KRN",19,10989,"RPC",1212,0)
ORWDLR32 DEF
"KRN",19,10989,"RPC",1213,0)
ORWDLR32 IC DEFAULT
"KRN",19,10989,"RPC",1214,0)
ORWDLR32 IC VALID
"KRN",19,10989,"RPC",1215,0)
ORWDLR32 IMMED COLLECT
"KRN",19,10989,"RPC",1216,0)
ORWDLR32 LAB COLL TIME
"KRN",19,10989,"RPC",1217,0)
ORWDLR32 LOAD
"KRN",19,10989,"RPC",1218,0)
ORWDLR32 MAXDAYS
"KRN",19,10989,"RPC",1219,0)
ORWDLR32 ONE SAMPLE
"KRN",19,10989,"RPC",1220,0)
ORWDLR32 ONE SPECIMEN
"KRN",19,10989,"RPC",1221,0)
ORWDLR32 STOP
"KRN",19,10989,"RPC",1222,0)
ORWDOR VMSLCT
"KRN",19,10989,"RPC",1227,0)
ORWDPS32 ALLROUTE
"KRN",19,10989,"RPC",1228,0)
ORWDPS32 AUTH
"KRN",19,10989,"RPC",1229,0)
ORWDPS32 DLGSLCT
"KRN",19,10989,"RPC",1230,0)
ORWDPS32 DOSES
"KRN",19,10989,"RPC",1231,0)
ORWDPS32 DRUGMSG
"KRN",19,10989,"RPC",1232,0)
ORWDPS32 FORMALT
"KRN",19,10989,"RPC",1233,0)
ORWDPS32 ISSPLY
"KRN",19,10989,"RPC",1234,0)
ORWDPS32 IVAMT
"KRN",19,10989,"RPC",1235,0)
ORWDPS32 MEDISIV
"KRN",19,10989,"RPC",1236,0)
ORWDPS32 OISLCT
"KRN",19,10989,"RPC",1237,0)
ORWDPS32 SCSTS
"KRN",19,10989,"RPC",1238,0)
ORWDPS32 VALQTY
"KRN",19,10989,"RPC",1239,0)
ORWDPS32 VALRATE
"KRN",19,10989,"RPC",1240,0)
ORWDPS32 VALSCH
"KRN",19,10989,"RPC",1241,0)
ORWDRA DEF
"KRN",19,10989,"RPC",1242,0)
ORWDRA32 APPROVAL
"KRN",19,10989,"RPC",1243,0)
ORWDRA32 DEF
"KRN",19,10989,"RPC",1244,0)
ORWDRA32 IMTYPSEL
"KRN",19,10989,"RPC",1245,0)
ORWDRA32 ISOLATN
"KRN",19,10989,"RPC",1246,0)
ORWDRA32 LOCTYPE
"KRN",19,10989,"RPC",1247,0)
ORWDRA32 PROCMSG
"KRN",19,10989,"RPC",1248,0)
ORWDRA32 RADSRC
"KRN",19,10989,"RPC",1249,0)
ORWDRA32 RAORDITM
"KRN",19,10989,"RPC",1250,0)
ORWDX AGAIN
"KRN",19,10989,"RPC",1251,0)
ORWDX DGRP
"KRN",19,10989,"RPC",1252,0)
ORWDX DISMSG
"KRN",19,10989,"RPC",1253,0)
ORWDX DLGDEF
"KRN",19,10989,"RPC",1254,0)
ORWDX DLGID
"KRN",19,10989,"RPC",1255,0)
ORWDX DLGQUIK
"KRN",19,10989,"RPC",1256,0)
ORWDX FORMID
"KRN",19,10989,"RPC",1257,0)
ORWDX LOADRSP
"KRN",19,10989,"RPC",1258,0)
ORWDX LOCK
"KRN",19,10989,"RPC",1259,0)
ORWDX MSG
"KRN",19,10989,"RPC",1260,0)
ORWDX ORDITM
"KRN",19,10989,"RPC",1261,0)
ORWDX SAVE
"KRN",19,10989,"RPC",1262,0)
ORWDX SEND
"KRN",19,10989,"RPC",1263,0)
ORWDX SENDP
"KRN",19,10989,"RPC",1264,0)
ORWDX UNLOCK
"KRN",19,10989,"RPC",1265,0)
ORWDX WRLST
"KRN",19,10989,"RPC",1266,0)
ORWDXA ALERT
"KRN",19,10989,"RPC",1267,0)
ORWDXA COMPLETE
"KRN",19,10989,"RPC",1268,0)
ORWDXA DC
"KRN",19,10989,"RPC",1269,0)
ORWDX2 DCREASON
"KRN",19,10989,"RPC",1270,0)
ORWDXA DCREQIEN
"KRN",19,10989,"RPC",1271,0)
ORWDXA FLAG
"KRN",19,10989,"RPC",1272,0)
ORWDXA FLAGTXT
"KRN",19,10989,"RPC",1273,0)
ORWDXA HOLD
"KRN",19,10989,"RPC",1274,0)
ORWDXA UNFLAG
"KRN",19,10989,"RPC",1275,0)
ORWDXA UNHOLD
"KRN",19,10989,"RPC",1276,0)
ORWDXA VALID
"KRN",19,10989,"RPC",1277,0)
ORWDXA VERIFY
"KRN",19,10989,"RPC",1278,0)
ORWDXA WCGET
"KRN",19,10989,"RPC",1279,0)
ORWDXA WCPUT
"KRN",19,10989,"RPC",1280,0)
ORWDXC ACCEPT
"KRN",19,10989,"RPC",1281,0)
ORWDXC DELAY
"KRN",19,10989,"RPC",1282,0)
ORWDXC DELORD
"KRN",19,10989,"RPC",1283,0)
ORWDXC DISPLAY
"KRN",19,10989,"RPC",1284,0)
ORWDXC FILLID
"KRN",19,10989,"RPC",1285,0)
ORWDXC ON
"KRN",19,10989,"RPC",1286,0)
ORWDXC SAVECHK
"KRN",19,10989,"RPC",1287,0)
ORWDXC SESSION
"KRN",19,10989,"RPC",1288,0)
ORWDXM AUTOACK
"KRN",19,10989,"RPC",1289,0)
ORWDXM DLGNAME
"KRN",19,10989,"RPC",1290,0)
ORWDXM FORMID
"KRN",19,10989,"RPC",1291,0)
ORWDXM LOADSET
"KRN",19,10989,"RPC",1292,0)
ORWDXM MENU
"KRN",19,10989,"RPC",1293,0)
ORWDXM MSTYLE
"KRN",19,10989,"RPC",1294,0)
ORWDXM PROMPTS
"KRN",19,10989,"RPC",1295,0)
ORWDXM1 BLDQRSP
"KRN",19,10989,"RPC",1296,0)
ORWDXM2 CLRRCL
"KRN",19,10989,"RPC",1297,0)
ORWDXQ DLGNAME
"KRN",19,10989,"RPC",1298,0)
ORWDXQ DLGSAVE
"KRN",19,10989,"RPC",1299,0)
ORWDXQ GETQLST
"KRN",19,10989,"RPC",1300,0)
ORWDXQ GETQNAM
"KRN",19,10989,"RPC",1301,0)
ORWDXQ PUTQLST
"KRN",19,10989,"RPC",1302,0)
ORWDXQ PUTQNAM
"KRN",19,10989,"RPC",1303,0)
ORWDXR ISREL
"KRN",19,10989,"RPC",1304,0)
ORWDXR RENEW
"KRN",19,10989,"RPC",1305,0)
ORWDXR RNWFLDS
"KRN",19,10989,"RPC",1306,0)
ORWGEPT CLINRNG
"KRN",19,10989,"RPC",1307,0)
ORWLR CUMULATIVE REPORT
"KRN",19,10989,"RPC",1308,0)
ORWLR CUMULATIVE SECTION
"KRN",19,10989,"RPC",1309,0)
ORWLR REPORT LISTS
"KRN",19,10989,"RPC",1310,0)
ORWLRR ALLTESTS
"KRN",19,10989,"RPC",1311,0)
ORWLRR ATESTS
"KRN",19,10989,"RPC",1312,0)
ORWLRR ATG
"KRN",19,10989,"RPC",1313,0)
ORWLRR ATOMICS
"KRN",19,10989,"RPC",1314,0)
ORWLRR CHART
"KRN",19,10989,"RPC",1315,0)
ORWLRR CHEMTEST
"KRN",19,10989,"RPC",1316,0)
ORWLRR GRID
"KRN",19,10989,"RPC",1317,0)
ORWLRR INTERIM
"KRN",19,10989,"RPC",1318,0)
ORWLRR INTERIMG
"KRN",19,10989,"RPC",1319,0)
ORWLRR INTERIMS
"KRN",19,10989,"RPC",1320,0)
ORWLRR MICRO
"KRN",19,10989,"RPC",1321,0)
ORWLRR NEWOLD
"KRN",19,10989,"RPC",1322,0)
ORWLRR PARAM
"KRN",19,10989,"RPC",1323,0)
ORWLRR SPEC
"KRN",19,10989,"RPC",1324,0)
ORWLRR TG
"KRN",19,10989,"RPC",1325,0)
ORWLRR USERS
"KRN",19,10989,"RPC",1326,0)
ORWLRR UTGA
"KRN",19,10989,"RPC",1327,0)
ORWLRR UTGD
"KRN",19,10989,"RPC",1328,0)
ORWLRR UTGR
"KRN",19,10989,"RPC",1329,0)
ORWMC PATIENT PROCEDURES
"KRN",19,10989,"RPC",1330,0)
ORWOR RESULT
"KRN",19,10989,"RPC",1331,0)
ORWOR SHEETS
"KRN",19,10989,"RPC",1332,0)
ORWOR TSALL
"KRN",19,10989,"RPC",1333,0)
ORWORB AUTOUNFLAG ORDERS
"KRN",19,10989,"RPC",1334,0)
ORWORB FASTUSER
"KRN",19,10989,"RPC",1335,0)
ORWORB GET TIU ALERT INFO
"KRN",19,10989,"RPC",1336,0)
ORWORB GETDATA
"KRN",19,10989,"RPC",1337,0)
ORWORB KILL UNSIG ORDERS ALERT
"KRN",19,10989,"RPC",1339,0)
ORWORDG ALLTREE
"KRN",19,10989,"RPC",1340,0)
ORWORDG GRPSEQB
"KRN",19,10989,"RPC",1341,0)
ORWORDG IEN
"KRN",19,10989,"RPC",1342,0)
ORWORDG MAPSEQ
"KRN",19,10989,"RPC",1343,0)
ORWORDG REVSTS
"KRN",19,10989,"RPC",1344,0)
ORWORR AGET
"KRN",19,10989,"RPC",1345,0)
ORWORR GET
"KRN",19,10989,"RPC",1346,0)
ORWORR GET4LST
"KRN",19,10989,"RPC",1347,0)
ORWORR GETBYIFN
"KRN",19,10989,"RPC",1348,0)
ORWORR GETTXT
"KRN",19,10989,"RPC",1349,0)
ORWPCE ACTIVE PROV
"KRN",19,10989,"RPC",1350,0)
ORWPCE ACTPROB
"KRN",19,10989,"RPC",1351,0)
ORWPCE CPTREQD
"KRN",19,10989,"RPC",1352,0)
ORWPCE DELETE
"KRN",19,10989,"RPC",1353,0)
ORWPCE DIAG
"KRN",19,10989,"RPC",1354,0)
ORWPCE GET EDUCATION TOPICS
"KRN",19,10989,"RPC",1355,0)
ORWPCE GET EXAM TYPE
"KRN",19,10989,"RPC",1356,0)
ORWPCE GET HEALTH FACTORS TY
"KRN",19,10989,"RPC",1357,0)
ORWPCE GET IMMUNIZATION TYPE
"KRN",19,10989,"RPC",1358,0)
ORWPCE GET SET OF CODES
"KRN",19,10989,"RPC",1359,0)
ORWPCE GET SKIN TEST TYPE
"KRN",19,10989,"RPC",1360,0)
ORWPCE GET TREATMENT TYPE
"KRN",19,10989,"RPC",1361,0)
ORWPCE HF
"KRN",19,10989,"RPC",1362,0)
ORWPCE IMM
"KRN",19,10989,"RPC",1363,0)
ORWPCE LEX
"KRN",19,10989,"RPC",1364,0)
ORWPCE LEXCODE
"KRN",19,10989,"RPC",1366,0)
ORWPCE NOTEVSTR
"KRN",19,10989,"RPC",1367,0)
ORWPCE PCE4NOTE
"KRN",19,10989,"RPC",1368,0)
ORWPCE PED
"KRN",19,10989,"RPC",1369,0)
ORWPCE PROC
"KRN",19,10989,"RPC",1370,0)
ORWPCE SAVE
"KRN",19,10989,"RPC",1371,0)
ORWPCE SCDIS
"KRN",19,10989,"RPC",1372,0)
ORWPCE SCSEL
"KRN",19,10989,"RPC",1373,0)
ORWPCE SK
"KRN",19,10989,"RPC",1374,0)
ORWPCE TRT
"KRN",19,10989,"RPC",1375,0)
ORWPCE VISIT
"KRN",19,10989,"RPC",1376,0)
ORWPCE XAM
"KRN",19,10989,"RPC",1377,0)
ORWPS ACTIVE
"KRN",19,10989,"RPC",1378,0)
ORWPS COVER
"KRN",19,10989,"RPC",1379,0)
ORWPS DETAIL
"KRN",19,10989,"RPC",1380,0)
ORWPS1 NEWDLG
"KRN",19,10989,"RPC",1381,0)
ORWPS1 PICKUP
"KRN",19,10989,"RPC",1382,0)
ORWPS1 REFILL
"KRN",19,10989,"RPC",1383,0)
ORWPT ADMITLST
"KRN",19,10989,"RPC",1384,0)
ORWPT APPTLST
"KRN",19,10989,"RPC",1385,0)
ORWPT CLINRNG
"KRN",19,10989,"RPC",1386,0)
ORWPT CWAD
"KRN",19,10989,"RPC",1387,0)
ORWPT DFLTSRC
"KRN",19,10989,"RPC",1388,0)
ORWPT DIEDON
"KRN",19,10989,"RPC",1389,0)
ORWPT DISCHARGE
"KRN",19,10989,"RPC",1390,0)
ORWPT ENCTITL
"KRN",19,10989,"RPC",1391,0)
ORWPT FULLSSN
"KRN",19,10989,"RPC",1392,0)
ORWPT ID INFO
"KRN",19,10989,"RPC",1393,0)
ORWPT LAST5
"KRN",19,10989,"RPC",1394,0)
ORWPT LIST ALL
"KRN",19,10989,"RPC",1395,0)
ORWPT PTINQ
"KRN",19,10989,"RPC",1396,0)
ORWPT SAVDFLT
"KRN",19,10989,"RPC",1397,0)
ORWPT SELCHK
"KRN",19,10989,"RPC",1398,0)
ORWPT SELECT
"KRN",19,10989,"RPC",1399,0)
ORWPT SHARE
"KRN",19,10989,"RPC",1400,0)
ORWPT TOP
"KRN",19,10989,"RPC",1401,0)
ORWPT1 PCDETAIL
"KRN",19,10989,"RPC",1402,0)
ORWPT1 PRCARE
"KRN",19,10989,"RPC",1403,0)
ORWPT16 ADMITLST
"KRN",19,10989,"RPC",1404,0)
ORWPT16 APPTLST
"KRN",19,10989,"RPC",1405,0)
ORWPT16 DEMOG
"KRN",19,10989,"RPC",1406,0)
ORWPT16 GETVSIT
"KRN",19,10989,"RPC",1407,0)
ORWPT16 ID INFO
"KRN",19,10989,"RPC",1408,0)
ORWPT16 LIST ALL
"KRN",19,10989,"RPC",1409,0)
ORWPT16 LOOKUP
"KRN",19,10989,"RPC",1410,0)
ORWPT16 PSCNVT
"KRN",19,10989,"RPC",1411,0)
ORWRA DEFAULT EXAM SETTINGS
"KRN",19,10989,"RPC",1412,0)
ORWRA IMAGING EXAMS
"KRN",19,10989,"RPC",1413,0)
ORWRA PRINT REPORT
"KRN",19,10989,"RPC",1414,0)
ORWRA REPORT TEXT
"KRN",19,10989,"RPC",1415,0)
ORWRP PRINT LAB REPORTS
"KRN",19,10989,"RPC",1416,0)
ORWRP PRINT REPORT
"KRN",19,10989,"RPC",1417,0)
ORWRP REPORT LISTS
"KRN",19,10989,"RPC",1418,0)
ORWRP REPORT TEXT
"KRN",19,10989,"RPC",1419,0)
ORWRP1 LISTNUTR
"KRN",19,10989,"RPC",1420,0)
ORWRP16 REPORT LISTS
"KRN",19,10989,"RPC",1421,0)
ORWRP16 REPORT TEXT
"KRN",19,10989,"RPC",1422,0)
ORWTIU GET DCSUMM CONTEXT
"KRN",19,10989,"RPC",1423,0)
ORWTIU GET TIU CONTEXT
"KRN",19,10989,"RPC",1424,0)
ORWTIU SAVE DCSUMM CONTEXT
"KRN",19,10989,"RPC",1425,0)
ORWTIU SAVE TIU CONTEXT
"KRN",19,10989,"RPC",1426,0)
ORWU CLINLOC
"KRN",19,10989,"RPC",1427,0)
ORWU DEVICE
"KRN",19,10989,"RPC",1428,0)
ORWU DT
"KRN",19,10989,"RPC",1429,0)
ORWU EXTNAME
"KRN",19,10989,"RPC",1430,0)
ORWU GBLREF
"KRN",19,10989,"RPC",1431,0)
ORWU GENERIC
"KRN",19,10989,"RPC",1432,0)
ORWU HASKEY
"KRN",19,10989,"RPC",1433,0)
ORWU HOSPLOC
"KRN",19,10989,"RPC",1434,0)
ORWU INPLOC
"KRN",19,10989,"RPC",1435,0)
ORWU NEWPERS
"KRN",19,10989,"RPC",1436,0)
ORWU NPHASKEY
"KRN",19,10989,"RPC",1437,0)
ORWU PATCH
"KRN",19,10989,"RPC",1438,0)
ORWU TOOLMENU
"KRN",19,10989,"RPC",1439,0)
ORWU USERINFO
"KRN",19,10989,"RPC",1440,0)
ORWU VALDT
"KRN",19,10989,"RPC",1441,0)
ORWU VALIDSIG
"KRN",19,10989,"RPC",1442,0)
ORWU VERSRV
"KRN",19,10989,"RPC",1443,0)
ORWU16 DEVICE
"KRN",19,10989,"RPC",1444,0)
ORWU16 HOSPLOC
"KRN",19,10989,"RPC",1445,0)
ORWU16 NEWPERS
"KRN",19,10989,"RPC",1446,0)
ORWU16 USERINFO
"KRN",19,10989,"RPC",1447,0)
ORWU16 VALDT
"KRN",19,10989,"RPC",1448,0)
ORWU16 VALIDSIG
"KRN",19,10989,"RPC",1449,0)
ORWUH POPUP
"KRN",19,10989,"RPC",1450,0)
ORWUX SYMTAB
"KRN",19,10989,"RPC",1451,0)
ORWUXT LST
"KRN",19,10989,"RPC",1452,0)
ORWUXT REF
"KRN",19,10989,"RPC",1453,0)
ORWUXT VAL
"KRN",19,10989,"RPC",1454,0)
ORQQCN DEFAULT REQUEST REASON
"KRN",19,10989,"RPC",1455,0)
ORWDX LOCK ORDER
"KRN",19,10989,"RPC",1456,0)
ORWDX UNLOCK ORDER
"KRN",19,10989,"RPC",1457,0)
ORWDCN32 NEWDLG
"KRN",19,10989,"RPC",1458,0)
ORQQCN GET SERVICE IEN
"KRN",19,10989,"RPC",1459,0)
ORQQCN PROVDX
"KRN",19,10989,"RPC",1460,0)
TIU TEMPLATE ACCESS LEVEL
"KRN",19,10989,"RPC",1461,0)
TIU GET DOCUMENT TITLE
"KRN",19,10989,"RPC",1462,0)
ORWPT BYWARD
"KRN",19,10989,"RPC",1463,0)
ORQQPX GET HIST LOCATIONS
"KRN",19,10989,"RPC",1464,0)
ORQQPX NEW REMINDERS ACTIVE
"KRN",19,10989,"RPC",1465,0)
ORWPCE GET VISIT
"KRN",19,10989,"RPC",1480,0)
TIU GET REQUEST
"KRN",19,10989,"RPC",1481,0)
ORWORB KILL EXPIR MED ALERT
"KRN",19,10989,"RPC",1482,0)
DG CHK BS5 XREF ARRAY
"KRN",19,10989,"RPC",1483,0)
DG CHK BS5 XREF Y/N
"KRN",19,10989,"RPC",1484,0)
DG CHK PAT/DIV MEANS TEST
"KRN",19,10989,"RPC",1485,0)
DG SENSITIVE RECORD ACCESS
"KRN",19,10989,"RPC",1486,0)
DG SENSITIVE RECORD BULLETIN
"KRN",19,10989,"RPC",1487,0)
ORQQCN CANEDIT
"KRN",19,10989,"RPC",1488,0)
ORQQCN EDIT DEFAULT REASON
"KRN",19,10989,"RPC",1489,0)
ORQQCN SF513 WINDOWS PRINT
"KRN",19,10989,"RPC",1490,0)
ORWCIRN FACLIST
"KRN",19,10989,"RPC",1491,0)
ORWDLR32 GET LAB TIMES
"KRN",19,10989,"RPC",1492,0)
ORWPT LEGACY
"KRN",19,10989,"RPC",1493,0)
ORWRP GET DEFAULT PRINTER
"KRN",19,10989,"RPC",1494,0)
ORWRP PRINT WINDOWS REPORT
"KRN",19,10989,"RPC",1495,0)
ORWRP SAVE DEFAULT PRINTER
"KRN",19,10989,"RPC",1496,0)
ORWRP WINPRINT DEFAULT
"KRN",19,10989,"RPC",1497,0)
ORWRP WINPRINT LAB REPORTS
"KRN",19,10989,"RPC",1498,0)
ORWTIU WINPRINT NOTE
"KRN",19,10989,"RPC",1500,0)
ORWPCE GAFOK
"KRN",19,10989,"RPC",1501,0)
ORWPCE MHCLINIC
"KRN",19,10989,"RPC",1502,0)
ORWPCE LOADGAF
"KRN",19,10989,"RPC",1503,0)
ORWPCE SAVEGAF
"KRN",19,10989,"RPC",1504,0)
ORWPCE FORCE
"KRN",19,10989,"RPC",1505,0)
TIU GET DEFAULT PROVIDER
"KRN",19,10989,"RPC",1506,0)
TIU GET SITE PARAMETERS
"KRN",19,10989,"RPC",1507,0)
TIU IS USER A PROVIDER?
"KRN",19,10989,"RPC",1508,0)
ORWOR VWGET
"KRN",19,10989,"RPC",1509,0)
ORWOR VWSET
"KRN",19,10989,"RPC",1510,0)
ORWU PARAM
"KRN",19,10989,"RPC",1511,0)
ORWDOR LKSCRN
"KRN",19,10989,"RPC",1512,0)
ORWDOR VALNUM
"KRN",19,10989,"RPC",1513,0)
ORWDPS32 VALROUTE
"KRN",19,10989,"RPC",1515,0)
ORWORB UNSIG ORDERS FOLLOWUP
"KRN",19,10989,"RPC",1516,0)
ORWTIU GET LISTBOX ITEM
"KRN",19,10989,"RPC",1517,0)
ORWRP2 HS COMP FILES
"KRN",19,10989,"RPC",1518,0)
ORWRP2 HS COMPONENTS
"KRN",19,10989,"RPC",1519,0)
ORWRP2 HS FILE LOOKUP
"KRN",19,10989,"RPC",1520,0)
ORWRP2 HS REPORT TEXT
"KRN",19,10989,"RPC",1521,0)
ORWRP2 HS SUBITEMS
"KRN",19,10989,"RPC",1522,0)
ORWPCE HASCPT
"KRN",19,10989,"RPC",1523,0)
ORWPCE ASKPCE
"KRN",19,10989,"RPC",1524,0)
ORWPCE MHTESTOK
"KRN",19,10989,"RPC",1525,0)
ORWPCE GAFURL
"KRN",19,10989,"RPC",1526,0)
ORQQPXRM DIALOG PROMPTS
"KRN",19,10989,"RPC",1527,0)
ORQQPXRM EDUCATION SUBTOPICS
"KRN",19,10989,"RPC",1528,0)
ORQQPXRM EDUCATION SUMMARY
"KRN",19,10989,"RPC",1529,0)
ORQQPXRM EDUCATION TOPIC
"KRN",19,10989,"RPC",1530,0)
ORQQPXRM MENTAL HEALTH
"KRN",19,10989,"RPC",1531,0)
ORQQPXRM MENTAL HEALTH RESULTS
"KRN",19,10989,"RPC",1532,0)
ORQQPXRM MENTAL HEALTH SAVE
"KRN",19,10989,"RPC",1533,0)
ORQQPXRM PROGRESS NOTE HEADER
"KRN",19,10989,"RPC",1534,0)
ORQQPXRM REMINDER CATEGORIES
"KRN",19,10989,"RPC",1535,0)
ORQQPXRM REMINDER DETAIL
"KRN",19,10989,"RPC",1536,0)
ORQQPXRM REMINDER DIALOG
"KRN",19,10989,"RPC",1537,0)
ORQQPXRM REMINDER EVALUATION
"KRN",19,10989,"RPC",1538,0)
ORQQPXRM REMINDER INQUIRY
"KRN",19,10989,"RPC",1539,0)
ORQQPXRM REMINDER WEB
"KRN",19,10989,"RPC",1540,0)
ORQQPXRM REMINDERS APPLICABLE
"KRN",19,10989,"RPC",1541,0)
ORQQPXRM REMINDERS UNEVALUATED
"KRN",19,10989,"RPC",1542,0)
ORWLRR INFO
"KRN",19,10989,"RPC",1543,0)
TIU GET PRINT NAME
"KRN",19,10989,"RPC",1544,0)
TIU WAS THIS SAVED?
"KRN",19,10989,"RPC",1545,0)
ORWD1 COMLOC
"KRN",19,10989,"RPC",1546,0)
ORWD1 SIG4ANY
"KRN",19,10989,"RPC",1547,0)
ORWD1 SIG4ONE
"KRN",19,10989,"RPC",1548,0)
ORWOR UNSIGN
"KRN",19,10989,"RPC",1549,0)
ORWPT INPLOC
"KRN",19,10989,"RPC",1553,0)
ORQQCN2 GET PREREQUISITE
"KRN",19,10989,"RPC",1554,0)
ORQQCN2 SCHEDULE CONSULT
"KRN",19,10989,"RPC",1555,0)
YS GAF API
"KRN",19,10989,"RPC",1556,0)
TIU LONG LIST BOILERPLATED
"KRN",19,10989,"RPC",1557,0)
ORWDLR33 FUTURE LAB COLLECTS
"KRN",19,10989,"RPC",1558,0)
ORWRP PRINT REMOTE REPORT
"KRN",19,10989,"RPC",1559,0)
ORWRP PRINT WINDOWS REMOTE
"KRN",19,10989,"RPC",1560,0)
ORWRP PRINT LAB REMOTE
"KRN",19,10989,"RPC",1561,0)
ORWRP PRINT WINDOWS LAB REMOTE
"KRN",19,10989,"RPC",1562,0)
ORQQPXRM DIALOG ACTIVE
"KRN",19,10989,"RPC",1563,0)
ORWPCE MH TEST AUTHORIZED
"KRN",19,10989,"RPC",1564,0)
TIU GET BOILERPLATE
"KRN",19,10989,"RPC",1565,0)
ORWRP2 HS COMPONENT SUBS
"KRN",19,10989,"RPC",1566,0)
ORWCH SAVFONT
"KRN",19,10989,"RPC",1567,0)
ORWDLR33 LASTTIME
"KRN",19,10989,"RPC",1568,0)
ORWD1 SVONLY
"KRN",19,10989,"RPC",1569,0)
ORWPCE HASVISIT
"KRN",19,10989,"RPC",1570,0)
ORWPCE GETMOD
"KRN",19,10989,"RPC",1571,0)
ORWPCE CPTMODS
"KRN",19,10989,"RPC",1572,0)
XWB REMOTE CLEAR
"KRN",19,10989,"RPC",1573,0)
XWB REMOTE GETDATA
"KRN",19,10989,"RPC",1574,0)
XWB REMOTE RPC
"KRN",19,10989,"RPC",1575,0)
XWB REMOTE STATUS CHECK
"KRN",19,10989,"RPC",1576,0)
ORQQCN ASSIGNABLE MED RESULTS
"KRN",19,10989,"RPC",1577,0)
ORQQCN ATTACH MED RESULTS
"KRN",19,10989,"RPC",1578,0)
ORQQCN GET MED RESULT DETAILS
"KRN",19,10989,"RPC",1579,0)
ORQQCN REMOVABLE MED RESULTS
"KRN",19,10989,"RPC",1580,0)
ORQQCN REMOVE MED RESULTS
"KRN",19,10989,"RPC",1581,0)
ORQQCN SVC W/SYNONYMS
"KRN",19,10989,"RPC",1582,0)
ORWCV1 COVERSHEET LIST
"KRN",19,10989,"RPC",1583,0)
ORWORB KILL EXPIR OI ALERT
"KRN",19,10989,"RPC",1584,0)
ORWPCE GETSVC
"KRN",19,10989,"RPC",1585,0)
ORWRP LAB REPORT LISTS
"KRN",19,10989,"RPC",1587,0)
ORWTPN GETCLASS
"KRN",19,10989,"RPC",1588,0)
ORWTPN GETTC
"KRN",19,10989,"RPC",1589,0)
ORWTPO CSARNGD
"KRN",19,10989,"RPC",1590,0)
ORWTPO CSLABD
"KRN",19,10989,"RPC",1591,0)
ORWTPO GETTABS
"KRN",19,10989,"RPC",1592,0)
ORWTPP ADDLIST
"KRN",19,10989,"RPC",1593,0)
ORWTPP CHKSURR
"KRN",19,10989,"RPC",1594,0)
ORWTPP CLDAYS
"KRN",19,10989,"RPC",1595,0)
ORWTPP CLEARNOT
"KRN",19,10989,"RPC",1596,0)
ORWTPP CLRANGE
"KRN",19,10989,"RPC",1597,0)
ORWTPP CSARNG
"KRN",19,10989,"RPC",1598,0)
ORWTPP CSLAB
"KRN",19,10989,"RPC",1599,0)
ORWTPP DELLIST
"KRN",19,10989,"RPC",1600,0)
ORWTPP GETCOMBO
"KRN",19,10989,"RPC",1601,0)
ORWTPP GETCOS
"KRN",19,10989,"RPC",1602,0)
ORWTPP GETDCOS
"KRN",19,10989,"RPC",1603,0)
ORWTPP GETNOT
"KRN",19,10989,"RPC",1604,0)
ORWTPP GETNOTO
"KRN",19,10989,"RPC",1605,0)
ORWTPP GETOC
"KRN",19,10989,"RPC",1606,0)
ORWTPP GETOTHER
"KRN",19,10989,"RPC",1607,0)
ORWTPP GETREM
"KRN",19,10989,"RPC",1608,0)
ORWTPP GETSUB
"KRN",19,10989,"RPC",1609,0)
ORWTPP GETSURR
"KRN",19,10989,"RPC",1610,0)
ORWTPP GETTD
"KRN",19,10989,"RPC",1611,0)
ORWTPP GETTU
"KRN",19,10989,"RPC",1612,0)
ORWTPP LSDEF
"KRN",19,10989,"RPC",1613,0)
ORWTPP NEWLIST
"KRN",19,10989,"RPC",1614,0)
ORWTPP PLISTS
"KRN",19,10989,"RPC",1615,0)
ORWTPP PLTEAMS
"KRN",19,10989,"RPC",1616,0)
ORWTPP REMLIST
"KRN",19,10989,"RPC",1617,0)
ORWTPP SAVECD
"KRN",19,10989,"RPC",1618,0)
ORWTPP SAVECS
"KRN",19,10989,"RPC",1619,0)
ORWTPP SAVELIST
"KRN",19,10989,"RPC",1620,0)
ORWTPP SAVENOT
"KRN",19,10989,"RPC",1621,0)
ORWTPP SAVENOTO
"KRN",19,10989,"RPC",1622,0)
ORWTPP SAVEOC
"KRN",19,10989,"RPC",1623,0)
ORWTPP SAVEPLD
"KRN",19,10989,"RPC",1624,0)
ORWTPP SAVESURR
"KRN",19,10989,"RPC",1625,0)
ORWTPP SAVET
"KRN",19,10989,"RPC",1626,0)
ORWTPP SETCOMBO
"KRN",19,10989,"RPC",1627,0)
ORWTPP SETDCOS
"KRN",19,10989,"RPC",1628,0)
ORWTPP SETOTHER
"KRN",19,10989,"RPC",1629,0)
ORWTPP SETREM
"KRN",19,10989,"RPC",1630,0)
ORWTPP SETSUB
"KRN",19,10989,"RPC",1631,0)
ORWTPP SORTDEF
"KRN",19,10989,"RPC",1632,0)
ORWTPP TEAMS
"KRN",19,10989,"RPC",1633,0)
ORWTPT ATEAMS
"KRN",19,10989,"RPC",1634,0)
ORWTPT GETTEAM
"KRN",19,10989,"RPC",1635,0)
TIU TEMPLATE GET DEFAULTS
"KRN",19,10989,"RPC",1636,0)
TIU TEMPLATE GET DESCRIPTION
"KRN",19,10989,"RPC",1637,0)
TIU TEMPLATE SET DEFAULTS
"KRN",19,10989,"RPC",1638,0)
ORWTIU IDNOTES INSTALLED
"KRN",19,10989,"RPC",1639,0)
ORQQPX GET FOLDERS
"KRN",19,10989,"RPC",1640,0)
ORQQPX SET FOLDERS
"KRN",19,10989,"RPC",1641,0)
TIU FIELD CAN EDIT
"KRN",19,10989,"RPC",1642,0)
TIU FIELD DELETE
"KRN",19,10989,"RPC",1643,0)
TIU FIELD EXPORT
"KRN",19,10989,"RPC",1644,0)
TIU FIELD IMPORT
"KRN",19,10989,"RPC",1645,0)
TIU FIELD LIST
"KRN",19,10989,"RPC",1646,0)
TIU FIELD LOAD
"KRN",19,10989,"RPC",1647,0)
TIU FIELD LOAD BY IEN
"KRN",19,10989,"RPC",1648,0)
TIU FIELD LOCK
"KRN",19,10989,"RPC",1649,0)
TIU FIELD NAME IS UNIQUE
"KRN",19,10989,"RPC",1650,0)
TIU FIELD SAVE
"KRN",19,10989,"RPC",1651,0)
TIU FIELD UNLOCK
"KRN",19,10989,"RPC",1652,0)
ORWDPS1 CHK94
"KRN",19,10989,"RPC",1653,0)
ORWDPS1 ODSLCT
"KRN",19,10989,"RPC",1654,0)
ORWDPS1 SCHALL
"KRN",19,10989,"RPC",1655,0)
ORWDPS2 ADMIN
"KRN",19,10989,"RPC",1656,0)
ORWDPS2 DAY2QTY
"KRN",19,10989,"RPC",1657,0)
ORWDPS2 OISLCT
"KRN",19,10989,"RPC",1658,0)
ORWDPS2 REQST
"KRN",19,10989,"RPC",1659,0)
ORWDX DGNM
"KRN",19,10989,"RPC",1660,0)
ORWUL FV4DG
"KRN",19,10989,"RPC",1661,0)
ORWUL FVIDX
"KRN",19,10989,"RPC",1662,0)
ORWUL FVSUB
"KRN",19,10989,"RPC",1663,0)
ORWUL QV4DG
"KRN",19,10989,"RPC",1664,0)
ORWUL QVIDX
"KRN",19,10989,"RPC",1665,0)
ORWUL QVSUB
"KRN",19,10989,"RPC",1666,0)
ORWDPS1 DFLTSPLY
"KRN",19,10989,"RPC",1668,0)
PXRM REMINDER DIALOG (TIU)
"KRN",19,10989,"RPC",1669,0)
ORWPCE ANYTIME
"KRN",19,10989,"RPC",1670,0)
ORQQPX GET DEF LOCATIONS
"KRN",19,10989,"RPC",1671,0)
ORWTPP GETIMG
"KRN",19,10989,"RPC",1672,0)
ORWTPP SETIMG
"KRN",19,10989,"RPC",1673,0)
ORWTPO GETIMGD
"KRN",19,10989,"RPC",1674,0)
ORQQPX REM INSERT AT CURSOR
"KRN",19,10989,"RPC",1675,0)
TIU REMINDER DIALOGS
"KRN",19,10989,"RPC",1676,0)
TIU REM DLG OK AS TEMPLATE
"KRN",19,10989,"RPC",1677,0)
ORWDPS2 MAXREF
"KRN",19,10989,"RPC",1678,0)
ORWDPS2 SCHREQ
"KRN",19,10989,"RPC",1679,0)
ORWRP COLUMN HEADERS
"KRN",19,10989,"RPC",1680,0)
TIU FIELD DOLMTEXT
"KRN",19,10989,"RPC",1681,0)
TIU TEMPLATE PERSONAL OBJECTS
"KRN",19,10989,"RPC",1682,0)
ORWPCE AUTO VISIT TYPE SELECT
"KRN",19,10989,"RPC",1683,0)
ORWDPS2 QTY2DAY
"KRN",19,10989,"RPC",1684,0)
ORWU HAS OPTION ACCESS
"KRN",19,10989,"RPC",1685,0)
TIU TEMPLATE LOCK
"KRN",19,10989,"RPC",1686,0)
ORQQPX LVREMLST
"KRN",19,10989,"RPC",1687,0)
ORQQPX NEW COVER SHEET ACTIVE
"KRN",19,10989,"RPC",1688,0)
ORQQPX NEW COVER SHEET REMS
"KRN",19,10989,"RPC",1689,0)
ORQQPX SAVELVL
"KRN",19,10989,"RPC",1690,0)
PXRM REMINDER CATEGORY
"KRN",19,10989,"RPC",1691,0)
PXRM REMINDERS AND CATEGORIES
"KRN",19,10989,"RPC",1692,0)
TIU DIV AND CLASS INFO
"KRN",19,10989,"RPC",1693,0)
TIU TEMPLATE GETBOIL
"KRN",19,10989,"RPC",1694,0)
TIU TEMPLATE GETITEMS
"KRN",19,10989,"RPC",1695,0)
TIU TEMPLATE GETROOTS
"KRN",19,10989,"RPC",1696,0)
TIU TEMPLATE GETTEXT
"KRN",19,10989,"RPC",1697,0)
TIU TEMPLATE ISEDITOR
"KRN",19,10989,"RPC",1698,0)
TIU TEMPLATE UNLOCK
"KRN",19,10989,"RPC",1699,0)
TIU USER CLASS LONG LIST
"KRN",19,10989,"RPC",1700,0)
ORWPCE ALWAYS CHECKOUT
"KRN",19,10989,"RPC",1701,0)
ORWPCE GET EXCLUDED
"KRN",19,10989,"RPC",1702,0)
ORWDPS1 FORMALT
"KRN",19,10989,"RPC",1703,0)
ORQPT DEFAULT LIST SORT
"KRN",19,10989,"RPC",1704,0)
ORWDPS1 DOSEALT
"KRN",19,10989,"RPC",1705,0)
ORWTPR OCDESC
"KRN",19,10989,"RPC",1706,0)
ORWTPR NOTDESC
"KRN",19,10989,"RPC",1707,0)
ORWDPS1 FAILDEA
"KRN",19,10989,"RPC",1708,0)
ORQPT DEFAULT CLINIC DATE RANG
"KRN",19,10989,"RPC",1709,0)
ORWTIU CANLINK
"KRN",19,10989,"RPC",1710,0)
TIU ID ATTACH ENTRY
"KRN",19,10989,"RPC",1711,0)
TIU ID CAN ATTACH
"KRN",19,10989,"RPC",1712,0)
TIU ID CAN RECEIVE
"KRN",19,10989,"RPC",1713,0)
TIU ID DETACH ENTRY
"KRN",19,10989,"RPC",1714,0)
ORWCOM GETOBJS
"KRN",19,10989,"RPC",1715,0)
ORWCOM DETAILS
"KRN",19,10989,"RPC",1716,0)
ORWCOM PTOBJ
"KRN",19,10989,"RPC",1718,0)
TIU TEMPLATE GETLINK
"KRN",19,10989,"RPC",1719,0)
TIU TEMPLATE ALL TITLES
"KRN",19,10989,"RPC",1720,0)
ORWSR LIST
"KRN",19,10989,"RPC",1721,0)
ORWSR SHOW SURG TAB
"KRN",19,10989,"RPC",1722,0)
ORWSR GET SURG CONTEXT
"KRN",19,10989,"RPC",1723,0)
ORWSR SAVE SURG CONTEXT
"KRN",19,10989,"RPC",1724,0)
ORWSR ONECASE
"KRN",19,10989,"RPC",1727,0)
ORWSR SHOW OPTOP WHEN SIGNING
"KRN",19,10989,"RPC",1728,0)
ORWSR IS NON-OR PROCEDURE
"KRN",19,10989,"RPC",1729,0)
ORWSR CASELIST
"KRN",19,10989,"RPC",1730,0)
ORQQCN GET PROC IEN
"KRN",19,10989,"RPC",1731,0)
ORWRP PRINT V REPORT
"KRN",19,10989,"RPC",1732,0)
ORWRP3 EXPAND COLUMNS
"KRN",19,10989,"RPC",1733,0)
ORWTPD ACTDF
"KRN",19,10989,"RPC",1734,0)
ORWTPD DELDFLT
"KRN",19,10989,"RPC",1735,0)
ORWTPD GETDFLT
"KRN",19,10989,"RPC",1736,0)
ORWTPD RSDFLT
"KRN",19,10989,"RPC",1737,0)
ORWTPD SUDF
"KRN",19,10989,"RPC",1738,0)
ORWTPD SUINDV
"KRN",19,10989,"RPC",1739,0)
ORWTPD GETSETS
"KRN",19,10989,"RPC",1740,0)
ORWCOM ORDEROBJ
"KRN",19,10989,"RPC",1741,0)
ORWRP2 COMPABV
"KRN",19,10989,"RPC",1742,0)
ORWRP2 GETLKUP
"KRN",19,10989,"RPC",1743,0)
ORWRP2 SAVLKUP
"KRN",19,10989,"RPC",1744,0)
ORWRP2 COMPDISP
"KRN",19,10989,"RPC",1745,0)
ORWPCE ISCLINIC
"KRN",19,10989,"RPC",1746,0)
ORWCH SAVECOL
"KRN",19,10989,"RPC",1747,0)
ORWSR RPTLIST
"KRN",19,10989,"RPC",1748,0)
ORQQPXRM MST UPDATE
"KRN",19,10989,"RPC",1749,0)
ORWMC PATIENT PROCEDURES1
"KRN",19,10989,"RPC",1750,0)
ORWRA IMAGING EXAMS1
"KRN",19,10989,"RPC",1751,0)
ORWRA REPORT TEXT1
"KRN",19,10989,"RPC",1752,0)
ORWDPS4 CPINFO
"KRN",19,10989,"RPC",1753,0)
ORWDPS4 CPLST
"KRN",19,10989,"RPC",1754,0)
ORWORB KILL UNVER MEDS ALERT
"KRN",19,10989,"RPC",1755,0)
ORWORB KILL UNVER ORDERS ALERT
"KRN",19,10989,"RPC",1756,0)
ORWPCE HNCOK
"KRN",19,10989,"RPC",1757,0)
ORWPS MEDHIST
"KRN",19,10989,"RPC",1758,0)
TIU FIELD CHECK
"KRN",19,10989,"RPC",1759,0)
TIU FIELD LIST ADD
"KRN",19,10989,"RPC",1760,0)
TIU FIELD LIST IMPORT
"KRN",19,10989,"RPC",1761,0)
TIU SET DOCUMENT TEXT
"KRN",19,10989,"RPC",1762,0)
ORWDPS2 CHKPI
"KRN",19,10989,"RPC",1763,0)
ORWDXR GTORITM
"KRN",19,10989,"RPC",1764,0)
ORWDPS2 CHKGRP
"KRN",19,10989,"RPC",1765,0)
ORWDPS2 QOGRP
"KRN",19,10989,"RPC",1766,0)
ORWDXR GETPKG
"KRN",19,10989,"RPC",1767,0)
ORQPT MAKE RPL
"KRN",19,10989,"RPC",1768,0)
ORQPT READ RPL
"KRN",19,10989,"RPC",1769,0)
ORQPT KILL RPL
"KRN",19,10989,"RPC",1770,0)
ORWTIU GET SAVED CP FIELDS
"KRN",19,10989,"RPC",1771,0)
ORWDPS1 LOCPICK
"KRN",19,10989,"RPC",1772,0)
ORWPT LAST5 RPL
"KRN",19,10989,"RPC",1773,0)
ORWPT FULLSSN RPL
"KRN",19,10989,"RPC",1774,0)
ORWOR PKIUSE
"KRN",19,10989,"RPC",1775,0)
ORWOR1 SIG
"KRN",19,10989,"RPC",1776,0)
ORWOR1 CHKDIG
"KRN",19,10989,"RPC",1777,0)
ORWOR1 GETDTEXT
"KRN",19,10989,"RPC",1778,0)
ORWOR1 GETDSIG
"KRN",19,10989,"RPC",1779,0)
ORWTPD GETIMG
"KRN",19,10989,"RPC",1780,0)
OREVNTX1 PRMPTID
"KRN",19,10989,"RPC",1781,0)
ORECS01 CHKESSO
"KRN",19,10989,"RPC",1782,0)
ORECS01 VSITID
"KRN",19,10989,"RPC",1784,0)
OREVNTX LIST
"KRN",19,10989,"RPC",1785,0)
OREVNTX PAT
"KRN",19,10989,"RPC",1786,0)
OREVNTX1 GTEVT
"KRN",19,10989,"RPC",1787,0)
OREVNTX1 CPACT
"KRN",19,10989,"RPC",1788,0)
OREVNTX1 CURSPE
"KRN",19,10989,"RPC",1789,0)
OREVNTX1 CHGEVT
"KRN",19,10989,"RPC",1790,0)
OREVNTX1 DELPTEVT
"KRN",19,10989,"RPC",1791,0)
OREVNTX1 DFLTEVT
"KRN",19,10989,"RPC",1792,0)
OREVNTX ACTIVE
"KRN",19,10989,"RPC",1793,0)
OREVNTX1 PUTEVNT
"KRN",19,10989,"RPC",1794,0)
OREVNTX1 WRLSTED
"KRN",19,10989,"RPC",1795,0)
OREVNTX1 EVT
"KRN",19,10989,"RPC",1796,0)
OREVNTX1 NAME
"KRN",19,10989,"RPC",1797,0)
OREVNTX1 MATCH
"KRN",19,10989,"RPC",1798,0)
OREVNTX1 EMPTY
"KRN",19,10989,"RPC",1799,0)
OREVNTX1 EXISTS
"KRN",19,10989,"RPC",1800,0)
OREVNTX1 GTEVT1
"KRN",19,10989,"RPC",1801,0)
OREVNTX1 DIV
"KRN",19,10989,"RPC",1802,0)
OREVNTX1 DIV1
"KRN",19,10989,"RPC",1803,0)
OREVNTX1 LOC
"KRN",19,10989,"RPC",1804,0)
OREVNTX1 LOC1
"KRN",19,10989,"RPC",1805,0)
ORWDX SENDED
"KRN",19,10989,"RPC",1806,0)
OREVNTX1 GETDLG
"KRN",19,10989,"RPC",1807,0)
ORECS01 ECPRINT
"KRN",19,10989,"RPC",1811,0)
ORECS01 ECRPT
"KRN",19,10989,"RPC",1812,0)
OREVNTX1 ISDCOD
"KRN",19,10989,"RPC",1813,0)
OREVNTX1 SETDFLT
"KRN",19,10989,"RPC",1815,0)
TIU IS THIS A CLINPROC?
"KRN",19,10989,"RPC",1816,0)
TIU IDENTIFY CLINPROC CLASS
"KRN",19,10989,"RPC",1817,0)
TIU LONG LIST CLINPROC TITLES
"KRN",19,10989,"RPC",1819,0)
ORWDPS1 HASOIPI
"KRN",19,10989,"RPC",1821,0)
OREVNTX1 DEFLTS
"KRN",19,10989,"RPC",1822,0)
OREVNTX1 MULTS
"KRN",19,10989,"RPC",1823,0)
OREVNTX1 DONE
"KRN",19,10989,"RPC",1824,0)
OREVNTX1 PROMPT IDS
"KRN",19,10989,"RPC",1825,0)
ORWCIRN CHECKLINK
"KRN",19,10989,"RPC",1826,0)
XWB DIRECT RPC
"KRN",19,10989,"RPC",1827,0)
ORWDPS1 HASROUTE
"KRN",19,10989,"RPC",1828,0)
ORQQCN UNRESOLVED
"KRN",19,10989,"RPC",1829,0)
OREVNTX1 DELDFLT
"KRN",19,10989,"RPC",1830,0)
ORWCH LDFONT
"KRN",19,10989,"RPC",1831,0)
ORWU1 NAMECVT
"KRN",19,10989,"RPC",1832,0)
OREVNTX1 DFLTDLG
"KRN",19,10989,"RPC",1833,0)
ORWDPS5 LESAPI
"KRN",19,10989,"RPC",1834,0)
ORWDPS5 LESGRP
"KRN",19,10989,"RPC",1839,0)
OREVNTX1 TYPEXT
"KRN",19,10989,"RPC",1840,0)
ORWORR RGET
"KRN",19,10989,"RPC",1841,0)
OREVNTX1 AUTHMREL
"KRN",19,10989,"RPC",1842,0)
OREVNTX1 HAVEPRT
"KRN",19,10989,"RPC",1843,0)
OREVNTX1 CMEVTS
"KRN",19,10989,"RPC",1844,0)
OREVNTX1 ODPTEVID
"KRN",19,10989,"RPC",1845,0)
ORWOR PKISITE
"KRN",19,10989,"RPC",1846,0)
OREVNTX1 COMP
"KRN",19,10989,"RPC",1847,0)
OREVNTX1 ISHDORD
"KRN",19,10989,"RPC",1848,0)
ORWDXR ORCPLX
"KRN",19,10989,"RPC",1849,0)
OREVNTX1 ISPASS
"KRN",19,10989,"RPC",1850,0)
OREVNTX1 ISPASS1
"KRN",19,10989,"RPC",1851,0)
OREVNTX1 DLGIEN
"KRN",19,10989,"RPC",1852,0)
ORWDXR CANRN
"KRN",19,10989,"RPC",1853,0)
ORWDXR ISCPLX
"KRN",19,10989,"RPC",1854,0)
ORWDXA OFCPLX
"KRN",19,10989,"RPC",1855,0)
ORQQPX GET NOT PURPOSE
"KRN",19,10989,"RPC",1856,0)
ORWDPS1 IVDEA
"KRN",19,10989,"RPC",1857,0)
ORWDXR ISNOW
"KRN",19,10989,"RPC",1858,0)
ORRHCQ QRYITR
"KRN",19,10989,"RPC",1859,0)
OREVNTX1 GETSTS
"KRN",19,10989,"RPC",1860,0)
ORWU DEFAULT DIVISION
"KRN",19,10989,"RPC",1861,0)
ORWDXA ISACTOI
"KRN",19,10989,"RPC",1862,0)
ORECS01 SAVPATH
"KRN",19,10989,"RPC",1863,0)
ORWOR RESULT HISTORY
"KRN",19,10989,"RPC",1864,0)
XUS GET TOKEN
"KRN",19,10989,"RPC",1865,0)
ORQQPX IMMUN LIST
"KRN",19,10989,"RPC",1866,0)
XWB DEFERRED CLEARALL
"KRN",19,10989,"RPC",1867,0)
ORWOR1 SETDTEXT
"KRN",19,10989,"RPC",1868,0)
ORWOR1 GETDEA
"KRN",19,10989,"RPC",1869,0)
ORWOR1 GETDSCH
"KRN",19,10989,"RPC",1870,0)
ORWORB TEXT FOLLOWUP
"KRN",19,10989,"RPC",1871,0)
ORWU1 NEWLOC
"KRN",19,10989,"RPC",1872,0)
ORWPCE ACTIVE CODE
"KRN",19,10989,"RPC",1873,0)
ORQQPXRM GET WH LETTER TEXT
"KRN",19,10989,"RPC",1874,0)
ORQQPXRM GET WH LETTER TYPE
"KRN",19,10989,"RPC",1875,0)
ORQQPXRM GET WH PROC RESULT
"KRN",19,10989,"RPC",1876,0)
ORQQPXRM WOMEN HEALTH SAVE
"KRN",19,10989,"RPC",1877,0)
ORB FORWARD ALERT
"KRN",19,10989,"RPC",1878,0)
ORB RENEW ALERT
"KRN",19,10989,"RPC",1879,0)
ORPRF CLEAR
"KRN",19,10989,"RPC",1880,0)
ORPRF GETFLG
"KRN",19,10989,"RPC",1881,0)
ORPRF HASFLG
"KRN",19,10989,"RPC",1882,0)
ORWTPD GETOCM
"KRN",19,10989,"RPC",1883,0)
TIU ONE VISIT NOTE?
"KRN",19,10989,"RPC",1884,0)
VAFCTFU CONVERT ICN TO DFN
"KRN",19,10989,"RPC",1885,0)
ORIMO IMOLOC
"KRN",19,10989,"RPC",1886,0)
ORIMO IMOOD
"KRN",19,10989,"RPC",1887,0)
ORWDPS4 IPOD4OP
"KRN",19,10989,"RPC",1888,0)
ORWDPS4 UPDTDG
"KRN",19,10989,"RPC",1889,0)
TIU USER INACTIVE?
"KRN",19,10989,"RPC",1890,0)
ORWTPD PUTOCM
"KRN",19,10989,"RPC",1891,0)
ORWOR ACTION TEXT
"KRN",19,10989,"RPC",1892,0)
ORQQPXRM GEC DIALOG
"KRN",19,10989,"RPC",1893,0)
ORQQPXRM GET WH REPORT TEXT
"KRN",19,10989,"RPC",1894,0)
ORWDXR01 CANCHG
"KRN",19,10989,"RPC",1895,0)
ORWDXR01 SAVCHG
"KRN",19,10989,"RPC",1896,0)
TIU HAS AUTHOR SIGNED?
"KRN",19,10989,"RPC",1897,0)
ORQQPXRM CHECK REM VERSION
"KRN",19,10989,"RPC",1898,0)
ORQQPXRM GEC STATUS PROMPT
"KRN",19,10989,"RPC",1899,0)
ORQQPXRM GEC STATUS PROMPT
"KRN",19,10989,"RPC",1900,0)
ORWDAL32 SEND BULLETIN
"KRN",19,10989,"RPC",1901,0)
ORWDBA1 ORPKGTYP
"KRN",19,10989,"RPC",1902,0)
ORWDXR01 ISSPLY
"KRN",19,10989,"RPC",1903,0)
ORWDBA1 RCVORCI
"KRN",19,10989,"RPC",1904,0)
ORWPS REASON
"KRN",19,10989,"RPC",1905,0)
ORQQPXRM GEC FINISHED?
"KRN",19,10989,"RPC",1906,0)
ORWDXM3 ISUDQO
"KRN",19,10989,"RPC",1908,0)
ORWDBA1 SCLST
"KRN",19,10989,"RPC",1909,0)
ORWDXR01 OXDATA
"KRN",19,10989,"RPC",1914,0)
ORWDBA1 BASTATUS
"KRN",19,10989,"RPC",1920,0)
ORWORB SETSORT
"KRN",19,10989,"RPC",1921,0)
ORWORB GETSORT
"KRN",19,10989,"RPC",1922,0)
ORWOR EXPIRED
"KRN",19,10989,"RPC",1928,0)
ORECS01 GETDIV
"KRN",19,10989,"RPC",1933,0)
ORWTPD1 GETEFDAT
"KRN",19,10989,"RPC",1934,0)
ORWTPD1 GETEDATS
"KRN",19,10989,"RPC",1935,0)
ORWTPD1 PUTEDATS
"KRN",19,10989,"RPC",1936,0)
ORWTPD1 GETCSDEF
"KRN",19,10989,"RPC",1937,0)
ORWTPD1 GETCSRNG
"KRN",19,10989,"RPC",1938,0)
ORWTPD1 PUTCSRNG
"KRN",19,10989,"RPC",1939,0)
ORWTPD1 GETEAFL
"KRN",19,10989,"RPC",1940,0)
ORWDBA1 GETORDX
"KRN",19,10989,"RPC",1941,0)
ORWDBA3 HINTS
"KRN",19,10989,"RPC",1942,0)
ORWDAL32 LOAD FOR EDIT
"KRN",19,10989,"RPC",1943,0)
ORWDAL32 SAVE ALLERGY
"KRN",19,10989,"RPC",1944,0)
ORWDAL32 SITE PARAMS
"KRN",19,10989,"RPC",1945,0)
ORWPCE CXNOSHOW
"KRN",19,10989,"RPC",1946,0)
ORWDBA2 ADDPDL
"KRN",19,10989,"RPC",1947,0)
ORWDBA2 DELPDL
"KRN",19,10989,"RPC",1948,0)
ORWDBA2 GETDUDC
"KRN",19,10989,"RPC",1949,0)
ORWDBA2 GETPDL
"KRN",19,10989,"RPC",1950,0)
ORWDBA4 GETBAUSR
"KRN",19,10989,"RPC",1951,0)
ORWDBA4 GETTFCI
"KRN",19,10989,"RPC",1952,0)
ORWNSS NSSMSG
"KRN",19,10989,"RPC",1953,0)
ORWNSS QOSCH
"KRN",19,10989,"RPC",1954,0)
ORWNSS VALSCH
"KRN",19,10989,"RPC",1955,0)
ORWNSS CHKSCH
"KRN",19,10989,"RPC",1956,0)
ORWDPS4 ISUDIV
"KRN",19,10989,"RPC",1957,0)
ORWDPS32 AUTHNVA
"KRN",19,10989,"RPC",1962,0)
ORWTIU CHKTXT
"KRN",19,10989,"RPC",1964,0)
ORWDPS5 ISVTP
"KRN",19,10989,"RPC",1965,0)
TIU IS THIS A SURGERY?
"KRN",19,10989,"RPC",1966,0)
TIU IDENTIFY SURGERY CLASS
"KRN",19,10989,"RPC",1967,0)
TIU LONG LIST SURGERY TITLES
"KRN",19,10989,"RPC",1968,0)
TIU GET DOCUMENTS FOR REQUEST
"KRN",19,10989,"RPC",1969,0)
TIU SET ADMINISTRATIVE CLOSURE
"KRN",19,10989,"RPC",1970,0)
ORBCMA5 GETUDID
"KRN",19,10989,"RPC",1973,0)
ORIMO ISCLOC
"KRN",19,10989,"RPC",1974,0)
ORIMO ISIVQO
"KRN",19,10989,"RPC",1975,0)
ORWDBA7 GETIEN9
"KRN",19,10989,"RPC",1976,0)
ORWGN GNLOC
"KRN",19,10989,"RPC",1977,0)
ORWGN AUTHUSR
"KRN",19,10989,"RPC",1978,0)
ORVAA VAA
"KRN",19,10989,"RPC",1981,0)
ORWDAL32 CLINUSER
"KRN",19,10989,"RPC",1982,0)
ORWDBA7 ISWITCH
"KRN",19,10989,"RPC",1983,0)
ORWDFH CURRENT MEALS
"KRN",19,10989,"RPC",1984,0)
ORWDFH NFSLOC READY
"KRN",19,10989,"RPC",1985,0)
ORWDFH OPDIETS
"KRN",19,10989,"RPC",1986,0)
ORWMHV MHV
"KRN",19,10989,"RPC",1987,0)
ORWPCE1 NONCOUNT
"KRN",19,10989,"RPC",1988,0)
ORWPFSS IS PFSS ACTIVE?
"KRN",19,10989,"RPC",1989,0)
GMV EXTRACT REC
"KRN",19,10989,"RPC",1990,0)
GMV MARK ERROR
"KRN",19,10989,"RPC",1991,0)
ORWDXVB COMPORD
"KRN",19,10989,"RPC",1992,0)
ORWDXVB GETALL
"KRN",19,10989,"RPC",1993,0)
ORWDXVB RAW
"KRN",19,10989,"RPC",1994,0)
ORWDXVB RESULTS
"KRN",19,10989,"RPC",1995,0)
ORWDXVB STATALOW
"KRN",19,10989,"RPC",1996,0)
ORWGRPC ALLITEMS
"KRN",19,10989,"RPC",1997,0)
ORWGRPC CLASS
"KRN",19,10989,"RPC",1998,0)
ORWGRPC DATEITEM
"KRN",19,10989,"RPC",1999,0)
ORWGRPC DELVIEWS
"KRN",19,10989,"RPC",2000,0)
ORWGRPC DETAILS
"KRN",19,10989,"RPC",2001,0)
ORWGRPC GETDATES
"KRN",19,10989,"RPC",2002,0)
ORWGRPC GETPREF
"KRN",19,10989,"RPC",2003,0)
ORWGRPC GETVIEWS
"KRN",19,10989,"RPC",2004,0)
ORWGRPC ITEMDATA
"KRN",19,10989,"RPC",2005,0)
ORWGRPC ITEMS
"KRN",19,10989,"RPC",2006,0)
ORWGRPC LOOKUP
"KRN",19,10989,"RPC",2007,0)
ORWGRPC PUBLIC
"KRN",19,10989,"RPC",2008,0)
ORWGRPC RPTPARAM
"KRN",19,10989,"RPC",2009,0)
ORWGRPC SETPREF
"KRN",19,10989,"RPC",2010,0)
ORWGRPC SETVIEWS
"KRN",19,10989,"RPC",2011,0)
ORWGRPC TESTSPEC
"KRN",19,10989,"RPC",2012,0)
ORWGRPC TYPES
"KRN",19,10989,"RPC",2013,0)
TIU GET DOCUMENT STATUS
"KRN",19,10989,"RPC",2014,0)
TIU GET PRF ACTIONS
"KRN",19,10989,"RPC",2015,0)
TIU ISPRF
"KRN",19,10989,"RPC",2016,0)
TIU LINK TO FLAG
"KRN",19,10989,"RPC",2017,0)
ORWGRPC DETAIL
"KRN",19,10989,"RPC",2018,0)
ORWU VERSION
"KRN",19,10989,"RPC",2019,0)
GMV ALLERGY
"KRN",19,10989,"RPC",2020,0)
ORWCIRN WEBADDR
"KRN",19,10989,"RPC",2023,0)
ORWGRPC TAX
"KRN",19,10989,"RPC",2024,0)
GMV DLL VERSION
"KRN",19,10989,"RPC",2025,0)
ORWDX CHANGE
"KRN",19,10989,"RPC",2026,0)
GMV ADD VM
"KRN",19,10989,"RPC",2027,0)
GMV CONVERT DATE
"KRN",19,10989,"RPC",2028,0)
GMV GET CATEGORY IEN
"KRN",19,10989,"RPC",2029,0)
GMV GET CURRENT TIME
"KRN",19,10989,"RPC",2030,0)
GMV GET VITAL TYPE IEN
"KRN",19,10989,"RPC",2031,0)
GMV LATEST VM
"KRN",19,10989,"RPC",2032,0)
GMV MANAGER
"KRN",19,10989,"RPC",2033,0)
GMV PARAMETER
"KRN",19,10989,"RPC",2034,0)
GMV USER
"KRN",19,10989,"RPC",2035,0)
GMV VITALS/CAT/QUAL
"KRN",19,10989,"RPC",2036,0)
GMV V/M ALLDATA
"KRN",19,10989,"RPC",2037,0)
TIU GET LINKED PRF NOTES
"KRN",19,10989,"RPC",2038,0)
TIU GET PRF TITLE
"KRN",19,10989,"RPC",2039,0)
ORWDX1 PATWARD
"KRN",19,10989,"RPC",2040,0)
ORWRP4 HDR MODIFY
"KRN",19,10989,"RPC",2041,0)
ORWDX1 STCHANGE
"KRN",19,10989,"RPC",2042,0)
ORWDX1 DCREN
"KRN",19,10989,"RPC",2043,0)
ORQQPXRM MHV
"KRN",19,10989,"RPC",2044,0)
ORWGRPC GETSIZE
"KRN",19,10989,"RPC",2045,0)
ORWGRPC SETSIZE
"KRN",19,10989,"RPC",2046,0)
GMV LOCATION SELECT
"KRN",19,10989,"RPC",2047,0)
ORWCIRN AUTORDV
"KRN",19,10989,"RPC",2048,0)
ORPRF TRIGGER POPUP
"KRN",19,10989,"RPC",2049,0)
ORWCIRN HDRON
"KRN",19,10989,"RPC",2051,0)
ORCDLR2 CHECK ALL LC TO WC
"KRN",19,10989,"RPC",2052,0)
ORCDLR2 CHECK ONE LC TO WC
"KRN",19,10989,"RPC",2053,0)
ORALWORD ALLWORD
"KRN",19,10989,"RPC",2054,0)
ORWDX1 ORDMATCH
"KRN",19,10989,"RPC",2055,0)
ORWDX1 DCORIG
"KRN",19,10989,"RPC",2056,0)
ORWDX1 UNDCORIG
"KRN",19,10989,"RPC",2057,0)
ORWDXVB SUBCHK
"KRN",19,10989,"RPC",2058,0)
ORDDPAPI ADMTIME
"KRN",19,10989,"RPC",2059,0)
ORWU PARAMS
"KRN",19,10989,"RPC",2060,0)
ORWDPS1 DOWSCH
"KRN",19,10989,"RPC",2061,0)
ORWDPS33 COMPLOC
"KRN",19,10989,"RPC",2062,0)
ORWGRPC FASTDATA
"KRN",19,10989,"RPC",2063,0)
ORWGRPC FASTITEM
"KRN",19,10989,"RPC",2064,0)
ORWGRPC FASTTASK
"KRN",19,10989,"RPC",2065,0)
ORWGRPC FASTLABS
"KRN",19,10989,"RPC",2066,0)
ORWDPS1 QOMEDALT
"KRN",19,10989,"RPC",2067,0)
ORWGRPC ALLVIEWS
"KRN",19,10989,"RPC",2068,0)
ORDDPAPI CLOZMSG
"KRN",19,10989,"RPC",2069,0)
ORWGRPC TESTING
"KRN",19,10989,"RPC",2070,0)
ORQQPXRM MHDLL
"KRN",19,10989,"RPC",2071,0)
ORWDLR33 LC TO WC
"KRN",19,10989,"RPC",2072,0)
ORWU2 COSIGNER
"KRN",19,10989,"RPC",2073,0)
ORWDXVB NURSADMN
"KRN",19,10989,"RPC",2075,0)
TIU IS USER A USR PROVIDER
"KRN",19,10989,"RPC",2076,0)
ORWDPS33 IVDOSFRM
"KRN",19,10989,"RPC",2077,0)
ORWDPS32 ALLIVRTE
"KRN",19,10989,"RPC",2078,0)
ORWDXM1 SVRPC
"KRN",19,10989,"RPC",2079,0)
ORWDXVB VBTNS
"KRN",19,10989,"RPC",2080,0)
MAG4 REMOTE IMPORT
"KRN",19,10989,"RPC",2081,0)
ORWDX UNLKOTH
"KRN",19,10989,"RPC",2082,0)
OR GET COMBAT VET
"KRN",19,10989,"RPC",2083,0)
GMV CLOSEST READING
"KRN",19,10989,"RPC",2084,0)
ORQQCN ISPROSVC
"KRN",19,10989,"RPC",2085,0)
ORQQPL PROBLEM NTRT BULLETIN
"KRN",19,10989,"RPC",2086,0)
ORWPCE GET DX TEXT
"KRN",19,10989,"RPC",2087,0)
ORCHECK ISMONO
"KRN",19,10989,"RPC",2088,0)
ORCHECK GETMONO
"KRN",19,10989,"RPC",2089,0)
ORCHECK GETMONOL
"KRN",19,10989,"RPC",2090,0)
ORCHECK DELMONO
"KRN",19,10989,"RPC",2091,0)
ORCHECK GETXTRA
"KRN",19,10989,"RPC",2092,0)
ORWDPS33 GETADDFR
"KRN",19,10989,"RPC",2093,0)
ORCNOTE GET TOTAL
"KRN",19,10989,"RPC",2094,0)
ORVW FACLIST
"KRN",19,10989,"RPC",2095,0)
ORWDXVB3 DIAGORD
"KRN",19,10989,"RPC",2096,0)
ORWDXVB3 COLLTIM
"KRN",19,10989,"RPC",2097,0)
ORWDXVB3 SWPANEL
"KRN",19,10989,"RPC",2099,0)
XUS PKI GET UPN
"KRN",19,10989,"RPC",2100,0)
ORDEA HASHINFO
"KRN",19,10989,"RPC",2101,0)
ORDEA ORDHINFO
"KRN",19,10989,"RPC",2102,0)
ORDEA DEATEXT
"KRN",19,10989,"RPC",2103,0)
ORDEA CSVALUE
"KRN",19,10989,"RPC",2104,0)
ORDEA SIGINFO
"KRN",19,10989,"RPC",2106,0)
ORWPCE ICDVER
"KRN",19,10989,"RPC",2107,0)
ORDEA PINLKCHK
"KRN",19,10989,"RPC",2108,0)
ORDEA PINLKSET
"KRN",19,10989,"RPC",2109,0)
ORQQPL4 LEX
"KRN",19,10989,"RPC",2110,0)
ORDEA PNDHLD
"KRN",19,10989,"RPC",2111,0)
XUS PKI SET UPN
"KRN",19,10989,"RPC",2112,0)
ORDEA LNKMSG
"KRN",19,10989,"RPC",2113,0)
ORWPCE4 LEX
"KRN",19,10989,"RPC",2114,0)
ORWLEX GETI10DX
"KRN",19,10989,"RPC",2115,0)
ORWPCE I10IMPDT
"KRN",19,10989,"RPC",2131,0)
ORWLEX GETFREQ
"KRN",19,10989,"RPC",2132,0)
ORDEBUG SAVERPCS
"KRN",19,10989,"RPC",2133,0)
ORDEBUG SAVEDESC
"KRN",19,10989,"RPC",2144,0)
XWB ARE RPCS AVAILABLE
"KRN",19,10989,"RPC",2145,0)
ORWRP1A RADIO
"KRN",19,10989,"RPC",2146,0)
ORQQCN GET USER AUTH
"KRN",19,10989,"RPC",2147,0)
ORUTL ISCLORD
"KRN",19,10989,"RPC",2148,0)
ORWU OVERDL
"KRN",19,10989,"RPC",2149,0)
ORBCMA5 JOB
"KRN",19,10989,"RPC",2150,0)
ORBCMA5 LOCK
"KRN",19,10989,"RPC",2151,0)
ORBCMA5 UNLOCK
"KRN",19,10989,"RPC",2152,0)
TIU CAN PRINT WORK/CHART COPY
"KRN",19,10989,"RPC",2154,0)
ORWGN IDTVALID
"KRN",19,10989,"RPC",2155,0)
ORWGN MAXFRQ
"KRN",19,10989,"RPC",2156,0)
ORUTL4 DLL
"KRN",19,10989,"U")
CPRSCHART VERSION 1.0.30.75
"KRN",19,14334,-1)
0^7
"KRN",19,14334,0)
OR CONV INPT QO TO CLIN ORD QO^Create Clinic Order QOs from Inpatient QOs^^R^^^^^^^^ORDER ENTRY/RESULTS REPORTING
"KRN",19,14334,1,0)
^^50^50^3160602^
"KRN",19,14334,1,1,0)
This utility provides a means of converting existing Unit Dose 
"KRN",19,14334,1,2,0)
Medications or IV Medication quick orders (QO) into Clinic Medication or 
"KRN",19,14334,1,3,0)
Clinic Infusion quick orders respectively. Upon entering the option, the
"KRN",19,14334,1,4,0)
user is presented with a list of all Unit Dose and IV Medication quick
"KRN",19,14334,1,5,0)
orders on the system.  Personal quick orders are excluded from the list.
"KRN",19,14334,1,6,0)
For any item in the list, the utility offers two actions: Move, or Copy.
"KRN",19,14334,1,7,0)
 
"KRN",19,14334,1,8,0)
COPY
"KRN",19,14334,1,9,0)
---- 
"KRN",19,14334,1,10,0)
Copy will create a copy of the quick order and then, if OR*3.0*350 
"KRN",19,14334,1,11,0)
(CPRS GUI v30.B) has been installed, will prompt you to delete the
"KRN",19,14334,1,12,0)
originally selected quick order.  During the copy process, the user is 
"KRN",19,14334,1,13,0)
prompted to enter a new name for the copied order and the Display Group is
"KRN",19,14334,1,14,0)
set to Clinic Medications or Clinic Infusions. The Copy action can only
"KRN",19,14334,1,15,0)
work with one quick order at a time and therefore is limited to a single
"KRN",19,14334,1,16,0)
selection item from the list of available quick orders.
"KRN",19,14334,1,17,0)
 
"KRN",19,14334,1,18,0)
If you choose to delete the original quick order, the utility will check
"KRN",19,14334,1,19,0)
for any pointers referencing the selected quick order.  If any other items
"KRN",19,14334,1,20,0)
(menus, orders sets, display group(s), reminder dialog items) are
"KRN",19,14334,1,21,0)
referencing the selected quick order, the delete action will not be
"KRN",19,14334,1,22,0)
permitted. If any pointers are found, the utility will display those items
"KRN",19,14334,1,23,0)
on the screen.  If, at some point in the future, the pointers are removed
"KRN",19,14334,1,24,0)
(i.e. you find that the selected QO is part of an order menu and then you
"KRN",19,14334,1,25,0)
remove that QO from the menu) you should then be able to manually delete
"KRN",19,14334,1,26,0)
the QO via the QO editor [ORCM QUICK ORDERS].
"KRN",19,14334,1,27,0)
 
"KRN",19,14334,1,28,0)
MOVE
"KRN",19,14334,1,29,0)
----
"KRN",19,14334,1,30,0)
Move will modify the selected quick order by changing the Display Group 
"KRN",19,14334,1,31,0)
to Clinic Medications or Clinic Infusions. The Move action allows for
"KRN",19,14334,1,32,0)
selecting either a single item or a range of items (e.g. 1,3,4-9) to be
"KRN",19,14334,1,33,0)
converted in succession.
"KRN",19,14334,1,34,0)
 
"KRN",19,14334,1,35,0)
After entering the range of numbers, the user is asked: 
"KRN",19,14334,1,36,0)
"Do you want to MOVE the selected quick order(s)?" The default answer is
"KRN",19,14334,1,37,0)
NO. The user must answer YES in order to begin the operation. After
"KRN",19,14334,1,38,0)
entering "YES", the utility will tell the user that the MOVE operation is
"KRN",19,14334,1,39,0)
in progress and then announce that the operation has completed. "Moving
"KRN",19,14334,1,40,0)
selected quick order(s)." will appear on the screen during the MOVE 
"KRN",19,14334,1,41,0)
operation. When MOVE has completed, " Done!" will be tacked onto the end 
"KRN",19,14334,1,42,0)
of the display to let the user know the operation has completed.
"KRN",19,14334,1,43,0)
 
"KRN",19,14334,1,44,0)
During MOVE, if a given order dialog is not found, the following message
"KRN",19,14334,1,45,0)
will be displayed:
"KRN",19,14334,1,46,0)
"Abort: Order dialog not found - check file entry and try again."
"KRN",19,14334,1,47,0)
"Order Dialog: " (Name of the offending  order dialog will be inserted)
"KRN",19,14334,1,48,0)
In this scenario, after checking that the selected order dialog is a valid
"KRN",19,14334,1,49,0)
entry and does not appear corrupted in any way, try the MOVE operation 
"KRN",19,14334,1,50,0)
again. If problems persist, IT assistance may be required.
"KRN",19,14334,25)
UDQO^ORCMEDT9
"KRN",19,14334,"U")
CREATE CLINIC ORDER QOS FROM I
"KRN",19,14385,-1)
0^5
"KRN",19,14385,0)
OR SUPPLY NF CONVERSION^CONVERT SUPPLY NON-FORMULARY OIS^^R^^^^^^^^^^
"KRN",19,14385,1,0)
^^3^3^3160503^
"KRN",19,14385,1,1,0)
Use this option to set all orderable items marked as Supply and 
"KRN",19,14385,1,2,0)
Non-Formulary in the Orderable Items File (101.43) to be QO-ONLY set to 
"KRN",19,14385,1,3,0)
yes.
"KRN",19,14385,20)

"KRN",19,14385,25)
SUPPLYNF^ORSPUTIL
"KRN",19,14385,"U")
CONVERT SUPPLY NON-FORMULARY O
"KRN",19,14386,-1)
0^6
"KRN",19,14386,0)
OR SUPPLY OP CONVERSION^CONVERT SUPPLY OUTPATIENT OIS^^R^^^^^^^^
"KRN",19,14386,1,0)
^^3^3^3160503^
"KRN",19,14386,1,1,0)
Use this option to set all orderable items that are marked as Supply and 
"KRN",19,14386,1,2,0)
that are set as QO-ONLY=YES for Outpatient Meds, to be QO-ONLY=YES for 
"KRN",19,14386,1,3,0)
Supplies also.
"KRN",19,14386,25)
COPYO2S^ORSPUTIL
"KRN",19,14386,"U")
CONVERT SUPPLY OUTPATIENT OIS
"KRN",19,14387,-1)
0^4
"KRN",19,14387,0)
OR SUPPLY UTIL MENU^SUPPLY COVERSION UTILITY MENU^^M^^^^^^^^
"KRN",19,14387,1,0)
^19.06^2^2^3160503^^
"KRN",19,14387,1,1,0)
This menu provides options to run conversions for Supply Orderable Items 
"KRN",19,14387,1,2,0)
to automatically set the QO-ONLY field to yes.
"KRN",19,14387,10,0)
^19.01IP^2^2
"KRN",19,14387,10,1,0)
14385^NF
"KRN",19,14387,10,1,"^")
OR SUPPLY NF CONVERSION
"KRN",19,14387,10,2,0)
14386^OP
"KRN",19,14387,10,2,"^")
OR SUPPLY OP CONVERSION
"KRN",19,14387,99)
64041,33760
"KRN",19,14387,"U")
SUPPLY COVERSION UTILITY MENU
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PGL",101.41,0,5,5)
DISPLAY GROUP^P100.98'^ORD(100.98,^0;5^Q
"PGL",101.41,0,7,7)
PACKAGE^P9.4'^DIC(9.4,^0;7^Q
"PGL",101.412,0,2,2)
ITEM^P101.41'X^ORD(101.41,^0;2^D TREE^ORDD41
"PGL",101.412,0,11,1)
PARENT^P101.41'^ORD(101.41,^0;11^Q
"PGL",101.415,0,2,2)
ITEM^P101.41'^ORD(101.41,^0;2^Q
"PGL",101.416,0,2,.02)
DIALOG^P101.41'^ORD(101.41,^0;2^Q
"PKG",170,-1)
1^1
"PKG",170,0)
ORDER ENTRY/RESULTS REPORTING^OR^Order Entry/Results Reporting
"PKG",170,20,0)
^9.402P^^
"PKG",170,22,0)
^9.49I^1^1
"PKG",170,22,1,0)
3.0^2971217^2980917^11712
"PKG",170,22,1,"PAH",1,0)
423^3160817
"PKG",170,22,1,"PAH",1,1,0)
^^1^1^3160817
"PKG",170,22,1,"PAH",1,1,1,0)
The description of this patch can be found in the National Patch Module.
"PRE")
ORY423E
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
29
"RTN","ORB3F1")
0^28^B26395205
"RTN","ORB3F1",1,0)
ORB3F1 ; slc/CLA - Extrinsic functions to support OE/RR 3 notifications ;08/17/16  07:57
"RTN","ORB3F1",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**9,74,139,190,220,423**;Dec 17, 1997;Build 19
"RTN","ORB3F1",3,0)
 ;
"RTN","ORB3F1",4,0)
FIREFLOI(ORNUM,ORLOC,ORDT,IOPT) ;
"RTN","ORB3F1",5,0)
 ;get all flagged OIs from order
"RTN","ORB3F1",6,0)
 N OILST,ORI,ORFLST
"RTN","ORB3F1",7,0)
 S ORI=""
"RTN","ORB3F1",8,0)
 S IOPT=$$ISCLORIP(ORNUM,IOPT)
"RTN","ORB3F1",9,0)
 D OIM^ORQOR2(.OILST,ORNUM)
"RTN","ORB3F1",10,0)
 Q:+$G(OILST)<1
"RTN","ORB3F1",11,0)
 F  S ORI=$O(OILST(ORI)) Q:'ORI  D
"RTN","ORB3F1",12,0)
 . N ORBLST,ORBERR,ORBI,ORBFLAG,ORBE
"RTN","ORB3F1",13,0)
 . S ORBE=""
"RTN","ORB3F1",14,0)
 . I IOPT="I" D
"RTN","ORB3F1",15,0)
 . . D ENVAL^XPAR(.ORBLST,"ORB OI ORDERED - INPT","`"_$G(OILST(ORI)),.ORBERR)
"RTN","ORB3F1",16,0)
 . . Q:$G(ORBLST)>0
"RTN","ORB3F1",17,0)
 . . D ENVAL^XPAR(.ORBLST,"ORB OI ORDERED - INPT PR","`"_$G(OILST(ORI)),.ORBERR)
"RTN","ORB3F1",18,0)
 . I IOPT="O" D
"RTN","ORB3F1",19,0)
 . . D ENVAL^XPAR(.ORBLST,"ORB OI ORDERED - OUTPT","`"_$G(OILST(ORI)),.ORBERR)
"RTN","ORB3F1",20,0)
 . . Q:$G(ORBLST)>0
"RTN","ORB3F1",21,0)
 . . D ENVAL^XPAR(.ORBLST,"ORB OI ORDERED - OUTPT PR","`"_$G(OILST(ORI)),.ORBERR)
"RTN","ORB3F1",22,0)
 . I 'ORBERR,$G(ORBLST)>0 D
"RTN","ORB3F1",23,0)
 . . F ORBI=1:1:ORBLST D
"RTN","ORB3F1",24,0)
 . . . S ORBE=$O(ORBLST(ORBE))
"RTN","ORB3F1",25,0)
 . . . I $D(ORBLST(ORBE,$G(OILST(ORI)))) S ORFLST(OILST(ORI))=""
"RTN","ORB3F1",26,0)
 ;foreach flagged OI in order fire alert
"RTN","ORB3F1",27,0)
 N ORANUM,ORDFN
"RTN","ORB3F1",28,0)
 S ORDFN=+$P($G(^OR(100,+ORNUM,0)),U,2)
"RTN","ORB3F1",29,0)
 S ORANUM=41 I IOPT="O" S ORANUM=61
"RTN","ORB3F1",30,0)
 S ORI="" F  S ORI=$O(ORFLST(ORI)) Q:'ORI  D
"RTN","ORB3F1",31,0)
 . N ORMSG
"RTN","ORB3F1",32,0)
 . S ORMSG="Order placed: "_$P($G(^ORD(101.43,ORI,0)),U,1)_" "_ORDT
"RTN","ORB3F1",33,0)
 . I $L(ORLOC)>0 S ORMSG="["_ORLOC_"] "_ORMSG
"RTN","ORB3F1",34,0)
 . I '$D(^TMP("ORB3 FIREFLOI",$J,ORDFN,+ORNUM,ORANUM,ORI,ORDT)) D
"RTN","ORB3F1",35,0)
 . . D EN^ORB3(ORANUM,ORDFN,+ORNUM,"",ORMSG,ORI)
"RTN","ORB3F1",36,0)
 . . S ^TMP("ORB3 FIREFLOI",$J,ORDFN,+ORNUM,ORANUM,ORI,ORDT)=$$NOW^XLFDT
"RTN","ORB3F1",37,0)
 Q
"RTN","ORB3F1",38,0)
XQAKILL(ORN) ;extrinsic function to return the delete mechanism for the notification based on definition in PARAM DEF file
"RTN","ORB3F1",39,0)
 N ORBKILL S ORBKILL=1
"RTN","ORB3F1",40,0)
 Q:$G(ORN)="" ORBKILL
"RTN","ORB3F1",41,0)
 S ORBKILL=$$GET^XPAR("DIV^SYS^PKG","ORB DELETE MECHANISM",ORN,"I")
"RTN","ORB3F1",42,0)
 I ORBKILL="A" S ORBKILL=0  ;delete for all recipients
"RTN","ORB3F1",43,0)
 E  S ORBKILL=1  ;default for delete mechanism is 1 (delete only for this recipient)
"RTN","ORB3F1",44,0)
 Q ORBKILL
"RTN","ORB3F1",45,0)
SITEORD(ORNUM,IOPT) ;Extrinsic function returns 1 (Yes) if the site has flagged the
"RTN","ORB3F1",46,0)
 ; orderable item (determined from the order number ORNUM) to trigger a
"RTN","ORB3F1",47,0)
 ; notification when ordered
"RTN","ORB3F1",48,0)
 S IOPT=$$ISCLORIP(ORNUM,IOPT)
"RTN","ORB3F1",49,0)
 N ORBFLAG,ORI,ORBLST,ORBERR,ORBI,ORBE,OILST
"RTN","ORB3F1",50,0)
 S ORBFLAG=0,ORI="",ORBE="",ORBERR=""
"RTN","ORB3F1",51,0)
 Q:+$G(ORNUM)<1 ORBFLAG
"RTN","ORB3F1",52,0)
 D OIM^ORQOR2(.OILST,ORNUM)
"RTN","ORB3F1",53,0)
 Q:+$G(OILST)<1 ORBFLAG
"RTN","ORB3F1",54,0)
 F  S ORI=$O(OILST(ORI)) Q:'ORI!ORBFLAG  D
"RTN","ORB3F1",55,0)
 . I IOPT="I" D
"RTN","ORB3F1",56,0)
 . . D ENVAL^XPAR(.ORBLST,"ORB OI ORDERED - INPT","`"_$G(OILST(ORI)),.ORBERR)
"RTN","ORB3F1",57,0)
 . . Q:$G(ORBLST)>0
"RTN","ORB3F1",58,0)
 . . D ENVAL^XPAR(.ORBLST,"ORB OI ORDERED - INPT PR","`"_$G(OILST(ORI)),.ORBERR)
"RTN","ORB3F1",59,0)
 . I IOPT="O" D
"RTN","ORB3F1",60,0)
 . . D ENVAL^XPAR(.ORBLST,"ORB OI ORDERED - OUTPT","`"_$G(OILST(ORI)),.ORBERR)
"RTN","ORB3F1",61,0)
 . . Q:$G(ORBLST)>0
"RTN","ORB3F1",62,0)
 . . D ENVAL^XPAR(.ORBLST,"ORB OI ORDERED - OUTPT PR","`"_$G(OILST(ORI)),.ORBERR)
"RTN","ORB3F1",63,0)
 . I 'ORBERR,$G(ORBLST)>0 D
"RTN","ORB3F1",64,0)
 . . F ORBI=1:1:ORBLST Q:ORBFLAG=1  D
"RTN","ORB3F1",65,0)
 . . . S ORBE=$O(ORBLST(ORBE))
"RTN","ORB3F1",66,0)
 . . . I $D(ORBLST(ORBE,$G(OILST(ORI)))) S ORBFLAG=1
"RTN","ORB3F1",67,0)
 Q ORBFLAG
"RTN","ORB3F1",68,0)
SITERES(ORNUM,IOPT) ;Extrinsic function returns 1 (Yes) if the site has flagged the
"RTN","ORB3F1",69,0)
 ; orderable item (determined from the order number ORNUM) to trigger a
"RTN","ORB3F1",70,0)
 ; notification when resulted
"RTN","ORB3F1",71,0)
 N ORBFLAG,OI,ORBLST,ORBERR,ORBI,ORBE
"RTN","ORB3F1",72,0)
 S ORBFLAG=0,OI="",ORBE="",ORBERR=""
"RTN","ORB3F1",73,0)
 Q:+$G(ORNUM)<1 ORBFLAG
"RTN","ORB3F1",74,0)
 S OI=$$OI^ORQOR2(ORNUM)
"RTN","ORB3F1",75,0)
 Q:+$G(OI)<1 ORBFLAG
"RTN","ORB3F1",76,0)
 I IOPT="I" D ENVAL^XPAR(.ORBLST,"ORB OI RESULTS - INPT","`"_OI,.ORBERR)
"RTN","ORB3F1",77,0)
 I IOPT="O" D ENVAL^XPAR(.ORBLST,"ORB OI RESULTS - OUTPT","`"_OI,.ORBERR)
"RTN","ORB3F1",78,0)
 I 'ORBERR,$G(ORBLST)>0 D
"RTN","ORB3F1",79,0)
 .F ORBI=1:1:ORBLST Q:ORBFLAG=1  D
"RTN","ORB3F1",80,0)
 ..S ORBE=$O(ORBLST(ORBE))
"RTN","ORB3F1",81,0)
 ..I $D(ORBLST(ORBE,OI)) S ORBFLAG=1
"RTN","ORB3F1",82,0)
 Q ORBFLAG
"RTN","ORB3F1",83,0)
LRRAD(OI) ;Extrinsic function returns 1 (true) if Orderable Item is a
"RTN","ORB3F1",84,0)
 ;Chemistry Lab ("S.CH") or Imaging ("S.XRAY") proc or Consult ("S.CSLT")
"RTN","ORB3F1",85,0)
 N OITEXT,ORBFLAG
"RTN","ORB3F1",86,0)
 S ORBFLAG=""
"RTN","ORB3F1",87,0)
 Q:+$G(OI)<1 ORBFLAG
"RTN","ORB3F1",88,0)
 Q:'$L($G(^ORD(101.43,OI,0))) ORBFLAG
"RTN","ORB3F1",89,0)
 S OITEXT=$P(^ORD(101.43,OI,0),U)
"RTN","ORB3F1",90,0)
 S OITEXT=$$UP^XLFSTR(OITEXT)
"RTN","ORB3F1",91,0)
 Q:$D(^ORD(101.43,"S.CH",OITEXT)) 1
"RTN","ORB3F1",92,0)
 Q:$D(^ORD(101.43,"S.XRAY",OITEXT)) 1
"RTN","ORB3F1",93,0)
 Q:$D(^ORD(101.43,"S.CSLT",OITEXT)) 1
"RTN","ORB3F1",94,0)
 Q ORBFLAG
"RTN","ORB3F1",95,0)
 ;
"RTN","ORB3F1",96,0)
EXP(ORDT,ORNUM) ;set up ^XTMP("ORAE" to store expired orders
"RTN","ORB3F1",97,0)
 N ORNOW,X0
"RTN","ORB3F1",98,0)
 S ORNOW=$$NOW^XLFDT
"RTN","ORB3F1",99,0)
 S ^XTMP("ORAE",0)=$$FMADD^XLFDT(ORNOW,30,"","","")_U_ORNOW
"RTN","ORB3F1",100,0)
 S X0=^OR(100,ORNUM,0)
"RTN","ORB3F1",101,0)
 S ^XTMP("ORAE",$P(X0,U,2),$P(X0,U,11),ORDT,ORNUM)=""
"RTN","ORB3F1",102,0)
 Q
"RTN","ORB3F1",103,0)
 ;
"RTN","ORB3F1",104,0)
DELEXP ; delete ^XTMP("ORAE" entries older than param value + 48 hours
"RTN","ORB3F1",105,0)
 ; or have been replaced by another order
"RTN","ORB3F1",106,0)
 N ORNOW,OREXDT,OREXPAR,ORDELDT,ORPT,ORDG,ORN,ORREP
"RTN","ORB3F1",107,0)
 S ORNOW=$$NOW^XLFDT
"RTN","ORB3F1",108,0)
 S OREXPAR=$$GET^XPAR("ALL","ORWOR EXPIRED ORDERS",1,"I")
"RTN","ORB3F1",109,0)
 S OREXPAR=$S($G(OREXPAR):OREXPAR,1:72)
"RTN","ORB3F1",110,0)
 S ORDELDT=$$FMADD^XLFDT(ORNOW,"",-(OREXPAR+48),"","")
"RTN","ORB3F1",111,0)
 S ORPT=0 F  S ORPT=$O(^XTMP("ORAE",ORPT)) Q:'ORPT  D
"RTN","ORB3F1",112,0)
 .S ORDG=0 F  S ORDG=$O(^XTMP("ORAE",ORPT,ORDG)) Q:'ORDG  D
"RTN","ORB3F1",113,0)
 ..S OREXDT=0 F  S OREXDT=$O(^XTMP("ORAE",ORPT,ORDG,OREXDT)) Q:'OREXDT  D
"RTN","ORB3F1",114,0)
 ...I OREXDT<ORDELDT K ^XTMP("ORAE",ORPT,ORDG,OREXDT) Q
"RTN","ORB3F1",115,0)
 ...S ORN=0 F  S ORN=$O(^XTMP("ORAE",ORPT,ORDG,OREXDT,ORN)) Q:'ORN  D
"RTN","ORB3F1",116,0)
 ....Q:'$D(^OR(100,ORN,3))
"RTN","ORB3F1",117,0)
 ....S ORREP=$P(^OR(100,ORN,3),U,6)
"RTN","ORB3F1",118,0)
 ....I +$G(ORREP)>0 K ^XTMP("ORAE",ORPT,ORDG,OREXDT,ORN)
"RTN","ORB3F1",119,0)
 Q
"RTN","ORB3F1",120,0)
ISCLORIP(ORNUM,ORTYPE) ; returns 1 if the order is an inpatient med or a clinic med/inf
"RTN","ORB3F1",121,0)
 N ORRET,ORCLMED,ORCLINF,ORIPMED,ORIPMED2,ORTO
"RTN","ORB3F1",122,0)
 S ORNUM=+ORNUM
"RTN","ORB3F1",123,0)
 S ORRET=ORTYPE
"RTN","ORB3F1",124,0)
 Q:'$D(^OR(100,ORNUM)) ORRET
"RTN","ORB3F1",125,0)
 S ORTO=$P(^OR(100,ORNUM,0),U,11)
"RTN","ORB3F1",126,0)
 I ORTO=$O(^ORD(100.98,"B","CLINIC MEDICATIONS",0)) S ORRET="I"
"RTN","ORB3F1",127,0)
 I ORTO=$O(^ORD(100.98,"B","CLINIC INFUSIONS",0)) S ORRET="I"
"RTN","ORB3F1",128,0)
 I ORTO=$O(^ORD(100.98,"B","UNIT DOSE MEDICATIONS",0)) S ORRET="I"
"RTN","ORB3F1",129,0)
 I ORTO=$O(^ORD(100.98,"B","INPATIENT MEDICATIONS",0)) S ORRET="I"
"RTN","ORB3F1",130,0)
 I ORTO=$O(^ORD(100.98,"B","OUTPATIENT MEDICATIONS",0)) S ORRET="O"
"RTN","ORB3F1",131,0)
 I ORTO=$O(^ORD(100.98,"B","SPLY",0)) S ORRET="O"
"RTN","ORB3F1",132,0)
 Q ORRET
"RTN","ORB3SPEC")
0^31^B95914098
"RTN","ORB3SPEC",1,0)
ORB3SPEC ; slc/CLA,TC - Support routine for ORB3 ;06/29/16  09:40
"RTN","ORB3SPEC",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**139,220,215,280,348,423**;Dec 17, 1997;Build 19
"RTN","ORB3SPEC",3,0)
SPECIAL(ORN,ORBASPEC,ORBU,ORBUI,ORNUM,ORDFN,ORDATA,ORBSMSG,ORBMSG,ORBSDEV,ORBPRIM,ORBATTD) ;
"RTN","ORB3SPEC",4,0)
 ;process special notifs to get recips (users,teams,devices)
"RTN","ORB3SPEC",5,0)
 ; ORN: notif ien
"RTN","ORB3SPEC",6,0)
 ; ORBASPEC: recip DUZ array
"RTN","ORB3SPEC",7,0)
 ; ORBU: recip debug array
"RTN","ORB3SPEC",8,0)
 ; ORBUI: ORBU cntr
"RTN","ORB3SPEC",9,0)
 ; ORNUM: order no
"RTN","ORB3SPEC",10,0)
 ; ORDFN: pt id
"RTN","ORB3SPEC",11,0)
 ; ORDATA: pkg data
"RTN","ORB3SPEC",12,0)
 ; ORBSMSG: special notif msg rtn by SPECIAL
"RTN","ORB3SPEC",13,0)
 ; ORBMSG: original notif msg
"RTN","ORB3SPEC",14,0)
 ; ORBSDEV: array of recip devices
"RTN","ORB3SPEC",15,0)
 ; ORBPRIM: pt's inpt primary care provider
"RTN","ORB3SPEC",16,0)
 ; ORBATTD: pt's attending physician
"RTN","ORB3SPEC",17,0)
 ;
"RTN","ORB3SPEC",18,0)
 N ORPAR,ORPTLOC
"RTN","ORB3SPEC",19,0)
 S ORPTLOC=$S($L($G(^DPT(ORDFN,.1))):"I",1:"O")  ;DBIA #10035
"RTN","ORB3SPEC",20,0)
 I +$G(ORNUM) S ORPTLOC=$$ISCLORIP^ORB3F1(+$G(ORNUM),ORPTLOC)
"RTN","ORB3SPEC",21,0)
 ;
"RTN","ORB3SPEC",22,0)
 I ORPTLOC="I" D  ;inpt flagged OI notifs
"RTN","ORB3SPEC",23,0)
 .I ORN=32 S ORPAR="ORB OI RESULTS - INPT" D OI
"RTN","ORB3SPEC",24,0)
 .I ORN=41 S ORPAR="ORB OI ORDERED - INPT" D OI
"RTN","ORB3SPEC",25,0)
 .I ORN=64 S ORPAR="ORB OI EXPIRING - INPT" D OI
"RTN","ORB3SPEC",26,0)
 ;
"RTN","ORB3SPEC",27,0)
 I ORPTLOC="O" D  ;outpt flagged OI notifs
"RTN","ORB3SPEC",28,0)
 .I ORN=60 S ORPAR="ORB OI RESULTS - OUTPT" D OI
"RTN","ORB3SPEC",29,0)
 .I ORN=61 S ORPAR="ORB OI ORDERED - OUTPT" D OI
"RTN","ORB3SPEC",30,0)
 .I ORN=65 S ORPAR="ORB OI EXPIRING - OUTPT" D OI
"RTN","ORB3SPEC",31,0)
 ;
"RTN","ORB3SPEC",32,0)
 I ORN=3!(ORN=14)!(ORN=44)!(ORN=57) D  ;lab results notifs
"RTN","ORB3SPEC",33,0)
 .D LRALRTS(ORN,ORDFN,ORDATA,.ORBSMSG,ORBMSG)
"RTN","ORB3SPEC",34,0)
 ;
"RTN","ORB3SPEC",35,0)
 I ORN=33 D  ;requested results notif
"RTN","ORB3SPEC",36,0)
 .I $D(ORBU) D
"RTN","ORB3SPEC",37,0)
 ..S ORBU(ORBUI)=" ",ORBUI=ORBUI+1
"RTN","ORB3SPEC",38,0)
 ..S ORBU(ORBUI)="Potential Orderer-flagged Results recipient: ",ORBUI=ORBUI+1
"RTN","ORB3SPEC",39,0)
 .N RECIP
"RTN","ORB3SPEC",40,0)
 .S RECIP=$$RSLTFLG^ORQOR2(ORNUM)
"RTN","ORB3SPEC",41,0)
 .I +$G(RECIP)>0 D
"RTN","ORB3SPEC",42,0)
 ..S ORBASPEC(+$G(RECIP))=""
"RTN","ORB3SPEC",43,0)
 ..I $D(ORBU) N NODE S NODE=$G(^VA(200,+$G(RECIP),0)) I $L(NODE) D
"RTN","ORB3SPEC",44,0)
 ...S ORBU(ORBUI)="   "_$P(NODE,U)_" is a potential recipient.",ORBUI=ORBUI+1
"RTN","ORB3SPEC",45,0)
 Q
"RTN","ORB3SPEC",46,0)
OI ;get potential recips for OI-flagged notifs
"RTN","ORB3SPEC",47,0)
 N OROI,ORLST,ORERR,ORBX,ORBZ,ORBE,ORBDUZ,ORBDEV,ORBUF
"RTN","ORB3SPEC",48,0)
 S OROI=+$G(^OR(100,+$G(ORNUM),.1,1,0))  ;get oi
"RTN","ORB3SPEC",49,0)
 I ORN=41,$G(ORDATA) S OROI=ORDATA
"RTN","ORB3SPEC",50,0)
 I ORN=61,$G(ORDATA) S OROI=ORDATA
"RTN","ORB3SPEC",51,0)
 Q:+$G(OROI)<0
"RTN","ORB3SPEC",52,0)
 I $D(ORBU) D
"RTN","ORB3SPEC",53,0)
 .S ORBU(ORBUI)=" ",ORBUI=ORBUI+1
"RTN","ORB3SPEC",54,0)
 .S ORBU(ORBUI)="Special potential recipients from parameter: "_ORPAR,ORBUI=ORBUI+1
"RTN","ORB3SPEC",55,0)
 S ORBE=0,ORBX=0
"RTN","ORB3SPEC",56,0)
 ;
"RTN","ORB3SPEC",57,0)
 ;process special recip users, teams and devices:
"RTN","ORB3SPEC",58,0)
 D ENVAL^XPAR(.ORLST,ORPAR,"`"_OROI,.ORERR)
"RTN","ORB3SPEC",59,0)
 I 'ORERR,$G(ORLST)>0 D
"RTN","ORB3SPEC",60,0)
 .F ORBX=1:1:ORLST S ORBE=$O(ORLST(ORBE)),ORBZ=$P(ORBE,";",2),ORBUF=0 D
"RTN","ORB3SPEC",61,0)
 ..;
"RTN","ORB3SPEC",62,0)
 ..; process USERS:
"RTN","ORB3SPEC",63,0)
 ..I ORBZ="VA(200," S ORBDUZ=$P(ORBE,";") I $L(ORBDUZ) D
"RTN","ORB3SPEC",64,0)
 ...I ORLST(ORBE,OROI)=1 S ORBASPEC(ORBDUZ)="",ORBUF=1
"RTN","ORB3SPEC",65,0)
 ...I ORLST(ORBE,OROI)=0,$$PPLINK^ORQPTQ1(ORBDUZ,ORDFN) S ORBASPEC(ORBDUZ)="",ORBUF=1
"RTN","ORB3SPEC",66,0)
 ...I $D(ORBU),ORBUF=1 N NODE S NODE=$G(^VA(200,ORBDUZ,0)) I $L(NODE) D
"RTN","ORB3SPEC",67,0)
 ....S ORBU(ORBUI)="   "_$P(NODE,U)_" is a potential recipient.",ORBUI=ORBUI+1
"RTN","ORB3SPEC",68,0)
 ..;
"RTN","ORB3SPEC",69,0)
 ..; process DEVICES:
"RTN","ORB3SPEC",70,0)
 ..I ORBZ="%ZIS(1," S ORBDEV=$P(ORBE,";") I $L(ORBDEV),$D(^%ZIS(1,ORBDEV))>0 D
"RTN","ORB3SPEC",71,0)
 ...S ORBDEV=$G(^%ZIS(1,ORBDEV,0)) I $D(ORBDEV) D
"RTN","ORB3SPEC",72,0)
 ....I ORLST(ORBE,OROI)=1 S ORBSDEV($P(ORBDEV,U))="",ORBUF=1
"RTN","ORB3SPEC",73,0)
 ....I ORLST(ORBE,OROI)=0,$$PDLINK^ORQPTQ1(ORBDEV,ORDFN) S ORBSDEV($P(ORBDEV,U))="",ORBUF=1
"RTN","ORB3SPEC",74,0)
 ....I $D(ORBU),ORBUF=1 D
"RTN","ORB3SPEC",75,0)
 .....S ORBU(ORBUI)="   "_$P(ORBDEV,U)_" is a device recipient.",ORBUI=ORBUI+1
"RTN","ORB3SPEC",76,0)
 ..;
"RTN","ORB3SPEC",77,0)
 ..; process TEAMS:
"RTN","ORB3SPEC",78,0)
 ..I ORBZ="OR(100.21," D SPECTEAM(ORBE)
"RTN","ORB3SPEC",79,0)
 D TITLE(OROI,ORPAR)
"RTN","ORB3SPEC",80,0)
 Q
"RTN","ORB3SPEC",81,0)
SPECTEAM(ORBE) ;get special team recips
"RTN","ORB3SPEC",82,0)
 N ORBLST,IJ,ORBTM
"RTN","ORB3SPEC",83,0)
 S ORBTM=$P(ORBE,";")
"RTN","ORB3SPEC",84,0)
 D TEAMPROV^ORQPTQ1(.ORBLST,ORBTM)
"RTN","ORB3SPEC",85,0)
 I $D(ORBU) N TNODE S TNODE=$G(^OR(100.21,ORBTM,0)) I $L(TNODE) D
"RTN","ORB3SPEC",86,0)
 .S ORBU(ORBUI)="   Team potential recipients from team "_$P(TNODE,U)_":",ORBUI=ORBUI+1
"RTN","ORB3SPEC",87,0)
 I +$G(ORBLST(1))>0 S IJ="" F  S IJ=$O(ORBLST(IJ)) Q:IJ=""  D
"RTN","ORB3SPEC",88,0)
 .S ORBDUZ=$P(ORBLST(IJ),U),ORBUF=0 I $L(ORBDUZ) D
"RTN","ORB3SPEC",89,0)
 ..I ORLST(ORBE,OROI)=1 S ORBASPEC(ORBDUZ_U_ORBTM)="",ORBUF=1
"RTN","ORB3SPEC",90,0)
 ..I ORLST(ORBE,OROI)=0,$D(^OR(100.21,ORBTM,10,"B",ORDFN_";DPT(")) S ORBASPEC(ORBDUZ_U_ORBTM)="",ORBUF=1
"RTN","ORB3SPEC",91,0)
 ..I $D(ORBU),ORBUF=1 N NODE S NODE=$G(^VA(200,ORBDUZ,0)) I $L(NODE) D
"RTN","ORB3SPEC",92,0)
 ...S ORBU(ORBUI)="     "_$P(NODE,U),ORBUI=ORBUI+1
"RTN","ORB3SPEC",93,0)
 ;
"RTN","ORB3SPEC",94,0)
 S ORBTD=$P($$TMDEV^ORB31(ORBTM),U,2)  ;tm's device
"RTN","ORB3SPEC",95,0)
 I $L(ORBTD) D
"RTN","ORB3SPEC",96,0)
 .S ORBSDEV(ORBTD)=""
"RTN","ORB3SPEC",97,0)
 .I $D(ORBU) D
"RTN","ORB3SPEC",98,0)
 ..S ORBU(ORBUI)="   Team's Device "_ORBTD_" is a recipient",ORBUI=ORBUI+1
"RTN","ORB3SPEC",99,0)
 Q
"RTN","ORB3SPEC",100,0)
LRALRTS(ORN,ORDFN,ORDATA,ORBSMSG,ORBMSG) ;find & delete matching alerts and gather recips
"RTN","ORB3SPEC",101,0)
 ; ORN: notif ien
"RTN","ORB3SPEC",102,0)
 ; ORDFN: pt id
"RTN","ORB3SPEC",103,0)
 ; ORDATA: pkg data
"RTN","ORB3SPEC",104,0)
 ; ORBSMSG: special notif msg rtn by LRALRTS
"RTN","ORB3SPEC",105,0)
 ; ORBMSG: original notif msg
"RTN","ORB3SPEC",106,0)
 ;
"RTN","ORB3SPEC",107,0)
 Q:+$G(ORN)<1
"RTN","ORB3SPEC",108,0)
 Q:+$G(ORDFN)<1
"RTN","ORB3SPEC",109,0)
 Q:+$G(ORDATA)<1
"RTN","ORB3SPEC",110,0)
 N LRID,ORY,I,J,XQAID,XQ0,XQ1,ORNE,RECIP,ORDATAE,LRIDE,STDATE
"RTN","ORB3SPEC",111,0)
 N ORTST,ORBMSGE,ORBMSGX,TXQAID,XQF,ORBHX,ORX,ORBI,ORTSTE
"RTN","ORB3SPEC",112,0)
 ;
"RTN","ORB3SPEC",113,0)
 S LRID=$P($P(ORDATA,"|",2),"@")  ;get lab unique results id (OE IDE)
"RTN","ORB3SPEC",114,0)
 Q:+$G(LRID)<1
"RTN","ORB3SPEC",115,0)
 ;
"RTN","ORB3SPEC",116,0)
 ;get pt's alerts within 24 hours:
"RTN","ORB3SPEC",117,0)
 S STDATE=$$FMADD^XLFDT($$NOW^XLFDT,"","-24","","")
"RTN","ORB3SPEC",118,0)
 D PATIENT^XQALERT("ORY",ORDFN,STDATE,"") ;get pt's alerts
"RTN","ORB3SPEC",119,0)
 ;
"RTN","ORB3SPEC",120,0)
 ;look for pt's alerts with same notif ien and unique lab results id:
"RTN","ORB3SPEC",121,0)
 F I=1:1:ORY D
"RTN","ORB3SPEC",122,0)
 .S XQAID=$P(ORY(I),U,2)
"RTN","ORB3SPEC",123,0)
 .S ORBMSGX=$P(ORY(I),U)
"RTN","ORB3SPEC",124,0)
 .S ORNE=$P($P(XQAID,";"),",",3)  ;get notif ien
"RTN","ORB3SPEC",125,0)
 .Q:ORNE'=ORN
"RTN","ORB3SPEC",126,0)
 .;
"RTN","ORB3SPEC",127,0)
 .;find matching alert:
"RTN","ORB3SPEC",128,0)
 .D AHISTORY^XQALBUTL(XQAID,"ORBHX")
"RTN","ORB3SPEC",129,0)
 .S ORDATAE=$G(ORBHX(2))
"RTN","ORB3SPEC",130,0)
 .Q:'$L(ORDATAE)
"RTN","ORB3SPEC",131,0)
 .S LRIDE=$P($P(ORDATAE,"|",2),"@")  ;get lab rslts id from existng alert
"RTN","ORB3SPEC",132,0)
 .Q:LRIDE'=LRID
"RTN","ORB3SPEC",133,0)
 .;
"RTN","ORB3SPEC",134,0)
 .S:ORBMSG["[" ORTST=$P($P(ORBMSG,"[",2),"]")
"RTN","ORB3SPEC",135,0)
 .I ORBMSG'["[" D
"RTN","ORB3SPEC",136,0)
 ..S:ORBMSG["labs: " ORTST=$P(ORBMSG,"labs: ",2)
"RTN","ORB3SPEC",137,0)
 ..S:ORBMSG["results: " ORTST=$P(ORBMSG,"results: ",2)
"RTN","ORB3SPEC",138,0)
 .;
"RTN","ORB3SPEC",139,0)
 .S ORBMSGE=$P(ORBMSGX,"): ",2)
"RTN","ORB3SPEC",140,0)
 .S:ORBMSGE["[" ORTSTE=$P($P(ORBMSGE,"[",2),"]")  ;added to fix CQ #17548 (Part A) for CPRS v28.1 (TC).
"RTN","ORB3SPEC",141,0)
 .;added to fix CQ #19497: undefined ORTSTE variable [v28.17] (TC)
"RTN","ORB3SPEC",142,0)
 .I ORBMSGE'["[" D
"RTN","ORB3SPEC",143,0)
 ..S:ORBMSGE["labs: " ORTSTE=$P(ORBMSGE,"labs: ",2)
"RTN","ORB3SPEC",144,0)
 ..S:ORBMSGE["results: " ORTSTE=$P(ORBMSGE,"results: ",2)
"RTN","ORB3SPEC",145,0)
 .E  S ORTSTE=""
"RTN","ORB3SPEC",146,0)
 .;
"RTN","ORB3SPEC",147,0)
 .S ORX=0
"RTN","ORB3SPEC",148,0)
 .;if alert has recips, get recips from existing alert:
"RTN","ORB3SPEC",149,0)
 .S:$L($G(ORBHX(20,0))) ORX=$P(ORBHX(20,0),U,4)
"RTN","ORB3SPEC",150,0)
 .F ORBI=1:1:ORX D
"RTN","ORB3SPEC",151,0)
 ..S RECIP=+ORBHX(20,ORBI,0)
"RTN","ORB3SPEC",152,0)
 ..S ORBASPEC(RECIP)=""  ;add recip to new alert recip list
"RTN","ORB3SPEC",153,0)
 .;
"RTN","ORB3SPEC",154,0)
 .;delete existing alert:
"RTN","ORB3SPEC",155,0)
 .S XQAKILL=0  ;delete for all recips
"RTN","ORB3SPEC",156,0)
 .D DELETE^XQALERT
"RTN","ORB3SPEC",157,0)
 .K XQAKILL,XQAID
"RTN","ORB3SPEC",158,0)
 ;
"RTN","ORB3SPEC",159,0)
 ;if NO prev alert msg for this pt, notif, lab unique id:
"RTN","ORB3SPEC",160,0)
 I '$L($G(ORBMSGE)) S ORBSMSG=ORBMSG
"RTN","ORB3SPEC",161,0)
 ;
"RTN","ORB3SPEC",162,0)
 ;if prev alert msg for this pt, notif, lab unique id:
"RTN","ORB3SPEC",163,0)
 I $L($G(ORBMSGE)) D
"RTN","ORB3SPEC",164,0)
 .;S:ORBMSGE["[" ORBSMSG=$P(ORBMSGE,"]")_", "_ORTST_"]"
"RTN","ORB3SPEC",165,0)
 .S ORBSMSG=$S(ORBMSGE["["&(ORTSTE'=ORTST):$P(ORBMSGE,"]")_", "_ORTST_"]",(ORBMSGE'["[")&(ORTSTE'=ORTST):ORBMSGE_", "_ORTST,1:ORBMSGE) ;added to fix CQ #17548 (Part A) for CPRS v28.1 (TC).
"RTN","ORB3SPEC",166,0)
 .;S:ORBMSGE'["[" ORBSMSG=ORBMSGE_", "_ORTST
"RTN","ORB3SPEC",167,0)
 ;
"RTN","ORB3SPEC",168,0)
 Q
"RTN","ORB3SPEC",169,0)
 ;
"RTN","ORB3SPEC",170,0)
TITLE(OROI,ORPAR) ;get provider recips
"RTN","ORB3SPEC",171,0)
 N ORTIT
"RTN","ORB3SPEC",172,0)
 I $D(ORBU) D
"RTN","ORB3SPEC",173,0)
 .S ORBU(ORBUI)=" ",ORBUI=ORBUI+1
"RTN","ORB3SPEC",174,0)
 .S ORBU(ORBUI)="Special potential recipients from parameter: "_ORPAR_" PR",ORBUI=ORBUI+1
"RTN","ORB3SPEC",175,0)
 ;
"RTN","ORB3SPEC",176,0)
 ;process special recip users, teams and devices for Provider Recipients
"RTN","ORB3SPEC",177,0)
 S ORTIT=$$GET^XPAR("ALL",ORPAR_" PR","`"_OROI,"E")
"RTN","ORB3SPEC",178,0)
 Q:'$L(ORTIT)
"RTN","ORB3SPEC",179,0)
 I ORTIT["P" D PRIMARY
"RTN","ORB3SPEC",180,0)
 I ORTIT["A" D ATTEND
"RTN","ORB3SPEC",181,0)
 I ORTIT["T" D TEAMS
"RTN","ORB3SPEC",182,0)
 I ORTIT["O" D ORDERER
"RTN","ORB3SPEC",183,0)
 I ORTIT["E" D ENTERBY
"RTN","ORB3SPEC",184,0)
 I ORTIT["R" D PCMMPRIM
"RTN","ORB3SPEC",185,0)
 I ORTIT["S" D PCMMASSC
"RTN","ORB3SPEC",186,0)
 I ORTIT["M" D PCMMTEAM
"RTN","ORB3SPEC",187,0)
 I ORTIT["C" D PCMMMHTC
"RTN","ORB3SPEC",188,0)
 Q
"RTN","ORB3SPEC",189,0)
PRIMARY ;
"RTN","ORB3SPEC",190,0)
 I $D(ORBU),+$G(ORBPRIM)>0 S ORBU(ORBUI)=" Flagged OI Inpt primary provider:",ORBUI=ORBUI+1
"RTN","ORB3SPEC",191,0)
 I $D(ORBU),+$G(ORBPRIM)<1 S ORBU(ORBUI)=" Flagged OI Inpt primary provider: option cannot determine without A/D/T event data.",ORBUI=ORBUI+1
"RTN","ORB3SPEC",192,0)
 I +$G(ORBPRIM)>0 S ORBASPEC(ORBPRIM)=""
"RTN","ORB3SPEC",193,0)
 Q
"RTN","ORB3SPEC",194,0)
ATTEND ;
"RTN","ORB3SPEC",195,0)
 I $D(ORBU),+$G(ORBATTD)>0 S ORBU(ORBUI)=" Flagged OI Attending physician:",ORBUI=ORBUI+1
"RTN","ORB3SPEC",196,0)
 I $D(ORBU),+$G(ORBATTD)<1 S ORBU(ORBUI)=" Flagged OI Attending physician: option cannot determine without A/D/T event data.",ORBUI=ORBUI+1
"RTN","ORB3SPEC",197,0)
 I +$G(ORBATTD)>0 S ORBASPEC(ORBATTD)=""
"RTN","ORB3SPEC",198,0)
 Q
"RTN","ORB3SPEC",199,0)
TEAMS ;
"RTN","ORB3SPEC",200,0)
 N ORBLST,ORBI,ORBJ,ORBTM,ORBTNAME,ORBTTYPE,ORBTD
"RTN","ORB3SPEC",201,0)
 I $D(ORBU) S ORBU(ORBUI)=" Flagged OI Teams/Personal Lists related to patient:",ORBUI=ORBUI+1
"RTN","ORB3SPEC",202,0)
 D TMSPT^ORQPTQ1(.ORBLST,ORDFN)
"RTN","ORB3SPEC",203,0)
 Q:+$G(ORBLST(1))<1
"RTN","ORB3SPEC",204,0)
 S ORBI="" F  S ORBI=$O(ORBLST(ORBI)) Q:ORBI=""  D
"RTN","ORB3SPEC",205,0)
 .S ORBTM=$P(ORBLST(ORBI),U),ORBTNAME=$P(ORBLST(ORBI),U,2)
"RTN","ORB3SPEC",206,0)
 .S ORBTTYPE=$P(ORBLST(ORBI),U,3)
"RTN","ORB3SPEC",207,0)
 .I $D(ORBU) D
"RTN","ORB3SPEC",208,0)
 ..S ORBU(ORBUI)="  Patient list "_ORBTNAME_" ["_ORBTTYPE_"]:",ORBUI=ORBUI+1
"RTN","ORB3SPEC",209,0)
 .N ORBLST2 D TEAMPROV^ORQPTQ1(.ORBLST2,ORBTM)
"RTN","ORB3SPEC",210,0)
 .Q:+$G(ORBLST2(1))<1
"RTN","ORB3SPEC",211,0)
 .S ORBJ="" F  S ORBJ=$O(ORBLST2(ORBJ)) Q:ORBJ=""  D
"RTN","ORB3SPEC",212,0)
 ..S ORBDUZ=$P(ORBLST2(ORBJ),U)_U_ORBTM I +$G(ORBDUZ)>0 S ORBASPEC(ORBDUZ)=""
"RTN","ORB3SPEC",213,0)
 .S ORBTD=$P($$TMDEV^ORB31(ORBTM),U,2)  ;tm's device
"RTN","ORB3SPEC",214,0)
 .I $L(ORBTD) D
"RTN","ORB3SPEC",215,0)
 ..S ORBSDEV(ORBTD)=""
"RTN","ORB3SPEC",216,0)
 ..I $D(ORBU) D
"RTN","ORB3SPEC",217,0)
 ...S ORBU(ORBUI)="   Team's Device "_ORBTD_" is a recipient",ORBUI=ORBUI+1
"RTN","ORB3SPEC",218,0)
 Q
"RTN","ORB3SPEC",219,0)
ORDERER ;
"RTN","ORB3SPEC",220,0)
 N ORBDUZ
"RTN","ORB3SPEC",221,0)
 I $D(ORBU) S ORBU(ORBUI)=" Flagged OI Ordering provider:",ORBUI=ORBUI+1
"RTN","ORB3SPEC",222,0)
 Q:+$G(ORNUM)<1
"RTN","ORB3SPEC",223,0)
 S ORBDUZ=$$ORDERER^ORQOR2(ORNUM)
"RTN","ORB3SPEC",224,0)
 I +$G(ORBDUZ)>0 D
"RTN","ORB3SPEC",225,0)
 .S ORBASPEC(ORBDUZ)=""
"RTN","ORB3SPEC",226,0)
 Q
"RTN","ORB3SPEC",227,0)
ENTERBY ;
"RTN","ORB3SPEC",228,0)
 N ORBDUZ
"RTN","ORB3SPEC",229,0)
 I $D(ORBU) S ORBU(ORBUI)=" Flagged OI User entering order's most recent activity:",ORBUI=ORBUI+1
"RTN","ORB3SPEC",230,0)
 Q:+$G(ORNUM)<1
"RTN","ORB3SPEC",231,0)
 I $D(^OR(100,ORNUM,8,0)) D
"RTN","ORB3SPEC",232,0)
 .S ORBDUZ=$P(^OR(100,ORNUM,8,$P(^OR(100,ORNUM,8,0),U,3),0),U,13)
"RTN","ORB3SPEC",233,0)
 I +$G(ORBDUZ)>0 S ORBASPEC(ORBDUZ)=""
"RTN","ORB3SPEC",234,0)
 Q
"RTN","ORB3SPEC",235,0)
PCMMPRIM ;
"RTN","ORB3SPEC",236,0)
 N ORBDUZ
"RTN","ORB3SPEC",237,0)
 I $D(ORBU) S ORBU(ORBUI)=" Flagged OI PCMM Primary Care Practitioner:",ORBUI=ORBUI+1
"RTN","ORB3SPEC",238,0)
 S ORBDUZ=+$$OUTPTPR^SDUTL3(ORDFN,$$NOW^XLFDT,1)  ;DBIA #1252
"RTN","ORB3SPEC",239,0)
 I +$G(ORBDUZ)>0 S ORBASPEC(ORBDUZ)=""
"RTN","ORB3SPEC",240,0)
 Q
"RTN","ORB3SPEC",241,0)
PCMMASSC ;
"RTN","ORB3SPEC",242,0)
 N ORBDUZ
"RTN","ORB3SPEC",243,0)
 I $D(ORBU) S ORBU(ORBUI)=" Flagged OI PCMM Associate Provider:",ORBUI=ORBUI+1
"RTN","ORB3SPEC",244,0)
 S ORBDUZ=+$$OUTPTAP^SDUTL3(ORDFN,$$NOW^XLFDT)  ;DBIA #1252
"RTN","ORB3SPEC",245,0)
 I +$G(ORBDUZ)>0 S ORBASPEC(ORBDUZ)=""
"RTN","ORB3SPEC",246,0)
 Q
"RTN","ORB3SPEC",247,0)
PCMMTEAM ;
"RTN","ORB3SPEC",248,0)
 N ORPCMM,ORPCMMDZ,ORBDUZ
"RTN","ORB3SPEC",249,0)
 I $D(ORBU) S ORBU(ORBUI)=" Flagged OI PCMM Team Position Assignments:",ORBUI=ORBUI+1
"RTN","ORB3SPEC",250,0)
 S ORPCMM=$$PRPT^SCAPMC(ORDFN,,,,,,"^TMP(""ORPCMM"",$J)",)  ;DBIA #1916
"RTN","ORB3SPEC",251,0)
 S ORPCMMDZ=0
"RTN","ORB3SPEC",252,0)
 F  S ORPCMMDZ=$O(^TMP("ORPCMM",$J,"SCPR",ORPCMMDZ)) Q:'ORPCMMDZ  D
"RTN","ORB3SPEC",253,0)
 .S ORBDUZ=ORPCMMDZ S ORBASPEC(ORBDUZ)=""
"RTN","ORB3SPEC",254,0)
 K ^TMP("ORPCMM",$J)
"RTN","ORB3SPEC",255,0)
 Q
"RTN","ORB3SPEC",256,0)
PCMMMHTC ;
"RTN","ORB3SPEC",257,0)
 N ORBDUZ
"RTN","ORB3SPEC",258,0)
 I $D(ORBU) S ORBU(ORBUI)=" Flagged OI PCMM Mental Health Treatment Coordinator:",ORBUI=ORBUI+1
"RTN","ORB3SPEC",259,0)
 S ORBDUZ=+$$START^SCMCMHTC(ORBDFN)  ;DBIA #5697
"RTN","ORB3SPEC",260,0)
 I +$G(ORBDUZ)>0 S ORBASPEC(ORBDUZ)=""
"RTN","ORB3SPEC",261,0)
 Q
"RTN","ORCMEDT9")
0^3^B52002206
"RTN","ORCMEDT9",1,0)
ORCMEDT9 ;ISP/WAT - Move/copy utility for QOs ;05/31/16  14:18
"RTN","ORCMEDT9",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**389,423**;Dec 17, 1997;Build 19
"RTN","ORCMEDT9",3,0)
UDQO ; -- unit dose quick order
"RTN","ORCMEDT9",4,0)
 N ORQDLG,ORDG,ORCMDG,ORCIDG,ORABORT,ORPMAX,ORINDEX
"RTN","ORCMEDT9",5,0)
 S ORABORT=0,ORPMAX=IOSL-5,ORINDEX=""
"RTN","ORCMEDT9",6,0)
 S ORCMDG=$O(^ORD(100.98,"B","CLINIC MEDICATIONS",""))
"RTN","ORCMEDT9",7,0)
 S ORCIDG=$O(^ORD(100.98,"B","CLINIC INFUSIONS",""))
"RTN","ORCMEDT9",8,0)
 I +$G(ORCMDG)'>0 W !,"Abort: Clinic Medications display group not found!" Q
"RTN","ORCMEDT9",9,0)
 I +$G(ORCIDG)'>0 W !,"Abort: Clinic Infusions display group not found!" Q
"RTN","ORCMEDT9",10,0)
 D BLDUDQO
"RTN","ORCMEDT9",11,0)
 F  D  Q:ORABORT=1
"RTN","ORCMEDT9",12,0)
 . D DISP(ORPMAX,.ORINDEX)
"RTN","ORCMEDT9",13,0)
 . D CHOOSE(.ORABORT)
"RTN","ORCMEDT9",14,0)
 D CLEAN^DILF
"RTN","ORCMEDT9",15,0)
 Q
"RTN","ORCMEDT9",16,0)
 ;
"RTN","ORCMEDT9",17,0)
CHOOSE(ORABORT) ;select qo for action
"RTN","ORCMEDT9",18,0)
 N ORACT
"RTN","ORCMEDT9",19,0)
 N DIR,X,Y,DIRUT,DTOUT,DUOUT
"RTN","ORCMEDT9",20,0)
 S DIR(0)="LO"
"RTN","ORCMEDT9",21,0)
 D ^DIR
"RTN","ORCMEDT9",22,0)
 I $D(DTOUT) S ORABORT=1 Q
"RTN","ORCMEDT9",23,0)
 I $D(DUOUT) S ORABORT=1 Q
"RTN","ORCMEDT9",24,0)
 Q:X=""
"RTN","ORCMEDT9",25,0)
 I X'[","&(X'["-")&($D(^TMP("ORUDQO",$J,X))) D  Q  ;single selection can Move OR Copy
"RTN","ORCMEDT9",26,0)
 . S ORACT=$$ACTASK
"RTN","ORCMEDT9",27,0)
 . I ORACT="^" S ORABORT=1 Q
"RTN","ORCMEDT9",28,0)
 . E  D ACTION(ORACT,X)
"RTN","ORCMEDT9",29,0)
 I X[","!(X["-") D ACTION(1,Y) ;check for series of numbers. Move only
"RTN","ORCMEDT9",30,0)
 Q
"RTN","ORCMEDT9",31,0)
 ;
"RTN","ORCMEDT9",32,0)
ACTION(ORGO,ORNUMBER) ;
"RTN","ORCMEDT9",33,0)
 ;ORGO=1 MOVE, ORGO=2 COPY
"RTN","ORCMEDT9",34,0)
 N ORTEMP,ORCOUNT
"RTN","ORCMEDT9",35,0)
 I $G(ORGO)=2 D COPY(ORNUMBER) Q
"RTN","ORCMEDT9",36,0)
 I '$$MOVOK() Q
"RTN","ORCMEDT9",37,0)
 W !,"Moving selected quick order(s)..." H 5
"RTN","ORCMEDT9",38,0)
 S:$G(ORCMDG)="" ORCMDG=$O(^ORD(100.98,"B","CLINIC MEDICATIONS",""))
"RTN","ORCMEDT9",39,0)
 S ORCOUNT=1
"RTN","ORCMEDT9",40,0)
 F  S ORTEMP=$P(ORNUMBER,",",ORCOUNT) Q:$G(ORTEMP)=""  D
"RTN","ORCMEDT9",41,0)
 . I $D(^TMP("ORUDQO",$J,ORTEMP)) D MOVE(ORTEMP)
"RTN","ORCMEDT9",42,0)
 . S ORCOUNT=ORCOUNT+1
"RTN","ORCMEDT9",43,0)
 W " Done!" H 2
"RTN","ORCMEDT9",44,0)
 Q
"RTN","ORCMEDT9",45,0)
 ;
"RTN","ORCMEDT9",46,0)
DISP(ORPMAX,ORINDEX) ; show qo dialogs for action choices
"RTN","ORCMEDT9",47,0)
 N ORDLGNM,ORIFN,ORQONAM,ORDISABL,ORDG
"RTN","ORCMEDT9",48,0)
 D HEADER
"RTN","ORCMEDT9",49,0)
 S ORIFN=""
"RTN","ORCMEDT9",50,0)
 F  S ORINDEX=$O(^TMP("ORUDQO",$J,ORINDEX)) Q:ORINDEX=""  D  Q:$Y>ORPMAX
"RTN","ORCMEDT9",51,0)
 . I IOSL-$Y<5 D HEADER
"RTN","ORCMEDT9",52,0)
 . S ORQONAM=$P(^TMP("ORUDQO",$J,ORINDEX),U,2),ORQONAM=$E(ORQONAM,1,45)
"RTN","ORCMEDT9",53,0)
 . S ORDG=$P(^TMP("ORUDQO",$J,ORINDEX),U,3)
"RTN","ORCMEDT9",54,0)
 . S ORDISABL=$P(^TMP("ORUDQO",$J,ORINDEX),U,4)
"RTN","ORCMEDT9",55,0)
 . W !,$J(ORINDEX,5)_". "_ORQONAM,?60,ORDG,?70,ORDISABL
"RTN","ORCMEDT9",56,0)
 Q
"RTN","ORCMEDT9",57,0)
 ;
"RTN","ORCMEDT9",58,0)
MOVE(ORQDLG) ;Move changes the DISPLAY GROUP to CLINIC MEDICATIONS or CLINIC INFUSIONS
"RTN","ORCMEDT9",59,0)
 ;ORQDLG is the index from ^TMP("ORUDQO",$J,index)=order dialog ifn^order NAME(.01)^DisplayGroup^Disabled
"RTN","ORCMEDT9",60,0)
 N ORIFN,ORCONVDG S ORIFN=$P(^TMP("ORUDQO",$J,ORQDLG),U) Q:$G(ORIFN)=""
"RTN","ORCMEDT9",61,0)
 I $D(^ORD(101.41,ORIFN,0)) D  Q
"RTN","ORCMEDT9",62,0)
 . S ORCONVDG=$P(^TMP("ORUDQO",$J,ORQDLG),U,3)
"RTN","ORCMEDT9",63,0)
 . S ORCONVDG=$S(ORCONVDG="UDM":ORCMDG,1:ORCIDG)
"RTN","ORCMEDT9",64,0)
 . S $P(^ORD(101.41,ORIFN,0),U,5)=$G(ORCONVDG)
"RTN","ORCMEDT9",65,0)
 . I $D(^TMP("ORUDQO",$J,ORQDLG)) K ^TMP("ORUDQO",$J,ORQDLG)
"RTN","ORCMEDT9",66,0)
 E  D
"RTN","ORCMEDT9",67,0)
 . W $C(7),!,"Abort: Order dialog not found - check file entry and try again."
"RTN","ORCMEDT9",68,0)
 . W !,"Order Dialog: "_$P(^ORD(101.41,ORIFN,0),U)
"RTN","ORCMEDT9",69,0)
 Q
"RTN","ORCMEDT9",70,0)
COPY(ORQDLG) ;copy creates a new CLINIC MEDICATIONS or CLINIC INFUSIONS qo dialog and will ask to delete the original qo
"RTN","ORCMEDT9",71,0)
 ;ORQDLG is the index from ^TMP("ORUDQO",$J,index)=order dialog ifn^order NAME(.01)^DisplayGroup^Disabled
"RTN","ORCMEDT9",72,0)
 N ORQIFN,ORNUNAME,ORNUIFN,ORCUR0,ORESULT,ORPOINT,OR30350,ORTMPDLG,ORDIGP
"RTN","ORCMEDT9",73,0)
 S OR30350=$$PATCH^XPDUTL("OR*3.0*350") ;no delete if 350 not installed
"RTN","ORCMEDT9",74,0)
 S ORQIFN=$P(^TMP("ORUDQO",$J,ORQDLG),U) Q:+$G(ORQIFN)'>0
"RTN","ORCMEDT9",75,0)
 S ORDIGP=$P(^TMP("ORUDQO",$J,ORQDLG),U,3)
"RTN","ORCMEDT9",76,0)
 S ORDIGP=$S(ORDIGP="UDM":ORCMDG,1:ORCIDG)
"RTN","ORCMEDT9",77,0)
 Q:'$D(^ORD(101.41,ORQIFN,0))
"RTN","ORCMEDT9",78,0)
 S ORNUNAME=$$GETNAME() I $G(ORNUNAME)="^" S ORQDLG=ORNUNAME Q
"RTN","ORCMEDT9",79,0)
 S ORNUIFN=$$STUB(101.41,ORNUNAME) I +$G(ORNUIFN)'>0 W !,"Error creating new entry. Please try again later."  Q
"RTN","ORCMEDT9",80,0)
 N I,DA,DIE,DR,DIK,ORTEMP
"RTN","ORCMEDT9",81,0)
 S ORCUR0=^ORD(101.41,ORQIFN,0) ;get 0 node of current QO
"RTN","ORCMEDT9",82,0)
 F I=2,4,6,8,9 S $P(^ORD(101.41,ORNUIFN,0),U,I)=$P(ORCUR0,U,I)
"RTN","ORCMEDT9",83,0)
 S $P(^ORD(101.41,ORNUIFN,0),U,5)=$G(ORDIGP)
"RTN","ORCMEDT9",84,0)
 S:$L($P(ORCUR0,U,2)) ^ORD(101.41,"C",$$UP^XLFSTR($P(ORCUR0,U,2)),ORNUIFN)="" ;disp text
"RTN","ORCMEDT9",85,0)
 F I=2,3,3.1,4,5,6,7,9,10 I $D(^ORD(101.41,ORQIFN,I)) M ^ORD(101.41,ORNUIFN,I)=^ORD(101.41,ORQIFN,I)
"RTN","ORCMEDT9",86,0)
 I $P(ORCUR0,U,7) S ORTEMP=$P(ORCUR0,U,7),DA=ORNUIFN,DIE="^ORD(101.41,",DR="7///^S X=ORTEMP;99///^S X=$H" D ^DIE
"RTN","ORCMEDT9",87,0)
 K DA S DA(1)=ORNUIFN,DIK="^ORD(101.41,"_ORNUIFN_",10,",DIK(1)="2^AD" D ENALL^DIK
"RTN","ORCMEDT9",88,0)
 W !!,"  Quick order copy complete."
"RTN","ORCMEDT9",89,0)
 I ($G(OR30350)=1) D  Q
"RTN","ORCMEDT9",90,0)
 . I '$$DELOK() D  Q
"RTN","ORCMEDT9",91,0)
 . . W !,"OK - If desired, you can manually delete the QO via the QO editor."
"RTN","ORCMEDT9",92,0)
 . . S ORQDLG="^" D CONT
"RTN","ORCMEDT9",93,0)
 . S ORPOINT=$$PTRCHECK(ORQIFN) I +$G(ORPOINT)>0 D  Q
"RTN","ORCMEDT9",94,0)
 . . S ORQDLG="^" D CONT
"RTN","ORCMEDT9",95,0)
 . Q:$G(ORQDLG)="^"
"RTN","ORCMEDT9",96,0)
 . W !,"Now deleting original quick order..."
"RTN","ORCMEDT9",97,0)
 . S ORESULT=$$DELETE(ORQIFN)
"RTN","ORCMEDT9",98,0)
 . I $G(ORESULT)'="@" W !,"Error deleting IEN "_ORQIFN_" from ORDER DIALOG (101.41)."
"RTN","ORCMEDT9",99,0)
 . E  I $D(^TMP("ORUDQO",$J,ORQDLG)) K ^TMP("ORUDQO",$J,ORQDLG)
"RTN","ORCMEDT9",100,0)
 Q
"RTN","ORCMEDT9",101,0)
 ;
"RTN","ORCMEDT9",102,0)
BLDUDQO ;build list of UDM and IVM qos
"RTN","ORCMEDT9",103,0)
 N ORUDMDG,ORIVMED,ORDLGNM,ORIFN,ORINDEX,ORDISABL,ORDG
"RTN","ORCMEDT9",104,0)
 S ORINDEX=1,ORDLGNM=""
"RTN","ORCMEDT9",105,0)
 S ORUDMDG=$O(^ORD(100.98,"B","UNIT DOSE MEDICATIONS",""))
"RTN","ORCMEDT9",106,0)
 S ORIVMED=$O(^ORD(100.98,"B","IV MEDICATIONS",""))
"RTN","ORCMEDT9",107,0)
 Q:$G(ORUDMDG)=""!($G(ORIVMED)="")
"RTN","ORCMEDT9",108,0)
 K ^TMP("ORUDQO",$J)
"RTN","ORCMEDT9",109,0)
 F  S ORDLGNM=$O(^ORD(101.41,"B",ORDLGNM))  Q:$G(ORDLGNM)=""  D
"RTN","ORCMEDT9",110,0)
 . S ORIFN=$O(^ORD(101.41,"B",ORDLGNM,""))
"RTN","ORCMEDT9",111,0)
 . Q:+$G(ORIFN)'>0
"RTN","ORCMEDT9",112,0)
 . Q:$P($G(^ORD(101.41,ORIFN,0)),U,5)'=ORUDMDG&($P($G(^ORD(101.41,ORIFN,0)),U,5)'=ORIVMED)!($P($G(^ORD(101.41,ORIFN,0)),U,5)="")
"RTN","ORCMEDT9",113,0)
 . Q:$P($G(^(0)),U,4)'="Q"
"RTN","ORCMEDT9",114,0)
 . Q:$E($P($G(^(0)),U),1,6)="ORWDQ "
"RTN","ORCMEDT9",115,0)
 . S ORDISABL=$P($G(^(0)),U,3)
"RTN","ORCMEDT9",116,0)
 . S ORDG=$P($G(^(0)),U,5) S ORDG=$S(ORDG=ORUDMDG:"UDM",ORDG=ORIVMED:"IVM",1:"")
"RTN","ORCMEDT9",117,0)
 . S ORDISABL=$S($L($G(ORDISABL))>0:"YES",1:"")
"RTN","ORCMEDT9",118,0)
 . S ^TMP("ORUDQO",$J,ORINDEX)=ORIFN_"^"_$P(^ORD(101.41,ORIFN,0),U)_"^"_ORDG_"^"_ORDISABL,ORINDEX=ORINDEX+1
"RTN","ORCMEDT9",119,0)
 Q
"RTN","ORCMEDT9",120,0)
 ;
"RTN","ORCMEDT9",121,0)
GETNAME() ;get new name for copied dialog
"RTN","ORCMEDT9",122,0)
 N DIR,X,Y ;prompt for new NAME .01
"RTN","ORCMEDT9",123,0)
 S DIR(0)="F^3:63^",DIR("A")="NAME"
"RTN","ORCMEDT9",124,0)
 S DIR("?")="Enter a NAME (between 3 and 63 characters) for the new order dialog."
"RTN","ORCMEDT9",125,0)
NM D ^DIR
"RTN","ORCMEDT9",126,0)
 I $D(DIRUT)!($D(DUOUT)) S Y="^" Q Y
"RTN","ORCMEDT9",127,0)
 I $O(^ORD(101.41,"AB",X,""))'="" W $C(7),!,"Another entry already exists by this name!",! S X="" G NM
"RTN","ORCMEDT9",128,0)
 K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>63!($L(X)<3)!'(X'?1P.E) X
"RTN","ORCMEDT9",129,0)
 I '$D(X) G NM
"RTN","ORCMEDT9",130,0)
 Q Y
"RTN","ORCMEDT9",131,0)
PTRCHECK(ORIEN) ; check for pointers if Copy action
"RTN","ORCMEDT9",132,0)
 N IHAZPTR S IHAZPTR=0
"RTN","ORCMEDT9",133,0)
 I $D(^ORD(101.41,"AD",ORIEN)) S IHAZPTR=1 W $C(7),!,"Cannot delete order dialog - currently in use!",! Q IHAZPTR
"RTN","ORCMEDT9",134,0)
 S IHAZPTR=$$PTRCHK^ORCMEDT4(ORIEN,"QO PTRS")
"RTN","ORCMEDT9",135,0)
 I IHAZPTR D
"RTN","ORCMEDT9",136,0)
 . W $C(7),!,"Cannot delete order dialog - other file entries point to this order dialog!",!
"RTN","ORCMEDT9",137,0)
 . D PTRRPT^ORCMEDT4("QO PTRS",ORIEN)
"RTN","ORCMEDT9",138,0)
 Q IHAZPTR
"RTN","ORCMEDT9",139,0)
 ;
"RTN","ORCMEDT9",140,0)
ACTASK() ; get action Move or Copy
"RTN","ORCMEDT9",141,0)
 N DIR,X,Y
"RTN","ORCMEDT9",142,0)
 S DIR(0)="S^1:MOVE;2:COPY"
"RTN","ORCMEDT9",143,0)
 S DIR("?")="Choose an action for this quick order"
"RTN","ORCMEDT9",144,0)
 S DIR("?",1)="Move converts the selected QO into a new Clinic Medication QO."
"RTN","ORCMEDT9",145,0)
 S DIR("?",2)="Copy clones the selected QO into a new Clinic Medication QO."
"RTN","ORCMEDT9",146,0)
 S DIR("?",3)="The original QO is then deleted."
"RTN","ORCMEDT9",147,0)
 D ^DIR
"RTN","ORCMEDT9",148,0)
 S:$D(DTOUT)!($D(DUOUT)) Y="^"
"RTN","ORCMEDT9",149,0)
 Q Y
"RTN","ORCMEDT9",150,0)
 ;
"RTN","ORCMEDT9",151,0)
DELETE(IFN) ;remove old QO;
"RTN","ORCMEDT9",152,0)
 N Y,DA,DIK,IDX1,IDX2 S (IDX1,Y)=0
"RTN","ORCMEDT9",153,0)
 F  S IDX1=$O(^ORD(101.44,"C",IFN,IDX1)) Q:'IDX1  D
"RTN","ORCMEDT9",154,0)
 . S IDX2=0
"RTN","ORCMEDT9",155,0)
 . F  S IDX2=$O(^ORD(101.44,"C",IFN,IDX1,IDX2)) Q:'IDX2  D
"RTN","ORCMEDT9",156,0)
 . . S DA=IDX2,DA(1)=IDX1,DIK="^ORD(101.44,"_IDX1_",10," D ^DIK
"RTN","ORCMEDT9",157,0)
 K DA S DA=IFN,DIK="^ORD(101.41," D ^DIK W "  ...deleted." S Y="@"
"RTN","ORCMEDT9",158,0)
 Q Y
"RTN","ORCMEDT9",159,0)
 ;
"RTN","ORCMEDT9",160,0)
STUB(ORFILE,ORNAME) ; create new entry in file
"RTN","ORCMEDT9",161,0)
 N FDA,MSG,IEN
"RTN","ORCMEDT9",162,0)
 S FDA(ORFILE,"+1,",.01)=ORNAME
"RTN","ORCMEDT9",163,0)
 D UPDATE^DIE("","FDA","IEN","MSG")
"RTN","ORCMEDT9",164,0)
 I $D(MSG)>0
"RTN","ORCMEDT9",165,0)
 D CLEAN^DILF
"RTN","ORCMEDT9",166,0)
 Q IEN(1)
"RTN","ORCMEDT9",167,0)
 ;
"RTN","ORCMEDT9",168,0)
CONT() ; -- gives user a chance to read output from pointer check
"RTN","ORCMEDT9",169,0)
 N X,Y,DIR
"RTN","ORCMEDT9",170,0)
 S DIR(0)="FO",DIR("A")="Press any key to continue"
"RTN","ORCMEDT9",171,0)
 D ^DIR
"RTN","ORCMEDT9",172,0)
 Q
"RTN","ORCMEDT9",173,0)
DELOK() ; -- Are you ready?
"RTN","ORCMEDT9",174,0)
 N X,Y,DIR
"RTN","ORCMEDT9",175,0)
 S DIR(0)="YA",DIR("A")="Do you want to delete the original quick order? ",DIR("B")="NO"
"RTN","ORCMEDT9",176,0)
 W ! D ^DIR
"RTN","ORCMEDT9",177,0)
 Q +Y
"RTN","ORCMEDT9",178,0)
MOVOK() ; -- Are you ready?
"RTN","ORCMEDT9",179,0)
 N X,Y,DIR
"RTN","ORCMEDT9",180,0)
 S DIR(0)="YA",DIR("A")="Do you want to MOVE the selected quick order(s)? ",DIR("B")="NO"
"RTN","ORCMEDT9",181,0)
 W ! D ^DIR
"RTN","ORCMEDT9",182,0)
 Q +Y
"RTN","ORCMEDT9",183,0)
HEADER ;header
"RTN","ORCMEDT9",184,0)
 W @IOF
"RTN","ORCMEDT9",185,0)
 W ".......Quick Order",$$REPEAT^XLFSTR(".",42),?60,"Type...",?67,"Disabled....."
"RTN","ORCMEDT9",186,0)
 Q
"RTN","ORCSAVE")
0^24^B99645257
"RTN","ORCSAVE",1,0)
ORCSAVE ;SLC/MKB/JDL-Save ;05/20/16  08:15
"RTN","ORCSAVE",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**7,56,70,73,92,94,116,141,163,187,190,195,243,303,293,280,306,286,269,423**;Dec 17, 1997;Build 19
"RTN","ORCSAVE",3,0)
 ;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","ORCSAVE",4,0)
 ;
"RTN","ORCSAVE",5,0)
 ; DBIA 10103   ^XLFDT
"RTN","ORCSAVE",6,0)
 ;
"RTN","ORCSAVE",7,0)
 ;
"RTN","ORCSAVE",8,0)
NEW(ORDIALOG,ORDG,ORPKG,ORCAT,OREVENT,ORDUZ,ORLOG) ; -- New order
"RTN","ORCSAVE",9,0)
 ; Returns ORIFN = [new] order number, if created/saved
"RTN","ORCSAVE",10,0)
 D EN
"RTN","ORCSAVE",11,0)
 Q
"RTN","ORCSAVE",12,0)
 ;
"RTN","ORCSAVE",13,0)
XX ; -- save new/unreleased edited order into Orders file
"RTN","ORCSAVE",14,0)
 ;    Requires: ORDIALOG() = array of dialog values
"RTN","ORCSAVE",15,0)
 ;              ORIFN      = IFN of original order that was edited
"RTN","ORCSAVE",16,0)
 ;
"RTN","ORCSAVE",17,0)
 N OLDIFN S ORIFN=+ORIFN,OLDIFN=0
"RTN","ORCSAVE",18,0)
 I $S($P(^OR(100,ORIFN,3),U,3)=11:0,$P(^(3),U,3)'=10:1,$P(^(8,1,0),U,4)=2:0,1:1) S OLDIFN=ORIFN K ORIFN ; create new order if released or delayed&signed
"RTN","ORCSAVE",19,0)
 D EN Q:'ORIFN  S:'$G(ORDA) ORDA=1
"RTN","ORCSAVE",20,0)
 I $G(OLDIFN) D  ;save links between orders
"RTN","ORCSAVE",21,0)
 . S $P(^OR(100,ORIFN,3),U,5)=OLDIFN,$P(^(3),U,11)=1
"RTN","ORCSAVE",22,0)
 . S $P(^OR(100,OLDIFN,3),U,6)=ORIFN S:$D(^(5)) ^OR(100,ORIFN,5)=^OR(100,OLDIFN,5)
"RTN","ORCSAVE",23,0)
 I $D(^OR(100,+OLDIFN,0)) D
"RTN","ORCSAVE",24,0)
 . Q:'$G(OREVTDF)
"RTN","ORCSAVE",25,0)
 . N OLDEVT,OLDSTS,LSTACT,PATID,NOW,WHEN
"RTN","ORCSAVE",26,0)
 . S (OLDEVT,OLDSTS,LSTACT)=0
"RTN","ORCSAVE",27,0)
 . S NOW=$$NOW^XLFDT
"RTN","ORCSAVE",28,0)
 . S OLDEVT=$P(^OR(100,+OLDIFN,0),U,17),OLDSTS=$P(^OR(100,+OLDIFN,3),U,3)
"RTN","ORCSAVE",29,0)
 . ; Active status = 6 from #100.01
"RTN","ORCSAVE",30,0)
 . I (OLDEVT>0),OLDSTS=6 D
"RTN","ORCSAVE",31,0)
 . . S $P(^OR(100,+ORIFN,0),U,17)=OLDEVT
"RTN","ORCSAVE",32,0)
 . . S $P(^OR(100,+ORIFN,3),U,3)=11
"RTN","ORCSAVE",33,0)
 . . S LSTACT=$P($G(^OR(100,+ORIFN,3)),U,7)
"RTN","ORCSAVE",34,0)
 . . I $D(^OR(100,+ORIFN,8,LSTACT,0)) D
"RTN","ORCSAVE",35,0)
 . . . S $P(^OR(100,+ORIFN,8,LSTACT,0),U,15)=11
"RTN","ORCSAVE",36,0)
 . . . S PATID=$P(^OR(100,+ORIFN,0),U,2)
"RTN","ORCSAVE",37,0)
 . . . S WHEN=$P(^OR(100,+ORIFN,8,LSTACT,0),U)
"RTN","ORCSAVE",38,0)
 . . . S ^OR(100,"AC",PATID,9999999-WHEN,+ORIFN,LSTACT)=""
"RTN","ORCSAVE",39,0)
 Q
"RTN","ORCSAVE",40,0)
 ;
"RTN","ORCSAVE",41,0)
RN ; -- save new/unreleased renewal order into Orders file
"RTN","ORCSAVE",42,0)
 ;    Requires: ORDIALOG() = array of new dialog values
"RTN","ORCSAVE",43,0)
 ;              ORIFN      = IFN of original order that was renewed
"RTN","ORCSAVE",44,0)
 ;
"RTN","ORCSAVE",45,0)
 N OLDIFN S OLDIFN=+ORIFN K ORIFN
"RTN","ORCSAVE",46,0)
 D EN Q:'ORIFN  S:'$G(ORDA) ORDA=1
"RTN","ORCSAVE",47,0)
 S $P(^OR(100,ORIFN,3),U,5)=OLDIFN,$P(^(3),U,11)=2
"RTN","ORCSAVE",48,0)
 S $P(^OR(100,OLDIFN,3),U,6)=ORIFN S:$D(^(5)) ^OR(100,ORIFN,5)=^OR(100,OLDIFN,5)
"RTN","ORCSAVE",49,0)
 Q
"RTN","ORCSAVE",50,0)
 ;
"RTN","ORCSAVE",51,0)
EN ; -- save new/unreleased order in ORDIALOG() into Orders file
"RTN","ORCSAVE",52,0)
 ;    Requires: ORVP, ORNP [and ORL, ORTS, ORAPPT if available]
"RTN","ORCSAVE",53,0)
 ;    If defined: ORCAT,ORPKG,ORDG,ORLOG,ORDUZ,OREVENT,ORDCNTRL,ORSRC
"RTN","ORCSAVE",54,0)
 ;     (else use values from ORDIALOG and current state)
"RTN","ORCSAVE",55,0)
 ;
"RTN","ORCSAVE",56,0)
 N PKG,NOW,NODE,CNT,CDL,I,X,STS,SIGNREQD,LOC,TRSPEC,NATR,CATG,DG,LOG,USR,TYPE,ORK
"RTN","ORCSAVE",57,0)
 Q:'$G(ORVP)  Q:'$G(ORDIALOG)  Q:'$D(^ORD(101.41,+ORDIALOG,0))
"RTN","ORCSAVE",58,0)
 S NOW=$$NOW^XLFDT,SIGNREQD=+$P(^ORD(101.41,+ORDIALOG,0),U,6)
"RTN","ORCSAVE",59,0)
 S CATG=$S($L($G(ORCAT)):ORCAT,1:$S($$INPT^ORCD:"I",1:"O"))
"RTN","ORCSAVE",60,0)
 S PKG=$S($G(ORPKG):ORPKG,1:$P(^ORD(101.41,+ORDIALOG,0),U,7))
"RTN","ORCSAVE",61,0)
 S LOG=$S($G(ORLOG):ORLOG,1:+$E(NOW,1,12)),USR=$S($G(ORDUZ):ORDUZ,1:DUZ)
"RTN","ORCSAVE",62,0)
 I $G(ORIFN),$D(^OR(100,ORIFN,0)) S STS=$P(^(3),U,3) G EN2 ; unrel order
"RTN","ORCSAVE",63,0)
 S DG=$S($G(ORDG):+ORDG,1:$P(^ORD(101.41,+ORDIALOG,0),U,5))
"RTN","ORCSAVE",64,0)
 I $G(OREVENT),"^PSO^RA^"'["^"_$$GET1^DIQ(9.4,+PKG_",",1)_"^",'$G(DGPMT) S LOC="",TRSPEC="" ; p286 added radiology package
"RTN","ORCSAVE",65,0)
 E  S LOC=$G(ORL),TRSPEC=$G(ORTS)
"RTN","ORCSAVE",66,0)
 S TYPE=$S("^B^C^X^P^0^"[(U_$G(ORSRC)_U):ORSRC,$G(ORDCNTRL)="SN":"P",1:0)
"RTN","ORCSAVE",67,0)
 ;S LOG=$S($G(ORLOG):ORLOG,1:+$E(NOW,1,12)),USR=$S($G(ORDUZ):ORDUZ,1:DUZ) moved up before EN2 call
"RTN","ORCSAVE",68,0)
 S NATR=+$O(^ORD(100.02,"C","E",0)) ;assume Elec Entered until changed
"RTN","ORCSAVE",69,0)
 S STS=$S($G(OREVENT):10,1:11),ORIFN=$$NEXTIFN Q:'ORIFN
"RTN","ORCSAVE",70,0)
EN1 S ^OR(100,ORIFN,0)=ORIFN_U_ORVP_U_U_$G(ORNP)_U_+ORDIALOG_";ORD(101.41,^"_USR_U_LOG_U_U_U_LOC_U_DG_U_CATG_U_TRSPEC_U_PKG_U_U_SIGNREQD_U_$G(OREVENT)_U_$G(ORAPPT)
"RTN","ORCSAVE",71,0)
 S ^OR(100,ORIFN,3)=LOG_"^90^"_STS_U_$S($G(ORIT):ORIT_";ORD(101.41,",1:"")_U_$G(ORDIALOG("PREV"))_"^^1^^^^"_TYPE
"RTN","ORCSAVE",72,0)
 S ^OR(100,ORIFN,8,0)="^100.008DA^1^1",^OR(100,ORIFN,8,1,0)=LOG_"^NW^"_$G(ORNP)_U_$S(SIGNREQD:2,1:3)_"^^^^^^^^"_NATR_U_USR_"^1^"_STS,^OR(100,ORIFN,8,"C","NW",1)=""
"RTN","ORCSAVE",73,0)
 S ^OR(100,"AF",LOG,ORIFN,1)=""
"RTN","ORCSAVE",74,0)
 S ^OR(100,"C",+ORDIALOG_";ORD(101.41,",ORIFN)=""
"RTN","ORCSAVE",75,0)
 S ^OR(100,"D",+ORDIALOG_";ORD(101.41,",ORIFN)=""
"RTN","ORCSAVE",76,0)
 S ^OR(100,"ACT",ORVP,9999999-LOG,+DG,ORIFN,1)=""
"RTN","ORCSAVE",77,0)
 S:STS'=10 ^OR(100,"AC",ORVP,9999999-LOG,ORIFN,1)=""
"RTN","ORCSAVE",78,0)
 S:SIGNREQD ^OR(100,"AS",ORVP,9999999-LOG,ORIFN,1)=""
"RTN","ORCSAVE",79,0)
 S:$G(OREVENT) ^OR(100,"AEVNT",ORVP,OREVENT,ORIFN)=""
"RTN","ORCSAVE",80,0)
 ;check if OR GTX STUDY REASON is in ORDIALOG and strip out control characters
"RTN","ORCSAVE",81,0)
 N ORRFSID
"RTN","ORCSAVE",82,0)
 S ORRFSID=$O(^ORD(101.41,"B","OR GTX STUDY REASON",""))
"RTN","ORCSAVE",83,0)
 I ORRFSID,$D(ORDIALOG(ORRFSID,1)) D
"RTN","ORCSAVE",84,0)
 .N X,I
"RTN","ORCSAVE",85,0)
 .S X=ORDIALOG(ORRFSID,1)
"RTN","ORCSAVE",86,0)
 .F I=1:1:31 S X=$TR(X,$C(I))
"RTN","ORCSAVE",87,0)
 .S ORDIALOG(ORRFSID,1)=X
"RTN","ORCSAVE",88,0)
EN2 S ORIFN=+ORIFN D RESPONSE ; save responses
"RTN","ORCSAVE",89,0)
 I $P(^OR(100,ORIFN,0),"^",5) D  ;Copy orders PKI fix
"RTN","ORCSAVE",90,0)
 . N OI,ORPKIU
"RTN","ORCSAVE",91,0)
 . S OI=+$O(^OR(100,ORIFN,4.5,"ID","ORDERABLE",0)),OI=+$G(^OR(100,ORIFN,4.5,OI,1)) Q:'OI
"RTN","ORCSAVE",92,0)
 . I PKG'=$O(^DIC(9.4,"B","OUTPATIENT PHARMACY",0)) Q
"RTN","ORCSAVE",93,0)
 . S ORPKIU=0 I $D(^ORD(100.7,"C",DUZ)) S ORPKIU=1
"RTN","ORCSAVE",94,0)
 . D PKI^ORWDPS1(.ORY,OI,CATG,+ORVP,ORPKIU)
"RTN","ORCSAVE",95,0)
 . I $E($G(ORY))=2 S ORDEA=ORY
"RTN","ORCSAVE",96,0)
 K ^OR(100,ORIFN,8,1,.1) D ORDTEXT^ORCSAVE1(ORIFN_";1") ; order text
"RTN","ORCSAVE",97,0)
 S NODE=^OR(100,ORIFN,8,1,0) D  S ^OR(100,ORIFN,8,1,0)=NODE
"RTN","ORCSAVE",98,0)
 . S $P(NODE,U,3)=$G(ORNP)
"RTN","ORCSAVE",99,0)
 . S $P(NODE,U,13)=USR
"RTN","ORCSAVE",100,0)
 S NODE=$G(^OR(100,ORIFN,0)) D  S ^OR(100,ORIFN,0)=NODE
"RTN","ORCSAVE",101,0)
 . S $P(NODE,U,4)=$G(ORNP) ; COST?
"RTN","ORCSAVE",102,0)
 . S I=$O(^OR(100,ORIFN,4.5,"ID","LOCATION",0))
"RTN","ORCSAVE",103,0)
 . I I,$P(NODE,U,10) S X=+$G(^OR(100,ORIFN,4.5,+I,1)) S:X $P(NODE,U,10)=X_";SC(" ;reset Loc if prev value
"RTN","ORCSAVE",104,0)
 . S I=$O(^OR(100,ORIFN,4.5,"ID","CLASS",0))
"RTN","ORCSAVE",105,0)
 . I I S X=$G(^OR(100,ORIFN,4.5,+I,1)) S:"^I^O^"[(U_X_U) $P(NODE,U,12)=X
"RTN","ORCSAVE",106,0)
 S $P(^OR(100,ORIFN,3),U)=NOW
"RTN","ORCSAVE",107,0)
 D DELOCC^OROCAPI1(ORIFN,"ACCEPTANCE_CPRS")
"RTN","ORCSAVE",108,0)
 I $G(ORCHECK) D  ; save order checks
"RTN","ORCSAVE",109,0)
 . S (CNT,CDL)=0 F  S CDL=$O(ORCHECK("NEW",CDL)) Q:CDL'>0  S I=0 D
"RTN","ORCSAVE",110,0)
 . . F  S I=$O(ORCHECK("NEW",CDL,I)) Q:I'>0  D
"RTN","ORCSAVE",111,0)
 . . . I $D(ORCHECK("NEW",CDL,I,0)) D
"RTN","ORCSAVE",112,0)
 . . . . N J S J=0,ORCHECK("NEW",CDL,I)=ORCHECK("NEW",CDL,I,J) F  S J=$O(ORCHECK("NEW",CDL,I,J)) Q:'J  S ORCHECK("NEW",CDL,I)=ORCHECK("NEW",CDL,I)_ORCHECK("NEW",CDL,I,J)
"RTN","ORCSAVE",113,0)
 . . . S X=ORCHECK("NEW",CDL,I)
"RTN","ORCSAVE",114,0)
 . . . S ORK(I,1)=+ORIFN_U_"ACCEPTANCE_CPRS"_U_DUZ_U_$$NOW^XLFDT_U_$P(X,U)_U_CDL
"RTN","ORCSAVE",115,0)
 . . . S ORK(I,2,1)=$P(X,U,3)
"RTN","ORCSAVE",116,0)
 . . . I $E(ORK(I,2,1),0,2)="||" D
"RTN","ORCSAVE",117,0)
 . . . . N ORGLOB,ORRULE,ORI,ORLINE
"RTN","ORCSAVE",118,0)
 . . . . S ORGLOB=$P($P(ORK(I,2,1),"||",2),"&"),ORRULE=$P($P(ORK(I,2,1),"||",2),"&",2)
"RTN","ORCSAVE",119,0)
 . . . . S ORK(I,2,1)=ORRULE,ORI=0,ORLINE=2
"RTN","ORCSAVE",120,0)
 . . . . F  S ORI=$O(^TMP($J,"ORK XTRA TXT",ORGLOB,ORRULE,ORI)) Q:'ORI  S ORK(I,2,ORLINE)=^TMP($J,"ORK XTRA TXT",ORGLOB,ORRULE,ORI),ORLINE=ORLINE+1
"RTN","ORCSAVE",121,0)
 . I $D(ORK) D
"RTN","ORCSAVE",122,0)
 . . N OCRET,ORKI
"RTN","ORCSAVE",123,0)
 . . D SAVEOC^OROCAPI1(.ORK,.OCRET)
"RTN","ORCSAVE",124,0)
 . . S ORKI=0 F  S ORKI=$O(ORK(ORKI)) Q:'ORKI  D
"RTN","ORCSAVE",125,0)
 . . . N OCINST,OCTXT S OCTXT=$G(ORK(ORKI,2,1))
"RTN","ORCSAVE",126,0)
 . . . S OCINST=$O(OCRET(ORKI,0))
"RTN","ORCSAVE",127,0)
 . . . N ORMONOI,ORMONOQ S ORMONOI=0,ORMONOQ=0 F  Q:ORMONOQ=1  S ORMONOI=$O(^TMP($J,"ORMONOGRAPH",ORMONOI)) Q:'ORMONOI  D
"RTN","ORCSAVE",128,0)
 . . . . I OCTXT[$G(^TMP($J,"ORMONOGRAPH",ORMONOI,"OC")) D
"RTN","ORCSAVE",129,0)
 . . . . . S ORMONOQ=1
"RTN","ORCSAVE",130,0)
 . . . . . S ^ORD(100.05,OCINST,17)=^TMP($J,"ORMONOGRAPH",ORMONOI,"INT")
"RTN","ORCSAVE",131,0)
 . . . . . M ^ORD(100.05,OCINST,16)=^TMP($J,"ORMONOGRAPH",ORMONOI,"DATA")
"RTN","ORCSAVE",132,0)
 . . . . . S ^ORD(100.05,OCINST,16,0)="^^"_$O(^ORD(100.05,OCINST,16,""),-1)_U_$O(^ORD(100.05,OCINST,16,""),-1)_U_+$$NOW^XLFDT_U
"RTN","ORCSAVE",133,0)
 . . K ^TMP($J,"ORMONOGRAPH")
"RTN","ORCSAVE",134,0)
 . . K ^TMP($J,"ORK XTRA TXT")
"RTN","ORCSAVE",135,0)
 K ORDEA
"RTN","ORCSAVE",136,0)
ENQ Q
"RTN","ORCSAVE",137,0)
 ;
"RTN","ORCSAVE",138,0)
NEXTIFN() ; -- Returns next available ORIFN
"RTN","ORCSAVE",139,0)
 N I,HDR,LAST,TOTAL,DA
"RTN","ORCSAVE",140,0)
 L +^OR(100,0):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORCSAVE",141,0)
 I '$T Q "^"
"RTN","ORCSAVE",142,0)
 S HDR=$G(^OR(100,0)),TOTAL=+$P(HDR,U,4),LAST=$O(^OR(100,"?"),-1)
"RTN","ORCSAVE",143,0)
 S I=LAST\1 F I=(I+1):1 Q:'$D(^OR(100,I,0))
"RTN","ORCSAVE",144,0)
 S DA=I,^OR(100,DA,0)=DA,$P(HDR,U,3,4)=DA_U_(TOTAL+1)
"RTN","ORCSAVE",145,0)
 S ^OR(100,0)=HDR L -^OR(100,0)
"RTN","ORCSAVE",146,0)
 Q DA
"RTN","ORCSAVE",147,0)
 ;
"RTN","ORCSAVE",148,0)
RESPONSE ; -- Save responses in ORDIALOG() into ^OR(100,ORIFN,4.5)
"RTN","ORCSAVE",149,0)
 N PROMPT,CNT,ITM,TYPE,INST,VALUE,I,START,PAT,X
"RTN","ORCSAVE",150,0)
 S PAT=$P(^OR(100,ORIFN,0),U,2),START=$P(^(0),U,8) K ^(4.5)
"RTN","ORCSAVE",151,0)
 S (PROMPT,CNT)=0 F  S PROMPT=$O(ORDIALOG(PROMPT)) Q:PROMPT'>0  D
"RTN","ORCSAVE",152,0)
 . S ITM=$G(ORDIALOG(PROMPT)) Q:'ITM
"RTN","ORCSAVE",153,0)
 . S TYPE=$E($G(ORDIALOG(PROMPT,0))) Q:'$L(TYPE)
"RTN","ORCSAVE",154,0)
 . S INST=0 F  S INST=$O(ORDIALOG(PROMPT,INST)) Q:INST'>0  D
"RTN","ORCSAVE",155,0)
 . . S VALUE=$G(ORDIALOG(PROMPT,INST)) Q:VALUE=""  S CNT=CNT+1
"RTN","ORCSAVE",156,0)
 . . S ^OR(100,ORIFN,4.5,CNT,0)=+ITM_U_PROMPT_U_INST_U_$P(ITM,U,2)
"RTN","ORCSAVE",157,0)
 . . S:$L($P(ITM,U,2)) ^OR(100,ORIFN,4.5,"ID",$P(ITM,U,2),CNT)=""
"RTN","ORCSAVE",158,0)
 . . I VALUE<1,TYPE="N" S VALUE=0_+VALUE I VALUE="00" S VALUE=0
"RTN","ORCSAVE",159,0)
 . . S:TYPE'="W" ^OR(100,ORIFN,4.5,CNT,1)=VALUE
"RTN","ORCSAVE",160,0)
 . . M:TYPE="W" ^OR(100,ORIFN,4.5,CNT,2)=@VALUE ; array root
"RTN","ORCSAVE",161,0)
 S ^OR(100,ORIFN,4.5,0)="^100.045A^"_CNT_U_CNT
"RTN","ORCSAVE",162,0)
R1 ; [Reset] Orderables
"RTN","ORCSAVE",163,0)
 I $D(^OR(100,ORIFN,.1)) S I=0 F  S I=$O(^OR(100,ORIFN,.1,I)) Q:I'>0  S X=$G(^(I,0)) I X,PAT,START K ^OR(100,"AOI",X,PAT,9999999-START,ORIFN) ; kill xref
"RTN","ORCSAVE",164,0)
 K ^OR(100,ORIFN,.1) I $D(^OR(100,ORIFN,4.5,"ID","ORDERABLE")) D
"RTN","ORCSAVE",165,0)
 . S (I,CNT)=0
"RTN","ORCSAVE",166,0)
 . F  S I=$O(^OR(100,ORIFN,4.5,"ID","ORDERABLE",I)) Q:I'>0  D
"RTN","ORCSAVE",167,0)
 . . S X=$G(^OR(100,ORIFN,4.5,I,1)) Q:'X
"RTN","ORCSAVE",168,0)
 . . S CNT=CNT+1,^OR(100,ORIFN,.1,CNT,0)=X,^OR(100,ORIFN,.1,"B",X,CNT)=""
"RTN","ORCSAVE",169,0)
 . . I PAT,START S ^OR(100,"AOI",X,PAT,9999999-START,ORIFN)=""
"RTN","ORCSAVE",170,0)
 . S ^OR(100,ORIFN,.1,0)="^100.001PA^"_CNT_U_CNT
"RTN","ORCSAVE",171,0)
 Q
"RTN","ORCSAVE",172,0)
 ;
"RTN","ORCSAVE",173,0)
RESUME(IFN) ; -- add Response nodes for RESUME tray service
"RTN","ORCSAVE",174,0)
 ; S ^OR(100,+IFN,4.5,<next>,0)=DT_"^^^RESUME",^(1)=1
"RTN","ORCSAVE",175,0)
 ;
"RTN","ORCSAVE",176,0)
 N X,Y,DA,DIC,DLAYGO
"RTN","ORCSAVE",177,0)
 S DIC="^OR(100,"_+IFN_",4.5,",DIC(0)="LX",DA(1)=+IFN,X=DT
"RTN","ORCSAVE",178,0)
 S DIC("DR")=".04///RESUME",DIC("P")=$P(^DD(100,4.5,0),U,2),DLAYGO=100
"RTN","ORCSAVE",179,0)
 D ^DIC S:Y ^OR(100,+IFN,4.5,+Y,1)=1
"RTN","ORCSAVE",180,0)
 Q
"RTN","ORCSAVE",181,0)
 ;
"RTN","ORCSAVE",182,0)
PROVIDER(ORDER,PROV) ; -- Change PROVider assigned to ORDER
"RTN","ORCSAVE",183,0)
 Q:'$G(ORDER)  Q:'$G(PROV)
"RTN","ORCSAVE",184,0)
 N ORACT S ORACT=+$P(ORDER,";",2) S:'ORACT ORACT=1
"RTN","ORCSAVE",185,0)
 S $P(^OR(100,+ORDER,8,ORACT,0),U,3)=PROV
"RTN","ORCSAVE",186,0)
 S:ORACT=1 $P(^OR(100,+ORDER,0),U,4)=PROV
"RTN","ORCSAVE",187,0)
 Q
"RTN","ORCSAVE",188,0)
 ;
"RTN","ORCSAVE",189,0)
ACTION(CODE,DA,PROV,REASON,WHEN,WHO) ; -- save new action
"RTN","ORCSAVE",190,0)
 N NEXT,TOTAL,HDR,LAST,X,PAT,DGRP,SIG,NATR,TXT S DA=+DA
"RTN","ORCSAVE",191,0)
 Q:'$D(^OR(100,DA,0)) 0 Q:$G(CODE)'?2U 0
"RTN","ORCSAVE",192,0)
 S:'$G(WHEN) WHEN=+$E($$NOW^XLFDT,1,12) S:'$G(WHO) WHO=DUZ
"RTN","ORCSAVE",193,0)
 S NATR=+$O(^ORD(100.02,"C","E",0)) ;assume Elec Entered until changed
"RTN","ORCSAVE",194,0)
 S PAT=$P(^OR(100,DA,0),U,2),DGRP=$P(^(0),U,11),SIG=$P(^(0),U,16),X=+$P($G(^(3)),U,7),HDR=$G(^(8,0))
"RTN","ORCSAVE",195,0)
 S:X'>0 X=1 S TXT=$P($G(^OR(100,DA,8,X,0)),U,14) ;current actn's txt ptr
"RTN","ORCSAVE",196,0)
 S:HDR="" HDR="^100.008DA^^" S TOTAL=+$P(HDR,U,4)
"RTN","ORCSAVE",197,0)
 S LAST=$O(^OR(100,DA,8,"C",CODE,"?"),-1) I LAST D
"RTN","ORCSAVE",198,0)
 . S X=$G(^OR(100,DA,8,LAST,0)) Q:$P(X,U,15)'=11  Q:$P(X,U,4)'=2
"RTN","ORCSAVE",199,0)
 . S NEXT=LAST I PAT,$P(X,U) D  ; kill old xref entries
"RTN","ORCSAVE",200,0)
 . . K:DGRP ^OR(100,"ACT",PAT,(9999999-$P(X,U)),DGRP,DA,NEXT)
"RTN","ORCSAVE",201,0)
 . . K ^OR(100,"AC",PAT,(9999999-$P(X,U)),DA,NEXT),^OR(100,"AS",PAT,(9999999-$P(X,U)),DA,NEXT),^OR(100,"AF",$P(X,U),DA,NEXT)
"RTN","ORCSAVE",202,0)
 S:'$G(NEXT) NEXT=$O(^OR(100,DA,8,"?"),-1)+1,TOTAL=TOTAL+1
"RTN","ORCSAVE",203,0)
 S ^OR(100,DA,8,NEXT,0)=WHEN_U_CODE_U_$G(PROV)_U_$S(SIG:2,1:3)_"^^^^^^^^"_NATR_U_WHO_U_TXT_"^11",^OR(100,DA,8,"C",CODE,NEXT)=""
"RTN","ORCSAVE",204,0)
 S ^OR(100,"AF",WHEN,DA,NEXT)=""
"RTN","ORCSAVE",205,0)
 I PAT,DGRP S ^OR(100,"ACT",PAT,9999999-WHEN,DGRP,DA,NEXT)=""
"RTN","ORCSAVE",206,0)
 I PAT S ^OR(100,"AC",PAT,9999999-WHEN,DA,NEXT)=""
"RTN","ORCSAVE",207,0)
 I SIG S ^OR(100,"AS",PAT,9999999-WHEN,DA,NEXT)=""
"RTN","ORCSAVE",208,0)
 S:$L($G(REASON)) ^OR(100,DA,8,NEXT,1)=REASON
"RTN","ORCSAVE",209,0)
 S $P(HDR,U,3,4)=NEXT_U_TOTAL,^OR(100,DA,8,0)=HDR
"RTN","ORCSAVE",210,0)
 Q NEXT
"RTN","ORCSAVE",211,0)
 ;
"RTN","ORCSAVE",212,0)
SET(DLG) ; -- Create new parent for order set ORDIALOG
"RTN","ORCSAVE",213,0)
 ; Returns ORPIFN = ifn of new parent order for set
"RTN","ORCSAVE",214,0)
 ;
"RTN","ORCSAVE",215,0)
 Q:'$G(ORVP)  Q:'$G(DLG)  N OR0,PKG,NOW,CATG,STS,ORLOC,TRSPEC,X
"RTN","ORCSAVE",216,0)
 S OR0=$G(^ORD(101.41,DLG,0)) Q:OR0=""  S ORPIFN=$$NEXTIFN Q:'ORPIFN
"RTN","ORCSAVE",217,0)
 S PKG=$O(^DIC(9.4,"C","OR",0)),CATG=$S($$INPT^ORCD:"I",1:"O"),STS=$S($G(OREVENT):10,1:11),NOW=$S($G(ORSLOG):ORSLOG,1:+$E($$NOW^XLFDT,1,12))
"RTN","ORCSAVE",218,0)
 I $G(OREVENT) S ORLOC="",TRSPEC=""
"RTN","ORCSAVE",219,0)
 S ^OR(100,ORPIFN,0)=ORPIFN_U_ORVP_U_U_$G(ORNP)_U_DLG_";ORD(101.41,^"_DUZ_U_NOW_U_U_U_ORLOC_U_U_CATG_U_TRSPEC_U_PKG_"^^^"_$G(OREVENT),^(3)=NOW_"^90^"_STS_U_$S($G(ORIT):ORIT_"ORD(101.41,",1:"")_"^^^1^^^^0^^"_+$P(OR0,U,6)
"RTN","ORCSAVE",220,0)
 S ^OR(100,ORPIFN,8,0)="^100.008DA^1^1",^(1,0)=NOW_"^NW^"_$G(ORNP)_"^^^^^^^^^^"_DUZ_"^^"_STS,^OR(100,ORPIFN,8,"C","NW",1)="",^OR(100,"AF",NOW,ORPIFN,1)=""
"RTN","ORCSAVE",221,0)
 S ^OR(100,"ACT",ORVP,9999999-NOW,ORPIFN,1)=""
"RTN","ORCSAVE",222,0)
 S:STS=11 ^OR(100,"AC",ORVP,9999999-NOW,ORPIFN,1)=""
"RTN","ORCSAVE",223,0)
 ; AEVNT ??
"RTN","ORCSAVE",224,0)
 S ^OR(100,ORPIFN,1,0)="^100.011^1^1",^(1,0)=$P(OR0,U,2) ; Order text
"RTN","ORCSAVE",225,0)
 Q
"RTN","ORCXPND1")
0^7^B99799009
"RTN","ORCXPND1",1,0)
ORCXPND1 ; SLC/MKB - Expanded Display cont ;09/21/12  05:58
"RTN","ORCXPND1",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**26,67,75,89,92,94,148,159,188,172,215,243,280,340,306,350,423**;Dec 17, 1997;Build 19
"RTN","ORCXPND1",3,0)
 ;
"RTN","ORCXPND1",4,0)
 ; External References
"RTN","ORCXPND1",5,0)
 ;   DBIA  2387  ^LAB(60
"RTN","ORCXPND1",6,0)
 ;   DBIA  3420  ^DPT(  file #2
"RTN","ORCXPND1",7,0)
 ;   DBIA 10035  ^DPT(  file #2
"RTN","ORCXPND1",8,0)
 ;   DBIA 10037  EN^DGRPD
"RTN","ORCXPND1",9,0)
 ;   DBIA   700  DIS^DGRPDB
"RTN","ORCXPND1",10,0)
 ;   DBIA  2926  RT^GMRCGUIA
"RTN","ORCXPND1",11,0)
 ;   DBIA  2925  DT^GMRCSLM2                     ^TMP("GMRCR"
"RTN","ORCXPND1",12,0)
 ;   DBIA  2503  RR^LR7OR1                       ^TMP("LRRR"
"RTN","ORCXPND1",13,0)
 ;   DBIA  2951  EN1^LR7OSBR                     ^TMP("LRC"
"RTN","ORCXPND1",14,0)
 ;   DBIA  2952  EN^LR7OSMZ0
"RTN","ORCXPND1",15,0)
 ;   DBIA  2400  OEL^PSOORRL                     ^TMP("PS"
"RTN","ORCXPND1",16,0)
 ;   DBIA  2877  EN3^RAO7PC3
"RTN","ORCXPND1",17,0)
 ;   DBIA  2877  EN30^RAO7PC3
"RTN","ORCXPND1",18,0)
 ;   DBIA  1252  $$OUTPTPR^SDUTL3
"RTN","ORCXPND1",19,0)
 ;   DBIA  1252  $$OUTPTTM^SDUTL3
"RTN","ORCXPND1",20,0)
 ;   DBIA  2832  RPC^TIUSRV
"RTN","ORCXPND1",21,0)
 ;   DBIA 10061  DEM^VADPT
"RTN","ORCXPND1",22,0)
 ;   DBIA 10061  KVAR^VADPT
"RTN","ORCXPND1",23,0)
 ;   DBIA 10061  OAD^VADPT
"RTN","ORCXPND1",24,0)
 ;   DBIA 10103  $$FMTE^XLFDT
"RTN","ORCXPND1",25,0)
 ;   DBIA  4408  DISP^DGIBDSP
"RTN","ORCXPND1",26,0)
 ;   DBIA  5697  START^SCMCMHTC
"RTN","ORCXPND1",27,0)
 ;
"RTN","ORCXPND1",28,0)
COVER ; -- Cover Sheet
"RTN","ORCXPND1",29,0)
 N PKG S PKG=$P($G(^TMP("OR",$J,ORTAB,"IDX",NUM)),U,4)
"RTN","ORCXPND1",30,0)
 D ALLERGY^ORCXPND2:PKG="GMRA",NOTES:PKG="TIU"
"RTN","ORCXPND1",31,0)
 Q
"RTN","ORCXPND1",32,0)
NOTES ; -- Progress Notes
"RTN","ORCXPND1",33,0)
 N I,ORY,DATE,AUTHOR,PTLOC,SUBJ K ^TMP("TIUAUDIT",$J)
"RTN","ORCXPND1",34,0)
 D RPC^TIUSRV(.ORY,ID)
"RTN","ORCXPND1",35,0)
 S I=0 F  S I=$O(@ORY@(I)) Q:I'>0  S LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)=$G(@ORY@(I,0))
"RTN","ORCXPND1",36,0)
 K @ORY
"RTN","ORCXPND1",37,0)
 Q
"RTN","ORCXPND1",38,0)
PROBLEMS ; -- Problem List
"RTN","ORCXPND1",39,0)
 D PL^ORCXPND4
"RTN","ORCXPND1",40,0)
 Q
"RTN","ORCXPND1",41,0)
MEDS ; -- Pharmacy
"RTN","ORCXPND1",42,0)
 ;N NODE,ORIFN
"RTN","ORCXPND1",43,0)
 K ^TMP("PS",$J)
"RTN","ORCXPND1",44,0)
 D OEL^PSOORRL(+ORVP,ID) ;S NODE=$G(^TMP("PS",$J,0)),ORIFN=+$P(NODE,U,11)
"RTN","ORCXPND1",45,0)
 S ID=+$P($G(^TMP("PS",$J,0)),U,11) D ORDERS  ;DBIA 2400
"RTN","ORCXPND1",46,0)
 ;D @($S($P($G(^OR(100,ORIFN,0)),U,11)=$O(^ORD(100.98,"B","IV RX",0)):"IV",1:"DRUG")_"^ORCXPND2")
"RTN","ORCXPND1",47,0)
 K ^TMP("PS",$J)
"RTN","ORCXPND1",48,0)
 Q
"RTN","ORCXPND1",49,0)
LABS ; -- Laboratory [RESULTS ONLY for ID=OE order #]
"RTN","ORCXPND1",50,0)
 N ORIFN,X,SUB,TEST,NAME,SS,IDE,IVDT,TST,CCNT,ORCY,IG,TCNT,XT
"RTN","ORCXPND1",51,0)
 K ^TMP("LRRR",$J)  ;DBIA 2503
"RTN","ORCXPND1",52,0)
 I (ID?2.5E1" "2N1" "1.N1"-"7N1"."1.4N)!(ID?2.5E1" "2N1" "1.N1"-"7N) D AP^ORCXPND3 Q  ;ID=Accession #-Date/time specimen taken
"RTN","ORCXPND1",53,0)
 S ORIFN=+ID,IDE=$G(^OR(100,+ID,4)) Q:'$L(IDE)  ; OE# -> Lab#
"RTN","ORCXPND1",54,0)
 I $P(IDE,";",5) D RR^LR7OR1(+ORVP,,9999999-$P(IDE,";",5),9999999-$P(IDE,";",5),$P(IDE,";",4)) ;lookup on file 63 first
"RTN","ORCXPND1",55,0)
 I '$P(IDE,";",5),+IDE D RR^LR7OR1(+ORVP,IDE) I '$D(^TMP("LRRR",$J,+ORVP)) S $P(IDE,";",1,3)=";;"
"RTN","ORCXPND1",56,0)
 K ORCY D TEXT^ORQ12(.ORCY,ORIFN,80)
"RTN","ORCXPND1",57,0)
 S IG=0 F  S IG=$O(ORCY(IG)) Q:IG<1  S X=ORCY(IG) D ITEM^ORCXPND(X)
"RTN","ORCXPND1",58,0)
 D BLANK^ORCXPND I '$D(^TMP("LRRR",$J,+ORVP)) S LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)="No data available." Q
"RTN","ORCXPND1",59,0)
 M TEST=^TMP("LRRR",$J,+ORVP) S CCNT=0,SS=""
"RTN","ORCXPND1",60,0)
 F  S SS=$O(TEST(SS)) Q:SS=""  S IVDT=0 F  S IVDT=$O(TEST(SS,IVDT)) Q:'IVDT  D
"RTN","ORCXPND1",61,0)
 . I SS="BB" D
"RTN","ORCXPND1",62,0)
 .. I $$GET^XPAR("DIV^SYS^PKG","OR VBECS ON",1,"Q"),$L($T(EN^ORWLR1)),$L($T(CPRS^VBECA3B)) D  Q  ;Transition to VBEC's interface
"RTN","ORCXPND1",63,0)
 ... K ^TMP("ORLRC",$J)
"RTN","ORCXPND1",64,0)
 ... D EN^ORWLR1(DFN)
"RTN","ORCXPND1",65,0)
 ... I '$O(^TMP("ORLRC",$J,0)) S ^TMP("ORLRC",$J,1,0)="",^TMP("ORLRC",$J,2,0)="No Blood Bank report available..."
"RTN","ORCXPND1",66,0)
 ... N I S I=0 F  S I=$O(^TMP("ORLRC",$J,I)) Q:I<1  S X=^(I,0),LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)=X
"RTN","ORCXPND1",67,0)
 ... K ^TMP("ORLRC",$J)
"RTN","ORCXPND1",68,0)
 .. K ^TMP("LRC",$J) D EN1^LR7OSBR(+ORVP) Q:'$D(^TMP("LRC",$J))  D  Q  ;DBIA 2951
"RTN","ORCXPND1",69,0)
 ... N I S I=0 F  S I=$O(^TMP("LRC",$J,I)) Q:I<1  S X=^(I,0),LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)=X
"RTN","ORCXPND1",70,0)
 ... K ^TMP("LRC",$J)
"RTN","ORCXPND1",71,0)
 . I SS="MI" K ^TMP("LRC",$J) D EN^LR7OSMZ0(+ORVP) Q:'$D(^TMP("LRC",$J))  D  Q
"RTN","ORCXPND1",72,0)
 .. N I S I=0 F  S I=$O(^TMP("LRC",$J,I)) Q:I<1  S X=^(I,0),LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)=X
"RTN","ORCXPND1",73,0)
 .. K ^TMP("LRC",$J)
"RTN","ORCXPND1",74,0)
 . I SS="CH" D  Q
"RTN","ORCXPND1",75,0)
 .. S (TCNT,TST)=0 F  S TST=$O(TEST(SS,IVDT,TST)) Q:TST=""  S CCNT=0,TCNT=TCNT+1 D
"RTN","ORCXPND1",76,0)
 ... I TCNT=1 D
"RTN","ORCXPND1",77,0)
 .... S LINE="Collection time: "_$$FMTE^XLFDT(9999999-IVDT,"M")
"RTN","ORCXPND1",78,0)
 .... D SETLINE(LINE,.LCNT)
"RTN","ORCXPND1",79,0)
 .... D BLANK^ORCXPND
"RTN","ORCXPND1",80,0)
 .... S LINE=$$S(1,CCNT," ")_$$S(2,CCNT,"Test Name")_$$S(38,CCNT,"Result")_$$S(48,CCNT,"Units")_$$S(64,CCNT,"Range")
"RTN","ORCXPND1",81,0)
 .... D SETLINE(LINE,.LCNT)
"RTN","ORCXPND1",82,0)
 .... S CCNT=0,LINE=$$S(1,CCNT," ")_$$S(2,CCNT,"---------")_$$S(38,CCNT,"------")_$$S(48,CCNT,"-----")_$$S(64,CCNT,"-----")
"RTN","ORCXPND1",83,0)
 .... D SETLINE(LINE,.LCNT)
"RTN","ORCXPND1",84,0)
 .... D:$D(IOUON) SETVIDEO^ORCXPND(LCNT,1,70,IOUON,IOUOFF)
"RTN","ORCXPND1",85,0)
 ... I TST S XT=TEST(SS,IVDT,TST),CCNT=0 I +XT D
"RTN","ORCXPND1",86,0)
 .... S NAME=$S($L($P(^LAB(60,+XT,0),U))>25:$S($L($P($G(^(.1)),U)):$P(^(.1),U),1:$E($P(^(0),U),1,25)),1:$E($P(^(0),U),1,25))
"RTN","ORCXPND1",87,0)
 .... S LINE=$$S(1,CCNT,NAME)_$$S(25,CCNT,$J($P(XT,U,2),20))_$$S(31,CCNT,$S($L($P(XT,U,3)):$P(XT,U,3),1:""))_$$S(48,CCNT,$P(XT,U,4))_$$S(58,CCNT,$J($P(XT,U,5),15))
"RTN","ORCXPND1",88,0)
 .... D SETLINE(LINE,.LCNT)
"RTN","ORCXPND1",89,0)
 .... I $P(XT,U,20) S ^TMP("ORPLS",$J,$P(XT,U,20))=""
"RTN","ORCXPND1",90,0)
 .... I $L($P(XT,U,3)),$D(IOINHI) D SETVIDEO^ORCXPND(LCNT,26,8,IOINHI,IOINORM)
"RTN","ORCXPND1",91,0)
 .... I $P(XT,U,3)["*",$D(IOBON),$D(IOINHI) D SETVIDEO^ORCXPND(LCNT,26,8,IOBON_IOINHI,IOBOFF_IOINORM)
"RTN","ORCXPND1",92,0)
 ... I TST="N" S LINE=" Comments: " D
"RTN","ORCXPND1",93,0)
 .... D SETLINE(LINE,.LCNT)
"RTN","ORCXPND1",94,0)
 .... N CMT S CMT=0 F  S CMT=$O(TEST(SS,IVDT,"N",CMT)) Q:'CMT  S LINE=" "_TEST(SS,IVDT,"N",CMT) D SETLINE(LINE,.LCNT)
"RTN","ORCXPND1",95,0)
 I $L($O(^TMP("ORPLS",$J,""))) D SETLINE(" ",.LCNT),SETLINE(" ",.LCNT),SETLINE("===============================================================================",.LCNT),PLS
"RTN","ORCXPND1",96,0)
 D SETLINE(" ",.LCNT)
"RTN","ORCXPND1",97,0)
 K ^TMP("LRRR",$J)
"RTN","ORCXPND1",98,0)
 Q
"RTN","ORCXPND1",99,0)
 ;
"RTN","ORCXPND1",100,0)
PLS ; List performing laboratories
"RTN","ORCXPND1",101,0)
 N LINE,ORPLS,X
"RTN","ORCXPND1",102,0)
 D SETLINE("Performing Lab Sites",.LCNT)
"RTN","ORCXPND1",103,0)
 S ORPLS=0
"RTN","ORCXPND1",104,0)
 F  S ORPLS=$O(^TMP("ORPLS",$J,ORPLS)) Q:ORPLS<1  D
"RTN","ORCXPND1",105,0)
 . S LINE=$$LJ^XLFSTR("["_ORPLS_"] ",8)_$$NAME^XUAF4(ORPLS)
"RTN","ORCXPND1",106,0)
 . D SETLINE(LINE,.LCNT)
"RTN","ORCXPND1",107,0)
 . S X=$$PADD^XUAF4(ORPLS)
"RTN","ORCXPND1",108,0)
 . S LINE=$$REPEAT^XLFSTR(" ",8)_$P(X,U)_" "_$P(X,U,2)_", "_$P(X,U,3)_" "_$P(X,U,4)
"RTN","ORCXPND1",109,0)
 . D SETLINE(LINE,.LCNT)
"RTN","ORCXPND1",110,0)
 D SETLINE("===============================================================================",.LCNT)
"RTN","ORCXPND1",111,0)
 K ^TMP("ORPLS",$J)
"RTN","ORCXPND1",112,0)
 Q
"RTN","ORCXPND1",113,0)
 ;
"RTN","ORCXPND1",114,0)
SETLINE(LINE,CNT) ;
"RTN","ORCXPND1",115,0)
 S CNT=CNT+1,^TMP("ORXPND",$J,CNT,0)=LINE
"RTN","ORCXPND1",116,0)
 Q
"RTN","ORCXPND1",117,0)
 ;
"RTN","ORCXPND1",118,0)
DELAY ; -- Delayed Orders
"RTN","ORCXPND1",119,0)
NEW ; -- New Orders
"RTN","ORCXPND1",120,0)
ORDERS ; -- Orders
"RTN","ORCXPND1",121,0)
 I '$G(ORESULTS) D ORDERS^ORCXPND2 Q
"RTN","ORCXPND1",122,0)
 ; -- Results Display (Add more packages as available)
"RTN","ORCXPND1",123,0)
 N PKG,TAB,ORIFN
"RTN","ORCXPND1",124,0)
 S PKG=+$P($G(^OR(100,+ID,0)),"^",14),PKG=$$NMSP^ORCD(PKG)
"RTN","ORCXPND1",125,0)
 S TAB=$S(PKG="LR":"LABS",PKG="GMRC":"CONSULTS",PKG="RA":"XRAYS",1:"")
"RTN","ORCXPND1",126,0)
 I '$L(TAB)!(ID'>0) D  Q  ; no display available
"RTN","ORCXPND1",127,0)
 . N ORY,I D TEXT^ORQ12(.ORY,+ID,80)
"RTN","ORCXPND1",128,0)
 . S I=0 F  S I=$O(ORY(I)) Q:I'>0  D ITEM^ORCXPND(ORY(I))
"RTN","ORCXPND1",129,0)
 . D BLANK^ORCXPND
"RTN","ORCXPND1",130,0)
 . S LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)="There are no results to report."
"RTN","ORCXPND1",131,0)
 I $O(^OR(100,+ID,2,0)) S ORIFN=+ID,ID=0 F  S ID=$O(^OR(100,ORIFN,2,ID)) Q:ID<1  I $D(^OR(100,ID,0)) D @TAB
"RTN","ORCXPND1",132,0)
 I '$O(^OR(100,+ID,2,0)) D @TAB
"RTN","ORCXPND1",133,0)
 Q
"RTN","ORCXPND1",134,0)
REPORTS ; -- Patient Profiles
"RTN","ORCXPND1",135,0)
 D EN^ORCXPNDR ; Reports
"RTN","ORCXPND1",136,0)
 Q
"RTN","ORCXPND1",137,0)
CONSULTS ; -- Consults
"RTN","ORCXPND1",138,0)
 N I,X,SUB,ORTX ;,VALMAR
"RTN","ORCXPND1",139,0)
 I $G(ORTAB)="CONSULTS" S X=$P($G(^TMP("OR",$J,ORTAB,"IDX",NUM)),U,4)
"RTN","ORCXPND1",140,0)
 E  D TEXT^ORQ12(.ORTX,+ID) S X=ORTX(1),ID=+$G(^OR(100,+ID,4)) ; OE->GMRC order#
"RTN","ORCXPND1",141,0)
 D ITEM^ORCXPND(X),BLANK^ORCXPND
"RTN","ORCXPND1",142,0)
 I ID'>0 S LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)="No data available." Q
"RTN","ORCXPND1",143,0)
 I '$G(ORESULTS) D  ;DT action
"RTN","ORCXPND1",144,0)
 . S LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)="Consult No.:           "_ID
"RTN","ORCXPND1",145,0)
 . N GMRCOER S GMRCOER=2 D DT^GMRCSLM2(ID) S SUB="DT"  ;DBIA 2925
"RTN","ORCXPND1",146,0)
 I $G(ORESULTS) D RT^GMRCGUIA(ID,"^TMP(""GMRCR"",$J,""RT"")") S SUB="RT"
"RTN","ORCXPND1",147,0)
 S I=0 F  S I=$O(^TMP("GMRCR",$J,SUB,I)) Q:I'>0  S X=$G(^(I,0)),LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)=X  ;DBIA 2925
"RTN","ORCXPND1",148,0)
 K ^TMP("GMRCR",$J)
"RTN","ORCXPND1",149,0)
 Q
"RTN","ORCXPND1",150,0)
XRAYS ; -- Radiology
"RTN","ORCXPND1",151,0)
 I '$G(ORESULTS) S ID=+ORVP_U_$TR(ID,"-","^") D EN3^RAO7PC3(ID)
"RTN","ORCXPND1",152,0)
 I $G(ORESULTS) S ID=+$G(^OR(100,+ID,4)) D EN30^RAO7PC3(ID)
"RTN","ORCXPND1",153,0)
 N CASE,PROC,PSET S PSET=$D(^TMP($J,"RAE3",+ORVP,"PRINT_SET"))
"RTN","ORCXPND1",154,0)
 S CASE=0 F  S CASE=$O(^TMP($J,"RAE3",+ORVP,CASE)) Q:CASE'>0  D
"RTN","ORCXPND1",155,0)
 . I PSET S PROC=$O(^TMP($J,"RAE3",+ORVP,CASE,"")) D ITEM^ORCXPND(PROC) Q
"RTN","ORCXPND1",156,0)
 . S PROC="" F  S PROC=$O(^TMP($J,"RAE3",+ORVP,CASE,PROC)) Q:PROC=""  D ITEM^ORCXPND(PROC),BLANK^ORCXPND,XRPT,BLANK^ORCXPND
"RTN","ORCXPND1",157,0)
 I PSET S CASE=$O(^TMP($J,"RAE3",+ORVP,0)),PROC=$O(^(CASE,"")) D BLANK^ORCXPND,XRPT,BLANK^ORCXPND ;printset=list all procs, then one report
"RTN","ORCXPND1",158,0)
 K ^TMP($J,"RAE3",+ORVP),^UTILITY($J,"W")
"RTN","ORCXPND1",159,0)
 S VALM("RM")=81
"RTN","ORCXPND1",160,0)
 Q
"RTN","ORCXPND1",161,0)
 ;
"RTN","ORCXPND1",162,0)
XRPT ; -- Body of Report for CASE, PROC
"RTN","ORCXPND1",163,0)
 N ORD,X,I
"RTN","ORCXPND1",164,0)
 S ORD=$S($L($G(^TMP($J,"RAE3",+ORVP,"ORD"))):^("ORD"),$L($G(^("ORD",CASE))):^(CASE),1:"") I $L(ORD),ORD'=PROC S LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)="Proc Ord: "_ORD
"RTN","ORCXPND1",165,0)
 S I=1 F  S I=$O(^TMP($J,"RAE3",+ORVP,CASE,PROC,I)) Q:I'>0  S X=^(I),LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)=X ;Skip pt ID on line 1
"RTN","ORCXPND1",166,0)
 Q
"RTN","ORCXPND1",167,0)
 ;
"RTN","ORCXPND1",168,0)
SUMMRIES ; -- Discharge Summaries
"RTN","ORCXPND1",169,0)
 N I,ORY,DATE,AUTHOR,PTLOC,SUBJ K ^TMP("TIUAUDIT",$J)
"RTN","ORCXPND1",170,0)
 D RPC^TIUSRV(.ORY,ID)
"RTN","ORCXPND1",171,0)
 S I=0 F  S I=$O(@ORY@(I)) Q:I'>0  S LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)=$G(@ORY@(I,0))
"RTN","ORCXPND1",172,0)
 K @ORY
"RTN","ORCXPND1",173,0)
 Q
"RTN","ORCXPND1",174,0)
PTINQ ; Print Patient Inquiry in List Manager
"RTN","ORCXPND1",175,0)
 N DFN,ORI,X
"RTN","ORCXPND1",176,0)
 S DFN=+ORVP
"RTN","ORCXPND1",177,0)
 D DGINQ(DFN)
"RTN","ORCXPND1",178,0)
 S ORI=4,LCNT=0
"RTN","ORCXPND1",179,0)
 F  S ORI=$O(^TMP("ORDATA",$J,1,ORI)) Q:'ORI  S X=^(ORI) D
"RTN","ORCXPND1",180,0)
 . S LCNT=LCNT+1
"RTN","ORCXPND1",181,0)
 . S ^TMP("ORXPND",$J,LCNT,0)=X
"RTN","ORCXPND1",182,0)
 K ^TMP("ORDATA",$J,1)
"RTN","ORCXPND1",183,0)
 Q
"RTN","ORCXPND1",184,0)
 ;
"RTN","ORCXPND1",185,0)
DGINQ(DFN) ; Patient Inquiry
"RTN","ORCXPND1",186,0)
 D START^ORWRP(80,"DGINQB^ORCXPND1(DFN)")
"RTN","ORCXPND1",187,0)
 Q
"RTN","ORCXPND1",188,0)
DGINQB(DFN) ; Build Patient Inquiry
"RTN","ORCXPND1",189,0)
 N CONTACT,ORDOC,ORTEAM,ORMHP,ORVP,XQORNOD,ORSSTRT,ORSSTOPT,VAOA,CPRSGUI,ORINP,ORATP,ORASS
"RTN","ORCXPND1",190,0)
 S ORVP=DFN_";DPT(",XQORNOD=1,CPRSGUI=1
"RTN","ORCXPND1",191,0)
 D EN^DGRPD ; MAS Patient Inquiry
"RTN","ORCXPND1",192,0)
 K CPRSGUI
"RTN","ORCXPND1",193,0)
 ;
"RTN","ORCXPND1",194,0)
 S ORDOC=$$OUTPTPR^SDUTL3(DFN)
"RTN","ORCXPND1",195,0)
 S ORTEAM=$$OUTPTTM^SDUTL3(DFN)
"RTN","ORCXPND1",196,0)
 S ORMHP=$$START^SCMCMHTC(DFN) ;Retrieve Mental Health Provider
"RTN","ORCXPND1",197,0)
 S ORINP=$G(^DPT(DFN,.104))
"RTN","ORCXPND1",198,0)
 S ORATP=$G(^DPT(DFN,.1041))
"RTN","ORCXPND1",199,0)
 S ORASS=$P($$OUTPTAP^SDUTL3(DFN,DT),U,2)
"RTN","ORCXPND1",200,0)
 I ORDOC!ORTEAM!ORMHP!ORINP!ORATP  D
"RTN","ORCXPND1",201,0)
 . W !!,"Primary Care Information:"
"RTN","ORCXPND1",202,0)
 . I ORDOC W !,"Primary Practitioner: ",$P(ORDOC,"^",2)
"RTN","ORCXPND1",203,0)
 . I ORTEAM W !,"Primary Care Team:    ",$P(ORTEAM,"^",2)
"RTN","ORCXPND1",204,0)
 . I $$INPT^ORWPT1(DFN) D
"RTN","ORCXPND1",205,0)
 . . I ORATP W !,"Attending Physician:  ",$P($G(^VA(200,+ORATP,0)),U)
"RTN","ORCXPND1",206,0)
 . . I ORINP W !,"Inpatient Provider:   ",$P($G(^VA(200,+ORINP,0)),U)
"RTN","ORCXPND1",207,0)
 . I $L(ORASS) W !,"Associate Provider:   ",ORASS
"RTN","ORCXPND1",208,0)
 . I ORMHP D
"RTN","ORCXPND1",209,0)
 .. W !!,"MH Treatment Information:"
"RTN","ORCXPND1",210,0)
 .. W !,"MH Treatment Coord:   ",$E($P(ORMHP,"^",2),1,28) D
"RTN","ORCXPND1",211,0)
 ... W ?52,"Position: ",$E($P(ORMHP,"^",3),1,18)
"RTN","ORCXPND1",212,0)
 .. W !,"MH Treatment Team:    ",$E($P(ORMHP,"^",5),1,56)
"RTN","ORCXPND1",213,0)
 W !!,"Health Insurance Information:"
"RTN","ORCXPND1",214,0)
 D DISP^DGIBDSP  ;DBIA #4408
"RTN","ORCXPND1",215,0)
 W !!,"Service Connection/Rated Disabilities:"
"RTN","ORCXPND1",216,0)
 D DIS^DGRPDB
"RTN","ORCXPND1",217,0)
 F CONTACT="N","S" D
"RTN","ORCXPND1",218,0)
 .S VAOA("A")=$S(CONTACT="N":"",1:3)
"RTN","ORCXPND1",219,0)
 .D OAD^VADPT ;   Get NOK Information
"RTN","ORCXPND1",220,0)
 .I VAOA(9)]"" D
"RTN","ORCXPND1",221,0)
 .. W !!,$S(CONTACT="N":"Next of Kin Information:",1:"Secondary Next of Kin Information:")
"RTN","ORCXPND1",222,0)
 .. W !,"Name:  ",VAOA(9)                          ;     NOK Name
"RTN","ORCXPND1",223,0)
 .. I VAOA(10)]"" W " (",VAOA(10),")"              ;     Relationship
"RTN","ORCXPND1",224,0)
 .. I VAOA(1)]"" W !?7,VAOA(1)                     ;     Address Line 1
"RTN","ORCXPND1",225,0)
 .. I VAOA(2)]"" W !?7,VAOA(2)                     ;     Line 2
"RTN","ORCXPND1",226,0)
 .. I VAOA(3)]"" W !?7,VAOA(3)                     ;     Line 3
"RTN","ORCXPND1",227,0)
 .. I VAOA(4)]"" D
"RTN","ORCXPND1",228,0)
 .. . W !?7,VAOA(4)                                ;     City
"RTN","ORCXPND1",229,0)
 .. . I VAOA(5)]"" W ", "_$P(VAOA(5),"^",2)        ;     State
"RTN","ORCXPND1",230,0)
 .. . W "  ",$P(VAOA(11),"^",2)                    ;     Zip+4
"RTN","ORCXPND1",231,0)
 .. I VAOA(8)]"" W !!?7,"Phone number:  ",VAOA(8)  ;     Phone
"RTN","ORCXPND1",232,0)
 .. I CONTACT="N",$P($G(^DPT(DFN,.21)),U,11)]"" W !?7,"Work phone number:  ",$P(^DPT(DFN,.21),U,11)
"RTN","ORCXPND1",233,0)
 .. I CONTACT="S",$P($G(^DPT(DFN,.211)),U,11)]"" W !?7,"Work phone number:  ",$P(^DPT(DFN,.211),U,11)
"RTN","ORCXPND1",234,0)
 D KVAR^VADPT
"RTN","ORCXPND1",235,0)
 Q
"RTN","ORCXPND1",236,0)
TRIM(X) ;   Trim Spaces
"RTN","ORCXPND1",237,0)
 S X=$G(X) F  Q:$E(X,1)'=" "  S X=$E(X,2,$L(X))
"RTN","ORCXPND1",238,0)
 F  Q:$E(X,$L(X))'=" "  S X=$E(X,1,($L(X)-1))
"RTN","ORCXPND1",239,0)
 Q X
"RTN","ORCXPND1",240,0)
S(X,Y,Z) ; Pad Over
"RTN","ORCXPND1",241,0)
 ;   X=Column #
"RTN","ORCXPND1",242,0)
 ;   Y=Current Length
"RTN","ORCXPND1",243,0)
 ;   Z=Text
"RTN","ORCXPND1",244,0)
 ;   SP=Text Sent
"RTN","ORCXPND1",245,0)
 ;   CCNT=Line Position After Input Text
"RTN","ORCXPND1",246,0)
 I '$D(Z) Q ""
"RTN","ORCXPND1",247,0)
 N SP S SP=Z I X,Y,X>Y S SP=$E("                                                                             ",1,X-Y)_Z
"RTN","ORCXPND1",248,0)
 S CCNT=$$INC(CCNT,SP)
"RTN","ORCXPND1",249,0)
 Q SP
"RTN","ORCXPND1",250,0)
INC(X,Y) ; Character Position Count
"RTN","ORCXPND1",251,0)
 ;   X=Current Count
"RTN","ORCXPND1",252,0)
 ;   Y=Text
"RTN","ORCXPND1",253,0)
 N INC S INC=X+$L(Y)
"RTN","ORCXPND1",254,0)
 Q INC
"RTN","ORDV02B")
0^5^B32191615
"RTN","ORDV02B",1,0)
ORDV02B ;SLC/DCM - OE/RR REPORT EXTRACTS ;03/17/2015  10:24
"RTN","ORDV02B",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**350,423**;Dec 17, 1997;Build 19
"RTN","ORDV02B",3,0)
 ;
"RTN","ORDV02B",4,0)
LO(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ; Lab Orders All
"RTN","ORDV02B",5,0)
 S (ORDEND,OROMEGA)=9999999 ; Get all future orders
"RTN","ORDV02B",6,0)
 I $L($T(GCPR^OMGCOAS1)) D  ; Call if FHIE station 200
"RTN","ORDV02B",7,0)
 . N BEG,END,MAX
"RTN","ORDV02B",8,0)
 . Q:'$G(ORALPHA)  Q:'$G(OROMEGA)
"RTN","ORDV02B",9,0)
 . S MAX=$S(+$G(ORMAX)>0:ORMAX,1:999)
"RTN","ORDV02B",10,0)
 . S BEG=9999999,END=9999999-ORALPHA
"RTN","ORDV02B",11,0)
 . D GCPR^OMGCOAS1(DFN,"LRO",BEG,END,MAX)
"RTN","ORDV02B",12,0)
 N D,SN,ORX0,MAX,GMTS1,GMTS2,GMTSBEG,GMTSEND,ORSITE,SITE,GO,SORT,STATUS,S,LST,RSLT,Y,IVSDT,IVEDT,CTR,I,X,GMTSMERG
"RTN","ORDV02B",13,0)
 Q:'$L(OREXT)
"RTN","ORDV02B",14,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV02B",15,0)
 Q:'$L($T(@GO))
"RTN","ORDV02B",16,0)
 S GMTSBEG=0,GMTSEND=9999999,MAX=9999,GMTSMERG=1,CTR=0
"RTN","ORDV02B",17,0)
 S ORSITE=$$SITE^VASITE,ORSITE=$P(ORSITE,"^",2)_";"_$P(ORSITE,"^",3)
"RTN","ORDV02B",18,0)
 K ^TMP("ORDATA",$J)
"RTN","ORDV02B",19,0)
 I '$L($T(GCPR^OMGCOAS1)) D
"RTN","ORDV02B",20,0)
 . K ^TMP("LRO",$J),^TMP("ORTXT",$J),^TMP("ORSORT",$J),^TMP("ORXPND",$J)
"RTN","ORDV02B",21,0)
 . D @GO
"RTN","ORDV02B",22,0)
 S S=0,IVEDT=9999999-ORDBEG,IVSDT=9999999-ORDEND
"RTN","ORDV02B",23,0)
 F  S S=$O(^TMP("ORSORT",$J,S)) Q:'S  D
"RTN","ORDV02B",24,0)
 . S D=IVSDT F  S D=$O(^TMP("ORSORT",$J,S,D)) Q:'D!(D>IVEDT)  S SN=0 F  S SN=$O(^TMP("ORSORT",$J,S,D,SN)) Q:'SN!(CTR+1>ORMAX)  S CTR=CTR+1,ORX0=^(SN) D
"RTN","ORDV02B",25,0)
 .. S SITE=$S($L($G(^TMP("LRO",$J,D,SN,"facility"))):^("facility"),1:ORSITE)
"RTN","ORDV02B",26,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",1)="1^"_SITE ;Station ID
"RTN","ORDV02B",27,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",2)="2^"_$P(ORX0,U) ;collection date
"RTN","ORDV02B",28,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",3)="3^"_$P($P(ORX0,U,2),";",2) ;test name
"RTN","ORDV02B",29,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",15)="15^"_$P($P(ORX0,U,2),";") ;test ien
"RTN","ORDV02B",30,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",4)="4^"_"" ;critical value field (calculated)
"RTN","ORDV02B",31,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",5)="5^"_$P($P(ORX0,U,3),";",2) ;specimen name
"RTN","ORDV02B",32,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",16)="16^"_$P($P(ORX0,U,3),";") ;specimen ien
"RTN","ORDV02B",33,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",7)="7^"_$P(ORX0,U,7) ;order date/time
"RTN","ORDV02B",34,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",8)="8^"_$P(ORX0,U,5) ;status
"RTN","ORDV02B",35,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",6)="6^"_$P($P(ORX0,U,6),";",2) ;provider name
"RTN","ORDV02B",36,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",17)="17^"_$P($P(ORX0,U,6),";") ;provider ien
"RTN","ORDV02B",37,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",11)="11^"_$P(ORX0,U,9) ;available date/time
"RTN","ORDV02B",38,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",18)="18^"_$P(ORX0,U,12) ;OE/RR order #
"RTN","ORDV02B",39,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",9)="9^"_$P(ORX0,U,4) ;urgency
"RTN","ORDV02B",40,0)
 .. S ^TMP("ORDATA",$J,S,D,SN,"WP",10)="10^"_$P(ORX0,U,8) ;accession number
"RTN","ORDV02B",41,0)
 .. K ^TMP("ORXPND",$J) S RSLT="^TMP(""ORXPND"",$J)" D RESULT^ORWOR(.RSLT,DFN,$P(ORX0,U,12),$P(ORX0,U,12))
"RTN","ORDV02B",42,0)
 .. D SPMRG^ORDVU("^TMP(""ORXPND"","_$J_")","^TMP(""ORDATA"","_$J_","_S_","_D_","_SN_",""WP"",13)",13) ;Test Results
"RTN","ORDV02B",43,0)
 .. K ^TMP("ORTXT",$J) S LST="^TMP(""ORTXT"",$J)" D DETAIL^ORWOR(.LST,$P(ORX0,U,12),DFN)
"RTN","ORDV02B",44,0)
 .. D SPMRG^ORDVU("^TMP(""ORTXT"","_$J_")","^TMP(""ORDATA"","_$J_","_S_","_D_","_SN_",""WP"",14)",14) ;order details
"RTN","ORDV02B",45,0)
 .. I $O(@LST@(0))!($O(@RSLT@(0))) S ^TMP("ORDATA",$J,S,D,SN,"WP",12)="12^[+]" ;flag for details
"RTN","ORDV02B",46,0)
 .. S I=0,Y="" F  S I=$O(^TMP("ORXPND",$J,I)) Q:'I  S X=^(I,0) I X["H*"!(X["L*") D  Q:Y="H* L*"
"RTN","ORDV02B",47,0)
 ... N Z
"RTN","ORDV02B",48,0)
 ... I $L(Y) S Z=$S(Y["H*"&(Y["L*"):"H* L*",Y="H*"&(X["H*"):"H*",Y="H*"&(X["L*"):"H* L*",Y="L*"&(X["L*"):"L*",Y="L*"&(X["H*"):"H* L*",1:"*")
"RTN","ORDV02B",49,0)
 ... I '$L(Y) S Z=$S(X["H*":"H*",X["L*":"L*",1:"*")
"RTN","ORDV02B",50,0)
 ... S Y=Z,^TMP("ORDATA",$J,S,D,SN,"WP",4)="4^"_Z
"RTN","ORDV02B",51,0)
 K ^TMP("LRO",$J),^TMP("ORTXT",$J),^TMP("ORSORT",$J),^TMP("ORXPND",$J)
"RTN","ORDV02B",52,0)
 S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV02B",53,0)
 Q
"RTN","ORDV02B",54,0)
LPEND(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ; Lab Orders Pending
"RTN","ORDV02B",55,0)
 S (ORDEND,OROMEGA)=9999999 ; Get all future orders
"RTN","ORDV02B",56,0)
 I $L($T(GCPR^OMGCOAS1)) D  ; Call if FHIE station 200
"RTN","ORDV02B",57,0)
 . N BEG,END,MAX
"RTN","ORDV02B",58,0)
 . Q:'$G(ORALPHA)  Q:'$G(OROMEGA)
"RTN","ORDV02B",59,0)
 . S MAX=$S(+$G(ORMAX)>0:ORMAX,1:999)
"RTN","ORDV02B",60,0)
 . S BEG=9999999,END=9999999-ORALPHA
"RTN","ORDV02B",61,0)
 . D GCPR^OMGCOAS1(DFN,"LRO",BEG,END,MAX)
"RTN","ORDV02B",62,0)
 N D,SN,ORX0,MAX,GMTS1,GMTS2,GMTSBEG,GMTSEND,ORSITE,SITE,GO,SORT,STATUS,S,IVSDT,IVEDT,CTR,I,X
"RTN","ORDV02B",63,0)
 Q:'$L(OREXT)
"RTN","ORDV02B",64,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV02B",65,0)
 Q:'$L($T(@GO))
"RTN","ORDV02B",66,0)
 S GMTSBEG=0,GMTSEND=9999999,MAX=9999,GMTSMERG=1,CTR=0
"RTN","ORDV02B",67,0)
 S ORSITE=$$SITE^VASITE,ORSITE=$P(ORSITE,"^",2)_";"_$P(ORSITE,"^",3)
"RTN","ORDV02B",68,0)
 K ^TMP("ORDATA",$J)
"RTN","ORDV02B",69,0)
 I '$L($T(GCPR^OMGCOAS1)) D
"RTN","ORDV02B",70,0)
 . K ^TMP("LRO",$J),^TMP("ORTXT",$J),^TMP("ORSORT",$J)
"RTN","ORDV02B",71,0)
 . D @GO
"RTN","ORDV02B",72,0)
 S IVEDT=9999999-ORDBEG,IVSDT=9999999-ORDEND,D=IVSDT
"RTN","ORDV02B",73,0)
 F  S D=$O(^TMP("ORSORT",$J,D)) Q:'D!(D>IVEDT)  D
"RTN","ORDV02B",74,0)
 . S S=0 F  S S=$O(^TMP("ORSORT",$J,D,S)) Q:'S  S SN=0 F  S SN=$O(^TMP("ORSORT",$J,D,S,SN)) Q:'SN!(CTR+1>ORMAX)  S CTR=CTR+1,ORX0=^(SN) D
"RTN","ORDV02B",75,0)
 .. S SITE=$S($L($G(^TMP("LRO",$J,D,SN,"facility"))):^("facility"),1:ORSITE)
"RTN","ORDV02B",76,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",1)="1^"_SITE ;Station ID
"RTN","ORDV02B",77,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",2)="2^"_$P(ORX0,U) ;collection date
"RTN","ORDV02B",78,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",3)="3^"_$P($P(ORX0,U,2),";",2) ;test name
"RTN","ORDV02B",79,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",13)="13^"_$P($P(ORX0,U,2),";") ;test ien
"RTN","ORDV02B",80,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",4)="4^"_$P($P(ORX0,U,3),";",2) ;specimen name
"RTN","ORDV02B",81,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",14)="14^"_$P($P(ORX0,U,3),";") ;specimen ien
"RTN","ORDV02B",82,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",6)="6^"_$P(ORX0,U,7) ;order date/time
"RTN","ORDV02B",83,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",7)="7^"_$P(ORX0,U,5) ;status
"RTN","ORDV02B",84,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",5)="5^"_$P($P(ORX0,U,6),";",2) ;provider name
"RTN","ORDV02B",85,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",15)="15^"_$P($P(ORX0,U,6),";") ;provider ien
"RTN","ORDV02B",86,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",10)="10^"_$P(ORX0,U,9) ;available date/time
"RTN","ORDV02B",87,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",16)="16^"_$P(ORX0,U,12) ;OE/RR order #
"RTN","ORDV02B",88,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",8)="8^"_$P(ORX0,U,4) ;urgency
"RTN","ORDV02B",89,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",9)="9^"_$P(ORX0,U,8) ;accession number
"RTN","ORDV02B",90,0)
 .. K ^TMP("ORTXT",$J) S LST="^TMP(""ORTXT"",$J)" D DETAIL^ORWOR(.LST,$P(ORX0,U,12),DFN)
"RTN","ORDV02B",91,0)
 .. D SPMRG^ORDVU("^TMP(""ORTXT"","_$J_")","^TMP(""ORDATA"","_$J_","_D_","_S_","_SN_",""WP"",12)",12) ;order details
"RTN","ORDV02B",92,0)
 .. I $O(@LST@(0)) S ^TMP("ORDATA",$J,D,S,SN,"WP",11)="11^[+]" ;flag for details
"RTN","ORDV02B",93,0)
 K ^TMP("LRO",$J),^TMP("ORTXT",$J),^TMP("ORSORT",$J)
"RTN","ORDV02B",94,0)
 S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV02B",95,0)
 Q
"RTN","ORDV02C")
0^6^B17644720
"RTN","ORDV02C",1,0)
ORDV02C ;SLC/DCM - OE/RR REPORT EXTRACTS ;03/17/2015  10:24
"RTN","ORDV02C",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**350,423**;Dec 17, 1997;Build 19
"RTN","ORDV02C",3,0)
 ;
"RTN","ORDV02C",4,0)
OV(ROOT,ORALAPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;Lab Overview
"RTN","ORDV02C",5,0)
 S (ORDEND,OROMEGA)=9999999 ; Get all future orders
"RTN","ORDV02C",6,0)
 I $L($T(GCPR^OMGCOAS1)) D  ; Call if FHIE station 200
"RTN","ORDV02C",7,0)
 . N BEG,END,MAX
"RTN","ORDV02C",8,0)
 . Q:'$G(ORALPHA)  Q:'$G(OROMEGA)
"RTN","ORDV02C",9,0)
 . S MAX=$S(+$G(ORMAX)>0:ORMAX,1:999)
"RTN","ORDV02C",10,0)
 . S BEG=9999999-OROMEGA,END=9999999-ORALPHA
"RTN","ORDV02C",11,0)
 . D GCPR^OMGCOAS1(DFN,"LRO",BEG,END,MAX)
"RTN","ORDV02C",12,0)
 N D,SN,ORX0,MAX,GMTS1,GMTS2,GMTSBEG,GMTSMERG,GMTSEND,ORSITE,SITE,GO,SORT,STATUS,S,LST,RSLT,Y,IVSDT,IVEDT,CTR,I,X
"RTN","ORDV02C",13,0)
 Q:'$L(OREXT)
"RTN","ORDV02C",14,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV02C",15,0)
 Q:'$L($T(@GO))
"RTN","ORDV02C",16,0)
 S GMTSBEG=0,GMTSEND=9999999,MAX=9999,GMTSMERG=1,CTR=0
"RTN","ORDV02C",17,0)
 S ORSITE=$$SITE^VASITE,ORSITE=$P(ORSITE,"^",2)_";"_$P(ORSITE,"^",3)
"RTN","ORDV02C",18,0)
 K ^TMP("ORDATA",$J)
"RTN","ORDV02C",19,0)
 I '$L($T(GCPR^OMGCOAS1)) D
"RTN","ORDV02C",20,0)
 . K ^TMP("LRO",$J),^TMP("ORTXT",$J),^TMP("ORSORT",$J),^TMP("ORXPND",$J)
"RTN","ORDV02C",21,0)
 . D @GO
"RTN","ORDV02C",22,0)
 S IVEDT=9999999-ORDBEG,IVSDT=9999999-ORDEND,D=IVSDT
"RTN","ORDV02C",23,0)
 F  S D=$O(^TMP("ORSORT",$J,D)) Q:'D!(D>IVEDT)  D
"RTN","ORDV02C",24,0)
 . S S=0 F  S S=$O(^TMP("ORSORT",$J,D,S)) Q:'S  S SN=0 F  S SN=$O(^TMP("ORSORT",$J,D,S,SN)) Q:'SN!(CTR+1>ORMAX)  S CTR=CTR+1,ORX0=^(SN) D
"RTN","ORDV02C",25,0)
 .. S SITE=$S($L($G(^TMP("LRO",$J,D,SN,"facility"))):^("facility"),1:ORSITE)
"RTN","ORDV02C",26,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",1)="1^"_SITE ;Station ID*1*1
"RTN","ORDV02C",27,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",2)="2^"_$P(ORX0,U) ;collection date*2*2
"RTN","ORDV02C",28,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",3)="3^"_$P($P(ORX0,U,2),";",2) ;test name*3*3
"RTN","ORDV02C",29,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",4)="4^"_$P($P(ORX0,U,2),";") ;test ien*3*4
"RTN","ORDV02C",30,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",5)="5^"_"" ;critical value field (calculated)
"RTN","ORDV02C",31,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",6)="6^"_$P($P(ORX0,U,3),";",2) ;specimen name*6*6
"RTN","ORDV02C",32,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",7)="7^"_$P($P(ORX0,U,3),";") ;specimen ien*7*7
"RTN","ORDV02C",33,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",8)="8^"_$P($P(ORX0,U,6),";",2) ;provider name*9*8
"RTN","ORDV02C",34,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",9)="9^"_$P($P(ORX0,U,6),";") ;provider ien*10*9
"RTN","ORDV02C",35,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",10)="10^"_$P(ORX0,U,5) ;status*8*10
"RTN","ORDV02C",36,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",11)="11^"_$P(ORX0,U,9) ;available date/time*11*YES
"RTN","ORDV02C",37,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",12)="12^"_$P(ORX0,U,12) ;OE/RR order #*12*
"RTN","ORDV02C",38,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",13)="13^"_$P(ORX0,U,4) ;urgency*13* (not needed in any reports/can be deleted)
"RTN","ORDV02C",39,0)
 .. S ^TMP("ORDATA",$J,D,S,SN,"WP",14)="14^"_$P(ORX0,U,8) ;accession number*14* ((not needed in any reports/can be deleted)
"RTN","ORDV02C",40,0)
 .. K ^TMP("ORXPND",$J)
"RTN","ORDV02C",41,0)
 .. S RSLT="^TMP(""ORXPND"",$J)" D RESULT^ORWOR(.RSLT,DFN,$P(ORX0,U,12),$P(ORX0,U,12))
"RTN","ORDV02C",42,0)
 .. D SPMRG^ORDVU("^TMP(""ORXPND"","_$J_")","^TMP(""ORDATA"","_$J_","_D_","_S_","_SN_",""WP"",15)",15) ;Test Results*15*
"RTN","ORDV02C",43,0)
 .. K ^TMP("ORTXT",$J) S LST="^TMP(""ORTXT"",$J)" D DETAIL^ORWOR(.LST,$P(ORX0,U,12),DFN)
"RTN","ORDV02C",44,0)
 .. D SPMRG^ORDVU("^TMP(""ORTXT"","_$J_")","^TMP(""ORDATA"","_$J_","_D_","_S_","_SN_",""WP"",16)",16) ;order details*16*
"RTN","ORDV02C",45,0)
 .. I $O(@LST@(0))!($O(@RSLT@(0))) S ^TMP("ORDATA",$J,D,S,SN,"WP",17)="17^[+]" ;flag for details*17*YES
"RTN","ORDV02C",46,0)
 .. S I=0,Y="" F  S I=$O(^TMP("ORXPND",$J,I)) Q:'I  S X=^(I,0) I X["H*"!(X["L*") D  Q:Y="H* L*"
"RTN","ORDV02C",47,0)
 ... N Z
"RTN","ORDV02C",48,0)
 ... I $L(Y) S Z=$S(Y["H*"&(Y["L*"):"H* L*",Y="H*"&(X["H*"):"H*",Y="H*"&(X["L*"):"H* L*",Y="L*"&(X["L*"):"L*",Y="L*"&(X["H*"):"H* L*",1:"*")
"RTN","ORDV02C",49,0)
 ... I '$L(Y) S Z=$S(X["H*":"H*",X["L*":"L*",1:"*")
"RTN","ORDV02C",50,0)
 ... S Y=Z,^TMP("ORDATA",$J,D,S,SN,"WP",5)="5^"_Z
"RTN","ORDV02C",51,0)
 .. ;The following set of comments is for the Overview report
"RTN","ORDV02C",52,0)
 .. ;Critical Value Flag **5   
"RTN","ORDV02C",53,0)
 .. ;Flags for Partial Results **11
"RTN","ORDV02C",54,0)
 .. ;Details is test results **YES in same format as "All Tests By Date" with Relase Date/Time, Reporting site, Site Code (facility) added
"RTN","ORDV02C",55,0)
 K ^TMP("LRO",$J),^TMP("ORTXT",$J),^TMP("ORSORT",$J),^TMP("ORXPND",$J)
"RTN","ORDV02C",56,0)
 S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV02C",57,0)
 Q
"RTN","ORDV02D")
0^26^B33524231
"RTN","ORDV02D",1,0)
ORDV02D ;SLC/DCM - OE/RR REPORT EXTRACTS ;6/15/16  09:36
"RTN","ORDV02D",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17, 1997;Build 19
"RTN","ORDV02D",3,0)
 ;
"RTN","ORDV02D",4,0)
OV ;Overview
"RTN","ORDV02D",5,0)
 D EXT("OV")
"RTN","ORDV02D",6,0)
 Q
"RTN","ORDV02D",7,0)
PEND ;Pending
"RTN","ORDV02D",8,0)
 D EXT("PEND")
"RTN","ORDV02D",9,0)
 Q
"RTN","ORDV02D",10,0)
ALL ;ALL
"RTN","ORDV02D",11,0)
 D EXT("ALL")
"RTN","ORDV02D",12,0)
 Q
"RTN","ORDV02D",13,0)
EXT(ORPRT) ;New Lab Reports Extract
"RTN","ORDV02D",14,0)
 N S,DP,STARTDT,STAT,IFN,OS,CST,TEST,COLL,ODT,NM,RL,MD,GMI,SORT,D,SN,STATUS,X4,LRODT,LRSN,ORMERG,ORX0,ORIFN,X1,X2,X3,FLAG,IVEDT,IVSDT
"RTN","ORDV02D",15,0)
 K ^TMP("OR",$J),^TMP("OROR",$J),^TMP("ORSORT",$J),^TMP("ORR",$J)
"RTN","ORDV02D",16,0)
 S X=$O(^ORD(100.98,"B","LAB",0)) Q:'X  S DP=X ; Display group = LAB
"RTN","ORDV02D",17,0)
 S FLAG=1,X3=1,OS="",TEST="",GMI=0
"RTN","ORDV02D",18,0)
 S X1=0,X2=9999999 ;Get everything to ensure all  orders are included, then sort later by date ranges
"RTN","ORDV02D",19,0)
 I ORPRT="OV" S SORT="On Collection List:2^COLLECTED:3^PROCESSING:4^COMPLETED:6"
"RTN","ORDV02D",20,0)
 I ORPRT="PEND" S SORT="ORDERED:1^On Collection List:2^COLLECTED:3^PROCESSING:4"
"RTN","ORDV02D",21,0)
 I ORPRT="ALL" S SORT="ORDERED:1^On Collection List:2^COLLECTED:3^PROCESSING:4^CANCELED:5^COMPLETED:6"
"RTN","ORDV02D",22,0)
 D EN^ORQ1(DFN_";DPT(",DP,FLAG,"",X1,X2,X3)
"RTN","ORDV02D",23,0)
 S IFN=0
"RTN","ORDV02D",24,0)
 F  S IFN=$O(^TMP("ORR",$J,ORLIST,IFN)) Q:IFN<1  S X=^(IFN) D
"RTN","ORDV02D",25,0)
 . S ORIFN=+$P(X,"^"),STARTDT=$P(X,"^",4),STAT=$P(X,"^",6)
"RTN","ORDV02D",26,0)
 . Q:'$D(^OR(100,ORIFN,0))  S ORX0=^(0),X4=$G(^(4))
"RTN","ORDV02D",27,0)
 . I 'STARTDT S STARTDT=$S($L($P(X4,";",5)):9999999-$P(X4,";",5),1:$P(X,"^",3)) ;If no StartDate use lab CollectionDate or OrderDate
"RTN","ORDV02D",28,0)
 . S LRODT=$P(X4,";",2),LRSN=$P(X4,";",3),ORMERG=0
"RTN","ORDV02D",29,0)
 . I ORPRT="OV" D GET ;Set date for Inverse Start Date, sort by Date then Status, exclude ORDERED, CANCELED
"RTN","ORDV02D",30,0)
 . I ORPRT="PEND" D GET ;Set date for Forward Start Date, sort by Date then Status, exclude COMPLETED, CANCELED
"RTN","ORDV02D",31,0)
 . I ORPRT="ALL" D GET ;Set date for Inverse Start Date, sort by Status then Date
"RTN","ORDV02D",32,0)
 S D=0
"RTN","ORDV02D",33,0)
 S IVEDT=ORDBEG,IVSDT=ORDEND,D=IVEDT
"RTN","ORDV02D",34,0)
 F  S D=$O(^TMP("OROR",$J,D)) Q:'D!(D>IVSDT)  D
"RTN","ORDV02D",35,0)
 . S SN=0
"RTN","ORDV02D",36,0)
 . F  S SN=$O(^TMP("OROR",$J,D,SN)) Q:'SN  S ORX0=^(SN) I $L(ORX0) S STATUS=$P(ORX0,"^",5) I $L($P(ORX0,"^")) D
"RTN","ORDV02D",37,0)
 .. S S=$E(SORT,$F(SORT,STATUS)+1)
"RTN","ORDV02D",38,0)
 .. I ORPRT="OV",STATUS'="ORDERED",STATUS'="CANCELED" S ^TMP("ORSORT",$J,D,S,SN)=ORX0
"RTN","ORDV02D",39,0)
 .. I ORPRT="PEND",STATUS'="CANCELED",STATUS'="COMPLETED" S ^TMP("ORSORT",$J,9999999-D,S,SN)=ORX0
"RTN","ORDV02D",40,0)
 .. I ORPRT="ALL" S ^TMP("ORSORT",$J,S,D,SN)=ORX0
"RTN","ORDV02D",41,0)
 K ^TMP("OROR",$J),^TMP("ORR",$J)
"RTN","ORDV02D",42,0)
 Q
"RTN","ORDV02D",43,0)
GET ;
"RTN","ORDV02D",44,0)
 N ORI,ORX,GOTLR
"RTN","ORDV02D",45,0)
 S ORI=0
"RTN","ORDV02D",46,0)
 F  S ORI=$O(^OR(100,ORIFN,4.5,"ID","ORDERABLE",ORI)) Q:ORI<1  I $D(^OR(100,ORIFN,4.5,ORI,1)) S ORX=^(1) D
"RTN","ORDV02D",47,0)
 . S GOTLR=0
"RTN","ORDV02D",48,0)
 . I $D(^ORD(101.43,+ORX,0)) S (TEST,ORX)=+$P(^(0),"^",2)
"RTN","ORDV02D",49,0)
 . I ORX,LRODT,LRSN,$D(^LRO(69,LRODT,1,LRSN,2,"B",ORX)) S ORX=$O(^(ORX,0)) D
"RTN","ORDV02D",50,0)
 .. Q:'$L($G(^LRO(69,LRODT,1,LRSN,0)))
"RTN","ORDV02D",51,0)
 .. I $G(^LRO(69,LRODT,1,LRSN,2,ORX,0)) S ORX=^(0),GOTLR=1 D GET69
"RTN","ORDV02D",52,0)
 . I 'ORMERG,'GOTLR D GET63 ;Get data from file 63 and OE/RR
"RTN","ORDV02D",53,0)
 Q
"RTN","ORDV02D",54,0)
GET63 ; Get data from file 63 and OE/RR files
"RTN","ORDV02D",55,0)
 N SUB,CDT,LRIDT,X0,SPEC,OS,MD,IFN,PKG,FILE,NM,MD,ACC,ODT,URG,COLL,CD,RDT,LRDFN,FNF,NSPACE
"RTN","ORDV02D",56,0)
 Q:'$L($P(X4,";",4))  Q:'$L($P(X4,";",5))
"RTN","ORDV02D",57,0)
 S SUB=$P(X4,";",4),LRIDT=$P(X4,";",5)
"RTN","ORDV02D",58,0)
 I '$D(DFN) S DFN=$S($D(ORVP):+ORVP,1:0) Q:'DFN
"RTN","ORDV02D",59,0)
 Q:'$D(^DPT(DFN,"LR"))  S LRDFN=+^DPT(DFN,"LR") Q:'$D(^LR(LRDFN))
"RTN","ORDV02D",60,0)
 Q:'$D(^LR(LRDFN,SUB,LRIDT,0))  S X0=^(0)
"RTN","ORDV02D",61,0)
 S X=STARTDT D REGDTM4 S CDT=X
"RTN","ORDV02D",62,0)
 S TEST=TEST_";"_$P($G(^LAB(60,+TEST,0)),"^"),SPEC=+$P(X0,"^",5)_";"_$P($G(^LAB(61,+$P(X0,"^",5),0)),"^"),OS=$S($P(X0,"^",3):"COMPLETED",1:"PROCESSING")
"RTN","ORDV02D",63,0)
 S (MD,IFN)=$P(X0,"^",10),FNF=0,NSPACE="LR"
"RTN","ORDV02D",64,0)
 I SUB="MI" S (MD,IFN)=$P(X0,"^",7)
"RTN","ORDV02D",65,0)
 S PKG=$$VERSION^XPDUTL(NSPACE),FILE=$S($G(PKG)<5.2:6,1:200)
"RTN","ORDV02D",66,0)
 S NM=$S($L($P($G(^VA(200,+MD,0)),"^")):$P(^(0),"^"),1:"UNKOWN"),MD=+MD_";"_NM,ACC=$P(X0,"^",6)
"RTN","ORDV02D",67,0)
 S X=$P(ORX0,"^",7) D REGDTM4 S ODT=X
"RTN","ORDV02D",68,0)
 S X=$P(X0,"^",3) D REGDTM4 S RDT=X
"RTN","ORDV02D",69,0)
 S URG="UNKNOWN",COLL="UNKNOWN",CD=$P($P(ORX0,"^",7),".") ;COLL=Collection Type
"RTN","ORDV02D",70,0)
 S GMI=GMI+1,^TMP("OROR",$J,STARTDT,GMI)=CDT_U_TEST_U_SPEC_U_URG_U_OS_U_MD_U_ODT_U_ACC_U_RDT_U_COLL_U_CD_U_ORIFN
"RTN","ORDV02D",71,0)
 Q
"RTN","ORDV02D",72,0)
GET69 ; Get data from Lab Order/accession (69, 68) files
"RTN","ORDV02D",73,0)
 N X,IDT,SPEC,SITE,BADTEST,FST,SPST
"RTN","ORDV02D",74,0)
 I $L($P($G(^LRO(69,LRODT,1,LRSN,1)),"^",7)) S ORMERG=1 Q  ;exclude merged orders from extract
"RTN","ORDV02D",75,0)
 I $D(^LRO(69,LRODT,1,LRSN,0)) S SPST=^(0) D ORDER
"RTN","ORDV02D",76,0)
 I $D(^LRO(69,LRODT,1,LRSN,1)) S CST=^(1) D COLLECT I 1
"RTN","ORDV02D",77,0)
 E  S OS="ORDERED",X=$P(^LRO(69,LRODT,1,LRSN,0),U,8),IDT=9999999-X D REGDTM4 S CDT=X
"RTN","ORDV02D",78,0)
 I $D(^LRO(69,LRODT,1,LRSN,3)) S FST=^(3) D RESULT I 1
"RTN","ORDV02D",79,0)
 E  S RDT=""
"RTN","ORDV02D",80,0)
 S SITE=+$G(^LRO(69,LRODT,1,LRSN,4,+$O(^LRO(69,LRODT,1,LRSN,4,0)),0)),SPEC=$S(SITE>0:SITE_";"_$P(^LAB(61,SITE,0),U),1:";UNKNOWN")
"RTN","ORDV02D",81,0)
 S:$P(ORX,"^",9)="CA" OS="CANCELED"
"RTN","ORDV02D",82,0)
 D TEST69
"RTN","ORDV02D",83,0)
 I $D(BADTEST) K BADTEST Q
"RTN","ORDV02D",84,0)
 S GMI=GMI+1,^TMP("OROR",$J,STARTDT,GMI)=CDT_U_TEST_U_SPEC_U_URG_U_OS_U_MD_U_ODT_U_ACC_U_RDT_U_COLL_U_LRODT_U_$P(ORX,U,7)
"RTN","ORDV02D",85,0)
 Q
"RTN","ORDV02D",86,0)
ORDER ; Get Orders
"RTN","ORDV02D",87,0)
 N IFN,FNF,FILE,NM,NSPACE,PKG,X
"RTN","ORDV02D",88,0)
 S COLL=$S($L($P(SPST,U,4)):$P(SPST,U,4),1:"UNKNOWN")
"RTN","ORDV02D",89,0)
 S:"LW"[COLL COLL=$S(COLL="L":"LAB",1:"WARD")
"RTN","ORDV02D",90,0)
 S X=$P(SPST,U,5) D REGDTM4 S ODT=X
"RTN","ORDV02D",91,0)
 S (MD,IFN)=$P(SPST,U,6),FNF=0,NSPACE="LR"
"RTN","ORDV02D",92,0)
 S PKG=$$VERSION^XPDUTL(NSPACE),FILE=$S($G(PKG)<5.2:6,1:200)
"RTN","ORDV02D",93,0)
 S NM=$S($L($P($G(^VA(200,+MD,0)),"^")):$P(^(0),"^"),1:"UNKOWN"),MD=+MD_";"_NM
"RTN","ORDV02D",94,0)
 S RL=$P(SPST,U,7)
"RTN","ORDV02D",95,0)
 Q
"RTN","ORDV02D",96,0)
COLLECT ;Get Collection status from 69
"RTN","ORDV02D",97,0)
 N X,CS
"RTN","ORDV02D",98,0)
 S X=STARTDT D REGDTM4 S CDT=X
"RTN","ORDV02D",99,0)
 S CS=$P(CST,U,4),OS="COLLECTED"
"RTN","ORDV02D",100,0)
 S OS=$S(CS="C":"COLLECTED",X="U":"CANCELED",1:"On Collection List")
"RTN","ORDV02D",101,0)
 Q
"RTN","ORDV02D",102,0)
RESULT ;Get Result status
"RTN","ORDV02D",103,0)
 N X S X=$P(FST,U,2) D REGDTM4 S RDT=X
"RTN","ORDV02D",104,0)
 I X S OS="COMPLETED"
"RTN","ORDV02D",105,0)
 Q
"RTN","ORDV02D",106,0)
TEST69 ;Get Collection status from file 68 (overrides 69)
"RTN","ORDV02D",107,0)
 N TPTR,UPTR,ACCD,ACCA,ACCN,X
"RTN","ORDV02D",108,0)
 S TPTR=+ORX,UPTR=$P(ORX,U,2)
"RTN","ORDV02D",109,0)
 I '$D(^LAB(60,+TPTR,0)) S BADTEST=1 Q
"RTN","ORDV02D",110,0)
 S ACCD=$P(ORX,U,3),ACCA=$P(ORX,U,4),ACCN=$P(ORX,U,5)
"RTN","ORDV02D",111,0)
 S TEST=TPTR_";"_$S($L($P(^LAB(60,TPTR,0),U))<21:$P(^(0),U),1:$P(^(.1),U))
"RTN","ORDV02D",112,0)
 S URG=$E($S($D(^LAB(62.05,+UPTR,0)):$P(^(0),U),1:""),1,7)
"RTN","ORDV02D",113,0)
 I $S('$D(ACCD):1,'$L(ACCA):1,'$L(ACCD):1,1:0) S ACC="NONE" Q
"RTN","ORDV02D",114,0)
 S ACC=$S($D(^LRO(68,+ACCA,1,+ACCD,1,+ACCN,.2)):^(.2),1:"NONE")
"RTN","ORDV02D",115,0)
 I $D(^LRO(68,+ACCA,1,+ACCD,1,+ACCN,4,TPTR,0)) S X=$P(^(0),U,5) D
"RTN","ORDV02D",116,0)
 . I $G(OS)'="CANCELED",$G(OS)'="On Collection List" S OS=$S('$L(X):"PROCESSING",1:"COMPLETED")
"RTN","ORDV02D",117,0)
 Q
"RTN","ORDV02D",118,0)
REGDTM4 ;Receives X FM date and returns X in MM/DD/YYYY TT:TT
"RTN","ORDV02D",119,0)
 S X=$TR($$FMTE^XLFDT(X,"5ZM"),"@"," ")
"RTN","ORDV02D",120,0)
 Q
"RTN","ORQOR2")
0^27^B16133259
"RTN","ORQOR2",1,0)
ORQOR2 ; slc/CLA - Extrinsic functions which return order information ;02/17/16  12:08
"RTN","ORQOR2",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**6,32,92,122,144,190,251,350,423**;Dec 17, 1997;Build 19
"RTN","ORQOR2",3,0)
STATUS(ORN) ;extrinsic function returns the current status of an order in
"RTN","ORQOR2",4,0)
 ;the format: status ien^external text
"RTN","ORQOR2",5,0)
 ;DBIA #3458 supported api for outpt pharmacy
"RTN","ORQOR2",6,0)
 Q:'$L($G(ORN)) ""
"RTN","ORQOR2",7,0)
 Q:'$L($G(^OR(100,ORN,3))) ""
"RTN","ORQOR2",8,0)
 N ORSTATUS
"RTN","ORQOR2",9,0)
 S ORSTATUS=$P(^OR(100,ORN,3),U,3)
"RTN","ORQOR2",10,0)
 S ORSTATUS=ORSTATUS_U_$G(^ORD(100.01,+ORSTATUS,0))
"RTN","ORQOR2",11,0)
 Q ORSTATUS
"RTN","ORQOR2",12,0)
RECENT(PT,OI,ST) ;extrinsic funct returns pt's most recent order for an orderable item and status in format:
"RTN","ORQOR2",13,0)
 ; order number^order text (truncated to 60 chars)^start d/t^status
"RTN","ORQOR2",14,0)
 N INDT,ORN,CDT,ORSTATUS,ORTEXT,RESULT S RESULT="",ORN="",INDT=""
"RTN","ORQOR2",15,0)
 F  S INDT=$O(^OR(100,"AOI",OI,PT_";DPT(",INDT)) Q:INDT=""!(RESULT'="")  D
"RTN","ORQOR2",16,0)
 .F  S ORN=$O(^OR(100,"AOI",OI,PT_";DPT(",INDT,ORN)) Q:ORN=""  D
"RTN","ORQOR2",17,0)
 ..S ORSTATUS=$P(^OR(100,ORN,3),U,3)
"RTN","ORQOR2",18,0)
 ..I '$L($G(ST))!($G(ORSTATUS)=ST) D
"RTN","ORQOR2",19,0)
 ...S ORSTATUS=$G(^ORD(100.01,ORSTATUS,0)),CDT=9999999-INDT
"RTN","ORQOR2",20,0)
 ...S ORTEXT=$P($$TEXT^ORKOR(ORN,60),U,2)
"RTN","ORQOR2",21,0)
 ...S RESULT=ORN_U_ORTEXT_U_CDT_U_ORSTATUS
"RTN","ORQOR2",22,0)
 Q RESULT
"RTN","ORQOR2",23,0)
DUPRANGE(OI,DG,ODT,ORPT) ;extrinsic funct returns duplicate order range beginning date in the format:
"RTN","ORQOR2",24,0)
 ;fileman d/t^inverse fileman d/t
"RTN","ORQOR2",25,0)
 ;OI   = orderable item ien
"RTN","ORQOR2",26,0)
 ;DG   = display group abbrev. (e.g. 'LR')
"RTN","ORQOR2",27,0)
 ;ODT  = order effective/start date/time in FM format
"RTN","ORQOR2",28,0)
 ;ORPT = patient dfn
"RTN","ORQOR2",29,0)
 N DHRS,BDT,INBDT,ORSRV,ORLOC
"RTN","ORQOR2",30,0)
 S BDT="",INBDT=""
"RTN","ORQOR2",31,0)
 ;
"RTN","ORQOR2",32,0)
 ;get patient's location flag (INPATIENT ONLY - outpt locations cannot be
"RTN","ORQOR2",33,0)
 ;reliably determined, and many simultaneous outpt locations can occur):
"RTN","ORQOR2",34,0)
 I +$G(ORPT)>0 D
"RTN","ORQOR2",35,0)
 .N DFN S DFN=ORPT,VA200="" D OERR^VADPT
"RTN","ORQOR2",36,0)
 .I +$G(VAIN(4))>0 S ORLOC=+$G(^DIC(42,+$G(VAIN(4)),44))
"RTN","ORQOR2",37,0)
 .K VA200,VAIN
"RTN","ORQOR2",38,0)
 ;
"RTN","ORQOR2",39,0)
 S ORSRV=$G(^VA(200,DUZ,5)) I +ORSRV>0 S ORSRV=$P(ORSRV,U)
"RTN","ORQOR2",40,0)
 S DHRS=$$GET^XPAR("LOC.`"_$G(ORLOC)_"^SRV.`"_$G(ORSRV)_"^DIV^SYS","ORK DUP ORDER RANGE OI",OI,"I")
"RTN","ORQOR2",41,0)
 Q:$G(DHRS)=0 "0^0" ;quit if number of hours for this OI is zero
"RTN","ORQOR2",42,0)
 I +$G(DHRS)<1 D
"RTN","ORQOR2",43,0)
 .I DG="LR" S DHRS=$$GET^XPAR("LOC.`"_$G(ORLOC)_"^SRV.`"_$G(ORSRV)_"^DIV^SYS^PKG","ORK DUP ORDER RANGE LAB",1,"I")
"RTN","ORQOR2",44,0)
 .I DG="RA" S DHRS=$$GET^XPAR("LOC.`"_$G(ORLOC)_"^SRV.`"_$G(ORSRV)_"^DIV^SYS^PKG","ORK DUP ORDER RANGE RADIOLOGY",1,"I")
"RTN","ORQOR2",45,0)
 I +$G(DHRS)<1 S DHRS=48  ;non-lab and non-radiology default is 48 hrs
"RTN","ORQOR2",46,0)
 S BDT=$$FMADD^XLFDT(ODT,"","-"_DHRS,"",""),INBDT=9999999-BDT
"RTN","ORQOR2",47,0)
 Q BDT_U_INBDT
"RTN","ORQOR2",48,0)
ORDERER(ORNUM) ;ext. funct. gets ordering provider DUZ from ORDER File (#100)
"RTN","ORQOR2",49,0)
 Q:'$L($G(ORNUM)) ""
"RTN","ORQOR2",50,0)
 S ORNUM=+$G(ORNUM)
"RTN","ORQOR2",51,0)
 N ORQDUZ,ORQI S ORQDUZ=""
"RTN","ORQOR2",52,0)
 I $L($G(^OR(100,ORNUM,8,0))) D
"RTN","ORQOR2",53,0)
 .S ORQI=0,ORQI=$O(^OR(100,ORNUM,8,"C","NW",ORQI))  ;8 node for New order
"RTN","ORQOR2",54,0)
 Q:+$G(ORQI)<1 ""
"RTN","ORQOR2",55,0)
 S ORQDUZ=$P(^OR(100,ORNUM,8,ORQI,0),U,3)
"RTN","ORQOR2",56,0)
 Q ORQDUZ
"RTN","ORQOR2",57,0)
UNSIGNOR(ORNUM) ;ext. funct. gets ordering provider DUZ from ORDER File (#100)
"RTN","ORQOR2",58,0)
 ; based on order action number (8 node)
"RTN","ORQOR2",59,0)
 ; if no action number return orderer for New order
"RTN","ORQOR2",60,0)
 ;ORNUM in format: <order ien>;<action number>
"RTN","ORQOR2",61,0)
 Q:'$L(+$G(ORNUM)) ""
"RTN","ORQOR2",62,0)
 N ORQDUZ,ORQI S ORQDUZ=""
"RTN","ORQOR2",63,0)
 S ORQI=$P(ORNUM,";",2)
"RTN","ORQOR2",64,0)
 S ORNUM=$P(ORNUM,";")
"RTN","ORQOR2",65,0)
 Q:+$G(ORNUM)<1 ""
"RTN","ORQOR2",66,0)
 I +$G(ORQI)<1 S ORQI=$P($G(^OR(100,ORNUM,8,0)),U,3)
"RTN","ORQOR2",67,0)
 I $L(ORQI),$L($G(^OR(100,ORNUM,8,ORQI,0))) D
"RTN","ORQOR2",68,0)
 .S ORQDUZ=$P(^OR(100,ORNUM,8,ORQI,0),U,3)
"RTN","ORQOR2",69,0)
 Q ORQDUZ
"RTN","ORQOR2",70,0)
OI(ORNUM) ;ext. funct. gets Orderable Item ien from ORDER File (#100)
"RTN","ORQOR2",71,0)
 Q:+$G(ORNUM)<1 ""
"RTN","ORQOR2",72,0)
 N OI S OI=""
"RTN","ORQOR2",73,0)
 S OI=+$G(^OR(100,+$G(ORNUM),.1,1,0))
"RTN","ORQOR2",74,0)
 Q OI
"RTN","ORQOR2",75,0)
OIM(ORY,ORNUM) ; Retrieves multiple Orderable Item IEN's from ORDER File (#100)
"RTN","ORQOR2",76,0)
 N ORDA,ORCNT S (ORDA,ORY,ORCNT)=0
"RTN","ORQOR2",77,0)
 Q:+$G(ORNUM)<1 ORY
"RTN","ORQOR2",78,0)
 F  S ORDA=$O(^OR(100,+$G(ORNUM),.1,ORDA)) Q:'ORDA  D
"RTN","ORQOR2",79,0)
 . S ORY(ORDA)=+$G(^OR(100,+$G(ORNUM),.1,ORDA,0))
"RTN","ORQOR2",80,0)
 . S ORCNT=ORDA
"RTN","ORQOR2",81,0)
 S ORY=ORCNT
"RTN","ORQOR2",82,0)
 Q ORY
"RTN","ORQOR2",83,0)
DG(ORNUM) ;ext. funct. gets Display Group ien from ORDER File (#100)
"RTN","ORQOR2",84,0)
 Q:'$L($G(ORNUM)) ""
"RTN","ORQOR2",85,0)
 N DG S DG=""
"RTN","ORQOR2",86,0)
 S DG=$G(^OR(100,ORNUM,0))
"RTN","ORQOR2",87,0)
 I $L(DG) S DG=$P(DG,U,11)
"RTN","ORQOR2",88,0)
 Q DG
"RTN","ORQOR2",89,0)
DGRX(ORNUM)        ;ext. funct. determines if order is pharmacy order
"RTN","ORQOR2",90,0)
 Q:+$G(ORNUM)<1 ""
"RTN","ORQOR2",91,0)
 N DG,DGNAME,RXDG
"RTN","ORQOR2",92,0)
 S DG=$$DG(ORNUM)
"RTN","ORQOR2",93,0)
 S DGNAME=$P($G(^ORD(100.98,+DG,0)),U) Q:'$L(DGNAME) ""
"RTN","ORQOR2",94,0)
 F RXDG="PHARMACY","INPATIENT MEDICATIONS","OUTPATIENT MEDICATIONS","UNIT DOSE MEDICATIONS","IV MEDICATIONS","NON-VA MEDICATIONS","CLINIC ORDERS","CLINIC INFUSIONS","CLINIC MEDICATIONS","" Q:(DGNAME=RXDG)
"RTN","ORQOR2",95,0)
 Q RXDG
"RTN","ORQOR2",96,0)
PT(ORNUM) ;ext. funct. gets Patient dfn from ORDER File (#100)
"RTN","ORQOR2",97,0)
 Q:'$L($G(ORNUM)) ""
"RTN","ORQOR2",98,0)
 N PT S PT=""
"RTN","ORQOR2",99,0)
 S PT=$G(^OR(100,ORNUM,0))
"RTN","ORQOR2",100,0)
 I $L(PT) S PT=$P(PT,U,2),PT=$P(PT,";DPT")
"RTN","ORQOR2",101,0)
 Q PT
"RTN","ORQOR2",102,0)
RSLTFLG(ORNUM) ;ext. funct. returns duz of user to receive alert if order was
"RTN","ORQOR2",103,0)
 ; flagged to alert when resulted
"RTN","ORQOR2",104,0)
 Q:'$L($G(ORNUM)) ""
"RTN","ORQOR2",105,0)
 N FLG S FLG=""
"RTN","ORQOR2",106,0)
 S FLG=$G(^OR(100,+ORNUM,3))
"RTN","ORQOR2",107,0)
 I $L(FLG) S FLG=$P(FLG,U,10)
"RTN","ORQOR2",108,0)
 Q FLG
"RTN","ORSPUTIL")
0^8^B5339128
"RTN","ORSPUTIL",1,0)
ORSPUTIL ; SUPPLY CONVERSION UTILITY [3/28/16 11:24am] ;05/03/16  09:15
"RTN","ORSPUTIL",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17, 1997;Build 19
"RTN","ORSPUTIL",3,0)
 ;
"RTN","ORSPUTIL",4,0)
SUPPLYNF ;if OI is marked as NON-FORMULARY and SUPPLY then set QO-ONLY to yes for SUPPLY
"RTN","ORSPUTIL",5,0)
 W @IOF
"RTN","ORSPUTIL",6,0)
 W "This utility will convert all items from the ORDERABLE ITEMS file that are "
"RTN","ORSPUTIL",7,0)
 W !,"marked for both Supplies and Non-Formulary, to be QO-ONLY to YES for"
"RTN","ORSPUTIL",8,0)
 W !,"Supplies."
"RTN","ORSPUTIL",9,0)
 I '$$SURE("Are you sure you want to continue?") Q
"RTN","ORSPUTIL",10,0)
 N I
"RTN","ORSPUTIL",11,0)
 S I=0 F  S I=$O(^ORD(101.43,I)) Q:'I  D
"RTN","ORSPUTIL",12,0)
 .Q:'$D(^ORD(101.43,I,"PS"))
"RTN","ORSPUTIL",13,0)
 .Q:'$P(^ORD(101.43,I,"PS"),U,5)  ;quit if not set to supply
"RTN","ORSPUTIL",14,0)
 .Q:'$P(^ORD(101.43,I,"PS"),U,6)  ;quit if not set to non-formulary
"RTN","ORSPUTIL",15,0)
 .W !,"OI IEN: ",I,?20,"OI NAME: ",$P(^ORD(101.43,I,0),U)
"RTN","ORSPUTIL",16,0)
 .D SET("SPLY",I)
"RTN","ORSPUTIL",17,0)
 Q
"RTN","ORSPUTIL",18,0)
 ;
"RTN","ORSPUTIL",19,0)
COPYO2S ;if OI is marked QO-ONLY for OUTPATIENT Med then set QO-ONLY to yes for SUPPLY
"RTN","ORSPUTIL",20,0)
 W @IOF
"RTN","ORSPUTIL",21,0)
 W "This utility will convert all items from the ORDERABLE ITEMS file that are "
"RTN","ORSPUTIL",22,0)
 W !,"marked for Supplies and also set as QO-ONLY yes for Outpatient Meds,"
"RTN","ORSPUTIL",23,0)
 W !,"to be QO-ONLY to YES for Supplies."
"RTN","ORSPUTIL",24,0)
 I '$$SURE("Are you sure you want to continue?") Q
"RTN","ORSPUTIL",25,0)
 N I
"RTN","ORSPUTIL",26,0)
 S I=0 F  S I=$O(^ORD(101.43,I)) Q:'I  D
"RTN","ORSPUTIL",27,0)
 .Q:'$D(^ORD(101.43,I,"PS"))
"RTN","ORSPUTIL",28,0)
 .Q:'$P(^ORD(101.43,I,"PS"),U,5)  ;quit if not set to supply
"RTN","ORSPUTIL",29,0)
 .Q:'$$GET("O RX",I)  ;quit if not set to YES for QO-ONLY for outpatient meds
"RTN","ORSPUTIL",30,0)
 .W !,"OI IEN: ",I,?20,"OI NAME: ",$P(^ORD(101.43,I,0),U)
"RTN","ORSPUTIL",31,0)
 .D SET("SPLY",I)
"RTN","ORSPUTIL",32,0)
 Q
"RTN","ORSPUTIL",33,0)
 ;
"RTN","ORSPUTIL",34,0)
GET(CODE,ORIEN) ;get the current status of QO-ONLY for a specific package type(CODE)
"RTN","ORSPUTIL",35,0)
 N DA,ORY S ORY=0
"RTN","ORSPUTIL",36,0)
 S DA=$O(^ORD(101.43,ORIEN,9,"B",CODE,""))
"RTN","ORSPUTIL",37,0)
 I DA D
"RTN","ORSPUTIL",38,0)
 .I $P($G(^ORD(101.43,ORIEN,9,DA,0)),U,2) S ORY=1
"RTN","ORSPUTIL",39,0)
 Q ORY
"RTN","ORSPUTIL",40,0)
 ;
"RTN","ORSPUTIL",41,0)
SET(CODE,ORIEN) ;set the status of QO-ONLY to YES for a specific package type(CODE)
"RTN","ORSPUTIL",42,0)
 N ORDA
"RTN","ORSPUTIL",43,0)
 S ORDA=$O(^ORD(101.43,ORIEN,9,"B",CODE,""))
"RTN","ORSPUTIL",44,0)
 I ORDA D
"RTN","ORSPUTIL",45,0)
 .N DA,DR,DIE
"RTN","ORSPUTIL",46,0)
 .S DA(1)=ORIEN,DA=ORDA,DR=2_"///YES",DIE="^ORD(101.43,"_DA(1)_",9," D ^DIE
"RTN","ORSPUTIL",47,0)
 Q
"RTN","ORSPUTIL",48,0)
 ;
"RTN","ORSPUTIL",49,0)
SURE(ORMSG) ; -- sure you want to delete?
"RTN","ORSPUTIL",50,0)
 N X,Y,DIR
"RTN","ORSPUTIL",51,0)
 S DIR(0)="YA",DIR("A")="  "_ORMSG_" "
"RTN","ORSPUTIL",52,0)
 S DIR("B")="NO" W $C(7) D ^DIR
"RTN","ORSPUTIL",53,0)
 S:$D(DTOUT) Y="^"
"RTN","ORSPUTIL",54,0)
 Q Y
"RTN","ORSPUTIL",55,0)
 ;
"RTN","ORWDXM1")
0^29^B106857204
"RTN","ORWDXM1",1,0)
ORWDXM1 ;SLC/KCM - Order Dialogs, Menus ;06/16/16  10:01
"RTN","ORWDXM1",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**10,85,131,132,141,178,185,187,215,243,280,331,388,350,423**;Dec 17, 1997;Build 19
"RTN","ORWDXM1",3,0)
 ;
"RTN","ORWDXM1",4,0)
BLDQRSP(LST,ORIT,FLDS,ISIMO,ENCLOC) ; Build responses for an order
"RTN","ORWDXM1",5,0)
 ; LST=QuickLevel^ResponseID(ORIT;$H)^Dialog^Type^FormID^DGrp
"RTN","ORWDXM1",6,0)
 ; LST(n)=verify or reject text
"RTN","ORWDXM1",7,0)
 ; ORIT= ptr to 101.41 for quick order, 100 for copy
"RTN","ORWDXM1",8,0)
 ; 1 2 3 4 5 6 7 8 11-20
"RTN","ORWDXM1",9,0)
 ; FLDS=DFN^LOC^ORNP^INPT^SEX^AGE^EVENT^SC%^^^Key Variables...
"RTN","ORWDXM1",10,0)
 ; ORIT=+ORIT: ptr to 101.41, $E(ORIT)=C: copy $E(ORIT)=X: change
"RTN","ORWDXM1",11,0)
 ; !! SHOULD CHECK for PRE-CPRS ORDERS (treat as text?)
"RTN","ORWDXM1",12,0)
 K ^TMP($J,"ORWDX LOADRSP","QO SAVE")
"RTN","ORWDXM1",13,0)
 K ^TMP("ORWDXMQ",$J)
"RTN","ORWDXM1",14,0)
 N ORWMODE ; 0:Dlg,Quick 1:copy 2:change
"RTN","ORWDXM1",15,0)
 N TEMPCAT ; pt cat from DPT
"RTN","ORWDXM1",16,0)
 N ISXFER ; Trnsfr order?
"RTN","ORWDXM1",17,0)
 N ORIMO ;If IMO(inpt med on opt)
"RTN","ORWDXM1",18,0)
 N TEMPORIT
"RTN","ORWDXM1",19,0)
 N ADMLOC,PATLOC,ORDLOC,LEVEL,DELAY,SCHLOC,SCHTYP
"RTN","ORWDXM1",20,0)
 S PATLOC=$P(FLDS,U,2)
"RTN","ORWDXM1",21,0)
 S ORDLOC=$S(ORIT["C":+$P($G(^OR(100,+$P(ORIT,"C",2),0)),U,10),1:0)
"RTN","ORWDXM1",22,0)
 S ORIMO=$G(ISIMO)
"RTN","ORWDXM1",23,0)
 S ORWMODE=0,ISXFER=""
"RTN","ORWDXM1",24,0)
 S:$E(ORIT)="C" ORWMODE=1 S:$E(ORIT)="T" ORWMODE=1,ISXFER=";T" ;treat xfer as copy
"RTN","ORWDXM1",25,0)
 S:$E(ORIT)="X" ORWMODE=2
"RTN","ORWDXM1",26,0)
 S TEMPORIT=ORIT
"RTN","ORWDXM1",27,0)
 I ORWMODE S ORIT=$E(ORIT,2,999)
"RTN","ORWDXM1",28,0)
 S LST(0)=""
"RTN","ORWDXM1",29,0)
 ;disable
"RTN","ORWDXM1",30,0)
 D CHKDSBL^ORWDXM3(.LST,ORIT,ORWMODE) Q:+LST(0)=8
"RTN","ORWDXM1",31,0)
 ;action
"RTN","ORWDXM1",32,0)
 D CHKVACT^ORWDXM3(.LST,ORIT,ORWMODE,$P(FLDS,U,3)) Q:+LST(0)=8
"RTN","ORWDXM1",33,0)
 ;no copy
"RTN","ORWDXM1",34,0)
 I ORWMODE=1 D CHKCOPY^ORWDXM3(.LST,ORIT,FLDS) Q:+LST(0)=8
"RTN","ORWDXM1",35,0)
 ;change
"RTN","ORWDXM1",36,0)
 I ORWMODE=2 D BLD4CHG^ORWDXM3(.LST,ORIT,FLDS) Q
"RTN","ORWDXM1",37,0)
 I 'ORWMODE,($P(^ORD(101.41,+ORIT,0),U,4)="D"),'($O(^DIC(9.4,"C","OR",0))[$P(^ORD(101.41,+ORIT,0),U,7)) S LST(0)="0^0^"_$$DLGINFO^ORWDXM3(ORIT,ORWMODE_ISXFER) Q
"RTN","ORWDXM1",38,0)
 N ORIMTYPE,ORCOMP,ORTAS,LRFZX,LRFSAMP,LRFSPEC,LRFDATE,LRFURG,LRFSCH
"RTN","ORWDXM1",39,0)
 N ORTIME,ORCOLLCT,ORMAX,ORTEST,ORIMTIME,ORSMAX,ORSTMS,ORSCH
"RTN","ORWDXM1",40,0)
 N PSJNOPC,ORMORE,ORINPT,ORXNP,ORSCHED,ORQTY,ORNOUNS,ORXNP,OREFILLS
"RTN","ORWDXM1",41,0)
 N ORCOMPLX,ORQTY,ORCOPAY,ORDRUG,ORWPSPIK,ORWPSWRG,ORSD,ORDSUP,ORWP94
"RTN","ORWDXM1",42,0)
 N ORPARAM,ORNPO,ORTIME,ORMEAL,ORTRAY,ORDATE,GMRCNOPD,GMRCNOAT,GMRCREAF
"RTN","ORWDXM1",43,0)
 N ORTYPE,ORVP,ORL,ORNP,ORSEX,ORAGE,ORWARD,OREVENT,ORDIV,ORSC,KEYVAR
"RTN","ORWDXM1",44,0)
 N ORDG,ORDIALOG,ORCAT,FIRST,ORQUIT,X,ORTRAIL,ORLEAD,RSPREF,AUTOACK
"RTN","ORWDXM1",45,0)
 N OREVNTYP
"RTN","ORWDXM1",46,0)
 S ORWP94=$O(^ORD(101.41,"AB","PS MEDS",0))>0
"RTN","ORWDXM1",47,0)
 S ORVP=$P(FLDS,U,1)_";DPT(",ORNP=+$P(FLDS,U,3),ORSC=$P(FLDS,U,8)
"RTN","ORWDXM1",48,0)
 S ORL=$P(FLDS,U,2)_";SC(",ORL(2)=ORL
"RTN","ORWDXM1",49,0)
 S ORSEX=$P(FLDS,U,5),ORAGE=$P(FLDS,U,6),ORTYPE="Q",FIRST=1
"RTN","ORWDXM1",50,0)
 I $P(FLDS,U,4),$G(^SC(+ORL,42)) S ORWARD=+^SC(+ORL,42)
"RTN","ORWDXM1",51,0)
 I $L($P(FLDS,U,7)) D
"RTN","ORWDXM1",52,0)
 . S OREVENT=$P(FLDS,U,7)
"RTN","ORWDXM1",53,0)
 . S OREVNTYP=$P(OREVENT,";",2)
"RTN","ORWDXM1",54,0)
 . S OREVENT("TS")=$P(OREVENT,";",3)
"RTN","ORWDXM1",55,0)
 . S OREVENT("EFFECTIVE")=$P(OREVENT,";",4)
"RTN","ORWDXM1",56,0)
 . S OREVENT=+$P(OREVENT,";",1)
"RTN","ORWDXM1",57,0)
 I 'ORWMODE D
"RTN","ORWDXM1",58,0)
 . D SETKEYV^ORWDXM3($P(FLDS,U,11,20)) ; from menu path
"RTN","ORWDXM1",59,0)
 . S KEYVAR=$$KEYVAR^ORWDXM3(ORIT) ; from entry action
"RTN","ORWDXM1",60,0)
 . D SETKEYV^ORWDXM3(KEYVAR)
"RTN","ORWDXM1",61,0)
 K ^TMP("ORWORD",$J)
"RTN","ORWDXM1",62,0)
 ; init return record based on auto-accept
"RTN","ORWDXM1",63,0)
 I ORWMODE S LST(0)="2^"_ORIT ;verify on copy
"RTN","ORWDXM1",64,0)
 E  S LST(0)=+$P($G(^ORD(101.41,ORIT,5)),U,8)_U_ORIT
"RTN","ORWDXM1",65,0)
 S TEMPCAT=$S($L($P($G(^DPT(+ORVP,.1)),U)):"I",1:"O")
"RTN","ORWDXM1",66,0)
 I TEMPCAT="I",+$P(FLDS,U,4)=1,$E(TEMPORIT)="C",$P($G(^ORD(100.98,$P($G(^OR(100,+ORIT,0)),U,11),0)),U)="OUTPATIENT MEDICATIONS" S TEMPCAT="O"
"RTN","ORWDXM1",67,0)
 I $L($G(OREVNTYP)) D
"RTN","ORWDXM1",68,0)
 . S ORCAT=$S(OREVNTYP="A":"I",OREVNTYP="T":"I",OREVNTYP="O":TEMPCAT,OREVNTYP="M":TEMPCAT,OREVNTYP="C":TEMPCAT,1:"O") I $G(OREVENT) D
"RTN","ORWDXM1",69,0)
 .. N X S X=$$EVT^OREVNTX(OREVENT),X=$P($G(^ORD(100.5,+X,0)),U,7)
"RTN","ORWDXM1",70,0)
 .. I OREVNTYP="T",X,X<4 S ORCAT="O" ;To pass=outpt
"RTN","ORWDXM1",71,0)
 .. I OREVNTYP="D",X=41 S ORCAT="I" ;From ASIH=inpt
"RTN","ORWDXM1",72,0)
 E  S ORCAT=TEMPCAT
"RTN","ORWDXM1",73,0)
 D SETUP^ORWDXM4 Q:+LST(0)=8
"RTN","ORWDXM1",74,0)
 S X="OR GTX START DATE"_$S($G(ORWP94):"/TIME",1:"")
"RTN","ORWDXM1",75,0)
 I ORWMODE,(ORDG=+$O(^ORD(100.98,"B","O RX",0))) D  ;remove old values
"RTN","ORWDXM1",76,0)
 . K ORDIALOG($$PTR^ORCD(X),1)
"RTN","ORWDXM1",77,0)
 . I ORWMODE=2,$$DRAFT^ORWDX2(ORIT) Q  ;keep comments
"RTN","ORWDXM1",78,0)
 . K:ISXFER'["T" ORDIALOG($$PTR^ORCD("OR GTX WORD PROCESSING 1"),1)
"RTN","ORWDXM1",79,0)
 D SETUPS^ORWDXM4 ;moved to save space, expects X
"RTN","ORWDXM1",80,0)
 Q:+LST(0)=8
"RTN","ORWDXM1",81,0)
 I $G(ORQUIT) S LST(0)="0^0^"_$$DLGINFO^ORWDXM3(ORIT,ORWMODE_ISXFER)_"^"_$G(KEYVAR) Q
"RTN","ORWDXM1",82,0)
 N SEQ,DA,XCODE,MUSTASK,PROMPT,INST,KEY,IVFID,CLIVFID
"RTN","ORWDXM1",83,0)
 S IVFID=$O(^ORD(101.41,"B","PSJI OR PAT FLUID OE",0))
"RTN","ORWDXM1",84,0)
 S CLIVFID=$O(^ORD(101.41,"B","CLINIC OR PAT FLUID OE",0))
"RTN","ORWDXM1",85,0)
 S AUTOACK=$S($D(ORWPSWRG):0,1:1)
"RTN","ORWDXM1",86,0)
 ; If copying, clear bad dates. Later, SETITEM will fill dates with default values. ;DJE-VM *331
"RTN","ORWDXM1",87,0)
 I ORWMODE=1 D  ;
"RTN","ORWDXM1",88,0)
 . I $L($$VAL^ORCD("START DATE")) D  ;
"RTN","ORWDXM1",89,0)
 . . S X=$$VAL^ORCD("START DATE"),%DT="TX" D ^%DT
"RTN","ORWDXM1",90,0)
 . . I Y'<$$DT^XLFDT,(($L($$VAL^ORCD("STOP DATE"))=0)!('$$FTDCOMP^ORCD("START DATE","STOP DATE",">"))) Q  ;quit if valid dates: start not in the past or stop after start
"RTN","ORWDXM1",91,0)
 . . K ORDIALOG($$PTR("START DATE"),1),ORDIALOG($$PTR("START DATE/TIME"),1) ;erase bad start and stop dates.
"RTN","ORWDXM1",92,0)
 . . K ORDIALOG($$PTR("STOP DATE"),1),ORDIALOG($$PTR("STOP DATE/TIME"),1)
"RTN","ORWDXM1",93,0)
 . ; check start and stop dates found in diet orders
"RTN","ORWDXM1",94,0)
 . I $L($$VAL^ORCD("EFFECTIVE DATE/TIME")) D  ;
"RTN","ORWDXM1",95,0)
 . . S X=$$VAL^ORCD("EFFECTIVE DATE/TIME"),%DT="TX" D ^%DT
"RTN","ORWDXM1",96,0)
 . . I Y'<$$DT^XLFDT,(($L($$VAL^ORCD("EXPIRATION DATE/TIME"))=0)!('$$FTDCOMP^ORCD("EFFECTIVE DATE/TIME","EXPIRATION DATE/TIME",">"))) Q  ;quit if valid dates: start not in the past or stop after start
"RTN","ORWDXM1",97,0)
 . . K ORDIALOG($P(ORDIALOG("B","EFFECTIVE DATE/TIME"),U,2),1) ;erase bad start and stop dates.
"RTN","ORWDXM1",98,0)
 . . K ORDIALOG($P(ORDIALOG("B","EXPIRATION DATE/TIME"),U,2),1)
"RTN","ORWDXM1",99,0)
 . ; check date desired field found in imaging orders
"RTN","ORWDXM1",100,0)
 . I $L($$VAL^ORCD("DATE DESIRED")) D  ;
"RTN","ORWDXM1",101,0)
 . . S X=$$VAL^ORCD("DATE DESIRED"),%DT="TX" D ^%DT
"RTN","ORWDXM1",102,0)
 . . I Y'<$$DT^XLFDT Q  ;quit if not a past date
"RTN","ORWDXM1",103,0)
 . . K ORDIALOG($P(ORDIALOG("B","DATE DESIRED"),U,2),1) ;erase bad date
"RTN","ORWDXM1",104,0)
 . ; check collection date field found in lab orders
"RTN","ORWDXM1",105,0)
 . I $L($$VAL^ORCD("COLLECTION DATE/TIME")) D  ;
"RTN","ORWDXM1",106,0)
 . . S X=$$VAL^ORCD("COLLECTION DATE/TIME")
"RTN","ORWDXM1",107,0)
 . . I X="NEXT" Q  ;No need to check this.
"RTN","ORWDXM1",108,0)
 . . S %DT="TX" D ^%DT
"RTN","ORWDXM1",109,0)
 . . I $P(Y,".",2),Y'<$E($$NOW^XLFDT,1,12) Q  ;quit if not a past date and time (lab is more precise than other dates)
"RTN","ORWDXM1",110,0)
 . . I $P(Y,".",2)="",Y'<$$DT^XLFDT Q  ;
"RTN","ORWDXM1",111,0)
 . . K ORDIALOG($P(ORDIALOG("B","COLLECTION DATE/TIME"),U,2),1) ;erase bad date
"RTN","ORWDXM1",112,0)
 S SEQ=0 F  S SEQ=$O(^ORD(101.41,+ORDIALOG,10,"B",SEQ)) Q:'SEQ  D
"RTN","ORWDXM1",113,0)
 . S DA=0 F  S DA=$O(^ORD(101.41,+ORDIALOG,10,"B",SEQ,DA)) Q:'DA  D
"RTN","ORWDXM1",114,0)
 . . ; skip if child prmpt
"RTN","ORWDXM1",115,0)
 . . I $P(^ORD(101.41,+ORDIALOG,10,DA,0),U,11) Q
"RTN","ORWDXM1",116,0)
 . . ; set dflt for prmpt, chk if interactive
"RTN","ORWDXM1",117,0)
 . . S PROMPT=$P(^ORD(101.41,+ORDIALOG,10,DA,0),U,2)
"RTN","ORWDXM1",118,0)
 . . D SETITEM(DA,PROMPT,1,.MUSTASK)
"RTN","ORWDXM1",119,0)
 . . I MUSTASK S AUTOACK=0 Q
"RTN","ORWDXM1",120,0)
 . . ; iterate through child items if parent & edit only
"RTN","ORWDXM1",121,0)
 . . Q:'$D(^ORD(101.41,+ORDIALOG,10,"DAD",PROMPT))
"RTN","ORWDXM1",122,0)
 . . N CSEQ,CDA,CPROMPT,INST,ORQUIT
"RTN","ORWDXM1",123,0)
 . . S CSEQ=0 F  S CSEQ=$O(^ORD(101.41,+ORDIALOG,10,"DAD",PROMPT,CSEQ)) Q:'CSEQ  D  Q:$G(ORQUIT)
"RTN","ORWDXM1",124,0)
 . . . S CDA=$O(^ORD(101.41,+ORDIALOG,10,"DAD",PROMPT,CSEQ,0))
"RTN","ORWDXM1",125,0)
 . . . S CPROMPT=$P(^ORD(101.41,+ORDIALOG,10,CDA,0),U,2)
"RTN","ORWDXM1",126,0)
 . . . ; if req & no instances then need interaction
"RTN","ORWDXM1",127,0)
 . . . I $P(^ORD(101.41,+ORDIALOG,10,CDA,0),U,6) D
"RTN","ORWDXM1",128,0)
 . . . . I ORDIALOG=IVFID!(ORDIALOG=CLIVFID) Q
"RTN","ORWDXM1",129,0)
 . . . . I '$O(ORDIALOG(CPROMPT,0)) S AUTOACK=0
"RTN","ORWDXM1",130,0)
 . . . S INST=0 F  S INST=$O(ORDIALOG(CPROMPT,INST)) Q:'INST  D
"RTN","ORWDXM1",131,0)
 . . . . N ORASK D VBASK^ORWDXM4(INST) ; set ORASK for VBECS
"RTN","ORWDXM1",132,0)
 . . . . ; set dflt for each child prmpt
"RTN","ORWDXM1",133,0)
 . . . . D SETITEM(CDA,CPROMPT,INST,.MUSTASK)
"RTN","ORWDXM1",134,0)
 . . . . ; if no val & child prmpt req'd then need interaction
"RTN","ORWDXM1",135,0)
 . . . . I MUSTASK,$P(^ORD(101.41,+ORDIALOG,10,CDA,0),U,6) S AUTOACK=0
"RTN","ORWDXM1",136,0)
 N IVDLG,CLINFDLG,SPLYDLG
"RTN","ORWDXM1",137,0)
 S IVDLG=$O(^ORD(101.41,"AB","PSJI OR PAT FLUID OE",0))
"RTN","ORWDXM1",138,0)
 S CLINFDLG=$O(^ORD(101.41,"AB","CLINIC OR PAT FLUID OE",0))
"RTN","ORWDXM1",139,0)
 S SPLYDLG=$O(^ORD(101.41,"AB","PSO SUPPLY",0))
"RTN","ORWDXM1",140,0)
 I $$ISMED(ORIT),(ORDIALOG'=IVDLG),(ORDIALOG'=CLINFDLG),(ORDIALOG'=SPLYDLG),(ORCAT="I") D
"RTN","ORWDXM1",141,0)
 . F P="PATIENT INSTRUCTIONS","DAYS SUPPLY","QUANTITY","REFILLS","ROUTING","SERVICE CONNECTED" K ORDIALOG($$PTR(P),1)
"RTN","ORWDXM1",142,0)
 . I '$$ISQO(ORIT) K ORDIALOG($$PTR("START DATE/TIME"),1) ; kill if not a non-VA med quick order. p388
"RTN","ORWDXM1",143,0)
 S KEY=$S(ORWMODE:"C",1:"")_ORIT_"-"_$P($H,",",2),SEQ=0
"RTN","ORWDXM1",144,0)
 I $$ISINPMED(ORIT) D
"RTN","ORWDXM1",145,0)
 .S LEVEL=$P(LST(0),U),DELAY=$S($P($G(OREVENT),";")>0:1,1:0)
"RTN","ORWDXM1",146,0)
 .I LEVEL=2!(ISIMO) D ADMTIME^ORWDXM2(ORDLOC,PATLOC,ENCLOC,DELAY,ISIMO)
"RTN","ORWDXM1",147,0)
 I ($$ISMED(ORIT)),'($$VALQO^ORWDXM3(ORIT)) S AUTOACK=0
"RTN","ORWDXM1",148,0)
 S PROMPT=0 F  S PROMPT=$O(ORDIALOG(PROMPT)) Q:'PROMPT  D
"RTN","ORWDXM1",149,0)
 . I '$D(^ORD(101.41,ORDIALOG,10,"D",PROMPT)) K ORDIALOG(PROMPT) Q
"RTN","ORWDXM1",150,0)
 . S INST=0 F  S INST=$O(ORDIALOG(PROMPT,INST)) Q:'INST  D
"RTN","ORWDXM1",151,0)
 . . S SEQ=SEQ+1,^TMP("ORWDXMQ",$J,KEY,SEQ,0)=U_PROMPT_U_INST
"RTN","ORWDXM1",152,0)
 . . ; save word proc val
"RTN","ORWDXM1",153,0)
 . . I $E(ORDIALOG(PROMPT,0))="W",$L(ORDIALOG(PROMPT,INST)) D
"RTN","ORWDXM1",154,0)
 . . . M ^TMP("ORWDXMQ",$J,KEY,SEQ,2)=@ORDIALOG(PROMPT,INST)
"RTN","ORWDXM1",155,0)
 . . ; save other val types
"RTN","ORWDXM1",156,0)
 . . E  S ^TMP("ORWDXMQ",$J,KEY,SEQ,1)=ORDIALOG(PROMPT,INST)
"RTN","ORWDXM1",157,0)
 I AUTOACK D
"RTN","ORWDXM1",158,0)
 . I ORWMODE S AUTOACK=2
"RTN","ORWDXM1",159,0)
 . I 'ORWMODE,($P(^ORD(101.41,ORIT,0),U,8)!'LST(0)) S AUTOACK=2
"RTN","ORWDXM1",160,0)
 ;I ($$ISMED(ORIT)),'($$VALQO^ORWDXM3(ORIT)) S AUTOACK=0
"RTN","ORWDXM1",161,0)
 I ORIMO,ORWMODE S AUTOACK=2
"RTN","ORWDXM1",162,0)
 ; accept Herbal/OTC/NonVA Med quick orders
"RTN","ORWDXM1",163,0)
 I $L($G(^ORD(101.41,+ORIT,0))),($P(^ORD(100.98,$P(^ORD(101.41,+ORIT,0),U,5),0),U,3)="NV RX"),($P($G(^ORD(101.41,+ORIT,5)),U,8)) S AUTOACK=1
"RTN","ORWDXM1",164,0)
 ;I AUTOACK=2,$$ISMED(ORIT),(ORDIALOG=IVDLG),$$VERORD^ORWDXM3=0 S AUTOACK=0
"RTN","ORWDXM1",165,0)
 I AUTOACK=2,$$ISMED(ORIT),$$VERORD^ORWDXM3(ORIT)=0 S AUTOACK=0
"RTN","ORWDXM1",166,0)
 I AUTOACK=2 D VERTXT^ORWDXM2
"RTN","ORWDXM1",167,0)
 S LST(0)=AUTOACK_U_KEY_U_$$DLGINFO^ORWDXM3(ORIT,ORWMODE_ISXFER)_"^"_$G(KEYVAR)
"RTN","ORWDXM1",168,0)
 I $P(LST(0),U,4)="D" S $P(LST(0),U,4)="Q"
"RTN","ORWDXM1",169,0)
 I ORWMODE=1 S $P(LST(0),U,4)="C"
"RTN","ORWDXM1",170,0)
 K ^TMP("ORWORD",$J)
"RTN","ORWDXM1",171,0)
 K ^TMP("PSJINS",$J),^TMP("PSJMR",$J),^TMP("PSJNOUN",$J)
"RTN","ORWDXM1",172,0)
 Q
"RTN","ORWDXM1",173,0)
SETITEM(DA,PROMPT,INST,MUSTASK) ; set dflt val & return if must prompt
"RTN","ORWDXM1",174,0)
 N EDITONLY,Y,VALIV,XCODE
"RTN","ORWDXM1",175,0)
 S MUSTASK=0,EDITONLY=0,VALIV=0
"RTN","ORWDXM1",176,0)
 I $D(^TMP("ORWDHTM",$J,ORDIALOG,PROMPT)) D
"RTN","ORWDXM1",177,0)
 . I $E(ORDIALOG(PROMPT,0))="W" D
"RTN","ORWDXM1",178,0)
 . . S ^TMP("ORWORD",$J,PROMPT,INST,1,0)=^TMP("ORWDHTM",$J,ORDIALOG,PROMPT)
"RTN","ORWDXM1",179,0)
 . . S ORDIALOG(PROMPT,INST)="^TMP(""ORWORD"","_$J_","_PROMPT_","_INST_")"
"RTN","ORWDXM1",180,0)
 . E  S ORDIALOG(PROMPT,INST)=^TMP("ORWDHTM",$J,ORDIALOG,PROMPT)
"RTN","ORWDXM1",181,0)
 I $D(^TMP("ORWDHTM",$J,ORIT,PROMPT)) D
"RTN","ORWDXM1",182,0)
 . S ORDIALOG(PROMPT,INST)=^TMP("ORWDHTM",$J,ORIT,PROMPT)
"RTN","ORWDXM1",183,0)
 . ; NEED TO CLEAN UP ^TMP("ORWDHTM") after process order set!!!
"RTN","ORWDXM1",184,0)
 ;
"RTN","ORWDXM1",185,0)
 ; skip if a value already exists for this prompt and not WP
"RTN","ORWDXM1",186,0)
 Q:$D(ORDIALOG(PROMPT,INST))&($E(ORDIALOG(PROMPT,0))'="W")
"RTN","ORWDXM1",187,0)
 ; execute default action if no value in QO, checking EDITONLY afterwards
"RTN","ORWDXM1",188,0)
 I '$D(ORDIALOG(PROMPT,INST)) D
"RTN","ORWDXM1",189,0)
 . ;
"RTN","ORWDXM1",190,0)
 . ;Intermittent IV orders do not require a solution or an infusion rate
"RTN","ORWDXM1",191,0)
 . I PROMPT=$$PTR("INFUSION RATE"),$$GETIVTYP^ORWDXM3="I" S VALIV=1 Q
"RTN","ORWDXM1",192,0)
 . I PROMPT=$$PTR("ORDERABLE ITEM"),$$GETIVTYP^ORWDXM3="I" S VALIV=1 Q
"RTN","ORWDXM1",193,0)
 . I $E(ORDIALOG(PROMPT,0))="W",$D(^ORD(101.41,+ORDIALOG,10,DA,8))>9 D
"RTN","ORWDXM1",194,0)
 . . M ^TMP("ORWORD",$J,PROMPT,INST)=^ORD(101.41,+ORDIALOG,10,DA,8)
"RTN","ORWDXM1",195,0)
 . . S ORDIALOG(PROMPT,INST)="^TMP(""ORWORD"","_$J_","_PROMPT_","_INST_")"
"RTN","ORWDXM1",196,0)
 . E  D
"RTN","ORWDXM1",197,0)
 . . S XCODE=$$SUBCODE($G(^ORD(101.41,+ORDIALOG,10,DA,7)))
"RTN","ORWDXM1",198,0)
 . . I $L(XCODE) X XCODE S:$D(Y) ORDIALOG(PROMPT,INST)=Y
"RTN","ORWDXM1",199,0)
 Q:VALIV=1
"RTN","ORWDXM1",200,0)
 Q:$G(EDITONLY)
"RTN","ORWDXM1",201,0)
 I 'ORWMODE,$P($G(^ORD(101.41,+ORDIALOG,10,DA,0)),U,8) Q
"RTN","ORWDXM1",202,0)
 I ORWMODE,($P($G(^ORD(101.41,+ORDIALOG,10,DA,0)),U,9)'["W"),'$P($G(^ORD(101.41,+ORDIALOG,10,DA,0)),U,6)!$D(ORDIALOG(PROMPT,INST)) Q
"RTN","ORWDXM1",203,0)
 I 'ORWMODE,LST(0),$D(ORDIALOG(PROMPT,INST)),($E(ORDIALOG(PROMPT,0))="W") Q
"RTN","ORWDXM1",204,0)
 I 'ORWMODE,LST(0),'$P($G(^ORD(101.41,+ORDIALOG,10,DA,0)),U,6) Q
"RTN","ORWDXM1",205,0)
 S XCODE=$$SUBCODE($G(^ORD(101.41,+ORDIALOG,10,DA,3)))
"RTN","ORWDXM1",206,0)
 I $L(XCODE) X XCODE Q:'$T
"RTN","ORWDXM1",207,0)
 S MUSTASK=1
"RTN","ORWDXM1",208,0)
 Q
"RTN","ORWDXM1",209,0)
SUBCODE(X) ; substitute code
"RTN","ORWDXM1",210,0)
 I X["$$REQDCOMM^ORCDLR" Q "I $$LRRQCM^ORWDXM2"
"RTN","ORWDXM1",211,0)
 I X["$$ASKSAMP^ORCDLR" Q "I $$LRASMP^ORWDXM2"
"RTN","ORWDXM1",212,0)
 I X["$$SCHEDULD^ORCDRA1" Q "I $$SCHEDULD^ORWDXM2"
"RTN","ORWDXM1",213,0)
 I X["(^PSX(550,""C"")" Q "S Y=$E($$DEFPICK^ORWDPS32) K:'$L(Y) Y"
"RTN","ORWDXM1",214,0)
 I X["I $$ASKURG^ORCDVBEC" Q "I 1"
"RTN","ORWDXM1",215,0)
 I X["K:$G(ORASK)" Q "I $G(ORASK)"
"RTN","ORWDXM1",216,0)
 Q X
"RTN","ORWDXM1",217,0)
PTR(NAME) ; -- Returns pointer to OR GTX NAME
"RTN","ORWDXM1",218,0)
 Q +$O(^ORD(101.41,"AB",$E("OR GTX "_NAME,1,63),0))
"RTN","ORWDXM1",219,0)
 ;
"RTN","ORWDXM1",220,0)
ISINPMED(IFN) ;
"RTN","ORWDXM1",221,0)
 N PKG,RESULT,Y
"RTN","ORWDXM1",222,0)
 I 'ORWMODE S PKG=$P($G(^ORD(101.41,IFN,0)),U,7)
"RTN","ORWDXM1",223,0)
 E  S PKG=$P($G(^OR(100,+IFN,0)),U,14)
"RTN","ORWDXM1",224,0)
 S Y=$$GET1^DIQ(9.4,+PKG_",",1)
"RTN","ORWDXM1",225,0)
 S RESULT=$S($E(Y,1,3)="PSJ":1,1:0)
"RTN","ORWDXM1",226,0)
 Q RESULT
"RTN","ORWDXM1",227,0)
 ;
"RTN","ORWDXM1",228,0)
ISMED(IFN) ; return 1 if pharmacy order dlg used
"RTN","ORWDXM1",229,0)
 N PKG
"RTN","ORWDXM1",230,0)
 I 'ORWMODE S PKG=$P($G(^ORD(101.41,IFN,0)),U,7)
"RTN","ORWDXM1",231,0)
 E  S PKG=$P($G(^OR(100,+IFN,0)),U,14)
"RTN","ORWDXM1",232,0)
 Q $$NMSP^ORCD(PKG)="PS"
"RTN","ORWDXM1",233,0)
SITEVAL() ;return 1 if site does want the reason for study to carry through from past orders of this ordering session
"RTN","ORWDXM1",234,0)
 I $$GET^XPAR("ALL^SRV.`"_+^VA(200,DUZ,5),"OR RA RFS CARRY ON")=0 Q 0
"RTN","ORWDXM1",235,0)
 Q 1
"RTN","ORWDXM1",236,0)
SVRPC(RET,X) ;RPC FOR SITEVAL
"RTN","ORWDXM1",237,0)
 S RET=$$SITEVAL
"RTN","ORWDXM1",238,0)
 Q
"RTN","ORWDXM1",239,0)
ISQO(IFN) ;return 1 if a non-VA medication quick order type of order dialog. p388
"RTN","ORWDXM1",240,0)
 I $P($G(^ORD(101.41,IFN,0)),U,5)'=$O(^ORD(100.98,"B","NV RX",0)) Q 0
"RTN","ORWDXM1",241,0)
 I $P($G(^ORD(101.41,IFN,0)),U,4)="Q" Q 1
"RTN","ORWDXM1",242,0)
 Q 0
"RTN","ORWOR2")
0^32^B33533980
"RTN","ORWOR2",1,0)
ORWOR2 ;SLC/DCM - RESULT RPC FUNCTIONS ;04/28/2015  11:32
"RTN","ORWOR2",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**141,350,423**;Dec 17, 1997;Build 19
"RTN","ORWOR2",3,0)
ORDHIST ; -- orders - compare with ORDERS^ORCXPND1
"RTN","ORWOR2",4,0)
 I '$G(ORESULTS) D ORDERS^ORCXPND2 Q
"RTN","ORWOR2",5,0)
 ; -- Result History Display (Add more packages as available)
"RTN","ORWOR2",6,0)
 N PKG,TAB,ORIFN
"RTN","ORWOR2",7,0)
 S PKG=+$P($G(^OR(100,+ID,0)),"^",14),PKG=$$NMSP^ORCD(PKG)
"RTN","ORWOR2",8,0)
 S TAB=$S(PKG="LR":"LABS",PKG="GMRC":"CONSULTS",PKG="RA":"XRAYS",1:"")
"RTN","ORWOR2",9,0)
 I '$L(TAB)!(ID'>0) D  Q  ; no display available
"RTN","ORWOR2",10,0)
 . N ORY,I
"RTN","ORWOR2",11,0)
 . D TEXT^ORQ12(.ORY,+ID,80)
"RTN","ORWOR2",12,0)
 . S I=0 F  S I=$O(ORY(I)) Q:I'>0  D ITEM^ORCXPND(ORY(I))
"RTN","ORWOR2",13,0)
 . D BLANK^ORCXPND
"RTN","ORWOR2",14,0)
 . S LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)="There are no results to report in this time range."
"RTN","ORWOR2",15,0)
 I $O(^OR(100,+ID,2,0)) S ORIFN=+ID,ID=0 F  S ID=$O(^OR(100,ORIFN,2,ID)) Q:ID<1  I $D(^OR(100,ID,0)) D @TAB
"RTN","ORWOR2",16,0)
 I '$O(^OR(100,+ID,2,0)) D @TAB
"RTN","ORWOR2",17,0)
 Q
"RTN","ORWOR2",18,0)
LABS ; -- laboratory [RESULTS ONLY for ID=OE order #]
"RTN","ORWOR2",19,0)
 N ORIFN,X,Y,SUB,NAME,SS,IDE,IVDT,TST,CC,ORCY,IG,TCNT,ITEM,ORY,SDATE,EDATE,ITDATE,ITMDATE,NDT,STAR,LNM,LINE
"RTN","ORWOR2",20,0)
 K ^TMP("LRRR",$J),^TMP("LRAPI",$J)
"RTN","ORWOR2",21,0)
 S ORIFN=+ID,IDE=$G(^OR(100,+ID,4))
"RTN","ORWOR2",22,0)
 Q:'$L(IDE)  ; OE# -> Lab#
"RTN","ORWOR2",23,0)
 S ITEM=$$VALUE^ORX8(ID,"ORDERABLE",,"I"),ITMDATE=$S($P(ID,";",2):$P($G(^OR(100,ORIFN,8,$P(ID,";",2),0)),"^",16),1:$P(^OR(100,ORIFN,0),"^",8)),ITDATE=$$FMTE^XLFDT(ITMDATE,"1M")
"RTN","ORWOR2",24,0)
 Q:'ITEM
"RTN","ORWOR2",25,0)
 S ITEM=+$P($G(^ORD(101.43,+ITEM,0)),"^",2)
"RTN","ORWOR2",26,0)
 S $P(IDE,";",1,3)=";;"
"RTN","ORWOR2",27,0)
 S SDATE=9999999-$S($P(IDE,";",5):$P(IDE,";",5),1:ITMDATE),EDATE=$$FMADD^XLFDT(DT,-1825) ;Set for previous 5 years
"RTN","ORWOR2",28,0)
 D RR^LR7OR1(+ORVP,,SDATE,EDATE,,ITEM,,5)
"RTN","ORWOR2",29,0)
 K ORCY D TEXT^ORQ12(.ORCY,ORIFN,80)
"RTN","ORWOR2",30,0)
 S IG=0 F  S IG=$O(ORCY(IG)) Q:IG<1  S X=ORCY(IG) D ITEM^ORCXPND(X)
"RTN","ORWOR2",31,0)
 D BLANK^ORCXPND
"RTN","ORWOR2",32,0)
 I '$D(^TMP("LRRR",$J,+ORVP)) S LINE="No data available." D SETLINE(LINE,.LCNT) Q
"RTN","ORWOR2",33,0)
 S LINE=$S('$P(IDE,";",5):"(Results not yet available for this order)",1:"(* Results for this order)")
"RTN","ORWOR2",34,0)
 D SETLINE(LINE,.LCNT)
"RTN","ORWOR2",35,0)
 S CC=0,SS="",TCNT=0
"RTN","ORWOR2",36,0)
 F  S SS=$O(^TMP("LRRR",$J,+ORVP,SS)) Q:SS=""  S IVDT=0 F  S IVDT=$O(^TMP("LRRR",$J,+ORVP,SS,IVDT)) Q:'IVDT  D  Q:SS="MI"  Q:SS="BB"
"RTN","ORWOR2",37,0)
 . S NDT=1,STAR=" "
"RTN","ORWOR2",38,0)
 . I SS="BB" K ^TMP("LRC",$J) D EN1^LR7OSBR(+ORVP) Q:'$D(^TMP("LRC",$J))  D  Q
"RTN","ORWOR2",39,0)
 .. N I S I=0 F  S I=$O(^TMP("LRC",$J,I)) Q:I<1  S X=^(I,0),LINE=X D SETLINE(LINE,.LCNT)
"RTN","ORWOR2",40,0)
 .. K ^TMP("LRC",$J)
"RTN","ORWOR2",41,0)
 . I SS="MI" K ^TMP("LRC",$J) D EN^LR7OSMZ0(+ORVP) Q:'$D(^TMP("LRC",$J))  D  Q
"RTN","ORWOR2",42,0)
 .. S LINE="Previous 5 sets of related results within 5 years... " D SETLINE(LINE,.LCNT)
"RTN","ORWOR2",43,0)
 .. N I S I=0 F  S I=$O(^TMP("LRC",$J,I)) Q:I<1  S X=^(I,0),LINE=X D SETLINE(LINE,.LCNT)
"RTN","ORWOR2",44,0)
 .. K ^TMP("LRC",$J)
"RTN","ORWOR2",45,0)
 . I SS="CH",$O(^TMP("LRRR",$J,+ORVP,SS,IVDT,0)) D  Q
"RTN","ORWOR2",46,0)
 .. S TST=0 F  S TST=$O(^TMP("LRRR",$J,+ORVP,SS,IVDT,TST)) Q:TST=""  S CC=0,Y="",TCNT=TCNT+1,X=$S(TST:^TMP("LRRR",$J,+ORVP,SS,IVDT,TST),1:"") D
"RTN","ORWOR2",47,0)
 ... I TCNT=1 D
"RTN","ORWOR2",48,0)
 .... S LINE="Previous 5 sets of related results within 5 years... " D SETLINE(LINE,.LCNT)
"RTN","ORWOR2",49,0)
 .... D BLANK^ORCXPND
"RTN","ORWOR2",50,0)
 .... S CC=0,LINE=$$S(1,CC," ")_$$S(1,CC,"Collection Time")_$$S(21,CC,"Test Name")_$$S(58,CC,"Result")_$$S(66,CC,"Units")_$$S(82,CC,"Range")
"RTN","ORWOR2",51,0)
 .... D SETLINE(LINE,.LCNT)
"RTN","ORWOR2",52,0)
 .... S CC=0,LINE=$$S(1,CC," ")_$$S(1,CC,"------------------")_$$S(21,CC,"---------")_$$S(58,CC,"------")_$$S(66,CC,"-----")_$$S(82,CC,"-----")
"RTN","ORWOR2",53,0)
 .... D SETLINE(LINE,.LCNT)
"RTN","ORWOR2",54,0)
 ... I TST S X=^TMP("LRRR",$J,+ORVP,SS,IVDT,TST),CC=0 I +X D
"RTN","ORWOR2",55,0)
 .... I NDT=1,$P(IDE,";",5)=IVDT S STAR="*"
"RTN","ORWOR2",56,0)
 .... S LNM=$S($L($P(^LAB(60,+X,0),U))>25:$S($L($P($G(^(.1)),U)):$P(^(.1),U),1:$E($P(^(0),U),1,25)),1:$E($P(^(0),U),1,25))
"RTN","ORWOR2",57,0)
 .... S LINE=STAR_$S(NDT=1:$$S(1,CC,$$FMTE^XLFDT(9999999-IVDT,"1M")),1:$$S(1,CC,"   "))_$$S(20,CC,LNM)_$$S(43,CC,$J($P(X,U,2),20))
"RTN","ORWOR2",58,0)
 .... S LINE=LINE_$$S(49,CC,$S($L($P(X,U,3)):$P(X,U,3),1:""))_$$S(65,CC,$P(X,U,4))_$$S(75,CC,$J($P(X,U,5),15))
"RTN","ORWOR2",59,0)
 .... D SETLINE(LINE,.LCNT)
"RTN","ORWOR2",60,0)
 .... S NDT=0
"RTN","ORWOR2",61,0)
 ... I TST="N" S LINE="  Comments: " D SETLINE(LINE,.LCNT) D
"RTN","ORWOR2",62,0)
 .... N CMT S CMT=0 F  S CMT=$O(^TMP("LRRR",$J,+ORVP,SS,IVDT,"N",CMT)) Q:'CMT  S LINE="   "_^TMP("LRRR",$J,+ORVP,SS,IVDT,"N",CMT) D SETLINE(LINE,.LCNT)
"RTN","ORWOR2",63,0)
 K ^TMP("LRRR",$J),^TMP("LRAPI",$J)
"RTN","ORWOR2",64,0)
 Q
"RTN","ORWOR2",65,0)
SETLINE(LINE,CNT) ;
"RTN","ORWOR2",66,0)
 S CNT=CNT+1,^TMP("ORXPND",$J,CNT,0)=LINE
"RTN","ORWOR2",67,0)
 Q
"RTN","ORWOR2",68,0)
 ;
"RTN","ORWOR2",69,0)
CONSULTS ; -- consults
"RTN","ORWOR2",70,0)
 N I,X,SUB,ORTX
"RTN","ORWOR2",71,0)
 I $G(ORTAB)="CONSULTS" S X=$P($G(^TMP("OR",$J,ORTAB,"IDX",NUM)),U,4)
"RTN","ORWOR2",72,0)
 E  D TEXT^ORQ12(.ORTX,+ID) S X=ORTX(1),ID=+$G(^OR(100,+ID,4)) ; OE->GMRC order#
"RTN","ORWOR2",73,0)
 D ITEM^ORCXPND(X),BLANK^ORCXPND
"RTN","ORWOR2",74,0)
 I ID'>0 S LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)="No data available." Q
"RTN","ORWOR2",75,0)
 I '$G(ORESULTS) D  ;DT action
"RTN","ORWOR2",76,0)
 . S LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)="Consult No.:           "_ID
"RTN","ORWOR2",77,0)
 . N GMRCOER S GMRCOER=2 D DT^GMRCSLM2(ID) S SUB="DT"
"RTN","ORWOR2",78,0)
 I $G(ORESULTS) D RT^GMRCGUIA(ID,"^TMP(""GMRCR"",$J,""RT"")") S SUB="RT"
"RTN","ORWOR2",79,0)
 S I=0 F  S I=$O(^TMP("GMRCR",$J,SUB,I)) Q:I'>0  S X=$G(^(I,0)),LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)=X
"RTN","ORWOR2",80,0)
 K ^TMP("GMRCR",$J)
"RTN","ORWOR2",81,0)
 Q
"RTN","ORWOR2",82,0)
 ;
"RTN","ORWOR2",83,0)
XRAYS ; -- Radiology
"RTN","ORWOR2",84,0)
 I '$G(ORESULTS) S ID=+ORVP_U_$TR(ID,"-","^") D EN3^RAO7PC3(ID)
"RTN","ORWOR2",85,0)
 I $G(ORESULTS) S ID=+$G(^OR(100,+ID,4)) D EN30^RAO7PC3(ID)
"RTN","ORWOR2",86,0)
 N CASE,PROC,PSET
"RTN","ORWOR2",87,0)
 S PSET=$D(^TMP($J,"RAE3",+ORVP,"PRINT_SET")),CASE=0
"RTN","ORWOR2",88,0)
 F  S CASE=$O(^TMP($J,"RAE3",+ORVP,CASE)) Q:CASE'>0  D
"RTN","ORWOR2",89,0)
 . I PSET S PROC=$O(^TMP($J,"RAE3",+ORVP,CASE,"")) D ITEM^ORCXPND(PROC) Q
"RTN","ORWOR2",90,0)
 . S PROC="" F  S PROC=$O(^TMP($J,"RAE3",+ORVP,CASE,PROC)) Q:PROC=""  D ITEM^ORCXPND(PROC),BLANK^ORCXPND,XRPT,BLANK^ORCXPND
"RTN","ORWOR2",91,0)
 I PSET S CASE=$O(^TMP($J,"RAE3",+ORVP,0)),PROC=$O(^(CASE,"")) D BLANK^ORCXPND,XRPT,BLANK^ORCXPND ;printset=list all procs, then one report
"RTN","ORWOR2",92,0)
 K ^TMP($J,"RAE3",+ORVP) S VALM("RM")=81
"RTN","ORWOR2",93,0)
 Q
"RTN","ORWOR2",94,0)
XRPT ; -- body of report for CASE, PROC
"RTN","ORWOR2",95,0)
 N ORD,X,I
"RTN","ORWOR2",96,0)
 S ORD=$S($L($G(^TMP($J,"RAE3",+ORVP,"ORD"))):^("ORD"),$L($G(^("ORD",CASE))):^(CASE),1:"") I $L(ORD),ORD'=PROC S LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)="Proc Ord: "_ORD
"RTN","ORWOR2",97,0)
 S I=1 F  S I=$O(^TMP($J,"RAE3",+ORVP,CASE,PROC,I)) Q:I'>0  S X=^(I),LCNT=LCNT+1,^TMP("ORXPND",$J,LCNT,0)=X ;Skip pt ID on line 1
"RTN","ORWOR2",98,0)
 Q
"RTN","ORWOR2",99,0)
 ;
"RTN","ORWOR2",100,0)
S(X,Y,Z) ;Pad over
"RTN","ORWOR2",101,0)
 ;X=Column #
"RTN","ORWOR2",102,0)
 ;Y=Current length
"RTN","ORWOR2",103,0)
 ;Z=Text
"RTN","ORWOR2",104,0)
 ;SP=TEXT SENT
"RTN","ORWOR2",105,0)
 ;CC=Line position after input text
"RTN","ORWOR2",106,0)
 I '$D(Z) Q ""
"RTN","ORWOR2",107,0)
 N SP S SP=Z I X,Y,X>Y S SP=$E("                                                                             ",1,X-Y)_Z
"RTN","ORWOR2",108,0)
 S CC=$$INC(CC,SP)
"RTN","ORWOR2",109,0)
 Q SP
"RTN","ORWOR2",110,0)
INC(X,Y) ;Character position count
"RTN","ORWOR2",111,0)
 ;X=Current count
"RTN","ORWOR2",112,0)
 ;Y=Text
"RTN","ORWOR2",113,0)
 N INC S INC=X+$L(Y)
"RTN","ORWOR2",114,0)
 Q INC
"RTN","ORWPCE4")
0^1^B23255140
"RTN","ORWPCE4",1,0)
ORWPCE4 ; SLC/JM/REV - wrap calls to PCE and AICS ;11/24/15  12:11
"RTN","ORWPCE4",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**10,85,116,173,190,195,215,243,295,280,306,361,350,423**;Dec 17, 1997;Build 19
"RTN","ORWPCE4",3,0)
 ;
"RTN","ORWPCE4",4,0)
 ; DBIA 2950   LOOK^LEXA          ^TMP("LEXFND",$J)
"RTN","ORWPCE4",5,0)
 ; DBIA 1609   CONFIG^LEXSET      ^TMP("LEXSCH",$J)
"RTN","ORWPCE4",6,0)
 ; DBIA 1365   DSELECT^GMPLENFM   ^TMP("IB",$J)
"RTN","ORWPCE4",7,0)
 ; DBIA 3991   $$STATCHK^ICDAPIU
"RTN","ORWPCE4",8,0)
 ;
"RTN","ORWPCE4",9,0)
 Q
"RTN","ORWPCE4",10,0)
LEX(LST,X,APP,ORDATE,ORXTND,ORINCSYN) ; return list after lexicon lookup
"RTN","ORWPCE4",11,0)
 ; Call with: X           (Required) The search text entered by the user
"RTN","ORWPCE4",12,0)
 ;            APP         (Required) The Lexicon APP parameter (e.g., "GMPX"
"RTN","ORWPCE4",13,0)
 ;                                   for Problem List Subset, "10D" for ICD-10-CM, etc.
"RTN","ORWPCE4",14,0)
 ;            [ORDATE]    (Optional) the date of interest (Defaults to TODAY - should
"RTN","ORWPCE4",15,0)
 ;                                   be passed as DATE OF SERVICE if not TODAY)
"RTN","ORWPCE4",16,0)
 ;            [ORXTND]    (Optional) Boolean flag specifying whether or not to
"RTN","ORWPCE4",17,0)
 ;                                   use an extended search (Initial search is PL Subset
"RTN","ORWPCE4",18,0)
 ;                                   of SCT, extended search is ICD (or 10D after impl.)
"RTN","ORWPCE4",19,0)
 ;                                   (Defaults to 0 (FALSE))
"RTN","ORWPCE4",20,0)
 ;            [ORINCSYN]  (Optional) Boolean flag specifying whether or not to
"RTN","ORWPCE4",21,0)
 ;                                   include synonyms for SNOMED CT Concepts
"RTN","ORWPCE4",22,0)
 ;                                   (Defaults to 0 (FALSE))
"RTN","ORWPCE4",23,0)
 ;
"RTN","ORWPCE4",24,0)
 ;   Returns: LST=local array name passed by ref, which contains search result set as:
"RTN","ORWPCE4",25,0)
 ;            <lvn>(1..n)=LEXIEN^PREFTEXT^CODESYS^CONCEPTID^ICDVER^DESIGID^PARENTSUBSCRIPT
"RTN","ORWPCE4",26,0)
 ;
"RTN","ORWPCE4",27,0)
 N LEX,ILST,I,IEN,IMPLDT,SUBSET,FILTER
"RTN","ORWPCE4",28,0)
 S FILTER=""
"RTN","ORWPCE4",29,0)
 S IMPLDT=$$IMPDATE^LEXU("10D")
"RTN","ORWPCE4",30,0)
 S:APP="CPT" APP="CHP" ; LEX PATCH 10
"RTN","ORWPCE4",31,0)
 I APP="ICD",'+$G(ORXTND) S APP=$S($E(X,1,3)?.1A2.3N:"ICD",1:"GMPX")
"RTN","ORWPCE4",32,0)
 S:'+$G(ORDATE) ORDATE=DT
"RTN","ORWPCE4",33,0)
 S ORINCSYN=+$G(ORINCSYN)
"RTN","ORWPCE4",34,0)
 I APP="ICD",(ORDATE'<IMPLDT) S APP="10D"
"RTN","ORWPCE4",35,0)
 S SUBSET=$S(APP="GMPX":$S(ORDATE<IMPLDT:"PLS",1:"CLF"),1:APP)
"RTN","ORWPCE4",36,0)
 ; call CONFIG^LEXSET to set-up the constraints of the Lexicon search
"RTN","ORWPCE4",37,0)
 D CONFIG^LEXSET(APP,SUBSET,ORDATE)  ;DBIA 1609
"RTN","ORWPCE4",38,0)
 I APP="CHP" D
"RTN","ORWPCE4",39,0)
 . ; Set the filter for CPT only using CS APIs - format is the same as for DIC("S")
"RTN","ORWPCE4",40,0)
 . S ^TMP("LEXSCH",$J,"FIL",0)="I $L($$CPTONE^LEXU(+Y,$G(ORDATE)))!($L($$CPCONE^LEXU(+Y,$G(ORDATE))))"  ;DBIA 1609
"RTN","ORWPCE4",41,0)
 . ; Set Applications Default Flag (Lexicon can not overwrite filter)
"RTN","ORWPCE4",42,0)
 . S ^TMP("LEXSCH",$J,"ADF",0)=1
"RTN","ORWPCE4",43,0)
 ; setup and/or search
"RTN","ORWPCE4",44,0)
 S X=$$UP^XLFSTR(X)
"RTN","ORWPCE4",45,0)
 ; execute the search
"RTN","ORWPCE4",46,0)
 D SRCH(.LST,X,APP,SUBSET,ORDATE,ORINCSYN)
"RTN","ORWPCE4",47,0)
LEXX K ^TMP("LEXFND",$J),^TMP("LEXHIT",$J),^TMP("LEXSCH",$J),^TMP("LEXLE",$J)
"RTN","ORWPCE4",48,0)
 Q
"RTN","ORWPCE4",49,0)
SRCH(LST,X,APP,SUBSET,ORDATE,ORINCSYN) ; call LOOK^LEXA to execute the search
"RTN","ORWPCE4",50,0)
 N LEX,I,IEN,ILST
"RTN","ORWPCE4",51,0)
 D LOOK^LEXA(X,APP,1,SUBSET,ORDATE)
"RTN","ORWPCE4",52,0)
 I '$D(LEX("LIST",1)) D  G LEXX
"RTN","ORWPCE4",53,0)
 . S LST(1)="-1^No matches found.^"_APP
"RTN","ORWPCE4",54,0)
 S ILST=0
"RTN","ORWPCE4",55,0)
 S LEX("LIST",1)=$$LEXXFRM(LEX("LIST",1),ORDATE,APP)
"RTN","ORWPCE4",56,0)
 I $S(APP="GMPX":1,APP="ICD":1,1:0),($P(LEX("LIST",1),U,6)'="799.9") D  I 1
"RTN","ORWPCE4",57,0)
 . I APP="ICD",($E($P(LEX("LIST",1),U,3),1,3)'="ICD") Q
"RTN","ORWPCE4",58,0)
 . S LST(1)=LEX("LIST",1),ILST=1
"RTN","ORWPCE4",59,0)
 E  S LST(1)=LEX("LIST",1),ILST=1
"RTN","ORWPCE4",60,0)
 I APP="GMPX",+$G(ORINCSYN) D SYNONYMS(.LST,.ILST,"SCT",$P(LST(1),U,4),ORDATE)
"RTN","ORWPCE4",61,0)
 S (I,IEN)=""
"RTN","ORWPCE4",62,0)
 F  S I=$O(^TMP("LEXFND",$J,I)) Q:I=""  D  ;DBIA 2950
"RTN","ORWPCE4",63,0)
 .F  S IEN=$O(^TMP("LEXFND",$J,I,IEN)) Q:IEN=""  D
"RTN","ORWPCE4",64,0)
 ..N TXT,ELEMENT S TXT=^TMP("LEXFND",$J,I,IEN)
"RTN","ORWPCE4",65,0)
 ..S ELEMENT=IEN_U_TXT
"RTN","ORWPCE4",66,0)
 ..S ELEMENT=$$LEXXFRM(ELEMENT,ORDATE,APP) Q:$S(APP="GMPX":1,APP="ICD":1,1:0)&($P(ELEMENT,U,6)="799.9")
"RTN","ORWPCE4",67,0)
 ..I APP="ICD",($E($P(ELEMENT,U,3),1,3)'="ICD") Q
"RTN","ORWPCE4",68,0)
 ..S ILST=ILST+1,LST(ILST)=ELEMENT
"RTN","ORWPCE4",69,0)
 ..I APP="GMPX",+$G(ORINCSYN) D SYNONYMS(.LST,.ILST,"SCT",$P(LST(ILST),U,4),ORDATE)
"RTN","ORWPCE4",70,0)
 I '$D(LST(1)) S LST(1)="-1^No matches found.^"_APP
"RTN","ORWPCE4",71,0)
 Q
"RTN","ORWPCE4",72,0)
LEXXFRM(ORX,ORDATE,ORAPP) ; Transform text for SCT look-up
"RTN","ORWPCE4",73,0)
 N ORLEX,ORY,ORICD,ORSCT,ORTXT,ORCODSYS,ORCCODE,ORDCODE
"RTN","ORWPCE4",74,0)
 S ORLEX=$P(ORX,U),ORTXT=$P(ORX,U,2),(ORCCODE,ORCODSYS)=""
"RTN","ORWPCE4",75,0)
 I ORTXT["*" S ORTXT=$$STRIP^XLFSTR(ORTXT,"*")
"RTN","ORWPCE4",76,0)
 I (ORTXT["("),(ORTXT[")") D
"RTN","ORWPCE4",77,0)
 . S ORCODSYS=$RE($P($P($RE(ORTXT),"("),")",2))
"RTN","ORWPCE4",78,0)
 . S ORCCODE=$S(ORTXT["SNOMED":$$ONE^LEXU(+ORLEX,ORDATE,"SCT"),1:$RE($P($RE(ORCODSYS)," ")))
"RTN","ORWPCE4",79,0)
 . S ORCODSYS=$RE($P($RE(ORCODSYS)," ",2,99))
"RTN","ORWPCE4",80,0)
 . S ORTXT=$$TRIM^XLFSTR($RE($P($RE(ORTXT),"(",2,99)))
"RTN","ORWPCE4",81,0)
 S ORY=$$SETELEM(ORLEX,ORTXT,ORCODSYS,ORCCODE,ORDATE)
"RTN","ORWPCE4",82,0)
 Q ORY
"RTN","ORWPCE4",83,0)
SYNONYMS(LST,ILST,ORCSYS,ORCCODE,ORDT) ; Get synonyms for expression
"RTN","ORWPCE4",84,0)
 N ORSYN,ORI,ORDAD S ORDT=$G(ORDT,DT),ORDAD=ILST
"RTN","ORWPCE4",85,0)
 D GETSYN^LEXTRAN1(ORCSYS,ORCCODE,ORDT,"ORSYN",1,1)
"RTN","ORWPCE4",86,0)
 S ORI=0 F  S ORI=$O(ORSYN("S",ORI)) Q:+ORI'>0  D
"RTN","ORWPCE4",87,0)
 . N ELEMENT,TXT,IEN,ORDCODE
"RTN","ORWPCE4",88,0)
 . S IEN=$P(ORSYN("S",ORI),U,2),TXT=$P(ORSYN("S",ORI),U),ORDCODE=$P(ORSYN("S",ORI),U,3)
"RTN","ORWPCE4",89,0)
 . S ELEMENT=$$SETELEM(IEN,TXT,"SNOMED CT",ORCCODE,ORDT,ORDCODE)_U_ORDAD
"RTN","ORWPCE4",90,0)
 . S ILST=ILST+1,LST(ILST)=ELEMENT
"RTN","ORWPCE4",91,0)
 Q
"RTN","ORWPCE4",92,0)
SETELEM(ORLEX,ORTXT,ORCODSYS,ORCCODE,ORDATE,ORDCODE) ; Set List Element
"RTN","ORWPCE4",93,0)
 ;LEXIEN^PREFTEXT^CODESYS^CONCEPTID^ICDVER^ICDCODE^DESIGID^PARENTSUBSCRIPT
"RTN","ORWPCE4",94,0)
 N ORY,ORIMPDT,ORICD,ORSYN,ORTYP,ORQT,ORNUM
"RTN","ORWPCE4",95,0)
 S ORIMPDT=$$IMPDATE^LEXU("10D"),(ORTYP,ORQT,ORNUM)=""
"RTN","ORWPCE4",96,0)
 S ORY=ORLEX_U_ORTXT_U_ORCODSYS_U_ORCCODE
"RTN","ORWPCE4",97,0)
 I $S(ORCODSYS["SNOMED":1,ORCODSYS["VHAT":1,1:0) D
"RTN","ORWPCE4",98,0)
 . S ORY=ORY_U_$S(ORDATE<ORIMPDT:"ICD-9-CM",1:"ICD-10-CM"),ORICD=""
"RTN","ORWPCE4",99,0)
 . S ORICD=$$GETDX^ORQQPL1(ORCCODE,ORCODSYS,ORDATE)
"RTN","ORWPCE4",100,0)
 . I '$D(ORDCODE) D
"RTN","ORWPCE4",101,0)
 . . S ORDCODE=$$GETSYN^LEXTRAN1("SCT",ORCCODE,ORDATE,"ORSYN",1,1)
"RTN","ORWPCE4",102,0)
 . . I $P(ORDCODE,U)'=1 S ORDCODE="" Q
"RTN","ORWPCE4",103,0)
 . . F  S ORTYP=$O(ORSYN(ORTYP)) Q:ORTYP="S"!(ORQT)  D
"RTN","ORWPCE4",104,0)
 . . . I $P(ORSYN(ORTYP),U)=ORTXT S ORDCODE=$P(ORSYN(ORTYP),U,3),ORQT=1 Q
"RTN","ORWPCE4",105,0)
 . . I ORTYP="S" F  S ORNUM=$O(ORSYN(ORTYP,ORNUM)) Q:ORNUM=""!(ORQT)  D
"RTN","ORWPCE4",106,0)
 . . . I $P(ORSYN(ORTYP,ORNUM),U)=ORTXT S ORDCODE=$P(ORSYN(ORTYP,ORNUM),U,3),ORQT=1 Q
"RTN","ORWPCE4",107,0)
 . I ORDCODE["^" S ORDCODE=""
"RTN","ORWPCE4",108,0)
 .S ORY=ORY_U_ORICD_U_ORDCODE
"RTN","ORWPCE4",109,0)
 E  S ORY=ORY_U_U
"RTN","ORWPCE4",110,0)
 Q ORY
"RTN","ORY423")
0^4^B29308775
"RTN","ORY423",1,0)
ORY423 ;ISP/WAT post-init for OR*3.0*423; ;07/12/16  07:44
"RTN","ORY423",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17, 1997;Build 19
"RTN","ORY423",3,0)
 Q
"RTN","ORY423",4,0)
POST ;post-init
"RTN","ORY423",5,0)
 N ORD,ORPOST,ORSTNUM,XPDIDTOT
"RTN","ORY423",6,0)
 D LAB
"RTN","ORY423",7,0)
 S ORPOST=1,ORSTNUM=1,XPDIDTOT=3
"RTN","ORY423",8,0)
 S ORD("GMRCOR CONSULT")=""
"RTN","ORY423",9,0)
 D EN^ORYDLG(423,.ORD),UPDATE^XPDID(ORSTNUM) S ORSTNUM=ORSTNUM+1
"RTN","ORY423",10,0)
 D ^ORY423ES,UPDATE^XPDID(ORSTNUM) S ORSTNUM=ORSTNUM+1
"RTN","ORY423",11,0)
 D QUEUE("File #100 index correction","MAIN^ORY423(""?"")","OE/RR FILE #100 CORRECT C & D INDEX",.ORSTNUM)
"RTN","ORY423",12,0)
 D UPDATE^XPDID(ORSTNUM)
"RTN","ORY423",13,0)
 S ORSTNUM=ORSTNUM+1
"RTN","ORY423",14,0)
 D BMES^XPDUTL("Moving supply quick orders...")
"RTN","ORY423",15,0)
 I $$SQOCONV^ORY423A D BMES^XPDUTL("DONE")
"RTN","ORY423",16,0)
 D UPDATE^XPDID(ORSTNUM)
"RTN","ORY423",17,0)
 Q
"RTN","ORY423",18,0)
 ;
"RTN","ORY423",19,0)
SENDDLG(ANAME) ; Return true if the current order dialog should be sent
"RTN","ORY423",20,0)
 I ANAME="GMRCOR CONSULT" Q 1
"RTN","ORY423",21,0)
 Q 0
"RTN","ORY423",22,0)
 ;
"RTN","ORY423",23,0)
QUEUE(ORMSG,ZTRTN,ZTDESC,ORCURITM) ;CREATE A SPECIFIED TASK
"RTN","ORY423",24,0)
 ;PARAMETERS: ORMSG    => STRING CONTAINING THE TEXT TO OUTPUT TO THE SCREEN
"RTN","ORY423",25,0)
 ;            ZTRTN    => STRING CONTAINING THE ROUTINE TASKMAN SHOULD EXECUTE
"RTN","ORY423",26,0)
 ;            ZTDESC   => STRING CONTAINING THE TASK'S DESCRIPTION
"RTN","ORY423",27,0)
 ;            ORCURITM => REFERENCE TO THE VARIABLE STORING THE NUMBER OF THE CURRENT ITEM
"RTN","ORY423",28,0)
 N ZTDTH,ZTIO,ZTSK
"RTN","ORY423",29,0)
 D BMES^XPDUTL("Queueing "_ORMSG_"...")
"RTN","ORY423",30,0)
 S ZTDTH=$$FMADD^XLFDT($$NOW^XLFDT,0,0,0,10)
"RTN","ORY423",31,0)
 S ZTIO=""
"RTN","ORY423",32,0)
 D ^%ZTLOAD
"RTN","ORY423",33,0)
 I +$G(ZTSK)=0 D
"RTN","ORY423",34,0)
 .I $G(ORPOST) D BMES^XPDUTL("Unable to queue the "_ORMSG_"; file a help desk ticket for assistance.")
"RTN","ORY423",35,0)
 .E  W "ERROR",!,"Unable to queue the "_ORMSG_"; file a help desk ticket for assistance.",!
"RTN","ORY423",36,0)
 E  D
"RTN","ORY423",37,0)
 .I $G(ORPOST) D
"RTN","ORY423",38,0)
 ..D BMES^XPDUTL("DONE - Task #"_ZTSK)
"RTN","ORY423",39,0)
 ..D UPDATE^XPDID(ORCURITM)
"RTN","ORY423",40,0)
 ..S ORCURITM=ORCURITM+1
"RTN","ORY423",41,0)
 .E  W "DONE",!,"Task #"_ZTSK,!
"RTN","ORY423",42,0)
 Q
"RTN","ORY423",43,0)
 ;
"RTN","ORY423",44,0)
MAIN(ORIRDT) ;drive
"RTN","ORY423",45,0)
 N ORINSDT,ORSTAT,ORREP,ORRECP S ORINSDT=$$INSDT()
"RTN","ORY423",46,0)
 I $G(ORINSDT)'>0 D  Q
"RTN","ORY423",47,0)
 . S ORREP(1)="The file #100 index correction in OR*3.0*423 did not run."
"RTN","ORY423",48,0)
 . S ORREP(2)="The install date for OR*3.0*389 was NOT found."
"RTN","ORY423",49,0)
 . S ORREP(3)="Please log a help desk ticket for assistance."
"RTN","ORY423",50,0)
 . S ORRECP(DUZ)=""
"RTN","ORY423",51,0)
 . S ORSTAT=$$MAIL^ORUTL("ORREP(","PATCH OR*3.0*423 ORDER INDEX CORRECTION STATUS",.ORRECP)
"RTN","ORY423",52,0)
 . S ZTREQ="@"
"RTN","ORY423",53,0)
 ;use date as starting point for C/D index set
"RTN","ORY423",54,0)
 ;if date is passed in, use that date
"RTN","ORY423",55,0)
 I $G(ORIRDT)'["?" S ORINSDT=ORIRDT
"RTN","ORY423",56,0)
 D REBUILD(ORINSDT)
"RTN","ORY423",57,0)
 Q
"RTN","ORY423",58,0)
 ;
"RTN","ORY423",59,0)
INSDT() ;get install dates for 389
"RTN","ORY423",60,0)
 N ORDATES S ORDATES=0
"RTN","ORY423",61,0)
 S ORDATES=$$INSTALDT^XPDUTL("OR*3.0*389",.ORSLT)
"RTN","ORY423",62,0)
 I ORDATES>0 S ORDATES=$O(ORSLT(""))
"RTN","ORY423",63,0)
 K ORSLT
"RTN","ORY423",64,0)
 Q ORDATES
"RTN","ORY423",65,0)
 ;
"RTN","ORY423",66,0)
REBUILD(ORDT) ;set missing index entries
"RTN","ORY423",67,0)
 Q:$G(ORDT)'>0
"RTN","ORY423",68,0)
 ;set ORDT one day back to ensure no orders are skipped
"RTN","ORY423",69,0)
 S ORDT=$$FMADD^XLFDT(ORDT,-1)
"RTN","ORY423",70,0)
 N ORDTM,ORIFN,ORNODE,ORDLG,ORCNT,ORSTAT,ORREP,ORRECP S ORDTM=ORDT,ORIFN=0,ORCNT=0
"RTN","ORY423",71,0)
 F  S ORDTM=$O(^OR(100,"AF",ORDTM)) H:'(ORCNT#10000) 1  Q:ORDTM=""!($G(ZTSTOP)=1)  D
"RTN","ORY423",72,0)
 .F  S ORIFN=$O(^OR(100,"AF",ORDTM,ORIFN)) Q:$G(ORIFN)'>0  D  ;have to loop here; can have mult orders w/same time stamp
"RTN","ORY423",73,0)
 ..;check for and add C and D x-refs
"RTN","ORY423",74,0)
 ..I $D(^OR(100,ORIFN,0))'=0 D
"RTN","ORY423",75,0)
 ...S ORNODE=^OR(100,ORIFN,0)
"RTN","ORY423",76,0)
 ...S ORDLG=$P(ORNODE,U,5) Q:$G(ORDLG)=""
"RTN","ORY423",77,0)
 ...;$D for index and set if missing
"RTN","ORY423",78,0)
 ...Q:$D(^OR(100,"C",ORDLG,ORIFN))=1
"RTN","ORY423",79,0)
 ...S ^OR(100,"C",$E(ORDLG,1,30),ORIFN)=""
"RTN","ORY423",80,0)
 ..I $D(^OR(100,ORIFN,3))'=0 D
"RTN","ORY423",81,0)
 ...S ORNODE=^OR(100,ORIFN,3),ORDLG=""
"RTN","ORY423",82,0)
 ...S ORDLG=$P(ORNODE,U,4) Q:$G(ORDLG)=""
"RTN","ORY423",83,0)
 ...;$D for index and set if missing
"RTN","ORY423",84,0)
 ...Q:$D(^OR(100,"D",ORDLG,ORIFN))=1
"RTN","ORY423",85,0)
 ...S ^OR(100,"D",$E(ORDLG,1,30),ORIFN)=""
"RTN","ORY423",86,0)
 .S ORCNT=ORCNT+1
"RTN","ORY423",87,0)
 .I ORCNT#1000=0,($$S^%ZTLOAD) N X S ZTSTOP=1,X=$$S^%ZTLOAD("File 100 C/D Index Correction")
"RTN","ORY423",88,0)
 ;SEND STATUS EMAIL
"RTN","ORY423",89,0)
 I +$G(ZTSTOP)=0 D
"RTN","ORY423",90,0)
 .S ORREP(1)="The file #100 index correction from OR*3.0*423 was successfully completed."
"RTN","ORY423",91,0)
 E  D
"RTN","ORY423",92,0)
 .K ORREP
"RTN","ORY423",93,0)
 .S ORREP(1)="The file #100 index correction in OR*3.0*423 has unexpectedly stopped."
"RTN","ORY423",94,0)
 .S ORREP(2)="If you or the system manager did not stop the process, please check the"
"RTN","ORY423",95,0)
 .S ORREP(3)="error log and file a help desk ticket for assistance."
"RTN","ORY423",96,0)
 .S ORREP(4)=""
"RTN","ORY423",97,0)
 .S ORREP(5)="To requeue the cleanup/conversion process, run RESTART^ORY423 from the"
"RTN","ORY423",98,0)
 .S ORREP(6)="programmer prompt and when asked for the starting order date, enter"
"RTN","ORY423",99,0)
 .S ORREP(7)=ORDTM
"RTN","ORY423",100,0)
 S ORRECP(DUZ)=""
"RTN","ORY423",101,0)
 S ORSTAT=$$MAIL^ORUTL("ORREP(","PATCH OR*3.0*423 ORDER INDEX CORRECTION STATUS",.ORRECP)
"RTN","ORY423",102,0)
 I +ORSTAT,($G(ZTSTOP)=1) D
"RTN","ORY423",103,0)
 .S ^XTMP("ORY423",0)=$$FMADD^XLFDT($$NOW^XLFDT,7,0,0,0)_U_$$NOW^XLFDT_U_"OR*3*423 POST-INSTALL DATA"
"RTN","ORY423",104,0)
 .S ^XTMP("ORY423","ORDER")=(ORDTM)
"RTN","ORY423",105,0)
 S ZTREQ="@"
"RTN","ORY423",106,0)
 Q
"RTN","ORY423",107,0)
 ;
"RTN","ORY423",108,0)
RESTART ;index redux
"RTN","ORY423",109,0)
 N DIC,Y,X,DTOUT,DUOUT
"RTN","ORY423",110,0)
 S DIC="^OR(100,",DIC(0)="AEQX",DIC("A")="ENTER THE STARTING ORDER DATE FROM THE STATUS EMAIL: "
"RTN","ORY423",111,0)
 D ^DIC
"RTN","ORY423",112,0)
 Q:+Y<1
"RTN","ORY423",113,0)
 W !,"Queueing re-index..."
"RTN","ORY423",114,0)
 D QUEUE("File #100 index correction","MAIN^ORY423("_+Y_")","OE/RR FILE #100 CORRECT C & D INDEX")
"RTN","ORY423",115,0)
 Q
"RTN","ORY423",116,0)
 ;
"RTN","ORY423",117,0)
LAB ;
"RTN","ORY423",118,0)
 N I,X,DAT,ENT,RTN,R
"RTN","ORY423",119,0)
 S DAT="ORRPW LAB OVERVIEW^ORRPW LAB ORDERS ALL^ORRPL LAB ORDERS ALL^ORRPL LAB ORDERS PEND^ORRPL LAB OVERVIEW"
"RTN","ORY423",120,0)
 S ENT="OV^ALL^ALL^PEND^OV",RTN="ORDV02D"
"RTN","ORY423",121,0)
 F I=1:1:5 S R=$P(DAT,"^",I) I $O(^ORD(101.24,"B",R,0)) S IFN=$O(^(0)) I $D(^ORD(101.24,IFN,0)),$D(^(2)) D
"RTN","ORY423",122,0)
 . ;W !,$P(DAT,"^",I),?25,$P(^(2),"^",8)_"^"_$P(^(2),"^",9)_"="_$P(ENT,"^",I)_"^"_RTN
"RTN","ORY423",123,0)
 . S $P(^ORD(101.24,IFN,2),"^",8,9)=$P(ENT,"^",I)_"^"_RTN
"RTN","ORY423",124,0)
 Q
"RTN","ORY4230")
0^23^B15650295
"RTN","ORY4230",1,0)
ORY4230 ;SLC/RJS,CLA - OCX PACKAGE RULE TRANSPORT ROUTINE (Delete after Install of OR*3*423) ;JUN 29,2016 at 06:15
"RTN","ORY4230",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17,1997;Build 19
"RTN","ORY4230",3,0)
 ;;  ;;ORDER CHECK EXPERT version 1.01 released OCT 29,1998
"RTN","ORY4230",4,0)
 ;
"RTN","ORY4230",5,0)
S ;
"RTN","ORY4230",6,0)
 ;
"RTN","ORY4230",7,0)
 Q
"RTN","ORY4230",8,0)
 ;
"RTN","ORY4230",9,0)
WARN(RTN,MSG,LINES) ;
"RTN","ORY4230",10,0)
 ;
"RTN","ORY4230",11,0)
 Q:$G(OCXAUTO)
"RTN","ORY4230",12,0)
 ;
"RTN","ORY4230",13,0)
 N DASH,LINE,NLINE,PLINE
"RTN","ORY4230",14,0)
 ;
"RTN","ORY4230",15,0)
 S DASH="",$P(DASH,"-",(55-$L(MSG)-2))="-"
"RTN","ORY4230",16,0)
 W !!,"--------------",MSG,DASH
"RTN","ORY4230",17,0)
 ;
"RTN","ORY4230",18,0)
 W !,RTN,?10,"[CPRS30.FO-DOMAIN.EXT] -> [",$$NETNAME^OCXSEND,"] Line"
"RTN","ORY4230",19,0)
 ;
"RTN","ORY4230",20,0)
 I $O(LINES($O(LINES(0)))) W "s: "
"RTN","ORY4230",21,0)
 E  W ": "
"RTN","ORY4230",22,0)
 ;
"RTN","ORY4230",23,0)
 S LINE=0 F  S LINE=$O(LINES(LINE)) Q:'LINE  D
"RTN","ORY4230",24,0)
 .W:($X>60) !,?40
"RTN","ORY4230",25,0)
 .S NLINE=LINE F  S PLINE=NLINE,NLINE=$O(LINES(NLINE)) Q:(NLINE-PLINE-1)
"RTN","ORY4230",26,0)
 .I (PLINE=LINE) W " ",LINE
"RTN","ORY4230",27,0)
 .E  W " ",LINE,"-",PLINE S LINE=PLINE
"RTN","ORY4230",28,0)
 ;
"RTN","ORY4230",29,0)
 W ! Q
"RTN","ORY4230",30,0)
 ;
"RTN","ORY4230",31,0)
TEXT(RTN,LINE) ;
"RTN","ORY4230",32,0)
 ;
"RTN","ORY4230",33,0)
 N TEXT X "S TEXT=$T(+"_(+LINE)_"^"_RTN_")" Q TEXT
"RTN","ORY4230",34,0)
 ;
"RTN","ORY4230",35,0)
HEADER ;
"RTN","ORY4230",36,0)
 ;
"RTN","ORY4230",37,0)
 W !," Created: JUN 29,2016 at 06:15  at  CPRS30.FO-DOMAIN.EXT"
"RTN","ORY4230",38,0)
 W !," Current Date: ",$$NOW,"  at  ",$$NETNAME^OCXSEND,!!
"RTN","ORY4230",39,0)
 S LASTFILE=0 K ^TMP("OCXRULE",$J)
"RTN","ORY4230",40,0)
 S ^TMP("OCXRULE",$J)=($P($H,",",2)+($H*86400)+(1*60*60))_" <- ^TMP ENTRY EXPIRATION DATE FOR ^OCXOPURG"
"RTN","ORY4230",41,0)
 Q
"RTN","ORY4230",42,0)
 ;
"RTN","ORY4230",43,0)
GETFILE(FILE,RECNAME,ARRAY) ;
"RTN","ORY4230",44,0)
 ;
"RTN","ORY4230",45,0)
 N CHECK,GLNEXT,GLREF,LINES,REC,DD,FLD
"RTN","ORY4230",46,0)
 S REC=$$LOOKUP(FILE,RECNAME)
"RTN","ORY4230",47,0)
 I 'REC W !!,$$FILENAME^OCXSENDD(FILE),": ",RECNAME Q 0
"RTN","ORY4230",48,0)
 I (REC=-1) W !!,$$FILENAME^OCXSENDD(FILE),": ",RECNAME,"  duplicate local entries.",! Q 0
"RTN","ORY4230",49,0)
 I (REC=-2) W !!,$$FILENAME^OCXSENDD(FILE)," (",FILE,") local file not found." W ! Q:$$PAUSE -10 Q REC
"RTN","ORY4230",50,0)
 I (REC<0) W !!,$$FILENAME^OCXSENDD(FILE),": ",RECNAME,"  unknown lookup error." W ! Q:$$PAUSE -10 Q REC
"RTN","ORY4230",51,0)
 I (REC>0) D
"RTN","ORY4230",52,0)
 .S CHECK=0,LINES=0
"RTN","ORY4230",53,0)
 .D GETREC($$FILE^OCXSENDD(FILE,"GLOBAL NAME"),"ARRAY(",REC,.ARRAY)
"RTN","ORY4230",54,0)
 .S GLREF="ARRAY" F  S GLREF=$Q(@GLREF) Q:'$L(GLREF)  Q:'($E(GLREF,1,6)="ARRAY(")  K:'$L(@GLREF) @GLREF
"RTN","ORY4230",55,0)
 ;
"RTN","ORY4230",56,0)
 Q REC
"RTN","ORY4230",57,0)
 ;
"RTN","ORY4230",58,0)
LKUPARRY(DD,KEY,ARRAY) ;
"RTN","ORY4230",59,0)
 ;
"RTN","ORY4230",60,0)
 N D0 S D0=0 F  S D0=$O(ARRAY(DD,D0)) Q:'D0  Q:($G(ARRAY(DD,D0,.01,"E"))=KEY)
"RTN","ORY4230",61,0)
 Q D0
"RTN","ORY4230",62,0)
 ;
"RTN","ORY4230",63,0)
LOOKUP(FILE,KEY) ;
"RTN","ORY4230",64,0)
 I $O(^TMP("OCXRULE",$J,"B",FILE,KEY,0)) Q 0
"RTN","ORY4230",65,0)
 N RECNAM,REC,D0,CNT,SHORT S (REC,CNT)=0
"RTN","ORY4230",66,0)
 S GL=$$FILE^OCXSENDD(FILE,"GLOBAL NAME") Q:'$L(GL) -2 S GL=$E(GL,1,$L(GL)-1)_")"
"RTN","ORY4230",67,0)
 S SHORT=$E(KEY,1,30),RECNAM=SHORT D  F  S RECNAM=$O(@GL@("B",RECNAM)) Q:'$L(RECNAM)  Q:'($E(RECNAM,1,$L(SHORT))=SHORT)  D
"RTN","ORY4230",68,0)
 .S D0=0 F  S D0=$O(@GL@("B",RECNAM,D0)) Q:'D0  I ($P($G(@GL@(D0,0)),U,1)=KEY) S CNT=CNT+1,REC=D0_U_RECNAME
"RTN","ORY4230",69,0)
 Q:(CNT>1) -1
"RTN","ORY4230",70,0)
 S:$L($P(REC,U,2)) ^TMP("OCXRULE",$J,"A",FILE,$P(REC,U,2))=""
"RTN","ORY4230",71,0)
 Q +REC
"RTN","ORY4230",72,0)
 ;
"RTN","ORY4230",73,0)
GETREC(GL,PATH,D0,REM) ;
"RTN","ORY4230",74,0)
 ;
"RTN","ORY4230",75,0)
 Q:'($P($G(@(GL_"0)")),U,2))
"RTN","ORY4230",76,0)
 N S1,DATA,DD
"RTN","ORY4230",77,0)
 S DATA="" D DIQ(GL,D0,.DATA)
"RTN","ORY4230",78,0)
 S DD=$O(DATA(0)) Q:'DD
"RTN","ORY4230",79,0)
 ;
"RTN","ORY4230",80,0)
 I $L($$FILE^OCXSENDD(DD,"NAME")) S PATH=PATH_""""_DD_":"_D0_""""
"RTN","ORY4230",81,0)
 I '$L($$FILE^OCXSENDD(DD,"NAME")) S PATH=PATH_","""_DD_":"_D0_""""
"RTN","ORY4230",82,0)
 M @(PATH_")")=DATA(DD,D0)
"RTN","ORY4230",83,0)
 ;
"RTN","ORY4230",84,0)
 S S1="" F  S S1=$O(@(GL_D0_","_$$SUB(S1)_")")) Q:'$L(S1)  I ($D(@(GL_D0_","_$$SUB(S1)_")"))>3) D
"RTN","ORY4230",85,0)
 .N D1,GLREF S GLREF=GL_D0_","_$$SUB(S1)_","
"RTN","ORY4230",86,0)
 .S D1=0 F  S D1=$O(@(GLREF_D1_")")) Q:'D1  D GETREC(GLREF,PATH,D1,.REM)
"RTN","ORY4230",87,0)
 ;
"RTN","ORY4230",88,0)
 Q
"RTN","ORY4230",89,0)
 ;
"RTN","ORY4230",90,0)
SUB(X) Q:'(X=+X) """"_X_"""" Q X
"RTN","ORY4230",91,0)
 ;
"RTN","ORY4230",92,0)
DIQ(DIC,DA,OCXARY) ;
"RTN","ORY4230",93,0)
 N DR,DIQ S DR=".01:99999",DIQ="OCXARY(",DIQ(0)="EN" D EN^DIQ1
"RTN","ORY4230",94,0)
 Q
"RTN","ORY4230",95,0)
 ;
"RTN","ORY4230",96,0)
PAUSE() W "  Press Enter " R X:DTIME W ! Q (X[U)
"RTN","ORY4230",97,0)
 ;
"RTN","ORY4230",98,0)
NOW() N X,Y,%DT S X="N",%DT="T" D ^%DT S Y=$$DATE^OCXSENDD(Y) S:(Y["@") Y=$P(Y,"@",1)_" at "_$P(Y,"@",2) Q Y
"RTN","ORY4230",99,0)
 ;
"RTN","ORY42301")
0^9^B71295993
"RTN","ORY42301",1,0)
ORY42301 ;SLC/RJS,CLA - OCX PACKAGE RULE TRANSPORT ROUTINE (Delete after Install of OR*3*423) ;JUN 29,2016 at 06:15
"RTN","ORY42301",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17,1997;Build 19
"RTN","ORY42301",3,0)
 ;;  ;;ORDER CHECK EXPERT version 1.01 released OCT 29,1998
"RTN","ORY42301",4,0)
 ;
"RTN","ORY42301",5,0)
S ;
"RTN","ORY42301",6,0)
 ;
"RTN","ORY42301",7,0)
 D DOT^ORY423ES
"RTN","ORY42301",8,0)
 ;
"RTN","ORY42301",9,0)
 ;
"RTN","ORY42301",10,0)
 K REMOTE,LOCAL,OPCODE,REF
"RTN","ORY42301",11,0)
 F LINE=1:1:500 S TEXT=$P($T(DATA+LINE),";",2,999) Q:TEXT  I $L(TEXT) D  Q:QUIT
"RTN","ORY42301",12,0)
 .S ^TMP("OCXRULE",$J,$O(^TMP("OCXRULE",$J,"A"),-1)+1)=TEXT
"RTN","ORY42301",13,0)
 ;
"RTN","ORY42301",14,0)
 G ^ORY42302
"RTN","ORY42301",15,0)
 ;
"RTN","ORY42301",16,0)
 Q
"RTN","ORY42301",17,0)
 ;
"RTN","ORY42301",18,0)
DATA ;
"RTN","ORY42301",19,0)
 ;
"RTN","ORY42301",20,0)
 ;;ROOT^OCXS(860.2,0)^ORDER CHECK RULE^860.2I
"RTN","ORY42301",21,0)
 ;;ROOT^OCXS(860.3,0)^ORDER CHECK ELEMENT^860.3
"RTN","ORY42301",22,0)
 ;;ROOT^OCXS(860.4,0)^ORDER CHECK DATA FIELD^860.4I
"RTN","ORY42301",23,0)
 ;;ROOT^OCXS(860.5,0)^ORDER CHECK DATA SOURCE^860.5
"RTN","ORY42301",24,0)
 ;;ROOT^OCXS(860.6,0)^ORDER CHECK DATA CONTEXT^860.6
"RTN","ORY42301",25,0)
 ;;ROOT^OCXS(860.8,0)^ORDER CHECK COMPILER FUNCTIONS^860.8
"RTN","ORY42301",26,0)
 ;;ROOT^OCXS(860.9,0)^ORDER CHECK NATIONAL TERM^860.9
"RTN","ORY42301",27,0)
 ;;ROOT^OCXS(863,0)^OCX MDD CLASS^863
"RTN","ORY42301",28,0)
 ;;ROOT^OCXS(863.1,0)^OCX MDD APPLICATION^863.1
"RTN","ORY42301",29,0)
 ;;ROOT^OCXS(863.2,0)^OCX MDD SUBJECT^863.2
"RTN","ORY42301",30,0)
 ;;ROOT^OCXS(863.3,0)^OCX MDD LINK^863.3I
"RTN","ORY42301",31,0)
 ;;ROOT^OCXS(863.4,0)^OCX MDD ATTRIBUTE^863.4
"RTN","ORY42301",32,0)
 ;;ROOT^OCXS(863.5,0)^OCX MDD VALUES^863.5
"RTN","ORY42301",33,0)
 ;;ROOT^OCXS(863.6,0)^OCX MDD METHOD^863.6
"RTN","ORY42301",34,0)
 ;;ROOT^OCXS(863.7,0)^OCX MDD PUBLIC FUNCTION^863.7
"RTN","ORY42301",35,0)
 ;;ROOT^OCXS(863.8,0)^OCX MDD PARAMETER^863.8
"RTN","ORY42301",36,0)
 ;;ROOT^OCXS(863.9,0)^OCX MDD CONDITION/FUNCTION^863.9I
"RTN","ORY42301",37,0)
 ;;ROOT^OCXS(864,0)^OCX MDD SITE PREFERENCES^864P
"RTN","ORY42301",38,0)
 ;;ROOT^OCXS(864.1,0)^OCX MDD DATATYPE^864.1
"RTN","ORY42301",39,0)
 ;;ROOT^OCXD(860.1,0)^ORDER CHECK PATIENT ACTIVE DATA^860.1P
"RTN","ORY42301",40,0)
 ;;ROOT^OCXD(860.7,0)^ORDER CHECK PATIENT RULE EVENT^860.7P
"RTN","ORY42301",41,0)
 ;;ROOT^OCXD(861,0)^ORDER CHECK RAW DATA LOG^861
"RTN","ORY42301",42,0)
 ;;SOF^863.8  OCX MDD PARAMETER
"RTN","ORY42301",43,0)
 ;;KEY^863.8:^COMPARISON VALUE
"RTN","ORY42301",44,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",45,0)
 ;;D^COMPARISON VALUE
"RTN","ORY42301",46,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42301",47,0)
 ;;D^CVAL
"RTN","ORY42301",48,0)
 ;;R^"863.8:",1,1
"RTN","ORY42301",49,0)
 ;;D^ 
"RTN","ORY42301",50,0)
 ;;R^"863.8:",1,2
"RTN","ORY42301",51,0)
 ;;D^   This is a value to be compared with PRIMARY DATA FIELD
"RTN","ORY42301",52,0)
 ;;R^"863.8:",1,3
"RTN","ORY42301",53,0)
 ;;D^ in a truth conditional.
"RTN","ORY42301",54,0)
 ;;R^"863.8:",1,4
"RTN","ORY42301",55,0)
 ;;D^ 
"RTN","ORY42301",56,0)
 ;;EOR^
"RTN","ORY42301",57,0)
 ;;KEY^863.8:^DATA TYPE
"RTN","ORY42301",58,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",59,0)
 ;;D^DATA TYPE
"RTN","ORY42301",60,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42301",61,0)
 ;;D^DATA TYPE
"RTN","ORY42301",62,0)
 ;;R^"863.8:",1,1
"RTN","ORY42301",63,0)
 ;;D^An MDD data type; i.e., an entry in the OCX MDD DATA TYPE file.
"RTN","ORY42301",64,0)
 ;;R^"863.8:","863.84:6",.01,"E"
"RTN","ORY42301",65,0)
 ;;D^QUERY
"RTN","ORY42301",66,0)
 ;;R^"863.8:","863.84:6",1,"E"
"RTN","ORY42301",67,0)
 ;;D^Enter the datatype
"RTN","ORY42301",68,0)
 ;;R^"863.8:","863.84:7",.01,"E"
"RTN","ORY42301",69,0)
 ;;D^DIC
"RTN","ORY42301",70,0)
 ;;R^"863.8:","863.84:7",1,"E"
"RTN","ORY42301",71,0)
 ;;D^864.1
"RTN","ORY42301",72,0)
 ;;R^"863.8:","863.84:8",.01,"E"
"RTN","ORY42301",73,0)
 ;;D^DATA TYPE
"RTN","ORY42301",74,0)
 ;;R^"863.8:","863.84:8",1,"E"
"RTN","ORY42301",75,0)
 ;;D^POINTER TO A FILEMAN FILE
"RTN","ORY42301",76,0)
 ;;R^"863.8:","863.84:9",.01,"E"
"RTN","ORY42301",77,0)
 ;;D^DIC LOOKUP INDEX STRING
"RTN","ORY42301",78,0)
 ;;R^"863.8:","863.84:9",1,"E"
"RTN","ORY42301",79,0)
 ;;D^B^C
"RTN","ORY42301",80,0)
 ;;EOR^
"RTN","ORY42301",81,0)
 ;;KEY^863.8:^DIC
"RTN","ORY42301",82,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",83,0)
 ;;D^DIC
"RTN","ORY42301",84,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42301",85,0)
 ;;D^DIC
"RTN","ORY42301",86,0)
 ;;R^"863.8:",1,1
"RTN","ORY42301",87,0)
 ;;D^An open reference used to specify the file in a DIC lookup
"RTN","ORY42301",88,0)
 ;;R^"863.8:","863.84:1",.01,"E"
"RTN","ORY42301",89,0)
 ;;D^DATA TYPE
"RTN","ORY42301",90,0)
 ;;R^"863.8:","863.84:1",1,"E"
"RTN","ORY42301",91,0)
 ;;D^POINTER TO A FILEMAN FILE
"RTN","ORY42301",92,0)
 ;;R^"863.8:","863.84:2",.01,"E"
"RTN","ORY42301",93,0)
 ;;D^DIC
"RTN","ORY42301",94,0)
 ;;R^"863.8:","863.84:2",1,"E"
"RTN","ORY42301",95,0)
 ;;D^1
"RTN","ORY42301",96,0)
 ;;R^"863.8:","863.84:3",.01,"E"
"RTN","ORY42301",97,0)
 ;;D^QUERY
"RTN","ORY42301",98,0)
 ;;R^"863.8:","863.84:3",1,"E"
"RTN","ORY42301",99,0)
 ;;D^Enter the name of the file you are pointing to
"RTN","ORY42301",100,0)
 ;;EOR^
"RTN","ORY42301",101,0)
 ;;KEY^863.8:^DIC LOOKUP INDEX STRING
"RTN","ORY42301",102,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",103,0)
 ;;D^DIC LOOKUP INDEX STRING
"RTN","ORY42301",104,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42301",105,0)
 ;;D^DICIX
"RTN","ORY42301",106,0)
 ;;R^"863.8:",1,1
"RTN","ORY42301",107,0)
 ;;D^Contains the names of indices to be used in a DIC lookup in a comma
"RTN","ORY42301",108,0)
 ;;R^"863.8:",1,2
"RTN","ORY42301",109,0)
 ;;D^delimited string.
"RTN","ORY42301",110,0)
 ;;R^"863.8:","863.84:1",.01,"E"
"RTN","ORY42301",111,0)
 ;;D^DATA TYPE
"RTN","ORY42301",112,0)
 ;;R^"863.8:","863.84:1",1,"E"
"RTN","ORY42301",113,0)
 ;;D^FREE TEXT
"RTN","ORY42301",114,0)
 ;;R^"863.8:","863.84:2",.01,"E"
"RTN","ORY42301",115,0)
 ;;D^QUERY
"RTN","ORY42301",116,0)
 ;;R^"863.8:","863.84:2",1,"E"
"RTN","ORY42301",117,0)
 ;;D^Enter a DIC lookup index string
"RTN","ORY42301",118,0)
 ;;R^"863.8:","863.84:3",.01,"E"
"RTN","ORY42301",119,0)
 ;;D^HELP MESSAGE
"RTN","ORY42301",120,0)
 ;;R^"863.8:","863.84:3",1,"E"
"RTN","ORY42301",121,0)
 ;;D^This is an '^' delimited string which contains the names of indices which are to be used in a DIC lookup; e.g., B^C^DOB.
"RTN","ORY42301",122,0)
 ;;EOR^
"RTN","ORY42301",123,0)
 ;;KEY^863.8:^FILE
"RTN","ORY42301",124,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",125,0)
 ;;D^FILE
"RTN","ORY42301",126,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42301",127,0)
 ;;D^FILE
"RTN","ORY42301",128,0)
 ;;R^"863.8:",1,1
"RTN","ORY42301",129,0)
 ;;D^The internal entry number of a file.
"RTN","ORY42301",130,0)
 ;;R^"863.8:","863.84:6",.01,"E"
"RTN","ORY42301",131,0)
 ;;D^QUERY
"RTN","ORY42301",132,0)
 ;;R^"863.8:","863.84:6",1,"E"
"RTN","ORY42301",133,0)
 ;;D^File
"RTN","ORY42301",134,0)
 ;;R^"863.8:","863.84:7",.01,"E"
"RTN","ORY42301",135,0)
 ;;D^DATA TYPE
"RTN","ORY42301",136,0)
 ;;R^"863.8:","863.84:7",1,"E"
"RTN","ORY42301",137,0)
 ;;D^POINTER TO A FILEMAN FILE
"RTN","ORY42301",138,0)
 ;;R^"863.8:","863.84:8",.01,"E"
"RTN","ORY42301",139,0)
 ;;D^DIC
"RTN","ORY42301",140,0)
 ;;R^"863.8:","863.84:8",1,"E"
"RTN","ORY42301",141,0)
 ;;D^1
"RTN","ORY42301",142,0)
 ;;EOR^
"RTN","ORY42301",143,0)
 ;;KEY^863.8:^FM MASK
"RTN","ORY42301",144,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",145,0)
 ;;D^FM MASK
"RTN","ORY42301",146,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42301",147,0)
 ;;D^FM MASK
"RTN","ORY42301",148,0)
 ;;R^"863.8:",1,1
"RTN","ORY42301",149,0)
 ;;D^Tag^routine where code is located to parse the FM DD and override the parameter value
"RTN","ORY42301",150,0)
 ;;R^"863.8:","863.84:4",.01,"E"
"RTN","ORY42301",151,0)
 ;;D^QUERY
"RTN","ORY42301",152,0)
 ;;R^"863.8:","863.84:4",1,"E"
"RTN","ORY42301",153,0)
 ;;D^Enter tag^routine where the FM MASK parser is located
"RTN","ORY42301",154,0)
 ;;R^"863.8:","863.84:5",.01,"E"
"RTN","ORY42301",155,0)
 ;;D^DATA TYPE
"RTN","ORY42301",156,0)
 ;;R^"863.8:","863.84:5",1,"E"
"RTN","ORY42301",157,0)
 ;;D^LINE TAG
"RTN","ORY42301",158,0)
 ;;EOR^
"RTN","ORY42301",159,0)
 ;;KEY^863.8:^FREE TEXT MAXIMUM LENGTH
"RTN","ORY42301",160,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",161,0)
 ;;D^FREE TEXT MAXIMUM LENGTH
"RTN","ORY42301",162,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42301",163,0)
 ;;D^FMAX
"RTN","ORY42301",164,0)
 ;;R^"863.8:",1,1
"RTN","ORY42301",165,0)
 ;;D^Maximum string length allowed
"RTN","ORY42301",166,0)
 ;;R^"863.8:",2,"E"
"RTN","ORY42301",167,0)
 ;;D^245
"RTN","ORY42301",168,0)
 ;;R^"863.8:","863.84:3",.01,"E"
"RTN","ORY42301",169,0)
 ;;D^QUERY
"RTN","ORY42301",170,0)
 ;;R^"863.8:","863.84:3",1,"E"
"RTN","ORY42301",171,0)
 ;;D^Maximum text string length allowed
"RTN","ORY42301",172,0)
 ;;R^"863.8:","863.84:4",.01,"E"
"RTN","ORY42301",173,0)
 ;;D^FM MASK
"RTN","ORY42301",174,0)
 ;;R^"863.8:","863.84:4",1,"E"
"RTN","ORY42301",175,0)
 ;;D^FMAX^OCXF6
"RTN","ORY42301",176,0)
 ;;R^"863.8:","863.84:5",.01,"E"
"RTN","ORY42301",177,0)
 ;;D^DATA TYPE
"RTN","ORY42301",178,0)
 ;;R^"863.8:","863.84:5",1,"E"
"RTN","ORY42301",179,0)
 ;;D^POSITIVE INTEGER
"RTN","ORY42301",180,0)
 ;;EOR^
"RTN","ORY42301",181,0)
 ;;KEY^863.8:^HELP MESSAGE
"RTN","ORY42301",182,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",183,0)
 ;;D^HELP MESSAGE
"RTN","ORY42301",184,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42301",185,0)
 ;;D^HELP
"RTN","ORY42301",186,0)
 ;;R^"863.8:",1,1
"RTN","ORY42301",187,0)
 ;;D^A text string 1-250 characters long which overrides the Fileman help
"RTN","ORY42301",188,0)
 ;;R^"863.8:",1,2
"RTN","ORY42301",189,0)
 ;;D^message.
"RTN","ORY42301",190,0)
 ;;R^"863.8:","863.84:10",.01,"E"
"RTN","ORY42301",191,0)
 ;;D^QUERY
"RTN","ORY42301",192,0)
 ;;R^"863.8:","863.84:10",1,"E"
"RTN","ORY42301",193,0)
 ;;D^Enter a brief help message
"RTN","ORY42301",194,0)
 ;;R^"863.8:","863.84:8",.01,"E"
"RTN","ORY42301",195,0)
 ;;D^DATA TYPE
"RTN","ORY42301",196,0)
 ;;R^"863.8:","863.84:8",1,"E"
"RTN","ORY42301",197,0)
 ;;D^FREE TEXT
"RTN","ORY42301",198,0)
 ;;R^"863.8:","863.84:9",.01,"E"
"RTN","ORY42301",199,0)
 ;;D^FM MASK
"RTN","ORY42301",200,0)
 ;;R^"863.8:","863.84:9",1,"E"
"RTN","ORY42301",201,0)
 ;;D^HELP^OCXF6
"RTN","ORY42301",202,0)
 ;;EOR^
"RTN","ORY42301",203,0)
 ;;KEY^863.8:^LOOP QUERY
"RTN","ORY42301",204,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",205,0)
 ;;D^LOOP QUERY
"RTN","ORY42301",206,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42301",207,0)
 ;;D^LOOP QUERY
"RTN","ORY42301",208,0)
 ;;R^"863.8:",1,1
"RTN","ORY42301",209,0)
 ;;D^Alternate query used when repeated answers are required
"RTN","ORY42301",210,0)
 ;;R^"863.8:","863.84:1",.01,"E"
"RTN","ORY42301",211,0)
 ;;D^DATA TYPE
"RTN","ORY42301",212,0)
 ;;R^"863.8:","863.84:1",1,"E"
"RTN","ORY42301",213,0)
 ;;D^FREE TEXT
"RTN","ORY42301",214,0)
 ;;R^"863.8:","863.84:2",.01,"E"
"RTN","ORY42301",215,0)
 ;;D^QUERY
"RTN","ORY42301",216,0)
 ;;R^"863.8:","863.84:2",1,"E"
"RTN","ORY42301",217,0)
 ;;D^Enter loop query text
"RTN","ORY42301",218,0)
 ;;R^"863.8:","863.84:3",.01,"E"
"RTN","ORY42301",219,0)
 ;;D^HELP MESSAGE
"RTN","ORY42301",220,0)
 ;;R^"863.8:","863.84:3",1,"E"
"RTN","ORY42301",221,0)
 ;;D^This is the query text for all entries after the first one
"RTN","ORY42301",222,0)
 ;;EOR^
"RTN","ORY42301",223,0)
 ;;KEY^863.8:^MANDATORY MESSAGE
"RTN","ORY42301",224,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",225,0)
 ;;D^MANDATORY MESSAGE
"RTN","ORY42301",226,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42301",227,0)
 ;;D^MAND MSG
"RTN","ORY42301",228,0)
 ;;R^"863.8:",1,1
"RTN","ORY42301",229,0)
 ;;D^Message sent to user telling him that his entry is mandatory
"RTN","ORY42301",230,0)
 ;;R^"863.8:",2,"E"
"RTN","ORY42301",231,0)
 ;;D^Mandatory answer.  You must enter a value or '^' to exit.
"RTN","ORY42301",232,0)
 ;;R^"863.8:","863.84:4",.01,"E"
"RTN","ORY42301",233,0)
 ;;D^QUERY
"RTN","ORY42301",234,0)
 ;;R^"863.8:","863.84:4",1,"E"
"RTN","ORY42301",235,0)
 ;;D^Enter message
"RTN","ORY42301",236,0)
 ;;R^"863.8:","863.84:5",.01,"E"
"RTN","ORY42301",237,0)
 ;;D^DATA TYPE
"RTN","ORY42301",238,0)
 ;;R^"863.8:","863.84:5",1,"E"
"RTN","ORY42301",239,0)
 ;;D^FREE TEXT
"RTN","ORY42301",240,0)
 ;;EOR^
"RTN","ORY42301",241,0)
 ;;KEY^863.8:^OCXO DATA DRIVE SOURCE
"RTN","ORY42301",242,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",243,0)
 ;;D^OCXO DATA DRIVE SOURCE
"RTN","ORY42301",244,0)
 ;;EOR^
"RTN","ORY42301",245,0)
 ;;KEY^863.8:^OCXO EXTERNAL FUNCTION CALL
"RTN","ORY42301",246,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",247,0)
 ;;D^OCXO EXTERNAL FUNCTION CALL
"RTN","ORY42301",248,0)
 ;;EOR^
"RTN","ORY42301",249,0)
 ;;KEY^863.8:^OCXO GENERATE CODE FUNCTION
"RTN","ORY42301",250,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",251,0)
 ;;D^OCXO GENERATE CODE FUNCTION
"RTN","ORY42301",252,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42301",253,0)
 ;;D^GEN
"RTN","ORY42301",254,0)
 ;;EOR^
"RTN","ORY42301",255,0)
 ;;KEY^863.8:^OCXO HL7 SEGMENT ID
"RTN","ORY42301",256,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",257,0)
 ;;D^OCXO HL7 SEGMENT ID
"RTN","ORY42301",258,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42301",259,0)
 ;;D^HL7SEGID
"RTN","ORY42301",260,0)
 ;;EOR^
"RTN","ORY42301",261,0)
 ;;KEY^863.8:^OCXO SEMI-COLON PIECE NUMBER
"RTN","ORY42301",262,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",263,0)
 ;;D^OCXO SEMI-COLON PIECE NUMBER
"RTN","ORY42301",264,0)
 ;;EOR^
"RTN","ORY42301",265,0)
 ;;KEY^863.8:^OCXO UP-ARROW PIECE NUMBER
"RTN","ORY42301",266,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",267,0)
 ;;D^OCXO UP-ARROW PIECE NUMBER
"RTN","ORY42301",268,0)
 ;;EOR^
"RTN","ORY42301",269,0)
 ;;KEY^863.8:^OCXO VARIABLE NAME
"RTN","ORY42301",270,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",271,0)
 ;;D^OCXO VARIABLE NAME
"RTN","ORY42301",272,0)
 ;;EOR^
"RTN","ORY42301",273,0)
 ;;KEY^863.8:^OCXO VT-BAR PIECE NUMBER
"RTN","ORY42301",274,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",275,0)
 ;;D^OCXO VT-BAR PIECE NUMBER
"RTN","ORY42301",276,0)
 ;;EOR^
"RTN","ORY42301",277,0)
 ;;KEY^863.8:^PRIMARY DATA FIELD
"RTN","ORY42301",278,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42301",279,0)
 ;;D^PRIMARY DATA FIELD
"RTN","ORY42301",280,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42301",281,0)
 ;;D^PDFLD
"RTN","ORY42301",282,0)
 ;1;
"RTN","ORY42301",283,0)
 ;
"RTN","ORY42302")
0^10^B78839911
"RTN","ORY42302",1,0)
ORY42302 ;SLC/RJS,CLA - OCX PACKAGE RULE TRANSPORT ROUTINE (Delete after Install of OR*3*423) ;JUN 29,2016 at 06:15
"RTN","ORY42302",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17,1997;Build 19
"RTN","ORY42302",3,0)
 ;;  ;;ORDER CHECK EXPERT version 1.01 released OCT 29,1998
"RTN","ORY42302",4,0)
 ;
"RTN","ORY42302",5,0)
S ;
"RTN","ORY42302",6,0)
 ;
"RTN","ORY42302",7,0)
 D DOT^ORY423ES
"RTN","ORY42302",8,0)
 ;
"RTN","ORY42302",9,0)
 ;
"RTN","ORY42302",10,0)
 K REMOTE,LOCAL,OPCODE,REF
"RTN","ORY42302",11,0)
 F LINE=1:1:500 S TEXT=$P($T(DATA+LINE),";",2,999) Q:TEXT  I $L(TEXT) D  Q:QUIT
"RTN","ORY42302",12,0)
 .S ^TMP("OCXRULE",$J,$O(^TMP("OCXRULE",$J,"A"),-1)+1)=TEXT
"RTN","ORY42302",13,0)
 ;
"RTN","ORY42302",14,0)
 G ^ORY42303
"RTN","ORY42302",15,0)
 ;
"RTN","ORY42302",16,0)
 Q
"RTN","ORY42302",17,0)
 ;
"RTN","ORY42302",18,0)
DATA ;
"RTN","ORY42302",19,0)
 ;
"RTN","ORY42302",20,0)
 ;;R^"863.8:",1,1
"RTN","ORY42302",21,0)
 ;;D^ 
"RTN","ORY42302",22,0)
 ;;R^"863.8:",1,2
"RTN","ORY42302",23,0)
 ;;D^  Primary data field in a comparison expression that
"RTN","ORY42302",24,0)
 ;;R^"863.8:",1,3
"RTN","ORY42302",25,0)
 ;;D^ is to be tested.
"RTN","ORY42302",26,0)
 ;;R^"863.8:",1,4
"RTN","ORY42302",27,0)
 ;;D^ 
"RTN","ORY42302",28,0)
 ;;EOR^
"RTN","ORY42302",29,0)
 ;;KEY^863.8:^QUERY
"RTN","ORY42302",30,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42302",31,0)
 ;;D^QUERY
"RTN","ORY42302",32,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42302",33,0)
 ;;D^QUERY
"RTN","ORY42302",34,0)
 ;;R^"863.8:",1,1
"RTN","ORY42302",35,0)
 ;;D^Used with methods that manage interactive dialogues.  Equivalent to DIC("A")
"RTN","ORY42302",36,0)
 ;;R^"863.8:","863.84:1",.01,"E"
"RTN","ORY42302",37,0)
 ;;D^DATA TYPE
"RTN","ORY42302",38,0)
 ;;R^"863.8:","863.84:1",1,"E"
"RTN","ORY42302",39,0)
 ;;D^FREE TEXT
"RTN","ORY42302",40,0)
 ;;R^"863.8:","863.84:2",.01,"E"
"RTN","ORY42302",41,0)
 ;;D^QUERY
"RTN","ORY42302",42,0)
 ;;R^"863.8:","863.84:2",1,"E"
"RTN","ORY42302",43,0)
 ;;D^Enter the query (free text string)
"RTN","ORY42302",44,0)
 ;;EOR^
"RTN","ORY42302",45,0)
 ;;KEY^863.8:^REPEAT THE QUERY
"RTN","ORY42302",46,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42302",47,0)
 ;;D^REPEAT THE QUERY
"RTN","ORY42302",48,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42302",49,0)
 ;;D^LOOP
"RTN","ORY42302",50,0)
 ;;R^"863.8:",1,1
"RTN","ORY42302",51,0)
 ;;D^Set this = 1 to repetitively ask the user to enter a value
"RTN","ORY42302",52,0)
 ;;R^"863.8:","863.84:1",.01,"E"
"RTN","ORY42302",53,0)
 ;;D^DATA TYPE
"RTN","ORY42302",54,0)
 ;;R^"863.8:","863.84:1",1,"E"
"RTN","ORY42302",55,0)
 ;;D^YES NO
"RTN","ORY42302",56,0)
 ;;R^"863.8:","863.84:2",.01,"E"
"RTN","ORY42302",57,0)
 ;;D^HELP MESSAGE
"RTN","ORY42302",58,0)
 ;;R^"863.8:","863.84:2",1,"E"
"RTN","ORY42302",59,0)
 ;;D^Answer 'YES' if you want the user to repetitively enter a value.
"RTN","ORY42302",60,0)
 ;;R^"863.8:","863.84:3",.01,"E"
"RTN","ORY42302",61,0)
 ;;D^QUERY
"RTN","ORY42302",62,0)
 ;;R^"863.8:","863.84:3",1,"E"
"RTN","ORY42302",63,0)
 ;;D^Is the query repetitive
"RTN","ORY42302",64,0)
 ;;EOR^
"RTN","ORY42302",65,0)
 ;;KEY^863.8:^TERMINATOR
"RTN","ORY42302",66,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42302",67,0)
 ;;D^TERMINATOR
"RTN","ORY42302",68,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42302",69,0)
 ;;D^TERMINATOR
"RTN","ORY42302",70,0)
 ;;R^"863.8:",1,1
"RTN","ORY42302",71,0)
 ;;D^A text string terminator; e.g., '?', ': ', '=>'
"RTN","ORY42302",72,0)
 ;;R^"863.8:",2,"E"
"RTN","ORY42302",73,0)
 ;;D^:
"RTN","ORY42302",74,0)
 ;;R^"863.8:","863.84:4",.01,"E"
"RTN","ORY42302",75,0)
 ;;D^QUERY
"RTN","ORY42302",76,0)
 ;;R^"863.8:","863.84:4",1,"E"
"RTN","ORY42302",77,0)
 ;;D^Enter text string terminator
"RTN","ORY42302",78,0)
 ;;R^"863.8:","863.84:5",.01,"E"
"RTN","ORY42302",79,0)
 ;;D^DATA TYPE
"RTN","ORY42302",80,0)
 ;;R^"863.8:","863.84:5",1,"E"
"RTN","ORY42302",81,0)
 ;;D^FREE TEXT
"RTN","ORY42302",82,0)
 ;;R^"863.8:","863.84:6",.01,"E"
"RTN","ORY42302",83,0)
 ;;D^FREE TEXT MAXIMUM LENGTH
"RTN","ORY42302",84,0)
 ;;R^"863.8:","863.84:6",1,"E"
"RTN","ORY42302",85,0)
 ;;D^9
"RTN","ORY42302",86,0)
 ;;EOR^
"RTN","ORY42302",87,0)
 ;;KEY^863.8:^VALUE CALL
"RTN","ORY42302",88,0)
 ;;R^"863.8:",.01,"E"
"RTN","ORY42302",89,0)
 ;;D^VALUE CALL
"RTN","ORY42302",90,0)
 ;;R^"863.8:",.02,"E"
"RTN","ORY42302",91,0)
 ;;D^VAL CALL
"RTN","ORY42302",92,0)
 ;;R^"863.8:",.03,"E"
"RTN","ORY42302",93,0)
 ;;D^NO
"RTN","ORY42302",94,0)
 ;;R^"863.8:",1,1
"RTN","ORY42302",95,0)
 ;;D^tag^routine which manages the dialogue for collecting and validating a value
"RTN","ORY42302",96,0)
 ;;R^"863.8:","863.84:3",.01,"E"
"RTN","ORY42302",97,0)
 ;;D^QUERY
"RTN","ORY42302",98,0)
 ;;R^"863.8:","863.84:3",1,"E"
"RTN","ORY42302",99,0)
 ;;D^Enter tag^routine
"RTN","ORY42302",100,0)
 ;;R^"863.8:","863.84:4",.01,"E"
"RTN","ORY42302",101,0)
 ;;D^DATA TYPE
"RTN","ORY42302",102,0)
 ;;R^"863.8:","863.84:4",1,"E"
"RTN","ORY42302",103,0)
 ;;D^LINE TAG
"RTN","ORY42302",104,0)
 ;;EOR^
"RTN","ORY42302",105,0)
 ;;EOF^OCXS(863.8)^1
"RTN","ORY42302",106,0)
 ;;SOF^864.1  OCX MDD DATATYPE
"RTN","ORY42302",107,0)
 ;;KEY^864.1:^BOOLEAN
"RTN","ORY42302",108,0)
 ;;R^"864.1:",.01,"E"
"RTN","ORY42302",109,0)
 ;;D^BOOLEAN
"RTN","ORY42302",110,0)
 ;;R^"864.1:",.02,"E"
"RTN","ORY42302",111,0)
 ;;D^BOOL
"RTN","ORY42302",112,0)
 ;;EOR^
"RTN","ORY42302",113,0)
 ;;KEY^864.1:^FREE TEXT
"RTN","ORY42302",114,0)
 ;;R^"864.1:",.01,"E"
"RTN","ORY42302",115,0)
 ;;D^FREE TEXT
"RTN","ORY42302",116,0)
 ;;R^"864.1:",.02,"E"
"RTN","ORY42302",117,0)
 ;;D^FT
"RTN","ORY42302",118,0)
 ;;R^"864.1:",2,"E"
"RTN","ORY42302",119,0)
 ;;D^GENERIC
"RTN","ORY42302",120,0)
 ;;R^"864.1:","864.11:1",.01,"E"
"RTN","ORY42302",121,0)
 ;;D^VALUE CALL
"RTN","ORY42302",122,0)
 ;;R^"864.1:","864.11:1",1,"E"
"RTN","ORY42302",123,0)
 ;;D^FT^OCXFDFT
"RTN","ORY42302",124,0)
 ;;R^"864.1:","864.11:2",.01,"E"
"RTN","ORY42302",125,0)
 ;;D^QUERY
"RTN","ORY42302",126,0)
 ;;R^"864.1:","864.11:2",1,"E"
"RTN","ORY42302",127,0)
 ;;D^Enter a free text string
"RTN","ORY42302",128,0)
 ;;R^"864.1:","864.11:3",.01,"E"
"RTN","ORY42302",129,0)
 ;;D^FREE TEXT MAXIMUM LENGTH
"RTN","ORY42302",130,0)
 ;;R^"864.1:","864.11:3",1,"E"
"RTN","ORY42302",131,0)
 ;;D^240
"RTN","ORY42302",132,0)
 ;;R^"864.1:","864.11:4",.01,"E"
"RTN","ORY42302",133,0)
 ;;D^HELP MESSAGE
"RTN","ORY42302",134,0)
 ;;R^"864.1:","864.11:4",1,"E"
"RTN","ORY42302",135,0)
 ;;D^Enter a free text string.  Do not use control characters.  |FTMM HELP|
"RTN","ORY42302",136,0)
 ;;R^"864.1:","864.11:5",.01,"E"
"RTN","ORY42302",137,0)
 ;;D^LOOP QUERY
"RTN","ORY42302",138,0)
 ;;R^"864.1:","864.11:5",1,"E"
"RTN","ORY42302",139,0)
 ;;D^Enter another free text string
"RTN","ORY42302",140,0)
 ;;R^"864.1:","864.11:6",.01,"E"
"RTN","ORY42302",141,0)
 ;;D^REPEAT THE QUERY
"RTN","ORY42302",142,0)
 ;;R^"864.1:","864.11:6",1,"E"
"RTN","ORY42302",143,0)
 ;;D^0
"RTN","ORY42302",144,0)
 ;;EOR^
"RTN","ORY42302",145,0)
 ;;KEY^864.1:^GENERIC
"RTN","ORY42302",146,0)
 ;;R^"864.1:",.01,"E"
"RTN","ORY42302",147,0)
 ;;D^GENERIC
"RTN","ORY42302",148,0)
 ;;R^"864.1:",.02,"E"
"RTN","ORY42302",149,0)
 ;;D^GENERIC
"RTN","ORY42302",150,0)
 ;;R^"864.1:","864.11:11",.01,"E"
"RTN","ORY42302",151,0)
 ;;D^MANDATORY MESSAGE
"RTN","ORY42302",152,0)
 ;;R^"864.1:","864.11:11",1,"E"
"RTN","ORY42302",153,0)
 ;;D^This answer is mandatory.  Enter a response or press '^' to exit.
"RTN","ORY42302",154,0)
 ;;R^"864.1:","864.11:12",.01,"E"
"RTN","ORY42302",155,0)
 ;;D^TERMINATOR
"RTN","ORY42302",156,0)
 ;;R^"864.1:","864.11:12",1,"E"
"RTN","ORY42302",157,0)
 ;;D^:
"RTN","ORY42302",158,0)
 ;;R^"864.1:","864.11:13",.01,"E"
"RTN","ORY42302",159,0)
 ;;D^LOOP QUERY
"RTN","ORY42302",160,0)
 ;;R^"864.1:","864.11:13",1,"E"
"RTN","ORY42302",161,0)
 ;;D^Enter another value
"RTN","ORY42302",162,0)
 ;;R^"864.1:","864.11:7",.01,"E"
"RTN","ORY42302",163,0)
 ;;D^VALUE CALL
"RTN","ORY42302",164,0)
 ;;R^"864.1:","864.11:7",1,"E"
"RTN","ORY42302",165,0)
 ;;D^GEN^OCXFDMOM
"RTN","ORY42302",166,0)
 ;;R^"864.1:","864.11:8",.01,"E"
"RTN","ORY42302",167,0)
 ;;D^QUERY
"RTN","ORY42302",168,0)
 ;;R^"864.1:","864.11:8",1,"E"
"RTN","ORY42302",169,0)
 ;;D^Enter a value
"RTN","ORY42302",170,0)
 ;;R^"864.1:","864.11:9",.01,"E"
"RTN","ORY42302",171,0)
 ;;D^HELP MESSAGE
"RTN","ORY42302",172,0)
 ;;R^"864.1:","864.11:9",1,"E"
"RTN","ORY42302",173,0)
 ;;D^ 
"RTN","ORY42302",174,0)
 ;;EOR^
"RTN","ORY42302",175,0)
 ;;KEY^864.1:^NUMERIC
"RTN","ORY42302",176,0)
 ;;R^"864.1:",.01,"E"
"RTN","ORY42302",177,0)
 ;;D^NUMERIC
"RTN","ORY42302",178,0)
 ;;R^"864.1:",.02,"E"
"RTN","ORY42302",179,0)
 ;;D^NUMERIC
"RTN","ORY42302",180,0)
 ;;R^"864.1:",2,"E"
"RTN","ORY42302",181,0)
 ;;D^GENERIC
"RTN","ORY42302",182,0)
 ;;R^"864.1:","864.11:1",.01,"E"
"RTN","ORY42302",183,0)
 ;;D^VALUE CALL
"RTN","ORY42302",184,0)
 ;;R^"864.1:","864.11:1",1,"E"
"RTN","ORY42302",185,0)
 ;;D^NU^OCXFDNU
"RTN","ORY42302",186,0)
 ;;R^"864.1:","864.11:2",.01,"E"
"RTN","ORY42302",187,0)
 ;;D^QUERY
"RTN","ORY42302",188,0)
 ;;R^"864.1:","864.11:2",1,"E"
"RTN","ORY42302",189,0)
 ;;D^Enter a number
"RTN","ORY42302",190,0)
 ;;R^"864.1:","864.11:3",.01,"E"
"RTN","ORY42302",191,0)
 ;;D^LOOP QUERY
"RTN","ORY42302",192,0)
 ;;R^"864.1:","864.11:3",1,"E"
"RTN","ORY42302",193,0)
 ;;D^Enter another number
"RTN","ORY42302",194,0)
 ;;R^"864.1:","864.11:4",.01,"E"
"RTN","ORY42302",195,0)
 ;;D^REPEAT THE QUERY
"RTN","ORY42302",196,0)
 ;;R^"864.1:","864.11:4",1,"E"
"RTN","ORY42302",197,0)
 ;;D^0
"RTN","ORY42302",198,0)
 ;;EOR^
"RTN","ORY42302",199,0)
 ;;EOF^OCXS(864.1)^1
"RTN","ORY42302",200,0)
 ;;SOF^863.7  OCX MDD PUBLIC FUNCTION
"RTN","ORY42302",201,0)
 ;;KEY^863.7:^GCC BOOLEAN LOGICAL TRUE
"RTN","ORY42302",202,0)
 ;;R^"863.7:",.01,"E"
"RTN","ORY42302",203,0)
 ;;D^GCC BOOLEAN LOGICAL TRUE
"RTN","ORY42302",204,0)
 ;;R^"863.7:",.02,"E"
"RTN","ORY42302",205,0)
 ;;D^EXTRINSIC FUNCTION
"RTN","ORY42302",206,0)
 ;;R^"863.7:",3,"E"
"RTN","ORY42302",207,0)
 ;;D^TRUE^OCXF23
"RTN","ORY42302",208,0)
 ;;R^"863.7:","863.74:1",.01,"E"
"RTN","ORY42302",209,0)
 ;;D^PRIMARY DATA FIELD
"RTN","ORY42302",210,0)
 ;;R^"863.7:","863.74:1",1.1,"E"
"RTN","ORY42302",211,0)
 ;;D^1
"RTN","ORY42302",212,0)
 ;;EOR^
"RTN","ORY42302",213,0)
 ;;KEY^863.7:^GCC FREE TEXT EQUALS
"RTN","ORY42302",214,0)
 ;;R^"863.7:",.01,"E"
"RTN","ORY42302",215,0)
 ;;D^GCC FREE TEXT EQUALS
"RTN","ORY42302",216,0)
 ;;R^"863.7:",.02,"E"
"RTN","ORY42302",217,0)
 ;;D^EXTRINSIC FUNCTION
"RTN","ORY42302",218,0)
 ;;R^"863.7:",3,"E"
"RTN","ORY42302",219,0)
 ;;D^AEQ^OCXF22
"RTN","ORY42302",220,0)
 ;;R^"863.7:","863.74:1",.01,"E"
"RTN","ORY42302",221,0)
 ;;D^PRIMARY DATA FIELD
"RTN","ORY42302",222,0)
 ;;R^"863.7:","863.74:1",1.1,"E"
"RTN","ORY42302",223,0)
 ;;D^1
"RTN","ORY42302",224,0)
 ;;R^"863.7:","863.74:2",.01,"E"
"RTN","ORY42302",225,0)
 ;;D^COMPARISON VALUE
"RTN","ORY42302",226,0)
 ;;R^"863.7:","863.74:2",1.1,"E"
"RTN","ORY42302",227,0)
 ;;D^2
"RTN","ORY42302",228,0)
 ;;EOR^
"RTN","ORY42302",229,0)
 ;;KEY^863.7:^GCC FREE TEXT EQUALS ELEMENT IN SET
"RTN","ORY42302",230,0)
 ;;R^"863.7:",.01,"E"
"RTN","ORY42302",231,0)
 ;;D^GCC FREE TEXT EQUALS ELEMENT IN SET
"RTN","ORY42302",232,0)
 ;;R^"863.7:",.02,"E"
"RTN","ORY42302",233,0)
 ;;D^EXTRINSIC FUNCTION
"RTN","ORY42302",234,0)
 ;;R^"863.7:",3,"E"
"RTN","ORY42302",235,0)
 ;;D^EQSET^OCXF22
"RTN","ORY42302",236,0)
 ;;R^"863.7:","863.74:1",.01,"E"
"RTN","ORY42302",237,0)
 ;;D^PRIMARY DATA FIELD
"RTN","ORY42302",238,0)
 ;;R^"863.7:","863.74:1",1.1,"E"
"RTN","ORY42302",239,0)
 ;;D^1
"RTN","ORY42302",240,0)
 ;;R^"863.7:","863.74:2",.01,"E"
"RTN","ORY42302",241,0)
 ;;D^COMPARISON VALUE
"RTN","ORY42302",242,0)
 ;;R^"863.7:","863.74:2",1.1,"E"
"RTN","ORY42302",243,0)
 ;;D^2
"RTN","ORY42302",244,0)
 ;;EOR^
"RTN","ORY42302",245,0)
 ;;EOF^OCXS(863.7)^1
"RTN","ORY42302",246,0)
 ;;SOF^863.9  OCX MDD CONDITION/FUNCTION
"RTN","ORY42302",247,0)
 ;;KEY^863.9:^EQ FREE TEXT
"RTN","ORY42302",248,0)
 ;;R^"863.9:",.01,"E"
"RTN","ORY42302",249,0)
 ;;D^EQ FREE TEXT
"RTN","ORY42302",250,0)
 ;;R^"863.9:",.02,"E"
"RTN","ORY42302",251,0)
 ;;D^FREE TEXT
"RTN","ORY42302",252,0)
 ;;R^"863.9:",.04,"E"
"RTN","ORY42302",253,0)
 ;;D^IS EQUAL TO
"RTN","ORY42302",254,0)
 ;;R^"863.9:","863.91:3",.01,"E"
"RTN","ORY42302",255,0)
 ;;D^OCXO GENERATE CODE FUNCTION
"RTN","ORY42302",256,0)
 ;;R^"863.9:","863.91:3",1,"E"
"RTN","ORY42302",257,0)
 ;;D^GCC FREE TEXT EQUALS
"RTN","ORY42302",258,0)
 ;;R^"863.9:","863.92:1",.01,"E"
"RTN","ORY42302",259,0)
 ;;D^EQUALS
"RTN","ORY42302",260,0)
 ;;EOR^
"RTN","ORY42302",261,0)
 ;;KEY^863.9:^EQUALS ELEMENT IN SET
"RTN","ORY42302",262,0)
 ;;R^"863.9:",.01,"E"
"RTN","ORY42302",263,0)
 ;;D^EQUALS ELEMENT IN SET
"RTN","ORY42302",264,0)
 ;;R^"863.9:",.02,"E"
"RTN","ORY42302",265,0)
 ;;D^FREE TEXT
"RTN","ORY42302",266,0)
 ;;R^"863.9:",.04,"E"
"RTN","ORY42302",267,0)
 ;;D^EQUALS AN ELEMENT IN THE SET
"RTN","ORY42302",268,0)
 ;;R^"863.9:","863.91:1",.01,"E"
"RTN","ORY42302",269,0)
 ;;D^OCXO GENERATE CODE FUNCTION
"RTN","ORY42302",270,0)
 ;;R^"863.9:","863.91:1",1,"E"
"RTN","ORY42302",271,0)
 ;;D^GCC FREE TEXT EQUALS ELEMENT IN SET
"RTN","ORY42302",272,0)
 ;;EOR^
"RTN","ORY42302",273,0)
 ;;KEY^863.9:^LOGICAL TRUE
"RTN","ORY42302",274,0)
 ;;R^"863.9:",.01,"E"
"RTN","ORY42302",275,0)
 ;;D^LOGICAL TRUE
"RTN","ORY42302",276,0)
 ;;R^"863.9:",.02,"E"
"RTN","ORY42302",277,0)
 ;;D^BOOLEAN
"RTN","ORY42302",278,0)
 ;;R^"863.9:",.03,"E"
"RTN","ORY42302",279,0)
 ;;D^GCC BOOLEAN LOGICAL TRUE
"RTN","ORY42302",280,0)
 ;;R^"863.9:",.04,"E"
"RTN","ORY42302",281,0)
 ;;D^IS TRUE
"RTN","ORY42302",282,0)
 ;;R^"863.9:","863.91:1",.01,"E"
"RTN","ORY42302",283,0)
 ;;D^OCXO GENERATE CODE FUNCTION
"RTN","ORY42302",284,0)
 ;;R^"863.9:","863.91:1",1,"E"
"RTN","ORY42302",285,0)
 ;;D^GCC BOOLEAN LOGICAL TRUE
"RTN","ORY42302",286,0)
 ;;R^"863.9:","863.92:1",.01,"E"
"RTN","ORY42302",287,0)
 ;;D^TRUE
"RTN","ORY42302",288,0)
 ;;EOR^
"RTN","ORY42302",289,0)
 ;;EOF^OCXS(863.9)^1
"RTN","ORY42302",290,0)
 ;;SOF^863.4  OCX MDD ATTRIBUTE
"RTN","ORY42302",291,0)
 ;;KEY^863.4:^HL7 CONTROL CODE
"RTN","ORY42302",292,0)
 ;;R^"863.4:",.01,"E"
"RTN","ORY42302",293,0)
 ;;D^HL7 CONTROL CODE
"RTN","ORY42302",294,0)
 ;;R^"863.4:",.02,"E"
"RTN","ORY42302",295,0)
 ;;D^HL7CCODE
"RTN","ORY42302",296,0)
 ;;R^"863.4:","863.41:1",.01,"E"
"RTN","ORY42302",297,0)
 ;;D^DATA TYPE
"RTN","ORY42302",298,0)
 ;;R^"863.4:","863.41:1",1,"E"
"RTN","ORY42302",299,0)
 ;;D^FREE TEXT
"RTN","ORY42302",300,0)
 ;;EOR^
"RTN","ORY42302",301,0)
 ;;KEY^863.4:^IEN
"RTN","ORY42302",302,0)
 ;;R^"863.4:",.01,"E"
"RTN","ORY42302",303,0)
 ;;D^IEN
"RTN","ORY42302",304,0)
 ;;R^"863.4:","863.41:1",.01,"E"
"RTN","ORY42302",305,0)
 ;;D^DATA TYPE
"RTN","ORY42302",306,0)
 ;;R^"863.4:","863.41:1",1,"E"
"RTN","ORY42302",307,0)
 ;;D^NUMERIC
"RTN","ORY42302",308,0)
 ;;EOR^
"RTN","ORY42302",309,0)
 ;;KEY^863.4:^INPT/OUTPT
"RTN","ORY42302",310,0)
 ;;R^"863.4:",.01,"E"
"RTN","ORY42302",311,0)
 ;;D^INPT/OUTPT
"RTN","ORY42302",312,0)
 ;;R^"863.4:","863.41:1",.01,"E"
"RTN","ORY42302",313,0)
 ;;D^DATA TYPE
"RTN","ORY42302",314,0)
 ;;R^"863.4:","863.41:1",1,"E"
"RTN","ORY42302",315,0)
 ;;D^FREE TEXT
"RTN","ORY42302",316,0)
 ;;EOR^
"RTN","ORY42302",317,0)
 ;;KEY^863.4:^ORDER NUMBER
"RTN","ORY42302",318,0)
 ;;R^"863.4:",.01,"E"
"RTN","ORY42302",319,0)
 ;;D^ORDER NUMBER
"RTN","ORY42302",320,0)
 ;;R^"863.4:","863.41:1",.01,"E"
"RTN","ORY42302",321,0)
 ;;D^DATA TYPE
"RTN","ORY42302",322,0)
 ;;R^"863.4:","863.41:1",1,"E"
"RTN","ORY42302",323,0)
 ;;D^NUMERIC
"RTN","ORY42302",324,0)
 ;;EOR^
"RTN","ORY42302",325,0)
 ;;KEY^863.4:^ORDER PATIENT
"RTN","ORY42302",326,0)
 ;;R^"863.4:",.01,"E"
"RTN","ORY42302",327,0)
 ;1;
"RTN","ORY42302",328,0)
 ;
"RTN","ORY42303")
0^11^B82195528
"RTN","ORY42303",1,0)
ORY42303 ;SLC/RJS,CLA - OCX PACKAGE RULE TRANSPORT ROUTINE (Delete after Install of OR*3*423) ;JUN 29,2016 at 06:15
"RTN","ORY42303",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17,1997;Build 19
"RTN","ORY42303",3,0)
 ;;  ;;ORDER CHECK EXPERT version 1.01 released OCT 29,1998
"RTN","ORY42303",4,0)
 ;
"RTN","ORY42303",5,0)
S ;
"RTN","ORY42303",6,0)
 ;
"RTN","ORY42303",7,0)
 D DOT^ORY423ES
"RTN","ORY42303",8,0)
 ;
"RTN","ORY42303",9,0)
 ;
"RTN","ORY42303",10,0)
 K REMOTE,LOCAL,OPCODE,REF
"RTN","ORY42303",11,0)
 F LINE=1:1:500 S TEXT=$P($T(DATA+LINE),";",2,999) Q:TEXT  I $L(TEXT) D  Q:QUIT
"RTN","ORY42303",12,0)
 .S ^TMP("OCXRULE",$J,$O(^TMP("OCXRULE",$J,"A"),-1)+1)=TEXT
"RTN","ORY42303",13,0)
 ;
"RTN","ORY42303",14,0)
 G ^ORY42304
"RTN","ORY42303",15,0)
 ;
"RTN","ORY42303",16,0)
 Q
"RTN","ORY42303",17,0)
 ;
"RTN","ORY42303",18,0)
DATA ;
"RTN","ORY42303",19,0)
 ;
"RTN","ORY42303",20,0)
 ;;D^ORDER PATIENT
"RTN","ORY42303",21,0)
 ;;R^"863.4:","863.41:1",.01,"E"
"RTN","ORY42303",22,0)
 ;;D^DATA TYPE
"RTN","ORY42303",23,0)
 ;;R^"863.4:","863.41:1",1,"E"
"RTN","ORY42303",24,0)
 ;;D^NUMERIC
"RTN","ORY42303",25,0)
 ;;EOR^
"RTN","ORY42303",26,0)
 ;;KEY^863.4:^ORDER TYPE
"RTN","ORY42303",27,0)
 ;;R^"863.4:",.01,"E"
"RTN","ORY42303",28,0)
 ;;D^ORDER TYPE
"RTN","ORY42303",29,0)
 ;;R^"863.4:","863.41:1",.01,"E"
"RTN","ORY42303",30,0)
 ;;D^DATA TYPE
"RTN","ORY42303",31,0)
 ;;R^"863.4:","863.41:1",1,"E"
"RTN","ORY42303",32,0)
 ;;D^FREE TEXT
"RTN","ORY42303",33,0)
 ;;EOR^
"RTN","ORY42303",34,0)
 ;;KEY^863.4:^SITE FLAG ORDER
"RTN","ORY42303",35,0)
 ;;R^"863.4:",.01,"E"
"RTN","ORY42303",36,0)
 ;;D^SITE FLAG ORDER
"RTN","ORY42303",37,0)
 ;;R^"863.4:","863.41:1",.01,"E"
"RTN","ORY42303",38,0)
 ;;D^DATA TYPE
"RTN","ORY42303",39,0)
 ;;R^"863.4:","863.41:1",1,"E"
"RTN","ORY42303",40,0)
 ;;D^BOOLEAN
"RTN","ORY42303",41,0)
 ;;EOR^
"RTN","ORY42303",42,0)
 ;;EOF^OCXS(863.4)^1
"RTN","ORY42303",43,0)
 ;;SOF^863.2  OCX MDD SUBJECT
"RTN","ORY42303",44,0)
 ;;KEY^863.2:^PATIENT
"RTN","ORY42303",45,0)
 ;;R^"863.2:",.01,"E"
"RTN","ORY42303",46,0)
 ;;D^PATIENT
"RTN","ORY42303",47,0)
 ;;R^"863.2:","863.21:1",.01,"E"
"RTN","ORY42303",48,0)
 ;;D^FILE
"RTN","ORY42303",49,0)
 ;;R^"863.2:","863.21:1",1,"E"
"RTN","ORY42303",50,0)
 ;;D^2
"RTN","ORY42303",51,0)
 ;;EOR^
"RTN","ORY42303",52,0)
 ;;EOF^OCXS(863.2)^1
"RTN","ORY42303",53,0)
 ;;SOF^863.3  OCX MDD LINK
"RTN","ORY42303",54,0)
 ;;KEY^863.3:^ORDER TYPE
"RTN","ORY42303",55,0)
 ;;R^"863.3:",.01,"E"
"RTN","ORY42303",56,0)
 ;;D^ORDER TYPE
"RTN","ORY42303",57,0)
 ;;R^"863.3:",.02,"E"
"RTN","ORY42303",58,0)
 ;;D^PATIENT
"RTN","ORY42303",59,0)
 ;;R^"863.3:",.05,"E"
"RTN","ORY42303",60,0)
 ;;D^ORDER TYPE
"RTN","ORY42303",61,0)
 ;;R^"863.3:","863.32:1",.01,"E"
"RTN","ORY42303",62,0)
 ;;D^OCXO EXTERNAL FUNCTION CALL
"RTN","ORY42303",63,0)
 ;;R^"863.3:","863.32:1",1,"E"
"RTN","ORY42303",64,0)
 ;;D^ISCLORIP^ORB3F1(|ORDER NUMBER|,|INPT/OUTPT|)
"RTN","ORY42303",65,0)
 ;;R^"863.3:","863.32:2",.01,"E"
"RTN","ORY42303",66,0)
 ;;D^OCXO UP-ARROW PIECE NUMBER
"RTN","ORY42303",67,0)
 ;;R^"863.3:","863.32:2",1,"E"
"RTN","ORY42303",68,0)
 ;;D^1
"RTN","ORY42303",69,0)
 ;;EOR^
"RTN","ORY42303",70,0)
 ;;KEY^863.3:^PATIENT.HL7 ORDER NUMBER
"RTN","ORY42303",71,0)
 ;;R^"863.3:",.01,"E"
"RTN","ORY42303",72,0)
 ;;D^PATIENT.HL7 ORDER NUMBER
"RTN","ORY42303",73,0)
 ;;R^"863.3:",.02,"E"
"RTN","ORY42303",74,0)
 ;;D^PATIENT
"RTN","ORY42303",75,0)
 ;;R^"863.3:",.04,"E"
"RTN","ORY42303",76,0)
 ;;D^HL7
"RTN","ORY42303",77,0)
 ;;R^"863.3:",.05,"E"
"RTN","ORY42303",78,0)
 ;;D^ORDER NUMBER
"RTN","ORY42303",79,0)
 ;;R^"863.3:",.06,"E"
"RTN","ORY42303",80,0)
 ;;D^99
"RTN","ORY42303",81,0)
 ;;R^"863.3:","863.32:1",.01,"E"
"RTN","ORY42303",82,0)
 ;;D^OCXO VARIABLE NAME
"RTN","ORY42303",83,0)
 ;;R^"863.3:","863.32:1",1,"E"
"RTN","ORY42303",84,0)
 ;;D^OCXODATA("ORC",2)
"RTN","ORY42303",85,0)
 ;;R^"863.3:","863.32:2",.01,"E"
"RTN","ORY42303",86,0)
 ;;D^OCXO VT-BAR PIECE NUMBER
"RTN","ORY42303",87,0)
 ;;R^"863.3:","863.32:3",.01,"E"
"RTN","ORY42303",88,0)
 ;;D^OCXO UP-ARROW PIECE NUMBER
"RTN","ORY42303",89,0)
 ;;R^"863.3:","863.32:3",1,"E"
"RTN","ORY42303",90,0)
 ;;D^1
"RTN","ORY42303",91,0)
 ;;R^"863.3:","863.32:4",.01,"E"
"RTN","ORY42303",92,0)
 ;;D^OCXO SEMI-COLON PIECE NUMBER
"RTN","ORY42303",93,0)
 ;;R^"863.3:","863.32:5",.01,"E"
"RTN","ORY42303",94,0)
 ;;D^OCXO HL7 SEGMENT ID
"RTN","ORY42303",95,0)
 ;;EOR^
"RTN","ORY42303",96,0)
 ;;KEY^863.3:^PATIENT.HL7_CONTROL_CODE
"RTN","ORY42303",97,0)
 ;;R^"863.3:",.01,"E"
"RTN","ORY42303",98,0)
 ;;D^PATIENT.HL7_CONTROL_CODE
"RTN","ORY42303",99,0)
 ;;R^"863.3:",.02,"E"
"RTN","ORY42303",100,0)
 ;;D^PATIENT
"RTN","ORY42303",101,0)
 ;;R^"863.3:",.04,"E"
"RTN","ORY42303",102,0)
 ;;D^HL7
"RTN","ORY42303",103,0)
 ;;R^"863.3:",.05,"E"
"RTN","ORY42303",104,0)
 ;;D^HL7 CONTROL CODE
"RTN","ORY42303",105,0)
 ;;R^"863.3:","863.32:1",.01,"E"
"RTN","ORY42303",106,0)
 ;;D^OCXO VARIABLE NAME
"RTN","ORY42303",107,0)
 ;;R^"863.3:","863.32:1",1,"E"
"RTN","ORY42303",108,0)
 ;;D^OCXODATA("ORC",1)
"RTN","ORY42303",109,0)
 ;;R^"863.3:","863.32:2",.01,"E"
"RTN","ORY42303",110,0)
 ;;D^OCXO VT-BAR PIECE NUMBER
"RTN","ORY42303",111,0)
 ;;R^"863.3:","863.32:3",.01,"E"
"RTN","ORY42303",112,0)
 ;;D^OCXO UP-ARROW PIECE NUMBER
"RTN","ORY42303",113,0)
 ;;R^"863.3:","863.32:3",1,"E"
"RTN","ORY42303",114,0)
 ;;D^1
"RTN","ORY42303",115,0)
 ;;R^"863.3:","863.32:4",.01,"E"
"RTN","ORY42303",116,0)
 ;;D^OCXO HL7 SEGMENT ID
"RTN","ORY42303",117,0)
 ;;R^"863.3:","863.32:5",.01,"E"
"RTN","ORY42303",118,0)
 ;;D^OCXO DATA DRIVE SOURCE
"RTN","ORY42303",119,0)
 ;;R^"863.3:","863.32:5",1,"E"
"RTN","ORY42303",120,0)
 ;;D^HL7
"RTN","ORY42303",121,0)
 ;;EOR^
"RTN","ORY42303",122,0)
 ;;KEY^863.3:^PATIENT.HL7_PATIENT_ID
"RTN","ORY42303",123,0)
 ;;R^"863.3:",.01,"E"
"RTN","ORY42303",124,0)
 ;;D^PATIENT.HL7_PATIENT_ID
"RTN","ORY42303",125,0)
 ;;R^"863.3:",.02,"E"
"RTN","ORY42303",126,0)
 ;;D^PATIENT
"RTN","ORY42303",127,0)
 ;;R^"863.3:",.04,"E"
"RTN","ORY42303",128,0)
 ;;D^HL7
"RTN","ORY42303",129,0)
 ;;R^"863.3:",.05,"E"
"RTN","ORY42303",130,0)
 ;;D^IEN
"RTN","ORY42303",131,0)
 ;;R^"863.3:",.06,"E"
"RTN","ORY42303",132,0)
 ;;D^99
"RTN","ORY42303",133,0)
 ;;R^"863.3:","863.32:1",.01,"E"
"RTN","ORY42303",134,0)
 ;;D^OCXO HL7 SEGMENT ID
"RTN","ORY42303",135,0)
 ;;R^"863.3:","863.32:2",.01,"E"
"RTN","ORY42303",136,0)
 ;;D^OCXO VT-BAR PIECE NUMBER
"RTN","ORY42303",137,0)
 ;;R^"863.3:","863.32:3",.01,"E"
"RTN","ORY42303",138,0)
 ;;D^OCXO VARIABLE NAME
"RTN","ORY42303",139,0)
 ;;R^"863.3:","863.32:3",1,"E"
"RTN","ORY42303",140,0)
 ;;D^OCXODATA("PID",3)
"RTN","ORY42303",141,0)
 ;;EOR^
"RTN","ORY42303",142,0)
 ;;KEY^863.3:^PATIENT.IEN
"RTN","ORY42303",143,0)
 ;;R^"863.3:",.01,"E"
"RTN","ORY42303",144,0)
 ;;D^PATIENT.IEN
"RTN","ORY42303",145,0)
 ;;R^"863.3:",.02,"E"
"RTN","ORY42303",146,0)
 ;;D^PATIENT
"RTN","ORY42303",147,0)
 ;;R^"863.3:",.05,"E"
"RTN","ORY42303",148,0)
 ;;D^IEN
"RTN","ORY42303",149,0)
 ;;R^"863.3:",.06,"E"
"RTN","ORY42303",150,0)
 ;;D^99
"RTN","ORY42303",151,0)
 ;;R^"863.3:","863.32:1",.01,"E"
"RTN","ORY42303",152,0)
 ;;D^OCXO VARIABLE NAME
"RTN","ORY42303",153,0)
 ;;R^"863.3:","863.32:1",1,"E"
"RTN","ORY42303",154,0)
 ;;D^DFN
"RTN","ORY42303",155,0)
 ;;EOR^
"RTN","ORY42303",156,0)
 ;;KEY^863.3:^PATIENT.INPT/OUTPT
"RTN","ORY42303",157,0)
 ;;R^"863.3:",.01,"E"
"RTN","ORY42303",158,0)
 ;;D^PATIENT.INPT/OUTPT
"RTN","ORY42303",159,0)
 ;;R^"863.3:",.02,"E"
"RTN","ORY42303",160,0)
 ;;D^PATIENT
"RTN","ORY42303",161,0)
 ;;R^"863.3:",.05,"E"
"RTN","ORY42303",162,0)
 ;;D^INPT/OUTPT
"RTN","ORY42303",163,0)
 ;;R^"863.3:",.06,"E"
"RTN","ORY42303",164,0)
 ;;D^668
"RTN","ORY42303",165,0)
 ;;R^"863.3:","863.32:1",.01,"E"
"RTN","ORY42303",166,0)
 ;;D^OCXO EXTERNAL FUNCTION CALL
"RTN","ORY42303",167,0)
 ;;R^"863.3:","863.32:1",1,"E"
"RTN","ORY42303",168,0)
 ;;D^PATLOC(|PATIENT IEN|)
"RTN","ORY42303",169,0)
 ;;R^"863.3:","863.32:2",.01,"E"
"RTN","ORY42303",170,0)
 ;;D^OCXO UP-ARROW PIECE NUMBER
"RTN","ORY42303",171,0)
 ;;R^"863.3:","863.32:2",1,"E"
"RTN","ORY42303",172,0)
 ;;D^1
"RTN","ORY42303",173,0)
 ;;EOR^
"RTN","ORY42303",174,0)
 ;;KEY^863.3:^PATIENT.OERR ORDER NUMBER
"RTN","ORY42303",175,0)
 ;;R^"863.3:",.01,"E"
"RTN","ORY42303",176,0)
 ;;D^PATIENT.OERR ORDER NUMBER
"RTN","ORY42303",177,0)
 ;;R^"863.3:",.02,"E"
"RTN","ORY42303",178,0)
 ;;D^PATIENT
"RTN","ORY42303",179,0)
 ;;R^"863.3:",.04,"E"
"RTN","ORY42303",180,0)
 ;;D^ORD
"RTN","ORY42303",181,0)
 ;;R^"863.3:",.05,"E"
"RTN","ORY42303",182,0)
 ;;D^ORDER NUMBER
"RTN","ORY42303",183,0)
 ;;R^"863.3:",.06,"E"
"RTN","ORY42303",184,0)
 ;;D^99
"RTN","ORY42303",185,0)
 ;;R^"863.3:","863.32:1",.01,"E"
"RTN","ORY42303",186,0)
 ;;D^OCXO VARIABLE NAME
"RTN","ORY42303",187,0)
 ;;R^"863.3:","863.32:1",1,"E"
"RTN","ORY42303",188,0)
 ;;D^OCXORD
"RTN","ORY42303",189,0)
 ;;R^"863.3:","863.32:2",.01,"E"
"RTN","ORY42303",190,0)
 ;;D^OCXO UP-ARROW PIECE NUMBER
"RTN","ORY42303",191,0)
 ;;R^"863.3:","863.32:2",1,"E"
"RTN","ORY42303",192,0)
 ;;D^2
"RTN","ORY42303",193,0)
 ;;EOR^
"RTN","ORY42303",194,0)
 ;;KEY^863.3:^PATIENT.OERR_ORDER_PATIENT
"RTN","ORY42303",195,0)
 ;;R^"863.3:",.01,"E"
"RTN","ORY42303",196,0)
 ;;D^PATIENT.OERR_ORDER_PATIENT
"RTN","ORY42303",197,0)
 ;;R^"863.3:",.02,"E"
"RTN","ORY42303",198,0)
 ;;D^PATIENT
"RTN","ORY42303",199,0)
 ;;R^"863.3:",.05,"E"
"RTN","ORY42303",200,0)
 ;;D^ORDER PATIENT
"RTN","ORY42303",201,0)
 ;;R^"863.3:",.06,"E"
"RTN","ORY42303",202,0)
 ;;D^5567
"RTN","ORY42303",203,0)
 ;;R^"863.3:","863.32:1",.01,"E"
"RTN","ORY42303",204,0)
 ;;D^OCXO VARIABLE NAME
"RTN","ORY42303",205,0)
 ;;R^"863.3:","863.32:1",1,"E"
"RTN","ORY42303",206,0)
 ;;D^OCXORD
"RTN","ORY42303",207,0)
 ;;R^"863.3:","863.32:2",.01,"E"
"RTN","ORY42303",208,0)
 ;;D^OCXO UP-ARROW PIECE NUMBER
"RTN","ORY42303",209,0)
 ;;R^"863.3:","863.32:2",1,"E"
"RTN","ORY42303",210,0)
 ;;D^1
"RTN","ORY42303",211,0)
 ;;EOR^
"RTN","ORY42303",212,0)
 ;;KEY^863.3:^PATIENT.OPS_ORDER NUMBER
"RTN","ORY42303",213,0)
 ;;R^"863.3:",.01,"E"
"RTN","ORY42303",214,0)
 ;;D^PATIENT.OPS_ORDER NUMBER
"RTN","ORY42303",215,0)
 ;;R^"863.3:",.02,"E"
"RTN","ORY42303",216,0)
 ;;D^PATIENT
"RTN","ORY42303",217,0)
 ;;R^"863.3:",.04,"E"
"RTN","ORY42303",218,0)
 ;;D^OPS
"RTN","ORY42303",219,0)
 ;;R^"863.3:",.05,"E"
"RTN","ORY42303",220,0)
 ;;D^ORDER NUMBER
"RTN","ORY42303",221,0)
 ;;R^"863.3:",.06,"E"
"RTN","ORY42303",222,0)
 ;;D^99
"RTN","ORY42303",223,0)
 ;;R^"863.3:","863.32:1",.01,"E"
"RTN","ORY42303",224,0)
 ;;D^OCXO VARIABLE NAME
"RTN","ORY42303",225,0)
 ;;R^"863.3:","863.32:1",1,"E"
"RTN","ORY42303",226,0)
 ;;D^OCXPSD
"RTN","ORY42303",227,0)
 ;;R^"863.3:","863.32:2",.01,"E"
"RTN","ORY42303",228,0)
 ;;D^OCXO VT-BAR PIECE NUMBER
"RTN","ORY42303",229,0)
 ;;R^"863.3:","863.32:2",1,"E"
"RTN","ORY42303",230,0)
 ;;D^4
"RTN","ORY42303",231,0)
 ;;EOR^
"RTN","ORY42303",232,0)
 ;;KEY^863.3:^PATIENT.SITE_FLAGGED_ORDER
"RTN","ORY42303",233,0)
 ;;R^"863.3:",.01,"E"
"RTN","ORY42303",234,0)
 ;;D^PATIENT.SITE_FLAGGED_ORDER
"RTN","ORY42303",235,0)
 ;;R^"863.3:",.02,"E"
"RTN","ORY42303",236,0)
 ;;D^PATIENT
"RTN","ORY42303",237,0)
 ;;R^"863.3:",.05,"E"
"RTN","ORY42303",238,0)
 ;;D^SITE FLAG ORDER
"RTN","ORY42303",239,0)
 ;;R^"863.3:",.06,"E"
"RTN","ORY42303",240,0)
 ;;D^999
"RTN","ORY42303",241,0)
 ;;R^"863.3:","863.32:1",.01,"E"
"RTN","ORY42303",242,0)
 ;;D^OCXO EXTERNAL FUNCTION CALL
"RTN","ORY42303",243,0)
 ;;R^"863.3:","863.32:1",1,"E"
"RTN","ORY42303",244,0)
 ;;D^SITEORD^ORB3F1(|ORDER NUMBER|,|INPT/OUTPT|)
"RTN","ORY42303",245,0)
 ;;EOR^
"RTN","ORY42303",246,0)
 ;;EOF^OCXS(863.3)^1
"RTN","ORY42303",247,0)
 ;;SOF^860.9  ORDER CHECK NATIONAL TERM
"RTN","ORY42303",248,0)
 ;;KEY^860.9:^ANGIOGRAM (PERIPHERAL)
"RTN","ORY42303",249,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",250,0)
 ;;D^ANGIOGRAM (PERIPHERAL)
"RTN","ORY42303",251,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",252,0)
 ;;D^101.43
"RTN","ORY42303",253,0)
 ;;EOR^
"RTN","ORY42303",254,0)
 ;;KEY^860.9:^BLOOD SPECIMEN
"RTN","ORY42303",255,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",256,0)
 ;;D^BLOOD SPECIMEN
"RTN","ORY42303",257,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",258,0)
 ;;D^61
"RTN","ORY42303",259,0)
 ;;EOR^
"RTN","ORY42303",260,0)
 ;;KEY^860.9:^DANGEROUS MEDS FOR PTS > 64
"RTN","ORY42303",261,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",262,0)
 ;;D^DANGEROUS MEDS FOR PTS > 64
"RTN","ORY42303",263,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",264,0)
 ;;D^101.43
"RTN","ORY42303",265,0)
 ;;R^"860.9:",2,"E"
"RTN","ORY42303",266,0)
 ;;D^I $P($G(^ORD(100.98,$P($G(^ORD(101.43,+Y,0)),U,5),0)),U)="PHARMACY"
"RTN","ORY42303",267,0)
 ;;EOR^
"RTN","ORY42303",268,0)
 ;;KEY^860.9:^DNR
"RTN","ORY42303",269,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",270,0)
 ;;D^DNR
"RTN","ORY42303",271,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",272,0)
 ;;D^101.43
"RTN","ORY42303",273,0)
 ;;EOR^
"RTN","ORY42303",274,0)
 ;;KEY^860.9:^EGFR
"RTN","ORY42303",275,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",276,0)
 ;;D^EGFR
"RTN","ORY42303",277,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",278,0)
 ;;D^60
"RTN","ORY42303",279,0)
 ;;EOR^
"RTN","ORY42303",280,0)
 ;;KEY^860.9:^FOOD-DRUG INTERACTION MED
"RTN","ORY42303",281,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",282,0)
 ;;D^FOOD-DRUG INTERACTION MED
"RTN","ORY42303",283,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",284,0)
 ;;D^101.43
"RTN","ORY42303",285,0)
 ;;R^"860.9:",2,"E"
"RTN","ORY42303",286,0)
 ;;D^I $P($G(^ORD(100.98,$P($G(^ORD(101.43,+Y,0)),U,5),0)),U)="PHARMACY"
"RTN","ORY42303",287,0)
 ;;EOR^
"RTN","ORY42303",288,0)
 ;;KEY^860.9:^NPO
"RTN","ORY42303",289,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",290,0)
 ;;D^NPO
"RTN","ORY42303",291,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",292,0)
 ;;D^101.43
"RTN","ORY42303",293,0)
 ;;EOR^
"RTN","ORY42303",294,0)
 ;;KEY^860.9:^ONE TIME MED
"RTN","ORY42303",295,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",296,0)
 ;;D^ONE TIME MED
"RTN","ORY42303",297,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",298,0)
 ;;D^51.1
"RTN","ORY42303",299,0)
 ;;R^"860.9:",2,"E"
"RTN","ORY42303",300,0)
 ;;D^I $E($P(^(0),U,4),1,2)="PS"
"RTN","ORY42303",301,0)
 ;;EOR^
"RTN","ORY42303",302,0)
 ;;KEY^860.9:^PARTIAL THROMBOPLASTIN TIME
"RTN","ORY42303",303,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",304,0)
 ;;D^PARTIAL THROMBOPLASTIN TIME
"RTN","ORY42303",305,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",306,0)
 ;;D^101.43
"RTN","ORY42303",307,0)
 ;;EOR^
"RTN","ORY42303",308,0)
 ;;KEY^860.9:^PROTHROMBIN TIME
"RTN","ORY42303",309,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",310,0)
 ;;D^PROTHROMBIN TIME
"RTN","ORY42303",311,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",312,0)
 ;;D^101.43
"RTN","ORY42303",313,0)
 ;;EOR^
"RTN","ORY42303",314,0)
 ;;KEY^860.9:^SERUM CREATININE
"RTN","ORY42303",315,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",316,0)
 ;;D^SERUM CREATININE
"RTN","ORY42303",317,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",318,0)
 ;;D^60
"RTN","ORY42303",319,0)
 ;;EOR^
"RTN","ORY42303",320,0)
 ;;KEY^860.9:^SERUM SPECIMEN
"RTN","ORY42303",321,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",322,0)
 ;;D^SERUM SPECIMEN
"RTN","ORY42303",323,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",324,0)
 ;;D^61
"RTN","ORY42303",325,0)
 ;;EOR^
"RTN","ORY42303",326,0)
 ;;KEY^860.9:^SERUM UREA NITROGEN
"RTN","ORY42303",327,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",328,0)
 ;;D^SERUM UREA NITROGEN
"RTN","ORY42303",329,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",330,0)
 ;;D^60
"RTN","ORY42303",331,0)
 ;;EOR^
"RTN","ORY42303",332,0)
 ;;KEY^860.9:^THROMBOPLASTIN TIME PARTIAL
"RTN","ORY42303",333,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",334,0)
 ;;D^THROMBOPLASTIN TIME PARTIAL
"RTN","ORY42303",335,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",336,0)
 ;;D^60
"RTN","ORY42303",337,0)
 ;;EOR^
"RTN","ORY42303",338,0)
 ;;KEY^860.9:^WBC
"RTN","ORY42303",339,0)
 ;;R^"860.9:",.01,"E"
"RTN","ORY42303",340,0)
 ;;D^WBC
"RTN","ORY42303",341,0)
 ;;R^"860.9:",.02,"E"
"RTN","ORY42303",342,0)
 ;;D^60
"RTN","ORY42303",343,0)
 ;;EOR^
"RTN","ORY42303",344,0)
 ;;EOF^OCXS(860.9)^1
"RTN","ORY42303",345,0)
 ;;SOF^860.8  ORDER CHECK COMPILER FUNCTIONS
"RTN","ORY42303",346,0)
 ;;KEY^860.8:^CONVERT DATE FROM FILEMAN FORMAT TO OCX FORMAT
"RTN","ORY42303",347,0)
 ;;R^"860.8:",.01,"E"
"RTN","ORY42303",348,0)
 ;1;
"RTN","ORY42303",349,0)
 ;
"RTN","ORY42304")
0^12^B57396163
"RTN","ORY42304",1,0)
ORY42304 ;SLC/RJS,CLA - OCX PACKAGE RULE TRANSPORT ROUTINE (Delete after Install of OR*3*423) ;JUN 29,2016 at 06:15
"RTN","ORY42304",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17,1997;Build 19
"RTN","ORY42304",3,0)
 ;;  ;;ORDER CHECK EXPERT version 1.01 released OCT 29,1998
"RTN","ORY42304",4,0)
 ;
"RTN","ORY42304",5,0)
S ;
"RTN","ORY42304",6,0)
 ;
"RTN","ORY42304",7,0)
 D DOT^ORY423ES
"RTN","ORY42304",8,0)
 ;
"RTN","ORY42304",9,0)
 ;
"RTN","ORY42304",10,0)
 K REMOTE,LOCAL,OPCODE,REF
"RTN","ORY42304",11,0)
 F LINE=1:1:500 S TEXT=$P($T(DATA+LINE),";",2,999) Q:TEXT  I $L(TEXT) D  Q:QUIT
"RTN","ORY42304",12,0)
 .S ^TMP("OCXRULE",$J,$O(^TMP("OCXRULE",$J,"A"),-1)+1)=TEXT
"RTN","ORY42304",13,0)
 ;
"RTN","ORY42304",14,0)
 G ^ORY42305
"RTN","ORY42304",15,0)
 ;
"RTN","ORY42304",16,0)
 Q
"RTN","ORY42304",17,0)
 ;
"RTN","ORY42304",18,0)
DATA ;
"RTN","ORY42304",19,0)
 ;
"RTN","ORY42304",20,0)
 ;;D^CONVERT DATE FROM FILEMAN FORMAT TO OCX FORMAT
"RTN","ORY42304",21,0)
 ;;R^"860.8:",.02,"E"
"RTN","ORY42304",22,0)
 ;;D^DT2INT
"RTN","ORY42304",23,0)
 ;;R^"860.8:",1,1
"RTN","ORY42304",24,0)
 ;;D^  ;DT2INT(OCXDT) ;      This Local Extrinsic Function converts a date into an integer
"RTN","ORY42304",25,0)
 ;;R^"860.8:",1,2
"RTN","ORY42304",26,0)
 ;;D^  ; ; By taking the Years, Months, Days, Hours and Minutes converting
"RTN","ORY42304",27,0)
 ;;R^"860.8:",1,3
"RTN","ORY42304",28,0)
 ;;D^  ; ; Them into Seconds and then adding them all together into one big integer
"RTN","ORY42304",29,0)
 ;;R^"860.8:",100,1
"RTN","ORY42304",30,0)
 ;;D^  ;DT2INT(OCXDT) ;      This Local Extrinsic Function converts a date into an integer
"RTN","ORY42304",31,0)
 ;;R^"860.8:",100,2
"RTN","ORY42304",32,0)
 ;;D^  ; ; By taking the Years, Months, Days, Hours and Minutes converting
"RTN","ORY42304",33,0)
 ;;R^"860.8:",100,3
"RTN","ORY42304",34,0)
 ;;D^  ; ; Them into Seconds and then adding them all together into one big integer
"RTN","ORY42304",35,0)
 ;;R^"860.8:",100,4
"RTN","ORY42304",36,0)
 ;;D^  ; ;
"RTN","ORY42304",37,0)
 ;;R^"860.8:",100,5
"RTN","ORY42304",38,0)
 ;;D^  ; Q:'$L($G(OCXDT)) ""
"RTN","ORY42304",39,0)
 ;;R^"860.8:",100,6
"RTN","ORY42304",40,0)
 ;;D^  ; N OCXDIFF,OCXVAL S (OCXDIFF,OCXVAL)=0
"RTN","ORY42304",41,0)
 ;;R^"860.8:",100,7
"RTN","ORY42304",42,0)
 ;;D^  ; ;
"RTN","ORY42304",43,0)
 ;;R^"860.8:",100,8
"RTN","ORY42304",44,0)
 ;;D^  ; I $L(OCXDT),'OCXDT,(OCXDT[" at ") D  ; EXTERNAL EXPERT SYSTEM FORMAT 1 TO EXTERNAL FORMAT
"RTN","ORY42304",45,0)
 ;;R^"860.8:",100,9
"RTN","ORY42304",46,0)
 ;;D^  ; .N OCXHR,OCXMIN,OCXTIME
"RTN","ORY42304",47,0)
 ;;R^"860.8:",100,10
"RTN","ORY42304",48,0)
 ;;D^  ; .S OCXTIME=$P($P(OCXDT," at ",2),".",1),OCXHR=$P(OCXTIME,":",1),OCXMIN=$P(OCXTIME,":",2)
"RTN","ORY42304",49,0)
 ;;R^"860.8:",100,11
"RTN","ORY42304",50,0)
 ;;D^  ; .S:(OCXDT["Midnight") OCXHR=00
"RTN","ORY42304",51,0)
 ;;R^"860.8:",100,12
"RTN","ORY42304",52,0)
 ;;D^  ; .S:(OCXDT["PM") OCXHR=OCXHR+12
"RTN","ORY42304",53,0)
 ;;R^"860.8:",100,13
"RTN","ORY42304",54,0)
 ;;D^  ; .S OCXDT=$P(OCXDT," at ")_"@"_$E(OCXHR+100,2,3)_$E(OCXMIN+100,2,3)
"RTN","ORY42304",55,0)
 ;;R^"860.8:",100,14
"RTN","ORY42304",56,0)
 ;;D^  ; ;
"RTN","ORY42304",57,0)
 ;;R^"860.8:",100,15
"RTN","ORY42304",58,0)
 ;;D^  ; I $L(OCXDT),(OCXDT?1.2N1"/"1.2N.1" ".2N.1":".2N) D  ; EXTERNAL EXPERT SYSTEM FORMAT 2 TO EXTERNAL FORMAT
"RTN","ORY42304",59,0)
 ;;R^"860.8:",100,16
"RTN","ORY42304",60,0)
 ;;D^  ; .N OCXMON
"RTN","ORY42304",61,0)
 ;;R^"860.8:",100,17
"RTN","ORY42304",62,0)
 ;;D^  ; .S OCXMON=$P("January^February^March^April^May^June^July^August^September^October^November^December",U,$P(OCXDT,"/",1))
"RTN","ORY42304",63,0)
 ;;R^"860.8:",100,18
"RTN","ORY42304",64,0)
 ;;D^  ; .I $L($P(OCXDT," ",2)) S OCXDT=OCXMON_" "_$P($P(OCXDT," ",1),"/",2)_"@"_$TR($P(OCXDT," ",2),":","")
"RTN","ORY42304",65,0)
 ;;R^"860.8:",100,19
"RTN","ORY42304",66,0)
 ;;D^  ; .E  S OCXDT=OCXMON_" "_$P($P(OCXDT," ",1),"/",2)
"RTN","ORY42304",67,0)
 ;;R^"860.8:",100,20
"RTN","ORY42304",68,0)
 ;;D^  ; ;
"RTN","ORY42304",69,0)
 ;;R^"860.8:",100,21
"RTN","ORY42304",70,0)
 ;;D^  ; I $L(OCXDT),(OCXDT?1.2N1"/"1.2N1"/"1.2N.1" ".2N.1":".2N) D  ; EXTERNAL EXPERT SYSTEM FORMAT 3 TO EXTERNAL FORMAT
"RTN","ORY42304",71,0)
 ;;R^"860.8:",100,22
"RTN","ORY42304",72,0)
 ;;D^  ; .N OCXMON
"RTN","ORY42304",73,0)
 ;;R^"860.8:",100,23
"RTN","ORY42304",74,0)
 ;;D^  ; .S OCXMON=$P("January^February^March^April^May^June^July^August^September^October^November^December",U,$P(OCXDT,"/",1))
"RTN","ORY42304",75,0)
 ;;R^"860.8:",100,24
"RTN","ORY42304",76,0)
 ;;D^  ; .I $L($P(OCXDT," ",2)) S OCXDT=OCXMON_" "_$P($P(OCXDT," ",1),"/",2)_","_$P($P(OCXDT," ",1),"/",3)_"@"_$TR($P(OCXDT," ",2),":","")
"RTN","ORY42304",77,0)
 ;;R^"860.8:",100,25
"RTN","ORY42304",78,0)
 ;;D^  ; .E  S OCXDT=OCXMON_" "_$P($P(OCXDT," ",1),"/",2)_", "_$P($P(OCXDT," ",1),"/",3)
"RTN","ORY42304",79,0)
 ;;R^"860.8:",100,26
"RTN","ORY42304",80,0)
 ;;D^  ; ;
"RTN","ORY42304",81,0)
 ;;R^"860.8:",100,27
"RTN","ORY42304",82,0)
 ;;D^  ; I $L(OCXDT),'OCXDT D  ; EXTERNAL FORMAT TO INTERNAL FILEMAN FORMAT
"RTN","ORY42304",83,0)
 ;;R^"860.8:",100,28
"RTN","ORY42304",84,0)
 ;;D^  ; .I (OCXDT["@0000") S OCXDT=$P(OCXDT,"@",1),OCXDIFF=1
"RTN","ORY42304",85,0)
 ;;R^"860.8:",100,29
"RTN","ORY42304",86,0)
 ;;D^  ; .N %DT,X,Y S X=OCXDT,%DT="" S:(OCXDT["@")!(OCXDT="N") %DT="T" D ^%DT S OCXDT=+Y
"RTN","ORY42304",87,0)
 ;;R^"860.8:",100,30
"RTN","ORY42304",88,0)
 ;;D^  ; ;
"RTN","ORY42304",89,0)
 ;;R^"860.8:",100,31
"RTN","ORY42304",90,0)
 ;;D^  ; I ($L(OCXDT\1)>7) S OCXDT=$$HL7TFM^XLFDT(OCXDT)  ; HL7 FORMAT TO INTERNAL FILEMAN FORMAT
"RTN","ORY42304",91,0)
 ;;R^"860.8:",100,32
"RTN","ORY42304",92,0)
 ;;D^  ; ;
"RTN","ORY42304",93,0)
 ;;R^"860.8:",100,33
"RTN","ORY42304",94,0)
 ;;D^  ; I ($L(OCXDT\1)=7) S OCXDT=$$FMTH^XLFDT(+OCXDT)   ; INTERNAL FILEMAN FORMAT TO $H FORMAT
"RTN","ORY42304",95,0)
 ;;R^"860.8:",100,34
"RTN","ORY42304",96,0)
 ;;D^  ; ;
"RTN","ORY42304",97,0)
 ;;R^"860.8:",100,35
"RTN","ORY42304",98,0)
 ;;D^  ; I (OCXDT?5N1","1.5N) S OCXVAL=(OCXDT*86400)+$P(OCXDT,",",2)     ;  $H FORMAT TO EXPERT SYSTEM INTERNAL FORMAT
"RTN","ORY42304",99,0)
 ;;R^"860.8:",100,36
"RTN","ORY42304",100,0)
 ;;D^  ; ;
"RTN","ORY42304",101,0)
 ;;R^"860.8:",100,37
"RTN","ORY42304",102,0)
 ;;D^  ; Q OCXVAL
"RTN","ORY42304",103,0)
 ;;R^"860.8:",100,38
"RTN","ORY42304",104,0)
 ;;D^  ; ;
"RTN","ORY42304",105,0)
 ;;EOR^
"RTN","ORY42304",106,0)
 ;;KEY^860.8:^CONVERT DATE FROM OCX FORMAT TO READABLE FORMAT
"RTN","ORY42304",107,0)
 ;;R^"860.8:",.01,"E"
"RTN","ORY42304",108,0)
 ;;D^CONVERT DATE FROM OCX FORMAT TO READABLE FORMAT
"RTN","ORY42304",109,0)
 ;;R^"860.8:",.02,"E"
"RTN","ORY42304",110,0)
 ;;D^INT2DT
"RTN","ORY42304",111,0)
 ;;R^"860.8:",1,1
"RTN","ORY42304",112,0)
 ;;D^  ;INT2DT(OCXDT,OCXF) ;      This Local Extrinsic Function converts an OCX internal format
"RTN","ORY42304",113,0)
 ;;R^"860.8:",1,2
"RTN","ORY42304",114,0)
 ;;D^  ; ; date into an Externl Format (Human Readable) date.   'OCXF=SHORT FORMAT OCXF=LONG FORMAT
"RTN","ORY42304",115,0)
 ;;R^"860.8:",1,3
"RTN","ORY42304",116,0)
 ;;D^  ; ;
"RTN","ORY42304",117,0)
 ;;R^"860.8:",100,1
"RTN","ORY42304",118,0)
 ;;D^  ;INT2DT(OCXDT,OCXF) ;      This Local Extrinsic Function converts an OCX internal format
"RTN","ORY42304",119,0)
 ;;R^"860.8:",100,2
"RTN","ORY42304",120,0)
 ;;D^  ; ; date into an Externl Format (Human Readable) date.   'OCXF=SHORT FORMAT OCXF=LONG FORMAT
"RTN","ORY42304",121,0)
 ;;R^"860.8:",100,3
"RTN","ORY42304",122,0)
 ;;D^  ; ;
"RTN","ORY42304",123,0)
 ;;R^"860.8:",100,4
"RTN","ORY42304",124,0)
 ;;D^  ; Q:'$L($G(OCXDT)) "" S OCXF=+$G(OCXF)
"RTN","ORY42304",125,0)
 ;;R^"860.8:",100,5
"RTN","ORY42304",126,0)
 ;;D^  ; N OCXYR,OCXLPYR,OCXMON,OCXDAY,OCXHR,OCXMIN,OCXSEC,OCXCYR
"RTN","ORY42304",127,0)
 ;;R^"860.8:",100,6
"RTN","ORY42304",128,0)
 ;;D^  ; S (OCXYR,OCXLPYR,OCXMON,OCXDAY,OCXHR,OCXMIN,OCXSEC,OCXAP)=""
"RTN","ORY42304",129,0)
 ;;R^"860.8:",100,7
"RTN","ORY42304",130,0)
 ;;D^  ; S OCXSEC=$E(OCXDT#60+100,2,3),OCXDT=OCXDT\60
"RTN","ORY42304",131,0)
 ;;R^"860.8:",100,8
"RTN","ORY42304",132,0)
 ;;D^  ; S OCXMIN=$E(OCXDT#60+100,2,3),OCXDT=OCXDT\60
"RTN","ORY42304",133,0)
 ;;R^"860.8:",100,9
"RTN","ORY42304",134,0)
 ;;D^  ; S OCXHR=$E(OCXDT#24+100,2,3),OCXDT=OCXDT\24
"RTN","ORY42304",135,0)
 ;;R^"860.8:",100,10
"RTN","ORY42304",136,0)
 ;;D^  ; S OCXCYR=($H\1461)*4+1841+(($H#1461)\365)
"RTN","ORY42304",137,0)
 ;;R^"860.8:",100,11
"RTN","ORY42304",138,0)
 ;;D^  ; S OCXYR=(OCXDT\1461)*4+1841,OCXDT=OCXDT#1461
"RTN","ORY42304",139,0)
 ;;R^"860.8:",100,12
"RTN","ORY42304",140,0)
 ;;D^  ; S OCXLPYR=(OCXDT\365),OCXDT=OCXDT-(OCXLPYR*365),OCXYR=OCXYR+OCXLPYR
"RTN","ORY42304",141,0)
 ;;R^"860.8:",100,13
"RTN","ORY42304",142,0)
 ;;D^  ; S OCXCNT="031^059^090^120^151^181^212^243^273^304^334^365"
"RTN","ORY42304",143,0)
 ;;R^"860.8:",100,14
"RTN","ORY42304",144,0)
 ;;D^  ; S:(OCXLPYR=3) OCXCNT="031^060^091^121^152^182^213^244^274^305^335^366"
"RTN","ORY42304",145,0)
 ;;R^"860.8:",100,15
"RTN","ORY42304",146,0)
 ;;D^  ; F OCXMON=1:1:12 Q:(OCXDT<$P(OCXCNT,U,OCXMON))
"RTN","ORY42304",147,0)
 ;;R^"860.8:",100,16
"RTN","ORY42304",148,0)
 ;;D^  ; S OCXDAY=OCXDT-$P(OCXCNT,U,OCXMON-1)+1
"RTN","ORY42304",149,0)
 ;;R^"860.8:",100,17
"RTN","ORY42304",150,0)
 ;;D^  ; I OCXF S OCXMON=$P("January^February^March^April^May^June^July^August^September^October^November^December",U,OCXMON)
"RTN","ORY42304",151,0)
 ;;R^"860.8:",100,18
"RTN","ORY42304",152,0)
 ;;D^  ; E  S OCXMON=$E(OCXMON+100,2,3)
"RTN","ORY42304",153,0)
 ;;R^"860.8:",100,19
"RTN","ORY42304",154,0)
 ;;D^  ; S OCXAP=$S('OCXHR:"Midnight",(OCXHR=12):"Noon",(OCXHR<12):"AM",1:"PM")
"RTN","ORY42304",155,0)
 ;;R^"860.8:",100,20
"RTN","ORY42304",156,0)
 ;;D^  ; I OCXF S OCXHR=OCXHR#12 S:'OCXHR OCXHR=12
"RTN","ORY42304",157,0)
 ;;R^"860.8:",100,21
"RTN","ORY42304",158,0)
 ;;D^  ; Q:'OCXF $E(OCXMON+100,2,3)_"/"_$E(OCXDAY+100,2,3)_$S((OCXCYR=OCXYR):" "_OCXHR_":"_OCXMIN,1:"/"_$E(OCXYR,3,4))
"RTN","ORY42304",159,0)
 ;;R^"860.8:",100,22
"RTN","ORY42304",160,0)
 ;;D^  ; Q:(OCXHR+OCXMIN+OCXSEC) OCXMON_" "_OCXDAY_","_OCXYR_" at "_OCXHR_":"_OCXMIN_"."_OCXSEC_" "_OCXAP
"RTN","ORY42304",161,0)
 ;;R^"860.8:",100,23
"RTN","ORY42304",162,0)
 ;;D^  ; Q OCXMON_" "_OCXDAY_","_OCXYR
"RTN","ORY42304",163,0)
 ;;R^"860.8:",100,24
"RTN","ORY42304",164,0)
 ;;D^  ; ;
"RTN","ORY42304",165,0)
 ;;EOR^
"RTN","ORY42304",166,0)
 ;;KEY^860.8:^ELAPSED ORDER CHECK TIME LOGGER
"RTN","ORY42304",167,0)
 ;;R^"860.8:",.01,"E"
"RTN","ORY42304",168,0)
 ;;D^ELAPSED ORDER CHECK TIME LOGGER
"RTN","ORY42304",169,0)
 ;;R^"860.8:",.02,"E"
"RTN","ORY42304",170,0)
 ;;D^TIMELOG
"RTN","ORY42304",171,0)
 ;;R^"860.8:",100,1
"RTN","ORY42304",172,0)
 ;;D^  ;TIMELOG(OCXMODE,OCXCALL) ; Log an entry in the Elapsed time log.
"RTN","ORY42304",173,0)
 ;;R^"860.8:",100,2
"RTN","ORY42304",174,0)
 ;;D^  ; ;
"RTN","ORY42304",175,0)
 ;;R^"860.8:",100,3
"RTN","ORY42304",176,0)
 ;;D^  ; ;
"RTN","ORY42304",177,0)
 ;;R^"860.8:",100,4
"RTN","ORY42304",178,0)
 ;;D^  ; Q 0
"RTN","ORY42304",179,0)
 ;;R^"860.8:",100,5
"RTN","ORY42304",180,0)
 ;;D^  ; ;
"RTN","ORY42304",181,0)
 ;;EOR^
"RTN","ORY42304",182,0)
 ;;KEY^860.8:^EQUALS TERM OPERATOR
"RTN","ORY42304",183,0)
 ;;R^"860.8:",.01,"E"
"RTN","ORY42304",184,0)
 ;;D^EQUALS TERM OPERATOR
"RTN","ORY42304",185,0)
 ;;R^"860.8:",.02,"E"
"RTN","ORY42304",186,0)
 ;;D^EQTERM
"RTN","ORY42304",187,0)
 ;;R^"860.8:",100,1
"RTN","ORY42304",188,0)
 ;;D^  ;EQTERM(DATA,TERM) ;
"RTN","ORY42304",189,0)
 ;;R^"860.8:",100,2
"RTN","ORY42304",190,0)
 ;;D^  ; ;
"RTN","ORY42304",191,0)
 ;;R^"860.8:",100,3
"RTN","ORY42304",192,0)
 ;;D^T+; I $G(OCXTRACE) W !,"%%%%",?20," Execution trace  DATA: ",$G(DATA),"   TERM: ",$G(TERM)
"RTN","ORY42304",193,0)
 ;;R^"860.8:",100,4
"RTN","ORY42304",194,0)
 ;;D^  ; N OCXF,OCXL
"RTN","ORY42304",195,0)
 ;1;
"RTN","ORY42304",196,0)
 ;
"RTN","ORY42305")
0^13^B65132619
"RTN","ORY42305",1,0)
ORY42305 ;SLC/RJS,CLA - OCX PACKAGE RULE TRANSPORT ROUTINE (Delete after Install of OR*3*423) ;JUN 29,2016 at 06:15
"RTN","ORY42305",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17,1997;Build 19
"RTN","ORY42305",3,0)
 ;;  ;;ORDER CHECK EXPERT version 1.01 released OCT 29,1998
"RTN","ORY42305",4,0)
 ;
"RTN","ORY42305",5,0)
S ;
"RTN","ORY42305",6,0)
 ;
"RTN","ORY42305",7,0)
 D DOT^ORY423ES
"RTN","ORY42305",8,0)
 ;
"RTN","ORY42305",9,0)
 ;
"RTN","ORY42305",10,0)
 K REMOTE,LOCAL,OPCODE,REF
"RTN","ORY42305",11,0)
 F LINE=1:1:500 S TEXT=$P($T(DATA+LINE),";",2,999) Q:TEXT  I $L(TEXT) D  Q:QUIT
"RTN","ORY42305",12,0)
 .S ^TMP("OCXRULE",$J,$O(^TMP("OCXRULE",$J,"A"),-1)+1)=TEXT
"RTN","ORY42305",13,0)
 ;
"RTN","ORY42305",14,0)
 G ^ORY42306
"RTN","ORY42305",15,0)
 ;
"RTN","ORY42305",16,0)
 Q
"RTN","ORY42305",17,0)
 ;
"RTN","ORY42305",18,0)
DATA ;
"RTN","ORY42305",19,0)
 ;
"RTN","ORY42305",20,0)
 ;;R^"860.8:",100,5
"RTN","ORY42305",21,0)
 ;;D^  ; ;
"RTN","ORY42305",22,0)
 ;;R^"860.8:",100,6
"RTN","ORY42305",23,0)
 ;;D^  ; S OCXL="",OCXF=$$TERMLKUP(TERM,.OCXL)
"RTN","ORY42305",24,0)
 ;;R^"860.8:",100,7
"RTN","ORY42305",25,0)
 ;;D^T-; Q:'OCXF 0
"RTN","ORY42305",26,0)
 ;;R^"860.8:",100,8
"RTN","ORY42305",27,0)
 ;;D^T+; I 'OCXF W:$G(OCXTRACE) !,"%%%%",?20," Term '",TERM,"' not in Order Check National Term File" Q 0
"RTN","ORY42305",28,0)
 ;;R^"860.8:",100,9
"RTN","ORY42305",29,0)
 ;;D^T+; I '$O(OCXL(0)) W:$G(OCXTRACE) !,"%%%%",?20," There are no local terms listed for the National Term '",TERM,"'." Q 0
"RTN","ORY42305",30,0)
 ;;R^"860.8:",100,10
"RTN","ORY42305",31,0)
 ;;D^T+; I ($D(OCXL(DATA))!$D(OCXL("B",DATA))) W:$G(OCXTRACE) !,"%%%%",?20," Data equals Term" Q 1
"RTN","ORY42305",32,0)
 ;;R^"860.8:",100,11
"RTN","ORY42305",33,0)
 ;;D^T-; I ($D(OCXL(DATA))!$D(OCXL("B",DATA))) Q 1
"RTN","ORY42305",34,0)
 ;;R^"860.8:",100,12
"RTN","ORY42305",35,0)
 ;;D^T-; Q 0
"RTN","ORY42305",36,0)
 ;;R^"860.8:",100,13
"RTN","ORY42305",37,0)
 ;;D^T+; W:$G(OCXTRACE) !,"%%%%",?20," Data does not equal Term" Q 0
"RTN","ORY42305",38,0)
 ;;R^"860.8:",100,14
"RTN","ORY42305",39,0)
 ;;D^  ; ;
"RTN","ORY42305",40,0)
 ;;EOR^
"RTN","ORY42305",41,0)
 ;;KEY^860.8:^FILE DATA IN PATIENT ACTIVE DATA FILE
"RTN","ORY42305",42,0)
 ;;R^"860.8:",.01,"E"
"RTN","ORY42305",43,0)
 ;;D^FILE DATA IN PATIENT ACTIVE DATA FILE
"RTN","ORY42305",44,0)
 ;;R^"860.8:",.02,"E"
"RTN","ORY42305",45,0)
 ;;D^FILE
"RTN","ORY42305",46,0)
 ;;R^"860.8:",1,1
"RTN","ORY42305",47,0)
 ;;D^  ;FILE(DFN,OCXELE,OCXDFL) ;     This Local Extrinsic Function files data
"RTN","ORY42305",48,0)
 ;;R^"860.8:",1,2
"RTN","ORY42305",49,0)
 ;;D^  ; ;     in the Order Check Patient Data File
"RTN","ORY42305",50,0)
 ;;R^"860.8:",1,3
"RTN","ORY42305",51,0)
 ;;D^  ; ;
"RTN","ORY42305",52,0)
 ;;R^"860.8:",100,1
"RTN","ORY42305",53,0)
 ;;D^  ;FILE(DFN,OCXELE,OCXDFL) ;     This Local Extrinsic Function logs a validated event/element.
"RTN","ORY42305",54,0)
 ;;R^"860.8:",100,2
"RTN","ORY42305",55,0)
 ;;D^  ; ;
"RTN","ORY42305",56,0)
 ;;R^"860.8:",100,3
"RTN","ORY42305",57,0)
 ;;D^T+; I $G(OCXTRACE) W !,"%%%%",?20," Execution trace  DFN: ",DFN,"   OCXELE: ",+$G(OCXELE),"   OCXDFL: ",$G(OCXDFL)
"RTN","ORY42305",58,0)
 ;;R^"860.8:",100,4
"RTN","ORY42305",59,0)
 ;;D^  ; N OCXTIMN,OCXTIML,OCXTIMT1,OCXTIMT2,OCXDATA,OCXPC,OCXPC,OCXVAL,OCXSUB,OCXDFI
"RTN","ORY42305",60,0)
 ;;R^"860.8:",100,5
"RTN","ORY42305",61,0)
 ;;D^  ; S DFN=+$G(DFN),OCXELE=+$G(OCXELE)
"RTN","ORY42305",62,0)
 ;;R^"860.8:",100,6
"RTN","ORY42305",63,0)
 ;;D^  ; ;
"RTN","ORY42305",64,0)
 ;;R^"860.8:",100,7
"RTN","ORY42305",65,0)
 ;;D^  ; Q:'DFN 1 Q:'OCXELE 1 K OCXDATA
"RTN","ORY42305",66,0)
 ;;R^"860.8:",100,8
"RTN","ORY42305",67,0)
 ;;D^  ; ;
"RTN","ORY42305",68,0)
 ;;R^"860.8:",100,9
"RTN","ORY42305",69,0)
 ;;D^  ; S OCXDATA(DFN,OCXELE)=1
"RTN","ORY42305",70,0)
 ;;R^"860.8:",100,10
"RTN","ORY42305",71,0)
 ;;D^  ; F OCXPC=1:1:$L(OCXDFL,",") S OCXDFI=$P(OCXDFL,",",OCXPC) I OCXDFI D
"RTN","ORY42305",72,0)
 ;;R^"860.8:",100,11
"RTN","ORY42305",73,0)
 ;;D^  ; .S OCXVAL=$G(OCXDF(+OCXDFI)),OCXDATA(DFN,OCXELE,+OCXDFI)=OCXVAL
"RTN","ORY42305",74,0)
 ;;R^"860.8:",100,12
"RTN","ORY42305",75,0)
 ;;D^T+; .I $G(OCXTRACE) W !,"%%%%",?20,"   ",$P($G(^OCXS(860.4,+OCXDFI,0)),U,1)," = """,OCXVAL,""""
"RTN","ORY42305",76,0)
 ;;R^"860.8:",100,13
"RTN","ORY42305",77,0)
 ;;D^  ; ;
"RTN","ORY42305",78,0)
 ;;R^"860.8:",100,14
"RTN","ORY42305",79,0)
 ;;D^  ; M ^TMP("OCXCHK",$J,DFN)=OCXDATA(DFN)
"RTN","ORY42305",80,0)
 ;;R^"860.8:",100,15
"RTN","ORY42305",81,0)
 ;;D^  ; ;
"RTN","ORY42305",82,0)
 ;;R^"860.8:",100,16
"RTN","ORY42305",83,0)
 ;;D^  ; Q 0
"RTN","ORY42305",84,0)
 ;;R^"860.8:",100,17
"RTN","ORY42305",85,0)
 ;;D^  ; ;
"RTN","ORY42305",86,0)
 ;;EOR^
"RTN","ORY42305",87,0)
 ;;KEY^860.8:^GENERATE STRING CHECKSUM
"RTN","ORY42305",88,0)
 ;;R^"860.8:",.01,"E"
"RTN","ORY42305",89,0)
 ;;D^GENERATE STRING CHECKSUM
"RTN","ORY42305",90,0)
 ;;R^"860.8:",.02,"E"
"RTN","ORY42305",91,0)
 ;;D^CKSUM
"RTN","ORY42305",92,0)
 ;;R^"860.8:",100,1
"RTN","ORY42305",93,0)
 ;;D^  ;CKSUM(STR) ;
"RTN","ORY42305",94,0)
 ;;R^"860.8:",100,2
"RTN","ORY42305",95,0)
 ;;D^  ; ;
"RTN","ORY42305",96,0)
 ;;R^"860.8:",100,3
"RTN","ORY42305",97,0)
 ;;D^  ; N CKSUM,PTR,ASC S CKSUM=0
"RTN","ORY42305",98,0)
 ;;R^"860.8:",100,4
"RTN","ORY42305",99,0)
 ;;D^  ; S STR=$TR(STR,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ORY42305",100,0)
 ;;R^"860.8:",100,5
"RTN","ORY42305",101,0)
 ;;D^  ; F PTR=$L(STR):-1:1 S ASC=$A(STR,PTR)-42 I (ASC>0),(ASC<51) S CKSUM=CKSUM*2+ASC
"RTN","ORY42305",102,0)
 ;;R^"860.8:",100,6
"RTN","ORY42305",103,0)
 ;;D^  ; Q +CKSUM
"RTN","ORY42305",104,0)
 ;;R^"860.8:",100,7
"RTN","ORY42305",105,0)
 ;;D^  ; ;
"RTN","ORY42305",106,0)
 ;;EOR^
"RTN","ORY42305",107,0)
 ;;KEY^860.8:^GET DATA FROM THE ACTIVE DATA FILE
"RTN","ORY42305",108,0)
 ;;R^"860.8:",.01,"E"
"RTN","ORY42305",109,0)
 ;;D^GET DATA FROM THE ACTIVE DATA FILE
"RTN","ORY42305",110,0)
 ;;R^"860.8:",.02,"E"
"RTN","ORY42305",111,0)
 ;;D^GETDATA
"RTN","ORY42305",112,0)
 ;;R^"860.8:",100,1
"RTN","ORY42305",113,0)
 ;;D^  ;GETDATA(DFN,OCXL,OCXDFI) ;     This Local Extrinsic Function returns runtime data
"RTN","ORY42305",114,0)
 ;;R^"860.8:",100,2
"RTN","ORY42305",115,0)
 ;;D^  ; ;
"RTN","ORY42305",116,0)
 ;;R^"860.8:",100,3
"RTN","ORY42305",117,0)
 ;;D^  ; N OCXE,VAL,PC S VAL=""
"RTN","ORY42305",118,0)
 ;;R^"860.8:",100,4
"RTN","ORY42305",119,0)
 ;;D^  ; F PC=1:1:$L(OCXL,U) S OCXE=$P(OCXL,U,PC) I OCXE S VAL=$G(^TMP("OCXCHK",$J,DFN,OCXE,OCXDFI)) Q:$L(VAL)
"RTN","ORY42305",120,0)
 ;;R^"860.8:",100,5
"RTN","ORY42305",121,0)
 ;;D^  ; Q VAL
"RTN","ORY42305",122,0)
 ;;R^"860.8:",100,6
"RTN","ORY42305",123,0)
 ;;D^  ; ;
"RTN","ORY42305",124,0)
 ;;EOR^
"RTN","ORY42305",125,0)
 ;;KEY^860.8:^IN LIST OPERATOR
"RTN","ORY42305",126,0)
 ;;R^"860.8:",.01,"E"
"RTN","ORY42305",127,0)
 ;;D^IN LIST OPERATOR
"RTN","ORY42305",128,0)
 ;;R^"860.8:",.02,"E"
"RTN","ORY42305",129,0)
 ;;D^LIST
"RTN","ORY42305",130,0)
 ;;R^"860.8:",100,1
"RTN","ORY42305",131,0)
 ;;D^  ;LIST(DATA,LIST) ;   IS THE DATA FIELD IN THE LIST
"RTN","ORY42305",132,0)
 ;;R^"860.8:",100,2
"RTN","ORY42305",133,0)
 ;;D^  ; ;
"RTN","ORY42305",134,0)
 ;;R^"860.8:",100,3
"RTN","ORY42305",135,0)
 ;;D^T+; W:$G(OCXTRACE) !,"%%%%",?20,"     $$LIST(""",DATA,""",""",LIST,""")"
"RTN","ORY42305",136,0)
 ;;R^"860.8:",100,4
"RTN","ORY42305",137,0)
 ;;D^  ; S:'($E(LIST,1)=",") LIST=","_LIST S:'($E(LIST,$L(LIST))=",") LIST=LIST_"," S DATA=","_DATA_","
"RTN","ORY42305",138,0)
 ;;R^"860.8:",100,5
"RTN","ORY42305",139,0)
 ;;D^  ; Q (LIST[DATA)
"RTN","ORY42305",140,0)
 ;;R^"860.8:",100,6
"RTN","ORY42305",141,0)
 ;;D^  ; ;
"RTN","ORY42305",142,0)
 ;;EOR^
"RTN","ORY42305",143,0)
 ;;KEY^860.8:^LOCAL TERM LOOKUP
"RTN","ORY42305",144,0)
 ;;R^"860.8:",.01,"E"
"RTN","ORY42305",145,0)
 ;;D^LOCAL TERM LOOKUP
"RTN","ORY42305",146,0)
 ;;R^"860.8:",.02,"E"
"RTN","ORY42305",147,0)
 ;;D^TERMLKUP
"RTN","ORY42305",148,0)
 ;;R^"860.8:",1,1
"RTN","ORY42305",149,0)
 ;;D^ 
"RTN","ORY42305",150,0)
 ;;R^"860.8:",1,2
"RTN","ORY42305",151,0)
 ;;D^  This function allows a local site to define to Order Checking
"RTN","ORY42305",152,0)
 ;;R^"860.8:",1,3
"RTN","ORY42305",153,0)
 ;;D^ a term specific to that site. (ie. Lab Test Name, Radiology
"RTN","ORY42305",154,0)
 ;;R^"860.8:",1,4
"RTN","ORY42305",155,0)
 ;;D^ procedure name, etc.)
"RTN","ORY42305",156,0)
 ;;R^"860.8:",1,5
"RTN","ORY42305",157,0)
 ;;D^ 
"RTN","ORY42305",158,0)
 ;;R^"860.8:",100,1
"RTN","ORY42305",159,0)
 ;;D^  ;TERMLKUP(OCXTERM,OCXFILE) ;
"RTN","ORY42305",160,0)
 ;;R^"860.8:",100,2
"RTN","ORY42305",161,0)
 ;;D^  ; ;
"RTN","ORY42305",162,0)
 ;;R^"860.8:",100,3
"RTN","ORY42305",163,0)
 ;;D^  ; Q
"RTN","ORY42305",164,0)
 ;;R^"860.8:",100,4
"RTN","ORY42305",165,0)
 ;;D^  ; ;
"RTN","ORY42305",166,0)
 ;;EOR^
"RTN","ORY42305",167,0)
 ;;KEY^860.8:^NEW RULE MESSAGE
"RTN","ORY42305",168,0)
 ;;R^"860.8:",.01,"E"
"RTN","ORY42305",169,0)
 ;;D^NEW RULE MESSAGE
"RTN","ORY42305",170,0)
 ;;R^"860.8:",.02,"E"
"RTN","ORY42305",171,0)
 ;;D^NEWRULE
"RTN","ORY42305",172,0)
 ;;R^"860.8:",100,1
"RTN","ORY42305",173,0)
 ;;D^  ;NEWRULE(OCXDFN,OCXORD,OCXRUL,OCXREL,OCXNOTF,OCXMESS) ; Has this rule already been triggered for this order number
"RTN","ORY42305",174,0)
 ;;R^"860.8:",100,2
"RTN","ORY42305",175,0)
 ;;D^  ; ;
"RTN","ORY42305",176,0)
 ;;R^"860.8:",100,3
"RTN","ORY42305",177,0)
 ;;D^L+; S OCXERR=$$TIMELOG("M","NEWRULE("_(+$G(OCXDFN))_","_(+$G(OCXORD))_","_(+$G(OCXRUL))_","_(+$G(OCXREL))_","_(+$G(OCXNOTF))_","_$G(OCXMESS)_")")
"RTN","ORY42305",178,0)
 ;;R^"860.8:",100,4
"RTN","ORY42305",179,0)
 ;;D^  ; ;
"RTN","ORY42305",180,0)
 ;;R^"860.8:",100,5
"RTN","ORY42305",181,0)
 ;;D^  ; Q:'$G(OCXDFN) 0 Q:'$G(OCXRUL) 0
"RTN","ORY42305",182,0)
 ;;R^"860.8:",100,6
"RTN","ORY42305",183,0)
 ;;D^  ; Q:'$G(OCXREL) 0  Q:'$G(OCXNOTF) 0  Q:'$L($G(OCXMESS)) 0
"RTN","ORY42305",184,0)
 ;;R^"860.8:",100,7
"RTN","ORY42305",185,0)
 ;;D^  ; S OCXORD=+$G(OCXORD),OCXDFN=+OCXDFN
"RTN","ORY42305",186,0)
 ;;R^"860.8:",100,8
"RTN","ORY42305",187,0)
 ;;D^  ; ;
"RTN","ORY42305",188,0)
 ;;R^"860.8:",100,9
"RTN","ORY42305",189,0)
 ;;D^  ; N OCXNDX,OCXDATA,OCXDFI,OCXELE,OCXGR,OCXTIME,OCXCKSUM,OCXTSP,OCXTSPL
"RTN","ORY42305",190,0)
 ;;R^"860.8:",100,10
"RTN","ORY42305",191,0)
 ;;D^  ; ;
"RTN","ORY42305",192,0)
 ;;R^"860.8:",100,11
"RTN","ORY42305",193,0)
 ;;D^  ; S OCXTIME=(+$H)
"RTN","ORY42305",194,0)
 ;;R^"860.8:",100,12
"RTN","ORY42305",195,0)
 ;;D^  ; S OCXCKSUM=$$CKSUM(OCXMESS)
"RTN","ORY42305",196,0)
 ;;R^"860.8:",100,13
"RTN","ORY42305",197,0)
 ;;D^  ; ;
"RTN","ORY42305",198,0)
 ;;R^"860.8:",100,14
"RTN","ORY42305",199,0)
 ;;D^  ; S OCXTSP=($H*86400)+$P($H,",",2)
"RTN","ORY42305",200,0)
 ;;R^"860.8:",100,15
"RTN","ORY42305",201,0)
 ;;D^  ; S OCXTSPL=($G(^OCXD(860.7,"AT",OCXTIME,OCXDFN,OCXRUL,+OCXORD,OCXCKSUM))+$G(OCXTSPI,300))
"RTN","ORY42305",202,0)
 ;;R^"860.8:",100,16
"RTN","ORY42305",203,0)
 ;;D^  ; ;
"RTN","ORY42305",204,0)
 ;;R^"860.8:",100,17
"RTN","ORY42305",205,0)
 ;;D^  ; Q:(OCXTSPL>OCXTSP) 0
"RTN","ORY42305",206,0)
 ;;R^"860.8:",100,18
"RTN","ORY42305",207,0)
 ;;D^  ; ;
"RTN","ORY42305",208,0)
 ;;R^"860.8:",100,19
"RTN","ORY42305",209,0)
 ;;D^  ; K OCXDATA
"RTN","ORY42305",210,0)
 ;;R^"860.8:",100,20
"RTN","ORY42305",211,0)
 ;;D^  ; S OCXDATA(OCXDFN,0)=OCXDFN
"RTN","ORY42305",212,0)
 ;;R^"860.8:",100,21
"RTN","ORY42305",213,0)
 ;;D^  ; S OCXDATA("B",OCXDFN,OCXDFN)=""
"RTN","ORY42305",214,0)
 ;;R^"860.8:",100,22
"RTN","ORY42305",215,0)
 ;;D^  ; S OCXDATA("AT",OCXTIME,OCXDFN,OCXRUL,+OCXORD,OCXCKSUM)=OCXTSP
"RTN","ORY42305",216,0)
 ;;R^"860.8:",100,23
"RTN","ORY42305",217,0)
 ;;D^  ; ;
"RTN","ORY42305",218,0)
 ;;R^"860.8:",100,24
"RTN","ORY42305",219,0)
 ;;D^  ; S OCXGR="^OCXD(860.7"
"RTN","ORY42305",220,0)
 ;;R^"860.8:",100,25
"RTN","ORY42305",221,0)
 ;;D^T+; D SETAP(OCXGR_")",0,"Patient",$P($G(^DPT(OCXDFN,0)),U,1),.OCXDATA,OCXDFN)
"RTN","ORY42305",222,0)
 ;;R^"860.8:",100,26
"RTN","ORY42305",223,0)
 ;;D^T-; D SETAP(OCXGR_")",0,.OCXDATA,OCXDFN)
"RTN","ORY42305",224,0)
 ;;R^"860.8:",100,27
"RTN","ORY42305",225,0)
 ;;D^  ; ;
"RTN","ORY42305",226,0)
 ;;R^"860.8:",100,28
"RTN","ORY42305",227,0)
 ;;D^  ; K OCXDATA
"RTN","ORY42305",228,0)
 ;;R^"860.8:",100,29
"RTN","ORY42305",229,0)
 ;;D^  ; S OCXDATA(OCXRUL,0)=OCXRUL_U_(OCXTIME)_U_(+OCXORD)
"RTN","ORY42305",230,0)
 ;;R^"860.8:",100,30
"RTN","ORY42305",231,0)
 ;;D^  ; S OCXDATA(OCXRUL,"M")=OCXMESS
"RTN","ORY42305",232,0)
 ;;R^"860.8:",100,31
"RTN","ORY42305",233,0)
 ;;D^  ; S OCXDATA("B",OCXRUL,OCXRUL)=""
"RTN","ORY42305",234,0)
 ;;R^"860.8:",100,32
"RTN","ORY42305",235,0)
 ;;D^  ; S OCXGR=OCXGR_","_OCXDFN_",1"
"RTN","ORY42305",236,0)
 ;;R^"860.8:",100,33
"RTN","ORY42305",237,0)
 ;;D^T+; D SETAP(OCXGR_")","860.71P","Rule",$P($G(^OCXS(860.2,OCXRUL,0)),U,1),.OCXDATA,OCXRUL)
"RTN","ORY42305",238,0)
 ;;R^"860.8:",100,34
"RTN","ORY42305",239,0)
 ;;D^T-; D SETAP(OCXGR_")","860.71P",.OCXDATA,OCXRUL)
"RTN","ORY42305",240,0)
 ;;R^"860.8:",100,35
"RTN","ORY42305",241,0)
 ;;D^  ; ;
"RTN","ORY42305",242,0)
 ;;R^"860.8:",100,36
"RTN","ORY42305",243,0)
 ;;D^  ; K OCXDATA
"RTN","ORY42305",244,0)
 ;;R^"860.8:",100,37
"RTN","ORY42305",245,0)
 ;;D^  ; S OCXDATA(OCXREL,0)=OCXREL
"RTN","ORY42305",246,0)
 ;;R^"860.8:",100,38
"RTN","ORY42305",247,0)
 ;;D^  ; S OCXDATA("B",OCXREL,OCXREL)=""
"RTN","ORY42305",248,0)
 ;1;
"RTN","ORY42305",249,0)
 ;
"RTN","ORY42306")
0^14^B64186028
"RTN","ORY42306",1,0)
ORY42306 ;SLC/RJS,CLA - OCX PACKAGE RULE TRANSPORT ROUTINE (Delete after Install of OR*3*423) ;JUN 29,2016 at 06:15
"RTN","ORY42306",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17,1997;Build 19
"RTN","ORY42306",3,0)
 ;;  ;;ORDER CHECK EXPERT version 1.01 released OCT 29,1998
"RTN","ORY42306",4,0)
 ;
"RTN","ORY42306",5,0)
S ;
"RTN","ORY42306",6,0)
 ;
"RTN","ORY42306",7,0)
 D DOT^ORY423ES
"RTN","ORY42306",8,0)
 ;
"RTN","ORY42306",9,0)
 ;
"RTN","ORY42306",10,0)
 K REMOTE,LOCAL,OPCODE,REF
"RTN","ORY42306",11,0)
 F LINE=1:1:500 S TEXT=$P($T(DATA+LINE),";",2,999) Q:TEXT  I $L(TEXT) D  Q:QUIT
"RTN","ORY42306",12,0)
 .S ^TMP("OCXRULE",$J,$O(^TMP("OCXRULE",$J,"A"),-1)+1)=TEXT
"RTN","ORY42306",13,0)
 ;
"RTN","ORY42306",14,0)
 G ^ORY42307
"RTN","ORY42306",15,0)
 ;
"RTN","ORY42306",16,0)
 Q
"RTN","ORY42306",17,0)
 ;
"RTN","ORY42306",18,0)
DATA ;
"RTN","ORY42306",19,0)
 ;
"RTN","ORY42306",20,0)
 ;;R^"860.8:",100,39
"RTN","ORY42306",21,0)
 ;;D^  ; S OCXGR=OCXGR_","_OCXRUL_",1"
"RTN","ORY42306",22,0)
 ;;R^"860.8:",100,40
"RTN","ORY42306",23,0)
 ;;D^T+; D SETAP(OCXGR_")","860.712","Relation",OCXREL,.OCXDATA,OCXREL)
"RTN","ORY42306",24,0)
 ;;R^"860.8:",100,41
"RTN","ORY42306",25,0)
 ;;D^T-; D SETAP(OCXGR_")","860.712",.OCXDATA,OCXREL)
"RTN","ORY42306",26,0)
 ;;R^"860.8:",100,42
"RTN","ORY42306",27,0)
 ;;D^  ; ;
"RTN","ORY42306",28,0)
 ;;R^"860.8:",100,43
"RTN","ORY42306",29,0)
 ;;D^  ; S OCXELE=0 F  S OCXELE=$O(^OCXS(860.2,OCXRUL,"C","C",OCXELE)) Q:'OCXELE  D
"RTN","ORY42306",30,0)
 ;;R^"860.8:",100,44
"RTN","ORY42306",31,0)
 ;;D^  ; .;
"RTN","ORY42306",32,0)
 ;;R^"860.8:",100,45
"RTN","ORY42306",33,0)
 ;;D^  ; .N OCXGR1
"RTN","ORY42306",34,0)
 ;;R^"860.8:",100,46
"RTN","ORY42306",35,0)
 ;;D^  ; .S OCXGR1=OCXGR_","_OCXREL_",1"
"RTN","ORY42306",36,0)
 ;;R^"860.8:",100,47
"RTN","ORY42306",37,0)
 ;;D^  ; .K OCXDATA
"RTN","ORY42306",38,0)
 ;;R^"860.8:",100,48
"RTN","ORY42306",39,0)
 ;;D^  ; .S OCXDATA(OCXELE,0)=OCXELE
"RTN","ORY42306",40,0)
 ;;R^"860.8:",100,49
"RTN","ORY42306",41,0)
 ;;D^  ; .S OCXDATA(OCXELE,"TIME")=OCXTIME
"RTN","ORY42306",42,0)
 ;;R^"860.8:",100,50
"RTN","ORY42306",43,0)
 ;;D^  ; .S OCXDATA(OCXELE,"LOG")=$G(OCXOLOG)
"RTN","ORY42306",44,0)
 ;;R^"860.8:",100,51
"RTN","ORY42306",45,0)
 ;;D^  ; .S OCXDATA("B",OCXELE,OCXELE)=""
"RTN","ORY42306",46,0)
 ;;R^"860.8:",100,52
"RTN","ORY42306",47,0)
 ;;D^  ; .K ^OCXD(860.7,OCXDFN,1,OCXRUL,1,OCXREL,1,OCXELE)
"RTN","ORY42306",48,0)
 ;;R^"860.8:",100,53
"RTN","ORY42306",49,0)
 ;;D^T+; .D SETAP(OCXGR1_")","860.7122P","Element",$P($G(^OCXS(860.3,OCXELE,0)),U,1),.OCXDATA,OCXELE)
"RTN","ORY42306",50,0)
 ;;R^"860.8:",100,54
"RTN","ORY42306",51,0)
 ;;D^T-; .D SETAP(OCXGR1_")","860.7122P",.OCXDATA,OCXELE)
"RTN","ORY42306",52,0)
 ;;R^"860.8:",100,55
"RTN","ORY42306",53,0)
 ;;D^  ; .;
"RTN","ORY42306",54,0)
 ;;R^"860.8:",100,56
"RTN","ORY42306",55,0)
 ;;D^  ; .S OCXDFI=0 F  S OCXDFI=$O(^TMP("OCXCHK",$J,OCXDFN,OCXELE,OCXDFI)) Q:'OCXDFI  D
"RTN","ORY42306",56,0)
 ;;R^"860.8:",100,57
"RTN","ORY42306",57,0)
 ;;D^  ; ..N OCXGR2
"RTN","ORY42306",58,0)
 ;;R^"860.8:",100,58
"RTN","ORY42306",59,0)
 ;;D^  ; ..S OCXGR2=OCXGR1_","_OCXELE_",1"
"RTN","ORY42306",60,0)
 ;;R^"860.8:",100,59
"RTN","ORY42306",61,0)
 ;;D^  ; ..K OCXDATA
"RTN","ORY42306",62,0)
 ;;R^"860.8:",100,60
"RTN","ORY42306",63,0)
 ;;D^  ; ..S OCXDATA(OCXDFI,0)=OCXDFI
"RTN","ORY42306",64,0)
 ;;R^"860.8:",100,61
"RTN","ORY42306",65,0)
 ;;D^  ; ..S OCXDATA(OCXDFI,"VAL")=^TMP("OCXCHK",$J,OCXDFN,OCXELE,OCXDFI)
"RTN","ORY42306",66,0)
 ;;R^"860.8:",100,62
"RTN","ORY42306",67,0)
 ;;D^  ; ..S OCXDATA("B",OCXDFI,OCXDFI)=""
"RTN","ORY42306",68,0)
 ;;R^"860.8:",100,63
"RTN","ORY42306",69,0)
 ;;D^T+; ..D SETAP(OCXGR2_")","860.71223P","Data Field",$P($G(^OCXS(860.4,OCXDFI,0)),U,1),.OCXDATA,OCXDFI)
"RTN","ORY42306",70,0)
 ;;R^"860.8:",100,64
"RTN","ORY42306",71,0)
 ;;D^T-; ..D SETAP(OCXGR2_")","860.71223P",.OCXDATA,OCXDFI)
"RTN","ORY42306",72,0)
 ;;R^"860.8:",100,65
"RTN","ORY42306",73,0)
 ;;D^  ; ;
"RTN","ORY42306",74,0)
 ;;R^"860.8:",100,66
"RTN","ORY42306",75,0)
 ;;D^  ; Q 1
"RTN","ORY42306",76,0)
 ;;R^"860.8:",100,67
"RTN","ORY42306",77,0)
 ;;D^  ; ;
"RTN","ORY42306",78,0)
 ;;R^"860.8:",100,68
"RTN","ORY42306",79,0)
 ;;D^T+;SETAP(ROOT,DD,ITEM,ITEMNAME,DATA,DA) ;  Set Rule Event data
"RTN","ORY42306",80,0)
 ;;R^"860.8:",100,69
"RTN","ORY42306",81,0)
 ;;D^T-;SETAP(ROOT,DD,DATA,DA) ;  Set Rule Event data
"RTN","ORY42306",82,0)
 ;;R^"860.8:",100,70
"RTN","ORY42306",83,0)
 ;;D^  ; M @ROOT=DATA
"RTN","ORY42306",84,0)
 ;;R^"860.8:",100,71
"RTN","ORY42306",85,0)
 ;;D^  ; I +$G(DD) S @ROOT@(0)="^"_($G(DD))_"^"_($P($G(@ROOT@(0)),U,3)+1)_"^"_$G(DA)
"RTN","ORY42306",86,0)
 ;;R^"860.8:",100,72
"RTN","ORY42306",87,0)
 ;;D^  ; I '$G(DD) S $P(@ROOT@(0),U,3,4)=($P($G(@ROOT@(0)),U,3)+1)_"^"_$G(DA)
"RTN","ORY42306",88,0)
 ;;R^"860.8:",100,73
"RTN","ORY42306",89,0)
 ;;D^T+; W:$G(OCXTRACE) !,"File Active Data ",$G(ITEM),": ",$G(ITEMNAME)
"RTN","ORY42306",90,0)
 ;;R^"860.8:",100,74
"RTN","ORY42306",91,0)
 ;;D^  ; ;
"RTN","ORY42306",92,0)
 ;;R^"860.8:",100,75
"RTN","ORY42306",93,0)
 ;;D^  ; Q
"RTN","ORY42306",94,0)
 ;;R^"860.8:",100,76
"RTN","ORY42306",95,0)
 ;;D^  ; ;
"RTN","ORY42306",96,0)
 ;;R^"860.8:",100,77
"RTN","ORY42306",97,0)
 ;;D^  ; ;
"RTN","ORY42306",98,0)
 ;;EOR^
"RTN","ORY42306",99,0)
 ;;KEY^860.8:^PATIENT LOCATION
"RTN","ORY42306",100,0)
 ;;R^"860.8:",.01,"E"
"RTN","ORY42306",101,0)
 ;;D^PATIENT LOCATION
"RTN","ORY42306",102,0)
 ;;R^"860.8:",.02,"E"
"RTN","ORY42306",103,0)
 ;;D^PATLOC
"RTN","ORY42306",104,0)
 ;;R^"860.8:",1,1
"RTN","ORY42306",105,0)
 ;;D^Returns the Inpatient or Outpatient location for the patient.
"RTN","ORY42306",106,0)
 ;;R^"860.8:",1,2
"RTN","ORY42306",107,0)
 ;;D^ 
"RTN","ORY42306",108,0)
 ;;R^"860.8:",1,3
"RTN","ORY42306",109,0)
 ;;D^  Input: DFN
"RTN","ORY42306",110,0)
 ;;R^"860.8:",1,4
"RTN","ORY42306",111,0)
 ;;D^  Output: Patient Status (I/O) Inpatient/Outpatient
"RTN","ORY42306",112,0)
 ;;R^"860.8:",1,5
"RTN","ORY42306",113,0)
 ;;D^          Patient Location (Free text name)
"RTN","ORY42306",114,0)
 ;;R^"860.8:",100,1
"RTN","ORY42306",115,0)
 ;;D^  ;PATLOC(DFN) ;
"RTN","ORY42306",116,0)
 ;;R^"860.8:",100,2
"RTN","ORY42306",117,0)
 ;;D^  ; ;
"RTN","ORY42306",118,0)
 ;;R^"860.8:",100,3
"RTN","ORY42306",119,0)
 ;;D^  ; N OCXP1,OCXP2
"RTN","ORY42306",120,0)
 ;;R^"860.8:",100,4
"RTN","ORY42306",121,0)
 ;;D^  ; S OCXP1=$G(^TMP("OCXSWAP",$J,"OCXODATA","PV1",2))
"RTN","ORY42306",122,0)
 ;;R^"860.8:",100,5
"RTN","ORY42306",123,0)
 ;;D^  ; S OCXP2=$P($G(^TMP("OCXSWAP",$J,"OCXODATA","PV1",3)),"^",1)
"RTN","ORY42306",124,0)
 ;;R^"860.8:",100,6
"RTN","ORY42306",125,0)
 ;;D^T+; W:$G(OCXTRACE) !,"OCXP2: ",$G(OCXP1)
"RTN","ORY42306",126,0)
 ;;R^"860.8:",100,7
"RTN","ORY42306",127,0)
 ;;D^T+; W:$G(OCXTRACE) !,"OCXP2: ",$G(OCXP2)
"RTN","ORY42306",128,0)
 ;;R^"860.8:",100,8
"RTN","ORY42306",129,0)
 ;;D^  ; I OCXP2 D
"RTN","ORY42306",130,0)
 ;;R^"860.8:",100,9
"RTN","ORY42306",131,0)
 ;;D^  ; .S OCXP2=$P($G(^SC(+OCXP2,0)),"^",1,2)
"RTN","ORY42306",132,0)
 ;;R^"860.8:",100,10
"RTN","ORY42306",133,0)
 ;;D^  ; .I $L($P(OCXP2,"^",2)) S OCXP2=$P(OCXP2,"^",2)
"RTN","ORY42306",134,0)
 ;;R^"860.8:",100,11
"RTN","ORY42306",135,0)
 ;;D^  ; .E  S OCXP2=$P(OCXP2,"^",1)
"RTN","ORY42306",136,0)
 ;;R^"860.8:",100,12
"RTN","ORY42306",137,0)
 ;;D^  ; .S:'$L(OCXP2) OCXP2="NO LOC"
"RTN","ORY42306",138,0)
 ;;R^"860.8:",100,13
"RTN","ORY42306",139,0)
 ;;D^  ; I $L(OCXP1),$L(OCXP2) Q OCXP1_"^"_OCXP2
"RTN","ORY42306",140,0)
 ;;R^"860.8:",100,14
"RTN","ORY42306",141,0)
 ;;D^  ; ;
"RTN","ORY42306",142,0)
 ;;R^"860.8:",100,15
"RTN","ORY42306",143,0)
 ;;D^  ; S OCXP2=$G(^DPT(+$G(DFN),.1))
"RTN","ORY42306",144,0)
 ;;R^"860.8:",100,16
"RTN","ORY42306",145,0)
 ;;D^  ; I $L(OCXP2) Q "I^"_OCXP2
"RTN","ORY42306",146,0)
 ;;R^"860.8:",100,17
"RTN","ORY42306",147,0)
 ;;D^  ; Q "O^OUTPT"
"RTN","ORY42306",148,0)
 ;;R^"860.8:",100,18
"RTN","ORY42306",149,0)
 ;;D^  ; ;
"RTN","ORY42306",150,0)
 ;;EOR^
"RTN","ORY42306",151,0)
 ;;KEY^860.8:^RETURN POINTED TO VALUE
"RTN","ORY42306",152,0)
 ;;R^"860.8:",.01,"E"
"RTN","ORY42306",153,0)
 ;;D^RETURN POINTED TO VALUE
"RTN","ORY42306",154,0)
 ;;R^"860.8:",.02,"E"
"RTN","ORY42306",155,0)
 ;;D^POINTER
"RTN","ORY42306",156,0)
 ;;R^"860.8:",1,1
"RTN","ORY42306",157,0)
 ;;D^  ;POINTER(OCXFILE,D0) ;    This Local Extrinsic Function gets the value of the name field
"RTN","ORY42306",158,0)
 ;;R^"860.8:",1,2
"RTN","ORY42306",159,0)
 ;;D^  ; ;  of record D0 in file OCXFILE
"RTN","ORY42306",160,0)
 ;;R^"860.8:",100,1
"RTN","ORY42306",161,0)
 ;;D^  ;POINTER(OCXFILE,D0) ;    This Local Extrinsic Function gets the value of the name field
"RTN","ORY42306",162,0)
 ;;R^"860.8:",100,2
"RTN","ORY42306",163,0)
 ;;D^  ; ;  of record D0 in file OCXFILE
"RTN","ORY42306",164,0)
 ;;R^"860.8:",100,3
"RTN","ORY42306",165,0)
 ;;D^T+; I $G(OCXTRACE) W !,"%%%%",?20,"   FILE: ",$G(OCXFILE),"  D0: ",$G(D0)
"RTN","ORY42306",166,0)
 ;;R^"860.8:",100,4
"RTN","ORY42306",167,0)
 ;;D^  ; Q:'$G(D0) "" Q:'$L($G(OCXFILE)) ""
"RTN","ORY42306",168,0)
 ;;R^"860.8:",100,5
"RTN","ORY42306",169,0)
 ;;D^  ; N GLREF
"RTN","ORY42306",170,0)
 ;;R^"860.8:",100,6
"RTN","ORY42306",171,0)
 ;;D^  ; I '(OCXFILE=(+OCXFILE)) S GLREF=U_OCXFILE
"RTN","ORY42306",172,0)
 ;;R^"860.8:",100,7
"RTN","ORY42306",173,0)
 ;;D^  ; E  S GLREF=$$FILE^OCXBDTD(+OCXFILE,"GLOBAL NAME") Q:'$L(GLREF) ""
"RTN","ORY42306",174,0)
 ;;R^"860.8:",100,8
"RTN","ORY42306",175,0)
 ;;D^T+; I $G(OCXTRACE) W !,"%%%%",?20," GLREF: ",GLREF,"  RESOLVES TO: ",$P($G(@(GLREF_(+D0)_",0)")),U,1)
"RTN","ORY42306",176,0)
 ;;R^"860.8:",100,9
"RTN","ORY42306",177,0)
 ;;D^  ; Q $P($G(@(GLREF_(+D0)_",0)")),U,1)
"RTN","ORY42306",178,0)
 ;;R^"860.8:",100,10
"RTN","ORY42306",179,0)
 ;;D^  ; ;
"RTN","ORY42306",180,0)
 ;;EOR^
"RTN","ORY42306",181,0)
 ;;KEY^860.8:^STRING CONTAINS ONE OF A LIST OF VALUES
"RTN","ORY42306",182,0)
 ;;R^"860.8:",.01,"E"
"RTN","ORY42306",183,0)
 ;;D^STRING CONTAINS ONE OF A LIST OF VALUES
"RTN","ORY42306",184,0)
 ;;R^"860.8:",.02,"E"
"RTN","ORY42306",185,0)
 ;;D^CLIST
"RTN","ORY42306",186,0)
 ;;R^"860.8:",100,1
"RTN","ORY42306",187,0)
 ;;D^  ;CLIST(DATA,LIST) ;   DOES THE DATA FIELD CONTAIN AN ELEMENT IN THE LIST
"RTN","ORY42306",188,0)
 ;;R^"860.8:",100,2
"RTN","ORY42306",189,0)
 ;;D^  ; ;
"RTN","ORY42306",190,0)
 ;;R^"860.8:",100,3
"RTN","ORY42306",191,0)
 ;;D^T+; W:$G(OCXTRACE) !!,"$$CLIST(",DATA,",""",LIST,""")"
"RTN","ORY42306",192,0)
 ;;R^"860.8:",100,4
"RTN","ORY42306",193,0)
 ;;D^  ; N PC F PC=1:1:$L(LIST,","),0 I PC,$L($P(LIST,",",PC)),(DATA[$P(LIST,",",PC)) Q
"RTN","ORY42306",194,0)
 ;;R^"860.8:",100,5
"RTN","ORY42306",195,0)
 ;;D^  ; Q ''PC
"RTN","ORY42306",196,0)
 ;;EOR^
"RTN","ORY42306",197,0)
 ;;EOF^OCXS(860.8)^1
"RTN","ORY42306",198,0)
 ;;SOF^860.6  ORDER CHECK DATA CONTEXT
"RTN","ORY42306",199,0)
 ;;KEY^860.6:^CPRS ORDER PRESCAN
"RTN","ORY42306",200,0)
 ;;R^"860.6:",.01,"E"
"RTN","ORY42306",201,0)
 ;;D^CPRS ORDER PRESCAN
"RTN","ORY42306",202,0)
 ;;R^"860.6:",.02,"E"
"RTN","ORY42306",203,0)
 ;;D^OEPS
"RTN","ORY42306",204,0)
 ;;R^"860.6:",1,"E"
"RTN","ORY42306",205,0)
 ;;D^DATA DRIVEN
"RTN","ORY42306",206,0)
 ;;EOR^
"RTN","ORY42306",207,0)
 ;;KEY^860.6:^CPRS ORDER PROTOCOL
"RTN","ORY42306",208,0)
 ;;R^"860.6:",.01,"E"
"RTN","ORY42306",209,0)
 ;;D^CPRS ORDER PROTOCOL
"RTN","ORY42306",210,0)
 ;;R^"860.6:",.02,"E"
"RTN","ORY42306",211,0)
 ;;D^OERR
"RTN","ORY42306",212,0)
 ;;R^"860.6:",1,"E"
"RTN","ORY42306",213,0)
 ;;D^DATA DRIVEN
"RTN","ORY42306",214,0)
 ;;EOR^
"RTN","ORY42306",215,0)
 ;;KEY^860.6:^DATABASE LOOKUP
"RTN","ORY42306",216,0)
 ;;R^"860.6:",.01,"E"
"RTN","ORY42306",217,0)
 ;;D^DATABASE LOOKUP
"RTN","ORY42306",218,0)
 ;;R^"860.6:",.02,"E"
"RTN","ORY42306",219,0)
 ;;D^DL
"RTN","ORY42306",220,0)
 ;;R^"860.6:",1,"E"
"RTN","ORY42306",221,0)
 ;;D^PACKAGE LOOKUP
"RTN","ORY42306",222,0)
 ;;EOR^
"RTN","ORY42306",223,0)
 ;;KEY^860.6:^GENERIC HL7 MESSAGE ARRAY
"RTN","ORY42306",224,0)
 ;;R^"860.6:",.01,"E"
"RTN","ORY42306",225,0)
 ;;D^GENERIC HL7 MESSAGE ARRAY
"RTN","ORY42306",226,0)
 ;;R^"860.6:",.02,"E"
"RTN","ORY42306",227,0)
 ;;D^HL7
"RTN","ORY42306",228,0)
 ;;R^"860.6:",1,"E"
"RTN","ORY42306",229,0)
 ;;D^DATA DRIVEN
"RTN","ORY42306",230,0)
 ;;EOR^
"RTN","ORY42306",231,0)
 ;;EOF^OCXS(860.6)^1
"RTN","ORY42306",232,0)
 ;;SOF^860.5  ORDER CHECK DATA SOURCE
"RTN","ORY42306",233,0)
 ;;KEY^860.5:^DATABASE LOOKUP
"RTN","ORY42306",234,0)
 ;;R^"860.5:",.01,"E"
"RTN","ORY42306",235,0)
 ;;D^DATABASE LOOKUP
"RTN","ORY42306",236,0)
 ;;R^"860.5:",.02,"E"
"RTN","ORY42306",237,0)
 ;;D^DATABASE LOOKUP
"RTN","ORY42306",238,0)
 ;;EOR^
"RTN","ORY42306",239,0)
 ;;KEY^860.5:^HL7 COMMON ORDER SEGMENT
"RTN","ORY42306",240,0)
 ;;R^"860.5:",.01,"E"
"RTN","ORY42306",241,0)
 ;;D^HL7 COMMON ORDER SEGMENT
"RTN","ORY42306",242,0)
 ;;R^"860.5:",.02,"E"
"RTN","ORY42306",243,0)
 ;;D^GENERIC HL7 MESSAGE ARRAY
"RTN","ORY42306",244,0)
 ;;EOR^
"RTN","ORY42306",245,0)
 ;;KEY^860.5:^HL7 PATIENT ID SEGMENT
"RTN","ORY42306",246,0)
 ;;R^"860.5:",.01,"E"
"RTN","ORY42306",247,0)
 ;;D^HL7 PATIENT ID SEGMENT
"RTN","ORY42306",248,0)
 ;;R^"860.5:",.02,"E"
"RTN","ORY42306",249,0)
 ;;D^GENERIC HL7 MESSAGE ARRAY
"RTN","ORY42306",250,0)
 ;;EOR^
"RTN","ORY42306",251,0)
 ;;KEY^860.5:^OERR ORDER EVENT FLAG PROTOCOL
"RTN","ORY42306",252,0)
 ;;R^"860.5:",.01,"E"
"RTN","ORY42306",253,0)
 ;;D^OERR ORDER EVENT FLAG PROTOCOL
"RTN","ORY42306",254,0)
 ;;R^"860.5:",.02,"E"
"RTN","ORY42306",255,0)
 ;;D^CPRS ORDER PROTOCOL
"RTN","ORY42306",256,0)
 ;;EOR^
"RTN","ORY42306",257,0)
 ;;KEY^860.5:^ORDER ENTRY ORDER PRESCAN
"RTN","ORY42306",258,0)
 ;;R^"860.5:",.01,"E"
"RTN","ORY42306",259,0)
 ;;D^ORDER ENTRY ORDER PRESCAN
"RTN","ORY42306",260,0)
 ;1;
"RTN","ORY42306",261,0)
 ;
"RTN","ORY42307")
0^15^B43427611
"RTN","ORY42307",1,0)
ORY42307 ;SLC/RJS,CLA - OCX PACKAGE RULE TRANSPORT ROUTINE (Delete after Install of OR*3*423) ;JUN 29,2016 at 06:15
"RTN","ORY42307",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17,1997;Build 19
"RTN","ORY42307",3,0)
 ;;  ;;ORDER CHECK EXPERT version 1.01 released OCT 29,1998
"RTN","ORY42307",4,0)
 ;
"RTN","ORY42307",5,0)
S ;
"RTN","ORY42307",6,0)
 ;
"RTN","ORY42307",7,0)
 D DOT^ORY423ES
"RTN","ORY42307",8,0)
 ;
"RTN","ORY42307",9,0)
 ;
"RTN","ORY42307",10,0)
 K REMOTE,LOCAL,OPCODE,REF
"RTN","ORY42307",11,0)
 F LINE=1:1:500 S TEXT=$P($T(DATA+LINE),";",2,999) Q:TEXT  I $L(TEXT) D  Q:QUIT
"RTN","ORY42307",12,0)
 .S ^TMP("OCXRULE",$J,$O(^TMP("OCXRULE",$J,"A"),-1)+1)=TEXT
"RTN","ORY42307",13,0)
 ;
"RTN","ORY42307",14,0)
 ;
"RTN","ORY42307",15,0)
 ;
"RTN","ORY42307",16,0)
 Q
"RTN","ORY42307",17,0)
 ;
"RTN","ORY42307",18,0)
DATA ;
"RTN","ORY42307",19,0)
 ;
"RTN","ORY42307",20,0)
 ;;R^"860.5:",.02,"E"
"RTN","ORY42307",21,0)
 ;;D^CPRS ORDER PRESCAN
"RTN","ORY42307",22,0)
 ;;EOR^
"RTN","ORY42307",23,0)
 ;;EOF^OCXS(860.5)^1
"RTN","ORY42307",24,0)
 ;;SOF^860.4  ORDER CHECK DATA FIELD
"RTN","ORY42307",25,0)
 ;;KEY^860.4:^CONTROL CODE
"RTN","ORY42307",26,0)
 ;;R^"860.4:",.01,"E"
"RTN","ORY42307",27,0)
 ;;D^CONTROL CODE
"RTN","ORY42307",28,0)
 ;;R^"860.4:",101,"E"
"RTN","ORY42307",29,0)
 ;;D^FREE TEXT
"RTN","ORY42307",30,0)
 ;;R^"860.4:","860.41:GENERIC HL7 MESSAGE ARRAY^860.6",.01,"E"
"RTN","ORY42307",31,0)
 ;;D^GENERIC HL7 MESSAGE ARRAY
"RTN","ORY42307",32,0)
 ;;R^"860.4:","860.41:GENERIC HL7 MESSAGE ARRAY^860.6",.02,"E"
"RTN","ORY42307",33,0)
 ;;D^HL7 COMMON ORDER SEGMENT
"RTN","ORY42307",34,0)
 ;;R^"860.4:","860.41:GENERIC HL7 MESSAGE ARRAY^860.6",1,"E"
"RTN","ORY42307",35,0)
 ;;D^PATIENT.HL7_CONTROL_CODE
"RTN","ORY42307",36,0)
 ;;EOR^
"RTN","ORY42307",37,0)
 ;;KEY^860.4:^INPT/OUTPT
"RTN","ORY42307",38,0)
 ;;R^"860.4:",.01,"E"
"RTN","ORY42307",39,0)
 ;;D^INPT/OUTPT
"RTN","ORY42307",40,0)
 ;;R^"860.4:",1,"E"
"RTN","ORY42307",41,0)
 ;;D^IPT/OPT
"RTN","ORY42307",42,0)
 ;;R^"860.4:",101,"E"
"RTN","ORY42307",43,0)
 ;;D^FREE TEXT
"RTN","ORY42307",44,0)
 ;;R^"860.4:","860.41:DATABASE LOOKUP^860.6",.01,"E"
"RTN","ORY42307",45,0)
 ;;D^DATABASE LOOKUP
"RTN","ORY42307",46,0)
 ;;R^"860.4:","860.41:DATABASE LOOKUP^860.6",.02,"E"
"RTN","ORY42307",47,0)
 ;;D^DATABASE LOOKUP
"RTN","ORY42307",48,0)
 ;;R^"860.4:","860.41:DATABASE LOOKUP^860.6",1,"E"
"RTN","ORY42307",49,0)
 ;;D^PATIENT.INPT/OUTPT
"RTN","ORY42307",50,0)
 ;;EOR^
"RTN","ORY42307",51,0)
 ;;KEY^860.4:^ORDER NUMBER
"RTN","ORY42307",52,0)
 ;;R^"860.4:",.01,"E"
"RTN","ORY42307",53,0)
 ;;D^ORDER NUMBER
"RTN","ORY42307",54,0)
 ;;R^"860.4:",101,"E"
"RTN","ORY42307",55,0)
 ;;D^NUMERIC
"RTN","ORY42307",56,0)
 ;;R^"860.4:","860.41:CPRS ORDER PRESCAN^860.6",.01,"E"
"RTN","ORY42307",57,0)
 ;;D^CPRS ORDER PRESCAN
"RTN","ORY42307",58,0)
 ;;R^"860.4:","860.41:CPRS ORDER PRESCAN^860.6",.02,"E"
"RTN","ORY42307",59,0)
 ;;D^ORDER ENTRY ORDER PRESCAN
"RTN","ORY42307",60,0)
 ;;R^"860.4:","860.41:CPRS ORDER PRESCAN^860.6",1,"E"
"RTN","ORY42307",61,0)
 ;;D^PATIENT.OPS_ORDER NUMBER
"RTN","ORY42307",62,0)
 ;;R^"860.4:","860.41:CPRS ORDER PROTOCOL^860.6",.01,"E"
"RTN","ORY42307",63,0)
 ;;D^CPRS ORDER PROTOCOL
"RTN","ORY42307",64,0)
 ;;R^"860.4:","860.41:CPRS ORDER PROTOCOL^860.6",.02,"E"
"RTN","ORY42307",65,0)
 ;;D^OERR ORDER EVENT FLAG PROTOCOL
"RTN","ORY42307",66,0)
 ;;R^"860.4:","860.41:CPRS ORDER PROTOCOL^860.6",1,"E"
"RTN","ORY42307",67,0)
 ;;D^PATIENT.OERR ORDER NUMBER
"RTN","ORY42307",68,0)
 ;;R^"860.4:","860.41:GENERIC HL7 MESSAGE ARRAY^860.6",.01,"E"
"RTN","ORY42307",69,0)
 ;;D^GENERIC HL7 MESSAGE ARRAY
"RTN","ORY42307",70,0)
 ;;R^"860.4:","860.41:GENERIC HL7 MESSAGE ARRAY^860.6",.02,"E"
"RTN","ORY42307",71,0)
 ;;D^HL7 COMMON ORDER SEGMENT
"RTN","ORY42307",72,0)
 ;;R^"860.4:","860.41:GENERIC HL7 MESSAGE ARRAY^860.6",1,"E"
"RTN","ORY42307",73,0)
 ;;D^PATIENT.HL7 ORDER NUMBER
"RTN","ORY42307",74,0)
 ;;EOR^
"RTN","ORY42307",75,0)
 ;;KEY^860.4:^ORDER TYPE
"RTN","ORY42307",76,0)
 ;;R^"860.4:",.01,"E"
"RTN","ORY42307",77,0)
 ;;D^ORDER TYPE
"RTN","ORY42307",78,0)
 ;;R^"860.4:",1,"E"
"RTN","ORY42307",79,0)
 ;;D^ORDTYPE
"RTN","ORY42307",80,0)
 ;;R^"860.4:",101,"E"
"RTN","ORY42307",81,0)
 ;;D^FREE TEXT
"RTN","ORY42307",82,0)
 ;;R^"860.4:","860.41:DATABASE LOOKUP^860.6",.01,"E"
"RTN","ORY42307",83,0)
 ;;D^DATABASE LOOKUP
"RTN","ORY42307",84,0)
 ;;R^"860.4:","860.41:DATABASE LOOKUP^860.6",.02,"E"
"RTN","ORY42307",85,0)
 ;;D^DATABASE LOOKUP
"RTN","ORY42307",86,0)
 ;;R^"860.4:","860.41:DATABASE LOOKUP^860.6",1,"E"
"RTN","ORY42307",87,0)
 ;;D^ORDER TYPE
"RTN","ORY42307",88,0)
 ;;EOR^
"RTN","ORY42307",89,0)
 ;;KEY^860.4:^PATIENT IEN
"RTN","ORY42307",90,0)
 ;;R^"860.4:",.01,"E"
"RTN","ORY42307",91,0)
 ;;D^PATIENT IEN
"RTN","ORY42307",92,0)
 ;;R^"860.4:",101,"E"
"RTN","ORY42307",93,0)
 ;;D^NUMERIC
"RTN","ORY42307",94,0)
 ;;R^"860.4:","860.41:CPRS ORDER PROTOCOL^860.6",.01,"E"
"RTN","ORY42307",95,0)
 ;;D^CPRS ORDER PROTOCOL
"RTN","ORY42307",96,0)
 ;;R^"860.4:","860.41:CPRS ORDER PROTOCOL^860.6",.02,"E"
"RTN","ORY42307",97,0)
 ;;D^OERR ORDER EVENT FLAG PROTOCOL
"RTN","ORY42307",98,0)
 ;;R^"860.4:","860.41:CPRS ORDER PROTOCOL^860.6",1,"E"
"RTN","ORY42307",99,0)
 ;;D^PATIENT.OERR_ORDER_PATIENT
"RTN","ORY42307",100,0)
 ;;R^"860.4:","860.41:DATABASE LOOKUP^860.6",.01,"E"
"RTN","ORY42307",101,0)
 ;;D^DATABASE LOOKUP
"RTN","ORY42307",102,0)
 ;;R^"860.4:","860.41:DATABASE LOOKUP^860.6",.02,"E"
"RTN","ORY42307",103,0)
 ;;D^DATABASE LOOKUP
"RTN","ORY42307",104,0)
 ;;R^"860.4:","860.41:DATABASE LOOKUP^860.6",1,"E"
"RTN","ORY42307",105,0)
 ;;D^PATIENT.IEN
"RTN","ORY42307",106,0)
 ;;R^"860.4:","860.41:GENERIC HL7 MESSAGE ARRAY^860.6",.01,"E"
"RTN","ORY42307",107,0)
 ;;D^GENERIC HL7 MESSAGE ARRAY
"RTN","ORY42307",108,0)
 ;;R^"860.4:","860.41:GENERIC HL7 MESSAGE ARRAY^860.6",.02,"E"
"RTN","ORY42307",109,0)
 ;;D^HL7 PATIENT ID SEGMENT
"RTN","ORY42307",110,0)
 ;;R^"860.4:","860.41:GENERIC HL7 MESSAGE ARRAY^860.6",1,"E"
"RTN","ORY42307",111,0)
 ;;D^PATIENT.HL7_PATIENT_ID
"RTN","ORY42307",112,0)
 ;;EOR^
"RTN","ORY42307",113,0)
 ;;KEY^860.4:^SITE FLAGGED ORDER
"RTN","ORY42307",114,0)
 ;;R^"860.4:",.01,"E"
"RTN","ORY42307",115,0)
 ;;D^SITE FLAGGED ORDER
"RTN","ORY42307",116,0)
 ;;R^"860.4:",1,"E"
"RTN","ORY42307",117,0)
 ;;D^SITEORD
"RTN","ORY42307",118,0)
 ;;R^"860.4:",101,"E"
"RTN","ORY42307",119,0)
 ;;D^BOOLEAN
"RTN","ORY42307",120,0)
 ;;R^"860.4:","860.41:DATABASE LOOKUP^860.6",.01,"E"
"RTN","ORY42307",121,0)
 ;;D^DATABASE LOOKUP
"RTN","ORY42307",122,0)
 ;;R^"860.4:","860.41:DATABASE LOOKUP^860.6",.02,"E"
"RTN","ORY42307",123,0)
 ;;D^DATABASE LOOKUP
"RTN","ORY42307",124,0)
 ;;R^"860.4:","860.41:DATABASE LOOKUP^860.6",1,"E"
"RTN","ORY42307",125,0)
 ;;D^PATIENT.SITE_FLAGGED_ORDER
"RTN","ORY42307",126,0)
 ;;EOR^
"RTN","ORY42307",127,0)
 ;;EOF^OCXS(860.4)^1
"RTN","ORY42307",128,0)
 ;;SOF^860.3  ORDER CHECK ELEMENT
"RTN","ORY42307",129,0)
 ;;KEY^860.3:^INPATIENT
"RTN","ORY42307",130,0)
 ;;R^"860.3:",.01,"E"
"RTN","ORY42307",131,0)
 ;;D^INPATIENT
"RTN","ORY42307",132,0)
 ;;R^"860.3:",.02,"E"
"RTN","ORY42307",133,0)
 ;;D^GENERIC HL7 MESSAGE ARRAY
"RTN","ORY42307",134,0)
 ;;R^"860.3:","860.31:1",.01,"E"
"RTN","ORY42307",135,0)
 ;;D^1
"RTN","ORY42307",136,0)
 ;;R^"860.3:","860.31:1",1,"E"
"RTN","ORY42307",137,0)
 ;;D^ORDER TYPE
"RTN","ORY42307",138,0)
 ;;R^"860.3:","860.31:1",2,"E"
"RTN","ORY42307",139,0)
 ;;D^EQ FREE TEXT
"RTN","ORY42307",140,0)
 ;;R^"860.3:","860.31:1",3,"E"
"RTN","ORY42307",141,0)
 ;;D^"I"
"RTN","ORY42307",142,0)
 ;;EOR^
"RTN","ORY42307",143,0)
 ;;KEY^860.3:^NEW SITE FLAGGED ORDER
"RTN","ORY42307",144,0)
 ;;R^"860.3:",.01,"E"
"RTN","ORY42307",145,0)
 ;;D^NEW SITE FLAGGED ORDER
"RTN","ORY42307",146,0)
 ;;R^"860.3:",.02,"E"
"RTN","ORY42307",147,0)
 ;;D^GENERIC HL7 MESSAGE ARRAY
"RTN","ORY42307",148,0)
 ;;R^"860.3:","860.31:1",.01,"E"
"RTN","ORY42307",149,0)
 ;;D^1
"RTN","ORY42307",150,0)
 ;;R^"860.3:","860.31:1",1,"E"
"RTN","ORY42307",151,0)
 ;;D^SITE FLAGGED ORDER
"RTN","ORY42307",152,0)
 ;;R^"860.3:","860.31:1",2,"E"
"RTN","ORY42307",153,0)
 ;;D^LOGICAL TRUE
"RTN","ORY42307",154,0)
 ;;R^"860.3:","860.31:2",.01,"E"
"RTN","ORY42307",155,0)
 ;;D^2
"RTN","ORY42307",156,0)
 ;;R^"860.3:","860.31:2",1,"E"
"RTN","ORY42307",157,0)
 ;;D^CONTROL CODE
"RTN","ORY42307",158,0)
 ;;R^"860.3:","860.31:2",2,"E"
"RTN","ORY42307",159,0)
 ;;D^EQUALS ELEMENT IN SET
"RTN","ORY42307",160,0)
 ;;R^"860.3:","860.31:2",3,"E"
"RTN","ORY42307",161,0)
 ;;D^NW,SN,XO
"RTN","ORY42307",162,0)
 ;;EOR^
"RTN","ORY42307",163,0)
 ;;KEY^860.3:^OUTPATIENT
"RTN","ORY42307",164,0)
 ;;R^"860.3:",.01,"E"
"RTN","ORY42307",165,0)
 ;;D^OUTPATIENT
"RTN","ORY42307",166,0)
 ;;R^"860.3:",.02,"E"
"RTN","ORY42307",167,0)
 ;;D^GENERIC HL7 MESSAGE ARRAY
"RTN","ORY42307",168,0)
 ;;R^"860.3:","860.31:1",.01,"E"
"RTN","ORY42307",169,0)
 ;;D^1
"RTN","ORY42307",170,0)
 ;;R^"860.3:","860.31:1",1,"E"
"RTN","ORY42307",171,0)
 ;;D^ORDER TYPE
"RTN","ORY42307",172,0)
 ;;R^"860.3:","860.31:1",2,"E"
"RTN","ORY42307",173,0)
 ;;D^EQ FREE TEXT
"RTN","ORY42307",174,0)
 ;;R^"860.3:","860.31:1",3,"E"
"RTN","ORY42307",175,0)
 ;;D^"O"
"RTN","ORY42307",176,0)
 ;;EOR^
"RTN","ORY42307",177,0)
 ;;EOF^OCXS(860.3)^1
"RTN","ORY42307",178,0)
 ;;SOF^860.2  ORDER CHECK RULE
"RTN","ORY42307",179,0)
 ;;KEY^860.2:^SITE FLAGGED ORDER
"RTN","ORY42307",180,0)
 ;;R^"860.2:",.01,"E"
"RTN","ORY42307",181,0)
 ;;D^SITE FLAGGED ORDER
"RTN","ORY42307",182,0)
 ;;R^"860.2:","860.21:1",.01,"E"
"RTN","ORY42307",183,0)
 ;;D^NEW SITE FLAGGED ORDER
"RTN","ORY42307",184,0)
 ;;R^"860.2:","860.21:1",.02,"E"
"RTN","ORY42307",185,0)
 ;;D^SIMPLE DEFINITION
"RTN","ORY42307",186,0)
 ;;R^"860.2:","860.21:1",1,"E"
"RTN","ORY42307",187,0)
 ;;D^NEW SITE FLAGGED ORDER
"RTN","ORY42307",188,0)
 ;;R^"860.2:","860.21:2",.01,"E"
"RTN","ORY42307",189,0)
 ;;D^INPATIENT
"RTN","ORY42307",190,0)
 ;;R^"860.2:","860.21:2",.02,"E"
"RTN","ORY42307",191,0)
 ;;D^SIMPLE DEFINITION
"RTN","ORY42307",192,0)
 ;;R^"860.2:","860.21:2",1,"E"
"RTN","ORY42307",193,0)
 ;;D^INPATIENT
"RTN","ORY42307",194,0)
 ;;R^"860.2:","860.21:3",.01,"E"
"RTN","ORY42307",195,0)
 ;;D^OUTPATIENT
"RTN","ORY42307",196,0)
 ;;R^"860.2:","860.21:3",.02,"E"
"RTN","ORY42307",197,0)
 ;;D^SIMPLE DEFINITION
"RTN","ORY42307",198,0)
 ;;R^"860.2:","860.21:3",1,"E"
"RTN","ORY42307",199,0)
 ;;D^OUTPATIENT
"RTN","ORY42307",200,0)
 ;;R^"860.2:","860.22:1",.01,"E"
"RTN","ORY42307",201,0)
 ;;D^1
"RTN","ORY42307",202,0)
 ;;R^"860.2:","860.22:1",1,"E"
"RTN","ORY42307",203,0)
 ;;D^NEW SITE FLAGGED ORDER AND INPATIENT
"RTN","ORY42307",204,0)
 ;;R^"860.2:","860.22:1",9,"E"
"RTN","ORY42307",205,0)
 ;;D^D FIREFLOI^ORB3F1(|ORDER NUMBER|,|PT LOC|,|ORDER ST D/T|,|INPT/OUTPT|)
"RTN","ORY42307",206,0)
 ;;R^"860.2:","860.22:2",.01,"E"
"RTN","ORY42307",207,0)
 ;;D^2
"RTN","ORY42307",208,0)
 ;;R^"860.2:","860.22:2",1,"E"
"RTN","ORY42307",209,0)
 ;;D^NEW SITE FLAGGED ORDER AND OUTPATIENT
"RTN","ORY42307",210,0)
 ;;R^"860.2:","860.22:2",9,"E"
"RTN","ORY42307",211,0)
 ;;D^D FIREFLOI^ORB3F1(|ORDER NUMBER|,|PT LOC|,|ORDER ST D/T|,|INPT/OUTPT|)
"RTN","ORY42307",212,0)
 ;;EOR^
"RTN","ORY42307",213,0)
 ;;EOF^OCXS(860.2)^1
"RTN","ORY42307",214,0)
 ;1;
"RTN","ORY42307",215,0)
 ;
"RTN","ORY4231")
0^19^B40549530
"RTN","ORY4231",1,0)
ORY4231 ;SLC/RJS,CLA - OCX PACKAGE RULE TRANSPORT ROUTINE (Delete after Install of OR*3*423) ;JUN 29,2016 at 06:15
"RTN","ORY4231",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17,1997;Build 19
"RTN","ORY4231",3,0)
 ;;  ;;ORDER CHECK EXPERT version 1.01 released OCT 29,1998
"RTN","ORY4231",4,0)
 ;
"RTN","ORY4231",5,0)
S ;
"RTN","ORY4231",6,0)
 ;
"RTN","ORY4231",7,0)
 Q
"RTN","ORY4231",8,0)
 ;
"RTN","ORY4231",9,0)
 ;
"RTN","ORY4231",10,0)
COMPARE(L,R) ;
"RTN","ORY4231",11,0)
 ;
"RTN","ORY4231",12,0)
 Q:$$RES("R") 1
"RTN","ORY4231",13,0)
 ;
"RTN","ORY4231",14,0)
 Q:'$L($O(L(""))) $$ADDREC^ORY4232("R")
"RTN","ORY4231",15,0)
 ;
"RTN","ORY4231",16,0)
 N C,OCXDD M C=L,C=R S OCXDD=$O(C("")) Q $$MULT("C",OCXDD)
"RTN","ORY4231",17,0)
 ;
"RTN","ORY4231",18,0)
 Q 0
"RTN","ORY4231",19,0)
 ;
"RTN","ORY4231",20,0)
RES(REF) ;
"RTN","ORY4231",21,0)
 ;
"RTN","ORY4231",22,0)
 N QUIT,SUB
"RTN","ORY4231",23,0)
 S QUIT=0
"RTN","ORY4231",24,0)
 S SUB="" F  S SUB=$O(@REF@(SUB)) Q:'$L(SUB)  I (SUB[":") D  Q:QUIT
"RTN","ORY4231",25,0)
 .N DD,DA
"RTN","ORY4231",26,0)
 .S DD=$P(SUB,":",1),DA=$P(SUB,":",2)
"RTN","ORY4231",27,0)
 .I $L(DA),'(DA=+DA) D  Q:QUIT
"RTN","ORY4231",28,0)
 ..N DANEW,SUBNEW
"RTN","ORY4231",29,0)
 ..S DANEW=$O(^OCXS($P(DA,U,2),"B",$P(DA,U,1),0))
"RTN","ORY4231",30,0)
 ..I 'DANEW W !!,$P($G(^OCXS(+$P(DA,U,2),0)),U,1),": ",$P(DA,U,1),"  could not resolve name.",!!,"    End Transport." S QUIT=1 Q
"RTN","ORY4231",31,0)
 ..S SUBNEW=DD_":"_DANEW
"RTN","ORY4231",32,0)
 ..I $D(@REF@(SUBNEW)) W !!," multiple #",DANEW," already existed." S QUIT=1 Q
"RTN","ORY4231",33,0)
 ..M @REF@(SUBNEW)=@REF@(SUB)
"RTN","ORY4231",34,0)
 ..K @REF@(SUB)
"RTN","ORY4231",35,0)
 ..S SUB=""
"RTN","ORY4231",36,0)
 .I $L(SUB),($D(@REF@(SUB))>9) S QUIT=$$RES($NA(@REF@(SUB)))
"RTN","ORY4231",37,0)
 ;
"RTN","ORY4231",38,0)
 Q QUIT
"RTN","ORY4231",39,0)
 ;
"RTN","ORY4231",40,0)
MULT(CREF,OCXDD) ;
"RTN","ORY4231",41,0)
 ;
"RTN","ORY4231",42,0)
 N OCXSUB,LREF,RREF,QUIT,OCXFLD
"RTN","ORY4231",43,0)
 S LREF="L"_$E(CREF,2,$L(CREF)),RREF="R"_$E(CREF,2,$L(CREF))
"RTN","ORY4231",44,0)
 ;
"RTN","ORY4231",45,0)
 S QUIT=0,OCXFLD="" F  S OCXFLD=$O(@CREF@(OCXDD,OCXFLD)) Q:'$L(OCXFLD)  D  Q:QUIT
"RTN","ORY4231",46,0)
 .I (OCXFLD[":") D  Q:QUIT
"RTN","ORY4231",47,0)
 ..Q:$$EXFLD(+OCXFLD,0)
"RTN","ORY4231",48,0)
 ..I '$D(@LREF@(OCXDD,OCXFLD,.01,"E")) D  M @LREF@(OCXDD,OCXFLD)=@RREF@(OCXDD,OCXFLD)
"RTN","ORY4231",49,0)
 ...D WARN("Missing multiple:",CREF,OCXDD,OCXFLD)
"RTN","ORY4231",50,0)
 ...S QUIT=$$ADDMULT^ORY4233(CREF,OCXDD,OCXFLD)
"RTN","ORY4231",51,0)
 ..I '$D(@RREF@(OCXDD,OCXFLD,.01,"E")) D  M @RREF@(OCXDD,OCXFLD)=@LREF@(OCXDD,OCXFLD)
"RTN","ORY4231",52,0)
 ...D WARN("Extra multiple:",CREF,OCXDD,OCXFLD)
"RTN","ORY4231",53,0)
 ...S QUIT=$$DELMULT^ORY4233($$APPEND(CREF,OCXDD),OCXFLD)
"RTN","ORY4231",54,0)
 .;
"RTN","ORY4231",55,0)
 .I (OCXFLD=+OCXFLD),'$$EXFLD(+OCXDD,OCXFLD) D
"RTN","ORY4231",56,0)
 ..I ($O(@CREF@(OCXDD,OCXFLD,""))="E") D  Q
"RTN","ORY4231",57,0)
 ...I $L($G(@RREF@(OCXDD,OCXFLD,"E"))),'$L($G(@LREF@(OCXDD,OCXFLD,"E"))) D  Q
"RTN","ORY4231",58,0)
 ....D WARN("Data Value Missing in "_$$NETNAME^OCXSEND,CREF,OCXDD,OCXFLD,"E")
"RTN","ORY4231",59,0)
 ....S QUIT=$$EDITFLD^ORY4234(CREF,OCXDD,OCXFLD,"E")
"RTN","ORY4231",60,0)
 ...I $L($G(@LREF@(OCXDD,OCXFLD,"E"))),'$L($G(@RREF@(OCXDD,OCXFLD,"E"))) D  Q
"RTN","ORY4231",61,0)
 ....D WARN("Extra Data Value in "_$$NETNAME^OCXSEND,CREF,OCXDD,OCXFLD,"E")
"RTN","ORY4231",62,0)
 ....S QUIT=$$DELFLD^ORY4234(CREF,OCXDD,OCXFLD,"E")
"RTN","ORY4231",63,0)
 ...I '(@LREF@(OCXDD,OCXFLD,"E")=@RREF@(OCXDD,OCXFLD,"E")) D
"RTN","ORY4231",64,0)
 ....D WARN("Inconsistent Data",CREF,OCXDD,OCXFLD,"E")
"RTN","ORY4231",65,0)
 ....S QUIT=$$EDITFLD^ORY4234(CREF,OCXDD,OCXFLD,"E")
"RTN","ORY4231",66,0)
 ..S OCXSUB=0 F  Q:QUIT  S OCXSUB=$O(@CREF@(OCXDD,OCXFLD,OCXSUB)) Q:'OCXSUB  I '($G(@RREF@(OCXDD,OCXFLD,OCXSUB))=$G(@LREF@(OCXDD,OCXFLD,OCXSUB))) D  Q
"RTN","ORY4231",67,0)
 ...D WARN("Inconsistent word Data",CREF,OCXDD,OCXFLD,OCXSUB)
"RTN","ORY4231",68,0)
 ...S QUIT=$$LOADWORD^ORY4232(RREF,OCXDD,OCXFLD,OCXSUB)
"RTN","ORY4231",69,0)
 .;
"RTN","ORY4231",70,0)
 .I 'QUIT,(OCXFLD[":") S QUIT=$$MULT($$APPEND(CREF,OCXDD),OCXFLD)
"RTN","ORY4231",71,0)
 Q QUIT
"RTN","ORY4231",72,0)
 ;
"RTN","ORY4231",73,0)
APPEND(ARRAY,OCXSUB) ;
"RTN","ORY4231",74,0)
 S:'(OCXSUB=+OCXSUB) OCXSUB=""""_OCXSUB_""""
"RTN","ORY4231",75,0)
 Q:'(ARRAY["(") ARRAY_"("_OCXSUB_")"
"RTN","ORY4231",76,0)
 Q $E(ARRAY,1,$L(ARRAY)-1)_","_OCXSUB_")"
"RTN","ORY4231",77,0)
 ;
"RTN","ORY4231",78,0)
EXFLD(FILE,OCXFLD) ;
"RTN","ORY4231",79,0)
 N OCXFNAM
"RTN","ORY4231",80,0)
 S OCXFNAM=$$FIELD^OCXSENDD(FILE,OCXFLD,"LABEL")
"RTN","ORY4231",81,0)
 I (OCXFNAM["UNIQUE OBJECT IDENTIFIER") Q 1
"RTN","ORY4231",82,0)
 I (FILE=860.2),(OCXFLD=.02) Q 1
"RTN","ORY4231",83,0)
 I (FILE=860.22),(OCXFLD=4) Q 1
"RTN","ORY4231",84,0)
 I (FILE=860.3),(OCXFLD=3) Q 1
"RTN","ORY4231",85,0)
 I (FILE=860.9),(OCXFLD=1) Q 1
"RTN","ORY4231",86,0)
 I (FILE=860.91) Q 1
"RTN","ORY4231",87,0)
 I (FILE=860.801) Q 1
"RTN","ORY4231",88,0)
 I (FILE=860.81) Q 1
"RTN","ORY4231",89,0)
 I (FILE=861.01) Q 1
"RTN","ORY4231",90,0)
 I (FILE=863.02) Q 1
"RTN","ORY4231",91,0)
 I (FILE=863.54) Q 1
"RTN","ORY4231",92,0)
 I (FILE=863.61) Q 1
"RTN","ORY4231",93,0)
 I (FILE=863.72) Q 1
"RTN","ORY4231",94,0)
 I (FILE=863.81) Q 1
"RTN","ORY4231",95,0)
 I ($E(OCXFNAM,1)="*") Q 1
"RTN","ORY4231",96,0)
 Q 0
"RTN","ORY4231",97,0)
 ;
"RTN","ORY4231",98,0)
WARN(MSG,CREF,OCXDD,OCXFLD,OCXSUB) ;
"RTN","ORY4231",99,0)
 ;
"RTN","ORY4231",100,0)
 Q:$G(OCXAUTO)
"RTN","ORY4231",101,0)
 ;
"RTN","ORY4231",102,0)
 N D0,DASH,OCXDDPTH,OCXDPTR,FILE,FILEID,LREF,OCXPTR,RREF
"RTN","ORY4231",103,0)
 ;
"RTN","ORY4231",104,0)
 S DASH="",$P(DASH,"-",(55-$L(MSG)))="-"
"RTN","ORY4231",105,0)
 W !!,"------------",MSG,DASH
"RTN","ORY4231",106,0)
 D DSPHDR(CREF,OCXDD,OCXFLD)
"RTN","ORY4231",107,0)
 I $D(OCXSUB) D DSPFLD(CREF,OCXDD,OCXFLD,OCXSUB)
"RTN","ORY4231",108,0)
 I '$D(OCXSUB) D DSPREC(CREF,OCXDD,OCXFLD)
"RTN","ORY4231",109,0)
 ;
"RTN","ORY4231",110,0)
 W ! Q
"RTN","ORY4231",111,0)
 ;
"RTN","ORY4231",112,0)
DSPREC(CREF,OCXDD,OCXFLD) ;
"RTN","ORY4231",113,0)
 ;
"RTN","ORY4231",114,0)
 N OCXDPTR,OCXDDPTH,LEVL,OCXCREF,OCXSUB
"RTN","ORY4231",115,0)
 S OCXCREF=$$APPEND($$APPEND(CREF,OCXDD),OCXFLD)
"RTN","ORY4231",116,0)
 S OCXDDPTH=$P($P(OCXCREF,"(",2),")",1),LEVL=$L(OCXDDPTH,",")
"RTN","ORY4231",117,0)
 S OCXSUB="" F  S OCXSUB=$O(@OCXCREF@(OCXSUB)) Q:'$L(OCXSUB)  D
"RTN","ORY4231",118,0)
 .;
"RTN","ORY4231",119,0)
 .I '(OCXSUB[":"),'((OCXSUB=.01)&$O(@OCXCREF@(OCXSUB))) D
"RTN","ORY4231",120,0)
 ..N LINE
"RTN","ORY4231",121,0)
 ..Q:$$EXFLD(+OCXFLD,OCXSUB)
"RTN","ORY4231",122,0)
 ..I OCXFLD W !,?(5+((LEVL)*4)),$$FIELD^OCXSENDD(+OCXFLD,OCXSUB,"LABEL"),": ",$G(@OCXCREF@(OCXSUB,"E"))
"RTN","ORY4231",123,0)
 ..S LINE=0 F  S LINE=$O(@OCXCREF@(OCXSUB,LINE)) Q:'LINE  D
"RTN","ORY4231",124,0)
 ...W !,?(5+(LEVL*4)),$J(LINE,3),">",@OCXCREF@(OCXSUB,LINE)
"RTN","ORY4231",125,0)
 .;
"RTN","ORY4231",126,0)
 .I (OCXSUB[":") D
"RTN","ORY4231",127,0)
 ..N D0,OCXDD,FILENAME
"RTN","ORY4231",128,0)
 ..S D0=+$P(OCXSUB,":",2),OCXDD=+OCXSUB
"RTN","ORY4231",129,0)
 ..S FILENAME=$$FILENAME^OCXSENDD(OCXDD)
"RTN","ORY4231",130,0)
 ..I $L(FILENAME) W !,?(5+($L(LEVL)*4)),FILENAME
"RTN","ORY4231",131,0)
 ..E  W !!,?(5+(LEVL*4)),FILENAME
"RTN","ORY4231",132,0)
 ..W " ",D0,": ",$G(@OCXCREF@(OCXSUB,.01,"E"))
"RTN","ORY4231",133,0)
 ..D DSPREC($$APPEND(CREF,OCXDD),OCXFLD,OCXSUB)
"RTN","ORY4231",134,0)
 ;
"RTN","ORY4231",135,0)
 Q
"RTN","ORY4231",136,0)
 ;
"RTN","ORY4231",137,0)
DSPHDR(CREF,OCXDD,OCXFLD) ;
"RTN","ORY4231",138,0)
 ;
"RTN","ORY4231",139,0)
 N D0,FILE,FILEID,OCXPTR,OCXDDPTH
"RTN","ORY4231",140,0)
 S OCXDDPTH=$P($P($$APPEND($$APPEND(CREF,OCXDD),OCXFLD),"(",2),")",1)
"RTN","ORY4231",141,0)
 S FILE="" F OCXPTR=1:1:$L(OCXDDPTH,",") D
"RTN","ORY4231",142,0)
 .N OCXDD,D0,FILEID
"RTN","ORY4231",143,0)
 .S FILEID=$P(OCXDDPTH,",",OCXPTR)
"RTN","ORY4231",144,0)
 .I (FILEID[":") D
"RTN","ORY4231",145,0)
 ..S D0=+$P(FILEID,":",2),OCXDD=+$E(FILEID,2,$L(FILEID))
"RTN","ORY4231",146,0)
 ..W !,?(5+(OCXPTR*4)),$$FILENAME^OCXSENDD(OCXDD)
"RTN","ORY4231",147,0)
 ..S:$L(FILE) FILE=FILE_"," S FILE=FILE_FILEID
"RTN","ORY4231",148,0)
 ..I $D(@("L("_FILE_",.01,""E"")")) W ": ",@("L("_FILE_",.01,""E"")") W:D0 " [",D0,"]"
"RTN","ORY4231",149,0)
 ..E  I $D(@("R("_FILE_",.01,""E"")")) W ": ",@("R("_FILE_",.01,""E"")") W:D0 " [",D0,"]"
"RTN","ORY4231",150,0)
 ;
"RTN","ORY4231",151,0)
 Q
"RTN","ORY4231",152,0)
 ;
"RTN","ORY4231",153,0)
DSPFLD(CREF,OCXDD,OCXFLD,OCXSUB) ;
"RTN","ORY4231",154,0)
 ;
"RTN","ORY4231",155,0)
 N OCXDPTR,LREF,RREF,OCXDDPTH
"RTN","ORY4231",156,0)
 ;
"RTN","ORY4231",157,0)
 S OCXDDPTH=$P($P($$APPEND(CREF,OCXDD),"(",2),")",1)
"RTN","ORY4231",158,0)
 S LREF="L("_OCXDDPTH_")",RREF="R("_OCXDDPTH_")"
"RTN","ORY4231",159,0)
 W !,?(5+(($L(OCXDDPTH,",")+1)*4)),$$FIELD^OCXSENDD(OCXDD,OCXFLD,"LABEL")," field [",OCXFLD,"]"
"RTN","ORY4231",160,0)
 I OCXSUB W " Line #",OCXSUB
"RTN","ORY4231",161,0)
 ;
"RTN","ORY4231",162,0)
 W:($D(@RREF@(OCXFLD,OCXSUB))) !,?(5+(($L(OCXDDPTH,",")+2)*4)),"(R) CPRS30.FO-DOMAIN.EXT: ",@RREF@(OCXFLD,OCXSUB)
"RTN","ORY4231",163,0)
 W:($D(@LREF@(OCXFLD,OCXSUB))) !,?(5+(($L(OCXDDPTH,",")+2)*4)),"(L) ",$$NETNAME^OCXSEND,": ",@LREF@(OCXFLD,OCXSUB)
"RTN","ORY4231",164,0)
 ;
"RTN","ORY4231",165,0)
 Q
"RTN","ORY4231",166,0)
 ;
"RTN","ORY4231",167,0)
 W !,?10 Q 0 Q $$PAUSE
"RTN","ORY4231",168,0)
 ;
"RTN","ORY4231",169,0)
PAUSE() W "  Press Enter " R X:DTIME W ! Q (X[U)
"RTN","ORY4231",170,0)
 ;
"RTN","ORY4231",171,0)
NOW() N X,Y,%DT S X="N",%DT="T" D ^%DT S Y=$$DATE^OCXSENDD(Y) S:(Y["@") Y=$P(Y,"@",1)_" at "_$P(Y,"@",2) Q Y
"RTN","ORY4231",172,0)
 ;
"RTN","ORY4232")
0^20^B26766770
"RTN","ORY4232",1,0)
ORY4232 ;SLC/RJS,CLA - OCX PACKAGE RULE TRANSPORT ROUTINE (Delete after Install of OR*3*423) ;JUN 29,2016 at 06:15
"RTN","ORY4232",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17,1997;Build 19
"RTN","ORY4232",3,0)
 ;;  ;;ORDER CHECK EXPERT version 1.01 released OCT 29,1998
"RTN","ORY4232",4,0)
 ;
"RTN","ORY4232",5,0)
S ;
"RTN","ORY4232",6,0)
 ;  Record Utilities
"RTN","ORY4232",7,0)
 Q
"RTN","ORY4232",8,0)
 ;
"RTN","ORY4232",9,0)
ADDREC(OCXCREF) ;
"RTN","ORY4232",10,0)
 ;
"RTN","ORY4232",11,0)
 N QUIT,OCXDD,OCXDA,OCXGREF,OCXNAME
"RTN","ORY4232",12,0)
 S OCXDD=$O(@OCXCREF@("")) Q:'OCXDD 0
"RTN","ORY4232",13,0)
 S OCXNAME=$G(@OCXCREF@(OCXDD,.01,"E"))
"RTN","ORY4232",14,0)
 ;
"RTN","ORY4232",15,0)
 W "   record missing..."
"RTN","ORY4232",16,0)
 I (OCXFLAG["D") Q 0
"RTN","ORY4232",17,0)
 ;
"RTN","ORY4232",18,0)
 S OCXDA=0 D CREATE(OCXCREF,OCXDD,.OCXDA,0)
"RTN","ORY4232",19,0)
 S:$L(OCXNAME) ^TMP("OCXRULE",$J,"A",+OCXDD,OCXNAME)=""
"RTN","ORY4232",20,0)
 ;
"RTN","ORY4232",21,0)
 Q 0
"RTN","ORY4232",22,0)
 ;
"RTN","ORY4232",23,0)
CREATE(OCXCREF,OCXDD,OCXDA,OCXLVL) ;
"RTN","ORY4232",24,0)
 ;
"RTN","ORY4232",25,0)
 N OCXFLD,OCXGREF,OCXKEY
"RTN","ORY4232",26,0)
 ;
"RTN","ORY4232",27,0)
 I $L(OCXDA),'(OCXDA=+OCXDA) W !!,"Unresolved subscript." Q
"RTN","ORY4232",28,0)
 ;
"RTN","ORY4232",29,0)
 S OCXKEY=@OCXCREF@(OCXDD,.01,"E")
"RTN","ORY4232",30,0)
 S OCXGREF=$$GETREF(+OCXDD,.OCXDA,OCXLVL) Q:'$L(OCXGREF)
"RTN","ORY4232",31,0)
 I 'OCXDA D
"RTN","ORY4232",32,0)
 .S OCXDA=$O(^TMP("OCXRULE",$J,"B",+OCXDD,OCXKEY,0)) Q:OCXDA
"RTN","ORY4232",33,0)
 .S OCXDA=$O(@(OCXGREF_""" "")"),-1)+1
"RTN","ORY4232",34,0)
 .F OCXDA=OCXDA:1 Q:'$D(@(OCXGREF_OCXDA_",0)"))
"RTN","ORY4232",35,0)
 .I $D(@(OCXGREF_OCXDA_",0)")) S OCXDA=0
"RTN","ORY4232",36,0)
 ;
"RTN","ORY4232",37,0)
 I 'OCXDA W !!,"Error adding record..." Q
"RTN","ORY4232",38,0)
 ;
"RTN","ORY4232",39,0)
 I '$D(@(OCXGREF_"0)")) S @(OCXGREF_"0)")=U_$$FILEHDR^OCXSENDD(+OCXDD)_U_U
"RTN","ORY4232",40,0)
 ;
"RTN","ORY4232",41,0)
 S OCXFLD=0 F  S OCXFLD=$O(@OCXCREF@(OCXDD,OCXFLD)) Q:'OCXFLD  Q:(OCXFLD[":")  I '$$EXFLD^ORY4231(+OCXDD,OCXFLD) D
"RTN","ORY4232",42,0)
 .I $L($G(@OCXCREF@(OCXDD,OCXFLD,"E"))) D DIE(OCXDD,OCXGREF,OCXFLD,@OCXCREF@(OCXDD,OCXFLD,"E"),.OCXDA,OCXLVL)
"RTN","ORY4232",43,0)
 .I $O(@OCXCREF@(OCXDD,OCXFLD,0)) D WORD(OCXDD,OCXGREF,OCXFLD,.OCXDA,OCXCREF)
"RTN","ORY4232",44,0)
 ;
"RTN","ORY4232",45,0)
 D PUSH(.OCXDA)
"RTN","ORY4232",46,0)
 S OCXFLD="" F  S OCXFLD=$O(@OCXCREF@(OCXDD,OCXFLD)) Q:'$L(OCXFLD)  I (OCXFLD[":") D
"RTN","ORY4232",47,0)
 .S OCXDA=$P(OCXFLD,":",2) W ! D CREATE($$APPEND(OCXCREF,OCXDD),OCXFLD,.OCXDA,OCXLVL+1)
"RTN","ORY4232",48,0)
 D POP(.OCXDA)
"RTN","ORY4232",49,0)
 Q
"RTN","ORY4232",50,0)
 ;
"RTN","ORY4232",51,0)
LOADWORD(RREF,OCXDD,OCXFLD,OCXSUB) ;
"RTN","ORY4232",52,0)
 ;
"RTN","ORY4232",53,0)
 N QUIT,DDPATH,INDEX,OCXDA,OCXGREF
"RTN","ORY4232",54,0)
 S DDPATH=$P($P($$APPEND(RREF,OCXDD),"(",2),")",1)
"RTN","ORY4232",55,0)
 F INDEX=1:1:$L(DDPATH,",") S OCXDA($L(DDPATH,",")-INDEX)=+$P($P(DDPATH,",",INDEX),":",2)
"RTN","ORY4232",56,0)
 S OCXDA=$G(OCXDA(0)) K OCXDA(0)
"RTN","ORY4232",57,0)
 Q:(OCXFLAG["D") 0
"RTN","ORY4232",58,0)
 I (OCXFLAG["A") S QUIT=$$READ("Y"," Do you want to reload the local '"_$$FIELD^OCXSENDD(+OCXDD,+OCXFLD,"LABEL")_"' field ?","YES") Q:'QUIT (QUIT[U)
"RTN","ORY4232",59,0)
 S OCXGREF=$$GETREF(+OCXDD,.OCXDA,$L(DDPATH,",")-1) Q:'$L(OCXGREF)
"RTN","ORY4232",60,0)
 D WORD(OCXDD,OCXGREF,OCXFLD,.OCXDA,RREF)
"RTN","ORY4232",61,0)
 Q 0
"RTN","ORY4232",62,0)
 ;
"RTN","ORY4232",63,0)
GETREF(OCXDD,OCXDA,OCXLVL) ;
"RTN","ORY4232",64,0)
 ;
"RTN","ORY4232",65,0)
 Q:'OCXDD ""
"RTN","ORY4232",66,0)
 ;
"RTN","ORY4232",67,0)
 N OCXIENS,OCXERR,OCXX
"RTN","ORY4232",68,0)
 S OCXIENS=$$IENS^DILF(.OCXDA),OCXERR=""
"RTN","ORY4232",69,0)
 S OCXX=$$ROOT^DILFD(OCXDD,OCXIENS,0,OCXERR)
"RTN","ORY4232",70,0)
 Q OCXX
"RTN","ORY4232",71,0)
 ;
"RTN","ORY4232",72,0)
WORD(DD,GREF,FLD,DA,RREF) ;
"RTN","ORY4232",73,0)
 ;
"RTN","ORY4232",74,0)
 N SUB,GLROOT,LINE
"RTN","ORY4232",75,0)
 S SUB=$P($$FIELD^OCXSENDD(+DD,FLD,"GLOBAL SUBSCRIPT LOCATION"),";",1) S:'(SUB=+SUB) SUB=""""_SUB_""""
"RTN","ORY4232",76,0)
 S GLROOT=GREF_DA_","_SUB_")" K @GLROOT
"RTN","ORY4232",77,0)
 S LINE=0 F  S LINE=$O(@RREF@(DD,FLD,LINE)) Q:'LINE  D
"RTN","ORY4232",78,0)
 .S @GLROOT@($O(@GLROOT@(""),-1)+1,0)=@RREF@(DD,FLD,LINE)
"RTN","ORY4232",79,0)
 S LINE=$O(@GLROOT@(""),-1),@GLROOT@(0)=U_U_LINE_U_LINE_U_$$DATE("T")_U
"RTN","ORY4232",80,0)
 ;
"RTN","ORY4232",81,0)
 Q
"RTN","ORY4232",82,0)
 ;
"RTN","ORY4232",83,0)
DATE(X) N %DT,Y S %DT="" D ^%DT Q +Y
"RTN","ORY4232",84,0)
 ;
"RTN","ORY4232",85,0)
DIE(OCXDD,OCXDIC,OCXFLD,OCXVAL,OCXDA,OCXLVL) ;
"RTN","ORY4232",86,0)
 ;
"RTN","ORY4232",87,0)
 N DIC,DIE,X,Y,DR,DA,OCXDVAL,OCXPTR,OCXGREF,D0,OCXSCR
"RTN","ORY4232",88,0)
 S (D0,DA)=OCXDA,(DIC,DIE)=OCXDIC,DR=""
"RTN","ORY4232",89,0)
 S:OCXLVL D0=OCXDA(1),DR="S DA(1)="_(+D0)_",D0="_(+D0)_";"
"RTN","ORY4232",90,0)
 S:OCXVAL="?" OCXVAL="? " S DR=DR_OCXFLD_"///^S X=OCXVAL"
"RTN","ORY4232",91,0)
 I '(OCXVAL="@") W !,?(OCXLVL*5),$$FIELD^OCXSENDD(+OCXDD,OCXFLD,"LABEL"),": ",OCXVAL
"RTN","ORY4232",92,0)
 ;
"RTN","ORY4232",93,0)
 I '(OCXVAL="@") D
"RTN","ORY4232",94,0)
 .N OCXIEN,SHORT
"RTN","ORY4232",95,0)
 .S OCXPTR=+$P($$FIELD^OCXSENDD(+OCXDD,OCXFLD,"SPECIFIER"),"P",2)
"RTN","ORY4232",96,0)
 .Q:'OCXPTR
"RTN","ORY4232",97,0)
 .S OCXGREF="^"_$$FIELD^OCXSENDD(+OCXDD,OCXFLD,"POINTER")
"RTN","ORY4232",98,0)
 .I '($E(OCXGREF,1,4)="^OCX"),'(OCXGREF="^ORD(100.9,"),'(OCXGREF="^ORD(100.8,") Q
"RTN","ORY4232",99,0)
 .Q:$$DIC(OCXGREF,OCXVAL,0)
"RTN","ORY4232",100,0)
 .S OCXIEN=$$DIC(OCXGREF,OCXVAL,1)
"RTN","ORY4232",101,0)
 .S ^TMP("OCXRULE",$J,"B",OCXPTR,OCXVAL,OCXIEN)=""
"RTN","ORY4232",102,0)
 ;
"RTN","ORY4232",103,0)
 S OCXSCR=1
"RTN","ORY4232",104,0)
 D ^DIE
"RTN","ORY4232",105,0)
 ;
"RTN","ORY4232",106,0)
 ; I $D(Y) -> DIE FILER ERROR
"RTN","ORY4232",107,0)
 I $D(Y) W "   ^DIE filer data error..." S OCXDIER=$G(OCXDIER)+1
"RTN","ORY4232",108,0)
 I '$D(Y) W "    ...Correct data Filed"
"RTN","ORY4232",109,0)
 ;
"RTN","ORY4232",110,0)
 Q
"RTN","ORY4232",111,0)
 ;
"RTN","ORY4232",112,0)
DIC(DIC,X,OCXADD) N OCXSCR S DIC(0)="",OCXSCR=1 S:OCXADD DIC(0)="L" D ^DIC Q:(+Y>0) +Y Q 0
"RTN","ORY4232",113,0)
 ;
"RTN","ORY4232",114,0)
PUSH(OCXDA) ;
"RTN","ORY4232",115,0)
 N OCXSUB S OCXSUB="" F  S OCXSUB=$O(OCXDA(OCXSUB),-1) Q:'OCXSUB  S OCXDA(OCXSUB+1)=OCXDA(OCXSUB)
"RTN","ORY4232",116,0)
 S OCXDA(1)=OCXDA,OCXDA=0
"RTN","ORY4232",117,0)
 Q
"RTN","ORY4232",118,0)
 ;
"RTN","ORY4232",119,0)
POP(OCXDA) ;
"RTN","ORY4232",120,0)
 N OCXSUB S OCXSUB="" F  S OCXSUB=$O(OCXDA(OCXSUB)) Q:'OCXSUB  S OCXDA(OCXSUB)=$G(OCXDA(OCXSUB+1))
"RTN","ORY4232",121,0)
 S OCXDA=OCXDA(1) K OCXDA($O(OCXDA(""),-1))
"RTN","ORY4232",122,0)
 Q
"RTN","ORY4232",123,0)
 ;
"RTN","ORY4232",124,0)
APPEND(ARRAY,OCXSUB) ;
"RTN","ORY4232",125,0)
 S:'(OCXSUB=+OCXSUB) OCXSUB=""""_OCXSUB_""""
"RTN","ORY4232",126,0)
 Q:'(ARRAY["(") ARRAY_"("_OCXSUB_")"
"RTN","ORY4232",127,0)
 Q $E(ARRAY,1,$L(ARRAY)-1)_","_OCXSUB_")"
"RTN","ORY4232",128,0)
 ;
"RTN","ORY4232",129,0)
READ(OCXZ0,OCXZA,OCXZB,OCXZL) ;
"RTN","ORY4232",130,0)
 N OCXLINE,DIR,DTOUT,DUOUT,DIRUT,DIROUT
"RTN","ORY4232",131,0)
 Q:'$L($G(OCXZ0)) U
"RTN","ORY4232",132,0)
 S DIR(0)=OCXZ0
"RTN","ORY4232",133,0)
 S:$L($G(OCXZA)) DIR("A")=OCXZA
"RTN","ORY4232",134,0)
 S:$L($G(OCXZB)) DIR("B")=OCXZB
"RTN","ORY4232",135,0)
 F OCXLINE=1:1:($G(OCXZL)-1) W !
"RTN","ORY4232",136,0)
 D ^DIR
"RTN","ORY4232",137,0)
 I $D(DTOUT)!$D(DUOUT)!$D(DIRUT)!$D(DIROUT) Q U
"RTN","ORY4232",138,0)
 Q Y
"RTN","ORY4232",139,0)
 ;
"RTN","ORY4232",140,0)
PAUSE() W "  Press Enter " R X:DTIME W ! Q (X[U)
"RTN","ORY4232",141,0)
 ;
"RTN","ORY4233")
0^21^B12996402
"RTN","ORY4233",1,0)
ORY4233 ;SLC/RJS,CLA - OCX PACKAGE RULE TRANSPORT ROUTINE (Delete after Install of OR*3*423) ;JUN 29,2016 at 06:15
"RTN","ORY4233",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17,1997;Build 19
"RTN","ORY4233",3,0)
 ;;  ;;ORDER CHECK EXPERT version 1.01 released OCT 29,1998
"RTN","ORY4233",4,0)
 ;
"RTN","ORY4233",5,0)
S ;
"RTN","ORY4233",6,0)
 ;  Multiple Utilities
"RTN","ORY4233",7,0)
 Q
"RTN","ORY4233",8,0)
 ;
"RTN","ORY4233",9,0)
ADDMULT(OCXCREF,OCXDD,OCXFLD) ;
"RTN","ORY4233",10,0)
 ;
"RTN","ORY4233",11,0)
 ;
"RTN","ORY4233",12,0)
 N QUIT,OCXDA,OCXGREF,OCXNAME,DDPATH,INDEX
"RTN","ORY4233",13,0)
 ;
"RTN","ORY4233",14,0)
 S DDPATH=$P($P($$APPEND($$APPEND(OCXCREF,OCXDD),OCXFLD),"(",2),")",1)
"RTN","ORY4233",15,0)
 F INDEX=1:1:$L(DDPATH,",") S OCXDA($L(DDPATH,",")-INDEX)=+$P($P(DDPATH,",",INDEX),":",2)
"RTN","ORY4233",16,0)
 S OCXDA=$G(OCXDA(0)) K OCXDA(0)
"RTN","ORY4233",17,0)
 ;
"RTN","ORY4233",18,0)
 Q:(OCXFLAG["D") 0
"RTN","ORY4233",19,0)
 I (OCXFLAG["A") S QUIT=$$READ("Y"," Do you want to add a local '"_$$FILENAME^OCXSENDD(+OCXFLD)_"' multiple ?","YES") Q:'QUIT (QUIT[U)
"RTN","ORY4233",20,0)
 ;
"RTN","ORY4233",21,0)
 S OCXGREF=$$GETREF^ORY4232(+OCXFLD,.OCXDA,1)
"RTN","ORY4233",22,0)
 D CREATE($$APPEND(OCXCREF,OCXDD),OCXFLD,.OCXDA,1)
"RTN","ORY4233",23,0)
 ;
"RTN","ORY4233",24,0)
 Q 0
"RTN","ORY4233",25,0)
 ;
"RTN","ORY4233",26,0)
DELMULT(OCXCREF,OCXDD) ;
"RTN","ORY4233",27,0)
 ;
"RTN","ORY4233",28,0)
 N QUIT,OCXGREF,DA,INDEX,DDPATH
"RTN","ORY4233",29,0)
 ;
"RTN","ORY4233",30,0)
 Q:(OCXFLAG["D") 0
"RTN","ORY4233",31,0)
 I (OCXFLAG["A") S QUIT=$$READ("Y"," Do you want to delete the local '"_$$FILENAME^OCXSENDD(+OCXDD)_"' multiple ?","YES") Q:'QUIT (QUIT[U)
"RTN","ORY4233",32,0)
 ;
"RTN","ORY4233",33,0)
 S DDPATH=$P($P($$APPEND(OCXCREF,OCXDD),"(",2),")",1)
"RTN","ORY4233",34,0)
 F INDEX=1:1:$L(DDPATH,",") S DA($L(DDPATH,",")-INDEX)=+$P($P(DDPATH,",",INDEX),":",2)
"RTN","ORY4233",35,0)
 S DA=$G(DA(0)) K DA(0)
"RTN","ORY4233",36,0)
 S OCXGREF=$$GETREF^ORY4232(+OCXDD,.DA,1)
"RTN","ORY4233",37,0)
 ;
"RTN","ORY4233",38,0)
 D DIE^ORY4232(+OCXDD,OCXGREF,.01,"@",.DA,$L(DDPATH,",")-1)
"RTN","ORY4233",39,0)
 K @OCXCREF@(OCXDD) W !!,"  deleted..."
"RTN","ORY4233",40,0)
 ;
"RTN","ORY4233",41,0)
 Q 0
"RTN","ORY4233",42,0)
 ;
"RTN","ORY4233",43,0)
CREATE(OCXCREF,OCXDD,OCXDA,OCXLVL) ;
"RTN","ORY4233",44,0)
 ;
"RTN","ORY4233",45,0)
 N OCXFLD,OCXGREF
"RTN","ORY4233",46,0)
 ;
"RTN","ORY4233",47,0)
 S OCXGREF=$$GETREF^ORY4232(+OCXDD,.OCXDA,OCXLVL) Q:'$L(OCXGREF)  S:'OCXDA OCXDA=$O(@(OCXGREF_"""@"")"),-1)+1
"RTN","ORY4233",48,0)
 ;
"RTN","ORY4233",49,0)
 I '$D(@(OCXGREF_"0)")) S @(OCXGREF_"0)")=U_$$FILEHDR^OCXSENDD(+OCXDD)_U_U
"RTN","ORY4233",50,0)
 ;
"RTN","ORY4233",51,0)
 S OCXFLD=0 F  S OCXFLD=$O(@OCXCREF@(OCXDD,OCXFLD)) Q:'OCXFLD  Q:(OCXFLD[":")  I '$$EXFLD^ORY4231(+OCXDD,OCXFLD) D
"RTN","ORY4233",52,0)
 .I $L($G(@OCXCREF@(OCXDD,OCXFLD,"E"))) D DIE^ORY4232(OCXDD,OCXGREF,OCXFLD,@OCXCREF@(OCXDD,OCXFLD,"E"),.OCXDA,OCXLVL)
"RTN","ORY4233",53,0)
 ;
"RTN","ORY4233",54,0)
 D PUSH(.OCXDA)
"RTN","ORY4233",55,0)
 S OCXFLD="" F  S OCXFLD=$O(@OCXCREF@(OCXDD,OCXFLD)) Q:'$L(OCXFLD)  I (OCXFLD[":") D
"RTN","ORY4233",56,0)
 .S OCXDA=$P(OCXFLD,":",2) W ! D CREATE($$APPEND(OCXCREF,OCXDD),OCXFLD,.OCXDA,OCXLVL+1)
"RTN","ORY4233",57,0)
 D POP(.OCXDA)
"RTN","ORY4233",58,0)
 Q
"RTN","ORY4233",59,0)
 ;
"RTN","ORY4233",60,0)
PUSH(OCXDA) ;
"RTN","ORY4233",61,0)
 N OCXSUB S OCXSUB="" F  S OCXSUB=$O(OCXDA(OCXSUB),-1) Q:'OCXSUB  S OCXDA(OCXSUB+1)=OCXDA(OCXSUB)
"RTN","ORY4233",62,0)
 S OCXDA(1)=OCXDA,OCXDA=0
"RTN","ORY4233",63,0)
 Q
"RTN","ORY4233",64,0)
 ;
"RTN","ORY4233",65,0)
POP(OCXDA) ;
"RTN","ORY4233",66,0)
 N OCXSUB S OCXSUB="" F  S OCXSUB=$O(OCXDA(OCXSUB)) Q:'OCXSUB  S OCXDA(OCXSUB)=$G(OCXDA(OCXSUB+1))
"RTN","ORY4233",67,0)
 S OCXDA=OCXDA(1) K OCXDA($O(OCXDA(""),-1))
"RTN","ORY4233",68,0)
 Q
"RTN","ORY4233",69,0)
 ;
"RTN","ORY4233",70,0)
APPEND(ARRAY,OCXSUB) ;
"RTN","ORY4233",71,0)
 S:'(OCXSUB=+OCXSUB) OCXSUB=""""_OCXSUB_""""
"RTN","ORY4233",72,0)
 Q:'(ARRAY["(") ARRAY_"("_OCXSUB_")"
"RTN","ORY4233",73,0)
 Q $E(ARRAY,1,$L(ARRAY)-1)_","_OCXSUB_")"
"RTN","ORY4233",74,0)
 ;
"RTN","ORY4233",75,0)
READ(OCXZ0,OCXZA,OCXZB,OCXZL) ;
"RTN","ORY4233",76,0)
 N OCXLINE,DIR,DTOUT,DUOUT,DIRUT,DIROUT
"RTN","ORY4233",77,0)
 Q:'$L($G(OCXZ0)) U
"RTN","ORY4233",78,0)
 S DIR(0)=OCXZ0
"RTN","ORY4233",79,0)
 S:$L($G(OCXZA)) DIR("A")=OCXZA
"RTN","ORY4233",80,0)
 S:$L($G(OCXZB)) DIR("B")=OCXZB
"RTN","ORY4233",81,0)
 F OCXLINE=1:1:($G(OCXZL)-1) W !
"RTN","ORY4233",82,0)
 D ^DIR
"RTN","ORY4233",83,0)
 I $D(DTOUT)!$D(DUOUT)!$D(DIRUT)!$D(DIROUT) Q U
"RTN","ORY4233",84,0)
 Q Y
"RTN","ORY4233",85,0)
 ;
"RTN","ORY4233",86,0)
PAUSE() W "  Press Enter " R X:DTIME W ! Q (X[U)
"RTN","ORY4233",87,0)
 ;
"RTN","ORY4234")
0^22^B13526302
"RTN","ORY4234",1,0)
ORY4234 ;SLC/RJS,CLA - OCX PACKAGE RULE TRANSPORT ROUTINE (Delete after Install of OR*3*423) ;JUN 29,2016 at 06:15
"RTN","ORY4234",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17,1997;Build 19
"RTN","ORY4234",3,0)
 ;;  ;;ORDER CHECK EXPERT version 1.01 released OCT 29,1998
"RTN","ORY4234",4,0)
 ;
"RTN","ORY4234",5,0)
S ;
"RTN","ORY4234",6,0)
 ;  Field Utilities
"RTN","ORY4234",7,0)
 Q
"RTN","ORY4234",8,0)
 ;
"RTN","ORY4234",9,0)
EDITFLD(OCXCREF,OCXDD,OCXFLD,OCXSUB) ;
"RTN","ORY4234",10,0)
 ;
"RTN","ORY4234",11,0)
 N DDPATH,OCXDA,OCXPC,OCXLVL,QUIT
"RTN","ORY4234",12,0)
 ;
"RTN","ORY4234",13,0)
 S QUIT=0,DDPATH=$P($P($$APPEND(OCXCREF,OCXDD),"(",2),")",1)
"RTN","ORY4234",14,0)
 S OCXLVL=$L(DDPATH,",")
"RTN","ORY4234",15,0)
 F OCXPC=1:1:OCXLVL S OCXDA(OCXLVL-OCXPC)=+$P($P(DDPATH,",",OCXPC),":",2)
"RTN","ORY4234",16,0)
 S OCXDA=OCXDA(0) K OCXDA(0)
"RTN","ORY4234",17,0)
 I $L($G(@OCXCREF@(OCXDD,OCXFLD,"E"))) D
"RTN","ORY4234",18,0)
 .N RESP
"RTN","ORY4234",19,0)
 .Q:(OCXFLAG["D")
"RTN","ORY4234",20,0)
 .I (OCXFLAG["A") S RESP=$$READ("Y"," Do you want to change the local '"_$$FILENAME^OCXSENDD(+OCXDD)_"' field ?","YES") I 'RESP S QUIT=(RESP[U) Q
"RTN","ORY4234",21,0)
 .S OCXGREF=$$GETREF^ORY4232(+OCXDD,.OCXDA,OCXLVL-1) Q:'$L(OCXGREF)
"RTN","ORY4234",22,0)
 .D DIE^ORY4232(OCXDD,OCXGREF,OCXFLD,@OCXCREF@(OCXDD,OCXFLD,"E"),.OCXDA,OCXLVL-1)
"RTN","ORY4234",23,0)
 ;
"RTN","ORY4234",24,0)
 Q QUIT
"RTN","ORY4234",25,0)
 ;
"RTN","ORY4234",26,0)
DELFLD(OCXCREF,OCXDD,OCXFLD,OCXSUB) ;
"RTN","ORY4234",27,0)
 ;
"RTN","ORY4234",28,0)
 N DDPATH,OCXDA,OCXPC,OCXLVL,QUIT,RESP
"RTN","ORY4234",29,0)
 ;
"RTN","ORY4234",30,0)
 S QUIT=0,DDPATH=$P($P($$APPEND(OCXCREF,OCXDD),"(",2),")",1)
"RTN","ORY4234",31,0)
 S OCXLVL=$L(DDPATH,",")
"RTN","ORY4234",32,0)
 F OCXPC=1:1:OCXLVL S OCXDA(OCXLVL-OCXPC)=+$P($P(DDPATH,",",OCXPC),":",2)
"RTN","ORY4234",33,0)
 S OCXDA=OCXDA(0) K OCXDA(0)
"RTN","ORY4234",34,0)
 Q:(OCXFLAG["D") 0
"RTN","ORY4234",35,0)
 I (OCXFLAG["A") S RESP=$$READ("Y"," Do you want to Delete the local '"_$$FILENAME^OCXSENDD(+OCXDD)_"' value ?","YES") I 'RESP S QUIT=(RESP[U) Q QUIT
"RTN","ORY4234",36,0)
 S OCXGREF=$$GETREF^ORY4232(+OCXDD,.OCXDA,OCXLVL-1) Q:'$L(OCXGREF)
"RTN","ORY4234",37,0)
 D DIE^ORY4232(OCXDD,OCXGREF,OCXFLD,"@",.OCXDA,OCXLVL-1)
"RTN","ORY4234",38,0)
 ;
"RTN","ORY4234",39,0)
 Q QUIT
"RTN","ORY4234",40,0)
 ;
"RTN","ORY4234",41,0)
CREATE(OCXCREF,OCXDD,OCXDA,OCXLVL) ;
"RTN","ORY4234",42,0)
 ;
"RTN","ORY4234",43,0)
 N OCXFLD,OCXGREF
"RTN","ORY4234",44,0)
 ;
"RTN","ORY4234",45,0)
 S OCXGREF=$$GETREF^ORY4232(+OCXDD,.OCXDA,OCXLVL) Q:'$L(OCXGREF)  S:'OCXDA OCXDA=$O(@(OCXGREF_"""@"")"),-1)+1
"RTN","ORY4234",46,0)
 ;
"RTN","ORY4234",47,0)
 I '$D(@(OCXGREF_"0)")) S @(OCXGREF_"0)")=U_$$FILEHDR^OCXSENDD(+OCXDD)_U_U
"RTN","ORY4234",48,0)
 ;
"RTN","ORY4234",49,0)
 S OCXFLD=0 F  S OCXFLD=$O(@OCXCREF@(OCXDD,OCXFLD)) Q:'OCXFLD  Q:(OCXFLD[":")  I '$$EXFLD^ORY4231(+OCXDD,OCXFLD) D
"RTN","ORY4234",50,0)
 .I $L($G(@OCXCREF@(OCXDD,OCXFLD,"E"))) D DIE^ORY4232(OCXDD,OCXGREF,OCXFLD,@OCXCREF@(OCXDD,OCXFLD,"E"),.OCXDA,OCXLVL)
"RTN","ORY4234",51,0)
 ;
"RTN","ORY4234",52,0)
 D PUSH(.OCXDA)
"RTN","ORY4234",53,0)
 S OCXFLD="" F  S OCXFLD=$O(@OCXCREF@(OCXDD,OCXFLD)) Q:'$L(OCXFLD)  I (OCXFLD[":") D
"RTN","ORY4234",54,0)
 .S OCXDA=$P(OCXFLD,":",2) W ! D CREATE($$APPEND(OCXCREF,OCXDD),OCXFLD,.OCXDA,OCXLVL+1)
"RTN","ORY4234",55,0)
 D POP(.OCXDA)
"RTN","ORY4234",56,0)
 Q
"RTN","ORY4234",57,0)
 ;
"RTN","ORY4234",58,0)
PUSH(OCXDA) ;
"RTN","ORY4234",59,0)
 N OCXSUB S OCXSUB="" F  S OCXSUB=$O(OCXDA(OCXSUB),-1) Q:'OCXSUB  S OCXDA(OCXSUB+1)=OCXDA(OCXSUB)
"RTN","ORY4234",60,0)
 S OCXDA(1)=OCXDA,OCXDA=0
"RTN","ORY4234",61,0)
 Q
"RTN","ORY4234",62,0)
 ;
"RTN","ORY4234",63,0)
POP(OCXDA) ;
"RTN","ORY4234",64,0)
 N OCXSUB S OCXSUB="" F  S OCXSUB=$O(OCXDA(OCXSUB)) Q:'OCXSUB  S OCXDA(OCXSUB)=$G(OCXDA(OCXSUB+1))
"RTN","ORY4234",65,0)
 S OCXDA=OCXDA(1) K OCXDA($O(OCXDA(""),-1))
"RTN","ORY4234",66,0)
 Q
"RTN","ORY4234",67,0)
 ;
"RTN","ORY4234",68,0)
APPEND(ARRAY,OCXSUB) ;
"RTN","ORY4234",69,0)
 S:'(OCXSUB=+OCXSUB) OCXSUB=""""_OCXSUB_""""
"RTN","ORY4234",70,0)
 Q:'(ARRAY["(") ARRAY_"("_OCXSUB_")"
"RTN","ORY4234",71,0)
 Q $E(ARRAY,1,$L(ARRAY)-1)_","_OCXSUB_")"
"RTN","ORY4234",72,0)
 ;
"RTN","ORY4234",73,0)
READ(OCXZ0,OCXZA,OCXZB,OCXZL) ;
"RTN","ORY4234",74,0)
 N OCXLINE,DIR,DTOUT,DUOUT,DIRUT,DIROUT
"RTN","ORY4234",75,0)
 Q:'$L($G(OCXZ0)) U
"RTN","ORY4234",76,0)
 S DIR(0)=OCXZ0
"RTN","ORY4234",77,0)
 S:$L($G(OCXZA)) DIR("A")=OCXZA
"RTN","ORY4234",78,0)
 S:$L($G(OCXZB)) DIR("B")=OCXZB
"RTN","ORY4234",79,0)
 F OCXLINE=1:1:($G(OCXZL)-1) W !
"RTN","ORY4234",80,0)
 D ^DIR
"RTN","ORY4234",81,0)
 I $D(DTOUT)!$D(DUOUT)!$D(DIRUT)!$D(DIROUT) Q U
"RTN","ORY4234",82,0)
 Q Y
"RTN","ORY4234",83,0)
 ;
"RTN","ORY4234",84,0)
PAUSE() W "  Press Enter " R X:DTIME W ! Q (X[U)
"RTN","ORY4234",85,0)
 ;
"RTN","ORY423A")
0^25^B9027788
"RTN","ORY423A",1,0)
ORY423A ;ISP/JLC,RFR - POST-INSTALL FOR PATCH OR*3.0*350 ;06/29/16  06:17
"RTN","ORY423A",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17, 1997;Build 19
"RTN","ORY423A",3,0)
 Q
"RTN","ORY423A",4,0)
SQOCONV() ;CONVERT EXISTING OUTPATIENT MEDICATION QUICK ORDERS INTO SUPPLY QUICK ORDERS
"RTN","ORY423A",5,0)
 N DG,DLG,ORTEXT
"RTN","ORY423A",6,0)
 S DG("OUT")=$O(^ORD(100.98,"B","OUTPATIENT MEDICATIONS",0))
"RTN","ORY423A",7,0)
 I +DG("OUT")=0 D  Q 0
"RTN","ORY423A",8,0)
 .S ORTEXT(1)="Unable to find the OUTPATIENT MEDICATIONS display group in the DISPLAY GROUP"
"RTN","ORY423A",9,0)
 .S ORTEXT(2)="file (#100.98). Please log a Remedy ticket for assistance."
"RTN","ORY423A",10,0)
 .D BMES^XPDUTL(.ORTEXT)
"RTN","ORY423A",11,0)
 S DG("SUPPLY")=$O(^ORD(100.98,"B","SUPPLIES/DEVICES",0))
"RTN","ORY423A",12,0)
 I +DG("SUPPLY")=0 D  Q 0
"RTN","ORY423A",13,0)
 .S ORTEXT(1)="Unable to find the SUPPLIES/DEVICES display group in the DISPLAY GROUP file"
"RTN","ORY423A",14,0)
 .S ORTEXT(2)="(#100.98). Please log a Remedy ticket for assistance."
"RTN","ORY423A",15,0)
 .D BMES^XPDUTL(.ORTEXT)
"RTN","ORY423A",16,0)
 S DLG("ORDERABLE ITEM")=+$O(^ORD(101.41,"B","OR GTX ORDERABLE ITEM",0))
"RTN","ORY423A",17,0)
 I DLG("ORDERABLE ITEM")=0 D  Q 0
"RTN","ORY423A",18,0)
 .S ORTEXT(1)="Unable to find the OR GTX ORDERABLE ITEM dialog in the ORDER DIALOG file"
"RTN","ORY423A",19,0)
 .S ORTEXT(2)="(#101.41). Please log a Remedy ticket for assistance."
"RTN","ORY423A",20,0)
 N IEN,EXIT
"RTN","ORY423A",21,0)
 S IEN=0 F  S IEN=$O(^ORD(101.41,IEN)) Q:+$G(IEN)=0!($G(EXIT))  D
"RTN","ORY423A",22,0)
 .;SKIP DISABLED QUICK ORDER (FIELD #3 NOT BLANK)
"RTN","ORY423A",23,0)
 .Q:$P(^ORD(101.41,IEN,0),U,3)'=""
"RTN","ORY423A",24,0)
 .;SKIP NON-QUICK ORDER
"RTN","ORY423A",25,0)
 .Q:$P(^ORD(101.41,IEN,0),U,4)'="Q"
"RTN","ORY423A",26,0)
 .;SKIP NON-SUPPLY
"RTN","ORY423A",27,0)
 .Q:$P(^ORD(101.41,IEN,0),U,5)'=DG("SUPPLY")
"RTN","ORY423A",28,0)
 .;DETERMINE IF THE ORDERABLE ITEM IS A SUPPLY
"RTN","ORY423A",29,0)
 .N RIEN,ORPHOI,ORDRGIEN,SET
"RTN","ORY423A",30,0)
 .S RIEN=+$O(^ORD(101.41,IEN,6,"D",DLG("ORDERABLE ITEM"),0))
"RTN","ORY423A",31,0)
 .Q:RIEN=0
"RTN","ORY423A",32,0)
 .S ORPHOI=+$P($G(^ORD(101.41,IEN,6,RIEN,1)),U,1)
"RTN","ORY423A",33,0)
 .Q:ORPHOI=0
"RTN","ORY423A",34,0)
 .S ORPHOI=$P($G(^ORD(101.43,ORPHOI,0)),U,2)
"RTN","ORY423A",35,0)
 .Q:$P(ORPHOI,";",2)'="99PSP"
"RTN","ORY423A",36,0)
 .D DRGIEN^PSS50P7(+ORPHOI,,"ORSUPPLY")
"RTN","ORY423A",37,0)
 .Q:+^TMP($J,"ORSUPPLY",0)<1
"RTN","ORY423A",38,0)
 .S ORDRGIEN=0 F  S ORDRGIEN=$O(^TMP($J,"ORSUPPLY",ORDRGIEN)) Q:'+$G(ORDRGIEN)!($G(EXIT))!($G(SET))  D
"RTN","ORY423A",39,0)
 ..D ZERO^PSS50(ORDRGIEN,,,,,"ORDRUG")
"RTN","ORY423A",40,0)
 ..Q:+^TMP($J,"ORDRUG",0)<1
"RTN","ORY423A",41,0)
 ..I $$ISSUPPLY(ORDRGIEN),'$G(SET) D
"RTN","ORY423A",42,0)
 ...;CHANGE THE DISPLAY GROUP
"RTN","ORY423A",43,0)
 ...N FDA,ERROR
"RTN","ORY423A",44,0)
 ...S FDA(101.41,IEN_",",5)=DG("OUT")
"RTN","ORY423A",45,0)
 ...D FILE^DIE("K","FDA","ERROR")
"RTN","ORY423A",46,0)
 ...I $D(ERROR) D  Q
"RTN","ORY423A",47,0)
 ....D ERROR("Unable to convert quick order IEN #"_IEN,.ERROR)
"RTN","ORY423A",48,0)
 ....S EXIT=1
"RTN","ORY423A",49,0)
 ...S SET=1
"RTN","ORY423A",50,0)
 K ^TMP($J,"ORSUPPLY")
"RTN","ORY423A",51,0)
 Q 1
"RTN","ORY423A",52,0)
ISSUPPLY(ORDRGIEN) ;DETERMINE IF DRUG IS A SUPPLY ITEM
"RTN","ORY423A",53,0)
 ;PARAMETERS: ORDRGIEN=>DRUG IEN IN ^TMP($J,"ORDRUG") GLOBAL
"RTN","ORY423A",54,0)
 Q:"^XA^XX^"[(U_$E(^TMP($J,"ORDRUG",ORDRGIEN,2),1,2)_U)!(^TMP($J,"ORDRUG",ORDRGIEN,2)="DX900"&($G(^TMP($J,"ORDRUG",ORDRGIEN,3))["S")) 1
"RTN","ORY423A",55,0)
 Q 0
"RTN","ORY423A",56,0)
ERROR(TEXT,ERROR) ;OUTPUT FILEMAN ERROR MESSAGE(S)
"RTN","ORY423A",57,0)
 N ORMSG,IDX
"RTN","ORY423A",58,0)
 S ORMSG(1)=" "
"RTN","ORY423A",59,0)
 S ORMSG(2)="ERROR: "_TEXT_"."
"RTN","ORY423A",60,0)
 S ORMSG(3)="VA FileMan Error #"_ERROR("DIERR",1)_":"
"RTN","ORY423A",61,0)
 F IDX=1:1:+$O(ERROR("DIERR",1,"TEXT","A"),-1) D
"RTN","ORY423A",62,0)
 .S ORMSG(IDX+2)=ERROR("DIERR",1,"TEXT",IDX)
"RTN","ORY423A",63,0)
 D BMES^XPDUTL(.ORMSG)
"RTN","ORY423A",64,0)
 Q
"RTN","ORY423E")
0^^B3271209
"RTN","ORY423E",1,0)
ORY423E ;WAT/ISP env check for OR*3.0*423; ;06/29/16  06:17
"RTN","ORY423E",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17, 1997;Build 19
"RTN","ORY423E",3,0)
 N DIR,ORCONT
"RTN","ORY423E",4,0)
 S ORCONT=0
"RTN","ORY423E",5,0)
 S DIR("A")="Continue"
"RTN","ORY423E",6,0)
 S DIR("A",1)="GMRCOR CONSULT in ORDER DIALOG (#101.41) will be overwritten."
"RTN","ORY423E",7,0)
 S DIR("?")="Please refer to the OR*3.0*423 patch description for details."
"RTN","ORY423E",8,0)
 S DIR("?",1)="GMRCOR CONSULT is being updated by this patch. The target system may have"
"RTN","ORY423E",9,0)
 S DIR("?",2)="local modifications to GMRCOR CONSULT. Installers should coordinate with"
"RTN","ORY423E",10,0)
 S DIR("?",3)="site personnel to ensure any local modifications have been backed up."
"RTN","ORY423E",11,0)
 S DIR("?",4)=""
"RTN","ORY423E",12,0)
 S ORCONT=$$QUES(.DIR)
"RTN","ORY423E",13,0)
 I $G(ORCONT)=0 D  Q
"RTN","ORY423E",14,0)
 . W !!,"OK - You have opted to abort the installation.",!
"RTN","ORY423E",15,0)
 . W !,"Transport global will be unloaded.",!
"RTN","ORY423E",16,0)
 . W !,"Please reload the distribution when you are ready.",!! H 3
"RTN","ORY423E",17,0)
 . S XPDABORT=1
"RTN","ORY423E",18,0)
 W !!,"Environment check complete. Install will proceed.",! H 2
"RTN","ORY423E",19,0)
 Q
"RTN","ORY423E",20,0)
QUES(DIR) ;
"RTN","ORY423E",21,0)
 ;ASK A QUESTION
"RTN","ORY423E",22,0)
 Q:$G(DIR("A"))=""
"RTN","ORY423E",23,0)
 N DIRUT,Y
"RTN","ORY423E",24,0)
 F  D  Q:$D(Y)
"RTN","ORY423E",25,0)
 .N X,DTOUT,DUOUT,DIROUT
"RTN","ORY423E",26,0)
 .S DIR(0)="Y"_U,DIR("B")="NO"
"RTN","ORY423E",27,0)
 .D ^DIR
"RTN","ORY423E",28,0)
 .I $D(DIRUT) W !,"A response is required.",! K Y
"RTN","ORY423E",29,0)
 Q $G(Y)
"RTN","ORY423E",30,0)
 ;
"RTN","ORY423ES")
0^18^B12635175
"RTN","ORY423ES",1,0)
ORY423ES ;SLC/RJS,CLA - OCX PACKAGE RULE TRANSPORT ROUTINE (Delete after Install of OR*3*423) ;JUN 29,2016 at 06:15
"RTN","ORY423ES",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**423**;Dec 17,1997;Build 19
"RTN","ORY423ES",3,0)
 ;;  ;;ORDER CHECK EXPERT version 1.01 released OCT 29,1998
"RTN","ORY423ES",4,0)
 ;
"RTN","ORY423ES",5,0)
S ;
"RTN","ORY423ES",6,0)
 ;
"RTN","ORY423ES",7,0)
 N OCXDIER,QUIT,LINE,TEXT,REMOTE,LOCAL,D0,OPCODE,REF,OCXFLAG S QUIT=0
"RTN","ORY423ES",8,0)
 N OCXAUTO,OCZSCR
"RTN","ORY423ES",9,0)
 ;
"RTN","ORY423ES",10,0)
 D DOT
"RTN","ORY423ES",11,0)
 I $L($T(VERSION^OCXOCMP)),($$VERSION^OCXOCMP="ORDER CHECK EXPERT version 1.01 released OCT 29,1998"),1
"RTN","ORY423ES",12,0)
 E  D  Q
"RTN","ORY423ES",13,0)
 .W !
"RTN","ORY423ES",14,0)
 .W !,"Rule Transport aborted, version mismatch."
"RTN","ORY423ES",15,0)
 .W !,"Current Local version: ",$$VERSION^OCXOCMP
"RTN","ORY423ES",16,0)
 .W !,"   Rule Transport Version: ORDER CHECK EXPERT version 1.01 released OCT 29,1998"
"RTN","ORY423ES",17,0)
 I '$D(DTIME) W !!,"DTIME not defined !!",!! Q
"RTN","ORY423ES",18,0)
 W !!,"Order Check Expert System Rule Transporter"
"RTN","ORY423ES",19,0)
 W !," Created: JUN 29,2016 at 06:15  at  CPRS30.FO-DOMAIN.EXT"
"RTN","ORY423ES",20,0)
 W !," Current Date: ",$$NOW^ORY4230,"  at  ",$$NETNAME^OCXSEND,!!
"RTN","ORY423ES",21,0)
 S LASTFILE=0 K ^TMP("OCXRULE",$J)
"RTN","ORY423ES",22,0)
 S ^TMP("OCXRULE",$J)=($P($H,",",2)+($H*86400)+(1*60*60))_" <- ^TMP ENTRY EXPIRATION DATE FOR ^OCXOPURG"
"RTN","ORY423ES",23,0)
 S OCXFLAG="O"
"RTN","ORY423ES",24,0)
 ;
"RTN","ORY423ES",25,0)
RUN ;
"RTN","ORY423ES",26,0)
 ;
"RTN","ORY423ES",27,0)
 W !,"Loading Data " D ^ORY42301
"RTN","ORY423ES",28,0)
 ;
"RTN","ORY423ES",29,0)
 S LINE=0 F  S LINE=$O(^TMP("OCXRULE",$J,LINE)) Q:'LINE   D  Q:QUIT
"RTN","ORY423ES",30,0)
 .D:'(LINE#50) STATUS^OCXOPOST(LINE,$O(^TMP("OCXRULE",$J," "),-1))
"RTN","ORY423ES",31,0)
 .S TEXT=$G(^TMP("OCXRULE",$J,LINE)) I $L(TEXT) D  Q:QUIT
"RTN","ORY423ES",32,0)
 ..S TEXT=$P(TEXT,";",2,999),OPCODE=$P(TEXT,U,1),TEXT=$P(TEXT,U,2,999)
"RTN","ORY423ES",33,0)
 ..;
"RTN","ORY423ES",34,0)
 ..I OPCODE="KEY" D DOT S LOCAL="",D0=$$GETFILE^ORY4230(+$P(TEXT,U,1),$P(TEXT,U,2),.LOCAL) S QUIT=(D0=(-10)) Q
"RTN","ORY423ES",35,0)
 ..I OPCODE="R" S REF="REMOTE("_$P(TEXT,":",1)_":"_D0_$P(TEXT,":",2,99)_")" Q
"RTN","ORY423ES",36,0)
 ..I OPCODE="D",$D(REF) S @REF=$P(TEXT,U,1,999) K REF Q
"RTN","ORY423ES",37,0)
 ..;
"RTN","ORY423ES",38,0)
 ..I OPCODE="EOR" S QUIT=$$COMPARE^ORY4231(.LOCAL,.REMOTE) K LOCAL,REMOTE Q
"RTN","ORY423ES",39,0)
 ..I OPCODE="EOF" K LOCAL,REMOTE Q
"RTN","ORY423ES",40,0)
 ..I OPCODE="SOF" W !,"  Installing '",TEXT,"' records... " Q
"RTN","ORY423ES",41,0)
 ..I OPCODE="ROOT" D  Q
"RTN","ORY423ES",42,0)
 ...N FILE,DATA
"RTN","ORY423ES",43,0)
 ...S FILE=U_$P(TEXT,U,1),DATA=$P(TEXT,U,2,3)
"RTN","ORY423ES",44,0)
 ...I ($P($G(@FILE),U,1,2)=DATA) Q
"RTN","ORY423ES",45,0)
 ...S $P(@FILE,U,1,2)=DATA
"RTN","ORY423ES",46,0)
 ...W !,"  Restoring file #",(+$P(DATA,U,2))," zero node"
"RTN","ORY423ES",47,0)
 ..;
"RTN","ORY423ES",48,0)
 ..W !,"Unknown OpCode: ",OPCODE,"  in: ",TEXT S QUIT=$$PAUSE^ORY4230 W !
"RTN","ORY423ES",49,0)
 ;
"RTN","ORY423ES",50,0)
 K ^TMP("OCXRULE",$J)
"RTN","ORY423ES",51,0)
 ;
"RTN","ORY423ES",52,0)
 I $D(^OCXS) D
"RTN","ORY423ES",53,0)
 .N FILE,DO,PD0,CNT
"RTN","ORY423ES",54,0)
 .S FILE=0 F  S FILE=$O(^OCXS(FILE)) Q:'FILE  D
"RTN","ORY423ES",55,0)
 ..S D0=0 F CNT=0:1 S PD0=D0,D0=$O(^OCXS(FILE,D0)) Q:'D0
"RTN","ORY423ES",56,0)
 ..S $P(^OCXS(FILE,0),U,3,4)=CNT_U_PD0
"RTN","ORY423ES",57,0)
 ;
"RTN","ORY423ES",58,0)
 I $G(OCXDIER) D
"RTN","ORY423ES",59,0)
 .W !!!!!!!
"RTN","ORY423ES",60,0)
 .W !,?5,"******************** Warning ******************** "
"RTN","ORY423ES",61,0)
 .W !,?7,+$G(OCXDIER)," data filing error",$S(($G(OCXDIER)=1):"",1:"s"),"."
"RTN","ORY423ES",62,0)
 .W !,?7,"Some expert system rules may be incomplete."
"RTN","ORY423ES",63,0)
 .W !,?5,"******************** Warning ******************** "
"RTN","ORY423ES",64,0)
 I '$G(OCXDIER) W !!,?5," No data filing errors."
"RTN","ORY423ES",65,0)
 W !!,"Transport Finished..."
"RTN","ORY423ES",66,0)
 ;
"RTN","ORY423ES",67,0)
 D
"RTN","ORY423ES",68,0)
 .N OCXOETIM
"RTN","ORY423ES",69,0)
 .D BMES^XPDUTL("---Creating Order Check Routines-----------------------------------")
"RTN","ORY423ES",70,0)
 .D AUTO^OCXOCMP
"RTN","ORY423ES",71,0)
 ;
"RTN","ORY423ES",72,0)
 Q
"RTN","ORY423ES",73,0)
 ;
"RTN","ORY423ES",74,0)
DOT Q:$G(OCXAUTO)  W:($X>70) ! W " ." Q
"RTN","ORY423ES",75,0)
 ;
"RTN","ORY423ES",76,0)
READ(OCXZ0,OCXZA,OCXZB,OCXZL) ;
"RTN","ORY423ES",77,0)
 N OCXLINE,DIR,DTOUT,DUOUT,DIRUT,DIROUT
"RTN","ORY423ES",78,0)
 Q:'$L($G(OCXZ0)) U
"RTN","ORY423ES",79,0)
 S DIR(0)=OCXZ0
"RTN","ORY423ES",80,0)
 S:$L($G(OCXZA)) DIR("A")=OCXZA
"RTN","ORY423ES",81,0)
 S:$L($G(OCXZB)) DIR("B")=OCXZB
"RTN","ORY423ES",82,0)
 F OCXLINE=1:1:($G(OCXZL)-1) W !
"RTN","ORY423ES",83,0)
 D ^DIR
"RTN","ORY423ES",84,0)
 I $D(DTOUT)!$D(DUOUT)!$D(DIRUT)!$D(DIROUT) Q U
"RTN","ORY423ES",85,0)
 Q Y
"RTN","ORY423ES",86,0)
 ;
"VER")
8.0^22.0
"^DD",101.41,101.41,0)
FIELD^^99^30
"^DD",101.41,101.41,0,"DDA")
N
"^DD",101.41,101.41,0,"DT")
2980501
"^DD",101.41,101.41,0,"IX","AB",101.41,.01)

"^DD",101.41,101.41,0,"IX","AD",101.412,2)

"^DD",101.41,101.41,0,"IX","AM",101.41,99)

"^DD",101.41,101.41,0,"IX","AM2",101.41,2)

"^DD",101.41,101.41,0,"IX","AM51",101.41,51)

"^DD",101.41,101.41,0,"IX","AM52",101.41,52)

"^DD",101.41,101.41,0,"IX","AMM",101.412,.01)

"^DD",101.41,101.41,0,"IX","AMM2",101.412,2)

"^DD",101.41,101.41,0,"IX","AMM3",101.412,3)

"^DD",101.41,101.41,0,"IX","AMM4",101.412,4)

"^DD",101.41,101.41,0,"IX","AMM5",101.412,5)

"^DD",101.41,101.41,0,"IX","APKG",101.41,7)

"^DD",101.41,101.41,0,"IX","C",101.41,2)

"^DD",101.41,101.41,0,"NM","ORDER DIALOG")

"^DD",101.41,101.41,0,"PT",100,2)

"^DD",101.41,101.41,0,"PT",100,7)

"^DD",101.41,101.41,0,"PT",100.045,.02)

"^DD",101.41,101.41,0,"PT",100.5,4)

"^DD",101.41,101.41,0,"PT",100.5,5)

"^DD",101.41,101.41,0,"PT",100.98,4)

"^DD",101.41,101.41,0,"PT",101.412,1)

"^DD",101.41,101.41,0,"PT",101.412,2)

"^DD",101.41,101.41,0,"PT",101.415,2)

"^DD",101.41,101.41,0,"PT",101.416,.02)

"^DD",101.41,101.41,0,"PT",101.441,.01)

"^DD",101.41,101.41,0,"PT",801.41,15)

"^DD",101.41,101.41,0,"PT",801.4118,.01)

"^DD",101.41,101.41,0,"PT",800001.05,.01)

"^DD",101.41,101.41,0,"VRPK")
OR
"^DD",101.41,101.41,.01,0)
NAME^RF^^0;1^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>63!($L(X)<3)!'(X'?1P.E) X
"^DD",101.41,101.41,.01,1,0)
^.1^^-1
"^DD",101.41,101.41,.01,1,2,0)
101.41^AB
"^DD",101.41,101.41,.01,1,2,1)
S ^ORD(101.41,"AB",$E(X,1,63),DA)=""
"^DD",101.41,101.41,.01,1,2,2)
K ^ORD(101.41,"AB",$E(X,1,63),DA)
"^DD",101.41,101.41,.01,1,2,"%D",0)
^^1^1^2971020^
"^DD",101.41,101.41,.01,1,2,"%D",1,0)
This is a regular index on the full 63 characters of the Name field.
"^DD",101.41,101.41,.01,1,2,"DT")
2971020
"^DD",101.41,101.41,.01,3)
Answer must be 3-63 characters in length.
"^DD",101.41,101.41,.01,21,0)
^^3^3^2971219^
"^DD",101.41,101.41,.01,21,1,0)
This is the name of the dialog; entries that were converted from the
"^DD",101.41,101.41,.01,21,2,0)
Protocol file will retain the same name.  Namespacing is not required,
"^DD",101.41,101.41,.01,21,3,0)
but still encouraged.
"^DD",101.41,101.41,.01,"DT")
2971020
"^DD",101.41,101.41,2,0)
DISPLAY TEXT^FX^^0;2^K:$L(X)>80!($L(X)<3)!($$CHKNAM^ORUTL(X)) X
"^DD",101.41,101.41,2,1,0)
^.1
"^DD",101.41,101.41,2,1,1,0)
101.41^C
"^DD",101.41,101.41,2,1,1,1)
S ^ORD(101.41,"C",$$UP^XLFSTR($E(X,1,63)),DA)=""
"^DD",101.41,101.41,2,1,1,2)
K ^ORD(101.41,"C",$$UP^XLFSTR($E(X,1,63)),DA)
"^DD",101.41,101.41,2,1,1,"DT")
2950112
"^DD",101.41,101.41,2,1,2,0)
101.41^AM2^MUMPS
"^DD",101.41,101.41,2,1,2,1)
D REDOM^ORDD41
"^DD",101.41,101.41,2,1,2,2)
D REDOM^ORDD41
"^DD",101.41,101.41,2,1,2,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.41,2,1,2,"%D",1,0)
Update TIMESTAMP whenever DISPLAY TEXT is changed.
"^DD",101.41,101.41,2,1,2,"DT")
2990210
"^DD",101.41,101.41,2,3)
Answer must be 3-80 characters in length and cannot contain a semicolon (;), a comma (,), an up-arrow (^), a dash (-), or an equal sign (=). 
"^DD",101.41,101.41,2,21,0)
^.001^1^1^3010913^^^^
"^DD",101.41,101.41,2,21,1,0)
The text of this dialog's name as it appears on a menu or subheader.
"^DD",101.41,101.41,2,"DT")
3000823
"^DD",101.41,101.41,3,0)
DISABLE^F^^0;3^K:$L(X)>40!($L(X)<1) X
"^DD",101.41,101.41,3,3)
Enter a message here to disable this dialog, 1-40 characters in length.
"^DD",101.41,101.41,3,21,0)
^^3^3^2950112^
"^DD",101.41,101.41,3,21,1,0)
This field disables use of this dialog when it contains text.  The text
"^DD",101.41,101.41,3,21,2,0)
should be a short message explaining why use of this dialog has been
"^DD",101.41,101.41,3,21,3,0)
disabled, as it will be displayed if this dialog is selected.
"^DD",101.41,101.41,3,"DT")
2950112
"^DD",101.41,101.41,4,0)
TYPE^RS^P:prompt;D:dialog;Q:quick order;O:order set;M:menu;A:action;^0;4^Q
"^DD",101.41,101.41,4,3)
Specify a type for this dialog.
"^DD",101.41,101.41,4,21,0)
^^5^5^2950716^^^^
"^DD",101.41,101.41,4,21,1,0)
This field defines the type of order dialog to be processed.  Control
"^DD",101.41,101.41,4,21,2,0)
will be passed to the OE/RR Dialog Processor for dialog items; menu types
"^DD",101.41,101.41,4,21,3,0)
are used for displaying and selecting dialog items.  Action types will only
"^DD",101.41,101.41,4,21,4,0)
execute the entry and exit actions, ignoring any items that may exist; these
"^DD",101.41,101.41,4,21,5,0)
dialogs should not create entries in the Orders file.
"^DD",101.41,101.41,4,"DT")
2950716
"^DD",101.41,101.41,5,0)
DISPLAY GROUP^P100.98'^ORD(100.98,^0;5^Q
"^DD",101.41,101.41,5,3)
Enter the display group containing orderable items defined by this dialog.
"^DD",101.41,101.41,5,21,0)
^^3^3^2950112^
"^DD",101.41,101.41,5,21,1,0)
This field determines what display group this dialog has been defined for.
"^DD",101.41,101.41,5,21,2,0)
It will define which orderable items are selectable with this dialog,
"^DD",101.41,101.41,5,21,3,0)
as well as what service to send the order to when it is complete.
"^DD",101.41,101.41,5,"DT")
2950112
"^DD",101.41,101.41,6,0)
SIGNATURE REQUIRED^S^0:NONE;1:ORELSE;2:ORES;^0;6^Q
"^DD",101.41,101.41,6,3)
Enter the OR key required to sign orders created by this dialog
"^DD",101.41,101.41,6,21,0)
^^6^6^2970318^^
"^DD",101.41,101.41,6,21,1,0)
This field indicates what signature will be required for orders created by
"^DD",101.41,101.41,6,21,2,0)
this dialog, to be considered complete and ready to release to the service
"^DD",101.41,101.41,6,21,3,0)
for action.  If this flag is set to NO and the dialog contains a prompt
"^DD",101.41,101.41,6,21,4,0)
for item(s) from the Orderable Item file, the order created may still
"^DD",101.41,101.41,6,21,5,0)
require a signature if any of the items ordered are individually flagged
"^DD",101.41,101.41,6,21,6,0)
as requiring a signature.
"^DD",101.41,101.41,6,"DT")
2970318
"^DD",101.41,101.41,7,0)
PACKAGE^P9.4'^DIC(9.4,^0;7^Q
"^DD",101.41,101.41,7,1,0)
^.1
"^DD",101.41,101.41,7,1,1,0)
101.41^APKG
"^DD",101.41,101.41,7,1,1,1)
S ^ORD(101.41,"APKG",$E(X,1,30),DA)=""
"^DD",101.41,101.41,7,1,1,2)
K ^ORD(101.41,"APKG",$E(X,1,30),DA)
"^DD",101.41,101.41,7,1,1,"DT")
2970325
"^DD",101.41,101.41,7,3)
Enter the VISTA package that is to receive orders created by this dialog.
"^DD",101.41,101.41,7,21,0)
^^3^3^2950208^
"^DD",101.41,101.41,7,21,1,0)
This is the VISTA package that is intended to receive orders created by
"^DD",101.41,101.41,7,21,2,0)
this dialog; this is required for creating the HL7 messages to pass the
"^DD",101.41,101.41,7,21,3,0)
order.
"^DD",101.41,101.41,7,"DT")
2970325
"^DD",101.41,101.41,8,0)
VERIFY ORDER^S^1:YES;0:NO;^0;8^Q
"^DD",101.41,101.41,8,3)
Enter YES to have orders created by this dialog presented to the user before saving, with the opportunity to edit.
"^DD",101.41,101.41,8,21,0)
^^3^3^2950623^
"^DD",101.41,101.41,8,21,1,0)
This field is a flag, which determines if the order created by this dialog
"^DD",101.41,101.41,8,21,2,0)
will be presented to the user for verification before saving in the Orders
"^DD",101.41,101.41,8,21,3,0)
file; for most quick orders, this flag should be set to 0 (no).
"^DD",101.41,101.41,8,"DT")
2950623
"^DD",101.41,101.41,9,0)
ASK FOR ANOTHER ORDER^S^0:NO;1:YES;2:YES-DON'T ASK;^0;9^Q
"^DD",101.41,101.41,9,3)
Enter YES to have the user asked to enter another order from this dialog before exiting.
"^DD",101.41,101.41,9,21,0)
^^6^6^2970616^^^
"^DD",101.41,101.41,9,21,1,0)
This field allows the user to add another order from this dialog, when the
"^DD",101.41,101.41,9,21,2,0)
initial order is accepted and placed; if set to YES, the user will be
"^DD",101.41,101.41,9,21,3,0)
asked "Add another <dialog display text> order?" to allow for either
"^DD",101.41,101.41,9,21,4,0)
exiting the processor or adding an additional order of the same type.
"^DD",101.41,101.41,9,21,5,0)
This field can also be set to YES-DON'T ASK to force the processor to
"^DD",101.41,101.41,9,21,6,0)
automatically drop into prompting for another order without asking first.
"^DD",101.41,101.41,9,"DT")
2970616
"^DD",101.41,101.41,10,0)
ITEMS^101.412IA^^10;0
"^DD",101.41,101.41,10,21,0)
^^5^5^2990211^^^^
"^DD",101.41,101.41,10,21,1,0)
This field contains the components for dialogs:
"^DD",101.41,101.41,10,21,2,0)
     Dialogs      -> prompts
"^DD",101.41,101.41,10,21,3,0)
     Quick orders -> prompts (completed)
"^DD",101.41,101.41,10,21,4,0)
     Order sets   -> dialogs or quick orders
"^DD",101.41,101.41,10,21,5,0)
     Menus        -> dialogs, quick orders, or order sets
"^DD",101.41,101.41,11,0)
DATA TYPE^S^D:date/time;R:free text date/time;F:free text;N:numeric;S:set of codes;Y:yes/no;P:pointer;W:word processing;^1;1^Q
"^DD",101.41,101.41,11,3)
Enter the type of data to be collected at this prompt.
"^DD",101.41,101.41,11,21,0)
^^2^2^2950823^^
"^DD",101.41,101.41,11,21,1,0)
This is the type of data being prompted for; this field is used to define
"^DD",101.41,101.41,11,21,2,0)
a call to the reader (^DIR) in most cases.
"^DD",101.41,101.41,11,23,0)
^^1^1^2950823^^
"^DD",101.41,101.41,11,23,1,0)
Used with Prompt-type only.
"^DD",101.41,101.41,11,"DT")
2950407
"^DD",101.41,101.41,12,0)
DOMAIN^F^^1;2^K:$L(X)>235!($L(X)<1) X
"^DD",101.41,101.41,12,3)
Answer must be 1-235 characters in length.
"^DD",101.41,101.41,12,21,0)
^^3^3^2990225^^^^
"^DD",101.41,101.41,12,21,1,0)
This is a parameter that may be used to further specify the data type.
"^DD",101.41,101.41,12,21,2,0)
The string stored here should be appropriate for the second ^-piece of
"^DD",101.41,101.41,12,21,3,0)
DIR(0) when used with the data type field.
"^DD",101.41,101.41,12,23,0)
^^1^1^2990225^^^^
"^DD",101.41,101.41,12,23,1,0)
Used with Prompt-type only.
"^DD",101.41,101.41,12,"DT")
2990225
"^DD",101.41,101.41,13,0)
ID^F^^1;3^K:$L(X)>10!($L(X)<2) X
"^DD",101.41,101.41,13,3)
Answer must be 2-10 characters in length.
"^DD",101.41,101.41,13,21,0)
^.001^20^20^3010727^^
"^DD",101.41,101.41,13,21,1,0)
This field may contain a single word identifier which will be
"^DD",101.41,101.41,13,21,2,0)
stored with the user response in the Orders file #100, where it
"^DD",101.41,101.41,13,21,3,0)
will be indexed for quick reference to certain values in the
"^DD",101.41,101.41,13,21,4,0)
order dialog.  The following are some examples of values
"^DD",101.41,101.41,13,21,5,0)
currently in use:
"^DD",101.41,101.41,13,21,6,0)
 
"^DD",101.41,101.41,13,21,7,0)
   START      -> Start date/time
"^DD",101.41,101.41,13,21,8,0)
   STOP       -> Stop date/time
"^DD",101.41,101.41,13,21,9,0)
   SCHEDULE   -> Administration Schedule
"^DD",101.41,101.41,13,21,10,0)
   ORDERABLE  -> Orderable Item
"^DD",101.41,101.41,13,21,11,0)
   DRUG       -> Dispense Drug
"^DD",101.41,101.41,13,21,12,0)
   CANCEL     -> Cancel Future Orders flag
"^DD",101.41,101.41,13,21,13,0)
   COMMENT    -> Word processing comments
"^DD",101.41,101.41,13,21,14,0)
 
"^DD",101.41,101.41,13,21,15,0)
These values must be unique among entries within an order dialog
"^DD",101.41,101.41,13,21,16,0)
but do not need to be unique across the entire file.  Be sure to
"^DD",101.41,101.41,13,21,17,0)
check the IDs assigned to generic text entries to make sure that
"^DD",101.41,101.41,13,21,18,0)
all IDs are unique.  In order to avoid potential problems it's
"^DD",101.41,101.41,13,21,19,0)
recommended that you use unique IDs for any local entries that you
"^DD",101.41,101.41,13,21,20,0)
create.
"^DD",101.41,101.41,13,"DT")
2960215
"^DD",101.41,101.41,17,0)
VALIDATION^K^^7;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.41,17,3)
This is Standard MUMPS code.
"^DD",101.41,101.41,17,9)
@
"^DD",101.41,101.41,17,21,0)
^^3^3^2960912^
"^DD",101.41,101.41,17,21,1,0)
This is MUMPS code that will be executed at the time of releasing an
"^DD",101.41,101.41,17,21,2,0)
order created with this dialog; dialog responses may be checked again
"^DD",101.41,101.41,17,21,3,0)
here before releasing the order to the service.
"^DD",101.41,101.41,17,"DT")
2960912
"^DD",101.41,101.41,19,0)
ADDITIONAL TEXT^K^^9;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.41,19,3)
This is Standard MUMPS code.
"^DD",101.41,101.41,19,9)
@
"^DD",101.41,101.41,19,21,0)
^^3^3^2960405^^
"^DD",101.41,101.41,19,21,1,0)
This is MUMPS code that will be executed when order ORIFN created by this
"^DD",101.41,101.41,19,21,2,0)
dialog is about to be displayed; any string that should be appended to the
"^DD",101.41,101.41,19,21,3,0)
order text should be returned in Y.
"^DD",101.41,101.41,19,"DT")
2960405
"^DD",101.41,101.41,20,0)
DESCRIPTION^101.411^^2;0
"^DD",101.41,101.41,20,21,0)
^^1^1^2971219^
"^DD",101.41,101.41,20,21,1,0)
This is a description of the dialog and its uses.
"^DD",101.41,101.41,21,0)
RESPONSES^101.416^^6;0
"^DD",101.41,101.41,21,21,0)
^^2^2^2971219^
"^DD",101.41,101.41,21,21,1,0)
This multiple contains any responses to prompts that have been pre-answered
"^DD",101.41,101.41,21,21,2,0)
to create a quick order.
"^DD",101.41,101.41,30,0)
ENTRY ACTION^K^^3;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.41,30,3)
This is Standard MUMPS code.
"^DD",101.41,101.41,30,9)
@
"^DD",101.41,101.41,30,21,0)
^^4^4^2950425^
"^DD",101.41,101.41,30,21,1,0)
This is MUMPS code that will be executed at the top of a dialog, prior to
"^DD",101.41,101.41,30,21,2,0)
the execution of any prompts; it may perform functions such as listing
"^DD",101.41,101.41,30,21,3,0)
the recent Radiology exams before ordering a new one, or alerting the
"^DD",101.41,101.41,30,21,4,0)
user to an existing diet order before making a change.
"^DD",101.41,101.41,30,"DT")
2950425
"^DD",101.41,101.41,31,0)
QUICK SETUP^K^^3.1;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.41,31,3)
This is Standard MUMPS code.
"^DD",101.41,101.41,31,9)
@
"^DD",101.41,101.41,31,21,0)
^^3^3^2970113^
"^DD",101.41,101.41,31,21,1,0)
This is MUMPS code that will be executed in the place of the Entry Action
"^DD",101.41,101.41,31,21,2,0)
when creating quick orders for this dialog; variables may be set here
"^DD",101.41,101.41,31,21,3,0)
instead to bypass the usual dependence on specific patient values.
"^DD",101.41,101.41,31,"DT")
2970113
"^DD",101.41,101.41,40,0)
EXIT ACTION^K^^4;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.41,40,3)
This is Standard MUMPS code.
"^DD",101.41,101.41,40,9)
@
"^DD",101.41,101.41,40,21,0)
^^2^2^2950622^
"^DD",101.41,101.41,40,21,1,0)
This is MUMPS code that will be executed upon completion of processing the
"^DD",101.41,101.41,40,21,2,0)
dialog; it is currently used only with dialog-type entries.
"^DD",101.41,101.41,40,"DT")
2950622
"^DD",101.41,101.41,50,0)
CONTROLS^101.415A^^50;0
"^DD",101.41,101.41,51,0)
COLUMN WIDTH^NJ3,0^^5;1^K:+X'=X!(X>240)!(X<20)!(X?.E1"."1N.N) X
"^DD",101.41,101.41,51,1,0)
^.1
"^DD",101.41,101.41,51,1,1,0)
101.41^AM51^MUMPS
"^DD",101.41,101.41,51,1,1,1)
D REDO^ORDD41
"^DD",101.41,101.41,51,1,1,2)
D REDO^ORDD41
"^DD",101.41,101.41,51,1,1,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.41,51,1,1,"%D",1,0)
Update TIMESTAMP whenever COLUMN WIDTH is changed.
"^DD",101.41,101.41,51,1,1,"DT")
2990210
"^DD",101.41,101.41,51,3)
Type a Number between 20 and 240, 0 Decimal Digits
"^DD",101.41,101.41,51,21,0)
^^2^2^2950623^
"^DD",101.41,101.41,51,21,1,0)
This is the width, in characters, for each column in a menu.  For example,
"^DD",101.41,101.41,51,21,2,0)
to have 3 columns on an 80 character device, enter a width of 26.
"^DD",101.41,101.41,51,"DT")
2990210
"^DD",101.41,101.41,52,0)
MNEMONIC WIDTH^NJ1,0^^5;2^K:+X'=X!(X>9)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.41,101.41,52,1,0)
^.1
"^DD",101.41,101.41,52,1,1,0)
101.41^AM52^MUMPS
"^DD",101.41,101.41,52,1,1,1)
D REDO^ORDD41
"^DD",101.41,101.41,52,1,1,2)
D REDO^ORDD41
"^DD",101.41,101.41,52,1,1,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.41,52,1,1,"%D",1,0)
Update TIMESTAMP whenever MNEMONIC WIDTH is changed.
"^DD",101.41,101.41,52,1,1,"DT")
2990210
"^DD",101.41,101.41,52,3)
Type a Number between 1 and 9, 0 Decimal Digits
"^DD",101.41,101.41,52,21,0)
^^2^2^2950623^
"^DD",101.41,101.41,52,21,1,0)
This field allows the width of item mnemonics to be varied; the default
"^DD",101.41,101.41,52,21,2,0)
value is 5.
"^DD",101.41,101.41,52,"DT")
2990210
"^DD",101.41,101.41,53,0)
PATH SWITCH^S^1:YES;0:NO;^5;3^Q
"^DD",101.41,101.41,53,3)
Enter YES if this menu should be redisplayed when traversing back up the menu tree.
"^DD",101.41,101.41,53,21,0)
^^5^5^2950623^
"^DD",101.41,101.41,53,21,1,0)
This switch allows the user, when traversing back UP the tree of menus and
"^DD",101.41,101.41,53,21,2,0)
items, to select a new path back down the tree.  In other words, the menu
"^DD",101.41,101.41,53,21,3,0)
is redisplayed when returning to that menu's level in the tree and
"^DD",101.41,101.41,53,21,4,0)
processing back down the tree is possible from that point.  If nothing is
"^DD",101.41,101.41,53,21,5,0)
selected from the menu, the path continues back up the tree.
"^DD",101.41,101.41,53,"DT")
2950623
"^DD",101.41,101.41,54,0)
LISTBOX TEXT^F^^5;4^K:$L(X)>30!($L(X)<1) X
"^DD",101.41,101.41,54,3)
Answer must be 1-30 characters in length.
"^DD",101.41,101.41,54,"DT")
2960524
"^DD",101.41,101.41,55,0)
WINDOW FORM ID^NJ4,0^^5;5^K:+X'=X!(X>9999)!(X<0)!(X?.E1"."1N.N) X
"^DD",101.41,101.41,55,3)
Type a Number between 0 and 9999, 0 Decimal Digits
"^DD",101.41,101.41,55,21,0)
^.001^23^23^3010727^^
"^DD",101.41,101.41,55,21,1,0)
This field tells the GUI DELPHI code which form to use to process the
"^DD",101.41,101.41,55,21,2,0)
order dialog.  Each number represents a unique form.  Following are some
"^DD",101.41,101.41,55,21,3,0)
of the more common codes and their corresponding form in DELPHI.
"^DD",101.41,101.41,55,21,4,0)
 
"^DD",101.41,101.41,55,21,5,0)
    Form Name     Windows Form ID
"^DD",101.41,101.41,55,21,6,0)
    ---------     ---------------
"^DD",101.41,101.41,55,21,7,0)
  OD_ACTIVITY           100
"^DD",101.41,101.41,55,21,8,0)
  OD_ALLERGY            105
"^DD",101.41,101.41,55,21,9,0)
  OD_CONSULT            110
"^DD",101.41,101.41,55,21,10,0)
  OD_PROCEDURE          112
"^DD",101.41,101.41,55,21,11,0)
  OD_DIET_TXT           115
"^DD",101.41,101.41,55,21,12,0)
  OD_DIET               117
"^DD",101.41,101.41,55,21,13,0)
  OD_LAB                120
"^DD",101.41,101.41,55,21,14,0)
  OD_MEDINPT            130
"^DD",101.41,101.41,55,21,15,0)
  OD_MEDS               135
"^DD",101.41,101.41,55,21,16,0)
  OD_MEDOUTPT           140
"^DD",101.41,101.41,55,21,17,0)
  OD_NURSING            150
"^DD",101.41,101.41,55,21,18,0)
  OD_MISC               151
"^DD",101.41,101.41,55,21,19,0)
  OD_GENERIC            152
"^DD",101.41,101.41,55,21,20,0)
  OD_IMAGING            160
"^DD",101.41,101.41,55,21,21,0)
  OD_VITALS             171 
"^DD",101.41,101.41,55,21,22,0)
  OD_MEDIV              180
"^DD",101.41,101.41,55,21,23,0)
  OD_TEXTONLY           999
"^DD",101.41,101.41,55,"DT")
2960804
"^DD",101.41,101.41,56,0)
CREATE PARENT ORDER^S^1:YES;0:NO;^5;6^Q
"^DD",101.41,101.41,56,3)
Enter YES if a parent order should be created for this order set
"^DD",101.41,101.41,56,21,0)
^^6^6^2970227^
"^DD",101.41,101.41,56,21,1,0)
This flag indicates whether a parent order should be created to group
"^DD",101.41,101.41,56,21,2,0)
together all the orders created by this order set; this flag is only
"^DD",101.41,101.41,56,21,3,0)
valid with SET type order dialogs.  If this value is YES, a parent
"^DD",101.41,101.41,56,21,4,0)
order will be created, and only the parent will be presented on the
"^DD",101.41,101.41,56,21,5,0)
orders list for display and action; NO will prevent a parent from being
"^DD",101.41,101.41,56,21,6,0)
created and all orders will be created and displayed independently.
"^DD",101.41,101.41,56,"DT")
2970227
"^DD",101.41,101.41,57,0)
DISPLAY SUBHEADER^S^1:YES;0:NO;^5;7^Q
"^DD",101.41,101.41,57,3)
Enter YES if a subheader should be displayed as each order in this set is processed
"^DD",101.41,101.41,57,21,0)
^^3^3^2970227^
"^DD",101.41,101.41,57,21,1,0)
This flag indicates whether a subheader is to be displayed for each order
"^DD",101.41,101.41,57,21,2,0)
in this set as it is processed and placed; this flag is only valid with
"^DD",101.41,101.41,57,21,3,0)
SET type order dialogs.
"^DD",101.41,101.41,57,"DT")
2970227
"^DD",101.41,101.41,58,0)
AUTO-ACCEPT QUICK ORDER^S^1:YES;^5;8^Q
"^DD",101.41,101.41,58,3)
Enter 'Yes' if the order should be placed without displaying the dialog window.
"^DD",101.41,101.41,58,21,0)
^^2^2^2980902^
"^DD",101.41,101.41,58,21,1,0)
This can be set to yes for a quick order so that it can be placed simply
"^DD",101.41,101.41,58,21,2,0)
by clicking on it in the GUI (no ordering dialog is displayed).
"^DD",101.41,101.41,58,"DT")
2980902
"^DD",101.41,101.41,99,0)
TIMESTAMP^F^^99;1^K:$L(X)>15!($L(X)<1) X
"^DD",101.41,101.41,99,1,0)
^.1
"^DD",101.41,101.41,99,1,1,0)
101.41^AM^MUMPS
"^DD",101.41,101.41,99,1,1,1)
D SET^ORDD41(DA)
"^DD",101.41,101.41,99,1,1,2)
D KILL^ORDD41(DA)
"^DD",101.41,101.41,99,1,1,"%D",0)
^^2^2^2990210^
"^DD",101.41,101.41,99,1,1,"%D",1,0)
Recompiles order dialog menus in ^XUTL("XQORM",<dialog#>_";ORD(101.41,")
"^DD",101.41,101.41,99,1,1,"%D",2,0)
whenever fields necessary to displaying the menu are changed.
"^DD",101.41,101.41,99,1,1,"DT")
2990210
"^DD",101.41,101.41,99,3)
Answer must be 1-15 characters in length.
"^DD",101.41,101.41,99,21,0)
^^2^2^2980501^
"^DD",101.41,101.41,99,21,1,0)
For menus, this contains the $H time the menu was last compiled for use
"^DD",101.41,101.41,99,21,2,0)
with the Unwinder utility (^XQOR).
"^DD",101.41,101.41,99,"DT")
2990210
"^DD",101.41,101.411,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",101.41,101.411,0,"DT")
2950407
"^DD",101.41,101.411,0,"NM","DESCRIPTION")

"^DD",101.41,101.411,0,"UP")
101.41
"^DD",101.41,101.411,.01,0)
DESCRIPTION^W^^0;1^Q
"^DD",101.41,101.411,.01,3)
Enter a description of this dialog.
"^DD",101.41,101.411,.01,21,0)
^^1^1^2950425^^
"^DD",101.41,101.411,.01,21,1,0)
This field contains a description of the content and use of this dialog.
"^DD",101.41,101.411,.01,"DT")
2950407
"^DD",101.41,101.412,0)
ITEMS SUB-FIELD^^117^37
"^DD",101.41,101.412,0,"DT")
2971117
"^DD",101.41,101.412,0,"ID","WRITE")
N OR0,ORNM S OR0=^(0) I $P(OR0,U,2) S ORNM=$P($G(^ORD(101.41,+$P(OR0,U,2),0)),U) D:$L(ORNM) EN^DDIOL(ORNM,,"?10")
"^DD",101.41,101.412,0,"IX","ATXT",101.412,21)

"^DD",101.41,101.412,0,"IX","B",101.412,.01)

"^DD",101.41,101.412,0,"IX","D",101.412,2)

"^DD",101.41,101.412,0,"IX","DAD",101.412,1)

"^DD",101.41,101.412,0,"IX","DAD1",101.412,.01)

"^DD",101.41,101.412,0,"NM","ITEMS")

"^DD",101.41,101.412,0,"UP")
101.41
"^DD",101.41,101.412,.01,0)
SEQUENCE^MNJ5,1^^0;1^K:+X'=X!(X>999.9)!(X<.1)!(X?.E1"."2N.N) X
"^DD",101.41,101.412,.01,1,0)
^.1
"^DD",101.41,101.412,.01,1,1,0)
101.412^B
"^DD",101.41,101.412,.01,1,1,1)
S ^ORD(101.41,DA(1),10,"B",$E(X,1,30),DA)=""
"^DD",101.41,101.412,.01,1,1,2)
K ^ORD(101.41,DA(1),10,"B",$E(X,1,30),DA)
"^DD",101.41,101.412,.01,1,2,0)
101.412^DAD1^MUMPS
"^DD",101.41,101.412,.01,1,2,1)
N ORP S ORP=$P(^ORD(101.41,DA(1),10,DA,0),U,11) S:ORP ^ORD(101.41,DA(1),10,"DAD",ORP,X,DA)=""
"^DD",101.41,101.412,.01,1,2,2)
N ORP S ORP=$P(^ORD(101.41,DA(1),10,DA,0),U,11) K:ORP ^ORD(101.41,DA(1),10,"DAD",ORP,X,DA)
"^DD",101.41,101.412,.01,1,2,"%D",0)
^^1^1^2950511^
"^DD",101.41,101.412,.01,1,2,"%D",1,0)
Allows retrieval of 'child' prompts in sequence by parent.
"^DD",101.41,101.412,.01,1,2,"DT")
2950511
"^DD",101.41,101.412,.01,1,3,0)
101.41^AMM^MUMPS
"^DD",101.41,101.412,.01,1,3,1)
D REDOX^ORDD41
"^DD",101.41,101.412,.01,1,3,2)
D REDOX^ORDD41
"^DD",101.41,101.412,.01,1,3,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.412,.01,1,3,"%D",1,0)
Update TIMESTAMP whenever SEQUENCE is changed.
"^DD",101.41,101.412,.01,1,3,"DT")
2990210
"^DD",101.41,101.412,.01,3)
Type a Number between .1 and 999.9, 1 Decimal Digit
"^DD",101.41,101.412,.01,21,0)
^^2^2^2971117^^^^
"^DD",101.41,101.412,.01,21,1,0)
This field specifies the order in which this item will be displayed or
"^DD",101.41,101.412,.01,21,2,0)
processed.
"^DD",101.41,101.412,.01,"DT")
2990210
"^DD",101.41,101.412,.1,0)
INPUT TRANSFORM^K^^.1;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,.1,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,.1,9)
@
"^DD",101.41,101.412,.1,21,0)
^^2^2^2950816^
"^DD",101.41,101.412,.1,21,1,0)
This is code that will be used as the third piece of DIR(0) when asking
"^DD",101.41,101.412,.1,21,2,0)
this prompt.
"^DD",101.41,101.412,.1,"DT")
2950816
"^DD",101.41,101.412,1,0)
PARENT^P101.41'^ORD(101.41,^0;11^Q
"^DD",101.41,101.412,1,1,0)
^.1
"^DD",101.41,101.412,1,1,1,0)
101.412^DAD^MUMPS
"^DD",101.41,101.412,1,1,1,1)
S ^ORD(101.41,DA(1),10,"DAD",X,$P(^ORD(101.41,DA(1),10,DA,0),U),DA)=""
"^DD",101.41,101.412,1,1,1,2)
K ^ORD(101.41,DA(1),10,"DAD",X,$P(^ORD(101.41,DA(1),10,DA,0),U),DA)
"^DD",101.41,101.412,1,1,1,"%D",0)
^^1^1^2950511^^
"^DD",101.41,101.412,1,1,1,"%D",1,0)
Allows retrieval of 'child' prompts in sequence by parent.
"^DD",101.41,101.412,1,1,1,"DT")
2950511
"^DD",101.41,101.412,1,3)
If this prompt is subordinate to another in this dialog, enter the parent prompt here
"^DD",101.41,101.412,1,21,0)
^^4^4^2950511^
"^DD",101.41,101.412,1,21,1,0)
This field controls the behavior of this prompt.  If a parent is defined
"^DD",101.41,101.412,1,21,2,0)
here, this prompt will be asked from within the parent's dialog; when it
"^DD",101.41,101.412,1,21,3,0)
is invoked independently based on its position sequence number, the child
"^DD",101.41,101.412,1,21,4,0)
prompt will be ignored.
"^DD",101.41,101.412,1,"DT")
2950511
"^DD",101.41,101.412,2,0)
ITEM^P101.41'X^ORD(101.41,^0;2^D TREE^ORDD41
"^DD",101.41,101.412,2,1,0)
^.1
"^DD",101.41,101.412,2,1,1,0)
101.41^AD
"^DD",101.41,101.412,2,1,1,1)
S ^ORD(101.41,"AD",$E(X,1,30),DA(1),DA)=""
"^DD",101.41,101.412,2,1,1,2)
K ^ORD(101.41,"AD",$E(X,1,30),DA(1),DA)
"^DD",101.41,101.412,2,1,1,"DT")
2950123
"^DD",101.41,101.412,2,1,2,0)
101.412^D
"^DD",101.41,101.412,2,1,2,1)
S ^ORD(101.41,DA(1),10,"D",$E(X,1,30),DA)=""
"^DD",101.41,101.412,2,1,2,2)
K ^ORD(101.41,DA(1),10,"D",$E(X,1,30),DA)
"^DD",101.41,101.412,2,1,2,"DT")
2950411
"^DD",101.41,101.412,2,1,3,0)
101.41^AMM2^MUMPS
"^DD",101.41,101.412,2,1,3,1)
D REDOX^ORDD41
"^DD",101.41,101.412,2,1,3,2)
D REDOX^ORDD41
"^DD",101.41,101.412,2,1,3,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.412,2,1,3,"%D",1,0)
Update TIMESTAMP whenever ITEM is changed.
"^DD",101.41,101.412,2,1,3,"DT")
2990210
"^DD",101.41,101.412,2,3)
Enter an order dialog; a dialog that is an ancestor may not also be a sub-item.
"^DD",101.41,101.412,2,21,0)
^^3^3^2950123^
"^DD",101.41,101.412,2,21,1,0)
This field points to an order dialog which is subordinate to this dialog.
"^DD",101.41,101.412,2,21,2,0)
NOTE:  The parent dialog menu or one of its ancestors may not be entered
"^DD",101.41,101.412,2,21,3,0)
as an item.
"^DD",101.41,101.412,2,"DT")
2990217
"^DD",101.41,101.412,3,0)
MNEMONIC^FX^^0;3^K:$L(X)>4!($L(X)<1)!(+X=X&($L(X,".")>1))!($$CHKMNE^ORUTL(X)) X
"^DD",101.41,101.412,3,1,0)
^.1
"^DD",101.41,101.412,3,1,1,0)
101.41^AMM3^MUMPS
"^DD",101.41,101.412,3,1,1,1)
D REDOX^ORDD41
"^DD",101.41,101.412,3,1,1,2)
D REDOX^ORDD41
"^DD",101.41,101.412,3,1,1,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.412,3,1,1,"%D",1,0)
Update TIMESTAMP whenever MNEMONIC is changed.
"^DD",101.41,101.412,3,1,1,"DT")
2990210
"^DD",101.41,101.412,3,3)
Enter a mnemonic to be used when this dialog is displayed for selection, 1-4 characters in length with no decimal places if numeric. Standard list manager mnemonics may not be used.
"^DD",101.41,101.412,3,21,0)
^.001^2^2^3010727^^^^
"^DD",101.41,101.412,3,21,1,0)
This is a short abbreviation for this item dialog to be used when this
"^DD",101.41,101.412,3,21,2,0)
dialog is displayed for selection.
"^DD",101.41,101.412,3,"DT")
3000822
"^DD",101.41,101.412,4,0)
DISPLAY TEXT^FX^^0;4^K:$L(X)>80!($L(X)<1)!($$CHKNAM^ORUTL(X)) X
"^DD",101.41,101.412,4,1,0)
^.1
"^DD",101.41,101.412,4,1,1,0)
101.41^AMM4^MUMPS
"^DD",101.41,101.412,4,1,1,1)
D REDOX^ORDD41
"^DD",101.41,101.412,4,1,1,2)
D REDOX^ORDD41
"^DD",101.41,101.412,4,1,1,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.412,4,1,1,"%D",1,0)
Update TIMESTAMP whenever DISPLAY TEXT is changed.
"^DD",101.41,101.412,4,1,1,"DT")
2990210
"^DD",101.41,101.412,4,3)
Answer must be 1-80 characters in length and cannot contain a semicolon (;), a comma (,), an up-arrow (^), a dash (-), or an equal sign (=).
"^DD",101.41,101.412,4,21,0)
^.001^2^2^3010419^^^^
"^DD",101.41,101.412,4,21,1,0)
This field allows the text that normally appears for this item to be
"^DD",101.41,101.412,4,21,2,0)
replaced with alternate text for use in this dialog or menu.
"^DD",101.41,101.412,4,"DT")
3000823
"^DD",101.41,101.412,5,0)
DISPLAY ONLY?^S^0:NO;1:YES;2:YES-HEADER;^0;5^Q
"^DD",101.41,101.412,5,1,0)
^.1
"^DD",101.41,101.412,5,1,1,0)
101.41^AMM5^MUMPS
"^DD",101.41,101.412,5,1,1,1)
D REDOX^ORDD41
"^DD",101.41,101.412,5,1,1,2)
D REDOX^ORDD41
"^DD",101.41,101.412,5,1,1,"%D",0)
^^1^1^2990210^
"^DD",101.41,101.412,5,1,1,"%D",1,0)
Update TIMESTAMP whenever DISPLAY ONLY? is changed.
"^DD",101.41,101.412,5,1,1,"DT")
2990210
"^DD",101.41,101.412,5,3)
Enter YES if this item is text for display only and not a selectable item.
"^DD",101.41,101.412,5,21,0)
^^3^3^2970409^^^^
"^DD",101.41,101.412,5,21,1,0)
This field identifies an item as being free text for display purposes
"^DD",101.41,101.412,5,21,2,0)
only.  The text in the Display Text field will be displayed, but it
"^DD",101.41,101.412,5,21,3,0)
is not selectable; if designated as a header, the text will be underlined.
"^DD",101.41,101.412,5,"DT")
2990210
"^DD",101.41,101.412,6,0)
REQUIRED^S^1:YES;0:NO;^0;6^Q
"^DD",101.41,101.412,6,3)
Enter YES if a response to this prompt is mandatory.
"^DD",101.41,101.412,6,21,0)
^^1^1^2950407^
"^DD",101.41,101.412,6,21,1,0)
This field indicates that the user must enter a response to this prompt.
"^DD",101.41,101.412,6,"DT")
2950407
"^DD",101.41,101.412,7,0)
MULTIPLE VALUED^S^1:YES;0:NO;^0;7^Q
"^DD",101.41,101.412,7,3)
Enter YES if this prompt is to be asked multiple times.
"^DD",101.41,101.412,7,21,0)
^^3^3^2950407^
"^DD",101.41,101.412,7,21,1,0)
This field determines if this prompt will be allowed to have multiple
"^DD",101.41,101.412,7,21,2,0)
values, or be prompted for only once; if this prompt is a sub-dialog,
"^DD",101.41,101.412,7,21,3,0)
the entire dialog will be asked once or many times, as a group.
"^DD",101.41,101.412,7,"DT")
2950407
"^DD",101.41,101.412,7.1,0)
MAX NUMBER OF MULTIPLES^NJ2,0^^0;12^K:+X'=X!(X>99)!(X<2)!(X?.E1"."1N.N) X
"^DD",101.41,101.412,7.1,3)
Type a Number between 2 and 99, 0 Decimal Digits
"^DD",101.41,101.412,7.1,21,0)
^^4^4^2950815^
"^DD",101.41,101.412,7.1,21,1,0)
This is the maximum number of values that may be entered for this prompt,
"^DD",101.41,101.412,7.1,21,2,0)
if it is flagged as being multiple-valued.  For example, a diet order may
"^DD",101.41,101.412,7.1,21,3,0)
have up to 5 diet modifications entered, where 5 is the maximum allowed
"^DD",101.41,101.412,7.1,21,4,0)
that would be entered here.
"^DD",101.41,101.412,7.1,"DT")
2950815
"^DD",101.41,101.412,7.2,0)
TITLE^F^^0;13^K:$L(X)>30!($L(X)<3) X
"^DD",101.41,101.412,7.2,3)
Answer must be 3-30 characters in length.
"^DD",101.41,101.412,7.2,21,0)
^^8^8^2970430^^
"^DD",101.41,101.412,7.2,21,1,0)
This is text that will be used in place of the prompt when the order is
"^DD",101.41,101.412,7.2,21,2,0)
displayed for place, edit, or cancel, or at the top of a multiple-valued
"^DD",101.41,101.412,7.2,21,3,0)
prompt.  The Display Text for the prompt will be used together with the
"^DD",101.41,101.412,7.2,21,4,0)
instance number to prompt for user input; for example if Title="Lab Tests:"
"^DD",101.41,101.412,7.2,21,5,0)
and Display Text="Test:" the user would see
"^DD",101.41,101.412,7.2,21,6,0)
  Lab Tests:
"^DD",101.41,101.412,7.2,21,7,0)
  1. Test:
"^DD",101.41,101.412,7.2,21,8,0)
  2. Test:
"^DD",101.41,101.412,7.2,"DT")
2950815
"^DD",101.41,101.412,7.3,0)
PROMPT^F^^0;14^K:$L(X)>10!($L(X)<1) X
"^DD",101.41,101.412,7.3,3)
Answer must be 1-10 characters in length.
"^DD",101.41,101.412,7.3,21,0)
^^3^3^2970618^
"^DD",101.41,101.412,7.3,21,1,0)
This field contains text that will be appended to the beginning of the
"^DD",101.41,101.412,7.3,21,2,0)
display text when prompting for additional values; if this field is
"^DD",101.41,101.412,7.3,21,3,0)
empty, then "Another " will be used.
"^DD",101.41,101.412,7.3,"DT")
2970618
"^DD",101.41,101.412,8,0)
ASK ON EDIT ONLY^S^1:YES;0:NO;^0;8^Q
"^DD",101.41,101.412,8,3)
Enter YES if this prompt should not be asked initially when creating this order, only if the user chooses to edit the order.
"^DD",101.41,101.412,8,21,0)
^^4^4^2960112^^^
"^DD",101.41,101.412,8,21,1,0)
This field determines the behaviour of the dialog driver for this prompt;
"^DD",101.41,101.412,8,21,2,0)
if no value or the defined default is usually correct for this prompt,
"^DD",101.41,101.412,8,21,3,0)
enter YES here to have this prompt skipped on the first pass through this
"^DD",101.41,101.412,8,21,4,0)
dialog when creating an order.
"^DD",101.41,101.412,8,"DT")
2950407
"^DD",101.41,101.412,9,0)
ASK ON ACTION^F^^0;9^K:$L(X)>3!($L(X)<1) X
"^DD",101.41,101.412,9,3)
Answer must be 1-3 characters in length.
"^DD",101.41,101.412,9,21,0)
^^6^6^2970708^^^
"^DD",101.41,101.412,9,21,1,0)
This field determines the behaviour of the dialog driver for this prompt
"^DD",101.41,101.412,9,21,2,0)
when taking a particular action on an order created by this dialog.  If
"^DD",101.41,101.412,9,21,3,0)
this string contains "R", this prompt will be asked when renewing an order;
"^DD",101.41,101.412,9,21,4,0)
if this string contains "C", this prompt will be asked when changing an
"^DD",101.41,101.412,9,21,5,0)
order; if this string contains "W", this prompt will be asked when
"^DD",101.41,101.412,9,21,6,0)
rewriting an order.
"^DD",101.41,101.412,9,"DT")
2970708
"^DD",101.41,101.412,10,0)
INDEX^F^^0;10^K:$L(X)>25!($L(X)<1) X
"^DD",101.41,101.412,10,3)
Answer must be 1-25 characters in length.
"^DD",101.41,101.412,10,21,0)
^^3^3^2950713^^^
"^DD",101.41,101.412,10,21,1,0)
For pointer-type prompts, this is the index to use when searching the file;
"^DD",101.41,101.412,10,21,2,0)
it must be in the form of a regular cross-reference.  To search on multiple
"^DD",101.41,101.412,10,21,3,0)
indices, enter a string of index names separated by semi-colons, i.e. "B;C".
"^DD",101.41,101.412,10,"DT")
2950713
"^DD",101.41,101.412,11,0)
HELP MESSAGE^F^^1;1^K:$L(X)>160!($L(X)<1) X
"^DD",101.41,101.412,11,3)
Answer must be 1-160 characters in length.
"^DD",101.41,101.412,11,21,0)
^^2^2^2970609^^
"^DD",101.41,101.412,11,21,1,0)
This field contains the help message to be presented when the user enters
"^DD",101.41,101.412,11,21,2,0)
a question mark at this prompt.
"^DD",101.41,101.412,11,"DT")
2970609
"^DD",101.41,101.412,12,0)
SPECIAL LOOKUP ROUTINE^F^^1;2^K:$L(X)>20!($L(X)<3) X
"^DD",101.41,101.412,12,3)
Enter the routine to use instead of DIC to do this lookup, as [TAG;]ROUTINE
"^DD",101.41,101.412,12,21,0)
^^3^3^2970609^
"^DD",101.41,101.412,12,21,1,0)
This field contains a routine to execute that will replace the standard
"^DD",101.41,101.412,12,21,2,0)
DIC lookup for this prompt; it must be entered here as LINETAG;ROUTINE
"^DD",101.41,101.412,12,21,3,0)
using a ; instead of ^ and where LINETAG is optional.
"^DD",101.41,101.412,12,"DT")
2970609
"^DD",101.41,101.412,13,0)
ASK ON CONDITION^K^^3;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,13,3)
This is MUMPS code that sets $T to determine if this prompt should be asked, or given a default value and bypassed.
"^DD",101.41,101.412,13,9)
@
"^DD",101.41,101.412,13,21,0)
^^5^5^2950407^
"^DD",101.41,101.412,13,21,1,0)
This is MUMPS code that sets $T to determine if this prompt should be asked
"^DD",101.41,101.412,13,21,2,0)
or simply given a default value and presented to the user for acceptance
"^DD",101.41,101.412,13,21,3,0)
or editing.  For example, the prompt "Pregnant: " may have code here to
"^DD",101.41,101.412,13,21,4,0)
check the sex of the current patient, i.e. I ORSEX="F" will allow it to be
"^DD",101.41,101.412,13,21,5,0)
asked only for female patients.
"^DD",101.41,101.412,13,"DT")
2950407
"^DD",101.41,101.412,14,0)
SCREEN^K^^4;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,14,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,14,9)
@
"^DD",101.41,101.412,14,21,0)
^^2^2^2950407^
"^DD",101.41,101.412,14,21,1,0)
For pointer-type prompts, this field may contain MUMPS code that will be
"^DD",101.41,101.412,14,21,2,0)
set into DIC("S") to screen the possible choices in the pointed-to file.
"^DD",101.41,101.412,14,"DT")
2950407
"^DD",101.41,101.412,15,0)
POST-SELECTION ACTION^K^^5;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,15,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,15,9)
@
"^DD",101.41,101.412,15,21,0)
^^3^3^2970923^^^^
"^DD",101.41,101.412,15,21,1,0)
This is code that will be executed after a response is entered to this
"^DD",101.41,101.412,15,21,2,0)
prompt; if this prompt should be re-asked, kill the variable DONE.
"^DD",101.41,101.412,15,21,3,0)
If execution of the ordering dialog should be stopped, set ORQUIT=1.
"^DD",101.41,101.412,15,"DT")
2970923
"^DD",101.41,101.412,16,0)
XECUTABLE HELP^K^^6;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,16,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,16,9)
@
"^DD",101.41,101.412,16,21,0)
^^2^2^2950407^
"^DD",101.41,101.412,16,21,1,0)
This is code that is to be executed when the user enters two or more
"^DD",101.41,101.412,16,21,2,0)
question marks at this prompt.
"^DD",101.41,101.412,16,"DT")
2950407
"^DD",101.41,101.412,17,0)
DEFAULT^K^^7;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,17,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,17,9)
@
"^DD",101.41,101.412,17,21,0)
^^2^2^2971219^^^^
"^DD",101.41,101.412,17,21,1,0)
This is code that is to be executed to determine the appropriate default
"^DD",101.41,101.412,17,21,2,0)
value for this prompt, setting Y=internal form of this value.
"^DD",101.41,101.412,17,"DT")
2950519
"^DD",101.41,101.412,18,0)
DEFAULT WORD-PROCESSING TEXT^101.41218^^8;0
"^DD",101.41,101.412,18,21,0)
^^1^1^2971219^
"^DD",101.41,101.412,18,21,1,0)
This is default text to be stuffed into this word-processing prompt.
"^DD",101.41,101.412,19,0)
ENTRY ACTION^K^^9;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,19,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,19,9)
@
"^DD",101.41,101.412,19,21,0)
^^3^3^2970609^
"^DD",101.41,101.412,19,21,1,0)
This is code that will be executed at the beginning of the processing of
"^DD",101.41,101.412,19,21,2,0)
this prompt, before the Default and Ask on Condition fields are executed;
"^DD",101.41,101.412,19,21,3,0)
any special setup required for this field should be done here.
"^DD",101.41,101.412,19,"DT")
2970609
"^DD",101.41,101.412,20,0)
EXIT ACTION^K^^10;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,20,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,20,9)
@
"^DD",101.41,101.412,20,21,0)
^^3^3^2970609^
"^DD",101.41,101.412,20,21,1,0)
This is code that will be executed at the very end of the processing of
"^DD",101.41,101.412,20,21,2,0)
this prompt, after prompting and the Validation field is executed;
"^DD",101.41,101.412,20,21,3,0)
any special cleanup should be done here.
"^DD",101.41,101.412,20,"DT")
2970609
"^DD",101.41,101.412,21,0)
ORDER TEXT SEQUENCE^NJ5,2^^2;1^K:+X'=X!(X>99.99)!(X<1)!(X?.E1"."3N.N) X
"^DD",101.41,101.412,21,1,0)
^.1
"^DD",101.41,101.412,21,1,1,0)
101.412^ATXT
"^DD",101.41,101.412,21,1,1,1)
S ^ORD(101.41,DA(1),10,"ATXT",$E(X,1,30),DA)=""
"^DD",101.41,101.412,21,1,1,2)
K ^ORD(101.41,DA(1),10,"ATXT",$E(X,1,30),DA)
"^DD",101.41,101.412,21,1,1,"%D",0)
^^1^1^2960226^
"^DD",101.41,101.412,21,1,1,"%D",1,0)
Used to build order text.
"^DD",101.41,101.412,21,1,1,"DT")
2960226
"^DD",101.41,101.412,21,3)
Enter the order in which this value should be added to the order text, as a number between 1 and 99.99; leave this field blank to prevent this value from being included
"^DD",101.41,101.412,21,21,0)
^^3^3^2970607^^^
"^DD",101.41,101.412,21,21,1,0)
This field indicates the order in which values will be concatenated
"^DD",101.41,101.412,21,21,2,0)
together to build the order text; this may differ from the prompting
"^DD",101.41,101.412,21,21,3,0)
order defined in the .01 Sequence field.
"^DD",101.41,101.412,21,"DT")
2960226
"^DD",101.41,101.412,22,0)
FORMAT^F^^2;2^K:$L(X)>10!($L(X)<1) X
"^DD",101.41,101.412,22,3)
Answer must be 1-10 characters in length.
"^DD",101.41,101.412,22,21,0)
^^15^15^2971207^^^^
"^DD",101.41,101.412,22,21,1,0)
This is a string of characters that will define any exceptions to how
"^DD",101.41,101.412,22,21,2,0)
the external form of this value is generated.  Possible values include:
"^DD",101.41,101.412,22,21,3,0)
  Pointer         -> <field #>~<piece in RPC list of field #>, default =.01
"^DD",101.41,101.412,22,21,4,0)
  Set of Codes    -> 1~<piece in RPC list of code> to use code for name
"^DD",101.41,101.412,22,21,5,0)
  Date/Time       -> Format string to pass $$FMTE^XLFDT (default = 2)
"^DD",101.41,101.412,22,21,6,0)
  
"^DD",101.41,101.412,22,21,7,0)
  Suppress value  -> @
"^DD",101.41,101.412,22,21,8,0)
  Replace value   -> @<ptr> where ptr is the Dialog IEN of the prompt
"^DD",101.41,101.412,22,21,9,0)
                      whose value, when present, supersedes this value
"^DD",101.41,101.412,22,21,10,0)
  Required value  -> *<ptr> where ptr is the Dialog IEN of the prompt
"^DD",101.41,101.412,22,21,11,0)
                      whose value is required to be present to include
"^DD",101.41,101.412,22,21,12,0)
                      this value
"^DD",101.41,101.412,22,21,13,0)
  Ignore if same  -> =<ptr> where ptr is the Dialog IEN of the prompt
"^DD",101.41,101.412,22,21,14,0)
                      whose value, if the external form is the same,
"^DD",101.41,101.412,22,21,15,0)
                      supersedes this value
"^DD",101.41,101.412,22,"DT")
2960226
"^DD",101.41,101.412,23,0)
OMIT TEXT^F^^2;3^K:$L(X)>30!($L(X)<1) X
"^DD",101.41,101.412,23,3)
Answer must be 1-30 characters in length.
"^DD",101.41,101.412,23,21,0)
^^3^3^2970829^^^^
"^DD",101.41,101.412,23,21,1,0)
This is the external form of a value that is not to be included when building
"^DD",101.41,101.412,23,21,2,0)
the order text.  E.g. to include the urgency in the order text unless it
"^DD",101.41,101.412,23,21,3,0)
is routine, enter "ROUTINE" here.
"^DD",101.41,101.412,23,"DT")
2970829
"^DD",101.41,101.412,24,0)
LEADING TEXT^F^^2;4^K:$L(X)>80!($L(X)<1) X
"^DD",101.41,101.412,24,3)
Answer must be 1-80 characters in length.
"^DD",101.41,101.412,24,21,0)
^^3^3^2970724^^^^
"^DD",101.41,101.412,24,21,1,0)
This field contains text that will be appended to the order text
"^DD",101.41,101.412,24,21,2,0)
immediately in front of this value, e.g. "Instructions:".  If this text
"^DD",101.41,101.412,24,21,3,0)
is contained in a variable, enter @NAME where NAME is the variable name.
"^DD",101.41,101.412,24,"DT")
2970724
"^DD",101.41,101.412,25,0)
TRAILING TEXT^F^^2;5^K:$L(X)>80!($L(X)<1) X
"^DD",101.41,101.412,25,3)
Answer must be 1-80 characters in length.
"^DD",101.41,101.412,25,21,0)
^^3^3^2970724^^^^
"^DD",101.41,101.412,25,21,1,0)
This field contains text that will be appended to the order text
"^DD",101.41,101.412,25,21,2,0)
immediately following this value, e.g. "refills".  If this text is
"^DD",101.41,101.412,25,21,3,0)
contained in a variable, enter @NAME where NAME is the variable name.
"^DD",101.41,101.412,25,"DT")
2970724
"^DD",101.41,101.412,26,0)
START NEW LINE^S^1:YES;0:NO;^2;6^Q
"^DD",101.41,101.412,26,3)
Enter YES if this value should begin on a new line in the order text.
"^DD",101.41,101.412,26,21,0)
0^^2^2^2970911^
"^DD",101.41,101.412,26,21,1,0)
This field determines if this value is concatenated onto the current line
"^DD",101.41,101.412,26,21,2,0)
when building the order text, or if a new line is started with this value.
"^DD",101.41,101.412,26,"DT")
2970911
"^DD",101.41,101.412,27,0)
WORD-WRAP^S^1:DON'T WRAP;0:WRAP;^2;7^Q
"^DD",101.41,101.412,27,3)
Enter 'Don't Wrap' to have the text be added line-by-line as it is stored; the default formatting is 'Wrap'.
"^DD",101.41,101.412,27,21,0)
^^3^3^2970926^^^
"^DD",101.41,101.412,27,21,1,0)
This field determines if this text should be wrapped when added to the
"^DD",101.41,101.412,27,21,2,0)
order text, or appended line by line as stored in the file; this is only
"^DD",101.41,101.412,27,21,3,0)
used for word-processing type prompts.
"^DD",101.41,101.412,27,"DT")
2970926
"^DD",101.41,101.412,101,0)
WINDOWS CONTROL^F^^W;1^K:$L(X)>30!($L(X)<1) X
"^DD",101.41,101.412,101,3)
Answer must be 1-30 characters in length.
"^DD",101.41,101.412,101,21,0)
^^2^2^2950715^
"^DD",101.41,101.412,101,21,1,0)
Stores the type of Windows control necessary to get the data for this
"^DD",101.41,101.412,101,21,2,0)
prompt.
"^DD",101.41,101.412,101,"DT")
2960517
"^DD",101.41,101.412,102,0)
API NAME^F^^W;2^K:$L(X)>30!($L(X)<1) X
"^DD",101.41,101.412,102,3)
Answer must be 1-30 characters in length.
"^DD",101.41,101.412,102,21,0)
^^3^3^2950715^
"^DD",101.41,101.412,102,21,1,0)
This is the API that should be called when the control is used.  How the API
"^DD",101.41,101.412,102,21,2,0)
is used varys with the control.  Examples are: filling list boxes, getting
"^DD",101.41,101.412,102,21,3,0)
boilerplate text, etc.
"^DD",101.41,101.412,102,"DT")
2951002
"^DD",101.41,101.412,103,0)
API PARAMETER #1^F^^W;3^K:$L(X)>30!($L(X)<1) X
"^DD",101.41,101.412,103,3)
Answer must be 1-30 characters in length.
"^DD",101.41,101.412,103,21,0)
^^1^1^2950715^
"^DD",101.41,101.412,103,21,1,0)
A parameter that is used by the API call may be stored here.
"^DD",101.41,101.412,103,"DT")
2950715
"^DD",101.41,101.412,113,0)
WINDOWS CONDITION^K^^W3;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,113,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,113,9)
@
"^DD",101.41,101.412,113,21,0)
^^3^3^2950715^
"^DD",101.41,101.412,113,21,1,0)
This is silent code that is executed when building the dialog for windows.
"^DD",101.41,101.412,113,21,2,0)
It identifies which prompts should be included in the dialog.  The condition
"^DD",101.41,101.412,113,21,3,0)
should leave $T false if the prompt should not be asked.
"^DD",101.41,101.412,113,"DT")
2950715
"^DD",101.41,101.412,117,0)
WINDOWS DEFAULT^K^^W7;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.41,101.412,117,3)
This is Standard MUMPS code.
"^DD",101.41,101.412,117,9)
@
"^DD",101.41,101.412,117,21,0)
^^2^2^2950715^
"^DD",101.41,101.412,117,21,1,0)
This code should silently set the default value of a prompt when it is 
"^DD",101.41,101.412,117,21,2,0)
selected.
"^DD",101.41,101.412,117,"DT")
2950715
"^DD",101.41,101.41218,0)
DEFAULT WORD-PROCESSING TEXT SUB-FIELD^^.01^1
"^DD",101.41,101.41218,0,"DT")
2950407
"^DD",101.41,101.41218,0,"NM","DEFAULT WORD-PROCESSING TEXT")

"^DD",101.41,101.41218,0,"UP")
101.412
"^DD",101.41,101.41218,.01,0)
DEFAULT WORD-PROCESSING TEXT^W^^0;1^Q
"^DD",101.41,101.41218,.01,3)
Enter the default response for a word-processing type prompt.
"^DD",101.41,101.41218,.01,21,0)
^^2^2^2950407^
"^DD",101.41,101.41218,.01,21,1,0)
This field contains the text to be presented as the default for this prompt,
"^DD",101.41,101.41218,.01,21,2,0)
for word-processing type prompts.
"^DD",101.41,101.41218,.01,"DT")
2950407
"^DD",101.41,101.415,0)
CONTROLS SUB-FIELD^^14^14
"^DD",101.41,101.415,0,"DT")
2960202
"^DD",101.41,101.415,0,"IX","AC",101.415,3)

"^DD",101.41,101.415,0,"IX","B",101.415,.01)

"^DD",101.41,101.415,0,"NM","CONTROLS")

"^DD",101.41,101.415,0,"UP")
101.41
"^DD",101.41,101.415,.01,0)
LOGICAL NAME^MF^^0;1^K:$L(X)>8!($L(X)<1)!'(X?1.8U) X
"^DD",101.41,101.415,.01,1,0)
^.1
"^DD",101.41,101.415,.01,1,1,0)
101.415^B
"^DD",101.41,101.415,.01,1,1,1)
S ^ORD(101.41,DA(1),50,"B",$E(X,1,30),DA)=""
"^DD",101.41,101.415,.01,1,1,2)
K ^ORD(101.41,DA(1),50,"B",$E(X,1,30),DA)
"^DD",101.41,101.415,.01,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,.01,21,0)
^^1^1^2960202^
"^DD",101.41,101.415,.01,21,1,0)
This is the name by which controls can refer to each other.
"^DD",101.41,101.415,.01,"DT")
2960202
"^DD",101.41,101.415,2,0)
ITEM^P101.41'^ORD(101.41,^0;2^Q
"^DD",101.41,101.415,2,"DT")
2960202
"^DD",101.41,101.415,3,0)
CREATE SEQUENCE^NJ2,0^^0;3^K:+X'=X!(X>99)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.41,101.415,3,1,0)
^.1
"^DD",101.41,101.415,3,1,1,0)
101.415^AC
"^DD",101.41,101.415,3,1,1,1)
S ^ORD(101.41,DA(1),50,"AC",$E(X,1,30),DA)=""
"^DD",101.41,101.415,3,1,1,2)
K ^ORD(101.41,DA(1),50,"AC",$E(X,1,30),DA)
"^DD",101.41,101.415,3,1,1,"%D",0)
^^2^2^2960202^
"^DD",101.41,101.415,3,1,1,"%D",1,0)
The 'AC' cross-reference puts in window controls in order by creation 
"^DD",101.41,101.415,3,1,1,"%D",2,0)
sequence.
"^DD",101.41,101.415,3,1,1,"DT")
2960202
"^DD",101.41,101.415,3,3)
Type a Number between 1 and 99, 0 Decimal Digits
"^DD",101.41,101.415,3,"DT")
2960202
"^DD",101.41,101.415,4,0)
CONTROL TYPE^S^0:Label;1:Button;2:Edit;3:Memo;4:ListBox;5:SimpleCombo;6:DropDownList;7:LongCombo;^0;4^Q
"^DD",101.41,101.415,4,"DT")
2960202
"^DD",101.41,101.415,5,0)
LABEL^F^^0;5^K:$L(X)>30!($L(X)<1) X
"^DD",101.41,101.415,5,3)
Answer must be 1-30 characters in length.
"^DD",101.41,101.415,5,"DT")
2960202
"^DD",101.41,101.415,6,0)
BESIDE^F^^0;6^K:$L(X)>8!($L(X)<1) X
"^DD",101.41,101.415,6,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,6,"DT")
2960202
"^DD",101.41,101.415,7,0)
BELOW^F^^0;7^K:$L(X)>8!($L(X)<1) X
"^DD",101.41,101.415,7,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,7,"DT")
2960202
"^DD",101.41,101.415,8,0)
WIDTH^NJ6,4^^0;8^K:+X'=X!(X>1)!(X<0)!(X?.E1"."5N.N) X
"^DD",101.41,101.415,8,3)
Type a Number between 0 and 1, 4 Decimal Digits
"^DD",101.41,101.415,8,"DT")
2960202
"^DD",101.41,101.415,9,0)
LEFT CONTROL^F^^0;9^K:$L(X)>8!($L(X)<1) X
"^DD",101.41,101.415,9,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,9,"DT")
2960202
"^DD",101.41,101.415,10,0)
RIGHT CONTROL^F^^0;10^K:$L(X)>8!($L(X)<1) X
"^DD",101.41,101.415,10,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,10,"DT")
2960202
"^DD",101.41,101.415,11,0)
HEIGHT^NJ2,0^^0;11^K:+X'=X!(X>15)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.41,101.415,11,3)
Type a Number between 1 and 15, 0 Decimal Digits
"^DD",101.41,101.415,11,"DT")
2960202
"^DD",101.41,101.415,12,0)
UPPER CONTROL^F^^0;12^K:$L(X)>8!($L(X)<1) X
"^DD",101.41,101.415,12,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,12,"DT")
2960202
"^DD",101.41,101.415,13,0)
LOWER CONTROL^F^^0;13^K:$L(X)>8!($L(X)<1) X
"^DD",101.41,101.415,13,3)
Answer must be 1-8 characters in length.
"^DD",101.41,101.415,13,"DT")
2960202
"^DD",101.41,101.415,14,0)
TAB SEQUENCE^NJ2,0^^0;14^K:+X'=X!(X>89)!(X<0)!(X?.E1"."1N.N) X
"^DD",101.41,101.415,14,3)
Type a Number between 0 and 89, 0 Decimal Digits
"^DD",101.41,101.415,14,"DT")
2960202
"^DD",101.41,101.416,0)
RESPONSES SUB-FIELD^^2^5
"^DD",101.41,101.416,0,"DT")
2960717
"^DD",101.41,101.416,0,"IX","D",101.416,.02)

"^DD",101.41,101.416,0,"NM","RESPONSES")

"^DD",101.41,101.416,0,"UP")
101.41
"^DD",101.41,101.416,.01,0)
ITEM ENTRY^MNJ7,0^^0;1^K:+X'=X!(X>9999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.41,101.416,.01,1,0)
^.1^^0
"^DD",101.41,101.416,.01,3)
Type a Number between 1 and 9999999, 0 Decimal Digits
"^DD",101.41,101.416,.01,21,0)
^^2^2^2971219^^^
"^DD",101.41,101.416,.01,21,1,0)
This is the internal entry number of the prompt in the Item multiple
"^DD",101.41,101.416,.01,21,2,0)
by which this response was obtained.
"^DD",101.41,101.416,.01,"DT")
2961118
"^DD",101.41,101.416,.02,0)
DIALOG^P101.41'^ORD(101.41,^0;2^Q
"^DD",101.41,101.416,.02,1,0)
^.1
"^DD",101.41,101.416,.02,1,1,0)
101.416^D
"^DD",101.41,101.416,.02,1,1,1)
S ^ORD(101.41,DA(1),6,"D",$E(X,1,30),DA)=""
"^DD",101.41,101.416,.02,1,1,2)
K ^ORD(101.41,DA(1),6,"D",$E(X,1,30),DA)
"^DD",101.41,101.416,.02,1,1,"DT")
2961118
"^DD",101.41,101.416,.02,3)
Select the dialog prompt from which this response was generated.
"^DD",101.41,101.416,.02,21,0)
^^2^2^2960717^
"^DD",101.41,101.416,.02,21,1,0)
This is a pointer to the dialog prompt, which is in the Order Dialog file
"^DD",101.41,101.416,.02,21,2,0)
as type prompt.
"^DD",101.41,101.416,.02,"DT")
2961118
"^DD",101.41,101.416,.03,0)
INSTANCE^NJ7,0^^0;3^K:+X'=X!(X>9999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.41,101.416,.03,3)
Type a Number between 1 and 9999999, 0 Decimal Digits
"^DD",101.41,101.416,.03,21,0)
^^2^2^2960717^
"^DD",101.41,101.416,.03,21,1,0)
In the case of multiple answers for the same item, this identifies the
"^DD",101.41,101.416,.03,21,2,0)
individual instance.
"^DD",101.41,101.416,.03,"DT")
2960717
"^DD",101.41,101.416,1,0)
VALUE^FO^^1;1^K:$L(X)>245!($L(X)<1) X
"^DD",101.41,101.416,1,2)
S Y(0)=Y S Y=$$OUTPUT^ORCMEDT5(Y)
"^DD",101.41,101.416,1,2.1)
S Y=$$OUTPUT^ORCMEDT5(Y)
"^DD",101.41,101.416,1,3)
Answer must be 1-245 characters in length.
"^DD",101.41,101.416,1,21,0)
^^2^2^2971219^^
"^DD",101.41,101.416,1,21,1,0)
This contains the actual response, unless the value is a word processing
"^DD",101.41,101.416,1,21,2,0)
type.
"^DD",101.41,101.416,1,"DT")
2980717
"^DD",101.41,101.416,2,0)
TEXT^101.4162^^2;0
"^DD",101.41,101.416,2,21,0)
^^1^1^2971219^
"^DD",101.41,101.416,2,21,1,0)
This contains the actual response, for word-processing type prompts.
"^DD",101.41,101.416,2,"DT")
2960717
"^DD",101.41,101.4162,0)
TEXT SUB-FIELD^^.01^1
"^DD",101.41,101.4162,0,"DT")
2960717
"^DD",101.41,101.4162,0,"NM","TEXT")

"^DD",101.41,101.4162,0,"UP")
101.416
"^DD",101.41,101.4162,.01,0)
TEXT^WL^^0;1^Q
"^DD",101.41,101.4162,.01,21,0)
^^1^1^2960717^^
"^DD",101.41,101.4162,.01,21,1,0)
This contains responses to items that are a word processing type.
"^DD",101.41,101.4162,.01,"DT")
2960717
"^DIC",101.41,101.41,0)
ORDER DIALOG^101.41
"^DIC",101.41,101.41,0,"GL")
^ORD(101.41,
"^DIC",101.41,101.41,"%D",0)
^^2^2^2960819^^
"^DIC",101.41,101.41,"%D",1,0)
This file contains the information needed to define how to prompt for each
"^DIC",101.41,101.41,"%D",2,0)
order, what values are acceptable, etc.
"^DIC",101.41,"B","ORDER DIALOG",101.41)

**END**
**END**
