Released OR*3*490 SEQ #416
Extracted from mail message
**KIDS**:OR*3.0*490^

**INSTALL NAME**
OR*3.0*490
"BLD",10999,0)
OR*3.0*490^ORDER ENTRY/RESULTS REPORTING^0^3180823^y
"BLD",10999,4,0)
^9.64PA^100^1
"BLD",10999,4,100,0)
100
"BLD",10999,4,100,2,0)
^9.641^100.008^1
"BLD",10999,4,100,2,100.008,0)
ORDER ACTIONS  (sub-file)
"BLD",10999,4,100,2,100.008,1,0)
^9.6411^80^1
"BLD",10999,4,100,2,100.008,1,80,0)
ADMIN RELEASED BY POLICY
"BLD",10999,4,100,222)
y^y^p^^^^n^^n
"BLD",10999,4,100,224)

"BLD",10999,4,"APDD",100,100.008)

"BLD",10999,4,"APDD",100,100.008,80)

"BLD",10999,4,"B",100,100)

"BLD",10999,6.3)
21
"BLD",10999,"ABPKG")
n
"BLD",10999,"KRN",0)
^9.67PA^779.2^20
"BLD",10999,"KRN",.4,0)
.4
"BLD",10999,"KRN",.4,"NM",0)
^9.68A^^0
"BLD",10999,"KRN",.401,0)
.401
"BLD",10999,"KRN",.401,"NM",0)
^9.68A^^0
"BLD",10999,"KRN",.402,0)
.402
"BLD",10999,"KRN",.402,"NM",0)
^9.68A^^0
"BLD",10999,"KRN",.403,0)
.403
"BLD",10999,"KRN",.5,0)
.5
"BLD",10999,"KRN",.84,0)
.84
"BLD",10999,"KRN",3.6,0)
3.6
"BLD",10999,"KRN",3.6,"NM",0)
^9.68A^^0
"BLD",10999,"KRN",3.8,0)
3.8
"BLD",10999,"KRN",3.8,"NM",0)
^9.68A^^0
"BLD",10999,"KRN",9.2,0)
9.2
"BLD",10999,"KRN",9.2,"NM",0)
^9.68A^^0
"BLD",10999,"KRN",9.8,0)
9.8
"BLD",10999,"KRN",9.8,"NM",0)
^9.68A^3^2
"BLD",10999,"KRN",9.8,"NM",2,0)
ORCSLT^^0^B1105394
"BLD",10999,"KRN",9.8,"NM",3,0)
ORWDX^^0^B85570425
"BLD",10999,"KRN",9.8,"NM","B","ORCSLT",2)

"BLD",10999,"KRN",9.8,"NM","B","ORWDX",3)

"BLD",10999,"KRN",19,0)
19
"BLD",10999,"KRN",19.1,0)
19.1
"BLD",10999,"KRN",19.1,"NM",0)
^9.68A^1^1
"BLD",10999,"KRN",19.1,"NM",1,0)
OR ADMIN RBP TO CC^^0
"BLD",10999,"KRN",19.1,"NM","B","OR ADMIN RBP TO CC",1)

"BLD",10999,"KRN",101,0)
101
"BLD",10999,"KRN",409.61,0)
409.61
"BLD",10999,"KRN",771,0)
771
"BLD",10999,"KRN",779.2,0)
779.2
"BLD",10999,"KRN",870,0)
870
"BLD",10999,"KRN",8989.51,0)
8989.51
"BLD",10999,"KRN",8989.52,0)
8989.52
"BLD",10999,"KRN",8994,0)
8994
"BLD",10999,"KRN","B",.4,.4)

"BLD",10999,"KRN","B",.401,.401)

"BLD",10999,"KRN","B",.402,.402)

"BLD",10999,"KRN","B",.403,.403)

"BLD",10999,"KRN","B",.5,.5)

"BLD",10999,"KRN","B",.84,.84)

"BLD",10999,"KRN","B",3.6,3.6)

"BLD",10999,"KRN","B",3.8,3.8)

"BLD",10999,"KRN","B",9.2,9.2)

"BLD",10999,"KRN","B",9.8,9.8)

"BLD",10999,"KRN","B",19,19)

"BLD",10999,"KRN","B",19.1,19.1)

"BLD",10999,"KRN","B",101,101)

"BLD",10999,"KRN","B",409.61,409.61)

"BLD",10999,"KRN","B",771,771)

"BLD",10999,"KRN","B",779.2,779.2)

"BLD",10999,"KRN","B",870,870)

"BLD",10999,"KRN","B",8989.51,8989.51)

"BLD",10999,"KRN","B",8989.52,8989.52)

"BLD",10999,"KRN","B",8994,8994)

"BLD",10999,"QUES",0)
^9.62^^
"BLD",10999,"REQB",0)
^9.611^1^1
"BLD",10999,"REQB",1,0)
OR*3.0*461^1
"BLD",10999,"REQB","B","OR*3.0*461",1)

"FIA",100)
ORDER
"FIA",100,0)
^OR(100,
"FIA",100,0,0)
100I
"FIA",100,0,1)
y^y^p^^^^n^^n
"FIA",100,0,10)

"FIA",100,0,11)

"FIA",100,0,"RLRO")

"FIA",100,0,"VR")
3.0^OR
"FIA",100,100)
1
"FIA",100,100.008)
1
"FIA",100,100.008,80)

"IX",100,100,"AADMINKEY",0)
100^AADMINKEY^Allows quick sorting for orders made by Admin Key^R^^R^IR^W^100.008^^^^^S
"IX",100,100,"AADMINKEY",.1,0)
^^3^3^3180815^^^
"IX",100,100,"AADMINKEY",.1,1,0)
This index allows quick sorting for reports which display those orders 
"IX",100,100,"AADMINKEY",.1,2,0)
which were Administratively Released by Policy by users holding the 
"IX",100,100,"AADMINKEY",.1,3,0)
"OR ADMIN RBP TO CC" security key.
"IX",100,100,"AADMINKEY",1)
S ^OR(100,"AADMINKEY",X(1),X(2),DA(1),DA)=""
"IX",100,100,"AADMINKEY",2)
K ^OR(100,"AADMINKEY",X(1),X(2),DA(1),DA)
"IX",100,100,"AADMINKEY",2.5)
K ^OR(100,"AADMINKEY")
"IX",100,100,"AADMINKEY",11.1,0)
^.114IA^2^2
"IX",100,100,"AADMINKEY",11.1,1,0)
1^F^100.008^.01^^1^F
"IX",100,100,"AADMINKEY",11.1,2,0)
2^F^100.008^80^^2^F
"KRN",19.1,987,-1)
0^1
"KRN",19.1,987,0)
OR ADMIN RBP TO CC^ADMIN RELEASE BY POLICY
"KRN",19.1,987,1,0)
^^3^3^3180730^
"KRN",19.1,987,1,1,0)
This security key allows an administrative user (no signing rights) to 
"KRN",19.1,987,1,2,0)
create a community care consult with -DS or -ADMIN in the name, at which 
"KRN",19.1,987,1,3,0)
point it will be auto-signed to pending and released to community care.
"KRN",19.1,987,3,0)
^19.13P
"MBREQ")
0
"ORD",3,19.1)
19.1;3;;;KEY^XPDTA1;KEYF1^XPDIA1;KEYE1^XPDIA1;KEYF2^XPDIA1;;KEYDEL^XPDIA1
"ORD",3,19.1,0)
SECURITY KEY
"PKG",188,-1)
1^1
"PKG",188,0)
ORDER ENTRY/RESULTS REPORTING^OR^Order Entry/Results Reporting
"PKG",188,20,0)
^9.402P^^
"PKG",188,22,0)
^9.49I^1^1
"PKG",188,22,1,0)
3.0^2971217^2981113^1
"PKG",188,22,1,"PAH",1,0)
490^3180823
"PKG",188,22,1,"PAH",1,1,0)
^^273^273^3180712
"PKG",188,22,1,"PAH",1,1,1,0)
The One Consult Admin Key Consult project is being designed to improve 
"PKG",188,22,1,"PAH",1,1,2,0)
the current business process used by VistA providers when an imaging order
"PKG",188,22,1,"PAH",1,1,3,0)
is referred to a Community Care provider. Currently, a user creates a new
"PKG",188,22,1,"PAH",1,1,4,0)
consult, then signs the order on the orders tab.
"PKG",188,22,1,"PAH",1,1,5,0)
 
"PKG",188,22,1,"PAH",1,1,6,0)
The goal of this project is to automatically sign the consult if the 
"PKG",188,22,1,"PAH",1,1,7,0)
consult service name contains -DS or -ADMIN, and the user has the key
"PKG",188,22,1,"PAH",1,1,8,0)
"GMRC ADMIN RBP TO CC", and then send the consult to community care.
"PKG",188,22,1,"PAH",1,1,9,0)
 
"PKG",188,22,1,"PAH",1,1,10,0)
 
"PKG",188,22,1,"PAH",1,1,11,0)
Patch Components
"PKG",188,22,1,"PAH",1,1,12,0)
================ 
"PKG",188,22,1,"PAH",1,1,13,0)
 
"PKG",188,22,1,"PAH",1,1,14,0)
Files & Fields Associated:
"PKG",188,22,1,"PAH",1,1,15,0)
 
"PKG",188,22,1,"PAH",1,1,16,0)
File Name (#)                                             New/Modified/
"PKG",188,22,1,"PAH",1,1,17,0)
  Sub-file Name (#)         Field Name(Number)              Deleted
"PKG",188,22,1,"PAH",1,1,18,0)
-------------------         ------------------            -------------
"PKG",188,22,1,"PAH",1,1,19,0)
100                         100.008,80                     New
"PKG",188,22,1,"PAH",1,1,20,0)
 
"PKG",188,22,1,"PAH",1,1,21,0)
Bulletins Associated:
"PKG",188,22,1,"PAH",1,1,22,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,23,0)
Bulletin Name                                               Deleted    
"PKG",188,22,1,"PAH",1,1,24,0)
-------------                                             -------------
"PKG",188,22,1,"PAH",1,1,25,0)
N/A
"PKG",188,22,1,"PAH",1,1,26,0)
 
"PKG",188,22,1,"PAH",1,1,27,0)
Dialogs Associated:
"PKG",188,22,1,"PAH",1,1,28,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,29,0)
Dialog Name                                                 Deleted   
"PKG",188,22,1,"PAH",1,1,30,0)
-----------                                               -------------
"PKG",188,22,1,"PAH",1,1,31,0)
N/A
"PKG",188,22,1,"PAH",1,1,32,0)
 
"PKG",188,22,1,"PAH",1,1,33,0)
Forms Associated:
"PKG",188,22,1,"PAH",1,1,34,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,35,0)
Form Name                    File Name (Number)             Deleted   
"PKG",188,22,1,"PAH",1,1,36,0)
---------                    ------------------           -------------
"PKG",188,22,1,"PAH",1,1,37,0)
N/A
"PKG",188,22,1,"PAH",1,1,38,0)
 
"PKG",188,22,1,"PAH",1,1,39,0)
Functions Associated:
"PKG",188,22,1,"PAH",1,1,40,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,41,0)
Function Name                                               Deleted   
"PKG",188,22,1,"PAH",1,1,42,0)
-------------                                             -------------
"PKG",188,22,1,"PAH",1,1,43,0)
N/A
"PKG",188,22,1,"PAH",1,1,44,0)
 
"PKG",188,22,1,"PAH",1,1,45,0)
HL Logical Link:
"PKG",188,22,1,"PAH",1,1,46,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,47,0)
HL Logical Name                                             Deleted   
"PKG",188,22,1,"PAH",1,1,48,0)
---------------                                           -------------
"PKG",188,22,1,"PAH",1,1,49,0)
N/A
"PKG",188,22,1,"PAH",1,1,50,0)
 
"PKG",188,22,1,"PAH",1,1,51,0)
HL7 Application Parameters:
"PKG",188,22,1,"PAH",1,1,52,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,53,0)
HL7 Parameter Name                                          Deleted   
"PKG",188,22,1,"PAH",1,1,54,0)
------------------                                        -------------
"PKG",188,22,1,"PAH",1,1,55,0)
N/A
"PKG",188,22,1,"PAH",1,1,56,0)
 
"PKG",188,22,1,"PAH",1,1,57,0)
HLO Application Registry:
"PKG",188,22,1,"PAH",1,1,58,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,59,0)
HLO Registry Name                                           Deleted   
"PKG",188,22,1,"PAH",1,1,60,0)
-----------------                                         -------------
"PKG",188,22,1,"PAH",1,1,61,0)
N/A
"PKG",188,22,1,"PAH",1,1,62,0)
 
"PKG",188,22,1,"PAH",1,1,63,0)
Help Frames Associated:
"PKG",188,22,1,"PAH",1,1,64,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,65,0)
Help Frame Name                                             Deleted   
"PKG",188,22,1,"PAH",1,1,66,0)
---------------                                           -------------
"PKG",188,22,1,"PAH",1,1,67,0)
N/A
"PKG",188,22,1,"PAH",1,1,68,0)
 
"PKG",188,22,1,"PAH",1,1,69,0)
Mail Groups Associated:
"PKG",188,22,1,"PAH",1,1,70,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,71,0)
Mail Group Name                                             Deleted   
"PKG",188,22,1,"PAH",1,1,72,0)
---------------                                           -------------
"PKG",188,22,1,"PAH",1,1,73,0)
N/A
"PKG",188,22,1,"PAH",1,1,74,0)
 
"PKG",188,22,1,"PAH",1,1,75,0)
Options Associated:
"PKG",188,22,1,"PAH",1,1,76,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,77,0)
Option Name                  Type                           Deleted   
"PKG",188,22,1,"PAH",1,1,78,0)
-----------                  ----                         -------------
"PKG",188,22,1,"PAH",1,1,79,0)
N/A                                                       
"PKG",188,22,1,"PAH",1,1,80,0)
 
"PKG",188,22,1,"PAH",1,1,81,0)
Parameter Definitions:
"PKG",188,22,1,"PAH",1,1,82,0)
                                                                                
"PKG",188,22,1,"PAH",1,1,83,0)
Parameter Name                                            New/Modified/
"PKG",188,22,1,"PAH",1,1,84,0)
                                                          Deleted   
"PKG",188,22,1,"PAH",1,1,85,0)
--------------                                            -------------
"PKG",188,22,1,"PAH",1,1,86,0)
N/A
"PKG",188,22,1,"PAH",1,1,87,0)
 
"PKG",188,22,1,"PAH",1,1,88,0)
Parameter Template:
"PKG",188,22,1,"PAH",1,1,89,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,90,0)
Template Name                                               Deleted   
"PKG",188,22,1,"PAH",1,1,91,0)
-------------                                             -------------
"PKG",188,22,1,"PAH",1,1,92,0)
N/A
"PKG",188,22,1,"PAH",1,1,93,0)
 
"PKG",188,22,1,"PAH",1,1,94,0)
Protocols Associated:
"PKG",188,22,1,"PAH",1,1,95,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,96,0)
Protocol Name                                               Deleted   
"PKG",188,22,1,"PAH",1,1,97,0)
-------------                                             -------------
"PKG",188,22,1,"PAH",1,1,98,0)
N/A
"PKG",188,22,1,"PAH",1,1,99,0)
 
"PKG",188,22,1,"PAH",1,1,100,0)
Remote Procedures Associated:
"PKG",188,22,1,"PAH",1,1,101,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,102,0)
Remote Procedure Name                                       Deleted   
"PKG",188,22,1,"PAH",1,1,103,0)
---------------------                                     -------------
"PKG",188,22,1,"PAH",1,1,104,0)
N/A
"PKG",188,22,1,"PAH",1,1,105,0)
 
"PKG",188,22,1,"PAH",1,1,106,0)
Security Keys Associated:
"PKG",188,22,1,"PAH",1,1,107,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,108,0)
Security Key Name                                           Deleted   
"PKG",188,22,1,"PAH",1,1,109,0)
-----------------                                         -------------
"PKG",188,22,1,"PAH",1,1,110,0)
GMRC ADMIN RBP TO CC                                      New
"PKG",188,22,1,"PAH",1,1,111,0)
 
"PKG",188,22,1,"PAH",1,1,112,0)
Templates, Input Associated:
"PKG",188,22,1,"PAH",1,1,113,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,114,0)
Template Name      Type      File Name (Number)             Deleted   
"PKG",188,22,1,"PAH",1,1,115,0)
-------------      ----      ------------------           -------------
"PKG",188,22,1,"PAH",1,1,116,0)
N/A
"PKG",188,22,1,"PAH",1,1,117,0)
 
"PKG",188,22,1,"PAH",1,1,118,0)
Templates, List Associated:
"PKG",188,22,1,"PAH",1,1,119,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,120,0)
Template Name      Type                                     Deleted   
"PKG",188,22,1,"PAH",1,1,121,0)
-------------      ----                                   -------------
"PKG",188,22,1,"PAH",1,1,122,0)
N/A
"PKG",188,22,1,"PAH",1,1,123,0)
 
"PKG",188,22,1,"PAH",1,1,124,0)
Templates, Print Associated:
"PKG",188,22,1,"PAH",1,1,125,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,126,0)
Template Name      Type      File Name (Number)             Deleted   
"PKG",188,22,1,"PAH",1,1,127,0)
-------------      ----      ------------------           -------------
"PKG",188,22,1,"PAH",1,1,128,0)
N/A
"PKG",188,22,1,"PAH",1,1,129,0)
 
"PKG",188,22,1,"PAH",1,1,130,0)
Templates, Sort Associated:
"PKG",188,22,1,"PAH",1,1,131,0)
                                                          New/Modified/
"PKG",188,22,1,"PAH",1,1,132,0)
Template Name      Type      File Name (Number)             Deleted   
"PKG",188,22,1,"PAH",1,1,133,0)
-------------      ----      ------------------           -------------
"PKG",188,22,1,"PAH",1,1,134,0)
N/A
"PKG",188,22,1,"PAH",1,1,135,0)
 
"PKG",188,22,1,"PAH",1,1,136,0)
Additional Information
"PKG",188,22,1,"PAH",1,1,137,0)
---------------------------- 
"PKG",188,22,1,"PAH",1,1,138,0)
N/A
"PKG",188,22,1,"PAH",1,1,139,0)
 
"PKG",188,22,1,"PAH",1,1,140,0)
New Service Requests (NSRs)
"PKG",188,22,1,"PAH",1,1,141,0)
---------------------------- 
"PKG",188,22,1,"PAH",1,1,142,0)
N/A
"PKG",188,22,1,"PAH",1,1,143,0)
 
"PKG",188,22,1,"PAH",1,1,144,0)
Patient Safety Issues (PSIs)
"PKG",188,22,1,"PAH",1,1,145,0)
-----------------------------
"PKG",188,22,1,"PAH",1,1,146,0)
N/A
"PKG",188,22,1,"PAH",1,1,147,0)
 
"PKG",188,22,1,"PAH",1,1,148,0)
Defect Tracking System Ticket(s) & Overview
"PKG",188,22,1,"PAH",1,1,149,0)
-------------------------------------------
"PKG",188,22,1,"PAH",1,1,150,0)
N/A
"PKG",188,22,1,"PAH",1,1,151,0)
 
"PKG",188,22,1,"PAH",1,1,152,0)
Test Sites:
"PKG",188,22,1,"PAH",1,1,153,0)
----------
"PKG",188,22,1,"PAH",1,1,154,0)
TBD
"PKG",188,22,1,"PAH",1,1,155,0)
        
"PKG",188,22,1,"PAH",1,1,156,0)
Documentation Retrieval Instructions
"PKG",188,22,1,"PAH",1,1,157,0)
------------------------------------
"PKG",188,22,1,"PAH",1,1,158,0)
Updated documentation describing the new functionality introduced by this 
"PKG",188,22,1,"PAH",1,1,159,0)
patch is available.
"PKG",188,22,1,"PAH",1,1,160,0)
 
"PKG",188,22,1,"PAH",1,1,161,0)
The preferred method is to retrieve files from download.vista.domain.ext. 
"PKG",188,22,1,"PAH",1,1,162,0)
This transmits the files from the first available server. Sites may also 
"PKG",188,22,1,"PAH",1,1,163,0)
select to retrieve files directly from a specific server.
"PKG",188,22,1,"PAH",1,1,164,0)
 
"PKG",188,22,1,"PAH",1,1,165,0)
Sites may retrieve the documentation directly using Secure File Transfer 
"PKG",188,22,1,"PAH",1,1,166,0)
Protocol (SFTP) from the ANONYMOUS.SOFTWARE directory at the following OI 
"PKG",188,22,1,"PAH",1,1,167,0)
Field Offices:
"PKG",188,22,1,"PAH",1,1,168,0)
 
"PKG",188,22,1,"PAH",1,1,169,0)
   Hines:                        domain.ext   
"PKG",188,22,1,"PAH",1,1,170,0)
   Salt Lake City:               domain.ext
"PKG",188,22,1,"PAH",1,1,171,0)
 
"PKG",188,22,1,"PAH",1,1,172,0)
Documentation can also be found on the VA Software Documentation Library 
"PKG",188,22,1,"PAH",1,1,173,0)
at: 
"PKG",188,22,1,"PAH",1,1,174,0)
 
"PKG",188,22,1,"PAH",1,1,175,0)
http://www.domain.ext/vdl/
"PKG",188,22,1,"PAH",1,1,176,0)
 
"PKG",188,22,1,"PAH",1,1,177,0)
Title                         File Name                       FTP Mode
"PKG",188,22,1,"PAH",1,1,178,0)
-----------------------------------------------------------------------
"PKG",188,22,1,"PAH",1,1,179,0)
N/A      
"PKG",188,22,1,"PAH",1,1,180,0)
 
"PKG",188,22,1,"PAH",1,1,181,0)
Patch Installation:
"PKG",188,22,1,"PAH",1,1,182,0)
 
"PKG",188,22,1,"PAH",1,1,183,0)
Installation Instructions
"PKG",188,22,1,"PAH",1,1,184,0)
-------------------------
"PKG",188,22,1,"PAH",1,1,185,0)
This patch may be installed with users on the system although it is 
"PKG",188,22,1,"PAH",1,1,186,0)
recommended that it be installed during non-peak hours to minimize 
"PKG",188,22,1,"PAH",1,1,187,0)
potential disruption to users.  This patch should take less than 5 
"PKG",188,22,1,"PAH",1,1,188,0)
minutes to install. 
"PKG",188,22,1,"PAH",1,1,189,0)
 
"PKG",188,22,1,"PAH",1,1,190,0)
Pre-Installation Instructions
"PKG",188,22,1,"PAH",1,1,191,0)
-----------------------------
"PKG",188,22,1,"PAH",1,1,192,0)
N/A
"PKG",188,22,1,"PAH",1,1,193,0)
 
"PKG",188,22,1,"PAH",1,1,194,0)
Installation Instructions
"PKG",188,22,1,"PAH",1,1,195,0)
-----------------------------
"PKG",188,22,1,"PAH",1,1,196,0)
 
"PKG",188,22,1,"PAH",1,1,197,0)
1.  Choose the PackMan message containing this patch.
"PKG",188,22,1,"PAH",1,1,198,0)
 
"PKG",188,22,1,"PAH",1,1,199,0)
2.  Choose the INSTALL/CHECK MESSAGE PackMan option. 
"PKG",188,22,1,"PAH",1,1,200,0)
 
"PKG",188,22,1,"PAH",1,1,201,0)
3.  From the Kernel Installation and Distribution System Menu, select
"PKG",188,22,1,"PAH",1,1,202,0)
    the Installation Menu.  From this menu, you may elect to use the
"PKG",188,22,1,"PAH",1,1,203,0)
    following option. When prompted for the INSTALL enter patch 
"PKG",188,22,1,"PAH",1,1,204,0)
    OR*3.0*490:
"PKG",188,22,1,"PAH",1,1,205,0)
 
"PKG",188,22,1,"PAH",1,1,206,0)
    a.  Backup a Transport Global - This option will create a backup
"PKG",188,22,1,"PAH",1,1,207,0)
        message of any routines exported with this patch. It will not
"PKG",188,22,1,"PAH",1,1,208,0)
        backup any other changes such as DD's or templates.
"PKG",188,22,1,"PAH",1,1,209,0)
    b.  Compare Transport Global to Current System - This option will
"PKG",188,22,1,"PAH",1,1,210,0)
        allow you to view all changes that will be made when this patch
"PKG",188,22,1,"PAH",1,1,211,0)
        is installed.  It compares all components of this patch
"PKG",188,22,1,"PAH",1,1,212,0)
        (routines, DD's, templates, etc.).
"PKG",188,22,1,"PAH",1,1,213,0)
    c.  Verify Checksums in Transport Global - This option will allow
"PKG",188,22,1,"PAH",1,1,214,0)
        you to ensure the integrity of the routines that are in the
"PKG",188,22,1,"PAH",1,1,215,0)
        transport global.
"PKG",188,22,1,"PAH",1,1,216,0)
    
"PKG",188,22,1,"PAH",1,1,217,0)
4.  From the Installation Menu, select the Install Package(s) option and
"PKG",188,22,1,"PAH",1,1,218,0)
    choose the patch to install.
"PKG",188,22,1,"PAH",1,1,219,0)
 
"PKG",188,22,1,"PAH",1,1,220,0)
5.  When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion of
"PKG",188,22,1,"PAH",1,1,221,0)
    Install? NO//NO  
"PKG",188,22,1,"PAH",1,1,222,0)
   
"PKG",188,22,1,"PAH",1,1,223,0)
6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
"PKG",188,22,1,"PAH",1,1,224,0)
    NO// 
"PKG",188,22,1,"PAH",1,1,225,0)
                                                                
"PKG",188,22,1,"PAH",1,1,226,0)
7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
"PKG",188,22,1,"PAH",1,1,227,0)
    and Protocols? NO//
"PKG",188,22,1,"PAH",1,1,228,0)
  
"PKG",188,22,1,"PAH",1,1,229,0)
8.  If prompted "Delay Install (Minutes):  (0 - 60): 0// respond 0.
"PKG",188,22,1,"PAH",1,1,230,0)
 
"PKG",188,22,1,"PAH",1,1,231,0)
Post-Installation Instructions
"PKG",188,22,1,"PAH",1,1,232,0)
------------------------------
"PKG",188,22,1,"PAH",1,1,233,0)
For all users who will need to be able to perform the task detailed 
"PKG",188,22,1,"PAH",1,1,234,0)
above, these users will need the "GMRC ADMIN RBP TO CC" security key.
"PKG",188,22,1,"PAH",1,1,235,0)
 
"PKG",188,22,1,"PAH",1,1,236,0)
Backout and Rollback Procedure:
"PKG",188,22,1,"PAH",1,1,237,0)
-------------------------------
"PKG",188,22,1,"PAH",1,1,238,0)
This patch contains three RA routines.  The decision to back-out or 
"PKG",188,22,1,"PAH",1,1,239,0)
rollback software will be a joint decision between development team, VA 
"PKG",188,22,1,"PAH",1,1,240,0)
site/region personnel and other appropriate VA personnel.
"PKG",188,22,1,"PAH",1,1,241,0)
 
"PKG",188,22,1,"PAH",1,1,242,0)
Prior to installing an updated KIDS package, the site/region should have 
"PKG",188,22,1,"PAH",1,1,243,0)
saved a backup of the routines in a mail message using the Backup a 
"PKG",188,22,1,"PAH",1,1,244,0)
Transport Global [XPD BACKUP] menu option (this is done at time of 
"PKG",188,22,1,"PAH",1,1,245,0)
install).The message containing the backed-up routines can be loaded with 
"PKG",188,22,1,"PAH",1,1,246,0)
the "XtractPackMan" function at the Message Action prompt. The Packman 
"PKG",188,22,1,"PAH",1,1,247,0)
function "INSTALL/CHECK MESSAGE" is then used to install the backed-up 
"PKG",188,22,1,"PAH",1,1,248,0)
routines onto the VistA System. 
"PKG",188,22,1,"PAH",1,1,249,0)
  
"PKG",188,22,1,"PAH",1,1,250,0)
Validation of Roll Back Procedure:
"PKG",188,22,1,"PAH",1,1,251,0)
----------------------------------
"PKG",188,22,1,"PAH",1,1,252,0)
The Roll Back Procedure can be verified by printing the first 2 lines of 
"PKG",188,22,1,"PAH",1,1,253,0)
the three RA routines contained in this patch using the option First Line 
"PKG",188,22,1,"PAH",1,1,254,0)
Routine Print  [XU FIRST LINE PRINT]. Once the routines contained in the 
"PKG",188,22,1,"PAH",1,1,255,0)
OR*3.0*490 patch have been rolled back, the first two lines of the 
"PKG",188,22,1,"PAH",1,1,256,0)
Routines will no longer contain the designation of patch OR*3.0*490 in 
"PKG",188,22,1,"PAH",1,1,257,0)
the patch list section on line 2.
"PKG",188,22,1,"PAH",1,1,258,0)
 
"PKG",188,22,1,"PAH",1,1,259,0)
Back-out/Rollback Strategy:
"PKG",188,22,1,"PAH",1,1,260,0)
---------------------------
"PKG",188,22,1,"PAH",1,1,261,0)
In the event of a catastrophic failure, the Facility CIO may make the 
"PKG",188,22,1,"PAH",1,1,262,0)
decision to back-out the patch.
"PKG",188,22,1,"PAH",1,1,263,0)
    
"PKG",188,22,1,"PAH",1,1,264,0)
It is imperative that you have performed a backup of the routines 
"PKG",188,22,1,"PAH",1,1,265,0)
included in this patch prior to installation.
"PKG",188,22,1,"PAH",1,1,266,0)
   
"PKG",188,22,1,"PAH",1,1,267,0)
The back-out plan is to restore the routines from the backup created.
"PKG",188,22,1,"PAH",1,1,268,0)
   
"PKG",188,22,1,"PAH",1,1,269,0)
No data was modified by this patch installation and, therefore, no 
"PKG",188,22,1,"PAH",1,1,270,0)
rollback strategy is required.
"PKG",188,22,1,"PAH",1,1,271,0)
   
"PKG",188,22,1,"PAH",1,1,272,0)
To verify the back-out completed successfully, ensure the checksum 
"PKG",188,22,1,"PAH",1,1,273,0)
matches the pre-patch checksum from the patch descriptions.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","ORCSLT")
0^2^B1105394^n/a
"RTN","ORCSLT",1,0)
ORCSLT ;ABV/MKN - IF ADMIN OR DS CONSULT SERVICE, AUTO-SIGN;05/23/2018 10:00 AM
"RTN","ORCSLT",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**490**;July 18, 2018;Build 21
"RTN","ORCSLT",3,0)
 ;Per VA Directive 6402, this routine should not be modified.
"RTN","ORCSLT",4,0)
 ;
"RTN","ORCSLT",5,0)
CHKAUTO ;
"RTN","ORCSLT",6,0)
 N DA,DIE,DR,ORDITM,ORDNA,ORDO,ORDS
"RTN","ORCSLT",7,0)
 Q:'$D(^XUSEC("OR ADMIN RBP TO CC",DUZ))
"RTN","ORCSLT",8,0)
 S ORDITM=$G(ORDIALOG(4,1)) Q:'ORDITM
"RTN","ORCSLT",9,0)
 S ORDNA=$$GET1^DIQ(101.43,ORDITM_",",.01,"E")
"RTN","ORCSLT",10,0)
 Q:'(ORDNA["COMMUNITY CARE"&(ORDNA["-ADMIN"!(ORDNA["-DS")))
"RTN","ORCSLT",11,0)
 D VALID^ORWDXA(.ORDO,ORIFN,"OC",DUZ) ;Signature on chart
"RTN","ORCSLT",12,0)
 S ORDS(1)=ORIFN_";1^1^1^E"
"RTN","ORCSLT",13,0)
 K ORDO D SEND^ORWDX(.ORDO,ORVP,ORNP,ORL," ",.ORDS)
"RTN","ORCSLT",14,0)
 S DA(1)=ORIFN,DA=1,DIE="^OR(100,"_ORIFN_",8,"
"RTN","ORCSLT",15,0)
 S DR="4///1;1///ADMINISTRATIVELY RELEASED BY POLICY;7///@;80///Y"
"RTN","ORCSLT",16,0)
 D ^DIE
"RTN","ORCSLT",17,0)
 Q
"RTN","ORCSLT",18,0)
 ;
"RTN","ORWDX")
0^3^B85570425^B84918116
"RTN","ORWDX",1,0)
ORWDX ; SLC/KCM/REV/JLI - Order dialog utilities ;06/19/17  17:29
"RTN","ORWDX",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**10,85,125,131,132,141,164,178,187,190,195,215,246,243,283,296,280,306,350,424,421,461,490**;Dec 17, 1997;Build 21
"RTN","ORWDX",3,0)
 ;Per VA Directive 6402, this routine should not be modified.
"RTN","ORWDX",4,0)
 ;
"RTN","ORWDX",5,0)
 ;Reference to DIC(9.4 supported by IA #2058
"RTN","ORWDX",6,0)
 ;Reference to ^SC( supported by ICR #10040
"RTN","ORWDX",7,0)
 ;Reference to ^DPT( supported by ICR #10035
"RTN","ORWDX",8,0)
 ;
"RTN","ORWDX",9,0)
 ;Sep 18, 2015 - PB - modified to trigger an unsolicited sync action
"RTN","ORWDX",10,0)
 ;
"RTN","ORWDX",11,0)
ORDITM(Y,FROM,DIR,XREF,QOCALL) ; Subset of orderable items
"RTN","ORWDX",12,0)
 ; Y(n)=IEN^.01 Name^.01 Name  -or-  IEN^Synonym <.01 Name>^.01 Name
"RTN","ORWDX",13,0)
 N I,IEN,CNT,X,DTXT,CURTM,DEFROUTE
"RTN","ORWDX",14,0)
 S DEFROUTE=""
"RTN","ORWDX",15,0)
 S QOCALL=+$G(QOCALL)
"RTN","ORWDX",16,0)
 S I=0,CNT=44,CURTM=$$NOW^XLFDT
"RTN","ORWDX",17,0)
 F  Q:I'<CNT  S FROM=$O(^ORD(101.43,XREF,FROM),DIR) Q:FROM=""  D
"RTN","ORWDX",18,0)
 . S IEN="" F  S IEN=$O(^ORD(101.43,XREF,FROM,IEN),DIR) Q:'IEN  D
"RTN","ORWDX",19,0)
 . . S X=^ORD(101.43,XREF,FROM,IEN)
"RTN","ORWDX",20,0)
 . . I +$P(X,U,3),$P(X,U,3)<CURTM Q
"RTN","ORWDX",21,0)
 . . I 'QOCALL,$P(X,U,5) Q
"RTN","ORWDX",22,0)
 . . S I=I+1
"RTN","ORWDX",23,0)
 . . I 'X S Y(I)=IEN_U_$P(X,U,2)_U_$P(X,U,2)
"RTN","ORWDX",24,0)
 . . E  S Y(I)=IEN_U_$P(X,U,2)_$C(9)_"<"_$P(X,U,4)_">"_U_$P(X,U,4)
"RTN","ORWDX",25,0)
 Q
"RTN","ORWDX",26,0)
ODITMBC(Y,XREF,ODLST) ;
"RTN","ORWDX",27,0)
 N CNT,NM,XRF
"RTN","ORWDX",28,0)
 S CNT=0,NM=0,XRF=XREF
"RTN","ORWDX",29,0)
 F  S CNT=$O(ODLST(CNT)) Q:'CNT  D FNDINFO(.Y,ODLST(CNT))
"RTN","ORWDX",30,0)
 Q
"RTN","ORWDX",31,0)
FNDINFO(Y,ODIEN) ;
"RTN","ORWDX",32,0)
 D FNDINFO^ORWDX1(.Y,.ODIEN)
"RTN","ORWDX",33,0)
 Q
"RTN","ORWDX",34,0)
DLGDEF(LST,DLG) ; Format mapping for a dlg
"RTN","ORWDX",35,0)
 D DLGDEF^ORWDX1(.LST,.DLG)
"RTN","ORWDX",36,0)
 Q
"RTN","ORWDX",37,0)
DLGQUIK(LST,QO) ;(NOT USED)
"RTN","ORWDX",38,0)
 D LOADRSP(.LST,QO)
"RTN","ORWDX",39,0)
 Q
"RTN","ORWDX",40,0)
LOADRSP(LST,RSPID,TRANS)      ; Load responses from 101.41 or 100
"RTN","ORWDX",41,0)
 ; RSPID:  C123456;1-3243 = cached copy,   134-3234 = cached quick
"RTN","ORWDX",42,0)
 ;         X123456;1      = change order,  134      = quick dialog
"RTN","ORWDX",43,0)
 N I,J,DLG,INST,ID,VAL,ILST,ROOT,ORLOC S ROOT=""
"RTN","ORWDX",44,0)
 K ^TMP($J,"ORWDX LOADRSP","QO SAVE")
"RTN","ORWDX",45,0)
 I +RSPID=$P(RSPID,"-",1) D
"RTN","ORWDX",46,0)
 .S ^TMP($J,"ORWDX LOADRSP","QO SAVE")=+RSPID
"RTN","ORWDX",47,0)
 I RSPID["-" S ROOT="^TMP(""ORWDXMQ"",$J,"""_RSPID_""")" G XROOT^ORWDX2
"RTN","ORWDX",48,0)
 I $E(RSPID)="X" S ROOT="^OR(100,"_+$P(RSPID,"X",2)_",4.5)"  G XROOT^ORWDX2
"RTN","ORWDX",49,0)
 I +RSPID=RSPID  S ROOT="^ORD(101.41,"_+RSPID_",6)" G XROOT^ORWDX2
"RTN","ORWDX",50,0)
 Q:ROOT=""
"RTN","ORWDX",51,0)
 G XROOT^ORWDX2
"RTN","ORWDX",52,0)
SAVE(REC,ORVP,ORNP,ORL,DLG,ORDG,ORIT,ORIFN,ORDIALOG,ORDEA,ORAPPT,ORSRC,OREVTDF) ;
"RTN","ORWDX",53,0)
 ; ORVP=DFN, ORNP=Provider, ORL=Location, DLG=Order Dialog,
"RTN","ORWDX",54,0)
 ; ORDG=Display Group, ORIT=Quick Order Dialog, ORAPPT=Appointment
"RTN","ORWDX",55,0)
 N ORDUZ,ORSTS,OREVENT,ORCAT,ORDA,ORTS,ORNEW,ORCHECK,ORLOG,ORLEAD,ORTRAIL,ORPKG,ORWP94,ORCATFN,OREVTYPE,ONPASS
"RTN","ORWDX",56,0)
 N MSGCAPT,SENDMSG
"RTN","ORWDX",57,0)
 ;S ORDG=$O(^ORD(100.98,"B","INPATIENT MEDICATIONS",""))
"RTN","ORWDX",58,0)
 N XCNT,XCOMM,XDONE,XX  ;SBR
"RTN","ORWDX",59,0)
 S (XCOMM,XCNT)=""  ;SBR
"RTN","ORWDX",60,0)
 I $G(ORIFN)'="" D  ;SBR problem only occurs on change or renew orders
"RTN","ORWDX",61,0)
 . S XCNT=$O(^OR(100,+ORIFN,4.5,"ID","COMMENT",XCNT))  ;SBR
"RTN","ORWDX",62,0)
 . I XCNT'="" S XCOMM=$P($G(^OR(100,+ORIFN,4.5,XCNT,0)),"^",2)  ;SBR
"RTN","ORWDX",63,0)
 . I XCOMM'="" S XDONE=0,XX="" F  S XX=$O(ORDIALOG("WP",XCOMM,1,XX)) Q:XX=""  D  ;SBR
"RTN","ORWDX",64,0)
 . . I ORDIALOG("WP",XCOMM,1,XX,0)'="" S XDONE=1 Q  ;SBR
"RTN","ORWDX",65,0)
 . I XCOMM'="",'$G(XDONE),$D(ORDIALOG("WP",XCOMM)) K ORDIALOG("WP",XCOMM)  ;SBR
"RTN","ORWDX",66,0)
 S ORCATFN="" I $L($P(DLG,U,2)) S ORCATFN=$P(DLG,U,2),DLG=$P(DLG,U,1)
"RTN","ORWDX",67,0)
 S SENDMSG=0 I $P($G(^ORD(100.98,ORDG,0)),U)="INPATIENT MEDICATIONS" D
"RTN","ORWDX",68,0)
 .S MSGCAPT("PATIENT")=ORVP,MSGCAPT("USER")=ORNP,MSGCAPT("LOC")=+$G(ORL)
"RTN","ORWDX",69,0)
 .S MSGCAPT("DIALOG")=DLG,MSGCAPT("DISPLAY GROUP")=ORDG,MSGCAPT("QUICK ORDER")=ORIT
"RTN","ORWDX",70,0)
 .M MSGCAPT("ORDIALOG")=ORDIALOG
"RTN","ORWDX",71,0)
 .S ORDG=$O(^ORD(100.98,"B","UNIT DOSE MEDICATIONS","")),SENDMSG=1
"RTN","ORWDX",72,0)
 ;Remove treating facility if inpatient and IMO order 26.42
"RTN","ORWDX",73,0)
 I $G(^DPT(ORVP,.1))'="",$P($G(^ORD(100.98,ORDG,0)),U)="CLINIC MEDICATIONS" K ORDIALOG("ORTS")
"RTN","ORWDX",74,0)
 I $G(^DPT(ORVP,.1))'="",$P($G(^ORD(100.98,ORDG,0)),U)="CLINIC INFUSIONS" K ORDIALOG("ORTS")
"RTN","ORWDX",75,0)
 I $G(ORDIALOG("ORTS")) S ORTS=ORDIALOG("ORTS") K ORDIALOG("ORTS")
"RTN","ORWDX",76,0)
 I $G(ORDIALOG("ORSLOG")) S ORLOG=ORDIALOG("ORSLOG") K ORDIALOG("ORSLOG")
"RTN","ORWDX",77,0)
 I $D(ORDIALOG("OREVENT")) S OREVENT=ORDIALOG("OREVENT") K ORDIALOG("OREVENT")
"RTN","ORWDX",78,0)
 ;=====================================================
"RTN","ORWDX",79,0)
 ; Changed for v26.27 (RV)
"RTN","ORWDX",80,0)
 S ORCAT=$$INPT^ORCD,ORCAT=$S(ORCAT=1:"I",1:"O")
"RTN","ORWDX",81,0)
 ;I $L($G(OREVENT)) D
"RTN","ORWDX",82,0)
 ;. S ONPASS=0
"RTN","ORWDX",83,0)
 ;. S OREVTYPE=$$TYPE^OREVNTX(OREVENT)
"RTN","ORWDX",84,0)
 ;. I OREVTYPE="T" D ISPASS^OREVNTX1(.ONPASS,+OREVENT,"T")
"RTN","ORWDX",85,0)
 ;. S ORCAT=$S(OREVTYPE="A":"I",OREVTYPE="T":"I",ONPASS=1:"O",1:"O")
"RTN","ORWDX",86,0)
 ;E  S ORCAT=$S($L($P($G(^DPT(+ORVP,.1)),U)):"I",1:"O")
"RTN","ORWDX",87,0)
 ;=====================================================
"RTN","ORWDX",88,0)
 I DLG="PS MEDS" S ORWP94=1 D
"RTN","ORWDX",89,0)
 . I ORIT=$O(^ORD(101.41,"AB","PSO SUPPLY",0)) S DLG="PSO SUPPLY"
"RTN","ORWDX",90,0)
 . I ORIT=$O(^ORD(101.41,"AB","PSO OERR",0)) S DLG="PSO OERR"
"RTN","ORWDX",91,0)
 . I ORIT=$O(^ORD(101.41,"AB","PSJ OR PAT OE",0)) S DLG="PSJ OR PAT OE"
"RTN","ORWDX",92,0)
 I DLG="PSO OERR"!(DLG="PSO SUPPLY") S ORCAT="O" I $G(OREVENT("EFFECTIVE")) D
"RTN","ORWDX",93,0)
 . S ORDIALOG($O(^ORD(101.41,"B","OR GTX START DATE"_$S($G(ORWP94):"/TIME",1:""),0)),1)=OREVENT("EFFECTIVE")
"RTN","ORWDX",94,0)
 I DLG="PSJ OR PAT OE" S ORCAT="I"
"RTN","ORWDX",95,0)
 I DLG="PSJ OR CLINIC OE" S ORCAT="I"
"RTN","ORWDX",96,0)
 I DLG="CLINIC OR PAT FLUID OE" S ORCAT="I"
"RTN","ORWDX",97,0)
 S:DLG="FHW1" ORCAT="I" S:DLG?1"FHW "2.7U1" MEAL" ORCAT="O"
"RTN","ORWDX",98,0)
 S ORVP=ORVP_";DPT(",ORL(2)=ORL_";SC(",ORL=ORL(2)
"RTN","ORWDX",99,0)
 I ORDG=$O(^ORD(100.98,"B","LAB",0)) D  ;use section
"RTN","ORWDX",100,0)
 . N OI,SUB S OI=+$G(ORDIALOG($$PTR^ORCD("OR GTX ORDERABLE ITEM"),1))
"RTN","ORWDX",101,0)
 . S SUB=$P($G(^ORD(101.43,OI,"LR")),U,6),ORDG=$$DGRP^ORMLR(SUB)
"RTN","ORWDX",102,0)
 K:'ORDG ORDG K:'ORIT ORIT ; Dgrp & Quick must be non-zero
"RTN","ORWDX",103,0)
 M ORCHECK=ORDIALOG("ORCHECK") K ORDIALOG("ORCHECK")
"RTN","ORWDX",104,0)
 S ORDIALOG=$O(^ORD(101.41,"AB",DLG,0))
"RTN","ORWDX",105,0)
 I 'ORDIALOG S ORDIALOG=$O(^ORD(101.41,"B",DLG,0))
"RTN","ORWDX",106,0)
 I $D(ORDIALOG("ORLEAD")) S ORLEAD=ORDIALOG("ORLEAD")
"RTN","ORWDX",107,0)
 I $D(ORDIALOG("ORTRAIL")) S ORTRAIL=ORDIALOG("ORTRAIL")
"RTN","ORWDX",108,0)
 D GETDLG1^ORCD(ORDIALOG)
"RTN","ORWDX",109,0)
 I $L(ORCATFN) S ORCAT=ORCATFN
"RTN","ORWDX",110,0)
 I $G(ORWP94) D
"RTN","ORWDX",111,0)
 . N SIGPRMT S SIGPRMT=$O(^ORD(101.41,"B","OR GTX SIG",0))
"RTN","ORWDX",112,0)
 . N INSPRMT S INSPRMT=$O(^ORD(101.41,"B","OR GTX INSTRUCTIONS",0))
"RTN","ORWDX",113,0)
 . I $L($G(ORDIALOG(SIGPRMT,1))) S ORDIALOG(INSPRMT,"FORMAT")="@"
"RTN","ORWDX",114,0)
 . I ORCAT="O" S ORPKG=$O(^DIC(9.4,"C","PSO",0))
"RTN","ORWDX",115,0)
 . I ORCAT="I" S ORPKG=$O(^DIC(9.4,"C","PSJ",0))
"RTN","ORWDX",116,0)
 S ORSRC=$G(ORSRC)
"RTN","ORWDX",117,0)
 D DELPI^ORWDX1 ;delete empty PI
"RTN","ORWDX",118,0)
 I $G(ORIFN)="" D  ; new order
"RTN","ORWDX",119,0)
 . D EN^ORCSAVE
"RTN","ORWDX",120,0)
 . S REC="" I ORIFN D GETBYIFN^ORWORR(.REC,ORIFN)
"RTN","ORWDX",121,0)
 . I '$D(^TMP("ORECALL",$J,ORDIALOG)) M ^TMP("ORECALL",$J,ORDIALOG)=ORDIALOG
"RTN","ORWDX",122,0)
 . D COMP^ORMBLDOR(+$G(ORIFN)) ;Sep 28, 2015 - PB - modified to trigger an unsolicited sync action
"RTN","ORWDX",123,0)
 E  D
"RTN","ORWDX",124,0)
 . N OR0
"RTN","ORWDX",125,0)
 . S OR0=$G(^OR(100,+ORIFN,0)),ORSTS=$P($G(^(3)),U,3),ORDG=$P(OR0,U,11)
"RTN","ORWDX",126,0)
 . I $L($P(OR0,U,17)),ORSTS=10 S OREVENT=$P(OR0,U,17),OREVENT("TS")=$P(OR0,U,13)
"RTN","ORWDX",127,0)
 . D XX^ORCSAVE ; edit order
"RTN","ORWDX",128,0)
 . D COMP^ORMBLDOR(+$G(ORIFN)) ;Sep 28, 2015 - PB - modified to trigger an unsolicited sync action
"RTN","ORWDX",129,0)
 . S REC="" S ORIFN=+ORIFN_";"_ORDA D GETBYIFN^ORWORR(.REC,ORIFN)
"RTN","ORWDX",130,0)
 I SENDMSG D
"RTN","ORWDX",131,0)
 .S MSGCAPT("ORIGINAL IEN")=$G(ORIFN)
"RTN","ORWDX",132,0)
 .D MSG^ORUTL5(REC,.MSGCAPT)
"RTN","ORWDX",133,0)
 .;M ^XTMP("AGP ORDER TEST")=MSGCAPT
"RTN","ORWDX",134,0)
 D:DLG="GMRCOR CONSULT" CHKAUTO^ORCSLT
"RTN","ORWDX",135,0)
 Q
"RTN","ORWDX",136,0)
SENDED(ORWLST,ORIENS,TS,LOC) ; Release EDOs to svc
"RTN","ORWDX",137,0)
 N OK,ORVP,ORWERR,ORSIGST,ORDA,ORNATURE,ORIX,X,PTEVT,ORIFN,J,EVENT,LOCK,OR3
"RTN","ORWDX",138,0)
 S ORWERR="",ORIX=0,LOC=LOC_";SC("
"RTN","ORWDX",139,0)
 F  S ORIX=$O(ORIENS(ORIX)) Q:'ORIX  D  Q:ORWERR]""
"RTN","ORWDX",140,0)
 . S (ORIFN,ORWLST(ORIX))=ORIENS(ORIX)
"RTN","ORWDX",141,0)
 . S PTEVT=$P(^OR(100,+ORIFN,0),U,17)
"RTN","ORWDX",142,0)
 . I PTEVT D
"RTN","ORWDX",143,0)
 .. I $D(EVENT(PTEVT)) S LOCK=1 Q
"RTN","ORWDX",144,0)
 .. S LOCK=$$LCKEVT^ORX2(PTEVT) S:LOCK EVENT(PTEVT)=""
"RTN","ORWDX",145,0)
 . I 'LOCK S ORWERR="1^delayed event is locked - another user is processing orders for this event" S ORWLST(ORIX)=ORWLST(ORIX)_"^E^"_ORWERR Q
"RTN","ORWDX",146,0)
 . S ORDA=$P(ORIFN,";",2) S:'ORDA ORDA=1
"RTN","ORWDX",147,0)
 . S ORVP=$P($G(^OR(100,+ORIFN,0)),U,2)
"RTN","ORWDX",148,0)
 . I $D(^OR(100,+ORIFN,8,ORDA,0)) D
"RTN","ORWDX",149,0)
 .. S ORSIGST=$P($G(^(0)),U,4),ORNATURE=$P($G(^(0)),U,12) ;naked references refer to OR(100,+ORIFN,8,ORDA on line above
"RTN","ORWDX",150,0)
 . S OK=$$LOCK1^ORX2(ORIFN) I 'OK S ORWERR="1^"_$P(OK,U,2)
"RTN","ORWDX",151,0)
 . I OK,$G(LOCK) D
"RTN","ORWDX",152,0)
 .. S OR3=$G(^OR(100,+ORIFN,3)) I $P(OR3,"^",3)'=10!($P(OR3,"^",9)]"") D UNLK1^ORX2(ORIENS(ORIX)) Q  ;order already released or has a parent
"RTN","ORWDX",153,0)
 .. S:$G(LOC) $P(^OR(100,+ORIFN,0),U,10)=LOC ;set location
"RTN","ORWDX",154,0)
 .. S:$G(TS) $P(^OR(100,+ORIFN,0),U,13)=TS ;set specialty
"RTN","ORWDX",155,0)
 .. D EN2^ORCSEND(ORIENS(ORIX),ORSIGST,ORNATURE,.ORWERR),UNLK1^ORX2(ORIENS(ORIX)) ;add ,LOCK to if statement for 195
"RTN","ORWDX",156,0)
 . I $L(ORWERR) S ORWLST(ORIX)=ORWLST(ORIX)_"^E^"_ORWERR Q
"RTN","ORWDX",157,0)
 . E  D
"RTN","ORWDX",158,0)
 .. S PTEVT=$P($G(^OR(100,+ORIENS(ORIX),0)),U,17)
"RTN","ORWDX",159,0)
 .. D:$$TYPE^OREVNTX(PTEVT)="M" SAVE^ORMEVNT1(ORIENS(ORIX),PTEVT,2)
"RTN","ORWDX",160,0)
 . S X="RS"
"RTN","ORWDX",161,0)
 . S $P(ORWLST(ORIX),U,2)=X
"RTN","ORWDX",162,0)
 S J=0 F  S J=$O(EVENT(J)) Q:'+J  D UNLEVT^ORX2(J) ;195
"RTN","ORWDX",163,0)
 Q
"RTN","ORWDX",164,0)
SEND(ORWLST,DFN,ORNP,ORL,ES,ORWREC) ; Sign
"RTN","ORWDX",165,0)
 ; DFN=Patient, ORNP=Provider, ORL=Location, ES=Encrypted ES code
"RTN","ORWDX",166,0)
 ; ORWREC(n)=ORIFN;Action^Signature Sts^Release Sts^Nature of Order
"RTN","ORWDX",167,0)
SEND1 N ORVP,ORWI,ORWERR,ORWREL,ORWSIG,ORWNATR,ORDERID,ORBEF,ORLR,ORLAB,X,I
"RTN","ORWDX",168,0)
 S ORVP=DFN_";DPT(",ORL=ORL_";SC(",ORL(2)=ORL,ORWLST=0
"RTN","ORWDX",169,0)
 F I="LR","VBEC" S X=+$O(^DIC(9.4,"C",I,0)) S:X ORLR(X)=1
"RTN","ORWDX",170,0)
 S ORWI=0 F  S ORWI=$O(ORWREC(ORWI)) Q:'ORWI  D
"RTN","ORWDX",171,0)
 . S X=ORWREC(ORWI),ORWERR=""
"RTN","ORWDX",172,0)
 . S ORDERID=$P(X,U),ORWSIG=$P(X,U,2),ORWREL=$P(X,U,3),ORWNATR=$P(X,U,4)
"RTN","ORWDX",173,0)
 . S ORBEF=0
"RTN","ORWDX",174,0)
 . I '$D(^OR(100,+ORDERID,0)) Q
"RTN","ORWDX",175,0)
 . I $D(^OR(100,+ORDERID,8,+$P(ORDERID,";",2),0)) S ORBEF=$P(^OR(100,+ORDERID,8,+$P(ORDERID,";",2),0),U,15)
"RTN","ORWDX",176,0)
 . S:$D(^OR(100,+ORDERID,8,+$P(ORDERID,";",2),0)) ORWNATR=$S($P(^OR(100,+ORDERID,8,+$P(ORDERID,";",2),0),"^",4)=3:"",1:ORWNATR)
"RTN","ORWDX",177,0)
 . S ORWERR=$$CHKACT^ORWDXR(ORDERID,ORWSIG,ORWREL,ORWNATR)
"RTN","ORWDX",178,0)
 . I $L(ORWERR) S ORWERR="1^"_ORWERR
"RTN","ORWDX",179,0)
 . I '$L(ORWERR) D
"RTN","ORWDX",180,0)
 .. I $G(ORLR(+$P(^OR(100,+ORDERID,0),U,14))),'$G(ORLAB) D  ; lab batch start
"RTN","ORWDX",181,0)
 ... I $L($T(BHS^ORMBLD)) D BHS^ORMBLD(ORVP) S ORLAB=1
"RTN","ORWDX",182,0)
 .. N OK S OK=$$LOCK1^ORX2(ORDERID) I 'OK S ORWERR="1^"_$P(OK,U,2)
"RTN","ORWDX",183,0)
 .. I OK D EN^ORCSEND(ORDERID,"",ORWSIG,ORWREL,ORWNATR,"",.ORWERR),UNLK1^ORX2(ORDERID)
"RTN","ORWDX",184,0)
 . S ORWLST(ORWI)=ORDERID,X=""
"RTN","ORWDX",185,0)
 . I $L(ORWERR) S ORWLST(ORWI)=ORWLST(ORWI)_"^E^"_ORWERR Q
"RTN","ORWDX",186,0)
 . I ORWREL,((ORBEF=10)!(ORBEF=11)),($P(^OR(100,+ORDERID,3),U,3)'=10) S X="R"
"RTN","ORWDX",187,0)
 . I ORWSIG'=2 S X=X_"S"
"RTN","ORWDX",188,0)
 . S $P(ORWLST(ORWI),U,2)=X
"RTN","ORWDX",189,0)
 I $G(ORLAB) D BTS^ORMBLD(ORVP)
"RTN","ORWDX",190,0)
 I $D(ORWLST)>9 D
"RTN","ORWDX",191,0)
 . N I,A
"RTN","ORWDX",192,0)
 . S I=0 F  S I=$O(ORWLST(I)) Q:I=""  S A=$G(ORWLST(I)) I A["Invalid Procedure, Inactive, no Imaging Type" D SM^ORWDX2(A)
"RTN","ORWDX",193,0)
  Q
"RTN","ORWDX",194,0)
DLGID(VAL,ORIFN) ; return dlg IEN for order
"RTN","ORWDX",195,0)
 S VAL=$P(^OR(100,+ORIFN,0),U,5)
"RTN","ORWDX",196,0)
 S VAL=$S($P(VAL,";",2)="ORD(101.41,":+VAL,1:0)
"RTN","ORWDX",197,0)
 Q
"RTN","ORWDX",198,0)
FORMID(VAL,ORIFN) ; Base dlg FormID for an order
"RTN","ORWDX",199,0)
 N DLG
"RTN","ORWDX",200,0)
 S VAL=0,DLG=$P(^OR(100,+ORIFN,0),U,5)
"RTN","ORWDX",201,0)
 Q:$P(DLG,";",2)'="ORD(101.41,"
"RTN","ORWDX",202,0)
 D FORMID^ORWDXM(.VAL,+DLG)
"RTN","ORWDX",203,0)
 Q
"RTN","ORWDX",204,0)
AGAIN(VAL,DLG) ; return true to keep dlg for another order
"RTN","ORWDX",205,0)
 S VAL=''$P($G(^ORD(101.41,DLG,0)),U,9)
"RTN","ORWDX",206,0)
 Q
"RTN","ORWDX",207,0)
DGRP(VAL,DLG) ; Display grp pointer for a dlg
"RTN","ORWDX",208,0)
 S DLG=$S($E(DLG)="`":+$P(DLG,"`",2),1:$O(^ORD(101.41,"AB",DLG,0))) ;kcm
"RTN","ORWDX",209,0)
 S VAL=$P($G(^ORD(101.41,DLG,0)),U,5)
"RTN","ORWDX",210,0)
 Q
"RTN","ORWDX",211,0)
DGNM(VAL,NM) ; Display grp pointer for name
"RTN","ORWDX",212,0)
 S VAL=$O(^ORD(100.98,"B",NM,0))
"RTN","ORWDX",213,0)
 Q
"RTN","ORWDX",214,0)
WRLST(LST,LOC) ; List of dlgs for writing orders
"RTN","ORWDX",215,0)
 G WRLST1^ORWDX1
"RTN","ORWDX",216,0)
MSG(LST,IEN) ; Msg text for orderable item
"RTN","ORWDX",217,0)
 N I
"RTN","ORWDX",218,0)
 S I=0 F  S I=$O(^ORD(101.43,IEN,8,I)) Q:I'>0  S LST(I)=^(I,0)
"RTN","ORWDX",219,0)
 Q
"RTN","ORWDX",220,0)
DISMSG(VAL,IEN) ; Disabled mge for ordering dlg
"RTN","ORWDX",221,0)
 S VAL=$P($G(^ORD(101.41,+IEN,0)),U,3)
"RTN","ORWDX",222,0)
 Q
"RTN","ORWDX",223,0)
LOCK(OK,DFN) ; Attempt to lock pt for ordering
"RTN","ORWDX",224,0)
 S OK=$$LOCK^ORX2(DFN)
"RTN","ORWDX",225,0)
 Q
"RTN","ORWDX",226,0)
UNLOCK(OK,DFN) ; Unlock pt for ordering
"RTN","ORWDX",227,0)
 D UNLOCK^ORX2(DFN) S OK=1
"RTN","ORWDX",228,0)
 Q
"RTN","ORWDX",229,0)
LOCKORD(OK,ORIFN) ; Attempt to lock order
"RTN","ORWDX",230,0)
 S OK=$$LOCK1^ORX2(ORIFN)
"RTN","ORWDX",231,0)
 Q
"RTN","ORWDX",232,0)
UNLKORD(OK,ORIFN) ; Unlock order
"RTN","ORWDX",233,0)
 D UNLK1^ORX2(ORIFN) S OK=1
"RTN","ORWDX",234,0)
 Q
"RTN","ORWDX",235,0)
UNLKOTH(OK,ORIFN) ; Unlock pt not by this session
"RTN","ORWDX",236,0)
 K ^XTMP("ORPTLK-"_ORIFN) S OK=1
"RTN","ORWDX",237,0)
 Q
"UP",100,100.008,-1)
100^8
"UP",100,100.008,0)
100.008
"VER")
8.0^22.2
"^DD",100,100.008,80,0)
ADMIN RELEASED BY POLICY^S^Y:YES;N:NO;^8;1^Q
"^DD",100,100.008,80,1,0)
^.1^^0
"^DD",100,100.008,80,3)
Enter "Y" if this order was created by a user holding the "OR ADMIN RBP TO CC" security key.
"^DD",100,100.008,80,21,0)
^^2^2^3180702^
"^DD",100,100.008,80,21,1,0)
This field contains "Y" if the order was Administratively Released by 
"^DD",100,100.008,80,21,2,0)
Policy, and "N" or null if not.
"^DD",100,100.008,80,"DT")
3180801
"BLD",10999,6)
^416
**END**
**END**

