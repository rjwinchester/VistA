Released OR*3*510 SEQ #428
Extracted from mail message
**KIDS**:OR*3.0*510^

**INSTALL NAME**
OR*3.0*510
"BLD",11489,0)
OR*3.0*510^ORDER ENTRY/RESULTS REPORTING^0^3190619^y
"BLD",11489,1,0)
^^7^7^3190529^
"BLD",11489,1,1,0)
The patch addresses two (2) issues:
"BLD",11489,1,2,0)
 
"BLD",11489,1,3,0)
1. Lab order checking for order frequency does not occur for future 
"BLD",11489,1,4,0)
   orders.
"BLD",11489,1,5,0)
 
"BLD",11489,1,6,0)
2. Lab order checking for duplicate orders does not occur for future 
"BLD",11489,1,7,0)
orders.
"BLD",11489,4,0)
^9.64PA^60^1
"BLD",11489,4,60,0)
60
"BLD",11489,4,60,2,0)
^9.641^60.03^1
"BLD",11489,4,60,2,60.03,0)
COLLECTION SAMPLE  (sub-file)
"BLD",11489,4,60,2,60.03,1,0)
^9.6411^4.5^2
"BLD",11489,4,60,2,60.03,1,4,0)
MAX. ORDER FREQ.
"BLD",11489,4,60,2,60.03,1,4.5,0)
SINGLE DAY MAX ORDER FREQ
"BLD",11489,4,60,222)
y^n^p^^^^n^^n
"BLD",11489,4,60,224)

"BLD",11489,4,"APDD",60,60.03)

"BLD",11489,4,"APDD",60,60.03,4)

"BLD",11489,4,"APDD",60,60.03,4.5)

"BLD",11489,4,"B",60,60)

"BLD",11489,6.3)
11
"BLD",11489,"ABPKG")
n
"BLD",11489,"KRN",0)
^9.67PA^1.5^24
"BLD",11489,"KRN",.4,0)
.4
"BLD",11489,"KRN",.401,0)
.401
"BLD",11489,"KRN",.402,0)
.402
"BLD",11489,"KRN",.403,0)
.403
"BLD",11489,"KRN",.5,0)
.5
"BLD",11489,"KRN",.84,0)
.84
"BLD",11489,"KRN",1.5,0)
1.5
"BLD",11489,"KRN",1.6,0)
1.6
"BLD",11489,"KRN",1.61,0)
1.61
"BLD",11489,"KRN",1.62,0)
1.62
"BLD",11489,"KRN",3.6,0)
3.6
"BLD",11489,"KRN",3.8,0)
3.8
"BLD",11489,"KRN",9.2,0)
9.2
"BLD",11489,"KRN",9.8,0)
9.8
"BLD",11489,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",11489,"KRN",9.8,"NM",1,0)
ORKLR^^0^B37075143
"BLD",11489,"KRN",9.8,"NM",2,0)
ORKLR2^^0^B63880797
"BLD",11489,"KRN",9.8,"NM","B","ORKLR",1)

"BLD",11489,"KRN",9.8,"NM","B","ORKLR2",2)

"BLD",11489,"KRN",19,0)
19
"BLD",11489,"KRN",19.1,0)
19.1
"BLD",11489,"KRN",101,0)
101
"BLD",11489,"KRN",409.61,0)
409.61
"BLD",11489,"KRN",771,0)
771
"BLD",11489,"KRN",779.2,0)
779.2
"BLD",11489,"KRN",870,0)
870
"BLD",11489,"KRN",8989.51,0)
8989.51
"BLD",11489,"KRN",8989.52,0)
8989.52
"BLD",11489,"KRN",8994,0)
8994
"BLD",11489,"KRN","B",.4,.4)

"BLD",11489,"KRN","B",.401,.401)

"BLD",11489,"KRN","B",.402,.402)

"BLD",11489,"KRN","B",.403,.403)

"BLD",11489,"KRN","B",.5,.5)

"BLD",11489,"KRN","B",.84,.84)

"BLD",11489,"KRN","B",1.5,1.5)

"BLD",11489,"KRN","B",1.6,1.6)

"BLD",11489,"KRN","B",1.61,1.61)

"BLD",11489,"KRN","B",1.62,1.62)

"BLD",11489,"KRN","B",3.6,3.6)

"BLD",11489,"KRN","B",3.8,3.8)

"BLD",11489,"KRN","B",9.2,9.2)

"BLD",11489,"KRN","B",9.8,9.8)

"BLD",11489,"KRN","B",19,19)

"BLD",11489,"KRN","B",19.1,19.1)

"BLD",11489,"KRN","B",101,101)

"BLD",11489,"KRN","B",409.61,409.61)

"BLD",11489,"KRN","B",771,771)

"BLD",11489,"KRN","B",779.2,779.2)

"BLD",11489,"KRN","B",870,870)

"BLD",11489,"KRN","B",8989.51,8989.51)

"BLD",11489,"KRN","B",8989.52,8989.52)

"BLD",11489,"KRN","B",8994,8994)

"BLD",11489,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",11489,"QUES",0)
^9.62^^
"BLD",11489,"REQB",0)
^9.611^1^1
"BLD",11489,"REQB",1,0)
OR*3.0*331^1
"BLD",11489,"REQB","B","OR*3.0*331",1)

"FIA",60)
LABORATORY TEST
"FIA",60,0)
^LAB(60,
"FIA",60,0,0)
60I
"FIA",60,0,1)
y^n^p^^^^n^^n
"FIA",60,0,10)

"FIA",60,0,11)

"FIA",60,0,"RLRO")

"FIA",60,0,"VR")
3.0^OR
"FIA",60,60)
1
"FIA",60,60.03)
1
"FIA",60,60.03,4)

"FIA",60,60.03,4.5)

"MBREQ")
0
"PKG",174,-1)
1^1
"PKG",174,0)
ORDER ENTRY/RESULTS REPORTING^OR^Order Entry/Results Reporting
"PKG",174,22,0)
^9.49I^1^1
"PKG",174,22,1,0)
3.0^2971217^2990325^66481
"PKG",174,22,1,"PAH",1,0)
510^3190619
"PKG",174,22,1,"PAH",1,1,0)
^^7^7^3190619
"PKG",174,22,1,"PAH",1,1,1,0)
The patch addresses two (2) issues:
"PKG",174,22,1,"PAH",1,1,2,0)
 
"PKG",174,22,1,"PAH",1,1,3,0)
1. Lab order checking for order frequency does not occur for future 
"PKG",174,22,1,"PAH",1,1,4,0)
   orders.
"PKG",174,22,1,"PAH",1,1,5,0)
 
"PKG",174,22,1,"PAH",1,1,6,0)
2. Lab order checking for duplicate orders does not occur for future 
"PKG",174,22,1,"PAH",1,1,7,0)
orders.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","ORKLR")
0^1^B37075143^B32383308
"RTN","ORKLR",1,0)
ORKLR ;slc/CLA - Order checking support procedure for lab orders ;May 17, 2019@17:00
"RTN","ORKLR",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**6,32,51,92,105,243,331,510**;Dec 17, 1997;Build 11
"RTN","ORKLR",3,0)
 ;
"RTN","ORKLR",4,0)
 Q
"RTN","ORKLR",5,0)
DUP(ORKLR,OI,ORDFN,NEWORDT,SPECIMEN) ; return duplicate lab order info
"RTN","ORKLR",6,0)
 N ORL,DDT,ODT,ORN,ORNC,LRID,DGIEN,ORPANEL,ORDIFF
"RTN","ORKLR",7,0)
 ;get lab id from orderable item (OI):
"RTN","ORKLR",8,0)
 S LRID=$P(^ORD(101.43,OI,0),U,2) S:$L($G(LRID)) ORL(LRID_";"_SPECIMEN)=""
"RTN","ORKLR",9,0)
 ;expand into child-level lab identifiers if children exist for this OI:
"RTN","ORKLR",10,0)
 ;if children found, set panel flag to '1':
"RTN","ORKLR",11,0)
 S LRID="" F  S LRID=$O(^ORD(101.43,OI,10,"AID",LRID)) Q:LRID=""  S ORL(LRID_";"_SPECIMEN)="",ORPANEL=1
"RTN","ORKLR",12,0)
 ;get duplicate date range-beginning date/time for this OI:
"RTN","ORKLR",13,0)
 S DDT=$P($$DUPRANGE^ORQOR2(OI,"LR",NEWORDT,ORDFN),U)
"RTN","ORKLR",14,0)
 Q:DDT=0  ;if dup range for this OI = zero, don't process dup order oc
"RTN","ORKLR",15,0)
 ;
"RTN","ORKLR",16,0)
 ;get all signed/not canceled lab orders since dup beg d/t:
"RTN","ORKLR",17,0)
 S DGIEN=0,DGIEN=$O(^ORD(100.98,"B","LAB",DGIEN))
"RTN","ORKLR",18,0)
 ;expand the search range to look for future orders
"RTN","ORKLR",19,0)
 S ORDIFF=$$FMDIFF^XLFDT(NEWORDT,DDT,2)
"RTN","ORKLR",20,0)
 S NEWORDT=$$FMADD^XLFDT(NEWORDT,"","","",ORDIFF)
"RTN","ORKLR",21,0)
 ;start DDT at one minute previous so that search begins correctly
"RTN","ORKLR",22,0)
 S DDT=$$FMADD^XLFDT(DDT,"","","",-60)
"RTN","ORKLR",23,0)
 K ^TMP("ORR",$J)
"RTN","ORKLR",24,0)
 D EN^ORQ1(ORDFN_";DPT(",DGIEN,1,"",DDT,NEWORDT+.2359,1,0,"AW")
"RTN","ORKLR",25,0)
 N J,HOR,SEQ,X S J=1,HOR=0,SEQ=0
"RTN","ORKLR",26,0)
 S HOR=$O(^TMP("ORR",$J,HOR)) Q:+HOR<1
"RTN","ORKLR",27,0)
 F  S SEQ=$O(^TMP("ORR",$J,HOR,SEQ)) Q:+SEQ<1  D
"RTN","ORKLR",28,0)
 .S X=^TMP("ORR",$J,HOR,SEQ),ORN=+$P(X,U),ODT=$P(X,U,4)
"RTN","ORKLR",29,0)
 .I $G(ORREN)=1 Q:+$G(ORN)=+$G(ORIFN)  ;quit current order # = dup order # ;DJE-VM *331 on renewed orders only
"RTN","ORKLR",30,0)
 .;break into child orders if they exist:
"RTN","ORKLR",31,0)
 .I $D(^OR(100,ORN,2,0)) D  ;child orders exist
"RTN","ORKLR",32,0)
 ..S ORNC=0 F  S ORNC=$O(^OR(100,ORN,2,ORNC)) Q:ORNC=""  D
"RTN","ORKLR",33,0)
 ...I $G(ORREN)=1 Q:+$G(ORNC)=+$G(ORIFN)  ;quit current order # = dup order # ;DJE-VM *331 on renewed orders only
"RTN","ORKLR",34,0)
 ...D DUP2(.ORKLR,ORNC,ODT,.ORL,$G(ORPANEL))
"RTN","ORKLR",35,0)
 .I '$D(^OR(100,ORN,2,0)) D DUP2(.ORKLR,ORN,ODT,.ORL,$G(ORPANEL))
"RTN","ORKLR",36,0)
 K ^TMP("ORR",$J)
"RTN","ORKLR",37,0)
 Q
"RTN","ORKLR",38,0)
 ;
"RTN","ORKLR",39,0)
DUP2(ORKLR,ORN,ODT,ORL,ORPANEL) ;second part of dup lab order check
"RTN","ORKLR",40,0)
 N ORS,ORST,ORSI,ORSP,OROI,LRID,LRIDX,LRIDXC,EXDT,INVDT,RCNT,ORY,ORX,ORQ,ORXI
"RTN","ORKLR",41,0)
 S ORS=$$STATUS^ORQOR2(ORN),ORSI=$P(ORS,U),ORST=$P(ORS,U,2)
"RTN","ORKLR",42,0)
 ;quit if order status is canceled/discontinued/expired/lapsed/changed/delayed:
"RTN","ORKLR",43,0)
 I (ORSI=13)!(ORSI=1)!(ORSI=7)!(ORSI=14)!(ORSI=12)!(ORSI=10) Q
"RTN","ORKLR",44,0)
 ;
"RTN","ORKLR",45,0)
 ;get specimen for this order:
"RTN","ORKLR",46,0)
 S ORSP=$$VALUE^ORCSAVE2(ORN,"SPECIMEN")
"RTN","ORKLR",47,0)
 Q:'$L($G(ORSP))  ;quit if no specimen found
"RTN","ORKLR",48,0)
 ;get orderable item for this order:
"RTN","ORKLR",49,0)
 S OROI=$$OI^ORQOR2(ORN)
"RTN","ORKLR",50,0)
 Q:'$L($G(OROI))  ;quit if no orderable item found
"RTN","ORKLR",51,0)
 ;get lab id and check against ordered array ORL
"RTN","ORKLR",52,0)
 S:$L($G(^ORD(101.43,OROI,0))) LRIDX=$P(^ORD(101.43,OROI,0),U,2)_";"_ORSP I $L($G(LRIDX)) D
"RTN","ORKLR",53,0)
 .S LRID="" F  S LRID=$O(ORL(LRID)) Q:LRID=""  I LRID=LRIDX D  ;dup!
"RTN","ORKLR",54,0)
 ..;
"RTN","ORKLR",55,0)
 ..;quit if order results entered in lab as "cancelled":
"RTN","ORKLR",56,0)
 ..D ORDER^ORQQLR(.ORY,ORDFN,ORN)
"RTN","ORKLR",57,0)
 ..S ORX=0 F  S ORX=$O(ORY(ORX)) Q:+$G(ORX)<1  D
"RTN","ORKLR",58,0)
 ...I ($P(LRID,";")=$P(ORY(ORX),U)),($P(ORY(ORX),U,3)["canc") S ORQ=1
"RTN","ORKLR",59,0)
 ..Q:+$G(ORQ)=1  ;quit if lab test cancelled in lab
"RTN","ORKLR",60,0)
 ..;
"RTN","ORKLR",61,0)
 ..S EXDT=$$FMTE^XLFDT(ODT,"2P"),INVDT=9999999-ODT
"RTN","ORKLR",62,0)
 ..;if previous orders have same date/time, do not overlay
"RTN","ORKLR",63,0)
 ..F ORXI=0:0 Q:'$D(ORKLR(INVDT))  S INVDT=INVDT+.000001
"RTN","ORKLR",64,0)
 ..;get most recent lab results:
"RTN","ORKLR",65,0)
 ..S RCNT=$$LOCLFORM^ORQQLR1(ORDFN,+LRID,ORSP)
"RTN","ORKLR",66,0)
 ..;
"RTN","ORKLR",67,0)
 ..S ORKLR(INVDT)=ORN_U_$P($$TEXT^ORKOR(ORN,60),U,2)_" "_$G(EXDT)_" ["_$S(ORST="ACTIVE":"COLLECTED",ORST="PENDING":"UNCOLLECTED",1:ORST)_"]"
"RTN","ORKLR",68,0)
 ..I +RCNT>0 S ORKLR(INVDT)=ORKLR(INVDT)_"  *Most recent result: "_$P(RCNT,U,2)_"*"
"RTN","ORKLR",69,0)
 ;get children lab ids and check against ordered array  ORL
"RTN","ORKLR",70,0)
 S LRIDX="" F  S LRIDX=$O(^ORD(101.43,OROI,10,"AID",LRIDX)) Q:LRIDX=""  D
"RTN","ORKLR",71,0)
 .S LRIDXC=LRIDX_";"_ORSP
"RTN","ORKLR",72,0)
 .S LRID="" F  S LRID=$O(ORL(LRID)) Q:LRID=""  I LRID=LRIDXC D  ;dup!
"RTN","ORKLR",73,0)
 ..;
"RTN","ORKLR",74,0)
 ..D ORDER^ORQQLR(.ORY,ORDFN,ORN)
"RTN","ORKLR",75,0)
 ..S ORX=0 F  S ORX=$O(ORY(ORX)) Q:+$G(ORX)<1  D
"RTN","ORKLR",76,0)
 ...I ($P(LRID,";")=$P(ORY(ORX),U)),($P(ORY(ORX),U,3)["canc") S ORQ=1
"RTN","ORKLR",77,0)
 ..Q:+$G(ORQ)=1  ;quit if lab test cancelled in lab
"RTN","ORKLR",78,0)
 ..;
"RTN","ORKLR",79,0)
 ..S EXDT=$$FMTE^XLFDT(ODT,"2P"),INVDT=9999999-ODT
"RTN","ORKLR",80,0)
 ..;if previous orders have same date/time, do not overlay
"RTN","ORKLR",81,0)
 ..F ORXI=0:0 Q:'$D(ORKLR(INVDT))  S INVDT=INVDT+.000001
"RTN","ORKLR",82,0)
 ..;
"RTN","ORKLR",83,0)
 ..;get most recent lab results:
"RTN","ORKLR",84,0)
 ..S RCNT=$S($G(ORPANEL)=1:"",1:$$LOCLFORM^ORQQLR1(ORDFN,+LRID,ORSP))
"RTN","ORKLR",85,0)
 ..;
"RTN","ORKLR",86,0)
 ..S ORKLR(INVDT)=ORN_U_$P($$TEXT^ORKOR(ORN,60),U,2)_" "_$G(EXDT)_" ["_$S(ORST="ACTIVE":"COLLECTED",ORST="PENDING":"UNCOLLECTED",1:ORST)_"]"
"RTN","ORKLR",87,0)
 ..I +RCNT>0 S ORKLR(INVDT)=ORKLR(INVDT)_"  *Most recent result: "_$P(RCNT,U,2)_"*"
"RTN","ORKLR",88,0)
 Q
"RTN","ORKLR",89,0)
RECNTWBC(ORDFN,ORDAYS) ;extrinsic function to return most recent WBC within <ORDAYS> in format:
"RTN","ORKLR",90,0)
 ;test id^result units flag ref range collection d/t
"RTN","ORKLR",91,0)
 N BDT,CDT,ORY,ORX,ORZ,X,TEST,ORI,ORJ,WBCRSLT,LABFILE,SPECFILE
"RTN","ORKLR",92,0)
 Q:'$L($G(ORDFN)) "0^"
"RTN","ORKLR",93,0)
 D NOW^%DTC
"RTN","ORKLR",94,0)
 I $L($G(ORDAYS)) S BDT=$$FMADD^XLFDT(%,"-"_ORDAYS,"","","")
"RTN","ORKLR",95,0)
 K %
"RTN","ORKLR",96,0)
 S:'$L($G(BDT)) BDT=1  ;if no ORDAYS, set BDT to '1' to search all days
"RTN","ORKLR",97,0)
 S LABFILE=$$TERMLKUP^ORB31(.ORY,"WBC")
"RTN","ORKLR",98,0)
 Q:'$D(ORY) "0^"  ;quit if no link between WBC and local lab test
"RTN","ORKLR",99,0)
 Q:$G(LABFILE)'=60 "0^"
"RTN","ORKLR",100,0)
 S SPECFILE=$$TERMLKUP^ORB31(.ORX,"BLOOD SPECIMEN")
"RTN","ORKLR",101,0)
 Q:'$D(ORX) "0^" ;quit if no link between BLOOD SPECIMEN and local spec
"RTN","ORKLR",102,0)
 Q:$G(SPECFILE)'=61 "0^"
"RTN","ORKLR",103,0)
 F ORI=1:1:ORY I +$G(WBCRSLT)<1 D
"RTN","ORKLR",104,0)
 .S TEST=$P(ORY(ORI),U)
"RTN","ORKLR",105,0)
 .Q:+$G(TEST)<1
"RTN","ORKLR",106,0)
 .F ORJ=1:1:ORX I +$G(WBCRSLT)<1 D
"RTN","ORKLR",107,0)
 ..S SPECIMEN=$P(ORX(ORJ),U)
"RTN","ORKLR",108,0)
 ..Q:+$G(SPECIMEN)<1
"RTN","ORKLR",109,0)
 ..S ORZ=$$LOCL^ORQQLR1(ORDFN,TEST,SPECIMEN)
"RTN","ORKLR",110,0)
 ..Q:'$L($G(ORZ))
"RTN","ORKLR",111,0)
 ..S CDT=$P(ORZ,U,7)
"RTN","ORKLR",112,0)
 ..I CDT'<BDT S WBCRSLT=1
"RTN","ORKLR",113,0)
 Q:+$G(WBCRSLT)<1 "0^"
"RTN","ORKLR",114,0)
 Q $P(ORZ,U,3)_U_$P(ORZ,U,3)_" "_$P(ORZ,U,4)_" "_$P(ORZ,U,5)_" ("_$P(ORZ,U,6)_")  "_$$FMTE^XLFDT(CDT,"2P")
"RTN","ORKLR",115,0)
 ;
"RTN","ORKLR",116,0)
CLOZLABS(ORDFN,ORDAYS,ORCLOZ) ;extrinsic function rtns "1" if clozapine ordered and WBC labs results within past ORDAYS, "0" if not
"RTN","ORKLR",117,0)
 ;result format: clozapine/mapped labs flag^recent WBC flag;recent WBC
"RTN","ORKLR",118,0)
 ; result^recent ANC flag;recent ANC result^formatted WBC and ANC results
"RTN","ORKLR",119,0)
 ;
"RTN","ORKLR",120,0)
 N BDT,WBC,WBCSPEC,WBCRSLT,WBCCDT,WBCF,ANC,ANCSPEC,ANCRSLT,ANCCDT,ANCF
"RTN","ORKLR",121,0)
 Q:'$L($G(ORDFN)) "0^"
"RTN","ORKLR",122,0)
 I $L($G(ORDAYS)) S BDT=$$FMADD^XLFDT($$NOW^XLFDT,"-"_ORDAYS,"","","")
"RTN","ORKLR",123,0)
 S:'$L($G(BDT)) BDT=1  ;if no ORDAYS, set BDT to '1' to search all days
"RTN","ORKLR",124,0)
 ;
"RTN","ORKLR",125,0)
 K LAB
"RTN","ORKLR",126,0)
 D EN^PSODRG(ORCLOZ)  ;pharmacy api rtns Lab file ptrs for WBC, ANC
"RTN","ORKLR",127,0)
 Q:$G(LAB("NOT"))=0 "0^"  ;medication is not clozapine
"RTN","ORKLR",128,0)
 ;Q:$G(LAB("BAD TEST"))=0 "0^"  ;one or both lab tests aren't mapped
"RTN","ORKLR",129,0)
 ;S WBC=$G(LAB("WBC")),WBCSPEC=$P(WBC,U,2),WBC=$P(WBC,U)
"RTN","ORKLR",130,0)
 ;S ANC=$G(LAB("ANC")),ANCSPEC=$P(ANC,U,2),ANC=$P(ANC,U)
"RTN","ORKLR",131,0)
 ;
"RTN","ORKLR",132,0)
 K ^TMP($J,"PSO")
"RTN","ORKLR",133,0)
 D CL1^YSCLTST2(ORDFN,ORDAYS)
"RTN","ORKLR",134,0)
 I $D(^TMP($J,"PSO")) D
"RTN","ORKLR",135,0)
 .N INVDT
"RTN","ORKLR",136,0)
 .S INVDT=$O(^TMP($J,"PSO",0))
"RTN","ORKLR",137,0)
 .Q:'INVDT
"RTN","ORKLR",138,0)
 .S WBC=$P($G(^TMP($J,"PSO",INVDT)),U)/1000
"RTN","ORKLR",139,0)
 .S ANC=$P($G(^TMP($J,"PSO",INVDT)),U,2)/1000
"RTN","ORKLR",140,0)
 .I WBC S WBCF=1
"RTN","ORKLR",141,0)
 .I ANC S ANCF=1
"RTN","ORKLR",142,0)
 .I $L(WBC)=1 S WBC=WBC_".0"
"RTN","ORKLR",143,0)
 .I $L(ANC)=1 S ANC=ANC_".0"
"RTN","ORKLR",144,0)
 .S WBCRSLT="WBC "_WBC_" ["_$$FMTE^XLFDT(9999999-INVDT,"""2P""")_"]"
"RTN","ORKLR",145,0)
 .S ANCRSLT="ANC "_ANC_" ["_$$FMTE^XLFDT(9999999-INVDT,"""2P""")_"]"
"RTN","ORKLR",146,0)
 ;
"RTN","ORKLR",147,0)
 K LAB
"RTN","ORKLR",148,0)
 Q "1^"_$G(WBCF,0)_";"_$G(WBC)_"^"_$G(ANCF,0)_";"_$G(ANC)_"^"_$G(WBCRSLT)_"  "_$G(ANCRSLT)
"RTN","ORKLR2")
0^2^B63880797^B48995773
"RTN","ORKLR2",1,0)
ORKLR2 ; slc/CLA - Order checking support proc for lab orders, part 2 ;May 17, 2019 17:00
"RTN","ORKLR2",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**510**;Dec 17, 1997;Build 11
"RTN","ORKLR2",3,0)
 ;
"RTN","ORKLR2",4,0)
 ;IA #2387 - ^LAB(60 fields retrieved by routine LR7OR3
"RTN","ORKLR2",5,0)
 ;
"RTN","ORKLR2",6,0)
 Q
"RTN","ORKLR2",7,0)
ORFREQ(ORKLR,OI,ORDFN,NEWORDT,SPECIMEN) ;lab order freq restrictions order check
"RTN","ORKLR2",8,0)
 N LRID,LFREQS,MAX,DAILY,MAXDT,EARLYDT,ORM,ORD,X1,X2,X,ORDIFF
"RTN","ORKLR2",9,0)
 S EARLYDT=NEWORDT
"RTN","ORKLR2",10,0)
 ;get lab id from orderable item (OI):
"RTN","ORKLR2",11,0)
 S LRID=$P(^ORD(101.43,OI,0),U,2) I $L($G(LRID)) D
"RTN","ORKLR2",12,0)
 .S LFREQS=$$FREQS(+LRID,SPECIMEN),MAX=$P(LFREQS,U),DAILY=$P(LFREQS,U,2)
"RTN","ORKLR2",13,0)
 .;if max order freq exists, don't process for daily order max:
"RTN","ORKLR2",14,0)
 .I '$L($G(MAX)) S:$L($G(DAILY)) ORD(LRID_";"_SPECIMEN)=DAILY_"^0"
"RTN","ORKLR2",15,0)
 .I $L($G(MAX)) D
"RTN","ORKLR2",16,0)
 ..;decrease by 1 since order frequency occurs for calendar days
"RTN","ORKLR2",17,0)
 ..;example: every two days = equals today and tomorrow - not including
"RTN","ORKLR2",18,0)
 ..;         the day after tomorrow
"RTN","ORKLR2",19,0)
 ..S MAX=MAX-1
"RTN","ORKLR2",20,0)
 ..S X1=NEWORDT,X2="-"_MAX D C^%DTC Q:X<1  S MAXDT=X
"RTN","ORKLR2",21,0)
 ..I MAXDT<EARLYDT S EARLYDT=MAXDT ;find and keep earliest MAXDT
"RTN","ORKLR2",22,0)
 ..;
"RTN","ORKLR2",23,0)
 ..;The earliest max d/t is used because if the lab order has children,
"RTN","ORKLR2",24,0)
 ..;they  may have different (or no) maximum order freq values. By taking
"RTN","ORKLR2",25,0)
 ..;the earliest, we cover all values yet narrow the search range for the
"RTN","ORKLR2",26,0)
 ..;call into ORQ1.  In MAXFREQ2 the specific max d/ts stored in ORL are
"RTN","ORKLR2",27,0)
 ..;checked against the d/ts of orders returned by ORQ1. ORQ1 orders' d/t
"RTN","ORKLR2",28,0)
 ..;are checked to see if they fall between the max d/t of an equivalent
"RTN","ORKLR2",29,0)
 ..;parent or child lab test order stored in ORL and the d/t of the order
"RTN","ORKLR2",30,0)
 ..;being checked. 
"RTN","ORKLR2",31,0)
 ..;
"RTN","ORKLR2",32,0)
 ..S ORM(LRID_";"_SPECIMEN)=MAXDT
"RTN","ORKLR2",33,0)
 ;
"RTN","ORKLR2",34,0)
 ;expand into child-level lab identifiers if children exist for this OI:
"RTN","ORKLR2",35,0)
 S LRID="" F  S LRID=$O(^ORD(101.43,OI,10,"AID",LRID)) Q:LRID=""  D
"RTN","ORKLR2",36,0)
 .S MAX="",DAILY="",LFREQS=""
"RTN","ORKLR2",37,0)
 .S LFREQS=$$FREQS(+LRID,SPECIMEN),MAX=$P(LFREQS,U),DAILY=$P(LFREQS,U,2)
"RTN","ORKLR2",38,0)
 .;if max order freq exists, don't process for daily order max:
"RTN","ORKLR2",39,0)
 .I '$L($G(MAX)),($L($G(DAILY))) S ORD(LRID_";"_SPECIMEN)=DAILY
"RTN","ORKLR2",40,0)
 .I $L($G(MAX)) D
"RTN","ORKLR2",41,0)
 ..;decrease by 1 since order frequency occurs for calendar days
"RTN","ORKLR2",42,0)
 ..;example: every two days = equals today and tomorrow - not including
"RTN","ORKLR2",43,0)
 ..;         the day after tomorrow
"RTN","ORKLR2",44,0)
 ..S MAX=MAX-1
"RTN","ORKLR2",45,0)
 ..S X1=NEWORDT,X2="-"_MAX D C^%DTC Q:X<1  S MAXDT=X
"RTN","ORKLR2",46,0)
 ..I MAXDT<EARLYDT S EARLYDT=MAXDT ;find and keep earliest MAXDT
"RTN","ORKLR2",47,0)
 ..S ORM(LRID_";"_SPECIMEN)=MAXDT
"RTN","ORKLR2",48,0)
 I $D(ORM) D
"RTN","ORKLR2",49,0)
 . ;expand the search range to include orders with a collection date
"RTN","ORKLR2",50,0)
 . ;after this order's collection date
"RTN","ORKLR2",51,0)
 . S ORDIFF=$$FMDIFF^XLFDT(NEWORDT,EARLYDT,"")
"RTN","ORKLR2",52,0)
 . S NEWORDT=$$FMADD^XLFDT(NEWORDT,ORDIFF)
"RTN","ORKLR2",53,0)
 . ;start EARLYDT at midnight of previous date
"RTN","ORKLR2",54,0)
 . S EARLYDT=$$FMADD^XLFDT(EARLYDT,"","","",-60)
"RTN","ORKLR2",55,0)
 . D MAXFREQ(.ORM,EARLYDT)
"RTN","ORKLR2",56,0)
 I $D(ORD) D DAILY(.ORD)
"RTN","ORKLR2",57,0)
 Q
"RTN","ORKLR2",58,0)
MAXFREQ(ORM,EARLYDT) ;check for maximum order frequency violation
"RTN","ORKLR2",59,0)
 N DGIEN,HOR,SEQ,X,ORIFN,ODT,ORIFNC
"RTN","ORKLR2",60,0)
 S HOR=0,SEQ=0
"RTN","ORKLR2",61,0)
 ;get all lab orders since earliest max order freq d/t:
"RTN","ORKLR2",62,0)
 S DGIEN=0,DGIEN=$O(^ORD(100.98,"B","LAB",DGIEN))
"RTN","ORKLR2",63,0)
 K ^TMP("ORR",$J)
"RTN","ORKLR2",64,0)
 D EN^ORQ1(ORDFN,DGIEN,1,"",EARLYDT,NEWORDT+.2359,1,0,"AW")
"RTN","ORKLR2",65,0)
 S HOR=$O(^TMP("ORR",$J,HOR)) Q:+HOR<1
"RTN","ORKLR2",66,0)
 F  S SEQ=$O(^TMP("ORR",$J,HOR,SEQ)) Q:+SEQ<1  D
"RTN","ORKLR2",67,0)
 .S X=^TMP("ORR",$J,HOR,SEQ),ORIFN=+$P(X,U),ODT=$P(X,U,4)
"RTN","ORKLR2",68,0)
 .;break into child orders if they exist:
"RTN","ORKLR2",69,0)
 .I $D(^OR(100,ORIFN,2,0)) D  ;child orders exist
"RTN","ORKLR2",70,0)
 ..S ORIFNC=0 F  S ORIFNC=$O(^OR(100,ORIFN,2,ORIFNC)) Q:ORIFNC=""  D
"RTN","ORKLR2",71,0)
 ...D MAXFREQ2(ORIFNC,ODT,.ORM)
"RTN","ORKLR2",72,0)
 .I '$D(^OR(100,ORIFN,2,0)) D MAXFREQ2(ORIFN,ODT,.ORM)
"RTN","ORKLR2",73,0)
 K ^TMP("ORR",$J)
"RTN","ORKLR2",74,0)
 Q
"RTN","ORKLR2",75,0)
MAXFREQ2(ORIFN,ODT,ORL) ;second part of max order freq order check
"RTN","ORKLR2",76,0)
 N ORS,ORSI,ORSP,OROI,LRID,LRIDX,LRIDXC,EXDT,INVDT,MAXDT,ORKMSG
"RTN","ORKLR2",77,0)
 S ORS=$$STATUS^ORQOR2(ORIFN),ORSI=$P(ORS,U)
"RTN","ORKLR2",78,0)
 ;quit if order status is canceled/discontinued/expired/lapsed/changed/delayed:
"RTN","ORKLR2",79,0)
 I (ORSI=13)!(ORSI=1)!(ORSI=7)!(ORSI=14)!(ORSI=12)!(ORSI=10) Q
"RTN","ORKLR2",80,0)
 ;
"RTN","ORKLR2",81,0)
 ;get specimen for this order:
"RTN","ORKLR2",82,0)
 S ORSP=$$VALUE^ORCSAVE2(ORIFN,"SPECIMEN")
"RTN","ORKLR2",83,0)
 Q:'$L($G(ORSP))  ;quit if no specimen found
"RTN","ORKLR2",84,0)
 ;get orderable item for this order:
"RTN","ORKLR2",85,0)
 S OROI=$$OI^ORQOR2(ORIFN)
"RTN","ORKLR2",86,0)
 Q:'$L($G(OROI))  ;quit if no orderable item found
"RTN","ORKLR2",87,0)
 ;get lab id and check against ordered array ORD
"RTN","ORKLR2",88,0)
 S:$L($G(^ORD(101.43,OROI,0))) LRIDX=$P(^ORD(101.43,OROI,0),U,2)_";"_ORSP I $L($G(LRIDX)) D
"RTN","ORKLR2",89,0)
 .S LRID="" F  S LRID=$O(ORL(LRID)) Q:LRID=""  I LRID=LRIDX D
"RTN","ORKLR2",90,0)
 ..S MAXDT=ORL(LRID)
"RTN","ORKLR2",91,0)
 ..;if order's dt > or equal to max dt and (order's dt < or equal to new order's dt or 
"RTN","ORKLR2",92,0)
 ..;   order's date = new order's date), max order freq violated:
"RTN","ORKLR2",93,0)
 ..;   (The $P(ODT,".")=$P(NEWORDT,".") might not be necessary, but keeping it
"RTN","ORKLR2",94,0)
 ..;   in case a scenario depends on it.)
"RTN","ORKLR2",95,0)
 ..I ODT'<MAXDT,((ODT'>NEWORDT)!($P(ODT,".")=$P(NEWORDT,"."))) D
"RTN","ORKLR2",96,0)
 ...S ORKMSG="Max lab test order freq exceeded for: "_$E($P(^LAB(60,+LRID,0),U),1,30)
"RTN","ORKLR2",97,0)
 ...S ORKLR(ORKMSG)=ORIFN_U_ORKMSG
"RTN","ORKLR2",98,0)
 ;get children lab ids and check against ordered array  ORD
"RTN","ORKLR2",99,0)
 S LRIDX="" F  S LRIDX=$O(^ORD(101.43,OROI,10,"AID",LRIDX)) Q:LRIDX=""  D
"RTN","ORKLR2",100,0)
 .S LRIDXC=LRIDX_";"_ORSP
"RTN","ORKLR2",101,0)
 .S LRID="" F  S LRID=$O(ORL(LRID)) Q:LRID=""  I LRID=LRIDXC D
"RTN","ORKLR2",102,0)
 ..S MAXDT=ORL(LRID)
"RTN","ORKLR2",103,0)
 ..;if order's dt > or equal to max dt and (order's dt < or equal to new order's dt or 
"RTN","ORKLR2",104,0)
 ..;   order's date = new order's date), max order freq violated:
"RTN","ORKLR2",105,0)
 ..;   (The $P(ODT,".")=$P(NEWORDT,".") might not be necessary, but keeping it
"RTN","ORKLR2",106,0)
 ..;   in case a scenario depends on it.)
"RTN","ORKLR2",107,0)
 ..I ODT'<MAXDT,((ODT'>NEWORDT)!($P(ODT,".")=$P(NEWORDT,"."))) D
"RTN","ORKLR2",108,0)
 ...S ORKMSG="Max lab test order freq exceeded for: "_$E($P(^LAB(60,+LRID,0),U),1,30)
"RTN","ORKLR2",109,0)
 ...S ORKLR(ORKMSG)=ORIFN_U_ORKMSG
"RTN","ORKLR2",110,0)
 Q
"RTN","ORKLR2",111,0)
DAILY(ORD) ;check for daily order maximum violation
"RTN","ORKLR2",112,0)
 N DGIEN,HOR,SEQ,X,ORIFN,ODT,ORIFNC,NEWORDAY,CNT
"RTN","ORKLR2",113,0)
 S HOR=0,SEQ=0,CNT=0
"RTN","ORKLR2",114,0)
 ;get all lab orders occurring on new order's date:
"RTN","ORKLR2",115,0)
 S NEWORDAY=$P(NEWORDT,".")
"RTN","ORKLR2",116,0)
 S DGIEN=0,DGIEN=$O(^ORD(100.98,"B","LAB",DGIEN))
"RTN","ORKLR2",117,0)
 K ^TMP("ORR",$J)
"RTN","ORKLR2",118,0)
 D EN^ORQ1(ORDFN,DGIEN,1,"",$$FMADD^XLFDT(NEWORDAY,"","","",-60),NEWORDAY+.2359,1,0,"AW")
"RTN","ORKLR2",119,0)
 S HOR=$O(^TMP("ORR",$J,HOR)) Q:+HOR<1
"RTN","ORKLR2",120,0)
 S SEQ=0 F  S SEQ=$O(^TMP("ORR",$J,HOR,SEQ)) Q:+SEQ<1  D
"RTN","ORKLR2",121,0)
 .S X=^TMP("ORR",$J,HOR,SEQ),ORIFN=+$P(X,U),ODT=$P(X,U,4)
"RTN","ORKLR2",122,0)
 .;break into child orders if they exist:
"RTN","ORKLR2",123,0)
 .I $D(^OR(100,ORIFN,2,0)) D  ;child orders exist
"RTN","ORKLR2",124,0)
 ..S ORIFNC=0 F  S ORIFNC=$O(^OR(100,ORIFN,2,ORIFNC)) Q:ORIFNC=""  D
"RTN","ORKLR2",125,0)
 ...D DAILY2(ORIFNC,ODT,CNT,.ORD)
"RTN","ORKLR2",126,0)
 .I '$D(^OR(100,ORIFN,2,0)) D DAILY2(ORIFN,ODT,CNT,.ORD)
"RTN","ORKLR2",127,0)
 K ^TMP("ORR",$J)
"RTN","ORKLR2",128,0)
 Q
"RTN","ORKLR2",129,0)
DAILY2(ORIFN,ODT,CNT,ORL) ;second part of daily order max order check
"RTN","ORKLR2",130,0)
 N ORS,ORSI,ORSP,OROI,LRID,LRIDX,LRIDXC,EXDT,INVDT,DAILY
"RTN","ORKLR2",131,0)
 S ORS=$$STATUS^ORQOR2(ORIFN),ORSI=$P(ORS,U)
"RTN","ORKLR2",132,0)
 ;quit if order status is canceled/discontinued/expired/lapsed/changed/delayed:
"RTN","ORKLR2",133,0)
 I (ORSI=13)!(ORSI=1)!(ORSI=7)!(ORSI=14)!(ORSI=12)!(ORSI=10) Q
"RTN","ORKLR2",134,0)
 ;
"RTN","ORKLR2",135,0)
 ;get specimen for this order:
"RTN","ORKLR2",136,0)
 S ORSP=$$VALUE^ORCSAVE2(ORIFN,"SPECIMEN")
"RTN","ORKLR2",137,0)
 Q:'$L($G(ORSP))  ;quit if no specimen found
"RTN","ORKLR2",138,0)
 ;get orderable item for this order:
"RTN","ORKLR2",139,0)
 S OROI=$$OI^ORQOR2(ORIFN)
"RTN","ORKLR2",140,0)
 Q:'$L($G(OROI))  ;quit if no orderable item found
"RTN","ORKLR2",141,0)
 ;get lab id and check against ordered array ORD
"RTN","ORKLR2",142,0)
 S:$L($G(^ORD(101.43,OROI,0))) LRIDX=$P(^ORD(101.43,OROI,0),U,2)_";"_ORSP I $L($G(LRIDX)) D
"RTN","ORKLR2",143,0)
 .;use 2nd piece of the lab id array as a counter to keep counter specific to the lab test_specimen: 
"RTN","ORKLR2",144,0)
 .S LRID="" F  S LRID=$O(ORL(LRID)) Q:LRID=""  I LRID=LRIDX D
"RTN","ORKLR2",145,0)
 ..S $P(ORL(LRID),U,2)=$P(ORL(LRID),U,2)+1,DAILY=$P(ORL(LRID),U)
"RTN","ORKLR2",146,0)
 ..;if count for this lab test_specimen exceeds daily order max, send oc message:
"RTN","ORKLR2",147,0)
 ..I $P(ORL(LRID),U,2)=DAILY D
"RTN","ORKLR2",148,0)
 ...S ORKMSG="Lab test daily order max exceeded for: "_$E($P(^LAB(60,+LRID,0),U),1,30)
"RTN","ORKLR2",149,0)
 ...S ORKLR(ORKMSG)=ORIFN_U_ORKMSG
"RTN","ORKLR2",150,0)
 ;get children lab ids and check against ordered array  ORD
"RTN","ORKLR2",151,0)
 S LRIDX="" F  S LRIDX=$O(^ORD(101.43,OROI,10,"AID",LRIDX)) Q:LRIDX=""  D
"RTN","ORKLR2",152,0)
 .S LRIDXC=LRIDX_";"_ORSP
"RTN","ORKLR2",153,0)
 .;use 2nd piece of the lab id array as a counter to keep counter specific to the lab test_specimen: 
"RTN","ORKLR2",154,0)
 .S LRID="" F  S LRID=$O(ORL(LRID)) Q:LRID=""  I LRID=LRIDXC D
"RTN","ORKLR2",155,0)
 ..S $P(ORL(LRID),U,2)=$P(ORL(LRID),U,2)+1,DAILY=$P(ORL(LRID),U)
"RTN","ORKLR2",156,0)
 ..;if count for this lab test_specimen exceeds daily order max, send oc message:
"RTN","ORKLR2",157,0)
 ..I $P(ORL(LRID),U,2)=DAILY D
"RTN","ORKLR2",158,0)
 ...S ORKMSG="Lab test daily order max exceeded for: "_$E($P(^LAB(60,+LRID,0),U),1,30)
"RTN","ORKLR2",159,0)
 ...S ORKLR(ORKMSG)=ORIFN_U_ORKMSG
"RTN","ORKLR2",160,0)
 Q
"RTN","ORKLR2",161,0)
FREQS(LRIEN,ORSPEC) ;extrinsic funct returns max order freq and daily order max for a lab test
"RTN","ORKLR2",162,0)
 N LRY,LRI,SPEC,MAXFREQ,X,DAILYMAX,Y,LRCNODE
"RTN","ORKLR2",163,0)
 S MAXFREQ="",DAILYMAX=""
"RTN","ORKLR2",164,0)
 D TEST^LR7OR3(LRIEN,.LRY)
"RTN","ORKLR2",165,0)
 I $D(LRY) D
"RTN","ORKLR2",166,0)
 .S LRI="" F  S LRI=$O(LRY("CollSamp",LRI)) Q:LRI=""  D
"RTN","ORKLR2",167,0)
 ..S LRCNODE=LRY("CollSamp",LRI),SPEC=$P(LRCNODE,U,3),X=+$P(LRCNODE,U,5),Y=+$P(LRCNODE,U,6)
"RTN","ORKLR2",168,0)
 ..;if specimens match:
"RTN","ORKLR2",169,0)
 ..I SPEC=ORSPEC D
"RTN","ORKLR2",170,0)
 ...;get maxfreq, if more than one max freq exists for this
"RTN","ORKLR2",171,0)
 ...;  collection sample/specimen use the largest max freq:
"RTN","ORKLR2",172,0)
 ...I X>MAXFREQ S MAXFREQ=X
"RTN","ORKLR2",173,0)
 ...;if dailymax > 0:
"RTN","ORKLR2",174,0)
 ...I $G(Y)>0 D
"RTN","ORKLR2",175,0)
 ....I $L($G(DAILYMAX)),(Y<DAILYMAX) S DAILYMAX=Y ;use smallest daily mx
"RTN","ORKLR2",176,0)
 ....I '$L($G(DAILYMAX)) S DAILYMAX=Y ;get first occurrence of dailymax
"RTN","ORKLR2",177,0)
 Q MAXFREQ_U_DAILYMAX
"UP",60,60.03,-1)
60^3
"UP",60,60.03,0)
60.03
"VER")
8.0^22.2
"^DD",60,60.03,4,0)
MAX. ORDER FREQ.^NJ3,0^^0;5^K:+X'=X!(X>120)!(X<1)!(X?.E1"."1.N) X
"^DD",60,60.03,4,3)
Enter the timeframe in number of days (between 1 and 120) that the test should be ordered to be collected only once.
"^DD",60,60.03,4,21,0)
^^5^5^3190618^
"^DD",60,60.03,4,21,1,0)
Use this field to control how often a test may be ordered to be collected
"^DD",60,60.03,4,21,2,0)
within a certain time period (# of days). If you enter "3", the test 
"^DD",60,60.03,4,21,3,0)
should only be ordered to be collected once every three days. The entry
"^DD",60,60.03,4,21,4,0)
will then force CPRS to remind the ordering person that the order being
"^DD",60,60.03,4,21,5,0)
placed for this test exceeds the maximum order frequency.
"^DD",60,60.03,4,"DT")
3190618
"^DD",60,60.03,4.5,0)
SINGLE DAY MAX ORDER FREQ^NJ2,0^^0;7^K:+X'=X!(X>50)!(X<1)!(X?.E1"."1.N) X
"^DD",60,60.03,4.5,3)
Enter the maximum number of times (between 1 and 50) that a test should be ordered to be collected within a single day.
"^DD",60,60.03,4.5,21,0)
^^5^5^3190618^
"^DD",60,60.03,4.5,21,1,0)
If this test should not be ordered to be collected more than a certain
"^DD",60,60.03,4.5,21,2,0)
number of times per day, enter a number (between 1 and 50) specifying the
"^DD",60,60.03,4.5,21,3,0)
maximum frequency per day. The entry will then cause CPRS to remind the 
"^DD",60,60.03,4.5,21,4,0)
ordering person that the order being placed for this test exceeds the 
"^DD",60,60.03,4.5,21,5,0)
"single day maximum frequency" for the specified collection date.
"^DD",60,60.03,4.5,"DT")
3190618
"BLD",11489,6)
^428
**END**
**END**

