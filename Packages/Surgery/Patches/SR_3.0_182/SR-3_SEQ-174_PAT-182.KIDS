Released SR*3*182 SEQ #174
Extracted from mail message
**KIDS**:SR*3.0*182^

**INSTALL NAME**
SR*3.0*182
"BLD",8961,0)
SR*3.0*182^SURGERY^0^3141105^y
"BLD",8961,1,0)
^^2^2^3140418^
"BLD",8961,1,1,0)
The description of this build can be found in the National Patch Module 
"BLD",8961,1,2,0)
under SR*3*182.
"BLD",8961,4,0)
^9.64PA^136.5^2
"BLD",8961,4,130,0)
130
"BLD",8961,4,130,2,0)
^9.641^130.13^5
"BLD",8961,4,130,2,130,0)
SURGERY  (File-top level)
"BLD",8961,4,130,2,130,1,0)
^9.6411^490^95
"BLD",8961,4,130,2,130,1,.011,0)
HOSPITAL ADMISSION STATUS
"BLD",8961,4,130,2,130,1,.02,0)
OP ROOM PROCEDURE PERFORMED
"BLD",8961,4,130,2,130,1,.14,0)
PRIMARY SURGEON
"BLD",8961,4,130,2,130,1,.164,0)
ATTENDING SURGEON
"BLD",8961,4,130,2,130,1,.166,0)
ATTENDING/RES SUP CODE
"BLD",8961,4,130,2,130,1,.43,0)
PLANNED POSTOP CARE
"BLD",8961,4,130,2,130,1,.46,0)
OP DISPOSITION
"BLD",8961,4,130,2,130,1,.69,0)
TIME-OUT DOCUMENT COMPLETED BY
"BLD",8961,4,130,2,130,1,17.5,0)
CANCELLATION TIMEFRAME
"BLD",8961,4,130,2,130,1,18,0)
PRIMARY CANCEL REASON
"BLD",8961,4,130,2,130,1,41,0)
DRESSING
"BLD",8961,4,130,2,130,1,44,0)
SPONGE FINAL COUNT CORRECT
"BLD",8961,4,130,2,130,1,45,0)
SHARPS FINAL COUNT CORRECT
"BLD",8961,4,130,2,130,1,46,0)
INSTRUMENT FINAL COUNT CORRECT
"BLD",8961,4,130,2,130,1,74,0)
TIME-OUT COMPLETED
"BLD",8961,4,130,2,130,1,102,0)
REASON FOR NO ASSESSMENT
"BLD",8961,4,130,2,130,1,205,0)
PRIOR MI
"BLD",8961,4,130,2,130,1,207,0)
CONGESTIVE HEART FAILURE
"BLD",8961,4,130,2,130,1,208,0)
*HYPERTENSION REQUIRING MEDS
"BLD",8961,4,130,2,130,1,216,0)
BLEEDING DISORDERS
"BLD",8961,4,130,2,130,1,218.1,0)
PREOPERATIVE SEPSIS
"BLD",8961,4,130,2,130,1,220,0)
*PREVIOUS PCI
"BLD",8961,4,130,2,130,1,237.1,0)
PREOPERATIVE SLEEP APNEA
"BLD",8961,4,130,2,130,1,258,0)
MYOCARDIAL INFARCTION
"BLD",8961,4,130,2,130,1,263,0)
DVT/THROMBOPHLEBITIS
"BLD",8961,4,130,2,130,1,265,0)
PERIPHERAL ARTERIAL DISEASE
"BLD",8961,4,130,2,130,1,266,0)
*PREVIOUS CARDIAC SURGERY
"BLD",8961,4,130,2,130,1,267,0)
ANGINA SEVERITY
"BLD",8961,4,130,2,130,1,329,0)
*REVASCULARIZATION/AMPUTATION
"BLD",8961,4,130,2,130,1,340,0)
INTRAOP RBC UNITS TRANSFUSED
"BLD",8961,4,130,2,130,1,351,0)
*PCI
"BLD",8961,4,130,2,130,1,365,0)
*NUMBER WITH VEIN
"BLD",8961,4,130,2,130,1,366,0)
*NUMBER WITH IMA
"BLD",8961,4,130,2,130,1,367,0)
*AORTIC VALVE PROCEDURE
"BLD",8961,4,130,2,130,1,368,0)
*MITRAL VALVE PROCEDURE
"BLD",8961,4,130,2,130,1,369,0)
*TRICUSPID VALVE PROCEDURE
"BLD",8961,4,130,2,130,1,371,0)
*LV ANEURYSMECTOMY
"BLD",8961,4,130,2,130,1,372,0)
*GREAT VESSEL REPAIR (Y/N)
"BLD",8961,4,130,2,130,1,373,0)
*CARDIAC TRANSPLANT
"BLD",8961,4,130,2,130,1,376,0)
*ASD REPAIR
"BLD",8961,4,130,2,130,1,377,0)
*MYXOMA RESECTION
"BLD",8961,4,130,2,130,1,378,0)
*MYECTOMY
"BLD",8961,4,130,2,130,1,379,0)
*OTHER TUMOR RESECTION
"BLD",8961,4,130,2,130,1,380,0)
*VSD REPAIR
"BLD",8961,4,130,2,130,1,381,0)
*FOREIGN BODY REMOVAL
"BLD",8961,4,130,2,130,1,382,0)
*PERICARDIECTOMY
"BLD",8961,4,130,2,130,1,394,0)
*HISTORY OF MI
"BLD",8961,4,130,2,130,1,395,0)
*ANGINA ONE MONTH PRIOR
"BLD",8961,4,130,2,130,1,396,0)
*CHF WITHIN ONE MONTH
"BLD",8961,4,130,2,130,1,404,0)
WOUND DISRUPTION
"BLD",8961,4,130,2,130,1,416,0)
*NUMBER WITH OTHER CONDUIT
"BLD",8961,4,130,2,130,1,431,0)
CARDIAC RESOURCE DATA COMMENTS
"BLD",8961,4,130,2,130,1,463,0)
*HYPERTENSION
"BLD",8961,4,130,2,130,1,464,0)
*NUMBER WITH RADIAL ARTERY
"BLD",8961,4,130,2,130,1,465,0)
*NUMBER WITH OTHER ARTERY
"BLD",8961,4,130,2,130,1,467,0)
NEW MECHANICAL CIRCULATORY
"BLD",8961,4,130,2,130,1,469,0)
CONVERT FROM OFF PUMP TO CPB
"BLD",8961,4,130,2,130,1,472,0)
*CARDIAC SURG PERFORMED NON-VA
"BLD",8961,4,130,2,130,1,481,0)
*BRIDGE TO TRANSPLANT/DEVICE
"BLD",8961,4,130,2,130,1,483,0)
*TMR
"BLD",8961,4,130,2,130,1,484,0)
*OTHER CARDIAC PROCEDURES-LIST
"BLD",8961,4,130,2,130,1,485,0)
PRIOR HEART SURGERIES
"BLD",8961,4,130,2,130,1,490,0)
*REPEAT VENTILATOR W/IN 30 DAY
"BLD",8961,4,130,2,130,1,493,0)
*PULMONARY VALVE PROCEDURE
"BLD",8961,4,130,2,130,1,502,0)
*OTHER CARDIAC PROCEDURES (Y/N)
"BLD",8961,4,130,2,130,1,505,0)
*ENDOVASCULAR REPAIR
"BLD",8961,4,130,2,130,1,512,0)
*MAZE PROCEDURE
"BLD",8961,4,130,2,130,1,603,0)
CONFIRM VALID CONSENT
"BLD",8961,4,130,2,130,1,605,0)
MARKED SITE CONFIRMED
"BLD",8961,4,130,2,130,1,606,0)
PREOPERATIVE IMAGES CONFIRMED
"BLD",8961,4,130,2,130,1,607,0)
CORRECT MEDICAL IMPLANTS
"BLD",8961,4,130,2,130,1,608,0)
ANTIBIOTIC PROPHYLAXIS
"BLD",8961,4,130,2,130,1,609,0)
APPROPRIATE DVT PROPHYLAXIS
"BLD",8961,4,130,2,130,1,610,0)
BLOOD AVAILABILITY
"BLD",8961,4,130,2,130,1,611,0)
AVAILABILITY OF SPECIAL EQUIP
"BLD",8961,4,130,2,130,1,618,0)
POSITIVE DRUG SCREENING
"BLD",8961,4,130,2,130,1,619,0)
IMMED USE-CONTAMINATION
"BLD",8961,4,130,2,130,1,620,0)
IMMED USE-SPS/OR MGT ISSUE
"BLD",8961,4,130,2,130,1,621,0)
IMMED USE-EMERGENCY CASE
"BLD",8961,4,130,2,130,1,622,0)
IMMED USE-NO BETTER OPTION
"BLD",8961,4,130,2,130,1,623,0)
IMMED USE-LOANER INSTRUMENT
"BLD",8961,4,130,2,130,1,624,0)
IMMED USE-DECONTAMINATION
"BLD",8961,4,130,2,130,1,630,0)
POSSIBLE ITEM RETENTION
"BLD",8961,4,130,2,130,1,633,0)
WOUND SWEEP
"BLD",8961,4,130,2,130,1,635,0)
WOUND SWEEP COMMENTS
"BLD",8961,4,130,2,130,1,636,0)
INTRA-OPERATIVE X-RAY
"BLD",8961,4,130,2,130,1,637,0)
INTRA-OPERATIVE X-RAY COMMENTS
"BLD",8961,4,130,2,130,1,638,0)
LATERALITY OF PROCEDURE
"BLD",8961,4,130,2,130,1,639,0)
REPORT GIVEN TO
"BLD",8961,4,130,2,130,1,640,0)
PCI
"BLD",8961,4,130,2,130,1,641,0)
HYPERTENSION
"BLD",8961,4,130,2,130,1,642,0)
BLEEDING RISK DUE TO MED
"BLD",8961,4,130,2,130,1,643,0)
ANGINA TIMEFRAME
"BLD",8961,4,130,2,130,1,644,0)
SYMPTOMATIC UTI OCCURRENCES
"BLD",8961,4,130,2,130,1,645,0)
MECHANICAL VENT W/N 30 DAYS
"BLD",8961,4,130,2,130.01,0)
PROSTHESIS INSTALLED  (sub-file)
"BLD",8961,4,130,2,130.01,1,0)
^9.6411^13^1
"BLD",8961,4,130,2,130.01,1,13,0)
PROVIDER READ BACK PERFORMED
"BLD",8961,4,130,2,130.06,0)
ANESTHESIA TECHNIQUE  (sub-file)
"BLD",8961,4,130,2,130.06,1,0)
^9.6411^.01^1
"BLD",8961,4,130,2,130.06,1,.01,0)
ANESTHESIA TECHNIQUE
"BLD",8961,4,130,2,130.13,0)
INTRAOPERATIVE OCCURRENCES  (sub-file)
"BLD",8961,4,130,2,130.13,1,0)
^9.6411^5^1
"BLD",8961,4,130,2,130.13,1,5,0)
INTRAOP DEVICE TYPE
"BLD",8961,4,130,2,130.22,0)
POSTOP OCCURRENCE  (sub-file)
"BLD",8961,4,130,2,130.22,1,0)
^9.6411^8^8
"BLD",8961,4,130,2,130.22,1,7,0)
SEPSIS CATEGORY
"BLD",8961,4,130,2,130.22,1,8,0)
CPB STATUS
"BLD",8961,4,130,2,130.22,1,10,0)
INDWELLING URETHRAL CATHETER
"BLD",8961,4,130,2,130.22,1,11,0)
URGENCY/FREQ/DYSURIA
"BLD",8961,4,130,2,130.22,1,12,0)
UTI SIGNS/SYMPTOMS FEVER
"BLD",8961,4,130,2,130.22,1,13,0)
UTI SIGNS/SYMPTOMS TENDERNESS
"BLD",8961,4,130,2,130.22,1,14,0)
UTI CULTURE
"BLD",8961,4,130,2,130.22,1,15,0)
POSTOP DEVICE TYPE
"BLD",8961,4,130,222)
y^y^p^^^^n^^n
"BLD",8961,4,130,224)

"BLD",8961,4,136.5,0)
136.5
"BLD",8961,4,136.5,222)
y^y^f^^^^y
"BLD",8961,4,"APDD",130,130)

"BLD",8961,4,"APDD",130,130,.011)

"BLD",8961,4,"APDD",130,130,.02)

"BLD",8961,4,"APDD",130,130,.14)

"BLD",8961,4,"APDD",130,130,.164)

"BLD",8961,4,"APDD",130,130,.166)

"BLD",8961,4,"APDD",130,130,.43)

"BLD",8961,4,"APDD",130,130,.46)

"BLD",8961,4,"APDD",130,130,.69)

"BLD",8961,4,"APDD",130,130,17.5)

"BLD",8961,4,"APDD",130,130,18)

"BLD",8961,4,"APDD",130,130,41)

"BLD",8961,4,"APDD",130,130,44)

"BLD",8961,4,"APDD",130,130,45)

"BLD",8961,4,"APDD",130,130,46)

"BLD",8961,4,"APDD",130,130,74)

"BLD",8961,4,"APDD",130,130,102)

"BLD",8961,4,"APDD",130,130,205)

"BLD",8961,4,"APDD",130,130,207)

"BLD",8961,4,"APDD",130,130,208)

"BLD",8961,4,"APDD",130,130,216)

"BLD",8961,4,"APDD",130,130,218.1)

"BLD",8961,4,"APDD",130,130,220)

"BLD",8961,4,"APDD",130,130,237.1)

"BLD",8961,4,"APDD",130,130,258)

"BLD",8961,4,"APDD",130,130,263)

"BLD",8961,4,"APDD",130,130,265)

"BLD",8961,4,"APDD",130,130,266)

"BLD",8961,4,"APDD",130,130,267)

"BLD",8961,4,"APDD",130,130,329)

"BLD",8961,4,"APDD",130,130,340)

"BLD",8961,4,"APDD",130,130,351)

"BLD",8961,4,"APDD",130,130,365)

"BLD",8961,4,"APDD",130,130,366)

"BLD",8961,4,"APDD",130,130,367)

"BLD",8961,4,"APDD",130,130,368)

"BLD",8961,4,"APDD",130,130,369)

"BLD",8961,4,"APDD",130,130,371)

"BLD",8961,4,"APDD",130,130,372)

"BLD",8961,4,"APDD",130,130,373)

"BLD",8961,4,"APDD",130,130,376)

"BLD",8961,4,"APDD",130,130,377)

"BLD",8961,4,"APDD",130,130,378)

"BLD",8961,4,"APDD",130,130,379)

"BLD",8961,4,"APDD",130,130,380)

"BLD",8961,4,"APDD",130,130,381)

"BLD",8961,4,"APDD",130,130,382)

"BLD",8961,4,"APDD",130,130,394)

"BLD",8961,4,"APDD",130,130,395)

"BLD",8961,4,"APDD",130,130,396)

"BLD",8961,4,"APDD",130,130,404)

"BLD",8961,4,"APDD",130,130,416)

"BLD",8961,4,"APDD",130,130,431)

"BLD",8961,4,"APDD",130,130,463)

"BLD",8961,4,"APDD",130,130,464)

"BLD",8961,4,"APDD",130,130,465)

"BLD",8961,4,"APDD",130,130,467)

"BLD",8961,4,"APDD",130,130,469)

"BLD",8961,4,"APDD",130,130,472)

"BLD",8961,4,"APDD",130,130,481)

"BLD",8961,4,"APDD",130,130,483)

"BLD",8961,4,"APDD",130,130,484)

"BLD",8961,4,"APDD",130,130,485)

"BLD",8961,4,"APDD",130,130,490)

"BLD",8961,4,"APDD",130,130,493)

"BLD",8961,4,"APDD",130,130,502)

"BLD",8961,4,"APDD",130,130,505)

"BLD",8961,4,"APDD",130,130,512)

"BLD",8961,4,"APDD",130,130,603)

"BLD",8961,4,"APDD",130,130,605)

"BLD",8961,4,"APDD",130,130,606)

"BLD",8961,4,"APDD",130,130,607)

"BLD",8961,4,"APDD",130,130,608)

"BLD",8961,4,"APDD",130,130,609)

"BLD",8961,4,"APDD",130,130,610)

"BLD",8961,4,"APDD",130,130,611)

"BLD",8961,4,"APDD",130,130,618)

"BLD",8961,4,"APDD",130,130,619)

"BLD",8961,4,"APDD",130,130,620)

"BLD",8961,4,"APDD",130,130,621)

"BLD",8961,4,"APDD",130,130,622)

"BLD",8961,4,"APDD",130,130,623)

"BLD",8961,4,"APDD",130,130,624)

"BLD",8961,4,"APDD",130,130,630)

"BLD",8961,4,"APDD",130,130,633)

"BLD",8961,4,"APDD",130,130,635)

"BLD",8961,4,"APDD",130,130,636)

"BLD",8961,4,"APDD",130,130,637)

"BLD",8961,4,"APDD",130,130,638)

"BLD",8961,4,"APDD",130,130,639)

"BLD",8961,4,"APDD",130,130,640)

"BLD",8961,4,"APDD",130,130,641)

"BLD",8961,4,"APDD",130,130,642)

"BLD",8961,4,"APDD",130,130,643)

"BLD",8961,4,"APDD",130,130,644)

"BLD",8961,4,"APDD",130,130,645)

"BLD",8961,4,"APDD",130,130.01)

"BLD",8961,4,"APDD",130,130.01,13)

"BLD",8961,4,"APDD",130,130.06)

"BLD",8961,4,"APDD",130,130.06,.01)

"BLD",8961,4,"APDD",130,130.13)

"BLD",8961,4,"APDD",130,130.13,5)

"BLD",8961,4,"APDD",130,130.22)

"BLD",8961,4,"APDD",130,130.22,7)

"BLD",8961,4,"APDD",130,130.22,8)

"BLD",8961,4,"APDD",130,130.22,10)

"BLD",8961,4,"APDD",130,130.22,11)

"BLD",8961,4,"APDD",130,130.22,12)

"BLD",8961,4,"APDD",130,130.22,13)

"BLD",8961,4,"APDD",130,130.22,14)

"BLD",8961,4,"APDD",130,130.22,15)

"BLD",8961,4,"B",130,130)

"BLD",8961,4,"B",136.5,136.5)

"BLD",8961,6.3)
49
"BLD",8961,"INI")
PRE^SR182UTL
"BLD",8961,"INID")
^y^n
"BLD",8961,"INIT")
POST^SR182UTL
"BLD",8961,"KRN",0)
^9.67PA^779.2^20
"BLD",8961,"KRN",.4,0)
.4
"BLD",8961,"KRN",.401,0)
.401
"BLD",8961,"KRN",.402,0)
.402
"BLD",8961,"KRN",.402,"NM",0)
^9.68A^14^13
"BLD",8961,"KRN",.402,"NM",1,0)
SROMEN-VERF    FILE #130^130^0
"BLD",8961,"KRN",.402,"NM",2,0)
SRONRPT    FILE #130^130^0
"BLD",8961,"KRN",.402,"NM",3,0)
SROMEN-OUT    FILE #130^130^0
"BLD",8961,"KRN",.402,"NM",4,0)
SROMEN-OPER    FILE #130^130^0
"BLD",8961,"KRN",.402,"NM",5,0)
SROMEN-POST    FILE #130^130^0
"BLD",8961,"KRN",.402,"NM",6,0)
SRSRES-ENTRY    FILE #130^130^0
"BLD",8961,"KRN",.402,"NM",7,0)
SROMEN-START    FILE #130^130^0
"BLD",8961,"KRN",.402,"NM",8,0)
SRO-NOCOMP    FILE #130^130^0
"BLD",8961,"KRN",.402,"NM",9,0)
SRSREQV    FILE #130^130^0
"BLD",8961,"KRN",.402,"NM",10,0)
SRSRES1    FILE #130^130^0
"BLD",8961,"KRN",.402,"NM",12,0)
SRSCHED-UNREQUESTED    FILE #130^130^0
"BLD",8961,"KRN",.402,"NM",13,0)
SREQUEST    FILE #130^130^0
"BLD",8961,"KRN",.402,"NM",14,0)
SRSRES-SCHED    FILE #130^130^0
"BLD",8961,"KRN",.402,"NM","B","SREQUEST    FILE #130",13)

"BLD",8961,"KRN",.402,"NM","B","SRO-NOCOMP    FILE #130",8)

"BLD",8961,"KRN",.402,"NM","B","SROMEN-OPER    FILE #130",4)

"BLD",8961,"KRN",.402,"NM","B","SROMEN-OUT    FILE #130",3)

"BLD",8961,"KRN",.402,"NM","B","SROMEN-POST    FILE #130",5)

"BLD",8961,"KRN",.402,"NM","B","SROMEN-START    FILE #130",7)

"BLD",8961,"KRN",.402,"NM","B","SROMEN-VERF    FILE #130",1)

"BLD",8961,"KRN",.402,"NM","B","SRONRPT    FILE #130",2)

"BLD",8961,"KRN",.402,"NM","B","SRSCHED-UNREQUESTED    FILE #130",12)

"BLD",8961,"KRN",.402,"NM","B","SRSREQV    FILE #130",9)

"BLD",8961,"KRN",.402,"NM","B","SRSRES-ENTRY    FILE #130",6)

"BLD",8961,"KRN",.402,"NM","B","SRSRES-SCHED    FILE #130",14)

"BLD",8961,"KRN",.402,"NM","B","SRSRES1    FILE #130",10)

"BLD",8961,"KRN",.403,0)
.403
"BLD",8961,"KRN",.5,0)
.5
"BLD",8961,"KRN",.84,0)
.84
"BLD",8961,"KRN",3.6,0)
3.6
"BLD",8961,"KRN",3.8,0)
3.8
"BLD",8961,"KRN",9.2,0)
9.2
"BLD",8961,"KRN",9.8,0)
9.8
"BLD",8961,"KRN",9.8,"NM",0)
^9.68A^121^104
"BLD",8961,"KRN",9.8,"NM",1,0)
SROALSS^^0^B17750174
"BLD",8961,"KRN",9.8,"NM",2,0)
SROALST^^0^B14010437
"BLD",8961,"KRN",9.8,"NM",3,0)
SROAOUT^^0^B16228336
"BLD",8961,"KRN",9.8,"NM",6,0)
SROATMNO^^0^B39488872
"BLD",8961,"KRN",9.8,"NM",7,0)
SROCAN0^^0^B16716509
"BLD",8961,"KRN",9.8,"NM",8,0)
SROCMPED^^0^B55528552
"BLD",8961,"KRN",9.8,"NM",11,0)
SRONIN^^0^B95799961
"BLD",8961,"KRN",9.8,"NM",15,0)
SROQ30D^^0^B25801926
"BLD",8961,"KRN",9.8,"NM",16,0)
SROQN^^0^B30035176
"BLD",8961,"KRN",9.8,"NM",17,0)
SROUTC^^0^B22577677
"BLD",8961,"KRN",9.8,"NM",20,0)
SRTOVRF^^0^B14137837
"BLD",8961,"KRN",9.8,"NM",21,0)
SRO1L1^^0^B14307107
"BLD",8961,"KRN",9.8,"NM",22,0)
SROACL1^^0^B37257930
"BLD",8961,"KRN",9.8,"NM",23,0)
SROACL2^^0^B3657478
"BLD",8961,"KRN",9.8,"NM",24,0)
SROACLN^^0^B12972978
"BLD",8961,"KRN",9.8,"NM",25,0)
SROACOM^^0^B16269766
"BLD",8961,"KRN",9.8,"NM",26,0)
SROANT^^0^B11055443
"BLD",8961,"KRN",9.8,"NM",27,0)
SROANTP^^0^B11303131
"BLD",8961,"KRN",9.8,"NM",28,0)
SROANTSP^^0^B12558074
"BLD",8961,"KRN",9.8,"NM",29,0)
SROAOP1^^0^B11581317
"BLD",8961,"KRN",9.8,"NM",30,0)
SROAPCA^^0^B32334880
"BLD",8961,"KRN",9.8,"NM",31,0)
SROAPCA3^^0^B24717605
"BLD",8961,"KRN",9.8,"NM",32,0)
SROAPR1A^^0^B7825783
"BLD",8961,"KRN",9.8,"NM",33,0)
SROAPRE^^0^B16875105
"BLD",8961,"KRN",9.8,"NM",34,0)
SROAPRT1^^0^B22844323
"BLD",8961,"KRN",9.8,"NM",35,0)
SROAPS1^^0^B33013237
"BLD",8961,"KRN",9.8,"NM",36,0)
SROAT0P^^0^B15440516
"BLD",8961,"KRN",9.8,"NM",37,0)
SROAT0T^^0^B3977219
"BLD",8961,"KRN",9.8,"NM",38,0)
SROAT1P^^0^B18845998
"BLD",8961,"KRN",9.8,"NM",39,0)
SROAT1T^^0^B2789476
"BLD",8961,"KRN",9.8,"NM",40,0)
SROAT2P^^0^B19190792
"BLD",8961,"KRN",9.8,"NM",41,0)
SROAT2T^^0^B6368086
"BLD",8961,"KRN",9.8,"NM",43,0)
SROATM1^^0^B28438380
"BLD",8961,"KRN",9.8,"NM",44,0)
SROAUTL^^0^B45777532
"BLD",8961,"KRN",9.8,"NM",45,0)
SROAUTL1^^0^B19181745
"BLD",8961,"KRN",9.8,"NM",46,0)
SROAUTL2^^0^B36189372
"BLD",8961,"KRN",9.8,"NM",47,0)
SROCOMP^^0^B18220104
"BLD",8961,"KRN",9.8,"NM",48,0)
SRODIS^^0^B21470892
"BLD",8961,"KRN",9.8,"NM",49,0)
SROICU1^^0^B14117758
"BLD",8961,"KRN",9.8,"NM",50,0)
SROICU2^^0^B14207907
"BLD",8961,"KRN",9.8,"NM",51,0)
SROINQ^^0^B17869501
"BLD",8961,"KRN",9.8,"NM",52,0)
SRONP2^^0^B18164568
"BLD",8961,"KRN",9.8,"NM",53,0)
SROPCE0^^0^B29333385
"BLD",8961,"KRN",9.8,"NM",54,0)
SROPLIS^^0^B5089083
"BLD",8961,"KRN",9.8,"NM",55,0)
SROPLSTS^^0^B21404517
"BLD",8961,"KRN",9.8,"NM",56,0)
SROPRIO^^0^B20328508
"BLD",8961,"KRN",9.8,"NM",58,0)
SROSPC1^^0^B12578693
"BLD",8961,"KRN",9.8,"NM",59,0)
SROSPSS^^0^B16320500
"BLD",8961,"KRN",9.8,"NM",60,0)
SRONRPT^^0^B27706165
"BLD",8961,"KRN",9.8,"NM",61,0)
SRONRPT0^^0^B69675932
"BLD",8961,"KRN",9.8,"NM",62,0)
SRONRPT1^^0^B28505102
"BLD",8961,"KRN",9.8,"NM",63,0)
SRONRPT2^^0^B25607346
"BLD",8961,"KRN",9.8,"NM",64,0)
SRONRPT3^^0^B27091661
"BLD",8961,"KRN",9.8,"NM",69,0)
SROACOP^^0^B23252358
"BLD",8961,"KRN",9.8,"NM",70,0)
SROACPM^^0^B52631911
"BLD",8961,"KRN",9.8,"NM",71,0)
SROATCM^^0^B27083969
"BLD",8961,"KRN",9.8,"NM",72,0)
SROATCM1^^0^B63097180
"BLD",8961,"KRN",9.8,"NM",73,0)
SROATCM3^^0^B13215032
"BLD",8961,"KRN",9.8,"NM",74,0)
SRSRQST^^0^B33623825
"BLD",8961,"KRN",9.8,"NM",75,0)
SROACAR^^0^B1319854
"BLD",8961,"KRN",9.8,"NM",77,0)
SROACR2^^0^B14624720
"BLD",8961,"KRN",9.8,"NM",78,0)
SROAPCA2^^0^B2234169
"BLD",8961,"KRN",9.8,"NM",79,0)
SROAPRE2^^0^B9447593
"BLD",8961,"KRN",9.8,"NM",80,0)
SROAPRT2^^0^B12414779
"BLD",8961,"KRN",9.8,"NM",81,0)
SROAPRT7^^0^B30812579
"BLD",8961,"KRN",9.8,"NM",82,0)
SROAPS2^^0^B18823799
"BLD",8961,"KRN",9.8,"NM",83,0)
SROAUTL0^^0^B23046095
"BLD",8961,"KRN",9.8,"NM",84,0)
SROAUTL4^^0^B39340588
"BLD",8961,"KRN",9.8,"NM",85,0)
SROAUTLC^^0^B26739810
"BLD",8961,"KRN",9.8,"NM",86,0)
SROCCAT^^0^B16850257
"BLD",8961,"KRN",9.8,"NM",87,0)
SROAPAS^^0^B28675186
"BLD",8961,"KRN",9.8,"NM",88,0)
SROAPM^^0^B45069143
"BLD",8961,"KRN",9.8,"NM",89,0)
SROAPRE1^^0^B13656190
"BLD",8961,"KRN",9.8,"NM",90,0)
SRODIS0^^0^B20896752
"BLD",8961,"KRN",9.8,"NM",91,0)
SRONOR2^^0^B18165133
"BLD",8961,"KRN",9.8,"NM",92,0)
SRONOR3^^0^B17640494
"BLD",8961,"KRN",9.8,"NM",93,0)
SRONOR4^^0^B17758963
"BLD",8961,"KRN",9.8,"NM",94,0)
SRONOR5^^0^B17460768
"BLD",8961,"KRN",9.8,"NM",95,0)
SRONOR8^^0^B17802246
"BLD",8961,"KRN",9.8,"NM",96,0)
SROQD0^^0^B26805426
"BLD",8961,"KRN",9.8,"NM",97,0)
SROQD1^^0^B12980776
"BLD",8961,"KRN",9.8,"NM",98,0)
SROUTL^^0^B43734592
"BLD",8961,"KRN",9.8,"NM",99,0)
SROQIDP^^0^B20134755
"BLD",8961,"KRN",9.8,"NM",100,0)
SR182UT0^^0^B21717763
"BLD",8961,"KRN",9.8,"NM",101,0)
SR182UT1^^0^B87205437
"BLD",8961,"KRN",9.8,"NM",102,0)
SR182UT2^^0^B78556217
"BLD",8961,"KRN",9.8,"NM",103,0)
SR182UT3^^0^B62396955
"BLD",8961,"KRN",9.8,"NM",104,0)
SRSUPC^^0^B7886388
"BLD",8961,"KRN",9.8,"NM",105,0)
SROANEW^^0^B18923841
"BLD",8961,"KRN",9.8,"NM",106,0)
SROATM2^^0^B37344320
"BLD",8961,"KRN",9.8,"NM",107,0)
SRSCAN0^^0^B16717618
"BLD",8961,"KRN",9.8,"NM",108,0)
SRORATP^^0^B8280041
"BLD",8961,"KRN",9.8,"NM",109,0)
SRORATA^^0^B6605886
"BLD",8961,"KRN",9.8,"NM",110,0)
SRORAT1^^0^B15602768
"BLD",8961,"KRN",9.8,"NM",112,0)
SROESNR0^^0^B41856155
"BLD",8961,"KRN",9.8,"NM",113,0)
SROESNR1^^0^B42035755
"BLD",8961,"KRN",9.8,"NM",114,0)
SRSCHUN^^0^B32397035
"BLD",8961,"KRN",9.8,"NM",115,0)
SRONEW^^0^B36104631
"BLD",8961,"KRN",9.8,"NM",116,0)
SROFILE^^0^B15335951
"BLD",8961,"KRN",9.8,"NM",117,0)
SROMENU^^0^B25521719
"BLD",8961,"KRN",9.8,"NM",118,0)
SRSCHC2^^1^
"BLD",8961,"KRN",9.8,"NM",119,0)
SROAPIMS^^0^B27575340
"BLD",8961,"KRN",9.8,"NM",120,0)
SROSCH^^0^B16320304
"BLD",8961,"KRN",9.8,"NM",121,0)
SROSCH1^^0^B16435656
"BLD",8961,"KRN",9.8,"NM","B","SR182UT0",100)

"BLD",8961,"KRN",9.8,"NM","B","SR182UT1",101)

"BLD",8961,"KRN",9.8,"NM","B","SR182UT2",102)

"BLD",8961,"KRN",9.8,"NM","B","SR182UT3",103)

"BLD",8961,"KRN",9.8,"NM","B","SRO1L1",21)

"BLD",8961,"KRN",9.8,"NM","B","SROACAR",75)

"BLD",8961,"KRN",9.8,"NM","B","SROACL1",22)

"BLD",8961,"KRN",9.8,"NM","B","SROACL2",23)

"BLD",8961,"KRN",9.8,"NM","B","SROACLN",24)

"BLD",8961,"KRN",9.8,"NM","B","SROACOM",25)

"BLD",8961,"KRN",9.8,"NM","B","SROACOP",69)

"BLD",8961,"KRN",9.8,"NM","B","SROACPM",70)

"BLD",8961,"KRN",9.8,"NM","B","SROACR2",77)

"BLD",8961,"KRN",9.8,"NM","B","SROALSS",1)

"BLD",8961,"KRN",9.8,"NM","B","SROALST",2)

"BLD",8961,"KRN",9.8,"NM","B","SROANEW",105)

"BLD",8961,"KRN",9.8,"NM","B","SROANT",26)

"BLD",8961,"KRN",9.8,"NM","B","SROANTP",27)

"BLD",8961,"KRN",9.8,"NM","B","SROANTSP",28)

"BLD",8961,"KRN",9.8,"NM","B","SROAOP1",29)

"BLD",8961,"KRN",9.8,"NM","B","SROAOUT",3)

"BLD",8961,"KRN",9.8,"NM","B","SROAPAS",87)

"BLD",8961,"KRN",9.8,"NM","B","SROAPCA",30)

"BLD",8961,"KRN",9.8,"NM","B","SROAPCA2",78)

"BLD",8961,"KRN",9.8,"NM","B","SROAPCA3",31)

"BLD",8961,"KRN",9.8,"NM","B","SROAPIMS",119)

"BLD",8961,"KRN",9.8,"NM","B","SROAPM",88)

"BLD",8961,"KRN",9.8,"NM","B","SROAPR1A",32)

"BLD",8961,"KRN",9.8,"NM","B","SROAPRE",33)

"BLD",8961,"KRN",9.8,"NM","B","SROAPRE1",89)

"BLD",8961,"KRN",9.8,"NM","B","SROAPRE2",79)

"BLD",8961,"KRN",9.8,"NM","B","SROAPRT1",34)

"BLD",8961,"KRN",9.8,"NM","B","SROAPRT2",80)

"BLD",8961,"KRN",9.8,"NM","B","SROAPRT7",81)

"BLD",8961,"KRN",9.8,"NM","B","SROAPS1",35)

"BLD",8961,"KRN",9.8,"NM","B","SROAPS2",82)

"BLD",8961,"KRN",9.8,"NM","B","SROAT0P",36)

"BLD",8961,"KRN",9.8,"NM","B","SROAT0T",37)

"BLD",8961,"KRN",9.8,"NM","B","SROAT1P",38)

"BLD",8961,"KRN",9.8,"NM","B","SROAT1T",39)

"BLD",8961,"KRN",9.8,"NM","B","SROAT2P",40)

"BLD",8961,"KRN",9.8,"NM","B","SROAT2T",41)

"BLD",8961,"KRN",9.8,"NM","B","SROATCM",71)

"BLD",8961,"KRN",9.8,"NM","B","SROATCM1",72)

"BLD",8961,"KRN",9.8,"NM","B","SROATCM3",73)

"BLD",8961,"KRN",9.8,"NM","B","SROATM1",43)

"BLD",8961,"KRN",9.8,"NM","B","SROATM2",106)

"BLD",8961,"KRN",9.8,"NM","B","SROATMNO",6)

"BLD",8961,"KRN",9.8,"NM","B","SROAUTL",44)

"BLD",8961,"KRN",9.8,"NM","B","SROAUTL0",83)

"BLD",8961,"KRN",9.8,"NM","B","SROAUTL1",45)

"BLD",8961,"KRN",9.8,"NM","B","SROAUTL2",46)

"BLD",8961,"KRN",9.8,"NM","B","SROAUTL4",84)

"BLD",8961,"KRN",9.8,"NM","B","SROAUTLC",85)

"BLD",8961,"KRN",9.8,"NM","B","SROCAN0",7)

"BLD",8961,"KRN",9.8,"NM","B","SROCCAT",86)

"BLD",8961,"KRN",9.8,"NM","B","SROCMPED",8)

"BLD",8961,"KRN",9.8,"NM","B","SROCOMP",47)

"BLD",8961,"KRN",9.8,"NM","B","SRODIS",48)

"BLD",8961,"KRN",9.8,"NM","B","SRODIS0",90)

"BLD",8961,"KRN",9.8,"NM","B","SROESNR0",112)

"BLD",8961,"KRN",9.8,"NM","B","SROESNR1",113)

"BLD",8961,"KRN",9.8,"NM","B","SROFILE",116)

"BLD",8961,"KRN",9.8,"NM","B","SROICU1",49)

"BLD",8961,"KRN",9.8,"NM","B","SROICU2",50)

"BLD",8961,"KRN",9.8,"NM","B","SROINQ",51)

"BLD",8961,"KRN",9.8,"NM","B","SROMENU",117)

"BLD",8961,"KRN",9.8,"NM","B","SRONEW",115)

"BLD",8961,"KRN",9.8,"NM","B","SRONIN",11)

"BLD",8961,"KRN",9.8,"NM","B","SRONOR2",91)

"BLD",8961,"KRN",9.8,"NM","B","SRONOR3",92)

"BLD",8961,"KRN",9.8,"NM","B","SRONOR4",93)

"BLD",8961,"KRN",9.8,"NM","B","SRONOR5",94)

"BLD",8961,"KRN",9.8,"NM","B","SRONOR8",95)

"BLD",8961,"KRN",9.8,"NM","B","SRONP2",52)

"BLD",8961,"KRN",9.8,"NM","B","SRONRPT",60)

"BLD",8961,"KRN",9.8,"NM","B","SRONRPT0",61)

"BLD",8961,"KRN",9.8,"NM","B","SRONRPT1",62)

"BLD",8961,"KRN",9.8,"NM","B","SRONRPT2",63)

"BLD",8961,"KRN",9.8,"NM","B","SRONRPT3",64)

"BLD",8961,"KRN",9.8,"NM","B","SROPCE0",53)

"BLD",8961,"KRN",9.8,"NM","B","SROPLIS",54)

"BLD",8961,"KRN",9.8,"NM","B","SROPLSTS",55)

"BLD",8961,"KRN",9.8,"NM","B","SROPRIO",56)

"BLD",8961,"KRN",9.8,"NM","B","SROQ30D",15)

"BLD",8961,"KRN",9.8,"NM","B","SROQD0",96)

"BLD",8961,"KRN",9.8,"NM","B","SROQD1",97)

"BLD",8961,"KRN",9.8,"NM","B","SROQIDP",99)

"BLD",8961,"KRN",9.8,"NM","B","SROQN",16)

"BLD",8961,"KRN",9.8,"NM","B","SRORAT1",110)

"BLD",8961,"KRN",9.8,"NM","B","SRORATA",109)

"BLD",8961,"KRN",9.8,"NM","B","SRORATP",108)

"BLD",8961,"KRN",9.8,"NM","B","SROSCH",120)

"BLD",8961,"KRN",9.8,"NM","B","SROSCH1",121)

"BLD",8961,"KRN",9.8,"NM","B","SROSPC1",58)

"BLD",8961,"KRN",9.8,"NM","B","SROSPSS",59)

"BLD",8961,"KRN",9.8,"NM","B","SROUTC",17)

"BLD",8961,"KRN",9.8,"NM","B","SROUTL",98)

"BLD",8961,"KRN",9.8,"NM","B","SRSCAN0",107)

"BLD",8961,"KRN",9.8,"NM","B","SRSCHC2",118)

"BLD",8961,"KRN",9.8,"NM","B","SRSCHUN",114)

"BLD",8961,"KRN",9.8,"NM","B","SRSRQST",74)

"BLD",8961,"KRN",9.8,"NM","B","SRSUPC",104)

"BLD",8961,"KRN",9.8,"NM","B","SRTOVRF",20)

"BLD",8961,"KRN",19,0)
19
"BLD",8961,"KRN",19.1,0)
19.1
"BLD",8961,"KRN",101,0)
101
"BLD",8961,"KRN",409.61,0)
409.61
"BLD",8961,"KRN",771,0)
771
"BLD",8961,"KRN",779.2,0)
779.2
"BLD",8961,"KRN",870,0)
870
"BLD",8961,"KRN",8989.51,0)
8989.51
"BLD",8961,"KRN",8989.52,0)
8989.52
"BLD",8961,"KRN",8994,0)
8994
"BLD",8961,"KRN","B",.4,.4)

"BLD",8961,"KRN","B",.401,.401)

"BLD",8961,"KRN","B",.402,.402)

"BLD",8961,"KRN","B",.403,.403)

"BLD",8961,"KRN","B",.5,.5)

"BLD",8961,"KRN","B",.84,.84)

"BLD",8961,"KRN","B",3.6,3.6)

"BLD",8961,"KRN","B",3.8,3.8)

"BLD",8961,"KRN","B",9.2,9.2)

"BLD",8961,"KRN","B",9.8,9.8)

"BLD",8961,"KRN","B",19,19)

"BLD",8961,"KRN","B",19.1,19.1)

"BLD",8961,"KRN","B",101,101)

"BLD",8961,"KRN","B",409.61,409.61)

"BLD",8961,"KRN","B",771,771)

"BLD",8961,"KRN","B",779.2,779.2)

"BLD",8961,"KRN","B",870,870)

"BLD",8961,"KRN","B",8989.51,8989.51)

"BLD",8961,"KRN","B",8989.52,8989.52)

"BLD",8961,"KRN","B",8994,8994)

"BLD",8961,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",8961,"QUES",0)
^9.62^^
"BLD",8961,"REQB",0)
^9.611^3^2
"BLD",8961,"REQB",2,0)
SR*3.0*106^1
"BLD",8961,"REQB",3,0)
SR*3.0*177^1
"BLD",8961,"REQB","B","SR*3.0*106",2)

"BLD",8961,"REQB","B","SR*3.0*177",3)

"DATA",136.5,1,0)
SUPERFICIAL INCISIONAL SSI
"DATA",136.5,1,1,0)
^^22^22^3040318^
"DATA",136.5,1,1,1,0)
Definition Revised (2004):
"DATA",136.5,1,1,2,0)
Superficial incisional SSI is an infection that occurs within 30 days 
"DATA",136.5,1,1,3,0)
after the operation and infection involves only skin or subcutaneous 
"DATA",136.5,1,1,4,0)
tissue of the incision and at least one of the following:
"DATA",136.5,1,1,5,0)
 
"DATA",136.5,1,1,6,0)
 - Purulent drainage, with or without laboratory confirmation, from the
"DATA",136.5,1,1,7,0)
   superficial incision.
"DATA",136.5,1,1,8,0)
 - Organisms isolated from an aseptically obtained culture of fluid or
"DATA",136.5,1,1,9,0)
   tissue from the superficial incision. 
"DATA",136.5,1,1,10,0)
 - At least one of the following signs or symptoms of infection: pain
"DATA",136.5,1,1,11,0)
   or tenderness, localized swelling, redness, or heat and superficial
"DATA",136.5,1,1,12,0)
   incision is deliberately opened by the surgeon, unless incision is
"DATA",136.5,1,1,13,0)
   culture-negative.  
"DATA",136.5,1,1,14,0)
 - Diagnosis of superficial incisional SSI by the surgeon or attending
"DATA",136.5,1,1,15,0)
   physician.  
"DATA",136.5,1,1,16,0)
 
"DATA",136.5,1,1,17,0)
Do not report the following conditions as SSI:
"DATA",136.5,1,1,18,0)
 - Stitch abscess (minimal inflammation and discharge confined to the
"DATA",136.5,1,1,19,0)
   points of suture penetration).
"DATA",136.5,1,1,20,0)
 - Infected burn wound.
"DATA",136.5,1,1,21,0)
 - Incisional SSI that extends into the fascial and muscle layers (see
"DATA",136.5,1,1,22,0)
   deep incisional SSI).
"DATA",136.5,2,0)
DEEP INCISIONAL SSI
"DATA",136.5,2,1,0)
^^23^23^3040318^
"DATA",136.5,2,1,1,0)
Definition Revised (2004):
"DATA",136.5,2,1,2,0)
Deep Incision SSI is an infection that occurs within 30 days after the 
"DATA",136.5,2,1,3,0)
operation and the infection appears to be related to the operation and 
"DATA",136.5,2,1,4,0)
infection involved deep soft tissues (e.g., fascial and muscle layers) 
"DATA",136.5,2,1,5,0)
of the incision and at least one of the following: 
"DATA",136.5,2,1,6,0)
 
"DATA",136.5,2,1,7,0)
 - Purulent drainage from the deep incision but not from the 
"DATA",136.5,2,1,8,0)
   organ/space component of the surgical site.
"DATA",136.5,2,1,9,0)
 - A deep incision spontaneously dehisces or is deliberately opened by
"DATA",136.5,2,1,10,0)
   a surgeon when the patient has at least one of the following signs
"DATA",136.5,2,1,11,0)
   or symptoms: fever (>38 C), localized pain, or tenderness, unless
"DATA",136.5,2,1,12,0)
   site is culture-negative.
"DATA",136.5,2,1,13,0)
 - An abscess or other evidence of infection involving the deep 
"DATA",136.5,2,1,14,0)
   incision is found on direct examination, during reoperation, or by 
"DATA",136.5,2,1,15,0)
   histopathologic or radiologic examination.
"DATA",136.5,2,1,16,0)
 - Diagnosis of a deep incision SSI by a surgeon or attending 
"DATA",136.5,2,1,17,0)
   physician. 
"DATA",136.5,2,1,18,0)
 
"DATA",136.5,2,1,19,0)
Note:  
"DATA",136.5,2,1,20,0)
 - Report infection that involves both superficial and deep incision
"DATA",136.5,2,1,21,0)
   sites as deep incisional SSI.
"DATA",136.5,2,1,22,0)
 - Report an organ/space SSI that drains through the incision as a deep
"DATA",136.5,2,1,23,0)
   incisional SSI.
"DATA",136.5,3,0)
SYSTEMIC SEPSIS
"DATA",136.5,3,1,0)
^^54^54^3140423^
"DATA",136.5,3,1,1,0)
Definition Revised (2014):
"DATA",136.5,3,1,2,0)
Sepsis is a vast clinical entity that takes a variety of forms. The 
"DATA",136.5,3,1,3,0)
spectrum of disorders spans from relatively mild physiologic 
"DATA",136.5,3,1,4,0)
abnormalities to septic shock. Please report the most significant level
"DATA",136.5,3,1,5,0)
using the criteria below:
"DATA",136.5,3,1,6,0)
 
"DATA",136.5,3,1,7,0)
o Sepsis is the systemic response to infection.
"DATA",136.5,3,1,8,0)
   Answer YES if both of the following criteria are met:
"DATA",136.5,3,1,9,0)
   Clinical documentation of infection (such as  wound with purulent 
"DATA",136.5,3,1,10,0)
   drainage, ruptured bowel with free air, etc.); a positive culture 
"DATA",136.5,3,1,11,0)
   from any site thought to be causative; or specialized laboratory
"DATA",136.5,3,1,12,0)
   evidence of causative infection (such as viral DNA in blood).
"DATA",136.5,3,1,13,0)
   AND
"DATA",136.5,3,1,14,0)
   the presence of two or more of the following systemic responses:
"DATA",136.5,3,1,15,0)
   Temperature > 38 degrees C or < 36 degrees C
"DATA",136.5,3,1,16,0)
   HR > 90 beats/minute
"DATA",136.5,3,1,17,0)
   RR > 20 breaths /minute or PaCO2 < 32 mmHg 
"DATA",136.5,3,1,18,0)
   WBC > 12,000 cell/mm3, < 4,000cells/mm3, or > 10% immature 
"DATA",136.5,3,1,19,0)
   neutrophils ("bands")
"DATA",136.5,3,1,20,0)
 
"DATA",136.5,3,1,21,0)
o Severe Sepsis/Septic Shock:  Sepsis is considered severe when it 
"DATA",136.5,3,1,22,0)
  is associated with organ and/or circulatory dysfunction.  
"DATA",136.5,3,1,23,0)
  Terminology such as Severe Sepsis/Septic Shock/Refractory Septic 
"DATA",136.5,3,1,24,0)
  Shock/Refractory Septic Shock and Multiple Organ Dysfunction 
"DATA",136.5,3,1,25,0)
  Syndrome (MODS) all fall into this category.
"DATA",136.5,3,1,26,0)
 
"DATA",136.5,3,1,27,0)
  Answer YES if the definition of SEPSIS is present AND there is
"DATA",136.5,3,1,28,0)
  documented organ and/or circulatory dysfunction defined by one or more
"DATA",136.5,3,1,29,0)
  of the following:
"DATA",136.5,3,1,30,0)
  - Areas of acutely mottled skin not related to peripheral vascular 
"DATA",136.5,3,1,31,0)
    disease
"DATA",136.5,3,1,32,0)
  - Capillary refilling requires three seconds or longer not
"DATA",136.5,3,1,33,0)
    related to peripheral vascular disease
"DATA",136.5,3,1,34,0)
  - Urine output <0.5 mL/kg for at least one hour, or renal 
"DATA",136.5,3,1,35,0)
    replacement therapy
"DATA",136.5,3,1,36,0)
  - Lactate >2 mmol/L 
"DATA",136.5,3,1,37,0)
  - Abrupt change in mental status
"DATA",136.5,3,1,38,0)
  - Abnormal EEG findings
"DATA",136.5,3,1,39,0)
  - Platelet count < 100,000 platelets/mL
"DATA",136.5,3,1,40,0)
  - Disseminated intravascular coagulation (DIC)
"DATA",136.5,3,1,41,0)
  - Acute lung injury or acute respiratory distress syndrome (ARDS)
"DATA",136.5,3,1,42,0)
  - New cardiac dysfunction as defined by ECHO or direct measurement 
"DATA",136.5,3,1,43,0)
    of the cardiac index
"DATA",136.5,3,1,44,0)
  - An arterial systolic blood pressure (SBP) of =90 mm Hg or a mean 
"DATA",136.5,3,1,45,0)
    arterial pressure (MAP) =70 mm Hg for at least 1 hour despite 
"DATA",136.5,3,1,46,0)
    adequate fluid resuscitation, adequate intravascular volume status,
"DATA",136.5,3,1,47,0)
    or the need for vasopressors to maintain SBP >=90 mm Hg or 
"DATA",136.5,3,1,48,0)
    MAP >=70 mm Hg.
"DATA",136.5,3,1,49,0)
 
"DATA",136.5,3,1,50,0)
  For the patient that had sepsis preoperatively, continuation of 
"DATA",136.5,3,1,51,0)
  the preoperatively identified signs postoperatively would not be
"DATA",136.5,3,1,52,0)
  reported as a new postoperative sepsis.  Worsening of the preope-
"DATA",136.5,3,1,53,0)
  ratively identified signs would be reported as a new postoperative
"DATA",136.5,3,1,54,0)
  sepsis.
"DATA",136.5,4,0)
PNEUMONIA
"DATA",136.5,4,1,0)
^^42^42^3070214^
"DATA",136.5,4,1,1,0)
Definition Revised (2007):
"DATA",136.5,4,1,2,0)
Inflammation of the lungs caused primarily by bacteria, viruses, and/or
"DATA",136.5,4,1,3,0)
chemical irritants, usually manifested by chills, fever, pain in the
"DATA",136.5,4,1,4,0)
chest, cough, purulent, bloody sputum. Report as an occurrence if the
"DATA",136.5,4,1,5,0)
patient has pneumonia meeting the definition of pneumonia below AND
"DATA",136.5,4,1,6,0)
pneumonia not present preoperatively.
"DATA",136.5,4,1,7,0)
 
"DATA",136.5,4,1,8,0)
Pneumonia must meet one of the following TWO criteria:
"DATA",136.5,4,1,9,0)
Criterion 1.
"DATA",136.5,4,1,10,0)
  Rales or dullness to percussion on physical examination of chest AND
"DATA",136.5,4,1,11,0)
  any of the following:
"DATA",136.5,4,1,12,0)
  a. New onset of purulent sputum or change in character of sputum
"DATA",136.5,4,1,13,0)
  b. Organism isolate from blood culture
"DATA",136.5,4,1,14,0)
  c. Isolation of pathogen from specimen obtained by transtracheal
"DATA",136.5,4,1,15,0)
     aspirate, bronchial brushing, or biopsy
"DATA",136.5,4,1,16,0)
 
"DATA",136.5,4,1,17,0)
 OR
"DATA",136.5,4,1,18,0)
 
"DATA",136.5,4,1,19,0)
Criterion 2.
"DATA",136.5,4,1,20,0)
  Chest radiographic examination shows new or progressive infiltrate, 
"DATA",136.5,4,1,21,0)
  consolidation, cavitation, or pleural effusion AND any of the 
"DATA",136.5,4,1,22,0)
  following:
"DATA",136.5,4,1,23,0)
  a. New onset of purulent sputum or change in character of sputum
"DATA",136.5,4,1,24,0)
  b. Organism isolated from blood culture
"DATA",136.5,4,1,25,0)
  c. Isolation of pathogen from specimen obtained by transtracheal    
"DATA",136.5,4,1,26,0)
     aspirate, bronchial brushing, or biopsy
"DATA",136.5,4,1,27,0)
  d. Isolation of virus or detection of viral antigen in respiratory
"DATA",136.5,4,1,28,0)
     secretions
"DATA",136.5,4,1,29,0)
  e. Diagnostic single antibody titer (IgM) or fourfold increase in
"DATA",136.5,4,1,30,0)
     paired serum samples (IgG) for pathogen
"DATA",136.5,4,1,31,0)
  f. Histopathologic evidence of pneumonia
"DATA",136.5,4,1,32,0)
 
"DATA",136.5,4,1,33,0)
*If pneumonia was present preoperatively and resolved postoperatively 
"DATA",136.5,4,1,34,0)
and a new pneumonia is identified within 30 days after surgery, the
"DATA",136.5,4,1,35,0)
following criteria must be met in order to report as a postoperative
"DATA",136.5,4,1,36,0)
pneumonia occurrence:
"DATA",136.5,4,1,37,0)
   - Patient must have completed the antibiotic course for the 
"DATA",136.5,4,1,38,0)
     previous pneumonia.
"DATA",136.5,4,1,39,0)
   - Patient must have evidence of a clear chest x-ray after the 
"DATA",136.5,4,1,40,0)
     previous pneumonia and prior to the new pneumonia.
"DATA",136.5,4,1,41,0)
   - There must be evidence of a new isolate of micro-organism on 
"DATA",136.5,4,1,42,0)
     culture.
"DATA",136.5,5,0)
PULMONARY EMBOLISM
"DATA",136.5,5,1,0)
^^12^12^3070305^
"DATA",136.5,5,1,1,0)
Definition Revised (2007):
"DATA",136.5,5,1,2,0)
Lodging of a blood clot in a pulmonary artery with subsequent 
"DATA",136.5,5,1,3,0)
obstruction of blood supply to the lung parenchyma. The blood clots 
"DATA",136.5,5,1,4,0)
usually originate from the deep leg veins or the pelvic venous system.
"DATA",136.5,5,1,5,0)
Enter "YES" if the patient has a V-Q scan interpreted as high 
"DATA",136.5,5,1,6,0)
probability of pulmonary embolism or a positive pulmonary arteriogram 
"DATA",136.5,5,1,7,0)
or positive CT angiogram or positive Spiral CT exam. Treatment usually
"DATA",136.5,5,1,8,0)
consists of:
"DATA",136.5,5,1,9,0)
 - Initiation of anticoagulation therapy
"DATA",136.5,5,1,10,0)
 - Placement of mechanical interruption (e.g. Greenfield Filter), for
"DATA",136.5,5,1,11,0)
   patients in whom anticoagulation is contraindicated or already 
"DATA",136.5,5,1,12,0)
   instituted.
"DATA",136.5,6,0)
ON VENTILATOR > 48 HOURS
"DATA",136.5,6,1,0)
^^6^6^3110324^
"DATA",136.5,6,1,1,0)
Definition Revised (2011): Total duration of ventilator-assisted 
"DATA",136.5,6,1,2,0)
respirations during postoperative hospitalization was >48 hours. 
"DATA",136.5,6,1,3,0)
This can occur at any time during the 30-day period postoperatively.
"DATA",136.5,6,1,4,0)
This time assessment is CUMULATIVE, not necessarily consecutive.
"DATA",136.5,6,1,5,0)
Ventilator-assisted respirations can be via endotracheal tube, 
"DATA",136.5,6,1,6,0)
nasotracheal tube, or tracheostomy tube.
"DATA",136.5,7,0)
UNPLANNED INTUBATION^1^1
"DATA",136.5,7,1,0)
^136.52^9^9^3140122^^
"DATA",136.5,7,1,1,0)
Definition Revised (2004):
"DATA",136.5,7,1,2,0)
Patient required placement of an endotracheal tube and mechanical or 
"DATA",136.5,7,1,3,0)
assisted ventilation because of the onset of respiratory or cardiac 
"DATA",136.5,7,1,4,0)
failure manifested by severe respiratory distress, hypoxia, 
"DATA",136.5,7,1,5,0)
hypercarbia, or respiratory acidosis. In patients who were intubated 
"DATA",136.5,7,1,6,0)
for their surgery, unplanned intubation occurs after they have been 
"DATA",136.5,7,1,7,0)
extubated after surgery. In patients who were not intubated during 
"DATA",136.5,7,1,8,0)
surgery, intubation at any time after their surgery is considered 
"DATA",136.5,7,1,9,0)
unplanned. 
"DATA",136.5,8,0)
RENAL INSUFFICIENCY
"DATA",136.5,8,1,0)
^^4^4^3040318^
"DATA",136.5,8,1,1,0)
Definition Revised (2004):
"DATA",136.5,8,1,2,0)
The reduced capacity of the kidney to perform its function as evidenced
"DATA",136.5,8,1,3,0)
by a rise in creatinine of >2 mg/dl from preoperative value, but with
"DATA",136.5,8,1,4,0)
no requirement for dialysis.
"DATA",136.5,8,2,0)
^136.53^1^1
"DATA",136.5,8,2,1,0)
PROGRESSIVE RENAL INSUFFICIENCY
"DATA",136.5,9,0)
ACUTE RENAL FAILURE
"DATA",136.5,9,1,0)
^^12^12^3110708^
"DATA",136.5,9,1,1,0)
VASQIP Definition (2011): 
"DATA",136.5,9,1,2,0)
Indicate if the patient developed new renal failure requiring renal
"DATA",136.5,9,1,3,0)
replacement therapy or experienced an exacerbation of preoperative
"DATA",136.5,9,1,4,0)
renal failure requiring initiation of renal replacement therapy (not on
"DATA",136.5,9,1,5,0)
renal replacement therapy preoperatively) within 30 days
"DATA",136.5,9,1,6,0)
postoperatively.  Renal replacement therapy is defined as venous to
"DATA",136.5,9,1,7,0)
venous hemodialysis [CVVHD], continuous venous to arterial hemodialysis
"DATA",136.5,9,1,8,0)
[CVAHD], peritoneal dialysis, hemofiltration, hemodiafiltration or
"DATA",136.5,9,1,9,0)
ultrafiltration.
"DATA",136.5,9,1,10,0)
 
"DATA",136.5,9,1,11,0)
TIP: If the patient refuses dialysis, report as an occurrence because 
"DATA",136.5,9,1,12,0)
he/she did require dialysis.
"DATA",136.5,9,2,0)
^136.53^1^1
"DATA",136.5,9,2,1,0)
RENAL FAILURE
"DATA",136.5,10,0)
URINARY TRACT INFECTION^1
"DATA",136.5,10,1,0)
^136.52^22^22^3140127^^^
"DATA",136.5,10,1,1,0)
Definition Revised (2004):
"DATA",136.5,10,1,2,0)
Postoperative symptomatic urinary tract infection must meet one of the 
"DATA",136.5,10,1,3,0)
following TWO criteria:
"DATA",136.5,10,1,4,0)
 
"DATA",136.5,10,1,5,0)
1. One of the following: fever (>38 degrees C), urgency, frequency,
"DATA",136.5,10,1,6,0)
   dysuria, or suprapubic tenderness AND a urine culture of >100,000
"DATA",136.5,10,1,7,0)
   colonies/ml urine with no more than two species of organisms
"DATA",136.5,10,1,8,0)
 
"DATA",136.5,10,1,9,0)
OR
"DATA",136.5,10,1,10,0)
 
"DATA",136.5,10,1,11,0)
2. Two of the following: fever (>38 degrees C), urgency, frequency,
"DATA",136.5,10,1,12,0)
   dysuria, or suprapubic tenderness AND any of the following:
"DATA",136.5,10,1,13,0)
   - Dipstick test positive for leukocyte esterase and/or nitrate
"DATA",136.5,10,1,14,0)
   - Pyuria (>10 WBCs/cc or >3 WBC/hpf of unspun urine)
"DATA",136.5,10,1,15,0)
   - Organisms seen on Gram stain of unspun urine
"DATA",136.5,10,1,16,0)
   - Two urine cultures with repeated isolation of the same uropathogen
"DATA",136.5,10,1,17,0)
     with >100 colonies/ml urine in non-voided specimen
"DATA",136.5,10,1,18,0)
   - Urine culture with <100,000 colonies/ml urine of single
"DATA",136.5,10,1,19,0)
     uropathogen in patient being treated with appropriate
"DATA",136.5,10,1,20,0)
     antimicrobial therapy
"DATA",136.5,10,1,21,0)
   - Physician's diagnosis
"DATA",136.5,10,1,22,0)
   - Physician institutes appropriate antimicrobial therapy
"DATA",136.5,10,2,0)
^136.53^1^1
"DATA",136.5,10,2,1,0)
UTI
"DATA",136.5,11,0)
PULMONARY EDEMA^1
"DATA",136.5,11,1,0)
^136.52^2^2^3040318^^^^
"DATA",136.5,11,1,1,0)
Postoperative distress requiring treatment and diagnosis of CHF or
"DATA",136.5,11,1,2,0)
pulmonary edema or Adult Respiratory Distress Syndrome.
"DATA",136.5,12,0)
STROKE/CVA
"DATA",136.5,12,1,0)
^^11^11^3110711^
"DATA",136.5,12,1,1,0)
VASQIP Definitions (2011):
"DATA",136.5,12,1,2,0)
Indicate if the patient developed a new neurologic deficit with onset 
"DATA",136.5,12,1,3,0)
immediately post-operatively or occurring within the 30 days after 
"DATA",136.5,12,1,4,0)
surgery.  Neurologic deficits are defined as an embolic, thrombotic, 
"DATA",136.5,12,1,5,0)
or hemorrhagic vascular accident or stroke with motor, sensory, or
"DATA",136.5,12,1,6,0)
cognitive dysfunction (e.g., hemiplegia, hemiparesis, aphasia, sensory
"DATA",136.5,12,1,7,0)
deficit, impaired memory).  Indicate the duration as follows:
"DATA",136.5,12,1,8,0)
 1) no symptoms
"DATA",136.5,12,1,9,0)
 2) symptomatic duration less than 24 hours
"DATA",136.5,12,1,10,0)
 3) symptomatic duration of 24-72 hours
"DATA",136.5,12,1,11,0)
 4) symptomatic duration >72 hours
"DATA",136.5,12,2,0)
^136.53^2^2
"DATA",136.5,12,2,1,0)
CEREBRAL VASCULAR ACCIDENT
"DATA",136.5,12,2,2,0)
CVA
"DATA",136.5,13,0)
COMA > 24 HOURS
"DATA",136.5,13,1,0)
^^6^6^3110324^
"DATA",136.5,13,1,1,0)
Definition Revised (2011): Indicate if either postoperatively or 
"DATA",136.5,13,1,2,0)
within 30 days of surgery there was a significantly decreased level 
"DATA",136.5,13,1,3,0)
of consciousness (exclude transient disorientation or psychosis) for
"DATA",136.5,13,1,4,0)
greater than or equal to 24 hours as evidenced by lack of response to
"DATA",136.5,13,1,5,0)
deep, painful stimuli.. Do not include drug-induced coma (e.g. 
"DATA",136.5,13,1,6,0)
Propofol drips, etc.)
"DATA",136.5,14,0)
PERIPHERAL NERVE INJURY
"DATA",136.5,14,1,0)
^136.52^6^6^3110708^^^
"DATA",136.5,14,1,1,0)
Definition Revised (2007):
"DATA",136.5,14,1,2,0)
Peripheral nerve damage may result from damage to the nerve fibers, 
"DATA",136.5,14,1,3,0)
cell body, or myelin sheath during surgery. Peripheral nerve injuries
"DATA",136.5,14,1,4,0)
which result in motor deficits only to the cervical plexus, brachial
"DATA",136.5,14,1,5,0)
plexus, ulnar plexus, lumbar-sacral plexus (sciatic nerve), peroneal
"DATA",136.5,14,1,6,0)
nerve, and/or the femoral nerve should be included.
"DATA",136.5,15,0)
BLEEDING/TRANSFUSIONS
"DATA",136.5,15,1,0)
^^9^9^3040318^
"DATA",136.5,15,1,1,0)
Definition Revised (2004):
"DATA",136.5,15,1,2,0)
Any transfusion (including autologous) of packed red blood cells or 
"DATA",136.5,15,1,3,0)
whole blood given from the time the patient leaves the operating room 
"DATA",136.5,15,1,4,0)
up to and including 72 hours postoperatively. Report as an occurrence
"DATA",136.5,15,1,5,0)
for five or more units of packed red blood cell in the postoperative
"DATA",136.5,15,1,6,0)
period including hanging blood from the OR that is finished outside
"DATA",136.5,15,1,7,0)
of the OR. If the patient receives shed blood, autologous blood, cell
"DATA",136.5,15,1,8,0)
saver blood or pleurovac postoperatively, this is counted if greater
"DATA",136.5,15,1,9,0)
than four units. The blood may be given for any reason.
"DATA",136.5,16,0)
CARDIAC ARREST REQUIRING CPR^^1
"DATA",136.5,16,1,0)
^^12^12^3110324^
"DATA",136.5,16,1,1,0)
Definition Revised (2011): Indicate if there was any cardiac arrest 
"DATA",136.5,16,1,2,0)
requiring external or open cardiopulmonary resuscitation (CPR) 
"DATA",136.5,16,1,3,0)
occurring in the operating room, ICU, ward, or out-of-hospital after 
"DATA",136.5,16,1,4,0)
the chest had been completely closed and within 30 days of surgery.
"DATA",136.5,16,1,5,0)
Patients with AICDs that fire but the patient does not lose 
"DATA",136.5,16,1,6,0)
consciousness should be excluded.
"DATA",136.5,16,1,7,0)
 
"DATA",136.5,16,1,8,0)
If patient had cardiac arrest requiring CPR, indicate whether the 
"DATA",136.5,16,1,9,0)
arrest occurred intraoperatively or postoperatively. Indicate the 
"DATA",136.5,16,1,10,0)
one appropriate response:
"DATA",136.5,16,1,11,0)
- intraoperatively: occurring while patient was in the operating room
"DATA",136.5,16,1,12,0)
- postoperatively:  occurring after patient left the operating room
"DATA",136.5,17,0)
MYOCARDIAL INFARCTION^^1
"DATA",136.5,17,1,0)
^^53^53^3140423^
"DATA",136.5,17,1,1,0)
VASQIP Definition (2014): 
"DATA",136.5,17,1,2,0)
Indicate the presence of a peri-operative MI that occurs either 
"DATA",136.5,17,1,3,0)
intraoperatively or postoperatively within 30 days:   The term acute 
"DATA",136.5,17,1,4,0)
MI should be used when there is evidence of myocardial necrosis in a
"DATA",136.5,17,1,5,0)
clinical setting consistent with acute myocardial ischemia. Under 
"DATA",136.5,17,1,6,0)
these conditions any ONE of the following criteria meets the diagnosis 
"DATA",136.5,17,1,7,0)
for MI:
"DATA",136.5,17,1,8,0)
 
"DATA",136.5,17,1,9,0)
1. Detection of a rise and/or fall of cardiac biomarker values 
"DATA",136.5,17,1,10,0)
   [preferably cardiac troponin (cTn)] with at least one value above 
"DATA",136.5,17,1,11,0)
   the 99th percentile Upper Reference Limit (URL) AND at least one 
"DATA",136.5,17,1,12,0)
   of the following:
"DATA",136.5,17,1,13,0)
   a. Symptoms suggestive of myocardial ischemia
"DATA",136.5,17,1,14,0)
   b. New or presumed new significant ST-segment-T wave (ST-T) changes 
"DATA",136.5,17,1,15,0)
   c. New left bundle branch block (LBBB).
"DATA",136.5,17,1,16,0)
   d. Development of pathological Q waves in the ECG
"DATA",136.5,17,1,17,0)
   e. Imaging evidence of new loss of viable myocardium 
"DATA",136.5,17,1,18,0)
   f. New regional wall motion abnormality
"DATA",136.5,17,1,19,0)
   g. Identification of an intracoronary thrombus by angiography or
"DATA",136.5,17,1,20,0)
      autopsy 
"DATA",136.5,17,1,21,0)
2. Cardiac death with symptoms suggestive of myocardial ischemia and
"DATA",136.5,17,1,22,0)
   presumed new ischemic ECG changes or new LBBB, but death occurred
"DATA",136.5,17,1,23,0)
   before cardiac biomarkers were obtained, or before cardiac 
"DATA",136.5,17,1,24,0)
   biomarker values would be increased.
"DATA",136.5,17,1,25,0)
 
"DATA",136.5,17,1,26,0)
3. Percutaneous coronary intervention (PCI) related MI is arbitrarily 
"DATA",136.5,17,1,27,0)
   defined by elevation of cTn values (>5x 99th percentile URL) in
"DATA",136.5,17,1,28,0)
   patients with normal baseline values (<99th percentile URL) or a 
"DATA",136.5,17,1,29,0)
   rise of cTn values >20% if the baseline values are elevated and 
"DATA",136.5,17,1,30,0)
   are stable or falling,
"DATA",136.5,17,1,31,0)
   AND at least one of the following:
"DATA",136.5,17,1,32,0)
   a. Symptoms suggestive of myocardial ischemia
"DATA",136.5,17,1,33,0)
   b. Presumed new ischemic ECG changes 
"DATA",136.5,17,1,34,0)
   c. Angiographic findings consistent with a procedural complication 
"DATA",136.5,17,1,35,0)
   d. Imaging evidence of new loss of viable myocardium 
"DATA",136.5,17,1,36,0)
   e. New regional wall motion abnormality 
"DATA",136.5,17,1,37,0)
 
"DATA",136.5,17,1,38,0)
4. Stent thrombosis associated with MI when detected by coronary 
"DATA",136.5,17,1,39,0)
   angiography or autopsy in the setting of myocardial ischemia and 
"DATA",136.5,17,1,40,0)
   with a rise and/or fall of cardiac biomarker values with at least 
"DATA",136.5,17,1,41,0)
   one value above the 99th percentile URL.
"DATA",136.5,17,1,42,0)
 
"DATA",136.5,17,1,43,0)
5. Coronary artery bypass grafting (CABG) related MI is arbitrarily 
"DATA",136.5,17,1,44,0)
   defined by elevation of cardiac biomarker values (>10x 99th 
"DATA",136.5,17,1,45,0)
   percentile URL) in patients with normal baseline cTn values 
"DATA",136.5,17,1,46,0)
   (<99th percentile URL),
"DATA",136.5,17,1,47,0)
   AND at least one of the following
"DATA",136.5,17,1,48,0)
   a. Development of pathological Q waves in the ECG
"DATA",136.5,17,1,49,0)
   b. New LBBB 
"DATA",136.5,17,1,50,0)
   c. Angiographic documented new graft or new native coronary 
"DATA",136.5,17,1,51,0)
      artery occlusion
"DATA",136.5,17,1,52,0)
   d. Imaging evidence of new loss of viable myocardium 
"DATA",136.5,17,1,53,0)
   e. New regional wall motion abnormality
"DATA",136.5,17,2,0)
^136.53^1^1
"DATA",136.5,17,2,1,0)
PERIOPERATIVE MI
"DATA",136.5,18,0)
ILEUS/BOWEL OBSTRUCTION^1
"DATA",136.5,18,1,0)
^136.52^6^6^3040318^^^^
"DATA",136.5,18,1,1,0)
This category includes prolonged ileus or bowel obstruction.  Ileus is
"DATA",136.5,18,1,2,0)
obstruction of the intestines from a variety of causes including
"DATA",136.5,18,1,3,0)
mechanical obstruction, peritonitis, adhesions, or post-surgically as a
"DATA",136.5,18,1,4,0)
result of functional dysmotility by the bowel.  Bowel obstruction is any
"DATA",136.5,18,1,5,0)
hindrance to the passage of the intestinal contents.  Prolonged ileus or
"DATA",136.5,18,1,6,0)
obstruction is defined as longer than 5 days postoperatively.
"DATA",136.5,19,0)
GRAFT/PROSTHESIS/FLAP FAILURE
"DATA",136.5,19,1,0)
^^4^4^3040318^
"DATA",136.5,19,1,1,0)
Definition Revised (2004):
"DATA",136.5,19,1,2,0)
Mechanical failure of an extracardiac graft/or prosthesis including 
"DATA",136.5,19,1,3,0)
myocutaneous flaps and skin grafts requiring return to the operating 
"DATA",136.5,19,1,4,0)
room, interventional radiology, or a balloon angioplasty.
"DATA",136.5,20,0)
DVT/THROMBOPHLEBITIS
"DATA",136.5,20,1,0)
^^9^9^3140107^
"DATA",136.5,20,1,1,0)
VASQIP Definition (2014):
"DATA",136.5,20,1,2,0)
The identification of a new blood clot or thrombus within the deep 
"DATA",136.5,20,1,3,0)
venous system of an extremity, which may be coupled with inflammation.  
"DATA",136.5,20,1,4,0)
This does not include intra-parenchymal clots of solid organs or free
"DATA",136.5,20,1,5,0)
intra-peritoneal clots. This diagnosis is confirmed by a duplex, 
"DATA",136.5,20,1,6,0)
venogram, CT scan or other imaging modality.  The patient must be 
"DATA",136.5,20,1,7,0)
treated with or have documented recommendation for: therapeutic
"DATA",136.5,20,1,8,0)
anti-coagulation therapy OR placement of a vena cava filter OR 
"DATA",136.5,20,1,9,0)
clipping of the vena cava.
"DATA",136.5,20,2,0)
^136.53^2^2
"DATA",136.5,20,2,1,0)
DEEP VEIN THROMBOSIS/THROMBOPHLEBITIS
"DATA",136.5,20,2,2,0)
THROMBOPHLEBITIS
"DATA",136.5,21,0)
OTHER OCCURRENCE^^1
"DATA",136.5,21,1,0)
^^4^4^3040318^
"DATA",136.5,21,1,1,0)
Definition Revised (2004):
"DATA",136.5,21,1,2,0)
Enter any other surgical occurrences which you feel to be significant
"DATA",136.5,21,1,3,0)
and that are not covered by the predefined occurrence categories. This 
"DATA",136.5,21,1,4,0)
occurrence category should have an accompanying ICD Diagnosis code.
"DATA",136.5,22,0)
WOUND DISRUPTION
"DATA",136.5,22,1,0)
^^4^4^3140107^
"DATA",136.5,22,1,1,0)
Definition Revised (2014):
"DATA",136.5,22,1,2,0)
Separation of the skin and musculofascial layers of a surgical wound 
"DATA",136.5,22,1,3,0)
(any surgical site whether primary or secondary, e.g. vein harvest
"DATA",136.5,22,1,4,0)
incision), which may be partial or complete.
"DATA",136.5,23,0)
ENDOCARDITIS
"DATA",136.5,23,1,0)
^136.52^9^9^3040721^^^
"DATA",136.5,23,1,1,0)
Definition Revised (2004):
"DATA",136.5,23,1,2,0)
Indicate if the chart documents that active endocarditis was present 
"DATA",136.5,23,1,3,0)
within 30 days postoperatively. Endocarditis is defined as any 
"DATA",136.5,23,1,4,0)
postoperative intracardiac infection (usually on a valve) documented 
"DATA",136.5,23,1,5,0)
by two or more positive blood cultures with the same organism, and/or 
"DATA",136.5,23,1,6,0)
development of vegetations and valve destruction seen by echo or 
"DATA",136.5,23,1,7,0)
repeat surgery, and/or histologic evidence of infection at repeat 
"DATA",136.5,23,1,8,0)
surgery or autopsy. Patients with preoperative endocarditis who have 
"DATA",136.5,23,1,9,0)
the above evidence of persistent infection should be included.
"DATA",136.5,24,0)
LOW CARDIAC OUTPUT > 6 HOURS
"DATA",136.5,24,1,0)
^136.52^4^4^3040318^^^^
"DATA",136.5,24,1,1,0)
This includes patient's that have had a postoperative cardiac index of
"DATA",136.5,24,1,2,0)
less than 2.0 L/min/M2 and/or peripheral manifestations (e.g. oliguria) of
"DATA",136.5,24,1,3,0)
low cardiac output present for 6 or more hours following surgery requiring
"DATA",136.5,24,1,4,0)
inotropic and/or intra-aortic ballon pump support.
"DATA",136.5,25,0)
MEDIASTINITIS
"DATA",136.5,25,1,0)
^^4^4^3040809^
"DATA",136.5,25,1,1,0)
Definition Revised (2004):
"DATA",136.5,25,1,2,0)
Indicate if the patient developed a bacterial infection involving the 
"DATA",136.5,25,1,3,0)
sternum or deep to the sternum requiring drainage and anti-microbial 
"DATA",136.5,25,1,4,0)
therapy diagnosed within 30 days after surgery.
"DATA",136.5,26,0)
REOPERATION FOR BLEEDING
"DATA",136.5,26,1,0)
^^3^3^3040809^
"DATA",136.5,26,1,1,0)
Definition Revised (2004):
"DATA",136.5,26,1,2,0)
Indicate if there was any re-exploration of the thorax for suspected 
"DATA",136.5,26,1,3,0)
bleeding within 30 days of surgery.
"DATA",136.5,27,0)
REPEAT CARDIAC SURGICAL PROCEDURE
"DATA",136.5,27,1,0)
^^12^12^3140107^
"DATA",136.5,27,1,1,0)
Definition Revised (2014):
"DATA",136.5,27,1,2,0)
Indicate the CPB status if the patient underwent a repeat operation on 
"DATA",136.5,27,1,3,0)
the heart after the patient had left the operating room from the 
"DATA",136.5,27,1,4,0)
initial operation and within current hospitalization or within 30 days
"DATA",136.5,27,1,5,0)
of the initial operation. Indicate the one appropriate response:
"DATA",136.5,27,1,6,0)
 
"DATA",136.5,27,1,7,0)
None       - no repeat cardiac surgical procedure post-operatively 
"DATA",136.5,27,1,8,0)
             within 30 days of initial operation.
"DATA",136.5,27,1,9,0)
On-bypass  - patient underwent a repeat cardiac surgical procedure 
"DATA",136.5,27,1,10,0)
             utilizing CPB.
"DATA",136.5,27,1,11,0)
Off-bypass - patient underwent a repeat cardiac surgical procedure not 
"DATA",136.5,27,1,12,0)
             utilizing CPB.
"DATA",136.5,28,0)
STROKE^1
"DATA",136.5,28,1,0)
^136.52^3^3^3110711^^^^
"DATA",136.5,28,1,1,0)
This includes any new objective neurologic deficit lasting 30 minutes or
"DATA",136.5,28,1,2,0)
more with onset intraoperatively or occurring within 30 days following
"DATA",136.5,28,1,3,0)
surgery.
"DATA",136.5,29,0)
OTHER RESPIRATORY OCCURRENCE
"DATA",136.5,29,1,0)
^^5^5^3040318^
"DATA",136.5,29,1,1,0)
Definition Revised (2004):
"DATA",136.5,29,1,2,0)
Enter any other respiratory occurrences that you feel to be significant
"DATA",136.5,29,1,3,0)
and that are not covered by the predefined respiratory occurrence
"DATA",136.5,29,1,4,0)
categories. This occurrence category should have an accompanying ICD 
"DATA",136.5,29,1,5,0)
Diagnosis code.
"DATA",136.5,30,0)
OTHER CNS OCCURRENCE
"DATA",136.5,30,1,0)
^^5^5^3040318^
"DATA",136.5,30,1,1,0)
Definition Revised (2004):
"DATA",136.5,30,1,2,0)
Enter any other neurologic related occurrences, which you feel to be 
"DATA",136.5,30,1,3,0)
significant and that are not covered by the predefined CNS occurrence
"DATA",136.5,30,1,4,0)
categories. This occurrence category should have an accompanying ICD 
"DATA",136.5,30,1,5,0)
Diagnosis code.
"DATA",136.5,31,0)
OTHER URINARY TRACT OCCURRENCE
"DATA",136.5,31,1,0)
^^5^5^3040318^
"DATA",136.5,31,1,1,0)
Definition Revised (2004):
"DATA",136.5,31,1,2,0)
Enter any other urinary occurrences which you feel to be significant 
"DATA",136.5,31,1,3,0)
and that are not covered by the predefined urinary tract occurrence
"DATA",136.5,31,1,4,0)
categories. This occurrence category should have an accompanying ICD 
"DATA",136.5,31,1,5,0)
Diagnosis code.
"DATA",136.5,32,0)
OTHER CARDIAC OCCURRENCE
"DATA",136.5,32,1,0)
^^5^5^3040318^
"DATA",136.5,32,1,1,0)
Definition Revised (2004):
"DATA",136.5,32,1,2,0)
Enter any other cardiac related surgical occurrences which you feel to 
"DATA",136.5,32,1,3,0)
be significant and that are not covered by the predefined cardiac
"DATA",136.5,32,1,4,0)
occurrence categories. This occurrence category should have an 
"DATA",136.5,32,1,5,0)
accompanying ICD Diagnosis code.
"DATA",136.5,33,0)
TRACHEOSTOMY^^^Y
"DATA",136.5,33,1,0)
^^4^4^3040809^
"DATA",136.5,33,1,1,0)
Definition Revised (2004):
"DATA",136.5,33,1,2,0)
Indicate if a procedure to cut into the trachea and insert a tube to 
"DATA",136.5,33,1,3,0)
overcome tracheal obstruction or to facilitate extended mechanical 
"DATA",136.5,33,1,4,0)
ventilation was performed within 30 days of surgery.
"DATA",136.5,34,0)
NEW MECHANICAL CIRCULATORY SUPPORT^^1^Y
"DATA",136.5,34,1,0)
^^10^10^3141104^
"DATA",136.5,34,1,1,0)
Definition Revised (2014):
"DATA",136.5,34,1,2,0)
If patient required new IABP, VAD, TAH, ECMO, or MULTIPLE DEVICES
"DATA",136.5,34,1,3,0)
for mechanical circulatory support, indicate using the menu prompts
"DATA",136.5,34,1,4,0)
whether the placement occurred intraoperatively or postoperatively 
"DATA",136.5,34,1,5,0)
within 30 days.  You will also be prompted for device type(s).
"DATA",136.5,34,1,6,0)
 
"DATA",136.5,34,1,7,0)
Indicate the one appropriate response:
"DATA",136.5,34,1,8,0)
   - intraoperatively: occurring while patient was in the operating room.
"DATA",136.5,34,1,9,0)
   - postoperatively:  occurring after patient left the operating room 
"DATA",136.5,34,1,10,0)
                       within 30 days of the procedure.
"DATA",136.5,35,0)
ORGAN/SPACE SSI
"DATA",136.5,35,1,0)
^^32^32^3040318^
"DATA",136.5,35,1,1,0)
Definition Revised (2004):
"DATA",136.5,35,1,2,0)
Organ/Space SSI is an infection that occurs within 30 days after the 
"DATA",136.5,35,1,3,0)
operation and the infection appears to be related to the operation and 
"DATA",136.5,35,1,4,0)
the infection involves any part of the anatomy (e.g., organs or spaces), 
"DATA",136.5,35,1,5,0)
other than the incision, which was opened or manipulated during an 
"DATA",136.5,35,1,6,0)
operation and at least one of the following:
"DATA",136.5,35,1,7,0)
 
"DATA",136.5,35,1,8,0)
  - Purulent drainage from a drain that is placed through a stab wound 
"DATA",136.5,35,1,9,0)
    into the organ/space.  
"DATA",136.5,35,1,10,0)
  - Organisms isolated from an aseptically obtained culture of fluid or 
"DATA",136.5,35,1,11,0)
    tissue in the organ/space.  
"DATA",136.5,35,1,12,0)
  - An abscess or other evidence of infection involving the organ/space 
"DATA",136.5,35,1,13,0)
    that is found on direct examination, during reoperation, or by 
"DATA",136.5,35,1,14,0)
    histopathologic or radiologic examination.  
"DATA",136.5,35,1,15,0)
  - Diagnosis of an organ/space SSI by a surgeon or attending physician.  
"DATA",136.5,35,1,16,0)
   
"DATA",136.5,35,1,17,0)
  Site-Specific Classifications of Organ/Space Surgical Site Infection
"DATA",136.5,35,1,18,0)
  --------------------------------------------------------------------
"DATA",136.5,35,1,19,0)
  Arterial or venous infection        Meningitis or ventriculitis
"DATA",136.5,35,1,20,0)
  Breast abscess or mastitis          Myocarditis or pericarditis
"DATA",136.5,35,1,21,0)
  Disc space                          Oral cavity (mouth, tongue, or
"DATA",136.5,35,1,22,0)
  Ear, mastoid                         gums)
"DATA",136.5,35,1,23,0)
  Endocarditis                        Osteomyelitis
"DATA",136.5,35,1,24,0)
  Endometritis                        Other infections of the lower
"DATA",136.5,35,1,25,0)
  Eye, other than conjunctivitis       respiratory tract (e.g. abscess
"DATA",136.5,35,1,26,0)
  Gastrointestinal tract               or empyema)
"DATA",136.5,35,1,27,0)
  Intra-abdominal, not specified      Other male or female reproductive
"DATA",136.5,35,1,28,0)
   elsewhere                           tract
"DATA",136.5,35,1,29,0)
  Intracranial, brain abscess or      Sinusitis
"DATA",136.5,35,1,30,0)
   dura                               Spinal abscess without meningitis
"DATA",136.5,35,1,31,0)
  Joint or bursa                      Upper respiratory tract
"DATA",136.5,35,1,32,0)
  Mediastinitis                       Vaginal cuff
"DATA",136.5,36,0)
OTHER WOUND OCCURRENCE
"DATA",136.5,36,1,0)
^^5^5^3040318^
"DATA",136.5,36,1,1,0)
Definition Revised (2004):
"DATA",136.5,36,1,2,0)
Enter any other wound occurrences that you feel to be significant and 
"DATA",136.5,36,1,3,0)
that are not covered by the predefined wound occurrence categories. 
"DATA",136.5,36,1,4,0)
This occurrence category should have an accompanying ICD Diagnosis 
"DATA",136.5,36,1,5,0)
code.
"DATA",136.5,37,0)
REPEAT VENTILATOR SUPPORT W/IN 30 DAYS^1^0^Y
"DATA",136.5,37,1,0)
^136.52^10^10^3140122^^
"DATA",136.5,37,1,1,0)
Definition Revised (2008)
"DATA",136.5,37,1,2,0)
Indicate if the patient was placed on ventilator support 
"DATA",136.5,37,1,3,0)
postoperatively within 30 days and this repeat ventilator support
"DATA",136.5,37,1,4,0)
is related to the index operation (For example, the patient is on
"DATA",136.5,37,1,5,0)
the ventilator intra-op and immediately post-op.  Then patient is
"DATA",136.5,37,1,6,0)
weaned and the ventilator is discontinued.  Later, the patient gets
"DATA",136.5,37,1,7,0)
into trouble and mechanical ventilation has to be reinstated.) 
"DATA",136.5,37,1,8,0)
However, if the patient returns to the OR within 30 days and gets
"DATA",136.5,37,1,9,0)
extubated immediately after, it is not considered repeat ventilator
"DATA",136.5,37,1,10,0)
support.
"DATA",136.5,38,0)
CLOSTRIDIUM DIFFICILE COLITIS (C-DIFFICILE)^^0
"DATA",136.5,38,1,0)
^^7^7^3071102^
"DATA",136.5,38,1,1,0)
Definition Revised (2008):
"DATA",136.5,38,1,2,0)
C. difficile-associated disease occurs when the normal intestinal
"DATA",136.5,38,1,3,0)
flora is altered, allowing C. difficile to flourish in the intestinal
"DATA",136.5,38,1,4,0)
tract and produce a toxin that causes a watery diarrhea.  C. difficile
"DATA",136.5,38,1,5,0)
diarrhea is confirmed by the presence of a toxin in a stool specimen.  
"DATA",136.5,38,1,6,0)
Answer yes only if you have a positive culture for C. difficile and/or
"DATA",136.5,38,1,7,0)
a toxin assay and diagnosis of C. difficile documented in the chart.
"DATA",136.5,38,2,0)
^136.53^1^1
"DATA",136.5,38,2,1,0)
C. DIFFICILE
"DATA",136.5,39,0)
POSTOPERATIVE ATRIAL FIBRILLATION^^0^Y
"DATA",136.5,39,1,0)
^136.52^4^4^3100430^^
"DATA",136.5,39,1,1,0)
VASQIP Definition (2010):
"DATA",136.5,39,1,2,0)
Indicate whether the patient had a new onset of atrial 
"DATA",136.5,39,1,3,0)
fibrillation/flutter (AF) requiring treatment. Does not include 
"DATA",136.5,39,1,4,0)
recurrence of AF which had been present preoperatively.
"DATA",136.5,40,0)
SYMPTOMATIC UTI-CULTURE PLUS SIGN/SYMPTOM
"DATA",136.5,40,1,0)
^136.52^52^52^3140303^^^^
"DATA",136.5,40,1,1,0)
Definition Revised (2014):
"DATA",136.5,40,1,2,0)
SYMPTOMATIC UTI -  CULTURE plus SIGN/SYMPTOM within 1 calendar day of 
"DATA",136.5,40,1,3,0)
each other:
"DATA",136.5,40,1,4,0)
 
"DATA",136.5,40,1,5,0)
a. UTI Signs/Symptoms: Urg/Freq/Dys
"DATA",136.5,40,1,6,0)
   Yes = Patient has urgency, frequency, or dysuria with no other
"DATA",136.5,40,1,7,0)
         recognized cause
"DATA",136.5,40,1,8,0)
   No = Patient does not complain of urgency, frequency or dysuria OR
"DATA",136.5,40,1,9,0)
        has a catheter in place
"DATA",136.5,40,1,10,0)
 
"DATA",136.5,40,1,11,0)
b. UTI Signs/Symptoms: Fever
"DATA",136.5,40,1,12,0)
   Yes = Patient has a fever > 38C at the time of culture or onset 
"DATA",136.5,40,1,13,0)
         of symptoms
"DATA",136.5,40,1,14,0)
   No = Patient does not have a fewer > 38C at the time of culture 
"DATA",136.5,40,1,15,0)
        or onset of signs or symptoms
"DATA",136.5,40,1,16,0)
 
"DATA",136.5,40,1,17,0)
c. UTI Signs/Symptoms: Tenderness
"DATA",136.5,40,1,18,0)
   Yes = Patient has suprapubic tenderness, costovertebral angle 
"DATA",136.5,40,1,19,0)
         pain or tenderness with no other recognized cause
"DATA",136.5,40,1,20,0)
   No = Patient does not have suprapubic tenderness, costovertebral 
"DATA",136.5,40,1,21,0)
        angle pain or tenderness
"DATA",136.5,40,1,22,0)
 
"DATA",136.5,40,1,23,0)
d. UTI Culture: (must choose 1 or 2)
"DATA",136.5,40,1,24,0)
   1. Patient has a positive urine culture that is > 10^5 colony-
"DATA",136.5,40,1,25,0)
      forming units (CFU)/ml with no more than 2 species of 
"DATA",136.5,40,1,26,0)
      microorganisms
"DATA",136.5,40,1,27,0)
 
"DATA",136.5,40,1,28,0)
   2. A positive urine culture of >=10^3 and <10^5 colony-forming 
"DATA",136.5,40,1,29,0)
      units (CFU)/ml with no more than 2 species of microorganisms 
"DATA",136.5,40,1,30,0)
      plus one of the following three items: a) positive dipstick for
"DATA",136.5,40,1,31,0)
      leukocyte esterase and/or nitrate; b) Pyuria (urine specimen 
"DATA",136.5,40,1,32,0)
      with > 10 white blood cell [WBC]/mm3 of unspun urine or > 3 
"DATA",136.5,40,1,33,0)
      WBC high-power field of spun urine) or c) microorganisms seen 
"DATA",136.5,40,1,34,0)
      of Gram's stain of unspun urine
"DATA",136.5,40,1,35,0)
 
"DATA",136.5,40,1,36,0)
INDWELLING URETHRAL CATHETER > 2 CALENDAR DAYS
"DATA",136.5,40,1,37,0)
At the time of the procedure or during the post-operative 30 day 
"DATA",136.5,40,1,38,0)
period, did the patient have an indwelling urethral catheter in for 
"DATA",136.5,40,1,39,0)
> 2 calendar days (with day 1 being the day of catheter insertion)
"DATA",136.5,40,1,40,0)
 
"DATA",136.5,40,1,41,0)
1) Yes, in place on the day of UTI Signs/Symptoms and UTI Culture 
"DATA",136.5,40,1,42,0)
    obtained
"DATA",136.5,40,1,43,0)
2) Yes, removed the day of or the day before UTI Signs/Symptoms and 
"DATA",136.5,40,1,44,0)
    UTI Culture obtained
"DATA",136.5,40,1,45,0)
3) No, urethral catheter in place < or = to 2 calendar days but had 
"DATA",136.5,40,1,46,0)
    an indwelling urethral catheter in place at time of UTI Signs/
"DATA",136.5,40,1,47,0)
    Symptoms and UTI Culture obtained
"DATA",136.5,40,1,48,0)
4) No, urethral catheter in place < or = 2 calendar days and 
"DATA",136.5,40,1,49,0)
    indwelling urethral catheter was not in place at the time of
"DATA",136.5,40,1,50,0)
    UTI Signs/Symptoms and UTI Culture obtained
"DATA",136.5,40,1,51,0)
5) No, did not have an indwelling urethral catheter at the time of 
"DATA",136.5,40,1,52,0)
    the procedure or during the post-operative 30 day period
"DATA",136.5,41,0)
MECHANICAL VENTILATION WITHIN 30 DAYS^^1
"DATA",136.5,41,1,0)
^^10^10^3140401^
"DATA",136.5,41,1,1,0)
VASQIP Definition (2014):
"DATA",136.5,41,1,2,0)
Indicate if ventilator support required within 30 days after initial 
"DATA",136.5,41,1,3,0)
post-operative extubation: If the patient was placed on ventilator 
"DATA",136.5,41,1,4,0)
support postoperatively for any reason within 30 days AND occurred 
"DATA",136.5,41,1,5,0)
during the same admission in-hospital. (For example, the patient is 
"DATA",136.5,41,1,6,0)
on the ventilator intra-op and immediately post-op. Then patient is 
"DATA",136.5,41,1,7,0)
weaned and the ventilator is discontinued. Later, the patient gets 
"DATA",136.5,41,1,8,0)
into trouble and mechanical ventilation has to be reinstated.) In 
"DATA",136.5,41,1,9,0)
patients who were not intubated during surgery, intubation at any 
"DATA",136.5,41,1,10,0)
time after their surgery is considered an occurrence.
"FIA",130)
SURGERY
"FIA",130,0)
^SRF(
"FIA",130,0,0)
130IP
"FIA",130,0,1)
y^y^p^^^^n^^n
"FIA",130,0,10)

"FIA",130,0,11)

"FIA",130,0,"RLRO")

"FIA",130,0,"VR")
3.0^SR
"FIA",130,130)
1
"FIA",130,130,.011)

"FIA",130,130,.02)

"FIA",130,130,.14)

"FIA",130,130,.164)

"FIA",130,130,.166)

"FIA",130,130,.37)

"FIA",130,130,.43)

"FIA",130,130,.46)

"FIA",130,130,.69)

"FIA",130,130,17.5)

"FIA",130,130,18)

"FIA",130,130,41)

"FIA",130,130,44)

"FIA",130,130,45)

"FIA",130,130,46)

"FIA",130,130,74)

"FIA",130,130,102)

"FIA",130,130,205)

"FIA",130,130,207)

"FIA",130,130,208)

"FIA",130,130,216)

"FIA",130,130,218.1)

"FIA",130,130,220)

"FIA",130,130,237.1)

"FIA",130,130,258)

"FIA",130,130,263)

"FIA",130,130,265)

"FIA",130,130,266)

"FIA",130,130,267)

"FIA",130,130,329)

"FIA",130,130,340)

"FIA",130,130,351)

"FIA",130,130,365)

"FIA",130,130,366)

"FIA",130,130,367)

"FIA",130,130,368)

"FIA",130,130,369)

"FIA",130,130,371)

"FIA",130,130,372)

"FIA",130,130,373)

"FIA",130,130,376)

"FIA",130,130,377)

"FIA",130,130,378)

"FIA",130,130,379)

"FIA",130,130,380)

"FIA",130,130,381)

"FIA",130,130,382)

"FIA",130,130,394)

"FIA",130,130,395)

"FIA",130,130,396)

"FIA",130,130,404)

"FIA",130,130,416)

"FIA",130,130,431)

"FIA",130,130,463)

"FIA",130,130,464)

"FIA",130,130,465)

"FIA",130,130,467)

"FIA",130,130,469)

"FIA",130,130,472)

"FIA",130,130,481)

"FIA",130,130,483)

"FIA",130,130,484)

"FIA",130,130,485)

"FIA",130,130,490)

"FIA",130,130,493)

"FIA",130,130,502)

"FIA",130,130,505)

"FIA",130,130,512)

"FIA",130,130,603)

"FIA",130,130,605)

"FIA",130,130,606)

"FIA",130,130,607)

"FIA",130,130,608)

"FIA",130,130,609)

"FIA",130,130,610)

"FIA",130,130,611)

"FIA",130,130,618)

"FIA",130,130,619)

"FIA",130,130,620)

"FIA",130,130,621)

"FIA",130,130,622)

"FIA",130,130,623)

"FIA",130,130,624)

"FIA",130,130,630)

"FIA",130,130,633)

"FIA",130,130,635)

"FIA",130,130,636)

"FIA",130,130,637)

"FIA",130,130,638)

"FIA",130,130,639)

"FIA",130,130,640)

"FIA",130,130,641)

"FIA",130,130,642)

"FIA",130,130,643)

"FIA",130,130,644)

"FIA",130,130,645)

"FIA",130,130.01)
1
"FIA",130,130.01,13)

"FIA",130,130.06)
1
"FIA",130,130.06,.01)

"FIA",130,130.0635)
0
"FIA",130,130.0637)
0
"FIA",130,130.13)
1
"FIA",130,130.13,5)

"FIA",130,130.22)
1
"FIA",130,130.22,7)

"FIA",130,130.22,8)

"FIA",130,130.22,10)

"FIA",130,130.22,11)

"FIA",130,130.22,12)

"FIA",130,130.22,13)

"FIA",130,130.22,14)

"FIA",130,130.22,15)

"FIA",136.5)
PERIOPERATIVE OCCURRENCE CATEGORY
"FIA",136.5,0)
^SRO(136.5,
"FIA",136.5,0,0)
136.5I
"FIA",136.5,0,1)
y^y^f^^^^y
"FIA",136.5,0,10)

"FIA",136.5,0,11)

"FIA",136.5,0,"RLRO")

"FIA",136.5,0,"VR")
3.0^SR
"FIA",136.5,136.5)
0
"FIA",136.5,136.52)
0
"FIA",136.5,136.53)
0
"INI")
PRE^SR182UTL
"INIT")
POST^SR182UTL
"IX",130,130,"AD",0)
130^AD^CoreFLS fields monitor flag.^MU^^R^IR^I^130^^^^^A
"IX",130,130,"AD",.1,0)
^^2^2^3020822^
"IX",130,130,"AD",.1,1,0)
This cross-reference will be checked before sending a notification to
"IX",130,130,"AD",.1,2,0)
the CoreFLS software after editing any of these fields.
"IX",130,130,"AD",1)
S ^TMP("CSLSUR1",$J)="" Q
"IX",130,130,"AD",1.4)
N I S (X,I)=0 F  S I=$O(X1(I)) Q:'I  I X1(I)'=X2(I) S X=1 Q
"IX",130,130,"AD",2)
S ^TMP("CSLSUR1",$J)="" Q
"IX",130,130,"AD",2.4)
N I S (X,I)=0 F  S I=$O(X1(I)) Q:'I  I X1(I)'=X2(I) S X=1 Q
"IX",130,130,"AD",2.5)
Q
"IX",130,130,"AD",11.1,0)
^.114IA^11^11
"IX",130,130,"AD",11.1,1,0)
1^F^130^.14^^^F
"IX",130,130,"AD",11.1,2,0)
2^F^130^27^^^F
"IX",130,130,"AD",11.1,3,0)
3^F^130^.02^^^F
"IX",130,130,"AD",11.1,4,0)
4^F^130^.04^^^F
"IX",130,130,"AD",11.1,5,0)
5^F^130^10^^^F
"IX",130,130,"AD",11.1,6,0)
6^F^130^11^^^F
"IX",130,130,"AD",11.1,7,0)
7^F^130^26^^^F
"IX",130,130,"AD",11.1,8,0)
8^F^130^.011^^^F
"IX",130,130,"AD",11.1,9,0)
9^F^130^.09^^^F
"IX",130,130,"AD",11.1,10,0)
10^F^130^35^^^F
"IX",130,130,"AD",11.1,11,0)
11^F^130^.164^^^F
"IX",130,130,"AE",0)
130^AE^Checklist comment update^MU^^R^IR^I^130^^^^^A
"IX",130,130,"AE",.1,0)
^^2^2^3110420^
"IX",130,130,"AE",.1,1,0)
This MUMPS cross reference maintains the CHECKLIST COMMENT field (#85)
"IX",130,130,"AE",.1,2,0)
if any of these fields are answered with "NO".
"IX",130,130,"AE",1)
D ^SRTOVRF Q
"IX",130,130,"AE",1.4)
N I S (X,I)=0 F  S I=$O(X1(I)) Q:'I  I (X1(I)'=X2(I)&(X2(I)="N"))!(X1(3)'=X2(3)&(X2(3)>3)) S X=1 Q
"IX",130,130,"AE",2)
Q
"IX",130,130,"AE",11.1,0)
^.114IA^12^12
"IX",130,130,"AE",11.1,1,0)
1^F^130^600^^^F
"IX",130,130,"AE",11.1,2,0)
2^F^130^601^^^F
"IX",130,130,"AE",11.1,3,0)
3^F^130^603^^^F
"IX",130,130,"AE",11.1,4,0)
4^F^130^604^^^F
"IX",130,130,"AE",11.1,5,0)
5^F^130^607^^^F
"IX",130,130,"AE",11.1,6,0)
6^F^130^608^^^F
"IX",130,130,"AE",11.1,7,0)
7^F^130^609^^^F
"IX",130,130,"AE",11.1,8,0)
8^F^130^610^^^F
"IX",130,130,"AE",11.1,9,0)
9^F^130^611^^^F
"IX",130,130,"AE",11.1,10,0)
10^F^130^602^^^F
"IX",130,130,"AE",11.1,11,0)
11^F^130^605^^^F
"IX",130,130,"AE",11.1,12,0)
12^F^130^606^^^F
"IX",130,130,"AES1",0)
130^AES1^Update TIU when surgeon is changed.^MU^^F^^I^130^^^^^A
"IX",130,130,"AES1",.1,0)
^^3^3^3020204^
"IX",130,130,"AES1",.1,1,0)
This cross reference is responsible for updating the AUTHOR/DICTATOR field
"IX",130,130,"AES1",.1,2,0)
(#1202) and the EXPECTED SIGNER field (#1204) in the TIU DOCUMENT file
"IX",130,130,"AES1",.1,3,0)
(#8925) for the Operation Report when the surgeon is edited.
"IX",130,130,"AES1",1)
D SET^SROESX0
"IX",130,130,"AES1",1.4)
S X=X1(1)'=X2(1)
"IX",130,130,"AES1",2)
Q
"IX",130,130,"AES1",2.4)
S X=0
"IX",130,130,"AES1",11.1,0)
^.114IA^1^1
"IX",130,130,"AES1",11.1,1,0)
1^F^130^.14^^^F
"IX",130,130,"AES3",0)
130^AES3^Update TIU when attending surgeon is changed.^MU^^F^^I^130^^^^^A
"IX",130,130,"AES3",.1,0)
^^4^4^3020205^
"IX",130,130,"AES3",.1,1,0)
This cross reference is responsible for updating the EXPECTED COSIGNER
"IX",130,130,"AES3",.1,2,0)
field (#1208) and the ATTENDING PHYSICIAN field (#1209) in the TIU
"IX",130,130,"AES3",.1,3,0)
DOCUMENT file (#8925) for the Operation Report when the attending surgeon
"IX",130,130,"AES3",.1,4,0)
is edited.
"IX",130,130,"AES3",1)
D SET1^SROESX0
"IX",130,130,"AES3",1.4)
S X=((X1(1)'=X2(1))&(X2(1)'=""))
"IX",130,130,"AES3",2)
D SET1^SROESX0
"IX",130,130,"AES3",2.4)
S X=X2(1)=""
"IX",130,130,"AES3",11.1,0)
^.114IA^1^1
"IX",130,130,"AES3",11.1,1,0)
1^F^130^.164^^^F
"IX",130,130,"AO",0)
130^AO^Wound Sweep and Intra-Operative monitor flag^MU^^R^IR^I^130^^^^^A
"IX",130,130,"AO",.1,0)
^^3^3^3140911^
"IX",130,130,"AO",.1,1,0)
This MUMPS cross reference maintains the WOUND SWEEP and INTRA-
"IX",130,130,"AO",.1,2,0)
OPERATIVE X-RAY fields and comments fields related to them if any of
"IX",130,130,"AO",.1,3,0)
these fields and fields (#44, #45, #46) are answered with "NO".
"IX",130,130,"AO",1)
S ^TMP("SR182",$J)=""
"IX",130,130,"AO",1.4)
N I S (X,I)=0 F  S I=$O(X1(I)) Q:'I  I X1(I)'=X2(I),X2(I)="N" S X=1 Q
"IX",130,130,"AO",2)
K ^TMP("SR182",$J)
"IX",130,130,"AO",2.4)
Q
"IX",130,130,"AO",11.1,0)
^.114IA^3^3
"IX",130,130,"AO",11.1,1,0)
1^F^130^44^^^F
"IX",130,130,"AO",11.1,2,0)
2^F^130^45^^^F
"IX",130,130,"AO",11.1,3,0)
3^F^130^46^^^F
"KRN",.402,739,-1)
0^6
"KRN",.402,739,0)
SRSRES-ENTRY^3140113.1735^^130^^^3140113
"KRN",.402,739,"DIAB",1,0,130,0)
26;T
"KRN",.402,739,"DIAB",1,1,130.03,0)
.01;T
"KRN",.402,739,"DIAB",1,1,130.065,0)
.01;T
"KRN",.402,739,"DIAB",1,1,130.14,0)
.01;T
"KRN",.402,739,"DIAB",1,1,130.16,0)
.01;T
"KRN",.402,739,"DIAB",1,1,130.17,0)
.01;T
"KRN",.402,739,"DIAB",2,0,130,0)
.42;T
"KRN",.402,739,"DIAB",2,1,130.03,0)
1;T
"KRN",.402,739,"DIAB",2,1,130.14,0)
1;T
"KRN",.402,739,"DIAB",2,1,130.16,0)
3;T
"KRN",.402,739,"DIAB",2,1,130.17,0)
2;T
"KRN",.402,739,"DIAB",3,0,130,0)
27;T
"KRN",.402,739,"DIAB",3,1,130.03,0)
2;T
"KRN",.402,739,"DIAB",3,1,130.16,0)
1.5;T
"KRN",.402,739,"DIAB",4,0,130,0)
638;T
"KRN",.402,739,"DIAB",4,1,130.03,0)
3;T
"KRN",.402,739,"DIAB",5,0,130,0)
32;T
"KRN",.402,739,"DIAB",5,1,130.03,0)
4;T
"KRN",.402,739,"DIAB",6,0,130,0)
32.5;T
"KRN",.402,739,"DIAB",6,1,130.03,0)
5;T
"KRN",.402,739,"DIAB",7,0,130,0)
.72;T
"KRN",.402,739,"DIAB",8,0,130,0)
.011;T
"KRN",.402,739,"DIAB",9,0,130,0)
56;T
"KRN",.402,739,"DIAB",10,0,130,0)
.035;T
"KRN",.402,739,"DIAB",11,0,130,0)
.04;T
"KRN",.402,739,"DIAB",12,0,130,0)
.14;T
"KRN",.402,739,"DIAB",13,0,130,0)
.15;T
"KRN",.402,739,"DIAB",14,0,130,0)
.16;T
"KRN",.402,739,"DIAB",15,0,130,0)
.164;T
"KRN",.402,739,"DIAB",16,0,130,0)
.43;T
"KRN",.402,739,"DIAB",17,0,130,0)
.037;T
"KRN",.402,739,"DIAB",18,0,130,0)
SURGERY POS;T
"KRN",.402,739,"DIAB",19,0,130,0)
1.01;T
"KRN",.402,739,"DIAB",20,0,130,0)
1.02;T
"KRN",.402,739,"DIAB",21,0,130,0)
1.03;T
"KRN",.402,739,"DIAB",22,0,130,0)
1.035;T
"KRN",.402,739,"DIAB",23,0,130,0)
38;T
"KRN",.402,739,"DIAB",24,0,130,0)
40;T
"KRN",.402,739,"DIAB",25,0,130,0)
1.05;T
"KRN",.402,739,"DIAB",26,0,130,0)
1.04;T
"KRN",.402,739,"DIAB",27,0,130,0)
.05;T
"KRN",.402,739,"DIAB",28,0,130,0)
23;T
"KRN",.402,739,"DIAB",29,0,130,0)
.28;T
"KRN",.402,739,"DIAB",30,0,130,0)
55;T
"KRN",.402,739,"DIAB",31,0,130,0)
BRIEF;T
"KRN",.402,739,"DIAB",32,0,130,0)
80;T
"KRN",.402,739,"DR",1,130)
26T~;.42T~;27T~;638T~;32T~;32.5T~;.72T~;.011T~;56T~;.035T~;.04T~;.14T~;.15T~;.16T~;.164T~;.43T~;.037T~;65T~;1.01T~;1.02T~;1.03T~;1.035T~;38T~;40T~;1.05T~;1.04T~;.05T~;23T~;.28T~;55T~;60T~;80T~;
"KRN",.402,739,"DR",2,130.03)
.01T~;1T~;2T~;3T~;4T~;5T~;
"KRN",.402,739,"DR",2,130.065)
.01T~;
"KRN",.402,739,"DR",2,130.14)
.01T~;1T~;
"KRN",.402,739,"DR",2,130.16)
.01T~;3T~;1.5T~;
"KRN",.402,739,"DR",2,130.17)
.01T~;2T~;
"KRN",.402,739,"DR",99,1,9.2)
S (D,D0)=$QS(DIMQ,$QL(DIMQ)) I D,$D(^PRCP(445.3,D,0)) S X=$P(^(0),U) S DWLC=DWLC+1,^SRF(DA,DV,DWLC,0)=X
"KRN",.402,739,"DR",99,1,9.3)
N DIMQ,DIMSTRT,DIMSCNT S (DIMQ,DIMSTRT)=$NA(^PRCP(445.3,"ASR2",I(0,0))),DIMSCNT=$QL(DIMQ) F  S DIMQ=$Q(@DIMQ) Q:DIMQ=""  Q:$NA(@DIMQ,DIMSCNT)'=DIMSTRT   X DR(99,1,9.2) Q:'$D(D)  S D=D0
"KRN",.402,741,-1)
0^3
"KRN",.402,741,0)
SROMEN-OUT^3140428.152^^130^^^3140428
"KRN",.402,741,"DIAB",1,0,130,0)
.09;T
"KRN",.402,741,"DIAB",1,0,130,1)
1.13;T
"KRN",.402,741,"DIAB",1,1,130.042,0)
.01;T
"KRN",.402,741,"DIAB",1,1,130.06,0)
.01;T
"KRN",.402,741,"DIAB",1,1,130.16,0)
.01;T
"KRN",.402,741,"DIAB",1,1,130.17,0)
.01;T
"KRN",.402,741,"DIAB",1,1,130.213,0)
.01;T
"KRN",.402,741,"DIAB",1,1,130.28,0)
.01;T
"KRN",.402,741,"DIAB",1,1,130.36,0)
.01;T
"KRN",.402,741,"DIAB",1,2,130.29,0)
.01;T
"KRN",.402,741,"DIAB",1,2,130.37,0)
.01;T
"KRN",.402,741,"DIAB",1,2,130.47,0)
.01;T
"KRN",.402,741,"DIAB",2,0,130,0)
.011;T
"KRN",.402,741,"DIAB",2,0,130,1)
.31;T
"KRN",.402,741,"DIAB",2,1,130.042,0)
1;T
"KRN",.402,741,"DIAB",2,1,130.06,0)
.05//YES;T
"KRN",.402,741,"DIAB",2,1,130.16,0)
3;T
"KRN",.402,741,"DIAB",2,1,130.17,0)
2;T
"KRN",.402,741,"DIAB",2,1,130.213,0)
1;T
"KRN",.402,741,"DIAB",2,1,130.28,0)
2;T
"KRN",.402,741,"DIAB",2,1,130.36,0)
1;T
"KRN",.402,741,"DIAB",2,2,130.29,0)
1;T
"KRN",.402,741,"DIAB",2,2,130.37,0)
1;T
"KRN",.402,741,"DIAB",2,2,130.47,0)
1;T
"KRN",.402,741,"DIAB",3,0,130,0)
.14;T
"KRN",.402,741,"DIAB",3,0,130,1)
.37;T
"KRN",.402,741,"DIAB",3,1,130.042,0)
2;T
"KRN",.402,741,"DIAB",3,1,130.06,0)
24;T
"KRN",.402,741,"DIAB",3,1,130.28,0)
3;T
"KRN",.402,741,"DIAB",3,1,130.36,0)
3;T
"KRN",.402,741,"DIAB",3,2,130.29,0)
2;T
"KRN",.402,741,"DIAB",3,2,130.37,0)
2;T
"KRN",.402,741,"DIAB",4,0,130,0)
32;T
"KRN",.402,741,"DIAB",4,0,130,1)
.213;T
"KRN",.402,741,"DIAB",4,2,130.29,0)
3;T
"KRN",.402,741,"DIAB",4,2,130.37,0)
3;T
"KRN",.402,741,"DIAB",5,0,130,0)
32.5;T
"KRN",.402,741,"DIAB",5,0,130,1)
42;T
"KRN",.402,741,"DIAB",6,0,130,0)
.72;T
"KRN",.402,741,"DIAB",6,0,130,1)
17;T
"KRN",.402,741,"DIAB",7,0,130,0)
26;T
"KRN",.402,741,"DIAB",7,0,130,1)
17.5;T
"KRN",.402,741,"DIAB",8,0,130,0)
27;T
"KRN",.402,741,"DIAB",8,0,130,1)
18;T
"KRN",.402,741,"DIAB",9,0,130,0)
.42;T
"KRN",.402,741,"DIAB",9,0,130,1)
19;T
"KRN",.402,741,"DIAB",10,0,130,0)
.12;T
"KRN",.402,741,"DIAB",11,0,130,0)
506;T
"KRN",.402,741,"DIAB",12,0,130,0)
508;T
"KRN",.402,741,"DIAB",13,0,130,0)
.205;T
"KRN",.402,741,"DIAB",14,0,130,0)
.22;T
"KRN",.402,741,"DIAB",15,0,130,0)
.23;T
"KRN",.402,741,"DIAB",16,0,130,0)
.232;T
"KRN",.402,741,"DIAB",17,0,130,0)
63;T
"KRN",.402,741,"DIAB",18,0,130,0)
.111;T
"KRN",.402,741,"DIAB",19,0,130,0)
.112;T
"KRN",.402,741,"DIAB",20,0,130,0)
.02;T
"KRN",.402,741,"DIAB",21,0,130,0)
.15;T
"KRN",.402,741,"DIAB",22,0,130,0)
630;T
"KRN",.402,741,"DIAB",23,0,130,0)
44;T
"KRN",.402,741,"DIAB",24,0,130,0)
45;T
"KRN",.402,741,"DIAB",25,0,130,0)
46;T
"KRN",.402,741,"DIAB",26,0,130,0)
633;T
"KRN",.402,741,"DIAB",27,0,130,0)
635;T
"KRN",.402,741,"DIAB",28,0,130,0)
636;T
"KRN",.402,741,"DIAB",29,0,130,0)
637;T
"KRN",.402,741,"DIAB",30,0,130,0)
47;T
"KRN",.402,741,"DIAB",31,0,130,0)
48;T
"KRN",.402,741,"DIAB",32,0,130,0)
.04;T
"KRN",.402,741,"DIAB",33,0,130,0)
1.09;T
"KRN",.402,741,"DIAB",34,0,130,0)
.164;T
"KRN",.402,741,"DIAB",35,0,130,0)
.166;T
"KRN",.402,741,"DIAB",36,0,130,0)
49;T
"KRN",.402,741,"DIAB",37,0,130,0)
64;T
"KRN",.402,741,"DIAB",38,0,130,0)
.29;T
"KRN",.402,741,"DR",1,130)
.09T~;.011T~;.14T~;32T~;32.5T~;.72T~;26T~;27T~;.42T~;.12T~;506T~;508T~;.205T~;.22T~;.23T~;.232T~;63T~;.111T~;.112T~;.02T~;.15T~;630T~;44T~;45T~;46T~;633T~;635T~;636T~;637T~;47T~;48T~;.04T~;1.09T~;.164T~;.166T~;49T~;64T~;.29T~;
"KRN",.402,741,"DR",1,130,1)
1.13T~;.31T~;.37T~;.213T~;42T~;17T~;17.5T~;18T~;19T~;
"KRN",.402,741,"DR",2,130.042)
.01T~;1T~;2T~;
"KRN",.402,741,"DR",2,130.06)
.01T~;.05T~//YES;24T~;
"KRN",.402,741,"DR",2,130.16)
.01T~;3T~;
"KRN",.402,741,"DR",2,130.17)
.01T~;2T~;
"KRN",.402,741,"DR",2,130.213)
.01T~;1T~;
"KRN",.402,741,"DR",2,130.28)
.01T~;2T~;3T~;
"KRN",.402,741,"DR",2,130.36)
.01T~;1T~;3T~;
"KRN",.402,741,"DR",3,130.29)
.01T~;1T~;2T~;3T~;
"KRN",.402,741,"DR",3,130.37)
.01T~;1T~;2T~;3T~;
"KRN",.402,741,"DR",3,130.47)
.01T~;1T~;
"KRN",.402,742,-1)
0^5
"KRN",.402,742,0)
SROMEN-POST^3140210.1^^130^^^3140210
"KRN",.402,742,"DIAB",1,0,130,0)
41;T
"KRN",.402,742,"DIAB",1,1,130.16,0)
.01;T
"KRN",.402,742,"DIAB",1,1,130.18,0)
.01;T
"KRN",.402,742,"DIAB",1,1,130.213,0)
.01;T
"KRN",.402,742,"DIAB",2,0,130,0)
.875;T
"KRN",.402,742,"DIAB",2,1,130.16,0)
3;T
"KRN",.402,742,"DIAB",2,1,130.213,0)
1;T
"KRN",.402,742,"DIAB",3,0,130,0)
22;T
"KRN",.402,742,"DIAB",3,1,130.16,0)
1.5;T
"KRN",.402,742,"DIAB",3,1,130.18,0)
2;T
"KRN",.402,742,"DIAB",4,0,130,0)
.25;T
"KRN",.402,742,"DIAB",5,0,130,0)
.255;T
"KRN",.402,742,"DIAB",6,0,130,0)
62;T
"KRN",.402,742,"DIAB",7,0,130,0)
1.09;T
"KRN",.402,742,"DIAB",8,0,130,0)
.81;T
"KRN",.402,742,"DIAB",9,0,130,0)
.821;T
"KRN",.402,742,"DIAB",10,0,130,0)
.76;T
"KRN",.402,742,"DIAB",11,0,130,0)
.23;T
"KRN",.402,742,"DIAB",12,0,130,0)
.213;T
"KRN",.402,742,"DIAB",13,0,130,0)
.232;T
"KRN",.402,742,"DIAB",14,0,130,0)
.46;T
"KRN",.402,742,"DIAB",15,0,130,0)
25;T
"KRN",.402,742,"DIAB",16,0,130,0)
639;T
"KRN",.402,742,"DIAB",17,0,130,0)
34;T
"KRN",.402,742,"DIAB",18,0,130,0)
32.5;T
"KRN",.402,742,"DIAB",19,0,130,0)
.74;T
"KRN",.402,742,"DIAB",20,0,130,0)
26;T
"KRN",.402,742,"DIAB",21,0,130,0)
27;T
"KRN",.402,742,"DIAB",22,0,130,0)
.42;T
"KRN",.402,742,"DIAB",23,0,130,0)
.166;T
"KRN",.402,742,"DIAB",24,0,130,0)
619;T
"KRN",.402,742,"DIAB",25,0,130,0)
620;T
"KRN",.402,742,"DIAB",26,0,130,0)
621;T
"KRN",.402,742,"DIAB",27,0,130,0)
622;T
"KRN",.402,742,"DIAB",28,0,130,0)
623;T
"KRN",.402,742,"DIAB",29,0,130,0)
624;T
"KRN",.402,742,"DR",1,130)
41T~;.875T~;22T~;.25T~;.255T~;62T~;1.09T~;.81T~;.821T~;.76T~;.23T~;.213T~;.232T~;.46T~;25T~;639T~;34T~;32.5T~;.74T~;26T~;27T~;.42T~;.166T~;619T~;620T~;621T~;622T~;623T~;624T~;
"KRN",.402,742,"DR",2,130.16)
.01T~;3T~;1.5T~;
"KRN",.402,742,"DR",2,130.18)
.01T~;3;2T~;
"KRN",.402,742,"DR",2,130.213)
.01T~;1T~;
"KRN",.402,743,-1)
0^4
"KRN",.402,743,0)
SROMEN-OPER^3140528.1227^^130^^^3140528
"KRN",.402,743,"DIAB",1,0,130,0)
.203;T
"KRN",.402,743,"DIAB",1,1,130.01,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.0129,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.013,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.02,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.04,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.08,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.16,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.213,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.32,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.33,0)
.01;T
"KRN",.402,743,"DIAB",1,2,130.0134,0)
.01;T
"KRN",.402,743,"DIAB",1,2,130.34,0)
.01;T
"KRN",.402,743,"DIAB",1,2,130.39,0)
.01;T
"KRN",.402,743,"DIAB",2,0,130,0)
.205;T
"KRN",.402,743,"DIAB",2,1,130.01,0)
8;T
"KRN",.402,743,"DIAB",2,1,130.0129,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.013,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.02,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.04,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.08,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.16,0)
3;T
"KRN",.402,743,"DIAB",2,1,130.213,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.32,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.33,0)
1;T
"KRN",.402,743,"DIAB",2,2,130.0134,0)
1;T
"KRN",.402,743,"DIAB",2,2,130.34,0)
1;T
"KRN",.402,743,"DIAB",2,2,130.39,0)
1;T
"KRN",.402,743,"DIAB",3,0,130,0)
.213;T
"KRN",.402,743,"DIAB",3,1,130.01,0)
9;T
"KRN",.402,743,"DIAB",3,1,130.0129,0)
2;T
"KRN",.402,743,"DIAB",3,1,130.013,0)
2;T
"KRN",.402,743,"DIAB",3,1,130.02,0)
2;T
"KRN",.402,743,"DIAB",3,1,130.04,0)
3;T
"KRN",.402,743,"DIAB",3,1,130.16,0)
1.5;T
"KRN",.402,743,"DIAB",3,1,130.32,0)
2;T
"KRN",.402,743,"DIAB",3,2,130.0134,0)
2;T
"KRN",.402,743,"DIAB",3,2,130.34,0)
2;T
"KRN",.402,743,"DIAB",3,2,130.39,0)
2;T
"KRN",.402,743,"DIAB",4,0,130,0)
.22;T
"KRN",.402,743,"DIAB",4,1,130.01,0)
10;T
"KRN",.402,743,"DIAB",4,1,130.0129,0)
4;T
"KRN",.402,743,"DIAB",4,1,130.013,0)
3;T
"KRN",.402,743,"DIAB",4,1,130.02,0)
3;T
"KRN",.402,743,"DIAB",4,1,130.04,0)
4;T
"KRN",.402,743,"DIAB",4,1,130.32,0)
3;T
"KRN",.402,743,"DIAB",4,2,130.34,0)
3;T
"KRN",.402,743,"DIAB",5,0,130,0)
49;T
"KRN",.402,743,"DIAB",5,1,130.01,0)
1;T
"KRN",.402,743,"DIAB",5,1,130.0129,0)
3;T
"KRN",.402,743,"DIAB",5,1,130.013,0)
4;T
"KRN",.402,743,"DIAB",5,1,130.02,0)
4;T
"KRN",.402,743,"DIAB",5,1,130.04,0)
5;T
"KRN",.402,743,"DIAB",5,2,130.34,0)
4;T
"KRN",.402,743,"DIAB",6,0,130,0)
64;T
"KRN",.402,743,"DIAB",6,1,130.01,0)
2;T
"KRN",.402,743,"DIAB",6,1,130.0129,0)
5;T
"KRN",.402,743,"DIAB",6,2,130.34,0)
5;T
"KRN",.402,743,"DIAB",7,0,130,0)
.757;T
"KRN",.402,743,"DIAB",7,1,130.01,0)
11;T
"KRN",.402,743,"DIAB",8,0,130,0)
.75;T
"KRN",.402,743,"DIAB",8,1,130.01,0)
12;T
"KRN",.402,743,"DIAB",9,0,130,0)
57;T
"KRN",.402,743,"DIAB",9,1,130.01,0)
5;T
"KRN",.402,743,"DIAB",10,0,130,0)
58;T
"KRN",.402,743,"DIAB",10,1,130.01,0)
6;T
"KRN",.402,743,"DIAB",11,0,130,0)
.48;T
"KRN",.402,743,"DIAB",11,1,130.01,0)
7;T
"KRN",.402,743,"DIAB",12,0,130,0)
.47;T
"KRN",.402,743,"DIAB",12,1,130.01,0)
13;T
"KRN",.402,743,"DIAB",13,0,130,0)
.27;T
"KRN",.402,743,"DIAB",14,0,130,0)
.39;T
"KRN",.402,743,"DIAB",15,0,130,0)
.375;T
"KRN",.402,743,"DIAB",16,0,130,0)
630;T
"KRN",.402,743,"DIAB",17,0,130,0)
44;T
"KRN",.402,743,"DIAB",18,0,130,0)
45;T
"KRN",.402,743,"DIAB",19,0,130,0)
46;T
"KRN",.402,743,"DIAB",20,0,130,0)
633;T
"KRN",.402,743,"DIAB",21,0,130,0)
635;T
"KRN",.402,743,"DIAB",22,0,130,0)
636;T
"KRN",.402,743,"DIAB",23,0,130,0)
637;T
"KRN",.402,743,"DIAB",24,0,130,0)
47;T
"KRN",.402,743,"DIAB",25,0,130,0)
48;T
"KRN",.402,743,"DIAB",26,0,130,0)
127;T
"KRN",.402,743,"DIAB",27,0,130,0)
129;T
"KRN",.402,743,"DIAB",28,0,130,0)
130;T
"KRN",.402,743,"DIAB",29,0,130,0)
.29;T
"KRN",.402,743,"DIAB",30,0,130,0)
32;T
"KRN",.402,743,"DIAB",31,0,130,0)
32.5;T
"KRN",.402,743,"DIAB",32,0,130,0)
26;T
"KRN",.402,743,"DIAB",33,0,130,0)
27;T
"KRN",.402,743,"DIAB",34,0,130,0)
.42;T
"KRN",.402,743,"DIAB",35,0,130,0)
55;T
"KRN",.402,743,"DIAB",36,0,130,0)
60;T
"KRN",.402,743,"DR",1,130)
.203T~;.205T~;.213T~;.22T~;49T~;64T~;.757T~;.75T~;57T~;58T~;.48T~;.47T~;.27T~;.39T~;.375T~;630T~;44T~;45T~;46T~;633T~;635T~;636T~;637T~;47T~;48T~;127T~;129T~;130T~;.29T~;32T~;32.5T~;26T~;27T~;.42T~;55T~;60T~;
"KRN",.402,743,"DR",2,130.01)
.01T~;8T~;9T~;10T~;1T~;2T~;11T~;12T~;5T~;6T~;7T~;13T~;
"KRN",.402,743,"DR",2,130.0129)
.01T~;1T~;2T~;4T~;3T~;5T~;
"KRN",.402,743,"DR",2,130.013)
.01T~;1T~;2T~;3T~;4T~;
"KRN",.402,743,"DR",2,130.02)
.01T~;1T~;2T~;3T~;4T~;
"KRN",.402,743,"DR",2,130.04)
.01T~;1T~;3T~;4T~;5T~;
"KRN",.402,743,"DR",2,130.08)
.01T~;1T~;
"KRN",.402,743,"DR",2,130.16)
.01T~;3T~;1.5T~;
"KRN",.402,743,"DR",2,130.213)
.01T~;1T~;
"KRN",.402,743,"DR",2,130.32)
.01T~;1T~;2T~;3T~;
"KRN",.402,743,"DR",2,130.33)
.01T~;1T~;
"KRN",.402,743,"DR",3,130.0134)
.01T~;1T~;2T~;
"KRN",.402,743,"DR",3,130.34)
.01T~;1T~;2T~;3T~;4T~;5T~;
"KRN",.402,743,"DR",3,130.39)
.01T~;1T~;2T~;
"KRN",.402,746,-1)
0^10
"KRN",.402,746,0)
SRSRES1^3140818.1511^^130^^^3141028
"KRN",.402,746,"DIAB",1,0,130,1)
.164;T
"KRN",.402,746,"DIAB",1,1,130.03,0)
.01;T
"KRN",.402,746,"DIAB",1,1,130.065,0)
.01;T
"KRN",.402,746,"DIAB",2,0,130,0)
32;T
"KRN",.402,746,"DIAB",2,0,130,1)
.43;T
"KRN",.402,746,"DIAB",2,1,130.03,0)
1;T
"KRN",.402,746,"DIAB",3,0,130,1)
.037;T
"KRN",.402,746,"DIAB",3,1,130.03,0)
2;T
"KRN",.402,746,"DIAB",4,0,130,1)
65;T
"KRN",.402,746,"DIAB",4,1,130.03,0)
3;T
"KRN",.402,746,"DIAB",5,0,130,0)
32.5;"Prin Pre-OP ICD Diagnosis Code (ICD9)"
"KRN",.402,746,"DIAB",5,0,130,1)
1.01;T
"KRN",.402,746,"DIAB",5,1,130.03,0)
4;T
"KRN",.402,746,"DIAB",6,0,130,1)
1.02;T
"KRN",.402,746,"DIAB",6,1,130.03,0)
5;T
"KRN",.402,746,"DIAB",7,0,130,1)
1.03;T
"KRN",.402,746,"DIAB",8,0,130,0)
32.5;"Prin Pre-OP ICD Diagnosis Code (ICD10)"
"KRN",.402,746,"DIAB",8,0,130,1)
1.035;T
"KRN",.402,746,"DIAB",9,0,130,1)
1.04;T
"KRN",.402,746,"DIAB",10,0,130,0)
.011;T
"KRN",.402,746,"DIAB",10,0,130,1)
.05;T
"KRN",.402,746,"DIAB",11,0,130,0)
.035;T
"KRN",.402,746,"DIAB",11,0,130,1)
23;T
"KRN",.402,746,"DIAB",12,0,130,0)
.15;T
"KRN",.402,746,"DIAB",12,0,130,1)
.28;T
"KRN",.402,746,"DIAB",13,0,130,0)
.16;T
"KRN",.402,746,"DIAB",13,0,130,1)
80;T
"KRN",.402,746,"DR",1,130)
W !;32T~;S:$G(SRICDV)="" SRICDV=$$ICDSTR^SROICD(DA);I $G(SRICDV)["10" S Y="@1";32.5Prin Pre-OP ICD Diagnosis Code (ICD9)~;@1;I $G(SRICDV)["9" S Y="@2";32.5Prin Pre-OP ICD Diagnosis Code (ICD10)~;@2;.011T~;.035T~;.15T~;.16T~;Q;
"KRN",.402,746,"DR",1,130,1)
.164T~;.43T~;.037T~;65T~;1.01T~;1.02T~;1.03T~;1.035T~;1.04T~;.05T~;23T~;.28T~;80T~;
"KRN",.402,746,"DR",2,130.03)
.01T~;1T~;2T~;3T~;4T~;5T~;
"KRN",.402,746,"DR",2,130.065)
.01T~;
"KRN",.402,747,-1)
0^14
"KRN",.402,747,0)
SRSRES-SCHED^3140507.1701^^130^^^3140507
"KRN",.402,747,"DIAB",1,0,130,0)
26;T
"KRN",.402,747,"DIAB",1,1,130.14,0)
.01;T
"KRN",.402,747,"DIAB",1,1,130.16,0)
.01;T
"KRN",.402,747,"DIAB",1,1,130.17,0)
.01;T
"KRN",.402,747,"DIAB",2,0,130,0)
27;T
"KRN",.402,747,"DIAB",2,1,130.14,0)
1;T
"KRN",.402,747,"DIAB",2,1,130.16,0)
3;T
"KRN",.402,747,"DIAB",2,1,130.17,0)
2;T
"KRN",.402,747,"DIAB",3,0,130,0)
.42;T
"KRN",.402,747,"DIAB",3,1,130.16,0)
1.5;T
"KRN",.402,747,"DIAB",4,0,130,0)
32;T
"KRN",.402,747,"DIAB",5,0,130,0)
32.5;T
"KRN",.402,747,"DIAB",6,0,130,0)
.72;T
"KRN",.402,747,"DIAB",7,0,130,0)
.011;T
"KRN",.402,747,"DIAB",8,0,130,0)
56;T
"KRN",.402,747,"DIAB",9,0,130,0)
.035;T
"KRN",.402,747,"DIAB",10,0,130,0)
.04;T
"KRN",.402,747,"DIAB",11,0,130,0)
.14;T
"KRN",.402,747,"DIAB",12,0,130,0)
.15;T
"KRN",.402,747,"DIAB",13,0,130,0)
.16;T
"KRN",.402,747,"DIAB",14,0,130,0)
.164;T
"KRN",.402,747,"DIAB",15,0,130,0)
.43;T
"KRN",.402,747,"DIAB",16,0,130,0)
.037;T
"KRN",.402,747,"DIAB",17,0,130,0)
1.01;T
"KRN",.402,747,"DIAB",18,0,130,0)
1.02;T
"KRN",.402,747,"DIAB",19,0,130,0)
1.03;T
"KRN",.402,747,"DIAB",20,0,130,0)
1.035;T
"KRN",.402,747,"DIAB",21,0,130,0)
38;T
"KRN",.402,747,"DIAB",22,0,130,0)
40;T
"KRN",.402,747,"DIAB",23,0,130,0)
1.05;T
"KRN",.402,747,"DIAB",24,0,130,0)
1.04;T
"KRN",.402,747,"DIAB",25,0,130,0)
.05;T
"KRN",.402,747,"DIAB",26,0,130,0)
.31;T
"KRN",.402,747,"DIAB",27,0,130,0)
.34;T
"KRN",.402,747,"DIAB",28,0,130,0)
60;T
"KRN",.402,747,"DIAB",29,0,130,0)
.28;T
"KRN",.402,747,"DR",1,130)
26T~;27T~;.42T~;32T~;32.5T~;.72T~;.011T~;56T~;.035T~;.04T~;.14T~;.15T~;.16T~;.164T~;.43T~;.037T~;1.01T~;1.02T~;1.03T~;1.035T~;38T~;40T~;1.05T~;1.04T~;.05T~;.31T~;.34T~;60T~;.28T~;
"KRN",.402,747,"DR",2,130.14)
.01T~;1T~;
"KRN",.402,747,"DR",2,130.16)
.01T~;3T~;1.5T~;
"KRN",.402,747,"DR",2,130.17)
.01T~;2T~;
"KRN",.402,753,-1)
0^9
"KRN",.402,753,0)
SRSREQV^3140507.1636^^130^^^3140507
"KRN",.402,753,"DIAB",1,0,130,0)
26;T
"KRN",.402,753,"DIAB",1,1,130.03,0)
.01;T
"KRN",.402,753,"DIAB",1,1,130.065,0)
.01;T
"KRN",.402,753,"DIAB",1,1,130.14,0)
.01;T
"KRN",.402,753,"DIAB",1,1,130.16,0)
.01;T
"KRN",.402,753,"DIAB",1,1,130.17,0)
.01;T
"KRN",.402,753,"DIAB",2,0,130,0)
.42;T
"KRN",.402,753,"DIAB",2,1,130.03,0)
1;T
"KRN",.402,753,"DIAB",2,1,130.14,0)
1;T
"KRN",.402,753,"DIAB",2,1,130.16,0)
3;T
"KRN",.402,753,"DIAB",2,1,130.17,0)
2;T
"KRN",.402,753,"DIAB",3,0,130,0)
27;T
"KRN",.402,753,"DIAB",3,1,130.03,0)
2;T
"KRN",.402,753,"DIAB",3,1,130.16,0)
1.5;T
"KRN",.402,753,"DIAB",4,0,130,0)
638;T
"KRN",.402,753,"DIAB",4,1,130.03,0)
3;T
"KRN",.402,753,"DIAB",5,0,130,0)
32;T
"KRN",.402,753,"DIAB",5,1,130.03,0)
4;T
"KRN",.402,753,"DIAB",6,0,130,0)
32.5;T
"KRN",.402,753,"DIAB",6,1,130.03,0)
5;T
"KRN",.402,753,"DIAB",7,0,130,0)
.72;T
"KRN",.402,753,"DIAB",9,0,130,0)
.011;T
"KRN",.402,753,"DIAB",10,0,130,0)
.035;T
"KRN",.402,753,"DIAB",11,0,130,0)
.04;T
"KRN",.402,753,"DIAB",12,0,130,0)
.14;T
"KRN",.402,753,"DIAB",13,0,130,0)
.15;T
"KRN",.402,753,"DIAB",14,0,130,0)
.16;T
"KRN",.402,753,"DIAB",15,0,130,0)
.164;T
"KRN",.402,753,"DIAB",16,0,130,0)
.43;T
"KRN",.402,753,"DIAB",17,0,130,0)
.037;T
"KRN",.402,753,"DIAB",18,0,130,0)
65;T
"KRN",.402,753,"DIAB",19,0,130,0)
1.01;T
"KRN",.402,753,"DIAB",20,0,130,0)
1.02;T
"KRN",.402,753,"DIAB",21,0,130,0)
1.03;T
"KRN",.402,753,"DIAB",22,0,130,0)
1.035;T
"KRN",.402,753,"DIAB",23,0,130,0)
38;T
"KRN",.402,753,"DIAB",24,0,130,0)
40;T
"KRN",.402,753,"DIAB",25,0,130,0)
1.05;T
"KRN",.402,753,"DIAB",26,0,130,0)
1.04;T
"KRN",.402,753,"DIAB",27,0,130,0)
.05;T
"KRN",.402,753,"DIAB",28,0,130,0)
23;T
"KRN",.402,753,"DIAB",29,0,130,0)
.28;T
"KRN",.402,753,"DIAB",30,0,130,0)
55;T
"KRN",.402,753,"DIAB",31,0,130,0)
60;T
"KRN",.402,753,"DR",1,130)
26T~;.42T~;27T~;638T~;32T~;32.5T~;.72T~;.011T~;.035T~;.04T~;.14T~;.15T~;.16T~;.164T~;.43T~;.037T~;65T~;1.01T~;1.02T~;1.03T~;1.035T~;38T~;40T~;1.05T~;1.04T~;.05T~;23T~;.28T~;55T~;60T~;
"KRN",.402,753,"DR",2,130.03)
.01T~;1T~;2T~;3T~;4T~;5T~;
"KRN",.402,753,"DR",2,130.065)
.01T~;Q;
"KRN",.402,753,"DR",2,130.14)
.01T~;1T~;
"KRN",.402,753,"DR",2,130.16)
.01T~;3T~;1.5T~;
"KRN",.402,753,"DR",2,130.17)
.01T~;2T~;
"KRN",.402,755,-1)
0^7
"KRN",.402,755,0)
SROMEN-START^3140428.1515^^130^^^3140428
"KRN",.402,755,"DIAB",1,0,130,0)
.09;T
"KRN",.402,755,"DIAB",1,1,130.042,0)
.01;T
"KRN",.402,755,"DIAB",1,1,130.065,0)
.01;T
"KRN",.402,755,"DIAB",1,1,130.17,0)
.01;T
"KRN",.402,755,"DIAB",1,1,130.31,0)
.01;T
"KRN",.402,755,"DIAB",2,0,130,0)
32;T
"KRN",.402,755,"DIAB",2,1,130.042,0)
1;T
"KRN",.402,755,"DIAB",2,1,130.065,0)
1;T
"KRN",.402,755,"DIAB",2,1,130.17,0)
3;T
"KRN",.402,755,"DIAB",2,1,130.31,0)
1;T
"KRN",.402,755,"DIAB",3,0,130,0)
32.5;T
"KRN",.402,755,"DIAB",3,1,130.042,0)
2;T
"KRN",.402,755,"DIAB",3,1,130.17,0)
2;T
"KRN",.402,755,"DIAB",4,0,130,0)
.72;T
"KRN",.402,755,"DIAB",5,0,130,0)
.02;T
"KRN",.402,755,"DIAB",6,0,130,0)
.04;T
"KRN",.402,755,"DIAB",7,0,130,0)
.43;T
"KRN",.402,755,"DIAB",8,0,130,0)
.035;T
"KRN",.402,755,"DIAB",9,0,130,0)
1.01;T
"KRN",.402,755,"DIAB",10,0,130,0)
.971;T
"KRN",.402,755,"DIAB",11,0,130,0)
17;T
"KRN",.402,755,"DIAB",12,0,130,0)
17.5;T
"KRN",.402,755,"DIAB",13,0,130,0)
18;T
"KRN",.402,755,"DIAB",14,0,130,0)
67;T
"KRN",.402,755,"DIAB",15,0,130,0)
42;T
"KRN",.402,755,"DIAB",16,0,130,0)
1.13;T
"KRN",.402,755,"DIAB",17,0,130,0)
.19;T
"KRN",.402,755,"DIAB",18,0,130,0)
.196;T
"KRN",.402,755,"DIAB",19,0,130,0)
.07;T
"KRN",.402,755,"DIAB",20,0,130,0)
.11;T
"KRN",.402,755,"DIAB",21,0,130,0)
.12;T
"KRN",.402,755,"DIAB",22,0,130,0)
506;T
"KRN",.402,755,"DIAB",23,0,130,0)
508;T
"KRN",.402,755,"DIAB",24,0,130,0)
.57;T
"KRN",.402,755,"DIAB",25,0,130,0)
.18;T
"KRN",.402,755,"DIAB",26,0,130,0)
4;T
"KRN",.402,755,"DIAB",27,0,130,0)
.175;T
"KRN",.402,755,"DIAB",28,0,130,0)
8;T
"KRN",.402,755,"DIAB",29,0,130,0)
65;T
"KRN",.402,755,"DIAB",30,0,130,0)
638;T
"KRN",.402,755,"DIAB",31,0,130,0)
.13;T
"KRN",.402,755,"DIAB",32,0,130,0)
.55;T
"KRN",.402,755,"DIAB",33,0,130,0)
6;T
"KRN",.402,755,"DR",1,130)
.09T~;32T~;32.5T~;.72T~;.02T~;.04T~;.43T~;.035T~;1.01T~;.971T~;17T~;17.5T~;18T~;67T~;42T~;1.13T~;.19T~;.196T~;.07T~;.11T~;.12T~;506T~;508T~;.57T~;.18T~;4T~;.175T~;8T~;65T~;638T~;.13T~;.55T~;6T~;
"KRN",.402,755,"DR",2,130.042)
.01T~;1T~;2T~;
"KRN",.402,755,"DR",2,130.065)
.01T~;1T~;
"KRN",.402,755,"DR",2,130.17)
.01T~;3T~;2T~;
"KRN",.402,755,"DR",2,130.31)
.01T~;1T~;
"KRN",.402,1409,-1)
0^8
"KRN",.402,1409,0)
SRO-NOCOMP^3140227.1624^^130^^^3141104
"KRN",.402,1409,"DR",1,130)
403////N;248////N;249////N;404////N;488////N;318////N;251////N;252////N;285////N;319////N;409////N;254////N;320////N;256////N;410////N;287////N;321////N;411////N;258////N;322////N;257////N;261////N;263////N;250////N;385////N;
"KRN",.402,1409,"DR",1,130,1)
386////N;387////N;388////N;389////N;391////N;466////N;467////N;447////N;448////N;644////N;645////N;
"KRN",.402,1410,-1)
0^13
"KRN",.402,1410,0)
SREQUEST^3140818.1501^^130^^^3140917
"KRN",.402,1410,"DIAB",1,1,130.03,0)
.01;T
"KRN",.402,1410,"DIAB",1,1,130.065,0)
.01;T
"KRN",.402,1410,"DIAB",2,0,130,0)
32;T
"KRN",.402,1410,"DIAB",2,0,130,1)
.16;T
"KRN",.402,1410,"DIAB",2,0,130,2)
1.03;T
"KRN",.402,1410,"DIAB",2,1,130.03,0)
1;T
"KRN",.402,1410,"DIAB",3,1,130.03,0)
2;T
"KRN",.402,1410,"DIAB",4,1,130.03,0)
3;T
"KRN",.402,1410,"DIAB",5,0,130,0)
32.5;"Prin Pre-OP ICD Diagnosis Code (ICD9)"
"KRN",.402,1410,"DIAB",5,0,130,1)
.164;T
"KRN",.402,1410,"DIAB",5,0,130,2)
1.035;T
"KRN",.402,1410,"DIAB",5,1,130.03,0)
4;T
"KRN",.402,1410,"DIAB",6,1,130.03,0)
5;T
"KRN",.402,1410,"DIAB",8,0,130,1)
.43;T
"KRN",.402,1410,"DIAB",8,0,130,2)
1.04;T
"KRN",.402,1410,"DIAB",9,0,130,0)
56;T
"KRN",.402,1410,"DIAB",11,0,130,1)
.037;T
"KRN",.402,1410,"DIAB",11,0,130,2)
.05;T
"KRN",.402,1410,"DIAB",12,0,130,0)
.035;T
"KRN",.402,1410,"DIAB",13,0,130,1)
65;T
"KRN",.402,1410,"DIAB",13,0,130,2)
23;T
"KRN",.402,1410,"DIAB",14,0,130,2)
.28;T
"KRN",.402,1410,"DIAB",15,0,130,0)
.15;T
"KRN",.402,1410,"DIAB",15,0,130,1)
1.01;T
"KRN",.402,1410,"DIAB",15,0,130,2)
80;T
"KRN",.402,1410,"DIAB",18,0,130,1)
1.02;T
"KRN",.402,1410,"DR",1,130)
I $D(SREQ(32)) S Y="@1";32T~;@1;I $D(SREQ(32.5)) S Y="@2";32.5Prin Pre-OP ICD Diagnosis Code (ICD9)~;@2;I $P($G(^SRF(DA,0)),U,12)=3 S Y="@4";Q;56T~;@4;I $D(SREQ(.035)) S Y="@5";.035T~;@5;I $D(SREQ(.15)) S Y="@6";.15T~;@6;
"KRN",.402,1410,"DR",1,130,1)
I $D(SREQ(.16)) S Y="@7";.16T~;@7;I $D(SREQ(.164)) S Y="@8";.164T~;@8;I $D(SREQ(.43)) S Y="@9";.43T~;@9;I $D(SREQ(.037)) S Y="@10";.037T~;@10;65T~;I $D(SREQ(1.01)) S Y="@11";1.01T~;@11;I $D(SREQ(1.02)) S Y="@12";1.02T~;@12;
"KRN",.402,1410,"DR",1,130,2)
I $D(SREQ(1.03)) S Y="@13";1.03T~;@13;I $D(SREQ(1.035)) S Y="@14";1.035T~;@14;I $D(SREQ(1.04)) S Y="@15";1.04T~;@15;I $D(SREQ(.05)) S Y="@16";.05T~;@16;23T~;.28T~;80T~;
"KRN",.402,1410,"DR",2,130.03)
.01T~;1T~;2T~;3T~;4T~;5T~;
"KRN",.402,1410,"DR",2,130.065)
.01T~;
"KRN",.402,1411,-1)
0^12
"KRN",.402,1411,0)
SRSCHED-UNREQUESTED^3140818.1555^^130^^^3140915
"KRN",.402,1411,"DIAB",2,0,130,0)
32;T
"KRN",.402,1411,"DIAB",2,0,130,1)
.15;T
"KRN",.402,1411,"DIAB",2,0,130,2)
1.02;T
"KRN",.402,1411,"DIAB",5,0,130,0)
32.5;"Prin Pre-OP ICD Diagnosis Code (ICD9)"
"KRN",.402,1411,"DIAB",5,0,130,1)
.16;T
"KRN",.402,1411,"DIAB",5,0,130,2)
1.03;T
"KRN",.402,1411,"DIAB",8,0,130,1)
.164;T
"KRN",.402,1411,"DIAB",8,0,130,2)
1.035;T
"KRN",.402,1411,"DIAB",9,0,130,0)
.011;T
"KRN",.402,1411,"DIAB",11,0,130,0)
56;T
"KRN",.402,1411,"DIAB",11,0,130,1)
.43;T
"KRN",.402,1411,"DIAB",11,0,130,2)
1.04;T
"KRN",.402,1411,"DIAB",14,0,130,0)
.035;T
"KRN",.402,1411,"DIAB",14,0,130,1)
.037;T
"KRN",.402,1411,"DIAB",14,0,130,2)
.05;T
"KRN",.402,1411,"DIAB",16,0,130,2)
.28;T
"KRN",.402,1411,"DIAB",17,0,130,1)
1.01;T
"KRN",.402,1411,"DIAB",17,0,130,2)
80;T
"KRN",.402,1411,"DR",1,130)
I $D(SREQ(32)) S Y="@1";32T~;@1;I $D(SREQ(32.5)) S Y="@2";32.5Prin Pre-OP ICD Diagnosis Code (ICD9)~;@2;I $D(SREQ(.011)) S Y="@4";Q;.011T~;I $P($G(^SRF(DA,0)),U,12)=3 S Y="@4";56T~;@4;I $D(SREQ(.035)) S Y="@5";.035T~;@5;
"KRN",.402,1411,"DR",1,130,1)
I $D(SREQ(.15)) S Y="@6";.15T~;@6;I $D(SREQ(.16)) S Y="@7";.16T~;@7;I $D(SREQ(.164)) S Y="@8";.164T~;@8;I $D(SREQ(.43)) S Y="@9";.43T~;@9;I $D(SREQ(.037)) S Y="@10";.037T~;@10;I $D(SREQ(1.01)) S Y="@11";1.01T~;@11;
"KRN",.402,1411,"DR",1,130,2)
I $D(SREQ(1.02)) S Y="@12";1.02T~;@12;I $D(SREQ(1.03)) S Y="@13";1.03T~;@13;I $D(SREQ(1.035)) S Y="@14";1.035T~;@14;I $D(SREQ(1.04)) S Y="@15";1.04T~;@15;I $D(SREQ(.05)) S Y="@16";.05T~;@16;.28T~;80T~;
"KRN",.402,2107,-1)
0^2
"KRN",.402,2107,0)
SRONRPT^3140303.1547^^130^^^3140303
"KRN",.402,2107,"DIAB",1,0,130,0)
600;T
"KRN",.402,2107,"DIAB",1,0,130,1)
.164;T
"KRN",.402,2107,"DIAB",1,0,130,2)
.875;T
"KRN",.402,2107,"DIAB",1,1,130.01,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.0129,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.013,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.02,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.04,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.06,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.065,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.08,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.16,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.23,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.24,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.28,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.31,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.32,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.33,0)
.01;T
"KRN",.402,2107,"DIAB",1,1,130.36,0)
.01;T
"KRN",.402,2107,"DIAB",1,2,130.0134,0)
.01;T
"KRN",.402,2107,"DIAB",1,2,130.34,0)
.01;T
"KRN",.402,2107,"DIAB",1,2,130.39,0)
.01;T
"KRN",.402,2107,"DIAB",2,0,130,0)
601;T
"KRN",.402,2107,"DIAB",2,0,130,1)
.15;T
"KRN",.402,2107,"DIAB",2,0,130,2)
.25;T
"KRN",.402,2107,"DIAB",2,1,130.01,0)
8;T
"KRN",.402,2107,"DIAB",2,1,130.0129,0)
1;T
"KRN",.402,2107,"DIAB",2,1,130.013,0)
1;T
"KRN",.402,2107,"DIAB",2,1,130.02,0)
3;T
"KRN",.402,2107,"DIAB",2,1,130.04,0)
1;T
"KRN",.402,2107,"DIAB",2,1,130.065,0)
1;T
"KRN",.402,2107,"DIAB",2,1,130.08,0)
1;T
"KRN",.402,2107,"DIAB",2,1,130.23,0)
1;T
"KRN",.402,2107,"DIAB",2,1,130.24,0)
1;T
"KRN",.402,2107,"DIAB",2,1,130.28,0)
3;T
"KRN",.402,2107,"DIAB",2,1,130.31,0)
1;T
"KRN",.402,2107,"DIAB",2,1,130.32,0)
2;T
"KRN",.402,2107,"DIAB",2,1,130.33,0)
1;T
"KRN",.402,2107,"DIAB",2,1,130.36,0)
3;T
"KRN",.402,2107,"DIAB",2,2,130.0134,0)
1;T
"KRN",.402,2107,"DIAB",2,2,130.34,0)
1;T
"KRN",.402,2107,"DIAB",2,2,130.39,0)
1;T
"KRN",.402,2107,"DIAB",3,0,130,0)
602;T
"KRN",.402,2107,"DIAB",3,0,130,1)
.16;T
"KRN",.402,2107,"DIAB",3,0,130,2)
.255;T
"KRN",.402,2107,"DIAB",3,1,130.01,0)
9;T
"KRN",.402,2107,"DIAB",3,1,130.0129,0)
2;T
"KRN",.402,2107,"DIAB",3,1,130.013,0)
2;T
"KRN",.402,2107,"DIAB",3,1,130.02,0)
1;T
"KRN",.402,2107,"DIAB",3,1,130.04,0)
3;T
"KRN",.402,2107,"DIAB",3,1,130.31,0)
2;T
"KRN",.402,2107,"DIAB",3,1,130.32,0)
1;T
"KRN",.402,2107,"DIAB",3,2,130.0134,0)
2;T
"KRN",.402,2107,"DIAB",3,2,130.34,0)
2;T
"KRN",.402,2107,"DIAB",3,2,130.39,0)
2;T
"KRN",.402,2107,"DIAB",4,0,130,0)
603;T
"KRN",.402,2107,"DIAB",4,0,130,1)
.31;T
"KRN",.402,2107,"DIAB",4,0,130,2)
.81;T
"KRN",.402,2107,"DIAB",4,1,130.01,0)
10;T
"KRN",.402,2107,"DIAB",4,1,130.0129,0)
4;T
"KRN",.402,2107,"DIAB",4,1,130.013,0)
3;T
"KRN",.402,2107,"DIAB",4,1,130.02,0)
4;T
"KRN",.402,2107,"DIAB",4,1,130.04,0)
4;T
"KRN",.402,2107,"DIAB",4,1,130.32,0)
3;T
"KRN",.402,2107,"DIAB",4,2,130.34,0)
3;T
"KRN",.402,2107,"DIAB",5,0,130,0)
604;T
"KRN",.402,2107,"DIAB",5,0,130,1)
.33;T
"KRN",.402,2107,"DIAB",5,0,130,2)
.821;T
"KRN",.402,2107,"DIAB",5,1,130.01,0)
1;T
"KRN",.402,2107,"DIAB",5,1,130.0129,0)
3;T
"KRN",.402,2107,"DIAB",5,1,130.013,0)
4;T
"KRN",.402,2107,"DIAB",5,1,130.02,0)
2;T
"KRN",.402,2107,"DIAB",5,1,130.04,0)
5;T
"KRN",.402,2107,"DIAB",5,2,130.34,0)
4;T
"KRN",.402,2107,"DIAB",6,0,130,0)
605;T
"KRN",.402,2107,"DIAB",6,0,130,1)
30;T
"KRN",.402,2107,"DIAB",6,0,130,2)
.76;T
"KRN",.402,2107,"DIAB",6,1,130.01,0)
2;T
"KRN",.402,2107,"DIAB",6,1,130.0129,0)
5;T
"KRN",.402,2107,"DIAB",6,1,130.013,0)
5;T
"KRN",.402,2107,"DIAB",6,2,130.34,0)
5;T
"KRN",.402,2107,"DIAB",7,0,130,0)
606;T
"KRN",.402,2107,"DIAB",7,0,130,1)
.112;T
"KRN",.402,2107,"DIAB",7,0,130,2)
.77;T
"KRN",.402,2107,"DIAB",7,1,130.01,0)
11;T
"KRN",.402,2107,"DIAB",8,0,130,0)
607;T
"KRN",.402,2107,"DIAB",8,0,130,1)
.111;T
"KRN",.402,2107,"DIAB",8,0,130,2)
129;T
"KRN",.402,2107,"DIAB",8,1,130.01,0)
12;T
"KRN",.402,2107,"DIAB",9,0,130,0)
611;T
"KRN",.402,2107,"DIAB",9,0,130,1)
31;T
"KRN",.402,2107,"DIAB",9,0,130,2)
127;T
"KRN",.402,2107,"DIAB",9,1,130.01,0)
5;T
"KRN",.402,2107,"DIAB",10,0,130,0)
608;T
"KRN",.402,2107,"DIAB",10,0,130,1)
.19;T
"KRN",.402,2107,"DIAB",10,0,130,2)
25;T
"KRN",.402,2107,"DIAB",10,1,130.01,0)
6;T
"KRN",.402,2107,"DIAB",11,0,130,0)
609;T
"KRN",.402,2107,"DIAB",11,0,130,1)
.196;T
"KRN",.402,2107,"DIAB",11,0,130,2)
130;T
"KRN",.402,2107,"DIAB",11,1,130.01,0)
7;T
"KRN",.402,2107,"DIAB",12,0,130,0)
610;T
"KRN",.402,2107,"DIAB",12,0,130,1)
.07;T
"KRN",.402,2107,"DIAB",12,0,130,2)
131;T
"KRN",.402,2107,"DIAB",12,1,130.01,0)
13;T
"KRN",.402,2107,"DIAB",13,0,130,0)
85;T
"KRN",.402,2107,"DIAB",13,0,130,1)
.195;T
"KRN",.402,2107,"DIAB",14,0,130,0)
.69;T
"KRN",.402,2107,"DIAB",14,0,130,1)
.12;T
"KRN",.402,2107,"DIAB",14,0,130,2)
619;T
"KRN",.402,2107,"DIAB",15,0,130,0)
74;T
"KRN",.402,2107,"DIAB",15,0,130,1)
506;T
"KRN",.402,2107,"DIAB",15,0,130,2)
620;T
"KRN",.402,2107,"DIAB",16,0,130,0)
630;T
"KRN",.402,2107,"DIAB",16,0,130,1)
508;T
"KRN",.402,2107,"DIAB",16,0,130,2)
621;T
"KRN",.402,2107,"DIAB",17,0,130,0)
44;T
"KRN",.402,2107,"DIAB",17,0,130,1)
.18;T
"KRN",.402,2107,"DIAB",17,0,130,2)
622;T
"KRN",.402,2107,"DIAB",18,0,130,0)
45;T
"KRN",.402,2107,"DIAB",18,0,130,1)
4;T
"KRN",.402,2107,"DIAB",18,0,130,2)
623;T
"KRN",.402,2107,"DIAB",19,0,130,0)
46;T
"KRN",.402,2107,"DIAB",19,0,130,1)
.175;T
"KRN",.402,2107,"DIAB",19,0,130,2)
624;T
"KRN",.402,2107,"DIAB",20,0,130,0)
633;T
"KRN",.402,2107,"DIAB",20,0,130,1)
8;T
"KRN",.402,2107,"DIAB",20,0,130,2)
.29;T
"KRN",.402,2107,"DIAB",21,0,130,0)
635;T
"KRN",.402,2107,"DIAB",21,0,130,1)
65;T
"KRN",.402,2107,"DIAB",22,0,130,0)
636;T
"KRN",.402,2107,"DIAB",22,0,130,1)
.13;T
"KRN",.402,2107,"DIAB",23,0,130,0)
637;T
"KRN",.402,2107,"DIAB",23,0,130,1)
.75;T
"KRN",.402,2107,"DIAB",24,0,130,0)
47;T
"KRN",.402,2107,"DIAB",24,0,130,1)
57;T
"KRN",.402,2107,"DIAB",25,0,130,0)
48;T
"KRN",.402,2107,"DIAB",25,0,130,1)
58;T
"KRN",.402,2107,"DIAB",26,0,130,0)
.203;T
"KRN",.402,2107,"DIAB",26,0,130,1)
.55;T
"KRN",.402,2107,"DIAB",27,0,130,0)
.205;T
"KRN",.402,2107,"DIAB",27,0,130,1)
6;T
"KRN",.402,2107,"DIAB",28,0,130,0)
.22;T
"KRN",.402,2107,"DIAB",28,0,130,1)
49;T
"KRN",.402,2107,"DIAB",29,0,130,0)
.23;T
"KRN",.402,2107,"DIAB",29,0,130,1)
64;T
"KRN",.402,2107,"DIAB",30,0,130,0)
.206;T
"KRN",.402,2107,"DIAB",30,0,130,1)
.37;T
"KRN",.402,2107,"DIAB",31,0,130,0)
.232;T
"KRN",.402,2107,"DIAB",31,0,130,1)
22;T
"KRN",.402,2107,"DIAB",32,0,130,0)
26;T
"KRN",.402,2107,"DIAB",32,0,130,1)
.48;T
"KRN",.402,2107,"DIAB",33,0,130,0)
.42;T
"KRN",.402,2107,"DIAB",33,0,130,1)
.757;T
"KRN",.402,2107,"DIAB",34,0,130,0)
1.09;T
"KRN",.402,2107,"DIAB",34,0,130,1)
.47;T
"KRN",.402,2107,"DIAB",35,0,130,0)
.46;T
"KRN",.402,2107,"DIAB",35,0,130,1)
.375;T
"KRN",.402,2107,"DIAB",36,0,130,0)
.02;T
"KRN",.402,2107,"DIAB",36,0,130,1)
.39;T
"KRN",.402,2107,"DIAB",37,0,130,0)
.035;T
"KRN",.402,2107,"DIAB",37,0,130,1)
.27;T
"KRN",.402,2107,"DIAB",38,0,130,0)
.14;T
"KRN",.402,2107,"DIAB",38,0,130,1)
41;T
"KRN",.402,2107,"DIAB",39,0,130,1)
1.13;T
"KRN",.402,2107,"DR",1,130)
600T~;601T~;602T~;603T~;604T~;605T~;606T~;607T~;611T~;608T~;609T~;610T~;85T~;.69T~;74T~;630T~;44T~;45T~;46T~;633T~;635T~;636T~;637T~;47T~;48T~;.203T~;.205T~;.22T~;.23T~;.206T~;.232T~;26T~;.42T~;1.09T~;.46T~;.02T~;.035T~;.14T~;
"KRN",.402,2107,"DR",1,130,1)
.164T~;.15T~;.16T~;.31T~;.33T~;30T~;.112T~;.111T~;31T~;.19T~;.196T~;.07T~;.195T~;.12T~;506T~;508T~;.18T~;4T~;.175T~;8T~;65T~;.13T~;.75T~;57T~;58T~;.55T~;6T~;49T~;64T~;.37T~;22T~;.48T~;.757T~;.47T~;.375T~;.39T~;.27T~;41T~;1.13T~;
"KRN",.402,2107,"DR",1,130,2)
.875T~;.25T~;.255T~;.81T~;.821T~;.76T~;.77T~;129T~;127T~;25T~;130T~;131T~;W !;619T~;620T~;621T~;622T~;623T~;624T~;.29T~;
"KRN",.402,2107,"DR",2,130.01)
.01T~;8T~;9T~;10T~;1T~;2T~;11T~;12T~;5T~;6T~;7T~;13T~;
"KRN",.402,2107,"DR",2,130.0129)
.01T~;1T~;2T~;4T~;3T~;5T~;
"KRN",.402,2107,"DR",2,130.013)
.01T~;1T~;2T~;3T~;4T~;5T~;
"KRN",.402,2107,"DR",2,130.02)
.01T~;3T~;1T~;4T~;2T~;
"KRN",.402,2107,"DR",2,130.04)
.01T~;1T~;3T~;4T~;5T~;
"KRN",.402,2107,"DR",2,130.06)
.01T~;
"KRN",.402,2107,"DR",2,130.065)
.01T~;1T~;
"KRN",.402,2107,"DR",2,130.08)
.01T~;1T~;
"KRN",.402,2107,"DR",2,130.16)
.01T~;
"KRN",.402,2107,"DR",2,130.23)
.01T~;1T~;
"KRN",.402,2107,"DR",2,130.24)
.01T~;1T~;
"KRN",.402,2107,"DR",2,130.28)
.01T~;3T~;
"KRN",.402,2107,"DR",2,130.31)
.01T~;1T~;2T~;
"KRN",.402,2107,"DR",2,130.32)
.01T~;2T~;1T~;3T~;
"KRN",.402,2107,"DR",2,130.33)
.01T~;1T~;
"KRN",.402,2107,"DR",2,130.36)
.01T~;3T~;
"KRN",.402,2107,"DR",3,130.0134)
.01T~;1T~;2T~;
"KRN",.402,2107,"DR",3,130.34)
.01T~;1T~;2T~;3T~;4T~;5T~;
"KRN",.402,2107,"DR",3,130.39)
.01T~;1T~;2T~;
"KRN",.402,2233,-1)
0^1
"KRN",.402,2233,0)
SROMEN-VERF^3131226.1326^@^130^^@^3131226
"KRN",.402,2233,"DIAB",1,0,130,0)
600;T
"KRN",.402,2233,"DIAB",2,0,130,0)
601;T
"KRN",.402,2233,"DIAB",3,0,130,0)
602;T
"KRN",.402,2233,"DIAB",4,0,130,0)
603;T
"KRN",.402,2233,"DIAB",5,0,130,0)
604;T
"KRN",.402,2233,"DIAB",6,0,130,0)
605;T
"KRN",.402,2233,"DIAB",7,0,130,0)
606;T
"KRN",.402,2233,"DIAB",8,0,130,0)
607;T
"KRN",.402,2233,"DIAB",9,0,130,0)
611;T
"KRN",.402,2233,"DIAB",10,0,130,0)
608;T
"KRN",.402,2233,"DIAB",11,0,130,0)
609;T
"KRN",.402,2233,"DIAB",12,0,130,0)
610;T
"KRN",.402,2233,"DIAB",13,0,130,0)
85;T
"KRN",.402,2233,"DIAB",14,0,130,0)
.69;T
"KRN",.402,2233,"DIAB",15,0,130,0)
74;T
"KRN",.402,2233,"DR",1,130)
600T~;601T~;602T~;603T~;604T~;605T~;606T~;607T~;611T~;608T~;609T~;610T~;85T~;.69T~;74T~;
"MBREQ")
0
"ORD",0,9.8)
9.8;;1;RTNF^XPDTA;RTNE^XPDTA
"ORD",0,9.8,0)
ROUTINE
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"PKG",167,-1)
1^1
"PKG",167,0)
SURGERY^SR^SURGICAL DATA COLLECTION AND OPERATIONS SCHEDULING
"PKG",167,20,0)
^9.402P^^
"PKG",167,22,0)
^9.49I^1^1
"PKG",167,22,1,0)
3.0^2930624^2930811
"PKG",167,22,1,"PAH",1,0)
182^3141105
"PKG",167,22,1,"PAH",1,1,0)
^^2^2^3141105
"PKG",167,22,1,"PAH",1,1,1,0)
The description of this build can be found in the National Patch Module 
"PKG",167,22,1,"PAH",1,1,2,0)
under SR*3*182.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
105
"RTN","SR182UT0")
0^100^B21717763^n/a
"RTN","SR182UT0",1,0)
SR182UT0 ;BIR/SJA - FY14 CPT EXCLUSION UTILITY, CONTINUED ;11/21/2013
"RTN","SR182UT0",2,0)
 ;;3.0;Surgery;**182**;24 Jun 93;Build 49
"RTN","SR182UT0",3,0)
 Q
"RTN","SR182UT0",4,0)
PEX ; populate file 137
"RTN","SR182UT0",5,0)
 F SRJ=0:1 S SRLIST=$P($T(LIST+SRJ)," ;;",2) Q:SRLIST=""  F SRI=1:1 S SRX=$P(SRLIST,",",SRI) Q:SRX=""  I $D(^ICPT("B",SRX)) D INT
"RTN","SR182UT0",6,0)
 Q
"RTN","SR182UT0",7,0)
INT S SRY=0,SRY=$O(^ICPT("B",SRX,SRY)) Q:SRY=""
"RTN","SR182UT0",8,0)
 K DA,DIC,DD,DO,DINUM S (DINUM,X)=SRY,DIC="^SRO(137,",DIC(0)="L" D FILE^DICN
"RTN","SR182UT0",9,0)
 Q
"RTN","SR182UT0",10,0)
LIST ;;0001F,0005F,00100,00102,00103,00104,00120,00124,00126,0012F,00140,00142,00144,00145,00147,00148,0014F,0015F,00160,00162
"RTN","SR182UT0",11,0)
 ;;00164,00170,00172,00174,00176,00190,00192,0019T,00210,00211,00212,00214,00215,00216,00218,00220,00222,00300,00320,00322
"RTN","SR182UT0",12,0)
 ;;00326,00350,00352,00400,00402,00404,00406,00410,0042T,00450,00452,00454,00470,00472,00474,00500,0051T,00520,00522,00524
"RTN","SR182UT0",13,0)
 ;;00528,00529,0052T,00530,00532,00534,00537,00539,0053T,00540,00541,00542,00546,00548,0054T,00550,0055T,00560,00561,00562
"RTN","SR182UT0",14,0)
 ;;00563,00566,00567,00580,0058T,0059T,00600,00604,00620,00622,00625,00626,00630,00632,00634,00635,00640,00670,00700,00702
"RTN","SR182UT0",15,0)
 ;;0071T,0072T,00730,0073T,00740,00750,00752,00754,00756,0075T,0076T,00770,0078T,00790,00792,00794,00796,00797,0079T,00800
"RTN","SR182UT0",16,0)
 ;;00802,0080T,00810,0081T,00820,00830,00832,00834,00836,00840,00842,00844,00846,00848,00851,0085T,00860,00862,00864,00865
"RTN","SR182UT0",17,0)
 ;;00866,00868,00870,00872,00873,00880,00882,00902,00904,00906,00908,00910,00912,00914,00916,00918,00920,00921,00922,00924
"RTN","SR182UT0",18,0)
 ;;00926,00928,0092T,00930,00932,00934,00936,00938,00940,00942,00944,00948,00950,00952,0095T,0098T,0099T,0100T,0101T,0102T
"RTN","SR182UT0",19,0)
 ;;0103T,0106T,0107T,0108T,0109T,0110T,01112,0111T,01120,01130,01140,01150,01160,01170,01173,01180,01190,01200,01202,01210
"RTN","SR182UT0",20,0)
 ;;01212,01214,01215,01220,01230,01232,01234,0123T,0124T,01250,01260,0126T,01270,01272,01274,01320,01340,01360,01380,01382
"RTN","SR182UT0",21,0)
 ;;01390,01392,01400,01402,01404,01420,01430,01432,01440,01442,01444,01462,01464,01470,01472,01474,01480,01482,01484,01486
"RTN","SR182UT0",22,0)
 ;;01490,01500,01502,01520,01522,0159T,01610,01620,01622,01630,01634,01636,01638,0163T,0164T,01650,01652,01654,01656,0165T
"RTN","SR182UT0",23,0)
 ;;01670,01680,01682,0169T,01710,01712,01714,01716,0171T,0172T,01730,01732,01740,01742,01744,0174T,01756,01758,0175T,01760
"RTN","SR182UT0",24,0)
 ;;01770,01772,01780,01782,0178T,0179T,0180T,01810,0181T,01820,01829,0182T,01830,01832,0183T,01840,01842,01844,01850,01852
"RTN","SR182UT0",25,0)
 ;;0185T,01860,0186T,0188T,0189T,0190T,01916,0191T,01920,01922,01924,01925,01926,0192T,01930,01931,01932,01933,01935,01936
"RTN","SR182UT0",26,0)
 ;;01951,01952,01953,01958,0195T,01960,01961,01962,01963,01965,01966,01967,01968,01969,0196T,0197T,0198T,01990,01991,01992
"RTN","SR182UT0",27,0)
 ;;01996,01999,0199T,0200T,0201T,0202T,0206T,0207T,0208T,0209T,0210T,0211T,0212T,0213T,0214T,0215T,0216T,0217T,0218T,0223T
"RTN","SR182UT0",28,0)
 ;;0224T,0225T,0226T,0227T,0228T,0229T,0230T,0231T,0232T,0233T,0234T,0235T,0236T,0237T,0238T,0239T,0240T,0241T,0243T,0244T
"RTN","SR182UT0",29,0)
 ;;0249T,0253T,0260T,0261T,0263T,0264T,0265T,0266T,0267T,0268T,0269T,0270T,0271T,0272T,0273T,0274T,0275T,0278T,0281T,0283T
"RTN","SR182UT0",30,0)
 ;;0284T,0285T,0286T,0287T,0288T,0289T,0290T,0293T,0294T,0295T,0296T,0297T,0298T,0299T,0300T,0301T,0302T,0303T,0304T,0305T
"RTN","SR182UT0",31,0)
 ;;0306T,0307T,0308T,0310T,0311T,0312T,0313T,0314T,0315T,0316T,0317T,0319T,0320T,0321T,0322T,0323T,0324T,0325T,0326T,0327T
"RTN","SR182UT0",32,0)
 ;;0328T,0329T,0330T,0331T,0332T,0333T,0334T,0335T,0337T,0338T,0339T,0500F,0501F,0502F,0503F,0505F,0507F,0509F,0513F,0514F
"RTN","SR182UT0",33,0)
 ;;0516F,0517F,0518F,0519F,0520F,0521F,0525F,0526F,0528F,0529F,0535F,0540F,0545F,0550F,0551F,0555F,0556F,0557F,0575F,0580F
"RTN","SR182UT0",34,0)
 ;;0581F,0582F,0583F,0584F,1000F,10021,10022,1002F,10030,1003F,10040,1004F,1005F,10060,10061,1006F,1007F,10080,10081,1008F
"RTN","SR182UT0",35,0)
 ;;1010F,1011F,10120,1012F,1015F,1018F,1019F,1022F,1026F,1030F,1031F,1032F,1033F,1034F,1035F,1036F,1038F,1039F,1040F,1050F
"RTN","SR182UT0",36,0)
 ;;1052F,1055F,1060F,1061F,1065F,1066F,1070F,1071F,1090F,1091F,11000,1100F,11010,11011,11012,1101F,11042,11043,11044,11045
"RTN","SR182UT0",37,0)
 ;;11046,11055,11056,11057,11100,11101,1110F,1111F,1116F,1118F,1119F,11200,11201,1121F,1123F,1124F,1125F,1126F,1127F,1128F
"RTN","SR182UT0",38,0)
 ;;11300,11301,11302,11303,11305,11306,11307,11308,1130F,11310,11311,11312,11313,1134F,1135F,1136F,1137F,11400,11401,11402
"RTN","SR182UT0",39,0)
 ;;11403,11404,11406,11420,11421,11422,11423,11424,11426,11440,11441,11442,11443,11444,11446,11450,11451,11462,11463,11470
"RTN","SR182UT0",40,0)
 ;;11471,1150F,1151F,1152F,1153F,1157F,1158F,1159F,11600,11601,11602,11603,11604,11606,1160F,11620,11621,11622,11623,11624
"RTN","SR182UT0",41,0)
 ;;11626,11640,11641,11642,11643,11644,11646,1170F,11719,11720,11721,11730,11732,11740,11750,11752,11755,1175F,11760,11762
"RTN","SR182UT0",42,0)
 ;;11765,11770,11771,11772,1180F,1181F,1182F,1183F,11900,11901,11920,11921,11922,11950,11951,11952,11954,11970,11971,11976
"RTN","SR182UT0",43,0)
 ;;11980,11981,11982,11983,12001,12002,12004,12005,12006,12007,1200F,12011,12013,12014,12015,12016,12017,12018,12020,12021
"RTN","SR182UT0",44,0)
 ;;12031,12032,12034,12035,12036,12037,12041,12042,12044,12045,12046,12047,12051,12052,12053,12054,12055,12056,12057,1205F
"RTN","SR182UT0",45,0)
 ;;1220F,13100,13101,13102,13120,13121,13122,13131,13132,13133,13150,13151,13152,13153,13160,14000,14001,1400F,14020,14021
"RTN","SR182UT0",46,0)
 ;;14040,14041,14060,14061,14301,14302,14350,1450F,1451F,1460F,1461F,1490F,1491F,1493F,1494F,15002,15003,15004,1500F,1501F
"RTN","SR182UT0",47,0)
 ;;1502F,1503F,1504F,15050,1505F
"RTN","SR182UT1")
0^101^B87205437^n/a
"RTN","SR182UT1",1,0)
SR182UT1 ;BIR/SJA - FY14 CPT EXCLUSION UTILITY, CONTINUED ;11/21/2013
"RTN","SR182UT1",2,0)
 ;;3.0;Surgery;**182**;24 Jun 93;Build 49
"RTN","SR182UT1",3,0)
 Q
"RTN","SR182UT1",4,0)
PEX ; populate file 137
"RTN","SR182UT1",5,0)
 F SRJ=0:1 S SRLIST=$P($T(LIST+SRJ)," ;;",2) Q:SRLIST=""  F SRI=1:1 S SRX=$P(SRLIST,",",SRI) Q:SRX=""  I $D(^ICPT("B",SRX)) D INT
"RTN","SR182UT1",6,0)
 Q
"RTN","SR182UT1",7,0)
INT S SRY=0,SRY=$O(^ICPT("B",SRX,SRY)) Q:SRY=""
"RTN","SR182UT1",8,0)
 K DA,DIC,DD,DO,DINUM S (DINUM,X)=SRY,DIC="^SRO(137,",DIC(0)="L" D FILE^DICN
"RTN","SR182UT1",9,0)
 Q
"RTN","SR182UT1",10,0)
LIST ;;15100,15101,15110,15111,15115,15116,15120,15121,15130,15131,15135,15136,15150,15151,15152,15155,15156,15157,15200,15201
"RTN","SR182UT1",11,0)
 ;;15220,15221,15240,15241,15260,15261,15271,15272,15273,15274,15275,15276,15277,15278,15775,15776,15777,15780,15781,15782
"RTN","SR182UT1",12,0)
 ;;15783,15786,15787,15788,15789,15792,15793,15819,15820,15821,15822,15823,15824,15825,15826,15828,15829,15832,15833,15834
"RTN","SR182UT1",13,0)
 ;;15835,15836,15837,15838,15839,15850,15851,15852,15860,16000,16020,16025,16030,16035,16036,17000,17003,17004,17106,17110
"RTN","SR182UT1",14,0)
 ;;17250,17260,17261,17262,17263,17264,17266,17270,17271,17272,17273,17274,17276,17280,17281,17282,17283,17284,17286,17311
"RTN","SR182UT1",15,0)
 ;;17312,17313,17314,17315,17340,17360,17380,17999,19000,19001,19030,19081,19082,19083,19084,19085,19086,19100,19101,19102
"RTN","SR182UT1",16,0)
 ;;19103,19112,19281,19282,19283,19284,19285,19286,19287,19288,19290,19291,19295,2000F,2001F,2002F,2004F,2010F,2014F,2015F
"RTN","SR182UT1",17,0)
 ;;2016F,2018F,2019F,20200,20205,20206,2020F,2021F,20220,20225,2022F,20240,20245,2024F,20250,20251,2026F,2027F,2028F,2029F
"RTN","SR182UT1",18,0)
 ;;2030F,2031F,2035F,2040F,2044F,20500,20501,2050F,20520,20525,20526,20527,20550,20551,20552,20553,20555,20600,20605,2060F
"RTN","SR182UT1",19,0)
 ;;20610,20612,20615,20650,20660,20661,20662,20663,20664,20665,20670,20680,20690,20692,20693,20694,20696,20697,20912,20924
"RTN","SR182UT1",20,0)
 ;;20950,20974,20979,20982,20985,21011,21012,21013,21014,21016,21030,21031,21032,21073,21076,21077,21079,21080,21081,21082
"RTN","SR182UT1",21,0)
 ;;21083,21084,21085,21086,21087,21088,21089,21116,21210,21310,21315,21320,21325,21330,21335,21336,21337,21338,21339,21340
"RTN","SR182UT1",22,0)
 ;;21345,21400,21401,21421,21431,21440,21450,21451,21452,21453,21480,21485,21497,21550,21552,21554,21555,21556,21800,21820
"RTN","SR182UT1",23,0)
 ;;21920,21925,21930,21931,21932,21933,22305,22310,22315,22505,22520,22521,22522,22900,22901,22902,22903,23065,23066,23071
"RTN","SR182UT1",24,0)
 ;;23073,23075,23076,23100,23330,23331,23333,23350,23500,23505,23520,23525,23540,23545,23570,23575,23600,23605,23620,23625
"RTN","SR182UT1",25,0)
 ;;23650,23655,23665,23675,23700,23930,23931,24065,24066,24071,24073,24075,24076,24100,24101,24147,24160,24164,24200,24220
"RTN","SR182UT1",26,0)
 ;;24300,24343,24470,24500,24505,24530,24535,24560,24565,24576,24577,24600,24605,24620,24640,24650,24655,24670,24675,25000
"RTN","SR182UT1",27,0)
 ;;25028,25031,25065,25066,25071,25073,25075,25076,25100,25246,25250,25251,25259,25500,25505,25520,25530,25535,25560,25565
"RTN","SR182UT1",28,0)
 ;;25600,25605,25622,25624,25630,25635,25650,25651,25660,25671,25675,25680,25690,25800,25805,25810,25820,25825,25830,26010
"RTN","SR182UT1",29,0)
 ;;26011,26020,26025,26030,26034,26035,26037,26040,26045,26055,26060,26070,26075,26080,26100,26105,26110,26111,26113,26115
"RTN","SR182UT1",30,0)
 ;;26116,26121,26123,26125,26140,26160,26200,26210,26262,26320,26340,26341,26416,26432,26508,26516,26517,26518,26600,26605
"RTN","SR182UT1",31,0)
 ;;26607,26608,26641,26645,26670,26675,26700,26705,26720,26725,26740,26742,26750,26755,26756,26770,26775,26820,26841,26842
"RTN","SR182UT1",32,0)
 ;;26843,26844,26850,26852,26860,26861,26862,26863,26910,26951,27003,27040,27041,27043,27045,27047,27048,27050,27052,27065
"RTN","SR182UT1",33,0)
 ;;27090,27091,27093,27095,27096,27175,27178,27193,27194,27200,27216,27220,27222,27230,27232,27238,27240,27246,27250,27252
"RTN","SR182UT1",34,0)
 ;;27256,27257,27265,27266,27267,27268,27275,27306,27323,27324,27330,27337,27339,27370,27500,27501,27502,27503,27508,27510
"RTN","SR182UT1",35,0)
 ;;27516,27517,27520,27530,27532,27538,27550,27552,27560,27562,27570,27613,27614,27618,27619,27632,27634,27648,27690,27691
"RTN","SR182UT1",36,0)
 ;;27750,27752,27760,27762,27767,27768,27780,27781,27786,27788,27808,27810,27816,27818,27824,27825,27830,27831,27840,27842
"RTN","SR182UT1",37,0)
 ;;27860,27870,27871,27884,28001,28005,28008,28010,28011,28020,28022,28024,28035,28039,28041,28043,28045,28046,28050,28052
"RTN","SR182UT1",38,0)
 ;;28054,28055,28060,28062,28070,28072,28080,28086,28088,28090,28092,28100,28102,28103,28104,28106,28107,28108,28110,28111
"RTN","SR182UT1",39,0)
 ;;28112,28113,28114,28116,28118,28119,28120,28122,28124,28126,28130,28140,28150,28153,28160,28171,28173,28175,28190,28192
"RTN","SR182UT1",40,0)
 ;;28193,28200,28202,28208,28210,28220,28222,28225,28226,28230,28232,28234,28238,28240,28250,28260,28261,28262,28264,28270
"RTN","SR182UT1",41,0)
 ;;28272,28280,28285,28286,28288,28289,28290,28292,28293,28294,28296,28297,28298,28299,28300,28302,28304,28305,28306,28307
"RTN","SR182UT1",42,0)
 ;;28308,28309,28310,28312,28313,28315,28320,28322,28340,28341,28344,28345,28360,28400,28405,28406,28415,28430,28435,28436
"RTN","SR182UT1",43,0)
 ;;28450,28455,28456,28465,28470,28475,28476,28485,28490,28495,28496,28505,28510,28515,28525,28530,28531,28540,28545,28546
"RTN","SR182UT1",44,0)
 ;;28555,28570,28575,28576,28585,28600,28605,28606,28615,28630,28635,28636,28645,28660,28665,28666,28675,28705,28715,28725
"RTN","SR182UT1",45,0)
 ;;28730,28735,28737,28740,28750,28755,28760,28810,28820,28825,28890,28899,29000,29010,29015,29020,29025,29035,29040,29044
"RTN","SR182UT1",46,0)
 ;;29046,29049,29055,29058,29065,29075,29085,29086,29105,29125,29126,29130,29131,29200,29240,29260,29280,29305,29325,29345
"RTN","SR182UT1",47,0)
 ;;29355,29358,29365,29405,29425,29435,29440,29445,29450,29505,29515,29520,29530,29540,29550,29580,29581,29582,29583,29584
"RTN","SR182UT1",48,0)
 ;;29700,29705,29710,29715,29720,29730,29740,29750,29799,29800,29804,29805,29830,29836,29840,29843,29845,29848,29856,29860
"RTN","SR182UT1",49,0)
 ;;29863,29870,29893,29900,29901,29902,30000,30020,3006F,3008F,30100,30110,30115,30117,30118,3011F,30120,30124,30125,30130
"RTN","SR182UT1",50,0)
 ;;30140,3014F,30150,3015F,30160,3016F,3017F,3018F,3019F,30200,3020F,30210,3021F,30220,3022F,3023F,3025F,3027F,3028F,30300
"RTN","SR182UT1",51,0)
 ;;30310,30320,3035F,3037F,3038F,30400,3040F,30410,30420,3042F,30430,30435,3044F,30450,3045F,30460,30462,30465,3046F,3048F
"RTN","SR182UT1",52,0)
 ;;3049F,3050F,30520,30540,30545,3055F,30560,3056F,30580,30600,3060F,3061F,30620,3062F,30630,3066F,3072F,3073F,3074F,3075F
"RTN","SR182UT1",53,0)
 ;;3077F,3078F,3079F,30801,30802,3080F,3082F,3083F,3084F,3085F,3088F,3089F,30901,30903,30905,30906,3090F,30915,3091F,30920
"RTN","SR182UT1",54,0)
 ;;3092F,30930,3093F,3095F,3096F,30999,31000,31002,3100F,31020,31030,31032,31040,31050,31051,31070,31075,31080,31081,31084
"RTN","SR182UT1",55,0)
 ;;31085,31086,31087,31090,3110F,3111F,3112F,3115F,3117F,3118F,3119F,31200,31201,31205,3120F,31225,31230,31231,31233,31235
"RTN","SR182UT1",56,0)
 ;;31237,31238,31239,31240,31254,31255,31256,3125F,31267,31276,31287,31288,31290,31291,31292,31293,31294,31295,31296,31297
"RTN","SR182UT1",57,0)
 ;;31299,3130F,3132F,3140F,3141F,3142F,31500,31502,31505,3150F,31510,31511,31512,31513,31515,31520,31525,31526,31527,31528
"RTN","SR182UT1",58,0)
 ;;31529,31530,31531,31535,31536,31540,31541,31545,31546,3155F,31560,31561,31570,31571,31575,31576,31577,31578,31579,31582
"RTN","SR182UT1",59,0)
 ;;31584,31588,31600,31601,31603,31605,3160F,31610,31612,31613,31615,31620,31622,31623,31624,31625,31626,31627,31628,31629
"RTN","SR182UT1",60,0)
 ;;31630,31631,31632,31633,31634,31635,31636,31637,31638,31640,31641,31643,31645,31646,31647,31648,31649,31651,31660,31661
"RTN","SR182UT1",61,0)
 ;;3170F,31717,31720,31725,31730,31830,3200F,3210F,3215F,3216F,3218F,3220F,3230F,32400,32405,3250F,32550,32551,32552,32553
"RTN","SR182UT1",62,0)
 ;;32554,32555,32556,32557,32560,32561,32562,32601,32604,32606,32607,32608,32609,3260F,3265F,3266F,3267F,3268F,3269F,32701
"RTN","SR182UT1",63,0)
 ;;3270F,3271F,3272F,3273F,3274F,3278F,3279F,3280F,3281F,3284F,32850,32855,32856,3285F,3288F,3290F,3291F,3292F,3293F,3294F
"RTN","SR182UT1",64,0)
 ;;32960,3300F,3301F,3315F,3316F,3317F,3318F,3319F,33206,33207,33208,3320F,33210,33211,33212,33213,33214,33215,33216,33217
"RTN","SR182UT1",65,0)
 ;;33218,3321F,33220,33221,33222,33223,33224,33225,33226,33227,33228,33229,3322F,33230,33231,33233,33234,33235,33236,33237
"RTN","SR182UT1",66,0)
 ;;33238,3323F,33240,33241,33243,33244,33249,3324F,3325F,33262,33263,33264,33282,33284,3328F,3330F,3331F,3340F,3341F,3342F
"RTN","SR182UT1",67,0)
 ;;3343F,3344F,3345F,33470,33471,3350F,3351F,3352F,3353F,3354F,33620,33622,3370F,3372F,3374F,3376F,3378F,3380F,3382F,3384F
"RTN","SR182UT1",68,0)
 ;;3386F,3388F,3390F,33930,33933,33940,33944,3394F,3395F,33967,33968,33970,33971,3450F,3451F,3452F,3455F,3470F,3471F,3472F
"RTN","SR182UT1",69,0)
 ;;3475F,3476F,3490F,3491F,3492F,3493F,3494F,3495F,3496F,3497F,3498F,3500F,3502F,3503F,3510F,3511F,3512F,3513F,3514F,3515F
"RTN","SR182UT1",70,0)
 ;;3517F,3520F,35400,35450,35452,35458,35460,35471,35472,35475,35476,3550F,3551F,3552F,3555F,3570F,3572F,3573F,36000,36002
"RTN","SR182UT1",71,0)
 ;;36005,36010,36011,36012,36013,36014,36015,36100,36120,36140,36147,36148,36160,36200,36215,36216,36217,36218,36221,36222
"RTN","SR182UT1",72,0)
 ;;36223,36224,36225,36226,36227,36228,36245,36246,36247,36248,36251,36252,36253,36254,36260,36261,36262,36299,36400,36405
"RTN","SR182UT1",73,0)
 ;;36406,36410,36415,36416,36420,36425,36430,36440,36450,36455,36460,36468,36469,36470,36471,36481,36500,3650F,36510,36511
"RTN","SR182UT1",74,0)
 ;;36512,36513,36514,36515,36516,36522,36555,36556,36557,36558,36560,36561,36563,36565,36566,36568,36569,36570,36571,36575
"RTN","SR182UT1",75,0)
 ;;36576,36578,36580,36581,36582,36583,36584,36585,36589,36590,36591,36592,36593,36595,36596,36597,36600,36620,36625,36640
"RTN","SR182UT1",76,0)
 ;;36660,36680,36800,36810,36815,36818,36819,36820,36821,36823,36825,36830,36831,36832,36833,36835,36838,36860,36861,36870
"RTN","SR182UT1",77,0)
 ;;3700F,37183,37191,37192,37193,37195,37200,3720F,37211,37212,37213,37214,37250,37251,3725F,37501,3750F,3751F,3752F,3753F
"RTN","SR182UT1",78,0)
 ;;3754F,3755F,3756F,3757F,3758F,3759F,37607,37609,3760F,3761F,3762F,3763F,37785,38200,38204,38205,38206,38207,38208,38209
"RTN","SR182UT1",79,0)
 ;;38210,38211,38212,38213,38214,38215,38220,38221,38230,38232,38240,38241,38242,38243,38500,38505,38510,38520,38525,38530
"RTN","SR182UT1",80,0)
 ;;38790,38792,38794,38900,4000F,4001F,4003F,4004F,4005F,4008F,4010F,4011F,4012F,4013F,4014F,4015F,4016F,4017F,4018F,4019F
"RTN","SR182UT1",81,0)
 ;;4025F,4030F,4033F,4035F,4037F,4040F,4041F,4042F,4043F,4044F,4045F,4046F,4047F,4048F,40490,4049F,4050F,4051F,4052F,4053F
"RTN","SR182UT1",82,0)
 ;;4054F,4055F,4056F,4058F,4060F,4062F,4063F,4064F,4065F,4066F,4067F,4069F,4070F,4073F,4075F,4077F,40799,4079F,40806,40808
"RTN","SR182UT1",83,0)
 ;;40831,4084F,4086F,4090F,4095F,4100F,41010,41015,41019,41100,41105,41108,4110F,41115,4115F,4120F,4124F,41250,41251,41252
"RTN","SR182UT1",84,0)
 ;;4130F,4131F,4132F,4133F,4134F,4135F,4136F,4140F,4142F,4144F,4145F,4148F,4149F,4150F,41510,41512,4151F,41520,41530,4153F
"RTN","SR182UT1",85,0)
 ;;4155F,4157F,4158F,4159F,4163F,4164F,4165F,4167F,4168F,4169F,4171F,4172F,4174F,4175F,4176F,4177F,4178F,4179F,41800,41805
"RTN","SR182UT1",86,0)
 ;;4180F,4181F,4182F,4185F,4186F,41870,41872,41874,4187F,4188F,41899,4189F,4190F,4191F,4192F,4193F,4194F,4195F,4196F,42000
"RTN","SR182UT1",87,0)
 ;;4200F,4201F,42100,4210F,42180,42182,4220F,4221F,42280,42281,4230F,42310,42400,42405,4240F,4242F,4245F,4248F,4250F,4255F
"RTN","SR182UT1",88,0)
 ;;4256F,42600,4260F,4261F,42650,4265F,42660,4266F,4267F,4268F,4269F,4270F,4271F,4274F,4276F,4279F,42800,42802,42804,42806
"RTN","SR182UT1",89,0)
 ;;4280F,42820,42821,42825,42826,42830,42831,42835,42836,42860,4290F,4293F,42970,42971,4300F,4301F,4305F,4306F,43191,43192
"RTN","SR182UT1",90,0)
 ;;43193,43194,43195,43196,43197,43198,43200,43201,43202,43204,43205,43206,4320F,43211,43212,43213,43214,43215,43216,43217
"RTN","SR182UT1",91,0)
 ;;43219,43220,43226,43227,43228,43229,4322F,43231,43232,43233,43235,43236,43237,43238,43239,43240,43241,43242,43243,43244
"RTN","SR182UT1",92,0)
 ;;43245,43246,43247,43248,43249,4324F,43250,43251,43252,43253,43254,43255,43256,43257,43258,43259,4325F,43260,43261,43262
"RTN","SR182UT1",93,0)
 ;;43263,43264,43265,43266,43267,43268,43269,4326F,43270,43271,43272,43273,43274,43275,43276,43277,43278,4328F,4330F,4340F
"RTN","SR182UT1",94,0)
 ;;43450,43453,43456,43458,43460,43499,4350F,43653,43752,43753,43754,43755,43756,43757,43760,43761,43830,43831,43886,43887
"RTN","SR182UT1",95,0)
 ;;43888,4400F,44015,44100,44132,44186,44300,44360,44361,44363,44364,44365,44366,44369,44370,44372,44373,44376,44377,44378
"RTN","SR182UT1",96,0)
 ;;44379,44380,44382,44383,44385,44386,44388,44389,44390,44391,44392,44393,44394,44397,44500,4450F,44705,4470F,44715,44720
"RTN","SR182UT1",97,0)
 ;;44721,4480F,4481F,44901,4500F,45100,4510F,4525F,4526F,45300,45303,45305,45307,45308,45309,45315,45317,45320,45321,45327
"RTN","SR182UT1",98,0)
 ;;45330,45331,45332,45333,45334,45335,45337,45338,45339,45340,45341,45342,45345,45355,45378,45379,45380,45381,45382,45383
"RTN","SR182UT1",99,0)
 ;;45384,45385,45386,45387,45391,45392,4540F,4541F,4550F,4551F,45520,4552F,4553F,4554F,4555F,4556F,4557F,4558F,4559F,4560F
"RTN","SR182UT1",100,0)
 ;;4561F,4562F,4563F,45900,45910,45915,45990,46050,46070,46080,46083,46200,46220,46221,46230,46250,46255,46257,46258,46260
"RTN","SR182UT1",101,0)
 ;;46261,46262,46270,46275,46280,46285,46288,46320,46500,46505,46600,46604,46606,46608,46610,46611,46612,46614,46615,46700
"RTN","SR182UT1",102,0)
 ;;46705,46706,46707,46751,46754,46900,46910,46916,46917,46922,46924,46930,46945,46946,47000,47011,47100,47133,47143,47144
"RTN","SR182UT1",103,0)
 ;;47145,47146,47147,47490,47500,47505,47510,47511,47525,47530,47552,47553,47554,47555,47556,47801,48102,48400,48551,48552
"RTN","SR182UT1",104,0)
 ;;49020,49021,49040,49041,49060,49061,49082,49083,49084,49180,49320,49324,49400,49405,49406,49407,49411,49412,49418,49419
"RTN","SR182UT1",105,0)
 ;;49421,49422,49423,49424,49427,49428,49429,49440,49441,49442,49446,49450,49451,49452,49460,49465,49491,49492,49495,49496
"RTN","SR182UT1",106,0)
 ;;49500,49501,49580,49582,50040,5005F,50080,50081,5010F,5015F,50200,5020F,50300,50323,50325,50327,50328,50329,50385,50386
"RTN","SR182UT1",107,0)
 ;;50390,50392,50393,50394,50398,5050F,50551,50553,50555,50557,50561,50562,50570,50572,50574,50575,50576,50580,50590,50592
"RTN","SR182UT1",108,0)
 ;;50600,50605,5060F,5062F,50684,50686,50688,50690,50951,50953,50955,50957,50961,50970,50972,50974,50976,50980,5100F,51100
"RTN","SR182UT1",109,0)
 ;;51101,51102,51600,51605,51610,51700,51701,51702,51703,51705,51710,51715,51720,51725,51726,51727,51728,51729,51736,51741
"RTN","SR182UT1",110,0)
 ;;51784,51785,51792,51797,51798,52000,52001,52005,52007,5200F,52010,52204,52214,52224,52250,52260,52265,52270,52275,52276
"RTN","SR182UT1",111,0)
 ;;52277,52281,52282,52283,52285,52287,52290,52300,52301,52305,52310,52315,52317,52318,52320,52325,52327,52332,52334,52343
"RTN","SR182UT1",112,0)
 ;;52351,52352,52353,52354,52355,52356,5250F,53020,53025,53060,53200,53270,53275,53600,53601,53620,53621,53660,53661,53850
"RTN","SR182UT1",113,0)
 ;;53855,53860,54000,54001,54055,54056,54057,54060,54100,54105,54150,54160,54161,54162,54163,54200,54230,54231,54235,54240
"RTN","SR182UT1",114,0)
 ;;54250,54400,54401,54405,54406,54408,54410,54415,54416,54450,54500,54505,54512,54520,54530,54535,54700,54800,54830,55000
"RTN","SR182UT1",115,0)
 ;;55250,55300,55400,55450,55500,55520,55559,55700,55705,55706,55870,55899,55920,56605,56606,56700,56820,57020,57022,57023
"RTN","SR182UT1",116,0)
 ;;57100,57105,57150,57155,57156,57160,57170,57180,57287,57400,57410,57420,57421,57452,57454,57456,57500,57510,57511,57513
"RTN","SR182UT1",117,0)
 ;;57700,58100,58300,58301,58321,58322,58323,58340,58345,58346,58353,58555,58558,58559,58560,58561,58562,58563,58679,58823
"RTN","SR182UT1",118,0)
 ;;58900,58970,58974,58976,59000,59001,59012,59015,59020,59025,59030,59050,59051,59070,59072,59074,59076,59100,59160,59200
"RTN","SR182UT1",119,0)
 ;;59300,59320,59325,59400,59409,59410,59412,59414,59425,59426,59430,59510,59514,59515,59525,59610,59612,59614,59618,59840
"RTN","SR182UT2")
0^102^B78556217^n/a
"RTN","SR182UT2",1,0)
SR182UT2 ;BIR/SJA - FY14 CPT EXCLUSION UTILITY, CONTINUED ;11/21/2013
"RTN","SR182UT2",2,0)
 ;;3.0;Surgery;**182**;24 Jun 93;Build 49
"RTN","SR182UT2",3,0)
 Q
"RTN","SR182UT2",4,0)
PEX ;; populate file 137
"RTN","SR182UT2",5,0)
 F SRJ=0:1 S SRLIST=$P($T(LIST+SRJ)," ;;",2) Q:SRLIST=""  F SRI=1:1 S SRX=$P(SRLIST,",",SRI) Q:SRX=""  I $D(^ICPT("B",SRX)) D INT
"RTN","SR182UT2",6,0)
 Q
"RTN","SR182UT2",7,0)
INT S SRY=0,SRY=$O(^ICPT("B",SRX,SRY)) Q:SRY=""
"RTN","SR182UT2",8,0)
 K DA,DIC,DD,DO,DINUM S (DINUM,X)=SRY,DIC="^SRO(137,",DIC(0)="L" D FILE^DICN
"RTN","SR182UT2",9,0)
 Q
"RTN","SR182UT2",10,0)
LIST ;;59841,59850,59851,59852,59855,59856,59857,59866,59870,59871,59897,59899,6005F,60100,6010F,6015F,6020F,60300,6030F,6040F
"RTN","SR182UT2",11,0)
 ;;6045F,6070F,6080F,6090F,61001,6100F,6101F,61026,6102F,61050,61055,61070,6110F,6150F,61623,61630,61640,61641,61642,61782
"RTN","SR182UT2",12,0)
 ;;61790,61791,61796,61797,61798,61799,61800,62140,62141,62142,62143,62146,62163,62252,62263,62264,62267,62268,62269,62270
"RTN","SR182UT2",13,0)
 ;;62272,62273,62280,62281,62282,62284,62287,62290,62291,62292,62294,62310,62311,62318,62319,62355,62367,62369,62370,63600
"RTN","SR182UT2",14,0)
 ;;63610,63615,63620,63621,63650,64400,64402,64405,64408,64410,64412,64413,64415,64416,64417,64418,64420,64421,64425,64430
"RTN","SR182UT2",15,0)
 ;;64435,64445,64446,64447,64448,64449,64450,64455,64479,64480,64483,64484,64490,64491,64492,64493,64494,64495,64505,64508
"RTN","SR182UT2",16,0)
 ;;64510,64517,64520,64530,64550,64553,64555,64561,64565,64566,64568,64569,64570,64575,64580,64581,64585,64590,64595,64600
"RTN","SR182UT2",17,0)
 ;;64605,64610,64611,64612,64613,64614,64615,64616,64617,64620,64630,64632,64633,64634,64635,64636,64640,64642,64643,64644
"RTN","SR182UT2",18,0)
 ;;64645,64646,64647,64650,64653,64680,64681,64716,64718,64719,64721,64732,64734,64736,64738,64740,64742,64744,64761,64763
"RTN","SR182UT2",19,0)
 ;;64766,64771,64772,64774,64776,64778,64782,64783,64784,64786,64787,64788,64790,64792,64795,64820,64822,64823,64999,65091
"RTN","SR182UT2",20,0)
 ;;65093,65101,65103,65105,65110,65112,65114,65125,65130,65135,65140,65150,65155,65175,65205,65210,65220,65222,65235,65260
"RTN","SR182UT2",21,0)
 ;;65265,65270,65272,65273,65275,65280,65285,65286,65290,65400,65410,65420,65426,65430,65435,65436,65450,65600,65710,65730
"RTN","SR182UT2",22,0)
 ;;65750,65755,65756,65757,65760,65765,65767,65770,65771,65772,65775,65778,65779,65780,65781,65782,65800,65810,65815,65820
"RTN","SR182UT2",23,0)
 ;;65850,65855,65860,65865,65870,65875,65880,65900,65920,65930,66020,66030,66130,66150,66155,66160,66165,66170,66172,66174
"RTN","SR182UT2",24,0)
 ;;66175,66180,66183,66185,66220,66225,66250,66500,66505,66600,66605,66625,66630,66635,66680,66682,66700,66710,66711,66720
"RTN","SR182UT2",25,0)
 ;;66740,66761,66762,66770,66820,66821,66825,66830,66840,66850,66852,66920,66930,66940,66982,66983,66984,66985,66986,66990
"RTN","SR182UT2",26,0)
 ;;66999,67005,67010,67015,67025,67027,67028,67030,67031,67036,67039,67040,67041,67042,67043,67101,67105,67107,67108,67110
"RTN","SR182UT2",27,0)
 ;;67112,67113,67115,67120,67121,67141,67145,67208,67210,67218,67220,67221,67225,67227,67228,67229,67250,67255,67299,67311
"RTN","SR182UT2",28,0)
 ;;67312,67314,67316,67318,67320,67331,67332,67334,67335,67340,67343,67345,67346,67399,67400,67405,67412,67413,67414,67415
"RTN","SR182UT2",29,0)
 ;;67420,67430,67440,67445,67450,67500,67505,67515,67550,67560,67570,67599,67700,67710,67715,67800,67801,67805,67808,67810
"RTN","SR182UT2",30,0)
 ;;67820,67825,67830,67835,67840,67850,67875,67880,67882,67900,67901,67902,67903,67904,67906,67908,67909,67911,67912,67914
"RTN","SR182UT2",31,0)
 ;;67915,67916,67917,67921,67922,67923,67924,67930,67935,67938,67950,67961,67966,67971,67973,67974,67975,67999,68020,68040
"RTN","SR182UT2",32,0)
 ;;68100,68110,68115,68130,68135,68200,68320,68325,68326,68328,68330,68335,68340,68360,68362,68371,68399,68400,68420,68440
"RTN","SR182UT2",33,0)
 ;;68500,68505,68510,68520,68525,68530,68540,68550,68700,68705,68720,68745,68750,68760,68761,68770,68801,68810,68811,68815
"RTN","SR182UT2",34,0)
 ;;68816,68840,68850,68899,69000,69005,69020,69090,69100,69105,69110,69120,69140,69145,69150,69155,69200,69205,69210,69220
"RTN","SR182UT2",35,0)
 ;;69222,69300,69310,69320,69399,69400,69401,69405,69420,69421,69424,69433,69436,69440,69450,69501,69502,69505,69511,69530
"RTN","SR182UT2",36,0)
 ;;69535,69540,69550,69552,69554,69601,69602,69603,69604,69605,69610,69620,69631,69632,69633,69635,69636,69637,69641,69642
"RTN","SR182UT2",37,0)
 ;;69643,69644,69645,69646,69650,69660,69661,69662,69666,69667,69670,69676,69700,69710,69711,69720,69725,69740,69745,69799
"RTN","SR182UT2",38,0)
 ;;69801,69805,69806,69820,69840,69905,69910,69915,69930,69949,69950,69955,69960,69970,69979,69990,70010,70015,70030,70100
"RTN","SR182UT2",39,0)
 ;;7010F,70110,70120,70130,70134,70140,70150,70160,70170,70190,70200,7020F,70210,70220,70240,70250,7025F,70260,70300,70310
"RTN","SR182UT2",40,0)
 ;;70320,70328,70330,70332,70336,70350,70355,70360,70370,70371,70373,70380,70390,70450,70460,70470,70480,70481,70482,70486
"RTN","SR182UT2",41,0)
 ;;70487,70488,70490,70491,70492,70496,70498,70540,70542,70543,70544,70545,70546,70547,70548,70549,70551,70552,70553,70554
"RTN","SR182UT2",42,0)
 ;;70555,70557,70558,70559,71010,71015,71020,71021,71022,71023,71030,71034,71035,71100,71101,71110,71111,71120,71130,71250
"RTN","SR182UT2",43,0)
 ;;71260,71270,71275,71550,71551,71552,71555,72010,72020,72040,72050,72052,72069,72070,72072,72074,72080,72090,72100,72110
"RTN","SR182UT2",44,0)
 ;;72114,72120,72125,72126,72127,72128,72129,72130,72131,72132,72133,72141,72142,72146,72147,72148,72149,72156,72157,72158
"RTN","SR182UT2",45,0)
 ;;72159,72170,72190,72191,72192,72193,72194,72195,72196,72197,72198,72200,72202,72220,72240,72255,72265,72270,72275,72285
"RTN","SR182UT2",46,0)
 ;;72291,72292,72295,73000,73010,73020,73030,73040,73050,73060,73070,73080,73085,73090,73092,73100,73110,73115,73120,73130
"RTN","SR182UT2",47,0)
 ;;73140,73200,73201,73202,73206,73218,73219,73220,73221,73222,73223,73225,73500,73510,73520,73525,73530,73540,73550,73560
"RTN","SR182UT2",48,0)
 ;;73562,73564,73565,73580,73590,73592,73600,73610,73615,73620,73630,73650,73660,73700,73701,73702,73706,73718,73719,73720
"RTN","SR182UT2",49,0)
 ;;73721,73722,73723,73725,74000,74010,74020,74022,74150,74160,74170,74174,74175,74176,74177,74178,74181,74182,74183,74185
"RTN","SR182UT2",50,0)
 ;;74190,74210,74220,74230,74235,74240,74241,74245,74246,74247,74249,74250,74251,74260,74261,74262,74263,74270,74280,74283
"RTN","SR182UT2",51,0)
 ;;74290,74291,74300,74301,74305,74320,74327,74328,74329,74330,74340,74355,74360,74363,74400,74410,74415,74420,74425,74430
"RTN","SR182UT2",52,0)
 ;;74440,74445,74450,74455,74470,74475,74480,74485,74710,74740,74742,74775,75557,75559,75561,75563,75565,75571,75572,75573
"RTN","SR182UT2",53,0)
 ;;75574,75600,75605,75625,75630,75635,75658,75705,75710,75716,75726,75731,75733,75736,75741,75743,75746,75756,75774,75791
"RTN","SR182UT2",54,0)
 ;;75801,75803,75805,75807,75809,75810,75820,75822,75825,75827,75831,75833,75840,75842,75860,75870,75872,75880,75885,75887
"RTN","SR182UT2",55,0)
 ;;75889,75891,75893,75894,75896,75898,75901,75902,75945,75946,75952,75953,75954,75956,75957,75958,75959,75960,75962,75964
"RTN","SR182UT2",56,0)
 ;;75966,75968,75970,75978,75980,75982,75984,75989,76000,76001,76010,76080,76098,76100,76101,76102,76120,76125,76140,76376
"RTN","SR182UT2",57,0)
 ;;76377,76380,76390,76496,76497,76498,76499,76506,76510,76511,76512,76513,76514,76516,76519,76529,76536,76604,76645,76700
"RTN","SR182UT2",58,0)
 ;;76705,76770,76775,76776,76800,76801,76802,76805,76810,76811,76812,76813,76814,76815,76816,76817,76818,76819,76820,76821
"RTN","SR182UT2",59,0)
 ;;76825,76826,76827,76828,76830,76831,76856,76857,76870,76872,76873,76881,76882,76885,76886,76930,76932,76936,76937,76940
"RTN","SR182UT2",60,0)
 ;;76941,76942,76945,76946,76948,76950,76965,76970,76975,76977,76998,76999,77001,77002,77003,77011,77012,77013,77014,77021
"RTN","SR182UT2",61,0)
 ;;77022,77031,77032,77051,77052,77053,77054,77055,77056,77057,77058,77059,77071,77072,77073,77074,77075,77076,77077,77078
"RTN","SR182UT2",62,0)
 ;;77080,77081,77082,77084,77261,77262,77263,77280,77285,77290,77293,77295,77299,77300,77301,77305,77310,77315,77321,77326
"RTN","SR182UT2",63,0)
 ;;77327,77328,77331,77332,77333,77334,77336,77338,77370,77371,77372,77373,77399,77401,77402,77403,77404,77406,77407,77408
"RTN","SR182UT2",64,0)
 ;;77409,77411,77412,77413,77414,77416,77417,77418,77421,77422,77423,77424,77425,77427,77431,77432,77435,77469,77470,77499
"RTN","SR182UT2",65,0)
 ;;77520,77522,77523,77525,77600,77605,77610,77615,77620,77750,77761,77762,77763,77776,77777,77778,77785,77786,77787,77789
"RTN","SR182UT2",66,0)
 ;;77790,77799,78012,78013,78014,78015,78016,78018,78020,78070,78071,78072,78075,78099,78102,78103,78104,78110,78111,78120
"RTN","SR182UT2",67,0)
 ;;78121,78122,78130,78135,78140,78185,78190,78191,78195,78199,78201,78202,78205,78206,78215,78216,78226,78227,78230,78231
"RTN","SR182UT2",68,0)
 ;;78232,78258,78261,78262,78264,78267,78268,78270,78271,78272,78278,78282,78290,78291,78299,78300,78305,78306,78315,78320
"RTN","SR182UT2",69,0)
 ;;78350,78351,78399,78414,78428,78445,78451,78452,78453,78454,78456,78457,78458,78459,78466,78468,78469,78472,78473,78481
"RTN","SR182UT2",70,0)
 ;;78483,78491,78492,78494,78496,78499,78579,78580,78582,78597,78598,78599,78600,78601,78605,78606,78607,78608,78609,78610
"RTN","SR182UT2",71,0)
 ;;78630,78635,78645,78647,78650,78660,78699,78700,78701,78707,78708,78709,78710,78725,78730,78740,78761,78799,78800,78801
"RTN","SR182UT2",72,0)
 ;;78802,78803,78804,78805,78806,78807,78808,78811,78812,78813,78814,78815,78816,78999,79005,79101,79200,79300,79403,79440
"RTN","SR182UT2",73,0)
 ;;79445,79999,80047,80048,80050,80051,80053,80055,80061,80069,80074,80076,80100,80101,80102,80103,80104,80150,80152,80154
"RTN","SR182UT2",74,0)
 ;;80155,80156,80157,80158,80159,80160,80162,80164,80166,80168,80169,80170,80171,80172,80173,80174,80175,80176,80177,80178
"RTN","SR182UT2",75,0)
 ;;80180,80182,80183,80184,80185,80186,80188,80190,80192,80194,80195,80196,80197,80198,80199,80200,80201,80202,80203,80299
"RTN","SR182UT2",76,0)
 ;;80400,80402,80406,80408,80410,80412,80414,80415,80416,80417,80418,80420,80422,80424,80426,80428,80430,80432,80434,80435
"RTN","SR182UT2",77,0)
 ;;80436,80438,80439,80440,80500,80502,81000,81001,81002,81003,81005,81007,81015,81020,81025,81050,81099,81161,81200,81201
"RTN","SR182UT2",78,0)
 ;;81202,81203,81205,81206,81207,81208,81209,81210,81211,81212,81213,81214,81215,81216,81217,81220,81221,81222,81223,81224
"RTN","SR182UT2",79,0)
 ;;81225,81226,81227,81228,81229,81235,81240,81241,81242,81243,81244,81245,81250,81251,81252,81253,81254,81255,81256,81257
"RTN","SR182UT2",80,0)
 ;;81260,81261,81262,81263,81264,81265,81266,81267,81268,81270,81275,81280,81281,81282,81287,81290,81291,81292,81293,81294
"RTN","SR182UT2",81,0)
 ;;81295,81296,81297,81298,81299,81300,81301,81302,81303,81304,81310,81315,81316,81317,81318,81319,81321,81322,81323,81324
"RTN","SR182UT2",82,0)
 ;;81325,81326,81330,81331,81332,81340,81341,81342,81350,81355,81370,81371,81372,81373,81374,81375,81376,81377,81378,81379
"RTN","SR182UT2",83,0)
 ;;81380,81381,81382,81383,81400,81401,81402,81403,81404,81405,81406,81407,81408,81479,81500,81503,81504,81506,81507,81508
"RTN","SR182UT2",84,0)
 ;;81509,81510,81511,81512,81599,82000,82003,82009,82010,82013,82016,82017,82024,82030,82040,82042,82043,82044,82045,82055
"RTN","SR182UT2",85,0)
 ;;82075,82085,82088,82101,82103,82104,82105,82106,82107,82108,82120,82127,82128,82131,82135,82136,82139,82140,82143,82145
"RTN","SR182UT2",86,0)
 ;;82150,82154,82157,82160,82163,82164,82172,82175,82180,82190,82205,82232,82239,82240,82247,82248,82252,82261,82270,82271
"RTN","SR182UT2",87,0)
 ;;82272,82274,82286,82300,82306,82308,82310,82330,82331,82340,82355,82360,82365,82370,82373,82374,82375,82376,82378,82379
"RTN","SR182UT2",88,0)
 ;;82380,82382,82383,82384,82387,82390,82397,82415,82435,82436,82438,82441,82465,82480,82482,82485,82486,82487,82488,82489
"RTN","SR182UT2",89,0)
 ;;82491,82492,82495,82507,82520,82523,82525,82528,82530,82533,82540,82541,82542,82543,82544,82550,82552,82553,82554,82565
"RTN","SR182UT2",90,0)
 ;;82570,82575,82585,82595,82600,82607,82608,82610,82615,82626,82627,82633,82634,82638,82646,82649,82651,82652,82654,82656
"RTN","SR182UT2",91,0)
 ;;82657,82658,82664,82666,82668,82670,82671,82672,82677,82679,82690,82693,82696,82705,82710,82715,82725,82726,82728,82731
"RTN","SR182UT2",92,0)
 ;;82735,82742,82746,82747,82757,82759,82760,82775,82776,82777,82784,82785,82787,82800,82803,82805,82810,82820,82930,82938
"RTN","SR182UT2",93,0)
 ;;82941,82943,82945,82946,82947,82948,82950,82951,82952,82953,82955,82960,82962,82963,82965,82975,82977,82978,82979,82980
"RTN","SR182UT2",94,0)
 ;;82985,83001,83002,83003,83008,83009,83010,83012,83013,83014,83015,83018,83020,83021,83026,83030,83033,83036,83037,83045
"RTN","SR182UT2",95,0)
 ;;83050,83051,83055,83060,83065,83068,83069,83070,83071,83080,83088,83090,83150,83491,83497,83498,83499,83500,83505,83516
"RTN","SR182UT2",96,0)
 ;;83518,83519,83520,83525,83527,83528,83540,83550,83570,83582,83586,83593,83605,83615,83625,83630,83631,83632,83633,83634
"RTN","SR182UT2",97,0)
 ;;83655,83661,83662,83663,83664,83670,83690,83695,83698,83700,83701,83704,83718,83719,83721,83727,83735,83775,83785,83788
"RTN","SR182UT2",98,0)
 ;;83789,83805,83825,83835,83840,83857,83858,83861,83864,83866,83872,83873,83874,83876,83880,83883,83885,83887,83915,83916
"RTN","SR182UT2",99,0)
 ;;83918,83919,83921,83925,83930,83935,83937,83945,83950,83951,83970,83986,83987,83992,83993,84022,84030,84035,84060,84061
"RTN","SR182UT2",100,0)
 ;;84066,84075,84078,84080,84081,84085,84087,84100,84105,84106,84110,84112,84119,84120,84126,84127,84132,84133,84134,84135
"RTN","SR182UT2",101,0)
 ;;84138,84140,84143,84144,84145,84146,84150,84152,84153,84154,84155,84156,84157,84160,84163,84165,84166,84181,84182,84202
"RTN","SR182UT2",102,0)
 ;;84203,84206,84207,84210,84220,84228,84233,84234,84235,84238,84244,84252,84255,84260,84270,84275,84285,84295,84300,84302
"RTN","SR182UT2",103,0)
 ;;84305,84307,84311,84315,84375,84376,84377,84378,84379,84392,84402,84403,84425,84430,84431,84432,84436,84437,84439,84442
"RTN","SR182UT2",104,0)
 ;;84443,84445,84446,84449,84450,84460,84466,84478,84479,84480,84481,84482,84484,84485,84488,84490,84510,84512,84520,84525
"RTN","SR182UT2",105,0)
 ;;84540,84545,84550,84560,84577,84578,84580,84583,84585,84586,84588,84590,84591,84597,84600,84620,84630,84681,84702,84703
"RTN","SR182UT2",106,0)
 ;;84704,84830,84999,85002,85004,85007,85008,85009,85013,85014,85018,85025,85027,85032,85041,85044,85045,85046,85048,85049
"RTN","SR182UT2",107,0)
 ;;85055,85060,85097,85130,85170,85175,85210,85220,85230,85240,85244,85245,85246,85247,85250,85260,85270,85280,85290,85291
"RTN","SR182UT2",108,0)
 ;;85292,85293,85300,85301,85302,85303,85305,85306,85307,85335,85337,85345,85347,85348,85360,85362,85366,85370,85378,85379
"RTN","SR182UT2",109,0)
 ;;85380,85384,85385,85390,85396,85397,85400,85410,85415,85420,85421,85441,85445,85460,85461,85475,85520,85525,85530,85536
"RTN","SR182UT2",110,0)
 ;;85540,85547,85549,85555,85557,85576,85597,85598,85610,85611,85612,85613,85635,85651,85652,85660,85670,85675,85705,85730
"RTN","SR182UT2",111,0)
 ;;85732,85810,85999,86000,86001,86003,86005,86021,86022,86023,86038,86039,86060,86063,86077,86078,86079,86140,86141
"RTN","SR182UT3")
0^103^B62396955^n/a
"RTN","SR182UT3",1,0)
SR182UT3 ;BIR/SJA - FY14 CPT EXCLUSION UTILITY, CONTINUED ;11/21/2013
"RTN","SR182UT3",2,0)
 ;;3.0;Surgery;**182**;24 Jun 93;Build 49
"RTN","SR182UT3",3,0)
 Q
"RTN","SR182UT3",4,0)
PEX ;; populate file 137
"RTN","SR182UT3",5,0)
 F SRJ=0:1 S SRLIST=$P($T(LIST+SRJ)," ;;",2) Q:SRLIST=""  F SRI=1:1 S SRX=$P(SRLIST,",",SRI) Q:SRX=""  I $D(^ICPT("B",SRX)) D INT
"RTN","SR182UT3",6,0)
 Q
"RTN","SR182UT3",7,0)
INT S SRY=0,SRY=$O(^ICPT("B",SRX,SRY)) Q:SRY=""
"RTN","SR182UT3",8,0)
 K DA,DIC,DD,DO,DINUM S (DINUM,X)=SRY,DIC="^SRO(137,",DIC(0)="L" D FILE^DICN
"RTN","SR182UT3",9,0)
 Q
"RTN","SR182UT3",10,0)
LIST ;;86146,86147,86148,86152,86153,86155,86156,86157,86160,86161,86162,86171,86185,86200,86215
"RTN","SR182UT3",11,0)
 ;;86225,86226,86235,86243,86255,86256,86277,86280,86294,86300,86301,86304,86305,86308,86309
"RTN","SR182UT3",12,0)
 ;;86310,86316,86317,86318,86320,86325,86327,86329,86331,86332,86334,86335,86336,86337,86340
"RTN","SR182UT3",13,0)
 ;;86341,86343,86344,86352,86353,86355,86356,86357,86359,86360,86361,86367,86376,86378,86382
"RTN","SR182UT3",14,0)
 ;;86384,86386,86403,86406,86430,86431,86480,86481,86485,86486,86490,86510,86580,86590,86592
"RTN","SR182UT3",15,0)
 ;;86593,86602,86603,86606,86609,86611,86612,86615,86617,86618,86619,86622,86625,86628,86631
"RTN","SR182UT3",16,0)
 ;;86632,86635,86638,86641,86644,86645,86648,86651,86652,86653,86654,86658,86663,86664,86665
"RTN","SR182UT3",17,0)
 ;;86666,86668,86671,86674,86677,86682,86684,86687,86688,86689,86692,86694,86695,86696,86698
"RTN","SR182UT3",18,0)
 ;;86701,86702,86703,86704,86705,86706,86707,86708,86709,86710,86711,86713,86717,86720,86723
"RTN","SR182UT3",19,0)
 ;;86727,86729,86732,86735,86738,86741,86744,86747,86750,86753,86756,86757,86759,86762,86765
"RTN","SR182UT3",20,0)
 ;;86768,86771,86774,86777,86778,86780,86784,86787,86788,86789,86790,86793,86800,86803,86804
"RTN","SR182UT3",21,0)
 ;;86805,86806,86807,86808,86812,86813,86816,86817,86821,86822,86825,86826,86828,86829,86830
"RTN","SR182UT3",22,0)
 ;;86831,86832,86833,86834,86835,86849,86850,86860,86870,86880,86885,86886,86890,86891,86900
"RTN","SR182UT3",23,0)
 ;;86901,86902,86904,86905,86906,86910,86911,86920,86921,86922,86923,86927,86930,86931,86932
"RTN","SR182UT3",24,0)
 ;;86940,86941,86945,86950,86960,86965,86970,86971,86972,86975,86976,86977,86978,86985,86999
"RTN","SR182UT3",25,0)
 ;;87001,87003,87015,87040,87045,87046,87070,87071,87073,87075,87076,87077,87081,87084,87086
"RTN","SR182UT3",26,0)
 ;;87088,87101,87102,87103,87106,87107,87109,87110,87116,87118,87140,87143,87147,87149,87150
"RTN","SR182UT3",27,0)
 ;;87152,87153,87158,87164,87166,87168,87169,87172,87176,87177,87181,87184,87185,87186,87187
"RTN","SR182UT3",28,0)
 ;;87188,87190,87197,87205,87206,87207,87209,87210,87220,87230,87250,87252,87253,87254,87255
"RTN","SR182UT3",29,0)
 ;;87260,87265,87267,87269,87270,87271,87272,87273,87274,87275,87276,87277,87278,87279,87280
"RTN","SR182UT3",30,0)
 ;;87281,87283,87285,87290,87299,87300,87301,87305,87320,87324,87327,87328,87329,87332,87335
"RTN","SR182UT3",31,0)
 ;;87336,87337,87338,87339,87340,87341,87350,87380,87385,87389,87390,87391,87400,87420,87425
"RTN","SR182UT3",32,0)
 ;;87427,87430,87449,87450,87451,87470,87471,87472,87475,87476,87477,87480,87481,87482,87485
"RTN","SR182UT3",33,0)
 ;;87486,87487,87490,87491,87492,87493,87495,87496,87497,87498,87500,87501,87502,87503,87510
"RTN","SR182UT3",34,0)
 ;;87511,87512,87515,87516,87517,87520,87521,87522,87525,87526,87527,87528,87529,87530,87531
"RTN","SR182UT3",35,0)
 ;;87532,87533,87534,87535,87536,87537,87538,87539,87540,87541,87542,87550,87551,87552,87555
"RTN","SR182UT3",36,0)
 ;;87556,87557,87560,87561,87562,87580,87581,87582,87590,87591,87592,87620,87621,87622,87631
"RTN","SR182UT3",37,0)
 ;;87632,87633,87640,87641,87650,87651,87652,87653,87660,87661,87797,87798,87799,87800,87801
"RTN","SR182UT3",38,0)
 ;;87802,87803,87804,87807,87808,87809,87810,87850,87880,87899,87900,87901,87902,87903,87904
"RTN","SR182UT3",39,0)
 ;;87905,87906,87910,87912,87999,88000,88005,88007,88012,88014,88016,88020,88025,88027,88028
"RTN","SR182UT3",40,0)
 ;;88029,88036,88037,88040,88045,88099,88104,88106,88108,88112,88120,88121,88125,88130,88140
"RTN","SR182UT3",41,0)
 ;;88141,88142,88143,88147,88148,88150,88152,88153,88154,88155,88160,88161,88162,88164,88165
"RTN","SR182UT3",42,0)
 ;;88166,88167,88172,88173,88174,88175,88177,88182,88184,88185,88187,88188,88189,88199,88230
"RTN","SR182UT3",43,0)
 ;;88233,88235,88237,88239,88240,88241,88245,88248,88249,88261,88262,88263,88264,88267,88269
"RTN","SR182UT3",44,0)
 ;;88271,88272,88273,88274,88275,88280,88283,88285,88289,88291,88299,88300,88302,88304,88305
"RTN","SR182UT3",45,0)
 ;;88307,88309,88311,88312,88313,88314,88319,88321,88323,88325,88329,88331,88332,88333,88334
"RTN","SR182UT3",46,0)
 ;;88342,88343,88346,88347,88348,88349,88355,88356,88358,88360,88361,88362,88363,88365,88367
"RTN","SR182UT3",47,0)
 ;;88368,88371,88372,88375,88380,88381,88387,88388,88399,88720,88738,88740,88741,88749,89049
"RTN","SR182UT3",48,0)
 ;;89050,89051,89055,89060,89125,89160,89190,89220,89230,89240,89250,89251,89253,89254,89255
"RTN","SR182UT3",49,0)
 ;;89257,89258,89259,89260,89261,89264,89268,89272,89280,89281,89290,89291,89300,89310,89320
"RTN","SR182UT3",50,0)
 ;;89321,89322,89325,89329,89330,89331,89335,89342,89343,89344,89346,89352,89353,89354,89356
"RTN","SR182UT3",51,0)
 ;;89398,9001F,9002F,9003F,9004F,9005F,9006F,9007F,90281,90283,90284,90287,90288,90291,90296
"RTN","SR182UT3",52,0)
 ;;90371,90375,90376,90378,90384,90385,90386,90389,90393,90396,90399,90460,90461,90471,90472
"RTN","SR182UT3",53,0)
 ;;90473,90474,90476,90477,90581,90585,90586,90632,90633,90634,90636,90644,90645,90646,90647
"RTN","SR182UT3",54,0)
 ;;90648,90649,90650,90653,90654,90655,90656,90657,90658,90660,90661,90662,90664,90666,90667
"RTN","SR182UT3",55,0)
 ;;90668,90669,90670,90672,90673,90675,90676,90680,90681,90685,90686,90687,90688,90690,90691
"RTN","SR182UT3",56,0)
 ;;90692,90693,90696,90698,90700,90702,90703,90704,90705,90706,90707,90708,90710,90712,90713
"RTN","SR182UT3",57,0)
 ;;90714,90715,90716,90717,90719,90720,90721,90723,90725,90727,90732,90733,90734,90735,90736
"RTN","SR182UT3",58,0)
 ;;90738,90739,90740,90743,90744,90746,90747,90748,90749,90785,90791,90792,90832,90833,90834
"RTN","SR182UT3",59,0)
 ;;90836,90837,90838,90839,90840,90845,90846,90847,90849,90853,90863,90865,90867,90868,90869
"RTN","SR182UT3",60,0)
 ;;90870,90875,90876,90880,90882,90885,90887,90889,90899,90901,90911,90935,90937,90940,90945
"RTN","SR182UT3",61,0)
 ;;90947,90951,90952,90953,90954,90955,90956,90957,90958,90959,90960,90961,90962,90963,90964
"RTN","SR182UT3",62,0)
 ;;90965,90966,90967,90968,90969,90970,90989,90993,90997,90999,91010,91013,91020,91022,91030
"RTN","SR182UT3",63,0)
 ;;91034,91035,91037,91038,91040,91065,91110,91111,91112,91117,91120,91122,91132,91133,91299
"RTN","SR182UT3",64,0)
 ;;92002,92004,92012,92014,92015,92018,92019,92020,92025,92060,92065,92071,92072,92081,92082
"RTN","SR182UT3",65,0)
 ;;92083,92100,92132,92133,92134,92136,92140,92225,92226,92227,92228,92230,92235,92240,92250
"RTN","SR182UT3",66,0)
 ;;92260,92265,92270,92275,92283,92284,92285,92286,92287,92310,92311,92312,92313,92314,92315
"RTN","SR182UT3",67,0)
 ;;92316,92317,92325,92326,92340,92341,92342,92352,92353,92354,92355,92358,92370,92371,92499
"RTN","SR182UT3",68,0)
 ;;92502,92504,92506,92507,92508,92511,92512,92516,92520,92521,92522,92523,92524,92526,92531
"RTN","SR182UT3",69,0)
 ;;92532,92533,92534,92540,92541,92542,92543,92544,92545,92546,92547,92548,92550,92551,92552
"RTN","SR182UT3",70,0)
 ;;92553,92555,92556,92557,92558,92559,92560,92561,92562,92563,92564,92565,92567,92568,92570
"RTN","SR182UT3",71,0)
 ;;92571,92572,92575,92576,92577,92579,92582,92583,92584,92585,92586,92587,92588,92590,92591
"RTN","SR182UT3",72,0)
 ;;92592,92593,92594,92595,92596,92597,92601,92602,92603,92604,92605,92606,92607,92608,92609
"RTN","SR182UT3",73,0)
 ;;92610,92611,92612,92613,92614,92615,92616,92617,92618,92620,92621,92625,92626,92627,92630
"RTN","SR182UT3",74,0)
 ;;92633,92640,92700,92920,92921,92924,92925,92928,92929,92933,92934,92937,92938,92941,92943
"RTN","SR182UT3",75,0)
 ;;92944,92950,92953,92960,92961,92970,92971,92973,92974,92975,92977,92978,92979,92986,92987
"RTN","SR182UT3",76,0)
 ;;92990,92992,92993,92997,92998,93000,93005,93010,93015,93016,93017,93018,93024,93025,93040
"RTN","SR182UT3",77,0)
 ;;93041,93042,93224,93225,93226,93227,93228,93229,93268,93270,93271,93272,93278,93279,93280
"RTN","SR182UT3",78,0)
 ;;93281,93282,93283,93284,93285,93286,93287,93288,93289,93290,93291,93292,93293,93294,93295
"RTN","SR182UT3",79,0)
 ;;93296,93297,93298,93299,93303,93304,93306,93307,93308,93312,93313,93314,93315,93316,93317
"RTN","SR182UT3",80,0)
 ;;93318,93320,93321,93325,93350,93351,93352,93451,93452,93453,93454,93455,93456,93457,93458
"RTN","SR182UT3",81,0)
 ;;93459,93460,93461,93462,93463,93464,93503,93505,93530,93531,93532,93533,93561,93562,93563
"RTN","SR182UT3",82,0)
 ;;93564,93565,93566,93567,93568,93571,93572,93580,93581,93582,93583,93600,93602,93603,93609
"RTN","SR182UT3",83,0)
 ;;93610,93612,93613,93615,93616,93618,93619,93620,93621,93622,93623,93624,93631,93640,93641
"RTN","SR182UT3",84,0)
 ;;93642,93650,93653,93654,93655,93656,93657,93660,93662,93668,93701,93724,93740,93745,93750
"RTN","SR182UT3",85,0)
 ;;93770,93784,93786,93788,93790,93797,93798,93799,93880,93882,93886,93888,93890,93892,93893
"RTN","SR182UT3",86,0)
 ;;93922,93923,93924,93925,93926,93930,93931,93965,93970,93971,93975,93976,93978,93979,93980
"RTN","SR182UT3",87,0)
 ;;93981,93982,93990,93998,94002,94003,94004,94005,94010,94011,94012,94013,94014,94015,94016
"RTN","SR182UT3",88,0)
 ;;94060,94070,94150,94200,94250,94375,94400,94450,94452,94453,94610,94620,94621,94640,94642
"RTN","SR182UT3",89,0)
 ;;94644,94645,94660,94662,94664,94667,94668,94669,94680,94681,94690,94726,94727,94728,94729
"RTN","SR182UT3",90,0)
 ;;94750,94760,94761,94762,94770,94772,94774,94775,94776,94777,94780,94781,94799,95004,95012
"RTN","SR182UT3",91,0)
 ;;95017,95018,95024,95027,95028,95044,95052,95056,95060,95065,95070,95071,95076,95079,95115
"RTN","SR182UT3",92,0)
 ;;95117,95120,95125,95130,95131,95132,95133,95134,95144,95145,95146,95147,95148,95149,95165
"RTN","SR182UT3",93,0)
 ;;95170,95180,95199,95250,95251,95782,95783,95800,95801,95803,95805,95806,95807,95808,95810
"RTN","SR182UT3",94,0)
 ;;95811,95812,95813,95816,95819,95822,95824,95827,95829,95830,95831,95832,95833,95834,95851
"RTN","SR182UT3",95,0)
 ;;95852,95857,95860,95861,95863,95864,95865,95866,95867,95868,95869,95870,95872,95873,95874
"RTN","SR182UT3",96,0)
 ;;95875,95885,95886,95887,95905,95907,95908,95909,95910,95911,95912,95913,95921,95922,95923
"RTN","SR182UT3",97,0)
 ;;95924,95925,95926,95927,95928,95929,95930,95933,95937,95938,95939,95940,95941,95943,95950
"RTN","SR182UT3",98,0)
 ;;95951,95953,95954,95955,95956,95957,95958,95961,95962,95965,95966,95967,95970,95971,95972
"RTN","SR182UT3",99,0)
 ;;95973,95974,95975,95978,95979,95980,95981,95982,95990,95991,95992,95999,96000,96001,96002
"RTN","SR182UT3",100,0)
 ;;96003,96004,96020,96040,96101,96102,96103,96105,96110,96111,96116,96118,96119,96120,96125
"RTN","SR182UT3",101,0)
 ;;96150,96151,96152,96153,96154,96155,96360,96361,96365,96366,96367,96368,96369,96370,96371
"RTN","SR182UT3",102,0)
 ;;96372,96373,96374,96375,96376,96379,96401,96402,96405,96406,96409,96411,96413,96415,96416
"RTN","SR182UT3",103,0)
 ;;96417,96420,96422,96423,96425,96440,96446,96450,96521,96522,96523,96542,96549,96567,96570
"RTN","SR182UT3",104,0)
 ;;96571,96900,96902,96904,96910,96912,96913,96920,96921,96922,96999,97001,97002,97003,97004
"RTN","SR182UT3",105,0)
 ;;97005,97006,97010,97012,97014,97016,97018,97022,97024,97026,97028,97032,97033,97034,97035
"RTN","SR182UT3",106,0)
 ;;97036,97039,97110,97112,97113,97116,97124,97139,97140,97150,97530,97532,97533,97535,97537
"RTN","SR182UT3",107,0)
 ;;97542,97545,97546,97597,97598,97602,97605,97606,97610,97750,97755,97760,97761,97762,97799
"RTN","SR182UT3",108,0)
 ;;97802,97803,97804,97810,97811,97813,97814,98925,98926,98927,98928,98929,98940,98941,98942
"RTN","SR182UT3",109,0)
 ;;98943,98960,98961,98962,98966,98967,98968,98969,99000,99001,99002,99024,99026,99027,99050
"RTN","SR182UT3",110,0)
 ;;99051,99053,99056,99058,99060,99070,99071,99075,99078,99080,99082,99090,99091,99100,99116
"RTN","SR182UT3",111,0)
 ;;99135,99140,99143,99144,99145,99148,99149,99150,99170,99172,99173,99174,99175,99183,99190
"RTN","SR182UT3",112,0)
 ;;99191,99192,99195,99199,99201,99202,99203,99204,99205,99211,99212,99213,99214,99215,99217
"RTN","SR182UT3",113,0)
 ;;99218,99219,99220,99221,99222,99223,99224,99225,99226,99231,99232,99233,99234,99235,99236
"RTN","SR182UT3",114,0)
 ;;99238,99239,99241,99242,99243,99244,99245,99251,99252,99253,99254,99255,99281,99282,99283
"RTN","SR182UT3",115,0)
 ;;99284,99285,99288,99291,99292,99304,99305,99306,99307,99308,99309,99310,99315,99316,99318
"RTN","SR182UT3",116,0)
 ;;99324,99325,99326,99327,99328,99334,99335,99336,99337,99339,99340,99341,99342,99343,99344
"RTN","SR182UT3",117,0)
 ;;99345,99347,99348,99349,99350,99354,99355,99356,99357,99358,99359,99360,99363,99364,99366
"RTN","SR182UT3",118,0)
 ;;99367,99368,99374,99375,99377,99378,99379,99380,99381,99382,99383,99384,99385,99386,99387
"RTN","SR182UT3",119,0)
 ;;99391,99392,99393,99394,99395,99396,99397,99401,99402,99403,99404,99406,99407,99408,99409
"RTN","SR182UT3",120,0)
 ;;99411,99412,99420,99429,99441,99442,99443,99444,99446,99447,99448,99449,99450,99455,99456
"RTN","SR182UT3",121,0)
 ;;99460,99461,99462,99463,99464,99465,99466,99467,99468,99469,99471,99472,99475,99476,99477
"RTN","SR182UT3",122,0)
 ;;99478,99479,99480,99481,99482,99485,99486,99487,99488,99489,99495,99496,99499,99500,99501
"RTN","SR182UT3",123,0)
 ;;99502,99503,99504,99505,99506,99507,99509,99510,99511,99512,99600,99601,99602,99605,99606,99607
"RTN","SR182UTL")
0^^B9724223^n/a
"RTN","SR182UTL",1,0)
SR182UTL ;BIR/SJA - SR*3*182 UTILITY ROUTINE ;11/21/2013
"RTN","SR182UTL",2,0)
 ;;3.0;Surgery;**182**;24 Jun 93;Build 49
"RTN","SR182UTL",3,0)
 Q
"RTN","SR182UTL",4,0)
PRE ; pre-install process for SR*3*182
"RTN","SR182UTL",5,0)
 ; delete data from file #136.5 and re-initialize file
"RTN","SR182UTL",6,0)
 K ^SRO(136.5) S ^SRO(136.5,0)="PERIOPERATIVE OCCURRENCE CATEGORY^136.5I^^"
"RTN","SR182UTL",7,0)
 ; delete DD for modified field #.69
"RTN","SR182UTL",8,0)
 F DA=.69,74 S DIK="^DD(130,",DA(1)=130 D ^DIK K DA,DIK
"RTN","SR182UTL",9,0)
 Q
"RTN","SR182UTL",10,0)
POST ; post-install process for SR*3*182
"RTN","SR182UTL",11,0)
 N SRI,SRTXT,SRIEN,SRZ,SREF,SRX,SRY,X
"RTN","SR182UTL",12,0)
 D MES^XPDUTL("  Starting post-install of SR*3.0*182")
"RTN","SR182UTL",13,0)
 ;
"RTN","SR182UTL",14,0)
 ; inactivate existing cancellation reasons and add new ones
"RTN","SR182UTL",15,0)
 S SRZ=0 F  S SRZ=$O(^SRO(135,SRZ)) Q:'SRZ!(SRZ>1009)  S DIE=135,DA=SRZ,DR="10////1" D ^DIE K DA,DIE,DR
"RTN","SR182UTL",16,0)
 ; kill then rebuild "B","C" x-ref:
"RTN","SR182UTL",17,0)
 K ^SRO(135,"B"),^SRO(135,"C")
"RTN","SR182UTL",18,0)
 F SRI=1:1 S SRX=$P($T(TXTCAN+SRI),";;",2) Q:SRX="EOM"  S SRTXT=$P(SRX,"^",2) D
"RTN","SR182UTL",19,0)
 .S SRIEN=1009+SRI I '$D(^SRO(135,SRIEN,0)) S ^SRO(135,SRIEN,0)=SRTXT_"^"_SRI
"RTN","SR182UTL",20,0)
 F SREF=".01^B","1^C" S DIK="^SRO(135,",DIK(1)=SREF D ENALL^DIK
"RTN","SR182UTL",21,0)
 D MES^XPDUTL("The Surgery Cancellation Reason file (#135) has been updated")
"RTN","SR182UTL",22,0)
 ;
"RTN","SR182UTL",23,0)
 I '$$PATCH^XPDUTL("SR*3.0*182") D ADDIS
"RTN","SR182UTL",24,0)
 ;
"RTN","SR182UTL",25,0)
 ; CPT EXCLUSIONS file #137
"RTN","SR182UTL",26,0)
 D MES^XPDUTL("  Populating CPT EXCLUSIONS file...")
"RTN","SR182UTL",27,0)
 K ^SRO(137)
"RTN","SR182UTL",28,0)
 S ^SRO(137,0)="CPT EXCLUSIONS^137P^^"
"RTN","SR182UTL",29,0)
 D PEX^SR182UT0,PEX^SR182UT1,PEX^SR182UT2,PEX^SR182UT3
"RTN","SR182UTL",30,0)
 ;
"RTN","SR182UTL",31,0)
DEL ; delete routines SR182UT0, SR182UT1, SR182UT2, and SR182UT3
"RTN","SR182UTL",32,0)
 F X="SR182UT0","SR182UT1","SR182UT2","SR182UT3" X ^%ZOSF("TEST") I $T D
"RTN","SR182UTL",33,0)
 .D MES^XPDUTL(" Deleting routine "_X_"...")
"RTN","SR182UTL",34,0)
 .X ^%ZOSF("DEL")
"RTN","SR182UTL",35,0)
 K DA,DIC,DD,DO,DINUM,X
"RTN","SR182UTL",36,0)
 Q
"RTN","SR182UTL",37,0)
INT S SRY=0,SRY=$O(^ICPT("B",SRX,SRY)) Q:SRY=""
"RTN","SR182UTL",38,0)
 K DA,DIC,DD,DO,DINUM S (DINUM,X)=SRY,DIC="^SRO(137,",DIC(0)="L" D FILE^DICN
"RTN","SR182UTL",39,0)
 Q
"RTN","SR182UTL",40,0)
ADDIS ; inactivate existing SURGERY DISPOSITION file (#131.6) entries and add new ones
"RTN","SR182UTL",41,0)
 S SRZ=0 F  S SRZ=$O(^SRO(131.6,SRZ)) Q:'SRZ  S DIE=131.6,DA=SRZ,DR="2////1" D ^DIE K DA,DIE,DR
"RTN","SR182UTL",42,0)
 ; kill and then rebuild "B","C","D" x-ref:
"RTN","SR182UTL",43,0)
 K ^SRO(131.6,"B"),^SRO(131.6,"C"),^SRO(131.6,"D")
"RTN","SR182UTL",44,0)
 S SRMAX=$O(^SRO(131.6," "),-1) F SRI=1:1 S SRX=$P($T(TXTDIS+SRI),";;",2) Q:SRX="EOM"  D
"RTN","SR182UTL",45,0)
 .S SRIEN=SRMAX+SRI I '$D(^SRO(131.6,SRIEN,0)) S ^SRO(131.6,SRIEN,0)=$P(SRX,"^",2)_"^"_$P(SRX,"^")
"RTN","SR182UTL",46,0)
 F SREF=".01^B","1^C" S DIK="^SRO(131.6,",DIK(1)=SREF D ENALL^DIK
"RTN","SR182UTL",47,0)
 K DIK S ^DD(131.6,.01,7.5)="I $G(DIC(0))[""L"",'$D(XUMF) K X D EN^DDIOL(""File is locked. No new entries or edits are allowed."","""",""!?5,$C(7)"")"
"RTN","SR182UTL",48,0)
 D MES^XPDUTL("The Surgery Disposition file (#131.6) has been updated")
"RTN","SR182UTL",49,0)
 Q
"RTN","SR182UTL",50,0)
TXTCAN ; new surgery cancellation reasons
"RTN","SR182UTL",51,0)
 ;;1^PATIENT RELATED ISSUE
"RTN","SR182UTL",52,0)
 ;;2^ENVIRONMENTAL ISSUE
"RTN","SR182UTL",53,0)
 ;;3^STAFF ISSUE
"RTN","SR182UTL",54,0)
 ;;4^PATIENT HEALTH STATUS
"RTN","SR182UTL",55,0)
 ;;5^CLIN URGENT/EMERGENT CASE
"RTN","SR182UTL",56,0)
 ;;6^SCHED ISSUES NON EMERGENT CASE
"RTN","SR182UTL",57,0)
 ;;7^UNAVAILABLE BED
"RTN","SR182UTL",58,0)
 ;;8^UNAVAILABLE EQUIP EXCLUDE RME
"RTN","SR182UTL",59,0)
 ;;9^UNAVAILABLE REUSABLE EQUP-RME
"RTN","SR182UTL",60,0)
 ;;10^CASE MOVED TO EARLIER DATE
"RTN","SR182UTL",61,0)
 ;;EOM
"RTN","SR182UTL",62,0)
TXTDIS ; new surgery disposition entries
"RTN","SR182UTL",63,0)
 ;;O^OUTPATIENT/DISCHARGE
"RTN","SR182UTL",64,0)
 ;;I^ICU
"RTN","SR182UTL",65,0)
 ;;S^STEPDOWN
"RTN","SR182UTL",66,0)
 ;;W^WARD
"RTN","SR182UTL",67,0)
 ;;OBS^OBSERVATION UNIT
"RTN","SR182UTL",68,0)
 ;;M^MORGUE
"RTN","SR182UTL",69,0)
 ;;EOM
"RTN","SRO1L1")
0^21^B14307107^B14121011
"RTN","SRO1L1",1,0)
SRO1L1 ;BIR/ADM - UPDATE 1-LINER CASE, CONTINUED ;02/14/07
"RTN","SRO1L1",2,0)
 ;;3.0;Surgery;**86,88,100,129,142,153,160,182**;24 Jun 93;Build 49
"RTN","SRO1L1",3,0)
 S SRSOUT=0,SRSUPCPT=2 D NCODE^SROAUTL
"RTN","SRO1L1",4,0)
 N SRLCK,SRCSTAT S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK Q
"RTN","SRO1L1",5,0)
 D SRA^SROES
"RTN","SRO1L1",6,0)
EDIT S SRA=$G(^SRF(SRTN,"RA")) I $P(SRA,"^",2)="N",$P(SRA,"^",6)="N",$P(SRA,"^",7)'="" D ^SROAEX,END Q
"RTN","SRO1L1",7,0)
 S SRCSTAT=">> Coding "_$S($P($G(^SRO(136,SRTN,10)),"^"):"",1:"Not ")_"Complete <<"
"RTN","SRO1L1",8,0)
 S SRR=0 D TSTAT,HDR^SROAUTL D TECH^SROPRIN
"RTN","SRO1L1",9,0)
 S X=$P(^SRF(SRTN,"OP"),"^",2) I X S Y=$P($$CPT^ICPTCOD(X),"^",2) D SSPRIN^SROCPT S SRCPT=Y
"RTN","SRO1L1",10,0)
 S SRQ=0,SRDR=".011;.04;.035;.166;1.09;1.13"
"RTN","SRO1L1",11,0)
 S SRAO(1)="Hospital Admission Status^.011",SRAO(2)="Major or Minor^.03",SRAO(2)="Surgical Specialty^.04",SRAO(3)="Surgical Priority^.035",SRAO(4)="Attending/Res Sup Code^.166"
"RTN","SRO1L1",12,0)
 S SRAO(5)="ASA Class^1.13",SRAO(6)="Wound Classification^1.09",SRAO(7)="Anesthesia Technique^.37",SRAO(8)="CPT Codes (view only)^",SRAO(9)="Other Procedures^.42"
"RTN","SRO1L1",13,0)
 K DA,DIC,DIQ,DR,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRO1L1",14,0)
 S SRY(130,SRTN,.37,"E")=SRTECH,SRY(130,SRTN,.42,"E")=$S($O(^SRF(SRTN,13,0)):"***INFORMATION ENTERED***",1:"***NONE ENTERED***"),SRY(130,SRTN,27,"E")=SRCPT
"RTN","SRO1L1",15,0)
 F I=1:1:9 W !,$J(I,2)_". "_$P(SRAO(I),"^")_":" D
"RTN","SRO1L1",16,0)
 .I I=8 D PROC Q
"RTN","SRO1L1",17,0)
 .S SREXT(1)=SRY(130,SRTN,$P(SRAO(I),"^",2),"E") I $L(SREXT(1))>48 D
"RTN","SRO1L1",18,0)
 ..N I,J,X,Y S X=SREXT(1) F I=0:1:47 S J=48-I,Y=$E(X,J) I Y=" " S SREXT(1)=$E(X,1,J-1),SREXT(2)=$E(X,J+1,$L(X)) Q
"RTN","SRO1L1",19,0)
 .W ?32,SREXT(1) W:$D(SREXT(2)) !,?32,SREXT(2) K SREXT
"RTN","SRO1L1",20,0)
 W !! F I=1:1:80 W "-"
"RTN","SRO1L1",21,0)
 S SRX=9 D SEL
"RTN","SRO1L1",22,0)
 K DA,DIK S DIK="^SRF(",DIK(1)=".232^AQ",DA=SRTN D EN1^DIK K DA,DIK
"RTN","SRO1L1",23,0)
 G:SRR=1 EDIT
"RTN","SRO1L1",24,0)
END D EXIT^SROES D:$G(SRLCK) UNLOCK^SROUTL(SRTN)
"RTN","SRO1L1",25,0)
 Q
"RTN","SRO1L1",26,0)
PROC N I,SRPROC,SRL S SRL=48 D CPTS^SROAUTL0
"RTN","SRO1L1",27,0)
 F I=1:1 Q:'$D(SRPROC(I))  W:I=1 ?32,SRPROC(I) W:I'=1 !,?32,SRPROC(I)
"RTN","SRO1L1",28,0)
 Q
"RTN","SRO1L1",29,0)
SEL W !!,"Select number of item to edit: " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SRO1L1",30,0)
 Q:X=""  S:X="a" X="A" I '$D(SRAO(X)),(X'?.N1":".N),(X'="A") D HELP S SRR=1 Q
"RTN","SRO1L1",31,0)
 I X?1.2N1":"1.2N S Y=$P(X,":"),Z=$P(X,":",2) I Y<1!(Z>SRX)!(Y>Z) D HELP S SRR=1 Q
"RTN","SRO1L1",32,0)
 I X="A" S X="1:"_SRX
"RTN","SRO1L1",33,0)
 I X?1.2N1":"1.2N D RANGE S SRR=1 Q
"RTN","SRO1L1",34,0)
 I $D(SRAO(X)) S EMILY=X W !! D ONE S SRR=1
"RTN","SRO1L1",35,0)
 Q
"RTN","SRO1L1",36,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit. Examples of proper"
"RTN","SRO1L1",37,0)
 W !,"responses are listed below.",!!,"1. Enter 'A' to update all items."
"RTN","SRO1L1",38,0)
 W !!,"2. Enter a number (1-"_SRX_") to update an individual item. (For example,"
"RTN","SRO1L1",39,0)
 W !,"   enter '1' to update "_$P(SRAO(1),"^")_")"
"RTN","SRO1L1",40,0)
 W !!,"3. Enter a range of numbers (1-"_SRX_") separated by a ':' to enter a range"
"RTN","SRO1L1",41,0)
 W !,"   of items. (For example, enter '1:4' to update items 1, 2, 3 and 4.)",!
"RTN","SRO1L1",42,0)
PRESS W ! K DIR S DIR(0)="E" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SRO1L1",43,0)
 Q
"RTN","SRO1L1",44,0)
RANGE ; range of numbers
"RTN","SRO1L1",45,0)
 S SHEMP=$P(X,":"),CURLEY=$P(X,":",2) F EMILY=SHEMP:1:CURLEY Q:SRSOUT  D ONE
"RTN","SRO1L1",46,0)
 Q
"RTN","SRO1L1",47,0)
ONE ; edit one item
"RTN","SRO1L1",48,0)
 I EMILY=7 D UPANES Q
"RTN","SRO1L1",49,0)
 I EMILY=8 D DISP^SROAUTL0 Q
"RTN","SRO1L1",50,0)
 I EMILY=9 D ^SROTHER Q
"RTN","SRO1L1",51,0)
 K DR,DIE S DA=SRTN,DR=$P(SRAO(EMILY),"^",2)_"T",DIE=130 D ^DIE K DR I $D(Y) S SRSOUT=1
"RTN","SRO1L1",52,0)
 Q
"RTN","SRO1L1",53,0)
UPANES K DR,DIE,DA S DA=SRTN,DR=.37,DR(2,130.06)=".01T;.05T;42T",DIE=130 D ^DIE K DR
"RTN","SRO1L1",54,0)
 Q
"RTN","SRO1L1",55,0)
TSTAT ; transmission status
"RTN","SRO1L1",56,0)
 N SR905 S SR905=$P($G(^SRF(SRTN,.4)),"^",2)
"RTN","SRO1L1",57,0)
 S SRHDR(.5)="Transmission Status: "_$S(SR905="T":"TRANSMITTED",SR905="R":"QUEUED TO TRANSMIT",1:"NOT QUEUED")
"RTN","SRO1L1",58,0)
 Q
"RTN","SROACAR")
0^75^B1319854^B13317261
"RTN","SROACAR",1,0)
SROACAR ;BIR/MAM - OPEATIVE DATA ;12/03/07
"RTN","SROACAR",2,0)
 ;;3.0;Surgery;**38,71,93,95,100,125,142,153,166,174,182**;24 Jun 93;Build 49
"RTN","SROACAR",3,0)
 I '$D(SRTN) W !!,"A Surgery Risk Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SROACAR",4,0)
 S SRACLR=0,SRSOUT=0,SRSUPCPT=1 D ^SROAUTL
"RTN","SROACAR",5,0)
START D:SRACLR RET G:SRSOUT END S SRACLR=0 K SRA,SRAO D ^SROACR2
"RTN","SROACAR",6,0)
 ;
"RTN","SROACAR",7,0)
END W @IOF D ^SRSKILL
"RTN","SROACAR",8,0)
 Q
"RTN","SROACAR",9,0)
RET Q:SRSOUT  W ! K DIR S DIR(0)="E" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROACAR",10,0)
 Q
"RTN","SROACL1")
0^22^B37257930^B32293061
"RTN","SROACL1",1,0)
SROACL1 ;BIR/MAM - CARDIAC PREOP CLINICAL DATA ;08/11/2011
"RTN","SROACL1",2,0)
 ;;3.0;Surgery;**38,71,95,125,153,160,174,176,182**;24 Jun 93;Build 49
"RTN","SROACL1",3,0)
 ;
"RTN","SROACL1",4,0)
 ; Reference to EN1^GMRVUT0 supported by DBIA #1446
"RTN","SROACL1",5,0)
 ;
"RTN","SROACL1",6,0)
 D TUT^SROAUTL3 F I=0,200,202,205,206,206.1,208,209,200.1 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROACL1",7,0)
HT N SRSD,SRED S SRED=$P(SRA(0),"^",9)
"RTN","SROACL1",8,0)
 I $P(SRA(206),"^")="" S SRSD=$$FMADD^XLFDT(SRED,-365),NYUK=$$HW(SRSD,SRED,"HT") D
"RTN","SROACL1",9,0)
 .I NYUK'="" S NYUK=NYUK+.5\1,$P(^SRF(SRTN,206),"^")=NYUK,SRA(206)=$G(^SRF(SRTN,206))
"RTN","SROACL1",10,0)
 S NYUK=$P(SRA(206),"^") S:NYUK'="" NYUK=$S(NYUK["C"!(NYUK["c"):+NYUK_" cm",+NYUK=NYUK:+NYUK_" in",NYUK="NS":" NS",1:NYUK) S SRAO(1)=NYUK_"^236"
"RTN","SROACL1",11,0)
WT I $P(SRA(206),"^",2)="" S SRSD=$$FMADD^XLFDT(SRED,-30),NYUK=$$HW(SRSD,SRED,"WT") D
"RTN","SROACL1",12,0)
 .I NYUK'="" S NYUK=NYUK+.5\1,$P(^SRF(SRTN,206),"^",2)=NYUK,SRA(206)=$G(^SRF(SRTN,206))
"RTN","SROACL1",13,0)
 S NYUK=$P(SRA(206),"^",2) S:NYUK'="" NYUK=$S(NYUK["K"!(NYUK["k"):+NYUK_" kg",+NYUK=NYUK:+NYUK_" lb",NYUK="NS":" NS",1:NYUK) S SRAO(2)=NYUK_"^237"
"RTN","SROACL1",14,0)
 S Y=$P(SRA(200.1),"^",11),C=$P(^DD(130,519,0),"^",2) D:Y'="" Y^DIQ S SRAO(3)=Y_"^519"
"RTN","SROACL1",15,0)
 S Y=$P(SRA(200.1),"^",12),C=$P(^DD(130,520,0),"^",2) D:Y'="" Y^DIQ S SRAO(4)=Y_"^520"
"RTN","SROACL1",16,0)
 K SRA(0) S NYUK=$P(SRA(200),"^",11) D YN S SRAO(5)=SHEMP_"^203"
"RTN","SROACL1",17,0)
 S SRAO(6)=$P(SRA(206),"^",5)_"^347",NYUK=$P(SRA(206),"^",6) D YN S SRAO(7)=SHEMP_"^209",NYUK=$P(SRA(206),"^",7) D YN S SRAO(8)=SHEMP_"^348"
"RTN","SROACL1",18,0)
 S Y=$P(SRA(200.1),"^",9),C=$P(^DD(130,517,0),"^",2) D:Y'="" Y^DIQ S SRAO(9)=Y_"^517"
"RTN","SROACL1",19,0)
 S Y=$P(SRA(200.1),"^",10),C=$P(^DD(130,518,0),"^",2) D:Y'="" Y^DIQ S SRAO(10)=Y_"^518"
"RTN","SROACL1",20,0)
 S Y=$P(SRA(200),"^",55) S SRAO(11)=$$H618(Y)_"^618",NYUK=$P(SRA(206),"^",10) D YN S SRAO(12)=SHEMP_"^349"
"RTN","SROACL1",21,0)
 S NYUK=$P(SRA(206),"^",11) D YN S SRAO(13)=SHEMP_"^350",NYUK=$P(SRA(200),"^",8),SRAO(14)=$S(NYUK=1:"INDEPENDENT",NYUK=2:"PARTIAL DEPENDENT",NYUK=3:"TOTALLY DEPENDENT",NYUK="NS":"NO STUDY",1:"")_"^240"
"RTN","SROACL1",22,0)
 S NYUK=$P(SRA(200),"^",56),SRAO(15)=$S(NYUK=1:"NONE",NYUK=2:"<12 HRS OF SURG",NYUK=3:">12 HRS - 7 DAYS",NYUK=4:">7 DAYS",NYUK=5:"UNKNOWN",1:"")_"^640"
"RTN","SROACL1",23,0)
 S NYUK=$P(SRA(206),"^",14),SRAO(16)=$S(NYUK=0:"NO",NYUK=1:"< OR = 7 DAYS",NYUK=2:"BETWEEN 7 DAYS AND 6 MONTHS",NYUK=3:"UNKNOWN",1:"")_"^205"
"RTN","SROACL1",24,0)
 S NYUK=$P(SRA(206),"^",15) S SRAO(17)=$S(NYUK=0:"NONE",NYUK=">":">3",NYUK="Y":"YES",NYUK="N":"NO",1:NYUK)_"^352"
"RTN","SROACL1",25,0)
 S SRAO(18)=$P(SRA(206),"^",42)_"^485"
"RTN","SROACL1",26,0)
 S NYUK=$P(SRA(206),"^",16) S SRAO(19)=$$OUT(265,NYUK)_"^265"
"RTN","SROACL1",27,0)
 S NYUK=$P(SRA(200.1),"^",13),SRAO(20)=$S(NYUK=1:"YES/NO SURG",NYUK=2:"YES/PRIOR SURG",NYUK=0:"NO CVD",1:"")_"^521"
"RTN","SROACL1",28,0)
 S NYUK=$P(SRA(200.1),"^",14),SRAO(21)=$S(NYUK=1:"HIST OF TIA'S",NYUK=2:"CVA W/O NEURO DEF",NYUK=3:"CVA W/ NEURO DEF",NYUK=0:"NO CVD",1:"")_"^522"
"RTN","SROACL1",29,0)
 S SRAO(22)=$$OUT(267,$P(SRA(206),"^",18))_"^267",SRAO(23)=$$OUT(643,$P(SRA(200),"^",59))_"^643"
"RTN","SROACL1",30,0)
 S SRAO(24)=$P(SRA(206),"^",19)_"^207",NYUK=$P(SRA(206),"^",20) D YN S SRAO(25)=SHEMP_"^353",NYUK=$P(SRA(206),"^",21) D YN S SRAO(26)=SHEMP_"^354"
"RTN","SROACL1",31,0)
 S NYUK=$P(SRA(206),"^",22) D YN S SRAO(27)=SHEMP_"^355"
"RTN","SROACL1",32,0)
 S NYUK=$P(SRA(209),"^",2),SRAO(28)=$S(NYUK="N":"NONE",NYUK="I":"IABP",NYUK="V":"VAD",NYUK="A":"ARTI",NYUK="O":"OTHER",1:"")_"^474"
"RTN","SROACL1",33,0)
 S NYUK=$P(SRA(200),"^",57) D H641 S SRAO(29)=SHEMP_"^641"
"RTN","SROACL1",34,0)
 S NYUK=$P(SRA(208),"^",19) D YN S SRAO(30)=SHEMP_"^509"
"RTN","SROACL1",35,0)
 S NYUK=$P(SRA(200.1),"^",8),SRAO(31)=$$OUT(237.1,NYUK)_"^237.1"
"RTN","SROACL1",36,0)
DISP ; display fields
"RTN","SROACL1",37,0)
 S SRPAGE="PAGE: 1" D HDR^SROAUTL
"RTN","SROACL1",38,0)
 W !," 1. Height:",?29,$P(SRAO(1),"^"),?42,"16. Prior MI: ",$E($P(SRAO(16),"^"),1,23)
"RTN","SROACL1",39,0)
 W !," 2. Weight:",?29,$P(SRAO(2),"^"),?42,"17. Num Prior Heart Surgeries: ",?75,$P(SRAO(17),"^")
"RTN","SROACL1",40,0)
 W !," 3. Diabetes - Long Term:",?30,$P(SRAO(3),"^"),?42,"18. Prior Heart Surgery:" D H485
"RTN","SROACL1",41,0)
 W !," 4. Diabetes - 2 Wks Preop:",?30,$P(SRAO(4),"^"),?42,"19. PAD:",?(79-$L($P(SRAO(19),"^"))),$P(SRAO(19),"^")
"RTN","SROACL1",42,0)
 W !," 5. COPD:",?30,$P(SRAO(5),"^"),?42,"20. CVD Repair/Obstruct: ",?(79-$L($P(SRAO(20),"^"))),$E($P(SRAO(20),"^"),1,12)
"RTN","SROACL1",43,0)
 W !," 6. FEV1:",?($S($P(SRAO(6),"^")="NS":30,1:27)),$P(SRAO(6),"^")_$S($P(SRAO(6),"^")="":"",$P(SRAO(6),"^")="NS":"",1:" liters"),?42,"21. History of CVD:",?(79-$L($P(SRAO(21),"^"))),$P(SRAO(21),"^")
"RTN","SROACL1",44,0)
 W !," 7. Cardiomegaly (X-ray):",?30,$P(SRAO(7),"^"),?42,"22. Angina Severity: ",?(79-$L($P(SRAO(22),"^"))),$P(SRAO(22),"^")
"RTN","SROACL1",45,0)
 W !," 8. Pulmonary Rales:",?30,$P(SRAO(8),"^"),?42,"23. Angina Timeframe: ",$J($E($P(SRAO(23),"^"),1,16),16)
"RTN","SROACL1",46,0)
 W !," 9. Tobacco Use:",$J($P(SRAO(9),"^"),24),?42,"24. Congestive Heart Failure:",?75,$P(SRAO(24),"^")
"RTN","SROACL1",47,0)
 W !,"10. Tobacco Use Timeframe: ",$P(SRAO(10),"^"),?42,"25. Current Diuretic Use:",?75,$P(SRAO(25),"^")
"RTN","SROACL1",48,0)
 W !,"11. Positive Drug Screening: ",?30,$P(SRAO(11),"^"),?42,"26. Current Digoxin Use:",?75,$P(SRAO(26),"^")
"RTN","SROACL1",49,0)
 W !,"12. Active Endocarditis:",?30,$P(SRAO(12),"^"),?42,"27. IV NTG within 48 Hours:",?75,$P(SRAO(27),"^")
"RTN","SROACL1",50,0)
 W !,"13. Resting ST Depression:",?30,$P(SRAO(13),"^"),?42,"28. Preop Circulatory Device: ",$P(SRAO(28),"^")
"RTN","SROACL1",51,0)
 W !,"14. Functional Status: ",$J($P(SRAO(14),"^"),17),?42,"29. Hypertension: ",$J($E($P(SRAO(29),"^"),1,20),20)
"RTN","SROACL1",52,0)
 W !,"15. PCI: ",$J($P(SRAO(15),"^"),25),?42,"30. Preop Atrial Fibrillation:",?72,$P(SRAO(30),"^")
"RTN","SROACL1",53,0)
 w !,?42,"31. Preop Sleep Apnea:",?72,$P(SRAO(31),"^")
"RTN","SROACL1",54,0)
 W ! F MOE=1:1:80 W "-"
"RTN","SROACL1",55,0)
 Q
"RTN","SROACL1",56,0)
YN ; store answer
"RTN","SROACL1",57,0)
 S SHEMP=$S(NYUK="NS":"NS",NYUK="N":"NO",NYUK="Y":"YES",NYUK="NA":"N/A",1:"")
"RTN","SROACL1",58,0)
 Q
"RTN","SROACL1",59,0)
H641 ; store answer
"RTN","SROACL1",60,0)
 S SHEMP=$S(NYUK=1:"NO",NYUK=2:"YES WITHOUT MED",NYUK=3:"YES WITH MED",NYUK=4:"UNKNOWN",1:"")
"RTN","SROACL1",61,0)
 Q
"RTN","SROACL1",62,0)
H618(Y) S SHEMP=$S(Y=1:"NOT DONE",Y=2:"NEG RESULT",Y=3:"POS NOT RX",Y=4:"POS RX",1:"")
"RTN","SROACL1",63,0)
 Q $E(SHEMP,1,10)
"RTN","SROACL1",64,0)
 ;
"RTN","SROACL1",65,0)
H485 S SHEMP="",X=$P(SRAO(18),"^") F I=1:1:$L(X,",") D
"RTN","SROACL1",66,0)
 .S C=$P(X,",",I) S:I>1 SHEMP=SHEMP_", " S SHEMP=SHEMP_$S(C=0:"NONE",C=1:"CABG-ONLY",C=2:"VALVE-ONLY",C=3:"CABG/VALVE",C=4:"OTHER",C=5:"CABG/OTHER",C=6:"UNKNOWN",1:"")
"RTN","SROACL1",67,0)
 S X=SHEMP I $L(X)<12 W ?68,$J(X,11) Q
"RTN","SROACL1",68,0)
 W ?68,$J($P(X,",")_",",11) I $L($P(X,", ",2,9))<36 W !,?44,$P(X,", ",2,9) Q
"RTN","SROACL1",69,0)
 W !,?44,$P(X,", ",2,4)_",",!,?44,$P(X,", ",5,9)
"RTN","SROACL1",70,0)
 Q
"RTN","SROACL1",71,0)
HW(SRSD,SRED,SVTYPE) ; get weight & height from Vitals
"RTN","SROACL1",72,0)
 N GMRVSTR,SRTYPE,SRBCNT,SRBRDT,SRBIEN,SRBDATA,RESULTS
"RTN","SROACL1",73,0)
 K ^UTILITY($J,"GMRVD"),RESULTS S GMRVSTR=SVTYPE,GMRVSTR(0)=SRSD_"^"_SRED_"^^"
"RTN","SROACL1",74,0)
 D EN1^GMRVUT0 Q:'$D(^UTILITY($J,"GMRVD")) ""
"RTN","SROACL1",75,0)
 S SRTYPE="",SRBCNT=1 F  S SRTYPE=$O(^UTILITY($J,"GMRVD",SRTYPE)) Q:SRTYPE=""  D
"RTN","SROACL1",76,0)
 .S SRBRDT=0 F  S SRBRDT=$O(^UTILITY($J,"GMRVD",SRTYPE,SRBRDT)) Q:'SRBRDT  D
"RTN","SROACL1",77,0)
 ..S SRBIEN=0 F  S SRBIEN=$O(^UTILITY($J,"GMRVD",SRTYPE,SRBRDT,SRBIEN)) Q:'SRBIEN  D
"RTN","SROACL1",78,0)
 ...S SRBDATA=$G(^UTILITY($J,"GMRVD",SRTYPE,SRBRDT,SRBIEN))
"RTN","SROACL1",79,0)
 ...S RESULTS(SRTYPE,SRBRDT)=$P(SRBDATA,"^",1,2)_"^"_$P(SRBDATA,"^",8),SRBCNT=SRBCNT+1
"RTN","SROACL1",80,0)
 I $D(RESULTS(SVTYPE)) S SRI=$O(RESULTS(SVTYPE,0)) Q $P(RESULTS(SVTYPE,SRI),"^",3)
"RTN","SROACL1",81,0)
 Q ""
"RTN","SROACL1",82,0)
OUT(SRFLD,SRY) ; get data in output form
"RTN","SROACL1",83,0)
 N C,Y,Z
"RTN","SROACL1",84,0)
 S Y=SRY,C=$P(^DD(130,SRFLD,0),"^",2) D:Y'="" Y^DIQ
"RTN","SROACL1",85,0)
 S Y=$S(Y="NO STUDY":"NS",Y="N/A":"NA",1:Y)
"RTN","SROACL1",86,0)
 I SRFLD=265 S Y=$S(SRY=1:"NO",SRY=2:"YES-W/O ANGI,REVASC,or AMPUT",SRY=3:"YES-W HX ANGI,REVASC,or AMPUT",SRY=4:"UNKNOWN",1:"") Q Y
"RTN","SROACL1",87,0)
 I SRFLD=237.1 S Y=$E(Y,1,7)
"RTN","SROACL1",88,0)
 Q Y
"RTN","SROACL2")
0^23^B3657478^B3905416
"RTN","SROACL2",1,0)
SROACL2 ;BIR/SJA - CLINICAL DATA ;07/12/2011
"RTN","SROACL2",2,0)
 ;;3.0;Surgery;**125,160,176,182**;24 Jun 93;Build 49
"RTN","SROACL2",3,0)
 D HDR^SROAUTL N SRQ
"RTN","SROACL2",4,0)
PRIOR W !,"Prior Heart Surgery:"
"RTN","SROACL2",5,0)
 W !!,"0. NONE                      4. OTHER",!,"1. CABG-ONLY                 5. CABG/OTHER",!,"2. VALVE-ONLY                6. UNKNOWN",!,"3. CABG/Valve"
"RTN","SROACL2",6,0)
 K DIR S DIR(0)="LOA^0:6",DIR("A")="Enter your choice(s) separated by commas  (0-6): "
"RTN","SROACL2",7,0)
 I $D(SRAO) S DIR("B")=$S($D(SRAO(X)):$P(SRAO(X),"^"),1:"")
"RTN","SROACL2",8,0)
 S DIR("?")="Enter applicable types of heart surgery performed."
"RTN","SROACL2",9,0)
 S DIR("??")="^D H485^SROACL2" D ^DIR K DIR
"RTN","SROACL2",10,0)
 I X="@" S DIR("A")="     SURE YOU WANT TO DELETE ",DIR(0)="Y" D ^DIR K DIR S:Y X="@" Q
"RTN","SROACL2",11,0)
 I X=""!(Y["^")!($D(DIRUT)) Q
"RTN","SROACL2",12,0)
 D CHECK G:SRQ PRIOR
"RTN","SROACL2",13,0)
 Q
"RTN","SROACL2",14,0)
H485 N SRH D HELP^DIE(130,"",485,"A","SRH")
"RTN","SROACL2",15,0)
 I $G(SRH("DIHELP")) F I=1:1:SRH("DIHELP") W !,?2,SRH("DIHELP",I)
"RTN","SROACL2",16,0)
 Q
"RTN","SROACL2",17,0)
CHECK N I,C S SRQ=0
"RTN","SROACL2",18,0)
 I Y["0",($TR(Y,",","")>0) S SRQ=1 W !,"Do not enter NONE if prior heart surgeries were performed.",! Q
"RTN","SROACL2",19,0)
 F I=1:1:$L(Y,",") S C=$P(Y,",",I) Q:C=""  W !?43,C," - " D
"RTN","SROACL2",20,0)
 .I "0123456"[C W $S(C=0:"NONE",C=1:"CABG-ONLY",C=2:"VALVE-ONLY",C=3:"CABG/VALVE",C=4:"OTHER",C=5:"CABG/OTHER",C=6:"UNKNOWN",1:"") Q
"RTN","SROACL2",21,0)
 S Y=$P(Y,",",1,$L(Y,",")-1)_"^485"
"RTN","SROACL2",22,0)
 Q
"RTN","SROACLN")
0^24^B12972978^B12597200
"RTN","SROACLN",1,0)
SROACLN ;BIR/MAM - CLINICAL DATA ;09/01/2011
"RTN","SROACLN",2,0)
 ;;3.0;Surgery;**38,47,71,95,100,125,142,174,175,176,182**;24 Jun 93;Build 49
"RTN","SROACLN",3,0)
 I '$D(SRTN) W !!,"A Surgery Risk Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SROACLN",4,0)
 S SRACLR=0,SRSOUT=0,SRSUPCPT=1 D ^SROAUTL
"RTN","SROACLN",5,0)
START D:SRACLR RET G:SRSOUT END S SRACLR=0 K SRA,SRAO D ^SROACL1
"RTN","SROACLN",6,0)
ASK W !!,"Select Clinical Information to Edit: " R X:DTIME I '$T!("^"[X) G END
"RTN","SROACLN",7,0)
 S X=$S(X="a":"A",X="n":"N",1:X) I '$D(SRAO(X)),(X'?.N1":".N),(X'="A"),(X'="N") D HELP G:SRSOUT END G START
"RTN","SROACLN",8,0)
 I X="A" S X="1:31"
"RTN","SROACLN",9,0)
 I X?.N1":".N S Y=$E(X),Z=$P(X,":",2) I Y<1!(Z>31)!(Y>Z) D HELP G:SRSOUT END G START
"RTN","SROACLN",10,0)
 I X="N" D  G:SRSOUT END G START
"RTN","SROACLN",11,0)
 .W ! K DIR S DIR(0)="Y",DIR("B")="NO",DIR("A")="Are you sure you want to set all fields on this page to NO"
"RTN","SROACLN",12,0)
 .D ^DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SROACLN",13,0)
 .I Y D NO2ALL
"RTN","SROACLN",14,0)
 D HDR^SROAUTL
"RTN","SROACLN",15,0)
 I X?.N1":".N D RANGE G START
"RTN","SROACLN",16,0)
 I $D(SRAO(X)) S EMILY=X D  G START
"RTN","SROACLN",17,0)
 .I $$LOCK^SROUTL(SRTN) W !! D ONE,UNLOCK^SROUTL(SRTN)
"RTN","SROACLN",18,0)
END I '$D(SREQST) W @IOF D ^SRSKILL
"RTN","SROACLN",19,0)
 Q
"RTN","SROACLN",20,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SROACLN",21,0)
 W !!,"1. Enter 'A' to update all information.",!!,"2. Enter 'N' to set all fields on this page to NO."
"RTN","SROACLN",22,0)
 W !!,"3. Enter a specific number to update the information in that field.  (For",!,"   example, enter '8' to update Pulmonary Rales)"
"RTN","SROACLN",23,0)
 W !!,"4. Enter a range of numbers separated by a ':' to enter a range of",!,"   information.  (For example, enter '7:9' to enter Cardiomegaly (X-ray),",!,"   Pulmonary Rales, and Tobacco Use.)"
"RTN","SROACLN",24,0)
 W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1
"RTN","SROACLN",25,0)
 Q
"RTN","SROACLN",26,0)
RANGE ; range of numbers
"RTN","SROACLN",27,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN)
"RTN","SROACLN",28,0)
 .W !! S SHEMP=$P(X,":"),CURLEY=$P(X,":",2) F EMILY=SHEMP:1:CURLEY Q:SRSOUT  D ONE
"RTN","SROACLN",29,0)
 Q
"RTN","SROACLN",30,0)
ONE ; edit one item
"RTN","SROACLN",31,0)
 I EMILY=14 D FUNCT Q
"RTN","SROACLN",32,0)
 I EMILY=18 S X=18 D ^SROACL2 S SRAO(18)=Y K DR,DIE S DA=SRTN,DR="485///"_$P(SRAO(18),"^"),DIE=130 D ^DIE K DR S:$D(Y) SRSOUT=1 Q
"RTN","SROACLN",33,0)
 K DR,DIE S DA=SRTN,DR=$P(SRAO(EMILY),"^",2)_"T",DIE=130 D ^DIE K DR I $D(Y) S SRSOUT=1
"RTN","SROACLN",34,0)
 I EMILY=17,$P($G(^SRF(SRTN,206)),"^",15)=0 S $P(^SRF(SRTN,206),"^",42)=0
"RTN","SROACLN",35,0)
 Q
"RTN","SROACLN",36,0)
RET Q:SRSOUT  W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROACLN",37,0)
 Q
"RTN","SROACLN",38,0)
FUNCT K DA,DIR S DA=SRTN,DIR(0)="130,240",DIR("A")="Functional Status" D ^DIR K DIR D  Q
"RTN","SROACLN",39,0)
 .I $D(DTOUT)!$D(DUOUT) Q
"RTN","SROACLN",40,0)
 .I X="@" K DIE,DR S DIE=130,DR="240///@" D ^DIE K DA,DIE,DR Q
"RTN","SROACLN",41,0)
 .K DIE,DR S DIE=130,DR="240////"_Y D ^DIE K DA,DIE,DR
"RTN","SROACLN",42,0)
 Q
"RTN","SROACLN",43,0)
NO2ALL ; set all fields to NO
"RTN","SROACLN",44,0)
 N II K DR,DIE S DA=SRTN,DIE=130
"RTN","SROACLN",45,0)
 F II=203,209,348,349,350,353,354,355,474,509,267,207 S DR=$S($D(DR):DR_";",1:"")_II_"////N"
"RTN","SROACLN",46,0)
 F II=205,352,485 S DR=DR_";"_II_"////0"
"RTN","SROACLN",47,0)
 S DR=DR_";517////1;518////NA;519////1;520////1;521////0;522////0;618////1;641////1;643////1;265////1;640////1"
"RTN","SROACLN",48,0)
 D ^DIE K DR
"RTN","SROACLN",49,0)
 Q
"RTN","SROACOM")
0^25^B16269766^B15413481
"RTN","SROACOM",1,0)
SROACOM ;BIR/MAM - COMPLETE ASSESSMENT ;05/05/10
"RTN","SROACOM",2,0)
 ;;3.0;Surgery;**38,55,63,65,88,93,95,102,100,125,134,142,160,166,174,182**;24 Jun 93;Build 49
"RTN","SROACOM",3,0)
 I '$D(SRTN) Q
"RTN","SROACOM",4,0)
 I $P($G(^SRF(SRTN,"RA")),"^",2)="C" G ^SROACOM1
"RTN","SROACOM",5,0)
 S (SRSFLG,SRSOUT,SROVER)=0,SRA=$G(^SRF(SRTN,"RA")),Y=$P(SRA,"^") I Y'="I" W !!,"This assessment has a "_$S(Y="C":"'COMPLETE'",1:"'TRANSMITTED'")_" status.",!!,"No action taken." G END
"RTN","SROACOM",6,0)
 I $P(SRA,"^",2)="N",$P(SRA,"^",6)="Y" D CHK^SROAUTL
"RTN","SROACOM",7,0)
 I $P(SRA,"^",2)="N",$P(SRA,"^",6)="N" D CHK^SROAUTL3
"RTN","SROACOM",8,0)
 S SRFLD="" I $O(SRX(SRFLD))'="" D LIST
"RTN","SROACOM",9,0)
YEP I '$P($G(^SRO(136,SRTN,10)),"^")!('$P($G(^SRO(136,SRTN,0)),"^",2))!('$P($G(^SRO(136,SRTN,0)),"^",3)) W !!,?6,"The coding for Procedure and Diagnosis is not complete."
"RTN","SROACOM",10,0)
 W ! S SRFLD="" K DIR S DIR("A")="Are you sure you want to complete this assessment ? ",DIR("B")=$S($O(SRX(SRFLD)):"NO",1:"YES"),DIR(0)="YA"
"RTN","SROACOM",11,0)
 S DIR("?",1)="Enter YES to complete this assessment, or enter NO to leave the status",DIR("?")="unchanged." D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 G END
"RTN","SROACOM",12,0)
 I 'Y W !!,"No action taken." G END
"RTN","SROACOM",13,0)
 I $$LOCK^SROUTL(SRTN) D COMPLT Q
"RTN","SROACOM",14,0)
 E  W !!,"No action taken." G END
"RTN","SROACOM",15,0)
 Q
"RTN","SROACOM",16,0)
COMPLT W !!,"Updating the current status to 'COMPLETE'..." K DR,DIE S DA=SRTN,DIE=130,DR="235///C;272.1////"_DUZ D ^DIE K STATUS
"RTN","SROACOM",17,0)
 I $P(SRA,"^",5)="" K DR,DIE S DA=SRTN,DIE=130,DR="272///"_DT D ^DIE K STATUS
"RTN","SROACOM",18,0)
 I $P(SRA,"^",2)="C" K DA,DIE,DIK,DR S DIK="^SRF(",DIK(1)=".232^AQ",DA=SRTN D EN1^DIK K DA,DIK
"RTN","SROACOM",19,0)
 D UNLOCK^SROUTL(SRTN)
"RTN","SROACOM",20,0)
PRINT W !!,"Do you want to print the completed assessment ?  YES//  " R SRYN:DTIME I '$T!(SRYN["^") S SRSOUT=1 Q
"RTN","SROACOM",21,0)
 S SRYN=$E(SRYN) S:SRYN="" SRYN="Y" I "Nn"[SRYN S SRSOUT=1 Q
"RTN","SROACOM",22,0)
 I "Yy"'[SRYN W !!,"Enter <RET> to print the completed assessment, or 'NO' to return to the menu." G PRINT
"RTN","SROACOM",23,0)
 W ! K %ZIS,IO("Q"),POP S %ZIS("A")="Print the Completed Assessment on which Device: ",%ZIS="Q" D ^%ZIS I POP S SRSOUT=1 Q
"RTN","SROACOM",24,0)
 I $D(IO("Q")) K IO("Q") S ZTDESC="Completed Surgery Risk Assessment",(ZTSAVE("SRSITE*"),ZTSAVE("SRTN"))="",ZTRTN="EN^SROACOM" D ^%ZTLOAD S SRSOUT=1 G END
"RTN","SROACOM",25,0)
 D EN,END
"RTN","SROACOM",26,0)
 Q
"RTN","SROACOM",27,0)
EN U IO S SRABATCH=1 D ^SROAPAS Q
"RTN","SROACOM",28,0)
END I 'SRSOUT,$E(IOST)'="P" D RET
"RTN","SROACOM",29,0)
 W @IOF I $E(IOST)="P" D ^%ZISC W @IOF
"RTN","SROACOM",30,0)
 D ^SRSKILL K SRMD,SRMD1,SRSFLG
"RTN","SROACOM",31,0)
 Q
"RTN","SROACOM",32,0)
LIST W @IOF,!,"This assessment is missing the following items:",! S SRZ="",SRCNT=1
"RTN","SROACOM",33,0)
 F  S SRZ=$O(SRX(SRZ)) Q:SRZ=""  D:$Y+5>IOSL RET Q:SRSOUT  W !,?5,$J(SRCNT,2)_". "_$P(SRX(SRZ),"^") S SRCNT=SRCNT+1
"RTN","SROACOM",34,0)
 S SRSOUT=0 W ! K DIR S DIR(0)="Y",DIR("A")="Do you want to enter the missing items at this time",DIR("B")="NO" D ^DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SROACOM",35,0)
 Q:'Y  I $$LOCK^SROUTL(SRTN) D PRT,UNLOCK^SROUTL(SRTN)
"RTN","SROACOM",36,0)
 Q
"RTN","SROACOM",37,0)
PRT S SRSOUT=0,(SRMD,SRMD1)="",SRCNT=0 F  S SRMD=$O(SRX(SRMD)) Q:SRMD=""  S SRMD1=$P(SRX(SRMD),"^",2) D  Q:$G(SRSFLG)
"RTN","SROACOM",38,0)
 .I SRMD=485 W @IOF,! D PRIOR^SROACL2 K DR,DIE S DA=SRTN,DR="485///"_$S(X="@":"@",1:$P(Y,"^")),DIE=130 D ^DIE K DR S:$D(Y) SRSFLG=1 Q
"RTN","SROACOM",39,0)
 .I $E(SRMD,1,10)="ANESTHESIA" D ANES Q
"RTN","SROACOM",40,0)
 .I $E(SRMD,1,6)="POSTOP"!($E(SRMD,1,6)="SEPSIS") D POST^SROCMPS Q
"RTN","SROACOM",41,0)
 .K DR,DIE S DA=SRTN,DIE=130,DR=$S($G(SRMD1):SRMD1,1:SRMD)_"T" D ^DIE K DR I $D(Y) S SRSFLG=1
"RTN","SROACOM",42,0)
 S:'$G(SRSOUT) SRSOUT=0
"RTN","SROACOM",43,0)
 Q
"RTN","SROACOM",44,0)
ANES K DR,DIE,DA S DA=SRTN,DR=.37,DR(2,130.06)=".01T;.05T;42T",DIE=130 D ^DIE S:$D(Y) SRSFLG=1 K DR
"RTN","SROACOM",45,0)
 Q
"RTN","SROACOM",46,0)
RET W !! K DIR S DIR(0)="E" D ^DIR K DIR W @IOF I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROACOM",47,0)
 Q
"RTN","SROACOM",48,0)
PAGE I $E(IOST)'="P" D RET Q
"RTN","SROACOM",49,0)
 W @IOF,!!!
"RTN","SROACOM",50,0)
 Q
"RTN","SROACOP")
0^69^B23252358^B23967302
"RTN","SROACOP",1,0)
SROACOP ;BIR/MAM - CARDIAC OPERATIVE RISK SUMMARY ;05/05/10
"RTN","SROACOP",2,0)
 ;;3.0;Surgery;**38,47,71,88,95,107,100,125,142,153,160,166,174,175,182**;24 Jun 93;Build 49
"RTN","SROACOP",3,0)
 I '$D(SRTN) W !!,"A Surgery Risk Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SROACOP",4,0)
 N SRCSTAT S SRACLR=0,SRSOUT=0,SRSUPCPT=1 D ^SROAUTL
"RTN","SROACOP",5,0)
START D:SRACLR RET G:SRSOUT END S SRACLR=0 K SRA,SRAO
"RTN","SROACOP",6,0)
 F I=206,206.1,208 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROACOP",7,0)
 S Y=$P($G(^SRF(SRTN,1.1)),"^",3),C=$P(^DD(130,1.13,0),"^",2) D:Y'="" Y^DIQ S SRAO(2)=Y_"^1.13"
"RTN","SROACOP",8,0)
 S SRAO(1)=$P(SRA(206),"^",31)_"^364",SRAO(3)=$P(SRA(208),"^",12)_"^414"
"RTN","SROACOP",9,0)
 S (X,Y)=$P(SRA(206),"^",32) D:Y DT S SRAO("1A")=X_"^364.1"
"RTN","SROACOP",10,0)
 S Y=$P(SRAO(3),"^") I Y'="" S C=$P(^DD(130,414,0),"^",2) D Y^DIQ S $P(SRAO(3),"^")=Y
"RTN","SROACOP",11,0)
 S Y=$P(SRA(208),"^",13) D DT S SRAO("3A")=X_"^414.1"
"RTN","SROACOP",12,0)
 S SRAO(4)=SRA(206.1)_"^430"
"RTN","SROACOP",13,0)
 S SRCSTAT=">> Coding "_$S($P($G(^SRO(136,SRTN,10)),"^"):"",1:"Not ")_"Complete <<"
"RTN","SROACOP",14,0)
 S SRPAGE="PAGE: 1" D HDR^SROAUTL S SRAO(5)=""
"RTN","SROACOP",15,0)
 S (X,X1)=$P(SRAO(1),"^"),X=$S(X?1.3N:X_"%",1:X) W !," 1. Physician's Preoperative Estimate of Operative Mortality: "_X
"RTN","SROACOP",16,0)
 S X=$P(SRAO("1A"),"^") I X1'=""!(X'="") W !,?3," A. Date/Time Collected:    "_X
"RTN","SROACOP",17,0)
 W !," 2. ASA Classification:",?31,$P(SRAO(2),"^"),!," 3. Surgical Priority:",?31,$P(SRAO(3),"^")
"RTN","SROACOP",18,0)
 S X=$P(SRAO("3A"),"^") I X'="" W !,?3," A. Date/Time Collected:    "_X
"RTN","SROACOP",19,0)
 W !," 4. Preoperative Risk Factors: "
"RTN","SROACOP",20,0)
 I $P(SRAO(4),"^")'="" S SRQ=0 S X=$P(SRAO(4),"^") W:$L(X)<46 X,! I $L(X)>45 S Z=$L(X) D
"RTN","SROACOP",21,0)
 .I X'[" " W ?25,X Q
"RTN","SROACOP",22,0)
 .S I=0,LINE=1 F  S SRL=$S(LINE=1:45,1:75) D  Q:SRQ
"RTN","SROACOP",23,0)
 ..I $E(X,1,SRL)'[" "!(Z<SRL) W X,! S SRQ=1 Q
"RTN","SROACOP",24,0)
 ..S J=SRL-I,Y=$E(X,J),I=I+1 I Y=" " W $E(X,1,J-1),!,?4 S X=$E(X,J+1,Z),Z=$L(X),I=0,LINE=LINE+1 I Z<SRL W X,! S SRQ=1 Q
"RTN","SROACOP",25,0)
 N SRPROC,SRL S SRL=49 D CPTS^SROAUTL0 W !," 5. CPT Codes (view only):"
"RTN","SROACOP",26,0)
 F I=1:1 Q:'$D(SRPROC(I))  W:I=1 ?31,SRPROC(I) W:I'=1 !,?31,SRPROC(I)
"RTN","SROACOP",27,0)
 S Y=$P($G(^SRF(SRTN,"1.0")),"^",8),C=$P(^DD(130,1.09,0),"^",2) D:Y'="" Y^DIQ S SRAO(6)=Y_"^1.09"
"RTN","SROACOP",28,0)
 W !," 6. Wound Classification: ",?31,$P(SRAO(6),"^")
"RTN","SROACOP",29,0)
 W ! D CHCK
"RTN","SROACOP",30,0)
 W !! F MOE=1:1:80 W "-"
"RTN","SROACOP",31,0)
ASK W !,"Select Operative Risk Summary Information to Edit: " R X:DTIME I '$T!("^"[X) G END
"RTN","SROACOP",32,0)
 S:X="a" X="A" I '$D(SRAO(X)),(X'?.N1":".N),(X'="A") D HELP G:SRSOUT END G START
"RTN","SROACOP",33,0)
 I X="A" S X="1:6"
"RTN","SROACOP",34,0)
 I X?.N1":".N S Y=$E(X),Z=$P(X,":",2) I Y<1!(Z>6)!(Y>Z) D HELP G:SRSOUT END G START
"RTN","SROACOP",35,0)
 I X'=6 D HDR^SROAUTL
"RTN","SROACOP",36,0)
 I X?.N1":".N D RANGE S SROERR=SRTN D ^SROERR0 G START
"RTN","SROACOP",37,0)
 I $D(SRAO(X))!(X=4) S EMILY=X D  S SROERR=SRTN D ^SROERR0 G START
"RTN","SROACOP",38,0)
 .I $$LOCK^SROUTL(SRTN) W !! D ONE,UNLOCK^SROUTL(SRTN)
"RTN","SROACOP",39,0)
END I '$D(SREQST) W @IOF D ^SRSKILL
"RTN","SROACOP",40,0)
 Q
"RTN","SROACOP",41,0)
DT I 'Y S X="" Q
"RTN","SROACOP",42,0)
 X ^DD("DD") S X=$P(Y,"@")_" "_$P(Y,"@",2)
"RTN","SROACOP",43,0)
 Q
"RTN","SROACOP",44,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SROACOP",45,0)
 W !!,"1. Enter 'A' to update all information.",!!,"2. Enter the corresponding number to update the information in a particular",!,"   field.  (For example, enter '3' to update Surgical Priority)"
"RTN","SROACOP",46,0)
 W !!,"3. Enter two numbers separated by a ':' to enter a range of information.",!,"   (For example, enter '1:2' to update Physician's Preoperative Estimate of",!,"   Mortality and ASA Classification.)"
"RTN","SROACOP",47,0)
 W !!,"Press ENTER to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1
"RTN","SROACOP",48,0)
 Q
"RTN","SROACOP",49,0)
RANGE ; range of numbers
"RTN","SROACOP",50,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN)
"RTN","SROACOP",51,0)
 .W !! S SHEMP=$P(X,":"),CURLEY=$P(X,":",2) F EMILY=SHEMP:1:CURLEY Q:SRSOUT  D ONE
"RTN","SROACOP",52,0)
 Q
"RTN","SROACOP",53,0)
ONE ; edit one item
"RTN","SROACOP",54,0)
 I EMILY=5 D DISP^SROAUTL0 Q
"RTN","SROACOP",55,0)
 K DR,DIE S DA=SRTN,DIE=130,DR=$P(SRAO(EMILY),"^",2)
"RTN","SROACOP",56,0)
 S DR=DR_"T",DIE=130 S DR=DR_$S(EMILY=3:";414.1T",1:"") D ^DIE K DR I $D(Y) S SRSOUT=1
"RTN","SROACOP",57,0)
 I EMILY=1 D
"RTN","SROACOP",58,0)
 .I $P(^SRF(SRTN,206),"^",31)="NS" S $P(^SRF(SRTN,206),"^",32)="NS" Q
"RTN","SROACOP",59,0)
 .S DR="364.1T",DIE=130 D ^DIE K DR I $D(Y) S SRSOUT=1
"RTN","SROACOP",60,0)
 Q
"RTN","SROACOP",61,0)
RET Q:SRSOUT  W !!,"Press ENTER to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROACOP",62,0)
 Q
"RTN","SROACOP",63,0)
NOW ; update date/time of estimate of mortality
"RTN","SROACOP",64,0)
 N X D NOW^%DTC S $P(^SRF(DA,206),"^",32)=$E(%,1,12)
"RTN","SROACOP",65,0)
 Q
"RTN","SROACOP",66,0)
KNOW ; delete date/time of estimate of mortality
"RTN","SROACOP",67,0)
 S $P(^SRF(DA,206),"^",32)=""
"RTN","SROACOP",68,0)
 Q
"RTN","SROACOP",69,0)
YN ; store answer
"RTN","SROACOP",70,0)
 S SHEMP=$S(NYUK="NS":"Unknown",NYUK="N":"NO",NYUK="Y":"YES",1:"")
"RTN","SROACOP",71,0)
 Q
"RTN","SROACOP",72,0)
CHCK ;compare dates
"RTN","SROACOP",73,0)
 N SRINO,SRSP,SREM
"RTN","SROACOP",74,0)
 S SRSP=$P($G(^SRF(SRTN,208)),"^",13),SRINO=$P($G(^SRF(SRTN,.2)),"^",10),SREM=$P($G(^SRF(SRTN,206)),"^",32)
"RTN","SROACOP",75,0)
 I SRSP'="",SRINO'="",SRSP'<SRINO W !!,"*** NOTE: D/Time of Surgical Priority should be < the D/Time Patient in OR.***"
"RTN","SROACOP",76,0)
 I SREM'="",SRINO'="",SREM'<SRINO W !!,"*** NOTE: D/Time of Estimate of Mortality should be < the D/Time PT in OR. ***"
"RTN","SROACOP",77,0)
 Q
"RTN","SROACPM")
0^70^B52631911^B53758075
"RTN","SROACPM",1,0)
SROACPM ;BIR/ADM - CARDIAC RESOURCE INFO ;12/04/07
"RTN","SROACPM",2,0)
 ;;3.0;Surgery;**71,93,95,99,100,125,142,160,164,166,174,182**;24 Jun 93;Build 49
"RTN","SROACPM",3,0)
 ;
"RTN","SROACPM",4,0)
 ; Reference to ^DGPM("APTT1" supported by DBIA #565
"RTN","SROACPM",5,0)
 ;
"RTN","SROACPM",6,0)
 I '$D(SRTN) W !!,"A Surgery Risk Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SROACPM",7,0)
 S SRSOUT=0,SRSUPCPT=1 D ^SROAUTL
"RTN","SROACPM",8,0)
START G:SRSOUT END D HDR^SROAUTL
"RTN","SROACPM",9,0)
 S DIR("A",1)="Enter/Edit Patient Resource Data",DIR("A",2)=" ",DIR("A",3)="1. Capture Information from PIMS Records",DIR("A",4)="2. Enter, Edit, or Review Information",DIR("A",5)=" "
"RTN","SROACPM",10,0)
 S DIR("?",1)="Enter '1' if you want to capture patient information from PIMS",DIR("?",2)="records.  Enter '2' if you want to enter, edit, or review patient",DIR("?")="other information on this screen."
"RTN","SROACPM",11,0)
 S DIR("A")="Select Number",DIR(0)="NO^1:2" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT)!'Y S SRSOUT=1 G END
"RTN","SROACPM",12,0)
 I Y=1 D PIMS G START
"RTN","SROACPM",13,0)
EDIT N DAYS,HOURS,MINS
"RTN","SROACPM",14,0)
 S SRR=0 S SRPAGE="PAGE: 1" D HDR^SROAUTL K DR S SRQ=0,(DR,SRDR)="418;419;440;.205;.22;.23;.232;470;471;473;431;442"
"RTN","SROACPM",15,0)
 K DA,DIC,DIQ,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="IE",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SROACPM",16,0)
 K SRZ S SRZ=0 F M=1:1 S I=$P(SRDR,";",M)  Q:'I  D
"RTN","SROACPM",17,0)
 .D TR,GET
"RTN","SROACPM",18,0)
 .S SRZ=SRZ+1,Y=$P(X,";;",2),SRFLD=$P(Y,"^"),(Z,SRZ(SRZ))=$P(Y,"^",2)_"^"_SRFLD,SREXT=SRY(130,SRTN,SRFLD,"E")
"RTN","SROACPM",19,0)
 .W:M>1 ! W $J(SRZ,2)_". "_$P(Z,"^")_": " D EXT
"RTN","SROACPM",20,0)
 D CHCK W ! F K=1:1:80 W "-"
"RTN","SROACPM",21,0)
 D SEL G:SRR=1 EDIT
"RTN","SROACPM",22,0)
 G START
"RTN","SROACPM",23,0)
 Q
"RTN","SROACPM",24,0)
CHCK ; compare admission and discharge dates to each other
"RTN","SROACPM",25,0)
 N SRADM,SRDIS,SROUT,SRDICU,SREXT
"RTN","SROACPM",26,0)
 S SROUT=SRY(130,SRTN,.232,"I"),SRDICU=SRY(130,SRTN,471,"I"),SREXT=SRY(130,SRTN,470,"I")
"RTN","SROACPM",27,0)
 S SRADM=SRY(130,SRTN,418,"I"),SRDIS=SRY(130,SRTN,419,"I") W !
"RTN","SROACPM",28,0)
 I SRADM,SRDIS,SRADM'<SRDIS W !,"*** NOTE: Discharge Date precedes Admission Date!!  Please check. ***"
"RTN","SROACPM",29,0)
 I SREXT,SROUT,SREXT'>SROUT W !,"*** NOTE: D/Time Pt Extubated should be later than the D/Time Pt Out of OR. ***"
"RTN","SROACPM",30,0)
 I SREXT,SRDICU,SREXT'<SRDICU W !,"*** NOTE: D/Time Pt Extubated should be < the ICU Discharge D/Time. ***"
"RTN","SROACPM",31,0)
 I SRDICU,SREXT,SRDICU'>SREXT W !,"*** NOTE: D/Time Discharged from ICU should be > the Extubation D/Time. ***"
"RTN","SROACPM",32,0)
 I SRDICU,SRDIS,SRDICU>SRDIS W !,"*** NOTE: D/Time Discharged from ICU should be <= the Hospital Discharge D/Time*"
"RTN","SROACPM",33,0)
 Q
"RTN","SROACPM",34,0)
EXT I SRFLD=440&(SREXT="NS") S SREXT=SREXT_"-"_$S(SREXT="NS":"No Study",1:SREXT)
"RTN","SROACPM",35,0)
 I SRFLD=470,(SREXT="NS"!(SREXT="RI")) S SREXT=SREXT_"-"_$S(SREXT="NS":"Unable to determine",SREXT="RI":"Remains intubated at 30 days",1:SREXT)
"RTN","SROACPM",36,0)
 I SRFLD=470,$G(SRY(130,SRTN,470,"I")) D  Q
"RTN","SROACPM",37,0)
 .S X=$$FMDIFF^XLFDT(SRY(130,SRTN,470,"I"),SRY(130,SRTN,.232,"I"),2) W ?39,SREXT,!,?10,"Postop Intubation Hrs: "_$FN((X/3600),"+",1)
"RTN","SROACPM",38,0)
 I SRFLD=471,(SREXT="NS"!(SREXT="RI")) S SREXT=SREXT_"-"_$S(SREXT="NS":"Unable to determine",SREXT="RI":"Remains in ICU at 30 days",1:SREXT)
"RTN","SROACPM",39,0)
 I $L(SREXT)<41 W ?39,SREXT W:SRFLD=247 $S(SREXT="":"",SREXT=1:" Day",SREXT=0:" Days",SREXT>1:" Days",1:"") Q
"RTN","SROACPM",40,0)
 I SRFLD=431 D
"RTN","SROACPM",41,0)
 .I $L(SREXT)<52 W ?28,SREXT Q 
"RTN","SROACPM",42,0)
 .N I,J,X,Y S X=SREXT F  D  W:$L(X) ! I $L(X)<52!($L(X)>51&(X'[" ")) W ?28,X Q
"RTN","SROACPM",43,0)
 ..F I=0:1:50 S J=51-I,Y=$E(X,J) I Y=" " W ?28,$E(X,1,J-1) S X=$E(X,J+1,$L(X)) Q
"RTN","SROACPM",44,0)
 Q
"RTN","SROACPM",45,0)
SEL S SRSOUT=0 W !!,"Select Resource Information to Edit: " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROACPM",46,0)
 Q:X=""  S:X="a" X="A" I '$D(SRFLG),'$D(SRZ(X)),(X'?1.2N1":"1.2N),X'="A" D HELP S SRR=1 Q
"RTN","SROACPM",47,0)
 I X?1.2N1":"1.2N S Y=$P(X,":"),Z=$P(X,":",2) I Y<1!(Z>SRZ)!(Y>Z) D HELP S SRR=1 Q
"RTN","SROACPM",48,0)
 I X="A" S X="1:"_SRZ
"RTN","SROACPM",49,0)
 I X?1.2N1":"1.2N D RANGE S SRR=1 Q
"RTN","SROACPM",50,0)
 I $D(SRZ(X)),+X=X S EMILY=X D  S SRR=1
"RTN","SROACPM",51,0)
 .I $$LOCK^SROUTL(SRTN) D ONE,UNLOCK^SROUTL(SRTN)
"RTN","SROACPM",52,0)
 Q
"RTN","SROACPM",53,0)
PIMS ; get update from PIMS records
"RTN","SROACPM",54,0)
 W ! K DIR S DIR("A")="Are you sure you want to retrieve information from PIMS records ? ",DIR("B")="YES",DIR(0)="YOA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT)!'Y Q
"RTN","SROACPM",55,0)
 W ! D WAIT^DICD D ^SROAPIMS
"RTN","SROACPM",56,0)
 Q
"RTN","SROACPM",57,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SROACPM",58,0)
 W !!,"1. Enter 'A' to update all items.",!!,"2. Enter a number (1-"_SRZ_") to update an individual item.  (For example,",!,"   enter '1' to update "_$P(SRZ(1),"^")_".)"
"RTN","SROACPM",59,0)
 W !!,"3. Enter a range of numbers (1-"_SRZ_") separated by a ':' to enter a range",!,"   of items.  (For example, enter '1:4' to update items 1, 2, 3 and 4.)",!
"RTN","SROACPM",60,0)
 I $D(SRFLG) W !,"4. Enter 'N' or 'NO' to enter negative response for all items.",!!,"5. Enter '@' to delete information from all items.",!
"RTN","SROACPM",61,0)
PRESS W ! K DIR S DIR("A")="Press the return key to continue or '^' to exit: ",DIR(0)="FOA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROACPM",62,0)
 Q
"RTN","SROACPM",63,0)
RANGE ; range of numbers
"RTN","SROACPM",64,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN)
"RTN","SROACPM",65,0)
 .S SHEMP=$P(X,":"),CURLEY=$P(X,":",2) F EMILY=SHEMP:1:CURLEY Q:SRSOUT  D ONE
"RTN","SROACPM",66,0)
 Q
"RTN","SROACPM",67,0)
ONE ; edit one item
"RTN","SROACPM",68,0)
 I EMILY=9 D LIST
"RTN","SROACPM",69,0)
 I EMILY'=9 K DR,DA,DIE S DR=$P(SRZ(EMILY),"^",2)_"T",DA=SRTN,DIE=130,SRDT=$P(SRZ(EMILY),"^",3) S:SRDT DR=DR_";"_SRDT_"T" D ^DIE K DR,DA I $D(Y) S SRSOUT=1
"RTN","SROACPM",70,0)
 I 'SRSOUT,EMILY=1!(EMILY=2) D OK
"RTN","SROACPM",71,0)
 Q
"RTN","SROACPM",72,0)
OK ; compare admission date to discharge date
"RTN","SROACPM",73,0)
 N SRADM,SRDIS S X=$G(^SRF(SRTN,208)),SRADM=$P(X,"^",14),SRDIS=$P(X,"^",15)
"RTN","SROACPM",74,0)
 I SRADM,SRDIS,SRADM'<SRDIS W !!,"  ***  NOTE: Discharge Date precedes Admission Date!!  Please check.  ***",! D PRESS W !
"RTN","SROACPM",75,0)
 Q
"RTN","SROACPM",76,0)
LIST ; display list of patient movements
"RTN","SROACPM",77,0)
 N CNT,SRADM,SRLOC,SRMOVE,SRMVMT,SRN,SRT,SRTYPE,SRZ,SRY
"RTN","SROACPM",78,0)
 S DFN=$P(^SRF(SRTN,0),"^"),SRZ=$P($G(^SRF(SRTN,.2)),"^",12)
"RTN","SROACPM",79,0)
 S SRADM=0 D ADM
"RTN","SROACPM",80,0)
 S CNT=0 F  Q:'SRZ  D:SRZ MVMT
"RTN","SROACPM",81,0)
 ;Q:CNT=0
"RTN","SROACPM",82,0)
 W !!,?5,"To identify the date and time the patient was discharged from intensive",!,?5,"care following surgery, see the following list of patient movements"
"RTN","SROACPM",83,0)
 W !,?5,"that occurred during the inpatient stay associated with this surgery.",!
"RTN","SROACPM",84,0)
 S (CNT,SRN)=0 F  S CNT=$O(SRMVMT(CNT)) Q:'CNT  S X=SRMVMT(CNT),SRT=$P(X,"^",2),SRN=SRN+1 W !,$J(SRN,3)_".",?5,$P($P(X,"^"),":",1,2),?25,$P(X,"^",3),?37,$S(SRT=3:"From",1:"To")_": "_$P(X,"^",4)
"RTN","SROACPM",85,0)
 I '$O(SRMVMT(0)) W !,?5,">> No postoperative patient movements were found for this patient."
"RTN","SROACPM",86,0)
 W ! E  K DIR S DIR("A")="Select patient movement from list",DIR(0)="NO^1:"_SRN_":0" D ^DIR K DIR I Y D  Q
"RTN","SROACPM",87,0)
 .S SRT=$P($P(SRMVMT(Y),"^"),":",1,2) K DA,DIE,DR S DA=SRTN,DIE=130,DR="471///"_SRT D ^DIE K DA,DIE,DR
"RTN","SROACPM",88,0)
 K DA,DIE,DR S DA=SRTN,DIE=130,DR="471T" D ^DIE K DA,DIE,DR
"RTN","SROACPM",89,0)
 Q
"RTN","SROACPM",90,0)
MVMT S VAIP("D")=SRZ D IN5^VADPT S SRY=$P(VAIP(3),"^")
"RTN","SROACPM",91,0)
 I SRY S CNT=CNT+1 D
"RTN","SROACPM",92,0)
 .S SRMOVE=$P(VAIP(3),"^",2),SRTYPE=$P(VAIP(2),"^",1,2),SRLOC=$P(VAIP(5),"^",2)
"RTN","SROACPM",93,0)
 .S SRMVMT(CNT)=SRMOVE_"^"_SRTYPE_"^"_SRLOC
"RTN","SROACPM",94,0)
 I 'SRY S SRZ="" Q
"RTN","SROACPM",95,0)
 I VAIP(1)=VAIP(17) S SRZ="" Q
"RTN","SROACPM",96,0)
 I VAIP(16),VAIP(16)=VAIP(17) S CNT=CNT+1,SRMOVE=$P(VAIP(16,1),"^",2),SRTYPE=$P(VAIP(16,2),"^",1,2),SRLOC=$P(VAIP(16,4),"^",2),SRMVMT(CNT)=SRMOVE_"^"_SRTYPE_"^"_SRLOC,SRZ="" Q
"RTN","SROACPM",97,0)
 S SRZ=$P(VAIP(16,1),"^")
"RTN","SROACPM",98,0)
 Q
"RTN","SROACPM",99,0)
ADM N SR24 S VAIP("D")=SRZ D IN5^VADPT
"RTN","SROACPM",100,0)
 I 'VAIP(13) S X1=SRZ,X2=1 D C^%DTC S SR24=X,SRDT=$O(^DGPM("APTT1",DFN,SRZ)) Q:'SRDT!(SRDT>SR24)  S VAIP("D")=SRDT D IN5^VADPT I 'VAIP(13) S SRZ="" Q
"RTN","SROACPM",101,0)
 I VAIP(13) S SRZ=$P(VAIP(13,1),"^")+.000001
"RTN","SROACPM",102,0)
 Q
"RTN","SROACPM",103,0)
TR S J=I,J=$TR(J,"1234567890.","ABCDEFGHIJP")
"RTN","SROACPM",104,0)
 Q
"RTN","SROACPM",105,0)
GET S X=$T(@J)
"RTN","SROACPM",106,0)
 Q
"RTN","SROACPM",107,0)
END W @IOF D ^SRSKILL
"RTN","SROACPM",108,0)
 Q
"RTN","SROACPM",109,0)
DAH ;;418^Hospital Admission Date
"RTN","SROACPM",110,0)
DAI ;;419^Hospital Discharge Date
"RTN","SROACPM",111,0)
DDJ ;;440^Cardiac Catheterization Date
"RTN","SROACPM",112,0)
PBJE ;;.205^Time Patient In OR
"RTN","SROACPM",113,0)
PBB ;;.22^Date/Time Operation Began
"RTN","SROACPM",114,0)
PBC ;;.23^Date/Time Operation Ended
"RTN","SROACPM",115,0)
PBCB ;;.232^Time Patient Out OR
"RTN","SROACPM",116,0)
DGJ ;;470^Date/Time Patient Extubated
"RTN","SROACPM",117,0)
DGA ;;471^Date/Time Discharged from ICU
"RTN","SROACPM",118,0)
DDB ;;442^Employment Status Preoperatively
"RTN","SROACPM",119,0)
DCA ;;431^Resource Data Comments
"RTN","SROACPM",120,0)
DGC ;;473^Homeless
"RTN","SROACR2")
0^77^B14624720^B15979431
"RTN","SROACR2",1,0)
SROACR2 ;BIR/SJA - OPERATIVE DATA, PAGE 2 ;12/03/07
"RTN","SROACR2",2,0)
 ;;3.0;Surgery;**125,153,160,166,182**;24 Jun 93;Build 49
"RTN","SROACR2",3,0)
 ;
"RTN","SROACR2",4,0)
 I '$D(SRTN) W !!,"A Surgery Risk Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SROACR2",5,0)
 S SRSOUT=0 D ^SROAUTL
"RTN","SROACR2",6,0)
START G:SRSOUT END
"RTN","SROACR2",7,0)
 ;
"RTN","SROACR2",8,0)
EDIT S SRR=0 S SRPAGE="PAGE: 1" D HDR^SROAUTL
"RTN","SROACR2",9,0)
 ;
"RTN","SROACR2",10,0)
 K DR S SRQ=0,(DR,SRDR)="451;450;468;469"
"RTN","SROACR2",11,0)
 K DA,DIC,DIQ,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="IE",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SROACR2",12,0)
 K SRX S SRX=0 F M=1:1 S I=$P(SRDR,";",M)  Q:'I  D
"RTN","SROACR2",13,0)
 .K SREXT D TR,GET
"RTN","SROACR2",14,0)
 .S SRX=SRX+1,Y=$P(X,";;",2),SRFLD=$P(Y,"^"),(Z,SRX(SRX))=$P(Y,"^",2)_"^"_SRFLD,SREXT=SRY(130,SRTN,SRFLD,"E")
"RTN","SROACR2",15,0)
 .I SRFLD=451 W !,"Operative Data details:",!,"-----------------------"
"RTN","SROACR2",16,0)
 .W !,$J(SRX,2)_". "_$P(Z,"^")_":" D EXT
"RTN","SROACR2",17,0)
 .W:SRFLD=382 !
"RTN","SROACR2",18,0)
 D CHCK W ! F K=1:1:80 W "-"
"RTN","SROACR2",19,0)
 D SEL G:SRR=1 EDIT
"RTN","SROACR2",20,0)
 S SRSOUT=1 G END
"RTN","SROACR2",21,0)
 Q
"RTN","SROACR2",22,0)
SEL S SRSOUT=0 W !!,"Select Cardiac Procedures Operative Information to Edit: " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROACR2",23,0)
 Q:X=""  S:X="a" X="A" I '$D(SRFLG),'$D(SRX(X)),(X'?1.2N1":"1.2N),X'="A" D HELP S SRR=1 Q
"RTN","SROACR2",24,0)
 I X?1.2N1":"1.2N S Y=$P(X,":"),Z=$P(X,":",2) I Y<1!(Z>SRX)!(Y>Z) D HELP S SRR=1 Q
"RTN","SROACR2",25,0)
 I X="A" S X="1:"_SRX
"RTN","SROACR2",26,0)
 I X?1.2N1":"1.2N D RANGE S SRR=1 K SREXT Q
"RTN","SROACR2",27,0)
 I $D(SRX(X)),+X=X S EMILY=X D  S SRR=1
"RTN","SROACR2",28,0)
 .I $$LOCK^SROUTL(SRTN) W ! D ONE,UNLOCK^SROUTL(SRTN)
"RTN","SROACR2",29,0)
 Q
"RTN","SROACR2",30,0)
EXT W ?30,SREXT
"RTN","SROACR2",31,0)
 Q
"RTN","SROACR2",32,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SROACR2",33,0)
 W !!,"1. Enter 'A' to update all information.",!!,"2. Enter a number (1-4) to update the information in that field.  (For",!,"   example, enter '3' to update Incision Type.)"
"RTN","SROACR2",34,0)
 W !!,"3. Enter a range of numbers (1-4) separated by a ':' to enter a range of",!,"   information.  (For example, enter '1:3' to enter Total CPB time,",!,"   Total Ischemic time, and Incision Type.)"
"RTN","SROACR2",35,0)
 D RET
"RTN","SROACR2",36,0)
 Q
"RTN","SROACR2",37,0)
CHCK ; compare ischemic time to CPB time
"RTN","SROACR2",38,0)
 I '$D(IORVON) S X="IORVON;IORVOFF" D ENDR^%ZISS
"RTN","SROACR2",39,0)
 N SRISCH,SRCPB S SRISCH=SRY(130,SRTN,450,"E"),SRCPB=SRY(130,SRTN,451,"E")
"RTN","SROACR2",40,0)
 I SRISCH,SRCPB,SRISCH>SRCPB W !,IORVON_"***  NOTE: Ischemic Time is greater than CPB Time!!  Please check.  ***"_IORVOFF
"RTN","SROACR2",41,0)
 Q
"RTN","SROACR2",42,0)
RET Q:SRSOUT  W ! K DIR S DIR(0)="E" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROACR2",43,0)
 Q
"RTN","SROACR2",44,0)
RANGE ; range of numbers
"RTN","SROACR2",45,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN)
"RTN","SROACR2",46,0)
 .W ! S SHEMP=$P(X,":"),CURLEY=$P(X,":",2) F EMILY=SHEMP:1:CURLEY Q:SRSOUT  D ONE
"RTN","SROACR2",47,0)
 Q
"RTN","SROACR2",48,0)
ONE ; edit one item
"RTN","SROACR2",49,0)
 K DR,DA,DIE S DR=$P(SRX(EMILY),"^",2)_"T",DA=SRTN,DIE=130,SRDT=$P(SRX(EMILY),"^",3) S:SRDT DR=DR_";"_SRDT_"T" D ^DIE K DR,DA I $D(Y) S SRSOUT=1
"RTN","SROACR2",50,0)
 I EMILY=3,$P($G(^SRF(SRTN,206)),"^",37)>0,($P($G(^SRF(SRTN,207)),"^",27)=1) S $P(^SRF(SRTN,207),"^",27)=5
"RTN","SROACR2",51,0)
 Q
"RTN","SROACR2",52,0)
TR S J=I,J=$TR(J,"1234567890.","ABCDEFGHIJP")
"RTN","SROACR2",53,0)
 Q
"RTN","SROACR2",54,0)
GET S X=$T(@J)
"RTN","SROACR2",55,0)
 Q
"RTN","SROACR2",56,0)
END W @IOF D ^SRSKILL
"RTN","SROACR2",57,0)
 Q
"RTN","SROACR2",58,0)
DEA ;;451^Total CPB Time
"RTN","SROACR2",59,0)
DEJ ;;450^Total Ischemic Time
"RTN","SROACR2",60,0)
DFH ;;468^Incision Type
"RTN","SROACR2",61,0)
DFI ;;469^Convert Off Pump to CPB
"RTN","SROALSS")
0^1^B17750174^B17361953
"RTN","SROALSS",1,0)
SROALSS ;BIR/ADM - ALL CASES BY SPECIALTY ;01/18/07
"RTN","SROALSS",2,0)
 ;;3.0;Surgery;**38,47,50,100,142,153,160,182**;24 Jun 93;Build 49
"RTN","SROALSS",3,0)
 I $E(IOST)="P" D ^SROALSSP Q
"RTN","SROALSS",4,0)
START S SRSOUT=0 K ^TMP("SRA",$J)
"RTN","SROALSS",5,0)
 F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)!SRSOUT  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSD,SRTN)) Q:'SRTN!SRSOUT  I $D(^SRF(SRTN,0)),$$MANDIV^SROUTL0(SRINSTP,SRTN) D UTL
"RTN","SROALSS",6,0)
 D PRINT Q
"RTN","SROALSS",7,0)
UTL ; write to ^TMP("SRA",$J)
"RTN","SROALSS",8,0)
 S SRA(0)=^SRF(SRTN,0)
"RTN","SROALSS",9,0)
 S CAN=$P($G(^SRF(SRTN,30)),"^") I CAN Q
"RTN","SROALSS",10,0)
 S CAN=$P($G(^SRF(SRTN,31)),"^",8) I CAN'="" Q
"RTN","SROALSS",11,0)
 S X=$P($G(^SRF(SRTN,.2)),"^",12) I 'X Q
"RTN","SROALSS",12,0)
 I SRFLG,$P(^SRF(SRTN,0),"^",4)'=SRASP Q
"RTN","SROALSS",13,0)
 S SRSS=$P(^SRF(SRTN,0),"^",4),SRSS=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"SPECIALTY NOT ENTERED")
"RTN","SROALSS",14,0)
 S ^TMP("SRA",$J,SRSS,SRTN)=""
"RTN","SROALSS",15,0)
 Q
"RTN","SROALSS",16,0)
SET ; set variables
"RTN","SROALSS",17,0)
 K SRCPTT S SRCPTT="NOT ENTERED"
"RTN","SROALSS",18,0)
 S SRA("RA")=$G(^SRF(SRTN,"RA")),X=$P(SRA("RA"),"^"),STATUS=$S(X="I":"INCOMPLETE",X="C":"COMPLETED",X="T":"TRANSMITTED",1:"EXCLUSION")
"RTN","SROALSS",19,0)
 S (SREXCL,Y)=$P(SRA("RA"),"^",7),C=$P(^DD(130,102,0),"^",2) D Y^DIQ S SREXCL=Y
"RTN","SROALSS",20,0)
 I SREXCL="",STATUS="EXCLUSION" S STATUS="NO ASSESSMENT"
"RTN","SROALSS",21,0)
 S SRA(0)=^SRF(SRTN,0),DFN=$P(SRA(0),"^") N I D DEM^VADPT S SRANM=VADM(1),SRASSN=VA("PID") K VADM
"RTN","SROALSS",22,0)
 I $L(SRANM)>19 S SRANM=$P(SRANM,",")_","_$E($P(SRANM,",",2))_"."
"RTN","SROALSS",23,0)
 S X=^SRF(SRTN,"OP"),SROPER=$P(X,"^")
"RTN","SROALSS",24,0)
 I $O(^SRF(SRTN,13,0)) S SROTHER=0 F I=0:0 S SROTHER=$O(^SRF(SRTN,13,SROTHER)) Q:'SROTHER  D OTHER
"RTN","SROALSS",25,0)
 S X=$P($G(^SRF(SRTN,"RA")),"^",2) I X="C" S SROPER="* "_SROPER
"RTN","SROALSS",26,0)
 K SROPS,MM,MMM S:$L(SROPER)<34 SROPS(1)=SROPER I $L(SROPER)>33 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROALSS",27,0)
 S SRSS=$P(SRA(0),"^",4),SRSS=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"SPECIALTY NOT ENTERED")
"RTN","SROALSS",28,0)
 D TECH^SROPRIN
"RTN","SROALSS",29,0)
 S Y=$P(SRA(0),"^",9) D D^DIQ S SRDT=$P(Y,"@")
"RTN","SROALSS",30,0)
 S (SRDOC,Y)=$P($G(^SRF(SRTN,.1)),"^",4),C=$P(^DD(130,.14,0),"^",2) D:Y'="" Y^DIQ I $L(Y)>18 S Z=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=Z
"RTN","SROALSS",31,0)
 S SRDOC=Y
"RTN","SROALSS",32,0)
 Q
"RTN","SROALSS",33,0)
PRINT ;
"RTN","SROALSS",34,0)
 U IO S SRSS="",SRTC=0 D HDR
"RTN","SROALSS",35,0)
 F  S SRSS=$O(^TMP("SRA",$J,SRSS)) Q:SRSS=""!SRSOUT  S SRC=0 D SS S SRTN=0 F  S SRTN=$O(^TMP("SRA",$J,SRSS,SRTN)) D:'SRTN SSCT Q:'SRTN!SRSOUT  D SET,CASE
"RTN","SROALSS",36,0)
 Q:SRSOUT!SRFLG  I $Y+5>IOSL D PAGE Q:SRSOUT  D HDR
"RTN","SROALSS",37,0)
 W !!,"TOTAL CASES FOR ALL SPECIALTIES: ",SRTC
"RTN","SROALSS",38,0)
 Q
"RTN","SROALSS",39,0)
CASE ; print a case
"RTN","SROALSS",40,0)
 S SRC=SRC+1,SRTC=SRTC+1
"RTN","SROALSS",41,0)
 I $Y+5>IOSL D PAGE Q:SRSOUT
"RTN","SROALSS",42,0)
 W !,SRTN,?20,SRANM_"  "_VA("PID"),?55,STATUS,!,SRDT,?20,SROPS(1),?55,SRTECH
"RTN","SROALSS",43,0)
 W !,SRDOC W:$D(SROPS(2)) ?20,SROPS(2) W ?55,SREXCL
"RTN","SROALSS",44,0)
 I $D(SROPS(3)) W !,?20,SROPS(3) I $D(SROPS(4)) W !,?20,SROPS(4)
"RTN","SROALSS",45,0)
 N I,SRPROC,SRL S SRL=48 D CPTS^SROAUTL0 W !,?20,"CPT Codes: "
"RTN","SROALSS",46,0)
 F I=1:1 Q:'$D(SRPROC(I))  W:'I=1 ! W ?31,$$CPT($P(SRPROC(I),"-"))_SRPROC(I)
"RTN","SROALSS",47,0)
 W ! F LINE=1:1:80 W "-"
"RTN","SROALSS",48,0)
 Q
"RTN","SROALSS",49,0)
SS ; print surgical specialty
"RTN","SROALSS",50,0)
 I $Y+5>IOSL D PAGE Q:SRSOUT
"RTN","SROALSS",51,0)
 W !,"** SURGICAL SPECIALTY: ",SRSS," **",! Q
"RTN","SROALSS",52,0)
PAGE W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROALSS",53,0)
 I X["?" W !!,"If you want to continue listing assessments, enter <RET>.  Enter '^' to",!,"return to the menu." G PAGE
"RTN","SROALSS",54,0)
HDR ; print heading
"RTN","SROALSS",55,0)
 S SRHD="ALL SURGICAL CASES BY SURGICAL SPECIALTY"
"RTN","SROALSS",56,0)
 W @IOF,!,?(80-$L(SRHD)\2),SRHD,!,?(80-$L(SRFRTO)\2),SRFRTO
"RTN","SROALSS",57,0)
 W !!,"CASE #",?20,"PATIENT",?55,"ASSESSMENT STATUS",!,"OPERATION DATE",?20,"PRINCIPAL OPERATIVE PROCEDURE",?55,"ANESTHESIA TECHNIQUE",!,"SURGEON",?55,"EXCLUSION CRITERIA",! F L=1:1:80 W "="
"RTN","SROALSS",58,0)
 W ! Q
"RTN","SROALSS",59,0)
OTHER ; other operations
"RTN","SROALSS",60,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,SROTHER,0),"^"))>125 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROALSS",61,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,SROTHER,0),"^")
"RTN","SROALSS",62,0)
 S SROPER=SROPER_$S(SROPERS'=" ...":", "_SROPERS,1:SROPERS)
"RTN","SROALSS",63,0)
 Q
"RTN","SROALSS",64,0)
LOOP ; break procedures
"RTN","SROALSS",65,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<34  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROALSS",66,0)
 Q
"RTN","SROALSS",67,0)
SSCT ; write specialty count
"RTN","SROALSS",68,0)
 I $Y+5>IOSL D PAGE Q:SRSOUT
"RTN","SROALSS",69,0)
 W !,"TOTAL ",SRSS,": ",SRC,! F L=1:1:80 W "-"
"RTN","SROALSS",70,0)
 Q
"RTN","SROALSS",71,0)
CPT(SRY) ; check code for exclusion
"RTN","SROALSS",72,0)
 N SREX S SREX=""
"RTN","SROALSS",73,0)
 I '$D(^SRO(137,SRY,0)) S SREX="*"
"RTN","SROALSS",74,0)
 Q SREX
"RTN","SROALST")
0^2^B14010437^B13725112
"RTN","SROALST",1,0)
SROALST ;BIR/MAM - ALL ASSESSMENTS ;01/18/07
"RTN","SROALST",2,0)
 ;;3.0;Surgery;**38,47,50,100,142,153,160,182**;24 Jun 93;Build 49
"RTN","SROALST",3,0)
 I $E(IOST)="P" D ^SROALSTP Q
"RTN","SROALST",4,0)
 S SRSOUT=0 D HDR F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)!SRSOUT  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSD,SRTN)) Q:'SRTN!SRSOUT  I $D(^SRF(SRTN,0)),$$MANDIV^SROUTL0(SRINSTP,SRTN) D SET
"RTN","SROALST",5,0)
 Q
"RTN","SROALST",6,0)
SET ; print assessments
"RTN","SROALST",7,0)
 K SRCPTT S SRCPTT="NOT ENTERED"
"RTN","SROALST",8,0)
 I $Y+5>IOSL D PAGE I SRSOUT Q
"RTN","SROALST",9,0)
 S SRA(0)=^SRF(SRTN,0)
"RTN","SROALST",10,0)
 S CAN=$P($G(^SRF(SRTN,30)),"^") I CAN Q
"RTN","SROALST",11,0)
 S CAN=$P($G(^SRF(SRTN,31)),"^",8) I CAN'="" Q
"RTN","SROALST",12,0)
 S X=$P($G(^SRF(SRTN,.2)),"^",12) I 'X Q
"RTN","SROALST",13,0)
 S DFN=$P(SRA(0),"^") N I D DEM^VADPT S SRANM=VADM(1),SRASSN=VA("PID") K VADM
"RTN","SROALST",14,0)
 S SRA("RA")=$G(^SRF(SRTN,"RA")),X=$P(SRA("RA"),"^"),STATUS=$S(X="I":"INCOMPLETE",X="C":"COMPLETED",X="T":"TRANSMITTED",1:"EXCLUSION")
"RTN","SROALST",15,0)
 S (SREXCL,Y)=$P(SRA("RA"),"^",7),C=$P(^DD(130,102,0),"^",2) D Y^DIQ S SREXCL=Y
"RTN","SROALST",16,0)
 I SREXCL="",STATUS="EXCLUSION" S STATUS="NO ASSESSMENT"
"RTN","SROALST",17,0)
 S X=^SRF(SRTN,"OP"),SROPER=$P(X,"^")
"RTN","SROALST",18,0)
 I $O(^SRF(SRTN,13,0)) S SROTHER=0 F I=0:0 S SROTHER=$O(^SRF(SRTN,13,SROTHER)) Q:'SROTHER  D OTHER
"RTN","SROALST",19,0)
 S X=$P($G(^SRF(SRTN,"RA")),"^",2) I X="C" S SROPER="* "_SROPER
"RTN","SROALST",20,0)
 K SROPS,MM,MMM S:$L(SROPER)<34 SROPS(1)=SROPER I $L(SROPER)>33 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROALST",21,0)
 S SRSS=$P(SRA(0),"^",4),SRSS=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"SPECIALTY NOT ENTERED")
"RTN","SROALST",22,0)
 D TECH^SROPRIN
"RTN","SROALST",23,0)
 S Y=$P(SRA(0),"^",9) D D^DIQ S SRDT=$P(Y,"@")
"RTN","SROALST",24,0)
 S (SRDOC,Y)=$P($G(^SRF(SRTN,.1)),"^",4),C=$P(^DD(130,.14,0),"^",2) D:Y'="" Y^DIQ I $L(Y)>18 S Z=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=Z
"RTN","SROALST",25,0)
 S SRDOC=Y
"RTN","SROALST",26,0)
 S X=$P($G(^SRO(136,SRTN,0)),"^",2) I X S Y=$S(X:$P($$CPT^ICPTCOD(X),"^",2),1:"") D SSPRIN^SROCPT0 I $L(Y) S SRCPTT=Y
"RTN","SROALST",27,0)
 W !,SRTN,?20,SRANM_" "_VA("PID"),?55,$P(SRSS,"("),!,SRDT,?20,SROPS(1),?55,SRTECH,!,STATUS W:$D(SROPS(2)) ?20,SROPS(2) W ?55,SREXCL
"RTN","SROALST",28,0)
 W !,SRDOC I $D(SROPS(3)) W ?20,SROPS(3) I $D(SROPS(4)) W !,?20,SROPS(4)
"RTN","SROALST",29,0)
 N I,SRPROC,SRL S SRL=48 D CPTS^SROAUTL0 W !,?20,"CPT Codes: "
"RTN","SROALST",30,0)
 F I=1:1 Q:'$D(SRPROC(I))  W:'I=1 ! W ?31,$$CPT($P(SRPROC(I),"-"))_SRPROC(I)
"RTN","SROALST",31,0)
 W ! F LINE=1:1:80 W "-"
"RTN","SROALST",32,0)
 Q
"RTN","SROALST",33,0)
OTHER ; other operations
"RTN","SROALST",34,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,SROTHER,0),"^"))>125 S SRLONG=0,SROTHER=999,SROPERS=" ..."
"RTN","SROALST",35,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,SROTHER,0),"^")
"RTN","SROALST",36,0)
 S SROPER=SROPER_$S(SROPERS'=" ...":", "_SROPERS,1:SROPERS)
"RTN","SROALST",37,0)
 Q
"RTN","SROALST",38,0)
LOOP ; break procedures
"RTN","SROALST",39,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<34  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROALST",40,0)
 Q
"RTN","SROALST",41,0)
PAGE W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROALST",42,0)
 I X["?" W !!,"If you want to continue listing incomplete assessments, enter <RET>.  Enter",!,"'^' to return to the menu." G PAGE
"RTN","SROALST",43,0)
HDR S SRHD="ALL SURGICAL CASES"
"RTN","SROALST",44,0)
 W @IOF,!,?(80-$L(SRHD)\2),SRHD,!,?(80-$L(SRFRTO)\2),SRFRTO
"RTN","SROALST",45,0)
 W !!,"CASE #",?20,"PATIENT",?55,"SURGICAL SPECIALTY",!,"OPERATION DATE",?20,"PRINCIPAL OPERATION",?55,"ANESTHESIA TECHNIQUE",!,"ASSESSMENT STATUS",?55,"EXCLUSION CRITERIA",!,"SURGEON",! F LINE=1:1:80 W "="
"RTN","SROALST",46,0)
 Q
"RTN","SROALST",47,0)
CPT(SRY) ; check code for exclusion
"RTN","SROALST",48,0)
 N SREX S SREX=""
"RTN","SROALST",49,0)
 I '$D(^SRO(137,SRY,0)) S SREX="*"
"RTN","SROALST",50,0)
 Q SREX
"RTN","SROANEW")
0^105^B18923841^B18923715
"RTN","SROANEW",1,0)
SROANEW ;BIR/MAM - CREATE NEW RISK ASSESSMENT ;01/18/07
"RTN","SROANEW",2,0)
 ;;3.0;Surgery;**34,47,71,100,135,160,182**;24 Jun 93;Build 49
"RTN","SROANEW",3,0)
 W @IOF,!,?1,VADM(1)_"  "_VA("PID")
"RTN","SROANEW",4,0)
 W !! S (SRDT,CNT)=0 F I=0:0 S SRDT=$O(^SRF("ADT",DFN,SRDT)) Q:'SRDT!(SRSOUT)  S SRASS=0 F I=0:0 S SRASS=$O(^SRF("ADT",DFN,SRDT,SRASS)) Q:'SRASS!($D(SRTN))!(SRSOUT)  D LIST I $D(SRTN) G ASK
"RTN","SROANEW",5,0)
 I 'CNT W "No operations exist for this patient.  Assessment cannot be entered.",!!,"Press RETURN to continue... " R X:DTIME G END
"RTN","SROANEW",6,0)
OPT W !!,"Select Operation: " R X:DTIME I '$T!("^"[X) S SRSOUT=1 G END
"RTN","SROANEW",7,0)
 I '$D(SRCASE(X)) W !!,"Enter the number of the desired operation" W $S('$D(SRNEWOP):".",1:", or '"_CNT_"' to enter a new case.") G OPT
"RTN","SROANEW",8,0)
 S SRTN=+SRCASE(X)
"RTN","SROANEW",9,0)
ASK I SRATYPE="N" D EXCL^SROASS
"RTN","SROANEW",10,0)
 I $P($G(^SRF(SRTN,"RA")),"^",6)="N"!($P($G(^SRF(SRTN,"RA")),"^",7)'="") W !!,"This case is currently flagged as meeting Risk Assessment exclusion criteria.",$C(7)
"RTN","SROANEW",11,0)
 W !!,"Are you sure that you want to create a Risk Assessment for this surgical",!,"case ?  YES// " R SRYN:DTIME I '$T!(SRYN["^") K SRTN S SRSOUT=1 Q
"RTN","SROANEW",12,0)
 S SRYN=$E(SRYN) I "YyNn"'[SRYN W !!,"Enter 'YES' to create an assessment for this surgical case, or 'NO' to quit",!,"this option." G ASK
"RTN","SROANEW",13,0)
 I "Yy"'[SRYN K SRTN S SRSOUT=1 Q
"RTN","SROANEW",14,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN) Q
"RTN","SROANEW",15,0)
 .I $P($G(^SRF(SRTN,"RA")),"^",6)="N"!($P($G(^SRF(SRTN,"RA")),"^",7)'="") D DRDEL^SRONASS
"RTN","SROANEW",16,0)
 .K DIE,DR,DA S DA=SRTN,DIE=130,DR="284////"_SRATYPE_";Q;323////Y;235////I" D ^DIE K DR,DIE,DA
"RTN","SROANEW",17,0)
 .N X S X=$P($G(^SRF(SRTN,205)),"^",43) I X="" D
"RTN","SROANEW",18,0)
 ..S DA=SRTN,DIE=130,DR="645////N" D ^DIE K DR,DIE,DA
"RTN","SROANEW",19,0)
 E  K SRTN
"RTN","SROANEW",20,0)
 Q
"RTN","SROANEW",21,0)
LIST ; list assessments
"RTN","SROANEW",22,0)
 I $P($G(^SRF(SRASS,"NON")),"^")="Y" Q
"RTN","SROANEW",23,0)
 S SRSCAN=1 I $D(^SRF(SRASS,.2)),$P(^(.2),"^",12)'="" K SRSCAN
"RTN","SROANEW",24,0)
 I $D(SRSCAN),$P($G(^SRF(SRASS,30)),"^") Q
"RTN","SROANEW",25,0)
 I $D(SRSCAN),$P($G(^SRF(SRASS,31)),"^",8) Q
"RTN","SROANEW",26,0)
 I $D(^SRF(SRASS,37)),$P(^(37),"^") Q
"RTN","SROANEW",27,0)
 I $Y+5>IOSL S SRBACK=0 D SEL Q:$D(SRTN)!(SRSOUT)  I SRBACK S CNT=0,SRASS=SRCASE(1)-1,SRDT=$P(SRCASE(1),"^",2) W @IOF,!,?1,VADM(1)_"   "_VA("PID"),! Q
"RTN","SROANEW",28,0)
 S CNT=CNT+1,SRSDATE=$P(^SRF(SRASS,0),"^",9)
"RTN","SROANEW",29,0)
DISP S SROPER=$P(^SRF(SRASS,"OP"),"^") I $O(^SRF(SRASS,13,0)) S SROTHER=0 F I=0:0 S SROTHER=$O(^SRF(SRASS,13,SROTHER)) Q:'SROTHER  D OTHER
"RTN","SROANEW",30,0)
 S SR("RA")=$G(^SRF(SRASS,"RA")) I "N"'[$P(SR("RA"),"^",6) S CNT=CNT-1 Q
"RTN","SROANEW",31,0)
 S SROP=SRASS D ^SROP1
"RTN","SROANEW",32,0)
 K SROPS,MM,MMM S:$L(SROPER)<65 SROPS(1)=SROPER I $L(SROPER)>64 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROANEW",33,0)
 I '$D(SRTN) W CNT_". "
"RTN","SROANEW",34,0)
CASE W $E(SRSDATE,4,5)_"-"_$E(SRSDATE,6,7)_"-"_$E(SRSDATE,2,3),?14,SROPS(1) I $D(SROPS(2)) W !,?14,SROPS(2) I $D(SROPS(3)) W !,?14,SROPS(3)
"RTN","SROANEW",35,0)
 I $D(SROPS(4)) W !,?14,SROPS(4)
"RTN","SROANEW",36,0)
 I $D(SRTN) Q
"RTN","SROANEW",37,0)
 W !! S SRCASE(CNT)=SRASS_"^"_SRDT
"RTN","SROANEW",38,0)
 Q
"RTN","SROANEW",39,0)
OTHER ; other operations
"RTN","SROANEW",40,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRASS,13,SROTHER,0),"^"))>235 S SRLONG=0,SROTHER=999,SROPERS=" ..."
"RTN","SROANEW",41,0)
 I SRLONG S SROPERS=$P(^SRF(SRASS,13,SROTHER,0),"^")
"RTN","SROANEW",42,0)
 S SROPER=SROPER_$S(SROPERS'=" ...":", "_SROPERS,1:SROPERS)
"RTN","SROANEW",43,0)
 Q
"RTN","SROANEW",44,0)
LOOP ; break procedures
"RTN","SROANEW",45,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<65  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROANEW",46,0)
 Q
"RTN","SROANEW",47,0)
SEL ; select case
"RTN","SROANEW",48,0)
 W !!!,"Select Operation, or enter <RET> to continue listing Procedures: " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROANEW",49,0)
 I X="" W @IOF,!,?1,VADM(1)_"  "_VA("PID"),!! Q
"RTN","SROANEW",50,0)
 I '$D(SRCASE(X)) W !!,"Please enter the number corresponding to the Surgical Case you want to edit.",!,"If the case desired does not appear, enter <RET> to continue listing",!,"additional cases."
"RTN","SROANEW",51,0)
 I '$D(SRCASE(X)) W !!,"Press <RET> to continue  " R X:DTIME S:'$T SRSOUT=1 S SRBACK=1 Q
"RTN","SROANEW",52,0)
 S SRTN=+SRCASE(X)
"RTN","SROANEW",53,0)
 Q
"RTN","SROANEW",54,0)
TYPE K DR,DIE S DR="284////"_SRATYPE,DIE=139,DA=SRTN D ^DIE
"RTN","SROANEW",55,0)
 K DR,DA,DIE S DR="235////I",DIE=139,DA=SRTN D ^DIE K DR
"RTN","SROANEW",56,0)
END D ^SRSKILL W @IOF
"RTN","SROANEW",57,0)
 Q
"RTN","SROANT")
0^26^B11055443^B10975780
"RTN","SROANT",1,0)
SROANT ;BIR/MAM - INCOMPLETE ASSESSMENTS ;01/18/07
"RTN","SROANT",2,0)
 ;;3.0;Surgery;**38,50,100,142,153,160,182**;24 Jun 93;Build 49
"RTN","SROANT",3,0)
 I $E(IOST)="P" D ^SROANTP Q
"RTN","SROANT",4,0)
 S SRSOUT=0 D HDR
"RTN","SROANT",5,0)
 F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)!SRSOUT  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSD,SRTN)) Q:'SRTN!SRSOUT  S SR("RA")=$G(^SRF(SRTN,"RA")) I $P(SR("RA"),"^")="I",$D(^SRF(SRTN,0)),$$MANDIV^SROUTL0(SRINSTP,SRTN) D SET
"RTN","SROANT",6,0)
 Q
"RTN","SROANT",7,0)
SET ; print assessments
"RTN","SROANT",8,0)
 I $P(SR("RA"),"^",6)="N" Q
"RTN","SROANT",9,0)
 I $Y+5>IOSL D PAGE I SRSOUT Q
"RTN","SROANT",10,0)
 K SRCPTT S SRCPTT="NOT ENTERED"
"RTN","SROANT",11,0)
 S SRA(0)=^SRF(SRTN,0),DFN=$P(SRA(0),"^") N I D DEM^VADPT S SRANM=VADM(1),SRASSN=VA("PID") K VADM
"RTN","SROANT",12,0)
 I $L(SRANM)>19 S SRANM=$P(SRANM,",")_","_$E($P(SRANM,",",2))_"."
"RTN","SROANT",13,0)
 S X=^SRF(SRTN,"OP"),SROPER=$P(X,"^")
"RTN","SROANT",14,0)
 I $O(^SRF(SRTN,13,0)) S SROTHER=0 F  S SROTHER=$O(^SRF(SRTN,13,SROTHER)) Q:'SROTHER  D OTHER
"RTN","SROANT",15,0)
 S X=$P($G(^SRF(SRTN,"RA")),"^",2) I X="C" S SROPER="* "_SROPER
"RTN","SROANT",16,0)
 K SROPS,MM,MMM S:$L(SROPER)<34 SROPS(1)=SROPER I $L(SROPER)>33 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROANT",17,0)
 S SRSS=$P(SRA(0),"^",4),SRSS=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"SPECIALTY NOT ENTERED")
"RTN","SROANT",18,0)
 D TECH^SROPRIN
"RTN","SROANT",19,0)
 S Y=$P(SRA(0),"^",9) D D^DIQ S SRDT=$P(Y,"@")
"RTN","SROANT",20,0)
 S (SRDOC,Y)=$P($G(^SRF(SRTN,.1)),"^",4),C=$P(^DD(130,.14,0),"^",2) D:Y'="" Y^DIQ I $L(Y)>18 S Z=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=Z
"RTN","SROANT",21,0)
 S SRDOC=Y
"RTN","SROANT",22,0)
 W !,SRTN,?20,SRANM_" "_VA("PID"),?55,$P(SRSS,"("),!,SRDT,?20,SROPS(1),?55,SRTECH,!,SRDOC I $D(SROPS(2)) W !,?20,SROPS(2) I $D(SROPS(3)) W !,?20,SROPS(3)
"RTN","SROANT",23,0)
 N I,SRPROC,SRL S SRL=48 D CPTS^SROAUTL0 W !,?20,"CPT Codes: "
"RTN","SROANT",24,0)
 F I=1:1 Q:'$D(SRPROC(I))  W:I=1 ?31,SRPROC(I) W:I'=1 !,?31,SRPROC(I)
"RTN","SROANT",25,0)
 W ! F LINE=1:1:80 W "-"
"RTN","SROANT",26,0)
 Q
"RTN","SROANT",27,0)
OTHER ; other operations
"RTN","SROANT",28,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,SROTHER,0),"^"))>125 S SRLONG=0,SROTHER=999,SROPERS=" ..."
"RTN","SROANT",29,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,SROTHER,0),"^")
"RTN","SROANT",30,0)
 S SROPER=SROPER_$S(SROPERS'=" ...":", "_SROPERS,1:SROPERS)
"RTN","SROANT",31,0)
 Q
"RTN","SROANT",32,0)
LOOP ; break procedures
"RTN","SROANT",33,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<34  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROANT",34,0)
 Q
"RTN","SROANT",35,0)
PAGE W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROANT",36,0)
 I X["?" W !!,"If you want to continue listing incomplete assessments, enter <RET>.  Enter",!,"'^' to return to the menu." G PAGE
"RTN","SROANT",37,0)
HDR W @IOF,!,?26,"INCOMPLETE RISK ASSESSMENTS",!,?(80-$L(SRFRTO)\2),SRFRTO,!!,"ASSESSMENT #",?20,"PATIENT",?55,"SURGICAL SPECIALTY"
"RTN","SROANT",38,0)
 W !,"OPERATION DATE",?20,"OPERATION(S)",?55,"ANESTHESIA TECHNIQUE",!,"PRIMARY SURGEON",! F LINE=1:1:80 W "="
"RTN","SROANT",39,0)
 Q
"RTN","SROANTP")
0^27^B11303131^B11181920
"RTN","SROANTP",1,0)
SROANTP ;BIR/MAM - INCOMPLETE ASSESSMENTS (PRINTER) ;01/18/07
"RTN","SROANTP",2,0)
 ;;3.0;Surgery;**32,50,100,142,153,160,182**;24 Jun 93;Build 49
"RTN","SROANTP",3,0)
 S SRPAGE=1,(SRSOUT,SRDFN)=0 D HDR Q:SRSOUT
"RTN","SROANTP",4,0)
 F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)!SRSOUT  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSD,SRTN)) Q:'SRTN!SRSOUT  S SR("RA")=$G(^SRF(SRTN,"RA")) I $P(SR("RA"),"^")="I",$D(^SRF(SRTN,0)),$$MANDIV^SROUTL0(SRINSTP,SRTN) D SET
"RTN","SROANTP",5,0)
 Q
"RTN","SROANTP",6,0)
SET ; print assessments
"RTN","SROANTP",7,0)
 I $P(SR("RA"),"^",6)="N" Q
"RTN","SROANTP",8,0)
 I $Y+5>IOSL S SRPAGE=SRPAGE+1 D HDR I SRSOUT Q
"RTN","SROANTP",9,0)
 K SRCPTT S SRCPTT="NOT ENTERED"
"RTN","SROANTP",10,0)
 S SRA(0)=^SRF(SRTN,0),DFN=$P(SRA(0),"^") N I D DEM^VADPT S SRANM=VADM(1),SRASSN=VA("PID") K VADM
"RTN","SROANTP",11,0)
 S X=^SRF(SRTN,"OP"),SROPER=$P(X,"^")
"RTN","SROANTP",12,0)
 I $O(^SRF(SRTN,13,0)) S SROTHER=0 F  S SROTHER=$O(^SRF(SRTN,13,SROTHER)) Q:'SROTHER  D OTHER
"RTN","SROANTP",13,0)
 S X=$P($G(^SRF(SRTN,"RA")),"^",2) I X="C" S SROPER="* "_SROPER
"RTN","SROANTP",14,0)
 K SROPS,MM,MMM S:$L(SROPER)<81 SROPS(1)=SROPER I $L(SROPER)>80 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROANTP",15,0)
 S SRSS=$P(SRA(0),"^",4),SRSS=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"SPECIALTY NOT ENTERED")
"RTN","SROANTP",16,0)
 S TYPE=$P(SR("RA"),"^",2) I SRSS="SPECIALTY NOT ENTERED",TYPE="C" S SRSS="N/A"
"RTN","SROANTP",17,0)
 D TECH^SROPRIN
"RTN","SROANTP",18,0)
 S Y=$P(SRA(0),"^",9) D D^DIQ S SRDT=$P(Y,"@")
"RTN","SROANTP",19,0)
 S (SRDOC,Y)=$P($G(^SRF(SRTN,.1)),"^",4),C=$P(^DD(130,.14,0),"^",2) D:Y'="" Y^DIQ I $L(Y)>23 S Z=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=Z
"RTN","SROANTP",20,0)
 S SRDOC=Y
"RTN","SROANTP",21,0)
 W !,SRTN,?20,SRANM_" "_VA("PID"),?67,$P(SRSS,"("),?107,SRTECH,!,SRDT,?20,SROPS(1),?107,SRDOC I $D(SROPS(2)) W !,?20,SROPS(2) I $D(SROPS(3)) W !,?20,SROPS(3) I $D(SROPS(4)) W !,?20,SROPS(4)
"RTN","SROANTP",22,0)
 N I,SRPROC,SRL S SRL=100 D CPTS^SROAUTL0 W !,?20,"CPT Codes: "
"RTN","SROANTP",23,0)
 F I=1:1 Q:'$D(SRPROC(I))  W:I=1 ?31,SRPROC(I) W:I'=1 !,?31,SRPROC(I)
"RTN","SROANTP",24,0)
 W ! F LINE=1:1:132 W "-"
"RTN","SROANTP",25,0)
 Q
"RTN","SROANTP",26,0)
OTHER ; other operations
"RTN","SROANTP",27,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,SROTHER,0),"^"))>165 S SRLONG=0,SROTHER=999,SROPERS=" ..."
"RTN","SROANTP",28,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,SROTHER,0),"^")
"RTN","SROANTP",29,0)
 S SROPER=SROPER_$S(SROPERS'=" ...":", "_SROPERS,1:SROPERS)
"RTN","SROANTP",30,0)
 Q
"RTN","SROANTP",31,0)
LOOP ; break procedures
"RTN","SROANTP",32,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<81  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROANTP",33,0)
 Q
"RTN","SROANTP",34,0)
HDR ; print heading
"RTN","SROANTP",35,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROANTP",36,0)
 W:$Y @IOF W !,?53,"INCOMPLETE RISK ASSESSMENTS",?120,"PAGE "_SRPAGE,!,?(132-$L(SRINST)\2),SRINST,!,?58,"SURGERY SERVICE",?100,"DATE REVIEWED:"
"RTN","SROANTP",37,0)
 W !,?(132-$L(SRFRTO)\2),SRFRTO,?100,"REVIEWED BY:"
"RTN","SROANTP",38,0)
 W !!,"ASSESSMENT #",?20,"PATIENT",?67,"SURGICAL SPECIALTY",?107,"ANESTHESIA TECHNIQUE",!,"OPERATION DATE",?20,"OPERATIVE PROCEDURE(S)",?107,"PRIMARY SURGEON",! F LINE=1:1:132 W "="
"RTN","SROANTP",39,0)
 Q
"RTN","SROANTSP")
0^28^B12558074^B12449043
"RTN","SROANTSP",1,0)
SROANTSP ;BIR/MAM - INCOMPLETE ASSESSMENTS (PRINTER) ;01/18/07
"RTN","SROANTSP",2,0)
 ;;3.0;Surgery;**32,50,100,142,153,160,182**;24 Jun 93;Build 49
"RTN","SROANTSP",3,0)
 K ^TMP("SRA",$J) S SRPAGE=0,(SRSOUT,SRDFN)=0 D HDR Q:SRSOUT
"RTN","SROANTSP",4,0)
 F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)!SRSOUT  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSD,SRTN)) Q:'SRTN!SRSOUT  S SR("RA")=$G(^SRF(SRTN,"RA")) I $P(SR("RA"),"^")="I",$D(^SRF(SRTN,0)),$$MANDIV^SROUTL0(SRINSTP,SRTN) D UTL
"RTN","SROANTSP",5,0)
 S SRSS="" F  S SRSS=$O(^TMP("SRA",$J,SRSS)) Q:SRSS=""!SRSOUT  D SS S SRTN=0 F  S SRTN=$O(^TMP("SRA",$J,SRSS,SRTN)) D:'SRTN LINE Q:'SRTN!SRSOUT  D SET
"RTN","SROANTSP",6,0)
 Q
"RTN","SROANTSP",7,0)
UTL ; write to ^TMP("SRA",$J)
"RTN","SROANTSP",8,0)
 I $P(SR("RA"),"^",6)="N" Q
"RTN","SROANTSP",9,0)
 I SRFLG,$P(^SRF(SRTN,0),"^",4)'=SRASP Q
"RTN","SROANTSP",10,0)
 S SRSS=$P(^SRF(SRTN,0),"^",4),SRSS=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"SRECIALTY NOT ENTERED")
"RTN","SROANTSP",11,0)
 S ^TMP("SRA",$J,SRSS,SRTN)=""
"RTN","SROANTSP",12,0)
 Q
"RTN","SROANTSP",13,0)
SET ; print assessments
"RTN","SROANTSP",14,0)
 K SRCPTT S SRCPTT="NOT ENTERED"
"RTN","SROANTSP",15,0)
 I $Y+5>IOSL D HDR I SRSOUT Q
"RTN","SROANTSP",16,0)
 S SRA(0)=^SRF(SRTN,0),DFN=$P(SRA(0),"^") N I D DEM^VADPT S SRANM=VADM(1),SRASSN=VA("PID") K VADM
"RTN","SROANTSP",17,0)
 S X=^SRF(SRTN,"OP"),SROPER=$P(X,"^")
"RTN","SROANTSP",18,0)
 I $O(^SRF(SRTN,13,0)) S SROTHER=0 F I=0:0 S SROTHER=$O(^SRF(SRTN,13,SROTHER)) Q:'SROTHER  D OTHER
"RTN","SROANTSP",19,0)
 S X=$P($G(^SRF(SRTN,"RA")),"^",2) I X="C" S SROPER="* "_SROPER
"RTN","SROANTSP",20,0)
 K SROPS,MM,MMM S:$L(SROPER)<36 SROPS(1)=SROPER I $L(SROPER)>35 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROANTSP",21,0)
 D TECH^SROPRIN
"RTN","SROANTSP",22,0)
 S Y=$P(SRA(0),"^",9) D D^DIQ S SRDT=$P(Y,"@")
"RTN","SROANTSP",23,0)
 S (SRDOC,Y)=$P($G(^SRF(SRTN,.1)),"^",4),C=$P(^DD(130,.14,0),"^",2) D:Y'="" Y^DIQ I $L(Y)>23 S Z=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=Z
"RTN","SROANTSP",24,0)
 S SRDOC=Y
"RTN","SROANTSP",25,0)
 W !,SRTN,?20,SRANM_" "_VA("PID"),?67,SROPS(1),?107,SRTECH,!,SRDT W:$D(SROPS(2)) ?67,SROPS(2) W ?107,SRDOC S SRAO=2 F  S SRAO=$O(SROPS(SRAO)) Q:'SRAO  W !,?67,SROPS(SRAO)
"RTN","SROANTSP",26,0)
 N I,SRPROC,SRL S SRL=53 D CPTS^SROAUTL0 W !,?67,"CPT Codes: "
"RTN","SROANTSP",27,0)
 F I=1:1 Q:'$D(SRPROC(I))  W:I=1 ?78,SRPROC(I) W:I'=1 !,?78,SRPROC(I)
"RTN","SROANTSP",28,0)
 W ! F LINE=1:1:132 W "-"
"RTN","SROANTSP",29,0)
 Q
"RTN","SROANTSP",30,0)
OTHER ; other operations
"RTN","SROANTSP",31,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,SROTHER,0),"^"))>125 S SRLONG=0,SROTHER=999,SROPERS=" ..."
"RTN","SROANTSP",32,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,SROTHER,0),"^")
"RTN","SROANTSP",33,0)
 S SROPER=SROPER_$S(SROPERS'=" ...":", "_SROPERS,1:SROPERS)
"RTN","SROANTSP",34,0)
 Q
"RTN","SROANTSP",35,0)
LOOP ; break procedures
"RTN","SROANTSP",36,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<35  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROANTSP",37,0)
 Q
"RTN","SROANTSP",38,0)
HDR ; print heading
"RTN","SROANTSP",39,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROANTSP",40,0)
 S SRPAGE=SRPAGE+1 W:$Y @IOF W !,?53,"INCOMPLETE RISK ASSESSMENTS",?120,"PAGE "_SRPAGE,!,?(132-$L(SRINST)\2),SRINST,!,?58,"SURGERY SERVICE",?100,"DATE REVIEWED:"
"RTN","SROANTSP",41,0)
 W !,?(132-$L(SRFRTO)\2),SRFRTO,?100,"REVIEWED BY:"
"RTN","SROANTSP",42,0)
 W !!,"ASSESSMENT #",?20,"PATIENT",?67,"OPERATIVE PROCEDURE(S)",?107,"ANESTHESIA TECHNIQUE",!,"OPERATION DATE",?107,"PRIMARY SURGEON",! F LINE=1:1:132 W "="
"RTN","SROANTSP",43,0)
 Q
"RTN","SROANTSP",44,0)
SS ; print surgical specialty
"RTN","SROANTSP",45,0)
 I $Y+5>IOSL D HDR
"RTN","SROANTSP",46,0)
 W !!,"** SURGICAL SPECIALTY: ",SRSS," **",!
"RTN","SROANTSP",47,0)
 Q
"RTN","SROANTSP",48,0)
LINE W ! F L=1:1:132 W "-"
"RTN","SROANTSP",49,0)
 Q
"RTN","SROAOP1")
0^29^B11581317^B11530418
"RTN","SROAOP1",1,0)
SROAOP1 ;BIR/MAM - SET OPERATION INFO ;02/28/07
"RTN","SROAOP1",2,0)
 ;;3.0;Surgery;**38,47,63,81,88,95,97,125,142,153,160,177,182**;24 Jun 93;Build 49
"RTN","SROAOP1",3,0)
 N SRCSTAT K SRA,SRAO F I=0,200,"OP" S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROAOP1",4,0)
 S SRDOC="Primary Surgeon: "_$P(^VA(200,$P(^SRF(SRTN,.1),"^",4),0),"^") F I=3,4,5 S SRAO(I)=""
"RTN","SROAOP1",5,0)
 K SROPS S SROPER=$P(SRA("OP"),"^")
"RTN","SROAOP1",6,0)
 S SRAO(2)="^26"
"RTN","SROAOP1",7,0)
 S:$L(SROPER)<49 SROPS(1)=SROPER K M,MM,MMM I $L(SROPER)>48 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROAOP1",8,0)
 S X=$P(SRA(0),"^",4) S:X X=$P(^SRO(137.45,X,0),"^",1) S SRAO(1)=X_"^.04"
"RTN","SROAOP1",9,0)
 S SRHDR(.5)=SRDOC,SRPAGE="PAGE: 1 OF 2"
"RTN","SROAOP1",10,0)
 S SRCSTAT=">> Coding "_$S($P($G(^SRO(136,SRTN,10)),"^"):"",1:"Not ")_"Complete <<"
"RTN","SROAOP1",11,0)
 D HDR^SROAUTL
"RTN","SROAOP1",12,0)
 S X=$P($G(^SRO(136,SRTN,0)),"^",3) S:X X=$$ICD^SROICD(SRTN,X),X=$P(X,"^",2)_"   "_$P(X,"^",4)
"RTN","SROAOP1",13,0)
 W "Postop Diagnosis Code "_$$ICDSTR^SROICD(SRTN)_": ",$S(X'="":X,1:"NOT ENTERED"),!
"RTN","SROAOP1",14,0)
 W !," 1. Surgical Specialty: ",?33,$P(SRAO(1),"^"),!," 2. Principal Operation: ",?33,SROPS(1) I $D(SROPS(2)) W !,?33,SROPS(2) I $D(SROPS(3)) W !,?33,SROPS(3) I $D(SROPS(4)) W !,?33,SROPS(4)
"RTN","SROAOP1",15,0)
 N SRPROC,SRL S SRL=49 D CPTS^SROAUTL0 W !," 3. CPT Codes (view only):" I SRPROC(1)="" S SRPROC(1)="NOT ENTERED"
"RTN","SROAOP1",16,0)
 F I=1:1 Q:'$D(SRPROC(I))  W:I=1 ?33,SRPROC(I) W:I'=1 !,?33,SRPROC(I)
"RTN","SROAOP1",17,0)
 W !," 4. Other Procedures:" W:$O(^SRF(SRTN,13,0)) ?33,"***INFORMATION ENTERED***"
"RTN","SROAOP1",18,0)
 W !," 5. Concurrent Procedure:" S CON=$P($G(^SRF(SRTN,"CON")),"^") I CON,'($P($G(^SRF(CON,30)),"^")!($P($G(^SRF(CON,31)),"^",8))) W ?33,"***INFORMATION ENTERED***"
"RTN","SROAOP1",19,0)
 S X=$P(SRA(200),"^",52),SRAO(6)=X_"^214",NYUK=$P(SRA(0),"^",10) D EMERG S SRAO(7)=SHEMP_"^.035"
"RTN","SROAOP1",20,0)
 S Y=$P($G(^SRF(SRTN,"1.0")),"^",8),C=$P(^DD(130,1.09,0),"^",2) D:Y'="" Y^DIQ S SRAO(8)=Y_"^1.09"
"RTN","SROAOP1",21,0)
 S Y=$P($G(^SRF(SRTN,1.1)),"^",3),C=$P(^DD(130,1.13,0),"^",2) D:Y'="" Y^DIQ S SRAO(9)=Y_"^1.13"
"RTN","SROAOP1",22,0)
 D TECH^SROPRIN S SRAO(10)=SRTECH
"RTN","SROAOP1",23,0)
 S X=$P(SRA(200),"^",54),SRAO(11)=X_"^340" K SRA(.2)
"RTN","SROAOP1",24,0)
 S Y=$P($G(^SRF(SRTN,200.1)),"^",4) D
"RTN","SROAOP1",25,0)
 .I Y="" S (Y,$P(^SRF(SRTN,200.1),"^",4))="N"
"RTN","SROAOP1",26,0)
 .S C=$P(^DD(130,443,0),"^",2) D:Y'="" Y^DIQ S SRAO(12)=Y_"^443"
"RTN","SROAOP1",27,0)
 S Y=$P($G(^SRF(SRTN,200.1)),"^",6) D
"RTN","SROAOP1",28,0)
 .I Y="" S (Y,$P(^SRF(SRTN,200.1),"^",6))="N"
"RTN","SROAOP1",29,0)
 .S C=$P(^DD(130,446,0),"^",2) D:Y'="" Y^DIQ S SRAO(13)=Y_"^446"
"RTN","SROAOP1",30,0)
 W !," 6. PGY of Primary Surgeon:",?33,$P(SRAO(6),"^"),!," 7. Surgical Priority:",?33,$P(SRAO(7),"^"),!," 8. Wound Classification: ",?33,$P(SRAO(8),"^")
"RTN","SROAOP1",31,0)
 W !," 9. ASA Classification:",?33,$P(SRAO(9),"^")
"RTN","SROAOP1",32,0)
 W !,"10. Princ. Anesthesia Technique: ",$P(SRAO(10),"^")
"RTN","SROAOP1",33,0)
 W !,"11. RBC Units Transfused:",?33,$P(SRAO(11),"^")
"RTN","SROAOP1",34,0)
 W !,"12. Intraop Disseminated Cancer:",?33,$P(SRAO(12),"^")
"RTN","SROAOP1",35,0)
 W !,"13. Intraoperative Ascites:",?33,$P(SRAO(13),"^")
"RTN","SROAOP1",36,0)
 W ! F LINE=1:1:80 W "-"
"RTN","SROAOP1",37,0)
 Q
"RTN","SROAOP1",38,0)
YN S SHEMP=$S(NYUK="NS":"NS",NYUK="N":"NO",NYUK="Y":"YES",1:"")
"RTN","SROAOP1",39,0)
 Q
"RTN","SROAOP1",40,0)
LOOP ; break procedures
"RTN","SROAOP1",41,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<49  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROAOP1",42,0)
 Q
"RTN","SROAOP1",43,0)
EMERG ; surgical priority
"RTN","SROAOP1",44,0)
 I NYUK="" S SHEMP="" Q
"RTN","SROAOP1",45,0)
 S Y=NYUK,C=$P(^DD(130,.035,0),"^",2) D Y^DIQ S SHEMP=Y
"RTN","SROAOP1",46,0)
 Q
"RTN","SROAOUT")
0^3^B16228336^B16161579
"RTN","SROAOUT",1,0)
SROAOUT ;BIR/SJA - OUTCOMES DATA ;09/30/2011
"RTN","SROAOUT",2,0)
 ;;3.0;Surgery;**125,135,142,160,174,175,176,182**;24 Jun 93;Build 49
"RTN","SROAOUT",3,0)
 I '$D(SRTN) W !!,"A Surgery Risk Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SROAOUT",4,0)
 D SRA^SROES S SRACLR=0,SRSOUT=0,SRSUPCPT=1 D ^SROAUTL
"RTN","SROAOUT",5,0)
START D:SRACLR RET G:SRSOUT END S SRACLR=0 K SRA,SRAO D ^SROUTC
"RTN","SROAOUT",6,0)
ASK W !!,"Select Outcomes Information to Edit: " R X:DTIME I '$T!("^"[X) G END
"RTN","SROAOUT",7,0)
 S:X="a" X="A" I '$D(SRAO(X)),(X'?.N1":".N),(X'="A") D HELP G:SRSOUT END G START
"RTN","SROAOUT",8,0)
 I X="A" S X="1:16"
"RTN","SROAOUT",9,0)
 I X?.N1":".N S Y=$E(X),Z=$P(X,":",2) I Y<1!(Z>16)!(Y>Z) D HELP G:SRSOUT END G START
"RTN","SROAOUT",10,0)
 D HDR^SROAUTL
"RTN","SROAOUT",11,0)
 I X?.N1":".N D RANGE G START
"RTN","SROAOUT",12,0)
 I $D(SRAO(X)) S EMILY=X D  G START
"RTN","SROAOUT",13,0)
 .I $$LOCK^SROUTL(SRTN) W !! D ONE,UNLOCK^SROUTL(SRTN)
"RTN","SROAOUT",14,0)
END D:$D(SRTN) EXIT^SROES W @IOF D ^SRSKILL
"RTN","SROAOUT",15,0)
 Q
"RTN","SROAOUT",16,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SROAOUT",17,0)
 W !!,"1. Enter 'A' to update all information.",!!,"2. Enter a number (1-16) to update the information in that field.  (For",!,"   example, enter '4' to update Mediastinitis)"
"RTN","SROAOUT",18,0)
 W !!,"3. Enter a range of numbers separated by a ':' to enter a range of",!,"   information.  (For example, enter '11:13' to enter Stroke,",!,"   Coma >= 24 hr, and New Mech Circ Support)"
"RTN","SROAOUT",19,0)
 W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1
"RTN","SROAOUT",20,0)
 Q
"RTN","SROAOUT",21,0)
RANGE ; range of numbers
"RTN","SROAOUT",22,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN)
"RTN","SROAOUT",23,0)
 .W !! S SHEMP=$P(X,":"),CURLEY=$P(X,":",2) F EMILY=SHEMP:1:CURLEY Q:SRSOUT  D ONE
"RTN","SROAOUT",24,0)
 Q
"RTN","SROAOUT",25,0)
ONE ; edit one item
"RTN","SROAOUT",26,0)
 N SRBEF
"RTN","SROAOUT",27,0)
 S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I",DR=$P(SRAO(EMILY),"^",2) D EN^DIQ1 K DA,DIC,DIQ,DR S SRBEF=SRY(130,SRTN,$P(SRAO(EMILY),"^",2),"I")
"RTN","SROAOUT",28,0)
 K DR,DIE S DA=SRTN,DR=$P(SRAO(EMILY),"^",2)_$S(EMILY=1:"Myocardial Infarction (Y/N)",1:"T"),DIE=130 D ^DIE K DA,DIE,DR I $D(Y)!$D(DTOUT) S SRSOUT=1
"RTN","SROAOUT",29,0)
 Q:'EMILY
"RTN","SROAOUT",30,0)
 I EMILY=13,'SRSOUT,SRBEF="N",X'="N" D UPDATE^SROUTC Q
"RTN","SROAOUT",31,0)
 I 'SRSOUT,SRBEF'="Y",X="Y" D UPDATE^SROUTC Q
"RTN","SROAOUT",32,0)
 I 'SRSOUT,SRBEF="Y",X="Y",EMILY=8 D  K DA,DR,DIE Q
"RTN","SROAOUT",33,0)
 .N SROCC,SRSTAT S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=27 S SRSTAT=$P(^SRF(SRTN,16,SROCC,0),"^",5) Q
"RTN","SROAOUT",34,0)
 .K DIR S DIR(0)="130.22,8",DIR("A")="Cardiopulmonary Bypass Status",DA(1)=SRTN,DA=SROCC D ^DIR K DA,DR,DIE,DIR
"RTN","SROAOUT",35,0)
 .I ($G(SRSTAT)=""&((X="")!(X="@")!(X["^")))!(Y=0) D DEL^SROUTC S DA=SRTN,DIE=130,DR="391////N" D ^DIE Q
"RTN","SROAOUT",36,0)
 .I $G(SRSTAT)'="",X["^" Q
"RTN","SROAOUT",37,0)
 .I $G(SRSTAT)'=Y,Y'="" S DA=SROCC,DA(1)=SRTN,DIE="^SRF(SRTN,16,",DR="8////"_Y D ^DIE Q
"RTN","SROAOUT",38,0)
 I 'SRSOUT,SRBEF="Y",X="Y",EMILY=11 D  K DA,DR,DIE Q
"RTN","SROAOUT",39,0)
 .N SROCC,SRDUR S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=12 S SRDUR=$P(^SRF(SRTN,16,SROCC,0),"^",8) Q
"RTN","SROAOUT",40,0)
 .K DIR S DIR(0)="130.22,9",DIR("A")="Stroke/CVA Duration",DA(1)=SRTN,DA=SROCC D ^DIR K DA,DR,DIE,DIR
"RTN","SROAOUT",41,0)
 .I ($G(SRDUR)=""&((X="")!(X="@")!(X["^")))!(Y=1)!(Y="") D DEL^SROUTC S DA=SRTN,DIE=130,DR="256////N" D ^DIE Q
"RTN","SROAOUT",42,0)
 .I $G(SRDUR)'="",X["^" Q
"RTN","SROAOUT",43,0)
 .I $G(SRDUR)'=Y,Y'="" S DA=SROCC,DA(1)=SRTN,DIE="^SRF(SRTN,16,",DR="9////"_Y D ^DIE Q
"RTN","SROAOUT",44,0)
 I 'SRSOUT,SRBEF="Y",(X=""!(X="N")) D DEL^SROUTC
"RTN","SROAOUT",45,0)
 Q
"RTN","SROAOUT",46,0)
RET Q:SRSOUT  W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROAOUT",47,0)
 Q
"RTN","SROAPAS")
0^87^B28675186^B28274307
"RTN","SROAPAS",1,0)
SROAPAS ;BIR/MAM - PRINT A COMPLETE ASSESSMENT ;05/28/10
"RTN","SROAPAS",2,0)
 ;;3.0;Surgery;**38,47,81,88,111,112,100,125,153,166,174,175,182**;24 Jun 93;Build 49
"RTN","SROAPAS",3,0)
 S SRSOUT=0,SRPG=0,SR("RA")=$G(^SRF(SRTN,"RA")),SRATYPE=$P(SR("RA"),"^",2) F I=200:1:208,200.1 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROAPAS",4,0)
 S SRA("OP")=^SRF(SRTN,"OP"),SRA("CON")=$G(^SRF(SRTN,"CON"))
"RTN","SROAPAS",5,0)
 S SR(0)=^SRF(SRTN,0),DFN=$P(SR(0),"^"),SRSDATE=$P(SR(0),"^",9) D DEM^VADPT S SRANM=VADM(1)_"  "_VA("PID"),Z=$P(VADM(3),"^"),Y=$E(SRSDATE,1,7),AGE=$E(Y,1,3)-$E(Z,1,3)-($E(Y,4,7)<$E(Z,4,7))
"RTN","SROAPAS",6,0)
 I $P(SR("RA"),"^",2)="C" D ^SROAPCA G END
"RTN","SROAPAS",7,0)
 W:$E(IOST)'="P" @IOF D HDR G:SRSOUT END
"RTN","SROAPAS",8,0)
 W !,"Medical Center: "_SRSITE("SITE")
"RTN","SROAPAS",9,0)
 W !,"Age: ",?16,AGE S Y=SRSDATE D D^DIQ W ?40,"Operation Date: ",?59,$P(Y,"@")
"RTN","SROAPAS",10,0)
 S Y=$P($G(^SRF(SRTN,208)),"^",10),C=$P(^DD(130,417,0),"^",2) D Y^DIQ S X=$S(Y'="":Y,1:"NOT ENTERED")
"RTN","SROAPAS",11,0)
 ;
"RTN","SROAPAS",12,0)
 D DEM^VADPT
"RTN","SROAPAS",13,0)
 ;Find patient's ethnicity
"RTN","SROAPAS",14,0)
 S SROETH=""
"RTN","SROAPAS",15,0)
 I $G(VADM(11)) S SROETH=$P(VADM(11,1),U,2)
"RTN","SROAPAS",16,0)
 I '$G(VADM(11)) S SROETH="UNANSWERED"
"RTN","SROAPAS",17,0)
 ;
"RTN","SROAPAS",18,0)
 ;Find all race entries and place into a string with commas inbetween
"RTN","SROAPAS",19,0)
 S SRORC=0,C=1,SRORACE="",SROLINE="",N=1,SROL=""
"RTN","SROAPAS",20,0)
 F  S SRORC=$O(VADM(12,SRORC)) Q:SRORC=""  Q:C=11  D
"RTN","SROAPAS",21,0)
 .I $G(VADM(12,SRORC)) S SRORACE(C)=$P(VADM(12,SRORC),U,2)
"RTN","SROAPAS",22,0)
 .I SROLINE'="" S SROLINE=SROLINE_", "_SRORACE(C)
"RTN","SROAPAS",23,0)
 .I SROLINE="" S SROLINE=SRORACE(C)
"RTN","SROAPAS",24,0)
 .S C=C+1
"RTN","SROAPAS",25,0)
 ;
"RTN","SROAPAS",26,0)
 ;Find total length of 'race' string and wrap the text if necessary
"RTN","SROAPAS",27,0)
 I $L(SROLINE)=29!$L(SROLINE)<29 S SROL(N)=SROLINE,SRNUM1=2
"RTN","SROAPAS",28,0)
 I $L(SROLINE)>29 D WRAP
"RTN","SROAPAS",29,0)
 ;
"RTN","SROAPAS",30,0)
 W !,"Sex: ",?16,$P(VADM(5),"^",2),?40,"Ethnicity:",?51,SROETH
"RTN","SROAPAS",31,0)
 W !,?40,"Race:"
"RTN","SROAPAS",32,0)
 I $G(VADM(12)) F D=1:1:SRNUM1-1 D
"RTN","SROAPAS",33,0)
 .W:D=1 ?51,SROL(D)
"RTN","SROAPAS",34,0)
 .W:D'=1 !,?51,SROL(D)
"RTN","SROAPAS",35,0)
 I '$G(VADM(12)) W ?51,"UNANSWERED"
"RTN","SROAPAS",36,0)
 ;
"RTN","SROAPAS",37,0)
 K SROL,SROLINE,SRORC,SRORACE,SROLN,SROLN1,SROWRAP,SRNUM1
"RTN","SROAPAS",38,0)
 ;
"RTN","SROAPAS",39,0)
 S Y=$P($G(^SRF(SRTN,208)),"^",11),C=$P(^DD(130,413,0),"^",2) D Y^DIQ S X=$S(Y'="":Y,1:"NOT ENTERED") W !,"Transfer Status: ",X
"RTN","SROAPAS",40,0)
 F J=1,2,3 S Y=$P($G(^SRF(SRTN,208.1)),"^",J) D
"RTN","SROAPAS",41,0)
 .I J'=3 X:Y ^DD("DD") S Z=$P(Y,"@")_"  "_$E($P(Y,"@",2),1,5)
"RTN","SROAPAS",42,0)
 .I J=3 S C=$P(^DD(130,454,0),"^",2) D Y^DIQ S Z=Y
"RTN","SROAPAS",43,0)
 .W !,"Observation "_$S(J=1:"Admission Date:",J=2:"Discharge Date:",1:"Treating Specialty:"),?47,Z
"RTN","SROAPAS",44,0)
 F J=14:1:17 S Y=$P($G(^SRF(SRTN,208)),"^",J) X ^DD("DD") S SRPTMODT(J)=Y
"RTN","SROAPAS",45,0)
 S (X,Z)=SRPTMODT(14) S:X'="" Z=$P(X,"@")_"  "_$E($P(X,"@",2),1,5) W !,"Hospital Admission Date:",?47,Z
"RTN","SROAPAS",46,0)
 S (X,Z)=SRPTMODT(15) S:X'="" Z=$P(X,"@")_"  "_$E($P(X,"@",2),1,5) W !,"Hospital Discharge Date:",?47,Z
"RTN","SROAPAS",47,0)
 S (X,Z)=SRPTMODT(16) S:X'="" Z=$P(X,"@")_"  "_$E($P(X,"@",2),1,5) W !,"Admitted/Transferred to Surgical Service:",?47,Z
"RTN","SROAPAS",48,0)
 S (X,Z)=SRPTMODT(17) S:X'="" Z=$P(X,"@")_"  "_$E($P(X,"@",2),1,5) W !,"Discharged/Transferred to Chronic Care:",?47,Z
"RTN","SROAPAS",49,0)
 S X=$P($G(^SRF(SRTN,0)),"^",12)
"RTN","SROAPAS",50,0)
 W !,"Hospital Admission Status:",?47,$S(X="I":"INPATIENT",X="O":"OUTPATIENT",X=1:"OUTPATIENT",X=2:"OUTPATIENT",X=3:"OUTPATIENT",1:"")
"RTN","SROAPAS",51,0)
 S X=$P(SR("RA"),"^",9) W !,"Assessment Completed by:" I $G(X) W ?47,$P($G(^VA(200,X,0)),"^")
"RTN","SROAPAS",52,0)
 I $E(IOST)="P" W ! F MOE=1:1:80 W "-"
"RTN","SROAPAS",53,0)
 I $E(IOST)'="P" D PAGE I SRSOUT G END
"RTN","SROAPAS",54,0)
 D ^SROAPRT1 G:SRSOUT END I $Y+20>IOSL D PAGE I SRSOUT G END
"RTN","SROAPAS",55,0)
 D ^SROAPRT2 G:SRSOUT END I $Y+20>IOSL D PAGE I SRSOUT G END
"RTN","SROAPAS",56,0)
 D OPTIMES^SROAPRT3 G:SRSOUT END I $Y+20>IOSL D PAGE I SRSOUT G END
"RTN","SROAPAS",57,0)
 D ^SROAPRT3 G:SRSOUT END I $Y+24>IOSL D PAGE I SRSOUT G END
"RTN","SROAPAS",58,0)
 D ^SROAPRT4 G:SRSOUT END I $Y+20>IOSL D PAGE I SRSOUT G END
"RTN","SROAPAS",59,0)
 D ^SROAPRT5 G:SRSOUT END I $Y+20>IOSL D PAGE I SRSOUT G END
"RTN","SROAPAS",60,0)
 D ^SROAPRT6
"RTN","SROAPAS",61,0)
END Q:$D(SRABATCH)  I 'SRSOUT,$E(IOST)'="P" W !!,"Press <RET> to continue  " R X:DTIME
"RTN","SROAPAS",62,0)
 W:$E(IOST)="P" @IOF I $D(ZTQUEUED) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SROAPAS",63,0)
 D ^%ZISC K SROETH,SRTN W @IOF D ^SRSKILL
"RTN","SROAPAS",64,0)
 Q
"RTN","SROAPAS",65,0)
 ;
"RTN","SROAPAS",66,0)
WRAP ;Wrap multiple race entries so that wrapped line
"RTN","SROAPAS",67,0)
 ;does not break in the middle of a word
"RTN","SROAPAS",68,0)
 ;
"RTN","SROAPAS",69,0)
 S SROLNGTH=$L(SROLINE),E=29,SROWRAP="",SROLN="",SROLN1="",SROL=""
"RTN","SROAPAS",70,0)
 F I=1:29:SROLNGTH S SROLN(I)=SROWRAP_$E(SROLINE,I,E) D
"RTN","SROAPAS",71,0)
 .F K=29:-1:1 I $E(SROLN(I),K)[" " D  Q    ;Break lines at space
"RTN","SROAPAS",72,0)
 ..S SROLN1(I)=$E(SROLN(I),1,K-1)
"RTN","SROAPAS",73,0)
 ..S SROWRAP=$E(SROLN(I),K+1,E)
"RTN","SROAPAS",74,0)
 .S E=E+29
"RTN","SROAPAS",75,0)
 ;
"RTN","SROAPAS",76,0)
 S:'$D(SROLN1(I)) SROLN1(I)=SROLN(I),SROWRAP=""
"RTN","SROAPAS",77,0)
 I $L(SROLN1(I))+$L(SROWRAP)>28 S SROLN1(I+1)=SROWRAP   ;Last line
"RTN","SROAPAS",78,0)
 I $L(SROLN1(I))+$L(SROWRAP)'>28 S SROLN1(I)=SROLN1(I)_" "_SROWRAP
"RTN","SROAPAS",79,0)
 ;
"RTN","SROAPAS",80,0)
 ;Renumber the SROLN1 array to be in numeric order
"RTN","SROAPAS",81,0)
 S SRNUM=0,SRNUM1=1
"RTN","SROAPAS",82,0)
 F  S SRNUM=$O(SROLN1(SRNUM)) Q:SRNUM=""  D
"RTN","SROAPAS",83,0)
 .S SROL(SRNUM1)=SROLN1(SRNUM)
"RTN","SROAPAS",84,0)
 .S SRNUM1=SRNUM1+1
"RTN","SROAPAS",85,0)
 Q
"RTN","SROAPAS",86,0)
 ;
"RTN","SROAPAS",87,0)
LOOP ; break procedures
"RTN","SROAPAS",88,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<55  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROAPAS",89,0)
 Q
"RTN","SROAPAS",90,0)
PAGE I $E(IOST)'="P" W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROAPAS",91,0)
 I X["?" W !!,"Enter <RET> to continue printing the remaining pages of this assessment, or",!,"'^' to exit this option." G PAGE
"RTN","SROAPAS",92,0)
 W @IOF
"RTN","SROAPAS",93,0)
HDR ; print heading
"RTN","SROAPAS",94,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROAPAS",95,0)
 S SRPG=SRPG+1
"RTN","SROAPAS",96,0)
 I $Y'=0 W @IOF
"RTN","SROAPAS",97,0)
 I SRATYPE="C" W !,"VA CARDIAC RISK ASSESSMENT",?70,"PAGE "_SRPG
"RTN","SROAPAS",98,0)
 I SRATYPE="N" W !,"VA NON-CARDIAC RISK ASSESSMENT             Assessment: "_SRTN,?69,"PAGE "_SRPG
"RTN","SROAPAS",99,0)
 W !,"FOR "_SRANM S X=$P(SR("RA"),"^") W " ("_$S(X="I":"INCOMPLETE",X="C":"COMPLETED",X="T":"TRANSMITTED",1:"NO ASSESSMENT") I X="T" S Y=$P(SR("RA"),"^",4) W " "_$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_$E(Y,2,3)
"RTN","SROAPAS",100,0)
 W ")",! F LINE=1:1:80 W "="
"RTN","SROAPAS",101,0)
 W !
"RTN","SROAPAS",102,0)
 Q
"RTN","SROAPAS",103,0)
CODE ; print CPT Code
"RTN","SROAPAS",104,0)
 S X=$P(^SRF(SRTN,13,SR,0),"^",2) I X W "  ("_$P($$CPT^ICPTCOD(X),"^",2)_")"
"RTN","SROAPAS",105,0)
 Q
"RTN","SROAPCA")
0^30^B32334880^B30319092
"RTN","SROAPCA",1,0)
SROAPCA ;BIR/MAM - PRINT CLINICAL DATA ;07/19/2011
"RTN","SROAPCA",2,0)
 ;;3.0;Surgery;**38,47,71,95,125,134,153,160,174,175,176,182**;24 Jun 93;Build 49
"RTN","SROAPCA",3,0)
 F I=0,200,206,207,208,209,200.1 S SRA(I)=$G(^SRF(SRTN,I)),$P(LN,"-",79)=""
"RTN","SROAPCA",4,0)
 S X=$P(SRA(0),"^",9),SRADATE=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3)
"RTN","SROAPCA",5,0)
 W:$Y @IOF W !,?7,"VA SURGICAL QUALITY IMPROVEMENT PROGRAM - CARDIAC SPECIALTY",!
"RTN","SROAPCA",6,0)
 W ! F MOE=1:1:80 W "="
"RTN","SROAPCA",7,0)
 W !,"I. IDENTIFYING DATA",?60,"Case #: "_SRTN
"RTN","SROAPCA",8,0)
 N SRSPH1,SRZIP S (SRSPH1,SRZIP)=""
"RTN","SROAPCA",9,0)
 S STATNUM=+$P($$SITE^SROVAR,"^",3) D ADD^VADPT
"RTN","SROAPCA",10,0)
 W !,"Patient: "_SRANM,?60,"Fac./Div. #: "_STATNUM
"RTN","SROAPCA",11,0)
 W !,"Surgery Date: "_SRADATE,?25,"Address: "_VAPA(1)
"RTN","SROAPCA",12,0)
 S SRSPH1=VAPA(8) S:SRSPH1="" SRSPH1="NS/Unknown" S SRZIP=$S(VAPA(11)'="":$P(VAPA(11),"^",2),1:VAPA(6)) S:SRZIP="" SRZIP="NS/Unknown"
"RTN","SROAPCA",13,0)
 W !,"Phone: "_SRSPH1,?25,"Zip Code: "_SRZIP
"RTN","SROAPCA",14,0)
 S X=VADM(3) W ?53,"Date of Birth: ",$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3)
"RTN","SROAPCA",15,0)
 S SRAO(1)=SRADATE,NYUK=$P(SRA(0),"^",4),SRAO(2)=$P(VADM(5),"^",2)
"RTN","SROAPCA",16,0)
 S SRAO(3)=AGE,NYUK=$P(SRA(206),"^") S:NYUK'="" NYUK=$S(NYUK["C"!(NYUK["c"):+NYUK_" cm",1:+NYUK_" in") S SRAO(4)=NYUK_"^236"
"RTN","SROAPCA",17,0)
 S NYUK=$P(SRA(206),"^",2) S:NYUK'="" NYUK=$S(NYUK["K"!(NYUK["k"):+NYUK_" kg",1:+NYUK_" lb") S SRAO(5)=NYUK_"^237"
"RTN","SROAPCA",18,0)
 S Y=$P(SRA(200.1),"^",11),C=$P(^DD(130,519,0),"^",2) D:Y'="" Y^DIQ S SRAO(6)=Y_"^519"
"RTN","SROAPCA",19,0)
 S Y=$P(SRA(200.1),"^",12),C=$P(^DD(130,520,0),"^",2) D:Y'="" Y^DIQ S SRAO(31)=Y_"^520"
"RTN","SROAPCA",20,0)
 S NYUK=$P(SRA(200),"^",11) D YN S SRAO(7)=SHEMP_"^203"
"RTN","SROAPCA",21,0)
 S SRAO(8)=$P(SRA(206),"^",5)_"^347",NYUK=$P(SRA(206),"^",6) D YN S SRAO(9)=SHEMP_"^209",NYUK=$P(SRA(206),"^",7) D YN S SRAO(10)=SHEMP_"^348"
"RTN","SROAPCA",22,0)
 S Y=$P(SRA(200.1),"^",9),C=$P(^DD(130,517,0),"^",2) D:Y'="" Y^DIQ S SRAO(11)=Y_"^517"
"RTN","SROAPCA",23,0)
 S Y=$P(SRA(200.1),"^",10),C=$P(^DD(130,518,0),"^",2) D:Y'="" Y^DIQ S SRAO(12)=Y_"^518"
"RTN","SROAPCA",24,0)
 S NYUK=$P(SRA(206),"^",11) D YN S SRAO(14)=SHEMP_"^350",NYUK=$P(SRA(200),"^",8),SRAO(15)=$S(NYUK=1:"INDEPENDENT",NYUK=2:"PARTIAL DEPENDENT",NYUK=3:"TOTALLY DEPENDENT",NYUK="NS":"NS",1:"")_"^240"
"RTN","SROAPCA",25,0)
 S NYUK=$P(SRA(200),"^",56),SRAO(16)=$S(NYUK=1:"NONE",NYUK=2:"<12 HRS OF SURG",NYUK=3:">12 HRS - 7 DAYS",NYUK=4:">7 DAYS",NYUK=5:"UNKNOWN",1:"")_"^640"
"RTN","SROAPCA",26,0)
 S NYUK=$P(SRA(206),"^",14),SRAO(17)=$S(NYUK=0:"NO",NYUK=1:"< OR = 7 DAYS OF SURG",NYUK=2:"BETWEEN 7 DAYS AND 6 MONTHS OF SURG",NYUK=3:"UNKNOWN",NYUK="NS":"NS",1:"")_"^205"
"RTN","SROAPCA",27,0)
 S NYUK=$P(SRA(206),"^",15) S SHEMP=$S(NYUK=0:"NONE",NYUK=">":">3",NYUK="NS":"NS",NYUK="N":"NO",NYUK="Y":"YES",1:NYUK) S SRAO(18)=SHEMP_"^352"
"RTN","SROAPCA",28,0)
 S NYUK=$P(SRA(200.1),"^",13),SRAO(20)=$S(NYUK=0:"NO CVD",NYUK=1:"YES/NO SURG",NYUK=2:"YES/PRIOR SURG",1:"")_"^521"
"RTN","SROAPCA",29,0)
 S NYUK=$P(SRA(200.1),"^",14),SRAO(21)=$S(NYUK=0:"NO CVD",NYUK=1:"HIST OF TIA'S",NYUK=2:"CVA W/O NEURO DEF",NYUK=3:"CVA W/ NEURO DEF",1:"")_"^522"
"RTN","SROAPCA",30,0)
 S NYUK=$P(SRA(206),"^",16) S SRAO(19)=$$OUT^SROACL1(265,NYUK)_"^265"
"RTN","SROAPCA",31,0)
 S SRAO(22)=$$OUT^SROAPRT1(267,$P(SRA(206),"^",18))_"^267"
"RTN","SROAPCA",32,0)
 S Y=$P(SRA(200),"^",59),SRAO("22A")=$S(Y=1:"NO ANGINA",Y=2:"W/N 14 DAY OF SURG",Y=3:"W/N 15-30 DAYS OF SURG",Y=4:"UNKNOWN",1:"")_"^643"
"RTN","SROAPCA",33,0)
 S SRAO(23)=$P(SRA(206),"^",19)_"^207",NYUK=$P(SRA(206),"^",20) D YN S SRAO(24)=SHEMP_"^353",NYUK=$P(SRA(206),"^",21) D YN S SRAO(25)=SHEMP_"^354"
"RTN","SROAPCA",34,0)
 S NYUK=$P(SRA(206),"^",22) D YN S SRAO(26)=SHEMP_"^355"
"RTN","SROAPCA",35,0)
 S NYUK=$P(SRA(209),"^",2),SRAO(27)=$S(NYUK="N":"NONE",NYUK="I":"IABP",NYUK="V":"VAD",NYUK="A":"ARTI",NYUK="O":"OTHER",1:NYUK)_"^474"
"RTN","SROAPCA",36,0)
 S NYUK=$P(SRA(200),"^",57) D H641^SROACL1 S SRAO(28)=SHEMP_"^641"
"RTN","SROAPCA",37,0)
 S NYUK=$P(SRA(206),"^",10) D YN S SRAO(29)=SHEMP_"^349"
"RTN","SROAPCA",38,0)
 S NYUK=$P(SRA(208),"^",19) D YN S SRAO(30)=SHEMP_"^509"
"RTN","SROAPCA",39,0)
 S NYUK=$P(SRA(200),"^",55) S SRAO(13)=$$H618^SROACL1(NYUK)_"^618"
"RTN","SROAPCA",40,0)
 S NYUK=$P(SRA(200.1),"^",8),SRAO(32)=$$OUT^SROACL1(237.1,NYUK)_"^237.1"
"RTN","SROAPCA",41,0)
DISP ; display fields
"RTN","SROAPCA",42,0)
 W ! F MOE=1:1:80 W "="
"RTN","SROAPCA",43,0)
 W !,"II. CLINICAL DATA"
"RTN","SROAPCA",44,0)
 W !,"Gender:",?26,$P(SRAO(2),"^"),?40,"Age:",?75,SRAO(3)
"RTN","SROAPCA",45,0)
 W !,"Height:",?26,$P(SRAO(4),"^"),?40,"Prior MI: ",$E($P(SRAO(17),"^"),1,25)
"RTN","SROAPCA",46,0)
 W !,"Weight:",?26,$P(SRAO(5),"^"),?40,"Number of prior heart surgeries:",?75,$P(SRAO(18),"^")
"RTN","SROAPCA",47,0)
 W !,"Diabetes - Long Term:",?26,$P(SRAO(6),"^"),?40,"Prior heart surgery: " D H485
"RTN","SROAPCA",48,0)
 W !,"Diabetes - 2 Wks Preop:",?26,$P(SRAO(31),"^"),?40,"PAD:",?(79-$L($P(SRAO(19),"^"))),$P(SRAO(19),"^")
"RTN","SROAPCA",49,0)
 W !,"COPD:",?26,$P(SRAO(7),"^"),?40,"CVD Repair/Obstruct:",?(79-$L($P(SRAO(20),"^"))),$P(SRAO(20),"^")
"RTN","SROAPCA",50,0)
 W !,"FEV1:",?26,$P(SRAO(8),"^")_$S($P(SRAO(8),"^")="":"",$P(SRAO(8),"^")="NS":"",1:" liters"),?40,"History of CVD:",?(79-$L($P(SRAO(21),"^"))),$P(SRAO(21),"^")
"RTN","SROAPCA",51,0)
 W !,"Cardiomegaly (X-ray): ",?26,$P(SRAO(9),"^"),?40,"Angina Severity: ",?(79-$L($P(SRAO(22),"^"))),$P(SRAO(22),"^")
"RTN","SROAPCA",52,0)
 W !,?40,"Angina Timeframe: ",$P(SRAO("22A"),"^")
"RTN","SROAPCA",53,0)
 W !,"Pulmonary Rales:",?26,$P(SRAO(10),"^"),?40,"Congestive Heart Failure:",?75,$P(SRAO(23),"^")
"RTN","SROAPCA",54,0)
 W !,"Tobacco Use: ",$J($P(SRAO(11),"^"),24),?40,"Current Diuretic Use:",?75,$P(SRAO(24),"^")
"RTN","SROAPCA",55,0)
 w !,"Tobacco Use Timeframe: ",$J($P(SRAO(12),"^"),14),?40,"Current Digoxin Use:",?75,$P(SRAO(25),"^")
"RTN","SROAPCA",56,0)
 W !,"Positive Drug Screening: ",?26,$P(SRAO(13),"^"),?40,"IV NTG 48 Hours Preceding Surgery:",?75,$P(SRAO(26),"^")
"RTN","SROAPCA",57,0)
 W !,"Active Endocarditis:",?26,$P(SRAO(29),"^"),?40,"Preop Circulatory Device:",?74,$P(SRAO(27),"^")
"RTN","SROAPCA",58,0)
 W !,"Resting ST Depression:",?26,$P(SRAO(14),"^"),?40,"Hypertension: ",$J($P(SRAO(28),"^"),26)
"RTN","SROAPCA",59,0)
 W !,"Functional Status: ",$J($P(SRAO(15),"^"),18),?40,"Preoperative Atrial Fibrillation:",?75,$P(SRAO(30),"^")
"RTN","SROAPCA",60,0)
 W !,"PCI:",?((18-$L($P(SRAO(16),"^"))\2)+19),$P(SRAO(16),"^")
"RTN","SROAPCA",61,0)
 W !,"Preop Sleep Apnea:",?26,$P(SRAO(32),"^")
"RTN","SROAPCA",62,0)
 K SRA,SRAO D ^SROAPCA1
"RTN","SROAPCA",63,0)
 Q
"RTN","SROAPCA",64,0)
YN ; store answer
"RTN","SROAPCA",65,0)
 S SHEMP=$S(NYUK="NS":"NS",NYUK="NA":"N/A",NYUK="N":"NO",NYUK="Y":"YES",1:"")
"RTN","SROAPCA",66,0)
 Q
"RTN","SROAPCA",67,0)
PAGE I $E(IOST)'="P" W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROAPCA",68,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROAPCA",69,0)
 W @IOF,!,SRANM,! F MOE=1:1:80 W "="
"RTN","SROAPCA",70,0)
 Q
"RTN","SROAPCA",71,0)
H485 S SHEMP="",X=$P(SRA(206),"^",42) F I=1:1:$L(X,",") D
"RTN","SROAPCA",72,0)
 .S C=$P(X,",",I) S:I>1 SHEMP=SHEMP_", " S SHEMP=SHEMP_$S(C=0:"NONE",C=1:"CABG-ONLY",C=2:"VALVE-ONLY",C=3:"CABG/VALVE",C=4:"OTHER",C=5:"CABG/OTHER",C=6:"UNKNOWN",1:"")
"RTN","SROAPCA",73,0)
 S X=SHEMP I $L(X)<17 W $J(X,16) Q
"RTN","SROAPCA",74,0)
 W $J($P(X,",")_",",16) I $L($P(X,", ",2,9))<40 W !,?41,$P(X,", ",2,9) Q
"RTN","SROAPCA",75,0)
 W !,?41,$P(X,", ",2,4)_",",!,?41,$P(X,", ",5,9)
"RTN","SROAPCA",76,0)
 Q
"RTN","SROAPCA2")
0^78^B2234169^B19031580
"RTN","SROAPCA2",1,0)
SROAPCA2 ;BIR/MAM - PRINT OPERATIVE DATA ;06/28/06
"RTN","SROAPCA2",2,0)
 ;;3.0;Surgery;**38,71,95,125,153,174,175,182**;24 Jun 93;Build 49
"RTN","SROAPCA2",3,0)
 S SRA(206)=$G(^SRF(SRTN,206)),SRA(207)=$G(^SRF(SRTN,207)),SRA(209)=$G(^SRF(SRTN,209)),SRA(207.1)=$G(^SRF(SRTN,207.1))
"RTN","SROAPCA2",4,0)
 S SRAO(24)=$P(SRA(206),"^",37)_"^451"
"RTN","SROAPCA2",5,0)
 S SRAO(25)=$P(SRA(206),"^",36)_"^450"
"RTN","SROAPCA2",6,0)
 S Y=$P(SRA(207),"^",26),C=$P(^DD(130,468,0),"^",2) D:Y'="" Y^DIQ S SRAO(26)=Y_"^468"
"RTN","SROAPCA2",7,0)
 S Y=$P(SRA(207),"^",27),C=$P(^DD(130,469,0),"^",2) D:Y'="" Y^DIQ S SRAO(27)=Y_"^469"
"RTN","SROAPCA2",8,0)
 S NYUK=$P(SRA(209),"^",13) D YN S SRAO(29)=SHEMP_"^502"
"RTN","SROAPCA2",9,0)
 W !!,"VI. OPERATIVE DATA"
"RTN","SROAPCA2",10,0)
 W !!,"Operative Data details:"
"RTN","SROAPCA2",11,0)
 W !,"Total CPB Time: ",?20,$P(SRAO(24),"^")_" min",?42,"Total Ischemic Time: ",$P(SRAO(25),"^")_" min"
"RTN","SROAPCA2",12,0)
 W !,"Incision Type: ",?25,$P(SRAO(26),"^")
"RTN","SROAPCA2",13,0)
 W !,"Conversion Off Pump to CPB: ",$P(SRAO(27),"^")
"RTN","SROAPCA2",14,0)
 I $Y+6>IOSL D PAGE^SROAPCA I SRSOUT Q
"RTN","SROAPCA2",15,0)
 K SRA,SRAO D ^SROAPCA3
"RTN","SROAPCA2",16,0)
 Q
"RTN","SROAPCA2",17,0)
YN ; store answer
"RTN","SROAPCA2",18,0)
 S SHEMP=$S(NYUK="NS":"NS",NYUK="N":"NO",NYUK="Y":"YES",1:"")
"RTN","SROAPCA2",19,0)
 Q
"RTN","SROAPCA3")
0^31^B24717605^B26346165
"RTN","SROAPCA3",1,0)
SROAPCA3 ;BIR/MAM - CARDIAC OCCURRENCE DATA ;09/28/2011
"RTN","SROAPCA3",2,0)
 ;;3.0;Surgery;**38,71,95,101,125,160,164,166,174,175,176,182**;24 Jun 93;Build 49
"RTN","SROAPCA3",3,0)
 D EN^SROCCAT K SRA S SRA(205)=$G(^SRF(SRTN,205)),SRA(208)=$G(^SRF(SRTN,208)),SRA(206)=$G(^SRF(SRTN,206)),SRA(209)=$G(^SRF(SRTN,209))
"RTN","SROAPCA3",4,0)
 S Y=$P($G(^DPT(DFN,.35)),"^") D DT^SROAPCA1 S SRAO(2)=X
"RTN","SROAPCA3",5,0)
 S NYUK=$P(SRA(205),"^",27) D YN S SRAO(3)=SHEMP_"^258",NYUK=$P(SRA(208),"^",3) D YN S SRAO(4)=SHEMP_"^386",NYUK=$P(SRA(205),"^",17) D YN S SRAO(5)=SHEMP_"^254",NYUK=$P(SRA(205),"^",43) D YN S SRAO(6)=SHEMP_"^645"
"RTN","SROAPCA3",6,0)
 S NYUK=$P(SRA(208),"^",5) D YN S SRAO(7)=SHEMP_"^388",NYUK=$P(SRA(208),"^",6) D YN S SRAO(8)=SHEMP_"^389",NYUK=$P(SRA(205),"^",13) D YN S SRAO(9)=SHEMP_"^285"
"RTN","SROAPCA3",7,0)
 S NYUK=$P(SRA(208),"^",7) D YN S SRAO(10)=SHEMP_"^391",NYUK=$P(SRA(205),"^",22) D YN S SRAO(11)=SHEMP_"^410"
"RTN","SROAPCA3",8,0)
 S NYUK=$P(SRA(205),"^",21) D YN S SRAO(12)=SHEMP_"^256" D DUR
"RTN","SROAPCA3",9,0)
 S NYUK=$P(SRA(205),"^",26) D YN S SRAO(13)=SHEMP_"^411"
"RTN","SROAPCA3",10,0)
 S NYUK=$P(SRA(206),"^",39) D YN S SRAO(14)=SHEMP_"^466"
"RTN","SROAPCA3",11,0)
 S NYUK=$P(SRA(206),"^",40) D YN S SRAO(15)=SHEMP_"^467",NYUK=$P(SRA(205),"^",6) D YN S SRAO(18)=SHEMP_"^248"
"RTN","SROAPCA3",12,0)
 S NYUK=$P(SRA(205),"^",40) D YN S SRAO(16)=SHEMP_"^448",NYUK=$P(SRA(205),"^",8) D YN S SRAO(17)=SHEMP_"^404"
"RTN","SROAPCA3",13,0)
 I $Y+5>IOSL D PAGE^SROAPCA I SRSOUT Q
"RTN","SROAPCA3",14,0)
 W !!,"VII. OUTCOMES"
"RTN","SROAPCA3",15,0)
 W !,"Date of Death:",?58,$P(SRAO(2),"^")
"RTN","SROAPCA3",16,0)
 W !!,"Perioperative (30 day) Occurrences:"
"RTN","SROAPCA3",17,0)
 W !,?2,"Myocardial Infarction:",?35,$P(SRAO(3),"^"),?41,"Tracheostomy:",?75,$P(SRAO(14),"^")
"RTN","SROAPCA3",18,0)
 W !,?2,"Endocarditis:",?35,$P(SRAO(4),"^"),?41,"Mechanical Vent within 30 Days:",?75,$P(SRAO(6),"^")
"RTN","SROAPCA3",19,0)
 W !,?2,"Superficial Incisional SSI:",?35,$P(SRAO(18),"^"),?41,"Stroke/CVA:",?68,$J($P(SRAO(12),"^"),11)
"RTN","SROAPCA3",20,0)
 W !,?2,"Mediastinitis:",?35,$P(SRAO(7),"^"),?41,"Coma > or = 24 Hours:",?75,$P(SRAO(11),"^")
"RTN","SROAPCA3",21,0)
 W !,?2,"Cardiac Arrest Requiring CPR:",?35,$P(SRAO(13),"^"),?41,"New Mech Circulatory Support:",?75,$P(SRAO(15),"^")
"RTN","SROAPCA3",22,0)
 W !,?2,"Reoperation for Bleeding:",?35,$P(SRAO(8),"^"),?41,"Postop Atrial Fibrillation:",?75,$P(SRAO(16),"^")
"RTN","SROAPCA3",23,0)
 W !,?2,"On ventilator > or = 48 hr:",?35,$P(SRAO(9),"^"),?41,"Wound Disruption:",?75,$P(SRAO(17),"^")
"RTN","SROAPCA3",24,0)
 W !,?2,"Repeat cardiac Surg procedure:",?35,$P(SRAO(10),"^"),?41,"Renal Failure Requiring Dialysis:",?75,$P(SRAO(5),"^")
"RTN","SROAPCA3",25,0)
 D RES
"RTN","SROAPCA3",26,0)
 Q
"RTN","SROAPCA3",27,0)
DUR ; get stroke/cva duration
"RTN","SROAPCA3",28,0)
 N SROCC,SRDUR I $P(SRAO(12),"^")="NO" S X=1
"RTN","SROAPCA3",29,0)
 I X'=1 S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=12 S X=$P(^SRF(SRTN,16,SROCC,0),"^",8)
"RTN","SROAPCA3",30,0)
 S SRDUR=$S(X=2:"<24 HOURS",X=3:"24-72 HOURS",X=4:">72 HOURS",1:"NO SYMPTOMS")
"RTN","SROAPCA3",31,0)
 S SRAO(12)=SRDUR_"^256"
"RTN","SROAPCA3",32,0)
 Q
"RTN","SROAPCA3",33,0)
YN ; store answer
"RTN","SROAPCA3",34,0)
 S SHEMP=$S(NYUK="NS":"NS",NYUK="N":"NO",NYUK="Y":"YES",1:"")
"RTN","SROAPCA3",35,0)
 Q
"RTN","SROAPCA3",36,0)
 ;
"RTN","SROAPCA3",37,0)
RES I $Y+12>IOSL D PAGE^SROAPCA I SRSOUT Q
"RTN","SROAPCA3",38,0)
 S SRA(208)=$G(^SRF(SRTN,208))
"RTN","SROAPCA3",39,0)
 S SRA(.2)=$G(^SRF(SRTN,.2))
"RTN","SROAPCA3",40,0)
 W !!,"VIII. RESOURCE DATA"
"RTN","SROAPCA3",41,0)
 S Y=$P(SRA(208),"^",14) D DT^SROAPCA1 W !,"Hospital Admission Date:",?25,X
"RTN","SROAPCA3",42,0)
 S Y=$P(SRA(208),"^",15) D DT^SROAPCA1 W !,"Hospital Discharge Date:",?25,X
"RTN","SROAPCA3",43,0)
 S Y=$P(SRA(.2),"^",10) D DT^SROAPCA1 W !,"Time Patient In  OR: ",?25,X
"RTN","SROAPCA3",44,0)
 S Y=$P(SRA(.2),"^",2) D DT^SROAPCA1 W ?45,"Operation Began: "_X
"RTN","SROAPCA3",45,0)
 S Y=$P(SRA(.2),"^",3) D DT^SROAPCA1 W !,"Operation Ended: ",?25,X
"RTN","SROAPCA3",46,0)
 S Y=$P(SRA(.2),"^",12) D DT^SROAPCA1 W ?45,"Time Patient Out OR: ",X
"RTN","SROAPCA3",47,0)
 S Y=$P(SRA(208),"^",22) I Y>1 D DT^SROAPCA1 S Y=X
"RTN","SROAPCA3",48,0)
 S Y=$S(Y="NS":"Unable to determine",Y="RI":"Remains intubated at 30 days",1:Y) W !,"Date and Time Patient Extubated: ",?47,Y
"RTN","SROAPCA3",49,0)
 I $P(SRA(208),"^",22)>1,$P(SRA(.2),"^",12) D
"RTN","SROAPCA3",50,0)
 .S X=$$FMDIFF^XLFDT($P(SRA(208),"^",22),$P(SRA(.2),"^",12),2) W !,?5,"Postop Intubation Hrs: "_$FN((X/3600),"+",1)
"RTN","SROAPCA3",51,0)
 S Y=$P(SRA(208),"^",23) I Y>1 D DT^SROAPCA1 S Y=X
"RTN","SROAPCA3",52,0)
 S Y=$S(Y="NS":"Unable to determine",Y="RI":"Remains in ICU at 30 days",1:Y) W !,"Date and Time Patient Discharged from ICU: ",?47,Y
"RTN","SROAPCA3",53,0)
 S Y=$P(SRA(209),"^") W !,"Patient is Homeless: ",?47,$S(Y="Y":"YES",Y="N":"NO",Y="NS":"NS",1:"")
"RTN","SROAPCA3",54,0)
 W !,"Resource Data Comments: "
"RTN","SROAPCA3",55,0)
 I $G(^SRF(SRTN,206.2))'="" S SRQ=0 S X=$G(^SRF(SRTN,206.2)) W:$L(X)<49 X,! I $L(X)>48 S Z=$L(X) D
"RTN","SROAPCA3",56,0)
 .I X'[" " W ?25,X Q
"RTN","SROAPCA3",57,0)
 .S I=0,LINE=1 F  S SRL=$S(LINE=1:48,1:74) D  Q:SRQ
"RTN","SROAPCA3",58,0)
 ..I $E(X,1,SRL)'[" " W X,! S SRQ=1 Q
"RTN","SROAPCA3",59,0)
 ..S J=SRL-I,Y=$E(X,J),I=I+1 I Y=" " W $E(X,1,J-1),!,?5 S X=$E(X,J+1,Z),Z=$L(X),I=0,LINE=LINE+1 I Z<SRL W X S SRQ=1 Q
"RTN","SROAPCA3",60,0)
 I $Y+7>IOSL D PAGE^SROAPCA I SRSOUT Q
"RTN","SROAPCA3",61,0)
 W ! F MOE=1:1:80 W "="
"RTN","SROAPCA3",62,0)
 W !,"IX. SOCIOECONOMIC, ETHNICITY, AND RACE"
"RTN","SROAPCA3",63,0)
 N SREMP S SREMP=$P(SRA(208),"^",18) S SREMP=$S(SREMP=1:"EMPLOYED FULL TIME",SREMP=2:"EMPLOYED PART TIME",SREMP=3:"NOT EMPLOYED",SREMP=4:"SELF EMPLOYED",SREMP=5:"RETIRED",SREMP=6:"ACTIVE MILITARY DUTY",SREMP=9:"UNKNOWN",1:" ")
"RTN","SROAPCA3",64,0)
 W !,?1,"Employment Status Preoperatively: ",?40,SREMP
"RTN","SROAPCA3",65,0)
 K SRA,SRAO
"RTN","SROAPCA3",66,0)
 ; Race/Ethnic
"RTN","SROAPCA3",67,0)
 D ENTH^SRORACE
"RTN","SROAPCA3",68,0)
 I $Y+7>IOSL D PAGE^SROAPCA I SRSOUT Q
"RTN","SROAPCA3",69,0)
 D ^SROAPCA4
"RTN","SROAPCA3",70,0)
 W !!," *** End of report for "_SRANM_" assessment #"_SRTN_" ***"
"RTN","SROAPCA3",71,0)
 I $E(IOST)'="P" W ! K DIR S DIR(0)="E" D ^DIR K DIR
"RTN","SROAPCA3",72,0)
 Q
"RTN","SROAPIMS")
0^119^B27575340^B27220554
"RTN","SROAPIMS",1,0)
SROAPIMS ;BIR/ADM - PIMS Information Retrieval ;01/24/07
"RTN","SROAPIMS",2,0)
 ;;3.0;Surgery;**38,46,47,57,71,81,86,100,125,134,160,175,182**;24 Jun 93;Build 49
"RTN","SROAPIMS",3,0)
 ;
"RTN","SROAPIMS",4,0)
 ; Reference to ^MCAR(690,"AC" supported by DBIA #80
"RTN","SROAPIMS",5,0)
 ; Reference to ^DGPM("APTT1" supported by DBIA #565
"RTN","SROAPIMS",6,0)
 ;
"RTN","SROAPIMS",7,0)
 ; SRTN must be defined before calling this routine.
"RTN","SROAPIMS",8,0)
 ; This routine will return the following array
"RTN","SROAPIMS",9,0)
 ; SRVADPT(1)  = Name of the patient (e.g., SMITH,JOHN R.)
"RTN","SROAPIMS",10,0)
 ; SRVADPT(2)  = Patient ID (e.g., 123-45-6789)
"RTN","SROAPIMS",11,0)
 ; SRVADPT(3)  = Age of patient on date of operation (e.g., 36)
"RTN","SROAPIMS",12,0)
 ; SRVADPT(4)  = Sex of patient (e.g., M^MALE)
"RTN","SROAPIMS",13,0)
 ; SRVADPT(5)  = Race of patient (e.g., 6^WHITE, NOT OF HISPANIC ORIGIN)
"RTN","SROAPIMS",14,0)
 ; SRVADPT(6)  = Date of death
"RTN","SROAPIMS",15,0)
 ; SRVADPT(7)  = Hospital admission date
"RTN","SROAPIMS",16,0)
 ; SRVADPT(8)  = Hospital discharge date
"RTN","SROAPIMS",17,0)
 ; SRVADPT(9)  = Admission/transfer to surgical specialty
"RTN","SROAPIMS",18,0)
 ; SRVADPT(10) = Discharge/tranfer to chronic care
"RTN","SROAPIMS",19,0)
 ; SRVADPT(11) = Length of Post-Operative Hospital Stay (number of days)
"RTN","SROAPIMS",20,0)
 ; SRVADPT(12) = Admission to Observation
"RTN","SROAPIMS",21,0)
 ; SRVADPT(13) = Discharge from Observation
"RTN","SROAPIMS",22,0)
 ; SRVADPT(14) = Observation Specialty (PTF #)
"RTN","SROAPIMS",23,0)
 ; SRVADPT(15) = Bad Address Indicator
"RTN","SROAPIMS",24,0)
 ;
"RTN","SROAPIMS",25,0)
 N SR,SRCC,SRDT,SRNON,SRSRV S SR(0)=^SRF(SRTN,0),DFN=$P(SR(0),"^") F I=1:1:15 S SRVADPT(I)=""
"RTN","SROAPIMS",26,0)
 D DEM^VADPT S SRVADPT(1)=VADM(1),SRVADPT(2)=VA("PID"),SRVADPT(4)=VADM(5),SRVADPT(6)=VADM(6) S Y=$E($P(SR(0),"^",9),1,7),Z=$P(VADM(3),"^") S SRVADPT(3)=$E(Y,1,3)-$E(Z,1,3)-($E(Y,4,7)<$E(Z,4,7))
"RTN","SROAPIMS",27,0)
 S SRX=$P(VADM(8),"^") I SRX K DA,DIC,DIQ,DR,SRY S DIC=10,DR=2,DA=SRX,DIQ="SRY",DIQ(0)="I" D EN^DIQ1 S SRVADPT(5)=SRY(10,SRX,2,"I")_"^"_$P(VADM(8),"^",2)
"RTN","SROAPIMS",28,0)
 S SRVADPT(15)=$$BADADR^DGUTL3(DFN),$P(^SRF(SRTN,209),"^")=$S(SRVADPT(15):"Y",1:"N")
"RTN","SROAPIMS",29,0)
ADM ; find date(s) of admission and discharge
"RTN","SROAPIMS",30,0)
 N SRSOUT S SRSOUT=0,(VAIP("D"),SRSDATE)=$P(SR(0),"^",9) D IN5^VADPT
"RTN","SROAPIMS",31,0)
 ; if not admitted before surgery, look for admission within 24 hours of leaving OR
"RTN","SROAPIMS",32,0)
 I 'VAIP(13) S X1=$P($G(^SRF(SRTN,.2)),"^",12),X2=1 D C^%DTC S SR24=X,SRDT=$O(^DGPM("APTT1",DFN,SRSDATE)) G:'SRDT!(SRDT>SR24) END S VAIP("D")=SRDT D IN5^VADPT I 'VAIP(13) G END
"RTN","SROAPIMS",33,0)
 I VAIP(13) D ADM1 G:SRSOUT END
"RTN","SROAPIMS",34,0)
ADSS ; find date of admission/transfer to surgical service
"RTN","SROAPIMS",35,0)
 S SRSERV="" I VAIP(1) S SRX=$P(VAIP(8),"^") D SERV G:'SRSRV DISSS S:$P(VAIP(2),"^")=1 SRVADPT(9)=$E($P(VAIP(3),"^"),1,12) I $P(VAIP(2),"^")'=1 S SRSERV=$P(VAIP(3),"^")
"RTN","SROAPIMS",36,0)
 I VAIP(15) D PRIOR
"RTN","SROAPIMS",37,0)
DISSS ; find date of discharge/transfer to chronic care
"RTN","SROAPIMS",38,0)
 S SRNON=0,SRCC="",VAIP("D")=SRSAVE D IN5^VADPT
"RTN","SROAPIMS",39,0)
FOLLOW I VAIP(16) D  I 'SRNON S SRCC=VAIP(16,1),VAIP("D")=$P(SRCC,"^") D IN5^VADPT G FOLLOW
"RTN","SROAPIMS",40,0)
 .I $P(VAIP(16,2),"^")=3 S SRNON=1 Q
"RTN","SROAPIMS",41,0)
 .I "26"[$P(VAIP(16,2),"^") S SRX=$P(VAIP(16,6),"^") D NACUTE
"RTN","SROAPIMS",42,0)
 S SRVADPT(10)=SRVADPT(8) I SRNON S SRVADPT(10)=$E($P(VAIP(16,1),"^"),1,12)
"RTN","SROAPIMS",43,0)
STAY ; find length of post-operative hospital stay
"RTN","SROAPIMS",44,0)
 S X=$P($G(^SRF(SRTN,.2)),"^",3),X1=$P(SRVADPT(10),"^") I 'X!('X1)!(X>X1) G END
"RTN","SROAPIMS",45,0)
 S Y=$E(X1_"000",9,10)-$E(X_"000",9,10)*60+$E(X1_"00000",11,12)-$E(X_"00000",11,12),X2=X,X=$P(X,".",1)'=$P(X1,".",1) D ^%DTC:X S X=X*1440+Y,SRVADPT(11)=X\1440
"RTN","SROAPIMS",46,0)
END S $P(^SRF(SRTN,208),"^",10)=$P(SRVADPT(5),"^"),SRINOUT=$P(^SRF(SRTN,0),"^",12) I SRVADPT(7)'="",SRVADPT(9)="" S SRVADPT(9)=$P($G(^SRF(SRTN,.2)),"^",10)
"RTN","SROAPIMS",47,0)
 F I=7:1:10,12,13 S X=$P(SRVADPT(I),"^") I $L(X)>7 S $P(SRVADPT(I),"^")=+X
"RTN","SROAPIMS",48,0)
 I SRVADPT(7)'="" S $P(^SRF(SRTN,205),"^")=SRVADPT(11),L=6 F J=14:1:17 S L=L+1,$P(^SRF(SRTN,208),"^",J)=$P(SRVADPT(L),"^")
"RTN","SROAPIMS",49,0)
 I SRVADPT(7)="" S $P(^SRF(SRTN,205),"^")=$S(SRINOUT="O"!(SRINOUT=1):"NA",1:SRVADPT(11)) S L=6 F J=14:1:17 S L=L+1 S $P(^SRF(SRTN,208),"^",J)=$S(SRINOUT="O"!(SRINOUT=1):"NA",1:$P(SRVADPT(L),"^"))
"RTN","SROAPIMS",50,0)
 I SRVADPT(12)="" F J=1:1:3 S $P(^SRF(SRTN,208.1),"^",J)="NA"
"RTN","SROAPIMS",51,0)
 S $P(^SRF(SRTN,205),"^",3)=$S($P(SRVADPT(6),"^")'="":$E($P(SRVADPT(6),"^"),1,12),1:"NA")
"RTN","SROAPIMS",52,0)
 S $P(^SRF(SRTN,205),"^",41)=$S($P(SRVADPT(6),"^")="":"N",$$FMDIFF^XLFDT($P(SRVADPT(6),"^"),$P(^SRF(SRTN,.2),"^",3))>30:"N",1:"Y")
"RTN","SROAPIMS",53,0)
 D MCAR,EMPLOY
"RTN","SROAPIMS",54,0)
 D KVA^VADPT K DIE,DR,I,SR,SR24,SR48,SRCC,SRD,SRDD,SRDO,SRDT,SRF,SRINOUT,SRNON,SRSP,SRSRV,SRQ,SRX,SRY,X,X1,Y
"RTN","SROAPIMS",55,0)
 Q
"RTN","SROAPIMS",56,0)
PRIOR ; loop through previous movements
"RTN","SROAPIMS",57,0)
 S SRX=$P(VAIP(15,6),"^") D SERV D  I SRSRV,VAIP(15) G PRIOR
"RTN","SROAPIMS",58,0)
 .I SRSRV S SRSERV=VAIP(15,1),VAIP("D")=$P(SRSERV,"^") D IN5^VADPT Q
"RTN","SROAPIMS",59,0)
 S SRVADPT(9)=$E($P(SRSERV,"^"),1,12)
"RTN","SROAPIMS",60,0)
 Q
"RTN","SROAPIMS",61,0)
SERV ; find service associated with movement
"RTN","SROAPIMS",62,0)
 S SRSRV="" D SPEC S Y="50,51,52,53,54,55,56,57,58,59,60,61,62,63" S:Y[SRSP SRSRV=1
"RTN","SROAPIMS",63,0)
 Q
"RTN","SROAPIMS",64,0)
SPEC ; find specialty associated with movement
"RTN","SROAPIMS",65,0)
 K DA,DIC,DIQ,DR,SRY S DIC=45.7,DR=1,DA=SRX,DIQ="SRY",DIQ(0)="I" D EN^DIQ1 S SRSP=SRY(45.7,SRX,1,"I") I SRSP,$L(SRSP)=1 S SRSP="0"_SRSP
"RTN","SROAPIMS",66,0)
 Q
"RTN","SROAPIMS",67,0)
NACUTE ; determine if non-acute care transfer
"RTN","SROAPIMS",68,0)
 D SPEC S Y="05,20,21,22,25,26,27,28,29,32,33,34,35,40,70,71,72,73,74,75,76,77,79,80,81,83,84,85,86,87,88,89,90,91,92,93,98,99" S:Y[SRSP SRNON=1
"RTN","SROAPIMS",69,0)
 Q
"RTN","SROAPIMS",70,0)
MCAR S (SRD,SRF,SRQ)=0,DFN=$P(^SRF(SRTN,0),"^"),SRDO=$P(^SRF(SRTN,0),"^",9)
"RTN","SROAPIMS",71,0)
 F  S SRD=$O(^MCAR(690,"AC",DFN,SRD)) Q:SRD=""!(SRQ=9)  S SRF=0 F  S SRF=$O(^MCAR(690,"AC",DFN,SRD,SRF)) Q:SRF=""!(SRQ=9)  I SRF="MCAR(691.1" D
"RTN","SROAPIMS",72,0)
 .S SRDD=9999999.9999-SRD
"RTN","SROAPIMS",73,0)
 .I SRDD<SRDO S $P(^SRF(SRTN,207),"^",21)=SRDD,SRQ=9
"RTN","SROAPIMS",74,0)
 Q
"RTN","SROAPIMS",75,0)
EMPLOY ; employment status preoperatively
"RTN","SROAPIMS",76,0)
 S DFN=$P(^SRF(SRTN,0),"^") D OPD^VADPT S $P(^SRF(SRTN,208),"^",18)=$P(VAPD(7),"^")
"RTN","SROAPIMS",77,0)
 Q
"RTN","SROAPIMS",78,0)
ADM1 ; get information related to admission
"RTN","SROAPIMS",79,0)
 ; determine if admission was for observation
"RTN","SROAPIMS",80,0)
 ; quit if no specialty defined for admission
"RTN","SROAPIMS",81,0)
 S SRX=$P($G(VAIP(13,6)),"^") I SRX="" S SRSOUT=1 Q
"RTN","SROAPIMS",82,0)
 D SPEC S Y="18,23,24,36,41,65,94" I Y[SRSP D  Q:SRSOUT
"RTN","SROAPIMS",83,0)
 .S SRVADPT(14)=SRSP,SRVADPT(12)=$E($P(VAIP(13,1),"^"),1,12),SRVADPT(13)=$E($P(VAIP(17,1),"^"),1,12)
"RTN","SROAPIMS",84,0)
 .S I=1 F J=12:1:14 S $P(^SRF(SRTN,208.1),"^",I)=SRVADPT(J),I=I+1
"RTN","SROAPIMS",85,0)
 .; look for admission following discharge from observation
"RTN","SROAPIMS",86,0)
 .S X1=$P($G(^SRF(SRTN,.2)),"^",12),X2=2 D C^%DTC S SR48=X,SRDT=$O(^DGPM("APTT1",DFN,$P(VAIP(13,1),"^"))) I 'SRDT!(SRDT>SR48) S SRSOUT=1 Q
"RTN","SROAPIMS",87,0)
 .S VAIP("D")=SRDT D IN5^VADPT I 'VAIP(13) S SRSOUT=1
"RTN","SROAPIMS",88,0)
 S SRVADPT(7)=$E($P(VAIP(13,1),"^"),1,12),SRVADPT(8)=$E($P(VAIP(17,1),"^"),1,12),SRSAVE=$S(SRVADPT(7)<SRSDATE:SRSDATE,1:$P(VAIP(13,1),"^"))
"RTN","SROAPM")
0^88^B45069143^B44996096
"RTN","SROAPM",1,0)
SROAPM ;BIR/ADM - PATIENT DEMOGRAPHIC INFO ;05/28/10
"RTN","SROAPM",2,0)
 ;;3.0;Surgery;**47,81,111,107,100,125,142,160,166,174,175,182**;24 Jun 93;Build 49
"RTN","SROAPM",3,0)
 I '$D(SRTN) W !!,"A Surgery Risk Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SROAPM",4,0)
 S SRSOUT=0,SRSUPCPT=1 D ^SROAUTL
"RTN","SROAPM",5,0)
START G:SRSOUT END D HDR^SROAUTL
"RTN","SROAPM",6,0)
 S DIR("A",1)="Enter/Edit Patient Demographic Information",DIR("A",2)=" ",DIR("A",3)="1. Capture Information from PIMS Records",DIR("A",4)="2. Enter, Edit, or Review Information",DIR("A",5)=" "
"RTN","SROAPM",7,0)
 S DIR("?",1)="Enter '1' if you want to capture patient movement information from PIMS",DIR("?",2)="records.  Enter '2' if you want to enter, edit, or review patient",DIR("?")="movement and other information on this screen."
"RTN","SROAPM",8,0)
 S DIR("A")="Select Number",DIR(0)="NO^1:2" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT)!'Y S SRSOUT=1 G END
"RTN","SROAPM",9,0)
 I Y=1 D PIMS G START
"RTN","SROAPM",10,0)
EDIT S SRR=0 D HDR^SROAUTL K DR S SRQ=0,(DR,SRDR)="413;452;453;454;418;419;420;421;247;.011"
"RTN","SROAPM",11,0)
 K DA,DIC,DIQ,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SROAPM",12,0)
 K SRZ S SRZ=0 F M=1:1 S I=$P(SRDR,";",M)  Q:'I  D
"RTN","SROAPM",13,0)
 .D TR,GET
"RTN","SROAPM",14,0)
 .S SRZ=SRZ+1,Y=$P(X,";;",2),SRFLD=$P(Y,"^"),(Z,SRZ(SRZ))=$P(Y,"^",2)_"^"_SRFLD,SREXT=SRY(130,SRTN,SRFLD,"E")
"RTN","SROAPM",15,0)
 .W !,$S($L(SRZ)<2:" "_SRZ,1:SRZ)_". "_$P(Z,"^")_":" D EXT
"RTN","SROAPM",16,0)
 ;
"RTN","SROAPM",17,0)
 D DEM^VADPT
"RTN","SROAPM",18,0)
 ;Find patient's ethnicity and list it on the display
"RTN","SROAPM",19,0)
 W !,"11. Patient's Ethnicity:" S SRZ(11)="" D
"RTN","SROAPM",20,0)
 .I $G(VADM(11)) W ?40,$P(VADM(11,1),U,2)
"RTN","SROAPM",21,0)
 .I '$G(VADM(11)) W ?40,"UNANSWERED"
"RTN","SROAPM",22,0)
 ;
"RTN","SROAPM",23,0)
 ;Find all race entries and place into a string with commas inbetween
"RTN","SROAPM",24,0)
 S SRORC=0,C=1,SRORACE="",SROLINE="",N=1,SROL=""
"RTN","SROAPM",25,0)
 F  S SRORC=$O(VADM(12,SRORC)) Q:SRORC=""  Q:C=11  D
"RTN","SROAPM",26,0)
 .I $G(VADM(12,SRORC)) S SRORACE(C)=$P(VADM(12,SRORC),U,2)
"RTN","SROAPM",27,0)
 .I SROLINE'="" S SROLINE=SROLINE_", "_SRORACE(C)
"RTN","SROAPM",28,0)
 .I SROLINE="" S SROLINE=SRORACE(C)
"RTN","SROAPM",29,0)
 .S C=C+1
"RTN","SROAPM",30,0)
 ;
"RTN","SROAPM",31,0)
 ;Find total length of 'race' string and wrap the text if necessary
"RTN","SROAPM",32,0)
 I $L(SROLINE)=40!$L(SROLINE)<40 S SROL(N)=SROLINE,SRNUM1=2
"RTN","SROAPM",33,0)
 I $L(SROLINE)>40 D WRAP
"RTN","SROAPM",34,0)
 ;
"RTN","SROAPM",35,0)
 W !,"12. Patient's Race:" S SRZ(12)=""
"RTN","SROAPM",36,0)
 I $G(VADM(12)) F D=1:1:SRNUM1-1 D
"RTN","SROAPM",37,0)
 .W:D=1 ?40,SROL(D)
"RTN","SROAPM",38,0)
 .W:D'=1 !,?40,SROL(D)
"RTN","SROAPM",39,0)
 ;
"RTN","SROAPM",40,0)
 I '$G(VADM(12)) W ?40,"UNANSWERED"
"RTN","SROAPM",41,0)
 ;
"RTN","SROAPM",42,0)
 K DA,DIC,DIQ,DR,SRY S (DR,SRDR)="342;342.1",DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="E",DR=SRDR D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SROAPM",43,0)
 S SRZ=12 F M=1:1 S I=$P(SRDR,";",M)  Q:'I  D
"RTN","SROAPM",44,0)
 .D TR,GET
"RTN","SROAPM",45,0)
 .S SRZ=SRZ+1,Y=$P(X,";;",2),SRFLD=$P(Y,"^"),(Z,SRZ(SRZ))=$P(Y,"^",2)_"^"_SRFLD,SREXT=SRY(130,SRTN,SRFLD,"E")
"RTN","SROAPM",46,0)
 .W !,$S($L(SRZ)<2:" "_SRZ,1:SRZ)_". "_$P(Z,"^")_":" D EXT
"RTN","SROAPM",47,0)
 K SROL,SROLINE,SRORC,SRORACE,SROLN,SROLN1,SROWRAP,SRNUM1
"RTN","SROAPM",48,0)
 ;
"RTN","SROAPM",49,0)
 W !! F K=1:1:80 W "-"
"RTN","SROAPM",50,0)
 D SEL G:SRR=1 EDIT
"RTN","SROAPM",51,0)
 S SROERR=SRTN D ^SROERR0
"RTN","SROAPM",52,0)
 G START
"RTN","SROAPM",53,0)
 Q
"RTN","SROAPM",54,0)
 ;
"RTN","SROAPM",55,0)
WRAP ;Wrap multiple race entries so that wrapped line
"RTN","SROAPM",56,0)
 ;does not break in the middle of a word
"RTN","SROAPM",57,0)
 ;
"RTN","SROAPM",58,0)
 N SROLNGTH S SROLNGTH=$L(SROLINE),E=40,SROWRAP="",SROLN="",SROLN1="",SROL=""
"RTN","SROAPM",59,0)
 F I=1:40:SROLNGTH S SROLN(I)=SROWRAP_$E(SROLINE,I,E) D
"RTN","SROAPM",60,0)
 .F K=40:-1:1 I $E(SROLN(I),K)[" " D  Q    ;Break lines at space
"RTN","SROAPM",61,0)
 ..S SROLN1(I)=$E(SROLN(I),1,K-1)
"RTN","SROAPM",62,0)
 ..S SROWRAP=$E(SROLN(I),K+1,E)
"RTN","SROAPM",63,0)
 .S E=E+40
"RTN","SROAPM",64,0)
 ;
"RTN","SROAPM",65,0)
 S:'$D(SROLN1(I)) SROLN1(I)=SROLN(I),SROWRAP=""
"RTN","SROAPM",66,0)
 I $L(SROLN1(I))+$L(SROWRAP)>39 S SROLN1(I+1)=SROWRAP   ;Last line 
"RTN","SROAPM",67,0)
 I $L(SROLN1(I))+$L(SROWRAP)'>39 S SROLN1(I)=SROLN1(I)_" "_SROWRAP
"RTN","SROAPM",68,0)
 ;
"RTN","SROAPM",69,0)
 ;Renumber the SROLN1 array to be in numeric order
"RTN","SROAPM",70,0)
 S SRNUM=0,SRNUM1=1
"RTN","SROAPM",71,0)
 F  S SRNUM=$O(SROLN1(SRNUM)) Q:SRNUM=""  D
"RTN","SROAPM",72,0)
 .S SROL(SRNUM1)=SROLN1(SRNUM)
"RTN","SROAPM",73,0)
 .S SRNUM1=SRNUM1+1
"RTN","SROAPM",74,0)
 Q
"RTN","SROAPM",75,0)
 ;
"RTN","SROAPM",76,0)
EXT I $L(SREXT)<40 W ?40,SREXT W:SRFLD=247 $S(SREXT="":"",SREXT=1:" Day",SREXT=0:" Days",SREXT>1:" Days",1:"") Q
"RTN","SROAPM",77,0)
 N I,J,X,Y S X=SREXT F  D  W:$L(X) ! I $L(X)<40!(X'[" ") W ?40,X Q
"RTN","SROAPM",78,0)
 .F I=0:1:38 S J=39-I,Y=$E(X,J) I Y=" " W ?40,$E(X,1,J-1) S X=$E(X,J+1,$L(X)) Q
"RTN","SROAPM",79,0)
 Q
"RTN","SROAPM",80,0)
SEL W !!,"Select Patient Demographics Information to Edit: " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROAPM",81,0)
 I (X=11)!(X=12) S SRR=1 W !!,"The Patient's Race and Ethnicity information cannot be updated through the" D  Q
"RTN","SROAPM",82,0)
 .W !,"Surgery package options."
"RTN","SROAPM",83,0)
 .W !!,"Press RETURN to continue " R X:DTIME
"RTN","SROAPM",84,0)
 Q:X=""  S:X="a" X="A" I '$D(SRFLG),'$D(SRZ(X)),(X'?1.2N1":"1.2N),X'="A" D HELP S SRR=1 Q
"RTN","SROAPM",85,0)
 I X?1.2N1":"1.2N S Y=$P(X,":"),Z=$P(X,":",2) I Y<1!(Z>SRZ)!(Y>Z) D HELP S SRR=1 Q
"RTN","SROAPM",86,0)
 I X="A" S X="1:"_SRZ
"RTN","SROAPM",87,0)
 I X?1.2N1":"1.2N D RANGE S SRR=1 Q
"RTN","SROAPM",88,0)
 I $D(SRZ(X)),+X=X S EMILY=X D  S SRR=1
"RTN","SROAPM",89,0)
 .I $$LOCK^SROUTL(SRTN) D ONE,UNLOCK^SROUTL(SRTN)
"RTN","SROAPM",90,0)
 Q
"RTN","SROAPM",91,0)
PIMS ; get update from PIMS records
"RTN","SROAPM",92,0)
 W ! K DIR S DIR("A")="Are you sure you want to retrieve information from PIMS records ? ",DIR("B")="YES",DIR(0)="YOA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT)!'Y Q
"RTN","SROAPM",93,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN)
"RTN","SROAPM",94,0)
 .W ! D WAIT^DICD D ^SROAPIMS
"RTN","SROAPM",95,0)
 Q
"RTN","SROAPM",96,0)
HELP W @IOF,!!!!,"Enter the number or range of numbers you want to edit.  Examples of proper",!,"responses are listed below.",!!,"NOTE: Items 11 and 12 cannot be updated through the surgery package options."
"RTN","SROAPM",97,0)
 W !!,"1. Enter 'A' to update items 1 through 10 and item 13.",!!,"2. Enter a number (1-"_SRZ_") to update an individual item.  (For example,",!,"   enter '1' to update "_$P(SRZ(1),"^")_")"
"RTN","SROAPM",98,0)
 W !!,"3. Enter a range of numbers (1-"_SRZ_") separated by a ':' to enter a range",!,"   of items.  (For example, enter '1:4' to update items 1, 2, 3 and 4.)",!
"RTN","SROAPM",99,0)
 I $D(SRFLG) W !,"4. Enter 'N' or 'NO' to enter negative response for all items.",!!,"5. Enter '@' to delete information from all items.",!
"RTN","SROAPM",100,0)
PRESS W ! K DIR S DIR("A")="Press the return key to continue or '^' to exit: ",DIR(0)="FOA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROAPM",101,0)
 Q
"RTN","SROAPM",102,0)
RANGE ; range of numbers
"RTN","SROAPM",103,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN)
"RTN","SROAPM",104,0)
 .S SHEMP=$P(X,":"),CURLEY=$P(X,":",2) D
"RTN","SROAPM",105,0)
 ..I SHEMP<13 F EMILY=SHEMP:1:10,13 Q:SRSOUT  D ONE
"RTN","SROAPM",106,0)
 ..I SHEMP=13 S EMILY=SHEMP Q:SRSOUT  D ONE
"RTN","SROAPM",107,0)
 Q
"RTN","SROAPM",108,0)
ONE ; edit one item
"RTN","SROAPM",109,0)
 K DR,DA,DIE S DR=$P(SRZ(EMILY),"^",2)_"T",DA=SRTN,DIE=130,SRDT=$P(SRZ(EMILY),"^",3) S:SRDT DR=DR_";"_SRDT_"T" D ^DIE K DR,DA I $D(Y) S SRSOUT=1
"RTN","SROAPM",110,0)
 Q
"RTN","SROAPM",111,0)
TR S J=I,J=$TR(J,"1234567890.","ABCDEFGHIJP")
"RTN","SROAPM",112,0)
 Q
"RTN","SROAPM",113,0)
GET S X=$T(@J)
"RTN","SROAPM",114,0)
 Q
"RTN","SROAPM",115,0)
END W @IOF D ^SRSKILL
"RTN","SROAPM",116,0)
 Q
"RTN","SROAPM",117,0)
PJAA ;;.011^Hospital Admission Status
"RTN","SROAPM",118,0)
BDG ;;247^Length of Postop Hospital Stay
"RTN","SROAPM",119,0)
CDB ;;342^Date of Death
"RTN","SROAPM",120,0)
DAC ;;413^Transfer Status
"RTN","SROAPM",121,0)
DAG ;;417^Patient's Race
"RTN","SROAPM",122,0)
DAH ;;418^Hospital Admission Date/Time
"RTN","SROAPM",123,0)
DAI ;;419^Hospital Discharge Date/Time
"RTN","SROAPM",124,0)
DBJ ;;420^Admit/Transfer to Surgical Svc.
"RTN","SROAPM",125,0)
DBA ;;421^Discharge/Transfer to Chronic Care
"RTN","SROAPM",126,0)
DEB ;;452^Observation Admission Date/Time
"RTN","SROAPM",127,0)
DEC ;;453^Observation Discharge Date/Time
"RTN","SROAPM",128,0)
DED ;;454^Observation Treating Specialty
"RTN","SROAPM",129,0)
CDBPA ;;342.1^30-Day Death
"RTN","SROAPR1A")
0^32^B7825783^B6217869
"RTN","SROAPR1A",1,0)
SROAPR1A ;B'HAM ISC/MAM - EDIT PREOP INFO ; [ 03/16/04  2:44 PM ]
"RTN","SROAPR1A",2,0)
 ;;3.0;Surgery;**38,125,182**;24 Jun 93;Build 49
"RTN","SROAPR1A",3,0)
 K DA D @EMILY Q
"RTN","SROAPR1A",4,0)
4 ; edit gastrointestinal information
"RTN","SROAPR1A",5,0)
 W ! K DIR S X=$P(SRAO(4),"^") I X'="" S DIR("B")=X
"RTN","SROAPR1A",6,0)
 S DIR(0)="130,486",DIR("A")="GASTROINTESTINAL" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPR1A",7,0)
 I X="@" S SRCAT="Gastrointestinal" D SURE Q:SRSOUT  G:'SRYN 4 S (SRAX,X)="",$P(^SRF(SRTN,200.1),"^")="" D NOGAST Q
"RTN","SROAPR1A",8,0)
 S SRAX=Y,$P(^SRF(SRTN,200.1),"^")=SRAX I Y["N" D NOGAST Q
"RTN","SROAPR1A",9,0)
 I Y["Y" D GAST
"RTN","SROAPR1A",10,0)
 Q
"RTN","SROAPR1A",11,0)
5 ; edit cardiac information
"RTN","SROAPR1A",12,0)
 W ! K DIR S X=$P(SRAO(5),"^") I X'="" S DIR("B")=X
"RTN","SROAPR1A",13,0)
 S DIR(0)="130,242",DIR("A")="CARDIAC" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPR1A",14,0)
 I X="@" S SRCAT="Cardiac" D SURE Q:SRSOUT  G:'SRYN 5 S (SRAX,X)="",$P(^SRF(SRTN,200),"^",30)="" D NOCARD Q
"RTN","SROAPR1A",15,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^",30)=SRAX I Y["N" D NOCARD Q
"RTN","SROAPR1A",16,0)
 I Y["Y" D CARD
"RTN","SROAPR1A",17,0)
 Q
"RTN","SROAPR1A",18,0)
6 ; edit vascular information
"RTN","SROAPR1A",19,0)
 W ! K DIR S X=$P(SRAO(6),"^") I X'="" S DIR("B")=X
"RTN","SROAPR1A",20,0)
 S DIR(0)="130,206",DIR("A")="VASCULAR" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPR1A",21,0)
 I X="@" S SRCAT="Vascular" D SURE Q:SRSOUT  G:'SRYN 6 S $P(^SRF(SRTN,200),"^",40)="" S (SRAX,X)="" D NOVAS Q
"RTN","SROAPR1A",22,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^",40)=SRAX I Y["N" D NOVAS Q
"RTN","SROAPR1A",23,0)
 I Y["Y" D VAS
"RTN","SROAPR1A",24,0)
 Q
"RTN","SROAPR1A",25,0)
GAST ; gastointectinal
"RTN","SROAPR1A",26,0)
 K DIE S DA=SRTN,DIE=130,DR="213////Y" D ^DIE K DR
"RTN","SROAPR1A",27,0)
 S SRACLR=0
"RTN","SROAPR1A",28,0)
 Q
"RTN","SROAPR1A",29,0)
NOGAST ; no gastointectinal problems
"RTN","SROAPR1A",30,0)
 S $P(^SRF(SRTN,200),"^",16)=SRAX
"RTN","SROAPR1A",31,0)
 Q
"RTN","SROAPR1A",32,0)
CARD ; cardiac
"RTN","SROAPR1A",33,0)
 W ! K DR,DIE S DA=SRTN,DIE=130,DR="207T;205T;640T" D ^DIE K DR
"RTN","SROAPR1A",34,0)
 S X="5D" D ^SROACL2  S SRYY=Y D
"RTN","SROAPR1A",35,0)
 .K DR,DIE S DA=SRTN,DR="485///"_$P(SRYY,"^"),DIE=130 D ^DIE K DR
"RTN","SROAPR1A",36,0)
 W ! K DR,DIE S DA=SRTN,DIE=130,DR="267T;643T;641T" D ^DIE K DR
"RTN","SROAPR1A",37,0)
 S SRACLR=0
"RTN","SROAPR1A",38,0)
 Q
"RTN","SROAPR1A",39,0)
NOCARD ; no cardiac problems
"RTN","SROAPR1A",40,0)
 F I=32,36 S $P(^SRF(SRTN,200),"^",I)=SRAX
"RTN","SROAPR1A",41,0)
 S $P(^SRF(SRTN,206),"^",19)="N",$P(^SRF(SRTN,206),"^",18)="N"
"RTN","SROAPR1A",42,0)
 S $P(^SRF(SRTN,206),"^",42)=0
"RTN","SROAPR1A",43,0)
 S $P(^SRF(SRTN,206),"^",14)=0
"RTN","SROAPR1A",44,0)
 S $P(^SRF(SRTN,200),"^",56)=1,$P(^SRF(SRTN,200),"^",57)=1
"RTN","SROAPR1A",45,0)
 S $P(^SRF(SRTN,200),"^",59)=1
"RTN","SROAPR1A",46,0)
 Q
"RTN","SROAPR1A",47,0)
VAS ; vascular
"RTN","SROAPR1A",48,0)
 W ! K DR,DIE S DA=SRTN,DIE=130,DR="265T;330T" D ^DIE K DR
"RTN","SROAPR1A",49,0)
 S SRACLR=0
"RTN","SROAPR1A",50,0)
 Q
"RTN","SROAPR1A",51,0)
NOVAS ; no vascular problems
"RTN","SROAPR1A",52,0)
 S $P(^SRF(SRTN,200),"^",42)=SRAX
"RTN","SROAPR1A",53,0)
 S $P(^SRF(SRTN,206),"^",16)=1
"RTN","SROAPR1A",54,0)
 Q
"RTN","SROAPR1A",55,0)
RET W !! K DIR S DIR(0)="E" D ^DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROAPR1A",56,0)
 Q
"RTN","SROAPR1A",57,0)
SURE W ! K DIR S DIR("A")="   Sure you want to delete all "_SRCAT_" information ? ",DIR("B")="NO",DIR(0)="YA" D ^DIR K DIR S SRYN=Y I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROAPR1A",58,0)
 Q
"RTN","SROAPRE")
0^33^B16875105^B16062002
"RTN","SROAPRE",1,0)
SROAPRE ;BIR/MAM - PREOPERATIVE INFO ;10/04/10
"RTN","SROAPRE",2,0)
 ;;3.0;Surgery;**38,47,55,88,100,125,142,166,174,182**;24 Jun 93;Build 49
"RTN","SROAPRE",3,0)
 I '$D(SRTN) W !!,"A Surgery Risk Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SROAPRE",4,0)
 S (SRSOUT,SRACLR)=0,SRSUPCPT=1 D ^SROAUTL,DUP^SROAUTL G:SRSOUT END
"RTN","SROAPRE",5,0)
START D:SRACLR RET G:SRSOUT END S SRACLR=0 K SRA,SRAO D ^SROAPS1
"RTN","SROAPRE",6,0)
ASK W !,"Select Preoperative Information to Edit: " R X:DTIME I '$T!(X["^") D CONCC G END
"RTN","SROAPRE",7,0)
 S:X="" X="+1" S:X="a" X="A" S:X="n" X="N"
"RTN","SROAPRE",8,0)
 I $L(X)=2,'$D(SRAO(X)),X?1N1A S Z=$E(X,2),Z=$TR(Z,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ") I $D(SRAO($E(X)_Z)) S X=$E(X)_Z
"RTN","SROAPRE",9,0)
 I '$D(SRAO(X)),(X'?.N1":".N),(X'="A"),(X'="N"),(X'="+1") D HELP G:SRSOUT END G START
"RTN","SROAPRE",10,0)
 I X="+1" D CONCC,^SROAPR2 G START
"RTN","SROAPRE",11,0)
 I X="A" S X="1:6"
"RTN","SROAPRE",12,0)
 I X?.N1":".N S Y=$E(X),Z=$P(X,":",2) I Y<1!(Z>6)!(Y>Z) D HELP G:SRSOUT END G START
"RTN","SROAPRE",13,0)
 I X="N" D  G:SRSOUT END G START
"RTN","SROAPRE",14,0)
 .W ! K DIR S DIR(0)="Y",DIR("B")="NO",DIR("A")="Are you sure you want to set all fields on this page to NO"
"RTN","SROAPRE",15,0)
 .D ^DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPRE",16,0)
 .I Y D NO2ALL^SROAPRE1
"RTN","SROAPRE",17,0)
 S SRPAGE="" D HDR^SROAUTL
"RTN","SROAPRE",18,0)
 I X?.N1":".N D RANGE G START
"RTN","SROAPRE",19,0)
 I $D(SRAO(X)),+X=X S EMILY=X D  G START
"RTN","SROAPRE",20,0)
 .I $$LOCK^SROUTL(SRTN) W ! D:EMILY<4 ^SROAPRE1 D:EMILY>3 ^SROAPR1A D UNLOCK^SROUTL(SRTN)
"RTN","SROAPRE",21,0)
 I $D(SRAO(X)),$$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN)
"RTN","SROAPRE",22,0)
 .S SRX=X I $P(SRAO(X),"^",2)=485 D ^SROACL2  S SRAO(SRX)=Y K DR,DIE S DA=SRTN,DR="485///"_$P(SRAO(SRX),"^"),DIE=130 D ^DIE K DR Q
"RTN","SROAPRE",23,0)
 .S SRX=X W ! K DR,DIE S DA=SRTN,DR=$P(SRAO(X),"^",2)_"T",DIE=130 D ^DIE K DR
"RTN","SROAPRE",24,0)
 G START
"RTN","SROAPRE",25,0)
END I '$D(SREQST) W @IOF D ^SRSKILL
"RTN","SROAPRE",26,0)
 Q
"RTN","SROAPRE",27,0)
HELP W @IOF,!!!!,"Enter the number, number/letter combination, or range of numbers you want to",!,"edit.  Examples of proper responses are listed below."
"RTN","SROAPRE",28,0)
 W !!,"1. Enter 'A' to update all information.",!!,"2. Enter 'N' to set all fields on this page to NO."
"RTN","SROAPRE",29,0)
 W !!,"3. Enter a number (1-6) to update the information in that group.  (For",!,"   example, enter '5' to update all cardiac information)"
"RTN","SROAPRE",30,0)
 W !!,"4. Enter a number/letter combination to update a specific occurrence. (To ",!,"   update Current Pneumonia, enter '2C'.)"
"RTN","SROAPRE",31,0)
 W !!,"5. Enter a range of numbers (1-6) separated by a ':' to enter a range of",!,"   occurrences.  (For example, enter '2:4' to enter all pulmonary,",!,"   hepatobiliary, and gastrointestinal information)"
"RTN","SROAPRE",32,0)
 W !!,"6. Press <RET> to continue to page 2 of this option."
"RTN","SROAPRE",33,0)
 W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1
"RTN","SROAPRE",34,0)
 Q
"RTN","SROAPRE",35,0)
RANGE ; range of numbers
"RTN","SROAPRE",36,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN)
"RTN","SROAPRE",37,0)
 .S SHEMP=$P(X,":"),CURLEY=$P(X,":",2) W:SHEMP<9 ! F EMILY=SHEMP:1:CURLEY Q:SRSOUT  D:EMILY<4 ^SROAPRE1 D:EMILY>3 ^SROAPR1A
"RTN","SROAPRE",38,0)
 Q
"RTN","SROAPRE",39,0)
RET Q:SRSOUT  W !!,"Press <RET> to continue, or '^' to quit  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROAPRE",40,0)
 Q
"RTN","SROAPRE",41,0)
CONCC ; check for concurrent case and update if one exists
"RTN","SROAPRE",42,0)
 S SRCON=$P($G(^SRF(SRTN,"CON")),"^") Q:'SRCON
"RTN","SROAPRE",43,0)
 Q:$P($G(^SRF(SRCON,"RA")),"^",2)="C"
"RTN","SROAPRE",44,0)
 S SRI="" F  S SRI=$O(SRAO(SRI)) Q:SRI=""  S SRZ=$P(SRAO(SRI),"^",2) K DA,DIC,DIQ,DR,SRY D
"RTN","SROAPRE",45,0)
 .S DA=SRTN,DR=SRZ,DIC="^SRF(",DIQ="SRY",DIQ(0)="I" D EN^DIQ1 S SRX=SRY(130,SRTN,SRZ,"I") S:SRX="" SRX="@"
"RTN","SROAPRE",46,0)
 .I $$LOCK^SROUTL(SRTN) K DA,DIE,DR S DA=SRCON,DIE=130,DR=SRZ_"////"_SRX D ^DIE K DR D UNLOCK^SROUTL(SRTN)
"RTN","SROAPRE",47,0)
 Q
"RTN","SROAPRE1")
0^89^B13656190^B13792714
"RTN","SROAPRE1",1,0)
SROAPRE1 ;BIR/MAM - EDIT PAGE 1 PREOP ;08/11/2011
"RTN","SROAPRE1",2,0)
 ;;3.0;Surgery;**38,47,125,135,141,166,174,176,182**;24 Jun 93;Build 49
"RTN","SROAPRE1",3,0)
 K DA D @EMILY Q
"RTN","SROAPRE1",4,0)
1 ; edit general information
"RTN","SROAPRE1",5,0)
 W ! K DIR S X=$P(SRAO(1),"^") I X'="" S DIR("B")=X
"RTN","SROAPRE1",6,0)
 S DIR(0)="130,402",DIR("A")="GENERAL" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPRE1",7,0)
 I X="@" S SRCAT="General" D SURE Q:SRSOUT  G:'SRYN 1 S (SRAX,X)="",$P(^SRF(SRTN,200),"^")="" D NOGEN Q
"RTN","SROAPRE1",8,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^")=SRAX I Y["N" D NOGEN Q
"RTN","SROAPRE1",9,0)
 I Y["Y" D GEN
"RTN","SROAPRE1",10,0)
 Q
"RTN","SROAPRE1",11,0)
2 ; edit pulmonary information
"RTN","SROAPRE1",12,0)
 W ! K DIR S X=$P(SRAO(2),"^") I X'="" S DIR("B")=X
"RTN","SROAPRE1",13,0)
 S DIR(0)="130,241",DIR("A")="PULMONARY" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPRE1",14,0)
 I X="@" S SRCAT="Pulmonary" D SURE Q:SRSOUT  G:'SRYN 2 S (SRAX,X)="",$P(^SRF(SRTN,200),"^",9)="" D NOPULM Q
"RTN","SROAPRE1",15,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^",9)=SRAX I Y["N" D NOPULM Q
"RTN","SROAPRE1",16,0)
 I Y["Y" D PULM
"RTN","SROAPRE1",17,0)
 Q
"RTN","SROAPRE1",18,0)
3 ; edit hepatobiliary information
"RTN","SROAPRE1",19,0)
 W ! K DIR S X=$P(SRAO(3),"^") I X'="" S DIR("B")=X
"RTN","SROAPRE1",20,0)
 S DIR(0)="130,244",DIR("A")="HEPATOBILIARY" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPRE1",21,0)
 I X="@" S SRCAT="Hepatobiliary" D SURE Q:SRSOUT  G:'SRYN 3 S (SRAX,X)="",$P(^SRF(SRTN,200),"^",13)="" D NOHEP Q
"RTN","SROAPRE1",22,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^",13)=SRAX I Y["N" D NOHEP Q
"RTN","SROAPRE1",23,0)
 I Y["Y" D HEP
"RTN","SROAPRE1",24,0)
 Q
"RTN","SROAPRE1",25,0)
GEN ; general
"RTN","SROAPRE1",26,0)
 N SRUP S SRUP=""
"RTN","SROAPRE1",27,0)
 W ! K DR,DIE S DA=SRTN,DIE=130,DR="236T;237T;519T;520T;517T;518T;246T;618T;325T;237.1T;238T" D ^DIE K DIE,DR I $D(Y) Q
"RTN","SROAPRE1",28,0)
 K DIR S DA=SRTN,DIR(0)="130,492",DIR("A")="Functional Health Status at Evaluation for Surgery" D ^DIR K DIR D
"RTN","SROAPRE1",29,0)
 .I $D(DTOUT)!$D(DUOUT) Q
"RTN","SROAPRE1",30,0)
 .I X="@" K DIE,DR S DIE=130,DR="492///@" D ^DIE K DA,DIE,DR Q
"RTN","SROAPRE1",31,0)
 .K DIE,DR S DIE=130,DR="492////"_Y D ^DIE K DA,DIE,DR
"RTN","SROAPRE1",32,0)
 S SRACLR=0
"RTN","SROAPRE1",33,0)
 Q
"RTN","SROAPRE1",34,0)
NOGEN ; no general problems
"RTN","SROAPRE1",35,0)
 S $P(^SRF(SRTN,200),"^",6)=$S(X="":"",1:1) F I=2,4,7 S $P(^SRF(SRTN,200),"^",I)=SRAX
"RTN","SROAPRE1",36,0)
 S $P(^SRF(SRTN,200.1),"^",2)=$S(X="":"",X="NS":"NS",1:1)
"RTN","SROAPRE1",37,0)
 S $P(^SRF(SRTN,200.1),"^",8)=$S(X="":"",X="NS":"NS",1:1)
"RTN","SROAPRE1",38,0)
 S $P(^SRF(SRTN,200),"^",55)=$S(X="":"",1:1)
"RTN","SROAPRE1",39,0)
 F I=9,11,12 S $P(^SRF(SRTN,200.1),"^",I)=$S(SRAX="N":1,1:"")
"RTN","SROAPRE1",40,0)
 S $P(^SRF(SRTN,200.1),"^",10)=$S(SRAX="N":"NA",1:"")
"RTN","SROAPRE1",41,0)
 Q
"RTN","SROAPRE1",42,0)
PULM ; pulmonary
"RTN","SROAPRE1",43,0)
 W ! K DR,DIE S DA=SRTN,DIE=130,DR="204T;203T;326T" D ^DIE K DR
"RTN","SROAPRE1",44,0)
 S SRACLR=0
"RTN","SROAPRE1",45,0)
 Q
"RTN","SROAPRE1",46,0)
NOPULM ; no pulmonary problems
"RTN","SROAPRE1",47,0)
 F I=10:1:12 S $P(^SRF(SRTN,200),"^",I)=SRAX
"RTN","SROAPRE1",48,0)
 Q
"RTN","SROAPRE1",49,0)
HEP ; hepatobiliary
"RTN","SROAPRE1",50,0)
 K DR,DIE S DIE=130,DA=SRTN,DR="212////Y" D ^DIE K DR
"RTN","SROAPRE1",51,0)
 S SRACLR=0
"RTN","SROAPRE1",52,0)
 Q
"RTN","SROAPRE1",53,0)
NOHEP ; no hepatobiliary problems
"RTN","SROAPRE1",54,0)
 S $P(^SRF(SRTN,200),"^",15)=SRAX
"RTN","SROAPRE1",55,0)
 Q
"RTN","SROAPRE1",56,0)
RET W !! K DIR S DIR(0)="E" D ^DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROAPRE1",57,0)
 Q
"RTN","SROAPRE1",58,0)
SURE W ! K DIR S DIR("A")="   Sure you want to delete all "_SRCAT_" information ? ",DIR("B")="NO",DIR(0)="YA" D ^DIR K DIR S SRYN=Y I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROAPRE1",59,0)
 Q
"RTN","SROAPRE1",60,0)
NO2ALL ; set all fields to NO
"RTN","SROAPRE1",61,0)
 S SRAX="N",$P(^SRF(SRTN,200),"^")=SRAX D NOGEN
"RTN","SROAPRE1",62,0)
 S $P(^SRF(SRTN,200),"^",9)=SRAX D NOPULM
"RTN","SROAPRE1",63,0)
 S $P(^SRF(SRTN,200),"^",13)=SRAX D NOHEP
"RTN","SROAPRE1",64,0)
 S $P(^SRF(SRTN,200.1),"^")=SRAX D NOGAST^SROAPR1A
"RTN","SROAPRE1",65,0)
 S $P(^SRF(SRTN,200),"^",30)=SRAX D NOCARD^SROAPR1A
"RTN","SROAPRE1",66,0)
 S $P(^SRF(SRTN,200),"^",40)=SRAX D NOVAS^SROAPR1A
"RTN","SROAPRE1",67,0)
 Q
"RTN","SROAPRE1",68,0)
CHK518 ; check entries of the Tobacco Use Timeframe field (#518) based on the value of the Tobacco Use field.
"RTN","SROAPRE1",69,0)
 S DA=$S($G(SRTN):SRTN,1:DA)
"RTN","SROAPRE1",70,0)
 I "123"[X,($P($G(^SRF(DA,200.1)),"^",9)<3) D EN^DDIOL("Invalid entry as the TOBACCO USE value is less than three.","","!?2,$C(7)") K X Q
"RTN","SROAPRE1",71,0)
 I X="NA",($P($G(^SRF(DA,200.1)),"^",9)>2) D EN^DDIOL("Invalid entry as the TOBACCO USE value is greater than two.","","!?2,$C(7)") K X Q
"RTN","SROAPRE1",72,0)
 Q
"RTN","SROAPRE2")
0^79^B9447593^B9148135
"RTN","SROAPRE2",1,0)
SROAPRE2 ;BIR/MAM - EDIT PAGE 2 PREOP ;07/18/2011
"RTN","SROAPRE2",2,0)
 ;;3.0;Surgery;**38,47,125,153,166,176,182**;24 Jun 93;Build 49
"RTN","SROAPRE2",3,0)
 D @EMILY Q
"RTN","SROAPRE2",4,0)
1 ; edit renal information
"RTN","SROAPRE2",5,0)
 W ! K DIR S X=$P(SRAO(1),"^") I X'="" S DIR("B")=X
"RTN","SROAPRE2",6,0)
 S DIR(0)="130,243",DIR("A")="RENAL" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPRE2",7,0)
 I X="@" S SRCAT="Renal" D SURE Q:SRSOUT  G:'SRYN 1 S $P(^SRF(SRTN,200),"^",37)="" S (SRAX,X)="" D NOREN Q
"RTN","SROAPRE2",8,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^",37)=SRAX I Y["N" D NOREN Q
"RTN","SROAPRE2",9,0)
 I Y["Y" D REN
"RTN","SROAPRE2",10,0)
 Q
"RTN","SROAPRE2",11,0)
2 ; edit CNS information
"RTN","SROAPRE2",12,0)
 W ! K DIR S X=$P(SRAO(2),"^") I X'="" S DIR("B")=X
"RTN","SROAPRE2",13,0)
 S DIR(0)="130,210",DIR("A")="CENTRAL NERVOUS SYSTEM" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPRE2",14,0)
 I X="@" S SRCAT="Central Nervous System" D SURE Q:SRSOUT  G:'SRYN 2 S $P(^SRF(SRTN,200),"^",18)="",(SRAX,X)="" D NOCNS Q
"RTN","SROAPRE2",15,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^",18)=SRAX I Y["N" D NOCNS Q
"RTN","SROAPRE2",16,0)
 I Y["Y" D CNS
"RTN","SROAPRE2",17,0)
 Q
"RTN","SROAPRE2",18,0)
3 ; edit nutritional/immune/other info
"RTN","SROAPRE2",19,0)
 W ! K DIR S X=$P(SRAO(3),"^") I X'="" S DIR("B")=X
"RTN","SROAPRE2",20,0)
 S DIR(0)="130,245",DIR("A")="NUTRITIONAL/IMMUNE/OTHER" D ^DIR K DIR I $D(DUOUT) S SRSOUT=1 Q
"RTN","SROAPRE2",21,0)
 I X="@" S SRCAT="Nutritional/Immune/Other" D SURE Q:SRSOUT  G:'SRYN 3 S $P(^SRF(SRTN,200),"^",44)="" S (SRAX,X)="" D NONUT Q
"RTN","SROAPRE2",22,0)
 S SRAX=Y,$P(^SRF(SRTN,200),"^",44)=SRAX I Y["N" D NONUT Q
"RTN","SROAPRE2",23,0)
 I Y["Y" D NUT
"RTN","SROAPRE2",24,0)
 Q
"RTN","SROAPRE2",25,0)
REN ; renal
"RTN","SROAPRE2",26,0)
 W ! K DR,DIE S DA=SRTN,DIE=130,DR="328T;211T" D ^DIE K DR
"RTN","SROAPRE2",27,0)
 S SRACLR=0
"RTN","SROAPRE2",28,0)
 Q
"RTN","SROAPRE2",29,0)
NOREN ; no renal problems
"RTN","SROAPRE2",30,0)
 F I=38,39 S $P(^SRF(SRTN,200),"^",I)=SRAX
"RTN","SROAPRE2",31,0)
 Q
"RTN","SROAPRE2",32,0)
CNS ; cns
"RTN","SROAPRE2",33,0)
 W ! K DR,DIE S DIE=130,DA=SRTN,DR="332T;333T;400T;521T;522T;401T;" D ^DIE K DR,DIE
"RTN","SROAPRE2",34,0)
 S SRACLR=0
"RTN","SROAPRE2",35,0)
 Q
"RTN","SROAPRE2",36,0)
NOCNS ; no CNS problems
"RTN","SROAPRE2",37,0)
 F I=19,21,24,29 S $P(^SRF(SRTN,200),"^",I)=SRAX
"RTN","SROAPRE2",38,0)
 F I=13,14 S $P(^SRF(SRTN,200.1),"^",I)=$S(SRAX="N":0,1:SRAX)
"RTN","SROAPRE2",39,0)
 Q
"RTN","SROAPRE2",40,0)
NUT ; nutritional/immune/other
"RTN","SROAPRE2",41,0)
 W ! K DR,DIE S DIE=130,DA=SRTN,DR="338T;218T;339T;215T;216T;642T;217T;338.1T;338.2T;218.1T;269T" D ^DIE K DA,DIE,DR
"RTN","SROAPRE2",42,0)
 S SRACLR=0
"RTN","SROAPRE2",43,0)
 Q
"RTN","SROAPRE2",44,0)
NONUT ; no nutritional/immune/other
"RTN","SROAPRE2",45,0)
 F I=45:1:50 S $P(^SRF(SRTN,200),"^",I)=SRAX
"RTN","SROAPRE2",46,0)
 F I=3,4,8 S $P(^SRF(SRTN,206),"^",I)=SRAX
"RTN","SROAPRE2",47,0)
 I SRAX="N" S $P(^SRF(SRTN,200.1),"^",3)=$S($P($G(VADM(5)),"^")="M":"NA",1:"NO"),$P(^SRF(SRTN,200),"^",58)="1"
"RTN","SROAPRE2",48,0)
 S:SRAX="" $P(^SRF(SRTN,200.1),"^",3)=""
"RTN","SROAPRE2",49,0)
 Q
"RTN","SROAPRE2",50,0)
RET W !! K DIR S DIR(0)="E" D ^DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROAPRE2",51,0)
 Q
"RTN","SROAPRE2",52,0)
SURE W ! K DIR S DIR("A")="   Sure you want to delete all "_SRCAT_" information ? ",DIR("B")="NO",DIR(0)="YA" D ^DIR K DIR S SRYN=Y I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROAPRE2",53,0)
 Q
"RTN","SROAPRE2",54,0)
DEL W !!,?10,"Deleting all "_SRCAT_" information...  "
"RTN","SROAPRE2",55,0)
 Q
"RTN","SROAPRE2",56,0)
NO2ALL ; set all fields to NO
"RTN","SROAPRE2",57,0)
 S SRAX="N",$P(^SRF(SRTN,200),"^",37)=SRAX D NOREN
"RTN","SROAPRE2",58,0)
 S $P(^SRF(SRTN,200),"^",18)=SRAX D NOCNS
"RTN","SROAPRE2",59,0)
 S $P(^SRF(SRTN,200),"^",44)=SRAX D NONUT
"RTN","SROAPRE2",60,0)
 Q
"RTN","SROAPRT1")
0^34^B22844323^B17263679
"RTN","SROAPRT1",1,0)
SROAPRT1 ;BIR/MAM - PREOP INFO (PAGE 1) ;04/05/2012
"RTN","SROAPRT1",2,0)
 ;;3.0;Surgery;**38,47,125,153,166,174,176,182**;24 Jun 93;Build 49
"RTN","SROAPRT1",3,0)
 N SRX,Y F I=200,200.1,206 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROAPRT1",4,0)
 S Y=$P(SRA(200),"^"),SRX=402,SRAO(1)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",5,0)
 S Y=$P(SRA(206),"^"),SRX=236,SRAO("1A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",6,0)
 S Y=$P(SRA(206),"^",2),SRX=237,SRAO("1B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",7,0)
 S Y=$P(SRA(200.1),"^",11),SRX=519,SRAO("1C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",8,0)
 S Y=$P(SRA(200.1),"^",12),SRX=520,SRAO("1CC")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",9,0)
 S Y=$P(SRA(200.1),"^",9),SRX=517,SRAO("1D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",10,0)
 S Y=$P($G(^SRF(SRTN,200.1)),"^",9) D  S SRA(200.1)=$G(^SRF(SRTN,200.1))
"RTN","SROAPRT1",11,0)
 .I Y'="",Y<3 S $P(^SRF(SRTN,200.1),"^",10)="NA" Q
"RTN","SROAPRT1",12,0)
 S Y=$P(SRA(200.1),"^",10),SRX=518,SRAO("1DD")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",13,0)
 S Y=$P(SRA(200),"^",4),SRX=246,SRAO("1E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",14,0)
 S Y=$P(SRA(200),"^",6),SRX=325,SRAO("1F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",15,0)
 S Y=$P(SRA(200.1),"^",8),SRX=237.1,SRAO("1G")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",16,0)
 S Y=$P(SRA(200),"^",7),SRX=238,SRAO("1H")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",17,0)
 S Y=$P(SRA(200.1),"^",2),SRX=492,SRAO("1I")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",18,0)
 S Y=$P(SRA(200),"^",9),SRX=241,SRAO(2)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",19,0)
 S Y=$P(SRA(200),"^",10),SRX=204,SRAO("2A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",20,0)
 S Y=$P(SRA(200),"^",11),SRX=203,SRAO("2B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",21,0)
 S Y=$P(SRA(200),"^",12),SRX=326,SRAO("2C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",22,0)
 S Y=$P(SRA(200),"^",13),SRX=244,SRAO(3)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",23,0)
 S Y=$P(SRA(200),"^",15),SRX=212,SRAO("3A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",24,0)
 S Y=$P(SRA(200.1),"^"),SRX=486,SRAO(4)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",25,0)
 S Y=$P(SRA(200),"^",16),SRX=213,SRAO("4A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",26,0)
 S Y=$P(SRA(200),"^",30),SRX=242,SRAO(5)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",27,0)
 S Y=$P(SRA(206),"^",19),SRX=207,SRAO("5A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",28,0)
 S Y=$P(SRA(206),"^",14),SRX=205,SRAO("5B")=$S(Y=0:"NO",Y=1:"< OR = 7 DAYS OF SURG",Y=2:"BETWEEN 7 DAYS AND 6 MONTHS OF SURG",Y=3:"UNKNOWN",1:"")_"^"_SRX
"RTN","SROAPRT1",29,0)
 S Y=$P(SRA(200),"^",56),SRX=640,SRAO("5C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",30,0)
 S Y=$P(SRA(206),"^",42),SRX=485,SRAO("5D")=Y_"^"_SRX
"RTN","SROAPRT1",31,0)
 S Y=$P(SRA(206),"^",18),SRX=267,SRAO("5E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",32,0)
 S Y=$P(SRA(200),"^",59),SRX=643,SRAO("5F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",33,0)
 S Y=$P(SRA(200),"^",57),SRX=641,SRAO("5G")=$$H641(Y)_"^"_SRX
"RTN","SROAPRT1",34,0)
 S Y=$P(SRA(200),"^",40),SRX=206,SRAO(6)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",35,0)
 S Y=$P(SRA(206),"^",16),SRX=265,SRAO("6A")=$$OUT^SROAPS1(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",36,0)
 S Y=$P(SRA(200),"^",42),SRX=330,SRAO("6B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT1",37,0)
 S Y=$P(SRA(200),"^",55),SRX=618,SRAO("1FF")=$$H618^SROACL1(Y)_"^"_SRX
"RTN","SROAPRT1",38,0)
 W:$E(IOST)="P" ! W !,?28,"PREOPERATIVE INFORMATION",!!
"RTN","SROAPRT1",39,0)
 W "GENERAL:",?31,$P(SRAO(1),"^"),?40,"HEPATOBILIARY:",?72,$P(SRAO(3),"^")
"RTN","SROAPRT1",40,0)
 W !,"Height: ",?22,$J($P(SRAO("1A"),"^"),15),?40,"Ascites:",?72,$P(SRAO("3A"),"^")
"RTN","SROAPRT1",41,0)
 W !,"Weight:",?22,$J($P(SRAO("1B"),"^"),15)
"RTN","SROAPRT1",42,0)
 W !,"Diabetes - Long Term:",?31,$P(SRAO("1C"),"^"),?40,"GASTROINTESTINAL:",?72,$P(SRAO(4),"^")
"RTN","SROAPRT1",43,0)
 W !,"Diabetes - 2 Wks Preop:",?31,$P(SRAO("1CC"),"^"),?40,"Esophageal Varices:",?72,$P(SRAO("4A"),"^")
"RTN","SROAPRT1",44,0)
 W !,"Tobacco Use:",?16,$J($P(SRAO("1D"),"^"),21)
"RTN","SROAPRT1",45,0)
 W !,"Tobacco Use Timeframe: ",$P(SRAO("1DD"),"^")
"RTN","SROAPRT1",46,0)
 W !,"ETOH > 2 Drinks/Day:",?31,$P(SRAO("1E"),"^"),?40,"CARDIAC:",?72,$P(SRAO(5),"^")
"RTN","SROAPRT1",47,0)
 W !,"Positive Drug Screening: ",?31,$E($P(SRAO("1FF"),"^"),1,8),?40,"Congestive Heart Failure:",?72,$P(SRAO("5A"),"^")
"RTN","SROAPRT1",48,0)
 W !,"Dyspnea: ",?13,$J($P(SRAO("1F"),"^"),25),?40,"Prior MI:",?(74-$L($E($P(SRAO("5B"),"^"),1,28))),$E($P(SRAO("5B"),"^"),1,28)
"RTN","SROAPRT1",49,0)
 W !,"Preop Sleep Apnea:",?30,$P(SRAO("1G"),"^"),?40,"PCI:",?(76-$L($P(SRAO("5C"),"^"))),$P(SRAO("5C"),"^")
"RTN","SROAPRT1",50,0)
 W !,"DNR Status: ",?31,$P(SRAO("1H"),"^"),?40,"Prior Heart Surgery: " D H485
"RTN","SROAPRT1",51,0)
 W !,"Preop Funct Status: ",$J($P(SRAO("1I"),"^"),17),?40,"Angina Severity:",?(76-$L($P(SRAO("5E"),"^"))),$P(SRAO("5E"),"^")
"RTN","SROAPRT1",52,0)
 W !,?40,"Angina Timeframe: ",$J($E($P(SRAO("5F"),"^"),1,20),22)
"RTN","SROAPRT1",53,0)
 W !,?40,"Hypertension: ",?(74-$L($P(SRAO("5G"),"^"))),$P(SRAO("5G"),"^")
"RTN","SROAPRT1",54,0)
 W !,"PULMONARY:",?31,$P(SRAO(2),"^")
"RTN","SROAPRT1",55,0)
 W !,"Ventilator Dependent:",?31,$P(SRAO("2A"),"^"),?40,"VASCULAR:",?72,$P(SRAO(6),"^")
"RTN","SROAPRT1",56,0)
 W !,"History of Severe COPD:",?31,$P(SRAO("2B"),"^"),?40,"PAD:",?(74-$L($P(SRAO("6A"),"^"))),$P(SRAO("6A"),"^")
"RTN","SROAPRT1",57,0)
 W !,"Current Pneumonia:",?31,$P(SRAO("2C"),"^"),?40,"Rest Pain/Gangrene:",?72,$P(SRAO("6B"),"^")
"RTN","SROAPRT1",58,0)
 Q
"RTN","SROAPRT1",59,0)
OUT(SRFLD,SRY) ; get data in output form
"RTN","SROAPRT1",60,0)
 N C,Y
"RTN","SROAPRT1",61,0)
 I SRFLD=207 Q $S(SRY="N":"NONE",1:SRY)
"RTN","SROAPRT1",62,0)
 S Y=SRY,C=$P(^DD(130,SRFLD,0),"^",2) D:Y'="" Y^DIQ
"RTN","SROAPRT1",63,0)
 S Y=$S(Y="NO STUDY":"NS",Y="N/A":"NA",1:Y)
"RTN","SROAPRT1",64,0)
 I SRFLD=237.1 S Y=$E(Y,1,7)
"RTN","SROAPRT1",65,0)
 I SRFLD=236!(SRFLD=237)!(SRFLD=346) S Y=$E(Y,1,15)
"RTN","SROAPRT1",66,0)
 I SRFLD=240!(SRFLD=492) D
"RTN","SROAPRT1",67,0)
 .I SRY=2 S Y="PARTIAL DEPENDENT" Q
"RTN","SROAPRT1",68,0)
 .I SRY=4 S Y=Y_"  "
"RTN","SROAPRT1",69,0)
 I SRFLD=325,$L(Y)=2 S Y=Y_"     "
"RTN","SROAPRT1",70,0)
 Q Y
"RTN","SROAPRT1",71,0)
H641(Y) ;
"RTN","SROAPRT1",72,0)
 S Y=$S(Y=1:"NO",Y=2:"YES WITHOUT MED",Y=3:"YES WITH MED",Y=4:"UNKNOWN",1:"")
"RTN","SROAPRT1",73,0)
 Q Y
"RTN","SROAPRT1",74,0)
H485 S SHEMP="",X=$P(SRA(206),"^",42) F I=1:1:$L(X,",") D
"RTN","SROAPRT1",75,0)
 .S C=$P(X,",",I) S:I>1 SHEMP=SHEMP_", " S SHEMP=SHEMP_$S(C=0:"None",C=1:"CABG-only",C=2:"Valve-only",C=3:"CABG/valve",C=4:"Other",C=5:"CABG/Other",C=6:"Unknown",1:"")
"RTN","SROAPRT1",76,0)
 S X=SHEMP I $L(X)<16 W $J(X,15) Q
"RTN","SROAPRT1",77,0)
 W $J($P(X,",")_",",15) I $L($P(X,", ",2,9))<40 W !,?41,$P(X,", ",2,9) Q
"RTN","SROAPRT1",78,0)
 W !,?41,$P(X,", ",2,4)_",",!,?41,$P(X,", ",5,9)
"RTN","SROAPRT1",79,0)
 Q
"RTN","SROAPRT2")
0^80^B12414779^B11792393
"RTN","SROAPRT2",1,0)
SROAPRT2 ;BIR/MAM - PRINT PREOP INFO (PAGE 2) ;07/19/2011
"RTN","SROAPRT2",2,0)
 ;;3.0;Surgery;**38,125,137,153,160,166,176,182**;24 Jun 93;Build 49
"RTN","SROAPRT2",3,0)
 I $E(IOST)'="P" W !,?28,"PREOPERATIVE INFORMATION"
"RTN","SROAPRT2",4,0)
 N SRX,Y F I=200,200.1,206 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROAPRT2",5,0)
 S Y=$P(SRA(200),"^",37),SRX=243,SRAO(1)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",6,0)
 S Y=$P(SRA(200),"^",38),SRX=328,SRAO("1A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",7,0)
 S Y=$P(SRA(200),"^",39),SRX=211,SRAO("1B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",8,0)
 S Y=$P(SRA(200),"^",18),SRX=210,SRAO(2)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",9,0)
 S Y=$P(SRA(200),"^",44),SRX=245,SRAO(3)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",10,0)
 S Y=$P(SRA(200),"^",19),SRX=332,SRAO("2A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",11,0)
 S Y=$P(SRA(200),"^",21),SRX=333,SRAO("2B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",12,0)
 S Y=$P(SRA(200),"^",24),SRX=400,SRAO("2C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",13,0)
 S Y=$P(SRA(200.1),"^",13),SRX=521,SRAO("2D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",14,0)
 S Y=$P(SRA(200.1),"^",14),SRX=522,SRAO("2E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",15,0)
 S Y=$P(SRA(200),"^",29),SRX=401,SRAO("2F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",16,0)
 S Y=$P(SRA(200),"^",45),SRX=338,SRAO("3A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",17,0)
 S Y=$P(SRA(200),"^",46),SRX=218,SRAO("3B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",18,0)
 S Y=$P(SRA(200),"^",47),SRX=339,SRAO("3C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",19,0)
 S Y=$P(SRA(200),"^",48),SRX=215,SRAO("3D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",20,0)
 S Y=$P(SRA(200),"^",49),SRX=216,SRAO("3E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",21,0)
 S Y=$P(SRA(200),"^",58),SRX=642,SRAO("3EE")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",22,0)
 S Y=$P(SRA(200),"^",50),SRX=217,SRAO("3F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",23,0)
 S Y=$P(SRA(206),"^",3),SRX=338.1,SRAO("3G")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",24,0)
 S Y=$P(SRA(206),"^",4),SRX=338.2,SRAO("3H")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",25,0)
 S Y=$P(SRA(206),"^",8),SRX=218.1,SRAO("3I")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",26,0)
 S Y=$P(SRA(200.1),"^",3),SRX=269,SRAO("3J")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPRT2",27,0)
 W !!,"RENAL:",?31,$P(SRAO(1),"^"),?40,"NUTRITIONAL/IMMUNE/OTHER:",?72,$P(SRAO(3),"^")
"RTN","SROAPRT2",28,0)
 W !,"Acute Renal Failure:",?31,$P(SRAO("1A"),"^"),?40,"Disseminated Cancer:",?72,$P(SRAO("3A"),"^")
"RTN","SROAPRT2",29,0)
 W !,"Currently on Dialysis:",?31,$P(SRAO("1B"),"^"),?40,"Open Wound:",?72,$P(SRAO("3B"),"^")
"RTN","SROAPRT2",30,0)
 W !,?40,"Steroid Use for Chronic Cond.:",?72,$P(SRAO("3C"),"^")
"RTN","SROAPRT2",31,0)
 W !,"CENTRAL NERVOUS SYSTEM:",?31,$P(SRAO(2),"^"),?40,"Weight Loss > 10%:",?72,$P(SRAO("3D"),"^")
"RTN","SROAPRT2",32,0)
 W !,"Impaired Sensorium: ",?31,$P(SRAO("2A"),"^"),?40,"Bleeding Disorders:",?72,$P(SRAO("3E"),"^")
"RTN","SROAPRT2",33,0)
 W !,?40,"Bleeding Due To Med: ",$E($P(SRAO("3EE"),"^"),1,15)
"RTN","SROAPRT2",34,0)
 W !,"Coma:",?31,$P(SRAO("2B"),"^"),?40,"Transfusion > 4 RBC Units:",?72,$P(SRAO("3F"),"^")
"RTN","SROAPRT2",35,0)
 W !,"Hemiplegia:",?31,$P(SRAO("2C"),"^"),?40,"Chemotherapy W/I 30 Days:",?72,$P(SRAO("3G"),"^")
"RTN","SROAPRT2",36,0)
 W !,"CVD Repair/Obstruct:",?(35-$L($P(SRAO("2D"),"^"))),$P(SRAO("2D"),"^"),?40,"Radiotherapy W/I 90 Days:",?72,$P(SRAO("3H"),"^")
"RTN","SROAPRT2",37,0)
 W !,"History of CVD:",?(35-$L($P(SRAO("2E"),"^"))),$P(SRAO("2E"),"^"),?40,"Preoperative Sepsis:",?(74-$L($P(SRAO("3I"),"^"))),$P(SRAO("3I"),"^")
"RTN","SROAPRT2",38,0)
 W !,"Tumor Involving CNS:",?31,$P(SRAO("2F"),"^"),?40,"Pregnancy:",?(74-$L($P(SRAO("3J"),"^"))),$P(SRAO("3J"),"^")
"RTN","SROAPRT2",39,0)
 I $E(IOST)="P" W !
"RTN","SROAPRT2",40,0)
 Q
"RTN","SROAPRT2",41,0)
OUT(SRFLD,SRY) ; get data in output form
"RTN","SROAPRT2",42,0)
 N C,Y
"RTN","SROAPRT2",43,0)
 I SRFLD=521 S Y=$S(SRY=1:"YES/NO SURG",SRY=2:"YES/PRIOR SURG",SRY=0:"NO CVD",1:"") Q Y
"RTN","SROAPRT2",44,0)
 I SRFLD=522 S Y=$S(SRY=1:"HIST OF TIA'S",SRY=2:"CVA W/O NEURO DEF",SRY=3:"CVA W/ NEURO DEF",SRY=0:"NO CVD",1:"") Q Y
"RTN","SROAPRT2",45,0)
 S Y=SRY,C=$P(^DD(130,SRFLD,0),"^",2) D:Y'="" Y^DIQ
"RTN","SROAPRT2",46,0)
 I Y="NO STUDY" S Y="NS"
"RTN","SROAPRT2",47,0)
 Q Y
"RTN","SROAPRT7")
0^81^B30812579^B30831500
"RTN","SROAPRT7",1,0)
SROAPRT7 ;BIR/MAM - PRINT OCCURRENCES ;08/16/2011
"RTN","SROAPRT7",2,0)
 ;;3.0;Surgery;**38,47,57,60,125,160,176,177,182**;24 Jun 93;Build 49
"RTN","SROAPRT7",3,0)
 K SRA,SRAO D EN^SROCCAT S SRA(205)=$G(^SRF(SRTN,205))
"RTN","SROAPRT7",4,0)
 S NYUK=$P(SRA(205),"^",5) D YN S SRAO(1)=SHEMP_"^403",NYUK=$P(SRA(205),"^",6) D YN S SRAO("1A")=SHEMP_"^248",NYUK=$P(SRA(205),"^",7) D YN S SRAO("1B")=SHEMP_"^249"
"RTN","SROAPRT7",5,0)
 S NYUK=$P(SRA(205),"^",37) D YN S SRAO("6E")=SHEMP_"^488",NYUK=$P(SRA(205),"^",8) D YN S SRAO("1C")=SHEMP_"^404",NYUK=$P(SRA(205),"^",39) D YN S SRAO("6F")=SHEMP_"^447"
"RTN","SROAPRT7",6,0)
 S NYUK=$P(SRA(205),"^",9) D YN S SRAO(2)=SHEMP_"^318",NYUK=$P(SRA(205),"^",10) D YN S SRAO("2A")=SHEMP_"^251",NYUK=$P(SRA(205),"^",43) D YN S SRAO("2B")=SHEMP_"^645",NYUK=$P(SRA(205),"^",12) D YN S SRAO("2C")=SHEMP_"^252"
"RTN","SROAPRT7",7,0)
 S NYUK=$P(SRA(205),"^",13) D YN S SRAO("2D")=SHEMP_"^285"
"RTN","SROAPRT7",8,0)
 S NYUK=$P(SRA(205),"^",15) D YN S SRAO(3)=SHEMP_"^319",NYUK=$P(SRA(205),"^",16) D YN S SRAO("3A")=SHEMP_"^409",NYUK=$P(SRA(205),"^",17) D YN S SRAO("3B")=SHEMP_"^254",NYUK=$P(SRA(205),"^",42) D YN S SRAO("3C")=SHEMP_"^644"
"RTN","SROAPRT7",9,0)
 S NYUK=$P(SRA(205),"^",20) D YN S SRAO(4)=SHEMP_"^320",NYUK=$P(SRA(205),"^",21) D YN S SRAO("4A")=SHEMP_"^256",NYUK=$P(SRA(205),"^",22) D YN S SRAO("4B")=SHEMP_"^410",NYUK=$P(SRA(205),"^",23) D YN S SRAO("4C")=SHEMP_"^287"
"RTN","SROAPRT7",10,0)
 S NYUK=$P(SRA(205),"^",25) D YN S SRAO(5)=SHEMP_"^321",NYUK=$P(SRA(205),"^",26) D YN S SRAO("5A")=SHEMP_"^411",NYUK=$P(SRA(205),"^",27) D YN S SRAO("5B")=SHEMP_"^258",NYUK=$P(SRA(205),"^",28) D YN S SRAO("5C")=SHEMP_"^259"
"RTN","SROAPRT7",11,0)
 S NYUK=$P(SRA(205),"^",30) D YN S SRAO(6)=SHEMP_"^322",NYUK=$P(SRA(205),"^",32) D YN S SRAO("6A")=SHEMP_"^257"
"RTN","SROAPRT7",12,0)
 S NYUK=$P(SRA(205),"^",33) D YN S SRAO("6B")=SHEMP_"^261",NYUK=$P(SRA(205),"^",34) D YN S SRAO("6C")=SHEMP_"^263",NYUK=$P(SRA(205),"^",35) D YN S SRAO("6D")=SHEMP_"^250"
"RTN","SROAPRT7",13,0)
 K SROOC N SRDUR,SRSEP,SRSTAR
"RTN","SROAPRT7",14,0)
 D OCC^SROAUTL0
"RTN","SROAPRT7",15,0)
 S X=$G(SROOC(21)) I X'="" S X=$P($G(SROOC(21)),U)_" "_$E($P($G(SROOC(21)),U,2),1,17)
"RTN","SROAPRT7",16,0)
 S SRAO("6G")=X_"^392"
"RTN","SROAPRT7",17,0)
 S X=$G(SROOC(29)) I X'="" S X=$P($G(SROOC(29)),U)_" "_$E($P($G(SROOC(29)),U,2),1,17)
"RTN","SROAPRT7",18,0)
 S SRAO("2E")=X_"^253"
"RTN","SROAPRT7",19,0)
 S X=$G(SROOC(30)) I X'="" S X=$P($G(SROOC(30)),U)_" "_$E($P($G(SROOC(30)),U,2),1,17)
"RTN","SROAPRT7",20,0)
 S SRAO("4D")=X_"^343"
"RTN","SROAPRT7",21,0)
 S X=$G(SROOC(31)) I X'="" S X=$P($G(SROOC(31)),U)_" "_$E($P($G(SROOC(31)),U,2),1,17)
"RTN","SROAPRT7",22,0)
 S SRAO("3D")=X_"^286"
"RTN","SROAPRT7",23,0)
 S X=$G(SROOC(32)) I X'="" S X=$P($G(SROOC(32)),U)_" "_$E($P($G(SROOC(32)),U,2),1,17)
"RTN","SROAPRT7",24,0)
 S SRAO("5D")=X_"^344"
"RTN","SROAPRT7",25,0)
 S X=$G(SROOC(36)) I X'="" S X=$P($G(SROOC(36)),U)_" "_$E($P($G(SROOC(36)),U,2),1,17)
"RTN","SROAPRT7",26,0)
 S SRAO("1D")=X_"^489"
"RTN","SROAPRT7",27,0)
 S Y=6 F  S Y=$O(SRAO(Y)) Q:Y=""  D
"RTN","SROAPRT7",28,0)
 .I $E(Y)="1" S SRI=$S(Y="1A":1,Y="1B":2,Y="1C":22,1:"") Q:SRI=""
"RTN","SROAPRT7",29,0)
 .I $E(Y)="2" S SRI=$S(Y="2A":4,Y="2B":41,Y="2C":5,Y="2D":6,1:"")  Q:SRI=""
"RTN","SROAPRT7",30,0)
 .I $E(Y)="3" S SRI=$S(Y="3A":8,Y="3B":9,Y="3C":40,1:"")  Q:SRI=""
"RTN","SROAPRT7",31,0)
 .I $E(Y)="4" S SRI=$S(Y="4A":12,Y="4B":13,Y="4C":14,1:"")  Q:SRI=""
"RTN","SROAPRT7",32,0)
 .I $E(Y)="5" S SRI=$S(Y="5A":16,Y="5B":17,Y="5C":11,1:"")  Q:SRI=""
"RTN","SROAPRT7",33,0)
 .I $E(Y)="6" S SRI=$S(Y="6A":15,Y="6B":19,Y="6C":20,Y="6D":3,Y="6E":35,Y="6F":38,1:"")  Q:SRI=""
"RTN","SROAPRT7",34,0)
 .S SRIN=Y I SROC(SRI)="       "&($P(SRAO(SRIN),"^")="YES") S $P(SRAO(SRIN),"^")="ND"
"RTN","SROAPRT7",35,0)
 .S $P(SRAO(SRIN),"^")=$S($P(SRAO(SRIN),"^")="YES":$E(SROC(SRI),4,5)_"/"_$E(SROC(SRI),6,7)_"/"_$E(SROC(SRI),2,3),$P(SRAO(SRIN),"^")="NO":"   "_$P(SRAO(SRIN),"^"),$P(SRAO(SRIN),"^")="ND":" NO DATE",1:$P(SRAO(SRIN),"^"))
"RTN","SROAPRT7",36,0)
 I $G(SRSEP)'="" S X=$P(SRAO("6D"),"^"),$P(SRAO("6D"),"^")=SRSEP_" "_X
"RTN","SROAPRT7",37,0)
 I $G(SRDUR)'="" S X=$P(SRAO("4A"),"^"),$P(SRAO("4A"),"^")=SRDUR_"  "_X
"RTN","SROAPRT7",38,0)
 F SRK="1D","4D","3D","5D","2E","6G" S SRKO=$S(SRK="4D":30,SRK="3D":31,SRK="5D":32,SRK="2E":29,SRK="6G":21,SRK="1D":36,1:"") I $P(SRAO(SRK),"^")'="" D
"RTN","SROAPRT7",39,0)
 .S SRSTAR=1 I SROC(SRKO)="       " S SRD="NO DATE"
"RTN","SROAPRT7",40,0)
 .I SROC(SRKO)'="       " S SRD=$E(SROC(SRKO),4,5)_"/"_$E(SROC(SRKO),6,7)_"/"_$E(SROC(SRKO),2,3)
"RTN","SROAPRT7",41,0)
 .S $P(SRAO(SRK),"^")="* "_$P(SRAO(SRK),"^")_$J(SRD,(26-$L($P(SRAO(SRK),"^")))+10)
"RTN","SROAPRT7",42,0)
DISP W:$E(IOST)'="C" ! W !,?21,"PERIOPERATIVE OCCURRENCE INFORMATION",!!,"WOUND OCCURRENCES:",?33,$P(SRAO(1),"^"),?41,"CNS OCCURRENCES:",?74,$P(SRAO(4),"^")
"RTN","SROAPRT7",43,0)
 W !,"Superficial Incisional SSI:",?30,$P(SRAO("1A"),"^"),?41,"Stroke/CVA:" D
"RTN","SROAPRT7",44,0)
 .I $P(SRAO("4A"),"^")="   NO" W ?68,"NO SYMPTOMS" Q
"RTN","SROAPRT7",45,0)
 .W ?58,$J($P(SRAO("4A"),"^"),21)
"RTN","SROAPRT7",46,0)
 W !,"Deep Incisional SSI:",?30,$P(SRAO("1B"),"^"),?41,"Coma > 24 Hours:",?71,$P(SRAO("4B"),"^")
"RTN","SROAPRT7",47,0)
 W !,"Wound Disruption:",?30,$P(SRAO("1C"),"^"),?41,"Peripheral Nerve Injury:",?71,$P(SRAO("4C"),"^")
"RTN","SROAPRT7",48,0)
 I $P(SRAO("1D"),"^")'=""!($P(SRAO("4D"),"^")'="") W !,$P(SRAO("1D"),"^"),?41,$P(SRAO("4D"),"^")
"RTN","SROAPRT7",49,0)
 W !!,"URINARY TRACT OCCURRENCES: ",?33,$P(SRAO(3),"^"),?41,"CARDIAC OCCURRENCES:",?74,$P(SRAO(5),"^")
"RTN","SROAPRT7",50,0)
 W !,"Renal Insufficiency: ",?30,$P(SRAO("3A"),"^"),?41,"Arrest Requiring CPR:",?71,$P(SRAO("5A"),"^")
"RTN","SROAPRT7",51,0)
 W !,"Acute Renal Failure:",?30,$P(SRAO("3B"),"^"),?41,"Myocardial Infarction:",?71,$P(SRAO("5B"),"^")
"RTN","SROAPRT7",52,0)
 W !,"Symptomatic UTI:",?30,$P(SRAO("3C"),"^"),?41,$P(SRAO("5D"),"^")
"RTN","SROAPRT7",53,0)
 I $P(SRAO("3D"),"^")'="" W !,$P(SRAO("3D"),"^")
"RTN","SROAPRT7",54,0)
 W !,?41,"OTHER OCCURRENCES:",?74,$P(SRAO(6),"^")
"RTN","SROAPRT7",55,0)
 W !,"RESPIRATORY OCCURRENCES:",?33,$P(SRAO(2),"^"),?41,"Bleeding/Transfusions:",?71,$P(SRAO("6A"),"^")
"RTN","SROAPRT7",56,0)
 W !,"Pneumonia:",?30,$P(SRAO("2A"),"^"),?41,"Graft/Prosthesis/Flap Failure:",?71,$P(SRAO("6B"),"^")
"RTN","SROAPRT7",57,0)
 W !,"Mechanical Vent W/I 30 Days:",?30,$P(SRAO("2B"),"^"),?41,"DVT/Thrombophlebitis:",?71,$P(SRAO("6C"),"^")
"RTN","SROAPRT7",58,0)
 W !,"Pulmonary Embolism:",?30,$P(SRAO("2C"),"^"),?41,"Systemic Sepsis: " D
"RTN","SROAPRT7",59,0)
 .I $P(SRAO("6D"),"^")="   NO" W ?71,$P(SRAO("6D"),"^") Q
"RTN","SROAPRT7",60,0)
 .W $J($P(SRAO("6D"),"^"),21)
"RTN","SROAPRT7",61,0)
 W !,"On Ventilator > 48 Hours:",?30,$P(SRAO("2D"),"^"),?41,"Organ/Space SSI:",?71,$P(SRAO("6E"),"^")
"RTN","SROAPRT7",62,0)
 W !,$P(SRAO("2E"),"^"),?41,"C. difficile Colitis:",?71,$P(SRAO("6F"),"^")
"RTN","SROAPRT7",63,0)
 W !,?41,$P(SRAO("6G"),"^")
"RTN","SROAPRT7",64,0)
 I $G(SRSTAR) W !,"* indicates Other "_$$ICDSTR^SROICD(SRTN)
"RTN","SROAPRT7",65,0)
 I $E(IOST)="C" W !! K DIR S DIR(0)="FOA",DIR("A")="Press RETURN to continue" D ^DIR K DIR
"RTN","SROAPRT7",66,0)
 Q
"RTN","SROAPRT7",67,0)
YN S SHEMP=$S(NYUK="NS":"NS",NYUK="N":"NO",NYUK="Y":"YES",1:"")
"RTN","SROAPRT7",68,0)
 Q
"RTN","SROAPS1")
0^35^B33013237^B27027149
"RTN","SROAPS1",1,0)
SROAPS1 ;BIR/MAM - PREOP INFO (PAGE 1) ;08/11/2011
"RTN","SROAPS1",2,0)
 ;;3.0;Surgery;**38,47,125,153,166,174,176,182**;24 Jun 93;Build 49
"RTN","SROAPS1",3,0)
 ;
"RTN","SROAPS1",4,0)
 ; Reference to EN1^GMRVUT0 supported by DBIA #1446
"RTN","SROAPS1",5,0)
 ;
"RTN","SROAPS1",6,0)
 N I S SRPAGE="PAGE: 1 OF 2" D HDR^SROAUTL,PRE1
"RTN","SROAPS1",7,0)
 W ! F I=1:1:80 W "-"
"RTN","SROAPS1",8,0)
 Q
"RTN","SROAPS1",9,0)
PRE1 N SRX,Y D HW,TUT^SROAUTL3 F I=200,200.1,206 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROAPS1",10,0)
 S Y=$P(SRA(200),"^"),SRX=402,SRAO(1)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",11,0)
 S Y=$P(SRA(206),"^"),SRX=236,SRAO("1A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",12,0)
 S Y=$P(SRA(206),"^",2),SRX=237,SRAO("1B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",13,0)
 S Y=$P(SRA(200.1),"^",11),SRX=519,SRAO("1C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",14,0)
 S Y=$P(SRA(200.1),"^",12),SRX=520,SRAO("1D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",15,0)
 S Y=$P(SRA(200.1),"^",9),SRX=517,SRAO("1E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",16,0)
 S Y=$P(SRA(200.1),"^",10),SRX=518,SRAO("1F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",17,0)
 S Y=$P(SRA(200),"^",4),SRX=246,SRAO("1G")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",18,0)
 S Y=$P(SRA(200),"^",55),SRX=618,SRAO("1H")=$$H618^SROACL1(Y)_"^"_SRX
"RTN","SROAPS1",19,0)
 S Y=$P(SRA(200),"^",6),SRX=325,SRAO("1I")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",20,0)
 S Y=$P(SRA(200.1),"^",8),SRX=237.1,SRAO("1J")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",21,0)
 S Y=$P(SRA(200),"^",7),SRX=238,SRAO("1K")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",22,0)
 S Y=$P(SRA(200.1),"^",2),SRX=492,SRAO("1L")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",23,0)
 S Y=$P(SRA(200),"^",9),SRX=241,SRAO(2)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",24,0)
 S Y=$P(SRA(200),"^",10),SRX=204,SRAO("2A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",25,0)
 S Y=$P(SRA(200),"^",11),SRX=203,SRAO("2B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",26,0)
 S Y=$P(SRA(200),"^",12),SRX=326,SRAO("2C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",27,0)
 S Y=$P(SRA(200),"^",13),SRX=244,SRAO(3)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",28,0)
 S Y=$P(SRA(200),"^",15),SRX=212,SRAO("3A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",29,0)
 S Y=$P(SRA(200.1),"^"),SRX=486,SRAO(4)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",30,0)
 S Y=$P(SRA(200),"^",16),SRX=213,SRAO("4A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",31,0)
 S Y=$P(SRA(200),"^",30),SRX=242,SRAO(5)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",32,0)
 S Y=$P(SRA(206),"^",19),SRX=207,SRAO("5A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",33,0)
 S Y=$P(SRA(206),"^",14),SRX=205,SRAO("5B")=$S(Y=0:"NO",Y=1:"< OR = 7 DAYS OF SURG",Y=2:"BETWEEN 7 DAYS AND 6 MONTHS OF SURG",Y=3:"UNKNOWN",1:"")_"^"_SRX
"RTN","SROAPS1",34,0)
 S Y=$P(SRA(200),"^",56),SRX=640,SRAO("5C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",35,0)
 S Y=$P(SRA(206),"^",42),SRX=485,SRAO("5D")=Y_"^"_SRX
"RTN","SROAPS1",36,0)
 S Y=$P(SRA(206),"^",18),SRX=267,SRAO("5E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",37,0)
 S Y=$P(SRA(200),"^",59),SRX=643,SRAO("5F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",38,0)
 S Y=$P(SRA(200),"^",57),SRX=641,SRAO("5G")=$$H641^SROAPRT1(Y)_"^"_SRX
"RTN","SROAPS1",39,0)
 S Y=$P(SRA(200),"^",40),SRX=206,SRAO(6)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",40,0)
 S Y=$P(SRA(206),"^",16),SRX=265,SRAO("6A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS1",41,0)
 S Y=$P(SRA(200),"^",42),SRX=330,SRAO("6B")=$$OUT(SRX,Y)_"^"_SRX K SRA
"RTN","SROAPS1",42,0)
 W "1. GENERAL:",?32,$P(SRAO(1),"^"),?41,"3. HEPATOBILIARY:",?76,$P(SRAO(3),"^")
"RTN","SROAPS1",43,0)
 W !,"  A. Height:" S Y=$P(SRAO("1A"),"^") W:Y'="NS" ?14,$J($P(Y,"^"),25) W:Y="NS" ?32,Y
"RTN","SROAPS1",44,0)
 W ?43,"A. Ascites:",?76,$P(SRAO("3A"),"^")
"RTN","SROAPS1",45,0)
 W !,"  B. Weight:" S Y=$P(SRAO("1B"),"^") W ?($S(Y="NS":19,1:24)),$J(Y,15)
"RTN","SROAPS1",46,0)
 W !,"  C. Diabetes - Long Term:",?32,$P(SRAO("1C"),"^"),?41,"4. GASTROINTESTINAL:",?76,$P(SRAO(4),"^")
"RTN","SROAPS1",47,0)
 W !,"  D. Diabetes - 2 Wks Preop:",?32,$P(SRAO("1D"),"^"),?43,"A. Esophageal Varices:",?76,$P(SRAO("4A"),"^")
"RTN","SROAPS1",48,0)
 W !,"  E. Tobacco Use:",?19,$J($P(SRAO("1E"),"^"),21)
"RTN","SROAPS1",49,0)
 W !,"  F. Tobacco Use Timeframe:",?28,$P(SRAO("1F"),"^")
"RTN","SROAPS1",50,0)
 W !,"  G. ETOH > 2 Drinks/Day:",?32,$P(SRAO("1G"),"^"),?41,"5. CARDIAC:",?76,$P(SRAO(5),"^")
"RTN","SROAPS1",51,0)
 W !,"  H. Positive Drug Screening:",?30,$P(SRAO("1H"),"^"),?43,"A. Congestive Heart Failure: ",?76,$P(SRAO("5A"),"^")
"RTN","SROAPS1",52,0)
 W !,"  I. Dyspnea: ",?14,$J($P(SRAO("1I"),"^"),25),?43,"B. Prior MI: ",$J($E($P(SRAO("5B"),"^"),1,23),22)
"RTN","SROAPS1",53,0)
 W !,"  J. Preop Sleep Apnea:",?31,$P(SRAO("1J"),"^"),?43,"C. PCI: ",$J($P(SRAO("5C"),"^"),29)
"RTN","SROAPS1",54,0)
 W !,"  K. DNR Status: ",?32,$P(SRAO("1K"),"^"),?43,"D. Prior Heart Surgery:" D H485($P(SRAO("5D"),"^"))
"RTN","SROAPS1",55,0)
 W !,"  L. Preop Funct Status: ",$J($P(SRAO("1L"),"^"),17),?43,"E. Angina Severity:",$J($P(SRAO("5E"),"^"),18)
"RTN","SROAPS1",56,0)
 W !,?43,"F. Angina Timeframe:",$J($E($P(SRAO("5F"),"^"),1,15),17)
"RTN","SROAPS1",57,0)
 W !,?43,"G. Hypertension:",$J($P(SRAO("5G"),"^"),21)
"RTN","SROAPS1",58,0)
 W !,"2. PULMONARY:",?32,$P(SRAO(2),"^")
"RTN","SROAPS1",59,0)
 W !,"  A. Ventilator Dependent:",?32,$P(SRAO("2A"),"^"),?41,"6. VASCULAR:",?76,$P(SRAO(6),"^")
"RTN","SROAPS1",60,0)
 W !,"  B. History of Severe COPD:",?32,$P(SRAO("2B"),"^"),?43,"A. PAD:",?(78-$L($P(SRAO("6A"),"^"))),$P(SRAO("6A"),"^")
"RTN","SROAPS1",61,0)
 W !,"  C. Current Pneumonia:",?32,$P(SRAO("2C"),"^"),?43,"B. Rest Pain/Gangrene:",?76,$P(SRAO("6B"),"^")
"RTN","SROAPS1",62,0)
 Q
"RTN","SROAPS1",63,0)
OUT(SRFLD,SRY) ; get data in output form
"RTN","SROAPS1",64,0)
 N C,Y,Z
"RTN","SROAPS1",65,0)
 I SRFLD=207 Q $S(SRY="N":"NONE",1:SRY)
"RTN","SROAPS1",66,0)
 S Y=SRY,C=$P(^DD(130,SRFLD,0),"^",2) D:Y'="" Y^DIQ
"RTN","SROAPS1",67,0)
 S Y=$S(Y="NO STUDY":"NS",Y="N/A":"NA",1:Y)
"RTN","SROAPS1",68,0)
 I SRFLD=237.1 S Y=$E(Y,1,7)
"RTN","SROAPS1",69,0)
 I SRFLD=237!(SRFLD=346) S Y=$E(Y,1,15)
"RTN","SROAPS1",70,0)
 I SRFLD=236 S Z=$P($G(^SRF(SRTN,200.1)),"^",7) I Z'="" S Y="("_$E(Z,4,5)_"/"_$E(Z,6,7)_"/"_$E(Z,2,3)_")  "_Y
"RTN","SROAPS1",71,0)
 I SRFLD=492 D
"RTN","SROAPS1",72,0)
 .I SRY=2 S Y="PARTIAL DEPENDENT" Q
"RTN","SROAPS1",73,0)
 .I SRY=1 S Y=Y_"    " Q
"RTN","SROAPS1",74,0)
 .I SRY=4 S Y=Y_"      "
"RTN","SROAPS1",75,0)
 I SRFLD=325,$L(Y)=2 S Y=Y_"     "
"RTN","SROAPS1",76,0)
 I SRFLD=265 S Y=$S(SRY=1:"NO",SRY=2:"YES-W/O ANGI,REVASC,or AMPUT",SRY=3:"YES-W HX ANGI,REVASC,or AMPUT",SRY=4:"UNKNOWN",1:"") Q Y
"RTN","SROAPS1",77,0)
 Q Y
"RTN","SROAPS1",78,0)
HW ; get weight & height from Vitals
"RTN","SROAPS1",79,0)
 N SREND,SREQ,SREX,SREY,SRSTRT
"RTN","SROAPS1",80,0)
WT I $P($G(^SRF(SRTN,206)),"^",2)="" D
"RTN","SROAPS1",81,0)
 .S SREND=$P($G(^SRF(SRTN,0)),"^",9),SRSTRT=$$FMADD^XLFDT(SREND,-30),SREX=$$HW^SROACL1(SRSTRT,SREND,"WT")
"RTN","SROAPS1",82,0)
 .I SREX'="" S SREX=SREX+.5\1 D CHK^DIE(130,237,"E",SREX,.SREY) I SREY'="^" S $P(^SRF(SRTN,206),"^",2)=SREY
"RTN","SROAPS1",83,0)
HT I $P($G(^SRF(SRTN,206)),"^")'="" Q
"RTN","SROAPS1",84,0)
 N GMRVSTR,SRBRDT,SRBIEN,SRBDATA,SRHTDT
"RTN","SROAPS1",85,0)
 K ^UTILITY($J,"GMRVD"),RESULTS S SREND=$P($G(^SRF(SRTN,0)),"^",9),GMRVSTR="HT",GMRVSTR(0)="^"_SREND_"^^0"
"RTN","SROAPS1",86,0)
 D EN1^GMRVUT0 Q:'$D(^UTILITY($J,"GMRVD"))
"RTN","SROAPS1",87,0)
 S SRBRDT="",SRBRDT=$O(^UTILITY($J,"GMRVD","HT",SRBRDT)) Q:'SRBRDT  D
"RTN","SROAPS1",88,0)
 .S SRBIEN=0 F  S SRBIEN=$O(^UTILITY($J,"GMRVD","HT",SRBRDT,SRBIEN)) Q:'SRBIEN  D
"RTN","SROAPS1",89,0)
 ..S SRBDATA=$G(^UTILITY($J,"GMRVD","HT",SRBRDT,SRBIEN)),SREX=$P(SRBDATA,"^",8)
"RTN","SROAPS1",90,0)
 ..I SREX'="" S SREX=SREX+.5\1 D CHK^DIE(130,236,"E",SREX,.SREY) I SREY'="^" D
"RTN","SROAPS1",91,0)
 ...S $P(^SRF(SRTN,206),"^")=SREY
"RTN","SROAPS1",92,0)
 ...S SRHTDT=$P(SRBDATA,"^") I SRHTDT'="" S $P(^SRF(SRTN,200.1),"^",7)=SRHTDT
"RTN","SROAPS1",93,0)
 Q
"RTN","SROAPS1",94,0)
H485(X) S SHEMP="" F I=1:1:$L(X,",") D
"RTN","SROAPS1",95,0)
 .S C=$P(X,",",I) S:I>1 SHEMP=SHEMP_", " S SHEMP=SHEMP_$S(C=0:"NONE",C=1:"CABG-ONLY",C=2:"VALVE-ONLY",C=3:"CABG/VALVE",C=4:"OTHER",C=5:"CABG/OTHER",C=6:"UNKNOWN",1:"")
"RTN","SROAPS1",96,0)
 S X=SHEMP I $L(X)<12 W ?68,$J(X,12) Q
"RTN","SROAPS1",97,0)
 W ?68,$J($P(X,",")_",",12) I $L($P(X,", ",2,9))<36 W !,?45,$P(X,", ",2,9) Q
"RTN","SROAPS1",98,0)
 W !,?45,$P(X,", ",2,4)_",",!,?45,$P(X,", ",5,9)
"RTN","SROAPS1",99,0)
 Q
"RTN","SROAPS2")
0^82^B18823799^B17240705
"RTN","SROAPS2",1,0)
SROAPS2 ;BIR/MAM - PREOP INFO (PAGE 2) ;07/18/2011
"RTN","SROAPS2",2,0)
 ;;3.0;Surgery;**38,47,125,153,160,166,176,182**;24 Jun 93;Build 49
"RTN","SROAPS2",3,0)
 S SRPAGE="PAGE: 2 OF 2" D HDR^SROAUTL,PRE2
"RTN","SROAPS2",4,0)
 W !! F I=1:1:80 W "-"
"RTN","SROAPS2",5,0)
 Q
"RTN","SROAPS2",6,0)
PRE2 N SRX,Y S Y=$P($G(^SRF(SRTN,200.1)),"^",3) I Y="",$P(VADM(5),"^")="M" S $P(^SRF(SRTN,200.1),"^",3)="NA"
"RTN","SROAPS2",7,0)
 S SRA(200)=$G(^SRF(SRTN,200)),SRA(206)=$G(^SRF(SRTN,206)),SRA(200.1)=$G(^SRF(SRTN,200.1))
"RTN","SROAPS2",8,0)
 S Y=$P(SRA(200),"^",37),SRX=243,SRAO(1)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",9,0)
 S Y=$P(SRA(200),"^",38),SRX=328,SRAO("1A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",10,0)
 S Y=$P(SRA(200),"^",39),SRX=211,SRAO("1B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",11,0)
 S Y=$P(SRA(200),"^",18),SRX=210,SRAO(2)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",12,0)
 S Y=$P(SRA(200),"^",44),SRX=245,SRAO(3)=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",13,0)
 S Y=$P(SRA(200),"^",19),SRX=332,SRAO("2A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",14,0)
 S Y=$P(SRA(200),"^",21),SRX=333,SRAO("2B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",15,0)
 S Y=$P(SRA(200),"^",24),SRX=400,SRAO("2C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",16,0)
 S Y=$P(SRA(200.1),"^",13),SRX=521,SRAO("2D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",17,0)
 S Y=$P(SRA(200.1),"^",14),SRX=522,SRAO("2E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",18,0)
 S Y=$P(SRA(200),"^",29),SRX=401,SRAO("2F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",19,0)
 S Y=$P(SRA(200),"^",45),SRX=338,SRAO("3A")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",20,0)
 S Y=$P(SRA(200),"^",46),SRX=218,SRAO("3B")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",21,0)
 S Y=$P(SRA(200),"^",47),SRX=339,SRAO("3C")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",22,0)
 S Y=$P(SRA(200),"^",48),SRX=215,SRAO("3D")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",23,0)
 S Y=$P(SRA(200),"^",49),SRX=216,SRAO("3E")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",24,0)
 S Y=$P(SRA(200),"^",58),SRX=642,SRAO("3F")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",25,0)
 S Y=$P(SRA(200),"^",50),SRX=217,SRAO("3G")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",26,0)
 S Y=$P(SRA(206),"^",3),SRX=338.1,SRAO("3H")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",27,0)
 S Y=$P(SRA(206),"^",4),SRX=338.2,SRAO("3I")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",28,0)
 S Y=$P(SRA(206),"^",8),SRX=218.1,SRAO("3J")=$$OUT(SRX,Y)_"^"_SRX
"RTN","SROAPS2",29,0)
 S Y=$P(SRA(200.1),"^",3),SRX=269,SRAO("3K")=$$OUT(SRX,Y)_"^"_SRX K SRA
"RTN","SROAPS2",30,0)
 W !,"1. RENAL:",?(38-$L($P(SRAO(1),"^"))),$P(SRAO(1),"^"),?40,"3. NUTRITIONAL/IMMUNE/OTHER:",?(79-$L($P(SRAO(3),"^"))),$P(SRAO(3),"^")
"RTN","SROAPS2",31,0)
 W !,"  A. Acute Renal Failure:",?(38-$L($P(SRAO("1A"),"^"))),$P(SRAO("1A"),"^"),?40,"  A. Disseminated Cancer:",?(79-$L($P(SRAO("3A"),"^"))),$P(SRAO("3A"),"^")
"RTN","SROAPS2",32,0)
 W !,"  B. Currently on Dialysis:",?(38-$L($P(SRAO("1B"),"^"))),$P(SRAO("1B"),"^"),?40,"  B. Open Wound:",?(79-$L($P(SRAO("3B"),"^"))),$P(SRAO("3B"),"^")
"RTN","SROAPS2",33,0)
 W !,?40,"  C. Steroid Use for Chronic Cond.:",?(79-$L($P(SRAO("3C"),"^"))),$P(SRAO("3C"),"^")
"RTN","SROAPS2",34,0)
 W !,?40,"  D. Weight Loss > 10%:",?(79-$L($P(SRAO("3D"),"^"))),$P(SRAO("3D"),"^")
"RTN","SROAPS2",35,0)
 W !,"2. CENTRAL NERVOUS SYSTEM:",?(38-$L($P(SRAO(2),"^"))),$P(SRAO(2),"^"),?40,"  E. Bleeding Disorders:",?(79-$L($P(SRAO("3E"),"^"))),$P(SRAO("3E"),"^")
"RTN","SROAPS2",36,0)
 W !,"  A. Impaired Sensorium: ",?(38-$L($P(SRAO("2A"),"^"))),$P(SRAO("2A"),"^"),?40,"  F. Bleed Due To Med:",?(79-$L($P(SRAO("3F"),"^"))),$P(SRAO("3F"),"^")
"RTN","SROAPS2",37,0)
 W !,"  B. Coma:",?(38-$L($P(SRAO("2B"),"^"))),$P(SRAO("2B"),"^"),?40,"  G. Transfusion > 4 RBC Units:",?(79-$L($P(SRAO("3G"),"^"))),$P(SRAO("3G"),"^")
"RTN","SROAPS2",38,0)
 W !,"  C. Hemiplegia:",?(38-$L($P(SRAO("2C"),"^"))),$P(SRAO("2C"),"^"),?40,"  H. Chemotherapy W/I 30 Days:",?(79-$L($P(SRAO("3H"),"^"))),$P(SRAO("3H"),"^")
"RTN","SROAPS2",39,0)
 W !,"  D. CVD Repair/Obstruct: ",?(39-$L($P(SRAO("2D"),"^"))),$P(SRAO("2D"),"^"),?40,"  I. Radiotherapy W/I 90 Days:",?(79-$L($P(SRAO("3I"),"^"))),$P(SRAO("3I"),"^")
"RTN","SROAPS2",40,0)
 W !,"  E. History of CVD: ",?(39-$L($P(SRAO("2E"),"^"))),$P(SRAO("2E"),"^"),?40,"  J. Preoperative Sepsis:",?(79-$L($P(SRAO("3J"),"^"))),$P(SRAO("3J"),"^")
"RTN","SROAPS2",41,0)
 W !,"  F. Tumor Involving CNS:",?(38-$L($P(SRAO("2F"),"^"))),$P(SRAO("2F"),"^"),?40,"  K. Pregnancy:",?(79-$L($P(SRAO("3K"),"^"))),$P(SRAO("3K"),"^")
"RTN","SROAPS2",42,0)
 Q
"RTN","SROAPS2",43,0)
OUT(SRFLD,SRY) ; get data in output form
"RTN","SROAPS2",44,0)
 N C,Y
"RTN","SROAPS2",45,0)
 I SRFLD=521 S Y=$S(SRY=1:"YES/NO SURG",SRY=2:"YES/PRIOR SURG",SRY=0:"NO CVD",1:"") Q Y
"RTN","SROAPS2",46,0)
 I SRFLD=522 S Y=$S(SRY=1:"HIST OF TIA'S",SRY=2:"CVA W/O NEURO DEF",SRY=3:"CVA W/ NEURO DEF",SRY=0:"NO CVD",1:"") Q Y
"RTN","SROAPS2",47,0)
 I SRFLD=642 S Y=$S(SRY=1:"NO BLEEDING",SRY=2:"CHRONIC ASPIRIN",SRY=3:"RISK MED D'C",SRY=4:"RISK MED NOT D'C",1:"") Q Y
"RTN","SROAPS2",48,0)
 S Y=SRY,C=$P(^DD(130,SRFLD,0),"^",2) D:Y'="" Y^DIQ
"RTN","SROAPS2",49,0)
 I Y="NO STUDY" S Y="NS"
"RTN","SROAPS2",50,0)
 Q Y
"RTN","SROAT0P")
0^36^B15440516^B15119995
"RTN","SROAT0P",1,0)
SROAT0P ;B'HAM ISC/MAM - ATTENDING SURGEON REPORT (CONT.) ; [ 05/11/04  2:33 PM ]
"RTN","SROAT0P",2,0)
 ;;3.0;Surgery;**50,129,182**;24 Jun 93;Build 49
"RTN","SROAT0P",3,0)
 S SRPAGE=1 D HDR Q:SRSOUT
"RTN","SROAT0P",4,0)
 S SRSDATE=0 F  S SRSDATE=$O(^TMP("SR",$J,SRSDATE)) Q:'SRSDATE!(SRSOUT)  S SRTN=0 F  S SRTN=$O(^TMP("SR",$J,SRSDATE,SRTN)) Q:'SRTN!(SRSOUT)  D SET
"RTN","SROAT0P",5,0)
 Q
"RTN","SROAT0P",6,0)
SET ; print case
"RTN","SROAT0P",7,0)
 I $Y+7>IOSL D PAGE I SRSOUT Q
"RTN","SROAT0P",8,0)
 K SRATC S SRATC="",Y=$P($G(^SRF(SRTN,.1)),"^",10) I Y S C=$P(^DD(130,.166,0),"^",2) D Y^DIQ S SRATC=Y
"RTN","SROAT0P",9,0)
 I SRATC="" S SRATC="ATTENDING/RES SUP CODE NOT ENTERED"
"RTN","SROAT0P",10,0)
 S:SRATC<36 SRATC(1)=SRATC I $L(SRATC)>35 D
"RTN","SROAT0P",11,0)
 .N I,J,X,Y S X=SRATC F I=0:1:34 S J=35-I,Y=$E(X,J) I Y=" " S SRATC(1)=$E(X,1,J-1) S SRATC(2)=$E(X,J+1,$L(X)) Q
"RTN","SROAT0P",12,0)
 S SRDT=$E(SRSDATE,4,5)_"/"_$E(SRSDATE,6,7)_"/"_$E(SRSDATE,2,3),SR(0)=^SRF(SRTN,0),DFN=$P(SR(0),"^") D DEM^VADPT
"RTN","SROAT0P",13,0)
 S SRSS=$P(^SRF(SRTN,0),"^",4),SRSS=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"SPECIALTY NOT ENTERED")
"RTN","SROAT0P",14,0)
 S SRDIAG=$S($D(^SRF(SRTN,34)):$P(^(34),"^"),1:"POSTOPERATIVE DIAGNOSIS NOT ENTERED")
"RTN","SROAT0P",15,0)
 S SR(.1)=$S($D(^SRF(SRTN,.1)):^(.1),1:""),SRSUR=$P(SR(.1),"^",4),SRFST=$P(SR(.1),"^",5),SRTWO=$P(SR(.1),"^",6)
"RTN","SROAT0P",16,0)
 I SRSUR S SRSUR=$P(^VA(200,SRSUR,0),"^") I $L(SRSUR)>17 S SRSUR=$P(SRSUR,",")_","_$E($P(SRSUR,",",2))
"RTN","SROAT0P",17,0)
 I SRFST S SRFST=$P(^VA(200,SRFST,0),"^") I $L(SRFST)>17 S SRFST=$P(SRFST,",")_","_$E($P(SRFST,",",2))
"RTN","SROAT0P",18,0)
 I SRTWO S SRTWO=$P(^VA(200,SRTWO,0),"^") I $L(SRTWO)>17 S SRTWO=$P(SRTWO,",")_","_$E($P(SRTWO,",",2))
"RTN","SROAT0P",19,0)
OPS S SROPER=$P(^SRF(SRTN,"OP"),"^"),OPER=0 F I=0:0 S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SROAT0P",20,0)
 K SROP,MM,MMM S:$L(SROPER)<55 SROP(1)=SROPER I $L(SROPER)>54 S SROPER=SROPER_"  " S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROAT0P",21,0)
 W !!,SRDT,?12,VADM(1),?50,SRSS,?112,SRSUR,!,SRTN,?12,VA("PID"),?50,SRDIAG,?112,SRFST,! W:$P($G(^SRF(SRTN,30)),"^") "ABORTED" W ?12,SRATC(1),?50,SROP(1),?112,SRTWO
"RTN","SROAT0P",22,0)
 I $D(SRATC(2))!$D(SROP(2)) W ! W:$D(SRATC(2)) ?13,SRATC(2) W:$D(SROP(2)) ?50,SROP(2)
"RTN","SROAT0P",23,0)
 I $D(SROP(3)) W !,?50,SROP(3) I $D(SROP(4)) W !,?50,SROP(4)
"RTN","SROAT0P",24,0)
 Q
"RTN","SROAT0P",25,0)
OTHER ; other operations
"RTN","SROAT0P",26,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>240 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROAT0P",27,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SROAT0P",28,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROAT0P",29,0)
 Q
"RTN","SROAT0P",30,0)
LOOP ; break procedure if greater than 55 characters
"RTN","SROAT0P",31,0)
 S SROP(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROP(M))+$L(MM)'<55  S SROP(M)=SROP(M)_MM_" ",SROPER=MMM
"RTN","SROAT0P",32,0)
 Q
"RTN","SROAT0P",33,0)
PAGE I $E(IOST)="P" D HDR Q
"RTN","SROAT0P",34,0)
 W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROAT0P",35,0)
 I X["?" W !!,"There are more cases for the date range selected.  If you want to continue",!,"listing them, enter RETURN.  Enter '^' to exit from this option." G PAGE
"RTN","SROAT0P",36,0)
HDR ; print heading
"RTN","SROAT0P",37,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROAT0P",38,0)
 I $Y W @IOF
"RTN","SROAT0P",39,0)
 W !,?(132-$L(SRINST)\2),SRINST,?120,"PAGE: ",SRPAGE,!,?58,"SURGICAL SERVICE",?100,"REVIEWED BY: ",!,?54,"ATTENDING SURGEON REPORT",?100,"DATE REVIEWED: "
"RTN","SROAT0P",40,0)
 W !,?(132-$L(SRFRTO)\2),SRFRTO,?100,SRPRINT
"RTN","SROAT0P",41,0)
 W !!,?3,"DATE",?12,"PATIENT",?50,"SURGICAL SPECIALTY",?112,"PRIMARY SURGEON",!,?2,"CASE #",?14,"ID#",?50,"PRINCIPAL DIAGNOSIS",?112,"1ST ASST",!,?12,"ATTENDING/RES SUP CODE",?50,"OPERATIVE PROCEDURE(S)",?112,"2ND ASST",! F I=1:1:132 W "="
"RTN","SROAT0P",42,0)
 W !!,?(132-$L(SRATT)\2),SRATT,!,?(132-$L(SRATT)\2),SRATT1 S SRPAGE=SRPAGE+1
"RTN","SROAT0P",43,0)
 Q
"RTN","SROAT0T")
0^37^B3977219^B3942191
"RTN","SROAT0T",1,0)
SROAT0T ;B'HAM ISC/MAM - ATTENDING SURGEON CUMULATIVE ; [ 05/11/04  2:33 PM ]
"RTN","SROAT0T",2,0)
 ;;3.0;Surgery;**50,129,182**;24 Jun 93;Build 49
"RTN","SROAT0T",3,0)
 I SRBOTH D PAGE I SRSOUT Q
"RTN","SROAT0T",4,0)
 D HDR Q:SRSOUT  W !!,?1,"TOTAL CASES",?16,"ATTENDING CODE",!,?1,"-----------",?16,"--------------"
"RTN","SROAT0T",5,0)
 S (HDR,CODE)="" F  S CODE=$O(^TMP("SRTOT",$J,CODE)) Q:CODE=""  D PRINT
"RTN","SROAT0T",6,0)
 W !!,?1,$J(^TMP("SRTOT",$J),6),?16,"TOTAL CASES FROM "_$E(SRSD,4,5)_"/"_$E(SRSD,6,7)_"/"_$E(SRSD,2,3)_" TO "_$E(SRED,4,5)_"/"_$E(SRED,6,7)_"/"_$E(SRED,2,3)
"RTN","SROAT0T",7,0)
 Q
"RTN","SROAT0T",8,0)
PRINT I 'CODE S SRCODE="ATTENDING/RES SUP CODE NOT ENTERED"
"RTN","SROAT0T",9,0)
 I CODE S Y=CODE,C=$P(^DD(130,.166,0),"^",2) D Y^DIQ S SRCODE=Y
"RTN","SROAT0T",10,0)
 W !,?1,$J(^TMP("SRTOT",$J,CODE),6),?16,SRCODE
"RTN","SROAT0T",11,0)
 Q
"RTN","SROAT0T",12,0)
HDR ; print heading
"RTN","SROAT0T",13,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROAT0T",14,0)
 I +$Y W @IOF
"RTN","SROAT0T",15,0)
 W !,?(80-$L(SRINST)\2),SRINST,!,?32,"SURGICAL SERVICE",!,?22,"ATTENDING SURGEON CUMULATIVE REPORT"
"RTN","SROAT0T",16,0)
 W !,?(80-$L(SRFRTO)\2),SRFRTO
"RTN","SROAT0T",17,0)
 I $E(IOST)="P" W !,?30,SRPRINT,!!,?8,"REVIEWED BY: ",?53,"DATE REVIEWED: "
"RTN","SROAT0T",18,0)
 W ! F LINE=1:1:80 W "="
"RTN","SROAT0T",19,0)
 W !!,?(80-$L(SRATT)\2),SRATT,!,?(80-$L(SRATT)\2),SRATT1
"RTN","SROAT0T",20,0)
 Q
"RTN","SROAT0T",21,0)
PAGE S X="" I $E(IOST)'="P" W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROAT0T",22,0)
 I X["?" W !!,"Enter RETURN to continue printing the report, or '^' to exit from this option." G PAGE
"RTN","SROAT0T",23,0)
 Q
"RTN","SROAT1P")
0^38^B18845998^B18518763
"RTN","SROAT1P",1,0)
SROAT1P ;B'HAM ISC/MAM - ATTENDING SURGEON REPORT (CONT.) ; [ 05/11/04  11:29 AM ]
"RTN","SROAT1P",2,0)
 ;;3.0;Surgery;**52,50,129,182**;24 Jun 93;Build 49
"RTN","SROAT1P",3,0)
 S SRSAV=SRSS,SRSS=$P(^SRO(137.45,SRSS,0),"^"),SRSS1="",SRSSL=132-$L(SRSS)\2 F LINE=1:1:$L(SRSS) S SRSS1=SRSS1_"="
"RTN","SROAT1P",4,0)
 S SRPAGE=1,(SRATT,SRHDR,SRNEW)=0 D HDR
"RTN","SROAT1P",5,0)
 F  S SRATT=$O(^TMP("SR",$J,SRATT)) Q:SRATT=""!SRSOUT  S SRHDR=1,SRATT1="ATTENDING SURGEON: "_$S($E(SRATT,1,3)'="ZZ ":SRATT,1:$E(SRATT,4,99)) D  Q:SRSOUT
"RTN","SROAT1P",6,0)
 .I 'SRB D:($Y+10>IOSL) PAGE Q:SRSOUT  D AT,MORE
"RTN","SROAT1P",7,0)
 .I SRB D:SRNEW PAGE Q:SRSOUT  D:'SRNEW AT S SRNEW=1 D MORE
"RTN","SROAT1P",8,0)
 I '$D(^TMP("SR",$J)) W $$NODATA^SROUTL0()
"RTN","SROAT1P",9,0)
 S SRSS=SRSAV Q
"RTN","SROAT1P",10,0)
MORE S SRATC="" F  S SRATC=$O(^TMP("SR",$J,SRATT,SRATC)) Q:SRATC=""!(SRSOUT)  S SRSDATE=0 F  S SRSDATE=$O(^TMP("SR",$J,SRATT,SRATC,SRSDATE)) Q:'SRSDATE!SRSOUT  D CASE
"RTN","SROAT1P",11,0)
 Q
"RTN","SROAT1P",12,0)
CASE S SRTN=0 F  S SRTN=$O(^TMP("SR",$J,SRATT,SRATC,SRSDATE,SRTN)) Q:'SRTN!(SRSOUT)  D SET
"RTN","SROAT1P",13,0)
 Q
"RTN","SROAT1P",14,0)
SET ; print case
"RTN","SROAT1P",15,0)
 I $Y+7>IOSL S SRHDR=1 D PAGE I SRSOUT Q
"RTN","SROAT1P",16,0)
 K SRCODE S CODE=SRATC I 'CODE S SRCODE="ATTENDING/RES SUP CODE NOT ENTERED"
"RTN","SROAT1P",17,0)
 I CODE S Y=CODE,C=$P(^DD(130,.166,0),"^",2) D Y^DIQ S SRCODE=Y
"RTN","SROAT1P",18,0)
 S:SRCODE<36 SRCODE(1)=SRCODE I $L(SRCODE)>35 D
"RTN","SROAT1P",19,0)
 .N I,J,X,Y S X=SRCODE F I=0:1:34 S J=35-I,Y=$E(X,J) I Y=" " S SRCODE(1)=$E(X,1,J-1) S SRCODE(2)=$E(X,J+1,$L(X)) Q
"RTN","SROAT1P",20,0)
 S SRDT=$E(SRSDATE,4,5)_"/"_$E(SRSDATE,6,7)_"/"_$E(SRSDATE,2,3),SR(0)=^SRF(SRTN,0),DFN=$P(SR(0),"^") D DEM^VADPT
"RTN","SROAT1P",21,0)
 S SRDIAG=$S($D(^SRF(SRTN,34)):$P(^(34),"^"),1:"POSTOPERATIVE DIAGNOSIS NOT ENTERED")
"RTN","SROAT1P",22,0)
 S SR(.1)=$S($D(^SRF(SRTN,.1)):^(.1),1:""),SRSUR=$P(SR(.1),"^",4),SRFST=$P(SR(.1),"^",5),SRTWO=$P(SR(.1),"^",6)
"RTN","SROAT1P",23,0)
 I SRSUR S SRSUR=$P(^VA(200,SRSUR,0),"^") I $L(SRSUR)>17 S SRSUR=$P(SRSUR,",")_","_$E($P(SRSUR,",",2))
"RTN","SROAT1P",24,0)
 I SRFST S SRFST=$P(^VA(200,SRFST,0),"^") I $L(SRFST)>17 S SRFST=$P(SRFST,",")_","_$E($P(SRFST,",",2))
"RTN","SROAT1P",25,0)
 I SRTWO S SRTWO=$P(^VA(200,SRTWO,0),"^") I $L(SRTWO)>17 S SRTWO=$P(SRTWO,",")_","_$E($P(SRTWO,",",2))
"RTN","SROAT1P",26,0)
OPS S SROPER=$P(^SRF(SRTN,"OP"),"^"),OPER=0 F I=0:0 S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SROAT1P",27,0)
 K SROP,MM,MMM S:$L(SROPER)<55 SROP(1)=SROPER I $L(SROPER)>54 S SROPER=SROPER_"  " S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROAT1P",28,0)
 W !!,SRDT,?12,VADM(1),?52,SRDIAG,?112,SRSUR,!,SRTN,?12,VA("PID"),?52,SROP(1),?112,SRFST,! W:$P($G(^SRF(SRTN,30)),"^") "ABORTED" W ?12,SRCODE(1) W:$D(SROP(2)) ?52,SROP(2) W ?112,SRTWO
"RTN","SROAT1P",29,0)
 I $D(SRCODE(2))!$D(SROP(3)) W ! W:$D(SRCODE(2)) ?13,SRCODE(2) W:$D(SROP(3)) ?50,SROP(3)
"RTN","SROAT1P",30,0)
 I $D(SROP(4)) W !,?50,SROP(4)
"RTN","SROAT1P",31,0)
 Q
"RTN","SROAT1P",32,0)
OTHER ; other operations
"RTN","SROAT1P",33,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>240 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROAT1P",34,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SROAT1P",35,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROAT1P",36,0)
 Q
"RTN","SROAT1P",37,0)
LOOP ; break procedure if greater than 55 characters
"RTN","SROAT1P",38,0)
 S SROP(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROP(M))+$L(MM)'<55  S SROP(M)=SROP(M)_MM_" ",SROPER=MMM
"RTN","SROAT1P",39,0)
 Q
"RTN","SROAT1P",40,0)
PAGE I $E(IOST)="P" D HDR Q
"RTN","SROAT1P",41,0)
 W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROAT1P",42,0)
 I X["?" W !!,"There are more cases for the date range listed.  If you want to continue",!,"listing them, enter RETURN.  Enter '^' to exit from this option." G PAGE
"RTN","SROAT1P",43,0)
 S SRHDR=1
"RTN","SROAT1P",44,0)
HDR ; print heading
"RTN","SROAT1P",45,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROAT1P",46,0)
 I +$Y W @IOF
"RTN","SROAT1P",47,0)
 W !,?(132-$L(SRINST)\2),SRINST,?120,"PAGE: ",SRPAGE,!,?58,"SURGICAL SERVICE",?100,"REVIEWED BY: ",!,?54,"ATTENDING SURGEON REPORT",?100,"DATE REVIEWED: "
"RTN","SROAT1P",48,0)
 W !,?(132-$L(SRFRTO)\2),SRFRTO,?100,SRPRINT
"RTN","SROAT1P",49,0)
 W !!,?3,"DATE",?12,"PATIENT",?52,"PRINCIPAL DIAGNOSIS",?112,"PRIMARY SURGEON",!,?2,"CASE #",?14,"ID#",?52,"PRINCIPAL OPERATIVE PROCEDURE",?112,"1ST ASST",!,?12,"ATTENDING/RES SUP CODE",?112,"2ND ASST",! F I=1:1:132 W "="
"RTN","SROAT1P",50,0)
 W !!,?SRSSL,SRSS,!,?SRSSL,SRSS1 S SRPAGE=SRPAGE+1 D AT
"RTN","SROAT1P",51,0)
 Q
"RTN","SROAT1P",52,0)
AT I 'SRHDR S SRHDR=1 Q
"RTN","SROAT1P",53,0)
 S SRATT2="" F LINE=1:1:$L(SRATT1) S SRATT2=SRATT2_"-"
"RTN","SROAT1P",54,0)
 S X=132-$L(SRATT1)\2 W !!,?X,SRATT1,!,?X,SRATT2 S SRHDR=0
"RTN","SROAT1P",55,0)
 Q
"RTN","SROAT1T")
0^39^B2789476^B2755009
"RTN","SROAT1T",1,0)
SROAT1T ;B'HAM ISC/MAM - ATTENDING SURGEON CUMULATIVE ; [ 05/11/04  2:33 PM ]
"RTN","SROAT1T",2,0)
 ;;3.0;Surgery;**50,129,182**;24 Jun 93;Build 49
"RTN","SROAT1T",3,0)
 D HDR Q:SRSOUT  W !!,?1,"TOTAL CASES",?16,"ATTENDING CODE",!,?1,"-----------",?16,"--------------"
"RTN","SROAT1T",4,0)
 S (HDR,CODE)="" F  S CODE=$O(^TMP("SRTOT",$J,CODE)) Q:CODE=""  D PRINT
"RTN","SROAT1T",5,0)
 W !!,?1,$J(^TMP("SRTOT",$J),6),?16,"TOTAL CASES FROM "_$E(SRSD,4,5)_"/"_$E(SRSD,6,7)_"/"_$E(SRSD,2,3)_" TO "_$E(SRED,4,5)_"/"_$E(SRED,6,7)_"/"_$E(SRED,2,3)
"RTN","SROAT1T",6,0)
 Q
"RTN","SROAT1T",7,0)
PRINT I 'CODE S SRCODE="ATTENDING/RES SUP CODE NOT ENTERED"
"RTN","SROAT1T",8,0)
 I CODE S Y=CODE,C=$P(^DD(130,.166,0),"^",2) D Y^DIQ S SRCODE=Y
"RTN","SROAT1T",9,0)
 W !,?1,$J(^TMP("SRTOT",$J,CODE),6),?16,SRCODE
"RTN","SROAT1T",10,0)
 Q
"RTN","SROAT1T",11,0)
HDR ; print heading
"RTN","SROAT1T",12,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROAT1T",13,0)
 I +$Y W @IOF
"RTN","SROAT1T",14,0)
 W !,?(80-$L(SRINST)\2),SRINST,!,?32,"SURGICAL SERVICE",!,?22,"ATTENDING SURGEON CUMULATIVE REPORT"
"RTN","SROAT1T",15,0)
 W !,?(80-$L(SRFRTO)\2),SRFRTO
"RTN","SROAT1T",16,0)
 I $E(IOST)="P" W !,?30,"DATE PRINTED: ",SRPRINT,!!,?8,"REVIEWED BY: ",?53,"DATE REVIEWED: "
"RTN","SROAT1T",17,0)
 W ! F LINE=1:1:80 W "="
"RTN","SROAT1T",18,0)
 S SRSS=$P(^SRO(137.45,SRSS,0),"^") W !!,?(80-$L(SRSS)\2),SRSS
"RTN","SROAT1T",19,0)
 Q
"RTN","SROAT2P")
0^40^B19190792^B18866996
"RTN","SROAT2P",1,0)
SROAT2P ;B'HAM ISC/MAM - ATTENDING SURGEON REPORT (CONT.) ; [ 05/11/04  11:29 AM ]
"RTN","SROAT2P",2,0)
 ;;3.0;Surgery;**52,50,129,182**;24 Jun 93;Build 49
"RTN","SROAT2P",3,0)
 S (SRHDR,SRSS)=0,SRPAGE=1
"RTN","SROAT2P",4,0)
 F  S SRSS=$O(^TMP("SR",$J,SRSS)) Q:SRSS=""!(SRSOUT)  S (SRHDR,SRNEW)=0 D PAGE S SRATT=0 F  S SRATT=$O(^TMP("SR",$J,SRSS,SRATT)) Q:SRATT=""!(SRSOUT)  S SRHDR=1 D MORE
"RTN","SROAT2P",5,0)
 I '$D(^TMP("SR",$J)) D HDR W $$NODATA^SROUTL0()
"RTN","SROAT2P",6,0)
 Q
"RTN","SROAT2P",7,0)
MORE S SRATT1="ATTENDING SURGEON: "_$S($E(SRATT,1,3)'="ZZ ":SRATT,1:$E(SRATT,4,99)) D  Q:SRSOUT
"RTN","SROAT2P",8,0)
 .I 'SRB D:$Y+11>IOSL PAGE Q:SRSOUT  D AT
"RTN","SROAT2P",9,0)
 .I SRB D:SRNEW PAGE Q:SRSOUT  D:'SRNEW AT S SRNEW=1
"RTN","SROAT2P",10,0)
 S SRATC="" F  S SRATC=$O(^TMP("SR",$J,SRSS,SRATT,SRATC)) Q:SRATC=""!(SRSOUT)  S SRSDATE=0 F  S SRSDATE=$O(^TMP("SR",$J,SRSS,SRATT,SRATC,SRSDATE)) Q:'SRSDATE  D CASE
"RTN","SROAT2P",11,0)
 Q
"RTN","SROAT2P",12,0)
CASE S SRTN=0 F  S SRTN=$O(^TMP("SR",$J,SRSS,SRATT,SRATC,SRSDATE,SRTN)) Q:'SRTN!(SRSOUT)  D SET
"RTN","SROAT2P",13,0)
 Q
"RTN","SROAT2P",14,0)
SET ; print case
"RTN","SROAT2P",15,0)
 I $Y+7>IOSL S SRHDR=1 D PAGE Q:SRSOUT
"RTN","SROAT2P",16,0)
 K SRCODE S CODE=SRATC I 'CODE S SRCODE="ATTENDING/RES SUP CODE NOT ENTERED"
"RTN","SROAT2P",17,0)
 I CODE S Y=CODE,C=$P(^DD(130,.166,0),"^",2) D Y^DIQ S SRCODE=Y
"RTN","SROAT2P",18,0)
 S:SRCODE<36 SRCODE(1)=SRCODE I $L(SRCODE)>35 D
"RTN","SROAT2P",19,0)
 .N I,J,X,Y S X=SRCODE F I=0:1:34 S J=35-I,Y=$E(X,J) I Y=" " S SRCODE(1)=$E(X,1,J-1) S SRCODE(2)=$E(X,J+1,$L(X)) Q
"RTN","SROAT2P",20,0)
 S SRDT=$E(SRSDATE,4,5)_"/"_$E(SRSDATE,6,7)_"/"_$E(SRSDATE,2,3),SR(0)=^SRF(SRTN,0),DFN=$P(SR(0),"^") D DEM^VADPT
"RTN","SROAT2P",21,0)
 S SRDIAG=$S($D(^SRF(SRTN,34)):$P(^(34),"^"),1:"POSTOPERATIVE DIAGNOSIS NOT ENTERED")
"RTN","SROAT2P",22,0)
 S SR(.1)=$S($D(^SRF(SRTN,.1)):^(.1),1:""),SRSUR=$P(SR(.1),"^",4),SRFST=$P(SR(.1),"^",5),SRTWO=$P(SR(.1),"^",6)
"RTN","SROAT2P",23,0)
 I SRSUR S SRSUR=$P(^VA(200,SRSUR,0),"^") I $L(SRSUR)>17 S SRSUR=$P(SRSUR,",")_","_$E($P(SRSUR,",",2))
"RTN","SROAT2P",24,0)
 I SRFST S SRFST=$P(^VA(200,SRFST,0),"^") I $L(SRFST)>17 S SRFST=$P(SRFST,",")_","_$E($P(SRFST,",",2))
"RTN","SROAT2P",25,0)
 I SRTWO S SRTWO=$P(^VA(200,SRTWO,0),"^") I $L(SRTWO)>17 S SRTWO=$P(SRTWO,",")_","_$E($P(SRTWO,",",2))
"RTN","SROAT2P",26,0)
OPS S SROPER=$P(^SRF(SRTN,"OP"),"^"),OPER=0 F I=0:0 S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SROAT2P",27,0)
 K SROP,MM,MMM S:$L(SROPER)<55 SROP(1)=SROPER I $L(SROPER)>54 S SROPER=SROPER_"  " S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROAT2P",28,0)
 W !!,SRDT,?12,VADM(1),?50,SRDIAG,?112,SRSUR,!,SRTN,?12,VA("PID"),?50,SROP(1),?112,SRFST,! W:$P($G(^SRF(SRTN,30)),"^") "ABORTED" W ?12,SRCODE(1) W:$D(SROP(2)) ?50,SROP(2) W ?112,SRTWO
"RTN","SROAT2P",29,0)
 I $D(SRCODE(2))!$D(SROP(3)) W ! W:$D(SRCODE(2)) ?13,SRCODE(2) W:$D(SROP(3)) ?50,SROP(3)
"RTN","SROAT2P",30,0)
 I $D(SROP(4)) W !,?50,SROP(4)
"RTN","SROAT2P",31,0)
 Q
"RTN","SROAT2P",32,0)
OTHER ; other operations
"RTN","SROAT2P",33,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>240 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROAT2P",34,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SROAT2P",35,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROAT2P",36,0)
 Q
"RTN","SROAT2P",37,0)
LOOP ; break procedure if greater than 55 characters
"RTN","SROAT2P",38,0)
 S SROP(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROP(M))+$L(MM)'<55  S SROP(M)=SROP(M)_MM_" ",SROPER=MMM
"RTN","SROAT2P",39,0)
 Q
"RTN","SROAT2P",40,0)
PAGE I $E(IOST)="P"!('SRFLG) D HDR S SRFLG=1 Q
"RTN","SROAT2P",41,0)
 W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROAT2P",42,0)
 I X["?" W !!,"There are more cases for the date range selected.  If you want to continue",!,"listing them, enter RETURN.  Enter '^' to exit from this option." G PAGE
"RTN","SROAT2P",43,0)
HDR ; print heading
"RTN","SROAT2P",44,0)
 I +$Y W @IOF
"RTN","SROAT2P",45,0)
 W !,?(132-$L(SRINST)\2),SRINST,?120,"PAGE: ",SRPAGE,!,?58,"SURGICAL SERVICE",?100,"REVIEWED BY: ",!,?54,"ATTENDING SURGEON REPORT",?100,"DATE REVIEWED: "
"RTN","SROAT2P",46,0)
 W !,?(132-$L(SRFRTO)\2),SRFRTO,?100,SRPRINT
"RTN","SROAT2P",47,0)
 W !!?3,"DATE",?12,"PATIENT",?50,"PRINCIPAL DIAGNOSIS",?112,"PRIMARY SURGEON",!,?2,"CASE #",?14,"ID#",?50,"PRINCIPAL OPERATIVE PROCEDURE",?112,"1ST ASST",!,?12,"ATTENDING/RES SUP CODE",?112,"2ND ASST",! F I=1:1:132 W "="
"RTN","SROAT2P",48,0)
 S SRPAGE=SRPAGE+1
"RTN","SROAT2P",49,0)
SPEC S SRSSN=$S($E(SRSS,1,2)="ZZ":"SPECIALTY NOT ENTERED",1:SRSS)
"RTN","SROAT2P",50,0)
 S SRSS1="" F LINE=1:1:$L(SRSSN) S SRSS1=SRSS1_"="
"RTN","SROAT2P",51,0)
 S X=132-$L(SRSSN)\2 W !!,?X,SRSSN,!,?X,SRSS1
"RTN","SROAT2P",52,0)
AT I 'SRHDR S SRHDR=1 Q
"RTN","SROAT2P",53,0)
 S SRATT2="" F LINE=1:1:$L(SRATT1) S SRATT2=SRATT2_"-"
"RTN","SROAT2P",54,0)
 S X=132-$L(SRATT1)\2 W !!,?X,SRATT1,!,?X,SRATT2 S SRHDR=0
"RTN","SROAT2P",55,0)
 Q
"RTN","SROAT2T")
0^41^B6368086^B6257748
"RTN","SROAT2T",1,0)
SROAT2T ;B'HAM ISC/MAM - ATTENDING SURGEON CUMULATIVE ; [ 05/11/04  2:33 PM ]
"RTN","SROAT2T",2,0)
 ;;3.0;Surgery;**50,129,182**;24 Jun 93;Build 49
"RTN","SROAT2T",3,0)
 S SRPAGE=1
"RTN","SROAT2T",4,0)
 D HDR Q:SRSOUT  W !!,?1,"TOTAL CASES",?16,"ATTENDING CODE",!,?1,"-----------",?16,"--------------"
"RTN","SROAT2T",5,0)
 S PRINT=1,(HDR,CODE)="" F I=0:0 S CODE=$O(^TMP("SRTC",$J,CODE)) Q:CODE=""  D PRINT
"RTN","SROAT2T",6,0)
 W !!,?1,$J(^TMP("SRTOT",$J),6),?16,"TOTAL CASES FROM "_$E(SRSD,4,5)_"/"_$E(SRSD,6,7)_"/"_$E(SRSD,2,3)_" TO "_$E(SRED,4,5)_"/"_$E(SRED,6,7)_"/"_$E(SRED,2,3)
"RTN","SROAT2T",7,0)
 I $E(IOST)'="P" D BREAK I SRSOUT Q
"RTN","SROAT2T",8,0)
 S PRINT=2,SRSS=0 F  S SRSS=$O(^TMP("SRTOT",$J,SRSS)) Q:SRSS=""!(SRSOUT)  D SPEC
"RTN","SROAT2T",9,0)
 Q
"RTN","SROAT2T",10,0)
PRINT I 'CODE S SRCODE="ATTENDING/RES SUP CODE NOT ENTERED"
"RTN","SROAT2T",11,0)
 I CODE S Y=CODE,C=$P(^DD(130,.166,0),"^",2) D Y^DIQ S SRCODE=Y
"RTN","SROAT2T",12,0)
 W !,?1,$J($S(PRINT=1:^TMP("SRTC",$J,CODE),1:^TMP("SRTOT",$J,SRSS,CODE)),6),?16,SRCODE
"RTN","SROAT2T",13,0)
 Q
"RTN","SROAT2T",14,0)
HDR ; print heading
"RTN","SROAT2T",15,0)
 I +$Y W @IOF
"RTN","SROAT2T",16,0)
 W !,?(80-$L(SRINST)\2),SRINST,?76,"PAGE",!,?32,"SURGICAL SERVICE",?78,SRPAGE,!,?22,"ATTENDING SURGEON CUMULATIVE REPORT"
"RTN","SROAT2T",17,0)
 W !,?(80-$L(SRFRTO)\2),SRFRTO
"RTN","SROAT2T",18,0)
 I $E(IOST)="P" W !,?30,"DATE PRINTED: ",SRPRINT,!!,?8,"REVIEWED BY: ",?53,"DATE REVIEWED: "
"RTN","SROAT2T",19,0)
 S SRPAGE=SRPAGE+1 W ! F LINE=1:1:80 W "="
"RTN","SROAT2T",20,0)
 Q
"RTN","SROAT2T",21,0)
BREAK W !!!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROAT2T",22,0)
 I X["?" W !!,"Enter RETURN if you want to display the totals for each specialty, or '^' to",!,"exit from this report." G BREAK
"RTN","SROAT2T",23,0)
 Q
"RTN","SROAT2T",24,0)
SPEC ; SPECIALTIES
"RTN","SROAT2T",25,0)
 S TOTAL=^TMP("SRTOT",$J,SRSS) I 'TOTAL Q
"RTN","SROAT2T",26,0)
 S SRSSN=$S($E(SRSS,1,2)="ZZ":"SPECIALTY NOT ENTERED",1:SRSS)
"RTN","SROAT2T",27,0)
 D HDR W !!,?(80-$L(SRSSN)\2),SRSSN,!!,?1,"TOTAL CASES",?16,"ATTENDING/RES SUP CODE",!,?1,"-----------",?16,"--------------"
"RTN","SROAT2T",28,0)
 S CODE="" F  S CODE=$O(^TMP("SRTOT",$J,SRSS,CODE)) Q:CODE=""  D PRINT
"RTN","SROAT2T",29,0)
 W !!,?1,$J(^TMP("SRTOT",$J,SRSS),6),?16,"TOTAL CASES FOR THIS SPECIALTY"
"RTN","SROAT2T",30,0)
 I $E(IOST)'="P" D BREAK I SRSOUT Q
"RTN","SROAT2T",31,0)
 Q
"RTN","SROATCM")
0^71^B27083969^B25541565
"RTN","SROATCM",1,0)
SROATCM ;BIR/MAM - TRANSMIT CARDIAC ASSESSMENTS ;03/02/06
"RTN","SROATCM",2,0)
 ;;3.0;Surgery;**38,55,68,90,93,95,99,125,153,174,175,177,182**;24 Jun 93;Build 49
"RTN","SROATCM",3,0)
 ;
"RTN","SROATCM",4,0)
 ; Reference to ^DGPM("APTT1" supported by DBIA #565
"RTN","SROATCM",5,0)
 ; Reference to File #405 supported by DBIA #3029
"RTN","SROATCM",6,0)
 ; Reference to Field #27.02 in File #2 supported by DBIA #1850
"RTN","SROATCM",7,0)
 ;
"RTN","SROATCM",8,0)
 K ^TMP("SRA",$J) S SRATOT=0,SRASITE=+$P($$SITE^SROVAR,"^",3),(SRAMNUM,SRACNT)=1
"RTN","SROATCM",9,0)
 S SRADFN=0 F  S SRADFN=$O(^SRF("ARS","C","C",SRADFN)) Q:'SRADFN  S SRTN=0 F  S SRTN=$O(^SRF("ARS","C","C",SRADFN,SRTN)) Q:'SRTN  D STUFF
"RTN","SROATCM",10,0)
 S SRATOTM=SRAMNUM D ^SROATCM2
"RTN","SROATCM",11,0)
 Q
"RTN","SROATCM",12,0)
STUFF ; stuff entries into ^TMP("SRA",$J
"RTN","SROATCM",13,0)
 ; check for fouled up ARS x ref
"RTN","SROATCM",14,0)
 I $P(^SRF(SRTN,"RA"),"^",2)="N" K ^SRF("ARS","C","C",SRADFN,SRTN) K DR S DIE=130,DR="235///C",DA=SRTN D ^DIE K DR Q
"RTN","SROATCM",15,0)
 ; the next line is commented out to allow re-transmissions
"RTN","SROATCM",16,0)
 ;S SRART=$P(^SRF(SRTN,"RA"),"^",3) I SRART S DIE=130,DR="235///T",DA=SRTN D ^DIE K DR,DA,DIE Q
"RTN","SROATCM",17,0)
 I $P(^SRF(SRTN,"RA"),"^",2)'="C" Q
"RTN","SROATCM",18,0)
 I SRACNT>100 S SRACNT=1,SRAMNUM=SRAMNUM+1
"RTN","SROATCM",19,0)
 S SRATOT=SRATOT+1 K SRA,VADM
"RTN","SROATCM",20,0)
 F I=0,200,205:1:208 S SRA(I)=$G(SRF(SRTN,I))
"RTN","SROATCM",21,0)
 D ^SROATCM1,P93
"RTN","SROATCM",22,0)
 K SHEMP,SRA,VADM,VAPA
"RTN","SROATCM",23,0)
 S X=$E($P(^SRF(SRTN,0),"^",9),1,5)_"00",^TMP("SRWL",$J,X)=""
"RTN","SROATCM",24,0)
 Q
"RTN","SROATCM",25,0)
P93 ; referring & follow-up sites, patient address & phone number
"RTN","SROATCM",26,0)
 N SRPREF,SRREF,SRREFP,SRFOL,SRFOLP,SRSOUT,SRY S (SRPREF,SRREF,SRREFP,SRFOL,SRFOLP)="",SRSOUT=0,(VAIP("D"),SRSDATE)=$P(SRA(0),"^",9) D IN5^VADPT
"RTN","SROATCM",27,0)
 ; if not admitted before surgery, look for admission within 24 hours of leaving OR
"RTN","SROATCM",28,0)
 I 'VAIP(13) S X1=$P($G(^SRF(SRTN,.2)),"^",12),X2=1 D C^%DTC S SR24=X,SRDT=$O(^DGPM("APTT1",DFN,SRSDATE)) G:'SRDT!(SRDT>SR24) TS S VAIP("D")=SRDT D IN5^VADPT
"RTN","SROATCM",29,0)
TS I VAIP(13) K DA,DIC,DIQ,DR S DIC=405,DR=.05,DA=VAIP(13),DIQ="SRY",DIQ(0)="IE" D EN^DIQ1 S SRREF=SRY(405,VAIP(13),.05,"E"),SRREFP=SRY(405,VAIP(13),.05,"I") I SRREFP S SRREFP=$$GET1^DIQ(4,SRREFP,99)
"RTN","SROATCM",30,0)
 I VAIP(17) K DA,DIC,DIQ,DR,SRY S DIC=405,DR=.05,DA=VAIP(17),DIQ="SRY",DIQ(0)="IE" D EN^DIQ1 S SRFOL=SRY(405,VAIP(17),.05,"E"),SRFOLP=SRY(405,VAIP(17),.05,"I") I SRFOLP S SRFOLP=$$GET1^DIQ(4,SRFOLP,99)
"RTN","SROATCM",31,0)
 S SHEMP=$E(SHEMP,1,11)_" 18"_$J(VAPA(1),35)_$J(VAPA(2),30),^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1
"RTN","SROATCM",32,0)
 S SHEMP=$E(SHEMP,1,11)_" 19"_$J(VAPA(3),30)_$J(VAPA(4),15)
"RTN","SROATCM",33,0)
 K DA,DIC,DIQ,DR,SRY S X=$P(VAPA(5),"^") I X S DIC=5,DA=X,DR=1,DIQ="SRY",DIQ(0)="E" D EN^DIQ1 S X=SRY(5,$P(VAPA(5),"^"),1,"E")
"RTN","SROATCM",34,0)
 S SHEMP=SHEMP_$J(X,5),^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1,SHEMP=$E(SHEMP,1,11)_" 20"_$J(VAPA(8),20)_$J($TR(SRREF,","," "),30)_$J(SRREFP,6)
"RTN","SROATCM",35,0)
 K DA,DIC,DIQ,DR,SRY S DIC="^DPT(",DIQ="SRY",DIQ(0)="I",DA=DFN,DR=27.02 D EN^DIQ1 S X=$G(SRY(2,DFN,27.02,"I")) I X S SRPREF=$$GET1^DIQ(4,X,99)
"RTN","SROATCM",36,0)
 S SHEMP=SHEMP_$J(SRPREF,6)
"RTN","SROATCM",37,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1,SHEMP=$E(SHEMP,1,11)_" 21"_$J($TR(SRFOL,","," "),30)_$J(SRFOLP,6)
"RTN","SROATCM",38,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1
"RTN","SROATCM",39,0)
 S SHEMP=$E(SHEMP,1,11)_" 22"_$J($P(SRA(201),"^",21),6)_$J($P(SRA(202),"^",21),7)_$J($P(SRA(201),"^",22),6)_$J($P(SRA(202),"^",22),7)
"RTN","SROATCM",40,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^",23),6)_$J($P(SRA(202),"^",23),7)_$J($P(SRA(201),"^",24),6)_$J($P(SRA(202),"^",24),7)
"RTN","SROATCM",41,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1
"RTN","SROATCM",42,0)
 ;
"RTN","SROATCM",43,0)
 S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S SHEMP=$E(SHEMP,1,11)_" 23"_$J($P(SRA(201),"^",25),6)_$J($P(SRA(202),"^",25),7)_$J($P(SRA(201),"^",26),6)_$J($P(SRA(202),"^",26),7)_$J($P(VADM(3),"^"),7) K VADM
"RTN","SROATCM",44,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP_$$ADD182^SROATCM1(SRTN),SRACNT=SRACNT+1
"RTN","SROATCM",45,0)
 S SHEMP=$E(SHEMP,1,11)_" 24"_$J($P(SRA(208),"^",10),2)_$J($P(SRA(200),"^",57),2)_$J($P(SRA(207),"^",24),2)_$J($P(SRA(207),"^",25),2)_$J($P(SRA(206),"^",39),2)
"RTN","SROATCM",46,0)
 N SR22,SR23 S SR22=$P(SRA(208),"^",22),SR23=$P(SRA(208),"^",23)
"RTN","SROATCM",47,0)
 N SRIP1,SRIP2 S (SRIP1,SRIP2)=""
"RTN","SROATCM",48,0)
 D NMCS S SHEMP=SHEMP_$J(SRIP,2)_$J(" ",2)_$S(SR22:$J(SR22,12,4),1:$J(SR22,12))_$S(SR23:$J(SR23,12,4),1:$J(SR23,12))_$J($P(SRA(206),"^",41),2)
"RTN","SROATCM",49,0)
 S SHEMP=SHEMP_$J($P(SRA(207),"^",26),3)
"RTN","SROATCM",50,0)
 ;
"RTN","SROATCM",51,0)
 N VAINDT,SRPTF,SRRES,SRDISTYP
"RTN","SROATCM",52,0)
 S VAINDT=$P(SRA(208),"^",15)-.0001 D INP^VADPT S SRPTF=VAIN(10)
"RTN","SROATCM",53,0)
 S SRRES="" D RPC^DGPTFAPI(.SRRES,SRPTF)
"RTN","SROATCM",54,0)
 S SRRES(0)=$G(SRRES(0)),SRRES(1)=$G(SRRES(1)),SRRES(2)=$G(SRRES(2))
"RTN","SROATCM",55,0)
 S SRDISTYP=$P(SRRES(1),U)
"RTN","SROATCM",56,0)
 I SRDISTYP]"" S SRDISTYP=$S(SRDISTYP="REGULAR":1,SRDISTYP="NBC OR WHILE ASIH":2,SRDISTYP="EXPIRATION 6 MONTH LIMIT":3,SRDISTYP="IRREGULAR":4,SRDISTYP="TRANSFER":5,SRDISTYP="DEATH WITH AUTOPSY":6,SRDISTYP="DEATH WITHOUT AUTOPSY":7,1:"")
"RTN","SROATCM",57,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP_$J($P(SRRES(1),U,3),8)_$J($P(SRA(205),"^",40),2)_$J(SRIP1,1)_$J(SRIP2,1),SRACNT=SRACNT+1
"RTN","SROATCM",58,0)
 S SHEMP=$E(SHEMP,1,11)_" 25"_$J(SRDISTYP,2) I $D(SRRES(2)) F I=1:1:7 S SHEMP=SHEMP_$J($P(SRRES(2),"^",I),8)
"RTN","SROATCM",59,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1
"RTN","SROATCM",60,0)
 D ^SROATCM3
"RTN","SROATCM",61,0)
 Q
"RTN","SROATCM",62,0)
NMCS S SRIP=$P(SRA(206),"^",40) I SRIP'="Y" Q
"RTN","SROATCM",63,0)
 N SROCC
"RTN","SROATCM",64,0)
 S SROCC=0 F  S SROCC=$O(^SRF(SRTN,10,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,10,SROCC,0),"^",2)=34 S SRIP="I",SRIP1=$P(^SRF(SRTN,10,SROCC,0),"^",7) Q
"RTN","SROATCM",65,0)
 S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=34 S:SRIP="Y" SRIP="P" S SRIP2=$P(^SRF(SRTN,16,SROCC,0),"^",14) Q
"RTN","SROATCM",66,0)
 Q
"RTN","SROATCM1")
0^72^B63097180^B58032375
"RTN","SROATCM1",1,0)
SROATCM1 ;BIR/MAM - STUFF TRANMISSION IN ^TMP ;09/28/2011
"RTN","SROATCM1",2,0)
 ;;3.0;Surgery;**38,71,79,90,88,93,95,111,125,135,134,142,153,160,174,175,176,177,182**;24 Jun 93;Build 49
"RTN","SROATCM1",3,0)
 K SRA F I=0,.2,52,200,201,202,205:1:208,207.1,209,202.1,200.1,"1.0" S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROATCM1",4,0)
 S DFN=$P(SRA(0),"^") N I D DEM^VADPT S SRANAME=VADM(1),SEX=$P(VADM(5),"^"),Z=$P(VADM(3),"^"),SRSDATE=$P(SRA(0),"^",9),Y=$E(SRSDATE,1,7),AGE=$E(Y,1,3)-$E(Z,1,3)-($E(Y,4,7)<$E(Z,4,7))
"RTN","SROATCM1",5,0)
 N SRPID S SRPID=VA("PID"),SRPID=$TR(SRPID,"-","") ; remove hyphens from PID
"RTN","SROATCM1",6,0)
 ;
"RTN","SROATCM1",7,0)
 S SHEMP="#"_$J(SRASITE,3)_$J(SRTN,7)_" 1 "_DT_$J(AGE,3)_$J(SEX,1)_$J(SRSDATE,12,4)_SRPID
"RTN","SROATCM1",8,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 2 ",SRACNT=SRACNT+1
"RTN","SROATCM1",9,0)
 S SRHD=$P(SRA(206),"^")
"RTN","SROATCM1",10,0)
 I SRHD["C" S SRH="C",SRHD=$E(SRHD,1,$L(SRHD)-1)
"RTN","SROATCM1",11,0)
 E  S SRH=" "
"RTN","SROATCM1",12,0)
 S SRWD=$P(SRA(206),"^",2)
"RTN","SROATCM1",13,0)
 I SRWD["K" S SRW="K",SRWD=$E(SRWD,1,$L(SRWD)-1)
"RTN","SROATCM1",14,0)
 E  S SRW=" "
"RTN","SROATCM1",15,0)
 S SHEMP=SHEMP_$J(SRHD,3)_SRH_$J(SRWD,3)_SRW_$J($P(SRA(200),"^",2),2)_$J($P(SRA(200),"^",11),2)_$J($P(SRA(206),"^",5),3)_$J($P(SRA(206),"^",6),2)_$J($P(SRA(206),"^",7),2)
"RTN","SROATCM1",16,0)
 S SRCT=$P($G(^SRF(SRTN,201)),"^",4) S:SRCT["NS" SRCT=""
"RTN","SROATCM1",17,0)
 S SHEMP=SHEMP_$J($P(SRA(200.1),"^",5),2)_$J(SRCT,4)_$J($P(SRA(206),"^",10),2)_$J($P(SRA(206),"^",11),2)_$J($P(SRA(200),"^",8),2)_$J(" ",2)_$J($P(SRA(206),"^",14),2)_$J(" ",2)
"RTN","SROATCM1",18,0)
 S SHEMP=SHEMP_$J($P(SRA(206),"^",16),2)_$J($P(SRA(206),"^",17),2)_$J($P(SRA(206),"^",18),3)_$J($P(SRA(206),"^",19),3)_$J($P(SRA(206),"^",20),2)_$J($P(SRA(206),"^",21),2)_$J($P(SRA(206),"^",22),2)_$J($P(SRA(206),"^",23),2)
"RTN","SROATCM1",19,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP_$J($P(SRA(208),"^",19),2)_$J($P(SRA(205),"^",8),2)_$J($P(SRA(205),"^",6),2)_$J($P(SRA(200),"^",59),1)
"RTN","SROATCM1",20,0)
 S SHEMP=$E(SHEMP,1,11)_" 3 ",SRACNT=SRACNT+1
"RTN","SROATCM1",21,0)
 S SHEMP=SHEMP_$J($P(SRA(206),"^",24),2)_$J($P(SRA(206),"^",25),3)_$J($P(SRA(206),"^",26),3)_$J($P(SRA(206),"^",27),3)
"RTN","SROATCM1",22,0)
 ; Left Main (node 3 pos 26-28), LAD (node 3 pos 29-31), Right Coronary (node 3 pos 32-34) & Circumflex Stenosis (node 3 pos 35-37)
"RTN","SROATCM1",23,0)
 S SHEMP=SHEMP_$J($P(SRA(206),"^",28),3)_$J($P($G(SRA(206)),"^",33),3)_$J($P($G(SRA(206)),"^",34),3)_$J($P($G(SRA(206)),"^",35),3)
"RTN","SROATCM1",24,0)
 ; LV Cont Grade (node 3 pos 39-40) & Mitral Regurgitation(node 3 pos 41-42)
"RTN","SROATCM1",25,0)
 N SROLV S SROLV=$P(SRA(206),"^",30)
"RTN","SROATCM1",26,0)
 S SHEMP=SHEMP_$J($S(SROLV="IIIa":"3A",SROLV="IIIb":"3B",1:SROLV),3)_$J($P($G(SRA(206)),"^",9),2)
"RTN","SROATCM1",27,0)
 ; Estimate of Mortality and ASA Class are changed to not transmit "NS"
"RTN","SROATCM1",28,0)
 S SREMDATE=$P($G(SRA(206)),"^",32)
"RTN","SROATCM1",29,0)
 S SREMO=$P($G(^SRF(SRTN,206)),"^",31) S:SREMO["NS" SREMDATE=""
"RTN","SROATCM1",30,0)
 ; Estimate of Mortality (node 3 pos 43-45) & date (node 3 pos 46-57)
"RTN","SROATCM1",31,0)
 S SHEMP=SHEMP_$J(SREMO,3)
"RTN","SROATCM1",32,0)
 S SHEMP=SHEMP_$S(SREMDATE="":$J(SREMDATE,12),1:$J(SREMDATE,12,4))
"RTN","SROATCM1",33,0)
 S X="",Y=$P($G(^SRF(SRTN,1.1)),"^",3) S:Y X=$P($P($G(^SRO(132.8,Y,0)),"^"),"-") S X=$E(X) S:X["N" X=""
"RTN","SROATCM1",34,0)
 S SHEMP=SHEMP_$J(X,1)
"RTN","SROATCM1",35,0)
 ; Cardiac Est. of Surg. Priority(node 3 pos 59) & date(node 3 pos 60-71)
"RTN","SROATCM1",36,0)
 S SHEMP=SHEMP_$J($P($G(SRA(208)),"^",12),1)
"RTN","SROATCM1",37,0)
 N SREMSPDT S SREMSPDT=$P($G(SRA(208)),"^",13)
"RTN","SROATCM1",38,0)
 S SHEMP=SHEMP_$S(SREMSPDT="":$J(SREMSPDT,12),1:$J(SREMSPDT,12,4))_$J($P(SRA("1.0"),"^",8),2)
"RTN","SROATCM1",39,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 4 ",SRACNT=SRACNT+1
"RTN","SROATCM1",40,0)
 S SHEMP=SHEMP_$J($P(SRA(207),"^"),2)_$J($P(SRA(207),"^",2),2)_$J($P(SRA(207),"^",3),2)_$J($P(SRA(207),"^",4),2)_$J($P(SRA(207),"^",5),2)_$J(" ",2)_$J($P(SRA(207),"^",7),2)
"RTN","SROATCM1",41,0)
 S SHEMP=SHEMP_$J($P(SRA(207),"^",8),2)_$J($P(SRA(207),"^",9),2)_$J($P(SRA(207),"^",10),2)_$J($P(SRA(207),"^",12),2)_$J($P(SRA(207),"^",13),2)_$J($P(SRA(207),"^",14),2)_$J($P(SRA(207),"^",15),2)
"RTN","SROATCM1",42,0)
 S SHEMP=SHEMP_$J($P(SRA(207),"^",16),2)_$J($P(SRA(207),"^",17),2)_$J($P(SRA(207),"^",18),2)_"  "
"RTN","SROATCM1",43,0)
 S SRDEATH=$P($G(SRA(208)),"^"),SRDDATE=$E($P($G(^DPT(DFN,.35)),"^"),1,12) I SRDDATE'="" S SRDDATE=$$LJ^XLFSTR(SRDDATE,12,0)
"RTN","SROATCM1",44,0)
 S SHEMP=SHEMP_$J("",2)_$J(SRDDATE,12)
"RTN","SROATCM1",45,0)
 N SRDIS S SRDIS=$P($G(^SRF(SRTN,.4)),"^",6) S:SRDIS SRDIS=$P($G(^SRO(131.6,SRDIS,0)),"^",2)
"RTN","SROATCM1",46,0)
 S SHEMP=SHEMP_$J($P(SRA(207),"^",20),1)_$J($P(SRA(207),"^",28),2)_$J($P(SRA(200.1),"^",8),1)_$J(SRDIS,3)
"RTN","SROATCM1",47,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 5 ",SRACNT=SRACNT+1
"RTN","SROATCM1",48,0)
 N SROR S SROR="",Y=$P(^SRF(SRTN,0),"^",2),C=$P(^DD(130,.02,0),"^",2) I Y'="" D Y^DIQ S SROR=Y
"RTN","SROATCM1",49,0)
 S SHEMP=SHEMP_$J($E(SROR,1,30),30) F I=1:1:6 S SHEMP=SHEMP_$J($P(SRA(52),"^",I),2)
"RTN","SROATCM1",50,0)
 S SHEMP=SHEMP_$J($P(SRA(200),"^",55),2) F I=9:1:14 S SHEMP=SHEMP_$J($P(SRA(200.1),"^",I),2)
"RTN","SROATCM1",51,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 6 ",SRACNT=SRACNT+1
"RTN","SROATCM1",52,0)
 S SHEMP=SHEMP_$J($P(SRA(205),"^",27),2)_$J($P(SRA(208),"^",3),2)_$J($P(SRA(205),"^",17),2)_$J($P(SRA(208),"^",4),2)_$J($P(SRA(208),"^",5),2)_$J($P(SRA(205),"^",28),2)_$J($P(SRA(208),"^",6),2)
"RTN","SROATCM1",53,0)
 N SRRCS D RCSP S SHEMP=SHEMP_$J($P(SRA(205),"^",13),2)_$J(SRRCS,2)_$J($P(SRA(205),"^",22),2)
"RTN","SROATCM1",54,0)
 N SRCVA D CVA S SHEMP=SHEMP_$J(SRCVA,2)
"RTN","SROATCM1",55,0)
 N SRIP D CPR S SHEMP=SHEMP_$J(SRIP,2)
"RTN","SROATCM1",56,0)
 ;
"RTN","SROATCM1",57,0)
 ;Ethnicity contained in VADM(11)
"RTN","SROATCM1",58,0)
 N SROETCD,SROPTF S SROETCD="",SROPTF=""
"RTN","SROATCM1",59,0)
 S SROETCD=$P($G(VADM(11,1)),U,1)            ;Ethnicity code
"RTN","SROATCM1",60,0)
 S SROPTF=$$PTR2CODE^DGUTL4(SROETCD,2,4)     ;PTF Ethnicity code
"RTN","SROATCM1",61,0)
 S SHEMP=SHEMP_$J($G(SROPTF),1)   ;Ethnicity
"RTN","SROATCM1",62,0)
 ;
"RTN","SROATCM1",63,0)
 ;Multiple races contained in VADM(12)
"RTN","SROATCM1",64,0)
 N SRORAC,SRORCD,SRORCE S SRORCE=0,SRORAC="",SRORACE="",SRORCD=""
"RTN","SROATCM1",65,0)
 F  S SRORCE=$O(VADM(12,SRORCE)) Q:SRORCE=""  D
"RTN","SROATCM1",66,0)
 .S SRORAC=$P($G(VADM(12,SRORCE)),U,1)        ;Race code
"RTN","SROATCM1",67,0)
 .S SRORCD=$$PTR2CODE^DGUTL4(SRORAC,1,4)     ;PTF race code
"RTN","SROATCM1",68,0)
 .S SRORACE=SRORACE_$J(SRORCD,1)
"RTN","SROATCM1",69,0)
 ;
"RTN","SROATCM1",70,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP_SRORACE  ;Eth, race added
"RTN","SROATCM1",71,0)
 ;
"RTN","SROATCM1",72,0)
 S SHEMP=$E(SHEMP,1,11)_" 7 ",SRACNT=SRACNT+1
"RTN","SROATCM1",73,0)
 S SHEMP=SHEMP_$TR(SRANAME,","," ")
"RTN","SROATCM1",74,0)
 I $P($G(^SRF(SRTN,"RA")),"^",3)=1 S SHEMP=SHEMP_$J("***RE-TRANSMISSION",38)
"RTN","SROATCM1",75,0)
 ; zip code, employ status, hemoglobin, hemo date, serum albumin, albumin date, creatitine date, total ischemic time, min invasive, total cpb time, total pre,post ICU & step down unit LOS,
"RTN","SROATCM1",76,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 8 ",SRACNT=SRACNT+1
"RTN","SROATCM1",77,0)
 K VADM D ADD^VADPT S X=$S($P(VAPA(11),"^",2)'="":$P(VAPA(11),"^",2),1:VAPA(6))
"RTN","SROATCM1",78,0)
 S SHEMP=SHEMP_$J(X,10)_$J($P(SRA(208),"^",18),1)_$J($P(SRA(201),"^",20),7)_$J($P(SRA(202),"^",20),7)_$J($P(SRA(201),"^",8),4)_$J($P(SRA(202),"^",8),7)_$J($P(SRA(202),"^",4),7)_$J($P(SRA(206),"^",36),4)
"RTN","SROATCM1",79,0)
 S SHEMP=SHEMP_$J($P(SRA(207),"^",22),1)_$J($P(SRA(206),"^",37),4)_$J($P(SRA(207),"^",23),2)
"RTN","SROATCM1",80,0)
 ; cpt codes
"RTN","SROATCM1",81,0)
NODE9 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 9 ",SRACNT=SRACNT+1
"RTN","SROATCM1",82,0)
 S SRPMOD="",SR10SP="          ",CPT=$P($G(^SRO(136,SRTN,0)),"^",2) D
"RTN","SROATCM1",83,0)
 .I CPT S CPT=$P($$CPT^ICPTCOD(CPT),"^",2),SRCASE=SRTN D MOD^SROATM3 S SRPMOD=SRM
"RTN","SROATCM1",84,0)
 .S SHEMP=SHEMP_$J(CPT,5),SRPMOD=SRPMOD_SR10SP
"RTN","SROATCM1",85,0)
 K CPT F I=1:1:10 S (CPT(I),SRMOD(I))=""
"RTN","SROATCM1",86,0)
 S (OPS,CNT)=0 F  S OPS=$O(^SRO(136,SRTN,3,OPS)) Q:'OPS!(CNT=10)  S CNT=CNT+1,X=$P($G(^SRO(136,SRTN,3,OPS,0)),"^") I X S CPT(CNT)=$P($$CPT^ICPTCOD(X),"^",2) D OTH^SROATM3
"RTN","SROATCM1",87,0)
 S SHEMP=SHEMP_$J(CPT(1),5)_$J(CPT(2),5)_$J(CPT(3),5)_$J(CPT(4),5)_$J(CPT(5),5)_$J(CPT(6),5)_$J(CPT(7),5)_$J(CPT(8),5)_$J(CPT(9),5)_$J(CPT(10),5)
"RTN","SROATCM1",88,0)
 ; card cath date, admission date/time, hospital discharge date/time, anesthesia start & end date/times
"RTN","SROATCM1",89,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 10",SRACNT=SRACNT+1
"RTN","SROATCM1",90,0)
 I $P(SRA(207),"^",21)'="" D
"RTN","SROATCM1",91,0)
 .I $E($P(SRA(207),"^",21),8)="." Q
"RTN","SROATCM1",92,0)
 .E  S $P(SRA(207),"^",21)=$P(SRA(207),"^",21)_"."
"RTN","SROATCM1",93,0)
 S $P(SRA(207),"^",21)=$$LJ^XLFSTR($P(SRA(207),"^",21),12,0)
"RTN","SROATCM1",94,0)
 S SHEMP=SHEMP_$J($E($P(SRA(207),"^",21),1,12),12)
"RTN","SROATCM1",95,0)
 S (SRDATE,SRI)="" F SRI=14,15 S SRDATE=$E($P($G(SRA(208)),"^",SRI),1,12) S SRDATE=$$LJ^XLFSTR(SRDATE,12,0) S SHEMP=SHEMP_SRDATE
"RTN","SROATCM1",96,0)
 S (SRDATE,SRI)="" F SRI=1,4 S SRDATE=$P(SRA(.2),"^",SRI) S SRDATE=$$LJ^XLFSTR(SRDATE,12,0) S SHEMP=SHEMP_SRDATE
"RTN","SROATCM1",97,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 11",SRACNT=SRACNT+1
"RTN","SROATCM1",98,0)
 S (SRDATE,SRI)="" F SRI=10,12,2,3 S SRDATE=$P(SRA(.2),"^",SRI),SRDATE=$$LJ^XLFSTR(SRDATE,12,0) S SHEMP=SHEMP_SRDATE
"RTN","SROATCM1",99,0)
 ; preop risk factors comments
"RTN","SROATCM1",100,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 12",SRACNT=SRACNT+1 S SHEMP=SHEMP_$TR($E($G(^SRF(SRTN,206.1)),1,65),",","^")
"RTN","SROATCM1",101,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 13",SRACNT=SRACNT+1 S SHEMP=SHEMP_$TR($E($G(^SRF(SRTN,206.1)),66,130),",","^")
"RTN","SROATCM1",102,0)
 ; resource data comments
"RTN","SROATCM1",103,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 14",SRACNT=SRACNT+1 S SHEMP=SHEMP_$TR($E($G(^SRF(SRTN,206.2)),1,65),",","^")
"RTN","SROATCM1",104,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_" 15",SRACNT=SRACNT+1 S SHEMP=SHEMP_$TR($E($G(^SRF(SRTN,206.2)),66,130),",","^")
"RTN","SROATCM1",105,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1,SHEMP=$E(SHEMP,1,11)_" 16"_$E(SRPMOD,1,10) F I=1:1:5 S SHEMP=SHEMP_$E(SRMOD(I)_SR10SP,1,10)
"RTN","SROATCM1",106,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1,SHEMP=$E(SHEMP,1,11)_" 17" F I=6:1:10 S SHEMP=SHEMP_$E(SRMOD(I)_SR10SP,1,10)
"RTN","SROATCM1",107,0)
 S X=$$SITE^SROUTL0(SRTN),SRDIV=$S(X:$P(^SRO(133,X,0),"^"),1:""),SRDIV=$S(SRDIV:$$GET1^DIQ(4,SRDIV,99),1:SRASITE),SHEMP=SHEMP_$J(SRDIV,6)
"RTN","SROATCM1",108,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1
"RTN","SROATCM1",109,0)
 Q
"RTN","SROATCM1",110,0)
RCSP S SRRCS=0,X=$P(SRA(208),"^",7) I X="N" Q
"RTN","SROATCM1",111,0)
 N SROCC S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=27 S X=$P(^SRF(SRTN,16,SROCC,0),"^",5) S:X'="" SRRCS=X Q
"RTN","SROATCM1",112,0)
 Q
"RTN","SROATCM1",113,0)
CVA S X=$P(SRA(205),"^",21),SRCVA=$S(X="Y":"Y",1:1) I SRCVA=1 Q
"RTN","SROATCM1",114,0)
 N SROCC S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=12 S X=$P(^SRF(SRTN,16,SROCC,0),"^",8) S:X'="" SRCVA=X Q
"RTN","SROATCM1",115,0)
 Q
"RTN","SROATCM1",116,0)
CPR S SRIP=$P(SRA(205),"^",26) I SRIP'="Y" Q
"RTN","SROATCM1",117,0)
 N SROCC S SROCC=0 F  S SROCC=$O(^SRF(SRTN,10,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,10,SROCC,0),"^",2)=16 S SRIP="I" Q
"RTN","SROATCM1",118,0)
 I SRIP="Y" S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=16 S SRIP="P" Q
"RTN","SROATCM1",119,0)
 Q
"RTN","SROATCM1",120,0)
ADD182(SRTN) ; SR*3*182 change
"RTN","SROATCM1",121,0)
 N I,SRC,SRMP,SRN25,SRT
"RTN","SROATCM1",122,0)
 S SRN25=$G(^SRF(SRTN,25)),SRMP=""
"RTN","SROATCM1",123,0)
 S SRMP=$J($P(SRN25,"^"),3)_$J($P(SRN25,"^",2),3)_$J($P(SRN25,"^",3),3)_$J($P(SRN25,"^",6),1)_$J($P(SRN25,"^",7),1)_$J($P(SRN25,"^",8),1)
"RTN","SROATCM1",124,0)
 S (I,SRC,SRT)=0 F  S I=$O(^SRF(SRTN,1,I)) Q:'I  I $D(^(I,0)) S SRT=SRT+1 I $P($G(^SRF(SRTN,1,I,1)),"^",5)="Y" S SRC=SRC+1
"RTN","SROATCM1",125,0)
 S SRMP=SRMP_$J(SRT,3)_$J(SRC,3)
"RTN","SROATCM1",126,0)
 Q SRMP
"RTN","SROATCM3")
0^73^B13215032^B13088442
"RTN","SROATCM3",1,0)
SROATCM3 ;BIR/SJA - STUFF TRANMISSION IN ^TMP ;05/11/10
"RTN","SROATCM3",2,0)
 ;;3.0;Surgery;**125,135,153,164,166,174,177,182**;24 Jun 93;Build 49
"RTN","SROATCM3",3,0)
 N SRDISP,NYUK S SRDISP="",NYUK=$P(SRRES(1),U,2),SRA(209.1)=$G(^SRF(SRTN,209.1)),SRA(207.1)=$G(^SRF(SRTN,207.1)),SRA(205)=$G(^SRF(SRTN,205)),SRA(208)=$G(^SRF(SRTN,208))
"RTN","SROATCM3",4,0)
 I NYUK'="" D
"RTN","SROATCM3",5,0)
 .S SRDISP=$S(NYUK="BOARDING HOUSE":16,NYUK="COMMUNITY HOSPITAL":6,NYUK="COMMUNITY NURSING HOME":8,NYUK="FOSTER HOME":14,NYUK="HALFWAY HOUSE":15,NYUK="HOME-BASED PRIMARY CARE (HBPC)":20,1:NYUK)
"RTN","SROATCM3",6,0)
 .Q:SRDISP'=NYUK  S SRDISP=$S(NYUK="HOSPICE CARE":22,NYUK="MILITARY HOSPITAL":3,NYUK="NURSE CARE CONTD ANOTHER COMM ":10,NYUK="NURSING CARE CONT AT SAME NURS":9,NYUK="OTHER FEDERAL HOSPITAL":4,1:NYUK)
"RTN","SROATCM3",7,0)
 .Q:SRDISP'=NYUK  S SRDISP=$S(NYUK="OTHER GOVERNMENT HOSPITAL":5,NYUK="OTHER PLACEMENT/UNKNOWN (NOT S":19,NYUK="PENAL INSTITUTION":17,NYUK="REFER MEDICARE HOME HEALTH CAR":25,NYUK="REFER OTHER AGENCY-PD HOME HEA":26,1:NYUK)
"RTN","SROATCM3",8,0)
 .Q:SRDISP'=NYUK  S SRDISP=$S(NYUK="REFER VA-PD HOME/COMMUNITY HEA":24,NYUK="RESIDENTIAL HOTEL/RESIDENT (IE":18,NYUK="RESPITE CARE":23,NYUK="RETURN TO COMMUNITY-INDEPENDEN":1,NYUK="SPINAL CORD INJURY-VACO APPROV":21,1:NYUK)
"RTN","SROATCM3",9,0)
 .Q:SRDISP'=NYUK  S SRDISP=$S(NYUK="STATE HOME":11,NYUK="STATE HOME":13,NYUK="VA DOMICILLARY":12,NYUK="VA MEDICAL CENTER":2,NYUK="VA NURSING HOME CARE UNIT (NHC":7,1:"")
"RTN","SROATCM3",10,0)
 ;
"RTN","SROATCM3",11,0)
LN26 S SHEMP=$E(SHEMP,1,11)_" 26"_$J(SRDISP,2)_$J($P(SRA(200),"^",56),2)_$J($P(SRA(206),"^",15),2)_$J("",2)_$J($P(SRA(207),"^",27),2)_$J($P(SRA(209),"^"),2)_$J($P(SRA(209),"^",2),2)
"RTN","SROATCM3",12,0)
 S SHEMP=SHEMP_$J($P(SRA(209),"^",3),2)_$J($P(SRA(209),"^",4),2)_$J($P(SRA(209),"^",5),2)_$J($P(SRA(209),"^",6),3)_$J($P(SRA(209),"^",7),3)_$J($P(SRA(209),"^",8),3)_$J($P(SRA(209),"^",9),2)_$J($P(SRA(209),"^",10),2)
"RTN","SROATCM3",13,0)
 S X=$P(SRA(206),"^",42),Y="" F I=1:1:6 S Y=Y_$P(X,",",I)
"RTN","SROATCM3",14,0)
 S SHEMP=SHEMP_$J($P(SRA(209),"^",11),2)_$J("",5)
"RTN","SROATCM3",15,0)
 S X=$P(SRA(209),"^",12) S:X="" X="N" S SHEMP=SHEMP_$J(X,2)_$J(Y,6)
"RTN","SROATCM3",16,0)
 S X=$P(SRA(205),"^",43) S:X="" X="N" S SHEMP=SHEMP_$J(X,2)
"RTN","SROATCM3",17,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1
"RTN","SROATCM3",18,0)
LN27 ;Line #27 - Other Cardiac Procedures
"RTN","SROATCM3",19,0)
 S SHEMP=$E(SHEMP,1,11)_" 27"_$TR($E($G(SRA(209.1)),1,65),",","^")
"RTN","SROATCM3",20,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1
"RTN","SROATCM3",21,0)
LN28 ;Lines 28 - New fields added in 2006 update
"RTN","SROATCM3",22,0)
 S SHEMP=$E(SHEMP,1,11)_" 28"_$J($P(SRA(209),"^",13),2)_$J($P(SRA(209),"^",14),2)_$J($P(SRA(207.1),"^",2),2)_$J($P(SRA(201),"^",28),6)_$J($P(SRA(202.1),"^"),7)
"RTN","SROATCM3",23,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^",29),5)_$J($P(SRA(202.1),"^",2),7)
"RTN","SROATCM3",24,0)
 I $D(SRRES(2)) F I=8,9 S SHEMP=SHEMP_$J($P(SRRES(2),"^",I),8)
"RTN","SROATCM3",25,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SRACNT=SRACNT+1
"RTN","SROATCM3",26,0)
 Q
"RTN","SROATM1")
0^43^B28438380^B26038317
"RTN","SROATM1",1,0)
SROATM1 ;BIR/MAM - NON CARDIAC TRANSMISSION ;09/15/2011
"RTN","SROATM1",2,0)
 ;;3.0;Surgery;**27,38,47,60,62,81,88,93,95,125,153,160,166,174,176,177,182**;24 Jun 93;Build 49
"RTN","SROATM1",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROATM1",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROATM1",5,0)
 ;**         are prohibited.
"RTN","SROATM1",6,0)
 ;
"RTN","SROATM1",7,0)
 ; Reference to ^DIC(45.3 supported by DBIA #218
"RTN","SROATM1",8,0)
 ;
"RTN","SROATM1",9,0)
 N SRINTUB,SRDTH,SRPID,SROR F I=0,200,200.1,206,52 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROATM1",10,0)
 S DFN=$P(SRA(0),"^") N I D DEM^VADPT S SRANAME=VADM(1),SEX=$P(VADM(5),"^"),Z=$P(VADM(3),"^"),SRSDATE=$E($P(SRA(0),"^",9),1,12),Y=$E(SRSDATE,1,7),AGE=$E(Y,1,3)-$E(Z,1,3)-($E(Y,4,7)<$E(Z,4,7))
"RTN","SROATM1",11,0)
 S SRPID=VA("PID"),SRPID=$TR(SRPID,"-","") ; remove hyphens from PID
"RTN","SROATM1",12,0)
 S X=$$SITE^SROUTL0(SRTN),SRDIV=$S(X:$P(^SRO(133,X,0),"^"),1:""),SRDIV=$S(SRDIV:$$GET1^DIQ(4,SRDIV,99),1:SRASITE)
"RTN","SROATM1",13,0)
 S X=$P($G(^SRF(SRTN,205)),"^",3),SRDTH=$S(X:X,1:$P(VADM(6),"^"))
"RTN","SROATM1",14,0)
 S SROR="",Y=$P(SRA(0),"^",2),C=$P(^DD(130,.02,0),"^",2) I Y'="" D Y^DIQ S SROR=Y
"RTN","SROATM1",15,0)
 ;
"RTN","SROATM1",16,0)
 S SHEMP="#"_$J(SRASITE,3)_$J(SRTN,7)_"  1"_DT_$J(AGE,3)_$J(SEX,1)_$J(SRSDATE,12)_$J(SRPID,20)_$J(SRDIV,6)_$J($E(SRDTH,1,12),12)_$J($E(SROR,1,30),30)
"RTN","SROATM1",17,0)
 F I=1:1:6 S SHEMP=SHEMP_$J($P(SRA(52),"^",I),2)
"RTN","SROATM1",18,0)
 S SHEMP=SHEMP_$J($P(SRA(200),"^",55),2) F I=9:1:14 S SHEMP=SHEMP_$J($P(SRA(200.1),"^",I),2)
"RTN","SROATM1",19,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  2",SRACNT=SRACNT+1
"RTN","SROATM1",20,0)
 S NYUK=$P(SRA(200),"^",2) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",3) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",4) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200.1),"^",2) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",21,0)
 S NYUK=$P(SRA(200),"^",6) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",7) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",8) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",10) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",22,0)
 S NYUK=$P(SRA(200),"^",11) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",12) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200.1),"^",6) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",15) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",23,0)
 S NYUK=$P(SRA(200),"^",16) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",17) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(206),"^",14) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",56) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",24,0)
 S NYUK=$P(SRA(200),"^",33) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",34) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",35) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",57) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",25,0)
 S NYUK=$P(SRA(200),"^",38) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",39) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(206),"^",16) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",42) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",26,0)
 S NYUK=$P(SRA(200),"^",43) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",19) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",20) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",21) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",27,0)
 S NYUK=$P(SRA(200),"^",22) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",23) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",24) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",25) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",28,0)
 S NYUK=$P(SRA(200),"^",26) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",27) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",28) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",29) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",29,0)
 S NYUK=$P(SRA(200),"^",45) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",46) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",47) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",48) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",30,0)
 S NYUK=$P(SRA(200),"^",49) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200),"^",50) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(200.1),"^",3),SHEMP=SHEMP_$J(NYUK,2)
"RTN","SROATM1",31,0)
 S NYUK=$P(SRA(0),"^",4) S:NYUK NYUK=$E($P(^DIC(45.3,$P(^SRO(137.45,NYUK,0),"^",2),0),"^"),1,3) S SHEMP=SHEMP_$J(NYUK,3)
"RTN","SROATM1",32,0)
 S NYUK=$P(SRA(200),"^",52),SHEMP=SHEMP_$J(NYUK,2),X=$P(SRA(0),"^",10),NYUK=$S(X="EM":"Y",1:"N") D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",33,0)
 S NYUK=$P($G(^SRF(SRTN,"1.0")),"^",8),SHEMP=SHEMP_$J(NYUK,2),NYUK=$P(SRA(200),"^",53) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",34,0)
 S SRASA="",Y=$P($G(^SRF(SRTN,1.1)),"^",3) S:Y X=$P($G(^SRO(132.8,Y,0)),"^"),SRASA=X S NYUK=$E(SRASA,1,1) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM1",35,0)
 K SRTECH,SRZ,SRTRAUMA S SRT=0 F  S SRT=$O(^SRF(SRTN,6,SRT)) Q:'SRT  D ^SROPRIN Q:$D(SRZ)
"RTN","SROATM1",36,0)
 I $D(SRTECH) S SRTRAUMA=$P(^SRF(SRTN,6,SRT,0),"^",14),SRINTUB=$P($G(^SRF(SRTN,6,SRT,8)),"^",2)
"RTN","SROATM1",37,0)
 I '$D(SRTECH) S (SRTECH,SRTRAUMA,SRINTUB)=""
"RTN","SROATM1",38,0)
 S SHEMP=SHEMP_$J(SRTECH,1)_$J($E(SRASA,2),1)_$J(SRINTUB,1)_$J($P(SRA(200.1),"^",8),1)
"RTN","SROATM1",39,0)
 S NYUK=$P(SRA(206),"^"),SHEMP=SHEMP_$J(NYUK,4),NYUK=$P(SRA(206),"^",2),SHEMP=SHEMP_$J(NYUK,4)
"RTN","SROATM1",40,0)
 S X=$P(SRA(206),"^",42),Y="" F I=1:1:6 S Y=Y_$P(X,",",I)
"RTN","SROATM1",41,0)
 S SHEMP=SHEMP_$J(Y,6)
"RTN","SROATM1",42,0)
 S NYUK=$P(SRA(200),"^",59) D ONE S SHEMP=SHEMP_MOE S NYUK=$P(SRA(200),"^",58) D ONE S SHEMP=SHEMP_MOE_$$ADD182^SROATCM1(SRTN)
"RTN","SROATM1",43,0)
 S NYUK=$P(SRA(206),"^",18) S SHEMP=SHEMP_$J(NYUK,3) S NYUK=$P(SRA(206),"^",19) S SHEMP=SHEMP_$J(NYUK,3)
"RTN","SROATM1",44,0)
 S NYUK=$P($G(^SRF(SRTN,.4)),"^",6) S:NYUK NYUK=$P($G(^SRO(131.6,NYUK,0)),"^",2)
"RTN","SROATM1",45,0)
 S SHEMP=SHEMP_$J(NYUK,3)
"RTN","SROATM1",46,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  3",SRACNT=SRACNT+1
"RTN","SROATM1",47,0)
 D ^SROATM2
"RTN","SROATM1",48,0)
 Q
"RTN","SROATM1",49,0)
ONE S MOE=$S(NYUK="NS":"S",NYUK="":" ",1:NYUK)
"RTN","SROATM1",50,0)
 Q
"RTN","SROATM2")
0^106^B37344320^B35137516
"RTN","SROATM2",1,0)
SROATM2 ;BIR/MAM - NON CARDIAC TRANSMISSION (CONT) ;09/15/2011
"RTN","SROATM2",2,0)
 ;;3.0;Surgery;**38,39,45,47,57,60,62,68,81,88,97,129,125,142,153,160,174,175,176,177,182**;24 Jun 93;Build 49
"RTN","SROATM2",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROATM2",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROATM2",5,0)
 ;**         are prohibited.
"RTN","SROATM2",6,0)
 ;
"RTN","SROATM2",7,0)
 K SRA F I=.2,.3,1.1,200.1,201:1:208,208.1,202.1 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROATM2",8,0)
 S SRA("CON")=$P($G(^SRF(SRTN,"CON")),"^") I SRA("CON"),$P($G(^SRF(SRA("CON"),30)),"^")!($P($G(^SRF(SRA("CON"),31)),"^",8)) S SRA("CON")=""
"RTN","SROATM2",9,0)
 D RS
"RTN","SROATM2",10,0)
 S SHEMP=SHEMP_$J($E($P(SRA(.2),"^",2),1,12),12)_$J($E($P(SRA(.2),"^",3),1,12),12)_$J(SRATT,2)_$J($P(SRA(200.1),"^",4),2)_$J($P($G(^SRF(SRTN,200)),"^",54),2)
"RTN","SROATM2",11,0)
 S SRICD=$P($G(^SRO(136,SRTN,0)),"^",3) S:SRICD SRICD=$P($$ICD^SROICD(SRTN,SRICD),"^",2) S SHEMP=SHEMP_$J(SRICD,8)_$J($P(SRA(205),"^"),4)_"      "
"RTN","SROATM2",12,0)
 S NYUK="N",SRET=0 F  S SRET=$O(^SRF(SRTN,29,SRET)) Q:'SRET  S CASE=$P(^SRF(SRTN,29,SRET,0),"^") I $P($G(^SRF(CASE,.2)),"^",10) S NYUK="Y" Q
"RTN","SROATM2",13,0)
 S SHEMP=SHEMP_NYUK_$J($P($G(^SRF(SRTN,.4)),"^",7),1)_$J($E($P($G(^SRF(SRTN,0)),"^",12)),1)_$J($P($G(^SRF(SRTN,0)),"^",3),1)
"RTN","SROATM2",14,0)
 S (SRADMIT,SRADMT)=0 I '$P(SRA(208),"^",14) D ADM^SROQ0A S SRADMIT=$S(SRADMT=0:"0",1:"1")
"RTN","SROATM2",15,0)
 S SHEMP=SHEMP_" "_SRADMIT D OCC^SROATMNO S SHEMP=SHEMP_SRTMP_$J(SROCTYPE,1)_$J(SROC(35),2)_$J(SROC(36),2)
"RTN","SROATM2",16,0)
 S NYUK=$E($P(VADM(3),"^"),1,7),SHEMP=SHEMP_$J(NYUK,7) ; date of birth
"RTN","SROATM2",17,0)
 S SHEMP=SHEMP_$J(SROC(38),2)_$J(SROC(39),2)_$J(SROC(40),2)_$J(SROC(41),2) K SROC,SROCTYPE,SRTMP
"RTN","SROATM2",18,0)
 ;
"RTN","SROATM2",19,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  4",SRACNT=SRACNT+1
"RTN","SROATM2",20,0)
 F MOE=1:1:6 S CPT(MOE)=""
"RTN","SROATM2",21,0)
 S (X,CNT)=0 F  S X=$O(^SRF(SRTN,29,X)) Q:'X!(CNT=6)  I $P(^SRF(SRTN,29,X,0),"^",3)="R" S NYUK=$P(^SRF(SRTN,29,X,0),"^") D RETURN
"RTN","SROATM2",22,0)
 S SHEMP=SHEMP_$J(CNT,2)
"RTN","SROATM2",23,0)
 S SHEMP=SHEMP_$J(CPT(1),5)_$J(CPT(2),5)_$J(CPT(3),5)_$J(CPT(4),5)_$J(CPT(5),5)_$J(CPT(6),5)
"RTN","SROATM2",24,0)
 F MOE=1:1:6 S CPT(MOE)=""
"RTN","SROATM2",25,0)
 S (X,CNT)=0 F  S X=$O(^SRF(SRTN,29,X)) Q:'X!(CNT=6)  I $P(^SRF(SRTN,29,X,0),"^",3)'="R" S NYUK=$P(^SRF(SRTN,29,X,0),"^") D RETURN
"RTN","SROATM2",26,0)
 S SHEMP=SHEMP_$J(CNT,2)
"RTN","SROATM2",27,0)
 S SHEMP=SHEMP_$J(CPT(1),5)_$J(CPT(2),5)_$J(CPT(3),5)_$J(CPT(4),5)_$J(CPT(5),5)_$J(CPT(6),5)
"RTN","SROATM2",28,0)
 S SRSDATE=$P(^SRF(SRTN,0),"^",9) K SRSEP D OCC^SROAUTL0 S:'$D(SRO) SRO="",$P(SRO," ",205)="" S SHEMP=SHEMP_$E(SRO,1,112)
"RTN","SROATM2",29,0)
 ;
"RTN","SROATM2",30,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  5",SRACNT=SRACNT+1
"RTN","SROATM2",31,0)
 S NYUK=$P(SRA(205),"^",6) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",7) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",8) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",10) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM2",32,0)
 S NYUK="N" I $P(SRA(205),"^",11)="Y"!($P(SRA(205),"^",28)="Y") S NYUK="Y"
"RTN","SROATM2",33,0)
 D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",12) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",13) D ONE S SHEMP=SHEMP_MOE,NYUK=$P($G(SROOC(29)),U)
"RTN","SROATM2",34,0)
 D IFELSE
"RTN","SROATM2",35,0)
 S NYUK=$P(SRA(205),"^",16) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",17) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",18) D ONE S SHEMP=SHEMP_MOE,NYUK=$P($G(SROOC(31)),U)
"RTN","SROATM2",36,0)
 D IFELSE
"RTN","SROATM2",37,0)
 N SRCVA D CVA S SHEMP=SHEMP_SRCVA
"RTN","SROATM2",38,0)
 S NYUK=$P(SRA(205),"^",22) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",23) D ONE S SHEMP=SHEMP_MOE,NYUK=$P($G(SROOC(30)),U)
"RTN","SROATM2",39,0)
 D IFELSE
"RTN","SROATM2",40,0)
 S NYUK=$P(SRA(205),"^",26) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",27) D ONE S SHEMP=SHEMP_MOE_" " S NYUK=$P($G(SROOC(32)),U)
"RTN","SROATM2",41,0)
 D IFELSE
"RTN","SROATM2",42,0)
 S NYUK=$P(SRA(205),"^",31) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",32) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",33) D ONE S SHEMP=SHEMP_MOE,NYUK=$P(SRA(205),"^",34) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM2",43,0)
 S NYUK=$P(SRA(205),"^",35) D ONE S SHEMP=SHEMP_MOE,NYUK=$P($G(SROOC(21)),U) D IFELSE
"RTN","SROATM2",44,0)
 S SHEMP=SHEMP_$E(SRO,113,196),NYUK=$P(SRA(205),"^",37) D ONE S SHEMP=SHEMP_MOE,NYUK=$P($G(SROOC(36)),U) D IFELSE
"RTN","SROATM2",45,0)
 S SHEMP=SHEMP_$J($E(SRO,204),1)
"RTN","SROATM2",46,0)
 S NYUK=$P(SRA(205),"^",39) D ONE S SHEMP=SHEMP_MOE_$J($E(SRO,197,203),7)
"RTN","SROATM2",47,0)
 S NYUK=$P(SRA(205),"^",42) D ONE S SHEMP=SHEMP_MOE S NYUK=$P(SRA(205),"^",43) D ONE S SHEMP=SHEMP_MOE
"RTN","SROATM2",48,0)
 S SHEMP=SHEMP_$J($E(SRO,206,212),7)_$J($E(SRO,213,219),7)_$J($E(SRO,220,225),5)
"RTN","SROATM2",49,0)
 ;
"RTN","SROATM2",50,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  6",SRACNT=SRACNT+1
"RTN","SROATM2",51,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^"),5)_$J($P(SRA(202),"^"),7)_$J($P(SRA(201),"^",8),4)_$J($P(SRA(202),"^",8),7)_$J($P(SRA(201),"^",9),5)_$J($P(SRA(202),"^",9),7)_$J($P(SRA(201),"^",5),5)_$J($P(SRA(202),"^",5),7)
"RTN","SROATM2",52,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^",4),4)_$J($P(SRA(202),"^",4),7)
"RTN","SROATM2",53,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^",27),5)_$J($P(SRA(202),"^",27),7)
"RTN","SROATM2",54,0)
 S SHEMP=SHEMP_$J($P(SRA(203),"^",15),5)_$J($P(SRA(204),"^",15),7)
"RTN","SROATM2",55,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  7",SRACNT=SRACNT+1
"RTN","SROATM2",56,0)
 S SHEMP=SHEMP_$J($E($P(SRA(208),"^",14),1,12),12)_"  "_$J($P($G(SRA(208)),"^",11),2)_$J($P($G(SRA(208)),"^",10),2)_$J($E($P($G(SRA(208)),"^",9),1,4),4)
"RTN","SROATM2",57,0)
 S SHEMP=SHEMP_$J($E($P(SRA(208),"^",15),1,12),12)_"    "_$J($P($G(SRA(206)),"^",3),2)_$J($P($G(SRA(206)),"^",4),2)_$J($P($G(SRA(206)),"^",8),2)_"  "
"RTN","SROATM2",58,0)
 S SHEMP=SHEMP_$J($E($P(SRA(208),"^",16),1,12),12)_$J($E($P(SRA(208),"^",17),1,12),12)_$J($E($P(SRA(.2),"^",12),1,12),12)_$J($E($P(SRA(.2),"^"),1,12),12)
"RTN","SROATM2",59,0)
 S SHEMP=SHEMP_$J($E($P(SRA(1.1),"^",8),1,12),12)_$J($E($P(SRA(208.1),"^"),1,12),12)_$J($E($P(SRA(208.1),"^",2),1,12),12)_$J($E($P(SRA(208.1),"^",3),1,3),3)_$J(SRA("CON"),10)_$J($E($P(SRA(.2),"^",4),1,12),12)
"RTN","SROATM2",60,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  8",SRACNT=SRACNT+1
"RTN","SROATM2",61,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^",11),5)_$J($P(SRA(202),"^",11),7)_$J($P(SRA(201),"^",12),5)_$J($P(SRA(202),"^",12),7)_$J($P(SRA(201),"^",13),4)_$J($P(SRA(202),"^",13),7)_$J($P(SRA(201),"^",14),4)_$J($P(SRA(202),"^",14),7)
"RTN","SROATM2",62,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^",15),5)_$J($P(SRA(202),"^",15),7)
"RTN","SROATM2",63,0)
 S SHEMP=SHEMP_$J($P(SRA(201),"^",28),6)_$J($P(SRA(202.1),"^"),7)
"RTN","SROATM2",64,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SHEMP,SHEMP=$E(SHEMP,1,11)_"  9",SRACNT=SRACNT+1
"RTN","SROATM2",65,0)
 D ^SROATM3
"RTN","SROATM2",66,0)
 Q
"RTN","SROATM2",67,0)
ONE S MOE=$S(NYUK="NS":"S",NYUK="":" ",1:NYUK)
"RTN","SROATM2",68,0)
 Q
"RTN","SROATM2",69,0)
IFELSE I NYUK["NO ICD" S SHEMP=SHEMP_$J(" ",8)
"RTN","SROATM2",70,0)
 E  S SHEMP=SHEMP_$J(NYUK,8)
"RTN","SROATM2",71,0)
 Q
"RTN","SROATM2",72,0)
CVA S X=$P(SRA(205),"^",21),SRCVA=$S(X="Y":"Y",1:1) I SRCVA=1 Q
"RTN","SROATM2",73,0)
 N SROCC S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=12 S X=$P(^SRF(SRTN,16,SROCC,0),"^",8) S:X'="" SRCVA=X Q
"RTN","SROATM2",74,0)
 Q
"RTN","SROATM2",75,0)
RS ; resident supervision (attending code)
"RTN","SROATM2",76,0)
 N SRSR,SRX S (SRATT,SRSR)="",SRX=$G(^SRF(SRTN,.1)) D SRES
"RTN","SROATM2",77,0)
 S SRATT=$P(SRX,"^",10) I SRATT="" D
"RTN","SROATM2",78,0)
 .I SRSR=0 S SRATT=$S($P(^SRF(SRTN,0),"^",9)<3040401:1,1:9) Q
"RTN","SROATM2",79,0)
 .S SRATT=99
"RTN","SROATM2",80,0)
 Q
"RTN","SROATM2",81,0)
SRES ; does site have residents?
"RTN","SROATM2",82,0)
 N SRDIV,SRSITE,Y S SRDIV=$P($G(^SRF(SRTN,8)),"^") I SRDIV S SRSITE=$O(^SRO(133,"B",SRDIV,0)),SRSR=$P(^SRO(133,SRSITE,0),"^",19)
"RTN","SROATM2",83,0)
 Q
"RTN","SROATM2",84,0)
RETURN ; CPT of Returns
"RTN","SROATM2",85,0)
 S Y=$P($G(^SRO(136,NYUK,0)),"^",2) I Y S CNT=CNT+1,CPT(CNT)=$P($$CPT^ICPTCOD(Y),"^",2)
"RTN","SROATM2",86,0)
 Q
"RTN","SROATMNO")
0^6^B39488872^B36769071
"RTN","SROATMNO",1,0)
SROATMNO ;BIR/MAM - TRANSMIT NO ASSESSMENT ;09/12/2011
"RTN","SROATMNO",2,0)
 ;;3.0;Surgery;**27,38,47,62,68,79,83,81,88,93,95,97,129,125,142,153,160,166,174,175,176,177,182**;24 Jun 93;Build 49
"RTN","SROATMNO",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROATMNO",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROATMNO",5,0)
 ;**         are prohibited.
"RTN","SROATMNO",6,0)
 ;
"RTN","SROATMNO",7,0)
 ; Reference to ^DIC(45.3 supported by DBIA #218
"RTN","SROATMNO",8,0)
 ;
"RTN","SROATMNO",9,0)
 N SR1L,SR10SP,SRINTUB,SR95PO,SR95PO1,SRLO,SRPID,TDATE,SRDISP K ^TMP("SRA",$J) S SRATOT=0,SRASITE=+$P($$SITE^SROVAR,"^",3),(SRAMNUM,SRACNT)=1
"RTN","SROATMNO",10,0)
 S Z=$E(DT,1,3)-2,SRLO=Z_"1215"
"RTN","SROATMNO",11,0)
 S TDATE=0 F  S TDATE=$O(^SRF("AQ",TDATE)) Q:TDATE=""  I DT'<TDATE S SRTN=0 F  S SRTN=$O(^SRF("AQ",TDATE,SRTN)) Q:'SRTN  D SET
"RTN","SROATMNO",12,0)
 S SRATOTM=SRAMNUM,SR1L=1 D ^SROATM4
"RTN","SROATMNO",13,0)
 Q
"RTN","SROATMNO",14,0)
SET I $P($G(^SRF(SRTN,.4)),"^",2)="T"!(TDATE<SRLO) K ^SRF("AQ",TDATE,SRTN) Q
"RTN","SROATMNO",15,0)
 I $P($G(^SRF(SRTN,"NON")),"^")="Y" K ^SRF("AQ",TDATE,SRTN) S $P(^SRF(SRTN,.4),"^",2)="" Q
"RTN","SROATMNO",16,0)
 I $P($G(^SRF(SRTN,"RA")),"^",6)="Y",$P($G(^SRF(SRTN,"RA")),"^",2)="N" K ^SRF("AQ",TDATE,SRTN) Q
"RTN","SROATMNO",17,0)
 I $P($G(^SRF(SRTN,0)),"^",9)="" K ^SRF("AQ",TDATE,SRTN) Q
"RTN","SROATMNO",18,0)
 S SR10SP="          " K DA,DIE,DR S DA=SRTN,DIE=130,DR="905///R" D ^DIE K DR,DA,DIE
"RTN","SROATMNO",19,0)
 S SRA(0)=^SRF(SRTN,0),DATE=$E($P(SRA(0),"^",9),1,7),SPEC=$P(SRA(0),"^",4) S:SPEC SPEC=$P(^DIC(45.3,$P(^SRO(137.45,SPEC,0),"^",2),0),"^")
"RTN","SROATMNO",20,0)
 S EMERG=$P(SRA(0),"^",10),EMERG=$S(EMERG="EM":"Y",1:"N")
"RTN","SROATMNO",21,0)
 K SRTECH,SRZ S SRT=0 F  S SRT=$O(^SRF(SRTN,6,SRT)) Q:'SRT  D ^SROPRIN Q:$D(SRZ)
"RTN","SROATMNO",22,0)
 I $D(SRTECH) S SRINTUB=$P($G(^SRF(SRTN,6,SRT,8)),"^",2)
"RTN","SROATMNO",23,0)
 I '$D(SRTECH) S (SRTECH,SRINTUB)=""
"RTN","SROATMNO",24,0)
 S CPT=$P($G(^SRO(136,SRTN,0)),"^",2),SRPMOD="" I CPT S CPT=$P($$CPT^ICPTCOD(CPT),"^",2) D
"RTN","SROATMNO",25,0)
 .S SRM=0,SRCNT=1 F  S SRM=$O(^SRO(136,SRTN,1,SRM)) Q:'SRM  D  Q:SRCNT>5
"RTN","SROATMNO",26,0)
 ..S X=$P(^SRO(136,SRTN,1,SRM,0),"^") I X S Y=$P($$MOD^ICPTMOD(X,"I"),"^",2),SRPMOD=SRPMOD_Y,SRCNT=SRCNT+1
"RTN","SROATMNO",27,0)
 S DFN=$P(SRA(0),"^") N I D DEM^VADPT S SRDOB=$E($P(VADM(3),"^"),1,7),SRDEATH=$P(VADM(6),U),SRSEX=$P(VADM(5),"^")
"RTN","SROATMNO",28,0)
 S SRPID=VA("PID"),SRPID=$TR(SRPID,"-","") ; remove hyphens from PID
"RTN","SROATMNO",29,0)
 S X=$$SITE^SROUTL0(SRTN),SRDIV=$S(X:$P(^SRO(133,X,0),"^"),1:""),SRDIV=$S(SRDIV:$$GET1^DIQ(4,SRDIV,99),1:SRASITE)
"RTN","SROATMNO",30,0)
 D RS^SROATM2
"RTN","SROATMNO",31,0)
 S SRMAJMIN=$E($P($G(^SRF(SRTN,0)),U,3),1)
"RTN","SROATMNO",32,0)
 S SRDTHUR=$E($P($G(^SRF(SRTN,.4)),U,7),1)
"RTN","SROATMNO",33,0)
 S SRSTATUS=$S($P($G(^SRF(SRTN,208)),"^",14):"I",1:$E($P($G(^SRF(SRTN,0)),U,12),1))
"RTN","SROATMNO",34,0)
 S (SRSDATE,VAIP("D"))=$P(SRA(0),"^",9) D IN5^VADPT S SRSTATUS=$S(VAIP(13):"I",1:"O")
"RTN","SROATMNO",35,0)
 S SRDIS="" I VAIP(13) D ADM1^SROAPIMS S SRDIS=$G(SRVADPT(8)) K VAIP,SRVADPT
"RTN","SROATMNO",36,0)
 S SRAGE="" I $P(VADM(3),"^") S SRAGE=$E(DATE,1,3)-$E($P(VADM(3),"^"),1,3)-($E(DATE,4,7)<$E($P(VADM(3),"^"),4,7))
"RTN","SROATMNO",37,0)
 S SRASA="",Y=$P($G(^SRF(SRTN,1.1)),"^",3) S:Y X=$P($G(^SRO(132.8,Y,0)),"^"),SRASA=$E(X,1,2)
"RTN","SROATMNO",38,0)
 ; Admission wi 14 days following outpatient surgery due to an Occurrence
"RTN","SROATMNO",39,0)
 S (SRADMIT,SRADMT)=0 I SRSTATUS="O" D ADM^SROQ0A S SRADMIT=$S(SRADMT=0:"0",1:"1")
"RTN","SROATMNO",40,0)
 S EXC=$P($G(^SRF(SRTN,"RA")),"^",7),SRWOUND=$P($G(^SRF(SRTN,"1.0")),"^",8)
"RTN","SROATMNO",41,0)
 D OCC
"RTN","SROATMNO",42,0)
 S SRNODE="  X" S:$P($G(^SRF(SRTN,"RA")),U,6)="N" SRNODE="  *" S:$P($G(^SRF(SRTN,"RA")),U,2)="C" SRNODE="  C"
"RTN","SROATMNO",43,0)
 ;
"RTN","SROATMNO",44,0)
 S SRTEMP="%"_$J(SRASITE,3)_$J(SRTN,7)_SRNODE_$J(DATE,7)_$J(SRTECH,3)_$J(EMERG,1)_$J(SPEC,3)_$J(CPT,5)_$J(EXC,1)_$J(SRPID,20)_$J(SRDIV,6)_$J(SRSEX,1)
"RTN","SROATMNO",45,0)
 S SRTEMP=SRTEMP_$J(SRMAJMIN,1)_$J($E(SRDEATH,1,7),7)_$J(SRDTHUR,1)_$J(SRSTATUS,1)_$J(SRAGE,3)_$J(SRASA,2)_$J(SRADMIT,1)_SRTMP
"RTN","SROATMNO",46,0)
 K CPT,SRMOD F SRZ=1:1:10 S (CPT(SRZ),SRMOD(SRZ))=""
"RTN","SROATMNO",47,0)
 S (OPS,CNT)=0 F  S OPS=$O(^SRO(136,SRTN,3,OPS)) Q:'OPS!(CNT=10)  S CNT=CNT+1,X=$P($G(^SRO(136,SRTN,3,OPS,0)),"^") I X S CPT(CNT)=$P($$CPT^ICPTCOD(X),"^",2) D MOD
"RTN","SROATMNO",48,0)
 S SRCC=$P($G(^SRF(SRTN,"CON")),"^"),SRBLANK="          "
"RTN","SROATMNO",49,0)
 I SRCC,$P($G(^SRF(SRCC,30)),"^")!($P($G(^SRF(SRCC,31)),"^",8)) S SRCC=""
"RTN","SROATMNO",50,0)
 S SRTEMP=SRTEMP_$J(CPT(1),5)_$J(CPT(2),5)_$J(CPT(3),5)_$J(CPT(4),5)_$J(CPT(5),5)_$J(CPT(6),5)_$J(CPT(7),5)_$J(CPT(8),5)_$J(CPT(9),5)_$J(CPT(10),5)_$J(SRWOUND,2)_$J(SROCTYPE,1)_SRBLANK_$J(SRCC,10)_$J($E(SRDEATH,1,12),12)_$J($E(SRDIS,1,12),12)
"RTN","SROATMNO",51,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRTEMP,SRACNT=SRACNT+1
"RTN","SROATMNO",52,0)
 S SRICD=$P($G(^SRO(136,SRTN,0)),"^",3) S:SRICD SRICD=$P($$ICD^SROICD(SRTN,SRICD),"^",2)
"RTN","SROATMNO",53,0)
 N SRCVA D CVA S SRA(.2)=$G(^SRF(SRTN,.2))
"RTN","SROATMNO",54,0)
 S SRTEMP="%"_$J(SRASITE,3)_$J(SRTN,7)_"  B"_$J($E($P(SRA(.2),"^"),1,12),12)_$J($E($P(SRA(.2),"^",4),1,12),12)_$E(SRPMOD_SR10SP,1,10)
"RTN","SROATMNO",55,0)
 F I=1:1:10 S SRTEMP=SRTEMP_$E(SRMOD(I)_SR10SP,1,10)
"RTN","SROATMNO",56,0)
 S SRTEMP=SRTEMP_$J(SRINTUB,1)_SR95PO_$J(SRATT,2)_$J(SRDOB,7)_$J(SRICD,8)_$J(SROC(38),2)_$J(SROC(39),2)
"RTN","SROATMNO",57,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRTEMP_$J($P(SRA(.2),"^",10),12)_$J($P(SRA(.2),"^",12),12)_$J($P(SRA(.2),"^",2),12)_$J($P(SRA(.2),"^",3),12)_$J(SRCVA,1),SRACNT=SRACNT+1
"RTN","SROATMNO",58,0)
 S SRA(.9)=$G(^SRF(SRTN,.9)),SRA("VER")=$G(^SRF(SRTN,"VER")),SRA(52)=$G(^SRF(SRTN,52))
"RTN","SROATMNO",59,0)
 S SRTEMP="%"_$J(SRASITE,3)_$J(SRTN,7)_"  D"_$J($P(SRA(.9),"^"),12)_$J($P(SRA(.9),"^",2),12)_$J($P(SRA(.9),"^",3),12)_$J($P(SRA(.9),"^",4),12)_$J($P(SRA(.9),"^",5),12)_$J($P(SRA(.9),"^",6),12)
"RTN","SROATMNO",60,0)
 S SRTEMP=SRTEMP_$J($P($G(^SRF(SRTN,30)),"^"),12)_$J($P($G(^SRF(SRTN,31)),"^",8),4)_$J($P($G(^SRF(SRTN,30)),"^",4),50)
"RTN","SROATMNO",61,0)
 F I=7:1:18 S SRTEMP=SRTEMP_$J($P(SRA("VER"),"^",I),2)
"RTN","SROATMNO",62,0)
 S SROR="",Y=$P(^SRF(SRTN,0),"^",2),C=$P(^DD(130,.02,0),"^",2) I Y'="" D Y^DIQ S SROR=Y
"RTN","SROATMNO",63,0)
 S SRTEMP=SRTEMP_$J($E(SROR,1,30),30) F I=1:1:6 S SRTEMP=SRTEMP_$J($P(SRA(52),"^",I),2)
"RTN","SROATMNO",64,0)
 S SRDISP=$P($G(^SRF(SRTN,.4)),"^",6) S:SRDISP SRDISP=$P($G(^SRO(131.6,SRDISP,0)),"^",2)
"RTN","SROATMNO",65,0)
 S SRTEMP=SRTEMP_$$ADD182^SROATCM1(SRTN)_$J($P($G(^SRF(SRTN,30)),"^",5),1)_$J(SRDISP,3)_SR95PO1
"RTN","SROATMNO",66,0)
 S ^TMP("SRA",$J,SRAMNUM,SRACNT,0)=SRTEMP,SRACNT=SRACNT+1
"RTN","SROATMNO",67,0)
 I SRACNT>100 S SRACNT=1,SRAMNUM=SRAMNUM+1
"RTN","SROATMNO",68,0)
 S SRATOT=SRATOT+1
"RTN","SROATMNO",69,0)
 S X=$E($P(^SRF(SRTN,0),"^",9),1,5)_"00",^TMP("SRWL",$J,X)=""
"RTN","SROATMNO",70,0)
 K DATE,ANES,EMERG,EXC,SPEC,SRADMIT,SRADMT,SRATT,SRBLANK,SRCC,SRDIV,SRDOB,SRDTHUR,SRICD,SRIO,SRMAJMIN,SROCTYPE,SROR,SRSEX,SRTEMP,SRTMP,SRWOUND,SRZ,SR14,CPT
"RTN","SROATMNO",71,0)
 Q
"RTN","SROATMNO",72,0)
OCC ; total of each occurrence by category
"RTN","SROATMNO",73,0)
 N SRIOFLAG,SRPOFLAG
"RTN","SROATMNO",74,0)
 F SRK=1:1:41 S SROC(SRK)=""
"RTN","SROATMNO",75,0)
 S (SRPO,SRIOFLAG)=0 F  S SRPO=$O(^SRF(SRTN,10,SRPO)) Q:'SRPO  S SRSUB=$P(^SRF(SRTN,10,SRPO,0),U,2) I SRSUB'="" D
"RTN","SROATMNO",76,0)
 .S SROC(SRSUB)=SROC(SRSUB)+1,SRIOFLAG=1
"RTN","SROATMNO",77,0)
 S (SRPO,SRPOFLAG)=0 F  S SRPO=$O(^SRF(SRTN,16,SRPO)) Q:'SRPO  S SRSUB=$P(^SRF(SRTN,16,SRPO,0),U,2) I SRSUB'="" D
"RTN","SROATMNO",78,0)
 .S SROC(SRSUB)=SROC(SRSUB)+1,SRPOFLAG=1
"RTN","SROATMNO",79,0)
 S (SROCTYPE,SRTMP)="" F SRK=1:1:10 S SRTMP=SRTMP_$J(SROC(SRK),2)
"RTN","SROATMNO",80,0)
 S SRTMP=SRTMP_$J(SROC(37),2) F SRK=12:1:32 S SRTMP=SRTMP_$J(SROC(SRK),2)
"RTN","SROATMNO",81,0)
 S SR95PO=$J(SROC(33),2)_$J(SROC(34),2)_$J(SROC(35),2)_$J(SROC(36),2)
"RTN","SROATMNO",82,0)
 S SR95PO1=$J(SROC(40),2)_$J(SROC(41),2)
"RTN","SROATMNO",83,0)
 I SRIOFLAG=1,(SRPOFLAG=0) S SROCTYPE="I"
"RTN","SROATMNO",84,0)
 I SRIOFLAG=0,(SRPOFLAG=1) S SROCTYPE="P"
"RTN","SROATMNO",85,0)
 I SRIOFLAG=1,(SRPOFLAG=1) S SROCTYPE="B"
"RTN","SROATMNO",86,0)
 I SRIOFLAG=0,(SRPOFLAG=0) S SROCTYPE=""
"RTN","SROATMNO",87,0)
 Q
"RTN","SROATMNO",88,0)
MOD N SRM S SRM=0,SRCNT=1 F  S SRM=$O(^SRO(136,SRTN,3,OPS,1,SRM)) Q:'SRM  D  Q:SRCNT>5
"RTN","SROATMNO",89,0)
 .S X=$P(^SRO(136,SRTN,3,OPS,1,SRM,0),"^"),Y=$P($$MOD^ICPTMOD(X,"I"),"^",2)
"RTN","SROATMNO",90,0)
 .I Y'="" S SRMOD(CNT)=SRMOD(CNT)_Y,SRCNT=SRCNT+1
"RTN","SROATMNO",91,0)
 Q
"RTN","SROATMNO",92,0)
CVA S X=$P($G(^SRF(SRTN,205)),"^",21),SRCVA=$S(X="Y":"Y",1:1) I SRCVA=1 Q
"RTN","SROATMNO",93,0)
 N SROCC S SROCC=0 F  S SROCC=$O(^SRF(SRTN,16,SROCC)) Q:'SROCC  I $P(^SRF(SRTN,16,SROCC,0),"^",2)=12 S X=$P(^SRF(SRTN,16,SROCC,0),"^",8) S:X'="" SRCVA=X Q
"RTN","SROATMNO",94,0)
 Q
"RTN","SROAUTL")
0^44^B45777532^B41315079
"RTN","SROAUTL",1,0)
SROAUTL ;BIR/ADM - RISK ASSESSMENT UTILITY ;08/18/2011
"RTN","SROAUTL",2,0)
 ;;3.0;Surgery;**38,46,47,63,81,88,95,112,100,125,134,142,153,160,166,174,176,182**;24 Jun 93;Build 49
"RTN","SROAUTL",3,0)
 I $G(SRSUPCPT)=2 G NCODE
"RTN","SROAUTL",4,0)
 N SRCMOD,SRCOMMA,X K SRHDR S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S SRHDR=VADM(1)_" ("_VA("PID")_")      Case #"_SRTN
"RTN","SROAUTL",5,0)
 S Y=$E($P(^SRF(SRTN,0),"^",9),1,7) X ^DD("DD") S SRSDATE=Y
"RTN","SROAUTL",6,0)
 S X=^SRF(SRTN,"OP"),SROPER=$P(X,"^"),Y=$P(X,"^",2),SRCPT=$S(Y:$P($$CPT^ICPTCOD(Y),"^",2),1:"CPT MISSING") I SRCPT,$O(^SRF(SRTN,"OPMOD",0)) D
"RTN","SROAUTL",7,0)
 .S (SRCOMMA,SRI)=0,SRCMOD="",SRCPT=SRCPT_"-" F  S SRI=$O(^SRF(SRTN,"OPMOD",SRI)) Q:'SRI  D
"RTN","SROAUTL",8,0)
 ..S SRM=$P(^SRF(SRTN,"OPMOD",SRI,0),"^"),SRCMOD=$P($$MOD^ICPTMOD(SRM,"I"),"^",2)
"RTN","SROAUTL",9,0)
 ..S SRCPT=SRCPT_$S(SRCOMMA:",",1:"")_SRCMOD,SRCOMMA=1
"RTN","SROAUTL",10,0)
 S SRCPT=$S($G(SRSUPCPT)=1:"",1:"("_SRCPT_")")
"RTN","SROAUTL",11,0)
 S SROPER=SROPER_" "_SRCPT D LOOP S SRHDR(1)=SRSDATE_"   "_SRHDR(1)
"RTN","SROAUTL",12,0)
 Q
"RTN","SROAUTL",13,0)
NCODE N SRCMOD,SRCOMMA,X K SRHDR S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S SRHDR=VADM(1)_" ("_VA("PID")_")        Case #"_SRTN
"RTN","SROAUTL",14,0)
 S Y=$E($P(^SRF(SRTN,0),"^",9),1,7) X ^DD("DD") S SRSDATE=Y
"RTN","SROAUTL",15,0)
 S X=^SRF(SRTN,"OP"),SROPER=$P(X,"^"),Y=$P($G(^SRO(136,SRTN,0)),"^",2),SRCPT=$S(Y:$P($$CPT^ICPTCOD(Y),"^",2),1:"CPT MISSING") I SRCPT,$O(^SRO(136,SRTN,1,0)) D
"RTN","SROAUTL",16,0)
 .S (SRCOMMA,SRI)=0,SRCMOD="",SRCPT=SRCPT_"-" F  S SRI=$O(^SRO(136,SRTN,1,SRI)) Q:'SRI  D
"RTN","SROAUTL",17,0)
 ..S SRM=$P(^SRO(136,SRTN,1,SRI,0),"^"),SRCMOD=$P($$MOD^ICPTMOD(SRM,"I"),"^",2)
"RTN","SROAUTL",18,0)
 ..S SRCPT=SRCPT_$S(SRCOMMA:",",1:"")_SRCMOD,SRCOMMA=1
"RTN","SROAUTL",19,0)
 S SRCPT="(CPT Code: "_SRCPT_")"
"RTN","SROAUTL",20,0)
 S SROPER=SROPER_" "_SRCPT D LOOP S SRHDR(1)=SRSDATE_"   "_SRHDR(1)
"RTN","SROAUTL",21,0)
 Q
"RTN","SROAUTL",22,0)
LOOP I $L(SROPER)<68 S SRHDR(1)=SROPER Q
"RTN","SROAUTL",23,0)
 I $L(SROPER)>67 S X=SROPER,K=1 F  D  I $L(X)<68 S SRHDR(K)=X Q
"RTN","SROAUTL",24,0)
 .F I=0:1:66 S J=67-I,Y=$E(X,J) I Y=" " S SRHDR(K)=$E(X,1,J-1),X=$E(X,J+1,$L(X)) S K=K+1 Q
"RTN","SROAUTL",25,0)
 Q
"RTN","SROAUTL",26,0)
HDR ; print screen header
"RTN","SROAUTL",27,0)
 W @IOF,!,SRHDR W:$G(SRPAGE)'="" ?(79-$L(SRPAGE)),SRPAGE
"RTN","SROAUTL",28,0)
 S I=0 F  S I=$O(SRHDR(I)) Q:'I  W !,SRHDR(I) I I=.5,$L($G(SRCSTAT)) W ?(79-$L(SRCSTAT)),SRCSTAT
"RTN","SROAUTL",29,0)
 W:$D(SRCSTAT)&'$D(SRHDR(.5)) !,SRCSTAT
"RTN","SROAUTL",30,0)
 K SRHDR(.5),SRCSTAT,SRPAGE W ! F I=1:1:80 W "-"
"RTN","SROAUTL",31,0)
 W !
"RTN","SROAUTL",32,0)
 Q
"RTN","SROAUTL",33,0)
FUNCT() ; called by screen on functional health status field (#240)
"RTN","SROAUTL",34,0)
 N SRSCR S SRSCR="I 1"
"RTN","SROAUTL",35,0)
 I $$CARD S SRSCR="I Y'=4"
"RTN","SROAUTL",36,0)
 Q SRSCR
"RTN","SROAUTL",37,0)
CARD() ; is this a cardiac assessed case?
"RTN","SROAUTL",38,0)
 N SRX S SRX=$S($D(SRTN):SRTN,$D(DA):DA,1:"") I 'SRX Q 0
"RTN","SROAUTL",39,0)
 I $P($G(^SRF(SRX,"RA")),"^",2)="C" Q 1
"RTN","SROAUTL",40,0)
 Q 0
"RTN","SROAUTL",41,0)
NC ; called from input transform to kill X if case is cardiac assessed
"RTN","SROAUTL",42,0)
 I $$CARD,X="NA"!(X="NS") K X
"RTN","SROAUTL",43,0)
 Q
"RTN","SROAUTL",44,0)
DATE ; called by output transform on several date fields
"RTN","SROAUTL",45,0)
 I $D(Y),Y="NA"!(Y="NS") Q
"RTN","SROAUTL",46,0)
 N SRY S SRY=Y D DD^%DT
"RTN","SROAUTL",47,0)
 Q
"RTN","SROAUTL",48,0)
INDX ; set airway index
"RTN","SROAUTL",49,0)
 S SRY=$S(SRI>4:5,SRI>3:4,SRI>2:3,SRI>0:2,1:1),$P(^SRF(DA,.3),"^",9)=SRY
"RTN","SROAUTL",50,0)
 K SRI,SRMS,SROP,SRY
"RTN","SROAUTL",51,0)
 Q
"RTN","SROAUTL",52,0)
OP ; set logic for AOP cross reference on Oral-Pharyngeal field (901.1)
"RTN","SROAUTL",53,0)
 N SRI,SRMS,SRY S SRMS=$P(^SRF(DA,.3),"^",12) I SRMS'="" S SRMS=SRMS*.1,SRI=2.5*X-SRMS D INDX
"RTN","SROAUTL",54,0)
 Q
"RTN","SROAUTL",55,0)
MS ; set logic for AMS cross reference on Mandibular Space field (901.2)
"RTN","SROAUTL",56,0)
 N SRI,SRY,SRMS,SROP S SROP=$P(^SRF(DA,.3),"^",11) I SROP'="" S SRMS=X*.1,SRI=2.5*SROP-SRMS D INDX
"RTN","SROAUTL",57,0)
 Q
"RTN","SROAUTL",58,0)
K901 ; kill logic for AOP and AMS cross references
"RTN","SROAUTL",59,0)
 S $P(^SRF(DA,.3),"^",9)=""
"RTN","SROAUTL",60,0)
 Q
"RTN","SROAUTL",61,0)
DUP ; duplicate preop information from prior operation within 60 days
"RTN","SROAUTL",62,0)
 S SR200=$G(^SRF(SRTN,200)) S NOGO="" F I=1,9,13,18,30,37,44 S X=$P(SR200,"^",I) I X'="" S NOGO=1 K SR200 Q
"RTN","SROAUTL",63,0)
 S X=$P($G(^SRF(SRTN,200.1)),"^") I X'="" S NOGO=1
"RTN","SROAUTL",64,0)
 I NOGO K NOGO Q
"RTN","SROAUTL",65,0)
 K SRCASE S SR=^SRF(SRTN,0),DFN=$P(SR,"^"),(SRSDATE,X1)=$P(SR,"^",9),X2=-60 D C^%DTC S SRENDT=X,SRCASE=0 F  S SRCASE=$O(^SRF("B",DFN,SRCASE)) Q:'SRCASE  I SRCASE,SRCASE'=SRTN D
"RTN","SROAUTL",66,0)
 .S SRX=$P(^SRF(SRCASE,0),"^",9) I SRX>SRSDATE!(SRX<SRENDT) Q
"RTN","SROAUTL",67,0)
 .Q:$P($G(^SRF(SRCASE,"NON")),"^")="Y"!$P($G(^SRF(SRCASE,30)),"^")!$P($G(^SRF(SRCASE,31)),"^",8)!($P($G(^SRF(SRCASE,"CON")),"^")=SRTN)!'$P($G(^SRF(SRCASE,.2)),"^",12)
"RTN","SROAUTL",68,0)
 .S SRX=9999999-SRX,SRCASE(SRX,SRCASE)=""
"RTN","SROAUTL",69,0)
 K SRDT S (SRX,Y)=0 F  S SRX=$O(SRCASE(SRX)) Q:'SRX!$D(SRDT)  S SRCASE="" F  S SRCASE=$O(SRCASE(SRX,SRCASE)) Q:'SRCASE  S SR=$G(^SRF(SRCASE,"RA")) I $P(SR,"^",2)="N",$P(SR,"^",6)="Y" D  Q
"RTN","SROAUTL",70,0)
 .S Y=$P(^SRF(SRCASE,0),"^",9) X ^DD("DD") S SRDT=Y K DIR
"RTN","SROAUTL",71,0)
 .W !! S DIR("A",1)="This patient had a previous non-cardiac operation on "_SRDT_".",DIR("A",2)="",DIR("A",3)="Case #"_SRCASE_"  "_$P(^SRF(SRCASE,"OP"),"^")
"RTN","SROAUTL",72,0)
 .S DIR("A",4)="",DIR("A",5)="Do you want to duplicate the preoperative information from the earlier",DIR("A")="assessment in this assessment? "
"RTN","SROAUTL",73,0)
 .S DIR("B")="YES",DIR(0)="YA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SROAUTL",74,0)
 .D:Y STUFF
"RTN","SROAUTL",75,0)
 Q
"RTN","SROAUTL",76,0)
STUFF ; stuff preop information from previous case
"RTN","SROAUTL",77,0)
 I $$LOCK^SROUTL(SRCASE) D  D UNLOCK^SROUTL(SRCASE)
"RTN","SROAUTL",78,0)
 .K DA,DIC,DIQ,DR,SRY S DIC="^SRF(",DA=SRCASE,DIQ="SRY",DIQ(0)="I" D PREHD D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SROAUTL",79,0)
 .S SRZ=0 F  S SRZ=$O(SRY(130,SRCASE,SRZ)) Q:'SRZ  S DIE=130,DA=SRTN,DR=SRZ_"////"_SRY(130,SRCASE,SRZ,"I") D ^DIE K DA,DIE,DR
"RTN","SROAUTL",80,0)
 Q
"RTN","SROAUTL",81,0)
CHK ; check for missing non-cardiac assessment data items
"RTN","SROAUTL",82,0)
 N SRSEP,SRSEP40,SRTYPE K SRX
"RTN","SROAUTL",83,0)
 F SRC="PREOP","DEM" K DA,DIC,DIQ,DR,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I" D @SRC D EN^DIQ1 D ^SROAUTL1
"RTN","SROAUTL",84,0)
 F SRC="LAB","REM" K DA,DIC,DIQ,DR,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I" D @SRC D EN^DIQ1 D ^SROAUTL2
"RTN","SROAUTL",85,0)
OTH K DA,DIC,DIQ,DR,SRY,SRZ D TECH^SROPRIN I SRTECH="NOT ENTERED" S SRX("ANESTHESIA TECHNIQUE")="Anesthesia Technique"
"RTN","SROAUTL",86,0)
 ;D RELATE^SROAUTL2
"RTN","SROAUTL",87,0)
OCC D EN^SROCCAT S SRSDATE=$E($P(^SRF(SRTN,0),"^",9),1,7) K ^TMP("SROCC",$J),SRO
"RTN","SROAUTL",88,0)
 S SRPO=0 F  S SRPO=$O(^SRF(SRTN,10,SRPO)) Q:'SRPO  S ^TMP("SROCC",$J,$P(^SRF(SRTN,10,SRPO,0),"^",2),SRSDATE)=""
"RTN","SROAUTL",89,0)
 S SRPO=0 F  S SRPO=$O(^SRF(SRTN,16,SRPO)) Q:'SRPO  S SRDATE=$E($P(^SRF(SRTN,16,SRPO,0),"^",7),1,7) D
"RTN","SROAUTL",90,0)
 .S SRSEP=$P(^SRF(SRTN,16,SRPO,0),"^",4),SRTYPE=$P(^SRF(SRTN,16,SRPO,0),"^",2)
"RTN","SROAUTL",91,0)
 .I SRTYPE=40 S SRSEP40="DATA ENTERED" F II=9:1:13 S:$P(^SRF(SRTN,16,SRPO,0),"^",II)="" SRSEP40="" Q
"RTN","SROAUTL",92,0)
 .I '$G(SRDATE) S SRDATE="NO DATE"
"RTN","SROAUTL",93,0)
 .S ^TMP("SROCC",$J,SRTYPE,SRDATE)=$S(SRTYPE=40:$G(SRSEP40),1:SRSEP)
"RTN","SROAUTL",94,0)
 I '$D(^TMP("SROCC",$J)) D OCCEND Q
"RTN","SROAUTL",95,0)
 S SRPO=0 F  S SRPO=$O(^TMP("SROCC",$J,SRPO)) Q:'SRPO  S SRDATE="" F  S SRDATE=$O(^TMP("SROCC",$J,SRPO,SRDATE)) Q:SRDATE  S SRX("POSTOP OCCURRENCE DATE"_SRPO)="Date Noted on "_$P(^SRO(136.5,SRPO,0),"^")_" (Postop Occurrence)" Q
"RTN","SROAUTL",96,0)
 S SRDATE="",SRDATE=$O(^TMP("SROCC",$J,3,SRDATE)) Q:SRDATE=""  I ^TMP("SROCC",$J,3,SRDATE)="" S SRX("SEPSIS CATEGORY")="SEPSIS CATEGORY on SYSTEMIC SEPSIS (Postop Occurrence)"
"RTN","SROAUTL",97,0)
 S SRDATE="",SRDATE=$O(^TMP("SROCC",$J,40,SRDATE)) Q:SRDATE=""  I ^TMP("SROCC",$J,40,SRDATE)="" S SRX("SYMPTOMATIC UTI-CULTURE")="MISSING ONE OR MORE FIELDS on SYMPTOMATIC UTI-CULTURE (Postop Occurrence)"
"RTN","SROAUTL",98,0)
OCCEND K ^TMP("SROCC",$J)
"RTN","SROAUTL",99,0)
 Q
"RTN","SROAUTL",100,0)
PREOP S DR="236;237;519;520;517;518;246;618;325;237.1;238;492;204;203;326;212;213;207;205;640;485;267;643;641;265;330;328;211;332;333;400;521;522;401;338;218;339;215;216;642;217;338.1;338.2;218.1;269"
"RTN","SROAUTL",101,0)
 Q
"RTN","SROAUTL",102,0)
DEM S DR="413;.011;247;418;419;420;421;452;453;454;342"
"RTN","SROAUTL",103,0)
 Q
"RTN","SROAUTL",104,0)
LAB S DR="270;304;224;291;223;290;225;292;228;295;227;294;229;296;230;297;234;301;231;298;233;300;232;299;487;487.1;274;305;405;407;275;306;406;408;277;308;278;309;279;310;280;311;281;312;283;314;455;455.1;456;456.1;444;444.1;445;445.1"
"RTN","SROAUTL",105,0)
 Q
"RTN","SROAUTL",106,0)
REM S DR="214;.035;1.09;1.13;.22;.23;340;443;446;504;504.1"
"RTN","SROAUTL",107,0)
 Q
"RTN","SROAUTL",108,0)
PREHD D PREOP S DR=DR_";402;241;244;242;243;210;245"
"RTN","SROAUTL",109,0)
 Q
"RTN","SROAUTL0")
0^83^B23046095^B21283908
"RTN","SROAUTL0",1,0)
SROAUTL0 ;BIR/ADM,SLM - RISK ASSESSMENT UTILITY ;08/16/2011
"RTN","SROAUTL0",2,0)
 ;;3.0;Surgery;**38,47,57,60,61,63,81,125,153,160,174,176,177,182**;24 Jun 93;Build 49
"RTN","SROAUTL0",3,0)
PREOP K DR S SRQ=1,DR="325;238;240;204;203;207;332;333;338;339;215;217"
"RTN","SROAUTL0",4,0)
 Q
"RTN","SROAUTL0",5,0)
PREMD K DR S SRQ=1,DR=".011;247;413;417;418;419;420;421;452;453;454"
"RTN","SROAUTL0",6,0)
 Q
"RTN","SROAUTL0",7,0)
OPER K DR S SRQ=0,DR=".03;.04;26;27;214;.42;.035;1.09;1.13;.37;.22;.23;340;66"
"RTN","SROAUTL0",8,0)
 Q
"RTN","SROAUTL0",9,0)
LR K DR S SRQ=0,DR="225;292;228;295;224;291;234;301;230;297;227;294"
"RTN","SROAUTL0",10,0)
 Q
"RTN","SROAUTL0",11,0)
OUT1 ; man preop edit scr
"RTN","SROAUTL0",12,0)
 Q
"RTN","SROAUTL0",13,0)
LAB ; man lab edit scrn
"RTN","SROAUTL0",14,0)
 Q
"RTN","SROAUTL0",15,0)
CPTS ; put CPT codes in array for display
"RTN","SROAUTL0",16,0)
 N SRDA,K,X,XX,Y K SRPROC S K=1,Y=$P($G(^SRO(136,SRTN,0)),"^",2),Y=$S(Y:$P($$CPT^ICPTCOD(Y),"^",2),1:"")
"RTN","SROAUTL0",17,0)
 I $L(Y) D SSPRIN^SROCPT0
"RTN","SROAUTL0",18,0)
 S SRPROC(K)=$S($L(Y):Y,1:"NO PRIN CODE")
"RTN","SROAUTL0",19,0)
 S SRDA=0 F  S SRDA=$O(^SRO(136,SRTN,3,SRDA)) Q:'SRDA  D
"RTN","SROAUTL0",20,0)
 .S Y=$P($G(^SRO(136,SRTN,3,SRDA,0)),"^"),Y=$S(Y:$P($$CPT^ICPTCOD(Y),"^",2),1:"")
"RTN","SROAUTL0",21,0)
 .I $L(Y) D SSOTH^SROCPT0
"RTN","SROAUTL0",22,0)
 .I $L(Y)+$L(SRPROC(K))'>SRL S SRPROC(K)=SRPROC(K)_", "_Y Q
"RTN","SROAUTL0",23,0)
 .S K=K+1,SRPROC(K)=Y
"RTN","SROAUTL0",24,0)
 I SRPROC(1)=""!(SRPROC(1)="NO PRIN CODE") S SRPROC(1)="NOT ENTERED"
"RTN","SROAUTL0",25,0)
 Q
"RTN","SROAUTL0",26,0)
DISP ; display CPT code info
"RTN","SROAUTL0",27,0)
 N SRFIRST,SRMO,SRMOD,SRCSTAT S SRPAGE="",SRCSTAT=">> Coding "_$S($P($G(^SRO(136,SRTN,10)),"^"):"",1:"Not ")_"Complete <<"
"RTN","SROAUTL0",28,0)
 D HDR^SROAUTL S SRFIRST=0,SRW="NOT ENTERED"
"RTN","SROAUTL0",29,0)
 S Y=$P($G(^SRO(136,SRTN,0)),"^",2) I Y S Y=$P($$CPT^ICPTCOD(Y),"^",2) D DES^SROCPT0
"RTN","SROAUTL0",30,0)
 W "Principal CPT Code: "_SRW I $G(SRDES(1))'="" F I=1:1 Q:$L(SRDES(I))'>1  W !,?5,SRDES(I)
"RTN","SROAUTL0",31,0)
 I $O(^SRO(136,SRTN,1,0)) W !,?3,"Modifier: " D
"RTN","SROAUTL0",32,0)
 .S SRMOD=0 F  S SRMOD=$O(^SRO(136,SRTN,1,SRMOD)) Q:'SRMOD  D
"RTN","SROAUTL0",33,0)
 ..S SRMO=$P(^SRO(136,SRTN,1,SRMOD,0),"^")
"RTN","SROAUTL0",34,0)
 ..W:SRFIRST !,?13 W $P($$MOD^ICPTMOD(SRMO,"I"),"^",2),"-",$P($$MOD^ICPTMOD(SRMO,"I"),"^",3)
"RTN","SROAUTL0",35,0)
 ..S SRFIRST=1
"RTN","SROAUTL0",36,0)
 K SRDES W !
"RTN","SROAUTL0",37,0)
OTH S SROTH=0 F  S SROTH=$O(^SRO(136,SRTN,3,SROTH)) Q:'SROTH  D  K SRDES W !
"RTN","SROAUTL0",38,0)
 .S Y=$P($G(^SRO(136,SRTN,3,SROTH,0)),"^"),Y=$S(Y:$P($$CPT^ICPTCOD(Y),"^",2),1:"") D DES^SROCPT0
"RTN","SROAUTL0",39,0)
 .W !,"Other CPT Code:     "_SRW I $G(SRDES(1))'="" F I=1:1 Q:$L(SRDES(I))'>1  W !,?5,SRDES(I)
"RTN","SROAUTL0",40,0)
 .I $O(^SRO(136,SRTN,3,SROTH,1,0)) S SRFIRST=0 W !,?3,"Modifier: " D
"RTN","SROAUTL0",41,0)
 ..S SRMOD=0 F  S SRMOD=$O(^SRO(136,SRTN,3,SROTH,1,SRMOD)) Q:'SRMOD  D
"RTN","SROAUTL0",42,0)
 ...S SRMO=$P(^SRO(136,SRTN,3,SROTH,1,SRMOD,0),"^")
"RTN","SROAUTL0",43,0)
 ...W:SRFIRST !,?13 W $P($$MOD^ICPTMOD(SRMO,"I"),"^",2),"-",$P($$MOD^ICPTMOD(SRMO,"I"),"^",3)
"RTN","SROAUTL0",44,0)
 ...S SRFIRST=1
"RTN","SROAUTL0",45,0)
PRESS K DIR S DIR(0)="FOA",DIR("A")="Press ENTER to continue."
"RTN","SROAUTL0",46,0)
 S DIR("A",1)="CPT Codes should be verified. If need be, report discrepancies to the"
"RTN","SROAUTL0",47,0)
 S DIR("A",2)="official CPT coder for surgery.",DIR("A",3)="" D ^DIR K DIR
"RTN","SROAUTL0",48,0)
 Q
"RTN","SROAUTL0",49,0)
OCC ; occur data
"RTN","SROAUTL0",50,0)
 N SR40 S SR40="" K SRSEP,SRDUR
"RTN","SROAUTL0",51,0)
 D EN^SROCCAT K ^TMP("SROCC",$J),SRO,SROC,SROOC
"RTN","SROAUTL0",52,0)
 F SRK=1:1:41 S SROC(SRK)="       "
"RTN","SROAUTL0",53,0)
 S (SRFLG,SRIO,SRPO)=0 F  S SRIO=$O(^SRF(SRTN,10,SRIO)) Q:'SRIO  D
"RTN","SROAUTL0",54,0)
 .S SROCC=$P(^SRF(SRTN,10,SRIO,0),U,2) Q:'SROCC
"RTN","SROAUTL0",55,0)
 .S ^TMP("SROCC",$J,SROCC,$E($P(^SRF(SRTN,0),U,9),1,7),10)=SRIO
"RTN","SROAUTL0",56,0)
 F  S SRPO=$O(^SRF(SRTN,16,SRPO)) Q:'SRPO  D
"RTN","SROAUTL0",57,0)
 .S SRDATE=$E($P(^SRF(SRTN,16,SRPO,0),U,7),1,7)
"RTN","SROAUTL0",58,0)
 .S X1=$E(SRSDATE,1,7),X2=30 D C^%DTC
"RTN","SROAUTL0",59,0)
 .I SRDATE>X Q
"RTN","SROAUTL0",60,0)
 .I '$G(SRDATE) S SRDATE="       "
"RTN","SROAUTL0",61,0)
 .S SROCC=$P(^SRF(SRTN,16,SRPO,0),U,2) Q:'SROCC
"RTN","SROAUTL0",62,0)
 .S ^TMP("SROCC",$J,SROCC,SRDATE,16)=SRPO
"RTN","SROAUTL0",63,0)
 I '$D(^TMP("SROCC",$J)) D OCCEND Q
"RTN","SROAUTL0",64,0)
 ;remove multiples
"RTN","SROAUTL0",65,0)
 S SROCC=0 F  S SROCC=$O(^TMP("SROCC",$J,SROCC)) Q:'SROCC  S SROCCDT=$O(^TMP("SROCC",$J,SROCC,0)),SRTYPE=$O(^TMP("SROCC",$J,SROCC,SROCCDT,0)) D
"RTN","SROAUTL0",66,0)
 .I SROCC=21!(SROCC>28&(SROCC<33))!(SROCC=36) D
"RTN","SROAUTL0",67,0)
 ..S SRDA=^TMP("SROCC",$J,SROCC,SROCCDT,SRTYPE),SRICD=$P(^SRF(SRTN,SRTYPE,SRDA,0),U,3)
"RTN","SROAUTL0",68,0)
 ..I SRICD S SROOC(SROCC)=$P($$ICD^SROICD(SRTN,SRICD),"^",2)_"^"_$P(^SRF(SRTN,SRTYPE,SRDA,0),U)
"RTN","SROAUTL0",69,0)
 ..E  S SROOC(SROCC)="NO ICD CODE ENTERED"
"RTN","SROAUTL0",70,0)
 .S ^TMP("SROCC",$J,"SR",SROCC,SROCCDT)=""
"RTN","SROAUTL0",71,0)
 S SRK=1,SRO="",SROCC=0 F  S SROCC=$O(^TMP("SROCC",$J,"SR",SROCC)) Q:'SROCC  S SROCCDT="" F  S SROCCDT=$O(^TMP("SROCC",$J,"SR",SROCC,SROCCDT)) Q:SROCCDT=""  D
"RTN","SROAUTL0",72,0)
 .I SROCC=3 S SRPO=^TMP("SROCC",$J,SROCC,SROCCDT,16) I SRPO S X=$P(^SRF(SRTN,16,SRPO,0),"^",4) S:X SRSEP=X
"RTN","SROAUTL0",73,0)
 .I SROCC=12 S SRPO=^TMP("SROCC",$J,SROCC,SROCCDT,16) I SRPO S X=$P(^SRF(SRTN,16,SRPO,0),"^",8) S:X SRDUR=X
"RTN","SROAUTL0",74,0)
 .I SROCC=40 S SRPO=^TMP("SROCC",$J,SROCC,SROCCDT,16) I SRPO S X=$P(^SRF(SRTN,16,SRPO,0),"^",9,13) D
"RTN","SROAUTL0",75,0)
 ..S SR40="" F I=1:1:5 S SR40=SR40_$J($P(X,"^",I),1)
"RTN","SROAUTL0",76,0)
 .S SROC(SROCC)=SROCCDT
"RTN","SROAUTL0",77,0)
 F I=1:1:22,29:1:32,35,36,38 S SRO=SRO_$J(SROC(I),7)
"RTN","SROAUTL0",78,0)
 S X=$G(SRSEP),SRO=SRO_$J(X,1) I X S SRSEP=$S(X=2:"SEPSIS",X=3:"SEPTIC SHOCK",1:"SIRS")
"RTN","SROAUTL0",79,0)
 S X=$G(SRDUR),SRO=SRO_$J(X,1) I X S SRDUR=$S(X=2:"<24 HOURS",X=3:"24-72 HOURS",X=4:">72 HOURS",1:"NO SYMPTOMS")
"RTN","SROAUTL0",80,0)
 S SRO=SRO_$J(SROC(40),7)_$J(SROC(41),7)_SR40
"RTN","SROAUTL0",81,0)
OCCEND K ^TMP("SROCC",$J),SRPOCC,SRPOCCD,SRSDATE,SRTYPE,SRDATE,SRDA,SRFLG,SRICD,SRJ,SRK,SROCC,SROCCDT,SRPO,X1,X2
"RTN","SROAUTL0",82,0)
 Q
"RTN","SROAUTL1")
0^45^B19181745^B19378590
"RTN","SROAUTL1",1,0)
SROAUTL1 ;BIR/ADM - RISK ASSESSMENT UTILITY ;07/19/2011
"RTN","SROAUTL1",2,0)
 ;;3.0;Surgery;**38,47,81,125,153,160,166,174,176,182**;24 Jun 93;Build 49
"RTN","SROAUTL1",3,0)
 S SRZ=0 F  S SRZ=$O(SRY(130,SRTN,SRZ)) Q:'SRZ  I SRY(130,SRTN,SRZ,"I")="" D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRX(SRZ)=$P(SRFLD,"^",2)
"RTN","SROAUTL1",4,0)
 Q
"RTN","SROAUTL1",5,0)
TR S SRP=SRZ,SRP=$TR(SRP,"1234567890.","ABCDEFGHIJP")
"RTN","SROAUTL1",6,0)
 Q
"RTN","SROAUTL1",7,0)
GET S X=$T(@J)
"RTN","SROAUTL1",8,0)
 Q
"RTN","SROAUTL1",9,0)
FDA ;;641^Hypertension^Hypertension^
"RTN","SROAUTL1",10,0)
BAC ;;213^Esophageal Varices (Y/N)^Esophogeal Varices^
"RTN","SROAUTL1",11,0)
FDJ ;;640^PCI^PCI^
"RTN","SROAUTL1",12,0)
DHE ;;485^Prior Heart Surgery^Prior Heart Surgery
"RTN","SROAUTL1",13,0)
BFE ;;265^Peripheral Arterial Disease^Peripheral Arterial Disease^
"RTN","SROAUTL1",14,0)
CCJ ;;330^Rest Pain/Gangrene (Y/N)^Rest Pain/Gangrene^
"RTN","SROAUTL1",15,0)
BJE ;;205^Prior MI^Prior MI^
"RTN","SROAUTL1",16,0)
BFG ;;267^Angina Severity^Angina Severity^
"RTN","SROAUTL1",17,0)
FDC ;;643^Angina Timeframe^Angina Timeframe^
"RTN","SROAUTL1",18,0)
BCF ;;236^Patient's Height^Height^
"RTN","SROAUTL1",19,0)
BCG ;;237^Patient's Weight^Weight^
"RTN","SROAUTL1",20,0)
EAI ;;519^Diabetes Mellitus: Chronic, Long-term Management^Diabetes Mellitus: Chronic, Long-term Management^
"RTN","SROAUTL1",21,0)
EBJ ;;520^Diabetes Mellitus: Management Prior to Surgery^Diabetes Mellitus: Management Prior to Surgery^
"RTN","SROAUTL1",22,0)
EAG ;;517^Tobacco Use^Tobacco Use^
"RTN","SROAUTL1",23,0)
EAH ;;518^Tobacco Use Timeframe^Tobacco Use Timeframe^
"RTN","SROAUTL1",24,0)
BDF ;;246^ETOH Greater than 2 Drinks/Day (Y/N)^ETOH > 2 Drinks/Day^
"RTN","SROAUTL1",25,0)
FAH ;;618^Positive Drug Screening^Positive Drug Screening^
"RTN","SROAUTL1",26,0)
CBE ;;325^Dyspnea^Dyspnea^
"RTN","SROAUTL1",27,0)
BCH ;;238^DNR Status (Y/N)^DNR Status^
"RTN","SROAUTL1",28,0)
DIB ;;492^Functional Health Status at Evaluation for Surgery^Preop Functional Status
"RTN","SROAUTL1",29,0)
BJD ;;204^Ventilator Dependent Greater than 48 Hrs (Y/N)^Ventilator Dependent^
"RTN","SROAUTL1",30,0)
BJC ;;203^History of COPD (Y/N)^History of Severe COPD^
"RTN","SROAUTL1",31,0)
CBF ;;326^Current Pneumonia (Y/N)^Current Pneumonia^
"RTN","SROAUTL1",32,0)
BAB ;;212^Ascites (Y/N)^Ascites^
"RTN","SROAUTL1",33,0)
BJG ;;207^Congestive Heart Failure^Congestive Heart Failure^
"RTN","SROAUTL1",34,0)
CBH ;;328^Acute Renal Failure (Y/N)^Acute Renal Failure^
"RTN","SROAUTL1",35,0)
BAA ;;211^Currently on Dialysis (Y/N)^Currently on Dialysis^
"RTN","SROAUTL1",36,0)
CCB ;;332^Impaired Sensorium (Y/N)^Impaired Sensorium^
"RTN","SROAUTL1",37,0)
CCC ;;333^Coma (Y/N)^Coma^
"RTN","SROAUTL1",38,0)
DJJ ;;400^Hemiplegia (Y/N)^Hemiplegia^
"RTN","SROAUTL1",39,0)
EBA ;;521^Prior Surgical Repair/Carotid Artery Obstruction^Prior Surgical Repair/Carotid Artery Obstruction^
"RTN","SROAUTL1",40,0)
EBB ;;522^History of CVD Events^History of CVD Events^
"RTN","SROAUTL1",41,0)
DJA ;;401^Tumor Involving CNS (Y/N)^Tumor Involving CNS^
"RTN","SROAUTL1",42,0)
CCH ;;338^Disseminated Cancer (Y/N)^Disseminated Cancer^
"RTN","SROAUTL1",43,0)
BAH ;;218^Open Wound or Skin Infection (Y/N)^Open Wound or Infection^
"RTN","SROAUTL1",44,0)
CCI ;;339^Steroid Use for Chronic Condition (Y/N)^Steroid Use for Chronic Cond.^
"RTN","SROAUTL1",45,0)
BAE ;;215^Weight Loss > 10% of Usual Body Weight (Y/N)^Weight Loss > 10%^
"RTN","SROAUTL1",46,0)
BAF ;;216^Bleeding (Coagulation) Disorder^Bleeding (Coagulation) Disorde^
"RTN","SROAUTL1",47,0)
FDB ;;642^Bleeding Risk Due To Medication^Bleeding Risk Due To Medication^
"RTN","SROAUTL1",48,0)
BAG ;;217^Transfusion Greater than 4 RBC Units this Admission (Y/N)^Transfusion > 4 RBC Units^
"RTN","SROAUTL1",49,0)
CCHPA ;;338.1^Chemotherapy Within Last 30 Days (Y/N)^Chemotherapy W/I 30 Days^
"RTN","SROAUTL1",50,0)
CCHPB ;;338.2^Radiotherapy Within Last 90 Days (Y/N)^Radiotherapy W/I 90 Days^
"RTN","SROAUTL1",51,0)
BAHPA ;;218.1^Preoperative Sepsis (Y/N)^Preoperative Sepsis^
"RTN","SROAUTL1",52,0)
BFI ;;269^Pregnancy Status^Pregnancy Status^
"RTN","SROAUTL1",53,0)
DAC ;;413^Transfer Status^Transfer Status^
"RTN","SROAUTL1",54,0)
PJAA ;;.011^Hospital Admission Status
"RTN","SROAUTL1",55,0)
BDG ;;247^Length of Postoperative Hospital Stay
"RTN","SROAUTL1",56,0)
CDB ;;342^Date/Time of Death^Date/Time of Death
"RTN","SROAUTL1",57,0)
DAG ;;417^Patient's Race
"RTN","SROAUTL1",58,0)
DAH ;;418^Hospital Admission Date
"RTN","SROAUTL1",59,0)
DAI ;;419^Hospital Discharge Date
"RTN","SROAUTL1",60,0)
DBJ ;;420^Admitted/Transferred to Surgical Service
"RTN","SROAUTL1",61,0)
DBA ;;421^Discharged/Transferred to Chronic Care
"RTN","SROAUTL1",62,0)
DEB ;;452^Observation Admission Date/Time
"RTN","SROAUTL1",63,0)
DEC ;;453^Observation Discharge Date/Time
"RTN","SROAUTL1",64,0)
DED ;;454^Observation Treating Specialty
"RTN","SROAUTL1",65,0)
BCGPA ;;237.1^Preoperative Sleep Apnea
"RTN","SROAUTL2")
0^46^B36189372^B35918406
"RTN","SROAUTL2",1,0)
SROAUTL2 ;BIR/ADM - RISK ASSESSMENT UTILITY ;08/25/2011
"RTN","SROAUTL2",2,0)
 ;;3.0;Surgery;**38,47,63,88,125,153,160,176,177,182**;24 Jun 93;Build 49
"RTN","SROAUTL2",3,0)
 S SRZ=0 F  S SRZ=$O(SRY(130,SRTN,SRZ)) Q:'SRZ  D
"RTN","SROAUTL2",4,0)
 .I SRY(130,SRTN,SRZ,"I")="" D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRX(SRZ)=$P(SRFLD,"^",2)
"RTN","SROAUTL2",5,0)
 .I SRY(130,SRTN,SRZ,"I")="NS" D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRDT=$P(SRFLD,"^",4) S:SRDT'="" SRLR(SRDT)=""
"RTN","SROAUTL2",6,0)
 S SRDT=0 F  S SRDT=$O(SRLR(SRDT)) Q:'SRDT  K SRX(SRDT)
"RTN","SROAUTL2",7,0)
 Q
"RTN","SROAUTL2",8,0)
RELATE S DFN=$P(^SRF(SRTN,0),"^"),SRDEATH=$P($G(^DPT(DFN,.35)),"^") I 'SRDEATH Q
"RTN","SROAUTL2",9,0)
 S X2=$P(^SRF(SRTN,0),"^",9),X1=SRDEATH D ^%DTC I X>90 Q
"RTN","SROAUTL2",10,0)
 S X=$P($G(^SRF(SRTN,.4)),"^",7) I X="" S SRX(903)="Death Unrelated/Related"
"RTN","SROAUTL2",11,0)
 Q
"RTN","SROAUTL2",12,0)
TR S SRP=SRZ,SRP=$TR(SRP,"1234567890.","ABCDEFGHIJP")
"RTN","SROAUTL2",13,0)
 Q
"RTN","SROAUTL2",14,0)
GET S X=$T(@J)
"RTN","SROAUTL2",15,0)
 Q
"RTN","SROAUTL2",16,0)
PJC ;;.03^Major or Minor^Major or Minor^
"RTN","SROAUTL2",17,0)
PDB ;;.42^Other Procedures^^
"RTN","SROAUTL2",18,0)
PCG ;;.37^Anesthesia Technique^^
"RTN","SROAUTL2",19,0)
CE ;;35^Concurrent Case^Concurrent Case^
"RTN","SROAUTL2",20,0)
PJD ;;.04^Surgery Specialty^Surgical Specialty^
"RTN","SROAUTL2",21,0)
BF ;;26^Principal Procedure^Principal Operation^
"RTN","SROAUTL2",22,0)
BGJ ;;270^Preoperative Serum Sodium^Serum Sodium^304
"RTN","SROAUTL2",23,0)
CJD ;;304^Date Preoperative Serum Sodium was Performed^^
"RTN","SROAUTL2",24,0)
BBD ;;224^Preoperative BUN (mg/dl)^BUN^291
"RTN","SROAUTL2",25,0)
BIA ;;291^Date Preoperative BUN was Performed^^
"RTN","SROAUTL2",26,0)
BBC ;;223^Preoperative Serum Creatinine (mg/dl)^Serum Creatinine^290
"RTN","SROAUTL2",27,0)
BIJ ;;290^Date Preoperative Serum Creatinine was Performed^^
"RTN","SROAUTL2",28,0)
BBE ;;225^Preoperative Serum Albumin (g/dl)^Serum Albumin^292
"RTN","SROAUTL2",29,0)
BIB ;;292^Date Preoperative Serum Albumin was Performed^^
"RTN","SROAUTL2",30,0)
BBH ;;228^Preoperative Total Bilirubin (mg/dl)^Total Bilirubin^295
"RTN","SROAUTL2",31,0)
BIE ;;295^Date Preoperative Total Bilrubin was Performed^^
"RTN","SROAUTL2",32,0)
BBG ;;227^Preoperative SGOT (mU/ml)^SGOT^294
"RTN","SROAUTL2",33,0)
BID ;;294^Date Preoperative SGOT was Performed^^
"RTN","SROAUTL2",34,0)
BBI ;;229^Preoperative Alkaline Phosphatase (mU/ml)^Alkaline Phosphatase^296
"RTN","SROAUTL2",35,0)
BIF ;;296^Date Preoperative Alkaline Phosphatase was Performed^^
"RTN","SROAUTL2",36,0)
BCJ ;;230^Preoperative WBC (X 1000/mm3)^WBC^297
"RTN","SROAUTL2",37,0)
BIG ;;297^Date Preoperative WBC was Performed
"RTN","SROAUTL2",38,0)
BCD ;;234^Preoperative Hematocrit^Hematocrit^301
"RTN","SROAUTL2",39,0)
CJA ;;301^Date Preoperative Hematocrit was Performed^^
"RTN","SROAUTL2",40,0)
BCA ;;231^Preoperative Platelet Count (X 1000/mm3)^Platelet Count^298
"RTN","SROAUTL2",41,0)
BIH ;;298^Date Preoperative Platelet Count was Performed^^
"RTN","SROAUTL2",42,0)
BCC ;;233^Preoperative PTT (seconds)^PTT^300
"RTN","SROAUTL2",43,0)
CJJ ;;300^Date Preoperative PTT was Performed^^
"RTN","SROAUTL2",44,0)
BCB ;;232^Preoperative PT (seconds)^PT^299
"RTN","SROAUTL2",45,0)
BII ;;299^Date Preoperative PT was Performed^^
"RTN","SROAUTL2",46,0)
BGD ;;274^Highest Postoperative Serum Sodium^Highest Serum Sodium^305
"RTN","SROAUTL2",47,0)
CJE ;;305^Date Highest Serum Sodium was Recorded^^
"RTN","SROAUTL2",48,0)
DJE ;;405^Lowest Serum Sodium^Lowest Serum Sodium^407
"RTN","SROAUTL2",49,0)
DJG ;;407^Date of Lowest Serum Sodium^^
"RTN","SROAUTL2",50,0)
BGE ;;275^Highest Postoperative Potassium^Highest Potassium^306
"RTN","SROAUTL2",51,0)
CJF ;;306^Date Highest Potassium was Recorded^^
"RTN","SROAUTL2",52,0)
DJF ;;406^Lowest Postoperative Potassium^Lowest Potassium^408
"RTN","SROAUTL2",53,0)
DJH ;;408^Date of Lowest Postoperative Potassium^^
"RTN","SROAUTL2",54,0)
BGG ;;277^Highest Postoperative Serum Creatinine^Highest Serum Creatinine^308
"RTN","SROAUTL2",55,0)
CJH ;;308^Date Highest Serum Creatinine was Recorded^^
"RTN","SROAUTL2",56,0)
BGH ;;278^Highest Postoperative CPK^Highest CPK^309
"RTN","SROAUTL2",57,0)
CJI ;;309^Date Highest CPK was Recorded^^
"RTN","SROAUTL2",58,0)
BGI ;;279^Highest Postoperative CPK-MB^Highest CPK-MB^310
"RTN","SROAUTL2",59,0)
CAJ ;;310^Date Highest CPK-MB Band was Recorded^^
"RTN","SROAUTL2",60,0)
BHJ ;;280^Highest Postoperative Total Bilirubin^Highest Total Bilirubin^311
"RTN","SROAUTL2",61,0)
CAA ;;311^Date Highest Total Bilirubin was Recorded^^
"RTN","SROAUTL2",62,0)
BHA ;;281^Highest Postoperative WBC^Highest WBC^312
"RTN","SROAUTL2",63,0)
CAB ;;312^Date Highest WBC was Recorded^^
"RTN","SROAUTL2",64,0)
BHC ;;283^Lowest Postoperative Hematocrit^Lowest Hematocrit^314
"RTN","SROAUTL2",65,0)
CAD ;;314^Date Lowest Hematocrit was Recorded^^
"RTN","SROAUTL2",66,0)
DEE ;;455^Highest Postoperative Serum Troponin I^Highest Troponin I^455.1
"RTN","SROAUTL2",67,0)
DEEPA ;;455.1^Date of Highest Postop Troponin I^^
"RTN","SROAUTL2",68,0)
DEF ;;456^Highest Postoperative Serum Troponin T^Highest Troponin T^456.1
"RTN","SROAUTL2",69,0)
DEFPA ;;456.1^Date of Highest Postop Troponin T^^
"RTN","SROAUTL2",70,0)
DHG ;;487^Preoperative INR^INR^487.1
"RTN","SROAUTL2",71,0)
DHGPA ;;487.1^Date Preoperative INR was Performed^^
"RTN","SROAUTL2",72,0)
DDD ;;444^Preoperative Anion Gap^Anion Gap^444.1
"RTN","SROAUTL2",73,0)
DDDPA ;;444.1^Date Preoperative Anion Gap was Recorded^^
"RTN","SROAUTL2",74,0)
DDE ;;445^Highest Postoperative Anion Gap^Highest Anion Gap^445.1
"RTN","SROAUTL2",75,0)
DDEPA ;;445.1^Date Highest Anion Gap was Recorded^^
"RTN","SROAUTL2",76,0)
EJD ;;504^Preoperative Hemoglobin A1c^Hemoglobin A1c^504.1
"RTN","SROAUTL2",77,0)
EJDPA ;;504.1^Date Preoperative Hemoglobin A1c was Performed^^
"RTN","SROAUTL2",78,0)
BG ;;27^Principal Procedure Code (CPT)^Principal CPT Code^
"RTN","SROAUTL2",79,0)
BAD ;;214^PGY of Primary Surgeon ('0' for Staff Surgeon)^PGY of Primary Surgeon^
"RTN","SROAUTL2",80,0)
PJCE ;;.035^Case Schedule Type^Surgical Priority^
"RTN","SROAUTL2",81,0)
APJI ;;1.09^Wound Classification^Wound Classification^
"RTN","SROAUTL2",82,0)
APAC ;;1.13^ASA Class^ASA Classification^
"RTN","SROAUTL2",83,0)
PBJE ;;.205^Time Patient In the O.R.^Time Patient In the O.R.^
"RTN","SROAUTL2",84,0)
PBB ;;.22^Time the Operation Began^Date/Time Operation Began^
"RTN","SROAUTL2",85,0)
PBC ;;.23^Time the Operation Ends^Date/Time Operation Ended^
"RTN","SROAUTL2",86,0)
PBCB ;;.232^Time Patient Out of the O.R.^Time Patient Out of the O.R.^
"RTN","SROAUTL2",87,0)
CDJ ;;340^Number of RBC Units Transfused^RBC Units Transfused^
"RTN","SROAUTL2",88,0)
DDC ;;443^Intraoperative Disseminated Cancer (Y/N)^Intraoperative Disseminated Cancer^
"RTN","SROAUTL2",89,0)
DDF ;;446^Intraoperative Ascites (Y/N)^Intraoperative Ascites
"RTN","SROAUTL2",90,0)
FF ;;66^Principal Diagnosis Code (ICD)^Postop Diagnosis Code (ICD)^
"RTN","SROAUTL2",91,0)
BDG ;;247^Length of Postoperative Stay^Length of Postoperative Hospital Stay^
"RTN","SROAUTL2",92,0)
AJB ;;102^Reason for not Creating an Assessment^Exclusion Criteria^
"RTN","SROAUTL2",93,0)
PJAA ;;.011^Hospital Admission Status^Hospital Admission Status^
"RTN","SROAUTL2",94,0)
PAFF ;;.166^Attending/Res Sup Code^Attending/Res Sup Code
"RTN","SROAUTL2",95,0)
PBA ;;.21^Anesthesia Care Start Time^Anesthesia Start^
"RTN","SROAUTL2",96,0)
PBD ;;.24^Anesthesia Care End Time^Anesthesia Finish^
"RTN","SROAUTL4")
0^84^B39340588^B55709470
"RTN","SROAUTL4",1,0)
SROAUTL4 ;BIR/ADM - RISK ASSESSMENT UTILITY ;07/19/2011
"RTN","SROAUTL4",2,0)
 ;;3.0;Surgery;**38,71,95,125,153,160,164,166,174,175,176,182**;24 Jun 93;Build 49
"RTN","SROAUTL4",3,0)
 N SRZZ,SRXX,SRX1
"RTN","SROAUTL4",4,0)
 S SRZ=0 F  S SRZ=$O(SRY(130,SRTN,SRZ)) Q:'SRZ  D
"RTN","SROAUTL4",5,0)
 .I SRY(130,SRTN,SRZ,"I")="" D TR S (SRX1,X)=$T(@SRP),SRFLD=$P(X,";;",2) D
"RTN","SROAUTL4",6,0)
 ..S X=SRX1,SRX(SRZ)=$P(SRFLD,"^",2)_"^"_$P(X,";;",3)
"RTN","SROAUTL4",7,0)
 .I SRY(130,SRTN,SRZ,"I")="NS" D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRDT=$P(SRFLD,"^",4) S:SRDT'="" SRLR(SRDT)=""
"RTN","SROAUTL4",8,0)
 S SRDT=0 F  S SRDT=$O(SRLR(SRDT)) Q:'SRDT  K SRX(SRDT)
"RTN","SROAUTL4",9,0)
 Q
"RTN","SROAUTL4",10,0)
RED M SRZZ=SRX S SRZ=0 F  S SRZ=$O(SRX(SRZ)) Q:'SRZ  S SRZZ=$P($G(SRX(SRZ)),"^",2),SRXX(SRZZ)=$P($G(SRX(SRZ)),"^")_":"_SRZ
"RTN","SROAUTL4",11,0)
 K SRX M SRX=SRXX K SRXX
"RTN","SROAUTL4",12,0)
 Q
"RTN","SROAUTL4",13,0)
TR S SRP=SRZ,SRP=$TR(SRP,"1234567890.","ABCDEFGHIJP")
"RTN","SROAUTL4",14,0)
 Q
"RTN","SROAUTL4",15,0)
GET S X=$T(@J)
"RTN","SROAUTL4",16,0)
 Q
"RTN","SROAUTL4",17,0)
BCF ;;236^Patient's Height^Height^;;1-01
"RTN","SROAUTL4",18,0)
BCG ;;237^Patient's Weight^Weight^;;1-02
"RTN","SROAUTL4",19,0)
EAI ;;519^Diabetes Mellitus - Chronic, Long-Term Management^Diabetes - Long Term^;;1-03
"RTN","SROAUTL4",20,0)
EBJ ;;520^Diabetes Mellitus - Management Prior to Surgery^Diabetes - 2 Wks Preop^;;1-04
"RTN","SROAUTL4",21,0)
BJC ;;203^History of COPD (Y/N)^COPD^;;1-05
"RTN","SROAUTL4",22,0)
CDG ;;347^FEV1^FEV1^;;1-06
"RTN","SROAUTL4",23,0)
BJI ;;209^Cardiomegaly on Chest X-Ray (Y/N)^Cardiomegaly (X-ray)^;;1-07
"RTN","SROAUTL4",24,0)
CDH ;;348^Pulmonary Rales (Y/N)^Pulmonary Rales^;;1-08
"RTN","SROAUTL4",25,0)
EAG ;;517^Tobacco Use^Tobacco Use^;;1-09
"RTN","SROAUTL4",26,0)
EAH ;;518^Tobacco Use Timeframe^Tobacco Use Timeframe^;;1-10
"RTN","SROAUTL4",27,0)
FAH ;;618^Positive Drug Screening^Positive Drug Screening^;;1-11
"RTN","SROAUTL4",28,0)
CDI ;;349^Active Endocarditis (Y/N)^Active Endocarditis^;;1-12
"RTN","SROAUTL4",29,0)
CEJ ;;350^Resting ST Depression (Y/N)^Resting ST Depression^;;1-13
"RTN","SROAUTL4",30,0)
BDJ ;;240^Functional Health Status^Functional Status^;;1-14
"RTN","SROAUTL4",31,0)
FDJ ;;640^PCI^PCI^;;1-15
"RTN","SROAUTL4",32,0)
BJE ;;205^Prior Myocardial Infarction^Prior MI^;;1-16
"RTN","SROAUTL4",33,0)
CEB ;;352^Number of Prior Heart Surgeries^Number of Prior Heart Surgeries^;;1-17
"RTN","SROAUTL4",34,0)
DHE ;;485^Prior Heart Surgeries^;;1-18
"RTN","SROAUTL4",35,0)
BFE ;;265^Peripheral Arterial Disease^Peripheral Arterial Disease^;;1-19
"RTN","SROAUTL4",36,0)
EBA ;;521^Prior Surgical Repair/Carotid Artery Obstruction^Prior Surgical Repair/Carotid Artery Obstruction^;;1-20
"RTN","SROAUTL4",37,0)
EBB ;;522^History of CVD Events^History of CVD Events^;;1-21
"RTN","SROAUTL4",38,0)
BFG ;;267^Angina Severity^Angina Severity^;;1-22
"RTN","SROAUTL4",39,0)
FDC ;;643^Angina Timeframe^Angina Timeframe^;;1-22A
"RTN","SROAUTL4",40,0)
BJG ;;207^Congestive Heart Failure^Congestive Heart Failure^;;1-23
"RTN","SROAUTL4",41,0)
CEC ;;353^Current Diuretic Use (Y/N)^Current Diuretic Use^;;1-24
"RTN","SROAUTL4",42,0)
CED ;;354^Current Digoxin Use (Y/N)^Current Digoxin Use^;;1-25
"RTN","SROAUTL4",43,0)
CEE ;;355^IV NTG within 48 Hours Preceding Surgery (Y/N)^IV NTG within 48 Hours^;;1-26
"RTN","SROAUTL4",44,0)
DGD ;;474^Preop use of Circulatory Device^Preop Circulatory Device^;;1-27
"RTN","SROAUTL4",45,0)
FDA ;;641^Hypertension^Hypertension^;;1-28
"RTN","SROAUTL4",46,0)
EJI ;;509^Preoperative Atrial Fibrillation^Preoperative Atrial Fibrillation^;;1-29
"RTN","SROAUTL4",47,0)
DEG ;;457^HDL^^457.1;;2-01
"RTN","SROAUTL4",48,0)
DEGPA ;;457.1^HDL, Date;;2-02
"RTN","SROAUTL4",49,0)
DFA ;;461^LDL^^461.1;;2-03
"RTN","SROAUTL4",50,0)
DFAPA ;;461.1^LDL, Date;;2-04
"RTN","SROAUTL4",51,0)
DFB ;;462^Total Cholesterol^^462.1;;2-05
"RTN","SROAUTL4",52,0)
DFBPA ;;462.1^Total Cholesterol, Date;;2-06
"RTN","SROAUTL4",53,0)
DEH ;;458^Serum Triglyceride^^458.1;;2-07
"RTN","SROAUTL4",54,0)
DEHPA ;;458.1^Serum Triglyceride, Date;;2-08
"RTN","SROAUTL4",55,0)
DEI ;;459^Serum Potassium^^459.1;;2-09
"RTN","SROAUTL4",56,0)
DEIPA ;;459.1^Serum Potassium, Date;;2-10
"RTN","SROAUTL4",57,0)
DFJ ;;460^Serum Total Bilirubin^^460.1;;2-11
"RTN","SROAUTL4",58,0)
DFJPA ;;460.1^Serum Total Bilirubin, Date;;2-12
"RTN","SROAUTL4",59,0)
BBC ;;223^Preoperative Serum Creatinine^Creatinine^290;;2-13
"RTN","SROAUTL4",60,0)
BIJ ;;290^Creatinine Date;;2-14
"RTN","SROAUTL4",61,0)
BBE ;;225^Preoperative Serum Albumin^^292;;2-15
"RTN","SROAUTL4",62,0)
BIB ;;292^Preoperative Serum Albumin Date;;2-16
"RTN","SROAUTL4",63,0)
BAI ;;219^Preoperative Hemoglobin^^239;;2-17
"RTN","SROAUTL4",64,0)
BCI ;;239^Preoperative Hemoglobin Date;;2-18
"RTN","SROAUTL4",65,0)
EJD ;;504^Hemoglobin A1c^^504.1;;2-19
"RTN","SROAUTL4",66,0)
EJDPA ;;504.1^Hemoglobin A1c, Date;;2-20
"RTN","SROAUTL4",67,0)
EJG ;;507^B-type Natriuretic Peptide (BNP)^^507.1;;2-21
"RTN","SROAUTL4",68,0)
EJGPA ;;507.1^B-type Natriuretic Peptide (BNP), Date;;2-22
"RTN","SROAUTL4",69,0)
DGF ;;476^Procedure Type;;3-01
"RTN","SROAUTL4",70,0)
CEG ;;357^Left Ventricular End-Diastolic Pressure^LVEDP^;;3-02
"RTN","SROAUTL4",71,0)
CEH ;;358^Aortic Systolic Pressure^Aortic Systolic Pressure^;;3-03
"RTN","SROAUTL4",72,0)
CEI ;;359^PA Systolic Pressure^*PA Systolic Pressure^;;3-04
"RTN","SROAUTL4",73,0)
CFJ ;;360^PAW Mean Pressure^*PAW Mean Pressure^;;3-05
"RTN","SROAUTL4",74,0)
CFC ;;363^LV Contraction Grade^LV Contraction Grade  (from contrast or radionuclide angiogram or 2D echo^;;3-06
"RTN","SROAUTL4",75,0)
DAE ;;415^Mitral Regurgitation^Mitral Regurgitation^;;3-07
"RTN","SROAUTL4",76,0)
DGG ;;477^Aortic Stenosis;;3-08
"RTN","SROAUTL4",77,0)
CFA ;;361^Left Main Stenosis^Left Main Stenosis^;;3-09
"RTN","SROAUTL4",78,0)
CFBPA ;;362.1^Left Anterior Descending (LAD) Stenosis^LAD Stenosis^;;3-10
"RTN","SROAUTL4",79,0)
CFBPB ;;362.2^Right Coronary Artery Stenosis^Right Coronary Stenosis^;;3-11
"RTN","SROAUTL4",80,0)
CFBPC ;;362.3^Circumflex Coronary Artery Stenosis^Circumflex Stenosis^;;3-12
"RTN","SROAUTL4",81,0)
DGH ;;478^Re-Do Lad Stenosis;;3-13
"RTN","SROAUTL4",82,0)
DGI ;;479^Re-Do Right Coronary Stenosis;;3-14
"RTN","SROAUTL4",83,0)
DHJ ;;480^Re-Do Circumflex Stenosis;;3-15
"RTN","SROAUTL4",84,0)
CFD ;;364^Physician's Preoperative Estimate of Operative Mortality^Physician's Preoperative Estimate of Operative Mortality^;;4-01
"RTN","SROAUTL4",85,0)
CFDPA ;;364.1^Date/Time of Estimate of Operative Mortality^Date/Time of Estimate of Operative Mortality^;;4-02
"RTN","SROAUTL4",86,0)
APAC ;;1.13^ASA Class^ASA Classification^;;4-03
"RTN","SROAUTL4",87,0)
DAD ;;414^Cardiac Surgical Priority^Surgical Priority^;;4-04
"RTN","SROAUTL4",88,0)
DADPA ;;414.1^Date/Time of Cardiac Surgical Priority^Date/Time of Cardiac Surgical Priority^;;4-05
"RTN","SROAUTL4",89,0)
APJI ;;1.09^Wound Classification^Wound Classification^;;4-06
"RTN","SROAUTL4",90,0)
DEA ;;451^Total CPB Time;;5-26
"RTN","SROAUTL4",91,0)
DEJ ;;450^Total Ischemic Time;;5-27
"RTN","SROAUTL4",92,0)
DFH ;;468^Incision Type^;;5-28
"RTN","SROAUTL4",93,0)
DFI ;;469^Convert From Off Pump to CPB;;5-29
"RTN","SROAUTL4",94,0)
CHD ;;384^Operative Death (Y/N)^Operative Death^;;6-01
"RTN","SROAUTL4",95,0)
DAH ;;418^Hospital Admission Date And Time;;7-01
"RTN","SROAUTL4",96,0)
DAI ;;419^Hospital Discharge Date And Time;;7-02
"RTN","SROAUTL4",97,0)
DDJ ;;440^Cardiac Catheterization Date;;7-03
"RTN","SROAUTL4",98,0)
PBJE ;;.205^Time Patient In OR;;7-04
"RTN","SROAUTL4",99,0)
PBB ;;.22^Time the Operation Began^Date/Time Operation Began^;;7-05
"RTN","SROAUTL4",100,0)
PBC ;;.23^Time the Operation Ended^Date/Time Operation Ended^;;7-06
"RTN","SROAUTL4",101,0)
PBCB ;;.232^Time Patient Out OR;;7-07
"RTN","SROAUTL4",102,0)
DGJ ;;470^Date and Time Patient Extubated;;7-08
"RTN","SROAUTL4",103,0)
DGA ;;471^Date and Time Patient Discharged from ICU;;7-09
"RTN","SROAUTL4",104,0)
DGC ;;473^Homeless(Y/N);;7-10
"RTN","SROAUTL4",105,0)
DDB ;;442^Employment Status;;7-12
"RTN","SROAUTL4",106,0)
BCGPA ;;237.1^Preoperative Sleep Apnea^Preoperative Sleep Apnea^;;1-31
"RTN","SROAUTLC")
0^85^B26739810^B28000682
"RTN","SROAUTLC",1,0)
SROAUTLC ;BIR/ADM - CARDIAC RISK ASSESSMENT UTILITY ;08/18/2011
"RTN","SROAUTLC",2,0)
 ;;3.0;Surgery;**38,71,90,88,95,97,102,96,125,153,163,164,166,174,175,176,182**;24 Jun 93;Build 49
"RTN","SROAUTLC",3,0)
 ;
"RTN","SROAUTLC",4,0)
 ; Reference to ^DIC(45.3 supported by DBIA #218
"RTN","SROAUTLC",5,0)
 ;
"RTN","SROAUTLC",6,0)
SITE ; determine if site is a cardiac facility
"RTN","SROAUTLC",7,0)
 I $$CARD Q
"RTN","SROAUTLC",8,0)
 W @IOF,!,"The SURGERY SITE PARAMETERS file indicates this site/division does not use ",!,"the Cardiac Risk Assessment module. Therefore, this option is not available",!,"for use.",!
"RTN","SROAUTLC",9,0)
 S XQUIT="" W !!,"Press RETURN to continue  " R X:DTIME W @IOF
"RTN","SROAUTLC",10,0)
 Q
"RTN","SROAUTLC",11,0)
CARD() ; extrinsic call to determine if site is cardiac facility
"RTN","SROAUTLC",12,0)
 N CARD S CARD=0 Q:'$G(SRSITE) CARD
"RTN","SROAUTLC",13,0)
 I $P($G(^SRO(133,SRSITE,0)),"^",5)="Y" S CARD=1
"RTN","SROAUTLC",14,0)
 Q CARD
"RTN","SROAUTLC",15,0)
NOW ; update date/time of surgical priority entry
"RTN","SROAUTLC",16,0)
 N X I $$CARD,$P($G(^SRF(DA,208)),"^",12)'="" D NOW^%DTC S $P(^SRF(DA,208),"^",13)=$E(%,1,12)
"RTN","SROAUTLC",17,0)
 Q
"RTN","SROAUTLC",18,0)
KNOW ; delete date/time of surgical priority entry
"RTN","SROAUTLC",19,0)
 I $D(^SRF(DA,208)) S $P(^SRF(DA,208),"^",13)=""
"RTN","SROAUTLC",20,0)
 Q
"RTN","SROAUTLC",21,0)
EM ; input transform logic on Case Schedule Type field (.035)
"RTN","SROAUTLC",22,0)
 Q:'$$CARD  N DIR,SREM,SRNOT,SRQ,SRSP
"RTN","SROAUTLC",23,0)
 I X'="EM" S:X="U" $P(^SRF(DA,208),"^",12)=2 S:X'="U" $P(^SRF(DA,208),"^",12)=1 D NOW Q
"RTN","SROAUTLC",24,0)
 S SRQ=0,SRSP=$P(^DIC(45.3,$P(^SRO(137.45,$P(^SRF(DA,0),"^",4),0),"^",2),0),"^") Q:SRSP'=48&(SRSP'=58)  D:SRSP=58 YN Q:SRQ
"RTN","SROAUTLC",25,0)
 D CAT
"RTN","SROAUTLC",26,0)
 Q
"RTN","SROAUTLC",27,0)
CAT N X K DIR S DIR("A",1)="",DIR("A",2)="     Enter category of emergency.",DIR("A",3)="     1. Emergent (ongoing ischemia)",DIR("A",4)="     2. Emergent (hemodynamic compromise)",DIR("A",5)="     3. Emergent (arrest with CPR)"
"RTN","SROAUTLC",28,0)
 S DIR("A",6)="",DIR("A")="     Enter number (1, 2 or 3): ",DIR(0)="NA^1:3",DIR("?")="^D HELP^SROAUTLC" D ^DIR I $D(DTOUT)!$D(DUOUT) Q
"RTN","SROAUTLC",29,0)
 S SREM=Y,$P(^SRF(DA,208),"^",12)=SREM+2 D NOW
"RTN","SROAUTLC",30,0)
 Q
"RTN","SROAUTLC",31,0)
YN N X K DIR S DIR("A",1)="",DIR("A",2)="     Is this emergency case a cardiac procedure requiring cardiopulmonary",DIR("A")="     bypass (Y/N)? ",DIR(0)="YA" D ^DIR I $D(DTOUT)!$D(DUOUT) S SRQ=1 Q
"RTN","SROAUTLC",32,0)
 I 'Y S SRQ=1
"RTN","SROAUTLC",33,0)
 Q
"RTN","SROAUTLC",34,0)
HELP K SRHLP S SRHLP(1)="This is the category of emergency reflecting the patient's cardiovascular",SRHLP(2)="condition at the time of transport to the operating room:",SRHLP(3)=""
"RTN","SROAUTLC",35,0)
 S SRHLP(4)="1. Emergent (ongoing ischemia) - Clinical condition mandates immediate",SRHLP(5)="surgery usually on day of catheterization because of ischemia despite"
"RTN","SROAUTLC",36,0)
 S SRHLP(6)="medical therapy, such as intravenous nitroglycerine.  Ischemia should",SRHLP(7)="be manifested as chest pain and/or ST-segment depression."
"RTN","SROAUTLC",37,0)
 S SRHLP(8)="",SRHLP(9)="2. Emergent (hemodynamic compromise) - Persistent hypotension (arterial",SRHLP(10)="systolic pressure < 80 mm Hg) and/or low cardiac output (cardiac index"
"RTN","SROAUTLC",38,0)
 S SRHLP(11)="< 2.0 L/min/MxM) despite iontropic and/or mechanical circulatory",SRHLP(12)="support mandates immediates surgery within hours of the cardiac",SRHLP(13)="catheterization."
"RTN","SROAUTLC",39,0)
 S SRHLP(14)="",SRHLP(15)="3. Emergent (arrest with CPR) - Patient is taken to the operating room in",SRHLP(16)="full cardiac arrest with the circulation supported by cardiopulmonary"
"RTN","SROAUTLC",40,0)
 S SRHLP(17)="resuscitation (excludes patients being adequately perfused by a",SRHLP(18)="cardiopulmonary support system).",SRHLP(19)=""
"RTN","SROAUTLC",41,0)
 S SRHLP(20)="Enter the appropriate number to designate the category of emergency.",SRHLP(21)="",SRHLP(22)="" D EN^DDIOL(.SRHLP) K SRHLP
"RTN","SROAUTLC",42,0)
 N DIR S DIR(0)="FOA",DIR("A")="Enter RETURN to continue: " D ^DIR I $D(DTOUT)!$D(DUOUT) S SRQ=1 Q
"RTN","SROAUTLC",43,0)
 Q
"RTN","SROAUTLC",44,0)
CHK ; check for missing cardiac assessment information
"RTN","SROAUTLC",45,0)
 K SRX,SRZZ F SRC="CLIN","LAB","CATH","OP","CAR","R" K DA,DIC,DIQ,DR,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I" D @SRC D EN^DIQ1 D ^SROAUTL4
"RTN","SROAUTLC",46,0)
 D RED^SROAUTL4
"RTN","SROAUTLC",47,0)
 Q
"RTN","SROAUTLC",48,0)
CLIN S DR="236;237;519;520;203;347;209;348;517;518;618;349;350;240;640;205;352;485;265;521;522;267;643;207;353;354;355;474;641;509;237.1"
"RTN","SROAUTLC",49,0)
 Q
"RTN","SROAUTLC",50,0)
CATH S DR="476;357;358;359;360;363;415;477;361;362.1;362.2;362.3;478;479;480"
"RTN","SROAUTLC",51,0)
 Q
"RTN","SROAUTLC",52,0)
R S DR="418;419;440;.205;.22;.23;.232;470;471;473;442"
"RTN","SROAUTLC",53,0)
 Q
"RTN","SROAUTLC",54,0)
OP S DR="364;364.1;1.13;414;414.1;1.09"
"RTN","SROAUTLC",55,0)
 Q
"RTN","SROAUTLC",56,0)
CAR S DR="451;450;468;469"
"RTN","SROAUTLC",57,0)
 Q
"RTN","SROAUTLC",58,0)
LAB S DR="457;457.1;461;461.1;462;462.1;458;458.1;459;459.1;460;460.1;223;290;225;292;219;239;504;504.1;507;507.1"
"RTN","SROAUTLC",59,0)
 Q
"RTN","SROCAN0")
0^7^B16716509^B16620958
"RTN","SROCAN0",1,0)
SROCAN0 ;BIR/MAM - REPORT OF CANCELLATIONS (CONT.) ;08/08/2011
"RTN","SROCAN0",2,0)
 ;;3.0;Surgery;**14,94,176,182**;24 Jun 93;Build 49
"RTN","SROCAN0",3,0)
 U IO K ^TMP("SR",$J),SRSPEC S SRD=SRSD-.0001,SRE=SRED+.9999,(SRHDR,SRQ)=0,PAGE=1
"RTN","SROCAN0",4,0)
 S Y=DT D D^DIQ S SRPRINT=$E(Y,1,12)
"RTN","SROCAN0",5,0)
 N SRNME,SROPP
"RTN","SROCAN0",6,0)
 F  S SRD=$O(^SRF("AC",SRD)) Q:SRQ!(SRD>SRE)!('SRD)  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRD,SRTN)) Q:SRQ!('SRTN)  I $D(^SRF(SRTN,0)),$P($G(^SRF(SRTN,30)),"^")'="",$$MANDIV^SROUTL0(SRINSTP,SRTN) D SET
"RTN","SROCAN0",7,0)
 D HDR S SRSS="" F  S SRSS=$O(^TMP("SR",$J,SRSS)) Q:SRSS=""!(SRQ)  D SRSP S SRNME="" F  S SRNME=$O(^TMP("SR",$J,SRSS,SRNME)) Q:SRNME=""!(SRQ)  D
"RTN","SROCAN0",8,0)
 .S SROPP="" F  S SROPP=$O(^TMP("SR",$J,SRSS,SRNME,SROPP)) Q:SROPP=""!(SRQ)  S SRTN=0 F  S SRTN=$O(^TMP("SR",$J,SRSS,SRNME,SROPP,SRTN)) Q:'SRTN!(SRQ)  D CASE
"RTN","SROCAN0",9,0)
 I SRSP S SRSS="" F  S SRSS=$O(SRSP(SRSS)) Q:'SRSS!SRQ  I '$D(^TMP("SR",$J,SRSS)) D SRSP D:$Y+4>IOSL HDR Q:SRQ  W !,"No data for selected date range."
"RTN","SROCAN0",10,0)
 I 'SRSP,'$D(^TMP("SR",$J)) W !!,"No data for selected date range."
"RTN","SROCAN0",11,0)
 D END
"RTN","SROCAN0",12,0)
 Q
"RTN","SROCAN0",13,0)
SRSP S SRSPEC=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"NO SPECIALTY ENTERED"),SRSPEC=">> SURGICAL SPECIALTY: "_SRSPEC_" <<" D SUB
"RTN","SROCAN0",14,0)
 Q
"RTN","SROCAN0",15,0)
SET ; set up ^TMP
"RTN","SROCAN0",16,0)
 Q:$P($G(^SRF(SRTN,"NON")),"^")="Y"  S SRSS=$P(^SRF(SRTN,0),"^",4) S:SRSS="" SRSS="ZZ" I SRSP,'$D(SRSP(SRSS)) Q
"RTN","SROCAN0",17,0)
 S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT
"RTN","SROCAN0",18,0)
 S ^TMP("SR",$J,SRSS,VADM(1),$P(^SRF(SRTN,"OP"),"^"),SRTN)=""
"RTN","SROCAN0",19,0)
 Q
"RTN","SROCAN0",20,0)
CASE ; print individual case
"RTN","SROCAN0",21,0)
 I $Y+6>IOSL D HDR Q:SRQ
"RTN","SROCAN0",22,0)
 S S(0)=^SRF(SRTN,0),DFN=$P(S(0),"^") D DEM^VADPT S SRNM=VADM(1),SRSSN=VA("PID"),Y=$P(S(0),"^",9) D D^DIQ S SROD=$E(Y,1,12)
"RTN","SROCAN0",23,0)
 S SRCR=$P($G(^SRF(SRTN,31)),"^",8) S:SRCR'="" SRCR=$P(^SRO(135,SRCR,0),"^")
"RTN","SROCAN0",24,0)
 S Y=$P(^SRF(SRTN,30),"^") D:Y D^DIQ S SRCD=$P(Y,"@")_"  "_$E($P(Y,"@",2),1,5)
"RTN","SROCAN0",25,0)
 K ABORT S ABORT=$P($G(^SRF(SRTN,.2)),"^",10)
"RTN","SROCAN0",26,0)
OPS S SROPER=$S(ABORT:"* ",1:"")_$P(^SRF(SRTN,"OP"),"^"),OPER=0 F  S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SROCAN0",27,0)
 K SROPS,MM,MMM S:$L(SROPER)<50 SROPS(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROCAN0",28,0)
PRINT ;
"RTN","SROCAN0",29,0)
 W !!,SROD,?15,$E(SRNM,1,28),?44,SROPS(1),?95,SRCD,!,SRTN,?15,VA("PID") W:$D(SROPS(2)) ?44,SROPS(2) W ?95,SRCR
"RTN","SROCAN0",30,0)
 I $D(SROPS(3)) W !,?44,SROPS(3) I $D(SROPS(4)) W !,?44,SROPS(4) I $D(SROPS(5)) W !,?44,SROPS(5) I $D(SROPS(6)) W !,?44,SROPS(6)
"RTN","SROCAN0",31,0)
 Q
"RTN","SROCAN0",32,0)
END W:$E(IOST)="P" @IOF I $D(ZTQUEUED) K ^TMP("SR",$J) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SROCAN0",33,0)
 I 'SRQ,$E(IOST)'="P" W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SROCAN0",34,0)
 D ^SRSKILL K SRTN D ^%ZISC W @IOF
"RTN","SROCAN0",35,0)
 Q
"RTN","SROCAN0",36,0)
OTHER ; other operations
"RTN","SROCAN0",37,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>250 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROCAN0",38,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SROCAN0",39,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROCAN0",40,0)
 Q
"RTN","SROCAN0",41,0)
LOOP ; break procedure if greater than 55 characters
"RTN","SROCAN0",42,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<50  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROCAN0",43,0)
 Q
"RTN","SROCAN0",44,0)
HDR ; print heading
"RTN","SROCAN0",45,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRQ=1 Q
"RTN","SROCAN0",46,0)
 I SRHDR,$E(IOST)'="P" W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRQ=1 Q
"RTN","SROCAN0",47,0)
 W:$Y @IOF W !,?(132-$L(SRINST)\2),SRINST,?115,"PAGE: "_PAGE,!,?55,"REPORT OF CANCELLATIONS",?100,"REVIEWED BY:"
"RTN","SROCAN0",48,0)
 W !,"PRINTED: ",SRPRINT,?53,"FROM ",$E(SRSD,4,5),"/",$E(SRSD,6,7),"/",$E(SRSD,2,3),"  TO ",$E(SRED,4,5),"/",$E(SRED,6,7),"/",$E(SRED,2,3),?100,"DATE REVIEWED:"
"RTN","SROCAN0",49,0)
 W !!,"DATE",?15,"PATIENT",?44,"OPERATION(S)",?95,"CANCEL DATE",!,"CASE #",?15,"ID#",?95,"PRIMARY REASON",! F I=1:1:IOM W "="
"RTN","SROCAN0",50,0)
 S (SRHDR,SRPAGE)=1,PAGE=PAGE+1 D:$D(SRSPEC) SUB1
"RTN","SROCAN0",51,0)
 Q
"RTN","SROCAN0",52,0)
SUB ; print specialty sub-heading
"RTN","SROCAN0",53,0)
 I $Y+8>IOSL D HDR I SRQ!('SRPAGE) Q
"RTN","SROCAN0",54,0)
 I 'SRPAGE W !! F LINE=1:1:132 W "-"
"RTN","SROCAN0",55,0)
SUB1 W !,?(132-$L(SRSPEC)\2),SRSPEC S SRPAGE=0
"RTN","SROCAN0",56,0)
 Q
"RTN","SROCCAT")
0^86^B16850257^B16992620
"RTN","SROCCAT",1,0)
SROCCAT ;BIR/MAM - PERIOPERATIVE OCCURRENCE UPDATE (Y/N) FIELDS ;09/29/2011
"RTN","SROCCAT",2,0)
 ;;3.0;Surgery;**38,47,95,138,153,160,174,176,182**;24 Jun 93;Build 49
"RTN","SROCCAT",3,0)
 S ZTDTH=$H,ZTIO="",ZTRTN="EN^SROCCAT",ZTSAVE("SRTN")="",ZTDESC="Update Perioperative Occurrences for Individual Patient" D ^%ZTLOAD
"RTN","SROCCAT",4,0)
 Q
"RTN","SROCCAT",5,0)
EN ; entry when queued
"RTN","SROCCAT",6,0)
 K SRCOMPS S (CNT,CMP)=0 F  S CMP=$O(^SRF(SRTN,10,CMP)) Q:'CMP  S COMP=$P(^SRF(SRTN,10,CMP,0),"^",2) I COMP S CNT=CNT+1,SRCOMPS(CNT)=COMP_"^"_$P(^(0),"^",3)
"RTN","SROCCAT",7,0)
 S CMP=0 F  S CMP=$O(^SRF(SRTN,16,CMP)) Q:'CMP  S COMP=$P(^SRF(SRTN,16,CMP,0),"^",2) I COMP S SRDATE="" D
"RTN","SROCCAT",8,0)
 .S SRDATE=$E($P(^SRF(SRTN,16,CMP,0),"^",7),1,7) I SRDATE S X1=$E($P(^SRF(SRTN,0),"^",9),1,7),X2=30 D C^%DTC I SRDATE>X Q
"RTN","SROCCAT",9,0)
 .S CNT=CNT+1,SRCOMPS(CNT)=COMP_"^"_$P(^SRF(SRTN,16,CMP,0),"^",3)
"RTN","SROCCAT",10,0)
 K DR,DIE,DA S DA=SRTN,DIE=130,DR="[SRO-NOCOMP]" D ^DIE K DR,DA
"RTN","SROCCAT",11,0)
 I '$D(SRCOMPS(1)) S ZTREQ="@" Q
"RTN","SROCCAT",12,0)
 S CNT=0 F  S CNT=$O(SRCOMPS(CNT)) Q:'CNT  S COMPL=$P(SRCOMPS(CNT),"^") D UPDATE
"RTN","SROCCAT",13,0)
 S ZTREQ="@"
"RTN","SROCCAT",14,0)
 Q
"RTN","SROCCAT",15,0)
UPDATE ; update Y/N questions
"RTN","SROCCAT",16,0)
 I COMPL=1 K DA,DR,DIE S DA=SRTN,DIE=130,DR="403////Y;248////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",17,0)
 I COMPL=2 K DA,DR,DIE S DA=SRTN,DIE=130,DR="403////Y;249////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",18,0)
 I COMPL=3 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;250////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",19,0)
 I COMPL=4 K DA,DR,DIE S DA=SRTN,DIE=130,DR="318////Y;251////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",20,0)
 I COMPL=5 K DA,DR,DIE S DA=SRTN,DIE=130,DR="318////Y;252///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",21,0)
 I COMPL=6 K DA,DR,DIE S DA=SRTN,DIE=130,DR="318////Y;285///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",22,0)
 ;I COMPL=7 K DA,DR,DIE S DA=SRTN,DIE=130,DR="318////Y;412///Y" D ^DIE K DR,DA,DIE Q ; inactivated by SR*3*182
"RTN","SROCCAT",23,0)
 I COMPL=8 K DA,DR,DIE S DA=SRTN,DIE=130,DR="319////Y;409///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",24,0)
 I COMPL=9 K DA,DR,DIE S DA=SRTN,DIE=130,DR="319////Y;254///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",25,0)
 ;I COMPL=10 K DA,DR,DIE S DA=SRTN,DIE=130,DR="319////Y;255///Y" D ^DIE K DR,DA,DIE Q ; inactivated by SR*3*182
"RTN","SROCCAT",26,0)
 I COMPL=11 K DA,DR,DIE S DA=SRTN,DIE=130,DR="321////Y;259///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",27,0)
 I COMPL=12!(COMPL=28) K DA,DR,DIE S DA=SRTN,DIE=130,DR="320////Y;256///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",28,0)
 I COMPL=13 K DA,DR,DIE S DA=SRTN,DIE=130,DR="320////Y;410///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",29,0)
 I COMPL=14 K DA,DR,DIE S DA=SRTN,DIE=130,DR="320////Y;287///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",30,0)
 I COMPL=15 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;257///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",31,0)
 I COMPL=16 K DA,DR,DIE S DA=SRTN,DIE=130,DR="321////Y;411///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",32,0)
 I COMPL=17 K DA,DR,DIE S DA=SRTN,DIE=130,DR="258///Y;321////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",33,0)
 I COMPL=18 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;345///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",34,0)
 I COMPL=19 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;261///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",35,0)
 I COMPL=20 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;263///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",36,0)
 I COMPL=21 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",37,0)
 I COMPL=22 K DA,DR,DIE S DA=SRTN,DIE=130,DR="403////Y;404///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",38,0)
 I COMPL=23 K DA,DR,DIE S DA=SRTN,DIE=130,DR="386////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",39,0)
 I COMPL=24 K DA,DR,DIE S DA=SRTN,DIE=130,DR="387////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",40,0)
 I COMPL=25 K DA,DR,DIE S DA=SRTN,DIE=130,DR="388////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",41,0)
 I COMPL=26 K DA,DR,DIE S DA=SRTN,DIE=130,DR="389////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",42,0)
 I COMPL=27 K DA,DR,DIE S DA=SRTN,DIE=130,DR="391////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",43,0)
 I COMPL=29 K DA,DR,DIE S DA=SRTN,DIE=130,DR="318////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",44,0)
 I COMPL=30 K DA,DR,DIE S DA=SRTN,DIE=130,DR="320////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",45,0)
 I COMPL=31 K DA,DR,DIE S DA=SRTN,DIE=130,DR="319////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",46,0)
 I COMPL=32 K DA,DR,DIE S DA=SRTN,DIE=130,DR="321////Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",47,0)
 I COMPL=33 K DA,DR,DIE S DA=SRTN,DIE=130,DR="466////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",48,0)
 I COMPL=34 K DA,DR,DIE S DA=SRTN,DIE=130,DR="467////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",49,0)
 I COMPL=35 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;488////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",50,0)
 I COMPL=36 K DA,DR,DIE S DA=SRTN,DIE=130,DR="403////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",51,0)
 ;I COMPL=37 K DA,DR,DIE S DA=SRTN,DIE=130,DR="318////Y;490///Y" D ^DIE K DR,DA,DIE Q ; inactivated by SR*3*182
"RTN","SROCCAT",52,0)
 I COMPL=38 K DA,DR,DIE S DA=SRTN,DIE=130,DR="322////Y;447////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",53,0)
 I COMPL=39 K DA,DR,DIE S DA=SRTN,DIE=130,DR="448////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",54,0)
 I COMPL=40 K DA,DR,DIE S DA=SRTN,DIE=130,DR="319////Y;644////Y" D ^DIE K DR,DIE,DA Q
"RTN","SROCCAT",55,0)
 I COMPL=41 K DA,DR,DIE S DA=SRTN,DIE=130,DR="318////Y;645///Y" D ^DIE K DR,DA,DIE Q
"RTN","SROCCAT",56,0)
 Q
"RTN","SROCMPED")
0^8^B55528552^B36854349
"RTN","SROCMPED",1,0)
SROCMPED ;BIR/MAM - ENTER/EDIT OCCURRENCES ;08/16/2011
"RTN","SROCMPED",2,0)
 ;;3.0;Surgery;**26,38,47,125,153,170,176,177,182**;24 Jun 93;Build 49
"RTN","SROCMPED",3,0)
 I '$P(^SRF(SRTN,SRTYPE,SRENTRY,0),"^",2) D NOCAT I SRSOUT S SRSOUT=0 Q
"RTN","SROCMPED",4,0)
 I '$D(^SRF(SRTN,SRTYPE,SRENTRY,0)) K SRENTRY S SRSOUT=0 Q
"RTN","SROCMPED",5,0)
START I '$D(^SRF(SRTN,SRTYPE,SRENTRY)) K SRENTRY S SRSOUT=0 Q
"RTN","SROCMPED",6,0)
 S SRSOUT=0,SR=^SRF(SRTN,SRTYPE,SRENTRY,0)
"RTN","SROCMPED",7,0)
 I $G(SRNEW),$P(SR,"^",2)=3,SRTYPE=16 D SEPSIS G:SRSOUT END G START
"RTN","SROCMPED",8,0)
 I $G(SRNEW),$P(SR,"^",2)=27,SRTYPE=16,$P($G(^SRF(SRTN,"RA")),"^",2)="C" D RCP G:SRSOUT END G START
"RTN","SROCMPED",9,0)
 I $G(SRNEW),$P(SR,"^",2)=12,SRTYPE=16 D STROKE G:SRSOUT END G START
"RTN","SROCMPED",10,0)
 I $G(SRNEW),$P(SR,"^",2)=34 D NMC G:SRSOUT END G START
"RTN","SROCMPED",11,0)
 I $G(SRNEW),$P(SR,"^",2)=40,SRTYPE=16 D UTI G:SRSOUT END G START
"RTN","SROCMPED",12,0)
 D HDR^SROAUTL W !
"RTN","SROCMPED",13,0)
 S SRO(1)=$P(SR,"^")_"^.01",X=$P(SR,"^",2),SRO(2)=X_"^"_$S(SRTYPE=10:3,1:5) I X S $P(SRO(2),"^")=$P(^SRO(136.5,X,0),"^")
"RTN","SROCMPED",14,0)
 I $P(SR,"^",2)=40 D SR40 G DISP
"RTN","SROCMPED",15,0)
 I $P(SR,"^",2)=3 S Y=$P(SR,"^",4),C=$P(^DD(130.22,7,0),"^",2) D:Y'="" Y^DIQ S SRO(3)=Y_"^7"
"RTN","SROCMPED",16,0)
 I $P(SR,"^",2)=12 S Y=$P(SR,"^",8),C=$P(^DD(130.22,9,0),"^",2) D:Y'="" Y^DIQ S SRO(3)=Y_"^9"
"RTN","SROCMPED",17,0)
 I $P(SR,"^",2)=34,SRTYPE=16 S Y=$P(SR,"^",14),C=$P(^DD(130.22,15,0),"^",2) D:Y'="" Y^DIQ S SRO(3)=Y_"^15"
"RTN","SROCMPED",18,0)
 I $P(SR,"^",2)=34,SRTYPE=10 S Y=$P(SR,"^",7),C=$P(^DD(130.13,5,0),"^",2) D:Y'="" Y^DIQ S SRO(3)=Y_"^5"
"RTN","SROCMPED",19,0)
 I $P(SR,"^",2)'=3&($P(SR,"^",2)'=12)&($P(SR,"^",2)'=40)&($P(SR,"^",2)'=34) D 
"RTN","SROCMPED",20,0)
 .S SRSDATE=$E($P(SR,"^",7),1,7) I 'SRSDATE S SRSDATE=$E($P(^SRF(SRTN,0),"^",9),1,7)
"RTN","SROCMPED",21,0)
 .I $P(SR,"^",2)=27,$P($G(^SRF(SRTN,"RA")),"^",2)="C" S Y=$P(SR,"^",5),C=$P(^DD(130.22,8,0),"^",2) D:Y'="" Y^DIQ S SRO(3)=Y_"^8" Q
"RTN","SROCMPED",22,0)
 .S X=$P(SR,"^",3) D:X ICDSTR S SRO(3)=X_"^"_$S(SRTYPE=10:4,1:6)
"RTN","SROCMPED",23,0)
 S SR(2)=$G(^SRF(SRTN,SRTYPE,SRENTRY,2)),SRO(4)=$P(SR(2),"^")_"^"_$S(SRTYPE=10:2,1:3)
"RTN","SROCMPED",24,0)
 S X=$P(SR,"^",6),SHEMP=$S(X="U":"UNRESOLVED",X="I":"IMPROVED",X="D":"DEATH",X="W":"WORSE",1:""),SRO(5)=SHEMP_"^.05"
"RTN","SROCMPED",25,0)
 K SRO(6) I SRTYPE=16 S X=$P(SR,"^",7) S:X X=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3) S SRO(6)=X_"^2"
"RTN","SROCMPED",26,0)
DISP N SRSYS S SRSYS=$$ICD910^SROICD(SRTN)
"RTN","SROCMPED",27,0)
 W !,"1. Occurrence: ",?32,$P(SRO(1),"^"),!,"2. Occurrence Category: ",?32,$P(SRO(2),"^")
"RTN","SROCMPED",28,0)
 I $P(SR,"^",2)=40 D
"RTN","SROCMPED",29,0)
 .W !,"3. UTI Signs/Symptoms Urg/Freq/Dys: ",$P(SRO(3),"^")
"RTN","SROCMPED",30,0)
 .W !,"4. UTI Signs/Symptoms Fever: ",$P(SRO(4),"^"),!,"5. UTI Signs/Symptoms Tenderness: ",$P(SRO(5),"^")
"RTN","SROCMPED",31,0)
 .W !,"6. UTI Culture: ",$P(SRO(6),"^"),!,"7. Indwelling Urethral Catheter > 2 Calendar Days: ",$P(SRO(7),"^")
"RTN","SROCMPED",32,0)
 I $P(SR,"^",2)'=40 S X=$P(SR,"^",2) D
"RTN","SROCMPED",33,0)
 .W !,"3. "_$S(X=3:"Sepsis Type",X=12:"Stroke/CVA Duration",X=34:$S(SRTYPE=16:"Postop",1:"Intraop")_" Device Type",X=27&($P($G(^SRF(SRTN,"RA")),"^",2)="C"):"CPB Status",1:"ICD Diagnosis Code "_$$ICDSTR^SROICD(SRTN))_":",?32,$P(SRO(3),"^")
"RTN","SROCMPED",34,0)
 S II=$S($P(SR,"^",2)=40:8,1:4) W !,II_". Treatment Instituted:",?26,$P(SRO(II),"^"),!,(II+1)_". Outcome to Date:",?26,$P(SRO(II+1),"^")
"RTN","SROCMPED",35,0)
 S II=$S($P(SR,"^",2)=40:10,1:6) I $D(SRO(II)) W !,II_". Date Noted: ",?26,$P(SRO(II),"^")
"RTN","SROCMPED",36,0)
 S SRX=$S($P(SR,"^",2)=40:11,SRTYPE=10:6,1:7),SRO(SRX)="^" I $O(^SRF(SRTN,SRTYPE,SRENTRY,1,0)) S SRO(SRX)="*** INFORMATION ENTERED ***"_SRO(SRX)
"RTN","SROCMPED",37,0)
 S X=$S(SRTYPE=10:1,1:4),SRO(SRX)=SRO(SRX)_X,SRMAX=SRX
"RTN","SROCMPED",38,0)
 W !,SRX_". Occurrence Comments: ",?31,$P(SRO(SRX),"^")
"RTN","SROCMPED",39,0)
 W !!,SRLINE
"RTN","SROCMPED",40,0)
 W !!,"Select Occurrence Information: " R X:DTIME I '$T!("^"[X) S:X["^" SRSOUT=1 G END
"RTN","SROCMPED",41,0)
 I "Aa"[X S X="1:"_SRMAX
"RTN","SROCMPED",42,0)
 I X'?.N1":".N,'$D(SRO(X)) D HELP G:SRSOUT END W @IOF G START
"RTN","SROCMPED",43,0)
 I X?.N1":".N S Y=$E(X),Z=$P(X,":",2) I Y<1!(Z>SRMAX)!(Y>Z) D HELP G:SRSOUT END W @IOF G START
"RTN","SROCMPED",44,0)
 D HDR^SROAUTL W !
"RTN","SROCMPED",45,0)
 I X?.N1":".N D RANGE G START
"RTN","SROCMPED",46,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN) D:SRZ=2 PRESS
"RTN","SROCMPED",47,0)
 .S SRZ=X K DIE,DA,DR S DA(1)=SRTN,DA=SRENTRY,DIE="^SRF("_SRTN_","_SRTYPE_","
"RTN","SROCMPED",48,0)
 .S DR=$P(SRO(X),"^",2)_$S((SRTYPE=16&($P(SRO(X),"^",2)=6))!(SRTYPE=10&($P(SRO(X),"^",2)=4)):"ICD Diagnosis Code "_$$ICDSTR^SROICD(SRTN),1:"T") D ^DIE K DR,DA
"RTN","SROCMPED",49,0)
 .I SRZ=3,$P(SR,"^",2)=12,$P(^SRF(SRTN,16,SRENTRY,0),"^",8)<2 D YUP
"RTN","SROCMPED",50,0)
 G START
"RTN","SROCMPED",51,0)
 Q
"RTN","SROCMPED",52,0)
ICDSTR ; get diagnosis info
"RTN","SROCMPED",53,0)
 N SRICDSTR
"RTN","SROCMPED",54,0)
 S SRICDSTR=$$ICD^SROICD(SRTN,X),X=$P(SRICDSTR,"^",2)_"  "_$P(SRICDSTR,"^",4)
"RTN","SROCMPED",55,0)
 Q
"RTN","SROCMPED",56,0)
HELP W @IOF,!!!!,"Enter the number, or range of numbers you want to edit.  Examples of proper",!,"responses are listed below."
"RTN","SROCMPED",57,0)
 W !!,"1. Enter 'A' to update all occurrence information."
"RTN","SROCMPED",58,0)
 S RANGE="(1-"_SRMAX_")"
"RTN","SROCMPED",59,0)
 W !!,"2. Enter a number "_RANGE_" to update a specific occurrence element.  (For",!,"   example, enter '2' to update the occurrence category)"
"RTN","SROCMPED",60,0)
 W !!,"3. Enter a range of numbers "_RANGE_" separated by a ':' to enter a range of",!,"   elements.  (For example, enter '1:3' to enter occurrence, occurrence",!,"   category, and ICD diagnosis code)"
"RTN","SROCMPED",61,0)
 W ! D PRESS
"RTN","SROCMPED",62,0)
 Q
"RTN","SROCMPED",63,0)
RANGE ; range of numbers
"RTN","SROCMPED",64,0)
 I $$LOCK^SROUTL(SRTN) D  D UNLOCK^SROUTL(SRTN)
"RTN","SROCMPED",65,0)
 .S SHEMP=$P(X,":"),CURLEY=$P(X,":",2) F EMILY=SHEMP:1:CURLEY Q:SRSOUT  D ONE
"RTN","SROCMPED",66,0)
 I CURLEY=2 D PRESS
"RTN","SROCMPED",67,0)
 Q
"RTN","SROCMPED",68,0)
ONE ; edit one item
"RTN","SROCMPED",69,0)
 K DR,DA,DIE
"RTN","SROCMPED",70,0)
 S DR=$P(SRO(EMILY),"^",2)_$S((SRTYPE=16&($P(SRO(EMILY),"^",2)=6))!(SRTYPE=10&($P(SRO(EMILY),"^",2)=4)):"ICD Diagnosis Code "_$$ICDSTR^SROICD(SRTN),1:"T")
"RTN","SROCMPED",71,0)
 S DA=SRENTRY,DA(1)=SRTN
"RTN","SROCMPED",72,0)
 S DIE="^SRF("_SRTN_","_SRTYPE_","
"RTN","SROCMPED",73,0)
 D ^DIE K DR,DA
"RTN","SROCMPED",74,0)
 I '$D(^SRF(SRTN,SRTYPE,SRENTRY))!$D(DTOUT)!$D(Y) S SRSOUT=1
"RTN","SROCMPED",75,0)
 Q
"RTN","SROCMPED",76,0)
END K SRO,SR,X,DA,DIE,DR,Y
"RTN","SROCMPED",77,0)
 Q
"RTN","SROCMPED",78,0)
SEPSIS D HDR^SROAUTL K DA,DIE,DR
"RTN","SROCMPED",79,0)
 S DA=SRENTRY,DA(1)=SRTN,DR="7T",DIE="^SRF("_SRTN_","_SRTYPE_"," D ^DIE K DR,DA
"RTN","SROCMPED",80,0)
 K DA,DIE,DR S SRNEW=0 I $D(DTOUT)!$D(Y) S SRSOUT=1 Q
"RTN","SROCMPED",81,0)
 Q
"RTN","SROCMPED",82,0)
STROKE D HDR^SROAUTL K DIR S DIR(0)="130.22,9",DIR("A")="Stroke/CVA Duration",DIR("B")="<24 HOURS" D ^DIR K DIR I $D(DTOUT) S SRSOUT=1 Q 
"RTN","SROCMPED",83,0)
 K DA,DR,DIE I X["^"!(X="@")!(Y=1) D DEL S DA=SRTN,DIE=130,DR="256////N" D ^DIE K DR,DA,DIE Q
"RTN","SROCMPED",84,0)
 S DA=SRENTRY,DR="9///"_Y,DA(1)=SRTN,DIE="^SRF(SRTN,16," D ^DIE S SRNEW=0 K DR,DA,DIE
"RTN","SROCMPED",85,0)
 Q
"RTN","SROCMPED",86,0)
NMC D HDR^SROAUTL K DA,DIE,DR
"RTN","SROCMPED",87,0)
 S DA=SRENTRY,DA(1)=SRTN,DR=$S(SRTYPE=10:"5T",1:"15T"),DIE="^SRF("_SRTN_","_SRTYPE_"," D ^DIE K DR,DA
"RTN","SROCMPED",88,0)
 K DA,DIE,DR S SRNEW=0 I $D(DTOUT)!$D(Y) S SRSOUT=1 Q
"RTN","SROCMPED",89,0)
 Q
"RTN","SROCMPED",90,0)
UTI D HDR^SROAUTL S DA=SRENTRY,DA(1)=SRTN,DR="11T;12T;13T;14T;10T",DIE="^SRF(SRTN,16," D ^DIE K DR,DA
"RTN","SROCMPED",91,0)
 K DA,DIE,DR S SRNEW=0 I $D(DTOUT)!$D(Y) S SRSOUT=1 Q
"RTN","SROCMPED",92,0)
 Q
"RTN","SROCMPED",93,0)
SR40 ;
"RTN","SROCMPED",94,0)
 S Y=$P(SR,"^",10),C=$P(^DD(130.22,11,0),"^",2) D:Y'="" Y^DIQ S SRO(3)=Y_"^11"
"RTN","SROCMPED",95,0)
 S Y=$P(SR,"^",11),C=$P(^DD(130.22,12,0),"^",2) D:Y'="" Y^DIQ S SRO(4)=Y_"^12"
"RTN","SROCMPED",96,0)
 S Y=$P(SR,"^",12),C=$P(^DD(130.22,13,0),"^",2) D:Y'="" Y^DIQ S SRO(5)=Y_"^13"
"RTN","SROCMPED",97,0)
 S Y=$P(SR,"^",13),C=$P(^DD(130.22,14,0),"^",2) D:Y'="" Y^DIQ S SRO(6)=Y_"^14"
"RTN","SROCMPED",98,0)
 S Y=$P(SR,"^",9),C=$P(^DD(130.22,10,0),"^",2) D:Y'="" Y^DIQ S SRO(7)=Y_"^10"
"RTN","SROCMPED",99,0)
 S SR(2)=$G(^SRF(SRTN,SRTYPE,SRENTRY,2)),SRO(8)=$P(SR(2),"^")_"^"_$S(SRTYPE=10:2,1:3)
"RTN","SROCMPED",100,0)
 S X=$P(SR,"^",6),SHEMP=$S(X="U":"UNRESOLVED",X="I":"IMPROVED",X="D":"DEATH",X="W":"WORSE",1:""),SRO(9)=SHEMP_"^.05"
"RTN","SROCMPED",101,0)
 K SRO(10) S X=$P(SR,"^",7) S:X X=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3) S SRO(10)=X_"^2"
"RTN","SROCMPED",102,0)
 S SRX=11,SRO(SRX)="^" I $O(^SRF(SRTN,SRTYPE,SRENTRY,1,0)) S SRO(SRX)="*** INFORMATION ENTERED ***"_SRO(SRX)
"RTN","SROCMPED",103,0)
 S SRO(SRX)=SRO(SRX)_11
"RTN","SROCMPED",104,0)
 Q
"RTN","SROCMPED",105,0)
RCP D HDR^SROAUTL K DA,DIE,DR
"RTN","SROCMPED",106,0)
 S DA=SRENTRY,DA(1)=SRTN,DR="8T",DIE="^SRF("_SRTN_","_SRTYPE_"," D ^DIE K DR,DA
"RTN","SROCMPED",107,0)
 K DA,DIE,DR S SRNEW=0 I $D(DTOUT)!$D(Y) S SRSOUT=1 Q
"RTN","SROCMPED",108,0)
 Q
"RTN","SROCMPED",109,0)
NOCAT W @IOF,!,"The occurrence selected does not have a corresponding category.  A category",!,"must be selected at this time, or the occurrence will be deleted.",!
"RTN","SROCMPED",110,0)
 K DIE,DIC,X,Y,SRCAT
"RTN","SROCMPED",111,0)
 S DIC=136.5,DIC(0)="QEAMZ",DIC("A")="Select Occurrence Category: ",DIC("S")="I '$P(^(0),U,2)" S:SRTYPE=10 DIC("S")=DIC("S")_",$P(^(0),U,3)" D ^DIC
"RTN","SROCMPED",112,0)
 I +Y>0 S SRCAT=+Y K DIE,DR,DA S DA(1)=SRTN,DA=SRENTRY,DIE="^SRF("_DA_","_SRTYPE_",",DR=$S(SRTYPE=10:3,1:5)_"////"_SRCAT D ^DIE K DR,DA
"RTN","SROCMPED",113,0)
 I $D(SRCAT) K SRCAT Q
"RTN","SROCMPED",114,0)
DEL W !!,"Are you sure that you want to delete this occurrence ? NO// " R SRYN:DTIME I '$T!(SRYN["^") D YUP S SRSOUT=1 Q
"RTN","SROCMPED",115,0)
 I "YyNn"'[SRYN W !!,"Enter 'YES' to delete this occurrence from the patient's record.  Enter 'NO'",!,"to backup and enter a category for this occurrence." G DEL
"RTN","SROCMPED",116,0)
 I "Nn"[SRYN G NOCAT
"RTN","SROCMPED",117,0)
YUP ; delete occurrence
"RTN","SROCMPED",118,0)
 K DIK,DA S DA=SRENTRY,DA(1)=SRTN,DIK="^SRF("_SRTN_","_SRTYPE_"," D ^DIK K DIK,DA
"RTN","SROCMPED",119,0)
 Q
"RTN","SROCMPED",120,0)
PRESS W ! K DIR S DIR(0)="E" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROCMPED",121,0)
 Q
"RTN","SROCOMP")
0^47^B18220104^B18186198
"RTN","SROCOMP",1,0)
SROCOMP ;BIR/MAM - VIEW OCCURRENCES ; [ 05/11/04  7:54 AM ]
"RTN","SROCOMP",2,0)
 ;;3.0;Surgery;**37,38,88,129,177,182**;24 Jun 93;Build 49
"RTN","SROCOMP",3,0)
 S SRSOUT=0 K SRNEWOP D ^SROPS I '$D(SRTN) S SRSOUT=1 G END
"RTN","SROCOMP",4,0)
 S SR(0)=^SRF(SRTN,0),DFN=$P(SR(0),"^") D DEM^VADPT S SRNAME=VADM(1)_" ("_VA("PID")_")"
"RTN","SROCOMP",5,0)
 S Y=$P(SR(0),"^",9) D D^DIQ S SRSDATE=$P(Y,"@")_" "_$P(Y,"@",2)
"RTN","SROCOMP",6,0)
 S SR(.1)=$G(^SRF(SRTN,.1)),SRSUR=$P(SR(.1),"^",4),SRATT=$P(SR(.1),"^",13)
"RTN","SROCOMP",7,0)
 S SRSUR=$S(SRSUR:$P(^VA(200,SRSUR,0),"^"),1:"NOT ENTERED"),SRATT=$S(SRATT:$P(^VA(200,SRATT,0),"^"),1:"NOT ENTERED")
"RTN","SROCOMP",8,0)
 S SRATC="",Y=$P($G(^SRF(SRTN,.1)),"^",10) I Y S C=$P(^DD(130,.166,0),"^",2) D Y^DIQ S SRATC=Y
"RTN","SROCOMP",9,0)
 I SRATC="" S SRATC="ATTENDING/RES SUP CODE NOT ENTERED"
"RTN","SROCOMP",10,0)
 S SROPER=$P(^SRF(SRTN,"OP"),"^"),X=$P(^("OP"),"^",2) I X S CPT=$P($$CPT^ICPTCOD(X),"^",2),Y=CPT D SSPRIN^SROCPT S CPT=Y,SROPER=SROPER_" ("_CPT_")"
"RTN","SROCOMP",11,0)
 K SROPS,MM,MMM S:$L(SROPER)<55 SROPS(1)=SROPER I $L(SROPER)>54 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROCOMP",12,0)
 S X=$P($G(^SRF(SRTN,.2)),"^",12) S DIAG=$S(X:"POST",1:"PRE")
"RTN","SROCOMP",13,0)
 S SRDIAG=$S(DIAG="POST":$P($G(^SRF(SRTN,34)),"^"),1:$P($G(^SRF(SRTN,33)),"^")) I DIAG="POST" S X=$P($G(^SRF(SRTN,34)),"^",2) I X S ICD=$$ICD^SROICD(SRTN,X),SRDIAG=SRDIAG_" ("_$P(ICD,"^",2)_")"
"RTN","SROCOMP",14,0)
 I '$L(SRDIAG) S SRDIAG="NOT ENTERED"
"RTN","SROCOMP",15,0)
 S (CMP,CNT)=0 F  S CMP=$O(^SRF(SRTN,10,CMP)) Q:'CMP  S CNT=CNT+1,INTRA(CNT)=$P(^SRF(SRTN,10,CMP,0),"^")_"^"_$P(^(0),"^",6)
"RTN","SROCOMP",16,0)
 S (CMP,CNT)=0 F  S CMP=$O(^SRF(SRTN,16,CMP)) Q:'CMP  S CNT=CNT+1,POST(CNT)=$P(^SRF(SRTN,16,CMP,0),"^")_"^"_$P(^(0),"^",6)_"^"_$P(^(0),"^",7)
"RTN","SROCOMP",17,0)
 D HDR
"RTN","SROCOMP",18,0)
 W !!,"Date of Operation: ",?21,SRSDATE,!,"Principal Operation: ",?21,SROPS(1) I $D(SROPS(2)) W !,?21,SROPS(2) I $D(SROPS(3)) W !,?21,SROPS(3)
"RTN","SROCOMP",19,0)
 W !!,"Surgeon: ",?19,SRSUR,!,"Attending Surgeon: "_SRATT,!,"Attending Code: ",?16,SRATC
"RTN","SROCOMP",20,0)
 W !!,"Principal "_$S(DIAG="POST":"Postop",1:"Preop")_" Diagnosis: ",?30,SRDIAG
"RTN","SROCOMP",21,0)
 W !!,"Intraoperative Occurrences: " I '$O(INTRA(0)) W "NONE ENTERED"
"RTN","SROCOMP",22,0)
 I $O(INTRA(0)) S CMP=0 F  S CMP=$O(INTRA(CMP)) Q:'CMP!(SRSOUT)  D INTRA
"RTN","SROCOMP",23,0)
 G:SRSOUT END W !!,"Postoperative Occurrences:  " I '$O(POST(0)) W "NONE ENTERED"
"RTN","SROCOMP",24,0)
 I $O(POST(0)) S CMP=0 F  S CMP=$O(POST(CMP)) Q:'CMP!(SRSOUT)  D POST
"RTN","SROCOMP",25,0)
 I SRSOUT G END
"RTN","SROCOMP",26,0)
 K SRRET S (RET,CNT)=0 F  S RET=$O(^SRF(SRTN,29,RET)) Q:'RET  S X=^SRF(SRTN,29,RET,0),Y=$P(X,"^",3) I Y="R" S CNT=CNT+1,SRRET(CNT)=$P(X,"^")
"RTN","SROCOMP",27,0)
 I $O(SRRET(0)) D RET W !!,"Related Returns to Surgery: " S RET=0 F  S RET=$O(SRRET(RET)) Q:'RET!(SRSOUT)  D RELATE
"RTN","SROCOMP",28,0)
END I 'SRSOUT W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SROCOMP",29,0)
 D ^SRSKILL K SRTN W @IOF
"RTN","SROCOMP",30,0)
 Q
"RTN","SROCOMP",31,0)
LOOP ; break procedure if greater than 55 characters
"RTN","SROCOMP",32,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<55  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROCOMP",33,0)
 Q
"RTN","SROCOMP",34,0)
RET W !!,"Press RETURN to continue, or '^' to quit: " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SROCOMP",35,0)
 I X["?" W !!,"Press RETURN to list more information, or '^' to leave this option." G RET
"RTN","SROCOMP",36,0)
HDR W @IOF,!,SRNAME,?50,"OCCURRENCES",! F LINE=1:1:80 W "-"
"RTN","SROCOMP",37,0)
 Q
"RTN","SROCOMP",38,0)
INTRA ; intraop occurrences
"RTN","SROCOMP",39,0)
 I $Y+4>IOSL D RET I SRSOUT Q
"RTN","SROCOMP",40,0)
 W:CMP>1 ! W ?30,$P(INTRA(CMP),"^") S OUT=$P(INTRA(CMP),"^",2),OUT=$S(OUT="I":"IMPROVED",OUT="W":"WORSE",OUT="D":"DEATH",OUT="U":"UNRESOLVED",1:"NOT ENTERED") W !,?30,"Outcome: "_OUT
"RTN","SROCOMP",41,0)
 Q
"RTN","SROCOMP",42,0)
POST ; postop occurrences
"RTN","SROCOMP",43,0)
 I $Y+4>IOSL D RET I SRSOUT Q
"RTN","SROCOMP",44,0)
 W:CMP>1 ! W ?30,$P(POST(CMP),"^") S D=$P(POST(CMP),"^",3) I D S D=" ("_$E(D,4,5)_"/"_$E(D,6,7)_"/"_$E(D,2,3)_")" W D
"RTN","SROCOMP",45,0)
 S OUT=$P(POST(CMP),"^",2),OUT=$S(OUT="I":"IMPROVED",OUT="W":"WORSE",OUT="D":"DEATH",OUT="U":"UNRESOLVED",1:"NOT ENTERED") W !,?30,"Outcome: "_OUT
"RTN","SROCOMP",46,0)
 Q
"RTN","SROCOMP",47,0)
RELATE ; print related returns
"RTN","SROCOMP",48,0)
 I $Y+4>IOSL D RET I SRSOUT Q
"RTN","SROCOMP",49,0)
 S Y=$P(^SRF(SRRET(RET),0),"^",9),SRSDATE=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_$E(Y,2,3),SROPER=$P(^SRF(SRRET(RET),"OP"),"^")
"RTN","SROCOMP",50,0)
 K SROPS,MM,MMM S:$L(SROPER)<55 SROPS(1)=SROPER I $L(SROPER)>54 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROCOMP",51,0)
 W !,SRSDATE,?10,SROPS(1) I $D(SROPS(2)) W !,?10,SROPS(2) I $D(SROPS(3)) W !,?10,SROPS(3)
"RTN","SROCOMP",52,0)
 W !
"RTN","SROCOMP",53,0)
 Q
"RTN","SRODIS")
0^48^B21470892^B21345297
"RTN","SRODIS",1,0)
SRODIS ;BIR/ADM - LIST OF OPERATIONS BY DISPOSITION ; [ 09/22/98  11:33 AM ]
"RTN","SRODIS",2,0)
 ;;3.0;Surgery;**48,77,50,182**;24 Jun 93;Build 49
"RTN","SRODIS",3,0)
BEG S (SRSP,SRQ)=0,SRORD=1 W @IOF,!,"List of Operations by Postoperative Disposition:",!!
"RTN","SRODIS",4,0)
DATE D DATE^SROUTL(.SRSD,.SRED,.SRQ) G:SRQ END
"RTN","SRODIS",5,0)
DISP W @IOF,!,"Print the List of Operations for which of the following ?",!!,?10,"1. All Dispositions",!,?10,"2. A Specific Disposition",!,?10,"3. No Disposition Entered",!
"RTN","SRODIS",6,0)
 K DIR S DIR("A")="Enter selection: ",DIR("B")="1",DIR(0)="SA^1:All Dispositions;2:A Specific Disposition;3:No Disposition Entered"
"RTN","SRODIS",7,0)
 S DIR("?",1)="Enter 1 to print the report for all postoperative dispositions.  Enter 2 to",DIR("?",2)="print the report for a specific postoperative disposition.  Enter 3 to print"
"RTN","SRODIS",8,0)
 S DIR("?")="the report for operations with no postoperative disposition entered."
"RTN","SRODIS",9,0)
 D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRQ=1 G END
"RTN","SRODIS",10,0)
 I Y'=2 S SRDISP=$S(Y=3:"ZZ",1:"ALL") G SORT
"RTN","SRODIS",11,0)
TYPE W ! K DIC S DIC("S")="I '$P(^(0),""^"",3)",DIC=131.6,DIC(0)="QEAMZ",DIC("A")="Print the report for which Disposition ?  " D ^DIC I Y<0 S SRQ=1 G END
"RTN","SRODIS",12,0)
 S SRDISP=+Y
"RTN","SRODIS",13,0)
SORT W !!,"Do you want the report sorted by surgical specialty ?  Y// " R SRYN:DTIME I '$T!(SRYN["^") S SRQ=1 G END
"RTN","SRODIS",14,0)
 S:SRYN="" SRYN="Y" S SRYN=$E(SRYN)
"RTN","SRODIS",15,0)
 I "YyNn"'[SRYN W !!,"Enter RETURN to sort the report by surgical specialty, or 'N' to not sort",!,"by surgical specialty." G SORT
"RTN","SRODIS",16,0)
 I "Nn"[SRYN S SRORD=0 G DEVICE
"RTN","SRODIS",17,0)
SER W !!,"Print for all surgical specialties ?  Y// " R SRYN:DTIME I '$T!(SRYN["^") S SRQ=1 G END
"RTN","SRODIS",18,0)
 S:SRYN="" SRYN="Y" S SRYN=$E(SRYN)
"RTN","SRODIS",19,0)
 I "YyNn"'[SRYN W !!,"Enter RETURN to print the report for all surgical specialties, or 'N' to print",!,"the report for a specific specialty." G SER
"RTN","SRODIS",20,0)
 I "Nn"[SRYN D SP I SRQ G END
"RTN","SRODIS",21,0)
DEVICE K IOP,%ZIS,POP,IO("Q") S %ZIS("A")="Print the Report on which Device: ",%ZIS="QM" W !!,"This report is designed to use a 132 column format.",! D ^%ZIS G:POP END
"RTN","SRODIS",22,0)
 I $D(IO("Q")) K IO("Q") S ZTDESC="LIST OF OPERATIONS",ZTRTN="^SRODIS0",(ZTSAVE("SRORD"),ZTSAVE("SRSP*"),ZTSAVE("SRED"),ZTSAVE("SRDISP"),ZTSAVE("SRSD"),ZTSAVE("SRSITE*"))="",%ZIS="QM" D ^%ZTLOAD G END
"RTN","SRODIS",23,0)
 D ^SRODIS0
"RTN","SRODIS",24,0)
 Q
"RTN","SRODIS",25,0)
SP W ! S SRSP=1 K DIC S DIC("S")="I '$P(^(0),""^"",3)",DIC=137.45,DIC(0)="QEAMZ",DIC("A")="Print the report for which Specialty ?  " D ^DIC I Y<0 S SRQ=1 Q
"RTN","SRODIS",26,0)
 S SRSP(+Y)=+Y
"RTN","SRODIS",27,0)
MORE ; more specialties?
"RTN","SRODIS",28,0)
 K DIC S DIC("S")="I '$P(^(0),""^"",3)",DIC=137.45,DIC(0)="QEAMZ",DIC("A")="Select An Additional Specialty:  " D ^DIC I Y>0 S SRSP(+Y)=+Y G MORE
"RTN","SRODIS",29,0)
 Q
"RTN","SRODIS",30,0)
END I 'SRQ,($E(IOST,1)'="P") W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SRODIS",31,0)
 W ! D ^SRSKILL K SRTN D ^%ZISC W @IOF
"RTN","SRODIS",32,0)
 Q
"RTN","SRODIS",33,0)
RET W !!,"  Press RETURN to continue, or '^' to quit: " R X:DTIME I '$T!(X["^") S SRQ=1 Q
"RTN","SRODIS",34,0)
 I X["?" W !!,"Press RETURN to continue with the List of Surgical Cases sorted by Postop",!,"Disposition, or '^' if you do not want to review any additional information." G RET
"RTN","SRODIS",35,0)
 Q
"RTN","SRODIS",36,0)
HDR ; print heading
"RTN","SRODIS",37,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRQ=1 Q
"RTN","SRODIS",38,0)
 I SRHDR,$E(IOST)'="P" D RET Q:SRQ
"RTN","SRODIS",39,0)
 W:$Y @IOF W !,?(132-$L(SRINST)\2),SRINST,?126,"PAGE",!,?58,"SURGICAL SERVICE",?127,$J(PAGE,3)
"RTN","SRODIS",40,0)
 W !,?46,"LIST OF OPERATIONS BY POSTOP DISPOSITION",?100,SRPRINT
"RTN","SRODIS",41,0)
 W !,?(132-$L(SRFRTO)\2),SRFRTO,?100,"REVIEWED BY:"
"RTN","SRODIS",42,0)
 S SRDISP1=$S(SRP:$P(^SRO(131.6,SRP,0),"^"),SRP="ZZ":"DISPOSITION NOT ENTERED",1:"")
"RTN","SRODIS",43,0)
 I SRP'="" S SRTP="POSTOP DISPOSITION: "_SRDISP1 W !,?(132-$L(SRTP)\2),SRTP,?100,"DATE REVIEWED:"
"RTN","SRODIS",44,0)
 I SRP="" W !,?100,"DATE REVIEWED:"
"RTN","SRODIS",45,0)
 W !!,"DATE",?13,"PATIENT",?38,"OPERATION(S)",?90,"PRIMARY SURGEON",?114,"ANESTHESIA TECH",!,"CASE #",?15,"ID#",?90,"1ST ASST",?114,"IN/OUT-PAT STATUS",!,?90,"2ND ASST",?114,"OP TIME" W ! F I=1:1:132 W "-"
"RTN","SRODIS",46,0)
 I $D(SRSPEC) W !,?(132-$L(">> "_SRSPEC_" <<")\2),">> "_SRSPEC_" <<",!
"RTN","SRODIS",47,0)
 S SRHDR=1,PAGE=PAGE+1
"RTN","SRODIS",48,0)
 Q
"RTN","SRODIS0")
0^90^B20896752^B20212068
"RTN","SRODIS0",1,0)
SRODIS0 ;BIR/ADM - LIST OF OPERATIONS BY DISPOSITION ; [ 07/27/98   2:33 PM ]
"RTN","SRODIS0",2,0)
 ;;3.0;Surgery;**48,50,182**;24 Jun 93;Build 49
"RTN","SRODIS0",3,0)
 U IO S (SRHDR,SRQ)=0,PAGE=1,SRINST=SRSITE("SITE") K ^TMP("SRLIST",$J),^TMP("SRSS",$J)
"RTN","SRODIS0",4,0)
 N SRFRTO S Y=DT X ^DD("DD") S SRPRINT="DATE PRINTED: "_Y,Y=SRSD X ^DD("DD") S SRFRTO="FROM: "_Y_"  TO: ",Y=SRED X ^DD("DD") S SRFRTO=SRFRTO_Y
"RTN","SRODIS0",5,0)
 S SRD=SRSD-.0001,SRED1=SRED+.9999,SRSOUT=0 F  S SRD=$O(^SRF("AC",SRD)) Q:SRD=""!(SRD>SRED1)  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRD,SRTN)) Q:SRTN=""  I $D(^SRF(SRTN,0)),$$DIV^SROUTL0(SRTN) D UTIL
"RTN","SRODIS0",6,0)
 S SRP="" I SRORD F  S SRP=$O(^TMP("SRLIST",$J,SRP)) Q:SRP=""!(SRQ)  S SRSS="" F  S SRSS=$O(^TMP("SRLIST",$J,SRP,SRSS)) Q:SRSS=""!(SRQ)  D SPEC
"RTN","SRODIS0",7,0)
 I SRORD,SRSP S SRSS="" F  S SRSS=$O(SRSP(SRSS)) Q:SRSS=""!SRQ  I '$D(^TMP("SRSS",$J,SRSS)) D NONE
"RTN","SRODIS0",8,0)
 I 'SRORD F  S SRP=$O(^TMP("SRLIST",$J,SRP)) Q:SRP=""!(SRQ)  D HDR^SRODIS Q:SRQ  D ALL
"RTN","SRODIS0",9,0)
 I 'SRSP,'$D(^TMP("SRLIST",$J)) S SRP=$S(SRDISP'="ALL":SRDISP,1:"") D HDR^SRODIS W $$NODATA^SROUTL0()
"RTN","SRODIS0",10,0)
END I 'SRQ,$E(IOST)'="P" W !!,"Press RETURN to continue or '^' to quit. " R X:DTIME
"RTN","SRODIS0",11,0)
 W:$E(IOST)="P" @IOF K ^TMP("SRLIST",$J) I $D(ZTQUEUED) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SRODIS0",12,0)
 D ^%ZISC W @IOF D ^SRSKILL K SRIO,SRTN
"RTN","SRODIS0",13,0)
 Q
"RTN","SRODIS0",14,0)
UTIL ; set ^TMP("SRLIST",$J
"RTN","SRODIS0",15,0)
 Q:$P($G(^SRF(SRTN,.2)),"^",12)=""
"RTN","SRODIS0",16,0)
 S SRP=$P($G(^SRF(SRTN,.4)),"^",6) S:SRP="" SRP="ZZ" I SRDISP'="ALL",SRP'=SRDISP Q
"RTN","SRODIS0",17,0)
 S S(0)=^SRF(SRTN,0),SRSS=$P(S(0),"^",4) S:SRSS="" SRSS="ZZ" I SRSP,'$D(SRSP(SRSS)) Q
"RTN","SRODIS0",18,0)
 S ^TMP("SRSS",$J,SRSS)="" I SRORD S ^TMP("SRLIST",$J,SRP,SRSS,SRD,SRTN)="" Q
"RTN","SRODIS0",19,0)
 S ^TMP("SRLIST",$J,SRP,SRD,SRTN)=""
"RTN","SRODIS0",20,0)
 Q
"RTN","SRODIS0",21,0)
SPEC S SRSPEC=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"NO SPECIALTY ENTERED") D HDR^SRODIS Q:SRQ
"RTN","SRODIS0",22,0)
 S (TOTAL,SRD)=0 F  S SRD=$O(^TMP("SRLIST",$J,SRP,SRSS,SRD)) Q:'SRD!(SRQ)  S SRTN=0 F  S SRTN=$O(^TMP("SRLIST",$J,SRP,SRSS,SRD,SRTN)) Q:'SRTN!(SRQ)  S TOTAL=TOTAL+1 D CASE
"RTN","SRODIS0",23,0)
 Q:SRQ  I $Y+5>IOSL D HDR^SRODIS I SRQ Q
"RTN","SRODIS0",24,0)
 W !!!,"TOTAL ",SRSPEC,": ",TOTAL
"RTN","SRODIS0",25,0)
 Q
"RTN","SRODIS0",26,0)
NONE S SRSPEC=$P(^SRO(137.45,SRSS,0),"^") D HDR^SRODIS Q:SRQ
"RTN","SRODIS0",27,0)
 W !!,"TOTAL ",SRSPEC,": 0"
"RTN","SRODIS0",28,0)
 Q
"RTN","SRODIS0",29,0)
ALL S (SRD,TOTAL)=0 F  S SRD=$O(^TMP("SRLIST",$J,SRP,SRD)) Q:'SRD!(SRQ)  S SRTN=0 F  S SRTN=$O(^TMP("SRLIST",$J,SRP,SRD,SRTN)) Q:'SRTN!(SRQ)  D CASE S TOTAL=TOTAL+1
"RTN","SRODIS0",30,0)
 Q:SRQ  I $Y+5>IOSL D HDR^SRODIS I SRQ Q
"RTN","SRODIS0",31,0)
 W !!!,"TOTAL "_$S(SRP:$P(^SRO(131.6,SRP,0),"^"),1:"DISPOSITION NOT ENTERED")_": ",TOTAL
"RTN","SRODIS0",32,0)
 Q
"RTN","SRODIS0",33,0)
CASE ; print individual case
"RTN","SRODIS0",34,0)
 I $Y+7>IOSL D HDR^SRODIS I SRQ Q
"RTN","SRODIS0",35,0)
 S S(0)=^SRF(SRTN,0),DFN=$P(S(0),"^") D DEM^VADPT S SRNM=VADM(1),SRSSN=VA("PID"),SROD=$P(S(0),"^",9),(SRSUR,SRFST,SRTWO)=""
"RTN","SRODIS0",36,0)
 S Y=$P(S(0),"^",12),C=$P(^DD(130,.011,0),"^",2) D Y^DIQ S SRIO=$S(Y="":"NOT ENTERED",Y="SAME DAY":"OUTPATIENT",Y="OUTPATIENT":"OUTPATIENT",1:"INPATIENT")
"RTN","SRODIS0",37,0)
 I 'SRORD S SRSS=$P(S(0),"^",4),SRSS=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"NO SPECIALTY ENTERED")
"RTN","SRODIS0",38,0)
 S S(.1)=$G(^SRF(SRTN,.1)) S SRSUR=$P(S(.1),"^",4),SRFST=$P(S(.1),"^",5),SRTWO=$P(S(.1),"^",6) S:SRSUR'="" SRSUR=$P(^VA(200,SRSUR,0),"^")
"RTN","SRODIS0",39,0)
 S:SRFST'="" SRFST=$P(^VA(200,SRFST,0),"^") S:SRTWO'="" SRTWO=$P(^VA(200,SRTWO,0),"^")
"RTN","SRODIS0",40,0)
OPS K SROPERS S SROPER=$P(^SRF(SRTN,"OP"),"^"),OPER=0 F  S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SRODIS0",41,0)
 K SROPS,MM,MMM S:$L(SROPER)<50 SROPS(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SRODIS0",42,0)
 S SROT=0 I $D(^SRF(SRTN,.2)),$P(^(.2),"^",2)]"",$P(^(.2),"^",3)]"" S X=$P(^SRF(SRTN,.2),"^",2),X1=$P(^(.2),"^",3) D MINS^SRSUTL2 S SROT=X
"RTN","SRODIS0",43,0)
 D TECH^SROPRIN
"RTN","SRODIS0",44,0)
 S SRANES=$S($D(SRTECH):SRTECH,1:""),SRABORT=$S($P($G(^SRF(SRTN,30)),"^"):"*ABORTED*",1:"")
"RTN","SRODIS0",45,0)
PRINT ;
"RTN","SRODIS0",46,0)
 W !!,?1,$E(SROD,4,5)_"/"_$E(SROD,6,7)_"/"_$E(SROD,2,3),?13,$E(SRNM,1,26),?38,SROPS(1)
"RTN","SRODIS0",47,0)
 W ?90,$E(SRSUR,1,23),?114,$E(SRANES,1,14),!,?1,SRTN,?13,VA("PID") W:$D(SROPS(2)) ?38,SROPS(2) W ?90,$E(SRFST,1,23),?114,SRIO,!,SRABORT
"RTN","SRODIS0",48,0)
 W:'SRORD ?13,"(",$P(SRSS,"("),")" W:$D(SROPS(3)) ?38,SROPS(3) W ?90,$E(SRTWO,1,23),?114,SROT," MIN."
"RTN","SRODIS0",49,0)
 I $D(SROPS(4)) W !,?38,SROPS(4) I $D(SROPS(5)) W !,?38,SROPS(5) I $D(SROPS(6)) W !,?38,SROPS(6)
"RTN","SRODIS0",50,0)
 Q
"RTN","SRODIS0",51,0)
LOOP ; break procedure if greater than 50 characters
"RTN","SRODIS0",52,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<50  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SRODIS0",53,0)
 Q
"RTN","SRODIS0",54,0)
OTHER ; other operations
"RTN","SRODIS0",55,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>250 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SRODIS0",56,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SRODIS0",57,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SRODIS0",58,0)
 Q
"RTN","SROESNR0")
0^112^B41856155^B39978191
"RTN","SROESNR0",1,0)
SROESNR0 ;BIR/ADM - NURSE REPORT E-SIG UTILITY ;11/01/2011
"RTN","SROESNR0",2,0)
 ;;3.0;Surgery;**100,129,147,153,175,176,182**;24 Jun 93;Build 49
"RTN","SROESNR0",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROESNR0",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROESNR0",5,0)
 ;**         are prohibited.
"RTN","SROESNR0",6,0)
 ;
"RTN","SROESNR0",7,0)
 ; Reference to ^TMP("CSLSUR1" supported by DBIA #3498
"RTN","SROESNR0",8,0)
 ;
"RTN","SROESNR0",9,0)
VIEW N SRJ,SRCAT,SRFIELD,SRFLD,SRFILE,SRLN,SRNP,SRN,SRP,SRSUB,SRW,X,Y
"RTN","SROESNR0",10,0)
 F SRJ=1:1 S SRFLD=$P($T(FIELD+SRJ),";;",2) Q:SRFLD=""  D
"RTN","SROESNR0",11,0)
 .S SRNP=$P(SRFLD,"^",3),SRN=$P(SRNP,";"),SRP=$P(SRNP,";",2)
"RTN","SROESNR0",12,0)
 .S (SRSUB,X)=$P(SRFLD,"^",2),Y=$P(X,"-",2),SRFILE=$P(Y,","),SRFIELD=$P(Y,",",2)
"RTN","SROESNR0",13,0)
 .I SRFIELD=27 Q:'$P($G(^SRF(SRTN,"TIU")),"^",6)
"RTN","SROESNR0",14,0)
 .I SRFIELD=66 Q:'$P($G(^SRF(SRTN,"TIU")),"^",7)
"RTN","SROESNR0",15,0)
 .S SRCAT=$P(SRFLD,"^") S SRCAT=$S(SRCAT="":SRFILE,1:SRCAT)
"RTN","SROESNR0",16,0)
 .S SRW=$S($P(Y,";",2)["W":1,1:0) I SRW D  Q
"RTN","SROESNR0",17,0)
 ..S ^TMP("SRNRAD"_SRS,$J,SRTN,SRCAT,SRSUB,0)=$G(^SRF(SRTN,SRN,0))
"RTN","SROESNR0",18,0)
 ..I SRS=1 S ^TMP("SRNSAVE",$J,SRTN,SRCAT,SRSUB,0)=$G(^SRF(SRTN,SRN,0))
"RTN","SROESNR0",19,0)
 ..S SRLN=0 F  S SRLN=$O(^SRF(SRTN,SRN,SRLN)) Q:'SRLN  S ^TMP("SRNRAD"_SRS,$J,SRTN,SRCAT,SRSUB,SRLN)=$G(^SRF(SRTN,SRN,SRLN,0)) I SRS=1 S ^TMP("SRNSAVE",$J,SRTN,SRCAT,SRSUB,SRLN)=$G(^SRF(SRTN,SRN,SRLN,0))
"RTN","SROESNR0",20,0)
 .S ^TMP("SRNRAD"_SRS,$J,SRTN,SRCAT,SRSUB)=$P($G(^SRF(SRTN,SRN)),"^",SRP)
"RTN","SROESNR0",21,0)
 .I SRS=1 S ^TMP("SRNSAVE",$J,SRTN,SRCAT,SRSUB)=$P($G(^SRF(SRTN,SRN)),"^",SRP)
"RTN","SROESNR0",22,0)
 Q
"RTN","SROESNR0",23,0)
REVRS ; restore before-edit data
"RTN","SROESNR0",24,0)
 N I,SRCAT,SRCNT,SRE,SRE1,SRFF,SRFIELD,SRFILE,SRFLD,SRI,SRIEN,SRJ,SRK,SRL,SRLN,SRN,SRNP,SRP,SRSUB,SRVAL,SRW,X,Y
"RTN","SROESNR0",25,0)
 F SRJ=1:1 S SRFLD=$P($T(FIELD+SRJ),";;",2) Q:SRFLD=""  D
"RTN","SROESNR0",26,0)
 .S SRNP=$P(SRFLD,"^",3),SRN=$P(SRNP,";"),SRP=$P(SRNP,";",2)
"RTN","SROESNR0",27,0)
 .S (SRSUB,X)=$P(SRFLD,"^",2),Y=$P(X,"-",2),SRFILE=$P(Y,","),SRFIELD=$P(Y,",",2)
"RTN","SROESNR0",28,0)
 .S SRCAT=$P(SRFLD,"^") S SRCAT=$S(SRCAT="":SRFILE,1:SRCAT)
"RTN","SROESNR0",29,0)
 .Q:'$D(^TMP("SRNRAD1",$J,SRTN,130,SRSUB))
"RTN","SROESNR0",30,0)
 .S SRW=$S($P(Y,";",2)["W":1,1:0) I SRW D  Q
"RTN","SROESNR0",31,0)
 ..K ^SRF(SRTN,SRN) S ^SRF(SRTN,SRN,0)=$G(^TMP("SRNSAVE",$J,SRTN,130,SRSUB,0))
"RTN","SROESNR0",32,0)
 ..S SRLN=0 F  S SRLN=$O(^TMP("SRNSAVE",$J,SRTN,130,SRSUB,SRLN)) Q:'SRLN  S ^SRF(SRTN,SRN,SRLN,0)=$G(^TMP("SRNSAVE",$J,SRTN,130,SRSUB,SRLN))
"RTN","SROESNR0",33,0)
 .S SRVAL=$G(^TMP("SRNSAVE",$J,SRTN,130,SRSUB)) I SRFIELD=27 D  Q
"RTN","SROESNR0",34,0)
 ..S $P(^SRF(SRTN,"OP"),"^",2)=SRVAL K DA,DIK S DA=SRTN,DIK="^SRF(",DIK(1)="27" D EN^DIK K DA,DIK
"RTN","SROESNR0",35,0)
 ..;Set ^TMP("CSLSUR1",$J) in order to send an update trans. via Surgery/CoreFLS interface
"RTN","SROESNR0",36,0)
 ..S ^TMP("CSLSUR1",$J)=""
"RTN","SROESNR0",37,0)
 .I SRVAL="" S SRVAL="@"
"RTN","SROESNR0",38,0)
 .K DA,DIE,DR S DA=SRTN,DIE=130,DR=SRFIELD_"////^S X=SRVAL" D ^DIE K DA,DIE,DR
"RTN","SROESNR0",39,0)
 D REVRS^SROESNRA
"RTN","SROESNR0",40,0)
 Q
"RTN","SROESNR0",41,0)
TR S SRP=SRI,SRP=$TR(SRP,"1234567890.,","ABCDEFGHIJPK")
"RTN","SROESNR0",42,0)
 Q
"RTN","SROESNR0",43,0)
FIELD ; list of fields (^field name on report-file,field^node;piece)
"RTN","SROESNR0",44,0)
KPJB ;;^Operating Room Procedure Performed-130,.02^0;2
"RTN","SROESNR0",45,0)
KPJCE ;;^Surgical Priority-130,.035^0;10
"RTN","SROESNR0",46,0)
KPBJC ;;^Time Patient Arrived in Holding Area-130,.203^.2;15
"RTN","SROESNR0",47,0)
KPBJE ;;^Time Patient In the O.R.-130,.205^.2;10
"RTN","SROESNR0",48,0)
KPBB ;;^Time the Operation Began-130,.22^.2;2
"RTN","SROESNR0",49,0)
KPBC ;;^Time the Operation Ends-130,.23^.2;3
"RTN","SROESNR0",50,0)
KPBJF ;;^Surgeon Present Time-130,.206^.2;9
"RTN","SROESNR0",51,0)
KPBCB ;;^Time Patient Out of the O.R.-130,.232^.2;12
"RTN","SROESNR0",52,0)
KPAD ;;^Primary Surgeon-130,.14^.1;4
"RTN","SROESNR0",53,0)
KPAE ;;^First Assistant-130,.15^.1;5
"RTN","SROESNR0",54,0)
KPAFD ;;^Attending Surgeon-130,.164^.1;13
"RTN","SROESNR0",55,0)
KPAF ;;^Second Assistant-130,.16^.1;6
"RTN","SROESNR0",56,0)
KPCA ;;^Principal Anesthetist-130,.31^.3;1
"RTN","SROESNR0",57,0)
KPCC ;;^Assistant Anesthetist-130,.33^.3;3
"RTN","SROESNR0",58,0)
KPAI ;;^Preoperative Mood-130,.19^.1;9
"RTN","SROESNR0",59,0)
KPAIF ;;^Preoperative Consciousness-130,.196^.1;15
"RTN","SROESNR0",60,0)
KPJG ;;^Preoperative Skin Integrity-130,.07^0;7
"RTN","SROESNR0",61,0)
KPAIE ;;^Preoperative Conversation-130,.195^.1;14
"RTN","SROESNR0",62,0)
KFJJ ;;^Confirm Correct Patient Identity-130,600^VER;7
"RTN","SROESNR0",63,0)
KFJA ;;^Confirm Procedure To Be Performed-130,601^VER;8
"RTN","SROESNR0",64,0)
KFJB ;;^Confirm Site of Procedure, Including Laterality-130,602^VER;9
"RTN","SROESNR0",65,0)
KFJC ;;^Confirm Valid Consent Form-130,603^VER;10
"RTN","SROESNR0",66,0)
KFJD ;;^Confirm Patient Position-130,604^VER;11
"RTN","SROESNR0",67,0)
KFJE ;;^Confirm Proc. Site has been Marked Appropriately and the Site of the Mark is Visible After Prep-130,605^VER;12
"RTN","SROESNR0",68,0)
KFJF ;;^Pertinent Medical Images Have Been Confirmed-130,606^VER;13
"RTN","SROESNR0",69,0)
KFJG ;;^Correct Medical Implant(s) is Available-130,607^VER;14
"RTN","SROESNR0",70,0)
KFJH ;;^Appropriate Antibiotic Prophylaxis-130,608^VER;15
"RTN","SROESNR0",71,0)
KFJI ;;^Appropriate Deep Vein Thrombosis Prophylaxis-130,609^VER;16
"RTN","SROESNR0",72,0)
KFAJ ;;^Blood Availability-130,610^VER;17
"RTN","SROESNR0",73,0)
KFAA ;;^Availability of Special Equipment-130,611^VER;18
"RTN","SROESNR0",74,0)
KHE ;;^Checklist Comment-130,85;W^51;0
"RTN","SROESNR0",75,0)
KPFI ;;^Time Out Document Completed By-130,.69^.6;9
"RTN","SROESNR0",76,0)
KPF ;;^Time Out Completed-130,74^.6;12
"RTN","SROESNR0",77,0)
KPAH ;;^Skin Prepped By-130,.18^.1;8
"RTN","SROESNR0",78,0)
KPAGE ;;^Skin Preparation Agent-130,.175^.1;7
"RTN","SROESNR0",79,0)
KD ;;^Skin Prepped By (2)-130,4^.1;12
"RTN","SROESNR0",80,0)
KH ;;^Second Skin Preparation Agent-130,8^31;2
"RTN","SROESNR0",81,0)
KPAB ;;^Preop Hair Removal by-130,.12^.1;2
"RTN","SROESNR0",82,0)
KEJF ;;^Hair Removal Method-130,506^VER;6
"RTN","SROESNR0",83,0)
KEJH ;;^Hair Removal Comments-130,508;W^49;0
"RTN","SROESNR0",84,0)
KPGE ;;^Electrocautery Unit-130,.75^.7;5
"RTN","SROESNR0",85,0)
KPEE ;;^Electroground Placement-130,.55^.5;4
"RTN","SROESNR0",86,0)
KF ;;^Electroground Position (2)-130,6^.5;13
"RTN","SROESNR0",87,0)
KEG ;;^ESU Coagulation Range-130,57^.7;1
"RTN","SROESNR0",88,0)
KEGC ;;^ESU Cutting Range-130,58^.7;2
"RTN","SROESNR0",89,0)
KBF ;;^Principal Procedure-130,26^OP;1
"RTN","SROESNR0",90,0)
KBG ;;^Principal CPT Code-130,27^OP;2
"RTN","SROESNR0",91,0)
KFF ;;^Principal Diagnosis Code-130,66^34;2
"RTN","SROESNR0",92,0)
KBB ;;^Tubes and Drains-130,22^3;1
"RTN","SROESNR0",93,0)
KDD ;;^Sponge Final Count Correct-130,44^25;1
"RTN","SROESNR0",94,0)
KDE ;;^Sharps Final Count Correct-130,45^25;2
"RTN","SROESNR0",95,0)
KDF ;;^Instrument Final Count Correct-130,46^25;3
"RTN","SROESNR0",96,0)
KFCJ ;;^Possible Item Retention-130,630^25;6
"RTN","SROESNR0",97,0)
KFCC ;;^Wound Sweep-130,633^25;7
"RTN","SROESNR0",98,0)
KFCF ;;^Intraoperative XRay-130,636^25;8
"RTN","SROESNR0",99,0)
KAPAC ;;^ASA Class-130,1.13^1.1;3
"RTN","SROESNR0",100,0)
KDG ;;^Person Responsible for Final Counts-130,47^25;4
"RTN","SROESNR0",101,0)
KDH ;;^Count Verifier-130,48^25;5
"RTN","SROESNR0",102,0)
KDA ;;^Dressing(s)-130,41^35;1
"RTN","SROESNR0",103,0)
KPHGE ;;^Packing Type-130,.875^.8;11
"RTN","SROESNR0",104,0)
KPBE ;;^Intraoperative Blood Loss (ml)-130,.25^.2;5
"RTN","SROESNR0",105,0)
KPBEE ;;^Total Urine Output (ml)-130,.255^.2;16
"RTN","SROESNR0",106,0)
KPHA ;;^Postoperative Mood-130,.81^.8;1
"RTN","SROESNR0",107,0)
KPHBA ;;^Postoperative Consciousness-130,.821^.8;10
"RTN","SROESNR0",108,0)
KPGF ;;^Postoperative Skin Integrity-130,.76^.7;6
"RTN","SROESNR0",109,0)
KPGG ;;^Postoperative Skin Color-130,.77^.7;7
"RTN","SROESNR0",110,0)
KABH ;;^Type of Laser-130,128^.7;8
"RTN","SROESNR0",111,0)
KABG ;;^Sequential Compression Device (Y/N)-130,127^.7;3
"RTN","SROESNR0",112,0)
KAPJI ;;^Wound Classification-130,1.09^1.0;8
"RTN","SROESNR0",113,0)
KPDF ;;^Postoperative Disposition-130,.46^.4;6
"RTN","SROESNR0",114,0)
KBE ;;^Patient Discharged Via-130,25^.7;4
"RTN","SROESNR0",115,0)
KACA ;;^Device(s)-130,131^46;1
"RTN","SROESNR0",116,0)
KDI ;;^Specimens-130,49;W^9;0
"RTN","SROESNR0",117,0)
KFD ;;^Cultures-130,64;W^41;0
"RTN","SROESNR0",118,0)
KPBI ;;^Nursing Care Comments-130,.29;W^7;0
"RTN","SROESNR0",119,0)
KFAI ;;^Immed Use Steril Contamination-130,619^52;1
"RTN","SROESNR0",120,0)
KFBJ ;;^Immed Use Steril SPS Processing/OR Management Issues-130,620^52;2
"RTN","SROESNR0",121,0)
KFBA ;;^Immed Use Steril Emergency Case-130,621^52;3
"RTN","SROESNR0",122,0)
KFBB ;;^Immed Use Steril No Better Option-130,622^52;4
"RTN","SROESNR0",123,0)
KFBC ;;^Immed Use Steril Loaner or Short Notice Instrument-130,623^52;5
"RTN","SROESNR0",124,0)
KFBD ;;^Immed Use Steril Decontamination of Instruments Contaminated During the Case-130,624^52;6
"RTN","SROESNR1")
0^113^B42035755^B41160518
"RTN","SROESNR1",1,0)
SROESNR1 ;BIR/ADM - NURSE REPORT E-SIG UTILITY ;06/07/2011
"RTN","SROESNR1",2,0)
 ;;3.0;Surgery;**100,143,157,176,182**;24 Jun 93;Build 49
"RTN","SROESNR1",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROESNR1",4,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SROESNR1",5,0)
 ;**         are prohibited.
"RTN","SROESNR1",6,0)
 ;
"RTN","SROESNR1",7,0)
MULT ; process multiples
"RTN","SROESNR1",8,0)
 N I,SRFF,SRI,SRK1,SRP,SRJ,SRFLD,SRNP,SRN,SRCAT,SRP,SRSUB,SRL,SRE,SRE1,SRW,X,Y
"RTN","SROESNR1",9,0)
 S SRI="."_$P(SRK,".",2) D TR S SRK1=SRP
"RTN","SROESNR1",10,0)
 F SRJ=0:1 S SRFLD=$P($T(@SRK1+SRJ),";;",2) Q:SRFLD=""  D ^SROESNRA
"RTN","SROESNR1",11,0)
 Q
"RTN","SROESNR1",12,0)
REV N SRP D TR S SRK1=SRP D
"RTN","SROESNR1",13,0)
 .I SRCAT="Anesthesia Technique(s)" D REV^SROESNR3 Q
"RTN","SROESNR1",14,0)
 .S SRFLD=$P($T(@SRK1+SRJ),";;",2)
"RTN","SROESNR1",15,0)
 Q
"RTN","SROESNR1",16,0)
TR S SRP=SRI,SRP=$TR(SRP,"1234567890.,","ABCDEFGHIJPK")
"RTN","SROESNR1",17,0)
 Q
"RTN","SROESNR1",18,0)
 ;;
"RTN","SROESNR1",19,0)
PBC ;;Other Scrubbed Assistant(s)^0;30^28,0
"RTN","SROESNR1",20,0)
 ;;Other Scrubbed Assistant(s)^01-Other Scrubbed Assistant-130.23,.01-2^28,0;1
"RTN","SROESNR1",21,0)
 ;;Other Scrubbed Assistant(s)^02-Comments-130.23,1;W-4^28,1,0;1
"RTN","SROESNR1",22,0)
 ;;
"RTN","SROESNR1",23,0)
PBH ;;O.R. Circulating Nurse(s)^0;.111^19,0
"RTN","SROESNR1",24,0)
 ;;O.R. Circulating Nurse(s)^01-O.R. Circulating Nurse-130.28,.01-2^19,0;1
"RTN","SROESNR1",25,0)
 ;;O.R. Circulating Nurse(s)^02-Educational Status-130.28,3-4^19,0;3
"RTN","SROESNR1",26,0)
PBI ;;O.R. Circulating Nurse(s)^03X-Time On-130.29,.01-4^19,1,0;1
"RTN","SROESNR1",27,0)
 ;;O.R. Circulating Nurse(s)^04X-Time Off-130.29,1-6^19,1,0;2
"RTN","SROESNR1",28,0)
 ;;O.R. Circulating Nurse(s)^05X-Reason for Relief-130.29,2-6^19,1,0;3
"RTN","SROESNR1",29,0)
 ;;O.R. Circulating Nurse(s)^06X-Comment-130.29,3;W-6^19,1,1,0;1
"RTN","SROESNR1",30,0)
 ;;
"RTN","SROESNR1",31,0)
PCF ;;O.R. Scrub Nurse(s)^0;.112^23,0
"RTN","SROESNR1",32,0)
 ;;O.R. Scrub Nurse(s)^01-O.R. Scrub Nurse-130.36,.01-2^23,0;1
"RTN","SROESNR1",33,0)
 ;;O.R. Scrub Nurse(s)^02-Educational Status-130.36,3-4^23,0;3
"RTN","SROESNR1",34,0)
 ;;O.R. Scrub Nurse(s)^03X-Time On-130.36,.01-4^19,1,0;1
"RTN","SROESNR1",35,0)
 ;;O.R. Scrub Nurse(s)^04X-Time Off-130.36,1-6^19,1,0;2
"RTN","SROESNR1",36,0)
 ;;O.R. Scrub Nurse(s)^05X-Reason for Relief-130.36,2-6^19,1,0;3
"RTN","SROESNR1",37,0)
 ;;O.R. Scrub Nurse(s)^06X-Comment-130.36,3;W-6^19,1,1,0;1
"RTN","SROESNR1",38,0)
 ;;
"RTN","SROESNR1",39,0)
PBD ;;Other Persons in O.R.^0;31^32,0
"RTN","SROESNR1",40,0)
 ;;Other Persons in O.R.^01-Other Person in O.R.-130.24,.01-2^32,0;1
"RTN","SROESNR1",41,0)
 ;;Other Persons in O.R.^02-Title/Organization-130.24,1-4^32,0;2
"RTN","SROESNR1",42,0)
 ;;
"RTN","SROESNR1",43,0)
PJFE ;;Surgery Position(s)^0;65^42,0
"RTN","SROESNR1",44,0)
 ;;Surgery Position(s)^01-Position-130.065,.01-2^42,0;1
"RTN","SROESNR1",45,0)
 ;;Surgery Position(s)^02-Placed-130.065,1-4^42,0;2
"RTN","SROESNR1",46,0)
 ;;
"RTN","SROESNR1",47,0)
PCA ;;Restraints and Position Aids^0;.13^20,0
"RTN","SROESNR1",48,0)
 ;;Restraints and Position Aids^01-Restraint/Position Aid-130.31,.01-2^20,0;1
"RTN","SROESNR1",49,0)
 ;;Restraints and Position Aids^02-Applied By-130.31,1-4^20,0;2
"RTN","SROESNR1",50,0)
 ;;Restraints and Position Aids^03-Comments-130.31,2-4^20,0;3
"RTN","SROESNR1",51,0)
 ;;
"RTN","SROESNR1",52,0)
PJBH ;;Principal CPT Modifier^0;28^OPMOD,0
"RTN","SROESNR1",53,0)
 ;;Principal CPT Modifier^01-CPT Modifier-130.028,.01-2^OPMOD,0;1
"RTN","SROESNR1",54,0)
 ;;
"RTN","SROESNR1",55,0)
PAF ;;Other Procedures Performed^0;.42^13,0
"RTN","SROESNR1",56,0)
 ;;Other Procedures Performed^01-Other Procedure-130.16,.01-2^13,0;1
"RTN","SROESNR1",57,0)
 ;;Other Procedures Performed^02-CPT Code-130.16,3-4^13,2;1
"RTN","SROESNR1",58,0)
PAFD ;;Other Procedures Performed^03-CPT Modifier-130.164,.01-4^13,MOD,0;1
"RTN","SROESNR1",59,0)
 ;;Other Procedures Performed^04X-Completed-130.16,2-4^13,0;3
"RTN","SROESNR1",60,0)
 ;;Other Procedures Performed^05X-Procedure Code Comments-130.16,1.5;W-4^13,1,0;1
"RTN","SROESNR1",61,0)
 ;;
"RTN","SROESNR1",62,0)
PJB ;;Tourniquet^0;.48^2,0
"RTN","SROESNR1",63,0)
 ;;Tourniquet^01-Time Applied-130.02,.01-2^2,0;1
"RTN","SROESNR1",64,0)
 ;;Tourniquet^02-Time Released-130.02,3-4^2,0;4
"RTN","SROESNR1",65,0)
 ;;Tourniquet^03-Site Applied-130.02,1-4^2,0;2
"RTN","SROESNR1",66,0)
 ;;Tourniquet^04-Pressure Applied (in TORR)-130.02,4-4^2,0;5
"RTN","SROESNR1",67,0)
 ;;Tourniquet^05-Applied By-130.02,2-4^2,0;3
"RTN","SROESNR1",68,0)
 ;;
"RTN","SROESNR1",69,0)
PCB ;;Thermal Unit^0;.757^21,0
"RTN","SROESNR1",70,0)
 ;;Thermal Unit^01-Thermal Unit-130.32,.01-2^21,0;1
"RTN","SROESNR1",71,0)
 ;;Thermal Unit^02-Temperature-130.32,2-4^21,0;3
"RTN","SROESNR1",72,0)
 ;;Thermal Unit^03-Time On-130.32,1-4^21,0;2
"RTN","SROESNR1",73,0)
 ;;Thermal Unit^04-Time Off-130.32,3-4^21,0;4
"RTN","SROESNR1",74,0)
 ;;
"RTN","SROESNR1",75,0)
PJA ;;Prosthesis Installed^0;.47^1,0
"RTN","SROESNR1",76,0)
 ;;Prosthesis Installed^01-Item-130.01,.01-2^1,0;1
"RTN","SROESNR1",77,0)
 ;;Prosthesis Installed^02-Sterility Checked-130.01,8-4^1,2;1
"RTN","SROESNR1",78,0)
 ;;Prosthesis Installed^03-Sterility Expiration Date-130.01,9-4^1,2;2
"RTN","SROESNR1",79,0)
 ;;Prosthesis Installed^04-RN Verifier-130.01,10-4^1,2;3
"RTN","SROESNR1",80,0)
 ;;Prosthesis Installed^05-Vendor-130.01,1-4^1,0;2
"RTN","SROESNR1",81,0)
 ;;Prosthesis Installed^06-Model-130.01,2-4^1,0;3
"RTN","SROESNR1",82,0)
 ;;Prosthesis Installed^08-Sterile Resp-130.01,5-4^1,0;7
"RTN","SROESNR1",83,0)
 ;;Prosthesis Installed^09-Size-130.01,6-4^1,1;1
"RTN","SROESNR1",84,0)
 ;;Prosthesis Installed^10-Quantity-130.01,7-4^1,1;2
"RTN","SROESNR1",85,0)
 ;;Prosthesis Installed^11-Lot Number-130.01,11-4^1,1;3
"RTN","SROESNR1",86,0)
 ;;Prosthesis Installed^12-Serial Number-130.01,12-4^1,1;4
"RTN","SROESNR1",87,0)
 ;;Prosthesis Installed^13-Provider Read Back Performed-130.01,13-4^1,1;5
"RTN","SROESNR1",88,0)
 ;;
"RTN","SROESNR1",89,0)
PCC ;;Medications^0;.375^22,0
"RTN","SROESNR1",90,0)
 ;;Medications^01-Medication-130.33,.01-2^22,0;1
"RTN","SROESNR1",91,0)
PCD ;;Medications^02-Time Administered-130.34,.01-4^22,1,0;1
"RTN","SROESNR1",92,0)
 ;;Medications^03-Route-130.34,4-6^22,1,0;5
"RTN","SROESNR1",93,0)
 ;;Medications^04-Dose-130.34,1-6^22,1,0;2
"RTN","SROESNR1",94,0)
 ;;Medications^05-Ordered By-130.34,2-6^22,1,0;3
"RTN","SROESNR1",95,0)
 ;;Medications^06-Administered By-130.34,3-6^22,1,0;4
"RTN","SROESNR1",96,0)
 ;;Medications^07-Comments-130.34,5-6^22,1,0;6
"RTN","SROESNR1",97,0)
 ;;
"RTN","SROESNR1",98,0)
PJH ;;Irrigation Solution(s)^0;.39^26,0
"RTN","SROESNR1",99,0)
 ;;Irrigation Solution(s)^01-Irrigation Solution-130.08,.01-2^26,0;1
"RTN","SROESNR1",100,0)
PCI ;;Irrigation Solution(s)^02-Time Utilized-130.39,.01-4^26,1,0;1
"RTN","SROESNR1",101,0)
 ;;Irrigation Solution(s)^03-Amount-130.39,1-6^26,1,0;2
"RTN","SROESNR1",102,0)
 ;;Irrigation Solution(s)^04-Provider-130.39,2-6^26,1,0;3
"RTN","SROESNR1",103,0)
 ;;
"RTN","SROESNR1",104,0)
PJD ;;Blood Replacement Fluids^0;.27^4,0
"RTN","SROESNR1",105,0)
 ;;Blood Replacement Fluids^01-Replacement Fluid Type-130.04,.01-2^4,0;1
"RTN","SROESNR1",106,0)
 ;;Blood Replacement Fluids^02-Quantity (ml)-130.04,1-4^4,0;2
"RTN","SROESNR1",107,0)
 ;;Blood Replacement Fluids^03-Source Identification-130.04,3-4^4,0;4
"RTN","SROESNR1",108,0)
 ;;Blood Replacement Fluids^04-VA Identification-130.04,4-4^4,0;5
"RTN","SROESNR1",109,0)
 ;;Blood Replacement Fluids^05-Comments-130.04,5;W-4^4,1,0;1
"RTN","SROESNR1",110,0)
 ;;
"RTN","SROESNR1",111,0)
PJABI ;;Laser Unit(s)^0;129^44,0
"RTN","SROESNR1",112,0)
 ;;Laser Unit(s)^01-Laser Unit/ID-130.0129,.01-2^44,0;1
"RTN","SROESNR1",113,0)
 ;;Laser Unit(s)^02-Duration-130.0129,1-4^44,0;2
"RTN","SROESNR1",114,0)
 ;;Laser Unit(s)^03-Wattage-130.0129,2-4^44,0;3
"RTN","SROESNR1",115,0)
 ;;Laser Unit(s)^04-Operator-130.0129,3-4^44,0;4
"RTN","SROESNR1",116,0)
 ;;Laser Unit(s)^05-Plume Evacuator-130.0129,4-4^44,0;5
"RTN","SROESNR1",117,0)
 ;;Laser Unit(s)^06-Comments-130.0129,5;W-4^44,1,0;1
"RTN","SROESNR1",118,0)
 ;;
"RTN","SROESNR1",119,0)
PJAC ;;Cell Saver(s)^0;130^45,0
"RTN","SROESNR1",120,0)
 ;;Cell Saver(s)^01-Cell Saver ID-130.013,.01-2^45,0;1
"RTN","SROESNR1",121,0)
 ;;Cell Saver(s)^02-Operator-130.013,1-4^45,0;2
"RTN","SROESNR1",122,0)
 ;;Cell Saver(s)^03-Amount Salvaged (ml)-130.013,2-4^45,0;3
"RTN","SROESNR1",123,0)
 ;;Cell Saver(s)^04-Amount Reinfused (ml)-130.013,3-4^45,0;4
"RTN","SROESNR1",124,0)
 ;;Cell Saver(s)^05-Comments-130.013,5;W-4^45,2,0;1
"RTN","SROESNR1",125,0)
PJACD ;;Cell Saver(s)^06-Disposables Name-130.0134,.01-4^45,1,0;1
"RTN","SROESNR1",126,0)
 ;;Cell Saver(s)^07-Lot Number-130.0134,1-6^45,1,0;2
"RTN","SROESNR1",127,0)
 ;;Cell Saver(s)^08-Quantity-130.0134,2-6^45,1,0;3
"RTN","SROESNR1",128,0)
 ;;
"RTN","SROESNR1",129,0)
PAH ;;Other Diagnosis^0;.74^15,0
"RTN","SROESNR1",130,0)
 ;;Other Diagnosis^01X-Other Diagnosis-130.18,.01-2^15,0;1
"RTN","SROESNR1",131,0)
 ;;Other Diagnosis^02-ICD Diagnosis Code-130.18,3-2^15,0;3
"RTN","SROESNR1",132,0)
 ;;Other Diagnosis^03X-Diagnosis Comments-130.18,2;W-4^15,1,0;1
"RTN","SROFILE")
0^116^B15335951^B16246959
"RTN","SROFILE",1,0)
SROFILE ;BIR/MAM - EDIT SITE CONFIGURABLE FILES ;06/08/2011
"RTN","SROFILE",2,0)
 ;;3.0;Surgery;**48,41,88,100,175,176,182**;24 Jun 93;Build 49
"RTN","SROFILE",3,0)
START S SRO(1)="Surgery Transportation Devices^131.01",SRO(2)="Prosthesis^131.9",SRO(3)="Surgery Position^132",SRO(4)="Restraints and Positioning Aids^132.05",SRO(5)="Surgical Delay^132.4"
"RTN","SROFILE",4,0)
 S SRO(6)="Monitors^133.4",SRO(7)="Irrigations^133.6",SRO(8)="Surgery Replacement Fluids^133.7",SRO(9)="Skin Prep Agents^135.1"
"RTN","SROFILE",5,0)
 S SRO(10)="Skin Integrity^135.2",SRO(11)="Patient Mood^135.3",SRO(12)="Patient Consciousness^135.4",SRO(13)="Local Surgical Specialty^137.45",SRO(14)="Electroground Positions^138"
"RTN","SROFILE",6,0)
 S SRLINE="" F I=1:1:80 S SRLINE=SRLINE_"="
"RTN","SROFILE",7,0)
DISPLAY W @IOF,!,SRLINE,!,?20,"Update Site Configurable Surgery Files",!,SRLINE
"RTN","SROFILE",8,0)
 W !,"1.  Surgery Transportation Devices",!,"2.  Prosthesis",!,"3.  Surgery Positions",!,"4.  Restraints and Positional Aids"
"RTN","SROFILE",9,0)
 W !,"5.  Surgical Delay",!,"6.  Monitors",!,"7.  Irrigations",!,"8.  Surgery Replacement Fluids",!,"9.  Skin Prep Agents",!,"10. Skin Integrity",!,"11. Patient Mood"
"RTN","SROFILE",10,0)
 W !,"12. Patient Consciousness",!,"13. Local Surgical Specialty",!,"14. Electroground Positions",!,SRLINE
"RTN","SROFILE",11,0)
ASK W ! K DIR S DIR("?",1)="Enter the number corresponding to the file that you want to update. For",DIR("?",2)="example, enter ""8"" to enter, edit, or delete information contained in"
"RTN","SROFILE",12,0)
 S DIR("?",3)="the Surgery Replacement Fluids file.",DIR("?",4)="",DIR("?",5)="NOTE:  File entries you do not want to use should be made inactive and",DIR("?")="should NOT be deleted."
"RTN","SROFILE",13,0)
 S DIR("A")="Update Information for which File ? ",DIR(0)="NOA^1:14" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT)!'Y S SRSOUT=1 G END
"RTN","SROFILE",14,0)
 S SRFILE=Y
"RTN","SROFILE",15,0)
 S SRFNM=$P(SRO(SRFILE),"^"),SRFNUM=$P(SRO(SRFILE),"^",2) K SRO
"RTN","SROFILE",16,0)
 W @IOF,!,"Update Information in the "_SRFNM_" file.",!,SRLINE
"RTN","SROFILE",17,0)
ENTRY W !! K DIC S (DLAYGO,DIC)=SRFNUM,DIC(0)="QEAMZL",SRF=SRFNUM
"RTN","SROFILE",18,0)
 S SRP=3 I SRF=132!(SRF=135) S SRP=4
"RTN","SROFILE",19,0)
 I SRF=132.05!(SRF=132.4)!(SRF=133.4)!(SRF=133.7) S SRP=2
"RTN","SROFILE",20,0)
 I SRF=131.9 S SRP=6
"RTN","SROFILE",21,0)
 S DIC("W")="I $P(^(0),""^"",SRP) W ""         ** INACTIVE **"""
"RTN","SROFILE",22,0)
 D ^DIC N SRHL,SRHLAD,SRHLIEN S:Y>0&((SRFILE=6)!(SRFILE=8)) SRHLIEN=+Y,SRHL=^SRO(SRF,SRHLIEN,0),SRHLAD=$P(Y,U,3) K DLAYGO I Y<0 G START
"RTN","SROFILE",23,0)
 K DR S DIE=SRFNUM,DA=+Y S:SRFILE=2 DR=".01;1;2;5;6;7;8;9;10" S:SRFILE'=2 DR=".01:9999" D ^DIE D:(SRFILE=6)!(SRFILE=8) SRHL K DR,DIE,DA G ENTRY
"RTN","SROFILE",24,0)
 G START
"RTN","SROFILE",25,0)
END W @IOF D ^SRSKILL
"RTN","SROFILE",26,0)
 Q
"RTN","SROFILE",27,0)
SRHL ;HL7 master file update
"RTN","SROFILE",28,0)
 N SRENT,SRHLST,SRTBL,FEC,REC
"RTN","SROFILE",29,0)
 S FEC="UPD",SRTBL=$S(SRFILE=6:"MONITOR",SRFILE=8:"REPLACEMENT FLUID")_U_SRF_U_".01"
"RTN","SROFILE",30,0)
 S SRENT=SRHLIEN_U_^SRO(SRF,SRHLIEN,0),SRHLST=$S(SRHLAD=1:"Addition",SRHL'=SRENT:"Updating",1:"") I $G(SRHLST)'="" D
"RTN","SROFILE",31,0)
 .I $P(SRHL,U,2)="",'$P(SRHL,U,3),$P(SRENT,U,3)=1 S REC="MDC"
"RTN","SROFILE",32,0)
 .I $P(SRHL,U,2)=1,'$P(SRHL,U,3),$P(SRENT,U,3)="" S REC="MAC"
"RTN","SROFILE",33,0)
 .I $G(SRHLAD)=1 S REC="MAD"
"RTN","SROFILE",34,0)
 .D:$D(REC) MSG^SRHLMFN(SRTBL,FEC,REC,SRENT)
"RTN","SROFILE",35,0)
 .I $G(SRHLAD)=1,$P(SRENT,U,2)=1 S REC="MDC" D MSG^SRHLMFN(SRTBL,FEC,REC,SRENT)
"RTN","SROFILE",36,0)
 K SRHLIEN,SRHL,SRHLAD
"RTN","SROFILE",37,0)
 Q
"RTN","SROICU1")
0^49^B14117758^B13994619
"RTN","SROICU1",1,0)
SROICU1 ;B'HAM ISC/MAM - UNSCHEDULED ADMISSION TO ICU BY SPECIALTY ; 2 OCT 1990  12:17 PM
"RTN","SROICU1",2,0)
 ;;3.0;Surgery;**48,106,182**;24 Jun 93;Build 49
"RTN","SROICU1",3,0)
 S SRSOUT=0,SRSDATE=SRSD-.0001,SREDT=SRED+.9999,SRSSP="SURGICAL SPECIALTY: "_$P(^SRO(137.45,SRSS,0),"^"),SRCT=0
"RTN","SROICU1",4,0)
 D HDR
"RTN","SROICU1",5,0)
 F  S SRSDATE=$O(^SRF("AC",SRSDATE)) Q:'SRSDATE!(SRSDATE>SREDT)!SRSOUT  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSDATE,SRTN)) Q:'SRTN!SRSOUT  I $D(^SRF(SRTN,0)),$$DIV^SROUTL0(SRTN) D SET
"RTN","SROICU1",6,0)
 I SRCT=0 W !!,"No unscheduled admissions to ICU for selected date range."
"RTN","SROICU1",7,0)
 Q
"RTN","SROICU1",8,0)
SET ; case information
"RTN","SROICU1",9,0)
 S X=$P(^SRF(SRTN,0),"^",4) I X'=SRSS Q
"RTN","SROICU1",10,0)
 I '$D(^SRF(SRTN,.2)) Q
"RTN","SROICU1",11,0)
 I $P(^SRF(SRTN,.2),"^",12)="" Q
"RTN","SROICU1",12,0)
 S SR(.4)=$G(^SRF(SRTN,.4)),SRDISP=$P(SR(.4),"^",3),SRDISP1=$P(SR(.4),"^",6),Y=SRDISP,C=$P(^DD(130,.43,0),"^",2) D:Y'="" Y^DIQ S SRDISP=Y I Y["ICU" Q
"RTN","SROICU1",13,0)
 S Y=SRDISP1,C=$P(^DD(130,.46,0),"^",2) D:Y'="" Y^DIQ S SRDISP1=Y I Y=""!(Y'["ICU") Q
"RTN","SROICU1",14,0)
 S SRDIS=SRDISP_"/"_SRDISP1
"RTN","SROICU1",15,0)
 I $Y+7>IOSL D PAGE I SRSOUT Q
"RTN","SROICU1",16,0)
 S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S SRODATE=$E(SRSDATE,4,5)_"/"_$E(SRSDATE,6,7)_"/"_$E(SRSDATE,2,3)
"RTN","SROICU1",17,0)
 S SRDIAG=$S($D(^SRF(SRTN,34)):$P(^(34),"^"),1:"DIAGNOSIS NOT ENTERED"),SR(.1)=$S($D(^SRF(SRTN,.1)):^(.1),1:""),SRSUR=$P(SR(.1),"^",4),SRATT=$P(SR(.1),"^",13)
"RTN","SROICU1",18,0)
 I SRSUR S SRSUR=$P(^VA(200,SRSUR,0),"^")
"RTN","SROICU1",19,0)
 I SRATT S SRATT=$P(^VA(200,SRATT,0),"^") I $L(SRATT)>18 S SRATT=$P(SRATT,",")_","_$E($P(SRATT,",",2))
"RTN","SROICU1",20,0)
OPS S SROPER=$P(^SRF(SRTN,"OP"),"^"),OPER=0 F I=0:0 S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SROICU1",21,0)
 K SROP,MM,MMM S:$L(SROPER)<50 SROP(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROICU1",22,0)
 W !,SRODATE,?17,VADM(1),?55,SRDIAG,?110,SRSUR,!,?17,VA("PID"),?55,SROP(1),?110,SRATT,!,?17,SRDIS I $D(SROP(2)) W ?55,SROP(2) I $D(SROP(3)) W !,?55,SROP(3) I $D(SROP(4)) W !,?55,SROP(4)
"RTN","SROICU1",23,0)
 W ! S SRCT=SRCT+1
"RTN","SROICU1",24,0)
 Q
"RTN","SROICU1",25,0)
PAGE I $E(IOST)="P" D HDR Q
"RTN","SROICU1",26,0)
 W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X="^") S SRSOUT=1 Q
"RTN","SROICU1",27,0)
 I X["?" W !!,"Press RETURN to continue listing cases, or '^' to exit from this option." G PAGE
"RTN","SROICU1",28,0)
HDR ; print heading
"RTN","SROICU1",29,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROICU1",30,0)
 I $Y W @IOF
"RTN","SROICU1",31,0)
 W !,?(132-$L(SRINST)\2),SRINST,!,?58,"SURGICAL SERVICE",?100,"REVIEWED BY: ",!,?52,"UNSCHEDULED ADMISSIONS TO ICU",?100,"DATE REVIEWED: "
"RTN","SROICU1",32,0)
 W !,?(132-$L(SRSSP)\2),SRSSP,!,?53,"FROM ",$E(SRSD,4,5)_"/"_$E(SRSD,6,7)_"/"_$E(SRSD,2,3),"  TO ",$E(SRED,4,5)_"/"_$E(SRED,6,7)_"/"_$E(SRED,2,3)
"RTN","SROICU1",33,0)
 W !!,"DATE",?17,"PATIENT",?55,"POSTOPERATIVE DIAGNOSIS",?110,"PRIMARY SURGEON",!,?17,"PATIENT ID",?55,"OPERATIVE PROCEDURE(S)",?110,"ATTENDING SURGEON",!,?17,"REQ DISPOSITION/POSTOP DISPOSITION"
"RTN","SROICU1",34,0)
 W ! F LINE=1:1:132 W "="
"RTN","SROICU1",35,0)
 Q
"RTN","SROICU1",36,0)
OTHER ; other operations
"RTN","SROICU1",37,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>240 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROICU1",38,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SROICU1",39,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROICU1",40,0)
 Q
"RTN","SROICU1",41,0)
LOOP ; break procedure if greater than 50 characters
"RTN","SROICU1",42,0)
 S SROP(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROP(M))+$L(MM)'<50  S SROP(M)=SROP(M)_MM_" ",SROPER=MMM
"RTN","SROICU1",43,0)
 Q
"RTN","SROICU2")
0^50^B14207907^B14071324
"RTN","SROICU2",1,0)
SROICU2 ;B'HAM ISC/MAM - UNSCHEDULED ADMISSION TO ICU ; 2 OCT 1990  12:45 PM
"RTN","SROICU2",2,0)
 ;;3.0;Surgery;**48,106,182**;24 Jun 93;Build 49
"RTN","SROICU2",3,0)
 S (SRCT,SRSOUT)=0,SRSDATE=SRSD-.0001,SREDT=SRED+.9999
"RTN","SROICU2",4,0)
 D HDR
"RTN","SROICU2",5,0)
 F  S SRSDATE=$O(^SRF("AC",SRSDATE)) Q:'SRSDATE!(SRSDATE>SREDT)!SRSOUT  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSDATE,SRTN)) Q:'SRTN!SRSOUT  I $D(^SRF(SRTN,0)),$$DIV^SROUTL0(SRTN) D SET
"RTN","SROICU2",6,0)
 I SRCT=0 W !!,"No unscheduled admissions to ICU for the selected date range."
"RTN","SROICU2",7,0)
 Q
"RTN","SROICU2",8,0)
SET ; case information
"RTN","SROICU2",9,0)
 S X=$P(^SRF(SRTN,0),"^",4),SRSS=$S(X:$P(^SRO(137.45,X,0),"^"),1:"")
"RTN","SROICU2",10,0)
 I '$D(^SRF(SRTN,.2)) Q
"RTN","SROICU2",11,0)
 I $P(^SRF(SRTN,.2),"^",12)="" Q
"RTN","SROICU2",12,0)
 S SR(.4)=$G(^SRF(SRTN,.4)),SRDISP=$P(SR(.4),"^",3),SRDISP1=$P(SR(.4),"^",6),Y=SRDISP,C=$P(^DD(130,.43,0),"^",2) D:Y'="" Y^DIQ S SRDISP=Y I Y["ICU" Q
"RTN","SROICU2",13,0)
 S Y=SRDISP1,C=$P(^DD(130,.46,0),"^",2) D:Y'="" Y^DIQ S SRDISP1=Y I Y=""!(Y'["ICU") Q
"RTN","SROICU2",14,0)
 S SRDIS=SRDISP_"/"_SRDISP1
"RTN","SROICU2",15,0)
 I $Y+7>IOSL D PAGE I SRSOUT Q
"RTN","SROICU2",16,0)
 S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S SRODATE=$E(SRSDATE,4,5)_"/"_$E(SRSDATE,6,7)_"/"_$E(SRSDATE,2,3)
"RTN","SROICU2",17,0)
 S SRDIAG=$S($D(^SRF(SRTN,34)):$P(^(34),"^"),1:"DIAGNOSIS NOT ENTERED"),SR(.1)=$S($D(^SRF(SRTN,.1)):^(.1),1:""),SRSUR=$P(SR(.1),"^",4),SRATT=$P(SR(.1),"^",13)
"RTN","SROICU2",18,0)
 I SRSUR S SRSUR=$P(^VA(200,SRSUR,0),"^")
"RTN","SROICU2",19,0)
 I SRATT S SRATT=$P(^VA(200,SRATT,0),"^") I $L(SRATT)>18 S SRATT=$P(SRATT,",")_","_$E($P(SRATT,",",2))
"RTN","SROICU2",20,0)
OPS S SROPER=$P(^SRF(SRTN,"OP"),"^"),OPER=0 F I=0:0 S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SROICU2",21,0)
 K SROP,MM,MMM S:$L(SROPER)<50 SROP(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROICU2",22,0)
 W !,SRODATE,?17,VADM(1),?55,SRSS,?110,SRSUR,!,?17,VA("PID"),?55,SRDIAG,?110,SRATT,!,?17,SRDIS,?55,SROP(1) I $D(SROP(2)) W !,?55,SROP(2) I $D(SROP(3)) W !,?55,SROP(3) I $D(SROP(4)) W !,?55,SROP(4)
"RTN","SROICU2",23,0)
 W ! S SRCT=SRCT+1
"RTN","SROICU2",24,0)
 Q
"RTN","SROICU2",25,0)
PAGE I $E(IOST)="P" D HDR Q
"RTN","SROICU2",26,0)
 W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X="^") S SRSOUT=1 Q
"RTN","SROICU2",27,0)
 I X["?" W !!,"Press RETURN to continue listing cases, or '^' to exit from this option." G PAGE
"RTN","SROICU2",28,0)
HDR ; print heading
"RTN","SROICU2",29,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROICU2",30,0)
 I $Y W @IOF
"RTN","SROICU2",31,0)
 W !,?(132-$L(SRINST)\2),SRINST,!,?58,"SURGICAL SERVICE",?100,"REVIEWED BY: ",!,?52,"UNSCHEDULED ADMISSIONS TO ICU",?100,"DATE REVIEWED: "
"RTN","SROICU2",32,0)
 W !,?53,"FROM ",$E(SRSD,4,5)_"/"_$E(SRSD,6,7)_"/"_$E(SRSD,2,3),"  TO ",$E(SRED,4,5)_"/"_$E(SRED,6,7)_"/"_$E(SRED,2,3)
"RTN","SROICU2",33,0)
 W !!,"DATE",?17,"PATIENT",?55,"SURGICAL SPECIALTY",?110,"PRIMARY SURGEON",!,?17,"PATIENT ID",?55,"POSTOPERATIVE DIAGNOSIS",?110,"ATTENDING SURGEON",!,?17,"REQ DISPOSITION/POSTOP DISPOSITION",?55,"OPERATIVE PROCEDURE(S)"
"RTN","SROICU2",34,0)
 W ! F LINE=1:1:132 W "="
"RTN","SROICU2",35,0)
 Q
"RTN","SROICU2",36,0)
OTHER ; other operations
"RTN","SROICU2",37,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>240 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROICU2",38,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SROICU2",39,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROICU2",40,0)
 Q
"RTN","SROICU2",41,0)
LOOP ; break procedure if greater than 50 characters
"RTN","SROICU2",42,0)
 S SROP(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROP(M))+$L(MM)'<50  S SROP(M)=SROP(M)_MM_" ",SROPER=MMM
"RTN","SROICU2",43,0)
 Q
"RTN","SROINQ")
0^51^B17869501^B18402832
"RTN","SROINQ",1,0)
SROINQ ;B'HAM ISC/MAM  - OPERATION INQUIRY ; [ 07/20/04  12:44 PM ]
"RTN","SROINQ",2,0)
 ;;3.0;Surgery;**38,48,129,151,182**;24 Jun 93;Build 49
"RTN","SROINQ",3,0)
 ;
"RTN","SROINQ",4,0)
 ; Reference to ^PSS50 supported by DBIA #4533
"RTN","SROINQ",5,0)
 ;
"RTN","SROINQ",6,0)
 I '$D(SRTN) W !!,"OPERATION NOT SELECTED !",! Q
"RTN","SROINQ",7,0)
 S S(0)=^SRF(SRTN,0),DFN=$P(S(0),"^") D DEM^VADPT S SRTNM=VADM(1),SSN=VA("PID"),SRTNM=SRTNM_" ("_VA("PID")_")"
"RTN","SROINQ",8,0)
 S SRLINE="" F I=0:1:79 S SRLINE=SRLINE_"-"
"RTN","SROINQ",9,0)
 S SRTCC=$P($G(^SRF(SRTN,"1.0")),"^",8),S(.1)=$S($D(^SRF(SRTN,.1)):^(.1),1:"")
"RTN","SROINQ",10,0)
 S SRTSP=$S($P(S(0),"^",4):$P(^SRO(137.45,$P(S(0),"^",4),0),"^"),1:"")
"RTN","SROINQ",11,0)
 S Y=SRTCC,C=$P(^DD(130,1.09,0),"^",2) D:Y'="" Y^DIQ S SRTCC=Y S SRSUR=$P(S(.1),"^",4),SRATT=$P(S(.1),"^",13),SRANE=$P($G(^SRF(SRTN,.3)),"^") S:SRSUR]"" SRSUR=$P(^VA(200,SRSUR,0),"^") S:SRATT]"" SRATT=$P(^VA(200,SRATT,0),"^")
"RTN","SROINQ",12,0)
 S:SRANE SRANE=$P(^VA(200,SRANE,0),"^")
"RTN","SROINQ",13,0)
 S SRATCD="",Y=$P($G(^SRF(SRTN,.1)),"^",10) I Y S C=$P(^DD(130,.166,0),"^",2) D Y^DIQ S SRATCD=Y
"RTN","SROINQ",14,0)
 I SRATCD="" S SRATCD="ATTENDING/RES SUP CODE NOT ENTERED"
"RTN","SROINQ",15,0)
 ;S X=$P(S(.1),"^",16),SRTACD=$S(X=0:"0. STAFF",X=1:"1. ATTENDING IN O.R.",X=2:"2. ATTENDING IN O.R. SUITE",X=3:"3. ATTENDING NOT PRESENT, BUT AVAILABLE",1:"")
"RTN","SROINQ",16,0)
 I $L(SRANE)>18 S SRANE=$P(SRANE,",")_","_$E($P(SRANE,",",2),1)_"."
"RTN","SROINQ",17,0)
 S SRTCMP=$S($O(^SRF(SRTN,10,0)):"YES",1:"NO"),SRTCMP1=$S($O(^SRF(SRTN,16,0)):"YES",1:"NO")
"RTN","SROINQ",18,0)
 S Y=$P(^SRF(SRTN,0),"^",9) D D^DIQ S SRSDATE=Y
"RTN","SROINQ",19,0)
 S:'$D(SRICD("*")) SRICD("*")="NOT ENTERED"
"RTN","SROINQ",20,0)
ANES I $D(^SRF(SRTN,6,0)) S I=0 F J=0:0 S I=$O(^SRF(SRTN,6,I)) Q:'I  S SRANE(I)=$P(^(I,0),U) D AGENT
"RTN","SROINQ",21,0)
TIME S S(.2)=$G(^SRF(SRTN,.2)),(X1,SRTDG)=$P(S(.2),"^",3),X=$P(S(.2),"^",2) D MINS^SRSUTL2 S SRTIME=X S SRTBL=$P(S(.2),"^",5)
"RTN","SROINQ",22,0)
 S:'$D(SRTIME) SRTIME="" S:'$D(SRTBL) SRTBL=""
"RTN","SROINQ",23,0)
OPS S SROPER=$P(^SRF(SRTN,"OP"),"^"),OPER=0 F I=0:0 S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SROINQ",24,0)
 K SROPS,MM,MMM S:$L(SROPER)<75 SROPS(1)=SROPER I $L(SROPER)>74 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROINQ",25,0)
ICD9 S:'$D(SRTDG) SRTDG="" S SRTDG=$S(+SRTDG:15,1:14),SRTDG1=$S(SRTDG=15:3,1:1),SRTDG2=$S(SRTDG=15:33,1:34)
"RTN","SROINQ",26,0)
 S SRICD=0 S:$D(^SRF(SRTN,SRTDG2)) SRICD("*")=$P(^SRF(SRTN,SRTDG2),"^") F I=0:0 S SRICD=$O(^SRF(SRTN,SRTDG,SRICD)) Q:'SRICD  S SRICD(SRICD)=$P(^SRF(SRTN,SRTDG,SRICD,0),"^")
"RTN","SROINQ",27,0)
 S:'$D(SRTDG("*")) SRTDG("*")=""
"RTN","SROINQ",28,0)
PRINT ; print inquiry
"RTN","SROINQ",29,0)
 W @IOF,!,SRLINE,!,"Patient: "_SRTNM,?50,"Operation Date: "_$P(SRSDATE,"@"),!,"Primary Surgeon: "_SRSUR
"RTN","SROINQ",30,0)
 W !,"Attending Surgeon: "_SRATT,?50,"Operation Time: "_SRTIME I SRTIME W " Minutes",!,"Attending/Res Sup Code: "_SRATCD,!,SRLINE
"RTN","SROINQ",31,0)
 W !,"Operation(s): ",!,SROPS(1) I $D(SROPS(2)) W !,SROPS(2) I $D(SROPS(3)) W !,SROPS(3) I $D(SROPS(4)) W !,SROPS(4) I $D(SROPS(5)) W !,SROPS(5)
"RTN","SROINQ",32,0)
 W !,SRLINE,!,$S(SRTDG2=33:"Postop",1:"Preop")," Diagnosis:",?47,"Intraop Occurrences: ",SRTCMP,!,"* ",SRICD("*"),?47,"Postop Occurrences:  ",SRTCMP1 F I=0:0 S I=$O(SRICD(I)) Q:'I  W !,?4,SRICD(I)
"RTN","SROINQ",33,0)
 W !,SRLINE,!,"Anesthesia Technique: ",?47,"Anesthetist: ",SRANE F I=0:0 S I=$O(SRANE(I)) Q:'I  W !,?4 S Y=$P(SRANE(I),"^"),C=$P(^DD(130.06,.01,0),"^",2) D:Y'="" Y^DIQ W:Y]"" Y D AGT
"RTN","SROINQ",34,0)
 W !,SRLINE,!,"Wound Classification:      ",SRTCC,!,"Intraoperative Blood Loss: ",SRTBL,$S(SRTBL]"":" CC'S",1:""),!,SRLINE
"RTN","SROINQ",35,0)
 W !!!,"Press RETURN to continue  " R ANS:DTIME
"RTN","SROINQ",36,0)
END D ^SRSKILL W @IOF
"RTN","SROINQ",37,0)
 Q
"RTN","SROINQ",38,0)
OTHER ; other operations
"RTN","SROINQ",39,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>250 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROINQ",40,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SROINQ",41,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROINQ",42,0)
 Q
"RTN","SROINQ",43,0)
LOOP ; break procedure if greater than 75 characters
"RTN","SROINQ",44,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<75  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROINQ",45,0)
 Q
"RTN","SROINQ",46,0)
AGT F T=0:0 S T=$O(SRANE(I,T)) Q:'T  W !,?6,SRANE(I,T)
"RTN","SROINQ",47,0)
 Q
"RTN","SROINQ",48,0)
AGENT ; anesthesia agents
"RTN","SROINQ",49,0)
 S Q=0 F T=0:0 S Q=$O(^SRF(SRTN,6,I,1,Q)) Q:'Q  S Z=$P(^(Q,0),U) D
"RTN","SROINQ",50,0)
 .D DATA^PSS50(Z,,,,,"SRRX") S SRANE(I,Q)=$P($G(^TMP($J,"SRRX",Z,.01)),"^") K ^TMP($J,"SRRX",Z)
"RTN","SROMENU")
0^117^B25521719^B24367683
"RTN","SROMENU",1,0)
SROMENU ;B'HAM ISC/MAM - OPERATION MENU OPTIONS ;27 Sep 2013  1:03 PM
"RTN","SROMENU",2,0)
 ;;3.0;Surgery;**52,67,69,104,107,100,134,175,177,182**;24 Jun 93;Build 49
"RTN","SROMENU",3,0)
TECH ; sromen-anes tech
"RTN","SROMENU",4,0)
 G:'$G(SRTN) NO D ^SROLOCK G:SROLOCK END
"RTN","SROMENU",5,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK G END
"RTN","SROMENU",6,0)
 K DR,SRODR S DR="[SROMEN-ANES TECH]",DIE=130,DA=SRTN D ^DIE I $D(SRODR) D ^SROCON1
"RTN","SROMENU",7,0)
 G END
"RTN","SROMENU",8,0)
OP ; sromen-op
"RTN","SROMENU",9,0)
 D RT K SRODR
"RTN","SROMENU",10,0)
 G:'$G(SRTN) NO D ^SROLOCK I SROLOCK S Q3("VIEW")=""
"RTN","SROMENU",11,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK G END
"RTN","SROMENU",12,0)
 ; RBD - 10/15/13 - PATCH 177 - Code Set labeling issue fixed.
"RTN","SROMENU",13,0)
 N SRICDV S SRICDV=$$ICDSTR^SROICD(SRTN)
"RTN","SROMENU",14,0)
 ; End 177
"RTN","SROMENU",15,0)
 K ^TMP("SR182",$J) ; set by 'AO' x-ref
"RTN","SROMENU",16,0)
 K DR S SRDTIME=DTIME,DTIME=3600,DIE=130,DR="[SROMEN-OPER]",DA=SRTN,ST="OPERATION"_$S(SROLOCK:" **LOCKED",1:"") D EN2^SROVAR,^SRCUSS S DTIME=SRDTIME I $D(Q3("VIEW")) K Q3("VIEW") G END
"RTN","SROMENU",17,0)
 D WSXR^SRTOVRF(SRTN)
"RTN","SROMENU",18,0)
 I '$P(^SRF(SRTN,0),"^",20) D ^SROPCE1
"RTN","SROMENU",19,0)
 I $D(SRODR) D ^SROCON1
"RTN","SROMENU",20,0)
 S SROERR=SRTN G END
"RTN","SROMENU",21,0)
COMP ; sromen-comp
"RTN","SROMENU",22,0)
 K SRODR
"RTN","SROMENU",23,0)
 G:'$G(SRTN) NO D ^SROLOCK G:SROLOCK END
"RTN","SROMENU",24,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK G END
"RTN","SROMENU",25,0)
 K DR W @IOF,! S DIE=130,DA=SRTN,DR="[SROMEN-COMP]" D ^DIE
"RTN","SROMENU",26,0)
 I $D(SRODR) D ^SROCON1
"RTN","SROMENU",27,0)
 G END
"RTN","SROMENU",28,0)
SHORT ; sromen-out
"RTN","SROMENU",29,0)
 D RT K SRODR
"RTN","SROMENU",30,0)
 G:'$G(SRTN) NO
"RTN","SROMENU",31,0)
 ; RBD - 10/15/13 - PATCH 177 - Code set labeling issue fixed.
"RTN","SROMENU",32,0)
 N SRICDV S SRICDV=$$ICDSTR^SROICD(SRTN)
"RTN","SROMENU",33,0)
 ; End 177
"RTN","SROMENU",34,0)
 D ^SROLOCK I SROLOCK S Q3("VIEW")=""
"RTN","SROMENU",35,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK G END
"RTN","SROMENU",36,0)
 K ^TMP("SR182",$J) ; set by 'AO' x-ref
"RTN","SROMENU",37,0)
 K DR S SRDTIME=DTIME,DTIME=3600,DIE=130,DA=SRTN,DR="[SROMEN-OUT]",ST="SHORT SCREEN"_$S(SROLOCK:" **LOCKED",1:"") D EN2^SROVAR,^SRCUSS S DTIME=SRDTIME I $D(Q3("VIEW")) K Q3("VIEW") G END
"RTN","SROMENU",38,0)
 D WSXR^SRTOVRF(SRTN)
"RTN","SROMENU",39,0)
 I '$P(^SRF(SRTN,0),"^",20) D ^SROPCE1
"RTN","SROMENU",40,0)
 I $D(SRODR) D ^SROCON1
"RTN","SROMENU",41,0)
 S SROERR=SRTN G END
"RTN","SROMENU",42,0)
VERF ; Time Out Verified Utilizing Checklist
"RTN","SROMENU",43,0)
 D RT K SRODR
"RTN","SROMENU",44,0)
 G:'$G(SRTN) NO D ^SROLOCK I SROLOCK S Q3("VIEW")=""
"RTN","SROMENU",45,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK G END
"RTN","SROMENU",46,0)
 K DR S SRDTIME=DTIME,DTIME=3600,DIE=130,DA=SRTN,DR="[SROMEN-VERF]",ST="TIME OUT CHECKLIST"_$S(SROLOCK:" **LOCKED",1:"") D EN2^SROVAR,^SRCUSS S DTIME=SRDTIME I $D(Q3("VIEW")) K Q3("VIEW") G END
"RTN","SROMENU",47,0)
 I $D(SRODR) D ^SROCON1
"RTN","SROMENU",48,0)
 S SROERR=SRTN G END
"RTN","SROMENU",49,0)
PACU ; sromen-pacu
"RTN","SROMENU",50,0)
 D RT K SRODR
"RTN","SROMENU",51,0)
 G:'$G(SRTN) NO D ^SROLOCK I SROLOCK S Q3("VIEW")=""
"RTN","SROMENU",52,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK G END
"RTN","SROMENU",53,0)
 K DR S DIE=130,DA=SRTN,ST="PACU"_$S(SROLOCK:" **LOCKED",1:""),DR="[SROMEN-PACU]" D EN2^SROVAR,^SRCUSS I $D(Q3("VIEW")) K Q3("VIEW") G END
"RTN","SROMENU",54,0)
 I $D(SRODR) D ^SROCON1
"RTN","SROMENU",55,0)
 S SROERR=SRTN D ^SROERR0
"RTN","SROMENU",56,0)
 G END
"RTN","SROMENU",57,0)
POST ; sromen-post
"RTN","SROMENU",58,0)
 ; JAS - 11/13/13 - PATCH 177 - Added next line to fix code set labeling issue.
"RTN","SROMENU",59,0)
 K SRICDV S SRICDV=$$ICDSTR^SROICD(SRTN)
"RTN","SROMENU",60,0)
 D RT K SRODR
"RTN","SROMENU",61,0)
 G:'$G(SRTN) NO D ^SROLOCK I SROLOCK S Q3("VIEW")=""
"RTN","SROMENU",62,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK G END
"RTN","SROMENU",63,0)
 K DR S SRDTIME=DTIME,DTIME=3600,DIE=130,DA=SRTN,ST="POST OPERATION"_$S(SROLOCK:" **LOCKED",1:""),DR="[SROMEN-POST]" D EN2^SROVAR,^SRCUSS S DTIME=SRDTIME I $D(Q3("VIEW")) K Q3("VIEW") G END
"RTN","SROMENU",64,0)
 I '$P(^SRF(SRTN,0),"^",20) D ^SROPCE1
"RTN","SROMENU",65,0)
 I $D(SRODR) D ^SROCON1
"RTN","SROMENU",66,0)
 S SROERR=SRTN G END
"RTN","SROMENU",67,0)
REF ; sromen-refer
"RTN","SROMENU",68,0)
 K SRODR
"RTN","SROMENU",69,0)
 G:'$G(SRTN) NO D ^SROLOCK G:SROLOCK END
"RTN","SROMENU",70,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK G END
"RTN","SROMENU",71,0)
 W @IOF K DR S DIE=130,DA=SRTN,DR="[SROMEN-REFER]" W !! D ^DIE
"RTN","SROMENU",72,0)
 I $D(SRODR) D ^SROCON1
"RTN","SROMENU",73,0)
 G END
"RTN","SROMENU",74,0)
STAFF ; sromen-staff
"RTN","SROMENU",75,0)
 D RT K SRODR
"RTN","SROMENU",76,0)
 G:'$G(SRTN) NO D ^SROLOCK I SROLOCK S Q3("VIEW")=""
"RTN","SROMENU",77,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK G END
"RTN","SROMENU",78,0)
 K DR S SRDTIME=DTIME,DTIME=3600,DIE=130,DA=SRTN,ST="SURGICAL STAFF"_$S(SROLOCK:" **LOCKED",1:""),DR="[SROMEN-STAFF]" D EN2^SROVAR,^SRCUSS S DTIME=SRDTIME I $D(Q3("VIEW")) K Q3("VIEW") G END
"RTN","SROMENU",79,0)
 I '$P(^SRF(SRTN,0),"^",20) D ^SROPCE1
"RTN","SROMENU",80,0)
 I $D(SRODR) D ^SROCON1
"RTN","SROMENU",81,0)
 S SROERR=SRTN G END
"RTN","SROMENU",82,0)
START ; sromen-start
"RTN","SROMENU",83,0)
 D RT K SRODR
"RTN","SROMENU",84,0)
 G:'$G(SRTN) NO
"RTN","SROMENU",85,0)
 ; RBD - 10/15/13 - PATCH 177 - Code set labeling issue fixed.
"RTN","SROMENU",86,0)
 N SRICDV S SRICDV=$$ICDSTR^SROICD(SRTN)
"RTN","SROMENU",87,0)
 ; End 177
"RTN","SROMENU",88,0)
 D ^SROLOCK I SROLOCK S Q3("VIEW")=""
"RTN","SROMENU",89,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK G END
"RTN","SROMENU",90,0)
 K DR S SRDTIME=DTIME,DTIME=3600,DIE=130,DA=SRTN,ST="STARTUP"_$S(SROLOCK:" **LOCKED",1:""),DR="[SROMEN-START]" D EN2^SROVAR,^SRCUSS S DTIME=SRDTIME I $D(Q3("VIEW")) K Q3("VIEW") G END
"RTN","SROMENU",91,0)
 I '$P(^SRF(SRTN,0),"^",20) D ^SROPCE1
"RTN","SROMENU",92,0)
 I $D(SRODR) D ^SROCON1
"RTN","SROMENU",93,0)
 S SROERR=SRTN G END
"RTN","SROMENU",94,0)
REV ; review request information (request menu)
"RTN","SROMENU",95,0)
 K SRNEWOP D ^SROPS D RT G:'$G(SRTN) END
"RTN","SROMENU",96,0)
 N SRICDV S SRICDV=$$ICDSTR^SROICD(SRTN)
"RTN","SROMENU",97,0)
 K Y,DR S Q3("VIEW")="",ST="REVIEW REQUEST",DIC=130,DA=SRTN,DR="[SRSREQV]" D EN2^SROVAR,^SRCUSS K DR,SRTN
"RTN","SROMENU",98,0)
 G END
"RTN","SROMENU",99,0)
NO ;
"RTN","SROMENU",100,0)
 W !!,"An operative procedure must be selected to use this option.",!
"RTN","SROMENU",101,0)
 W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SROMENU",102,0)
END ;
"RTN","SROMENU",103,0)
 I $D(SROERR) D ^SROERR0
"RTN","SROMENU",104,0)
 I $G(SRTN) D UNLOCK^SROUTL(SRTN)
"RTN","SROMENU",105,0)
 K SRDTIME D ^SRSKILL W @IOF
"RTN","SROMENU",106,0)
 Q
"RTN","SROMENU",107,0)
RT ; start RT logging
"RTN","SROMENU",108,0)
 I $G(SRTN),$D(XRTL) S XRTN="SROMENU" D T0^%ZOSV
"RTN","SROMENU",109,0)
 Q
"RTN","SRONEW")
0^115^B36104631^B36010808
"RTN","SRONEW",1,0)
SRONEW ;BIR/MAM - ENTER A NEW CASE ;11/01/2011
"RTN","SRONEW",2,0)
 ;;3.0;Surgery;**3,23,26,30,47,58,48,67,107,100,144,175,176,177,182**;24 Jun 93;Build 49
"RTN","SRONEW",3,0)
 ;
"RTN","SRONEW",4,0)
 ; Reference to ^TMP("CSLSUR1" supported by DBIA #3498
"RTN","SRONEW",5,0)
 ;
"RTN","SRONEW",6,0)
DEAD S SRSOUT=0,X=$P($G(VADM(6)),"^") I X D  I SRSOUT D ^SRSKILL G ^SROP
"RTN","SRONEW",7,0)
 .S SRDEATH=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3) W @IOF,!,?1,VADM(1)_"   "_VA("PID")_"        * Died "_SRDEATH_" *"
"RTN","SRONEW",8,0)
 .W !!,$C(7) K DIR S DIR("A",1)=">>> The patient you have selected died on "_SRDEATH_"."
"RTN","SRONEW",9,0)
 .S DIR("A")="    Are you sure this is the correct patient ? ",DIR("B")="NO",DIR(0)="YA" D ^DIR K DIR
"RTN","SRONEW",10,0)
 .W @IOF I 'Y!$D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SRONEW",11,0)
 .W !,"Entering a new surgical case for "_VADM(1)_".",!!
"RTN","SRONEW",12,0)
DATE K %DT W ! S %DT("A")="Select the Date of Operation: ",%DT="AEX" D ^%DT I Y<0 W !!,"When entering a new surgery case, a date MUST be entered.  If you do not",!,"know the date of operation, enter this patient on the Waiting List."
"RTN","SRONEW",13,0)
 I Y<0 D CONT G:"Yy"'[SRYN END G DATE
"RTN","SRONEW",14,0)
 G:Y'>0 END S SRSDATE=Y
"RTN","SRONEW",15,0)
ODP N SRSODP
"RTN","SRONEW",16,0)
 K DIR S DIR(0)="130,616",DIR("A")="Desired Procedure Date" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G END
"RTN","SRONEW",17,0)
 I Y=""!(X["^")!(Y<SRSDATE) W !!,"The Desired Procedure Date MUST be entered and should be greater than or equal  to date of operation.  Enter '^' to exit.",! G ODP
"RTN","SRONEW",18,0)
 S SRSODP=+Y
"RTN","SRONEW",19,0)
 S SRSC1=1 K SRCTN S SRSDPT=DFN,SRSCC="" D CON G:SRSCC="^" END
"RTN","SRONEW",20,0)
OP D ^SROPROC I SRSOUT G END
"RTN","SRONEW",21,0)
 S SRPRIN=SRSOP
"RTN","SRONEW",22,0)
OPD ; Principal Preoperative Diagnosis
"RTN","SRONEW",23,0)
 K DIR S DIR(0)="130,32",DIR("A")="Principal Preoperative Diagnosis" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G END
"RTN","SRONEW",24,0)
 I Y=""!(X["^") W !!,"A Principal Preoperative Diagnosis must be entered",!,"when creating a new case. Enter '^' to exit.",! G OPD
"RTN","SRONEW",25,0)
 I X[";" W !,"The Principal Preoperative Diagnosis cannot contain a semicolon (;).",!,"Please re-enter the Diagnosis, using commas in place of the semicolons." G OPD
"RTN","SRONEW",26,0)
 S SRSOPD=Y
"RTN","SRONEW",27,0)
 W !!,"The information entered into the Principal Preoperative Diagnosis field",!,"has been transferred into the Indications for Operation field.",!,"The Indications for Operation field can be updated later if necessary.",!
"RTN","SRONEW",28,0)
DOC W ! S DIC("A")="Select Primary Surgeon: ",DIC=200,DIC(0)="QEAM",SRSDOC="" D ^DIC K DIC("A") I $D(DTOUT)!(X="^") S SRSOUT=1 G END
"RTN","SRONEW",29,0)
 I Y<0!(X["^") W !!,"A Surgeon must be entered when creating a case.  Enter '^' to exit.",! G DOC
"RTN","SRONEW",30,0)
 S (DA,SRSDOC)=+Y
"RTN","SRONEW",31,0)
 S RESTRICT="130,.14",Y=SRSDOC K SROK D KEY^SROXPR I '$D(SROK) W !!,"The person you selected does not have the appropriate keys necessary to be",!,"entered as a surgeon.  Please make another selection.",! K SRSDOC,DA,DIC G DOC
"RTN","SRONEW",32,0)
CASE ; create case in SURGERY file
"RTN","SRONEW",33,0)
 K DA,DIC,DD,DO,DINUM,SRTN S X=DFN,DIC="^SRF(",DIC(0)="L" D FILE^DICN K DIC,DO,DINUM S SRTN=+Y G:'$$LOCK^SROUTL(SRTN) DEL
"RTN","SRONEW",34,0)
 S ^SRF(SRTN,8)=SRSITE("DIV"),^SRF(SRTN,"OP")=""
"RTN","SRONEW",35,0)
 S ^SRF(SRTN,52)="0^0^0^0^0^0"  ; default flash sterilization fields to zero
"RTN","SRONEW",36,0)
 K DIE,DR S DA=SRTN,DIE=130,DR=".09////"_SRSDATE_";26////"_SRPRIN_";68////"_SRPRIN_";.14////"_SRSDOC_";616////"_SRSODP_";612////"_SRSODP_";613////"_$$DSMP^SRSDT D ^DIE K DR
"RTN","SRONEW",37,0)
ASURG ; attending surgeon
"RTN","SRONEW",38,0)
 K DIR S DIR(0)="130,.164",DIR("A")="Attending Surgeon" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRONEW",39,0)
 I Y=""!(X["^") W !!,"An Attending Surgeon must be entered when creating a case. Enter '^' to exit.",! G ASURG
"RTN","SRONEW",40,0)
 S SRATTND=+Y
"RTN","SRONEW",41,0)
SPEC W ! K DIC S DIC=137.45,DIC(0)="QEAMZ",DIC("A")="Select Surgical Specialty: ",DIC("S")="I '$P(^(0),""^"",3)" D ^DIC I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRONEW",42,0)
 I Y<0!(X["^") W !!,"To create a surgical case, a Surgical Specialty MUST be selected.  Enter '^'",!,"to exit.",! G SPEC
"RTN","SRONEW",43,0)
 S SRSS=+Y
"RTN","SRONEW",44,0)
UPDATE ; update case in SURGERY file
"RTN","SRONEW",45,0)
 S DA=SRTN,DIE=130,DR=".04////"_SRSS_";.164////"_SRATTND_";32////"_SRSOPD D ^DIE K DR
"RTN","SRONEW",46,0)
 S SRSOPD(1)=SRSOPD D WP^DIE(130,SRTN_",",55,"A","SRSOPD")
"RTN","SRONEW",47,0)
 ; Brief Clinical History
"RTN","SRONEW",48,0)
 K DR S DR="60T",DA=SRTN,DIE=130 W ! D ^DIE
"RTN","SRONEW",49,0)
 K DR,DA S DR="[SRO-NOCOMP]",DA=SRTN,DIE=130 D ^DIE K DR
"RTN","SRONEW",50,0)
 S ^SRF(SRTN,8)=SRSITE("DIV") D ^SROXRET
"RTN","SRONEW",51,0)
DIE D ^SROBLOD K DR,DIE,DA S DR="38////"_BLOOD_";40////"_CROSSM,DA=SRTN,DIE=130 D ^DIE K DR,DA,DIE
"RTN","SRONEW",52,0)
 N SRICDV S SRICDV=$$ICDSTR^SROICD(SRTN)
"RTN","SRONEW",53,0)
 S DR="[SRSRES1]",DIE=130,DA=SRTN D ^DIE,RT S ST="NEW SURGERY" D EN2^SROVAR
"RTN","SRONEW",54,0)
 S SPD=$$CHKS^SRSCOR(SRTN)
"RTN","SRONEW",55,0)
 K DR S DR="[SRSRES-ENTRY]",DIE=130,DA=SRTN D ^SRCUSS,RISK^SROAUTL3,^SROPCE1
"RTN","SRONEW",56,0)
 I SPD'=$$CHKS^SRSCOR(SRTN) S ^TMP("CSLSUR1",$J)=""
"RTN","SRONEW",57,0)
 I $D(SRCTN) D
"RTN","SRONEW",58,0)
 .S SRCTN(.02)=$P(^SRF(SRCTN,0),"^",2),SRCTN(10)=$P($G(^SRF(SRCTN,31)),"^",4),SRCTN(11)=$P($G(^SRF(SRCTN,31)),"^",5)
"RTN","SRONEW",59,0)
 .S DIE=130,DR=".02////"_SRCTN(.02)_";10////"_SRCTN(10)_";11////"_SRCTN(11)_";35////"_SRCTN_";614////"_$P(SRCTN(10),"."),DA=SRTN D ^DIE
"RTN","SRONEW",60,0)
 .S DR="35////"_SRTN,DA=SRCTN,DIE=130 D ^DIE
"RTN","SRONEW",61,0)
 D UNLOCK^SROUTL(SRTN),^SROERR
"RTN","SRONEW",62,0)
 Q
"RTN","SRONEW",63,0)
DEL S DA=SRTN,DIK="^SRF(" D ^DIK
"RTN","SRONEW",64,0)
END K SRTN D ^SRSKILL
"RTN","SRONEW",65,0)
 Q
"RTN","SRONEW",66,0)
CONT ; continue new entry ?
"RTN","SRONEW",67,0)
 W !!,"Do you want to continue  ?  YES//  " R SRYN:DTIME I '$T S SRYN="N" Q
"RTN","SRONEW",68,0)
 S SRYN=$E(SRYN) S:SRYN="" SRYN="Y" I "YyNn"'[SRYN W !!,"Enter RETURN if you want to re-enter a date and continue creating a new",!,"case, or 'NO' to leave this option." G CONT
"RTN","SRONEW",69,0)
 Q
"RTN","SRONEW",70,0)
RT ;start RT logging
"RTN","SRONEW",71,0)
 I $D(XRTL) S XRTN="SRONEW" D T0^%ZOSV
"RTN","SRONEW",72,0)
 Q
"RTN","SRONEW",73,0)
CON ; check for concurrent case
"RTN","SRONEW",74,0)
 S SRSCON=0,SRDT=SRSDATE-.0001 F  S SRDT=$O(^SRF("AC",SRDT)) Q:'SRDT!($E(SRDT,1,7)'=SRSDATE)!(SRSCON)  S (SRSCC,SRSCON)=0 F  S SRSCC=$O(^SRF("AC",SRDT,SRSCC)) Q:'SRSCC  D  Q:SRSCON
"RTN","SRONEW",75,0)
 .I ^(SRSCC)=SRSDPT,'$P($G(^SRF(SRSCC,"CON")),"^"),$P($G(^SRF(SRSCC,"NON")),"^")'="Y",'$P($G(^SRF(SRSCC,30)),"^"),'$P($G(^SRF(SRSCC,.2)),"^",12),'$P($G(^SRF(SRSCC,"LOCK")),"^") S SRSCON=1
"RTN","SRONEW",76,0)
 .I SRSCON D CC^SRSREQ I '$D(SRCTN) S SRSCON=0
"RTN","SRONEW",77,0)
 Q
"RTN","SRONIN")
0^11^B95799961^B79594372
"RTN","SRONIN",1,0)
SRONIN ;BIR/MAM,ADM - NURSE INTRAOPERATIVE REPORT ;10/24/2011
"RTN","SRONIN",2,0)
 ;;3.0;Surgery;**68,50,100,129,134,153,157,175,176,182**;24 Jun 93;Build 49
"RTN","SRONIN",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONIN",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SRONIN",5,0)
 ;**         are prohibited.
"RTN","SRONIN",6,0)
 ;
"RTN","SRONIN",7,0)
 ; Reference to UPDATE^TIUSRVP supported by DBIA #3535
"RTN","SRONIN",8,0)
 ; Reference to ES^TIUSROI supported by DBIA #3537
"RTN","SRONIN",9,0)
 ; Reference to EXTRACT^TIULQ supported by DBIA #2693
"RTN","SRONIN",10,0)
 ;
"RTN","SRONIN",11,0)
 I '$D(SRSITE) D ^SROVAR G:'$D(SRSITE) END S SRSITE("KILL")=1
"RTN","SRONIN",12,0)
 I '$D(SRTN) K SRNEWOP D ^SROPS G:'$D(SRTN) END S SRTN("KILL")=1
"RTN","SRONIN",13,0)
 N SRAGE,SRDIV,SRDIVNM,SRDO,SRFUNCT,SRHDR,SRINUSE,SRLEAVE,SRLOC,SRPARAM,SRPRINT,SRSEL,SRSINED,SRDTITL,SRTIU,SRAT,SRXX
"RTN","SRONIN",14,0)
 S SRDTITL="Nurse Intraoperative Report"
"RTN","SRONIN",15,0)
 S (SRFUNCT,SRLEAVE,SRSINED)=0,SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",16,0)
 I SRTIU,$$STATUS^SROESUTL(SRTIU)=7 S SRSINED=1
"RTN","SRONIN",17,0)
 D:SRSINED FUNCT D:'SRSINED EN
"RTN","SRONIN",18,0)
ENF I 'SRLEAVE,SRFUNCT S SRSEL="" D FUNCT
"RTN","SRONIN",19,0)
 D END
"RTN","SRONIN",20,0)
 Q
"RTN","SRONIN",21,0)
DISPLY I SRSINED S SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2) I SRTIU D PRNT^SROESPR(SRTN,SRTIU,SRDTITL) S SRLEAVE=1 Q
"RTN","SRONIN",22,0)
 K %ZIS,IO("Q") S %ZIS="Q" D ^%ZIS I POP S SRLEAVE=1 Q
"RTN","SRONIN",23,0)
 I $D(IO("Q")) K IO("Q") N ZTRTN,ZTDESC,ZTSAVE,ZTQUEUED S ZTRTN="PRNT^SRONIN",ZTDESC=SRDTITL,(ZTSAVE("SRTN"),ZTSAVE("SRSITE*"))="" D ^%ZTLOAD,^%ZISC Q
"RTN","SRONIN",24,0)
EN D RPT^SRONRPT(SRTN) S DFN=$P(^SRF(SRTN,0),"^"),VAINDT=$P(^SRF(SRTN,0),"^",9)
"RTN","SRONIN",25,0)
 S Y=$E(VAINDT,1,7) D D^DIQ S SRSDATE=Y D OERR^VADPT
"RTN","SRONIN",26,0)
 S SRHDR=" "_VADM(1)_" ("_VA("PID")_")   Case #"_SRTN_" - "_SRSDATE
"RTN","SRONIN",27,0)
 S Y=$E($$NOW^XLFDT,1,12) D DD^%DT S SRPRINT="Printed: "_Y
"RTN","SRONIN",28,0)
 S SRLOC=" Pt Loc: "_$P(VAIN(4),"^",2)_"  "_VAIN(5)
"RTN","SRONIN",29,0)
 S SRAGE="",Z=$P(VADM(3),"^") I Z S X=$E($P(^SRF(SRTN,0),"^",9),1,12),Y=$E(X,1,7),SRAGE=$E(Y,1,3)-$E(Z,1,3)-($E(Y,4,7)<$E(Z,4,7))
"RTN","SRONIN",30,0)
 S SRDIV=$$SITE^SROUTL0(SRTN),SRDIVNM="" I SRDIV S X=$P(^SRO(133,SRDIV,0),"^"),SRDIVNM=$$EXTERNAL^DILFD(133,.01,"",X)
"RTN","SRONIN",31,0)
 S SRDIVNM=$S(SRDIVNM'="":SRDIVNM,1:SRSITE("SITE"))
"RTN","SRONIN",32,0)
 U IO S (SRPAGE,SRSOUT)=0,$P(SRLINE,"-",80)="" D HDR
"RTN","SRONIN",33,0)
 S SRI=0 F  S SRI=$O(^TMP("SRNIR",$J,SRTN,SRI)) Q:'SRI  D  Q:SRSOUT
"RTN","SRONIN",34,0)
 .I $E(IOST)="P",$Y+11>IOSL D FOOT Q:SRSOUT  D HDR
"RTN","SRONIN",35,0)
 .I $E(IOST)'="P",$Y+4>IOSL D FOOT Q:SRSOUT  D HDR
"RTN","SRONIN",36,0)
 .W !,^TMP("SRNIR",$J,SRTN,SRI)
"RTN","SRONIN",37,0)
 I SRSOUT D ^%ZISC Q 
"RTN","SRONIN",38,0)
 D FOOT D  D ^%ZISC
"RTN","SRONIN",39,0)
 .I $D(SRALRT) S SRFUNCT=1 Q
"RTN","SRONIN",40,0)
 .I '$G(SRFUNCT) S SRLEAVE=1
"RTN","SRONIN",41,0)
 Q
"RTN","SRONIN",42,0)
SRHDR S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT
"RTN","SRONIN",43,0)
 S Y=$E($P(^SRF(SRTN,0),"^",9),1,7) D D^DIQ S SRSDATE=Y
"RTN","SRONIN",44,0)
 S SRHDR=" "_VADM(1)_" ("_VA("PID")_")   Case #"_SRTN_" - "_SRSDATE
"RTN","SRONIN",45,0)
 Q
"RTN","SRONIN",46,0)
PRNT N SRDIV,SRFUNCT,SRLEAVE D EN
"RTN","SRONIN",47,0)
END K ^TMP("SRNIR",$J)
"RTN","SRONIN",48,0)
 W @IOF I $D(ZTQUEUED) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SRONIN",49,0)
 D ^SRSKILL K VAIN,VAINDT I $D(SRSITE("KILL")) K SRSITE
"RTN","SRONIN",50,0)
 I $D(SRTN("KILL")) K SRTN
"RTN","SRONIN",51,0)
 Q
"RTN","SRONIN",52,0)
PAGE I $D(SRNOEDIT) D LAST Q
"RTN","SRONIN",53,0)
 S (SRFUNCT,SRSOUT)=0
"RTN","SRONIN",54,0)
 W ! K DIR S DIR(0)="FOA",DIR("A",1)=" Press <return> to continue, 'A' to access Nurse Intraoperative Report",DIR("A")=" functions, or '^' to exit: " D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S (SRLEAVE,SRSOUT)=1 Q
"RTN","SRONIN",55,0)
 I X="A"!(X="a") S (SRFUNCT,SRSOUT)=1
"RTN","SRONIN",56,0)
 Q
"RTN","SRONIN",57,0)
LAST W ! K DIR S DIR(0)="E" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SRONIN",58,0)
 Q
"RTN","SRONIN",59,0)
FOOT ; print footer
"RTN","SRONIN",60,0)
 Q:SRSOUT  I $E(IOST)'="P" D PAGE Q
"RTN","SRONIN",61,0)
 I IOSL-9>$Y F X=$Y:1:(IOSL-10) W !
"RTN","SRONIN",62,0)
 W !,SRLINE,!,VADM(1),?50,SRPRINT,!,VA("PID")_"  Age: "_SRAGE,?50,SRLOC,!,SRDIVNM,?59,"Vice SF 509",!,SRLINE
"RTN","SRONIN",63,0)
 Q
"RTN","SRONIN",64,0)
HDR ; heading
"RTN","SRONIN",65,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SRONIN",66,0)
 S SRPAGE=SRPAGE+1 I $Y'=0 W @IOF
"RTN","SRONIN",67,0)
 I $E(IOST)'="P",SRPAGE=1 S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S SRXX=VADM(1)_" ("_VA("PID")_")" W !,?(80-$L(SRXX)\2),SRXX
"RTN","SRONIN",68,0)
 W:$E(IOST)="P" !!!!,SRLINE W !,?3,"MEDICAL RECORD       NURSE INTRAOPERATIVE REPORT - CASE #"_SRTN,?(79-$L("PAGE "_SRPAGE)),"PAGE "_SRPAGE,!
"RTN","SRONIN",69,0)
 W:$E(IOST)="P" SRLINE,!
"RTN","SRONIN",70,0)
 Q
"RTN","SRONIN",71,0)
FUNCT ; nurse intraop report functions
"RTN","SRONIN",72,0)
 K SRALRT
"RTN","SRONIN",73,0)
 D:'$D(SRHDR) SRHDR S SRSOUT=0,SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",74,0)
 I 'SRSINED,SRTIU,$$STATUS^SROESUTL(SRTIU)=7 S SRSINED=1
"RTN","SRONIN",75,0)
 W @IOF,!,SRHDR I SRSINED W !!," * * The Nurse Intraoperative Report has been electronically signed. * *"
"RTN","SRONIN",76,0)
 W !!," Nurse Intraoperative Report Functions:",!
"RTN","SRONIN",77,0)
 S DIR("A",1)="  1. Edit report information",DIR("A",2)="  2. Print/View report from beginning"
"RTN","SRONIN",78,0)
 S DIR("A",3)=$S('SRTIU:"",'SRSINED:"  3. Sign the report electronically",1:"") I SRTIU,'SRSINED S DIR("A",4)=""
"RTN","SRONIN",79,0)
 S DIR("A")="Select number: ",DIR("B")=2,DIR(0)="SAM^1:Edit report information;2:Print/View report from beginning"_$S(('SRSINED&SRTIU):";3:Sign the report electronically",1:"")
"RTN","SRONIN",80,0)
 D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S (SRLEAVE,SRSOUT)=1 D END Q
"RTN","SRONIN",81,0)
 S SRSEL=Y,SRDO=$S(SRSEL=1:"EDIT",SRSEL=3:"SIGN",1:"DISPLY")
"RTN","SRONIN",82,0)
 D @SRDO D UNLOCK^SROUTL(SRTN)
"RTN","SRONIN",83,0)
 S SRSOUT=0,SRFUNCT=1 D ENF
"RTN","SRONIN",84,0)
 Q
"RTN","SRONIN",85,0)
EDIT ; edit report data fields
"RTN","SRONIN",86,0)
 D CHECK^SROES I SRSOUT Q
"RTN","SRONIN",87,0)
 N SROLOCK,SRX,SRZ D ^SROLOCK I SROLOCK S Q3("VIEW")=""
"RTN","SRONIN",88,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK Q
"RTN","SRONIN",89,0)
 K ^TMP("SR182",$J) ; set by 'AO' x-ref
"RTN","SRONIN",90,0)
 K DA,DR,DIE S SRDTIME=DTIME,DTIME=3600,DIE=130,DA=SRTN,DR="[SRONRPT]",ST="NURSE INTRAOP"_$S(SROLOCK:" **LOCKED",1:"") D EN2^SROVAR,^SRCUSS S DTIME=SRDTIME K Q3("VIEW")
"RTN","SRONIN",91,0)
 D WSXR^SRTOVRF(SRTN)
"RTN","SRONIN",92,0)
 I '$P(^SRF(SRTN,0),"^",20) D ^SROPCE1
"RTN","SRONIN",93,0)
 I $D(SRODR) D ^SROCON1
"RTN","SRONIN",94,0)
 S SROERR=SRTN D ^SROERR0
"RTN","SRONIN",95,0)
 D EXIT^SROES
"RTN","SRONIN",96,0)
 Q
"RTN","SRONIN",97,0)
SIGN ; sign report if appropriate user
"RTN","SRONIN",98,0)
 N SRLCK,SRESIG S SRESIG=1,SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK Q
"RTN","SRONIN",99,0)
 N SRMISS,SRNUR,SROK,SRA,SRII,SRJ,Y S SRII=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",100,0)
 S (SROK,SRNUR,SRJ)=0 F  S SRNUR=$O(^SRF(SRTN,19,SRNUR)) Q:'SRNUR  S SRJ=1 I $P(^SRF(SRTN,19,SRNUR,0),"^")=DUZ S SROK=1 Q
"RTN","SRONIN",101,0)
 I $D(^XUSEC("SROCHIEF",DUZ)) S SROK=1
"RTN","SRONIN",102,0)
 I 'SROK,'SRJ,SRII D EXTRACT^TIULQ(SRII,"SRA",.SRERR,"1302") I +$G(SRA(SRII,1302,"I"))=DUZ S SROK=1
"RTN","SRONIN",103,0)
 I 'SROK W !!,"Sorry, you are not authorized to sign this report." H 2 Q
"RTN","SRONIN",104,0)
 S SRMISS=0 D ALLIN Q:SRSOUT!SRMISS
"RTN","SRONIN",105,0)
ES D RPT^SRONRPT(SRTN) N SRAY,SRERR,SRI,SRP,SRSIG,SRTIU,X1
"RTN","SRONIN",106,0)
 S SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",107,0)
 D SIG^XUSESIG I X1="" W !!,"Signature failed." H 2 Q
"RTN","SRONIN",108,0)
 F I=1:1 Q:'$D(^TMP("SRNIR",$J,SRTN,I))  S SRAY("TEXT",I,0)=^TMP("SRNIR",$J,SRTN,I)
"RTN","SRONIN",109,0)
 S SRAY(.05)=5 D UPDATE^TIUSRVP(.SRERR,SRTIU,.SRAY,1) K SRAY
"RTN","SRONIN",110,0)
 I +SRERR S SRSINED=1 D
"RTN","SRONIN",111,0)
 .D ES^TIUSROI(SRTIU,DUZ)
"RTN","SRONIN",112,0)
 .S XQAID="SRNIR-"_SRTN,XQAKILL=0 D DELETEA^XQALERT
"RTN","SRONIN",113,0)
 W ! K DIR S DIR(0)="FOA",DIR("A")="Press RETURN to continue... " D ^DIR K DIR
"RTN","SRONIN",114,0)
 Q
"RTN","SRONIN",115,0)
ALLIN N SRFLD,SRI,SRJJ,SRJK,SRM,SRMISS1,SRMISS2,SRMISS3,SRMISS85,SRMIS508,SRMIS630,SRMIS633,SRMIS636,SRMISSAT,SRO,SROO,SRP,SRPF,SRX,SRY,SRZ,SRABORT
"RTN","SRONIN",116,0)
 K DA,DIC,DIQ,DR S (SREDIT,SRMISS,SRMISS1,SRMISS2,SRMISS3,SRMISS85,SRMIS508,SRMISSAT,SRSOUT,SRMIS633,SRMIS636,SRMIS630)=0
"RTN","SRONIN",117,0)
 S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I",DR=".205;.232;44;45;46;47;48;606;605;600;601;602;603;604;607;608;609;610;611;506;.69;1.13;630;633;636;74" D EN^DIQ1
"RTN","SRONIN",118,0)
 F SRJJ=85,49 I '$O(^SRF(SRTN,SRJJ,0)) S SRJK=$S(SRJJ=49:508,1:SRJJ),SRY(130,SRTN,SRJK,"I")=""
"RTN","SRONIN",119,0)
 I $O(^SRF(SRTN,1,0)) S SRO=0 F  S SRO=$O(^SRF(SRTN,1,SRO)) Q:'SRO  S SROO=$G(^SRF(SRTN,1,SRO,2)),SROO1=$G(^SRF(SRTN,1,SRO,1)) D
"RTN","SRONIN",120,0)
 .F SRM=1,2,3 S:$P(SROO,"^",SRM)']"" SRY(130.47,SRTN,SRO_";"_(SRM+7),"I")=""
"RTN","SRONIN",121,0)
 .F SRM=3,4,5 S:$P(SROO1,"^",SRM)']"" SRY(130.47,SRTN,SRO_";"_(SRM+8),"I")=""
"RTN","SRONIN",122,0)
 I '$O(^SRF(SRTN,1,0)) S SRY(130.47,SRTN)=""
"RTN","SRONIN",123,0)
 I '$O(^SRF(SRTN,6,0)) S SRY(130.06,SRTN)=""
"RTN","SRONIN",124,0)
 K DA,DIC,DIQ,DR D LIST
"RTN","SRONIN",125,0)
 I $G(SRX(.205))'=""!($G(SRX(.232))'="")!($G(SRX(606))'="")!($G(SRX(605))'="")!($G(SRX(506))'="")!($G(SRX(1.13))'="") S SRMISS1=1
"RTN","SRONIN",126,0)
 F SRJJ=600:1:604,607:1:611,1.13 I $G(SRX(SRJJ))'="" S SRMISS1=1
"RTN","SRONIN",127,0)
 S SRABORT=$$ABORT^SRTOVRF(SRTN) F SRJJ=.69,74 I 'SRABORT,$G(SRX(SRJJ))'="" S SRMISS1=1
"RTN","SRONIN",128,0)
 F SRJJ=600:1:611 I (SRY(130,SRTN,SRJJ,"I")="N")!(SRY(130,SRTN,SRJJ,"I")=""),('$O(^SRF(SRTN,51,0))) S SRMISS85=1
"RTN","SRONIN",129,0)
 I SRY(130,SRTN,506,"I")="S"!(SRY(130,SRTN,506,"I")="O"),('$O(^SRF(SRTN,49,0))) S SRMIS508=1
"RTN","SRONIN",130,0)
 I (SRY(130,SRTN,44,"I")="N"!(SRY(130,SRTN,45,"I")="N")!(SRY(130,SRTN,46,"I")="N"))&(SRY(130,SRTN,633,"I")="") S SRMIS633=1
"RTN","SRONIN",131,0)
 I (SRY(130,SRTN,44,"I")="N"!(SRY(130,SRTN,45,"I")="N")!(SRY(130,SRTN,46,"I")="N"))&(SRY(130,SRTN,636,"I")="") S SRMIS636=1
"RTN","SRONIN",132,0)
 I $G(SRX(48))="" F SRZ=44,45,46,47 I $G(SRX(SRZ))'="" S SRMISS2=1 Q
"RTN","SRONIN",133,0)
 I $G(SRX(630))'="" S SRMIS630=1
"RTN","SRONIN",134,0)
 I $O(^SRF(SRTN,1,0)) I $O(SRX(130.47,0)) S SRMISS3=1
"RTN","SRONIN",135,0)
 I $D(SRY(130.06,SRTN)) S SRMISSAT=1
"RTN","SRONIN",136,0)
 I SRMISS1!SRMISS2!$G(SRMISS85)!$G(SRMIS508)!(SRMISS3)!(SRMISSAT)!(SRMIS630)!(SRMIS633)!(SRMIS636) S SRMISS=1 D MESS Q:SRSOUT  I SREDIT D EDIT Q
"RTN","SRONIN",137,0)
 Q
"RTN","SRONIN",138,0)
MESS ; display list of missing items
"RTN","SRONIN",139,0)
 W @IOF,!,"The following information is required before this report may be signed:",!
"RTN","SRONIN",140,0)
 I SRMISS1 F SRZ=.205,.232,606,605,600,601,602,603,604,607,608,609,610,611,506,1.13 I $G(SRX(SRZ))'="" W !,?5,SRX(SRZ)
"RTN","SRONIN",141,0)
 I SRMISS1 F SRZ=.69,74 I 'SRABORT,$G(SRX(SRZ))'="" W !,?5,SRX(SRZ)
"RTN","SRONIN",142,0)
 I SRMISS2 F SRZ=44:1:47 I $G(SRX(SRZ))'="" W !,?5,SRX(SRZ)
"RTN","SRONIN",143,0)
 S SRJJ=85 I $G(@("SRMISS"_SRJJ)),$G(SRX(SRJJ))'="" W !,?5,SRX(SRJJ)
"RTN","SRONIN",144,0)
 F SRZ=508,630,633,636 I $G(@("SRMIS"_SRZ)),$G(SRX(SRZ))'="" W !,?5,SRX(SRZ)
"RTN","SRONIN",145,0)
 I SRMISS3,$O(^SRF(SRTN,1,0)) I $O(SRX(130.47,0)) S SRJ=0 F  S SRJ=$O(SRX(130.47,SRJ)) Q:'SRJ  S SRJJ=$P($G(^SRF(SRTN,1,SRJ,0)),"^") D
"RTN","SRONIN",146,0)
 .S SRPF=0 F  S SRPF=$O(SRX(130.47,SRJ,SRPF)) Q:'SRPF  S SRPF(SRPF)=""
"RTN","SRONIN",147,0)
 .I $O(SRPF(0)) W !!,?5,"PROSTHESIS INSTALLED item "_$P(^SRO(131.9,SRJJ,0),"^")_":"
"RTN","SRONIN",148,0)
 .F J=8:1:13 I $D(SRPF(J)) W !,?7,$S(J=8:"IMPLANT STERILITY CHECKED",J=9:"STERILITY EXPIRATION DATE",J=10:"RN VERIFIER",J=11:"LOT NUMBER",J=12:"SERIAL NUMBER",1:"PROVIDER READ BACK PERFORMED")
"RTN","SRONIN",149,0)
 .K SRPF
"RTN","SRONIN",150,0)
 I SRMISS3,'$O(^SRF(SRTN,1,0)) W !!,?5,"PROSTHESIS INSTALLED Multiple"
"RTN","SRONIN",151,0)
 I SRMISSAT W !!,?5,"ANESTHESIA TECHNIQUE Multiple"
"RTN","SRONIN",152,0)
 W ! K DIR S DIR("A")="Do you want to enter this information",DIR("B")="YES",DIR(0)="Y" D ^DIR K DIR,SRX I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SRONIN",153,0)
 I Y S SREDIT=1
"RTN","SRONIN",154,0)
 Q
"RTN","SRONIN",155,0)
CODE ; entry point from coding menu
"RTN","SRONIN",156,0)
 N SRAGE,SRDIV,SRDIVNM,SRDO,SRFUNCT,SRHDR,SRINUSE,SRLEAVE,SRLOC,SRNOEDIT,SRPARAM,SRPRINT,SRSEL,SRSINED,SRDTITL,SRTIU,SRSTAT,SRXX
"RTN","SRONIN",157,0)
 S SRNOEDIT=1,SRDTITL="Nurse Intraoperative Report"
"RTN","SRONIN",158,0)
 S (SRFUNCT,SRLEAVE,SRSINED)=0,SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",159,0)
 I SRTIU,$$STATUS^SROESUTL(SRTIU)=7 S SRSINED=1
"RTN","SRONIN",160,0)
 D DISPLY,END
"RTN","SRONIN",161,0)
 Q
"RTN","SRONIN",162,0)
LIST S SRZ=0 F  S SRZ=$O(SRY(130,SRTN,SRZ)) Q:'SRZ  I SRY(130,SRTN,SRZ,"I")="" D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRX(SRZ)=$P(SRFLD,"^",2)
"RTN","SRONIN",163,0)
 S SRZ=0,SROO="" F  S SROO=$O(SRY(130.47,SRTN,SROO)) Q:'SROO  I SRY(130.47,SRTN,SROO,"I")="" D
"RTN","SRONIN",164,0)
 .S SRX(130.47,$P(SROO,";"),$P(SROO,";",2))=""
"RTN","SRONIN",165,0)
 M SRX(130.06,SRTN,6)=SRY(130.06,SRTN)
"RTN","SRONIN",166,0)
 Q
"RTN","SRONIN",167,0)
TR S SRP=SRZ,SRP=$TR(SRP,"1234567890.","ABCDEFGHIJP")
"RTN","SRONIN",168,0)
 Q
"RTN","SRONIN",169,0)
PBJE ;;.205^TIME PAT IN OR
"RTN","SRONIN",170,0)
PBCB ;;.232^TIME PAT OUT OR
"RTN","SRONIN",171,0)
DD ;;44^SPONGE FINAL COUNT CORRECT
"RTN","SRONIN",172,0)
DE ;;45^SHARPS FINAL COUNT CORRECT
"RTN","SRONIN",173,0)
DF ;;46^INSTRUMENT FINAL COUNT CORRECT
"RTN","SRONIN",174,0)
DG ;;47^SPONGE, SHARPS, & INST COUNTER
"RTN","SRONIN",175,0)
DH ;;48^COUNT VERIFIER
"RTN","SRONIN",176,0)
FJJ ;;600^CORRECT PATIENT IDENTITY
"RTN","SRONIN",177,0)
FJA ;;601^PROCEDURE TO BE PERFORMED
"RTN","SRONIN",178,0)
FJB ;;602^SITE OF PROCEDURE
"RTN","SRONIN",179,0)
FJC ;;603^CONFIRM VALID CONSENT
"RTN","SRONIN",180,0)
FJD ;;604^CONFIRM PATIENT POSITION
"RTN","SRONIN",181,0)
FJE ;;605^MARKED SITE CONFIRMED
"RTN","SRONIN",182,0)
FJF ;;606^PREOPERATIVE IMAGING CONFIRMED
"RTN","SRONIN",183,0)
FJG ;;607^CORRECT MEDICAL IMPLANTS
"RTN","SRONIN",184,0)
FJH ;;608^ANTIBIOTIC PROPHYLAXIS
"RTN","SRONIN",185,0)
FJI ;;609^APPROPRIATE DVT PROPHYLAXIS
"RTN","SRONIN",186,0)
FAJ ;;610^BLOOD AVAILABILITY
"RTN","SRONIN",187,0)
FAA ;;611^AVAILABILITY OF SPECIAL EQUIP
"RTN","SRONIN",188,0)
HE ;;85^CHECKLIST COMMENT
"RTN","SRONIN",189,0)
PFI ;;.69^TIME-OUT DOCUMENT COMPLETED BY
"RTN","SRONIN",190,0)
GD ;;74^TIME-OUT COMPLETED
"RTN","SRONIN",191,0)
EJF ;;506^HAIR REMOVAL METHOD
"RTN","SRONIN",192,0)
EJH ;;508^HAIR REMOVAL COMMENTS
"RTN","SRONIN",193,0)
APAC ;;1.13^ASA CLASS
"RTN","SRONIN",194,0)
FCJ ;;630^POSSIBLE ITEM RETENTION
"RTN","SRONIN",195,0)
FCC ;;633^WOUND SWEEP
"RTN","SRONIN",196,0)
FCF ;;636^INTRAOPERATIVE X-RAY
"RTN","SRONOR2")
0^91^B18165133^B17794451
"RTN","SRONOR2",1,0)
SRONOR2 ;B'HAM ISC/MAM - REPORT OF NON-O.R. PROCEDURES ; [ 07/27/98   2:33 PM ]
"RTN","SRONOR2",2,0)
 ;;3.0;Surgery;**50,175,182**;24 Jun 93;Build 49
"RTN","SRONOR2",3,0)
 ;
"RTN","SRONOR2",4,0)
 ; Reference to ^ECC(723 supported by DBIA #205
"RTN","SRONOR2",5,0)
 ;
"RTN","SRONOR2",6,0)
 S SRSOUT=0 K ^TMP("SR",$J) F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)  S SROP=0 F  S SROP=$O(^SRF("AC",SRSD,SROP)) Q:'SROP  I $P($G(^SRF(SROP,"NON")),"^")="Y",$D(^SRF(SROP,0)),$$DIV^SROUTL0(SROP) D UTIL
"RTN","SRONOR2",7,0)
 S (SRHDR,SRSS)=0 F  S SRSS=$O(^TMP("SR",$J,SRSS)) Q:SRSS=""!(SRSOUT)  D HDR S SRSD=0 F  S SRSD=$O(^TMP("SR",$J,SRSS,SRSD)) Q:'SRSD!(SRSOUT)  D SROP
"RTN","SRONOR2",8,0)
 I '$D(^TMP("SR",$J)) D HDR W !!,"No procedures for the selected date range.",!
"RTN","SRONOR2",9,0)
 Q
"RTN","SRONOR2",10,0)
SROP N SRANEST,SRANESUP
"RTN","SRONOR2",11,0)
 S SROP=0 F  S SROP=$O(^TMP("SR",$J,SRSS,SRSD,SROP)) Q:'SROP!(SRSOUT)  D SET
"RTN","SRONOR2",12,0)
 Q
"RTN","SRONOR2",13,0)
SET ; set and print info
"RTN","SRONOR2",14,0)
 I $Y+5>IOSL D HDR I SRSOUT Q
"RTN","SRONOR2",15,0)
 S SR=^SRF(SROP,0),DFN=$P(SR,"^") D DEM^VADPT S SRNM=VADM(1),SRSSN=VA("PID")
"RTN","SRONOR2",16,0)
 S X=$P(SR,"^",12),SRINOUT=$S(X="I":"INPATIENT",X="O":"OUTPATIENT",X=1:"OUTPATIENT",X=2:"INPATIENT",X=3:"INPATIENT",1:"???")
"RTN","SRONOR2",17,0)
 S Y=SRSD D DD^%DT S SRSDATE=$E(SRSD,4,5)_"/"_$E(SRSD,6,7)_"/"_$E(SRSD,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR2",18,0)
 S SRSUR=$P($G(^SRF(SROP,"NON")),"^",6) I SRSUR S SRSUR=$P(^VA(200,SRSUR,0),"^") S:$L(SRSUR)>30 SRSUR=$P(SRSUR,",")_", "_$E($P(SRSUR,",",2))_"."
"RTN","SRONOR2",19,0)
 S SRANEST=$P($G(^SRF(SROP,.3)),"^") I SRANEST S SRANEST=$P(^VA(200,SRANEST,0),"^") S:$L(SRANEST)>30 SRANEST=$P(SRANEST,",")_", "_$E($P(SRANEST,",",2))_"."
"RTN","SRONOR2",20,0)
 S SRANESUP=$P($G(^SRF(SROP,.3)),"^",4) I SRANESUP S SRANESUP=$P(^VA(200,SRANESUP,0),"^") S:$L(SRANESUP)>30 SRANESUP=$P(SRANESUP,",")_", "_$E($P(SRANESUP,",",2))_"."
"RTN","SRONOR2",21,0)
 S Y=$P(^SRF(SROP,"NON"),"^",2),SRLOC=$S(Y:$P(^SC(Y,0),"^"),1:"LOCATION NOT ENTERED")
"RTN","SRONOR2",22,0)
 S SRST=$P($G(^SRF(SROP,"NON")),"^",4) I SRST S Y=SRST D DD^%DT S SRST=$E(SRST,4,5)_"/"_$E(SRST,6,7)_"/"_$E(SRST,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR2",23,0)
 S SRET=$P($G(^SRF(SROP,"NON")),"^",5) I SRET S Y=SRET D DD^%DT S SRET=$E(SRET,4,5)_"/"_$E(SRET,6,7)_"/"_$E(SRET,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR2",24,0)
 S SROPER=$P(^SRF(SROP,"OP"),"^"),OPER=0 F  S OPER=$O(^SRF(SROP,13,OPER)) Q:'OPER  D OTHER
"RTN","SRONOR2",25,0)
 K SROPS,MM,MMM S:$L(SROPER)<50 SROPS(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SRONOR2",26,0)
 S SRABORT=$S($P($G(^SRF(SROP,30)),"^"):"*ABORTED*",1:"")
"RTN","SRONOR2",27,0)
 W !!,SRSDATE,?15,SRNM_" ("_VA("PID")_")",?64,SRSUR,?116,SRST,!,SROP,?15,SRLOC_" ("_SRINOUT_")",?64,SRANEST,?116,SRET
"RTN","SRONOR2",28,0)
 W !,?62,SRANESUP,!,?62,SROPS(1)
"RTN","SRONOR2",29,0)
 W:SRABORT'="" !,SRABORT I $D(SROPS(2)) W:SRABORT="" ! W ?62,SROPS(2) I $D(SROPS(3)) W !,?62,SROPS(3) I $D(SROPS(4)) W !,?62,SROPS(4)
"RTN","SRONOR2",30,0)
 Q
"RTN","SRONOR2",31,0)
UTIL ; set ^TMP
"RTN","SRONOR2",32,0)
 S Y=$P(^SRF(SROP,"NON"),"^",8) S SRSS=$S(Y:$P(^ECC(723,Y,0),"^"),1:"SPECIALTY NOT ENTERED")
"RTN","SRONOR2",33,0)
 S ^TMP("SR",$J,SRSS,SRSD,SROP)=""
"RTN","SRONOR2",34,0)
 Q
"RTN","SRONOR2",35,0)
HDR I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SRONOR2",36,0)
 I SRHDR,$E(IOST)'="P" W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SRONOR2",37,0)
 W:$Y @IOF W !,?(132-$L(SRINST)\2),SRINST,!,?57,"SURGICAL SERVICE",?100,"REVIEWED BY:",!,?51,"REPORT OF NON-O.R. PROCEDURES",?100,"DATE REVIEWED:",!,?(132-$L(SRFRTO)\2),SRFRTO
"RTN","SRONOR2",38,0)
 W !!,"DATE",?15,"PATIENT (ID#)",?64,"PROVIDER",?116,"START TIME",!,"CASE #",?15,"LOCATION (IN/OUT-PAT STATUS)",?64,"PRINCIPAL ANESTHETIST",?116,"FINISH TIME"
"RTN","SRONOR2",39,0)
 W !,?62,"ANESTHESIOLOGIST SUPERVISOR",!,?62,"PROCEDURE(S)",! F LINE=1:1:132 W "="
"RTN","SRONOR2",40,0)
 W:SRSS'="" !,?(124-$L("SPECIALTY: "_SRSS)\2),"*** SPECIALTY: "_SRSS_" ***" S SRHDR=1
"RTN","SRONOR2",41,0)
 Q
"RTN","SRONOR2",42,0)
OTHER ; other operations
"RTN","SRONOR2",43,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SROP,13,OPER,0),"^"))>240 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SRONOR2",44,0)
 I SRLONG S SROPERS=$P(^SRF(SROP,13,OPER,0),"^")
"RTN","SRONOR2",45,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SRONOR2",46,0)
 Q
"RTN","SRONOR2",47,0)
LOOP ; break procedure if greater than 50 characters
"RTN","SRONOR2",48,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<50  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SRONOR2",49,0)
 Q
"RTN","SRONOR3")
0^92^B17640494^B17276324
"RTN","SRONOR3",1,0)
SRONOR3 ;B'HAM ISC/MAM - REPORT OF NON-O.R. PROCEDURES (1 SPECIALTY) ; [ 07/27/98   2:33 PM ]
"RTN","SRONOR3",2,0)
 ;;3.0;Surgery;**50,175,182**;24 Jun 93;Build 49
"RTN","SRONOR3",3,0)
 ;
"RTN","SRONOR3",4,0)
 ; Reference to ^ECC(723 supported by DBIA #205
"RTN","SRONOR3",5,0)
 ;
"RTN","SRONOR3",6,0)
 K ^TMP("SR",$J) F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)  S SROP=0 F  S SROP=$O(^SRF("AC",SRSD,SROP)) Q:'SROP  I $P($G(^SRF(SROP,"NON")),"^")="Y",$D(^SRF(SROP,0)),$$DIV^SROUTL0(SROP) D UTIL
"RTN","SRONOR3",7,0)
 S (SRHDR,SRSOUT)=0 D HDR Q:SRSOUT  I '$D(^TMP("SR",$J)) W !!!,?35,"There were no procedures entered for the date range selected."
"RTN","SRONOR3",8,0)
 S SRSD=0 F  S SRSD=$O(^TMP("SR",$J,SRSD)) Q:'SRSD!(SRSOUT)  S SROP=0 F  S SROP=$O(^TMP("SR",$J,SRSD,SROP)) Q:'SROP!(SRSOUT)  D SET
"RTN","SRONOR3",9,0)
 Q
"RTN","SRONOR3",10,0)
SET ; set and print info
"RTN","SRONOR3",11,0)
 N SRANEST,SRANESUP
"RTN","SRONOR3",12,0)
 I $Y+5>IOSL D HDR I SRSOUT Q
"RTN","SRONOR3",13,0)
 S SR=^SRF(SROP,0),DFN=$P(SR,"^") D DEM^VADPT S SRNM=VADM(1),SRSSN=VA("PID")
"RTN","SRONOR3",14,0)
 S X=$P(SR,"^",12),SRINOUT=$S(X="I":"INPATIENT",X="O":"OUTPATIENT",X=1:"OUTPATIENT",X=2:"INPATIENT",X=3:"INPATIENT",1:"???")
"RTN","SRONOR3",15,0)
 S Y=SRSD D DD^%DT S SRSDATE=$E(SRSD,4,5)_"/"_$E(SRSD,6,7)_"/"_$E(SRSD,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR3",16,0)
 S SRSUR=$P(^SRF(SROP,"NON"),"^",6) I SRSUR S SRSUR=$P(^VA(200,SRSUR,0),"^") S:$L(SRSUR)>30 SRSUR=$P(SRSUR,",")_", "_$E($P(SRSUR,",",2))_"."
"RTN","SRONOR3",17,0)
 S SRANEST=$P($G(^SRF(SROP,.3)),"^") I SRANEST S SRANEST=$P(^VA(200,SRANEST,0),"^") S:$L(SRANEST)>30 SRANEST=$P(SRANEST,",")_", "_$E($P(SRANEST,",",2))_"."
"RTN","SRONOR3",18,0)
 S SRANESUP=$P($G(^SRF(SROP,.3)),"^",4) I SRANESUP S SRANESUP=$P(^VA(200,SRANESUP,0),"^") S:$L(SRANESUP)>30 SRANESUP=$P(SRANESUP,",")_", "_$E($P(SRANESUP,",",2))_"."
"RTN","SRONOR3",19,0)
 S Y=$P(^SRF(SROP,"NON"),"^",2),SRLOC=$S(Y:$P(^SC(Y,0),"^"),1:"LOCATION NOT ENTERED")
"RTN","SRONOR3",20,0)
 S SRST=$P($G(^SRF(SROP,"NON")),"^",4) I SRST S Y=SRST D DD^%DT S SRST=$E(SRST,4,5)_"/"_$E(SRST,6,7)_"/"_$E(SRST,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR3",21,0)
 S SRET=$P($G(^SRF(SROP,"NON")),"^",5) I SRET S Y=SRET D DD^%DT S SRET=$E(SRET,4,5)_"/"_$E(SRET,6,7)_"/"_$E(SRET,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR3",22,0)
 S SROPER=$P(^SRF(SROP,"OP"),"^"),OPER=0 F  S OPER=$O(^SRF(SROP,13,OPER)) Q:'OPER  D OTHER
"RTN","SRONOR3",23,0)
 K SROPS,MM,MMM S:$L(SROPER)<50 SROPS(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SRONOR3",24,0)
 S SRABORT=$S($P($G(^SRF(SROP,30)),"^"):"*ABORTED*",1:"")
"RTN","SRONOR3",25,0)
 W !!,SRSDATE,?15,SRNM_" ("_VA("PID")_")",?64,SRSUR,?116,SRST,!,SROP,?15,SRLOC_" ("_SRINOUT_")",?64,SRANEST,?116,SRET
"RTN","SRONOR3",26,0)
 W !,?62,SRANESUP,!,?62,SROPS(1) I $D(SROPS(2)) W !,?62,SROPS(2)
"RTN","SRONOR3",27,0)
 W:SRABORT'="" !,SRABORT I $D(SROPS(3)) W:SRABORT="" ! W ?62,SROPS(3) I $D(SROPS(4)) W !,?62,SROPS(4)
"RTN","SRONOR3",28,0)
 Q
"RTN","SRONOR3",29,0)
UTIL ; set ^TMP
"RTN","SRONOR3",30,0)
 S Y=$P(^SRF(SROP,"NON"),"^",8) S SRSS=$S(Y:$P(^ECC(723,Y,0),"^"),1:"SPECIALTY NOT ENTERED")
"RTN","SRONOR3",31,0)
 I SRSS'=SRSPECN Q
"RTN","SRONOR3",32,0)
 S ^TMP("SR",$J,SRSD,SROP)=""
"RTN","SRONOR3",33,0)
 Q
"RTN","SRONOR3",34,0)
HDR I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SRONOR3",35,0)
 I SRHDR,$E(IOST)'="P" W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SRONOR3",36,0)
 W:$Y @IOF W !,?(132-$L(SRINST)\2),SRINST,!,?57,"SURGICAL SERVICE",?100,"REVIEWED BY:",!,?51,"REPORT OF NON-O.R. PROCEDURES",?100,"DATE REVIEWED:",!,?(132-$L(SRFRTO)\2),SRFRTO
"RTN","SRONOR3",37,0)
 W !!,"DATE",?15,"PATIENT (ID#)",?64,"PROVIDER",?116,"START TIME",!,"CASE #",?15,"LOCATION (IN/OUT-PAT STATUS)",?64,"PRINCIPAL ANESTHETIST",?116,"FINISH TIME"
"RTN","SRONOR3",38,0)
 W !,?62,"ANESTHESIOLOGIST SUPERVISOR",!,?62,"PROCEDURE(S)",! F LINE=1:1:132 W "="
"RTN","SRONOR3",39,0)
 W !,?(124-$L("SPECIALTY: "_SRSPECN)\2),"*** SPECIALTY: "_SRSPECN_" ***" S SRHDR=1
"RTN","SRONOR3",40,0)
 Q
"RTN","SRONOR3",41,0)
OTHER ; other operations
"RTN","SRONOR3",42,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SROP,13,OPER,0),"^"))>240 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SRONOR3",43,0)
 I SRLONG S SROPERS=$P(^SRF(SROP,13,OPER,0),"^")
"RTN","SRONOR3",44,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SRONOR3",45,0)
 Q
"RTN","SRONOR3",46,0)
LOOP ; break procedure if greater than 50 characters
"RTN","SRONOR3",47,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<50  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SRONOR3",48,0)
 Q
"RTN","SRONOR4")
0^93^B17758963^B17388281
"RTN","SRONOR4",1,0)
SRONOR4 ;B'HAM ISC/MAM - REPORT OF NON-O.R. PROCEDURES ; [ 07/27/98   2:33 PM ]
"RTN","SRONOR4",2,0)
 ;;3.0;Surgery;**50,175,182**;24 Jun 93;Build 49
"RTN","SRONOR4",3,0)
 ;
"RTN","SRONOR4",4,0)
 ; Reference to ^ECC(723 supported by DBIA #205
"RTN","SRONOR4",5,0)
 ;
"RTN","SRONOR4",6,0)
 K ^TMP("SR",$J) F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)  S SROP=0 F  S SROP=$O(^SRF("AC",SRSD,SROP)) Q:'SROP  I $P($G(^SRF(SROP,"NON")),"^")="Y",$D(^SRF(SROP,0)),$$DIV^SROUTL0(SROP) D UTIL
"RTN","SRONOR4",7,0)
 S (SRSOUT,SRHDR,SRSUR)=0 F  S SRSUR=$O(^TMP("SR",$J,SRSUR)) Q:SRSUR=""!(SRSOUT)  D HDR S SRSD=0 F  S SRSD=$O(^TMP("SR",$J,SRSUR,SRSD)) Q:'SRSD!(SRSOUT)  D SROP
"RTN","SRONOR4",8,0)
 I '$D(^TMP("SR",$J)) D HDR W !!,"No procedures for the selected date range.",!
"RTN","SRONOR4",9,0)
 Q
"RTN","SRONOR4",10,0)
SROP N SRANEST,SRANESUP
"RTN","SRONOR4",11,0)
 S SROP=0 F  S SROP=$O(^TMP("SR",$J,SRSUR,SRSD,SROP)) Q:'SROP!(SRSOUT)  D SET
"RTN","SRONOR4",12,0)
 Q
"RTN","SRONOR4",13,0)
SET ; set and print info
"RTN","SRONOR4",14,0)
 I $Y+5>IOSL D HDR Q:SRSOUT
"RTN","SRONOR4",15,0)
 S SR=^SRF(SROP,0),DFN=$P(SR,"^") D DEM^VADPT S SRNM=VADM(1),SRSSN=VA("PID")
"RTN","SRONOR4",16,0)
 S X=$P(SR,"^",12),SRINOUT=$S(X="I":"INPATIENT",X="O":"OUTPATIENT",X=1:"OUTPATIENT",X=2:"INPATIENT",X=3:"INPATIENT",1:"???")
"RTN","SRONOR4",17,0)
 S Y=SRSD D DD^%DT S SRSDATE=$E(SRSD,4,5)_"/"_$E(SRSD,6,7)_"/"_$E(SRSD,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR4",18,0)
 S SRANEST=$P($G(^SRF(SROP,.3)),"^") I SRANEST S SRANEST=$P(^VA(200,SRANEST,0),"^") S:$L(SRANEST)>30 SRANEST=$P(SRANEST,",")_", "_$E($P(SRANEST,",",2))_"."
"RTN","SRONOR4",19,0)
 S SRANESUP=$P($G(^SRF(SROP,.3)),"^",4) I SRANESUP S SRANESUP=$P(^VA(200,SRANESUP,0),"^") S:$L(SRANESUP)>30 SRANESUP=$P(SRANESUP,",")_", "_$E($P(SRANESUP,",",2))_"."
"RTN","SRONOR4",20,0)
 S Y=$P(^SRF(SROP,"NON"),"^",8),SRSS=$S(Y:$P(^ECC(723,Y,0),"^"),1:"SPECIALTY NOT ENTERED")
"RTN","SRONOR4",21,0)
 S Y=$P(^SRF(SROP,"NON"),"^",2),SRLOC=$S(Y:$P(^SC(Y,0),"^"),1:"LOCATION NOT ENTERED")
"RTN","SRONOR4",22,0)
 S SRST=$P($G(^SRF(SROP,"NON")),"^",4) I SRST S Y=SRST D DD^%DT S SRST=$E(SRST,4,5)_"/"_$E(SRST,6,7)_"/"_$E(SRST,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR4",23,0)
 S SRET=$P($G(^SRF(SROP,"NON")),"^",5) I SRET S Y=SRET D DD^%DT S SRET=$E(SRET,4,5)_"/"_$E(SRET,6,7)_"/"_$E(SRET,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR4",24,0)
 S SROPER=$P(^SRF(SROP,"OP"),"^"),OPER=0 F  S OPER=$O(^SRF(SROP,13,OPER)) Q:'OPER  D OTHER
"RTN","SRONOR4",25,0)
 K SROPS,MM,MMM S:$L(SROPER)<50 SROPS(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SRONOR4",26,0)
 S SRABORT=$S($P($G(^SRF(SROP,30)),"^"):"*ABORTED*",1:"")
"RTN","SRONOR4",27,0)
 W !!,SRSDATE,?15,SRNM_" ("_VA("PID")_")",?64,SRSS,?116,SRST,!,SROP,?15,SRLOC_" ("_SRINOUT_")",?64,SRANEST,?116,SRET
"RTN","SRONOR4",28,0)
 W !,?62,SRANESUP,!,?62,SROPS(1)
"RTN","SRONOR4",29,0)
 W:SRABORT'="" !,SRABORT I $D(SROPS(2)) W:SRABORT="" ! W ?62,SROPS(2) I $D(SROPS(3)) W !,?62,SROPS(3) I $D(SROPS(4)) W !,?62,SROPS(4)
"RTN","SRONOR4",30,0)
 Q
"RTN","SRONOR4",31,0)
UTIL ; set ^TMP
"RTN","SRONOR4",32,0)
 S Y=$P($G(^SRF(SROP,"NON")),"^",6) S SRSUR=$S(Y:$P(^VA(200,Y,0),"^"),1:"PROVIDER NOT ENTERED")
"RTN","SRONOR4",33,0)
 S ^TMP("SR",$J,SRSUR,SRSD,SROP)=""
"RTN","SRONOR4",34,0)
 Q
"RTN","SRONOR4",35,0)
HDR I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SRONOR4",36,0)
 I SRHDR,$E(IOST)'="P" W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SRONOR4",37,0)
 W:$Y @IOF W !,?(132-$L(SRINST)\2),SRINST,!,?57,"SURGICAL SERVICE",?100,"REVIEWED BY:",!,?51,"REPORT OF NON-O.R. PROCEDURES",?100,"DATE REVIEWED:",!,?(132-$L(SRFRTO)\2),SRFRTO
"RTN","SRONOR4",38,0)
 W !!,"DATE",?15,"PATIENT (ID#)",?64,"SPECIALTY",?116,"START TIME",!,"CASE #",?15,"LOCATION (IN/OUT-PAT STATUS)",?64,"PRINCIPAL ANESTHETIST",?116,"FINISH TIME"
"RTN","SRONOR4",39,0)
 W !,?62,"ANESTHESIOLOGIST SUPERVISOR",!,?62,"PROCEDURE(S)",! F LINE=1:1:132 W "="
"RTN","SRONOR4",40,0)
 W:SRSUR'="" !,?(124-$L("PROVIDER: "_SRSUR)\2),"*** PROVIDER: "_SRSUR_" ***" S SRHDR=1
"RTN","SRONOR4",41,0)
 Q
"RTN","SRONOR4",42,0)
OTHER ; other operations
"RTN","SRONOR4",43,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SROP,13,OPER,0),"^"))>240 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SRONOR4",44,0)
 I SRLONG S SROPERS=$P(^SRF(SROP,13,OPER,0),"^")
"RTN","SRONOR4",45,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SRONOR4",46,0)
 Q
"RTN","SRONOR4",47,0)
LOOP ; break procedure if greater than 50 characters
"RTN","SRONOR4",48,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<50  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SRONOR4",49,0)
 Q
"RTN","SRONOR5")
0^94^B17460768^B17096598
"RTN","SRONOR5",1,0)
SRONOR5 ;B'HAM ISC/MAM - REPORT OF NON-O.R. PROCEDURES (1 PROVIDER) ; [ 07/27/98   2:33 PM ]
"RTN","SRONOR5",2,0)
 ;;3.0;Surgery;**50,175,182**;24 Jun 93;Build 49
"RTN","SRONOR5",3,0)
 ;
"RTN","SRONOR5",4,0)
 ; Reference to ^ECC(723 supported by DBIA #205
"RTN","SRONOR5",5,0)
 ;
"RTN","SRONOR5",6,0)
 N SRANEST,SRANESUP
"RTN","SRONOR5",7,0)
 K ^TMP("SR",$J) F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)  S SROP=0 F  S SROP=$O(^SRF("AC",SRSD,SROP)) Q:'SROP  I $P($G(^SRF(SROP,"NON")),"^")="Y",$D(^SRF(SROP,0)),$$DIV^SROUTL0(SROP) D UTIL
"RTN","SRONOR5",8,0)
 S (SRHDR,SRSOUT)=0 D HDR Q:SRSOUT  I '$D(^TMP("SR",$J)) W !!!,?35,"There were no procedures entered for the date range selected."
"RTN","SRONOR5",9,0)
 S SRSD=0 F  S SRSD=$O(^TMP("SR",$J,SRSD)) Q:'SRSD!(SRSOUT)  S SROP=0 F  S SROP=$O(^TMP("SR",$J,SRSD,SROP)) Q:'SROP!(SRSOUT)  D SET
"RTN","SRONOR5",10,0)
 Q
"RTN","SRONOR5",11,0)
SET ; set and print info
"RTN","SRONOR5",12,0)
 I $Y+5>IOSL D HDR I SRSOUT Q
"RTN","SRONOR5",13,0)
 S SR=^SRF(SROP,0),DFN=$P(SR,"^") D DEM^VADPT S SRNM=VADM(1),SRSSN=VA("PID")
"RTN","SRONOR5",14,0)
 S X=$P(SR,"^",12),SRINOUT=$S(X="I":"INPATIENT",X="O":"OUTPATIENT",X=1:"OUTPATIENT",X=2:"INPATIENT",X=3:"INPATIENT",1:"???")
"RTN","SRONOR5",15,0)
 S Y=SRSD D DD^%DT S SRSDATE=$E(SRSD,4,5)_"/"_$E(SRSD,6,7)_"/"_$E(SRSD,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR5",16,0)
 S SRANEST=$P($G(^SRF(SROP,.3)),"^") I SRANEST S SRANEST=$P(^VA(200,SRANEST,0),"^") S:$L(SRANEST)>30 SRANEST=$P(SRANEST,",")_", "_$E($P(SRANEST,",",2))_"."
"RTN","SRONOR5",17,0)
 S SRANESUP=$P($G(^SRF(SROP,.3)),"^",4) I SRANESUP S SRANESUP=$P(^VA(200,SRANESUP,0),"^") S:$L(SRANESUP)>30 SRANESUP=$P(SRANESUP,",")_", "_$E($P(SRANESUP,",",2))_"."
"RTN","SRONOR5",18,0)
 S SRSS=$P(^SRF(SROP,"NON"),"^",8),SRSS=$S(SRSS:$P(^ECC(723,SRSS,0),"^"),1:"SPECIALTY NOT ENTERED")
"RTN","SRONOR5",19,0)
 S Y=$P(^SRF(SROP,"NON"),"^",2),SRLOC=$S(Y:$P(^SC(Y,0),"^"),1:"LOCATION NOT ENTERED")
"RTN","SRONOR5",20,0)
 S SRST=$P($G(^SRF(SROP,"NON")),"^",4) I SRST S Y=SRST D DD^%DT S SRST=$E(SRST,4,5)_"/"_$E(SRST,6,7)_"/"_$E(SRST,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR5",21,0)
 S SRET=$P($G(^SRF(SROP,"NON")),"^",5) I SRET S Y=SRET D DD^%DT S SRET=$E(SRET,4,5)_"/"_$E(SRET,6,7)_"/"_$E(SRET,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR5",22,0)
 S SROPER=$P(^SRF(SROP,"OP"),"^"),OPER=0 F  S OPER=$O(^SRF(SROP,13,OPER)) Q:'OPER  D OTHER
"RTN","SRONOR5",23,0)
 K SROPS,MM,MMM S:$L(SROPER)<50 SROPS(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SRONOR5",24,0)
 S SRABORT=$S($P($G(^SRF(SROP,30)),"^"):"*ABORTED*",1:"")
"RTN","SRONOR5",25,0)
 W !!,SRSDATE,?15,SRNM_" ("_VA("PID")_")",?64,SRSS,?116,SRST,!,SROP,?15,SRLOC_" ("_SRINOUT_")",?64,SRANEST,?116,SRET
"RTN","SRONOR5",26,0)
 W !,?62,SRANESUP,!,?62,SROPS(1)
"RTN","SRONOR5",27,0)
 W:SRABORT'="" !,SRABORT I $D(SROPS(2)) W:SRABORT="" ! W ?62,SROPS(2) I $D(SROPS(3)) W !,?62,SROPS(3) I $D(SROPS(4)) W !,?62,SROPS(4)
"RTN","SRONOR5",28,0)
 Q
"RTN","SRONOR5",29,0)
UTIL ; set ^TMP
"RTN","SRONOR5",30,0)
 S Y=$P($G(^SRF(SROP,"NON")),"^",6) S SRSUR=$S(Y:$P(^VA(200,Y,0),"^"),1:"PROVIDER NOT ENTERED")
"RTN","SRONOR5",31,0)
 I SRSUR'=SRSURG Q
"RTN","SRONOR5",32,0)
 S ^TMP("SR",$J,SRSD,SROP)=""
"RTN","SRONOR5",33,0)
 Q
"RTN","SRONOR5",34,0)
HDR I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SRONOR5",35,0)
 I SRHDR,$E(IOST)'="P" W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SRONOR5",36,0)
 W:$Y @IOF W !,?(132-$L(SRINST)\2),SRINST,!,?57,"SURGICAL SERVICE",?100,"REVIEWED BY:",!,?51,"REPORT OF NON-O.R. PROCEDURES",?100,"DATE REVIEWED:",!,?(132-$L(SRFRTO)\2),SRFRTO
"RTN","SRONOR5",37,0)
 W !!,"DATE",?15,"PATIENT (ID#)",?64,"SPECIALTY",?116,"START TIME",!,"CASE #",?15,"LOCATION (IN/OUT-PAT STATUS)",?64,"PRINCIPAL ANESTHETIST",?116,"FINISH TIME"
"RTN","SRONOR5",38,0)
 W !,?62,"ANESTHESIOLOGIST SUPERVISOR",!,?62,"PROCEDURE(S)",! F LINE=1:1:132 W "="
"RTN","SRONOR5",39,0)
 W !,?(124-$L("PROVIDER: "_SRSURG)\2),"*** PROVIDER "_SRSURG_" ***" S SRHDR=1
"RTN","SRONOR5",40,0)
 Q
"RTN","SRONOR5",41,0)
OTHER ; other operations
"RTN","SRONOR5",42,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SROP,13,OPER,0),"^"))>240 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SRONOR5",43,0)
 I SRLONG S SROPERS=$P(^SRF(SROP,13,OPER,0),"^")
"RTN","SRONOR5",44,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SRONOR5",45,0)
 Q
"RTN","SRONOR5",46,0)
LOOP ; break procedure if greater than 50 characters
"RTN","SRONOR5",47,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<50  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SRONOR5",48,0)
 Q
"RTN","SRONOR8")
0^95^B17802246^B17438076
"RTN","SRONOR8",1,0)
SRONOR8 ;B'HAM ISC/MAM - REPORT OF NON-O.R. PROCEDURES (1 LOCATION) ; [ 07/27/98   2:33 PM ]
"RTN","SRONOR8",2,0)
 ;;3.0;Surgery;**50,175,182**;24 Jun 93;Build 49
"RTN","SRONOR8",3,0)
 ;
"RTN","SRONOR8",4,0)
 ; Reference to ^ECC(723 supported by DBIA #205
"RTN","SRONOR8",5,0)
 ;
"RTN","SRONOR8",6,0)
 N SRANEST,SRANESUP
"RTN","SRONOR8",7,0)
 K ^TMP("SR",$J) F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)  S SROP=0 F  S SROP=$O(^SRF("AC",SRSD,SROP)) Q:'SROP  I $P($G(^SRF(SROP,"NON")),"^")="Y",$D(^SRF(SROP,0)),$$DIV^SROUTL0(SROP) D UTIL
"RTN","SRONOR8",8,0)
 S (SRHDR,SRSOUT)=0 D HDR Q:SRSOUT  I '$D(^TMP("SR",$J)) W !!!,?35,"There were no procedures entered for the date range selected."
"RTN","SRONOR8",9,0)
 S SRSD=0 F  S SRSD=$O(^TMP("SR",$J,SRSD)) Q:'SRSD!(SRSOUT)  S SROP=0 F  S SROP=$O(^TMP("SR",$J,SRSD,SROP)) Q:'SROP!(SRSOUT)  D SET
"RTN","SRONOR8",10,0)
 Q
"RTN","SRONOR8",11,0)
SET ; set and print info
"RTN","SRONOR8",12,0)
 I $Y+5>IOSL D HDR I SRSOUT Q
"RTN","SRONOR8",13,0)
 S SR=^SRF(SROP,0),DFN=$P(SR,"^") D DEM^VADPT S SRNM=VADM(1),SRSSN=VA("PID")
"RTN","SRONOR8",14,0)
 S X=$P(SR,"^",12),SRINOUT=$S(X="I":"INPATIENT",X="O":"OUTPATIENT",X=1:"OUTPATIENT",X=2:"INPATIENT",X=3:"INPATIENT",1:"???")
"RTN","SRONOR8",15,0)
 S Y=SRSD D DD^%DT S SRSDATE=$E(SRSD,4,5)_"/"_$E(SRSD,6,7)_"/"_$E(SRSD,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR8",16,0)
 S SRSUR=$P(^SRF(SROP,"NON"),"^",6) I SRSUR S SRSUR=$P(^VA(200,SRSUR,0),"^") S:$L(SRSUR)>30 SRSUR=$P(SRSUR,",")_", "_$E($P(SRSUR,",",2))_"."
"RTN","SRONOR8",17,0)
 S SRANEST=$P($G(^SRF(SROP,.3)),"^") I SRANEST S SRANEST=$P(^VA(200,SRANEST,0),"^") S:$L(SRANEST)>30 SRANEST=$P(SRANEST,",")_", "_$E($P(SRANEST,",",2))_"."
"RTN","SRONOR8",18,0)
 S SRANESUP=$P($G(^SRF(SROP,.3)),"^",4) I SRANESUP S SRANESUP=$P(^VA(200,SRANESUP,0),"^") S:$L(SRANESUP)>30 SRANESUP=$P(SRANESUP,",")_", "_$E($P(SRANESUP,",",2))_"."
"RTN","SRONOR8",19,0)
 S Y=$P(^SRF(SROP,"NON"),"^",8),SRSS=$S(Y:$E($P(^ECC(723,Y,0),"^"),1,30),1:"SPECIALTY NOT ENTERED")
"RTN","SRONOR8",20,0)
 S SRST=$P($G(^SRF(SROP,"NON")),"^",4) I SRST S Y=SRST D DD^%DT S SRST=$E(SRST,4,5)_"/"_$E(SRST,6,7)_"/"_$E(SRST,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR8",21,0)
 S SRET=$P($G(^SRF(SROP,"NON")),"^",5) I SRET S Y=SRET D DD^%DT S SRET=$E(SRET,4,5)_"/"_$E(SRET,6,7)_"/"_$E(SRET,2,3)_" "_$P(Y,"@",2)
"RTN","SRONOR8",22,0)
 S SROPER=$P(^SRF(SROP,"OP"),"^"),OPER=0 F  S OPER=$O(^SRF(SROP,13,OPER)) Q:'OPER  D OTHER
"RTN","SRONOR8",23,0)
 K SROPS,MM,MMM S:$L(SROPER)<50 SROPS(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SRONOR8",24,0)
 S SRABORT=$S($P($G(^SRF(SROP,30)),"^"):"*ABORTED*",1:"")
"RTN","SRONOR8",25,0)
 W !!,SRSDATE,?15,SRNM_" ("_VA("PID")_")",?64,SRSUR,?116,SRST,!,SROP,?15,SRSS_" ("_SRINOUT_")",?64,SRANEST,?116,SRET
"RTN","SRONOR8",26,0)
 W !,?62,SRANESUP,!,?62,SROPS(1)
"RTN","SRONOR8",27,0)
 W:SRABORT'="" !,SRABORT I $D(SROPS(2)) W:SRABORT="" ! W ?62,SROPS(2) I $D(SROPS(3)) W !,?62,SROPS(3) I $D(SROPS(4)) W !,?62,SROPS(4)
"RTN","SRONOR8",28,0)
 Q
"RTN","SRONOR8",29,0)
UTIL ; set ^TMP
"RTN","SRONOR8",30,0)
 S Y=$P(^SRF(SROP,"NON"),"^",2) S SRLN=$S(Y:$P(^SC(Y,0),"^"),1:"LOCATION NOT ENTERED")
"RTN","SRONOR8",31,0)
 I SRLN'=SRLOCN Q
"RTN","SRONOR8",32,0)
 S ^TMP("SR",$J,SRSD,SROP)=""
"RTN","SRONOR8",33,0)
 Q
"RTN","SRONOR8",34,0)
HDR I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SRONOR8",35,0)
 I SRHDR,$E(IOST)'="P" W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SRONOR8",36,0)
 W:$Y @IOF W !,?(132-$L(SRINST)\2),SRINST,!,?57,"SURGICAL SERVICE",?100,"REVIEWED BY:",!,?51,"REPORT OF NON-O.R. PROCEDURES",?100,"DATE REVIEWED:",!,?(132-$L(SRFRTO)\2),SRFRTO
"RTN","SRONOR8",37,0)
 W !!,"DATE",?15,"PATIENT (ID#)",?64,"PROVIDER",?116,"START TIME",!,"CASE #",?15,"SPECIALTY (IN/OUT-PAT STATUS)",?64,"PRINCIPAL ANESTHETIST",?116,"FINISH TIME"
"RTN","SRONOR8",38,0)
 W !,?62,"ANESTHESIOLOGIST SUPERVISOR",!,?62,"PROCEDURE(S)",! F LINE=1:1:132 W "="
"RTN","SRONOR8",39,0)
 W !,?(124-$L("LOCATION: "_SRLOCN)\2),"*** LOCATION: "_SRLOCN_" ***" S SRHDR=1
"RTN","SRONOR8",40,0)
 Q
"RTN","SRONOR8",41,0)
OTHER ; other operations
"RTN","SRONOR8",42,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SROP,13,OPER,0),"^"))>240 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SRONOR8",43,0)
 I SRLONG S SROPERS=$P(^SRF(SROP,13,OPER,0),"^")
"RTN","SRONOR8",44,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SRONOR8",45,0)
 Q
"RTN","SRONOR8",46,0)
LOOP ; break procedure if greater than 50 characters
"RTN","SRONOR8",47,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<50  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SRONOR8",48,0)
 Q
"RTN","SRONP2")
0^52^B18164568^B17930608
"RTN","SRONP2",1,0)
SRONP2 ;BIR/ADM - PROCEDURE REPORT (NON-OR) ;07/26/04  9:45 AM
"RTN","SRONP2",2,0)
 ;;3.0;Surgery;**132,142,177,182**;24 Jun 93;Build 49
"RTN","SRONP2",3,0)
 Q
"RTN","SRONP2",4,0)
OPTOP(SRTN) ; send op-top to ^TMP
"RTN","SRONP2",5,0)
 ; SRTN   - case number in file 130
"RTN","SRONP2",6,0)
 ;
"RTN","SRONP2",7,0)
 N ANE,DFN,ICD,J,NUM,SR,SRATT,SRCASE,SRDIV,SRI,SRL,SRLINE,SRLOC,SRN,SROPTOP,SRSPEC,SRSTATUS,SRTECH,X,Y
"RTN","SRONP2",8,0)
 S SRCASE=SRTN,SRG=$NA(^TMP("SRNOR",$J,SRCASE)) K @SRG
"RTN","SRONP2",9,0)
 S SRI=0,SRDIV=$$SITE^SROUTL0(SRTN)
"RTN","SRONP2",10,0)
 I $P($G(^SRF(SRTN,30)),"^")!$P($G(^SRF(SRTN,31)),"^",8) D LINE(1) S @SRG@(SRI)="  * * PROCEDURE ABORTED * *" D LINE(1)
"RTN","SRONP2",11,0)
 F SRN=0:.1:1.1,"NON" S SR(SRN)=$G(^SRF(SRTN,SRN))
"RTN","SRONP2",12,0)
 S Y=$P(SR("NON"),"^",8),C=$P(^DD(130,125,0),"^",2) D:Y'="" Y^DIQ S SRSPEC=$S(Y="":"NOT ENTERED",1:$E(Y,1,25))
"RTN","SRONP2",13,0)
 S SRLOC="NOT ENTERED",SRL=$P(SR("NON"),"^",2) S:SRL SRLOC=$E($P(^SC(SRL,0),"^"),1,25)
"RTN","SRONP2",14,0)
 D LINE(1) S @SRG@(SRI)="Med. Specialty: "_SRSPEC,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(44)_"Location: "_SRLOC
"RTN","SRONP2",15,0)
 S X=$P($G(^SRF(SRTN,33)),"^",2) D LINE(2) S @SRG@(SRI)="Principal Diagnosis: " D
"RTN","SRONP2",16,0)
 .I X="" S @SRG@(SRI)=@SRG@(SRI)_"NOT ENTERED" Q
"RTN","SRONP2",17,0)
 .D LINE(1) S @SRG@(SRI)="  "_X
"RTN","SRONP2",18,0)
 .S @SRG@(SRI)=@SRG@(SRI)
"RTN","SRONP2",19,0)
 .N OTH,CNT S (OTH,CNT)=0 F  S OTH=$O(^SRF(SRTN,15,OTH)) Q:'OTH  S CNT=CNT+1 D DIAG
"RTN","SRONP2",20,0)
 S Y=$P(SR("NON"),"^",6),C=$P(^DD(130,123,0),"^",2) D:Y'="" Y^DIQ D LINE(2) S @SRG@(SRI)="Provider: "_Y
"RTN","SRONP2",21,0)
 S X=$P($G(SR(0)),"^",12),SRSTATUS=$S(X="I":"INPATIENT",X="O":"OUTPATIENT",1:"NOT ENTERED")
"RTN","SRONP2",22,0)
 S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(50)_"Patient Status: "_SRSTATUS
"RTN","SRONP2",23,0)
 S Y=$P(SR("NON"),"^",7),C=$P(^DD(130,124,0),"^",2) D:Y'="" Y^DIQ,N(28) S:Y="" Y="N/A" D LINE(1) S @SRG@(SRI)="Attending/Res Sup Code: "_Y
"RTN","SRONP2",24,0)
 D RS S:SRATT="" SRATT="NOT ENTERED" D LINE(1) S @SRG@(SRI)="Attending Code: "_SRATT
"RTN","SRONP2",25,0)
 S Y=$P(SR(.3),"^",4),C=$P(^DD(130,.34,0),"^",2) D:Y'="" Y^DIQ S:Y="" Y="N/A" D LINE(2) S @SRG@(SRI)="Attend Anesth: "_Y
"RTN","SRONP2",26,0)
 S X=$P(SR(.3),"^",6),X=$S(X:$P(^SRO(132.95,X,0),"^"),1:"N/A")
"RTN","SRONP2",27,0)
 D LINE(1) S @SRG@(SRI)="Anesthesia Supervisor Code: "_X
"RTN","SRONP2",28,0)
 S Y=$P(SR(.3),"^"),C=$P(^DD(130,.31,0),"^",2) D:Y'="" Y^DIQ S:Y="" Y="N/A" D LINE(1) S @SRG@(SRI)="Anesthetist: "_Y
"RTN","SRONP2",29,0)
 D LINE(2) S @SRG@(SRI)="Anesthesia Technique(s): " D
"RTN","SRONP2",30,0)
 .I '$O(^SRF(SRTN,6,0)) S @SRG@(SRI)=@SRG@(SRI)_"N/A" Q
"RTN","SRONP2",31,0)
 .S ANE=0 F  S ANE=$O(^SRF(SRTN,6,ANE)) Q:'ANE  D ANE
"RTN","SRONP2",32,0)
 D TECH I $E(SRTECH,1,2)'="NO" S X=$P($G(^SRF(SRTN,31)),"^",9),X=$S(X="N":"NO",X="Y":"YES",1:"") I X'="" D LINE(2) S @SRG@(SRI)="Diagnostic/Therapeutic: "_X
"RTN","SRONP2",33,0)
 D ^SRONP0
"RTN","SRONP2",34,0)
 Q
"RTN","SRONP2",35,0)
DIAG D LINE(1) S X=$G(^SRF(SRTN,15,OTH,0)),@SRG@(SRI)=$S(CNT=1:" Other: ",1:"        ")_$P(X,"^"),ICD=$P(X,"^",3)
"RTN","SRONP2",36,0)
 S:ICD ICD=$P($$ICD^SROICD(SRTN,ICD),"^",2)
"RTN","SRONP2",37,0)
 S ICD=$S(ICD:ICD,1:"NOT ENTERED"),@SRG@(SRI)=@SRG@(SRI)_$$SPACE(50)_"ICD"_$$ICD910^SROICD(SRTN)_" Code: "_ICD
"RTN","SRONP2",38,0)
 Q
"RTN","SRONP2",39,0)
N(SRL) N SRNM I $L(Y)>SRL S SRNM=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=SRNM
"RTN","SRONP2",40,0)
 Q
"RTN","SRONP2",41,0)
TECH N SRT,SRZ D TECH^SROPRIN
"RTN","SRONP2",42,0)
 Q
"RTN","SRONP2",43,0)
ANE ; print anesthesia technique
"RTN","SRONP2",44,0)
 N A,AGNT,C,CNT
"RTN","SRONP2",45,0)
 S A=^SRF(SRTN,6,ANE,0),Y=$P(A,"^"),C=$P(^DD(130.06,.01,0),"^",2) D:Y'="" Y^DIQ D LINE(1) S Y=Y_$S($P(A,"^",3)="Y":"  (PRINCIPAL)",1:""),@SRG@(SRI)=$$SPACE(2)_Y D AGENT
"RTN","SRONP2",46,0)
 Q
"RTN","SRONP2",47,0)
AGENT ; print agents
"RTN","SRONP2",48,0)
 Q:$P(A,"^")="N"  N SRDOSE,SRY
"RTN","SRONP2",49,0)
 D LINE(1) S @SRG@(SRI)="     Agent: " I '$O(^SRF(SRTN,6,ANE,1,0)) S @SRG@(SRI)=@SRG@(SRI)_"NONE ENTERED" Q
"RTN","SRONP2",50,0)
 S (AGNT,CNT)=0 F  S AGNT=$O(^SRF(SRTN,6,ANE,1,AGNT)) Q:'AGNT  S CNT=CNT+1 D
"RTN","SRONP2",51,0)
 .S SRY=^SRF(SRTN,6,ANE,1,AGNT,0),SRDOSE=$P(SRY,"^",2)
"RTN","SRONP2",52,0)
 .S Y=$P(SRY,"^"),C=$P(^DD(130.47,.01,0),"^",2) D Y^DIQ
"RTN","SRONP2",53,0)
 .D:CNT>1 LINE(1) S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(13)_Y
"RTN","SRONP2",54,0)
 .I SRDOSE S @SRG@(SRI)=@SRG@(SRI)_"   "_SRDOSE_" mg"
"RTN","SRONP2",55,0)
 Q
"RTN","SRONP2",56,0)
RS ; attending code
"RTN","SRONP2",57,0)
 I $$GET1^DID(130,.166,"","LABEL")["ATTENDING/RES SUP CODE" D  Q
"RTN","SRONP2",58,0)
 .S Y=$P(SR(.1),"^",10),C=$P(^DD(130,.166,0),"^",2) D Y^DIQ S SRATT=Y
"RTN","SRONP2",59,0)
 S Y=$P(SR(.1),"^",16),C=$P(^DD(130,.165,0),"^",2) D Y^DIQ S SRATT=Y
"RTN","SRONP2",60,0)
 Q
"RTN","SRONP2",61,0)
COMM(X,NUM) ; output word-processing text
"RTN","SRONP2",62,0)
 ; X = line of text to be processed
"RTN","SRONP2",63,0)
 ; NUM = left margin
"RTN","SRONP2",64,0)
 N I,J,K,Y,SRL S SRL=80-NUM
"RTN","SRONP2",65,0)
 I $L(X)<(SRL+1)!($E(X,1,SRL)'[" ") D LINE(1) S @SRG@(SRI)=$$SPACE(NUM)_X Q
"RTN","SRONP2",66,0)
 S K=1 F  D  I $L(X)<SRL+1 S X(K)=X Q
"RTN","SRONP2",67,0)
 .F I=0:1:SRL-1 S J=SRL-I,Y=$E(X,J) I Y=" " S X(K)=$E(X,1,J-1),X=$E(X,J+1,$L(X)) S K=K+1 Q
"RTN","SRONP2",68,0)
 F I=1:1:K D LINE(1) S @SRG@(SRI)=$$SPACE(NUM)_X(I)
"RTN","SRONP2",69,0)
 Q
"RTN","SRONP2",70,0)
SPACE(NUM) ; create spaces
"RTN","SRONP2",71,0)
 ; pass in position returns number of needed spaces
"RTN","SRONP2",72,0)
 I '$D(@SRG@(SRI)) S @SRG@(SRI)=""
"RTN","SRONP2",73,0)
 Q $J("",NUM-$L(@SRG@(SRI)))
"RTN","SRONP2",74,0)
LINE(NUM) ; create carriage returns
"RTN","SRONP2",75,0)
 F J=1:1:NUM S SRI=SRI+1,@SRG@(SRI)=""
"RTN","SRONP2",76,0)
 Q
"RTN","SRONRPT")
0^60^B27706165^B27465848
"RTN","SRONRPT",1,0)
SRONRPT ;BIR/ADM - NURSE INTRAOP REPORT ; [ 06/16/04  10:12 AM ]
"RTN","SRONRPT",2,0)
 ;;3.0;Surgery;**100,129,182**;24 Jun 93;Build 49
"RTN","SRONRPT",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONRPT",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SRONRPT",5,0)
 ;**         are prohibited.
"RTN","SRONRPT",6,0)
 ;
"RTN","SRONRPT",7,0)
 D:'$D(SRTN) ^SROPS Q:'$D(SRTN)
"RTN","SRONRPT",8,0)
 D RPT^SRONRPT(SRTN)
"RTN","SRONRPT",9,0)
 Q
"RTN","SRONRPT",10,0)
RPT(SRTN) ; send text of nurse intraoperative report to ^TMP
"RTN","SRONRPT",11,0)
 N ANE,C,CNT,I,J,K,SR,SRAGNT,SRALL,SRANES,SRANESA,SRC,SRCT,SRCASE,SRCONS,SRCONV,SRDISP,SRDIV,SRDT,SREL,SRELP,SRELP2,SRG,SRI,SRL,SRLF,SRLINE,SRMOOD,SROP,SROPER,SROPS,SROR,SRSCAN,SRSKIN,SRTIME,SRTYPE,SRUSER,SRX,SRZ,VIA,X,Y,Z
"RTN","SRONRPT",12,0)
 N SROIM,SROUT
"RTN","SRONRPT",13,0)
 S SRCASE=SRTN,SRG=$NA(^TMP("SRNIR",$J,SRCASE)),SRI=0 K @SRG
"RTN","SRONRPT",14,0)
 S SRDIV=$$SITE^SROUTL0(SRTN),SRALL=$S(SRDIV:$P(^SRO(133,SRDIV,0),"^",6),1:1)
"RTN","SRONRPT",15,0)
 I $P($G(^SRF(SRTN,30)),"^")!$P($G(^SRF(SRTN,31)),"^",8) D LINE(1) S @SRG@(SRI)="  * * OPERATION ABORTED * *" D LINE(1)
"RTN","SRONRPT",16,0)
 F X=0:.1:1.1,31,"1.0","VER" S SR(X)=$G(^SRF(SRTN,X))
"RTN","SRONRPT",17,0)
 S SROR=$P(SR(0),"^",2) I SROR S SROR=$P(^SRS(SROR,0),"^"),SROR=$P(^SC(SROR,0),"^")
"RTN","SRONRPT",18,0)
 I SROR="" S SROR="NOT ENTERED"
"RTN","SRONRPT",19,0)
 S Y=$P(SR(0),"^",10),C=$P(^DD(130,.035,0),"^",2) D:Y'="" Y^DIQ S SRTYPE=$S(Y="":"NOT ENTERED",1:Y)
"RTN","SRONRPT",20,0)
 D LINE(1) S @SRG@(SRI)="Operating Room:  "_SROR S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Surgical Priority: "_SRTYPE
"RTN","SRONRPT",21,0)
 S Y=$P(SR(.2),"^",15) I Y D D^DIQ S SRTIME=$P(Y,"@")_"  "_$P(Y,"@",2)
"RTN","SRONRPT",22,0)
 S:Y="" SRTIME="NOT ENTERED" D LINE(2) S @SRG@(SRI)="Patient in Hold: "_SRTIME
"RTN","SRONRPT",23,0)
 S Y=$P(SR(.2),"^",10) I Y D D^DIQ S SRTIME=$P(Y,"@")_"  "_$P(Y,"@",2)
"RTN","SRONRPT",24,0)
 S:Y="" SRTIME="* NOT ENTERED *" S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Patient in OR:  "_SRTIME
"RTN","SRONRPT",25,0)
 S Y=$P(SR(.2),"^",2) I Y D D^DIQ S SRTIME=$P(Y,"@")_"  "_$P(Y,"@",2)
"RTN","SRONRPT",26,0)
 S:Y="" SRTIME="NOT ENTERED" D LINE(1) S @SRG@(SRI)="Operation Begin: "_SRTIME
"RTN","SRONRPT",27,0)
 S Y=$P(SR(.2),"^",3) I Y D D^DIQ S SRTIME=$P(Y,"@")_"  "_$P(Y,"@",2)
"RTN","SRONRPT",28,0)
 S:Y="" SRTIME="NOT ENTERED" S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Operation End:  "_SRTIME
"RTN","SRONRPT",29,0)
 D LINE(1) S @SRG@(SRI)="",Y=$P(SR(.2),"^",9) I Y D
"RTN","SRONRPT",30,0)
 .D D^DIQ S SRTIME=$P(Y,"@")_"  "_$P(Y,"@",2)
"RTN","SRONRPT",31,0)
 .S:Y="" SRTIME="NOT ENTERED" S @SRG@(SRI)=@SRG@(SRI)_"Surgeon in OR:   "_SRTIME
"RTN","SRONRPT",32,0)
 S Y=$P(SR(.2),"^",12) I Y D D^DIQ S SRTIME=$P(Y,"@")_"  "_$P(Y,"@",2)
"RTN","SRONRPT",33,0)
 S:Y="" SRTIME="* NOT ENTERED *" S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Patient Out OR: "_SRTIME
"RTN","SRONRPT",34,0)
 D PROC I $O(^SRF(SRTN,13,0)) D OTHER
"RTN","SRONRPT",35,0)
 S Y=$P(SR("1.0"),"^",8),C=$P(^DD(130,1.09,0),"^",2) D:Y'="" Y^DIQ D LINE(2) S @SRG@(SRI)="Wound Classification: "_$S(Y'="":Y,1:"NOT ENTERED")
"RTN","SRONRPT",36,0)
 S Y=$P(SR(.4),"^",6),C=$P(^DD(130,.46,0),"^",2) D:Y'="" Y^DIQ S SRDISP=$S(Y'="":Y,1:"N/A")
"RTN","SRONRPT",37,0)
 I (SRDISP="N/A"&SRALL)!(SRDISP'="N/A") D LINE(1) S @SRG@(SRI)="Operation Disposition: "_SRDISP
"RTN","SRONRPT",38,0)
 S Y=$P(SR(.7),"^",4),C=$P(^DD(130,25,0),"^",2) D:Y'="" Y^DIQ S VIA=$S(Y'="":Y,1:"N/A")
"RTN","SRONRPT",39,0)
 I (VIA="N/A"&SRALL)!(VIA'="N/A") D LINE(1) S @SRG@(SRI)="Discharged Via: "_VIA
"RTN","SRONRPT",40,0)
 S Y=$P(SR(.1),"^",4),C=$P(^DD(130,.14,0),"^",2) D:Y'="" Y^DIQ,N(30) S:Y="" Y="NOT ENTERED" D LINE(2) S @SRG@(SRI)="Primary Surgeon: "_Y
"RTN","SRONRPT",41,0)
 S Y=$P(SR(.1),"^",5),C=$P(^DD(130,.15,0),"^",2) D:Y'="" Y^DIQ,N(25) S:Y="" Y="N/A" S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"First Assist: "_Y
"RTN","SRONRPT",42,0)
 S Y=$P(SR(.1),"^",13),C=$P(^DD(130,.164,0),"^",2) D:Y'="" Y^DIQ,N(26) S:Y="" Y="N/A" D LINE(1) S @SRG@(SRI)="Attending Surgeon: "_Y
"RTN","SRONRPT",43,0)
 S Y=$P(SR(.1),"^",6),C=$P(^DD(130,.16,0),"^",2) D:Y'="" Y^DIQ,N(24) S:Y="" Y="N/A" S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Second Assist: "_Y
"RTN","SRONRPT",44,0)
 S Y=$P(SR(.3),"^"),C=$P(^DD(130,.31,0),"^",2) D:Y'="" Y^DIQ,N(26) S SRANES=$S(Y="":"NOT ENTERED",1:Y)
"RTN","SRONRPT",45,0)
 S Y=$P(SR(.3),"^",3),C=$P(^DD(130,.33,0),"^",2) D:Y'="" Y^DIQ,N(21) S SRANESA=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT",46,0)
 I 'SRALL,SRANES="NOT ENTERED",SRANESA="N/A" G OSA
"RTN","SRONRPT",47,0)
 D LINE(1) S @SRG@(SRI)="Anesthetist: "_SRANES,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Assistant Anesth: "_SRANESA
"RTN","SRONRPT",48,0)
OSA S SRLINE="Other Scrubbed Assistants: "
"RTN","SRONRPT",49,0)
 I '$O(^SRF(SRTN,28,0)),SRALL D LINE(2) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT",50,0)
 I $O(^SRF(SRTN,28,0)) D LINE(2) S @SRG@(SRI)=SRLINE,OTH=0 F  S OTH=$O(^SRF(SRTN,28,OTH)) Q:'OTH  D
"RTN","SRONRPT",51,0)
 .S Y=$P(^SRF(SRTN,28,OTH,0),"^"),C=$P(^DD(130.23,.01,0),"^",2) D:Y'="" Y^DIQ D LINE(1) S @SRG@(SRI)="  "_Y
"RTN","SRONRPT",52,0)
 .I $O(^SRF(SRTN,28,OTH,1,0)) D
"RTN","SRONRPT",53,0)
 ..S SRLINE=0,SRL=4 D LINE(1) S @SRG@(SRI)="    Comments:"
"RTN","SRONRPT",54,0)
 ..F  S SRLINE=$O(^SRF(SRTN,28,OTH,1,SRLINE)) Q:'SRLINE  S X=^SRF(SRTN,28,OTH,1,SRLINE,0) D COMM^SRONRPT3(X,SRL)
"RTN","SRONRPT",55,0)
 D ^SRONRPT0
"RTN","SRONRPT",56,0)
 Q
"RTN","SRONRPT",57,0)
PROC ; print procedure informatiom
"RTN","SRONRPT",58,0)
 N I,M,MM,SRJ,SRMAJ,SROPER,SROPS,SRX,SRY,X,Z
"RTN","SRONRPT",59,0)
 S SRMAJ=$P(SR(0),"^",3),SRMAJ=$S(SRMAJ="J":"Major",SRMAJ="N":"Minor",1:"Major")
"RTN","SRONRPT",60,0)
 D LINE(2) S @SRG@(SRI)=SRMAJ_" Operations Performed:"
"RTN","SRONRPT",61,0)
 S SROPER=$P(^SRF(SRTN,"OP"),"^")
"RTN","SRONRPT",62,0)
 I $P($G(^SRF(SRTN,30)),"^")&$P($G(^SRF(SRTN,.2)),"^",10) S SROPER="** ABORTED ** "_SROPER
"RTN","SRONRPT",63,0)
 K SROPS,MM,MMM S:$L(SROPER)<70 SROPS(1)=SROPER I $L(SROPER)>69 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SRONRPT",64,0)
 F I=1:1 Q:'$D(SROPS(I))  D LINE(1) S @SRG@(SRI)=$S(I=1:"Primary: ",1:"         ")_SROPS(I)
"RTN","SRONRPT",65,0)
 Q
"RTN","SRONRPT",66,0)
OTHER ; other procedures
"RTN","SRONRPT",67,0)
 N CNT,OTH,OTHER,SRJ,SRX,SRY
"RTN","SRONRPT",68,0)
 S (OTH,CNT)=0 F  S OTH=$O(^SRF(SRTN,13,OTH)) Q:'OTH  S CNT=CNT+1 D OTH
"RTN","SRONRPT",69,0)
 Q
"RTN","SRONRPT",70,0)
OTH S OTHER=$P(^SRF(SRTN,13,OTH,0),"^")
"RTN","SRONRPT",71,0)
 D LINE(1) S @SRG@(SRI)="Other:   "_OTHER
"RTN","SRONRPT",72,0)
 Q
"RTN","SRONRPT",73,0)
LOOP ; break procedure if greater than 70 characters
"RTN","SRONRPT",74,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<70  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SRONRPT",75,0)
 Q
"RTN","SRONRPT",76,0)
N(SRL) N SRN I $L(Y)>SRL S SRN=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=SRN
"RTN","SRONRPT",77,0)
 Q
"RTN","SRONRPT",78,0)
SPACE(NUM) ; create spaces
"RTN","SRONRPT",79,0)
 ; pass in position returns number of needed spaces
"RTN","SRONRPT",80,0)
 I '$D(@SRG@(SRI)) S @SRG@(SRI)=""
"RTN","SRONRPT",81,0)
 Q $J("",NUM-$L(@SRG@(SRI)))
"RTN","SRONRPT",82,0)
LINE(NUM) ; create carriage returns
"RTN","SRONRPT",83,0)
 F J=1:1:NUM S SRI=SRI+1,@SRG@(SRI)=""
"RTN","SRONRPT",84,0)
 Q
"RTN","SRONRPT0")
0^61^B69675932^B63289001
"RTN","SRONRPT0",1,0)
SRONRPT0 ;BIR/ADM - NURSE INTRAOP REPORT ;05/31/06
"RTN","SRONRPT0",2,0)
 ;;3.0;Surgery;**100,129,147,153,157,175,176,182**;24 Jun 93;Build 49
"RTN","SRONRPT0",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONRPT0",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SRONRPT0",5,0)
 ;**         are prohibited.
"RTN","SRONRPT0",6,0)
 ;
"RTN","SRONRPT0",7,0)
 D LINE(2) S @SRG@(SRI)="OR Support Personnel:" D LINE(1) S @SRG@(SRI)="  Scrubbed",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Circulating" D NURSE
"RTN","SRONRPT0",8,0)
 S SRLF=1,SRLINE="Other Persons in OR: " I '$O(^SRF(SRTN,32,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT0",9,0)
 I $O(^SRF(SRTN,32,0)) D LINE(1) S @SRG@(SRI)=SRLINE D
"RTN","SRONRPT0",10,0)
 .S OTH=0 F  S OTH=$O(^SRF(SRTN,32,OTH)) Q:'OTH  D
"RTN","SRONRPT0",11,0)
 ..S X=^SRF(SRTN,32,OTH,0),SRLINE="  "_$P(X,"^")
"RTN","SRONRPT0",12,0)
 ..S Y=$P(X,"^",2) S:Y'="" SRLINE=SRLINE_" ("_Y_")"
"RTN","SRONRPT0",13,0)
 ..D LINE(1) S @SRG@(SRI)=SRLINE
"RTN","SRONRPT0",14,0)
 S SRLF=1
"RTN","SRONRPT0",15,0)
 S X=$P(SR(.1),"^",9),SRMOOD=$S(X:$E($P(^SRO(135.3,X,0),"^"),1,20),1:"N/A")
"RTN","SRONRPT0",16,0)
 S X=$P(SR(.1),"^",15),SRCONS=$S(X:$E($P(^SRO(135.4,X,0),"^"),1,24),1:"N/A")
"RTN","SRONRPT0",17,0)
 S X=$P(SR(0),"^",7),SRSKIN=$S(X:$E($P(^SRO(135.2,X,0),"^"),1,20),1:"N/A")
"RTN","SRONRPT0",18,0)
 S Y=$P(SR(.1),"^",14),C=$P(^DD(130,.195,0),"^",2) D:Y'="" Y^DIQ S SRCONV=$S(Y'="":Y,1:"N/A")
"RTN","SRONRPT0",19,0)
 I 'SRALL,SRMOOD="N/A",SRCONS="N/A" G SKIN
"RTN","SRONRPT0",20,0)
 D LINE(1) S @SRG@(SRI)="Preop Mood:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(18)_SRMOOD,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Preop Consc:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(56)_SRCONS
"RTN","SRONRPT0",21,0)
SKIN I 'SRALL,SRSKIN="N/A",SRCONV="N/A" G VER
"RTN","SRONRPT0",22,0)
 D LINE(1) S @SRG@(SRI)="Preop Skin Integ: "_SRSKIN,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Preop Converse: "_SRCONV
"RTN","SRONRPT0",23,0)
 ;
"RTN","SRONRPT0",24,0)
VER N II,SROIM,SROUT,SROIN,SRHRM
"RTN","SRONRPT0",25,0)
 D LINE(2) S @SRG@(SRI)="--- Time Out Checklist ---"
"RTN","SRONRPT0",26,0)
 S Y=$P(SR("VER"),"^",7),SROIN=$S(Y="Y":"YES",Y="N":"NO",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Confirm Correct Patient Identity: "_SROIN
"RTN","SRONRPT0",27,0)
 S Y=$P(SR("VER"),"^",8),SROIN=$S(Y="Y":"YES",Y="N":"NO",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Confirm Procedure To Be Performed: "_SROIN
"RTN","SRONRPT0",28,0)
 S Y=$P(SR("VER"),"^",9),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"NOT APPLICABLE",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Confirm Site of the Procedure, Including Laterality: "_SROIN
"RTN","SRONRPT0",29,0)
 S Y=$P(SR("VER"),"^",10),SROIN=$S(Y=1:"YES, i-MED",Y=2:"YES, PAPER",Y=3:"YES, TELEPHONE",Y=4:"NO, EMERGENCY",Y=5:"NO, NOT EMERGENCY",Y="Y":"YES",Y="N":"NO",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Confirm Valid Consent: "_SROIN
"RTN","SRONRPT0",30,0)
 S Y=$P(SR("VER"),"^",11),SROIN=$S(Y="Y":"YES",Y="N":"NO",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Confirm Patient Position: "_SROIN
"RTN","SRONRPT0",31,0)
 S Y=$P(SR("VER"),"^",12),SROIN=$S(Y="Y":"YES",Y="N":"NO",1:"* NOT ENTERED *")
"RTN","SRONRPT0",32,0)
 D LINE(1) S @SRG@(SRI)="Confirm Procedure Site has been Marked Appropriately and that the Site of the " D LINE(1) S @SRG@(SRI)=" Mark is Visible After Prep and Draping: "_SROIN
"RTN","SRONRPT0",33,0)
 D LINE(1) S Y=$P(SR("VER"),"^",13),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"N/A",1:"* NOT ENTERED *") S @SRG@(SRI)="Pertinent Medical Images Have Been Confirmed: "_SROIN
"RTN","SRONRPT0",34,0)
 S Y=$P(SR("VER"),"^",14),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"NOT APPLICABLE",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Correct Medical Implant(s) is Available: "_SROIN
"RTN","SRONRPT0",35,0)
 S Y=$P(SR("VER"),"^",18),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"NOT APPLICABLE",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Availability of Special Equipment: "_SROIN
"RTN","SRONRPT0",36,0)
 S Y=$P(SR("VER"),"^",15),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"NOT APPLICABLE",Y="NI":"NOT INDICATED",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Appropriate Antibiotic Prophylaxis: "_SROIN
"RTN","SRONRPT0",37,0)
 S Y=$P(SR("VER"),"^",16),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"NOT APPLICABLE",Y="NI":"NOT INDICATED",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Appropriate Deep Vein Thrombosis Prophylaxis: "_SROIN
"RTN","SRONRPT0",38,0)
 S Y=$P(SR("VER"),"^",17),SROIN=$S(Y="Y":"YES",Y="N":"NO",Y="NA":"NOT APPLICABLE",1:"* NOT ENTERED *") D LINE(1) S @SRG@(SRI)="Blood Availability: "_SROIN
"RTN","SRONRPT0",39,0)
 S II=51 D ENSC
"RTN","SRONRPT0",40,0)
 S SRLF=1,Y=$P(SR(.6),"^",9),C=$P(^DD(130,.69,0),"^",2) D:Y'="" Y^DIQ S SRUSER=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT0",41,0)
 I 'SRALL,SRUSER="N/A" G TIME
"RTN","SRONRPT0",42,0)
 D LINE(1) S @SRG@(SRI)="Time-Out Document Completed By: "_SRUSER
"RTN","SRONRPT0",43,0)
 ;
"RTN","SRONRPT0",44,0)
TIME S Y=$P(SR(.6),"^",12),C=$P(^DD(130,74,0),"^",2) D:Y'="" Y^DIQ S SRTME=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT0",45,0)
 I 'SRALL,SRTME="N/A" G PREP
"RTN","SRONRPT0",46,0)
 D LINE(1) S @SRG@(SRI)="Time-Out Completed: "_SRTME
"RTN","SRONRPT0",47,0)
 S SRLF=1
"RTN","SRONRPT0",48,0)
 ;
"RTN","SRONRPT0",49,0)
PREP N SRSKIP S SRSKIP=0
"RTN","SRONRPT0",50,0)
 S Y=$P(SR(.1),"^",8),C=$P(^DD(130,.18,0),"^",2) D:Y'="" Y^DIQ,N(25) S SRUSER=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT0",51,0)
 S Y=$P(SR(.1),"^",7),C=$P(^DD(130,.175,0),"^",2) D:Y'="" Y^DIQ S SRAGNT=$S(Y="":"N/A",1:$E(Y,1,22))
"RTN","SRONRPT0",52,0)
 I 'SRALL,SRUSER="N/A",SRAGNT="N/A" G PREP2
"RTN","SRONRPT0",53,0)
 D LINE(1) S @SRG@(SRI)="Skin Prep By: "_SRUSER,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Skin Prep Agent: "_SRAGNT
"RTN","SRONRPT0",54,0)
 S SRSKIP=1
"RTN","SRONRPT0",55,0)
PREP2 S Y=$P(SR(.1),"^",12),C=$P(^DD(130,4,0),"^",2) D:Y'="" Y^DIQ,N(21) S SRUSER=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT0",56,0)
 S Y=$P(SR(31),"^",2),C=$P(^DD(130,8,0),"^",2) D:Y'="" Y^DIQ S SRAGNT=$S(Y="":"N/A",1:$E(Y,1,18))
"RTN","SRONRPT0",57,0)
 I 'SRALL,SRUSER="N/A",SRAGNT="N/A" G PREOP
"RTN","SRONRPT0",58,0)
 D LINE(1) S @SRG@(SRI)="Skin Prep By (2): "_SRUSER,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"2nd Skin Prep Agent: "_SRAGNT
"RTN","SRONRPT0",59,0)
 S SRSKIP=0 D LINE(1)
"RTN","SRONRPT0",60,0)
PREOP S Y=$P(SR(.1),"^",2),C=$P(^DD(130,.12,0),"^",2) D:Y'="" Y^DIQ S SRUSER=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT0",61,0)
 D:SRSKIP LINE(1) D LINE(1) S @SRG@(SRI)="Preop Surgical Site Hair Removal by: "_SRUSER
"RTN","SRONRPT0",62,0)
 S Y=$P(SR("VER"),"^",6),C=$P(^DD(130,506,0),"^",2) D:Y'="" Y^DIQ S SRHRM=$S(Y="":"* NOT ENTERED *",1:Y)
"RTN","SRONRPT0",63,0)
 D LINE(1) S @SRG@(SRI)="Surgical Site Hair Removal Method: "_$S($L(SRHRM)>43:"",1:SRHRM)
"RTN","SRONRPT0",64,0)
 I $L(SRHRM)>43 D LINE(1) S @SRG@(SRI)=$$SPACE(2)_SRHRM
"RTN","SRONRPT0",65,0)
 S II=49 D ENSC
"RTN","SRONRPT0",66,0)
 ;
"RTN","SRONRPT0",67,0)
POS S SRLF=1,SRLINE="Surgery Position(s): " I '$O(^SRF(SRTN,42,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT0",68,0)
 I $O(^SRF(SRTN,42,0)) D LINE(1) S @SRG@(SRI)=SRLINE D
"RTN","SRONRPT0",69,0)
 .S SRP=0 F  S SRP=$O(^SRF(SRTN,42,SRP)) Q:'SRP  S X=^SRF(SRTN,42,SRP,0),Z=$P(X,"^"),Y=$P(X,"^",2) D
"RTN","SRONRPT0",70,0)
 ..S SRPOS=$P(^SRO(132,Z,0),"^") D:Y D^DIQ S SRTIME=$S(Y'="":$P(Y,"@")_"  "_$P(Y,"@",2),1:"N/A")
"RTN","SRONRPT0",71,0)
 ..D LINE(1) S @SRG@(SRI)="  "_SRPOS,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Placed: "_SRTIME
"RTN","SRONRPT0",72,0)
 S SRLF=1,SRLINE="Restraints and Position Aids: "
"RTN","SRONRPT0",73,0)
 I '$O(^SRF(SRTN,20,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT0",74,0)
 I $O(^SRF(SRTN,20,0)) N SRRP D LINE(1) S @SRG@(SRI)=SRLINE,(SRRP,CNT)=0 F  S SRRP=$O(^SRF(SRTN,20,SRRP)) Q:'SRRP  S CNT=CNT+1,X=^SRF(SRTN,20,SRRP,0),Z=$P(X,"^"),Y=$P(X,"^",2),W=$P(X,"^",3) D
"RTN","SRONRPT0",75,0)
 .S SREST=$P(^SRO(132.05,Z,0),"^"),C=$P(^DD(130.31,1,0),"^",2) D:Y'="" Y^DIQ,N(31) S:Y="" Y="N/A"
"RTN","SRONRPT0",76,0)
 .D LINE(1) S @SRG@(SRI)="  "_SREST,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(36)_"Applied By: "_Y
"RTN","SRONRPT0",77,0)
 .I W'="" D LINE(1) S @SRG@(SRI)="      Comments: "_W
"RTN","SRONRPT0",78,0)
 S SRLF=1,X=$P(SR(.7),"^",5),SREL=$S(X'="":X,1:"N/A")
"RTN","SRONRPT0",79,0)
 S X=$P(SR(.5),"^",4),SRELP=$S(X:$P(^SRO(138,X,0),"^"),1:"N/A")
"RTN","SRONRPT0",80,0)
 S X=$P(SR(.5),"^",13),SRELP2=$S(X:$P(^SRO(138,X,0),"^"),1:"")
"RTN","SRONRPT0",81,0)
 S X=$P(SR(.7),"^"),SRC=$S(X'="":X,1:"N/A"),X=$P(SR(.7),"^",2),SRCT=$S(X'="":X,1:"N/A")
"RTN","SRONRPT0",82,0)
 I 'SRALL,SREL="N/A",SRELP="N/A",SRELP2="" G LAB
"RTN","SRONRPT0",83,0)
 D LINE(1) S @SRG@(SRI)="Electrocautery Unit:       "_SREL
"RTN","SRONRPT0",84,0)
 D LINE(1) S @SRG@(SRI)="ESU Coagulation Range:     "_SRC
"RTN","SRONRPT0",85,0)
 D LINE(1) S @SRG@(SRI)="ESU Cutting Range:         "_SRCT
"RTN","SRONRPT0",86,0)
 D LINE(1) S @SRG@(SRI)="Electroground Position(s): "_SRELP
"RTN","SRONRPT0",87,0)
 I SRELP2'="" D LINE(1) S @SRG@(SRI)=$$SPACE(27)_SRELP2
"RTN","SRONRPT0",88,0)
LAB S SRLF=1 I $O(^SRF(SRTN,9,0))!SRALL D LAB1
"RTN","SRONRPT0",89,0)
 S SRLF=1 I $O(^SRF(SRTN,6,0)) D LINE(1) S @SRG@(SRI)="Anesthesia Technique(s):" S ANE=0 F  S ANE=$O(^SRF(SRTN,6,ANE)) Q:'ANE  D ANE
"RTN","SRONRPT0",90,0)
 I '$O(^SRF(SRTN,6,0)),SRALL D LINE(1) S @SRG@(SRI)="Anesthesia Technique(s): N/A"
"RTN","SRONRPT0",91,0)
 D ^SRONRPT1
"RTN","SRONRPT0",92,0)
 Q
"RTN","SRONRPT0",93,0)
NURSE ; nurse info
"RTN","SRONRPT0",94,0)
 N CNT,CIRC,I,NURSE,SCRU,X,Y,Z
"RTN","SRONRPT0",95,0)
 S (CNT,CIRC)=0 F  S CIRC=$O(^SRF(SRTN,19,CIRC)) Q:'CIRC  S CNT=CNT+1 D
"RTN","SRONRPT0",96,0)
 .S Z=^SRF(SRTN,19,CIRC,0),Y=$P(Z,"^"),C=$P(^DD(130.28,.01,0),"^",2) D Y^DIQ,N(21) S SRX=Y
"RTN","SRONRPT0",97,0)
 .S Y=$P(Z,"^",3),C=$P(^DD(130.28,3,0),"^",2) D:Y'="" Y^DIQ S CIRC(CNT)=SRX_" ("_Y_")"
"RTN","SRONRPT0",98,0)
 S (CNT,SCRU)=0 F  S SCRU=$O(^SRF(SRTN,23,SCRU)) Q:'SCRU  S CNT=CNT+1 D
"RTN","SRONRPT0",99,0)
 .S Z=^SRF(SRTN,23,SCRU,0),Y=$P(Z,"^"),C=$P(^DD(130.36,.01,0),"^",2) D Y^DIQ,N(21) S SRX=Y
"RTN","SRONRPT0",100,0)
 .S Y=$P(Z,"^",3),C=$P(^DD(130.36,3,0),"^",2) D:Y'="" Y^DIQ S SCRU(CNT)=SRX_" ("_Y_")"
"RTN","SRONRPT0",101,0)
 S:'$D(SCRU(1)) SCRU(1)="N/A" S:'$D(CIRC(1)) CIRC(1)="N/A"
"RTN","SRONRPT0",102,0)
 F I=1:1 Q:('$D(SCRU(I))&'$D(CIRC(I)))  S NURSE(I)=$S($D(SCRU(I)):SCRU(I),1:"")_"^"_$S($D(CIRC(I)):CIRC(I),1:"")
"RTN","SRONRPT0",103,0)
 S I=0 F  S I=$O(NURSE(I)) Q:'I  D LINE(1) S @SRG@(SRI)=$$SPACE(2)_$P(NURSE(I),"^") S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_$P(NURSE(I),"^",2)
"RTN","SRONRPT0",104,0)
 Q
"RTN","SRONRPT0",105,0)
LAB1 N SRSP S SRLF=1 D LINE(1) S @SRG@(SRI)="Material Sent to Laboratory for Analysis: "
"RTN","SRONRPT0",106,0)
 I 'SRALL,'$O(^SRF(SRTN,9,0)),'$O(^SRF(SRTN,41,0)) S @SRG@(SRI)=@SRG@(SRI)_"N/A" Q
"RTN","SRONRPT0",107,0)
 D LINE(1) S @SRG@(SRI)="Specimens: " D
"RTN","SRONRPT0",108,0)
 .I '$O(^SRF(SRTN,9,0)) S @SRG@(SRI)=@SRG@(SRI)_"N/A" Q
"RTN","SRONRPT0",109,0)
 .S SRSP=0 F  S SRSP=$O(^SRF(SRTN,9,SRSP)) Q:'SRSP  D LINE(1) S @SRG@(SRI)=$$SPACE(2)_^SRF(SRTN,9,SRSP,0)
"RTN","SRONRPT0",110,0)
 D LINE(1) S @SRG@(SRI)="Cultures:  " D
"RTN","SRONRPT0",111,0)
 .I '$O(^SRF(SRTN,41,0)) S @SRG@(SRI)=@SRG@(SRI)_"N/A" Q
"RTN","SRONRPT0",112,0)
 .S SRSP=0 F  S SRSP=$O(^SRF(SRTN,41,SRSP)) Q:'SRSP  D LINE(1) S @SRG@(SRI)=$$SPACE(2)_^SRF(SRTN,41,SRSP,0)
"RTN","SRONRPT0",113,0)
 Q
"RTN","SRONRPT0",114,0)
N(SRL) N SRN I $L(Y)>SRL S SRN=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=SRN
"RTN","SRONRPT0",115,0)
 Q
"RTN","SRONRPT0",116,0)
SPACE(NUM) ; create spaces
"RTN","SRONRPT0",117,0)
 ;pass in position returns number of needed spaces
"RTN","SRONRPT0",118,0)
 I '$D(@SRG@(SRI)) S @SRG@(SRI)=""
"RTN","SRONRPT0",119,0)
 Q $J("",NUM-$L(@SRG@(SRI)))
"RTN","SRONRPT0",120,0)
LINE(NUM) ; create carriage returns
"RTN","SRONRPT0",121,0)
 I $G(SRLF) S NUM=NUM+1,SRLF=0
"RTN","SRONRPT0",122,0)
 F J=1:1:NUM S SRI=SRI+1,@SRG@(SRI)=""
"RTN","SRONRPT0",123,0)
 Q
"RTN","SRONRPT0",124,0)
ANE ; print anesthesia technique
"RTN","SRONRPT0",125,0)
 N A,AGNT,C,CNT,DRUG
"RTN","SRONRPT0",126,0)
 S A=^SRF(SRTN,6,ANE,0),Y=$P(A,"^"),C=$P(^DD(130.06,.01,0),"^",2) D:Y'="" Y^DIQ D LINE(1) S Y=Y_$S($P(A,"^",3)="Y":"  (PRINCIPAL)",1:""),@SRG@(SRI)=$$SPACE(2)_Y
"RTN","SRONRPT0",127,0)
 Q
"RTN","SRONRPT0",128,0)
ENSC N X,SRLINE
"RTN","SRONRPT0",129,0)
 D LINE(1) S @SRG@(SRI)=$S(II=51:"Checklist Comment: ",II=49:"  Hair Removal Comments: ",II=53:"Wound Sweep Comment: ",II=54:"Intra-Operative X-Ray Comment: ",1:"") D
"RTN","SRONRPT0",130,0)
 .I '$O(^SRF(SRTN,II,0)) S @SRG@(SRI)=@SRG@(SRI)_"NO COMMENTS ENTERED" Q
"RTN","SRONRPT0",131,0)
 .S SRLINE=0 F  S SRLINE=$O(^SRF(SRTN,II,SRLINE)) Q:'SRLINE  S X=^SRF(SRTN,II,SRLINE,0) D COMM^SRONRPT3(X,3)
"RTN","SRONRPT0",132,0)
 Q
"RTN","SRONRPT1")
0^62^B28505102^B27292461
"RTN","SRONRPT1",1,0)
SRONRPT1 ;BIR/ADM - NURSE INTRAOP REPORT ;06/08/2011
"RTN","SRONRPT1",2,0)
 ;;3.0;Surgery;**100,143,157,176,182**;24 Jun 93;Build 49
"RTN","SRONRPT1",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONRPT1",4,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SRONRPT1",5,0)
 ;**         are prohibited.
"RTN","SRONRPT1",6,0)
 ;
"RTN","SRONRPT1",7,0)
 S SRLF=1 N SRTD S SRTD=$P($G(^SRF(SRTN,3)),"^") I SRTD="",SRALL D LINE(1) S @SRG@(SRI)="Tubes and Drains: N/A"
"RTN","SRONRPT1",8,0)
 I SRTD'="" D LINE(1) S @SRG@(SRI)="Tubes and Drains: " D LINE(1) S @SRG@(SRI)="  "_SRTD
"RTN","SRONRPT1",9,0)
 S SRLF=1 I '$O(^SRF(SRTN,2,0)),SRALL D LINE(1) S @SRG@(SRI)="Tourniquet: N/A"
"RTN","SRONRPT1",10,0)
 I $O(^SRF(SRTN,2,0)) D LINE(1) S @SRG@(SRI)="Tourniquet:" D TOUR
"RTN","SRONRPT1",11,0)
 S SRLF=1,SRLINE="Thermal Unit: " I '$O(^SRF(SRTN,21,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT1",12,0)
 I $O(^SRF(SRTN,21,0)) D LINE(1) S @SRG@(SRI)=SRLINE D THERM
"RTN","SRONRPT1",13,0)
 S SRLF=1,SRLINE="Prosthesis Installed: " I '$O(^SRF(SRTN,1,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT1",14,0)
 I $O(^SRF(SRTN,1,0)) D LINE(1) S @SRG@(SRI)=SRLINE D PRO
"RTN","SRONRPT1",15,0)
 S SRLF=1,SRLINE="Medications: " I '$O(^SRF(SRTN,22,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT1",16,0)
 I $O(^SRF(SRTN,22,0)) D LINE(1) S @SRG@(SRI)=SRLINE D MED
"RTN","SRONRPT1",17,0)
 D ^SRONRPT2
"RTN","SRONRPT1",18,0)
 Q
"RTN","SRONRPT1",19,0)
MED ; medications
"RTN","SRONRPT1",20,0)
 N ADBY,ADM,COMMENT,DOSE,DRUG,MED,MM,ORBY,ROUTE,TIME
"RTN","SRONRPT1",21,0)
 S MED=0 F  S MED=$O(^SRF(SRTN,22,MED)) Q:'MED  D
"RTN","SRONRPT1",22,0)
 .S Y=$P(^SRF(SRTN,22,MED,0),"^"),C=$P(^DD(130.33,.01,0),"^",2) D Y^DIQ,LINE(1) S @SRG@(SRI)="  "_Y,ADM=0 F  S ADM=$O(^SRF(SRTN,22,MED,1,ADM)) Q:'ADM  D
"RTN","SRONRPT1",23,0)
 ..S MM=^SRF(SRTN,22,MED,1,ADM,0),Y=$P(MM,"^") D D^DIQ S TIME=$P(Y,"@")_"  "_$P(Y,"@",2)
"RTN","SRONRPT1",24,0)
 ..S DOSE=$P(MM,"^",2),X=$P(MM,"^",3) S:X="" ORBY="N/A" I X S Y=$P(^VA(200,X,0),"^") D N(20) S ORBY=Y
"RTN","SRONRPT1",25,0)
 ..S X=$P(MM,"^",4) S:X="" ADBY="N/A" I X S Y=$P(^VA(200,X,0),"^") D N(29) S ADBY=Y
"RTN","SRONRPT1",26,0)
 ..S Y=$P(MM,"^",5),C=$P(^DD(130.34,4,0),"^",2) D:Y'="" Y^DIQ S ROUTE=Y
"RTN","SRONRPT1",27,0)
 ..S COMMENT=$P(MM,"^",6) S:COMMENT="" COMMENT="N/A"
"RTN","SRONRPT1",28,0)
 ..D LINE(1) S @SRG@(SRI)="    Time Administered: "_TIME D LINE(1) S @SRG@(SRI)="      Route: "_ROUTE,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Dosage: "_DOSE
"RTN","SRONRPT1",29,0)
 ..D LINE(1) S @SRG@(SRI)="      Ordered By: "_ORBY S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Admin By: "_ADBY
"RTN","SRONRPT1",30,0)
 ..D LINE(1) S @SRG@(SRI)="      Comments: "_COMMENT
"RTN","SRONRPT1",31,0)
 Q
"RTN","SRONRPT1",32,0)
N(SRL) N SRN I $L(Y)>SRL S SRN=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=SRN
"RTN","SRONRPT1",33,0)
 Q
"RTN","SRONRPT1",34,0)
PRO ; prosthesis
"RTN","SRONRPT1",35,0)
 N C,ITEM,MODEL,PRO,QTY,SERI,SERIAL,SLOT,SIZE,SRISC,SRSED,SRRN,STERILE,VENDOR,SREAD
"RTN","SRONRPT1",36,0)
 S PRO=0 F  S PRO=$O(^SRF(SRTN,1,PRO)) Q:'PRO  D
"RTN","SRONRPT1",37,0)
 .S X=^SRF(SRTN,1,PRO,0),ITEM=$P(X,"^"),VENDOR=$P(X,"^",2),MODEL=$P(X,"^",3),SERIAL=$P(X,"^",5),Y=$P(X,"^",7),C=$P(^DD(130.01,5,0),"^",2) D:Y'="" Y^DIQ S STERILE=$S(Y'="":Y,1:"N/A")
"RTN","SRONRPT1",38,0)
 .S X=$G(^SRF(SRTN,1,PRO,1)),SIZE=$P(X,"^"),QTY=$P(X,"^",2),SLOT=$P(X,"^",3),SERI=$P(X,"^",4)
"RTN","SRONRPT1",39,0)
 .S Y=$P(X,"^",5),C=$P(^DD(130.01,13,0),"^",2) D:Y'="" Y^DIQ S SREAD=$S(Y="":"NOT ENTERED",1:Y)
"RTN","SRONRPT1",40,0)
 .S X=$G(^SRF(SRTN,1,PRO,2)),SRISC=$S($P(X,"^")="Y":"YES",1:$P(X,"^"))
"RTN","SRONRPT1",41,0)
 .S Y=$P(X,"^",2),C=$P(^DD(130.01,9,0),"^",2) D:Y'="" Y^DIQ S SRSED=$S(Y="":"NOT ENTERED",1:Y)
"RTN","SRONRPT1",42,0)
 .S Y=$P(X,"^",3),C=$P(^DD(130.01,10,0),"^",2) D:Y'="" Y^DIQ S SRRN=$S(Y="":"NOT ENTERED",1:Y)
"RTN","SRONRPT1",43,0)
 .D LINE(1) S @SRG@(SRI)="  Item: "_$P(^SRO(131.9,ITEM,0),"^")
"RTN","SRONRPT1",44,0)
 .D LINE(1) S @SRG@(SRI)="    Implant Sterility Checked (Y/N): "_$S(SRISC'="":SRISC,1:"NOT ENTERED")
"RTN","SRONRPT1",45,0)
 .D LINE(1) S @SRG@(SRI)="    Sterility Expiration Date: "_SRSED
"RTN","SRONRPT1",46,0)
 .D LINE(1) S @SRG@(SRI)="    RN Verifier: "_SRRN
"RTN","SRONRPT1",47,0)
 .D LINE(1) S @SRG@(SRI)="    Vendor: "_$S(VENDOR'="":VENDOR,1:"N/A")
"RTN","SRONRPT1",48,0)
 .D LINE(1) S @SRG@(SRI)="    Model: "_$S(MODEL'="":MODEL,1:"N/A")
"RTN","SRONRPT1",49,0)
 .D LINE(1) S @SRG@(SRI)="    Lot Number: "_$S(SLOT'="":SLOT,1:"N/A")
"RTN","SRONRPT1",50,0)
 .D LINE(1) S @SRG@(SRI)="    Serial Number: "_$S(SERI'="":SERI,1:"N/A")
"RTN","SRONRPT1",51,0)
 .D LINE(1) S:SERIAL'="" @SRG@(SRI)="    Lot/Serial Number: "_$S(SERIAL'="":SERIAL,1:"N/A") S @SRG@(SRI)=@SRG@(SRI)_$S(SERIAL'="":$$SPACE(53),1:"    ")_"Sterile Resp: "_STERILE
"RTN","SRONRPT1",52,0)
 .D LINE(1) S @SRG@(SRI)="    Size: "_$S(SIZE'="":SIZE,1:"N/A"),@SRG@(SRI)=@SRG@(SRI)_$$SPACE(53)_"Quantity: "_$S(QTY'="":QTY,1:"N/A")
"RTN","SRONRPT1",53,0)
 .D LINE(1) S @SRG@(SRI)="    Provider Read Back Performed: "_SREAD
"RTN","SRONRPT1",54,0)
 Q
"RTN","SRONRPT1",55,0)
THERM ; thermal unit
"RTN","SRONRPT1",56,0)
 N OFF,ON,TEMP,TH,UNIT S TH=0 F  S TH=$O(^SRF(SRTN,21,TH)) Q:'TH  D
"RTN","SRONRPT1",57,0)
 .S UNIT=^SRF(SRTN,21,TH,0),TEMP=$P(UNIT,"^",3),TEMP=$S(TEMP'="":TEMP,1:"N/A"),ON=$P(UNIT,"^",2),OFF=$P(UNIT,"^",4)
"RTN","SRONRPT1",58,0)
 .D LINE(1) S @SRG@(SRI)="  "_$P(UNIT,"^"),@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Temperature: "_TEMP
"RTN","SRONRPT1",59,0)
 .S Y=ON D:Y D^DIQ S ON=$S(Y="":"N/A",1:$P(Y,"@")_"  "_$P(Y,"@",2)),Y=OFF D:Y D^DIQ S OFF=$S(Y="":"N/A",1:$P(Y,"@")_"  "_$P(Y,"@",2))
"RTN","SRONRPT1",60,0)
 .D LINE(1) S @SRG@(SRI)="    Time On: "_ON,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Time Off: "_OFF
"RTN","SRONRPT1",61,0)
 Q
"RTN","SRONRPT1",62,0)
TOUR ; tourniquet info
"RTN","SRONRPT1",63,0)
 N APBY,C,M,PRESS,SITE,TIME,TIME2,TOUR
"RTN","SRONRPT1",64,0)
 S TOUR=0 F  S TOUR=$O(^SRF(SRTN,2,TOUR)) Q:'TOUR  D
"RTN","SRONRPT1",65,0)
 .S M=^SRF(SRTN,2,TOUR,0),Y=$P(M,"^") D D^DIQ S TIME=$P(Y,"@")_"  "_$P(Y,"@",2),Y=$P(M,"^",4) S TIME2="NOT ENTERED" I Y D D^DIQ S TIME2=$P(Y,"@")_"  "_$P(Y,"@",2)
"RTN","SRONRPT1",66,0)
 .D LINE(1) S @SRG@(SRI)="  Time Applied: "_TIME S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Time Released: "_TIME2
"RTN","SRONRPT1",67,0)
 .S Y=$P(M,"^",2),C=$P(^DD(130.02,1,0),"^",2) D:Y'="" Y^DIQ S SITE=$S(Y="":"NOT ENTERED",1:Y),X=$P(M,"^",5),PRESS=$S(X="":"N/A",1:X)
"RTN","SRONRPT1",68,0)
 .D LINE(1) S @SRG@(SRI)="    Site Applied: "_SITE,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Pressure Applied (in TORR): "_PRESS
"RTN","SRONRPT1",69,0)
 .S Y=$P(M,"^",3),C=$P(^DD(130.02,2,0),"^",2) D:Y'="" Y^DIQ S APBY=$S(Y="":"N/A",1:Y) D LINE(1) S @SRG@(SRI)="    Applied By: "_APBY
"RTN","SRONRPT1",70,0)
 Q
"RTN","SRONRPT1",71,0)
SPACE(NUM) ; create spaces
"RTN","SRONRPT1",72,0)
 ;pass in position returns number of needed spaces
"RTN","SRONRPT1",73,0)
 I '$D(@SRG@(SRI)) S @SRG@(SRI)=""
"RTN","SRONRPT1",74,0)
 Q $J("",NUM-$L(@SRG@(SRI)))
"RTN","SRONRPT1",75,0)
LINE(NUM) ; create carriage returns
"RTN","SRONRPT1",76,0)
 I $G(SRLF) S NUM=NUM+1,SRLF=0
"RTN","SRONRPT1",77,0)
 F J=1:1:NUM S SRI=SRI+1,@SRG@(SRI)=""
"RTN","SRONRPT1",78,0)
 Q
"RTN","SRONRPT2")
0^63^B25607346^B19811275
"RTN","SRONRPT2",1,0)
SRONRPT2 ;BIR/ADM - NURSE INTRAOP REPORT ; [ 09/08/03  2:47 PM ]
"RTN","SRONRPT2",2,0)
 ;;3.0;Surgery;**100,182**;24 Jun 93;Build 49
"RTN","SRONRPT2",3,0)
 ;
"RTN","SRONRPT2",4,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONRPT2",5,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SRONRPT2",6,0)
 ;**         are prohibited.
"RTN","SRONRPT2",7,0)
 ;
"RTN","SRONRPT2",8,0)
 N BLOOD,COLOR,CONS,COUNTER,DRESS,INSTR,INTEG,INTXRAY,MOOD,PACK,SHARP,SPONGE,SRPIR,URINE,VERIFY,WOUND
"RTN","SRONRPT2",9,0)
 S SRLF=1,SRLINE="Irrigation Solution(s): " I '$O(^SRF(SRTN,26,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT2",10,0)
 I $O(^SRF(SRTN,26,0)) D LINE(1) S @SRG@(SRI)=SRLINE D IRR
"RTN","SRONRPT2",11,0)
 S SRLF=1,SRLINE="Blood Replacement Fluids: " I '$O(^SRF(SRTN,4,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT2",12,0)
 I $O(^SRF(SRTN,4,0)) D LINE(1) S @SRG@(SRI)=SRLINE D REP
"RTN","SRONRPT2",13,0)
 S SRLF=1,SR(25)=$G(^SRF(SRTN,25)),SPONGE=$P(SR(25),"^"),SHARP=$P(SR(25),"^",2),INSTR=$P(SR(25),"^",3)
"RTN","SRONRPT2",14,0)
 S SRPIR=$P(SR(25),"^",6),WOUND=$P(SR(25),"^",7),INTXRAY=$P(SR(25),"^",8)
"RTN","SRONRPT2",15,0)
 S Y=$P(SR(25),"^",5),C=$P(^DD(130,48,0),"^",2) D:Y'="" Y^DIQ S:Y="" Y="N/A" S VERIFY=Y
"RTN","SRONRPT2",16,0)
 S Y=SRPIR,C=$P(^DD(130,630,0),"^",2) D:Y'="" Y^DIQ S SRPIR=$S(Y'="":Y,1:"* NOT ENTERED *")
"RTN","SRONRPT2",17,0)
 S Y=WOUND,C=$P(^DD(130,633,0),"^",2) D:Y'="" Y^DIQ S WOUND=$S(Y'="":Y,1:"* NOT ENTERED *")
"RTN","SRONRPT2",18,0)
 S Y=INTXRAY,C=$P(^DD(130,636,0),"^",2) D:Y'="" Y^DIQ S INTXRAY=$S(Y'="":Y,1:"* NOT ENTERED *")
"RTN","SRONRPT2",19,0)
 S Y=SPONGE,C=$P(^DD(130,44,0),"^",2) D:Y'="" Y^DIQ S SPONGE=$S(Y'="":Y,VERIFY'="N/A"!(VERIFY'="NA"):"* NOT ENTERED *",1:"N/A")
"RTN","SRONRPT2",20,0)
 S Y=SHARP,C=$P(^DD(130,45,0),"^",2) D:Y'="" Y^DIQ S SHARP=$S(Y'="":Y,VERIFY'="N/A"!(VERIFY'="NA"):"* NOT ENTERED *",1:"N/A")
"RTN","SRONRPT2",21,0)
 S Y=INSTR,C=$P(^DD(130,46,0),"^",2) D:Y'="" Y^DIQ S INSTR=$S(Y'="":Y,VERIFY'="N/A"!(VERIFY'="NA"):"* NOT ENTERED *",1:"N/A")
"RTN","SRONRPT2",22,0)
 S Y=$P(SR(25),"^",4),C=$P(^DD(130,47,0),"^",2) D:Y'="" Y^DIQ S COUNTER=$S(Y'="":Y,VERIFY'="N/A":"* NOT ENTERED *",1:"N/A")
"RTN","SRONRPT2",23,0)
 D LINE(1) S @SRG@(SRI)="Possible Item Retention:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(28)_SRPIR
"RTN","SRONRPT2",24,0)
SPONGE I 'SRALL,(SPONGE="NA"!(SPONGE="N/A")) G SHARP
"RTN","SRONRPT2",25,0)
 D LINE(1) S @SRG@(SRI)="Sponge Final Count Correct:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(28)_SPONGE
"RTN","SRONRPT2",26,0)
SHARP I 'SRALL,(SHARP="NA"!(SHARP="N/A")) G INSTR
"RTN","SRONRPT2",27,0)
 D LINE(1) S @SRG@(SRI)="Sharps Final Count Correct:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(28)_SHARP
"RTN","SRONRPT2",28,0)
INSTR I 'SRALL,(INSTR="NA"!(INSTR="N/A")) G WS
"RTN","SRONRPT2",29,0)
 D LINE(1) S @SRG@(SRI)="Instrument Final Count Correct: "_INSTR
"RTN","SRONRPT2",30,0)
WS I 'SRALL,INSTR="N/A" G XRAY
"RTN","SRONRPT2",31,0)
 D LINE(1) S @SRG@(SRI)="Wound Sweep:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(28)_WOUND
"RTN","SRONRPT2",32,0)
 S II=53 D ENSC^SRONRPT0
"RTN","SRONRPT2",33,0)
XRAY I 'SRALL,INSTR="N/A" G COUNT
"RTN","SRONRPT2",34,0)
 D LINE(1) S @SRG@(SRI)="Intra-Operative X-Ray:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(28)_INTXRAY
"RTN","SRONRPT2",35,0)
 S II=54 D ENSC^SRONRPT0
"RTN","SRONRPT2",36,0)
COUNT I 'SRALL,COUNTER="N/A" G CNTV
"RTN","SRONRPT2",37,0)
 D LINE(1) S @SRG@(SRI)="Counter:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(26)_COUNTER
"RTN","SRONRPT2",38,0)
CNTV I 'SRALL,VERIFY="N/A" G DRESS
"RTN","SRONRPT2",39,0)
 D LINE(1) S @SRG@(SRI)="Counts Verified By: ",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(26)_VERIFY
"RTN","SRONRPT2",40,0)
DRESS S SRLF=1,SR(35)=$G(^SRF(SRTN,35)),DRESS=$P(SR(35),"^"),Y=$P(SR(.8),"^",11),C=$P(^DD(130,.875,0),"^",2) D:Y'="" Y^DIQ S PACK=$S(Y'="":Y,1:"N/A")
"RTN","SRONRPT2",41,0)
 S DRESS=$S(DRESS'="":DRESS,1:"N/A") I 'SRALL,DRESS="N/A" G PACK
"RTN","SRONRPT2",42,0)
 D LINE(1) S @SRG@(SRI)="Dressing: "_DRESS
"RTN","SRONRPT2",43,0)
PACK I 'SRALL,PACK="N/A" G LOSS
"RTN","SRONRPT2",44,0)
 D LINE(1) S @SRG@(SRI)="Packing:  "_PACK
"RTN","SRONRPT2",45,0)
LOSS S SRLF=1,BLOOD=$P(SR(.2),"^",5),URINE=$P(SR(.2),"^",16) I 'SRALL,BLOOD="",URINE="" G NEXT
"RTN","SRONRPT2",46,0)
 S BLOOD=$S(BLOOD="":"",1:BLOOD_" ml"),URINE=$S(URINE="":"",1:URINE_" ml") D LINE(1) S @SRG@(SRI)="Blood Loss: "_BLOOD,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Urine Output: "_URINE
"RTN","SRONRPT2",47,0)
NEXT D ^SRONRPT3
"RTN","SRONRPT2",48,0)
 Q
"RTN","SRONRPT2",49,0)
REP ; replacement fluids
"RTN","SRONRPT2",50,0)
 N FLUID,QTY,REP,SRCE,VID,SRCT
"RTN","SRONRPT2",51,0)
 S REP=0 F  S REP=$O(^SRF(SRTN,4,REP)) Q:'REP  D
"RTN","SRONRPT2",52,0)
 .S X=^SRF(SRTN,4,REP,0),FLUID=$P(^SRO(133.7,$P(X,"^"),0),"^"),QTY=$P(X,"^",2),SRCE=$P(X,"^",4),VID=$P(X,"^",5)
"RTN","SRONRPT2",53,0)
 .S:QTY="" QTY="N/A" S:SRCE="" SRCE="N/A" S:VID="" VID="N/A"
"RTN","SRONRPT2",54,0)
 .D LINE(1) S @SRG@(SRI)="  "_FLUID,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Quantity: "_QTY_" ml"
"RTN","SRONRPT2",55,0)
 .D LINE(1) S @SRG@(SRI)="    Source Identification: "_SRCE
"RTN","SRONRPT2",56,0)
 .D LINE(1) S @SRG@(SRI)="    VA Identification: "_VID
"RTN","SRONRPT2",57,0)
 .S (SRCT,SRLINE)=0 F  S SRLINE=$O(^SRF(SRTN,4,REP,1,SRLINE)) Q:'SRLINE  S SRCT=SRCT+1
"RTN","SRONRPT2",58,0)
 .Q:'SRCT  D LINE(1) S SRLINE=0,SRL=4,SRLINE=$O(^SRF(SRTN,4,REP,1,SRLINE)),X=^SRF(SRTN,4,REP,1,SRLINE,0)
"RTN","SRONRPT2",59,0)
 .I SRCT=1,$L(X)<67 S @SRG@(SRI)="    Comments: "_X Q
"RTN","SRONRPT2",60,0)
 .S @SRG@(SRI)="    Comments:" D COMM^SRONRPT3(X,SRL)
"RTN","SRONRPT2",61,0)
 .F  S SRLINE=$O(^SRF(SRTN,4,REP,1,SRLINE)) Q:'SRLINE  S X=^SRF(SRTN,4,REP,1,SRLINE,0) D COMM^SRONRPT3(X,SRL)
"RTN","SRONRPT2",62,0)
 Q
"RTN","SRONRPT2",63,0)
IRR ; irrigations
"RTN","SRONRPT2",64,0)
 N AMT,DOC,IRR,MM,SOLU,TIME,USED
"RTN","SRONRPT2",65,0)
 S IRR=0 F  S IRR=$O(^SRF(SRTN,26,IRR)) Q:'IRR  D
"RTN","SRONRPT2",66,0)
 .S X=^SRF(SRTN,26,IRR,0),SOLU=$P(^SRO(133.6,X,0),"^") D LINE(1) S @SRG@(SRI)="  "_SOLU
"RTN","SRONRPT2",67,0)
 .S USED=0 F  S USED=$O(^SRF(SRTN,26,IRR,1,USED)) Q:'USED  S MM=^SRF(SRTN,26,IRR,1,USED,0),Y=$P(MM,"^") D D^DIQ S TIME=$P(Y,"@")_"  "_$P(Y,"@",2) D
"RTN","SRONRPT2",68,0)
 ..D LINE(1) S @SRG@(SRI)="    Time Used: "_TIME S AMT=$P(MM,"^",2) S:AMT="" AMT="N/A"
"RTN","SRONRPT2",69,0)
 ..S Y=$P(MM,"^",3),C=$P(^DD(130.39,2,0),"^",2) D:Y'="" Y^DIQ,N(29) S:Y="" Y="N/A" S DOC=Y
"RTN","SRONRPT2",70,0)
 ..D LINE(1) S @SRG@(SRI)="      Amount: "_AMT,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Provider: "_DOC
"RTN","SRONRPT2",71,0)
 Q
"RTN","SRONRPT2",72,0)
N(SRL) N SRN I $L(Y)>SRL S SRN=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=SRN
"RTN","SRONRPT2",73,0)
 Q
"RTN","SRONRPT2",74,0)
SPACE(NUM) ; create spaces
"RTN","SRONRPT2",75,0)
 ;pass in position returns number of needed spaces
"RTN","SRONRPT2",76,0)
 I '$D(@SRG@(SRI)) S @SRG@(SRI)=""
"RTN","SRONRPT2",77,0)
 Q $J("",NUM-$L(@SRG@(SRI)))
"RTN","SRONRPT2",78,0)
LINE(NUM) ; create carriage returns
"RTN","SRONRPT2",79,0)
 I $G(SRLF) S NUM=NUM+1,SRLF=0
"RTN","SRONRPT2",80,0)
 F J=1:1:NUM S SRI=SRI+1,@SRG@(SRI)=""
"RTN","SRONRPT2",81,0)
 Q
"RTN","SRONRPT3")
0^64^B27091661^B26846038
"RTN","SRONRPT3",1,0)
SRONRPT3 ;BIR/ADM - NURSE INTRAOP REPORT ;10/05/2011
"RTN","SRONRPT3",2,0)
 ;;3.0;Surgery;**100,176,182**;24 Jun 93;Build 49
"RTN","SRONRPT3",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONRPT3",4,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SRONRPT3",5,0)
 ;**         are prohibited.
"RTN","SRONRPT3",6,0)
 ;
"RTN","SRONRPT3",7,0)
 S SRLF=1,MOOD=$P(SR(.8),"^"),CONS=$P(SR(.8),"^",10),INTEG=$P(SR(.7),"^",6),COLOR=$P(SR(.7),"^",7)
"RTN","SRONRPT3",8,0)
 S MOOD=$S(MOOD:$P(^SRO(135.3,MOOD,0),"^"),1:"N/A"),CONS=$S(CONS:$P(^SRO(135.4,CONS,0),"^"),1:"N/A"),INTEG=$S(INTEG:$P(^SRO(135.2,INTEG,0),"^"),1:"N/A")
"RTN","SRONRPT3",9,0)
 S Y=COLOR,C=$P(^DD(130,.77,0),"^",2) D:Y'="" Y^DIQ S COLOR=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT3",10,0)
 I 'SRALL,MOOD="N/A" G CONS
"RTN","SRONRPT3",11,0)
 D LINE(1) S @SRG@(SRI)="Postoperative Mood:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(30)_MOOD
"RTN","SRONRPT3",12,0)
CONS I 'SRALL,CONS="N/A" G INTEG
"RTN","SRONRPT3",13,0)
 D LINE(1) S @SRG@(SRI)="Postoperative Consciousness:  "_CONS
"RTN","SRONRPT3",14,0)
INTEG I 'SRALL,INTEG="N/A" G COLOR
"RTN","SRONRPT3",15,0)
 D LINE(1) S @SRG@(SRI)="Postoperative Skin Integrity: "_INTEG
"RTN","SRONRPT3",16,0)
COLOR I 'SRALL,COLOR="N/A" G NEXT
"RTN","SRONRPT3",17,0)
 D LINE(1) S @SRG@(SRI)="Postoperative Skin Color:     "_COLOR
"RTN","SRONRPT3",18,0)
NEXT S SRLF=1,SRLINE="Laser Unit(s): " I '$O(^SRF(SRTN,44,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT3",19,0)
 I $O(^SRF(SRTN,44,0)) D LINE(1) S @SRG@(SRI)=SRLINE D LASER
"RTN","SRONRPT3",20,0)
 S Y=$P(SR(.7),"^",3) I 'SRALL,Y="" G CS
"RTN","SRONRPT3",21,0)
 S Y=$S(Y="Y":"YES",Y="N":"NO",1:"N/A") D LINE(2) S @SRG@(SRI)="Sequential Compression Device: "_Y
"RTN","SRONRPT3",22,0)
CS S SRLF=1,SRLINE="Cell Saver(s): " I '$O(^SRF(SRTN,45,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT3",23,0)
 I $O(^SRF(SRTN,45,0)) D LINE(1) S @SRG@(SRI)=SRLINE D SAVE
"RTN","SRONRPT3",24,0)
 S X=$P($G(^SRF(SRTN,46)),"^") S:X="" X="N/A" I 'SRALL,X="N/A" S SRLF=0 G FLASH
"RTN","SRONRPT3",25,0)
 D LINE(2) S @SRG@(SRI)="Devices: "_X
"RTN","SRONRPT3",26,0)
FLASH S SRLF=1,SRLINE="Immediate Use Steam Sterilization Episodes: " I '$D(^SRF(SRTN,52)) D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT3",27,0)
 I $D(^SRF(SRTN,52)) D LINE(1) S @SRG@(SRI)=SRLINE S X=$G(^SRF(SRTN,52)) D
"RTN","SRONRPT3",28,0)
 .D LINE(1) S @SRG@(SRI)="   Contamination:                       "_$P(X,"^")
"RTN","SRONRPT3",29,0)
 .D LINE(1) S @SRG@(SRI)="   SPS Processing/OR Management Issues: "_$P(X,"^",2)
"RTN","SRONRPT3",30,0)
 .D LINE(1) S @SRG@(SRI)="   Emergency Case:                      "_$P(X,"^",3)
"RTN","SRONRPT3",31,0)
 .D LINE(1) S @SRG@(SRI)="   No Better Option:                    "_$P(X,"^",4)
"RTN","SRONRPT3",32,0)
 .D LINE(1) S @SRG@(SRI)="   Loaner or Short Notice Instrument:   "_$P(X,"^",5)
"RTN","SRONRPT3",33,0)
 .D LINE(1) S @SRG@(SRI)="   Decontamination of Instruments Contaminated During the Case: "_$P(X,"^",6)
"RTN","SRONRPT3",34,0)
NCC S SRLINE="Nursing Care Comments: " D LINE(2) S @SRG@(SRI)=SRLINE D
"RTN","SRONRPT3",35,0)
 .I '$O(^SRF(SRTN,7,0)) S @SRG@(SRI)=@SRG@(SRI)_"NO COMMENTS ENTERED" Q
"RTN","SRONRPT3",36,0)
 .S SRLINE=0 F  S SRLINE=$O(^SRF(SRTN,7,SRLINE)) Q:'SRLINE  S X=^SRF(SRTN,7,SRLINE,0) D COMM(X,2)
"RTN","SRONRPT3",37,0)
 Q
"RTN","SRONRPT3",38,0)
LASER ; laser units
"RTN","SRONRPT3",39,0)
 N C,DUR,ID,LAS,OP,PE,SRCT,WAT,X,Y
"RTN","SRONRPT3",40,0)
 S LAS=0 F  S LAS=$O(^SRF(SRTN,44,LAS)) Q:'LAS  D
"RTN","SRONRPT3",41,0)
 .S X=^SRF(SRTN,44,LAS,0),ID=$P(X,"^"),DUR=$P(X,"^",2),WAT=$P(X,"^",3),OP=$P(X,"^",4),PE=$P(X,"^",5)
"RTN","SRONRPT3",42,0)
 .D LINE(1) S @SRG@(SRI)="  "_ID,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Duration: "_$S(DUR'="":DUR_" min.",1:"N/A")
"RTN","SRONRPT3",43,0)
 .D LINE(1) S @SRG@(SRI)="    Wattage: "_$S(WAT'="":WAT,1:"N/A"),@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Plume Evacuator: "_$S(PE="Y":"YES",PE="N":"NO",1:"N/A")
"RTN","SRONRPT3",44,0)
 .S Y=OP,C=$P(^DD(130.0129,3,0),"^",2) D:Y Y^DIQ S:Y="" Y="N/A" D LINE(1) S @SRG@(SRI)="    Operator: "_Y
"RTN","SRONRPT3",45,0)
 .S (SRCT,SRLINE)=0 F  S SRLINE=$O(^SRF(SRTN,44,LAS,1,SRLINE)) Q:'SRLINE  S SRCT=SRCT+1
"RTN","SRONRPT3",46,0)
 .Q:'SRCT  D LINE(1) S SRLINE=0,SRL=4,SRLINE=$O(^SRF(SRTN,44,LAS,1,SRLINE)),X=^SRF(SRTN,44,LAS,1,SRLINE,0)
"RTN","SRONRPT3",47,0)
 .I SRCT=1,$L(X)<67 S @SRG@(SRI)="    Comments: "_X Q
"RTN","SRONRPT3",48,0)
 .S @SRG@(SRI)="    Comments:" D COMM(X,SRL)
"RTN","SRONRPT3",49,0)
 .F  S SRLINE=$O(^SRF(SRTN,44,LAS,1,SRLINE)) Q:'SRLINE  S X=^SRF(SRTN,44,LAS,1,SRLINE,0) D COMM(X,SRL)
"RTN","SRONRPT3",50,0)
 Q
"RTN","SRONRPT3",51,0)
SAVE ; cell saver(s)
"RTN","SRONRPT3",52,0)
 N C,DISP,DNM,ID,INF,LOT,OP,SAL,SAV,SRCT,QTY,X,Y
"RTN","SRONRPT3",53,0)
 S SAV=0 F  S SAV=$O(^SRF(SRTN,45,SAV)) Q:'SAV  D
"RTN","SRONRPT3",54,0)
 .S X=^SRF(SRTN,45,SAV,0),ID=$P(X,"^"),SAL=$P(X,"^",3),INF=$P(X,"^",4),Y=$P(X,"^",2),C=$P(^DD(130.013,1,0),"^",2) D:Y Y^DIQ S OP=$S(Y'="":Y,1:"N/A")
"RTN","SRONRPT3",55,0)
 .D LINE(1) S @SRG@(SRI)="  "_ID,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Amount Salvaged:  "_$S(SAL:SAL_" ml",1:"N/A")
"RTN","SRONRPT3",56,0)
 .D LINE(1) S @SRG@(SRI)="    Operator:"_OP,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Amount Reinfused: "_$S(INF:INF_" ml",1:"N/A")
"RTN","SRONRPT3",57,0)
 .I $O(^SRF(SRTN,45,SAV,1,0)) D LINE(1) S @SRG@(SRI)="    Disposables:",DISP=0 F  S DISP=$O(^SRF(SRTN,45,SAV,1,DISP)) Q:'DISP  D
"RTN","SRONRPT3",58,0)
 ..S X=^SRF(SRTN,45,SAV,1,DISP,0),DNM=$P(X,"^"),LOT=$P(X,"^",2),QTY=$P(X,"^",3) D LINE(1) S @SRG@(SRI)="      "_DNM
"RTN","SRONRPT3",59,0)
 ..D LINE(1) S @SRG@(SRI)=$$SPACE(8)_"Lot: "_LOT,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Quantity: "_QTY
"RTN","SRONRPT3",60,0)
 .S (SRCT,SRLINE)=0 F  S SRLINE=$O(^SRF(SRTN,45,SAV,2,SRLINE)) Q:'SRLINE  S SRCT=SRCT+1
"RTN","SRONRPT3",61,0)
 .Q:'SRCT  D LINE(1) S SRLINE=0,SRL=4,SRLINE=$O(^SRF(SRTN,45,SAV,2,SRLINE)),X=^SRF(SRTN,45,SAV,2,SRLINE,0)
"RTN","SRONRPT3",62,0)
 .I SRCT=1,$L(X)<67 S @SRG@(SRI)="    Comments: "_X Q
"RTN","SRONRPT3",63,0)
 .S @SRG@(SRI)="    Comments:" D COMM(X,SRL)
"RTN","SRONRPT3",64,0)
 .F  S SRLINE=$O(^SRF(SRTN,45,SAV,2,SRLINE)) Q:'SRLINE  S X=^SRF(SRTN,45,SAV,2,SRLINE,0) D COMM(X,SRL)
"RTN","SRONRPT3",65,0)
 Q
"RTN","SRONRPT3",66,0)
N(SRL) N SRN I $L(Y)>SRL S SRN=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=SRN
"RTN","SRONRPT3",67,0)
 Q
"RTN","SRONRPT3",68,0)
COMM(X,NUM) ; output text
"RTN","SRONRPT3",69,0)
 ; X = line of text to be processed
"RTN","SRONRPT3",70,0)
 ; NUM = left margin
"RTN","SRONRPT3",71,0)
 N I,J,K,Y,SRL S SRL=80-NUM
"RTN","SRONRPT3",72,0)
 I $L(X)<(SRL+1)!($E(X,1,SRL)'[" ") D LINE(1) S @SRG@(SRI)=$$SPACE(NUM)_X Q
"RTN","SRONRPT3",73,0)
 S K=1 F  D  I $L(X)<SRL+1 S X(K)=X Q
"RTN","SRONRPT3",74,0)
 .F I=0:1:SRL-1 S J=SRL-I,Y=$E(X,J) I Y=" " S X(K)=$E(X,1,J-1),X=$E(X,J+1,$L(X)) S K=K+1 Q
"RTN","SRONRPT3",75,0)
 F I=1:1:K D LINE(1) S @SRG@(SRI)=$$SPACE(NUM)_X(I)
"RTN","SRONRPT3",76,0)
 Q
"RTN","SRONRPT3",77,0)
SPACE(NUM) ; create spaces
"RTN","SRONRPT3",78,0)
 ;pass in position returns number of needed spaces
"RTN","SRONRPT3",79,0)
 I '$D(@SRG@(SRI)) S @SRG@(SRI)=""
"RTN","SRONRPT3",80,0)
 Q $J("",NUM-$L(@SRG@(SRI)))
"RTN","SRONRPT3",81,0)
LINE(NUM) ; create carriage returns
"RTN","SRONRPT3",82,0)
 I $G(SRLF) S NUM=NUM+1,SRLF=0
"RTN","SRONRPT3",83,0)
 F J=1:1:NUM S SRI=SRI+1,@SRG@(SRI)=""
"RTN","SRONRPT3",84,0)
 Q
"RTN","SROPCE0")
0^53^B29333385^B29268226
"RTN","SROPCE0",1,0)
SROPCE0 ;BIR/ADM - PCE FILING STATUS REPORT ;03/17/05
"RTN","SROPCE0",2,0)
 ;;3.0;Surgery;**58,62,69,77,50,119,142,182**;24 Jun 93;Build 49
"RTN","SROPCE0",3,0)
 W @IOF,!,?26,"Report of PCE Filing Status",!!,"This report displays the filing status of completed cases performed during the",!,"selected date range.",!
"RTN","SROPCE0",4,0)
 S (SRFLG,SRSOUT)=0,SRSPEC=""
"RTN","SROPCE0",5,0)
ASK W ! K DIR S DIR("A",1)="Print PCE filing status of completed cases for",DIR("A",2)="",DIR("A",3)="1. O.R. Surgical Procedures",DIR("A",4)="2. Non-O.R. Procedures"
"RTN","SROPCE0",6,0)
 S DIR("A",5)="3. Both O.R. Surgical Procedures and Non-O.R. Procedures (All Specialties)",DIR("A",6)="",DIR("A")="Select Number (1, 2 or 3): ",DIR("B")="1"
"RTN","SROPCE0",7,0)
 S DIR(0)="NA^1:3:0" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 G END
"RTN","SROPCE0",8,0)
 S SRFLG=Y I SRFLG=1 D SPEC G:SRSOUT END
"RTN","SROPCE0",9,0)
 I SRFLG=2 D MSP G:SRSOUT END
"RTN","SROPCE0",10,0)
DATE D DATE^SROUTL(.SDATE,.EDATE,.SRSOUT) G:SRSOUT END
"RTN","SROPCE0",11,0)
FORM W ! K DIR S DIR("A")="Print the long form or the short form ? ",DIR("B")="SHORT",DIR(0)="SAM^L:LONG;S:SHORT" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 G END
"RTN","SROPCE0",12,0)
 S SRFORM=Y I Y="L" W !!,"This report is designed to use a 132 column format."
"RTN","SROPCE0",13,0)
 W ! K %ZIS,IOP,IO("Q"),POP S %ZIS("A")="Print the PCE Filing Status Report to which Printer ? ",%ZIS="Q" D ^%ZIS I POP S SRSOUT=1 G END
"RTN","SROPCE0",14,0)
 I $D(IO("Q")) K IO("Q") S ZTDESC="PCE FILING STATUS REPORT",(ZTSAVE("EDATE"),ZTSAVE("SRFORM"),ZTSAVE("SDATE"),ZTSAVE("SRSITE*"),ZTSAVE("SRSPEC*"),ZTSAVE("SRFLG"))="",ZTRTN="EN^SROPCE0" D ^%ZTLOAD S SRSOUT=1 G END
"RTN","SROPCE0",15,0)
EN U IO S SRSOUT=0,(SRHDR,SRPAGE)=1,SRSDT=SDATE-.0001,SRSEDT=EDATE+.9999,Y=SDATE X ^DD("DD") S STARTDT=Y,Y=EDATE X ^DD("DD") S ENDATE=Y F I=1:1:6 S CNT(I)=0
"RTN","SROPCE0",16,0)
 S SRRPT="PCE FILING STATUS REPORT",SRTITLE="For Completed "_$S(SRFLG=1:"O.R. Surgical Procedures",SRFLG=2:"Non-O.R. Procedures",1:"O.R. Surgical and Non-O.R. Procedures"),SRFRTO="From: "_STARTDT_"  To: "_ENDATE
"RTN","SROPCE0",17,0)
 S SRINST=SRSITE("SITE") D NOW^%DTC S Y=$E(%,1,12) X ^DD("DD") S SRPRINT="Report Printed: "_Y
"RTN","SROPCE0",18,0)
 I SRFORM="L" D ^SROPCE0A G END
"RTN","SROPCE0",19,0)
 D ^SROPCE0B
"RTN","SROPCE0",20,0)
END W:$E(IOST)="P" @IOF I $D(ZTQUEUED) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SROPCE0",21,0)
 I 'SRSOUT,$E(IOST)'="P" W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SROPCE0",22,0)
 D ^%ZISC K SRDIV,SRDX,SRFCPT,SRFICD,SRFRTO,SRINOUT,SRPARAM,SRPODX,SRQCPT,SRQICD,SRRPT,SRSCHED,SRSPS,SRSR,SRTN,SRUCPT,SRUICD D ^SRSKILL W @IOF
"RTN","SROPCE0",23,0)
 Q
"RTN","SROPCE0",24,0)
SPEC W @IOF,! S DIR("?",1)="Enter YES if you would like the report printed for all Surgical Specialties",DIR("?")="or enter NO to select a specific specialty."
"RTN","SROPCE0",25,0)
 S DIR("A")="Do you want the report for all Surgical Specialties ? ",DIR("B")="YES",DIR(0)="YA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SROPCE0",26,0)
 I 'Y W ! K DIC S DIC=137.45,DIC(0)="QEAMZ",DIC("A")="Select Surgical Specialty: ",DIC("S")="I '$P(^(0),""^"",3)" D ^DIC K DIC S:Y<0 SRSOUT=1 Q:Y<0  S SRSPEC=+Y,SRSPECN=$P(Y(0),"^")
"RTN","SROPCE0",27,0)
 Q
"RTN","SROPCE0",28,0)
MSP W @IOF,! S DIR("?",1)="Enter YES if you would like the report printed for all Medical Specialties",DIR("?")="or enter NO to select a specific specialty."
"RTN","SROPCE0",29,0)
 S DIR("A")="Do you want the report for all Medical Specialties ? ",DIR("B")="YES",DIR(0)="YA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SROPCE0",30,0)
 I 'Y W ! K DIC S DIC=723,DIC(0)="QEAMZ",DIC("A")="Select Medical Specialty: " D ^DIC K DIC S:Y<0 SRSOUT=1 Q:Y<0  S SRSPEC=+Y,SRSPECN=$P(Y(0),"^")
"RTN","SROPCE0",31,0)
 Q
"RTN","SROPCE0",32,0)
CHK ; set up array of fields missing data
"RTN","SROPCE0",33,0)
 K SRX,DA,DIC,DIQ,DR,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I" D  D EN^DIQ1
"RTN","SROPCE0",34,0)
 .I SRNON S DR="119;121;122;123;"_$S(SRSR'=0:"124;",1:"")_"125;"
"RTN","SROPCE0",35,0)
 .I 'SRNON S DR=".04;.14;"_$S(SRSR'=0:".164;",1:"")_".205;.232;"
"RTN","SROPCE0",36,0)
 .I $P(^SRO(133,SRSITE,0),"^",16) S DR=DR_".0155;"
"RTN","SROPCE0",37,0)
 .I SRSTATUS=5 S DR=DR_".011;"
"RTN","SROPCE0",38,0)
 D CLINIC
"RTN","SROPCE0",39,0)
 S SRZ=0 F  S SRZ=$O(SRY(130,SRTN,SRZ)) Q:'SRZ  I SRY(130,SRTN,SRZ,"I")="" D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRX(SRZ)=$P(SRFLD,"^",2)
"RTN","SROPCE0",40,0)
 I '$P($G(^SRO(136,SRTN,0)),"^",2) S SRX(.02)="PRINCIPAL PROCEDURE CODE"
"RTN","SROPCE0",41,0)
 I '$P($G(^SRO(136,SRTN,0)),"^",3) S SRX(.03)="PRIN POSTOP DIAGNOSIS CODE"
"RTN","SROPCE0",42,0)
OTH S SROTH=0,SROTH=$O(^SRO(136,SRTN,2,SROTH)) I SROTH="" S SRX(99998)="PRIN PROCEDURE CODE MISSING ASSOCIATED DIAGNOSIS CODE"
"RTN","SROPCE0",43,0)
 S SROTH=0 F  S SROTH=$O(^SRO(136,SRTN,3,SROTH)) Q:'SROTH  D
"RTN","SROPCE0",44,0)
 .I '$D(^SRO(136,SRTN,3,SROTH,2)) S SRX(99999)="OTHER PROCEDURE CPT MISSING ASSOCIATED DIAGNOSIS ICD CODE" Q
"RTN","SROPCE0",45,0)
 .S SRZ=0 S SRZ=$O(^SRO(136,SRTN,3,SROTH,2,SRZ)) I 'SRZ S SRX(99999)="OTHER PROCEDURE CPT MISSING ASSOCIATED DIAGNOSIS ICD CODE" Q
"RTN","SROPCE0",46,0)
 Q
"RTN","SROPCE0",47,0)
CLINIC N SRCLINIC S SRCLINIC=$P(^SRF(SRTN,0),"^",21) D
"RTN","SROPCE0",48,0)
 .I SRNON S:SRCLINIC="" SRCLINIC=$P(^SRF(SRTN,"NON"),"^",2) Q
"RTN","SROPCE0",49,0)
 .S:SRCLINIC="" SRCLINIC=$P(^SRO(137.45,$P(^SRF(SRTN,0),"^",4),0),"^",5) I SRCLINIC="",$P(^SRF(SRTN,0),"^",2) S SRCLINIC=$P(^SRS($P(^SRF(SRTN,0),"^",2),0),"^")
"RTN","SROPCE0",50,0)
 I SRCLINIC,'$$CLINIC^SROUTL(SRCLINIC,SRTN) S SRCLINIC=""
"RTN","SROPCE0",51,0)
 S SRY(130,SRTN,.021,"I")=SRCLINIC
"RTN","SROPCE0",52,0)
 Q
"RTN","SROPCE0",53,0)
TR S SRP=SRZ,SRP=$TR(SRP,"1234567890.","ABCDEFGHIJP")
"RTN","SROPCE0",54,0)
 Q
"RTN","SROPCE0",55,0)
PJAA ;;.011^HOSPITAL ADMISSION STATUS
"RTN","SROPCE0",56,0)
PJAEE ;;.0155^CLASSIFICATION INFORMATION
"RTN","SROPCE0",57,0)
PJBA ;;.021^ASSOCIATED CLINIC
"RTN","SROPCE0",58,0)
PJD ;;.04^SURGERY SPECIALTY
"RTN","SROPCE0",59,0)
PAFD ;;.164^ATTENDING SURGEON
"RTN","SROPCE0",60,0)
PBJE ;;.205^TIME PAT IN OR
"RTN","SROPCE0",61,0)
PBCB ;;.232^TIME PAT OUT OR
"RTN","SROPCE0",62,0)
AAI ;;119^NON-OR LOCATION
"RTN","SROPCE0",63,0)
ABA ;;121^TIME PROCEDURE BEGAN
"RTN","SROPCE0",64,0)
ABB ;;122^TIME PROCEDURE ENDED
"RTN","SROPCE0",65,0)
ABC ;;123^PROVIDER
"RTN","SROPCE0",66,0)
ABD ;;124^ATTEND PROVIDER
"RTN","SROPCE0",67,0)
ABE ;;125^MEDICAL SPECIALTY
"RTN","SROPLIS")
0^54^B5089083^B4980104
"RTN","SROPLIS",1,0)
SROPLIS ;B'HAM ISC/MAM - LIST OF OPERATIONS ; [ 09/22/98  11:36 AM ]
"RTN","SROPLIS",2,0)
 ;;3.0;Surgery;**77,50,182**;24 Jun 93;Build 49
"RTN","SROPLIS",3,0)
 S SRQ=0 W @IOF,!,"List of Operations",!
"RTN","SROPLIS",4,0)
DATE D DATE^SROUTL(.SRSD,.SRED,.SRQ) G:SRQ END
"RTN","SROPLIS",5,0)
 S SRD=SRSD-.0001
"RTN","SROPLIS",6,0)
 K IOP,%ZIS,POP,IO("Q") S %ZIS("A")="Print the Report on which Device: ",%ZIS="QM" W !!,"This report is designed to use a 132 column format.",! D ^%ZIS G:POP END
"RTN","SROPLIS",7,0)
 I $D(IO("Q")) K IO("Q") S ZTDESC="LIST OF OPERATIONS",ZTRTN="EN^SROPLIS",(ZTSAVE("SRD"),ZTSAVE("SRED"),ZTSAVE("SRSD"),ZTSAVE("SRSITE*"))="",%ZIS="QM" D ^%ZTLOAD G END
"RTN","SROPLIS",8,0)
EN ; entry when queued
"RTN","SROPLIS",9,0)
 G ^SROPLIST
"RTN","SROPLIS",10,0)
HDR ; print heading
"RTN","SROPLIS",11,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRQ=1 Q
"RTN","SROPLIS",12,0)
 W:$Y @IOF W !,?(132-$L(SRINST)\2),SRINST,?120,"PAGE ",PAGE,!,?58,"SURGICAL SERVICE",?100,"REVIEWED BY: ",!,?57,"LIST OF OPERATIONS",?100,"DATE REVIEWED: "
"RTN","SROPLIS",13,0)
 W !,?(132-$L(SRFRTO)\2),SRFRTO,?100,SRPRINT
"RTN","SROPLIS",14,0)
 W !!,"DATE",?13,"PATIENT",?38,"SERVICE",?90,"PRIMARY SURGEON",?114,"ANESTHESIA TECH",!,"CASE #",?15,"ID#",?38,"OPERATION(S)",?90,"1ST ASSISTANT",!,?13,"PRIORITY",?90,"2ND ASSISTANT" W ! F I=1:1:IOM W "="
"RTN","SROPLIS",15,0)
 S PAGE=PAGE+1
"RTN","SROPLIS",16,0)
 Q
"RTN","SROPLIS",17,0)
END I 'SRQ,($E(IOST)'="P") W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SROPLIS",18,0)
 W ! D ^SRSKILL K SRTN D ^%ZISC W @IOF
"RTN","SROPLIS",19,0)
 Q
"RTN","SROPLSTS")
0^55^B21404517^B21285954
"RTN","SROPLSTS",1,0)
SROPLSTS ;B'HAM ISC/MAM - LIST OF OPERATIONS BY SERVICE ;09/30/04
"RTN","SROPLSTS",2,0)
 ;;3.0;Surgery;**38,53,50,134,182**;24 Jun 93;Build 49
"RTN","SROPLSTS",3,0)
S1 Q:SRQ  S C=0,SRTS=$P(^SRO(137.45,K,0),"^") I SRUL W ! F LINE=1:1:IOM W "-"
"RTN","SROPLSTS",4,0)
 W !,?1,"*",SRTS,"*" S SRUL=1 Q
"RTN","SROPLSTS",5,0)
SET ; set variables
"RTN","SROPLSTS",6,0)
 K SROP S S(0)=^SRF(SRTN,0),DFN=$P(S(0),"^") D DEM^VADPT S SRNM=VADM(1),SRSSN=VA("PID"),SRDT=$P(S(0),"^",9),SROD=$P(S(0),"^",9),(SRSUR,SRATT,SRFST,SRTWO)=""
"RTN","SROPLSTS",7,0)
 S:$D(^SRF(SRTN,.1)) S(.1)=^(.1),SRSUR=$P(S(.1),"^",4),SRATT=$P(S(.1),"^",13),SRFST=$P(S(.1),"^",5),SRTWO=$P(S(.1),"^",6) S:SRSUR'="" SRSUR=$P(^VA(200,SRSUR,0),"^") S:SRATT'="" SRATT=$P(^VA(200,SRATT,0),"^")
"RTN","SROPLSTS",8,0)
 S:SRFST'="" SRFST=$P(^VA(200,SRFST,0),"^") S:SRTWO'="" SRTWO=$P(^VA(200,SRTWO,0),"^")
"RTN","SROPLSTS",9,0)
 S SRABORT=$S($P($G(^SRF(SRTN,30)),"^"):"*ABORTED*",1:"")
"RTN","SROPLSTS",10,0)
OPS K SROPERS S SROPER=$P(^SRF(SRTN,"OP"),"^"),OPER=0 F I=0:0 S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SROPLSTS",11,0)
 K SROPS,MM,MMM S:$L(SROPER)<50 SROPS(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROPLSTS",12,0)
 S SROT=0 I $D(^SRF(SRTN,.2)),$P(^(.2),"^",2)]"",$P(^(.2),"^",3)]"" S X=$P(^SRF(SRTN,.2),"^",2),X1=$P(^(.2),"^",3) D MINS^SRSUTL2 S SROT=X
"RTN","SROPLSTS",13,0)
 D TECH^SROPRIN S SRANES=$S($D(SRTECH):SRTECH,1:"")
"RTN","SROPLSTS",14,0)
 S A=$P(S(0),"^",10),SRTYPE=$S(A="EL":"ELECTIVE",A="EM":"EMERGENCY",A="A":"ADD ON, NONEMERGENT",A="S":"STANDBY",A="U":"URGENT, ADD TODAY",1:"")
"RTN","SROPLSTS",15,0)
PRINT ;
"RTN","SROPLSTS",16,0)
 S Z=0 D:$Y+8>IOSL ASK Q:SRQ  W !!,?1,$E(SROD,4,5)_"/"_$E(SROD,6,7)_"/"_$E(SROD,2,3),?13,$E(SRNM,1,26),?38,SROPS(1)
"RTN","SROPLSTS",17,0)
 W ?90,$E(SRSUR,1,23),?114,$E(SRANES,1,14),!,?1,SRTN,?13,VA("PID") W:$D(SROPS(2)) ?38,SROPS(2) W ?90,$E(SRFST,1,23),?114,"OP TIME: ",SROT," MIN.",!,SRABORT,?13,SRTYPE W:$D(SROPS(3)) ?38,SROPS(3) W ?90,$E(SRTWO,1,23)
"RTN","SROPLSTS",18,0)
 I $D(SROPS(4)) W !,?38,SROPS(4) I $D(SROPS(5)) W !,?38,SROPS(5) I $D(SROPS(6)) W !,?38,SROPS(6)
"RTN","SROPLSTS",19,0)
 Q
"RTN","SROPLSTS",20,0)
HDR ; print heading
"RTN","SROPLSTS",21,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRQ=1 Q
"RTN","SROPLSTS",22,0)
 W:$Y @IOF W !,?(132-$L(SRINST)\2),SRINST,?120,"PAGE ",PAGE,!,?58,"SURGICAL SERVICE",?100,"DATE REVIEWED:",!,?52,"LIST OF OPERATIONS BY SERVICE"
"RTN","SROPLSTS",23,0)
 W ?100,"REVIEWED BY:",!,?(132-$L(SRFRTO)\2),SRFRTO,?100,SRPRINT
"RTN","SROPLSTS",24,0)
 W !!,?1,"DATE",?13,"PATIENT",?38,"OPERATION(S)",?90,"PRIMARY SURGEON",?116,"ANESTHESIA",!,"CASE #",?15,"ID#",?90,"FIRST ASSISTANT",?116,"TECHNIQUE",!,?13,"PRIORITY",?90,"SECOND ASSISTANT" W ! F I=1:1:132 W "="
"RTN","SROPLSTS",25,0)
 S PAGE=PAGE+1
"RTN","SROPLSTS",26,0)
 Q
"RTN","SROPLSTS",27,0)
ASK I $E(IOST,1)'="P" W !!,"Press RETURN to continue or '^' to quit.  " R X:DTIME I '$T!(X="^") S SRQ=1 Q
"RTN","SROPLSTS",28,0)
 D HDR Q:SRQ  W:$D(SRTS) !!,?1,"*",SRTS,"*" Q
"RTN","SROPLSTS",29,0)
END W:$E(IOST)="P" @IOF I $D(ZTQUEUED) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SROPLSTS",30,0)
 I 'SRQ,($E(IOST)'="P") W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SROPLSTS",31,0)
 D ^SRSKILL K SRTN D ^%ZISC W @IOF
"RTN","SROPLSTS",32,0)
 Q
"RTN","SROPLSTS",33,0)
OTHER ; other operations
"RTN","SROPLSTS",34,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>250 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROPLSTS",35,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SROPLSTS",36,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROPLSTS",37,0)
 Q
"RTN","SROPLSTS",38,0)
LOOP ; break procedure if greater than 50 characters
"RTN","SROPLSTS",39,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<50  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROPLSTS",40,0)
 Q
"RTN","SROPLSTS",41,0)
1 ; entry when queued
"RTN","SROPLSTS",42,0)
 G:$D(SRZZ) 2 U IO N SRFRTO S (C,K,TC,SRUL)=0 K ^TMP("SR",$J) D HDDT,HDR G:SRQ END
"RTN","SROPLSTS",43,0)
 F  S K=$O(^SRF("ASP",K)) Q:'K!SRQ  S N=SRD F  S N=$O(^SRF("ASP",K,N)) Q:SRQ!'N!(N>SRED)  S SR=0 F  S SR=$O(^SRF("ASP",K,N,SR)) Q:'SR!SRQ  I $P($G(^SRF(SR,.2)),"^",12),$$DIV^SROUTL0(SR) S ^TMP("SR",$J,K,SR)=""
"RTN","SROPLSTS",44,0)
 S K=0 F  S K=$O(^TMP("SR",$J,K)) Q:'K!SRQ  D S1 S SR=0 F  S SR=$O(^TMP("SR",$J,K,SR)) D:'SR STOT Q:'SR!SRQ  S C=C+1,TC=TC+1,SRTN=SR D SET
"RTN","SROPLSTS",45,0)
 I 'SRQ D:$Y+8>IOSL ASK G:SRQ END W !!!,"TOTAL OPERATIONS FOR ALL SERVICES: ",TC
"RTN","SROPLSTS",46,0)
 G END
"RTN","SROPLSTS",47,0)
2 ; entry when queued
"RTN","SROPLSTS",48,0)
 U IO N SRFRTO D HDDT,HDR G:SRQ END
"RTN","SROPLSTS",49,0)
 S K=SRT1,(C,SR)=0,N=SRD W !!,?30,"*",SRTS,"*"
"RTN","SROPLSTS",50,0)
 F  S N=$O(^SRF("ASP",K,N)) D:'N!(N>SRED) STOT Q:'N!(N>SRED)!SRQ  F  S SR=$O(^SRF("ASP",K,N,SR)) Q:'SR!SRQ  I $P($G(^SRF(SR,.2)),"^",12),$$DIV^SROUTL0(SR) S SRTN=SR,(C,TC)=C+1 D SET
"RTN","SROPLSTS",51,0)
 G END
"RTN","SROPLSTS",52,0)
STOT ; print specialty total
"RTN","SROPLSTS",53,0)
 D:$Y+8>IOSL ASK Q:SRQ  W !!,?1,"TOTAL ",SRTS,": ",C
"RTN","SROPLSTS",54,0)
 Q
"RTN","SROPLSTS",55,0)
HDDT ; set up variables common to both reports
"RTN","SROPLSTS",56,0)
 S PAGE=1,SRQ=0,Y=DT X ^DD("DD") S SRPRINT="DATE PRINTED: "_Y S Y=SRSD X ^DD("DD") S SRFRTO="FROM: "_Y_"  TO: ",Y=SRED X ^DD("DD") S SRFRTO=SRFRTO_Y,SRINST=SRSITE("SITE")
"RTN","SROPLSTS",57,0)
 Q
"RTN","SROPRIO")
0^56^B20328508^B20219757
"RTN","SROPRIO",1,0)
SROPRIO ;B'HAM ISC/MAM - LIST OF OPERATIONS (BY PRIORITY) ; [ 09/22/98  11:36 AM ]
"RTN","SROPRIO",2,0)
 ;;3.0;Surgery;**77,50,182**;24 Jun 93;Build 49
"RTN","SROPRIO",3,0)
BEG S (SRSP,SRQ)=0,SRORD=1 W @IOF,!,"List of Operations by Surgical Priority:",!!
"RTN","SROPRIO",4,0)
DATE D DATE^SROUTL(.SRSD,.SRED,.SRQ) G:SRQ END
"RTN","SROPRIO",5,0)
PRIO W @IOF,! K DIR S DIR("A")="Print List of Operations for all priorities ",DIR("B")="Y",DIR(0)="Y"
"RTN","SROPRIO",6,0)
 S DIR("?",1)="Enter RETURN to print the report for all priorities,or 'N' to print the",DIR("?")="report for a specific specialty."
"RTN","SROPRIO",7,0)
 D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRQ=1 Q
"RTN","SROPRIO",8,0)
 I Y S SRPRIO="ALL" G SORT
"RTN","SROPRIO",9,0)
 D PRIORITY S X="",Z=1 F  S X=$O(SRCODE(X)) Q:X=""  S SRL(Z)=X,Z=Z+1
"RTN","SROPRIO",10,0)
 W ! K DIR S DIR("A",1)="Print report for which Priority ?",DIR("A",2)="",X="",Z=0 F  S X=$O(SRCODE(X)) Q:X=""  S Z=Z+1,DIR("A",Z+2)=Z_".  "_SRCODE(X)
"RTN","SROPRIO",11,0)
 S DIR("A",Z+3)="",DIR("A")="Select Number: ",DIR("B")=1,DIR("?")="Enter a number between 1 and "_Z_".",DIR(0)="NA^1:"_Z_":0" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRQ=1 G END
"RTN","SROPRIO",12,0)
 S SRPRIO=SRL(Y)
"RTN","SROPRIO",13,0)
SORT W !!,"Do you want the report sorted by surgical specialty ?  Y// " R SRYN:DTIME I '$T!(SRYN["^") S SRQ=1 G END
"RTN","SROPRIO",14,0)
 S:SRYN="" SRYN="Y" S SRYN=$E(SRYN)
"RTN","SROPRIO",15,0)
 I "YyNn"'[SRYN W !!,"Enter RETURN to sort the report by surgical specialty, or 'N' to not sort",!,"by surgical specialty." G SORT
"RTN","SROPRIO",16,0)
 I "Nn"[SRYN S SRORD=0 G DEVICE
"RTN","SROPRIO",17,0)
SER W !!,"Print for all surgical specialties ?  Y// " R SRYN:DTIME I '$T!(SRYN["^") S SRQ=1 G END
"RTN","SROPRIO",18,0)
 S:SRYN="" SRYN="Y" S SRYN=$E(SRYN)
"RTN","SROPRIO",19,0)
 I "YyNn"'[SRYN W !!,"Enter RETURN to print the report for all surgical specialties, or 'N' to print",!,"the report for a specific specialty." G SER
"RTN","SROPRIO",20,0)
 I "Nn"[SRYN D SP I SRQ G END
"RTN","SROPRIO",21,0)
DEVICE K IOP,%ZIS,POP,IO("Q") S %ZIS("A")="Print the Report on which Device: ",%ZIS="QM" W !!,"This report is designed to use a 132 column format.",! D ^%ZIS G:POP END
"RTN","SROPRIO",22,0)
 I $D(IO("Q")) K IO("Q") S ZTDESC="LIST OF OPERATIONS",ZTRTN="^SROPRI",(ZTSAVE("SRORD"),ZTSAVE("SRSP*"),ZTSAVE("SRED"),ZTSAVE("SRPRIO"),ZTSAVE("SRSD"),ZTSAVE("SRSITE*"))="",%ZIS="QM" D ^%ZTLOAD G END
"RTN","SROPRIO",23,0)
 D ^SROPRI
"RTN","SROPRIO",24,0)
 Q
"RTN","SROPRIO",25,0)
PRIORITY ; get list of priorities
"RTN","SROPRIO",26,0)
 N SRLIST,SRC,SRP,I,J,X,Y D HELP^DIE(130,"",.035,"S","SRLIST")
"RTN","SROPRIO",27,0)
 F I=2:1:SRLIST("DIHELP") S X=SRLIST("DIHELP",I),Y=$F(X," "),SRC=$E(X,1,Y-2) F J=Y:1 I $E(X,J)'=" " S SRP=$E(X,J,99),SRCODE(SRC)=SRP Q
"RTN","SROPRIO",28,0)
 S SRCODE("ZZ")="PRIORITY NOT ENTERED"
"RTN","SROPRIO",29,0)
 Q
"RTN","SROPRIO",30,0)
SP W ! S SRSP=1 K DIC S DIC("S")="I '$P(^(0),""^"",3)",DIC=137.45,DIC(0)="QEAMZ",DIC("A")="Print the report for which Specialty ?  " D ^DIC I Y<0 S SRQ=1 Q
"RTN","SROPRIO",31,0)
 S SRSP(+Y)=+Y
"RTN","SROPRIO",32,0)
MORE ; more specialties?
"RTN","SROPRIO",33,0)
 K DIC S DIC("S")="I '$P(^(0),""^"",3)",DIC=137.45,DIC(0)="QEAMZ",DIC("A")="Select An Additional Specialty:  " D ^DIC I Y>0 S SRSP(+Y)=+Y G MORE
"RTN","SROPRIO",34,0)
 Q
"RTN","SROPRIO",35,0)
END I 'SRQ,($E(IOST,1)'="P") W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SROPRIO",36,0)
 W ! D ^SRSKILL K SRTN D ^%ZISC W @IOF
"RTN","SROPRIO",37,0)
 Q
"RTN","SROPRIO",38,0)
RET W !!,"  Press RETURN to continue, or '^' to quit: " R X:DTIME I '$T!(X["^") S SRQ=1 Q
"RTN","SROPRIO",39,0)
 I X["?" W !!,"Press RETURN to continue with the List of Surgical Cases sorted by Surgical",!,"Priority, or '^' if you do not want to review any additional information." G RET
"RTN","SROPRIO",40,0)
 Q
"RTN","SROPRIO",41,0)
HDR ; print heading
"RTN","SROPRIO",42,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRQ=1 Q
"RTN","SROPRIO",43,0)
 I SRHDR,$E(IOST)'="P" D RET Q:SRQ
"RTN","SROPRIO",44,0)
 W:$Y @IOF W !,?(132-$L(SRINST)\2),SRINST,?125,"PAGE:",!,?58,"SURGICAL SERVICE",?127,PAGE
"RTN","SROPRIO",45,0)
 W !,?47,"LIST OF OPERATIONS BY SURGICAL PRIORITY",?100,SRPRINT
"RTN","SROPRIO",46,0)
 W !,?(132-$L(SRFRTO)\2),SRFRTO,?100,"REVIEWED BY:"
"RTN","SROPRIO",47,0)
 I SRPRIO'="ALL" S SRP=SRPRIO
"RTN","SROPRIO",48,0)
 I SRP'="" S SRTP="SURGICAL PRIORITY: "_SRCODE(SRP) W !,?(132-$L(SRTP)\2),SRTP,?100,"DATE REVIEWED:"
"RTN","SROPRIO",49,0)
 I SRP="" W !,?100,"DATE REVIEWED:"
"RTN","SROPRIO",50,0)
 W !!,"DATE",?13,"PATIENT",?38,"OPERATION(S)",?90,"PRIMARY SURGEON",?114,"ANESTHESIA TECH",!,"CASE #",?15,"ID#",?90,"1ST ASST",!,?90,"2ND ASST" W ! F I=1:1:132 W "-"
"RTN","SROPRIO",51,0)
 I $D(SRSPEC) W !,?(132-$L(">> "_SRSPEC_" <<")\2),">> "_SRSPEC_" <<",!
"RTN","SROPRIO",52,0)
 S SRHDR=1,PAGE=PAGE+1
"RTN","SROPRIO",53,0)
 Q
"RTN","SROQ30D")
0^15^B25801926^B25737238
"RTN","SROQ30D",1,0)
SROQ30D ;BIR/ADM - 30-DAY READMISSION TRANSMISSION ;10/31/2011
"RTN","SROQ30D",2,0)
 ;;3.0;Surgery;**176,182**;24 Jun 93;Build 49
"RTN","SROQ30D",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROQ30D",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROQ30D",5,0)
 ;**         are prohibited.
"RTN","SROQ30D",6,0)
 ;
"RTN","SROQ30D",7,0)
 ; Reference to ^DGPM("APTT1" supported by DBIA #565
"RTN","SROQ30D",8,0)
 Q
"RTN","SROQ30D",9,0)
MSG ; create mail message to server
"RTN","SROQ30D",10,0)
 S X=$$ACTIVE^XUSER(DUZ) I '+X S XMDUZ=.5
"RTN","SROQ30D",11,0)
 S XMSUB="VAMC-"_SRASITE_" 30-DAY READMITS ("_SRCNT_") - FY"_$E(SRYR,3,4)_" Q"_SRQTR
"RTN","SROQ30D",12,0)
 S SRD=^XMB("NETNAME"),ISC=0 I SRD["FO-"!(SRD["ISC-")!(SRD["ISC.")!(SRD["FORUM")!(SRD["TST") S ISC=1
"RTN","SROQ30D",13,0)
 K XMY I 'ISC S (XMY("G.SRCOSERV@DOMAIN.EXT"),XMY("G.CARDIAC RISK ASSESSMENTS@DENVER.DOMAIN.EXT"))=""
"RTN","SROQ30D",14,0)
 I ISC S XMY("G.SR-QUARTERLY@"_SRD)=""
"RTN","SROQ30D",15,0)
 S XMTEXT="^TMP(""SRQTR"",$J," N I D ^XMD K ^TMP("SRQTR",$J),XMY,XMTEXT
"RTN","SROQ30D",16,0)
 I '$D(XMMG) D SITE
"RTN","SROQ30D",17,0)
 Q
"RTN","SROQ30D",18,0)
EN ; entry point when run manually to generate current report
"RTN","SROQ30D",19,0)
 D CURRENT
"RTN","SROQ30D",20,0)
EN1 D DATES K ^TMP("SRQTR",$J)
"RTN","SROQ30D",21,0)
 S SRASITE=+$P($$SITE^SROVAR,"^",3),SRSD=SRSTART-.0001,SRED=SREND+.9999,SRCNT=0,^TMP("SRQTR",$J,1)="#"_SRASITE_"^^^^^"
"RTN","SROQ30D",22,0)
 F  S SRSD=$O(^SRF("AC",SRSD)) Q:SRSD>SRED!('SRSD)  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSD,SRTN)) Q:'SRTN  D CASE
"RTN","SROQ30D",23,0)
 D MSG,END
"RTN","SROQ30D",24,0)
 Q
"RTN","SROQ30D",25,0)
CASE ; examine case
"RTN","SROQ30D",26,0)
 Q:$P($G(^SRF(SRTN,30)),"^")!'$P($G(^SRF(SRTN,.2)),"^",12)!($P($G(^SRF(SRTN,"NON")),"^")="Y")
"RTN","SROQ30D",27,0)
 N DFN,SR,SRADM,SRDISCH,SRPTF,SRRES
"RTN","SROQ30D",28,0)
 S X=$$SITE^SROUTL0(SRTN),SRDIV=$S(X:$P(^SRO(133,X,0),"^"),1:""),SRDIV=$S(SRDIV:$$GET1^DIQ(4,SRDIV,99),1:SRASITE)
"RTN","SROQ30D",29,0)
 S SR(0)=^SRF(SRTN,0),DFN=$P(SR(0),"^")
"RTN","SROQ30D",30,0)
 S SRDISCH=$P($G(^SRF(SRTN,208)),"^",15) I 'SRDISCH D PIMS I 'SRDISCH Q
"RTN","SROQ30D",31,0)
 ; determine if patient was readmitted within 30 days after discharge
"RTN","SROQ30D",32,0)
 S SRADM=$O(^DGPM("APTT1",DFN,SRDISCH)) I 'SRADM Q
"RTN","SROQ30D",33,0)
 S X1=SRDISCH,X2=30 D C^%DTC S SR30=X,SRADM=$O(^DGPM("APTT1",DFN,SRDISCH)) Q:'SRADM!(SRADM>SR30)
"RTN","SROQ30D",34,0)
 S VAINDT=SRADM D INP^VADPT S SRX=$P(VAIN(3),"^"),SRSPE="" D SPEC
"RTN","SROQ30D",35,0)
 S SRPTF=VAIN(10),SRRES="" D RPC^DGPTFAPI(.SRRES,SRPTF)
"RTN","SROQ30D",36,0)
 S SRCNT=SRCNT+1,^TMP("SRQTR",$J,SRCNT)="#"_SRASITE_"^"_SRTN_"^"_SRDIV_"^"_SRADM_"^"_SRSPE_"^"_$P($G(SRRES(1)),"^",3)
"RTN","SROQ30D",37,0)
 Q
"RTN","SROQ30D",38,0)
PIMS ; determine if inpatient surgery
"RTN","SROQ30D",39,0)
 N SRSDATE,SRSOUT S SRSOUT=0,(VAIP("D"),SRSDATE)=$P(SR(0),"^",9) D IN5^VADPT
"RTN","SROQ30D",40,0)
 ; if not admitted before surgery, look for admission within 24 hours of leaving OR
"RTN","SROQ30D",41,0)
 I 'VAIP(13) S X1=$P($G(^SRF(SRTN,.2)),"^",12),X2=1 D C^%DTC S SR24=X,SRDT=$O(^DGPM("APTT1",DFN,SRSDATE)) Q:'SRDT!(SRDT>SR24)  S VAIP("D")=SRDT D IN5^VADPT I 'VAIP(13) Q
"RTN","SROQ30D",42,0)
 I VAIP(13) D ADM Q:SRSOUT
"RTN","SROQ30D",43,0)
 Q
"RTN","SROQ30D",44,0)
ADM ; get information related to admission
"RTN","SROQ30D",45,0)
 ; determine if admission was for observation
"RTN","SROQ30D",46,0)
 ; quit if no specialty defined for admission
"RTN","SROQ30D",47,0)
 S SRX=$P($G(VAIP(13,6)),"^") I SRX="" S SRDISCH=$E($P(VAIP(17,1),"^"),1,12),SRSOUT=1 Q
"RTN","SROQ30D",48,0)
 D SPEC S Y="18,23,24,36,41,65,94" I Y[SRSP D  Q:SRSOUT
"RTN","SROQ30D",49,0)
 .; look for admission following discharge from observation
"RTN","SROQ30D",50,0)
 .S X1=$P($G(^SRF(SRTN,.2)),"^",12),X2=2 D C^%DTC S SR48=X,SRDT=$O(^DGPM("APTT1",DFN,$P(VAIP(13,1),"^"))) I 'SRDT!(SRDT>SR48) S SRDISCH="",SRSOUT=1 Q
"RTN","SROQ30D",51,0)
 .S VAIP("D")=SRDT D IN5^VADPT I 'VAIP(13) S SRDISCH="",SRSOUT=1
"RTN","SROQ30D",52,0)
 S SRDISCH=$E($P(VAIP(17,1),"^"),1,12)
"RTN","SROQ30D",53,0)
 Q
"RTN","SROQ30D",54,0)
SPEC ; find specialty associated with movement
"RTN","SROQ30D",55,0)
 K DA,DIC,DIQ,DR,SRY S DIC=45.7,DR=1,DA=SRX,DIQ="SRY",DIQ(0)="EI" D EN^DIQ1 K DA,DIC,DIQ,DR S SRSP=SRY(45.7,SRX,1,"I"),SRSPE=SRY(45.7,SRX,1,"E")
"RTN","SROQ30D",56,0)
 Q
"RTN","SROQ30D",57,0)
END K ^TMP("SRQTR",$J),DA,DIC,DIQ,DR,ISC,SR24,SR30,SR48,SRASITE,SRCNT,SRD,SRDAY,SRDIV,SRDT,SRE,SRED,SREMO
"RTN","SROQ30D",58,0)
 K SREND,SRFQ,SRQTR,SRSD,SRSMO,SRSOUT,SRSP,SRSPE,SRSTART,SRTN,SRX,SRY,SRYR,SRYRF,VAIN,VAINDT,VAIP,X,X1,X2,Y
"RTN","SROQ30D",59,0)
 S ZTREQ="@"
"RTN","SROQ30D",60,0)
 Q
"RTN","SROQ30D",61,0)
SITE ; update site parameters file
"RTN","SROQ30D",62,0)
 S SRE=0 F  S SRE=$O(^SRO(133,SRE)) Q:'SRE  I $P(^SRO(133,SRE,0),"^",9)<SRFQ S $P(^(0),"^",9)=SRFQ
"RTN","SROQ30D",63,0)
 Q
"RTN","SROQ30D",64,0)
NIGHT ; determine if current quarterly 30-day readmission report has been transmitted
"RTN","SROQ30D",65,0)
 D CURRENT S SRE=$O(^SRO(133,0)) I $P(^SRO(133,SRE,0),"^",9)'<SRFQ Q
"RTN","SROQ30D",66,0)
 D EN1
"RTN","SROQ30D",67,0)
 Q
"RTN","SROQ30D",68,0)
DATES S SRSMO=$S(SRQTR=1:"1001",SRQTR=2:"0101",SRQTR=3:"0401",1:"0701"),SREMO=$S(SRQTR=1:"1231",SRQTR=2:"0331",SRQTR=3:"0630",1:"0930"),SRSTART=$S(SRQTR=1:SRYRF-1,1:SRYRF)_SRSMO,SREND=$S(SRQTR=1:SRYRF-1,1:SRYRF)_SREMO
"RTN","SROQ30D",69,0)
 Q
"RTN","SROQ30D",70,0)
CURRENT ; get current reporting quarter
"RTN","SROQ30D",71,0)
 S SRYR=$E(DT,1,3),SRDAY=$E(DT,4,7),SRQTR=$S(SRDAY>930:3,SRDAY>630:2,SRDAY>331:1,1:4)
"RTN","SROQ30D",72,0)
 I SRQTR=4,SRDAY<401 S SRYR=SRYR-1
"RTN","SROQ30D",73,0)
 S SRYRF=SRYR,SRYR=SRYR+1700,SRFQ=SRYR_SRQTR
"RTN","SROQ30D",74,0)
 Q
"RTN","SROQ30D",75,0)
SEL ; run for selected fiscal quarter
"RTN","SROQ30D",76,0)
 K DIR S DIR(0)="FO",DIR("A")="Enter fiscal year and quarter (e.g., 2012-3)" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT)!(X="") Q
"RTN","SROQ30D",77,0)
 D CHECK I '$D(X) D HELP G SEL
"RTN","SROQ30D",78,0)
 S SRYR=SRX,SRQTR=SRY,SRFQ=SRYR_SRQTR,SRYRF=SRX-1700
"RTN","SROQ30D",79,0)
 D EN1
"RTN","SROQ30D",80,0)
 Q
"RTN","SROQ30D",81,0)
QTR D CHECK I '$D(X) D HELP
"RTN","SROQ30D",82,0)
 K SRX,SRY
"RTN","SROQ30D",83,0)
 Q
"RTN","SROQ30D",84,0)
CHECK I $L(X)'=6!(X'["-") K X Q
"RTN","SROQ30D",85,0)
 I $P(X,"-",2)?1N,"1243"'[$P(X,"-",2) K X Q
"RTN","SROQ30D",86,0)
 I X'?4N1"-"1N K X Q
"RTN","SROQ30D",87,0)
 S SRX=$P(X,"-") I SRX<2011!(SRX>2030) K X Q
"RTN","SROQ30D",88,0)
 S SRY=$P(X,"-",2) I "1234"'[SRY K X Q
"RTN","SROQ30D",89,0)
 S X=SRX_SRY
"RTN","SROQ30D",90,0)
 Q
"RTN","SROQ30D",91,0)
HELP K SRHELP S SRHELP(1)="",SRHELP(2)="Answer must be in format:  FISCAL YEAR-QUARTER",SRHELP(3)="",SRHELP(4)="NOTE: A hyphen (-) must separate FISCAL YEAR and QUARTER. The FISCAL"
"RTN","SROQ30D",92,0)
 S SRHELP(5)="      YEAR must be in the range 2011 to 2030. QUARTER must be a",SRHELP(6)="      number (1, 2, 3 or 4).",SRHELP(7)="" D EN^DDIOL(.SRHELP) K SRHELP
"RTN","SROQ30D",93,0)
 Q
"RTN","SROQD0")
0^96^B26805426^B26539053
"RTN","SROQD0",1,0)
SROQD0 ;BIR/ADM-Cases with Deaths within 30 Days ; [ 02/05/99  9:38 AM ]
"RTN","SROQD0",2,0)
 ;;3.0;Surgery;**62,70,50,87,182**;24 Jun 9;Build 49
"RTN","SROQD0",3,0)
 ;
"RTN","SROQD0",4,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROQD0",5,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SROQD0",6,0)
 ;**         are prohibited.
"RTN","SROQD0",7,0)
 ;
"RTN","SROQD0",8,0)
AC F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)!SRSOUT  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSD,SRTN)) Q:'SRTN  I $D(^SRF(SRTN,0)),$$MANDIV^SROUTL0(SRINSTP,SRTN) S SRDTH=0 D CASE I SRDTH S ^TMP("SRDTH",$J,DFN)=""
"RTN","SROQD0",9,0)
 D MORT S DFN=0 F  S DFN=$O(^TMP("SRDEATH",$J,DFN)) Q:'DFN  D:SRSEL=1 TOT D:SRSEL=2 SPEC D:SRSEL=3 INDEX
"RTN","SROQD0",10,0)
 D CLEAN
"RTN","SROQD0",11,0)
 Q
"RTN","SROQD0",12,0)
TOT S SRNM=^TMP("SRNM",$J,DFN)  I $O(^TMP("SRREL",$J,DFN,0))="" S SRIOSTAT=^TMP("SRDEATH",$J,DFN),SRTN=^TMP("SRINOUT",$J,DFN,SRIOSTAT),^TMP("SRSEC",$J,SRIOSTAT,SRNM,DFN)=SRTN Q
"RTN","SROQD0",13,0)
 S SRSD=$O(^TMP("SRREL",$J,DFN,0)) I SRSD S SRTN=$O(^TMP("SRREL",$J,DFN,SRSD,0)) I SRTN S SRIOSTAT=^TMP("SRREL",$J,DFN,SRSD,SRTN),^TMP("SRSEC",$J,SRIOSTAT,SRNM,DFN)=SRTN
"RTN","SROQD0",14,0)
 Q
"RTN","SROQD0",15,0)
SPEC S SRNM=^TMP("SRNM",$J,DFN) I $O(^TMP("SRREL",$J,DFN,0))="" S SRNAT=^TMP("SRDEATH",$J,DFN),SRTN=^TMP("SRNAT",$J,DFN,SRNAT),^TMP("SRSEC",$J,SRNAT,SRNM,DFN)=SRTN Q
"RTN","SROQD0",16,0)
 S SRSD=$O(^TMP("SRREL",$J,DFN,0)) I SRSD S SRTN=$O(^TMP("SRREL",$J,DFN,SRSD,0)) I SRTN S SRNAT=^TMP("SRREL",$J,DFN,SRSD,SRTN),^TMP("SRSEC",$J,SRNAT,SRNM,DFN)=SRTN
"RTN","SROQD0",17,0)
 Q
"RTN","SROQD0",18,0)
INDEX S SRNM=^TMP("SRNM",$J,DFN) I $O(^TMP("SRREL",$J,DFN,0))="" S SRPROC=^TMP("SRDEATH",$J,DFN),SRTN=^TMP("SRNAT",$J,DFN,SRPROC),^TMP("SRSEC",$J,SRPROC,SRNM,DFN)=SRTN Q
"RTN","SROQD0",19,0)
 S SRSD=$O(^TMP("SRREL",$J,DFN,0)) I SRSD S SRTN=$O(^TMP("SRREL",$J,DFN,SRSD,0)) I SRTN S SRPROC=^TMP("SRREL",$J,DFN,SRSD,SRTN),^TMP("SRSEC",$J,SRPROC,SRNM,DFN)=SRTN
"RTN","SROQD0",20,0)
 Q
"RTN","SROQD0",21,0)
CASE ; examine case
"RTN","SROQD0",22,0)
 Q:'$P($G(^SRF(SRTN,.2)),"^",12)!($P($G(^SRF(SRTN,"NON")),"^")="Y")!$P($G(^SRF(SRTN,30)),"^")
"RTN","SROQD0",23,0)
 S SR(0)=^SRF(SRTN,0),DFN=$P(SR(0),"^") D DEM^VADPT Q:'$P(VADM(6),"^")
"RTN","SROQD0",24,0)
 S SRIOSTAT=$P(SR(0),"^",12) I SRIOSTAT'="I"&(SRIOSTAT'="O") S VAIP("D")=SRSD D IN5^VADPT S SRIOSTAT=$S(VAIP(13):"I",1:"O") K VAIP
"RTN","SROQD0",25,0)
 S Y=$P(SR(0),"^",4),SRSS=$S(Y:Y,1:9999)
"RTN","SROQD0",26,0)
 I SRSEL=2 S SRNAT=$S(SRSS=9999:9999,1:$P(^SRO(137.45,SRSS,0),"^",2))
"RTN","SROQD0",27,0)
 I SRSD<$P(VADM(6),"^") S X1=SRSD,X2=30 D C^%DTC I $P(VADM(6),"^")'>X S SRDTH=1
"RTN","SROQD0",28,0)
 I SRDTH S ^TMP("SRDTH",$J,DFN)=""
"RTN","SROQD0",29,0)
 Q
"RTN","SROQD0",30,0)
TMP ; update ^TMP
"RTN","SROQD0",31,0)
 S SRREL=$P($G(^SRF(SRTN,.4)),"^",7) I '$D(^TMP("SR",$J,DFN)) S ^TMP("SRPAT",$J,VADM(1),DFN)=VA("PID")_"^"_$P(VADM(3),"^")_"^"_$P(VADM(6),"^"),^TMP("SRNM",$J,DFN)=VADM(1)
"RTN","SROQD0",32,0)
 S ^TMP("SR",$J,DFN,SRSD,SRTN)=SRSS_"^"_SRIOSTAT_"^"_SRREL_"^"_$P($G(^SRF(SRTN,"CON")),"^")
"RTN","SROQD0",33,0)
 I SRSEL=1 S ^TMP("SRDEATH",$J,DFN)=SRIOSTAT,^TMP("SRINOUT",$J,DFN,SRIOSTAT)=SRTN,^TMP("SRNAT",$J,DFN,SRSS)=SRTN I SRREL="R" S ^TMP("SRREL",$J,DFN,(9999999-SRSD),SRTN)=SRIOSTAT
"RTN","SROQD0",34,0)
 I SRSEL=2 S ^TMP("SRDEATH",$J,DFN)=SRNAT,^TMP("SRNAT",$J,DFN,SRNAT)=SRTN I SRREL="R" S ^TMP("SRREL",$J,DFN,(9999999-SRSD),SRTN)=SRNAT
"RTN","SROQD0",35,0)
 Q
"RTN","SROQD0",36,0)
PAGE I $E(IOST)="P"!SRHDR G HDR
"RTN","SROQD0",37,0)
 D PRESS^SROQD I SRSOUT Q
"RTN","SROQD0",38,0)
HDR ; print heading
"RTN","SROQD0",39,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROQD0",40,0)
 W:$Y @IOF W:$E(IOST)="P" !,?(IOM-$L(SRINST)\2),SRINST W !,?(IOM-$L(SRRPT)\2),SRRPT,?(IOM-10),$J("PAGE "_SRPAGE,9),!,?(IOM-$L(SRFRTO)\2),SRFRTO
"RTN","SROQD0",41,0)
 W !,?(IOM-$L(SRPRINT)\2),SRPRINT I SRIO'="A" S X=$S(SRIO="I":"INPATIENT",SRIO=2:"INPATIENT",SRIO=3:"INPATIENT",1:"OUTPATIENT")_" DEATHS" W !,?(IOM-$L(X)\2),X
"RTN","SROQD0",42,0)
 Q:SRHDR2
"RTN","SROQD0",43,0)
 W !,?124,"DEATH",!,"OP DATE",?10,"CASE #",?22,"IN/OUT",?31,"SURGICAL SPECIALTY",?69,"PROCEDURE(S)",?123,"RELATED"
"RTN","SROQD0",44,0)
 S SRHDR=0,SRPAGE=SRPAGE+1 W ! F I=1:1:IOM W "="
"RTN","SROQD0",45,0)
 I SRSNM W !,SRNAME_"   * * Continued from previous page * *",!
"RTN","SROQD0",46,0)
 Q
"RTN","SROQD0",47,0)
SUM ; print category totals
"RTN","SROQD0",48,0)
 D:$Y+6>IOSL PAGE Q:SRSOUT
"RTN","SROQD0",49,0)
 W !,"TOTAL DEATHS: "_SRDTOT
"RTN","SROQD0",50,0)
 Q
"RTN","SROQD0",51,0)
MORT ; look for operations in next quarter
"RTN","SROQD0",52,0)
 S X1=SDATE,X2=-30 D C^%DTC S SRSD1=9999999.999999-(X-.0001),X1=EDATE,X2=30 D C^%DTC S SRED1=9999999.999999-(X+.9999)
"RTN","SROQD0",53,0)
 S DFN=0 F  S DFN=$O(^TMP("SRDTH",$J,DFN)) Q:'DFN  D DEM^VADPT D
"RTN","SROQD0",54,0)
 .K ^TMP("SRTN",$J) S SRINV=SRED1 F  S SRINV=$O(^SRF("ADT",DFN,SRINV)) Q:'SRINV!(SRINV>SRSD1)  S SRTN=0 F  S SRTN=$O(^SRF("ADT",DFN,SRINV,SRTN)) Q:'SRTN  D
"RTN","SROQD0",55,0)
 ..S ^TMP("SRTN",$J,$P(^SRF(SRTN,0),"^",9),SRTN)=""
"RTN","SROQD0",56,0)
 .S SRSD=0 F  S SRSD=$O(^TMP("SRTN",$J,SRSD)) Q:'SRSD  S SRTN=0 F  S SRTN=$O(^TMP("SRTN",$J,SRSD,SRTN)) Q:'SRTN  S SRDTH=0 D CASE I SRDTH D TMP
"RTN","SROQD0",57,0)
 Q
"RTN","SROQD0",58,0)
CLEAN ; deselect deaths attributable to operations outside date range
"RTN","SROQD0",59,0)
 S SRNAT="" F  S SRNAT=$O(^TMP("SRSEC",$J,SRNAT)) Q:SRNAT=""  S SRNM="" F  S SRNM=$O(^TMP("SRSEC",$J,SRNAT,SRNM)) Q:SRNM=""  S DFN=0 F  S DFN=$O(^TMP("SRSEC",$J,SRNAT,SRNM,DFN)) Q:'DFN  D
"RTN","SROQD0",60,0)
 .S SRTN=^TMP("SRSEC",$J,SRNAT,SRNM,DFN),SRSDATE=$P(^SRF(SRTN,0),"^",9) I SRSDATE>(EDATE+.9999)!(SRSDATE<(SDATE-.0001)) D
"RTN","SROQD0",61,0)
 ..K ^TMP("SRSEC",$J,SRNAT,SRNM,DFN),^TMP("SRDEATH",$J,DFN),^TMP("SRNM",$J,DFN),^TMP("SRPAT",$J,SRNM,DFN)
"RTN","SROQD0",62,0)
 ..K ^TMP("SRINOUT",$J,DFN),^TMP("SRNAT",$J,DFN),^TMP("SRREL",$J,DFN),^TMP("SR",$J,DFN)
"RTN","SROQD0",63,0)
 Q
"RTN","SROQD1")
0^97^B12980776^B12825991
"RTN","SROQD1",1,0)
SROQD1 ;BIR/ADM - CASES WITH DEATHS WITHIN 30 DAYS ;01/29/98
"RTN","SROQD1",2,0)
 ;;3.0;Surgery;**62,70,77,142,182**;24 Jun 93;Build 49
"RTN","SROQD1",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROQD1",4,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SROQD1",5,0)
 ;**         are prohibited.
"RTN","SROQD1",6,0)
 ;
"RTN","SROQD1",7,0)
 ; Reference to ^DIC(45.3 supported by DBIA #218
"RTN","SROQD1",8,0)
 ;
"RTN","SROQD1",9,0)
NAT ; loop through national specialties
"RTN","SROQD1",10,0)
 D HDR I SRSPEC S SRNAT=SRSPEC,SRNATNM=$P(^DIC(45.3,SRNAT,0),"^",2),SRDNAT=0 D PATS Q
"RTN","SROQD1",11,0)
 S SRNAT=0 F  S SRNAT=$O(^DIC(45.3,SRNAT)),SRSNM=0 Q:'SRNAT!SRSOUT  I $D(^TMP("SRSEC",$J,SRNAT)) S SRNATNM=$P(^DIC(45.3,SRNAT,0),"^",2),SRDNAT=0 D PATS
"RTN","SROQD1",12,0)
 I $D(^TMP("SRSEC",$J,9999)) S SRNAT=9999,SRNATNM="SPECIALTY NOT ENTERED",SRDNAT=0 D PATS
"RTN","SROQD1",13,0)
 D:'SRSOUT SUM1
"RTN","SROQD1",14,0)
 Q
"RTN","SROQD1",15,0)
IP ; loop through index procedures
"RTN","SROQD1",16,0)
 D HDR F SRNAT=1:1:12 S SRSNM=0 Q:SRSOUT  I $D(^TMP("SRSEC",$J,SRNAT)) S SRNATNM=^TMP("SRIP",$J,SRNAT),SRDNAT=0 D PATS
"RTN","SROQD1",17,0)
 D:'SRSOUT SUM1
"RTN","SROQD1",18,0)
 Q
"RTN","SROQD1",19,0)
NEW ; print national specialty or index procedure category
"RTN","SROQD1",20,0)
 D:$Y+9>IOSL PAGE Q:SRSOUT  I SRNATNM["," S SRNATNM=$P(SRNATNM,",")_$P(SRNATNM,", ",2)
"RTN","SROQD1",21,0)
 W !,">>> "_SRNATNM_" <<<",! S SRSNM=1
"RTN","SROQD1",22,0)
 Q
"RTN","SROQD1",23,0)
PATS ; print patient list
"RTN","SROQD1",24,0)
 D NEW S SRNM="" F  S SRNM=$O(^TMP("SRSEC",$J,SRNAT,SRNM)) Q:SRNM=""!SRSOUT  S DFN=0 F  S DFN=$O(^TMP("SRSEC",$J,SRNAT,SRNM,DFN)) Q:'DFN!SRSOUT  D CASE
"RTN","SROQD1",25,0)
 D:'SRSOUT SUM
"RTN","SROQD1",26,0)
 Q
"RTN","SROQD1",27,0)
CASE ; print case information
"RTN","SROQD1",28,0)
 S SRDNAT=SRDNAT+1,SRDTOT=SRDTOT+1 I $Y+7>IOSL D PAGE Q:SRSOUT
"RTN","SROQD1",29,0)
 S SRZ=^TMP("SRPAT",$J,SRNM,DFN),SRSSN=$P(SRZ,"^"),(SRDD,X1)=$P(SRZ,"^",3),X2=$P(SRZ,"^",2),SRAGE=$E(X1,1,3)-$E(X2,1,3)-($E(X1,4,7)<$E(X2,4,7))
"RTN","SROQD1",30,0)
 S X=SRDD,SRDD=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3)
"RTN","SROQD1",31,0)
 S SRTN=^TMP("SRSEC",$J,SRNAT,SRNM,DFN),SR=^SRF(SRTN,0),X=$P(SR,"^",9),SRX=^TMP("SR",$J,DFN,X,SRTN),SRSD=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3)
"RTN","SROQD1",32,0)
 S Y=$P(SRX,"^",2),SRIOSTAT=$S(Y="I":"INPAT",Y="O":"OUTPAT",Y=1:"OUTPAT",Y=2:"INPAT",Y=3:"INPAT",1:"???")
"RTN","SROQD1",33,0)
 S Y=$P(SRX,"^",3),SRREL=$S(Y="U":"UNRELATED",Y="R":"RELATED",1:"???")
"RTN","SROQD1",34,0)
 S X=$P(SR,"^",4),SRSS=$S(X:$P(^SRO(137.45,X,0),"^"),1:"SPECIALTY NOT ENTERED"),SRL=86,SRSUPCPT=1 D PROC^SROUTL
"RTN","SROQD1",35,0)
 W !,SRSD,?12,SRNM,?44,SRDD,?60,SRSS,?102,SRIOSTAT,?111,SRREL,!,SRTN,?12,SRSSN_"  ("_SRAGE_")" S I=0 F  S I=$O(SRPROC(I)) Q:'I  W ?44,SRPROC(I),!
"RTN","SROQD1",36,0)
 Q
"RTN","SROQD1",37,0)
PAGE I $E(IOST)="P"!SRHDR G HDR
"RTN","SROQD1",38,0)
 D PRESS I SRSOUT Q
"RTN","SROQD1",39,0)
HDR ; print heading
"RTN","SROQD1",40,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROQD1",41,0)
 W:$Y @IOF W:$E(IOST)="P" !,?(IOM-$L(SRINST)\2),SRINST W !,?(IOM-$L(SRRPT)\2),SRRPT,?(IOM-10),$J("PAGE "_SRPAGE,9),!,?(IOM-$L(SRFRTO)\2),SRFRTO,!,?(IOM-$L(SRPRINT)\2),SRPRINT
"RTN","SROQD1",42,0)
 W !!,"OP DATE",?12,"PATIENT NAME",?44,"DATE OF DEATH",?60,"LOCAL SPECIALTY",?102,"IN/OUT",?111,"DEATH RELATED"
"RTN","SROQD1",43,0)
 W !,"CASE #",?12,"PATIENT ID#  (AGE)",?44,"PROCEDURE(S)"
"RTN","SROQD1",44,0)
 S SRHDR=0,SRPAGE=SRPAGE+1 W ! F I=1:1:IOM W "="
"RTN","SROQD1",45,0)
 I SRSNM W !,">>> "_SRNATNM_" <<<   * * Continued from previous page * *"
"RTN","SROQD1",46,0)
 Q
"RTN","SROQD1",47,0)
SUM ; print total for specialty or index procedure
"RTN","SROQD1",48,0)
 D:$Y+6>IOSL PAGE Q:SRSOUT
"RTN","SROQD1",49,0)
 W !!,"TOTAL DEATHS FOR "_SRNATNM_": "_SRDNAT,! F I=1:1:IOM W "-"
"RTN","SROQD1",50,0)
 Q
"RTN","SROQD1",51,0)
SUM1 ; print grand total for all specialties or index procedures
"RTN","SROQD1",52,0)
 D:$Y+6>IOSL PAGE Q:SRSOUT
"RTN","SROQD1",53,0)
 W !!,"TOTAL FOR ALL "_$S(SRSEL=2:"SPECIALTIES",1:"INDEX PROCEDURES")_": "_SRDTOT
"RTN","SROQD1",54,0)
 Q
"RTN","SROQD1",55,0)
PRESS W !! K DIR S DIR(0)="E" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROQD1",56,0)
 Q
"RTN","SROQIDP")
0^99^B20134755^B19872075
"RTN","SROQIDP",1,0)
SROQIDP ;BIR/ADM - LIST OF INVASIVE DIAGNOSTIC PROCEDURES ;12/16/98  12:11 PM
"RTN","SROQIDP",2,0)
 ;;3.0;Surgery;**62,77,50,88,142,182**;24 Jun 93;Build 49
"RTN","SROQIDP",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROQIDP",4,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SROQIDP",5,0)
 ;**         are prohibited.
"RTN","SROQIDP",6,0)
 ;
"RTN","SROQIDP",7,0)
 S SRSOUT=0 W @IOF,!,?20,"List of Invasive Diagnostic Procedures",!!,"This report displays the completed surgical cases that meet the selection",!,"criteria and that have a principal CPT code on the list below defined by"
"RTN","SROQIDP",8,0)
 W !,"Surgical Service at VHA Headquarters as invasive diagnostic procedures.",!!,?3,"Procedure Group",?30,"CPT Code(s)",!,?3,"---------------",?30,"-----------" D SHOW,PRESS^SROQIDP0 G:SRSOUT END
"RTN","SROQIDP",9,0)
SEL S (SRIO,SRSPEC)="" W @IOF S SRRPT="List of Invasive Diagnostic Procedures",SRB="O" D INOUT^SROUTL G:SRSOUT END D DATE^SROUTL(.SDATE,.EDATE,.SRSOUT) G:SRSOUT END D SPEC^SROUTL G:SRSOUT END
"RTN","SROQIDP",10,0)
 N SRINSTP S SRINST=$$INST^SROUTL0() G:SRINST="^" END S SRINSTP=$P(SRINST,"^"),SRINST=$S(SRINST["ALL DIVISIONS":SRINST,1:$P(SRINST,"^",2))
"RTN","SROQIDP",11,0)
IO W !!,"This report is designed to use a 132 column format.",!
"RTN","SROQIDP",12,0)
 K %ZIS,IOP,IO("Q"),POP S %ZIS("A")="Print the List of Invasive Diagnostic Procedures to which Printer ? ",%ZIS("B")="",%ZIS="Q" D ^%ZIS I POP S SRSOUT=1 G END
"RTN","SROQIDP",13,0)
 I $D(IO("Q")) K IO("Q") S ZTDESC="List of Invasive Diagnostic Procedures",(ZTSAVE("EDATE"),ZTSAVE("SRIO"),ZTSAVE("SDATE"),ZTSAVE("SRINSTP"),ZTSAVE("SRSPEC*"))="",ZTRTN="EN^SROQIDP" D ^%ZTLOAD S SRSOUT=1 G END
"RTN","SROQIDP",14,0)
EN D ^SROQIDP0
"RTN","SROQIDP",15,0)
END W:$E(IOST)="P" @IOF I $D(ZTQUEUED) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SROQIDP",16,0)
 I 'SRSOUT,$E(IOST)'="P" D PRESS^SROQIDP0
"RTN","SROQIDP",17,0)
 D ^%ZISC K ^TMP("SR",$J),SRFRTO,SRIDP,SRIDPT,SRIO,SRIOSTAT,SRIOT,SRRPT,SRTN D ^SRSKILL W @IOF
"RTN","SROQIDP",18,0)
 Q
"RTN","SROQIDP",19,0)
AC F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)!SRSOUT  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSD,SRTN)) Q:'SRTN  I $D(^SRF(SRTN,0)),$$MANDIV^SROUTL0(SRINSTP,SRTN) D CASE Q:SRSOUT
"RTN","SROQIDP",20,0)
 Q
"RTN","SROQIDP",21,0)
CASE ; determine if case is invasive procedure
"RTN","SROQIDP",22,0)
 Q:'$P($G(^SRF(SRTN,.2)),"^",12)!($P($G(^SRF(SRTN,"NON")),"^")="Y")!$P($G(^SRF(SRTN,30)),"^")
"RTN","SROQIDP",23,0)
 S SR(0)=^SRF(SRTN,0),SRSS=$P(SR(0),"^",4) I SRSPEC Q:SRSS'=SRSPEC
"RTN","SROQIDP",24,0)
 S SRIOSTAT=$P(SR(0),"^",12) S SRIOSTAT=$S(SRIOSTAT=1:"O",SRIOSTAT=2:"I",SRIOSTAT=3:"I",1:"")
"RTN","SROQIDP",25,0)
 I SRIOSTAT'="I"&(SRIOSTAT'="O") S VAIP("D")=SRSD D IN5^VADPT S SRIOSTAT=$S(VAIP(13):"I",1:"O") K VAIP
"RTN","SROQIDP",26,0)
 I SRIO'="A" Q:SRIOSTAT'=SRIO
"RTN","SROQIDP",27,0)
 D IDP I SRIDP S ^TMP("SR",$J,SRSD,SRTN)=$P(SR(0),"^")_"^"_SRSS_"^"_SRIOSTAT,SRIDPT=SRIDPT+1,SRIOT(SRIOSTAT)=SRIOT(SRIOSTAT)+1
"RTN","SROQIDP",28,0)
 Q
"RTN","SROQIDP",29,0)
QTR ; entry from quarterly report
"RTN","SROQIDP",30,0)
 N SROP,SROPER S SRIDP=0 D IDP I SRIDP D ADD
"RTN","SROQIDP",31,0)
 Q
"RTN","SROQIDP",32,0)
IDP ; get CPT codes for procedures performed
"RTN","SROQIDP",33,0)
 N SRCODES,SRCPT,SRMATCH S SRIDP=0 S SROP=$P($G(^SRO(136,SRTN,0)),"^",2) I SROP S SROP=$P($$CPT^ICPTCOD(SROP),"^",2) D CHECK I SRMATCH S SRIDP=1
"RTN","SROQIDP",34,0)
 I SRIDP S SROPER=0 F  S SROPER=$O(^SRO(136,SRTN,3,SROPER)) Q:'SROPER  S SROP=$P($G(^SRO(136,SRTN,3,SROPER,0)),"^") I SROP D CHECK I 'SRMATCH S SRIDP=0 Q
"RTN","SROQIDP",35,0)
 Q
"RTN","SROQIDP",36,0)
CHECK ; compare procedure performed with HQ list
"RTN","SROQIDP",37,0)
 S SRMATCH=0 F J=1:1:6 Q:SRMATCH  S SRCODES=$P($T(PROC+J),";;",3) F K=1:1 S SRCPT=$P(SRCODES,",",K) Q:'SRCPT  I SRCPT=SROP S SRMATCH=1 Q
"RTN","SROQIDP",38,0)
 Q
"RTN","SROQIDP",39,0)
ADD ; increment counters in ^TMP
"RTN","SROQIDP",40,0)
 S $P(^TMP("SRIDP",$J),"^")=$P(^TMP("SRIDP",$J),"^")+1
"RTN","SROQIDP",41,0)
 I $P(SR(0),"^",12)="I" S $P(^TMP("SRIDP",$J),"^",2)=$P(^TMP("SRIDP",$J),"^",2)+1 Q
"RTN","SROQIDP",42,0)
 S $P(^TMP("SRIDP",$J),"^",3)=$P(^TMP("SRIDP",$J),"^",3)+1
"RTN","SROQIDP",43,0)
 Q
"RTN","SROQIDP",44,0)
SHOW ; display list of invasive diagnostic procedures
"RTN","SROQIDP",45,0)
 F I=1:1:6 S X=$T(PROC+I),SRPROC=$P(X,";;",2),SRCODES=$P(X,";;",3) W !,?3,SRPROC,?30,$E(SRCODES,1,48) I $L(SRCODES)>48 W !,?30,$E(SRCODES,49,96)
"RTN","SROQIDP",46,0)
 Q
"RTN","SROQIDP",47,0)
PROC ; HQ list of invasive diagnostic procedures
"RTN","SROQIDP",48,0)
 ;;Urologic;;52000,52005,52007,52010,52204;;
"RTN","SROQIDP",49,0)
 ;;ENT;;31231;;
"RTN","SROQIDP",50,0)
 ;;Pulmonary (Respiratory);;31615,31622,31625,31628,31629,31656;;
"RTN","SROQIDP",51,0)
 ;;Upper Gastrointestinal;;43200,43202,43234,43235,43239,43259,43263;;
"RTN","SROQIDP",52,0)
 ;;Small Bowel and Stomach;;44360,44361,44376,44377,44380,44382,44385,44386,44388,44389;;
"RTN","SROQIDP",53,0)
 ;;Colon and Rectum;;45330,45331,45355,45378,45380,46600,46606
"RTN","SROQN")
0^16^B30035176^B28925024
"RTN","SROQN",1,0)
SROQN ;BIR/ADM - KEY MISSING SURGICAL PACKAGE DATA ;12/07/2010
"RTN","SROQN",2,0)
 ;;3.0;Surgery;**62,77,92,129,142,175,182**;24 Jun 93;Build 49
"RTN","SROQN",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROQN",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SROQN",5,0)
 ;**         are prohibited.
"RTN","SROQN",6,0)
 ;
"RTN","SROQN",7,0)
 S SRSOUT=0,SRSPEC="" W @IOF,!,?18,"Report of Key Missing Surgical Package Data",!!
"RTN","SROQN",8,0)
 W !,"For surgical cases with an entry in the TIME PAT IN OR field and that are not",!,"aborted, this option generates a report of cases missing any of the following",!,"pieces of information:"
"RTN","SROQN",9,0)
 W !!,?10,"Hospital Admission Status",!,?10,"Case Schedule Type",!,?10,"Attending Code",!,?10,"Time Pat Out OR",!,?10,"Wound Classification",!,?10,"ASA Class",!,?10,"CPT Code (Principal)",!,?10,"Principal anesthesia technique",!
"RTN","SROQN",10,0)
SEL ; select date range and specialty
"RTN","SROQN",11,0)
 D DATE^SROUTL(.SDATE,.EDATE,.SRSOUT) G:SRSOUT END D SPEC^SROUTL G:SRSOUT END
"RTN","SROQN",12,0)
 N SRINSTP S SRINST=$$INST^SROUTL0() G:SRINST="^" END S SRINSTP=$P(SRINST,"^"),SRINST=$S(SRINST["ALL DIVISIONS":SRINST,1:$P(SRINST,"^",2))
"RTN","SROQN",13,0)
IO W !!,"This report is designed to use a 132 column format.",!
"RTN","SROQN",14,0)
 K %ZIS,IOP,IO("Q"),POP S %ZIS("A")="Print the report to which Printer ? ",%ZIS("B")="",%ZIS="Q" D ^%ZIS I POP S SRSOUT=1 G END
"RTN","SROQN",15,0)
 I $D(IO("Q")) K IO("Q") S ZTDESC="Report of Key Missing Surgical Package Data",(ZTSAVE("EDATE"),ZTSAVE("SDATE"),ZTSAVE("SRINSTP"),ZTSAVE("SRSPEC*"))="",ZTRTN="EN^SROQN" D ^%ZTLOAD S SRSOUT=1 G END
"RTN","SROQN",16,0)
EN U IO S (SRTOT,SRSOUT)=0,(SRHDR,SRPAGE)=1,SRSD=SDATE-.0001,SRED=EDATE+.9999,Y=SDATE X ^DD("DD") S STARTDT=Y,Y=EDATE X ^DD("DD") S ENDATE=Y K ^TMP("SR",$J)
"RTN","SROQN",17,0)
 S SRRPT="Report of Key Missing Surgical Package Data",SRFRTO="From: "_STARTDT_"  To: "_ENDATE
"RTN","SROQN",18,0)
 S SRINST=$S(SRINSTP["ALL DIV":$P($$SITE^SROVAR,"^",2)_" - ALL DIVISIONS",1:$$GET1^DIQ(4,SRINSTP,.01))
"RTN","SROQN",19,0)
 D NOW^%DTC S Y=$E(%,1,12) X ^DD("DD") S SRPRINT="Report Printed: "_Y
"RTN","SROQN",20,0)
 D HDR,AC
"RTN","SROQN",21,0)
 I '$O(^TMP("SR",$J,0)) W !!,"No data for selected date range." G END
"RTN","SROQN",22,0)
 S SRSD=0 F  S SRSD=$O(^TMP("SR",$J,SRSD)) Q:'SRSD!SRSOUT  S SRTN=0 F  S SRTN=$O(^TMP("SR",$J,SRSD,SRTN)) Q:'SRTN!SRSOUT  S SRTOT=SRTOT+1,SRZ=^TMP("SR",$J,SRSD,SRTN) D PRINT
"RTN","SROQN",23,0)
 G:SRSOUT END D:$Y+8>IOSL PAGE G:SRSOUT END W !!,"TOTAL CASES MISSING DATA: ",SRTOT
"RTN","SROQN",24,0)
 D CODES
"RTN","SROQN",25,0)
END W:$E(IOST)="P" @IOF I $D(ZTQUEUED) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SROQN",26,0)
 I 'SRSOUT,$E(IOST)'="P" D PRESS
"RTN","SROQN",27,0)
 D ^%ZISC K ^TMP("SR",$J),SRFRTO,SRIO,SRTOT,SRRPT,SRTN D ^SRSKILL W @IOF
"RTN","SROQN",28,0)
 Q
"RTN","SROQN",29,0)
AC F  S SRSD=$O(^SRF("AC",SRSD)) Q:'SRSD!(SRSD>SRED)!SRSOUT  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSD,SRTN)) Q:'SRTN  I $D(^SRF(SRTN,0)),$$MANDIV^SROUTL0(SRINSTP,SRTN) D CASE
"RTN","SROQN",30,0)
 Q
"RTN","SROQN",31,0)
CASE ; examine case for missing items
"RTN","SROQN",32,0)
 Q:'$P($G(^SRF(SRTN,.2)),"^",10)!($P($G(^SRF(SRTN,"NON")),"^")="Y")!$P($G(^SRF(SRTN,30)),"^")
"RTN","SROQN",33,0)
 S SR(0)=^SRF(SRTN,0),DFN=$P(SR(0),"^"),SRSS=$P(SR(0),"^",4) I SRSPEC Q:SRSS'=SRSPEC
"RTN","SROQN",34,0)
 S SRIO=$P(SR(0),"^",12) I "123IO"'[SRIO S SRIO=""
"RTN","SROQN",35,0)
 S SRTYPE=$P(SR(0),"^",10),SRASA=$P($G(^SRF(SRTN,1.1)),"^",3),SRATT=$P($G(^SRF(SRTN,.1)),"^",10),SRWC=$P($G(^SRF(SRTN,"1.0")),"^",8) I SRATT="" D RS^SROQ0A
"RTN","SROQN",36,0)
 S SROUT=$P($G(^SRF(SRTN,.2)),"^",12),SRCPT=$P($G(^SRO(136,SRTN,0)),"^",2)
"RTN","SROQN",37,0)
 D TECH^SROPRIN S SRANES=$S(SRTECH'="":SRTECH,1:"NOT ENTERED")
"RTN","SROQN",38,0)
 S (SRMISS,X)="" S:SRIO="" X="A," S:SRTYPE="" X=X_"C," S:SRATT=99 X=X_"D," S:'SROUT X=X_"E," S:SRWC="" X=X_"F," S:SRASA="" X=X_"G," S:'SRCPT X=X_"H," S:SRANES="NOT ENTERED" X=X_"I,"
"RTN","SROQN",39,0)
 S Y=$L(X),SRMISS=$E(X,1,Y-1) I SRMISS'="" S ^TMP("SR",$J,SRSD,SRTN)=DFN_"^"_SRSS_"^"_SRMISS
"RTN","SROQN",40,0)
 Q
"RTN","SROQN",41,0)
PRINT ; print case information
"RTN","SROQN",42,0)
 D:$Y+9>IOSL PAGE Q:SRSOUT  S DFN=$P(SRZ,"^"),SRSS=$P(SRZ,"^",2),SRSS=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"SPECIALTY NOT ENTERED"),Y=SRSD X ^DD("DD") S SRSDATE=Y
"RTN","SROQN",43,0)
 S SRDOC=$P($G(^SRF(SRTN,.1)),"^",4) I SRDOC S SRDOC=$P(^VA(200,SRDOC,0),"^")
"RTN","SROQN",44,0)
 D DEM^VADPT S SRSNM=VADM(1),SRSSN=VA("PID"),X1=$E(SRSD,1,7),X2=$P(VADM(3),"^"),SRAGE=$E(X1,1,3)-$E(X2,1,3)-($E(X1,4,7)<$E(X2,4,7)),SRMISS=$P(SRZ,"^",3)
"RTN","SROQN",45,0)
 K SRPROC S X=$P(^SRF(SRTN,"OP"),"^") I $L(X)<79 S SRPROC(1)=X
"RTN","SROQN",46,0)
 I $L(X)>78 S K=1 F  D  I $L(X)<56 S SRPROC(K)=X Q
"RTN","SROQN",47,0)
 .F I=0:1:54 S J=78-I,Y=$E(X,J) I Y=" " S SRPROC(K)=$E(X,1,J-1),X=$E(X,J+1,$L(X)) S K=K+1 Q
"RTN","SROQN",48,0)
 W !,SRSDATE,?22,SRSNM,?54,$S(SRSPEC:SRDOC,1:SRSS),?97,SRMISS,!,SRTN,?22,SRSSN_"  ("_SRAGE_")",?54,SRPROC(1),!
"RTN","SROQN",49,0)
 W:$D(SRPROC(2)) ?54,SRPROC(2),!
"RTN","SROQN",50,0)
 Q
"RTN","SROQN",51,0)
PRESS W !! K DIR S DIR(0)="E" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SROQN",52,0)
 Q
"RTN","SROQN",53,0)
PAGE D CODES I $E(IOST)="P"!SRHDR G HDR
"RTN","SROQN",54,0)
 D PRESS I SRSOUT Q
"RTN","SROQN",55,0)
HDR ; print heading
"RTN","SROQN",56,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROQN",57,0)
 W:$Y @IOF W:$E(IOST)="P" !,?(IOM-$L(SRINST)\2),SRINST W !,?(IOM-$L(SRRPT)\2),SRRPT,?(IOM-10),$J("PAGE "_SRPAGE,9),!,?(IOM-$L(SRFRTO)\2),SRFRTO W:$E(IOST)="P" !,?(IOM-$L(SRPRINT)\2),SRPRINT
"RTN","SROQN",58,0)
 I SRSPEC S X="SURGICAL SPECIALTY: "_SRSPECN W !,?(IOM-$L(X)\2),X
"RTN","SROQN",59,0)
 W !!,"DATE OF OPERATION",?22,"PATIENT NAME",?54,$S(SRSPEC:"SURGEON",1:"SURGICAL SPECIALTY"),?97,"MISSING ITEMS",!,"CASE #",?22,"PATIENT ID  (AGE)",?54,"PRINCIPAL PROCEDURE"
"RTN","SROQN",60,0)
 S SRHDR=0,SRPAGE=SRPAGE+1 W ! F I=1:1:IOM W "="
"RTN","SROQN",61,0)
 Q
"RTN","SROQN",62,0)
CODES ; missing items code definition
"RTN","SROQN",63,0)
 F I=$Y:1:(IOSL-8) W !
"RTN","SROQN",64,0)
 W ! F I=1:1:IOM W "-"
"RTN","SROQN",65,0)
 W !,"MISSING ITEMS CODES:  A-HOSPITAL ADMISSION STATUS,   C-CASE SCHEDULE TYPE,     D-ATTENDING CODE,"
"RTN","SROQN",66,0)
 W !,"E-TIME PAT OUT OR,    F-WOUND CLASSIFICATION,    G-ASA CLASS,     H-CPT CODE (PRINCIPAL),   I-PRINCIPAL ANESTHESIA TECHNIQUE"
"RTN","SROQN",67,0)
 Q
"RTN","SRORAT1")
0^110^B15602768^B15525737
"RTN","SRORAT1",1,0)
SRORAT1 ;B'HAM ISC/MAM - CANCELLATION RATES, 1 SPECIALTY ;[ 04/06/00  10:19 AM ]
"RTN","SRORAT1",2,0)
 ;;3.0;Surgery;**14,63,94,182**;24 Jun 93;Build 49
"RTN","SRORAT1",3,0)
 S (PAGE,SRSOUT,SRCT)=0 F  S SRCT=$O(SRSS(SRCT)) Q:'SRCT!SRSOUT  S SRSS=SRSS(SRCT) D SPEC I $E(IOST)'="P" D PAGE Q:SRSOUT
"RTN","SRORAT1",4,0)
 S SRSOUT=1 Q
"RTN","SRORAT1",5,0)
SPEC K ^TMP("SR",$J),^TMP("SRT",$J) S SRHDR=0,^TMP("SR",$J)="0^0^0"
"RTN","SRORAT1",6,0)
 S SRSDATE=SRSD-.0001,SREDT=SRED+.9999,SRSSNM="** "_$P(^SRO(137.45,SRSS,0),"^")_" **"
"RTN","SRORAT1",7,0)
 F  S SRSDATE=$O(^SRF("AC",SRSDATE)) Q:'SRSDATE!(SRSDATE>SREDT)  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSDATE,SRTN)) Q:'SRTN  I $D(^SRF(SRTN,0)),$$MANDIV^SROUTL0(SRINSTP,SRTN) D UTIL
"RTN","SRORAT1",8,0)
 D HDR Q:SRSOUT
"RTN","SRORAT1",9,0)
 S X=^TMP("SR",$J),Y=$P(X,"^"),TOTAL=Y+$P(X,"^",3),X=$P(X,"^",2),CANRATE=$S(Y>0:X/Y*100,1:0),CANRATE=CANRATE+.5\1*1,TOTRATE=$S(TOTAL>0:X/TOTAL*100,1:0),TOTRATE=TOTRATE+.5\1*1
"RTN","SRORAT1",10,0)
 S TCAN=$S(TOTAL>0:Y/TOTAL*100,1:0),TCAN=TCAN+.5\1*1,TPRCNT="CANCELLATION RATE FOR SCHEDULED CASES: "_TCAN_" %"
"RTN","SRORAT1",11,0)
 S SPRCNT="AVOIDABLE CANCELLATION RATE FOR SCHEDULED CASES: "_TOTRATE_" %"
"RTN","SRORAT1",12,0)
 S CPRCNT="AVOIDABLE CANCELLATION RATE FOR CANCELLED CASES: "_CANRATE_" %"
"RTN","SRORAT1",13,0)
 S TOTAL="TOTAL SCHEDULED SURGICAL CASES: "_TOTAL
"RTN","SRORAT1",14,0)
 S SRCOL=80-$L(SRSSNM)\2 W !!,?SRCOL,SRSSNM
"RTN","SRORAT1",15,0)
 W !!,TOTAL,!,TPRCNT,!,SPRCNT,!,CPRCNT D SUB
"RTN","SRORAT1",16,0)
 S REASON=0 F  S REASON=$O(^TMP("SR",$J,REASON)) Q:REASON=""!(SRSOUT)  D REASON
"RTN","SRORAT1",17,0)
 S X=$P(^TMP("SR",$J),"^"),Y=$P(^($J),"^",2)
"RTN","SRORAT1",18,0)
 W !,?47,"-----",?64,"-----",!,"TOTAL CANCELLATIONS",?47,$J(X,4),?64,$J(Y,4)
"RTN","SRORAT1",19,0)
 Q
"RTN","SRORAT1",20,0)
REASON I $Y+5>IOSL D PAGE Q:SRSOUT  D SUB
"RTN","SRORAT1",21,0)
 S X=$P(^TMP("SR",$J,REASON),"^"),Y=$P(^(REASON),"^",2)
"RTN","SRORAT1",22,0)
 W !,$S($E(REASON,1,2)="ZZ":$E(REASON,3,45),1:REASON),?47,$J(X,4),?64,$J(Y,4)
"RTN","SRORAT1",23,0)
 Q
"RTN","SRORAT1",24,0)
UTIL ; set ^TMP
"RTN","SRORAT1",25,0)
 Q:$P($G(^SRF(SRTN,"NON")),"^")="Y"  S STORE=0,TYPE=$P(^SRF(SRTN,0),"^",10) Q:TYPE="EM"  I $P($G(^SRF(SRTN,30)),"^")=""&($P($G(^(31)),"^",4)="")&($P($G(^(31)),"^",5)="") Q
"RTN","SRORAT1",26,0)
 S X=$P(^SRF(SRTN,0),"^",4) I X'=SRSS Q
"RTN","SRORAT1",27,0)
 I $P($G(^SRF(SRTN,30)),"^") S STORE=2
"RTN","SRORAT1",28,0)
 I $P($G(^SRF(SRTN,31)),"^",8) S STORE=2
"RTN","SRORAT1",29,0)
 I $P($G(^SRF(SRTN,.2)),"^",12) S STORE=1,AVOID=""
"RTN","SRORAT1",30,0)
 I 'STORE Q
"RTN","SRORAT1",31,0)
 I STORE=2 S AVOID=0,X=$S($D(^SRF(SRTN,31)):$P(^(31),"^",8),1:""),REASON=$S(X:$P(^SRO(135,X,0),"^")_"^"_$P($G(^SRF(SRTN,30)),"^",2),1:"ZZNO REASON ENTERED"_"^"_"A") S AVOID=$S($P(REASON,"^",2)="N":0,1:1),REASON=$P(REASON,"^")
"RTN","SRORAT1",32,0)
 I STORE=2,'$D(^TMP("SR",$J,REASON)) S ^TMP("SR",$J,REASON)="0^0"
"RTN","SRORAT1",33,0)
 I STORE=1 S $P(^TMP("SR",$J),"^",3)=$P(^TMP("SR",$J),"^",3)+1 Q
"RTN","SRORAT1",34,0)
 S $P(^TMP("SR",$J),"^")=$P(^TMP("SR",$J),"^")+1 I STORE=2 S $P(^TMP("SR",$J,REASON),"^")=$P(^TMP("SR",$J,REASON),"^")+1
"RTN","SRORAT1",35,0)
 I 'AVOID Q
"RTN","SRORAT1",36,0)
 S $P(^TMP("SR",$J),"^",2)=$P(^TMP("SR",$J),"^",2)+1,$P(^TMP("SR",$J,REASON),"^",2)=$P(^TMP("SR",$J,REASON),"^",2)+1
"RTN","SRORAT1",37,0)
 Q
"RTN","SRORAT1",38,0)
PAGE S X="" I $E(IOST)'="P" W !!!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SRORAT1",39,0)
 I X["?" W !!,"Enter RETURN to continue printing this report, or '^' to exit from this option." G PAGE
"RTN","SRORAT1",40,0)
HDR ; print heading
"RTN","SRORAT1",41,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SRORAT1",42,0)
 S X=$E(SRSD,4,5)_"/"_$E(SRSD,6,7)_"/"_$E(SRSD,2,3),Y=$E(SRED,4,5)_"/"_$E(SRED,6,7)_"/"_$E(SRED,2,3),PAGE=PAGE+1 I $Y W @IOF
"RTN","SRORAT1",43,0)
 I $E(IOST)'="P" Q
"RTN","SRORAT1",44,0)
 W !,?(80-$L(SRINST)\2),SRINST,?70,"PAGE: "_PAGE,!,?32,"SURGICAL SERVICE",!,?28,"CANCELLATION RATE REPORT",!,?27,"FROM "_X_"  TO "_Y
"RTN","SRORAT1",45,0)
 S X=$E(DT,4,5)_"/"_$E(DT,6,7)_"/"_$E(DT,2,3) W !,?29,"DATE PRINTED: "_X
"RTN","SRORAT1",46,0)
 W !,?21,"REVIEWED BY:",?45,"DATE REVIEWED:",!
"RTN","SRORAT1",47,0)
 W ! F LINE=1:1:80 W "="
"RTN","SRORAT1",48,0)
 Q
"RTN","SRORAT1",49,0)
SUB ; print column headings
"RTN","SRORAT1",50,0)
 W !!,"PRIMARY CANCELLATION REASON",?45,"TOTAL CANCELS",?62,"TOTAL AVOIDABLE",! F LINE=1:1:80 W "-"
"RTN","SRORAT1",51,0)
 Q
"RTN","SRORATA")
0^109^B6605886^B6538715
"RTN","SRORATA",1,0)
SRORATA ;B'HAM ISC/MAM - CANCEL RATES ;[ 02/12/97  12:16 PM ]
"RTN","SRORATA",2,0)
 ;;3.0;Surgery;**63,182**;24 Jun 93;Build 49
"RTN","SRORATA",3,0)
 I 'SROTOT D PAGE I SRSOUT Q
"RTN","SRORATA",4,0)
 I SROTOT D HDR Q:SRSOUT
"RTN","SRORATA",5,0)
 S X=^TMP("SR",$J),Y=$P(X,"^"),TOTAL=Y+$P(X,"^",3),X=$P(X,"^",2),CANRATE=$S(Y>0:X/Y*100,1:0),CANRATE=CANRATE+.5\1*1
"RTN","SRORATA",6,0)
 S TOTRATE=$S(TOTAL>0:X/TOTAL*100,1:0),TOTRATE=TOTRATE+.5\1*1,TCAN=$S(TOTAL>0:Y/TOTAL*100,1:0),TCAN=TCAN+.5\1*1
"RTN","SRORATA",7,0)
 W !!,"TOTAL SURGICAL CASES SCHEDULED FOR ",SRINST,": ",TOTAL
"RTN","SRORATA",8,0)
 W !,"CANCELLATION RATE FOR SCHEDULED CASES: ",TCAN," %"
"RTN","SRORATA",9,0)
 W !,"AVOIDABLE CANCELLATION RATE FOR SCHEDULED CASES: ",TOTRATE," %"
"RTN","SRORATA",10,0)
 W !,"AVOIDABLE CANCELLATION RATE FOR CANCELLED CASES: ",CANRATE," %"
"RTN","SRORATA",11,0)
 D SUB S REASON=0 F  S REASON=$O(^TMP("SR",$J,REASON)) Q:REASON=""!(SRSOUT)  D REASON
"RTN","SRORATA",12,0)
 S X=$P(^TMP("SR",$J),"^"),Y=$P(^($J),"^",2)
"RTN","SRORATA",13,0)
 W !,?47,"-----",?64,"-----",!,"TOTAL CANCELLATIONS",?47,$J(X,4),?64,$J(Y,4)
"RTN","SRORATA",14,0)
 I $D(^TMP("SRT",$J)) D ^SRORATS
"RTN","SRORATA",15,0)
 Q
"RTN","SRORATA",16,0)
REASON I $Y+4>IOSL D PAGE Q:SRSOUT  D SUB
"RTN","SRORATA",17,0)
 S X=$P(^TMP("SR",$J,REASON),"^"),Y=$P(^(REASON),"^",2)
"RTN","SRORATA",18,0)
 W !,$S($E(REASON,1,2)="ZZ":$E(REASON,3,45),1:REASON),?47,$J(X,4),?64,$J(Y,4)
"RTN","SRORATA",19,0)
 Q
"RTN","SRORATA",20,0)
PAGE I 'SRHDR S SRHDR=1 G HDR
"RTN","SRORATA",21,0)
 S X="" I $E(IOST)'="P" W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SRORATA",22,0)
 I X["?" W !!,"Enter RETURN to continue printing this report, or '^' to exit from this option." G PAGE
"RTN","SRORATA",23,0)
HDR ; print heading
"RTN","SRORATA",24,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SRORATA",25,0)
 S X=$E(SRSD,4,5)_"/"_$E(SRSD,6,7)_"/"_$E(SRSD,2,3),Y=$E(SRED,4,5)_"/"_$E(SRED,6,7)_"/"_$E(SRED,2,3),PAGE=PAGE+1 I $Y W @IOF
"RTN","SRORATA",26,0)
 I $E(IOST)'="P" Q
"RTN","SRORATA",27,0)
 W !,?(80-$L(SRINST)\2),SRINST,?70,"PAGE: "_PAGE,!,?32,"SURGICAL SERVICE",!,?28,"CANCELLATION RATE REPORT",!,?27,"FROM "_X_"  TO "_Y
"RTN","SRORATA",28,0)
 S X=$E(DT,4,5)_"/"_$E(DT,6,7)_"/"_$E(DT,2,3) W !,?29,"DATE PRINTED: "_X
"RTN","SRORATA",29,0)
 W !,?21,"REVIEWED BY:",?45,"DATE REVIEWED:"
"RTN","SRORATA",30,0)
 W ! F LINE=1:1:80 W "="
"RTN","SRORATA",31,0)
 Q
"RTN","SRORATA",32,0)
SUB ; print column headings
"RTN","SRORATA",33,0)
 W !!,"PRIMARY CANCELLATION REASON",?45,"TOTAL CANCELS",?62,"TOTAL AVOIDABLE",! F LINE=1:1:80 W "-"
"RTN","SRORATA",34,0)
 Q
"RTN","SRORATP")
0^108^B8280041^B8208810
"RTN","SRORATP",1,0)
SRORATP ;B'HAM ISC/MAM - CANCEL RATES (CONT) ;[ 02/12/97  12:15 PM ]
"RTN","SRORATP",2,0)
 ;;3.0;Surgery;**63,182**;24 Jun 93;Build 49
"RTN","SRORATP",3,0)
 I SROTOT D ^SRORATA Q
"RTN","SRORATP",4,0)
 S (SRHDR,SRSS,SRSOUT,PAGE)=0
"RTN","SRORATP",5,0)
 F  S SRSS=$O(^TMP("SRT",$J,SRSS)) Q:SRSS=""!(SRSOUT)  D SP
"RTN","SRORATP",6,0)
 Q:SRSOUT  D ^SRORATA
"RTN","SRORATP",7,0)
 Q
"RTN","SRORATP",8,0)
SP D PAGE Q:SRSOUT  S SRSSNM="** "_$S(SRSS'="ZZ":SRSS,1:"SURGICAL SPECIALTY NOT ENTERED")_" **"
"RTN","SRORATP",9,0)
 S X=^TMP("SRT",$J,SRSS),Y=$P(X,"^"),TOTAL=Y+$P(X,"^",3),X=$P(X,"^",2),CANRATE=$S(Y>0:X/Y*100,1:0),CANRATE=CANRATE+.5\1*1
"RTN","SRORATP",10,0)
 S TOTRATE=$S(TOTAL>0:X/TOTAL*100,1:0),TOTRATE=TOTRATE+.5\1*1,TCAN=$S(TOTAL>0:Y/TOTAL*100,1:0),TCAN=TCAN+.5\1*1
"RTN","SRORATP",11,0)
 S TPRCNT="CANCELLATION RATE FOR SCHEDULED CASES: "_TCAN_" %"
"RTN","SRORATP",12,0)
 S SPRCNT="AVOIDABLE CANCELLATION RATE FOR SCHEDULED CASES: "_TOTRATE_" %"
"RTN","SRORATP",13,0)
 S CPRCNT="AVOIDABLE CANCELLATION RATE FOR CANCELLED CASES: "_CANRATE_" %"
"RTN","SRORATP",14,0)
 S TOTAL="TOTAL SCHEDULED SURGICAL CASES: "_TOTAL
"RTN","SRORATP",15,0)
 S SRCOL=80-$L(SRSSNM)\2 W !!,?SRCOL,SRSSNM
"RTN","SRORATP",16,0)
 W !!,TOTAL,!,TPRCNT,!,SPRCNT,!,CPRCNT D SUB
"RTN","SRORATP",17,0)
 S REASON=0 F  S REASON=$O(^TMP("SRT",$J,SRSS,REASON)) Q:REASON=""!(SRSOUT)  D REASON
"RTN","SRORATP",18,0)
 Q:SRSOUT  I $Y+4>IOSL D PAGE Q:SRSOUT
"RTN","SRORATP",19,0)
 S X=$P(^TMP("SRT",$J,SRSS),"^"),Y=$P(^(SRSS),"^",2)
"RTN","SRORATP",20,0)
 W !,?47,"-----",?64,"-----",!,"TOTAL CANCELLATIONS",?47,$J(X,4),?64,$J(Y,4)
"RTN","SRORATP",21,0)
 I $E(IOST)="P" W !! F LINE=1:1:80 W "="
"RTN","SRORATP",22,0)
 W ! Q
"RTN","SRORATP",23,0)
REASON I $Y+4>IOSL D PAGE Q:SRSOUT  D SUB
"RTN","SRORATP",24,0)
 S X=$P(^TMP("SRT",$J,SRSS,REASON),"^"),Y=$P(^(REASON),"^",2)
"RTN","SRORATP",25,0)
 W !,$S($E(REASON,1,2)="ZZ":$E(REASON,3,45),1:REASON),?47,$J(X,4),?64,$J(Y,4)
"RTN","SRORATP",26,0)
 Q
"RTN","SRORATP",27,0)
PAGE I 'SRHDR S SRHDR=1 G HDR
"RTN","SRORATP",28,0)
 S X="" I $E(IOST)'="P" W !!!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X["^") S SRSOUT=1 Q
"RTN","SRORATP",29,0)
 I X["?" W !!,"Enter RETURN to continue printing this report, or '^' to exit from this option." G PAGE
"RTN","SRORATP",30,0)
HDR ; print heading
"RTN","SRORATP",31,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SRORATP",32,0)
 S X=$E(SRSD,4,5)_"/"_$E(SRSD,6,7)_"/"_$E(SRSD,2,3),Y=$E(SRED,4,5)_"/"_$E(SRED,6,7)_"/"_$E(SRED,2,3),PAGE=PAGE+1 I $Y W @IOF
"RTN","SRORATP",33,0)
 I $E(IOST)'="P" Q
"RTN","SRORATP",34,0)
 W !,?(80-$L(SRINST)\2),SRINST,?70,"PAGE: "_PAGE,!,?32,"SURGICAL SERVICE",!,?28,"CANCELLATION RATE REPORT",!,?27,"FROM "_X_"  TO "_Y
"RTN","SRORATP",35,0)
 S X=$E(DT,4,5)_"/"_$E(DT,6,7)_"/"_$E(DT,2,3) W !,?29,"DATE PRINTED: "_X
"RTN","SRORATP",36,0)
 W !,?21,"REVIEWED BY:",?45,"DATE REVIEWED:"
"RTN","SRORATP",37,0)
 W ! F LINE=1:1:80 W "="
"RTN","SRORATP",38,0)
 Q
"RTN","SRORATP",39,0)
SUB ; print column headings
"RTN","SRORATP",40,0)
 W !!,"PRIMARY CANCELLATION REASON",?45,"TOTAL CANCELS",?62,"TOTAL AVOIDABLE",! F LINE=1:1:80 W "-"
"RTN","SRORATP",41,0)
 Q
"RTN","SROSCH")
0^120^B16320304^B16004233
"RTN","SROSCH",1,0)
SROSCH ;B'HAM ISC/MAM - SCHEDULE OF OPERATIONS ; [ 09/22/98  11:48 AM ]
"RTN","SROSCH",2,0)
 ;;3.0;Surgery;**19,48,63,50,182**;24 Jun 93;Build 49
"RTN","SROSCH",3,0)
 U IO S (SRQ,TOTAL)=0,(SRFLG,SRPAGE)=1,SRINST=SRSITE("SITE"),SRCHF=$P(^SRO(133,SRSITE,0),"^",10) D HDR^SROSCH1
"RTN","SROSCH",4,0)
 S SROR=0 F  S SROR=$O(^SRF("AMM",SROR)) Q:'SROR!(SRQ)  I $$ORDIV^SROUTL0(SROR,$G(SRSITE("DIV"))) S SX=0,SRDTS=SRDT-.0001 F  S SRDTS=$O(^SRF("AMM",SROR,SRDTS)) Q:SRDTS=""!(SRDTS>(SRDT+.9999))!(SRDTS<(SRDT-.0001))!SRQ  D MORE
"RTN","SROSCH",5,0)
 I 'SRFLG D
"RTN","SROSCH",6,0)
 .I $Y+5>IOSL S SX=1 D ASK^SROSCH1
"RTN","SROSCH",7,0)
 .W !,"TOTAL CASES SCHEDULED: "_TOTAL
"RTN","SROSCH",8,0)
 I SRFLG W !!,"No operations scheduled for this date."
"RTN","SROSCH",9,0)
 I $E(IOST)'="P",'SRQ W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SROSCH",10,0)
 G END
"RTN","SROSCH",11,0)
MORE ; continue looping on SC cross reference
"RTN","SROSCH",12,0)
 S (SRFLG,SRTN)=0 F  S SRTN=$O(^SRF("AMM",SROR,SRDTS,SRTN)) Q:'SRTN!(SRQ)  I $$DIV^SROUTL0(SRTN) S SX=SX+1,TOTAL=TOTAL+1 D SET
"RTN","SROSCH",13,0)
 Q
"RTN","SROSCH",14,0)
SET ; set variables
"RTN","SROSCH",15,0)
 S S(0)=^SRF(SRTN,0),DFN=$P(S(0),"^") D DEM^VADPT S SRNM=VADM(1),SRSSN=VA("PID"),AGE=VADM(4)
"RTN","SROSCH",16,0)
 S S(.1)=$G(^SRF(SRTN,.1)),S(.3)=$G(^SRF(SRTN,.3)),S("1.0")=$G(^SRF(SRTN,"1.0")),SRPX=$P(S("1.0"),"^",2)
"RTN","SROSCH",17,0)
 I $L(SRNM)>23 S SRNM=$P(SRNM,",")_", "_$E($P(SRNM,",",2))
"RTN","SROSCH",18,0)
 S SROOM=$P(^SRS(SROR,0),"^"),SROOM=$P(^SC(SROOM,0),"^")
"RTN","SROSCH",19,0)
 S SRIX=$P(S("1.0"),"^",5),Y=$P(S("1.0"),"^"),C=$P(^DD(130,1.01,0),"^",2) D:Y'="" Y^DIQ  S SRANES=Y I Y["MONITORED ANES" S SRANES="MONITORED ANES CARE"
"RTN","SROSCH",20,0)
 K SRSLOC I $D(^DPT(DFN,.1)) S SRSLOC=$P(^(.1),"^") I $D(^DPT(DFN,.101)) S SRSLOC=SRSLOC_"  "_$P(^(.101),"^")
"RTN","SROSCH",21,0)
 I '$D(SRSLOC) S X=$P(^SRF(SRTN,0),"^",12),SRSLOC=$S(X="I"!(X=2):"TO BE ADMITTED",X=3:"HOSPITALIZED",X="O"!(X=1):"OUTPATIENT",1:"")
"RTN","SROSCH",22,0)
 S (SRSUR,SRFST,SRATT,SRAN1,SRAN2)=""
"RTN","SROSCH",23,0)
 S SRSUR=$P(S(.1),"^",4),SRATT=$P(S(.1),"^",13),SRFST=$P(S(.1),"^",5),SRAN1=$P(S(.3),"^",4),SRAN2=$P(S(.3),"^") S:SRSUR'="" SRSUR=$P(^VA(200,SRSUR,0),"^") S:SRATT'="" SRATT=$P(^VA(200,SRATT,0),"^") S:SRFST'="" SRFST=$P(^VA(200,SRFST,0),"^")
"RTN","SROSCH",24,0)
 S:SRAN1'="" SRAN1=$P(^VA(200,SRAN1,0),"^") S:SRAN2'="" SRAN2=$P(^VA(200,SRAN2,0),"^")
"RTN","SROSCH",25,0)
 S SRDIAG=$S($D(^SRF(SRTN,33)):$P(^(33),"^"),1:"")
"RTN","SROSCH",26,0)
OPS S SROPER=$P(^SRF(SRTN,"OP"),"^"),OPER=0 F I=0:0 S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SROSCH",27,0)
 K SROPS,MM,MMM S:$L(SROPER)<50 SROPS(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROSCH",28,0)
 D TIME^SROSCH1
"RTN","SROSCH",29,0)
 F SRUSER="SRSUR","SRFST","SRATT","SRAN1","SRAN2" S:'$D(@SRUSER) @SRUSER="" I @SRUSER]"" S @SRUSER=$P(@SRUSER,",",1)_", "_$E($P(@SRUSER,",",2),1)
"RTN","SROSCH",30,0)
 S Y=$P($G(^SRF(SRTN,.4)),"^",3),C=$P(^DD(130,.43,0),"^",2) D:Y'="" Y^DIQ S SROPD=$E(Y,1,14)
"RTN","SROSCH",31,0)
 S X=$P($G(^SRF(SRTN,35)),"^",2),SRPREAD=$S(X="Y":" (P.A.T.)",1:"")
"RTN","SROSCH",32,0)
PRINT ; print variables
"RTN","SROSCH",33,0)
 D PRINT^SROSCH2
"RTN","SROSCH",34,0)
 Q
"RTN","SROSCH",35,0)
END ;
"RTN","SROSCH",36,0)
 W:$E(IOST)="P" @IOF I $D(ZTQUEUED) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SROSCH",37,0)
 D ^SRSKILL K SRTN D ^%ZISC W @IOF
"RTN","SROSCH",38,0)
 Q
"RTN","SROSCH",39,0)
OTHER ; other operations
"RTN","SROSCH",40,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>250 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROSCH",41,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SROSCH",42,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROSCH",43,0)
 Q
"RTN","SROSCH",44,0)
LOOP ; break procedure if greater than 50 characters
"RTN","SROSCH",45,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<50  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROSCH",46,0)
 Q
"RTN","SROSCH",47,0)
BLOOD S SRBU=$P(^SRF(SRTN,11,SRB,0),"^",2),SRB(SRB)=SRB(SRB)_" - "_SRBU_$S(SRBU>1:" UNITS",SRBU>0:" UNIT",1:" UNITS NOT ENTERED")
"RTN","SROSCH",48,0)
 S SRBX=$P(^SRF(SRTN,11,SRB,0),"^",3),SRBX=$S(SRBX="S":"SCREEN",SRBX="C":"CROSSMATCH",SRBX="A":"AUTOLOGOUS",1:"") I SRBX'="" S SRB(SRB)=SRB(SRB)_" ("_SRBX_")"
"RTN","SROSCH",49,0)
 Q
"RTN","SROSCH1")
0^121^B16435656^B16320901
"RTN","SROSCH1",1,0)
SROSCH1 ;B'HAM ISC/MAM - OR SCHEDULE ; [ 09/22/98  11:49 AM ]
"RTN","SROSCH1",2,0)
 ;;3.0;Surgery;**63,77,50,182**;24 Jun 93;Build 49
"RTN","SROSCH1",3,0)
EN I '$D(SRSITE) W @IOF D ^SROVAR I '$D(SRSITE) Q
"RTN","SROSCH1",4,0)
 W @IOF S %DT="AEFX",%DT("A")="Print Schedule of Operations for which date ?   " D ^%DT K %DT Q:Y<1  S SRDT=Y D D^DIQ S SRDT1=Y
"RTN","SROSCH1",5,0)
 D ALL G:SRYN["^" END I "Yy"[SRYN W !!,"Schedule will be queued to print at all locations defined in the SURGERY",!,"SITE PARAMETERS file...." D ^SROSCH2 W !!,"Press RETURN to continue  " R X:DTIME G END
"RTN","SROSCH1",6,0)
 K IOP,%ZIS,POP,IO("Q") S %ZIS("A")="Print the Report on which Device: ",%ZIS="QM" W !!,"This report is designed to use a 132 column format.",! D ^%ZIS G:POP END
"RTN","SROSCH1",7,0)
 I $D(IO("Q")) K IO("Q") S ZTDESC="SCHEDULE OF OPERATIONS",ZTRTN="SROSCH",(ZTSAVE("SRDT"),ZTSAVE("SRDT1"),ZTSAVE("SRSITE*"))="" D ^%ZTLOAD G END
"RTN","SROSCH1",8,0)
 G ^SROSCH
"RTN","SROSCH1",9,0)
END D ^SRSKILL,^%ZISC W @IOF
"RTN","SROSCH1",10,0)
 Q
"RTN","SROSCH1",11,0)
ASK I $E(IOST)'="P" W !!,"Press RETURN to continue, or '^' to quit:  " R Z:DTIME I '$T!(Z="^") S SRQ=1 Q
"RTN","SROSCH1",12,0)
 D HDR I SX'=1 W !!,?1,"OPERATING ROOM: "_SROOM,!
"RTN","SROSCH1",13,0)
 Q
"RTN","SROSCH1",14,0)
LOOP ; break procedure if greater than 70 characters
"RTN","SROSCH1",15,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<70  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROSCH1",16,0)
 Q
"RTN","SROSCH1",17,0)
HDR ; print heading
"RTN","SROSCH1",18,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRQ=1 Q
"RTN","SROSCH1",19,0)
 W:$Y @IOF W !,?(132-$L(SRINST)\2),SRINST,?123,$J("PAGE "_SRPAGE,8)
"RTN","SROSCH1",20,0)
 W !,?58,"SURGICAL SERVICE",!,?55,"SCHEDULE OF OPERATIONS",?90,"SIGNATURE OF CHIEF: ",SRCHF,!
"RTN","SROSCH1",21,0)
 D NOW^%DTC S Y=% D DD^%DT W "PRINTED: ",$P(Y,"@")_" "_$E($P(Y,"@",2),1,5),?58,"FOR: ",SRDT1,?110,"____________________"
"RTN","SROSCH1",22,0)
 W !!!,"PATIENT",?23,"DISPOSITION",?40,"PREOPERATIVE DIAGNOSIS",?92,"REQ ANESTHESIA"
"RTN","SROSCH1",23,0)
 W ?116,"PRIMARY SURGEON",!,"ID#",?15,"AGE",?23,"START TIME",?40,"OPERATION(S)",?92,"ANESTHESIOLOGIST",?115,"FIRST ASST.",!,"WARD",?24,"END TIME",?92,"PRIN. ANESTHETIST",?115,"ATT SURGEON",! F LINE=1:1:132 W "="
"RTN","SROSCH1",24,0)
 S SRPAGE=SRPAGE+1
"RTN","SROSCH1",25,0)
 Q
"RTN","SROSCH1",26,0)
CON ; print concurrent procedure
"RTN","SROSCH1",27,0)
 K SROPS,MM,MMM S SROPER=$P(^SRF(SRCON,"OP"),"^") S:$L(SROPER)<70 SROPS(1)=SROPER I $L(SROPER)>69 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROSCH1",28,0)
 W !,?26,"** Concurrent Case #"_SRCON,?53,SROPS(1) I $D(SROPS(2)) W !,?53,SROPS(2) I $D(SROPS(3)) W !,?53,SROPS(3)
"RTN","SROSCH1",29,0)
 Q
"RTN","SROSCH1",30,0)
DIQ ; extract time from date
"RTN","SROSCH1",31,0)
 S Y=SRST D D^DIQ S SRFIND=$F(Y,":") S SRST=$S(SRFIND:$E(Y,SRFIND-3,SRFIND+1),1:"")
"RTN","SROSCH1",32,0)
 S Y=SRET D D^DIQ S SRFIND=$F(Y,":") S SRET=$S(SRFIND:$E(Y,SRFIND-3,SRFIND+1),1:"")
"RTN","SROSCH1",33,0)
 Q
"RTN","SROSCH1",34,0)
TIME ; start and finish times
"RTN","SROSCH1",35,0)
 S S(31)=^SRF(SRTN,31),Y=$P(S(31),"^",4) D D^DIQ S SRFIND=$F(Y,":"),SRSST=$S(SRFIND:$E(Y,SRFIND-3,SRFIND+1),1:"00:00")
"RTN","SROSCH1",36,0)
 S Y=$P(S(31),"^",5) D D^DIQ S SRFIND=$F(Y,":"),SRSET=$S(SRFIND:$E(Y,SRFIND-3,SRFIND+1),1:"")
"RTN","SROSCH1",37,0)
 Q
"RTN","SROSCH1",38,0)
ALL ; print to all locations ?
"RTN","SROSCH1",39,0)
 I '$O(^SRO(133,SRSITE,1,0)) S SRYN="N" Q
"RTN","SROSCH1",40,0)
 W @IOF,!,"Do you want to print the schedule at all locations ?  NO//  " R SRYN:DTIME I '$T!(SRYN["^") Q
"RTN","SROSCH1",41,0)
 S SRYN=$E(SRYN) S:SRYN="" SRYN="N"
"RTN","SROSCH1",42,0)
 I "YyNn"'[SRYN W !!,"Enter RETURN to select a specific printer, or 'YES' to print the Schedule of",!,"Operations on all of the printers specified in your SURGERY SITE",!,"PARAMETERS file."
"RTN","SROSCH1",43,0)
 I "YyNn"'[SRYN W !!,"Press RETURN to continue  " R X:DTIME G ALL
"RTN","SROSCH1",44,0)
 Q
"RTN","SROSCH1",45,0)
OUT ; outpatient ?
"RTN","SROSCH1",46,0)
 I $P(^SRF(SRTN,0),"^",12)="I" S SRSLOC="TO BE ADMITTED" Q
"RTN","SROSCH1",47,0)
 I $D(^SRF(SRTN,.4)),$P(^(.4),"^",3)'="O" S SRSLOC="TO BE ADMITTED"
"RTN","SROSCH1",48,0)
 Q
"RTN","SROSPC1")
0^58^B12578693^B12463202
"RTN","SROSPC1",1,0)
SROSPC1 ;B'HAM ISC/MAM - CASES W/O SPECIMENS ; [ 07/27/98   2:33 PM ]
"RTN","SROSPC1",2,0)
 ;;3.0;Surgery;**50,182**;24 Jun 93;Build 49
"RTN","SROSPC1",3,0)
 S (SRSOUT,TOTAL)=0,PAGE=1,SRSDATE=SRSD-.0001,SREDT=SRED+.9999 D HDR
"RTN","SROSPC1",4,0)
 F  S SRSDATE=$O(^SRF("AC",SRSDATE)) Q:'SRSDATE!(SRSDATE>SREDT)!SRSOUT  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSDATE,SRTN)) Q:'SRTN!SRSOUT  I $D(^SRF(SRTN,0)),$$MANDIV^SROUTL0(SRINSTP,SRTN) D SET
"RTN","SROSPC1",5,0)
 Q:SRSOUT  I $Y+5>IOSL D PAGE I SRSOUT Q
"RTN","SROSPC1",6,0)
 W !!,"TOTAL CASES WITHOUT SPECIMENS: ",TOTAL
"RTN","SROSPC1",7,0)
 Q
"RTN","SROSPC1",8,0)
SET ; case information
"RTN","SROSPC1",9,0)
 I $P($G(^SRF(SRTN,30)),"^")'="" Q
"RTN","SROSPC1",10,0)
 S X=$P(^SRF(SRTN,0),"^",4),SRSS=$S(X:$P(^SRO(137.45,X,0),"^"),1:"SPECIALTY NOT ENTERED")
"RTN","SROSPC1",11,0)
 I '$D(^SRF(SRTN,.2)) Q
"RTN","SROSPC1",12,0)
 I $P(^SRF(SRTN,.2),"^",12)="" Q
"RTN","SROSPC1",13,0)
 I $O(^SRF(SRTN,9,0)) Q
"RTN","SROSPC1",14,0)
 I $Y+7>IOSL D PAGE I SRSOUT Q
"RTN","SROSPC1",15,0)
 S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S SROD=$E(SRSDATE,4,5)_"/"_$E(SRSDATE,6,7)_"/"_$E(SRSDATE,2,3)
"RTN","SROSPC1",16,0)
 S SRDIAG=$S($D(^SRF(SRTN,34)):$P(^(34),"^"),1:"DIAGNOSIS NOT ENTERED"),SR(.1)=$S($D(^SRF(SRTN,.1)):^(.1),1:""),SRSUR=$P(SR(.1),"^",4),SRATT=$P(SR(.1),"^",13)
"RTN","SROSPC1",17,0)
 I SRSUR S SRSUR=$P(^VA(200,SRSUR,0),"^") I $L(SRSUR)>20 S SRSUR=$P(SRSUR,",")_","_$E($P(SRSUR,",",2))
"RTN","SROSPC1",18,0)
 I SRATT S SRATT=$P(^VA(200,SRATT,0),"^") I $L(SRATT)>20 S SRATT=$P(SRATT,",")_","_$E($P(SRATT,",",2))
"RTN","SROSPC1",19,0)
OPS S SROPER=$P(^SRF(SRTN,"OP"),"^"),OPER=0 F I=0:0 S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SROSPC1",20,0)
 K SROP,MM,MMM S:$L(SROPER)<50 SROP(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROSPC1",21,0)
 W !,SROD,?20,VADM(1),?55,SRSS,?110,SRSUR,!,SRTN,?20,VA("PID"),?55,SRDIAG,?110,SRATT,!,?55,SROP(1) I $D(SROP(2)) W !,?55,SROP(2) I $D(SROP(3)) W !,?55,SROP(3) I $D(SROP(4)) W !,?55,SROP(4)
"RTN","SROSPC1",22,0)
 S TOTAL=TOTAL+1 W !
"RTN","SROSPC1",23,0)
 Q
"RTN","SROSPC1",24,0)
PAGE I $E(IOST)="P" D HDR Q
"RTN","SROSPC1",25,0)
 W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X="^") S SRSOUT=1 Q
"RTN","SROSPC1",26,0)
 I X["?" W !!,"Press RETURN to continue listing cases, or '^' to exit from this option." G PAGE
"RTN","SROSPC1",27,0)
HDR ; print heading
"RTN","SROSPC1",28,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROSPC1",29,0)
 I $Y W @IOF
"RTN","SROSPC1",30,0)
 W !,?(132-$L(SRINST)\2),SRINST,?120,"PAGE ",PAGE,!,?58,"SURGICAL SERVICE",?100,"REVIEWED BY: ",!,?55,"CASES WITHOUT SPECIMENS",?100,"DATE REVIEWED: "
"RTN","SROSPC1",31,0)
 W !,?(132-$L(SRFRTO)\2),SRFRTO,?100,SRPRINT
"RTN","SROSPC1",32,0)
 W !!,"DATE",?20,"PATIENT",?55,"SURGICAL SPECIALTY",?110,"PRIMARY SURGEON",!,"CASE #",?20,"PATIENT ID",?55,"POSTOPERATIVE DIAGNOSIS",?110,"ATTENDING SURGEON",!,?55,"OPERATIVE PROCEDURE"
"RTN","SROSPC1",33,0)
 W ! F LINE=1:1:132 W "="
"RTN","SROSPC1",34,0)
 S PAGE=PAGE+1
"RTN","SROSPC1",35,0)
 Q
"RTN","SROSPC1",36,0)
OTHER ; other operations
"RTN","SROSPC1",37,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>240 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROSPC1",38,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SROSPC1",39,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROSPC1",40,0)
 Q
"RTN","SROSPC1",41,0)
LOOP ; break procedure if greater than 50 characters
"RTN","SROSPC1",42,0)
 S SROP(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROP(M))+$L(MM)'<50  S SROP(M)=SROP(M)_MM_" ",SROPER=MMM
"RTN","SROSPC1",43,0)
 Q
"RTN","SROSPSS")
0^59^B16320500^B16215009
"RTN","SROSPSS",1,0)
SROSPSS ;B'HAM ISC/MAM - CASES W/O SPECIMENS BY SPECIALTY ; [ 07/27/98   2:33 PM ]
"RTN","SROSPSS",2,0)
 ;;3.0;Surgery;**50,182**;24 Jun 93;Build 49
"RTN","SROSPSS",3,0)
 S (SRHDR,SRSOUT)=0,PAGE=1,SRSDATE=SRSD-.0001,SREDT=SRED+.9999 K ^TMP("SR",$J)
"RTN","SROSPSS",4,0)
 F  S SRSDATE=$O(^SRF("AC",SRSDATE)) Q:'SRSDATE!(SRSDATE>SREDT)!SRSOUT  S SRTN=0 F  S SRTN=$O(^SRF("AC",SRSDATE,SRTN)) Q:'SRTN!SRSOUT  I $D(^SRF(SRTN,0)),$$MANDIV^SROUTL0(SRINSTP,SRTN) D UTIL
"RTN","SROSPSS",5,0)
 S SRSS="" F  S SRSS=$O(^TMP("SR",$J,SRSS)) Q:SRSS=""!(SRSOUT)  S SRSPEC=$S(SRSS:$P(^SRO(137.45,SRSS,0),"^"),1:"SPECIALTY NOT ENTERED"),TOTAL=0 D PAGE,DATE
"RTN","SROSPSS",6,0)
 I SRSP S SRSS="" F  S SRSS=$O(SRSP(SRSS)) Q:'SRSS!SRSOUT  I '$D(^TMP("SR",$J,SRSS)) S SRSPEC=$P(^SRO(137.45,SRSS,0),"^") D PAGE W !!,"TOTAL ",SRSPEC,": 0"
"RTN","SROSPSS",7,0)
 I 'SRSP,'$D(^TMP("SR",$J)) K SRSPEC D HDR W !!,"TOTAL CASES WITHOUT SPECIMENS: 0"
"RTN","SROSPSS",8,0)
 Q
"RTN","SROSPSS",9,0)
DATE S SRSDATE="" F  S SRSDATE=$O(^TMP("SR",$J,SRSS,SRSDATE)) Q:'SRSDATE!(SRSOUT)  S SRTN=0 F  S SRTN=$O(^TMP("SR",$J,SRSS,SRSDATE,SRTN)) Q:'SRTN!(SRSOUT)  D SET
"RTN","SROSPSS",10,0)
 Q:SRSOUT  I $Y+5>IOSL D PAGE I SRSOUT Q
"RTN","SROSPSS",11,0)
 W !!,"TOTAL ",SRSPEC,": ",TOTAL
"RTN","SROSPSS",12,0)
 Q
"RTN","SROSPSS",13,0)
UTIL ; case information
"RTN","SROSPSS",14,0)
 Q:$P($G(^SRF(SRTN,30)),"^")'=""!($P($G(^SRF(SRTN,.2)),"^",12)="")
"RTN","SROSPSS",15,0)
 S SRSS=$P(^SRF(SRTN,0),"^",4) S:SRSS="" SRSS="ZZ" I SRSP,'$D(SRSP(SRSS)) Q
"RTN","SROSPSS",16,0)
 I $O(^SRF(SRTN,9,0)) Q
"RTN","SROSPSS",17,0)
 S ^TMP("SR",$J,SRSS,SRSDATE,SRTN)=""
"RTN","SROSPSS",18,0)
 Q
"RTN","SROSPSS",19,0)
SET ; set case variables for printing
"RTN","SROSPSS",20,0)
 I $Y+7>IOSL D PAGE I SRSOUT Q
"RTN","SROSPSS",21,0)
 S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S SROD=$E(SRSDATE,4,5)_"/"_$E(SRSDATE,6,7)_"/"_$E(SRSDATE,2,3)
"RTN","SROSPSS",22,0)
 S SRDIAG=$S($D(^SRF(SRTN,34)):$P(^(34),"^"),1:"DIAGNOSIS NOT ENTERED"),SR(.1)=$S($D(^SRF(SRTN,.1)):^(.1),1:""),SRSUR=$P(SR(.1),"^",4),SRATT=$P(SR(.1),"^",13)
"RTN","SROSPSS",23,0)
 I SRSUR S SRSUR=$P(^VA(200,SRSUR,0),"^") I $L(SRSUR)>20 S SRSUR=$P(SRSUR,",")_","_$E($P(SRSUR,",",2))
"RTN","SROSPSS",24,0)
 I SRATT S SRATT=$P(^VA(200,SRATT,0),"^") I $L(SRATT)>20 S SRATT=$P(SRATT,",")_","_$E($P(SRATT,",",2))
"RTN","SROSPSS",25,0)
OPS S SROPER=$P(^SRF(SRTN,"OP"),"^"),OPER=0 F I=0:0 S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SROSPSS",26,0)
 K SROP,MM,MMM S:$L(SROPER)<50 SROP(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROSPSS",27,0)
 W !,SROD,?20,VADM(1),?55,SRDIAG,?110,SRSUR,!,SRTN,?20,VA("PID"),?55,SROP(1),?110,SRATT I $D(SROP(2)) W !,?55,SROP(2) I $D(SROP(3)) W !,?55,SROP(3) I $D(SROP(4)) W !,?55,SROP(4)
"RTN","SROSPSS",28,0)
 S TOTAL=TOTAL+1 W !
"RTN","SROSPSS",29,0)
 Q
"RTN","SROSPSS",30,0)
PAGE I $E(IOST)="P"!('SRHDR) D HDR Q
"RTN","SROSPSS",31,0)
 W !!,"Press RETURN to continue, or '^' to quit:  " R X:DTIME I '$T!(X="^") S SRSOUT=1 Q
"RTN","SROSPSS",32,0)
 I X["?" W !!,"Press RETURN to continue listing cases, or '^' to exit from this option." G PAGE
"RTN","SROSPSS",33,0)
HDR ; print heading
"RTN","SROSPSS",34,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SROSPSS",35,0)
 I $Y W @IOF
"RTN","SROSPSS",36,0)
 W !,?(132-$L(SRINST)\2),SRINST,?120,"PAGE ",PAGE,!,?58,"SURGICAL SERVICE",?100,"REVIEWED BY: ",!,?55,"CASES WITHOUT SPECIMENS",?100,"DATE REVIEWED: "
"RTN","SROSPSS",37,0)
 W:$D(SRSPEC) !,?(132-$L("SURGICAL SPECIALTY: "_SRSPEC)\2),"SURGICAL SPECIALTY: ",SRSPEC
"RTN","SROSPSS",38,0)
 W !,?(132-$L(SRFRTO)\2),SRFRTO,?100,SRPRINT
"RTN","SROSPSS",39,0)
 W !!,"DATE",?20,"PATIENT",?55,"POSTOPERATIVE DIAGNOSIS",?110,"PRIMARY SURGEON",!,"CASE #",?20,"PATIENT ID",?55,"OPERATIVE PROCEDURE",?110,"ATTENDING SURGEON"
"RTN","SROSPSS",40,0)
 W ! F LINE=1:1:132 W "="
"RTN","SROSPSS",41,0)
 S PAGE=PAGE+1,SRHDR=1
"RTN","SROSPSS",42,0)
 Q
"RTN","SROSPSS",43,0)
OTHER ; other operations
"RTN","SROSPSS",44,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>240 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROSPSS",45,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SROSPSS",46,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROSPSS",47,0)
 Q
"RTN","SROSPSS",48,0)
LOOP ; break procedure if greater than 50 characters
"RTN","SROSPSS",49,0)
 S SROP(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROP(M))+$L(MM)'<50  S SROP(M)=SROP(M)_MM_" ",SROPER=MMM
"RTN","SROSPSS",50,0)
 Q
"RTN","SROUTC")
0^17^B22577677^B20577259
"RTN","SROUTC",1,0)
SROUTC ;BIR/SJA - OUTCOMES DATA ;09/28/2011
"RTN","SROUTC",2,0)
 ;;3.0;Surgery;**125,135,153,174,175,176,182**;24 Jun 93;Build 49
"RTN","SROUTC",3,0)
 D UPDT645,EN^SROCCAT
"RTN","SROUTC",4,0)
 F I=205,206,208,209 S SRA(I)=$G(^SRF(SRTN,I))
"RTN","SROUTC",5,0)
 S NYUK=$P(SRA(205),"^",27) D YN S SRAO(1)=SHEMP_"^258",NYUK=$P(SRA(208),"^",7) D YN S SRAO(8)=SHEMP_"^391"
"RTN","SROUTC",6,0)
 S NYUK=$P(SRA(208),"^",3) D YN S SRAO(2)=SHEMP_"^386",NYUK=$P(SRA(206),"^",39) D YN S SRAO(9)=SHEMP_"^466"
"RTN","SROUTC",7,0)
 S NYUK=$P(SRA(205),"^",17) D YN S SRAO(16)=SHEMP_"^254",NYUK=$P(SRA(205),"^",43) D YN S SRAO(10)=SHEMP_"^645"
"RTN","SROUTC",8,0)
 S NYUK=$P(SRA(208),"^",5) D YN S SRAO(4)=SHEMP_"^388",NYUK=$P(SRA(205),"^",21) D YN S SRAO(11)=SHEMP_"^256"
"RTN","SROUTC",9,0)
 S NYUK=$P(SRA(205),"^",26) D YN S SRAO(5)=SHEMP_"^411",NYUK=$P(SRA(205),"^",22) D YN S SRAO(12)=SHEMP_"^410"
"RTN","SROUTC",10,0)
 S NYUK=$P(SRA(208),"^",6) D YN S SRAO(6)=SHEMP_"^389",NYUK=$P(SRA(206),"^",40) D YN S SRAO(13)=SHEMP_"^467"
"RTN","SROUTC",11,0)
 S NYUK=$P(SRA(205),"^",13) D YN S SRAO(7)=SHEMP_"^285"
"RTN","SROUTC",12,0)
 S NYUK=$P(SRA(205),"^",40) D YN S SRAO(14)=SHEMP_"^448",NYUK=$P(SRA(205),"^",8) D YN S SRAO(15)=SHEMP_"^404"
"RTN","SROUTC",13,0)
 S NYUK=$P(SRA(205),"^",6) D YN S SRAO(3)=SHEMP_"^248"
"RTN","SROUTC",14,0)
 ;
"RTN","SROUTC",15,0)
DISP S SRPAGE="PAGE: 1",SRHDR(.5)="OUTCOMES INFORMATION" D HDR^SROAUTL
"RTN","SROUTC",16,0)
 W !,"Perioperative (30 day) Occurrences:",!,"-----------------------------------"
"RTN","SROUTC",17,0)
 W !,"1. Myocardial Infarction: ",?35,$P(SRAO(1),"^"),?40," 9. Tracheostomy: ",?76,$P(SRAO(9),"^")
"RTN","SROUTC",18,0)
 W !,"2. Endocarditis: ",?35,$P(SRAO(2),"^"),?40,"10. Mechanical Vent within 30 Days: ",?76,$P(SRAO(10),"^")
"RTN","SROUTC",19,0)
 W !,"3. Superficial Incisional SSI: ",?35,$P(SRAO(3),"^"),?40,"11. Stroke/CVA: ",?76,$P(SRAO(11),"^")
"RTN","SROUTC",20,0)
 W !,"4. Mediastinitis: ",?35,$P(SRAO(4),"^"),?40,"12. Coma >= 24 hr: ",?76,$P(SRAO(12),"^")
"RTN","SROUTC",21,0)
 W !,"5. Cardiac arrest requiring CPR: ",?35,$P(SRAO(5),"^"),?40,"13. New Mech Circ Support: ",?76,$P(SRAO(13),"^")
"RTN","SROUTC",22,0)
 W !,"6. Reoperation for bleeding: ",?35,$P(SRAO(6),"^"),?40,"14. Postop Atrial Fibrillation: ",?76,$P(SRAO(14),"^")
"RTN","SROUTC",23,0)
 W !,"7. On ventilator >= 48 hr: ",?35,$P(SRAO(7),"^"),?40,"15. Wound Disruption: ",?76,$P(SRAO(15),"^")
"RTN","SROUTC",24,0)
 W !,"8. Repeat cardiac surg procedure: ",?35,$P(SRAO(8),"^"),?40,"16. Renal failure require dialysis: ",$P(SRAO(16),"^")
"RTN","SROUTC",25,0)
 W !! F MOE=1:1:80 W "-"
"RTN","SROUTC",26,0)
 Q
"RTN","SROUTC",27,0)
YN ; store answer
"RTN","SROUTC",28,0)
 S SHEMP=$S(NYUK="NS":"NS",NYUK="N":"NO",NYUK="Y":"YES",1:"")
"RTN","SROUTC",29,0)
 Q
"RTN","SROUTC",30,0)
UPDT645 ; update field 645
"RTN","SROUTC",31,0)
 N SRX S SRX=$P($G(^SRF(SRTN,205)),"^",43) S:SRX="" SRX="N"
"RTN","SROUTC",32,0)
 K DA,DIE,DR S DIE=130,DA=SRTN,DR="645////"_SRX D ^DIE K DA,DIE,DR
"RTN","SROUTC",33,0)
 Q
"RTN","SROUTC",34,0)
UPDATE N SRCMP,SROC,SRI,SRIF,SRQ,SRY D MAP
"RTN","SROUTC",35,0)
 I EMILY=5!(EMILY=13) D IP Q:EMILY=5
"RTN","SROUTC",36,0)
 I EMILY=13 S SRY=+Y G EM13
"RTN","SROUTC",37,0)
 S X=$P(^SRO(136.5,SROC,0),"^"),DIC(0)="L",DLAYGO="130.22",DA(1)=SRTN,DIC="^SRF("_SRTN_",16," D FILE^DICN
"RTN","SROUTC",38,0)
 S $P(^SRF(SRTN,16,+Y,0),"^",2)=SROC,SRY=+Y
"RTN","SROUTC",39,0)
EM13 I EMILY=13 K DIR S DIR(0)="130"_$S(SRIF=1:".13,5",1:".22,15"),DIR("A")=$S(SRIF=1:"Intra",1:"Post")_"op Device Type" D ^DIR G:X="" EM13 D  K DR,DA,DIE
"RTN","SROUTC",40,0)
 .K DA,DR,DIE,DIR I X["^"!(X="@")!(Y=0) D DEL S DA=SRTN,DIE=130,DR="467////N" D ^DIE Q
"RTN","SROUTC",41,0)
 .S DA=SRY,DR=$S(SRIF=1:5,1:15)_"///"_Y,DA(1)=SRTN,DIE="^SRF(SRTN,"_$S(SRIF=1:10,1:16)_"," D ^DIE
"RTN","SROUTC",42,0)
EM8 I EMILY=8 K DIR S DIR(0)="130.22,8",DIR("A")="Cardiopulmonary Bypass Status" D ^DIR G:X="" EM8 D  K DR,DA,DIE
"RTN","SROUTC",43,0)
 .K DA,DR,DIE,DIR I X["^"!(X="@")!(Y=0) D DEL S DA=SRTN,DIE=130,DR="391////N" D ^DIE Q
"RTN","SROUTC",44,0)
 .S DA=SRY,DR="8///"_Y,DA(1)=SRTN,DIE="^SRF(SRTN,16," D ^DIE
"RTN","SROUTC",45,0)
EM11 I EMILY=11 K DIR S DIR(0)="130.22,9",DIR("A")="Stroke/CVA Duration",DIR("B")="<24 HOURS" D ^DIR G:X="" EM11 D  K DR,DA,DIE
"RTN","SROUTC",46,0)
 .K DA,DR,DIE,DIR I X["^"!(X="@")!(Y=1) D DEL S DA=SRTN,DIE=130,DR="256////N" D ^DIE Q
"RTN","SROUTC",47,0)
 .S DA=SRY,DR="9///"_Y,DA(1)=SRTN,DIE="^SRF(SRTN,16," D ^DIE
"RTN","SROUTC",48,0)
 Q
"RTN","SROUTC",49,0)
IP K DIR S DIR("A")="Is this an Intraoperative occurrence? ",DIR("B")="YES",DIR(0)="YA" D ^DIR K DIR Q:$D(DTOUT)!$D(DUOUT)
"RTN","SROUTC",50,0)
 S SRIF=Y
"RTN","SROUTC",51,0)
 I SRIF=1 S X=$P(^SRO(136.5,SROC,0),"^"),DIC(0)="L",DLAYGO="130.14",DA(1)=SRTN,DIC="^SRF("_SRTN_",10," D FILE^DICN S $P(^SRF(SRTN,10,+Y,0),"^",2)=SROC Q
"RTN","SROUTC",52,0)
 I SRIF=0 S X=$P(^SRO(136.5,SROC,0),"^"),DIC(0)="L",DLAYGO="130.22",DA(1)=SRTN,DIC="^SRF("_SRTN_",16," D FILE^DICN S $P(^SRF(SRTN,16,+Y,0),"^",2)=SROC
"RTN","SROUTC",53,0)
 Q
"RTN","SROUTC",54,0)
DEL ; delete existing Post/Intraoperative occurrences.
"RTN","SROUTC",55,0)
 N II,SRII,SROC D MAP
"RTN","SROUTC",56,0)
 S II=0 F  S II=$O(^SRF(SRTN,16,II)) Q:'II  S SRII=$G(^(II,0)) I $P(SRII,"^",2)=SROC D  Q
"RTN","SROUTC",57,0)
 .S DA(1)=SRTN,DA=II,DIK="^SRF("_SRTN_",16," D ^DIK I '$O(^SRF(SRTN,16,0)) K ^SRF(SRTN,16,0)
"RTN","SROUTC",58,0)
 ;
"RTN","SROUTC",59,0)
 S II=0 F  S II=$O(^SRF(SRTN,10,II)) Q:'II  S SRII=$G(^(II,0)) I $P(SRII,"^",2)=SROC D  Q
"RTN","SROUTC",60,0)
 .S DA(1)=SRTN,DA=II,DIK="^SRF("_SRTN_",10," D ^DIK I '$O(^SRF(SRTN,10,0)) K ^SRF(SRTN,10,0)
"RTN","SROUTC",61,0)
 Q
"RTN","SROUTC",62,0)
MAP S SROC=$S(EMILY=1:17,EMILY=2:23,EMILY=3:1,EMILY=4:25,EMILY=5:16,EMILY=6:26,EMILY=7:6,EMILY=8:27,EMILY=9:33,EMILY=10:41,EMILY=11:12,EMILY=12:13,EMILY=14:39,EMILY=15:22,EMILY=16:9,1:34)
"RTN","SROUTC",63,0)
 Q
"RTN","SROUTL")
0^98^B43734592^B43018873
"RTN","SROUTL",1,0)
SROUTL ;BIR/ADM - UTILITY ROUTINE ;02/14/07
"RTN","SROUTL",2,0)
 ;;3.0;Surgery;**58,62,69,77,50,88,94,100,129,134,141,142,160,182**;24 Jun 93;Build 49
"RTN","SROUTL",3,0)
 ;
"RTN","SROUTL",4,0)
 ; Reference to $P(^SC(SRLOC,0),"^",17) supported by DBIA #964
"RTN","SROUTL",5,0)
 ;
"RTN","SROUTL",6,0)
 Q
"RTN","SROUTL",7,0)
HDR ; display menu header
"RTN","SROUTL",8,0)
 Q:'$D(SRSITE)
"RTN","SROUTL",9,0)
 N DFN,SRCNT,SRNUM,SRSDATE,SRX,Y S (SRCNT,SRX)=0 F  S SRX=$O(^SRO(133,SRX)) Q:'SRX  I '$P($G(^SRO(133,SRX,0)),"^",21) S SRCNT=SRCNT+1
"RTN","SROUTL",10,0)
 I SRCNT>1 S SRNUM=$$GET1^DIQ(4,SRSITE("DIV"),99) S Y="Division: "_SRSITE("SITE")_"  ("_SRNUM_")" W @IOF,!,?(80-$L(Y)\2),Y
"RTN","SROUTL",11,0)
 I $G(SRTN) D
"RTN","SROUTL",12,0)
 .S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S Y=$E($P(^SRF(SRTN,0),"^",9),1,7) X ^DD("DD") S SRSDATE=Y
"RTN","SROUTL",13,0)
 .W:SRCNT'>1 @IOF W:SRCNT>1 !! W " "_VADM(1)_" ("_VA("PID")_")   Case #"_SRTN_" - "_SRSDATE
"RTN","SROUTL",14,0)
 Q
"RTN","SROUTL",15,0)
CLINIC(SRLOC,SRCASE)         ; active count clinic screen for cases
"RTN","SROUTL",16,0)
 N SRCLIN,SRX,SRY,SRZ S SRZ=$S(SRCASE:$P(^SRF(SRCASE,0),U,9),1:DT) D SC I 'SRCLIN Q 0
"RTN","SROUTL",17,0)
 Q 1
"RTN","SROUTL",18,0)
ACTCLIN(SRLOC)     ; active count clinic screen
"RTN","SROUTL",19,0)
 N SRCLIN,SRX,SRY,SRZ S SRZ=DT D SC I 'SRCLIN Q 0
"RTN","SROUTL",20,0)
 Q 1
"RTN","SROUTL",21,0)
SC N SRKL S SRCLIN=1 S SRKL=$$GET1^DIQ(44,SRLOC,2.1) I SRKL'="CLINIC"!($P(^SC(SRLOC,0),"^",17)="Y") S SRCLIN=0 Q
"RTN","SROUTL",22,0)
 S SRX=$P($G(^SC(SRLOC,"I")),"^") I 'SRX Q
"RTN","SROUTL",23,0)
 S SRY=$P($G(^SC(SRLOC,"I")),U,2) I SRZ'<SRX,((SRY="")!(SRZ<SRY)) S SRCLIN=0
"RTN","SROUTL",24,0)
 Q
"RTN","SROUTL",25,0)
INOUT ; select in/out-patient status choice for report
"RTN","SROUTL",26,0)
 K DIR S DIR("A",1)="Print "_$S($D(SRRPT):SRRPT,1:"report")_" for",DIR("A",2)="",DIR("A",5)="  I - Inpatient cases only",DIR("A",4)="  O - Outpatient cases only",DIR("A",3)="  A - All cases"
"RTN","SROUTL",27,0)
 S DIR("A",6)="",DIR("A")="Select Letter (I, O or A): ",DIR("B")=$S($D(SRB):SRB,1:"A")
"RTN","SROUTL",28,0)
 S DIR(0)="SAM^A:All Cases;O:Outpatient Cases Only;I:Inpatient Cases Only" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SROUTL",29,0)
 S SRIO=Y
"RTN","SROUTL",30,0)
 Q
"RTN","SROUTL",31,0)
DATE(SRSD,SRED,SRQ)  ; starting and ending date utility (pass by reference)
"RTN","SROUTL",32,0)
 ; The following variables are returned
"RTN","SROUTL",33,0)
 ;  SRSD - starting date
"RTN","SROUTL",34,0)
 ;  SRED - ending date
"RTN","SROUTL",35,0)
 ;  SRQ  - user interrupt
"RTN","SROUTL",36,0)
 S (SRSD,SRED,SRQ)=0 W ! F  D  Q:SRED'<SRSD!SRQ
"RTN","SROUTL",37,0)
 .K %DT S %DT="AEPX",%DT("A")="Start with Date: " D ^%DT I Y<1 S SRQ=1 Q
"RTN","SROUTL",38,0)
 .S SRSD=Y
"RTN","SROUTL",39,0)
 .K %DT S %DT="AEPX",%DT("A")="End with Date: " D ^%DT I Y<1 S SRQ=1 Q
"RTN","SROUTL",40,0)
 .I Y<SRSD W !!,"The ending date must be later than the starting date.",!
"RTN","SROUTL",41,0)
 .S SRED=Y
"RTN","SROUTL",42,0)
 Q
"RTN","SROUTL",43,0)
SPEC ; select surgical specialty
"RTN","SROUTL",44,0)
 W @IOF,! S DIR("?",1)="Enter YES if you would like the report printed for all Surgical Specialties",DIR("?")="or enter NO to select a specific specialty."
"RTN","SROUTL",45,0)
 S DIR("A")="Do you want the report for all Surgical Specialties ? ",DIR("B")="YES",DIR(0)="YA" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SROUTL",46,0)
 I 'Y W ! K DIC S DIC=137.45,DIC(0)="QEAMZ",DIC("A")="Select Surgical Specialty: ",DIC("S")="I '$P(^(0),""^"",3)" D ^DIC K DIC S:Y<0 SRSOUT=1 Q:Y<0  S SRSPEC=+Y,SRSPECN=$P(Y(0),"^")
"RTN","SROUTL",47,0)
 Q
"RTN","SROUTL",48,0)
PROC ; put procedures and CPT code in array for display
"RTN","SROUTL",49,0)
 N SRDA,X,Y K SRPROC S K=1,Y=$P(^SRF(SRTN,"OP"),"^",2),Y=$S(Y:$P($$CPT^ICPTCOD(Y),"^",2),1:"???") I Y'="???" D SSPRIN^SROCPT
"RTN","SROUTL",50,0)
 S X=$P(^SRF(SRTN,"OP"),"^")_$S($G(SRSUPCPT)=1:"",1:" (CPT Code: "_Y_")") I $L(X)<(SRL+1) S SRPROC(K)=X,K=K+1 G OTH
"RTN","SROUTL",51,0)
 D FORMAT
"RTN","SROUTL",52,0)
OTH S SRDA=0 F  S SRDA=$O(^SRF(SRTN,13,SRDA)) Q:'SRDA  D
"RTN","SROUTL",53,0)
 .S Y=$P($G(^SRF(SRTN,13,SRDA,2)),"^"),Y=$S(Y:$P($$CPT^ICPTCOD(Y),"^",2),1:"???")
"RTN","SROUTL",54,0)
 .I Y'="???" D SSOTH^SROCPT
"RTN","SROUTL",55,0)
 .S X=$P(^SRF(SRTN,13,SRDA,0),"^")_$S($G(SRSUPCPT)=1:"",1:" (CPT Code: "_Y_")")
"RTN","SROUTL",56,0)
 .I $L(X)<(SRL+1) S SRPROC(K)=X,K=K+1 Q
"RTN","SROUTL",57,0)
 .D FORMAT
"RTN","SROUTL",58,0)
 Q
"RTN","SROUTL",59,0)
FORMAT I $L(X)>SRL F  D  I $L(X)<(SRL+1) S SRPROC(K)=X,K=K+1 Q
"RTN","SROUTL",60,0)
 .F I=0:1:(SRL-1) S J=SRL-I,Y=$E(X,J) I Y=" " S SRPROC(K)=$E(X,1,J-1),X=$E(X,J+1,$L(X)) S K=K+1 Q
"RTN","SROUTL",61,0)
 Q
"RTN","SROUTL",62,0)
DIAG ; check diagnosis input for required space in every 31 characters
"RTN","SROUTL",63,0)
 Q:$L(X)<31  N SRC,SRBL,SRDIAG,SRFLG
"RTN","SROUTL",64,0)
 S SRDIAG=X,SRFLG=0 F  D  Q:SRFLG!($L(SRDIAG)'>30)
"RTN","SROUTL",65,0)
 .S SRBL=$F(SRDIAG," ") I SRBL>32!('SRBL) S SRFLG=1 K X Q
"RTN","SROUTL",66,0)
 .S SRDIAG=$E(SRDIAG,SRBL,$L(SRDIAG))
"RTN","SROUTL",67,0)
 I '$D(X) D
"RTN","SROUTL",68,0)
 .S SRC(1)="Answer must contain at least one space in every 31 characters of length.",SRC(1,"F")="!!?5",SRC(2)="If you are using a comma (,) to separate information, leave a space after",SRC(2,"F")="!?5"
"RTN","SROUTL",69,0)
 .S SRC(3)="it.  Please re-enter the diagnosis.",SRC(3,"F")="!?5" D EN^DDIOL(.SRC)
"RTN","SROUTL",70,0)
 Q
"RTN","SROUTL",71,0)
LOCK(SRCASE) ;
"RTN","SROUTL",72,0)
 N D0,SRCONCC,SRLCK,SRNOW,SRNOW1,SRTAG,SRUSER,SRX
"RTN","SROUTL",73,0)
 S SRNOW=$$NOW^XLFDT,SRNOW1=$$FMADD^XLFDT(SRNOW,,2)
"RTN","SROUTL",74,0)
 S SRLCK=1,SRTAG="",SRCONCC=$P($G(^SRF(SRCASE,"CON")),"^")
"RTN","SROUTL",75,0)
 I $$SIGNED^SROESUTL(SRCASE)!$G(SRESIG) D SINED Q SRLCK
"RTN","SROUTL",76,0)
 L +^XTMP("SRLOCK-"_SRCASE,DUZ,$J):$S($G(DILOCKTM)>0:DILOCKTM,1:3)
"RTN","SROUTL",77,0)
 E  D E1 S SRLCK=0 Q SRLCK
"RTN","SROUTL",78,0)
 I SRCONCC D
"RTN","SROUTL",79,0)
 .L +^XTMP("SRLOCK-"_SRCONCC,DUZ,$J):$S($G(DILOCKTM)>0:DILOCKTM,1:3)
"RTN","SROUTL",80,0)
 .E  D  S SRLCK=0
"RTN","SROUTL",81,0)
 ..D E2 L -^XTMP("SRLOCK-"_SRCASE,DUZ,$J)
"RTN","SROUTL",82,0)
 D:SRLCK XTMP
"RTN","SROUTL",83,0)
 Q SRLCK
"RTN","SROUTL",84,0)
E1 S SRUSER="Another person",SRX=$O(^XTMP("SRLOCK-"_SRCASE,0))
"RTN","SROUTL",85,0)
 I SRX S SRUSER=$P($G(^VA(200,SRX,0)),"^")
"RTN","SROUTL",86,0)
 D EN^DDIOL(SRUSER_" is editing this case. Please try later.","","!,$C(7)") H 2
"RTN","SROUTL",87,0)
 Q
"RTN","SROUTL",88,0)
E2 S SRUSER="Another person",SRX=$O(^XTMP("SRLOCK-"_SRCONCC,0))
"RTN","SROUTL",89,0)
 I SRX S SRUSER=$P($G(^VA(200,SRX,0)),"^")
"RTN","SROUTL",90,0)
 D EN^DDIOL(SRUSER_" is editing the concurrent case. Please try later.","","!,$C(7)") H 2
"RTN","SROUTL",91,0)
 Q
"RTN","SROUTL",92,0)
SINED L +^XTMP("SRLOCK-"_SRCASE):$S($G(DILOCKTM)>0:DILOCKTM,1:3)
"RTN","SROUTL",93,0)
 E  D E1 S SRLCK=0 Q
"RTN","SROUTL",94,0)
 I SRCONCC D  Q:'SRLCK
"RTN","SROUTL",95,0)
 .L +^XTMP("SRLOCK-"_SRCONCC):$S($G(DILOCKTM)>0:DILOCKTM,1:3)
"RTN","SROUTL",96,0)
 .E  D  S SRLCK=0
"RTN","SROUTL",97,0)
 ..D E2 L -^XTMP("SRLOCK-"_SRCASE)
"RTN","SROUTL",98,0)
 S SRTAG="-Master"
"RTN","SROUTL",99,0)
XTMP S ^XTMP("SRLOCK-"_SRCASE,0)=SRNOW1_"^"_SRNOW_"^Surgery Case Lock"_SRTAG_"^"_$J,^XTMP("SRLOCK-"_SRCASE,DUZ,$J)=""
"RTN","SROUTL",100,0)
 I SRCONCC S ^XTMP("SRLOCK-"_SRCONCC,0)=SRNOW1_"^"_SRNOW_"^Surgery Case Lock"_SRTAG_"^"_$J,^XTMP("SRLOCK-"_SRCONCC,DUZ,$J)=""
"RTN","SROUTL",101,0)
 Q
"RTN","SROUTL",102,0)
UNLOCK(SRCASE) ; apply decremental lock
"RTN","SROUTL",103,0)
 N SRCC,SRCONCC S SRCONCC=$P($G(^SRF(SRCASE,"CON")),"^")
"RTN","SROUTL",104,0)
 L -^XTMP("SRLOCK-"_SRCASE),-^XTMP("SRLOCK-"_SRCASE,DUZ,$J) K ^XTMP("SRLOCK-"_SRCASE,DUZ,$J)
"RTN","SROUTL",105,0)
 I '$O(^XTMP("SRLOCK-"_SRCASE,0))!(($G(^XTMP("SRLOCK-"_SRCASE,0))["-Master")&($P($G(^XTMP("SRLOCK-"_SRCASE,0)),"^",4)=$J)) K ^XTMP("SRLOCK-"_SRCASE)
"RTN","SROUTL",106,0)
 I SRCONCC D
"RTN","SROUTL",107,0)
 .L -^XTMP("SRLOCK-"_SRCONCC),-^XTMP("SRLOCK-"_SRCONCC,DUZ,$J) K ^XTMP("SRLOCK-"_SRCONCC,DUZ,$J)
"RTN","SROUTL",108,0)
 .I '$O(^XTMP("SRLOCK-"_SRCONCC,0))!(($G(^XTMP("SRLOCK-"_SRCONCC,0))["-Master")&($P($G(^XTMP("SRLOCK-"_SRCONCC,0)),"^",4)=$J)) K ^XTMP("SRLOCK-"_SRCONCC)
"RTN","SROUTL",109,0)
 Q
"RTN","SROUTL",110,0)
NOCNT(SRDA) ; screen for active, non-count clinic for this division
"RTN","SROUTL",111,0)
 N SRDIV,SRKL,SRLOC,SRX,SRY,SRZ
"RTN","SROUTL",112,0)
 S SRDIV=$P($G(^SRO(133,SRDA,0)),"^"),SRLOC=Y,SRZ=DT
"RTN","SROUTL",113,0)
 I SRDIV'=$P($G(^SC(SRLOC,0)),"^",4) Q 0
"RTN","SROUTL",114,0)
 S SRKL=$$GET1^DIQ(44,SRLOC,2.1) I SRKL'="CLINIC" Q 0
"RTN","SROUTL",115,0)
 I $P(^SC(SRLOC,0),"^",17)'="Y" Q 0
"RTN","SROUTL",116,0)
 S SRX=$P($G(^SC(SRLOC,"I")),"^") I 'SRX Q 1
"RTN","SROUTL",117,0)
 S SRY=$P($G(^SC(SRLOC,"I")),U,2) I SRZ'<SRX,((SRY="")!(SRZ<SRY)) Q 0
"RTN","SROUTL",118,0)
 Q 1
"RTN","SROUTL",119,0)
DESC ; output attending code description when doing lookup
"RTN","SROUTL",120,0)
 N SRX,SRY,SRZ
"RTN","SROUTL",121,0)
 S SRX=0,SRY=Y F  S SRX=$O(^SRO(132.9,SRY,1,SRX)) Q:'SRX  S SRZ(SRX)=^SRO(132.9,SRY,1,SRX,0),SRZ(SRX,"F")="!?2"
"RTN","SROUTL",122,0)
 I $O(SRZ(0)) D EN^DDIOL(.SRZ)
"RTN","SROUTL",123,0)
 D EN^DDIOL(" ","","!")
"RTN","SROUTL",124,0)
 Q
"RTN","SROUTL",125,0)
TIME ; transform time to date and time
"RTN","SROUTL",126,0)
 S X=$S(X?1.4N.A!(X?1.2N1":"2N.A):"T@"_X,1:X) S %DT="EXR" D ^%DT S X=Y
"RTN","SROUTL",127,0)
 Q
"RTN","SRSCAN0")
0^107^B16717618^B17191683
"RTN","SRSCAN0",1,0)
SRSCAN0 ;BIR/MAM - CANCEL SCHEDULED OPERATIONS (CONT) ;08/10/2011
"RTN","SRSCAN0",2,0)
 ;;3.0;Surgery;**34,42,67,103,107,114,100,144,175,176,182**;24 Jun 93;Build 49
"RTN","SRSCAN0",3,0)
 ;
"RTN","SRSCAN0",4,0)
 G SWAP ; change of SR*3*176
"RTN","SRSCAN0",5,0)
CUT S X1=SRSDATE,X2=-1 D C^%DTC S SRSDT=X,X=$P($G(^SRO(133,SRSITE,0)),"^",12) S SRTIME=SRSDT_"."_$S(X'="":X,1:1500)
"RTN","SRSCAN0",6,0)
 S SRTYPE=$P(^SRF(SRTN,0),"^",10) I SRTYPE="S" W !!,"Case schedule type is STANDBY. "
"RTN","SRSCAN0",7,0)
 D NOW^%DTC S SRN=+$E(%,1,12) I SRTYPE'="S",SRN'<SRTIME G SWAP
"RTN","SRSCAN0",8,0)
 S SRBOTH=0 I $P($G(^SRF(SRTN,"CON")),"^") S SRBOTH=1
"RTN","SRSCAN0",9,0)
REQ I 'SRBOTH D ^SRSCG
"RTN","SRSCAN0",10,0)
 S SRSCHST=$P($G(^SRF(SRTN,31)),"^",4) K:SRSCHST&SRSOR ^SRF("AMM",SRSOR,SRSCHST,SRTN)
"RTN","SRSCAN0",11,0)
 S $P(^SRF(SRTN,31),"^",4)="",$P(^SRF(SRTN,31),"^",5)="",^SRF(SRTN,"REQ")=1,^SRF("AR",SRSDATE,DFN,SRTN)="",^TMP("SRPFSS",$J)=""
"RTN","SRSCAN0",12,0)
 K DR S DA=SRTN,DR=".02///@",DIE=130 D ^DIE K DR D OERR
"RTN","SRSCAN0",13,0)
 I '$P($G(^SRF(SRTN,"1.0")),"^",11) D
"RTN","SRSCAN0",14,0)
 .N SREQ
"RTN","SRSCAN0",15,0)
 .S SREQ(130,SRTN_",",1.098)=+SRN,SREQ(130,SRTN_",",1.099)=DUZ
"RTN","SRSCAN0",16,0)
 .D FILE^DIE("","SREQ","^TMP(""SR"",$J)")
"RTN","SRSCAN0",17,0)
 W !!,"Case #"_SRTN_" has been removed from the schedule and changed to a request."
"RTN","SRSCAN0",18,0)
 I SRBOTH G ASK
"RTN","SRSCAN0",19,0)
PRESS W ! K DIR S DIR(0)="E" D ^DIR
"RTN","SRSCAN0",20,0)
 Q
"RTN","SRSCAN0",21,0)
ASK S SRBOTH=0 W !!,"There is a concurrent case associated with this operation.  Do you want to",!,"remove it from the schedule also ? YES// " R SRYN:DTIME I '$T!(SRYN["^") S SRYN="N"
"RTN","SRSCAN0",22,0)
 S SRYN=$E(SRYN) S:SRYN="" SRYN="Y"
"RTN","SRSCAN0",23,0)
 I "YyNn"'[SRYN W !!,"If you want to remove both cases from the schedule, enter 'YES'.  If you",!,"answer 'NO', the cases will no longer be associated with each other." G ASK
"RTN","SRSCAN0",24,0)
 I "Yy"[SRYN S SRTN=$P(^SRF(SRTN,"CON"),"^") G REQ
"RTN","SRSCAN0",25,0)
NOCC ; no longer concurrent cases
"RTN","SRSCAN0",26,0)
 S DA=$P(^SRF(SRTN,"CON"),"^"),DIE=130,DR="35///@" D ^DIE S SROERR=DA D ^SROERR0 S DA=SRTN D ^DIE,OERR,UNLOCK^SROUTL(DA)
"RTN","SRSCAN0",27,0)
 Q
"RTN","SRSCAN0",28,0)
SWAP ; move data into a new entry and set up the cancel date in the old
"RTN","SRSCAN0",29,0)
 W ! K DIR S DIR(0)="130,17.5",DIR("A")="Cancellation Timeframe" D ^DIR S SRTF=$P(Y,"^") I $D(DIRUT) W !!,"Case NOT cancelled." D PRESS G END
"RTN","SRSCAN0",30,0)
 K DIR S DIR(0)="130,18",DIR("A")="Primary Cancellation Reason" D ^DIR S SRSCAN=$P(Y,"^") I $D(DIRUT) W !!,"Case NOT cancelled." D PRESS G END
"RTN","SRSCAN0",31,0)
 K DR S SRCON=0,DA=SRTN,DR=".02///@;102///@;235///@;284///@;323///@;17.5////"_SRTF_";18////"_SRSCAN_";67T;70////"_DUZ,DIE=130 D ^DIE S:$D(DTOUT)!$D(DUOUT) SRSOUT=1
"RTN","SRSCAN0",32,0)
 S SRSCHST=$P($G(^SRF(SRTN,31)),"^",4),AVOID=$P(^(30),"^",2)
"RTN","SRSCAN0",33,0)
 I '$P($G(^SRF(SRTN,"CON")),"^") D ^SRSCG
"RTN","SRSCAN0",34,0)
 S SRSDPT=$P(^SRF(SRTN,0),"^"),SRSOP=$P(^SRF(SRTN,"OP"),"^")
"RTN","SRSCAN0",35,0)
 S SRSSET=$P(^SRF(SRTN,31),"^",5),$P(^SRF(SRTN,31),"^",4)="",$P(^SRF(SRTN,31),"^",5)=""
"RTN","SRSCAN0",36,0)
SWAP2 K:SRSCHST&SRSOR ^SRF("AMM",SRSOR,SRSCHST,SRTN) D NOW^%DTC S $P(^SRF(SRTN,30),"^")=$E(%,1,12)
"RTN","SRSCAN0",37,0)
 I '$P($G(^SRF(SRTN,"CON")),"^") D OERR
"RTN","SRSCAN0",38,0)
 I SRSCAN'="" G:$P(^SRO(135,SRSCAN,0),"^",2)="D" CON
"RTN","SRSCAN0",39,0)
 D:'SRSOUT ^SRSCAN2
"RTN","SRSCAN0",40,0)
CON I '$D(SRSCC),$D(^SRF(SRTN,"CON")),$P(^("CON"),"^")'="" D CANCC^SRSUTL2 Q:SRBOTH="^"!SRSOUT  I SRBOTH=1 G CON1
"RTN","SRSCAN0",41,0)
 I SRCON'=0,SRTNEW'=SRCON K DR S DA=SRTNEW,DIE=130,DR="35////"_SRCON D ^DIE S DA=SRCON,DR="35////"_SRTNEW D ^DIE K DR S SROERR=SRCON D ^SROERR0
"RTN","SRSCAN0",42,0)
 I $G(SRDEAD)=0,$G(SRBOTH)=1,$G(SRSCC)=1 S SROERR=$P(^SRF(SRTN,"CON"),"^") D ^SROERR0 S SROERR=SRTN D ^SROERR0
"RTN","SRSCAN0",43,0)
END D UNLOCK^SROUTL(SRTN),^SRSKILL K SRTN W @IOF
"RTN","SRSCAN0",44,0)
 Q
"RTN","SRSCAN0",45,0)
CON1 I SRDEAD=0 G SWAP2
"RTN","SRSCAN0",46,0)
 K DR S DA=SRTN,DR=".02///@;102///@;235///@;284///@;323///@;17.5////"_SRTF_";18///"_$P(^SRO(135,SRSCAN,0),"^")_";67///"_AVOID_";70////"_DUZ,DIE=130 D ^DIE
"RTN","SRSCAN0",47,0)
 D NOW^%DTC S $P(^SRF(SRTN,30),"^")=$E(%,1,12),$P(^SRF(SRTN,31),"^",4)="",$P(^SRF(SRTN,31),"^",5)=""
"RTN","SRSCAN0",48,0)
OERR ; update ORDER file (100)
"RTN","SRSCAN0",49,0)
 S SROERR=SRTN K SRTX D ^SROERR0
"RTN","SRSCAN0",50,0)
 Q
"RTN","SRSCHC2")
1^118^^B1652836
"RTN","SRSCHUN")
0^114^B32397035^B32328292
"RTN","SRSCHUN",1,0)
SRSCHUN ;BIR/ADM - MAKE UNREQUESTED OPERATION ; 31 Jul 2014  2:41 PM
"RTN","SRSCHUN",2,0)
 ;;3.0;Surgery;**3,67,68,88,103,100,144,158,175,177,182**;24 Jun 93;Build 49
"RTN","SRSCHUN",3,0)
MUST S SRLINE="" F I=1:1:80 S SRLINE=SRLINE_"="
"RTN","SRSCHUN",4,0)
 W @IOF W:$D(SRCC) !,?29,$S(SRSCON=1:"FIRST",1:"SECOND")_" CONCURRENT CASE" W !,?14,"SCHEDULE UNREQUESTED OPERATION: REQUIRED INFORMATION",!!,SRNM_" ("_$G(SRSSN)_")",?65,SREQDT,!,SRLINE,!
"RTN","SRSCHUN",5,0)
ODP N SRSODP K DIR S DIR(0)="130,616",DIR("A")="Desired Procedure Date" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G END
"RTN","SRSCHUN",6,0)
 I Y=""!(X["^")!(Y<SRSDATE) W !!,"The Desired Procedure Date MUST be entered and should be greater than or equal  to date of operation.  Enter '^' to exit.",! G ODP
"RTN","SRSCHUN",7,0)
 S SRSODP=+Y
"RTN","SRSCHUN",8,0)
SURG ; surgeon
"RTN","SRSCHUN",9,0)
 K DIR S DIR(0)="130,.14",DIR("A")="Primary Surgeon" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G END
"RTN","SRSCHUN",10,0)
 I Y=""!(X["^") W !!,"To create a surgical case, a surgeon MUST be selected.  Enter '^' to exit.",! G SURG
"RTN","SRSCHUN",11,0)
 S SRSDOC=+Y
"RTN","SRSCHUN",12,0)
CASE ; create case in SURGERY file
"RTN","SRSCHUN",13,0)
 K DA,DIC,DD,DO,DINUM,SRTN S X=SRSDPT,DIC="^SRF(",DIC(0)="L",DLAYGO=130 D FILE^DICN K DD,DO,DIC,DLAYGO S SRTN=+Y,SRLCK=$$LOCK^SROUTL(SRTN)
"RTN","SRSCHUN",14,0)
 S ^SRF(SRTN,8)=SRSITE("DIV"),^SRF(SRTN,"OP")=""
"RTN","SRSCHUN",15,0)
 D NOW^%DTC S SREQDAY=+$E(%,1,12),SRNOCON=1 K DR,DIE
"RTN","SRSCHUN",16,0)
 S DA=SRTN,DIE=130,DR=".09////"_SRSDATE_";.14////"_SRSDOC_";1.098////"_+SREQDAY_";1.099////"_DUZ_";Q;.02////"_SRSOR_";10////"_SRSDT1_";11////"_SRSDT2_";616////"_SRSODP_";612////"_SRSODP_";613////"_SREQDAY_";615////"_SREQDAY
"RTN","SRSCHUN",17,0)
 D ^DIE K DR
"RTN","SRSCHUN",18,0)
ASURG ; attending surgeon
"RTN","SRSCHUN",19,0)
 K DA,DIC,DIQ,DR,SRY S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="E",DR=.164 D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","SRSCHUN",20,0)
 I $G(SRY(130,SRTN,.164,"E"))'="" S SRATTND=SRY(130,SRTN,.164,"E") W !,"Attending Surgeon: "_SRATTND,! G SPEC
"RTN","SRSCHUN",21,0)
 K DIR S DIR(0)="130,.164",DIR("A")="Attending Surgeon" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRSCHUN",22,0)
 I Y=""!(X["^") W !!,"An Attending Surgeon must be entered when creating a case. Enter '^' to exit.",! G ASURG
"RTN","SRSCHUN",23,0)
 S SRATTND=+Y,DA=SRTN,DIE=130,DR=".164////"_SRATTND D ^DIE K DA,DIE,DR
"RTN","SRSCHUN",24,0)
SPEC ; surgical specialty
"RTN","SRSCHUN",25,0)
 K DIR S DIR(0)="130,.04",DIR("A")="Surgical Specialty" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRSCHUN",26,0)
 I Y=""!(X["^") W !!,"To create a surgical case, a surgical specialty MUST be selected.  Enter '^'",!,"to exit.",! G SPEC
"RTN","SRSCHUN",27,0)
 S SRSS=+Y
"RTN","SRSCHUN",28,0)
OP ; principal operative procedure
"RTN","SRSCHUN",29,0)
 K DIR S DIR(0)="130,26",DIR("A")="Principal Operative Procedure" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRSCHUN",30,0)
 I X["^" W !!,"Principal procedure must not contain an up-arrow (^).",! G OP
"RTN","SRSCHUN",31,0)
 S SRSOP=Y I SRSOP="" G OP
"RTN","SRSCHUN",32,0)
OPD ; Principal Preoperative Diagnosis
"RTN","SRSCHUN",33,0)
 K DIR S DIR(0)="130,32",DIR("A")="Principal Preoperative Diagnosis" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRSCHUN",34,0)
 I Y=""!(X["^") W !!,"A Principal Preoperative Diagnosis must be entered",!,"when creating a new case. Enter '^' to exit.",! G OPD
"RTN","SRSCHUN",35,0)
 I X[";" W !,"The Principal Preoperative Diagnosis cannot contain a semicolon (;).",!,"Please re-enter the Diagnosis, using commas in place of the semicolons." G OPD
"RTN","SRSCHUN",36,0)
 S SRSOPD=Y
"RTN","SRSCHUN",37,0)
 W !!,"The information entered into the Principal Preoperative Diagnosis field",!,"has been transferred into the Indications for Operation field.",!,"The Indications for Operation field can be updated later if necessary.",!
"RTN","SRSCHUN",38,0)
 W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SRSCHUN",39,0)
UPDATE ; update case in SURGERY file
"RTN","SRSCHUN",40,0)
 S DA=SRTN,DIE=130,DR="26////"_SRSOP_";68////"_SRSOP_";36////0;Q;.04////"_SRSS_";32////"_SRSOPD D ^DIE
"RTN","SRSCHUN",41,0)
 K DR,DA S DR="[SRO-NOCOMP]",DA=SRTN,DIE=130 D ^DIE K DR
"RTN","SRSCHUN",42,0)
 D ^SROXRET K SRNOCON
"RTN","SRSCHUN",43,0)
OTHER ; other required fields
"RTN","SRSCHUN",44,0)
 S SRFLD=0 F  S SRFLD=$O(^SRO(133,SRSITE,4,SRFLD)) Q:'SRFLD!(SRSOUT)  D OTHDIR Q:SRSOUT
"RTN","SRSCHUN",45,0)
 I SRSOUT G DEL
"RTN","SRSCHUN",46,0)
 S SRSOPD(1)=SRSOPD D WP^DIE(130,SRTN_",",55,"A","SRSOPD")
"RTN","SRSCHUN",47,0)
 D:$G(SRLCK) UNLOCK^SROUTL(SRTN)
"RTN","SRSCHUN",48,0)
 S SROERR=SRTN D ^SROERR I $D(SRDUOUT) S SRSOUT=1
"RTN","SRSCHUN",49,0)
 I $D(SRCC),SRSCON=2 S DIE=130,DR="35////"_SRSCON(1),DA=SRTN D ^DIE K DR S DR="35////"_SRTN,DA=SRSCON(1),DIE=130 D ^DIE K DR,DA S SROERR=SRSCON(1) D ^SROERR0
"RTN","SRSCHUN",50,0)
 Q
"RTN","SRSCHUN",51,0)
DEL S DA=SRTN,DIK="^SRF(" D ^DIK G END
"RTN","SRSCHUN",52,0)
CON ; request concurrent case
"RTN","SRSCHUN",53,0)
 D MUST Q:SRSOUT  S SRSCON(SRSCON,"DOC")=$P(^VA(200,SRSDOC,0),"^"),SRSCON(SRSCON,"SS")=$P(^SRO(137.45,SRSS,0),"^"),SRSCON(SRSCON,"OP")=$P(^SRF(SRTN,"OP"),"^"),SRSCON(SRSCON)=SRTN K DA
"RTN","SRSCHUN",54,0)
 Q
"RTN","SRSCHUN",55,0)
OTHDIR ; call to reader for site specific required fields
"RTN","SRSCHUN",56,0)
 ;JAS - 08/05/14 - SR*3*177 - Modified this section for ICD-10
"RTN","SRSCHUN",57,0)
 K DIR,SREQ,SRY S FLD=$P(^SRO(133,SRSITE,4,SRFLD,0),"^") D FIELD^DID(130,FLD,"","TITLE","SRY") S DIR(0)="130,"_FLD,DIR("A")=SRY("TITLE") D DIRYN I $D(DTOUT)!($G(X)="^") S SRSOUT=1 Q
"RTN","SRSCHUN",58,0)
 I "^32.5^66^253^286^343^344^392^489^"[("^"_FLD_"^") I $G(X)="@"!($G(X)="") S X="^"
"RTN","SRSCHUN",59,0)
 I $G(Y)=""!(X["^") W !!,"It is mandatory that you provide this information before proceeding with this",!,"option.",! D ASK Q:SRSOUT  G OTHDIR
"RTN","SRSCHUN",60,0)
 S SREQ(130,SRTN_",",FLD)=$P(Y,"^") D FILE^DIE("","SREQ","^TMP(""SR"",$J)")
"RTN","SRSCHUN",61,0)
 Q
"RTN","SRSCHUN",62,0)
DIRYN ; call ^DIR if not FILE 80 or ICD-9 FILE 80 (added for SR*3.0*177)
"RTN","SRSCHUN",63,0)
 I "^32.5^66^253^286^343^344^392^489^"[("^"_FLD_"^") D  Q
"RTN","SRSCHUN",64,0)
 . S SRPRMT=DIR("A")_" ",SRDEF=$$GET1^DIQ(130,SRTN,FLD)
"RTN","SRSCHUN",65,0)
 . D ICDSRCH^SROICD
"RTN","SRSCHUN",66,0)
 D ^DIR
"RTN","SRSCHUN",67,0)
 Q
"RTN","SRSCHUN",68,0)
ASK K DIR S DIR(0)="Y",DIR("A")="Do you want to continue with this option ",DIR("B")="YES"
"RTN","SRSCHUN",69,0)
 S DIR("?")="Enter RETURN to continue with this option, or 'NO' to discontinue this option." D ^DIR S:'Y SRSOUT=1
"RTN","SRSCHUN",70,0)
 Q
"RTN","SRSCHUN",71,0)
END D:$G(SRLCK) UNLOCK^SROUTL(SRTN)
"RTN","SRSCHUN",72,0)
 I '$D(SRCC),SRSOUT W !!,"No surgical case has been scheduled.",! S SRTN("OR")=SRSOR,SRTN("START")=SRSDT1,SRTN("END")=SRSDT2,SRSEDT=$E(SRSDT2,1,7) D ^SRSCG
"RTN","SRSCHUN",73,0)
 Q
"RTN","SRSRQST")
0^74^B33623825^B28426612
"RTN","SRSRQST",1,0)
SRSRQST ;BIR/MAM,ADM - MAKE OPERATION REQUESTS ;11/01/01  9:40 AM
"RTN","SRSRQST",2,0)
 ;;3.0;Surgery;**3,58,67,88,103,105,100,144,175,177,182**;24 Jun 93;Build 49
"RTN","SRSRQST",3,0)
MUST S SRLINE="" F I=1:1:80 S SRLINE=SRLINE_"="
"RTN","SRSRQST",4,0)
 W @IOF W:$D(SRCC) !,?29,$S(SRSCON=1:"FIRST",1:"SECOND")_" CONCURRENT CASE" W !,?20,"OPERATION REQUEST: REQUIRED INFORMATION",!!,SRNM_" ("_SRSSN_")",?65,SREQDT,!,SRLINE,!
"RTN","SRSRQST",5,0)
SURG ; surgeon
"RTN","SRSRQST",6,0)
 K DIR S DIR(0)="130,.14",DIR("A")="Primary Surgeon" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G END
"RTN","SRSRQST",7,0)
 I Y=""!(X["^") W !!,"To make an operation request, a Surgeon MUST be selected.  Enter '^' to exit.",! G SURG
"RTN","SRSRQST",8,0)
 S SRSDOC=+Y
"RTN","SRSRQST",9,0)
CASE K DA,DIC,DD,DO,DINUM,SRTN S X=SRSDPT,DIC="^SRF(",DIC(0)="L",DLAYGO=130 D FILE^DICN K DD,DO,DIC,DLAYGO S SRTN=+Y
"RTN","SRSRQST",10,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN)
"RTN","SRSRQST",11,0)
 S ^SRF(SRTN,8)=SRSITE("DIV"),^SRF(SRTN,"OP")=""
"RTN","SRSRQST",12,0)
 D NOW^%DTC S SREQDAY=+$E(%,1,12),SRNOCON=1 K DR,DIE
"RTN","SRSRQST",13,0)
 S DA=SRTN,DIE=130,DR="36////1;Q;.09////"_SRSDATE_";.14////"_SRSDOC_";1.098////"_+SREQDAY_";1.099////"_DUZ_";Q"_";612////"_SRSDATE_";616////"_SRSDATE_";613////"_SREQDAY D ^DIE K DR
"RTN","SRSRQST",14,0)
ASURG ; attending surgeon
"RTN","SRSRQST",15,0)
 K DIR S DIR(0)="130,.164",DIR("A")="Attending Surgeon" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRSRQST",16,0)
 I Y=""!(X["^") W !!,"To make an operation request, Attending Surgeon MUST be selected.  Enter '^' to exit.",! G ASURG
"RTN","SRSRQST",17,0)
 S SRATTND=+Y
"RTN","SRSRQST",18,0)
SPEC ; surgical specialty
"RTN","SRSRQST",19,0)
 I SRWL W !,"Surgical Specialty: "_$P(^SRO(137.45,SRSS,0),"^") G OP
"RTN","SRSRQST",20,0)
 K DIR S DIR(0)="130,.04",DIR("A")="Surgical Specialty" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRSRQST",21,0)
 I Y=""!(X["^") W !!,"To make an operation request, a Surgical Specialty MUST be selected.  Enter '^'",!,"to exit.",! G SPEC
"RTN","SRSRQST",22,0)
 S SRSS=+Y
"RTN","SRSRQST",23,0)
OP ; principal operative procedure
"RTN","SRSRQST",24,0)
 I SRWL W !,"Principal Operative Procedure: "_SRSOP G OPD
"RTN","SRSRQST",25,0)
 K DIR S DIR(0)="130,26",DIR("A")="Principal Operative Procedure" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRSRQST",26,0)
 I X["^" W !!,"Principal procedure must not contain an up-arrow (^).",! G OP
"RTN","SRSRQST",27,0)
 S SRSOP=Y
"RTN","SRSRQST",28,0)
OPD ; Principal Preoperative Diagnosis
"RTN","SRSRQST",29,0)
 K DIR S DIR(0)="130,32",DIR("A")="Principal Preoperative Diagnosis" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRSRQST",30,0)
 I Y=""!(X["^") W !,"Principal Preoperative Diagnosis MUST be entered",!,"before proceeding with this request. Enter '^' to exit.",! G OPD
"RTN","SRSRQST",31,0)
 I X[";" W !!,"The Principal Preoperative Diagnosis cannot contain a semicolon (;).",!,"Please re-enter the Diagnosis, using commas in place of the semicolons." G OPD
"RTN","SRSRQST",32,0)
 S SRSOPD=Y
"RTN","SRSRQST",33,0)
 W !!,"The information entered into the Principal Preoperative Diagnosis field",!,"has been transferred into the Indications for Operation field.",!,"The Indications for Operation field can be updated later if necessary.",!
"RTN","SRSRQST",34,0)
 W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SRSRQST",35,0)
 ;
"RTN","SRSRQST",36,0)
LP ; LATERALITY OF PROCEDURE
"RTN","SRSRQST",37,0)
 K DIR W ! S DIR(0)="130,638",DIR("A")="Laterality Of Procedure" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRSRQST",38,0)
 I Y=""!(X["^") W !!,"To make an operation request, Laterality Of Procedure MUST be entered.   Enter '^' to exit.",! G LP
"RTN","SRSRQST",39,0)
 S SRLP=Y
"RTN","SRSRQST",40,0)
HAS ; Hospital Admission Status
"RTN","SRSRQST",41,0)
 K DIR S DIR(0)="130,.011",DIR("A")="Hospital Admission Status" D ^DIR K DIR I $D(DTOUT)!(X="^") S SRSOUT=1 G DEL
"RTN","SRSRQST",42,0)
 I Y=""!(X["^") W !!,"To make an operation request, Hospital Admission Status field MUST be entered. Enter '^' to exit.",! G HAS
"RTN","SRSRQST",43,0)
 S SRHAS=Y
"RTN","SRSRQST",44,0)
UPDATE S DA=SRTN,DIE=130,DR="26////"_SRSOP_";68////"_SRSOP_";.04////"_SRSS_";.164////"_SRATTND_";32////"_SRSOPD_";638////"_SRLP_";.011////"_SRHAS D ^DIE
"RTN","SRSRQST",45,0)
 I SRWL K DA,DIE,DR S DA=SRTN,DIE=130,DR=".016////"_SRCL(16)_";.017////"_SRCL(17)_";.018////"_SRCL(18)_";.019////"_SRCL(19)_";.0155////"_SRCL(20)_";.022////"_SRCL(21)_";.023////"_SRCL(22) D ^DIE
"RTN","SRSRQST",46,0)
 K DR,DA S DR="[SRO-NOCOMP]",DA=SRTN,DIE=130 D ^DIE K DR
"RTN","SRSRQST",47,0)
 S ^SRF(SRTN,8)=SRSITE("DIV") D ^SROXRET K SRNOCON
"RTN","SRSRQST",48,0)
OTHER ; other required fields
"RTN","SRSRQST",49,0)
 S SRFLD=0 F  S SRFLD=$O(^SRO(133,SRSITE,4,SRFLD)) Q:'SRFLD!(SRSOUT)  D OTHDIR Q:SRSOUT
"RTN","SRSRQST",50,0)
 I SRSOUT G DEL
"RTN","SRSRQST",51,0)
 S SRSOPD(1)=SRSOPD D WP^DIE(130,SRTN_",",55,"A","SRSOPD")
"RTN","SRSRQST",52,0)
 I $D(SRCC),SRSCON=2 S DIE=130,DR="35////"_SRSCON(1),DA=SRTN D ^DIE K DR S DR="35////"_SRTN,DA=SRSCON(1),DIE=130 D ^DIE K DR,DA
"RTN","SRSRQST",53,0)
 D ^SROERR I $D(SRDUOUT) S SRSOUT=1 Q
"RTN","SRSRQST",54,0)
 I '$D(SRCC) D ^SRSRQST1
"RTN","SRSRQST",55,0)
 D:$G(SRLCK) UNLOCK^SROUTL(SRTN)
"RTN","SRSRQST",56,0)
 Q
"RTN","SRSRQST",57,0)
DEL I SRSOUT S DA=SRTN,DIK="^SRF(" D ^DIK
"RTN","SRSRQST",58,0)
END D:$G(SRLCK) UNLOCK^SROUTL(SRTN)
"RTN","SRSRQST",59,0)
 I SRSOUT W !!,"No request has been entered.",! S:'$D(SRCC) SRSOUT=0
"RTN","SRSRQST",60,0)
 Q
"RTN","SRSRQST",61,0)
CON ; request concurrent case
"RTN","SRSRQST",62,0)
 D MUST Q:SRSOUT  S SRSCON(SRSCON,"DOC")=$P(^VA(200,SRSDOC,0),"^"),SRSCON(SRSCON,"SS")=$P(^SRO(137.45,SRSS,0),"^"),SRSCON(SRSCON,"OP")=SRSOP,SRSCON(SRSCON)=SRTN K DA
"RTN","SRSRQST",63,0)
 Q
"RTN","SRSRQST",64,0)
OTHDIR ; call to reader for site specific required fields
"RTN","SRSRQST",65,0)
 ;JAS - 08/05/14 - SR*3*177 - Modified this section for ICD-10
"RTN","SRSRQST",66,0)
 K DIR,SREQ,SRY S FLD=$P(^SRO(133,SRSITE,4,SRFLD,0),"^") D FIELD^DID(130,FLD,"","TITLE","SRY") S DIR(0)="130,"_FLD,DIR("A")=SRY("TITLE") D DIRYN I $D(DTOUT)!($G(X)="^") S SRSOUT=1 Q
"RTN","SRSRQST",67,0)
 I "^32.5^66^253^286^343^344^392^489^"[("^"_FLD_"^") I $G(X)="@"!($G(X)="") S X="^"
"RTN","SRSRQST",68,0)
 I $G(Y)=""!(X["^") W !!,"It is mandatory that you provide this information before proceeding with this",!,"request.",! D ASK Q:SRSOUT  G OTHDIR
"RTN","SRSRQST",69,0)
 S SREQ(130,SRTN_",",FLD)=$P(Y,"^") D FILE^DIE("","SREQ","^TMP(""SR"",$J)")
"RTN","SRSRQST",70,0)
 Q
"RTN","SRSRQST",71,0)
DIRYN ; call ^DIR if not FILE 80 or ICD-9 FILE 80 (added for SR*3.0*177)
"RTN","SRSRQST",72,0)
 I "^32.5^66^253^286^343^344^392^489^"[("^"_FLD_"^") D  Q
"RTN","SRSRQST",73,0)
 . S SRPRMT=DIR("A")_" ",SRDEF=$$GET1^DIQ(130,SRTN,FLD)
"RTN","SRSRQST",74,0)
 . D ICDSRCH^SROICD
"RTN","SRSRQST",75,0)
 D ^DIR
"RTN","SRSRQST",76,0)
 Q 
"RTN","SRSRQST",77,0)
ASK K DIR S DIR(0)="Y",DIR("A")="Do you want to continue with this request ",DIR("B")="YES"
"RTN","SRSRQST",78,0)
 S DIR("?")="Enter RETURN to continue with this request, or 'NO' to discontinue this request." D ^DIR S:'Y SRSOUT=1
"RTN","SRSRQST",79,0)
 Q
"RTN","SRSUPC")
0^104^B7886388^B8595921
"RTN","SRSUPC",1,0)
SRSUPC ;B'HAM ISC/MAM - UPDATE CANCEL REASON & DATE; [ 01/31/01  8:59 AM ]
"RTN","SRSUPC",2,0)
 ;;3.0;Surgery;**100,175,182**;24 Jun 93;Build 49
"RTN","SRSUPC",3,0)
PAT ;
"RTN","SRSUPC",4,0)
 N SRY W @IOF S DIC=2,DIC(0)="QEAMZ",DIC("A")="Update Cancellation Information for which Patient: " D ^DIC K DIC G:Y'>0 END S DFN=+Y
"RTN","SRSUPC",5,0)
 D DEM^VADPT S SRNAME=VADM(1)
"RTN","SRSUPC",6,0)
 W ! S (SROP,CNT)=0 F  S SROP=$O(^SRF("B",DFN,SROP)) Q:'SROP  S SRSDATE=$P(^SRF(SROP,0),"^",9) D LIST
"RTN","SRSUPC",7,0)
 I '$D(SRCASE(1)) W !!,"There are no cancelled cases for "_SRNAME_"." G END
"RTN","SRSUPC",8,0)
OPT R !!!,"Select Operation:  ",OPT:DTIME I '$T!("^"[OPT) K SRTN G END
"RTN","SRSUPC",9,0)
 I OPT["?"!('$D(SRCASE(OPT))) W !!,"Enter the number of the desired operation" G OPT
"RTN","SRSUPC",10,0)
 S SROP=SRCASE(OPT),SRSDATE=$P(^SRF(SROP,0),"^",9),SRSDATE=$E(SRSDATE,4,5)_"-"_$E(SRSDATE,6,7)_"-"_$E(SRSDATE,2,3)
"RTN","SRSUPC",11,0)
 W @IOF,!,VADM(1),?32,VA("PID"),?50,"Case # ",SROP,!!,SRSDATE D CASE W !!
"RTN","SRSUPC",12,0)
 I $$LOCK^SROUTL(SROP) S DIE=130,DA=SRCASE(OPT),DR="17T;17.5T;18T;67T" D ^DIE K DR D UNLOCK^SROUTL(SROP)
"RTN","SRSUPC",13,0)
END W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SRSUPC",14,0)
 W @IOF K SROP D ^SRSKILL
"RTN","SRSUPC",15,0)
 Q
"RTN","SRSUPC",16,0)
LOOP ; break operation name if longer than 65 characters
"RTN","SRSUPC",17,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<65  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SRSUPC",18,0)
 Q
"RTN","SRSUPC",19,0)
OTHER ; other operations
"RTN","SRSUPC",20,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SROP,13,SROTHER,0),"^"))>235 S SRLONG=0,SROTHER=999,SROPERS=" ..."
"RTN","SRSUPC",21,0)
 I SRLONG S SROPERS=$P(^SRF(SROP,13,SROTHER,0),"^")
"RTN","SRSUPC",22,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SRSUPC",23,0)
 Q
"RTN","SRSUPC",24,0)
LIST ;
"RTN","SRSUPC",25,0)
 S SRCAN=0
"RTN","SRSUPC",26,0)
 I $D(^SRF(SROP,30)),$P(^(30),"^")'="" S SRCAN=1
"RTN","SRSUPC",27,0)
 I $D(^SRF(SROP,31)),$P(^(31),"^",8)'="" S SRCAN=1
"RTN","SRSUPC",28,0)
 I 'SRCAN Q
"RTN","SRSUPC",29,0)
 S CNT=CNT+1,SRCASE(CNT)=SROP
"RTN","SRSUPC",30,0)
 W !,CNT_". "_$E(SRSDATE,4,5)_"-"_$E(SRSDATE,6,7)_"-"_$E(SRSDATE,2,3)
"RTN","SRSUPC",31,0)
CASE S SROPER=$P(^SRF(SROP,"OP"),"^") I $O(^SRF(SROP,13,0)) S SROTHER=0 F I=0:0 S SROTHER=$O(^SRF(SROP,13,SROTHER)) Q:'SROTHER  D OTHER
"RTN","SRSUPC",32,0)
 D ^SROP1 K SROPS,MM,MMM S:$L(SROPER)<65 SROPS(1)=SROPER I $L(SROPER)>64 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SRSUPC",33,0)
 W ?14,SROPS(1) I $D(SROPS(2)) W !,?14,SROPS(2) I $D(SROPS(3)) W !,?14,SROPS(3) W:$D(SROPS(4)) !,?14,SROPS(4) W:$D(SROPS(5)) !,?14,SROPS(5)
"RTN","SRTOVRF")
0^20^B14137837^B3588832
"RTN","SRTOVRF",1,0)
SRTOVRF ;BIR/SJA - TIME OUT VERIFIED FOR SURGERY ;12/16/10
"RTN","SRTOVRF",2,0)
 ;;3.0;Surgery;**175,182**;24 Jun 93;Build 49
"RTN","SRTOVRF",3,0)
 ;
"RTN","SRTOVRF",4,0)
 ; entry point called by 'AE' x-ref of the 600-611 surgery fields
"RTN","SRTOVRF",5,0)
IN N SRJ,SRK,SRTN1,SRYN S SRTN1=$S($D(SRTN):SRTN,1:DA) Q:'SRTN1
"RTN","SRTOVRF",6,0)
 S SRJ=85
"RTN","SRTOVRF",7,0)
ASK D EN^DDIOL("Checklist Comments should be entered when a ""NO"" response is entered for any of  the Time Out Verified Utilizing Checklist fields.",,"!!")
"RTN","SRTOVRF",8,0)
 D FIELD^DID("130.0"_SRJ,.01,"","TITLE","SRK")
"RTN","SRTOVRF",9,0)
 D EN^DDIOL("Do you want to enter "_SRK("TITLE")_" ?  YES// ",,"!")
"RTN","SRTOVRF",10,0)
 R SRYN:DTIME I '$T!(SRYN["^") Q
"RTN","SRTOVRF",11,0)
 S SRYN=$E(SRYN) S:SRYN="" SRYN="Y" I SRYN["?" D HELP G ASK
"RTN","SRTOVRF",12,0)
 I "YyNn"'[SRYN D EN^DDIOL("Enter 'YES' to enter checklist comments now, 'NO' to quit, or '?' for more help.",,"!!") G ASK
"RTN","SRTOVRF",13,0)
 I "Nn"[SRYN Q
"RTN","SRTOVRF",14,0)
 ; edit the associated comments fields
"RTN","SRTOVRF",15,0)
 N DR,DIE,DA,DP,DC,DL,DE,DI,DIEL,DIETMP,DIFLD,DIP,DK,DM,DP,DQ,DU,DV,DW
"RTN","SRTOVRF",16,0)
 W ! S DIE=130,DA=SRTN1,DR=SRJ_"T" D ^DIE
"RTN","SRTOVRF",17,0)
 Q
"RTN","SRTOVRF",18,0)
HELP D EN^DDIOL("Enter 'YES' to enter time out comments.  Enter 'NO' to quit without entering time out comments.",,"!!")
"RTN","SRTOVRF",19,0)
 Q
"RTN","SRTOVRF",20,0)
WSXR(SRTN) ; prompt the user for the wound sweep & intraoperative X-Ray fields
"RTN","SRTOVRF",21,0)
 N SRC,SRSSDT
"RTN","SRTOVRF",22,0)
 Q:'$D(^TMP("SR182",$J))
"RTN","SRTOVRF",23,0)
 S Y=$E($P(^SRF(SRTN,0),"^",9),1,7) D D^DIQ S SRSSDT=Y
"RTN","SRTOVRF",24,0)
 W @IOF,!," "_VADM(1)_" ("_VA("PID")_")   Case #"_SRTN_" - "_SRSSDT
"RTN","SRTOVRF",25,0)
 S SRC(1)="Wound Sweep & Intraoperative X-Ray fields must be entered when a ""NO"" response  is entered for any of the following fields: ",SRC(1,"F")="!!"
"RTN","SRTOVRF",26,0)
 S SRC(2)=" - SPONGE FINAL COUNT CORRECT, OR",SRC(2,"F")="!!?5"
"RTN","SRTOVRF",27,0)
 S SRC(3)=" - SHARPS FINAL COUNT CORRECT, OR",SRC(3,"F")="!?5"
"RTN","SRTOVRF",28,0)
 S SRC(4)=" - INSTRUMENT FINAL COUNT CORRECT",SRC(4,"F")="!?5"
"RTN","SRTOVRF",29,0)
 S SRC(5)=""
"RTN","SRTOVRF",30,0)
 D EN^DDIOL(.SRC,,"!")
"RTN","SRTOVRF",31,0)
 K DR,DA,DIE S DR="633T;636T",DA=SRTN,DIE=130 D ^DIE K DR,DA
"RTN","SRTOVRF",32,0)
 D:$P($G(^SRF(SRTN,25)),"^",7)="N" COM(635)
"RTN","SRTOVRF",33,0)
 D:$P($G(^SRF(SRTN,25)),"^",8)="N" COM(637)
"RTN","SRTOVRF",34,0)
 W !!,"Press <RET> to continue  " R X:DTIME
"RTN","SRTOVRF",35,0)
 Q
"RTN","SRTOVRF",36,0)
COM(SRJ) ;prompt the user for the wound sweep/Intraoperative X-Ray comments fields
"RTN","SRTOVRF",37,0)
SK D EN^DDIOL($S(SRJ=635:"Wound Sweep",1:"Intraoperative X-Ray")_" comments should be entered when a ""NO"" response is entered for the "_$S(SRJ=635:"Wound Sweep",1:"Intraoperative X-Ray")_" field.",,"!!")
"RTN","SRTOVRF",38,0)
 D FIELD^DID("130.0"_SRJ,.01,"","TITLE","SRK")
"RTN","SRTOVRF",39,0)
 D EN^DDIOL("Do you want to enter "_SRK("TITLE")_" ?  YES// ",,"!")
"RTN","SRTOVRF",40,0)
 R SRYN:DTIME I '$T!(SRYN["^") Q
"RTN","SRTOVRF",41,0)
 S SRYN=$E(SRYN) S:SRYN="" SRYN="Y" I SRYN["?" D  G SK
"RTN","SRTOVRF",42,0)
 .D EN^DDIOL("Enter 'YES' to enter"_$S(SRJ=635:"Wound Sweep",1:"Intraoperative X-Ray")_" comments.  Enter 'NO' to quit without entering time out comments.",,"!!")
"RTN","SRTOVRF",43,0)
 I "YyNn"'[SRYN D EN^DDIOL("Enter 'YES' to enter"_$S(SRJ=635:"Wound Sweep",1:"Intraoperative X-Ray")_" Comments now, 'NO' to quit, or '?' for more help.",,"!!") G SK
"RTN","SRTOVRF",44,0)
 I "Nn"[SRYN Q
"RTN","SRTOVRF",45,0)
 ; edit the related comments field
"RTN","SRTOVRF",46,0)
 W ! S DIE=130,DA=SRTN,DR=SRJ_"T" D ^DIE
"RTN","SRTOVRF",47,0)
 Q
"RTN","SRTOVRF",48,0)
ABORT(SRTN) ; check if the case is aborted
"RTN","SRTOVRF",49,0)
 N SRNP2 S SRNP2=$G(^SRF(SRTN,.2))
"RTN","SRTOVRF",50,0)
 I $P($G(^SRF(SRTN,30)),"^")'=""!($P($G(^SRF(SRTN,31)),"^",8)'="") I $P(SRNP2,"^")!($P(SRNP2,"^",10)) Q 1
"RTN","SRTOVRF",51,0)
 Q 0
"SEC","^DD",130,130,74,9)

"UP",130,130.01,-1)
130^1
"UP",130,130.01,0)
130.01
"UP",130,130.06,-1)
130^6
"UP",130,130.06,0)
130.06
"UP",130,130.0635,-1)
130^53
"UP",130,130.0635,0)
130.0635
"UP",130,130.0637,-1)
130^54
"UP",130,130.0637,0)
130.0637
"UP",130,130.13,-1)
130^10
"UP",130,130.13,0)
130.13
"UP",130,130.22,-1)
130^16
"UP",130,130.22,0)
130.22
"VER")
8.0^22.0
"^DD",130,130,.011,0)
HOSPITAL ADMISSION STATUS^*S^I:INPATIENT;O:OUTPATIENT;1:SAME DAY;2:ADMISSION;3:HOSPITALIZED;^0;12^Q
"^DD",130,130,.011,.1)
Hospital Admission Status
"^DD",130,130,.011,1,0)
^.1
"^DD",130,130,.011,1,1,0)
130^APCE5^MUMPS
"^DD",130,130,.011,1,1,1)
D APCE^SROPCEX
"^DD",130,130,.011,1,1,2)
Q
"^DD",130,130,.011,1,1,"%D",0)
^.101^1^1^3050616^^
"^DD",130,130,.011,1,1,"%D",1,0)
This MUMPS cross reference updates PCE.
"^DD",130,130,.011,1,1,"DT")
3050531
"^DD",130,130,.011,3)
Enter the code corresponding to the hospital admission status at the time of surgery.
"^DD",130,130,.011,12)
Screen prevents selection of retired codes.
"^DD",130,130,.011,12.1)
S DIC("S")="I Y"
"^DD",130,130,.011,21,0)
^^6^6^3140829^
"^DD",130,130,.011,21,1,0)
Definition Revised (2014):
"^DD",130,130,.011,21,2,0)
This field indicates the patient's hospital admission status on the 
"^DD",130,130,.011,21,3,0)
date of surgery. Enter "1" or "S" if the operation was same day (the
"^DD",130,130,.011,21,4,0)
patient was not admitted); "2" or "A" if the patient was admitted on 
"^DD",130,130,.011,21,5,0)
the date of surgery; or "3" or "H" if the patient was already 
"^DD",130,130,.011,21,6,0)
hospitalized on the day prior to the date of surgery.
"^DD",130,130,.011,"DT")
3140829
"^DD",130,130,.02,0)
OP ROOM PROCEDURE PERFORMED^*P131.7'X^SRS(^0;2^S DIC("S")="I $$ORDIV^SROUTL0(+Y,$G(SRSITE(""DIV""))),('$P(^SRS(+Y,0),U,6))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130,.02,.1)
Operating Room Procedure Performed
"^DD",130,130,.02,1,0)
^.1
"^DD",130,130,.02,1,1,0)
130^AOR^MUMPS
"^DD",130,130,.02,1,1,1)
I $P(^SRF(DA,0),"^",9)'="" S ^SRF("AOR",X,$E($P(^SRF(DA,0),"^",9),1,7),DA)=""
"^DD",130,130,.02,1,1,2)
K ^SRF("AOR",X,$E($P(^SRF(DA,0),"^",9),1,7),DA)
"^DD",130,130,.02,1,1,"%D",0)
^^2^2^2930128^
"^DD",130,130,.02,1,1,"%D",1,0)
The AOR cross reference on the OPERATING ROOM field is used in various
"^DD",130,130,.02,1,1,"%D",2,0)
reports when sorting by operating room.
"^DD",130,130,.02,1,2,0)
130^AM3^MUMPS
"^DD",130,130,.02,1,2,1)
D AM3^SROXR2
"^DD",130,130,.02,1,2,2)
D KILLAM3^SROXR2
"^DD",130,130,.02,1,2,"%D",0)
^^3^3^2930128^^^
"^DD",130,130,.02,1,2,"%D",1,0)
The AM3 cross reference on the OPERATING ROOM field updates the AMM cross
"^DD",130,130,.02,1,2,"%D",2,0)
reference when the OPERATING ROOM is edited if the case has been
"^DD",130,130,.02,1,2,"%D",3,0)
scheduled.
"^DD",130,130,.02,1,2,"DT")
2920110
"^DD",130,130,.02,1,3,0)
130^APCE20^MUMPS
"^DD",130,130,.02,1,3,1)
D APCE^SROPCEX
"^DD",130,130,.02,1,3,2)
Q
"^DD",130,130,.02,1,3,"%D",0)
^.101^1^1^3050616^^^
"^DD",130,130,.02,1,3,"%D",1,0)
This MUMPS cross reference updates PCE.
"^DD",130,130,.02,1,3,"DT")
3050531
"^DD",130,130,.02,3)
Enter the name of the operating room where the principal operation is performed.
"^DD",130,130,.02,12)
Screen limits selection to active operating rooms for the division.
"^DD",130,130,.02,12.1)
S DIC("S")="I $$ORDIV^SROUTL0(+Y,$G(SRSITE(""DIV""))),('$P(^SRS(+Y,0),U,6))"
"^DD",130,130,.02,21,0)
^^3^3^3140214^
"^DD",130,130,.02,21,1,0)
This is the name of the operating room where the principal operation
"^DD",130,130,.02,21,2,0)
is performed for this patient.  It can be selected by entering the name  
"^DD",130,130,.02,21,3,0)
or abbreviation of the operating room.
"^DD",130,130,.02,"DT")
3140214
"^DD",130,130,.14,0)
PRIMARY SURGEON^R*P200'^VA(200,^.1;4^S DIC("S")="S RESTRICT=""130,.14"" D KEY^SROXPR I $D(SROK)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130,.14,.1)
Primary Surgeon
"^DD",130,130,.14,1,0)
^.1
"^DD",130,130,.14,1,1,0)
130^ASR^MUMPS
"^DD",130,130,.14,1,1,1)
D STAFF^SROXR1
"^DD",130,130,.14,1,1,2)
D KSTAFF^SROXR1
"^DD",130,130,.14,1,1,"%D",0)
^^2^2^2930128^^
"^DD",130,130,.14,1,1,"%D",1,0)
The ASR cross reference on the SURGEON field is used to update the
"^DD",130,130,.14,1,1,"%D",2,0)
STAFF/RESIDENT field when a surgeon is entered.
"^DD",130,130,.14,1,1,"DT")
2920415
"^DD",130,130,.14,1,2,0)
130^APCE1^MUMPS
"^DD",130,130,.14,1,2,1)
D APCE^SROPCEX
"^DD",130,130,.14,1,2,2)
Q
"^DD",130,130,.14,1,2,"%D",0)
^.101^1^1^3050616^^^^
"^DD",130,130,.14,1,2,"%D",1,0)
This MUMPS cross reference updates PCE.
"^DD",130,130,.14,1,2,"DT")
3050531
"^DD",130,130,.14,1,3,0)
130^ATT^MUMPS
"^DD",130,130,.14,1,3,1)
D ATT^SROXR1
"^DD",130,130,.14,1,3,2)
D KATT^SROXR1
"^DD",130,130,.14,1,3,"%D",0)
^^2^2^3041005^
"^DD",130,130,.14,1,3,"%D",1,0)
This cross reference updates the ATTEND SURG field with the SURGEON if 
"^DD",130,130,.14,1,3,"%D",2,0)
the SURGERY RESIDENTS (Y/N) site parameter is NO.
"^DD",130,130,.14,1,3,"DT")
3041005
"^DD",130,130,.14,3)
Enter the name of the privileged person who performs the major portion of the principal operation.
"^DD",130,130,.14,12)
Entries into this field may be restricted based on locally selected keys.
"^DD",130,130,.14,12.1)
S DIC("S")="S RESTRICT=""130,.14"" D KEY^SROXPR I $D(SROK)"
"^DD",130,130,.14,21,0)
^^6^6^3140214^
"^DD",130,130,.14,21,1,0)
This is the name of the person performing the major portion of
"^DD",130,130,.14,21,2,0)
the principal operative procedure.  This field is required as
"^DD",130,130,.14,21,3,0)
part of the Operation Report.
"^DD",130,130,.14,21,4,0)
 
"^DD",130,130,.14,21,5,0)
This field may be restricted by locally determined keys so that only
"^DD",130,130,.14,21,6,0)
people with the appropriate keys can be entered.
"^DD",130,130,.14,22)

"^DD",130,130,.14,"DT")
3140214
"^DD",130,130,.164,0)
ATTENDING SURGEON^*P200'^VA(200,^.1;13^S DIC("S")="S RESTRICT=""130,.164"" D KEY^SROXPR I $D(SROK)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130,.164,.1)
Attending Surgeon
"^DD",130,130,.164,1,0)
^.1
"^DD",130,130,.164,1,1,0)
130^APCE4^MUMPS
"^DD",130,130,.164,1,1,1)
D APCE^SROPCEX
"^DD",130,130,.164,1,1,2)
Q
"^DD",130,130,.164,1,1,"%D",0)
^.101^1^1^3050616^^^^
"^DD",130,130,.164,1,1,"%D",1,0)
This MUMPS cross reference updates PCE.
"^DD",130,130,.164,1,1,"DT")
3050531
"^DD",130,130,.164,3)
Enter the name of the attending staff surgeon.  This is required when the surgeon is in training status.
"^DD",130,130,.164,12)
Entries in this field may be restricted based on locally selected keys.
"^DD",130,130,.164,12.1)
S DIC("S")="S RESTRICT=""130,.164"" D KEY^SROXPR I $D(SROK)"
"^DD",130,130,.164,21,0)
^^3^3^3140214^
"^DD",130,130,.164,21,1,0)
This is the name of the attending staff surgeon responsible for
"^DD",130,130,.164,21,2,0)
this case.  This information appears on the Operation Report, Nurse
"^DD",130,130,.164,21,3,0)
Intraoperative Report, and Attending Surgeon Report.
"^DD",130,130,.164,"DEL",1,0)
I 1 D EN^DDIOL("The ATTEND SURGEON can't be deleted.",,"!!,?2")
"^DD",130,130,.164,"DT")
3140214
"^DD",130,130,.166,0)
ATTENDING/RES SUP CODE^*P132.9'^SRO(132.9,^.1;10^S DIC("S")="I '$P(^(0),U,3)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130,.166,.1)
Attending/Res Sup Code
"^DD",130,130,.166,3)
Enter the code corresponding to the highest level of supervision provided by the attending staff surgeon.
"^DD",130,130,.166,12)
Screen prevents selection of inactive entries.
"^DD",130,130,.166,12.1)
S DIC("S")="I '$P(^(0),U,3)"
"^DD",130,130,.166,21,0)
^^2^2^3140214^
"^DD",130,130,.166,21,1,0)
This is the code corresponding to the highest level of resident
"^DD",130,130,.166,21,2,0)
supervision provided by the attending staff surgeon for this case.
"^DD",130,130,.166,"DT")
3140214
"^DD",130,130,.37,0)
ANESTHESIA TECHNIQUE^130.06SA^^6;0
"^DD",130,130,.37,.1)
Anesthesia Technique
"^DD",130,130,.37,21,0)
^.001^3^3^3140115^^^^
"^DD",130,130,.37,21,1,0)
This is information about the anesthesia technique used during this
"^DD",130,130,.37,21,2,0)
case.
"^DD",130,130,.37,21,3,0)
 
"^DD",130,130,.37,"DT")
3070315
"^DD",130,130,.43,0)
PLANNED POSTOP CARE^*P131.6'^SRO(131.6,^.4;3^S DIC("S")="I '$P(^(0),U,3),($P(^(0),U,2)'=""OBS""),($P(^(0),U,2)'=""M"")" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",130,130,.43,.1)
Planned Postop Care
"^DD",130,130,.43,1,0)
^.1
"^DD",130,130,.43,1,1,0)
130^AI^MUMPS
"^DD",130,130,.43,1,1,1)
I $S('$D(^SRF(DA,.7)):1,$P(^(.7),U,9)="":1,1:0) S $P(^SRF(DA,.7),U,9)=X
"^DD",130,130,.43,1,1,2)
Q
"^DD",130,130,.43,1,1,"%D",0)
^^2^2^2930129^
"^DD",130,130,.43,1,1,"%D",1,0)
The AI cross reference on the REQ POSTOP CARE field stuffs the requested
"^DD",130,130,.43,1,1,"%D",2,0)
post-operative care entry into the PACU DISPOSITION field.
"^DD",130,130,.43,3)
Enter the planned postop care disposition for this patient.
"^DD",130,130,.43,12)
Screen prevents selection of inactive file entries.
"^DD",130,130,.43,12.1)
S DIC("S")="I '$P(^(0),U,3),($P(^(0),U,2)'=""OBS""),($P(^(0),U,2)'=""M"")"
"^DD",130,130,.43,21,0)
^^3^3^2900621^^^^
"^DD",130,130,.43,21,1,0)
This is the code corresponding to the location of care after the patient
"^DD",130,130,.43,21,2,0)
leaves the operating room and/or the post-anesthesia care unit.
"^DD",130,130,.43,21,3,0)
 
"^DD",130,130,.43,"DT")
3140213
"^DD",130,130,.46,0)
OP DISPOSITION^*P131.6'^SRO(131.6,^.4;6^S DIC("S")="I '$P(^(0),U,3)" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",130,130,.46,.1)
Postoperative Disposition
"^DD",130,130,.46,3)
Enter the destination of the patient from the OR and PACU.
"^DD",130,130,.46,12)
Screen prevents selection of inactive file entries.
"^DD",130,130,.46,12.1)
S DIC("S")="I '$P(^(0),U,3)"
"^DD",130,130,.46,21,0)
^^1^1^3140821^
"^DD",130,130,.46,21,1,0)
This is the destination of the patient upon transfer from OR staff care.
"^DD",130,130,.46,"DT")
3140821
"^DD",130,130,.69,0)
TIME-OUT DOCUMENT COMPLETED BY^*P200'^VA(200,^.6;9^S DIC("S")="S RESTRICT=""130,.69"" D KEY^SROXPR I $D(SROK)" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",130,130,.69,.1)
Time-out Document Completed By
"^DD",130,130,.69,1,0)
^.1^^0
"^DD",130,130,.69,3)
Enter the person confirming that there is valid consent.
"^DD",130,130,.69,12)
Entries in this field may be restricted based on locally selected keys.
"^DD",130,130,.69,12.1)
S DIC("S")="S RESTRICT=""130,.69"" D KEY^SROXPR I $D(SROK)"
"^DD",130,130,.69,21,0)
^^4^4^3140214^
"^DD",130,130,.69,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,.69,21,2,0)
This is the name of the person verifying the patient's identification
"^DD",130,130,.69,21,3,0)
band, Social Security Number, surgical site/procedure, and the entry
"^DD",130,130,.69,21,4,0)
of a valid operative consent on the patient's record.
"^DD",130,130,.69,"DT")
3140820
"^DD",130,130,17.5,0)
CANCELLATION TIMEFRAME^S^1:SURGERY CANCELLED <48 HRS BEFORE SCHEDULED SURGERY;2:SURGERY CANCELLED >48 HRS BEFORE SCHEDULED SURGERY;^30;5^Q
"^DD",130,130,17.5,.1)
Cancellation Timeframe
"^DD",130,130,17.5,3)
Select the response that appropriately fits the cancellation timeframe.
"^DD",130,130,17.5,21,0)
^^4^4^3140214^
"^DD",130,130,17.5,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,17.5,21,2,0)
This indicates when the surgery was cancelled; either less than 48 
"^DD",130,130,17.5,21,3,0)
hours prior to the scheduled surgery time or more than 48 hours prior
"^DD",130,130,17.5,21,4,0)
to the scheduled surgery time.
"^DD",130,130,17.5,"DT")
3140303
"^DD",130,130,18,0)
PRIMARY CANCEL REASON^*P135'X^SRO(135,^31;8^S DIC("S")="I '$P(^(0),U,4)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130,18,.1)
Primary Cancellation Reason
"^DD",130,130,18,1,0)
^.1^^-1
"^DD",130,130,18,1,1,0)
130^ACAN^MUMPS
"^DD",130,130,18,1,1,1)
D CAN^SROXR4
"^DD",130,130,18,1,1,2)
D KCAN^SROXR4
"^DD",130,130,18,1,1,"%D",0)
^^4^4^2930129^^
"^DD",130,130,18,1,1,"%D",1,0)
The ACAN cross reference on the CANCEL REASON field functions to stuff
"^DD",130,130,18,1,1,"%D",2,0)
for the CANCEL REASON the default CANCELLATION AVOIDABLE (Y or N) as
"^DD",130,130,18,1,1,"%D",3,0)
defined in the SURGERY CANCELLATION REASON file.  It also stuffs the
"^DD",130,130,18,1,1,"%D",4,0)
CANCELLED BY field with the user if not already defined.
"^DD",130,130,18,3)
Enter the reason why this scheduled case was cancelled.
"^DD",130,130,18,12)
Screen prevents selection of inactive entries.
"^DD",130,130,18,12.1)
S DIC("S")="I '$P(^(0),U,4)"
"^DD",130,130,18,21,0)
^^27^27^3140214^
"^DD",130,130,18,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,18,21,2,0)
This is the reason that this surgical case was cancelled. List of valid 
"^DD",130,130,18,21,3,0)
reasons:
"^DD",130,130,18,21,4,0)
 
"^DD",130,130,18,21,5,0)
1)  Patient Related Issue (e.g., patient did not follow pre-surgery 
"^DD",130,130,18,21,6,0)
    instructions, patient chooses to cancel for any reason)
"^DD",130,130,18,21,7,0)
2)  Environmental Issue (OR availability impacted by e.g., air 
"^DD",130,130,18,21,8,0)
    handling, electrical outage, emergency construction, flood, tornado, 
"^DD",130,130,18,21,9,0)
    blizzard, hurricane causing OR  hospital closure.  If due to staff 
"^DD",130,130,18,21,10,0)
    availability, use #3) 
"^DD",130,130,18,21,11,0)
3)  Staff Issue (e.g., unavailable surgeon, anesthesia or nursing 
"^DD",130,130,18,21,12,0)
    staff; no documented consent, provider cancels due to change in
"^DD",130,130,18,21,13,0)
    patient treatment plan)
"^DD",130,130,18,21,14,0)
4)  Patient Health Status (Provider cancels due to change in patient 
"^DD",130,130,18,21,15,0)
    health status)
"^DD",130,130,18,21,16,0)
5)  More clinically urgent/emergent case superseded this scheduled 
"^DD",130,130,18,21,17,0)
    case
"^DD",130,130,18,21,18,0)
6)  Scheduling Issues Not Created By An Emergency Case (previous case 
"^DD",130,130,18,21,19,0)
    overtime, case delayed, double booked, general time constraints, 
"^DD",130,130,18,21,20,0)
    administrative scheduling error)
"^DD",130,130,18,21,21,0)
7)  Unavailable Bed 
"^DD",130,130,18,21,22,0)
8)  Unavailable Equipment [excluding RME] (e.g.,
"^DD",130,130,18,21,23,0)
    vendor, c-arm, implant, malfunctioning equipment)
"^DD",130,130,18,21,24,0)
9)  Unavailable Reusable Medical Equipment (RME) (includes defective 
"^DD",130,130,18,21,25,0)
    packaging, damaged instruments or failure of Sterile Processing
"^DD",130,130,18,21,26,0)
    Services [SPS] to provide reprocessed equipment in a timely manner)
"^DD",130,130,18,21,27,0)
10) Patient scheduled into an earlier date for surgery.
"^DD",130,130,18,"DT")
3140214
"^DD",130,130,41,0)
DRESSING^F^^35;1^K:$L(X)>100!($L(X)<1) X
"^DD",130,130,41,.1)
Dressing(s)
"^DD",130,130,41,3)
Enter the dressing(s) used for this case. Answer must be 1-100 characters in length.
"^DD",130,130,41,21,0)
^^2^2^3140214^^
"^DD",130,130,41,21,1,0)
These are the dressing(s) used for this case.  Although optional, this
"^DD",130,130,41,21,2,0)
information may be useful in documentation of this case.
"^DD",130,130,41,"DT")
3140214
"^DD",130,130,44,0)
SPONGE FINAL COUNT CORRECT^*S^Y:YES;N:NO, SEE NURSING CARE COMMENTS;N/A:NOT APPLICABLE;NA:NOT APPLICABLE;^25;1^Q
"^DD",130,130,44,.1)
Sponge Final Count Correct
"^DD",130,130,44,3)
Enter 'Y' if the final sponge count is correct.
"^DD",130,130,44,12)
Screen prevents selection of inactive code.
"^DD",130,130,44,12.1)
S DIC("S")="I Y'=""N/A"""
"^DD",130,130,44,21,0)
^^2^2^3140214^
"^DD",130,130,44,21,1,0)
This indicates whether the sponge final count was correct.  If entered,
"^DD",130,130,44,21,2,0)
this information will appear on the Nurse Intraoperative Report.
"^DD",130,130,44,"DT")
3140911
"^DD",130,130,45,0)
SHARPS FINAL COUNT CORRECT^*S^Y:YES;N:NO, SEE NURSING CARE COMMENTS;N/A:NOT APPLICABLE;NA:NOT APPLICABLE;^25;2^Q
"^DD",130,130,45,.1)
Sharps Final Count Correct
"^DD",130,130,45,3)
Enter 'Y' if the final sharps count is correct.
"^DD",130,130,45,12)
Screen prevents selection of inactive code.
"^DD",130,130,45,12.1)
S DIC("S")="I Y'=""N/A"""
"^DD",130,130,45,21,0)
^^4^4^3140214^
"^DD",130,130,45,21,1,0)
This indicates whether the sharps final count was correct.  If entered,
"^DD",130,130,45,21,2,0)
this information will appear on the Nurse Intraoperative Report.
"^DD",130,130,45,21,3,0)
The type of information entered in this field is determined by local 
"^DD",130,130,45,21,4,0)
hospital policy.
"^DD",130,130,45,"DT")
3140911
"^DD",130,130,46,0)
INSTRUMENT FINAL COUNT CORRECT^*S^Y:YES;N:NO, SEE NURSING CARE COMMENTS;N/A:NOT APPLICABLE;NA:NOT APPLICABLE;^25;3^Q
"^DD",130,130,46,.1)
Instrument Final Count Correct
"^DD",130,130,46,3)
Enter 'Y' if the instrument final count is correct.
"^DD",130,130,46,12)
Screen prevents selection of inactive code.
"^DD",130,130,46,12.1)
S DIC("S")="I Y'=""N/A"""
"^DD",130,130,46,21,0)
^^4^4^3140214^
"^DD",130,130,46,21,1,0)
This indicates whether the instrument final count was correct for
"^DD",130,130,46,21,2,0)
this case.  This information appears on the Nurse Intraoperative
"^DD",130,130,46,21,3,0)
Report.  The type of information entered in this field is determined
"^DD",130,130,46,21,4,0)
by local hospital policy.
"^DD",130,130,46,"DT")
3140911
"^DD",130,130,74,0)
TIME-OUT COMPLETED^DX^^.6;12^D TIME^SROUTL K:Y<1!(X'[".") X
"^DD",130,130,74,.1)
Time-Out Completed
"^DD",130,130,74,3)
Enter the time the Time-Out was completed.
"^DD",130,130,74,21,0)
^^4^4^3140214^
"^DD",130,130,74,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,74,21,2,0)
This indicates the actual time when the entire Time-Out process was 
"^DD",130,130,74,21,3,0)
completed by the OR team.  It will be documented using Military Time 
"^DD",130,130,74,21,4,0)
format.
"^DD",130,130,74,"DT")
3140925
"^DD",130,130,102,0)
REASON FOR NO ASSESSMENT^*S^0:NON-SURGEON CASE;1:ANESTHESIA TYPE;2:EXCEEDS MAX ASSMNTS;3:EXCEEDS MAX TURPS;4:STUDY CRITERIA;5:PREVIOUS CASE;6:10% RULE;7:PRIOR INDEX PROC;8:CONCURRENT CASE;9:EXCEEDS MAX HERNIAS;^RA;7^Q
"^DD",130,130,102,.1)
Reason for not Creating an Assessment
"^DD",130,130,102,3)
Enter the reason why no assessment was done on this surgical case.
"^DD",130,130,102,12)
Screen prevents selection of inactive codes.
"^DD",130,130,102,12.1)
S DIC("S")="I ""157""'[Y"
"^DD",130,130,102,21,0)
^^15^15^3140214^
"^DD",130,130,102,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,102,21,2,0)
This is the reason why no assessment was entered for this particular
"^DD",130,130,102,21,3,0)
surgical case. It should be entered if any major procedure was excluded
"^DD",130,130,102,21,4,0)
from the risk assessment module.
"^DD",130,130,102,21,5,0)
 
"^DD",130,130,102,21,6,0)
 0 - Non-surgeon performed the procedure
"^DD",130,130,102,21,7,0)
 2 - Number of surgical cases entered into the Surgical Risk Study 
"^DD",130,130,102,21,8,0)
     exceeded 36 over an 8 day time frame
"^DD",130,130,102,21,9,0)
 3 - Number of TURPs or TURBTs exceeded 5 cases over an 8 day time
"^DD",130,130,102,21,10,0)
     frame
"^DD",130,130,102,21,11,0)
 4 - Study exclusion criteria prohibits patient entry
"^DD",130,130,102,21,12,0)
 6 - Surgical Quality Nurse exclusion of up to 10% of assessments 
"^DD",130,130,102,21,13,0)
     within the fiscal year
"^DD",130,130,102,21,14,0)
 8 - Case was a concurrent case, secondary to an assessed primary case
"^DD",130,130,102,21,15,0)
 9 - Number of hernias exceeded 5 cases over an 8 day time frame
"^DD",130,130,102,"DT")
3140214
"^DD",130,130,205,0)
PRIOR MI^S^0:NO;1:YES, < OR EQUAL TO 7 DAYS PRIO TO SURG;2:YES, BETWEEN 7 DAYS AND 6 MONTHS PRIOR TO SURG;3:UNKNOWN;^206;14^Q
"^DD",130,130,205,.1)
Prior MI
"^DD",130,130,205,1,0)
^.1^^0
"^DD",130,130,205,3)
Enter the category that most accurately reflects the patient's most recent Myocardial Infarction.
"^DD",130,130,205,21,0)
^^9^9^3140214^
"^DD",130,130,205,21,1,0)
Definition Revised (2014):
"^DD",130,130,205,21,2,0)
Indicate if the patient has a history of myocardial infarction within
"^DD",130,130,205,21,3,0)
6 months prior to surgery as diagnosed in his or her medical records.  
"^DD",130,130,205,21,4,0)
Select the one appropriate response: 
"^DD",130,130,205,21,5,0)
 
"^DD",130,130,205,21,6,0)
0. No
"^DD",130,130,205,21,7,0)
1. Yes, less than or equal to 7 days prior to surgery
"^DD",130,130,205,21,8,0)
2. Yes, between 7 days and 6 months prior to surgery
"^DD",130,130,205,21,9,0)
3. Unknown
"^DD",130,130,205,"DT")
3140214
"^DD",130,130,207,0)
CONGESTIVE HEART FAILURE^S^N:NONE;I:CARDIAC DISEASE, NO SYMPTOMS;II:SLIGHT LIMITATION;III:MARKED LIMITATION;IV:SYMPTOMS AT REST;U:UNKNOWN^206;19^Q
"^DD",130,130,207,.1)
Congestive Heart Failure
"^DD",130,130,207,3)
Enter the NYHA Class associated with the severity of Congestive Heart Failure in the 30 days preceding surgery.
"^DD",130,130,207,21,0)
^^25^25^3140116^
"^DD",130,130,207,21,1,0)
Definition Revised (2014):
"^DD",130,130,207,21,2,0)
Indicate whether the patient has congestive heart failure if the 
"^DD",130,130,207,21,3,0)
patient chart or patient self-report indicates a history of congestive
"^DD",130,130,207,21,4,0)
heart failure within the 30 days before surgery.   The New York Heart
"^DD",130,130,207,21,5,0)
Association functional classification is used as a subjective 
"^DD",130,130,207,21,6,0)
assessment of the severity of congestive heart failure.  Indicate the 
"^DD",130,130,207,21,7,0)
one most appropriate response:
"^DD",130,130,207,21,8,0)
 
"^DD",130,130,207,21,9,0)
None - no congestive heart failure.
"^DD",130,130,207,21,10,0)
Class I - cardiac disease, no symptoms of abnormal fatigue, dyspnea, 
"^DD",130,130,207,21,11,0)
      or angina.
"^DD",130,130,207,21,12,0)
Class II - slight limitation of physical activity by fatigue, dyspnea, 
"^DD",130,130,207,21,13,0)
      or angina. The patient gets unusual fatigue, dyspnea, and/or
"^DD",130,130,207,21,14,0)
      angina only upon performing more strenuous activities, such as
"^DD",130,130,207,21,15,0)
      climbing two or more flights of stairs without stopping.
"^DD",130,130,207,21,16,0)
Class III - marked limitation of physical activity by fatigue, dyspnea, 
"^DD",130,130,207,21,17,0)
      or angina. The patient gets unusual fatigue, dyspnea, and/or
"^DD",130,130,207,21,18,0)
      angina upon performing ordinary activities, such as walking 
"^DD",130,130,207,21,19,0)
      several blocks or climbing a flight of stairs.
"^DD",130,130,207,21,20,0)
Class IV - symptoms at rest and/or inability to carry out any 
"^DD",130,130,207,21,21,0)
      physical activity without symptoms of fatigue, dyspnea or angina.
"^DD",130,130,207,21,22,0)
      The patient has symptoms of unusual fatigue, dyspnea, and/or 
"^DD",130,130,207,21,23,0)
      angina at rest or when performing minimal activity, such as 
"^DD",130,130,207,21,24,0)
      walking across the room.
"^DD",130,130,207,21,25,0)
Unknown - Unknown
"^DD",130,130,207,"DT")
3140116
"^DD",130,130,208,0)
*HYPERTENSION REQUIRING MEDS^S^Y:YES;N:NO;NS:NO STUDY;^200;36^Q
"^DD",130,130,208,.1)
*Hypertension Requiring Medication (Y/N)
"^DD",130,130,208,3)
Enter 'YES' if the patient has a history of hypertension requiring medications.
"^DD",130,130,208,21,0)
^^8^8^3040317^
"^DD",130,130,208,21,1,0)
Definition Revised (2004):
"^DD",130,130,208,21,2,0)
The patient has a persistent elevation of systolic blood pressure >140
"^DD",130,130,208,21,3,0)
mm Hg or a diastolic blood pressure >90 mm Hg or requires an 
"^DD",130,130,208,21,4,0)
antihypertensive treatment (e.g., diuretics, beta blockers, ACE 
"^DD",130,130,208,21,5,0)
inhibitors, calcium channel blockers) at the time the patient is being 
"^DD",130,130,208,21,6,0)
considered as a candidate for surgery which should be no longer than 30
"^DD",130,130,208,21,7,0)
days prior to surgery. Hypertension must be documented in the patient's
"^DD",130,130,208,21,8,0)
chart. 
"^DD",130,130,208,23,0)
^^1^1^3140522^
"^DD",130,130,208,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,208,"DT")
3140116
"^DD",130,130,216,0)
BLEEDING DISORDERS^*S^Y:YES;N:NO;NS:NO STUDY;^200;49^Q
"^DD",130,130,216,.1)
Bleeding (Coagulation) Disorder
"^DD",130,130,216,3)
Enter YES if the patient has a history of a bleeding disorder.
"^DD",130,130,216,12)
Screen prevents selection of retired code.
"^DD",130,130,216,12.1)
S DIC("S")="I Y'=""NS"""
"^DD",130,130,216,21,0)
^^6^6^3140214^^
"^DD",130,130,216,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,216,21,2,0)
Bleeding (coagulation) disorder is a condition that places the patient 
"^DD",130,130,216,21,3,0)
at risk for excessive bleeding due to a deficiency of blood clotting
"^DD",130,130,216,21,4,0)
elements (e.g., vitamin K deficiency, hemophilia, von Willebrand 
"^DD",130,130,216,21,5,0)
disease).  Answer YES if the patient has a documented bleeding 
"^DD",130,130,216,21,6,0)
(coagulation) disorder that is either chronic or acute.
"^DD",130,130,216,"DT")
3140214
"^DD",130,130,218.1,0)
PREOPERATIVE SEPSIS^*S^Y:YES;N:NONE;1:SIRS;2:SEPSIS;3:SEPTIC SHOCK;NS:NO STUDY;^206;8^Q
"^DD",130,130,218.1,.1)
Preoperative Sepsis in the 48 Hours Prior to Surgery
"^DD",130,130,218.1,3)
Enter the patient's septic status in the 48 hours prior to surgery.
"^DD",130,130,218.1,12)
Screen prevents selection of retired codes.
"^DD",130,130,218.1,12.1)
S DIC("S")="I ""N23""[Y"
"^DD",130,130,218.1,21,0)
^^44^44^3140109^
"^DD",130,130,218.1,21,1,0)
Definition Revised (2014):
"^DD",130,130,218.1,21,2,0)
2.  Sepsis is the systematic response to infection.
"^DD",130,130,218.1,21,3,0)
    Answer YES if both of the following criteria are met:
"^DD",130,130,218.1,21,4,0)
    a) Clinical documentation of infection (such as wound with 
"^DD",130,130,218.1,21,5,0)
       purulent drainage, ruptured bowel with free air, etc.); or a
"^DD",130,130,218.1,21,6,0)
       positive culture from any site thought to be causative; or
"^DD",130,130,218.1,21,7,0)
       specialized laboratory evidence of causative infection (such 
"^DD",130,130,218.1,21,8,0)
       as viral DNA in blood).
"^DD",130,130,218.1,21,9,0)
       AND
"^DD",130,130,218.1,21,10,0)
    b) The presence of two or more of the following systemic responses:
"^DD",130,130,218.1,21,11,0)
       - Temperature > 38 degrees C or < 36 degrees C
"^DD",130,130,218.1,21,12,0)
       - HR > 90 beats/minute
"^DD",130,130,218.1,21,13,0)
       - RR > 20 breaths /minute or PaCO2  < 32 mmHg 
"^DD",130,130,218.1,21,14,0)
       - WBC > 12,000 cell/mm3, < 4,000cells/mm3, or > 10% immature 
"^DD",130,130,218.1,21,15,0)
         neutrophils ("bands")     
"^DD",130,130,218.1,21,16,0)
 
"^DD",130,130,218.1,21,17,0)
3.  Severe Sepsis/Septic Shock:  Sepsis is considered severe when it 
"^DD",130,130,218.1,21,18,0)
    is associated with organ and/or circulatory dysfunction.  
"^DD",130,130,218.1,21,19,0)
    Terminology such as Severe Sepsis/Septic Shock/Refractory Septic 
"^DD",130,130,218.1,21,20,0)
    Shock and Multiple Organ Dysfunction Syndrome (MODS) all fall 
"^DD",130,130,218.1,21,21,0)
    into this category.
"^DD",130,130,218.1,21,22,0)
 
"^DD",130,130,218.1,21,23,0)
    Answer YES if the definition of SEPSIS is present AND there is
"^DD",130,130,218.1,21,24,0)
    documented organ and/or circulatory dysfunction defined by one or
"^DD",130,130,218.1,21,25,0)
    more of the following:
"^DD",130,130,218.1,21,26,0)
    - Areas of acutely mottled skin not related to peripheral vascular 
"^DD",130,130,218.1,21,27,0)
      disease
"^DD",130,130,218.1,21,28,0)
    - Capillary refilling requires three seconds or longer not
"^DD",130,130,218.1,21,29,0)
      related to peripheral vascular disease
"^DD",130,130,218.1,21,30,0)
    - Urine output <0.5 mL/kg for at least one hour, or renal 
"^DD",130,130,218.1,21,31,0)
      replacement therapy 
"^DD",130,130,218.1,21,32,0)
    - Lactate >2 mmol/L 
"^DD",130,130,218.1,21,33,0)
    - Abrupt change in mental status
"^DD",130,130,218.1,21,34,0)
    - Abnormal EEG findings
"^DD",130,130,218.1,21,35,0)
    - Platelet count < 100,000 platelets/mL
"^DD",130,130,218.1,21,36,0)
    - Disseminated intravascular coagulation (DIC)
"^DD",130,130,218.1,21,37,0)
    - Acute lung injury or acute respiratory distress syndrome (ARDS)
"^DD",130,130,218.1,21,38,0)
    - New cardiac dysfunction as defined by ECHO or direct measurement 
"^DD",130,130,218.1,21,39,0)
      of the cardiac index
"^DD",130,130,218.1,21,40,0)
    - An arterial systolic blood pressure (SBP) of <=90 mm Hg or a mean 
"^DD",130,130,218.1,21,41,0)
      arterial pressure (MAP) <=70 mm Hg for at least 1 hour despite
"^DD",130,130,218.1,21,42,0)
      adequate fluid resuscitation, adequate intravascular volume 
"^DD",130,130,218.1,21,43,0)
      status, or the need for vasopressors to maintain SBP >= 90 mm 
"^DD",130,130,218.1,21,44,0)
      Hg or MAP >=70 mm Hg.
"^DD",130,130,218.1,"DT")
3140109
"^DD",130,130,220,0)
*PREVIOUS PCI^S^Y:YES;N:NO;NS:NO STUDY;^200;32^Q
"^DD",130,130,220,.1)
*Previous PCI (Y/N)
"^DD",130,130,220,3)
Enter 'Y' if this patient has undergone a percutaneous coronary intervention (PCI).
"^DD",130,130,220,21,0)
^^5^5^3070305^
"^DD",130,130,220,21,1,0)
Definition Revised (2007):
"^DD",130,130,220,21,2,0)
The patient has undergone or has had an attempt at percutaneous 
"^DD",130,130,220,21,3,0)
coronary intervention at any time. This includes either balloon
"^DD",130,130,220,21,4,0)
dilatation or stent placement. This does not include valvuloplasty
"^DD",130,130,220,21,5,0)
procedures. 
"^DD",130,130,220,23,0)
^^1^1^3140522^
"^DD",130,130,220,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,220,"DT")
3140115
"^DD",130,130,237.1,0)
PREOPERATIVE SLEEP APNEA^SO^1:NONE - LEVEL 1;2:SUSPICION OF SLEEP APNEA - LEVEL 2;3:SLEEP APNEA CONFIRMED - LEVEL 3;^200.1;8^Q
"^DD",130,130,237.1,.1)
Preoperative Sleep Apnea
"^DD",130,130,237.1,2)
S Y(0)=Y S Y=$S(Y=1:"LEVEL 1",Y=2:"LEVEL 2",Y=3:"LEVEL 3",1:"")
"^DD",130,130,237.1,2.1)
S Y=$S(Y=1:"LEVEL 1",Y=2:"LEVEL 2",Y=3:"LEVEL 3",1:"")
"^DD",130,130,237.1,3)
Identify whether the Patient has sleep apnea preoperatively.
"^DD",130,130,237.1,21,0)
^^27^27^3140117^
"^DD",130,130,237.1,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,237.1,21,2,0)
Sleep Apnea is a disorder of respiration whereby the individual has 
"^DD",130,130,237.1,21,3,0)
hypoxic and/or apneic periods during sleep due to prolapse or 
"^DD",130,130,237.1,21,4,0)
flaccidity of oropharyngeal structures, which improves with positive
"^DD",130,130,237.1,21,5,0)
airway pressure (i.e., CPAP or BIPAP). Select one of the following
"^DD",130,130,237.1,21,6,0)
categories that best indicates the patient's level of sleep apnea.
"^DD",130,130,237.1,21,7,0)
 
"^DD",130,130,237.1,21,8,0)
Level 1 = None: No diagnosis or suspicion of Sleep Apnea 
"^DD",130,130,237.1,21,9,0)
Level 2 = Suspicion of Sleep Apnea: No sleep study has been done, 
"^DD",130,130,237.1,21,10,0)
          however the patient has TWO or MORE of the following risk
"^DD",130,130,237.1,21,11,0)
          factors for Sleep Apnea:
"^DD",130,130,237.1,21,12,0)
          a) Obesity (BMI > 35) 
"^DD",130,130,237.1,21,13,0)
          b) Thick neck (men > 17 inches, women > 16 inches) 
"^DD",130,130,237.1,21,14,0)
          c) Snoring, loud or frequent 
"^DD",130,130,237.1,21,15,0)
          d) Observed apneas (partner/roommate reported observing
"^DD",130,130,237.1,21,16,0)
             obstruction episodes during sleep)
"^DD",130,130,237.1,21,17,0)
          e) Frequent arousals from sleep or choking during sleep 
"^DD",130,130,237.1,21,18,0)
          f) Daytime somnolence
"^DD",130,130,237.1,21,19,0)
          g) Patient reports diagnosis of sleep apnea even if sleep 
"^DD",130,130,237.1,21,20,0)
             study results are not in the medical record 
"^DD",130,130,237.1,21,21,0)
Level 3 = Sleep Apnea: Sleep apnea confirmed by Sleep Study OR 
"^DD",130,130,237.1,21,22,0)
          patient currently uses CPAP/BIPAP at home.
"^DD",130,130,237.1,21,23,0)
 
"^DD",130,130,237.1,21,24,0)
Answer Options:  
"^DD",130,130,237.1,21,25,0)
 - None 
"^DD",130,130,237.1,21,26,0)
 - Suspicion of Sleep Apnea
"^DD",130,130,237.1,21,27,0)
 - Sleep Apnea Confirmed
"^DD",130,130,237.1,"DT")
3140117
"^DD",130,130,258,0)
MYOCARDIAL INFARCTION^*S^Y:YES;N:NO;NS:NO STUDY;^205;27^Q
"^DD",130,130,258,.1)
Myocardial Infarction (Y/N)
"^DD",130,130,258,3)
Enter YES if the patient has had a myocardial infarction.
"^DD",130,130,258,12)
Screen prevents selection of retired code.
"^DD",130,130,258,12.1)
S DIC("S")="I Y'=""NS"""
"^DD",130,130,258,21,0)
^^53^53^3140109^
"^DD",130,130,258,21,1,0)
VASQIP Definition (2014): 
"^DD",130,130,258,21,2,0)
Indicate the presence of a peri-operative MI that occurs either 
"^DD",130,130,258,21,3,0)
intraoperatively or postoperatively within 30 days:   The term acute 
"^DD",130,130,258,21,4,0)
MI should be used when there is evidence of myocardial necrosis in a
"^DD",130,130,258,21,5,0)
clinical setting consistent with acute myocardial ischemia. Under 
"^DD",130,130,258,21,6,0)
these conditions any ONE of the following criteria meets the diagnosis 
"^DD",130,130,258,21,7,0)
for MI:
"^DD",130,130,258,21,8,0)
 
"^DD",130,130,258,21,9,0)
1. Detection of a rise and/or fall of cardiac biomarker values 
"^DD",130,130,258,21,10,0)
   [preferably cardiac troponin (cTn)] with at least one value above 
"^DD",130,130,258,21,11,0)
   the 99th percentile Upper Reference Limit (URL) AND at least one 
"^DD",130,130,258,21,12,0)
   of the following:
"^DD",130,130,258,21,13,0)
   a. Symptoms suggestive of myocardial ischemia
"^DD",130,130,258,21,14,0)
   b. New or presumed new significant ST-segment-T wave (ST-T) changes 
"^DD",130,130,258,21,15,0)
   c. New left bundle branch block (LBBB).
"^DD",130,130,258,21,16,0)
   d. Development of pathological Q waves in the ECG
"^DD",130,130,258,21,17,0)
   e. Imaging evidence of new loss of viable myocardium 
"^DD",130,130,258,21,18,0)
   f. New regional wall motion abnormality
"^DD",130,130,258,21,19,0)
   g. Identification of an intracoronary thrombus by angiography or
"^DD",130,130,258,21,20,0)
      autopsy 
"^DD",130,130,258,21,21,0)
2. Cardiac death with symptoms suggestive of myocardial ischemia and
"^DD",130,130,258,21,22,0)
   presumed new ischemic ECG changes or new LBBB, but death occurred
"^DD",130,130,258,21,23,0)
   before cardiac biomarkers were obtained, or before cardiac 
"^DD",130,130,258,21,24,0)
   biomarker values would be increased.
"^DD",130,130,258,21,25,0)
 
"^DD",130,130,258,21,26,0)
3. Percutaneous coronary intervention (PCI) related MI is arbitrarily 
"^DD",130,130,258,21,27,0)
   defined by elevation of cTn values (>5x 99th percentile URL) in
"^DD",130,130,258,21,28,0)
   patients with normal baseline values (<99th percentile URL) or a 
"^DD",130,130,258,21,29,0)
   rise of cTn values >20% if the baseline values are elevated and 
"^DD",130,130,258,21,30,0)
   are stable or falling,
"^DD",130,130,258,21,31,0)
   AND at least one of the following:
"^DD",130,130,258,21,32,0)
   a. Symptoms suggestive of myocardial ischemia
"^DD",130,130,258,21,33,0)
   b. Presumed new ischemic ECG changes 
"^DD",130,130,258,21,34,0)
   c. Angiographic findings consistent with a procedural complication 
"^DD",130,130,258,21,35,0)
   d. Imaging evidence of new loss of viable myocardium 
"^DD",130,130,258,21,36,0)
   e. New regional wall motion abnormality 
"^DD",130,130,258,21,37,0)
 
"^DD",130,130,258,21,38,0)
4. Stent thrombosis associated with MI when detected by coronary 
"^DD",130,130,258,21,39,0)
   angiography or autopsy in the setting of myocardial ischemia and 
"^DD",130,130,258,21,40,0)
   with a rise and/or fall of cardiac biomarker values with at least 
"^DD",130,130,258,21,41,0)
   one value above the 99th percentile URL.
"^DD",130,130,258,21,42,0)
 
"^DD",130,130,258,21,43,0)
5. Coronary artery bypass grafting (CABG) related MI is arbitrarily 
"^DD",130,130,258,21,44,0)
   defined by elevation of cardiac biomarker values (>10x 99th 
"^DD",130,130,258,21,45,0)
   percentile URL) in patients with normal baseline cTn values 
"^DD",130,130,258,21,46,0)
   (<99th percentile URL),
"^DD",130,130,258,21,47,0)
   AND at least one of the following
"^DD",130,130,258,21,48,0)
   a. Development of pathological Q waves in the ECG
"^DD",130,130,258,21,49,0)
   b. New LBBB 
"^DD",130,130,258,21,50,0)
   c. Angiographic documented new graft or new native coronary 
"^DD",130,130,258,21,51,0)
      artery occlusion
"^DD",130,130,258,21,52,0)
   d. Imaging evidence of new loss of viable myocardium 
"^DD",130,130,258,21,53,0)
   e. New regional wall motion abnormality
"^DD",130,130,258,"DT")
3140109
"^DD",130,130,263,0)
DVT/THROMBOPHLEBITIS^S^Y:YES;N:NO;NS:NO STUDY;^205;34^Q
"^DD",130,130,263,.1)
Deep Vein Thrombosis (DVT)/Thrombophlebitis (Y/N)
"^DD",130,130,263,3)
Enter YES if the patient has postoperative DVT/Thrombophlebitis.
"^DD",130,130,263,21,0)
^^9^9^3140107^
"^DD",130,130,263,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,263,21,2,0)
The identification of a new blood clot or thrombus within the deep 
"^DD",130,130,263,21,3,0)
venous system of an extremity, which may be coupled with inflammation.  
"^DD",130,130,263,21,4,0)
This does not include intra-parenchymal clots of solid organs or free
"^DD",130,130,263,21,5,0)
intra-peritoneal clots. This diagnosis is confirmed by a duplex, 
"^DD",130,130,263,21,6,0)
venogram, CT scan or other imaging modality.  The patient must be 
"^DD",130,130,263,21,7,0)
treated with or have documented recommendation for: therapeutic
"^DD",130,130,263,21,8,0)
anti-coagulation therapy OR placement of a vena cava filter OR 
"^DD",130,130,263,21,9,0)
clipping of the vena cava.
"^DD",130,130,263,"DT")
3140107
"^DD",130,130,265,0)
PERIPHERAL ARTERIAL DISEASE^S^Y:YES;N:NO;1:NO;2:YES-W/O ANGI,REVASC,or AMPUT;3:YES-W HX ANGI,REVASC,or AMPUT;4:UNKNOWN;^206;16^Q
"^DD",130,130,265,.1)
Peripheral Arterial Disease 
"^DD",130,130,265,3)
Select appropriate response from 1 to 4.
"^DD",130,130,265,12)
Screen prevents selection of inactive entries.
"^DD",130,130,265,12.1)
S DIC("S")="I Y"
"^DD",130,130,265,21,0)
^^15^15^3140214^
"^DD",130,130,265,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,265,21,2,0)
Indicate if the patient has peripheral arterial disease (previously 
"^DD",130,130,265,21,3,0)
"peripheral vascular disease"), defined as disease of the arteries to 
"^DD",130,130,265,21,4,0)
legs below bifurcation of aorta manifested by at least one of the 
"^DD",130,130,265,21,5,0)
following: exertional claudication, ischemic rest pain, prior 
"^DD",130,130,265,21,6,0)
revascularization procedure(s) on vessels to legs, absent or diminished 
"^DD",130,130,265,21,7,0)
pulses in legs, or angiographic evidence of non-iatrogenic peripheral 
"^DD",130,130,265,21,8,0)
arterial obstruction greater than or equal to 50% of luminal diameter. 
"^DD",130,130,265,21,9,0)
Indicate the one appropriate response:
"^DD",130,130,265,21,10,0)
1. No
"^DD",130,130,265,21,11,0)
2. YES, WITHOUT ANGIOPLASTY, REVASCULARIZATION, OR AMPUTATION 
"^DD",130,130,265,21,12,0)
   PROCEDURE
"^DD",130,130,265,21,13,0)
3. YES, WITH ANY HISTORY OF ANGIOPLASTY, OR REVASCULARIZATION, OR 
"^DD",130,130,265,21,14,0)
   AMPUTATION PROCEDURE, REGARDLESS OF LATERALITY
"^DD",130,130,265,21,15,0)
4. UNKNOWN 
"^DD",130,130,265,"DT")
3140523
"^DD",130,130,266,0)
*PREVIOUS CARDIAC SURGERY^S^Y:YES;N:NO;NS:NO STUDY;^200;33^Q
"^DD",130,130,266,.1)
*Previous Cardiac Surgery (Y/N)
"^DD",130,130,266,3)
Enter 'YES' if this patient has had a previous cardiac surgery.
"^DD",130,130,266,21,0)
^^8^8^3060117^
"^DD",130,130,266,21,1,0)
Definition Revised (2006):
"^DD",130,130,266,21,2,0)
Any major cardiac surgical procedure (performed either as an 'off-pump'
"^DD",130,130,266,21,3,0)
repair or utilizing cardiopulmonary bypass). This includes coronary
"^DD",130,130,266,21,4,0)
artery bypass graft surgery, valve replacement or repair, repair of
"^DD",130,130,266,21,5,0)
atrial or ventricular septal defects, great thoracic vessel repair,
"^DD",130,130,266,21,6,0)
cardiac transplant, left ventricular aneurysmectomy, insertion of left
"^DD",130,130,266,21,7,0)
ventricular assist devices, etc. Do not include pacemaker insertions or
"^DD",130,130,266,21,8,0)
automatic implantable cardioverter-defibrillator (AICD) insertions.
"^DD",130,130,266,23,0)
^^1^1^3140522^
"^DD",130,130,266,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,266,"DT")
3140108
"^DD",130,130,267,0)
ANGINA SEVERITY^S^N:NONE;I:CLASS I;II:CLASS II;III:CLASS III;IV:CLASS IV;U:UNKNOWN^206;18^Q
"^DD",130,130,267,.1)
Angina Severity
"^DD",130,130,267,1,0)
^.1^^0
"^DD",130,130,267,3)
Enter the CCS classification associated with the severity of angina in the 14 days preceding surgery.
"^DD",130,130,267,21,0)
^^28^28^3140214^
"^DD",130,130,267,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,267,21,2,0)
Indicate whether the patient has angina, defined as pain or discomfort 
"^DD",130,130,267,21,3,0)
between the diaphragm and mandible resulting from myocardial ischemia, 
"^DD",130,130,267,21,4,0)
usually precipitated by exertion or emotion and relieved by rest or 
"^DD",130,130,267,21,5,0)
nitroglycerin. The Canadian Cardiovascular Society (CCS) 
"^DD",130,130,267,21,6,0)
classification is used to record severity of angina. Indicate the 
"^DD",130,130,267,21,7,0)
one appropriate response, according to the most severe angina in the 
"^DD",130,130,267,21,8,0)
30 days prior to surgery:
"^DD",130,130,267,21,9,0)
 
"^DD",130,130,267,21,10,0)
None - No angina
"^DD",130,130,267,21,11,0)
Class I - Ordinary physical activity, such as walking or climbing 
"^DD",130,130,267,21,12,0)
          stairs does not cause angina. Angina may occur with 
"^DD",130,130,267,21,13,0)
          strenuous or rapid or prolonged exertion at work or 
"^DD",130,130,267,21,14,0)
          recreation.
"^DD",130,130,267,21,15,0)
Class II - There is slight limitation of ordinary activity. 
"^DD",130,130,267,21,16,0)
          Angina may occur with walking or climbing stairs rapidly,
"^DD",130,130,267,21,17,0)
          walking uphill, walking or stair climbing after meals or 
"^DD",130,130,267,21,18,0)
          in the cold, in the wind, or under emotional stress, or 
"^DD",130,130,267,21,19,0)
          walking more than two blocks on the level, or climbing more 
"^DD",130,130,267,21,20,0)
          than one flight of stairs under normal conditions at a 
"^DD",130,130,267,21,21,0)
          normal pace.
"^DD",130,130,267,21,22,0)
Class III - There is marked limitation of ordinary physical activity.
"^DD",130,130,267,21,23,0)
          Angina may occur after walking one or two blocks on the 
"^DD",130,130,267,21,24,0)
          level or climbing one flight of stairs under normal 
"^DD",130,130,267,21,25,0)
          conditions at a normal pace.
"^DD",130,130,267,21,26,0)
Class IV - There is inability to carry on any physical activity 
"^DD",130,130,267,21,27,0)
          without discomfort. Angina may be present at rest.         
"^DD",130,130,267,21,28,0)
Unknown - Unknown
"^DD",130,130,267,"DT")
3140214
"^DD",130,130,329,0)
*REVASCULARIZATION/AMPUTATION^S^Y:YES;N:NO;NS:NO STUDY;^200;41^Q
"^DD",130,130,329,.1)
*History of Revascularization/Amputation for PVD (Y/N)
"^DD",130,130,329,3)
Enter 'YES' if the patient has a history of revascularization/amputation for PVD.
"^DD",130,130,329,21,0)
^^8^8^3040316^
"^DD",130,130,329,21,1,0)
Definition Revised (2004):
"^DD",130,130,329,21,2,0)
Any type of angioplasty or revascularization procedure for 
"^DD",130,130,329,21,3,0)
atherosclerotic peripheral vascular disease (PVD) (e.g., aorto-femoral,
"^DD",130,130,329,21,4,0)
femoral-femoral, femoral-popliteal) or a patient who has had any type
"^DD",130,130,329,21,5,0)
of amputation procedure for PVD (e.g., toe amputations, transmetatarsal
"^DD",130,130,329,21,6,0)
amputations, below the knee or above the knee amputations). Patients
"^DD",130,130,329,21,7,0)
who have had amputation for trauma or a resection of abdominal aortic
"^DD",130,130,329,21,8,0)
aneurysms should not be included.
"^DD",130,130,329,23,0)
^^1^1^3140522^
"^DD",130,130,329,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,329,"DT")
3140124
"^DD",130,130,340,0)
INTRAOP RBC UNITS TRANSFUSED^FX^^200;54^N SRX S SRX=X K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X S:SRX="NS"!(SRX="ns") X="NS"
"^DD",130,130,340,.1)
Number of RBC Units Given Intraoperatively
"^DD",130,130,340,3)
Enter the number of red blood cells transfused.  Your answer should be from 0 to 99.
"^DD",130,130,340,21,0)
^^10^10^3140107^
"^DD",130,130,340,21,1,0)
Definition Revised (2014):
"^DD",130,130,340,21,2,0)
Indicate the number of packed or whole red blood cells given during the
"^DD",130,130,340,21,3,0)
operative procedure as it appears on the anesthesia record. The amount
"^DD",130,130,340,21,4,0)
of blood reinfused from the cell saver should also be noted here. The 
"^DD",130,130,340,21,5,0)
algorithm for cell saver volume to RBC unit determination is:
"^DD",130,130,340,21,6,0)
  
"^DD",130,130,340,21,7,0)
  0 units - 0-124 cc's
"^DD",130,130,340,21,8,0)
  1 unit  - 125 - 375 cc's  
"^DD",130,130,340,21,9,0)
  2 units - 376 - 625 cc's
"^DD",130,130,340,21,10,0)
  3 units - 626 - 875 cc's
"^DD",130,130,340,"DT")
3140107
"^DD",130,130,351,0)
*PCI^*S^1:NONE RECENT;2:12-72 HOURS PRIOR TO SURGERY;0:NONE;3:<12 hrs;12:12 - 72 hrs;72:>72 hrs - 7 days;7:>7 days;^206;13^Q
"^DD",130,130,351,3)
Enter the category that most accurately reflects the patient's Percutaneous Coronary Intervention.
"^DD",130,130,351,12)
Screen prevents selection of 
"^DD",130,130,351,12.1)
S DIC("S")="I ""1,2""'[Y"
"^DD",130,130,351,21,0)
^^8^8^3040311^
"^DD",130,130,351,21,1,0)
Definition Revised (2004):
"^DD",130,130,351,21,2,0)
Indicate whether/when the patient had a percutaneous coronary 
"^DD",130,130,351,21,3,0)
intervention (PCI) prior to surgery. Previously, this data field was
"^DD",130,130,351,21,4,0)
listed as a percutaneous transluminal coronary angiography (PTCA) 
"^DD",130,130,351,21,5,0)
[e.g., balloon angioplasty, directional coronary atherectomy (DCA),
"^DD",130,130,351,21,6,0)
transluminal extraction catheter (TEC), stent, rotoblader, etc.] 
"^DD",130,130,351,21,7,0)
Indicate the one appropriate response, even if the procedure was not
"^DD",130,130,351,21,8,0)
fully successful.
"^DD",130,130,351,23,0)
^^1^1^3140522^
"^DD",130,130,351,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,351,"DT")
3140115
"^DD",130,130,365,0)
*NUMBER WITH VEIN^NJ2,0^^207;1^K:+X'=X!(X>10)!(X<0)!(X?.E1"."1N.N) X
"^DD",130,130,365,.1)
*CABG Distal Anastomoses with Vein
"^DD",130,130,365,3)
Enter the number of CABG distal anastomoses to native coronary arteries with vein.
"^DD",130,130,365,21,0)
^^5^5^2910924^^^^
"^DD",130,130,365,21,1,0)
This is the number of coronary artery bypass graft (CABG) anastomoses
"^DD",130,130,365,21,2,0)
to native coronary arteries with vein regardless of whether other
"^DD",130,130,365,21,3,0)
procedures were performed.  Do not leave this information blank.
"^DD",130,130,365,21,4,0)
If no coronary artery bypass grafts were performed, enter '0'.
"^DD",130,130,365,21,5,0)
 
"^DD",130,130,365,23,0)
^^1^1^3140522^
"^DD",130,130,365,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,365,"DT")
2910805
"^DD",130,130,366,0)
*NUMBER WITH IMA^NJ2,0^^207;2^K:+X'=X!(X>10)!(X<0)!(X?.E1"."1N.N) X
"^DD",130,130,366,.1)
*CABG Distal Anastomoses with IMA
"^DD",130,130,366,3)
Enter the number of CABG distal anastomoses to native coronary arteries with IMA.
"^DD",130,130,366,21,0)
^^6^6^2910924^^
"^DD",130,130,366,21,1,0)
This is the number of coronary artery bypass graft (CABG) 
"^DD",130,130,366,21,2,0)
anastomoses to native coronary arteries with internal mammary
"^DD",130,130,366,21,3,0)
arteries (IMA) regardless of whether other procedures were
"^DD",130,130,366,21,4,0)
performed.  Do not leave this field blank.  If no coronary artery
"^DD",130,130,366,21,5,0)
bypass grafts were performed, enter '0'.
"^DD",130,130,366,21,6,0)
 
"^DD",130,130,366,23,0)
^^1^1^3140522^
"^DD",130,130,366,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,366,"DT")
2910805
"^DD",130,130,367,0)
*AORTIC VALVE PROCEDURE^*S^Y:YES;N:NONE;M:MECHANICAL;S:STENTED BIOPROSTHETIC;B:STENTLESS BIOPROSTHETIC;H:HOMOGRAFT;PR:PRIMARY REPAIR;PA:PRIMARY REPAIR & ANNULOPLASTY DEVICE;AN:ANNULOPLASTY DEVICE ALONE;AU:AUTOGRAFT (ROSS);O:OTHER;^207;3^Q
"^DD",130,130,367,.1)
*Aortic Valve Procedure
"^DD",130,130,367,3)
Enter the appropriate aortic valve procedure performed on this patient.
"^DD",130,130,367,12)
Screen prevents selection of inactive code.
"^DD",130,130,367,12.1)
S DIC("S")="I ""Y""'[Y"
"^DD",130,130,367,21,0)
^^19^19^3100614^
"^DD",130,130,367,21,1,0)
VASQIP Definition (2010):
"^DD",130,130,367,21,2,0)
Indicate if the patient had an aortic valve replacement (either the 
"^DD",130,130,367,21,3,0)
native or a prosthetic valve) or a repair (on the native valve to 
"^DD",130,130,367,21,4,0)
relieve stenosis and/or correct regurgitation -annuloplasty,
"^DD",130,130,367,21,5,0)
commissurotomy, etc.); performed with or without additional
"^DD",130,130,367,21,6,0)
procedure(s); either with or without placing the patient on
"^DD",130,130,367,21,7,0)
cardiopulmonary bypass. (If a repair was attempted, but a replacement
"^DD",130,130,367,21,8,0)
occurred, indicate the details of the replacement valve.) Indicate 
"^DD",130,130,367,21,9,0)
the one most appropriate procedure:
"^DD",130,130,367,21,10,0)
  * None
"^DD",130,130,367,21,11,0)
  * Mechanical Valve            
"^DD",130,130,367,21,12,0)
  * Stented Bioprosthetic Valve   
"^DD",130,130,367,21,13,0)
  * Stentless Bioprosthetic Valve   
"^DD",130,130,367,21,14,0)
  * Homograft
"^DD",130,130,367,21,15,0)
  * Primary Valve Repair
"^DD",130,130,367,21,16,0)
  * Primary Valve Repair and Annuloplasty Device
"^DD",130,130,367,21,17,0)
  * Annuloplasty Device alone
"^DD",130,130,367,21,18,0)
  * Autograft Procedure (Ross Procedure)  
"^DD",130,130,367,21,19,0)
  * Other
"^DD",130,130,367,23,0)
^^1^1^3140522^
"^DD",130,130,367,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,367,"DT")
3100614
"^DD",130,130,368,0)
*MITRAL VALVE PROCEDURE^*S^Y:YES;N:NONE;M:MECHANICAL;S:STENTED BIOPROSTHETIC;B:STENTLESS BIOPROSTHETIC;H:HOMOGRAFT;PR:PRIMARY REPAIR;PA:PRIMARY REPAIR & ANNULOPLASTY DEVICE;AN:ANNULOPLASTY DEVICE ALONE;AU:AUTOGRAFT (ROSS);O:OTHER;^207;4^Q
"^DD",130,130,368,.1)
*Mitral Valve Procedure
"^DD",130,130,368,3)
Enter the appropriate mitral valve procedure performed on this patient.
"^DD",130,130,368,12)
Screen prevents selection of inactive code.
"^DD",130,130,368,12.1)
S DIC("S")="I ""Y""'[Y"
"^DD",130,130,368,21,0)
^^19^19^3100614^
"^DD",130,130,368,21,1,0)
VASQIP Definition (2010):
"^DD",130,130,368,21,2,0)
Indicate if the patient had a mitral valve replacement (either the 
"^DD",130,130,368,21,3,0)
native or a prosthetic valve) or a repair (on the native valve to 
"^DD",130,130,368,21,4,0)
relieve stenosis and/or correct regurgitation -annuloplasty, 
"^DD",130,130,368,21,5,0)
commissurotomy, etc.); performed with or without additional 
"^DD",130,130,368,21,6,0)
procedure(s); either with or without placing the patient on 
"^DD",130,130,368,21,7,0)
cardiopulmonary bypass. (If a repair was attempted, but a replacement 
"^DD",130,130,368,21,8,0)
occurred, indicate the details of the replacement valve.) Indicate 
"^DD",130,130,368,21,9,0)
the one most appropriate procedure:
"^DD",130,130,368,21,10,0)
  * None
"^DD",130,130,368,21,11,0)
  * Mechanical Valve            
"^DD",130,130,368,21,12,0)
  * Stented Bioprosthetic Valve   
"^DD",130,130,368,21,13,0)
  * Stentless Bioprosthetic Valve   
"^DD",130,130,368,21,14,0)
  * Homograft
"^DD",130,130,368,21,15,0)
  * Primary Valve Repair
"^DD",130,130,368,21,16,0)
  * Primary Valve Repair and Annuloplasty Device
"^DD",130,130,368,21,17,0)
  * Annuloplasty Device alone
"^DD",130,130,368,21,18,0)
  * Autograft Procedure (Ross Procedure)  
"^DD",130,130,368,21,19,0)
  * Other
"^DD",130,130,368,23,0)
^^1^1^3140522^
"^DD",130,130,368,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,368,"DT")
3100614
"^DD",130,130,369,0)
*TRICUSPID VALVE PROCEDURE^*S^Y:YES;N:NONE;M:MECHANICAL;S:STENTED BIOPROSTHETIC;B:STENTLESS BIOPROSTHETIC;H:HOMOGRAFT;PR:PRIMARY REPAIR;PA:PRIMARY REPAIR & ANNULOPLASTY DEVICE;AN:ANNULOPLASTY DEVICE ALONE;AU:AUTOGRAFT (ROSS);O:OTHER;^207;5^Q
"^DD",130,130,369,.1)
*Tricuspid Valve Procedure
"^DD",130,130,369,3)
Enter the appropriate tricuspid valve procedure performed on this patient.
"^DD",130,130,369,12)
Screen prevents selection of inactive code.
"^DD",130,130,369,12.1)
S DIC("S")="I ""Y""'[Y"
"^DD",130,130,369,21,0)
^^19^19^3100614^
"^DD",130,130,369,21,1,0)
VASQIP Definition (2010):
"^DD",130,130,369,21,2,0)
Indicate if the patient had a tricuspid valve replacement (either the 
"^DD",130,130,369,21,3,0)
native or a prosthetic valve) or a repair (on the native valve to 
"^DD",130,130,369,21,4,0)
relieve stenosis and/or correct regurgitation -annuloplasty, 
"^DD",130,130,369,21,5,0)
commissurotomy, etc.); performed with or without additional 
"^DD",130,130,369,21,6,0)
procedure(s); either with or without placing the patient on 
"^DD",130,130,369,21,7,0)
cardiopulmonary bypass. (If a repair was attempted, but a replacement 
"^DD",130,130,369,21,8,0)
occurred, indicate the details of the replacement valve.) Indicate 
"^DD",130,130,369,21,9,0)
the one most appropriate procedure:
"^DD",130,130,369,21,10,0)
  * None
"^DD",130,130,369,21,11,0)
  * Mechanical Valve            
"^DD",130,130,369,21,12,0)
  * Stented Bioprosthetic Valve   
"^DD",130,130,369,21,13,0)
  * Stentless Bioprosthetic Valve   
"^DD",130,130,369,21,14,0)
  * Homograft
"^DD",130,130,369,21,15,0)
  * Primary Valve Repair
"^DD",130,130,369,21,16,0)
  * Primary Valve Repair and Annuloplasty Device
"^DD",130,130,369,21,17,0)
  * Annuloplasty Device alone
"^DD",130,130,369,21,18,0)
  * Autograft Procedure (Ross Procedure)  
"^DD",130,130,369,21,19,0)
  * Other
"^DD",130,130,369,23,0)
^^1^1^3140522^
"^DD",130,130,369,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,369,"DT")
3100614
"^DD",130,130,371,0)
*LV ANEURYSMECTOMY^S^Y:YES;N:NO;^207;7^Q
"^DD",130,130,371,.1)
*LV Aneurysmectomy (Y/N)
"^DD",130,130,371,3)
Enter 'YES' if the patient had a resection or plication of left ventricular aneurysm with or without additional procedures.
"^DD",130,130,371,21,0)
^^3^3^2910924^^
"^DD",130,130,371,21,1,0)
This determines whether the patient had a resection or plication
"^DD",130,130,371,21,2,0)
of a left ventricular aneurysm with or without additional procedures.
"^DD",130,130,371,21,3,0)
 
"^DD",130,130,371,23,0)
^^1^1^3140522^
"^DD",130,130,371,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,371,"DT")
2910820
"^DD",130,130,372,0)
*GREAT VESSEL REPAIR (Y/N)^S^Y:YES;N:NO;^207;8^Q
"^DD",130,130,372,.1)
*Great Vessel Repair (Y/N)
"^DD",130,130,372,3)
Enter 'YES' if the patient had a primary procedure to repair the aorta or other great vessels.
"^DD",130,130,372,21,0)
^^6^6^3060314^
"^DD",130,130,372,21,1,0)
Definition Revised (2006):
"^DD",130,130,372,21,2,0)
Indicate if patient had a thoracic great vessel open repair of the 
"^DD",130,130,372,21,3,0)
aorta (ascending, transverse, and/or descending) or other great 
"^DD",130,130,372,21,4,0)
vessels, with or without cardiopulmonary bypass, with or without 
"^DD",130,130,372,21,5,0)
aortic valve replacement, CABG, or other procedure but excluding an
"^DD",130,130,372,21,6,0)
endovascular repair of the descending thoracic aorta.
"^DD",130,130,372,23,0)
^^1^1^3140522^
"^DD",130,130,372,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,372,"DT")
3060314
"^DD",130,130,373,0)
*CARDIAC TRANSPLANT^S^Y:YES;N:NO;^207;9^Q
"^DD",130,130,373,.1)
*Cardiac Transplant (Y/N)
"^DD",130,130,373,3)
Enter 'YES' if the patient had a cardiac transplant.
"^DD",130,130,373,21,0)
^^5^5^3060209^
"^DD",130,130,373,21,1,0)
Definition Revised (2006):
"^DD",130,130,373,21,2,0)
Indicate if an orthotopic or heterotopic transplant was performed
"^DD",130,130,373,21,3,0)
at this procedure either with or without placing the patient on
"^DD",130,130,373,21,4,0)
cardiopulmonary bypass.  (YES/NO)  Heart-lung transplant should be
"^DD",130,130,373,21,5,0)
listed under "Other cardiac procedures."
"^DD",130,130,373,23,0)
^^1^1^3140522^
"^DD",130,130,373,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,373,"DT")
3060209
"^DD",130,130,376,0)
*ASD REPAIR^S^Y:YES;N:NO;^207;12^Q
"^DD",130,130,376,.1)
*ASD Repair (Y/N)
"^DD",130,130,376,3)
Enter 'YES' if there was a repair of an atrial septal defect.
"^DD",130,130,376,21,0)
^^3^3^2910924^^
"^DD",130,130,376,21,1,0)
This determines if there was a procedure performed to repair an
"^DD",130,130,376,21,2,0)
atrial septal defect.
"^DD",130,130,376,21,3,0)
 
"^DD",130,130,376,23,0)
^^1^1^3140522^
"^DD",130,130,376,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,376,"DT")
2910820
"^DD",130,130,377,0)
*MYXOMA RESECTION^S^Y:YES;N:NO;^207;14^Q
"^DD",130,130,377,.1)
*Myxoma Resection (Y/N)
"^DD",130,130,377,3)
Enter 'YES' if there was a resection of an atrial myxoma.
"^DD",130,130,377,21,0)
^^2^2^2910924^^
"^DD",130,130,377,21,1,0)
This determines whether a resection of an atrial myxoma was performed.
"^DD",130,130,377,21,2,0)
 
"^DD",130,130,377,23,0)
^^1^1^3140522^
"^DD",130,130,377,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,377,"DT")
2910820
"^DD",130,130,378,0)
*MYECTOMY^S^Y:YES;N:NO;^207;16^Q
"^DD",130,130,378,.1)
*Myectomy (Y/N)
"^DD",130,130,378,3)
Enter 'YES' if the patient had a myectomy.
"^DD",130,130,378,21,0)
^^3^3^3110524^
"^DD",130,130,378,21,1,0)
Definition Revised (2011): Indicate if patient had resection of 
"^DD",130,130,378,21,2,0)
a portion of the interventricular septum, with or without placing 
"^DD",130,130,378,21,3,0)
the patient on cardiopulmonary bypass. (YES/NO)
"^DD",130,130,378,23,0)
^^1^1^3140522^
"^DD",130,130,378,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,378,"DT")
3110524
"^DD",130,130,379,0)
*OTHER TUMOR RESECTION^S^Y:YES;N:NO;^207;18^Q
"^DD",130,130,379,.1)
*Other Tumor Resection (Y/N)
"^DD",130,130,379,3)
Enter 'YES' if the patient had  a resection of any tumor other than atrial myxoma from the heart requiring CPB.
"^DD",130,130,379,21,0)
^^4^4^3040629^
"^DD",130,130,379,21,1,0)
Definition Revised (2004):
"^DD",130,130,379,21,2,0)
Indicate if patient had resection of any tumor other than atrial 
"^DD",130,130,379,21,3,0)
myxoma from the heart either with or without placing the patient on
"^DD",130,130,379,21,4,0)
cardiopulmonary bypass.
"^DD",130,130,379,23,0)
^^1^1^3140522^
"^DD",130,130,379,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,379,"DT")
3040629
"^DD",130,130,380,0)
*VSD REPAIR^S^Y:YES;N:NO;^207;13^Q
"^DD",130,130,380,.1)
*VSD Repair (Y/N)
"^DD",130,130,380,3)
Enter 'YES' if the patient had a procedure to repair a ventricular septal defect (VSD).
"^DD",130,130,380,21,0)
^^3^3^2910924^^
"^DD",130,130,380,21,1,0)
This determines whether the patient had a procedure performed to
"^DD",130,130,380,21,2,0)
repair a ventricular septal defect.
"^DD",130,130,380,21,3,0)
 
"^DD",130,130,380,23,0)
^^1^1^3140522^
"^DD",130,130,380,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,380,"DT")
2910820
"^DD",130,130,381,0)
*FOREIGN BODY REMOVAL^S^Y:YES;N:NO;^207;15^Q
"^DD",130,130,381,.1)
*Foreign Body Removal (Y/N)
"^DD",130,130,381,3)
Enter 'YES' if the patient had a procedure to remove any foreign  body from the heart.
"^DD",130,130,381,21,0)
^^4^4^2910924^^
"^DD",130,130,381,21,1,0)
This determines whether a procedure was performed to remove any
"^DD",130,130,381,21,2,0)
foreign body (e.g. bullet or catheter fragment) from the heart
"^DD",130,130,381,21,3,0)
with the aid of cardiopulmonary bypass.
"^DD",130,130,381,21,4,0)
 
"^DD",130,130,381,23,0)
^^1^1^3140522^
"^DD",130,130,381,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,381,"DT")
2910820
"^DD",130,130,382,0)
*PERICARDIECTOMY^S^Y:YES;N:NO;^207;17^Q
"^DD",130,130,382,.1)
*Pericardiectomy (Y/N)
"^DD",130,130,382,3)
Enter 'YES' if the patient had a pericardiectomy on CPB.
"^DD",130,130,382,21,0)
^^4^4^2910924^^
"^DD",130,130,382,21,1,0)
This determines whether the patient had a resection of the parietal
"^DD",130,130,382,21,2,0)
pericardium with the aid of cardiopulmonary bypass.  (NOTE: most
"^DD",130,130,382,21,3,0)
pericardiectomies are performed without cardiopulmonary bypass)
"^DD",130,130,382,21,4,0)
 
"^DD",130,130,382,23,0)
^^1^1^3140522^
"^DD",130,130,382,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,382,"DT")
2910820
"^DD",130,130,394,0)
*HISTORY OF MI^S^Y:YES;N:NO;NS:NO STUDY;^200;31^Q
"^DD",130,130,394,.1)
*History of MI Within Past 6 Months (Y/N)
"^DD",130,130,394,3)
Enter 'YES' if the patient has a history of MI in the 6 months prior to surgery.
"^DD",130,130,394,21,0)
^^3^3^3040316^
"^DD",130,130,394,21,1,0)
Definition Revised (2004):
"^DD",130,130,394,21,2,0)
The history of a non-Q wave or a Q wave infarct in the six months prior
"^DD",130,130,394,21,3,0)
to surgery as diagnosed in the patient's medical record. 
"^DD",130,130,394,23,0)
^^1^1^3140522^
"^DD",130,130,394,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,394,"DT")
3140207
"^DD",130,130,395,0)
*ANGINA ONE MONTH PRIOR^S^Y:YES;N:NO;NS:NO STUDY;^200;34^Q
"^DD",130,130,395,.1)
*Angina within 30 Days Preceding Surgery (Y/N)
"^DD",130,130,395,3)
Enter 'YES' if the patient has had angina within one month prior to surgery.
"^DD",130,130,395,21,0)
^^11^11^3040316^
"^DD",130,130,395,21,1,0)
Definition Revised (2004):
"^DD",130,130,395,21,2,0)
Pain or discomfort between the diaphragm and the mandible resulting 
"^DD",130,130,395,21,3,0)
from myocardial ischemia. Typically angina is a dull, diffuse 
"^DD",130,130,395,21,4,0)
(fist-sized or larger) substernal chest discomfort precipitated by 
"^DD",130,130,395,21,5,0)
exertion or emotion and relieved by rest or nitroglycerine. Radiation 
"^DD",130,130,395,21,6,0)
to the arms and shoulders often occurs, and occasionally to the neck, 
"^DD",130,130,395,21,7,0)
jaw (mandible, not maxilla), or interscapular region. Documentation in
"^DD",130,130,395,21,8,0)
the chart by the physician should state 'angina' or 'anginal 
"^DD",130,130,395,21,9,0)
equivalent'. For patients on anti-anginal medications, enter 'yes' only
"^DD",130,130,395,21,10,0)
if the patient has had angina at any time within 30 days prior to
"^DD",130,130,395,21,11,0)
surgery.
"^DD",130,130,395,23,0)
^^1^1^3140522^
"^DD",130,130,395,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,395,"DT")
3140122
"^DD",130,130,396,0)
*CHF WITHIN ONE MONTH^S^Y:YES;N:NO;NS:NO STUDY;^200;35^Q
"^DD",130,130,396,.1)
*CHF Within 30 Days Prior to Surgery (Y/N)
"^DD",130,130,396,3)
Enter 'YES' if the patient has had CHF within one month prior to surgery.
"^DD",130,130,396,21,0)
^^18^18^3040316^
"^DD",130,130,396,21,1,0)
Definition Revised (2004):
"^DD",130,130,396,21,2,0)
Congestive Heart Failure is the inability of the heart to pump a 
"^DD",130,130,396,21,3,0)
sufficient quantity of blood to meet the metabolic needs of the body or
"^DD",130,130,396,21,4,0)
can do so only at increased ventricular filling pressure. Only newly
"^DD",130,130,396,21,5,0)
diagnosed CHF within the previous 30 days or a diagnosis of chronic CHF
"^DD",130,130,396,21,6,0)
with new signs or symptoms in the 30 days prior to surgery fulfills
"^DD",130,130,396,21,7,0)
this definition. Common manifestations are:
"^DD",130,130,396,21,8,0)
 
"^DD",130,130,396,21,9,0)
 - Abnormal limitation in exercise tolerance due to dyspnea or fatigue
"^DD",130,130,396,21,10,0)
 - Orthopnea (dyspnea on lying supine)
"^DD",130,130,396,21,11,0)
 - Paroxysmal nocturnal dyspnea (PND-awakening from sleep with dyspnea)
"^DD",130,130,396,21,12,0)
 - Increased jugular venous pressure
"^DD",130,130,396,21,13,0)
 - Pulmonary rales on physical examination
"^DD",130,130,396,21,14,0)
 - Cardiomegaly
"^DD",130,130,396,21,15,0)
 - Pulmonary vascular engorgement
"^DD",130,130,396,21,16,0)
 
"^DD",130,130,396,21,17,0)
Should be noted in the medical record as CHF, congestive heart failure,
"^DD",130,130,396,21,18,0)
or pulmonary edema.  
"^DD",130,130,396,23,0)
^^1^1^3140522^
"^DD",130,130,396,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,396,"DT")
3140116
"^DD",130,130,404,0)
WOUND DISRUPTION^*S^Y:YES;N:NO;NS:NO STUDY;^205;8^Q
"^DD",130,130,404,.1)
Wound Disruption (Y/N)
"^DD",130,130,404,3)
Enter Yes if the patient has postoperative wound disruption.
"^DD",130,130,404,12)
Screen prevents selection of retired code.
"^DD",130,130,404,12.1)
S DIC("S")="I Y'=""NS"""
"^DD",130,130,404,21,0)
^^4^4^3140107^
"^DD",130,130,404,21,1,0)
Definition Revised (2014):
"^DD",130,130,404,21,2,0)
Separation of the skin and musculofascial layers of a surgical wound 
"^DD",130,130,404,21,3,0)
(any surgical site whether primary or secondary, e.g. vein harvest
"^DD",130,130,404,21,4,0)
incision), which may be partial or complete.
"^DD",130,130,404,"DT")
3140107
"^DD",130,130,416,0)
*NUMBER WITH OTHER CONDUIT^NJ1,0^^207;20^K:+X'=X!(X>9)!(X<0)!(X?.E1"."1N.N) X
"^DD",130,130,416,.1)
*CABG Distal Anastomoses with Other Conduit
"^DD",130,130,416,3)
Type a Number between 0 and 9, 0 Decimal Digits
"^DD",130,130,416,21,0)
^^6^6^3040721^
"^DD",130,130,416,21,1,0)
Definition Revised (2004):
"^DD",130,130,416,21,2,0)
This is the number of coronary artery bypass graft (CABG) anastomoses
"^DD",130,130,416,21,3,0)
to native coronary arteries with other conduit(s) regardless of whether
"^DD",130,130,416,21,4,0)
other procedures were performed. Do not leave this information blank.
"^DD",130,130,416,21,5,0)
If no coronary artery bypass grafts with other conduits were performed,
"^DD",130,130,416,21,6,0)
enter '0'.
"^DD",130,130,416,23,0)
^^1^1^3140522^
"^DD",130,130,416,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,416,"DT")
3040721
"^DD",130,130,431,0)
CARDIAC RESOURCE DATA COMMENTS^F^^206.2;1^K:$L(X)>130!($L(X)<1) X
"^DD",130,130,431,3)
Answer must be 1-130 characters in length.
"^DD",130,130,431,21,0)
^^3^3^3140121^
"^DD",130,130,431,21,1,0)
Definition Revised (2014):
"^DD",130,130,431,21,2,0)
Indicate additional comments related to this case prior to
"^DD",130,130,431,21,3,0)
transmission to Denver by the SQN/Data Manager (limit 130 characters).
"^DD",130,130,431,"DT")
3140121
"^DD",130,130,463,0)
*HYPERTENSION^S^Y:YES;N:NO;^206;38^Q
"^DD",130,130,463,.1)
*History of Hypertension (Y/N)
"^DD",130,130,463,3)
Enter YES if there is any indication that the patient has hypertension.
"^DD",130,130,463,21,0)
^^5^5^3040311^
"^DD",130,130,463,21,1,0)
Definition Revised (2004):
"^DD",130,130,463,21,2,0)
Indicate if the patient has a documented history of hypertension with
"^DD",130,130,463,21,3,0)
or without current treatment of antihypertensive medication(s). If a
"^DD",130,130,463,21,4,0)
diuretic agent is prescribed to treat hypertension, indicate Yes for 
"^DD",130,130,463,21,5,0)
both the hypertension and the diuretic questions. (YES/NO).
"^DD",130,130,463,23,0)
^^1^1^3140522^
"^DD",130,130,463,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,463,"DT")
3140116
"^DD",130,130,464,0)
*NUMBER WITH RADIAL ARTERY^NJ2,0^^207;24^K:+X'=X!(X>10)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,464,.1)
*Number with Radial Artery
"^DD",130,130,464,3)
Enter the number of coronary artery bypass graft (CABG) anastomoses to native coronary arteries performed with radial artery(ies).
"^DD",130,130,464,21,0)
^^7^7^3000705^
"^DD",130,130,464,21,1,0)
This is the number of coronary artery bypass graft (CABG) anastomoses
"^DD",130,130,464,21,2,0)
to native coronary arteries with radial artery(ies) regardless of 
"^DD",130,130,464,21,3,0)
whether other procedures were performed. Do not leave blank, enter
"^DD",130,130,464,21,4,0)
"zero" in the appropriate place if no coronary artery bypass grafts
"^DD",130,130,464,21,5,0)
were performed with radial artery.
"^DD",130,130,464,21,6,0)
Note that any CABG distal anastomoses performed without placing the
"^DD",130,130,464,21,7,0)
patient on cardiopulmonary bypass are to be recorded.
"^DD",130,130,464,23,0)
^^1^1^3140522^
"^DD",130,130,464,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,464,"DT")
3000705
"^DD",130,130,465,0)
*NUMBER WITH OTHER ARTERY^NJ2,0^^207;25^K:+X'=X!(X>10)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,465,.1)
*Number with Other Artery
"^DD",130,130,465,3)
Enter the number of coronary artery bypass graft (CABG) anastomoses to native coronary arteries performed with other artery(ies).
"^DD",130,130,465,21,0)
^.001^7^7^3000824^^
"^DD",130,130,465,21,1,0)
This is the number of coronary artery bypass graft (CABG) anastomoses
"^DD",130,130,465,21,2,0)
to native coronary arteries with other artery(ies) regardless of
"^DD",130,130,465,21,3,0)
whether other procedures were performed. Do not leave blank, enter
"^DD",130,130,465,21,4,0)
"zero" in the appropriate place if no coronary artery bypass grafts
"^DD",130,130,465,21,5,0)
were performed with other artery(ies). Note that any CABG distal 
"^DD",130,130,465,21,6,0)
anastomoses performed without placing the patient on cardiopulmonary
"^DD",130,130,465,21,7,0)
bypass are to be recorded.
"^DD",130,130,465,23,0)
^^1^1^3140522^
"^DD",130,130,465,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,465,"DT")
3000824
"^DD",130,130,467,0)
NEW MECHANICAL CIRCULATORY^S^Y:YES;N:NO;^206;40^Q
"^DD",130,130,467,.1)
New Mechanical Circulatory Support
"^DD",130,130,467,3)
Enter NO if new mechanical circulatory support was not necessary perioperatively.
"^DD",130,130,467,21,0)
^.001^4^4^3140108^^^
"^DD",130,130,467,21,1,0)
Definition Revised (2014):
"^DD",130,130,467,21,2,0)
Indicate if the patient left the operating room suite with or required 
"^DD",130,130,467,21,3,0)
post-op placement of a new IABP, ECMO, or VAD for circulatory support 
"^DD",130,130,467,21,4,0)
within 30 days post-operatively. 
"^DD",130,130,467,"DT")
3140107
"^DD",130,130,469,0)
CONVERT FROM OFF PUMP TO CPB^*S^1:NO (began off-pump/ stayed off-pump);2:YES-PLANNED;3:YES-UNPLANNED;4:YES-UNKNOWN IF PLANNED;5:NA (began on-pump/ stayed on-pump);NS:NO STUDY/UNKNOWN;^207;27^Q
"^DD",130,130,469,.1)
Convert from Off Pump to CPB
"^DD",130,130,469,3)
Was this procedure begun as an off-pump procedure, but changed so that CPB was used for any reason, or any length of time?
"^DD",130,130,469,12)
Screen prevents selection of 4-YES-UNKNOWN IF PLANNED entry and prevents selection of 1-NO (began off-pump/ stayed off-pump) if CPB Time >0.
"^DD",130,130,469,12.1)
S DIC("S")="I Y'=4&'(Y=1&($P($G(^SRF(DA,206)),""^"",37)))"
"^DD",130,130,469,21,0)
^^21^21^3131223^
"^DD",130,130,469,21,1,0)
Definition Revised (2004):
"^DD",130,130,469,21,2,0)
Indicate whether patient was converted from off cardiopulmonary bypass
"^DD",130,130,469,21,3,0)
assistance to on cardiopulmonary bypass during the cardiac surgical
"^DD",130,130,469,21,4,0)
procedure. Indicate the one appropriate response:
"^DD",130,130,469,21,5,0)
 
"^DD",130,130,469,21,6,0)
No - There was no conversion that occurred for the off-pump case 
"^DD",130,130,469,21,7,0)
     performed (i.e., the off-pump case remained off-pump throughout 
"^DD",130,130,469,21,8,0)
     the operation).
"^DD",130,130,469,21,9,0)
NA - The procedure was NOT an off-pump case (i.e., procedure began 
"^DD",130,130,469,21,10,0)
     on-pump and remained on- pump throughout the case). [The default
"^DD",130,130,469,21,11,0)
     will be set to N/A.]
"^DD",130,130,469,21,12,0)
Yes, planned - The procedure was begun as an off-pump procedure but 
"^DD",130,130,469,21,13,0)
     changed to on-pump for any length of time; the change was planned 
"^DD",130,130,469,21,14,0)
     due to decision made prior to operation to perform some vessels
"^DD",130,130,469,21,15,0)
     off-pump and some on-pump in order to minimize total CPB time.
"^DD",130,130,469,21,16,0)
Yes, unplanned - The procedure was begun as an off-pump procedure but 
"^DD",130,130,469,21,17,0)
     changed to on-pump for any length of time; the change was 
"^DD",130,130,469,21,18,0)
     unplanned and determined in the operating room due to inability 
"^DD",130,130,469,21,19,0)
     to safely perform revascularization.
"^DD",130,130,469,21,20,0)
NS/Unknown - If documentation is not sufficient to answer, entering 
"^DD",130,130,469,21,21,0)
     "NS" for "No Study/Unknown" is also allowed.
"^DD",130,130,469,"DT")
3131223
"^DD",130,130,472,0)
*CARDIAC SURG PERFORMED NON-VA^S^Y:YES;N:NO;NS:UNKNOWN;^206;41^Q
"^DD",130,130,472,.1)
*Cardiac surgery contracted and performed at a non-VA facility
"^DD",130,130,472,3)
Enter Yes if the surgery was performed at a non-VA facility through a contract arrangement.
"^DD",130,130,472,21,0)
^^17^17^3101130^
"^DD",130,130,472,21,1,0)
Definition Revised (2004):
"^DD",130,130,472,21,2,0)
Indicate whether the patient's cardiac surgery was performed in 
"^DD",130,130,472,21,3,0)
a non-VA facility through a contracted arrangement, even if part of 
"^DD",130,130,472,21,4,0)
the post-surgical care is provided at the VA.  A "contract" facility 
"^DD",130,130,472,21,5,0)
is one established to be an affiliate with the VA medical center, and 
"^DD",130,130,472,21,6,0)
it is most typically a University Hospital.  In rare cases a "contract"
"^DD",130,130,472,21,7,0)
facility may be a community hospital when there is no University 
"^DD",130,130,472,21,8,0)
affiliate for the VAMC.  By contrast, a "fee-basis" patient surgery 
"^DD",130,130,472,21,9,0)
should not be indicated as a "contract" facility.  Typically, a
"^DD",130,130,472,21,10,0)
"fee-basis" establishment is an agreement by the VA Chief of Staff to
"^DD",130,130,472,21,11,0)
out-source a patient to a community hospital.  That hospital then bills
"^DD",130,130,472,21,12,0)
the Chief of Staff for care rendered on the patient.  VASQIP does not 
"^DD",130,130,472,21,13,0)
wish to capture the patient data on the "fee-basis" patients. If the
"^DD",130,130,472,21,14,0)
patient is not entered into VISTA, send a paper form to Denver for
"^DD",130,130,472,21,15,0)
hand-entry, unless your facility contracts-out a majority of its cases.
"^DD",130,130,472,21,16,0)
Enter "NS" if funding for the procedure is not known. The default is 
"^DD",130,130,472,21,17,0)
to NO if a response is not entered.
"^DD",130,130,472,23,0)
^^1^1^3140522^
"^DD",130,130,472,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,472,"DT")
3140114
"^DD",130,130,481,0)
*BRIDGE TO TRANSPLANT/DEVICE^*S^Y:YES;N:NONE;B:BRIDGE TO TRANSPLANT;D:DESTINATION THERAPY;^209;9^Q
"^DD",130,130,481,.1)
*Device for bridge to cardiac transplant / Destination therapy
"^DD",130,130,481,3)
Enter the selection for mechanical support device.
"^DD",130,130,481,12)
Screen prevents selection of retired codes.
"^DD",130,130,481,12.1)
S DIC("S")="I Y'=""Y"""
"^DD",130,130,481,21,0)
^^6^6^3101203^^^
"^DD",130,130,481,21,1,0)
Definition Revised (2006):
"^DD",130,130,481,21,2,0)
Indicate if patient received a mechanical support device 
"^DD",130,130,481,21,3,0)
(excluding IABP) as a bridge to cardiac transplant during the same
"^DD",130,130,481,21,4,0)
admission as the transplant procedure; or patient received the device
"^DD",130,130,481,21,5,0)
as destination therapy (does not intend to have a cardiac transplant),
"^DD",130,130,481,21,6,0)
either with or without placing the patient on cardiopulmonary bypass.
"^DD",130,130,481,23,0)
^^1^1^3140522^
"^DD",130,130,481,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,481,"DT")
3101203
"^DD",130,130,483,0)
*TMR^S^Y:YES;N:NO;^209;11^Q
"^DD",130,130,483,.1)
*Transmyocardial Laser Revascularization
"^DD",130,130,483,3)
Enter 'YES' to indicate if patient received a transmyocardial laser procedure (TMR).
"^DD",130,130,483,21,0)
^^6^6^3040311^
"^DD",130,130,483,21,1,0)
Definition Revised (2004):
"^DD",130,130,483,21,2,0)
Indicate if patient received a transmyocardial laser procedure (TMR)
"^DD",130,130,483,21,3,0)
to make "channels" or small holes directly into the heart muscle, either
"^DD",130,130,483,21,4,0)
with or without placing the patient on cardiopulmonary bypass.  The TMR
"^DD",130,130,483,21,5,0)
may be done in combination with a CABG procedure or as a stand-alone
"^DD",130,130,483,21,6,0)
procedure.
"^DD",130,130,483,23,0)
^^1^1^3140522^
"^DD",130,130,483,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,483,"DT")
3040311
"^DD",130,130,484,0)
*OTHER CARDIAC PROCEDURES-LIST^FX^^209.1;1^S NYUK=X K:$L(X)>60!($L(X)<3) X S:NYUK="NS"!(NYUK="ns") X="NS" K NYUK
"^DD",130,130,484,.1)
*Other cardiac procedures (specify)
"^DD",130,130,484,3)
Answer must be 3-60 characters in length.
"^DD",130,130,484,21,0)
^.001^4^4^3060705^^
"^DD",130,130,484,21,1,0)
Definition Revised (2006):
"^DD",130,130,484,21,2,0)
Specify if any cardiac surgical procedure (not listed above) was
"^DD",130,130,484,21,3,0)
performed alone or in conjunction with the index procedure, either
"^DD",130,130,484,21,4,0)
with or without placing the patient on cardiopulmonary bypass.
"^DD",130,130,484,23,0)
^^1^1^3140522^
"^DD",130,130,484,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,484,"DT")
3060404
"^DD",130,130,485,0)
PRIOR HEART SURGERY^FX^^206;42^K:X["""" X I $D(X) K:$L(X)>10!($L(X)<1) X
"^DD",130,130,485,.1)
Prior Heart Surgery
"^DD",130,130,485,3)
Answer must be 1-10 characters in length
"^DD",130,130,485,21,0)
^^21^21^3140206^
"^DD",130,130,485,21,1,0)
Definition Revised (2014):
"^DD",130,130,485,21,2,0)
Indicate all applicable types of heart surgery performed, either on 
"^DD",130,130,485,21,3,0)
or off-pump.  Indicate all appropriate responses:
"^DD",130,130,485,21,4,0)
  None - Patient has not had a previous cardiac surgery procedure 
"^DD",130,130,485,21,5,0)
  CABG-only - Patient has had a previous coronary artery bypass 
"^DD",130,130,485,21,6,0)
              graft (CABG-only) procedure
"^DD",130,130,485,21,7,0)
  Valve-only - Patient has had a previous valve-only procedure
"^DD",130,130,485,21,8,0)
  CABG/Valve - Patient has had a previous combination CABG/valve 
"^DD",130,130,485,21,9,0)
               procedure
"^DD",130,130,485,21,10,0)
  Other - Patient has had a previous cardiac procedure(s) other 
"^DD",130,130,485,21,11,0)
          than CABG and Valve surgery, such as repair of atrial or
"^DD",130,130,485,21,12,0)
          ventricular septal defects, great thoracic vessel repair,
"^DD",130,130,485,21,13,0)
          cardiac transplant, left ventricular aneurysmectomy, insertion
"^DD",130,130,485,21,14,0)
          of ventricular assist devices, total artificial hearts, Maze
"^DD",130,130,485,21,15,0)
          procedures, etc." (Do not include pacemaker 
"^DD",130,130,485,21,16,0)
          insertions or automatic implantable cardioverter-defibrillator
"^DD",130,130,485,21,17,0)
          (AICD) insertions; do not include pericardectomy if done off
"^DD",130,130,485,21,18,0)
          pump).
"^DD",130,130,485,21,19,0)
  CABG/Other - Patient has had a previous cardiac surgery that 
"^DD",130,130,485,21,20,0)
          included a CABG with a concurrent "Other" cardiac procedure.
"^DD",130,130,485,21,21,0)
  Unknown - Unknown
"^DD",130,130,485,"DT")
3140206
"^DD",130,130,490,0)
*REPEAT VENTILATOR W/IN 30 DAY^S^Y:YES;N:NO;^209;12^Q
"^DD",130,130,490,.1)
*Repeat Ventilator Support within 30 days
"^DD",130,130,490,3)
Enter Yes if the patient was placed on ventilator support.
"^DD",130,130,490,21,0)
^^9^9^3071213^
"^DD",130,130,490,21,1,0)
Definition Revised (2008):
"^DD",130,130,490,21,2,0)
Indicate if the patient was placed on ventilator support postoperatively
"^DD",130,130,490,21,3,0)
within 30 days and this repeat ventilator support is related to the 
"^DD",130,130,490,21,4,0)
index operation (For example, the patient is on the ventilator intra-op
"^DD",130,130,490,21,5,0)
and immediately post-op.  Then patient is weaned and the ventilator is
"^DD",130,130,490,21,6,0)
discontinued.  Later, the patient gets into trouble and mechanical 
"^DD",130,130,490,21,7,0)
ventilation has to be reinstated.) However, if the patient returns to 
"^DD",130,130,490,21,8,0)
the OR within 30 days and gets extubated immediately after, it is not
"^DD",130,130,490,21,9,0)
considered repeat ventilator support.
"^DD",130,130,490,23,0)
^^1^1^3140522^
"^DD",130,130,490,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,490,"DT")
3140227
"^DD",130,130,493,0)
*PULMONARY VALVE PROCEDURE^S^N:NONE;M:MECHANICAL;S:STENTED BIOPROSTHETIC;B:STENTLESS BIOPROSTHETIC;H:HOMOGRAFT;PR:PRIMARY REPAIR;PA:PRIMARY REPAIR & ANNULOPLASTY DEVICE;AN:ANNULOPLASTY DEVICE ALONE;AU:AUTOGRAFT (ROSS);O:OTHER;^207;28^Q
"^DD",130,130,493,.1)
*Pulmonary Valve Procedure
"^DD",130,130,493,3)
Enter the appropriate pulmonary valve procedure performed on this patient.
"^DD",130,130,493,21,0)
^^19^19^3100614^
"^DD",130,130,493,21,1,0)
VASQIP Definition (2010):
"^DD",130,130,493,21,2,0)
Indicate if the patient had a pulmonary valve replacement (either the 
"^DD",130,130,493,21,3,0)
native or a prosthetic valve) or a repair (on the native valve to 
"^DD",130,130,493,21,4,0)
relieve stenosis and/or correct regurgitation -annuloplasty,
"^DD",130,130,493,21,5,0)
commissurotomy, etc.); performed with or without additional
"^DD",130,130,493,21,6,0)
procedure(s); either with or without placing the patient on
"^DD",130,130,493,21,7,0)
cardiopulmonary bypass. (If a repair was attempted, but a replacement
"^DD",130,130,493,21,8,0)
occurred, indicate the details of the replacement valve.) Indicate 
"^DD",130,130,493,21,9,0)
the one most appropriate procedure:
"^DD",130,130,493,21,10,0)
  * None
"^DD",130,130,493,21,11,0)
  * Mechanical Valve            
"^DD",130,130,493,21,12,0)
  * Stented Bioprosthetic Valve   
"^DD",130,130,493,21,13,0)
  * Stentless Bioprosthetic Valve   
"^DD",130,130,493,21,14,0)
  * Homograft
"^DD",130,130,493,21,15,0)
  * Primary Valve Repair
"^DD",130,130,493,21,16,0)
  * Primary Valve Repair and Annuloplasty Device
"^DD",130,130,493,21,17,0)
  * Annuloplasty Device alone
"^DD",130,130,493,21,18,0)
  * Autograft Procedure (Ross Procedure)  
"^DD",130,130,493,21,19,0)
  * Other
"^DD",130,130,493,23,0)
^^1^1^3140522^
"^DD",130,130,493,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,493,"DT")
3100614
"^DD",130,130,502,0)
*OTHER CARDIAC PROCEDURES (Y/N)^S^Y:YES;N:NO;^209;13^Q
"^DD",130,130,502,.1)
*Other Cardiac Procedures (Y/N)
"^DD",130,130,502,3)
Enter 'YES' if there are other cardiac procedures. 
"^DD",130,130,502,21,0)
^^4^4^3060705^
"^DD",130,130,502,21,1,0)
Definition Revised (2006):
"^DD",130,130,502,21,2,0)
Indicate if any cardiac surgical procedure (not listed above) was
"^DD",130,130,502,21,3,0)
performed alone or in conjunction with the index procedure, either with
"^DD",130,130,502,21,4,0)
or without placing the patient on cardiopulmonary bypass (YES/NO).
"^DD",130,130,502,23,0)
^^1^1^3140522^
"^DD",130,130,502,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,502,"DT")
3060320
"^DD",130,130,505,0)
*ENDOVASCULAR REPAIR^S^Y:YES;N:NO;^207.1;2^Q
"^DD",130,130,505,.1)
*Endovascular Repair of Aorta
"^DD",130,130,505,3)
Enter Yes if an endovascular repair of the aorta was done with a cardiothoracic surgeon attending.
"^DD",130,130,505,21,0)
^^12^12^3101201^
"^DD",130,130,505,21,1,0)
VASQIP Definition (2010): 
"^DD",130,130,505,21,2,0)
Indicate if the patient had an endovascular repair of the descending
"^DD",130,130,505,21,3,0)
thoracic aorta, ascending aorta, and/or aortic arch (e.g., aneurysm,
"^DD",130,130,505,21,4,0)
pseudoaneurysm, dissection, penetrating ulcer, intramural hematoma, 
"^DD",130,130,505,21,5,0)
or traumatic disruption) with or without involving coverage of left
"^DD",130,130,505,21,6,0)
subclavian artery origin, initial endoprosthesis plus descending 
"^DD",130,130,505,21,7,0)
thoracic aortic extension(s), if required, to level of celiac artery
"^DD",130,130,505,21,8,0)
origin, with or without cardiopulmonary bypass. To include in VASQIP, 
"^DD",130,130,505,21,9,0)
an attending cardiothoracic surgeon must have been present and involved 
"^DD",130,130,505,21,10,0)
in the procedure. It is typically done under general anesthesia and 
"^DD",130,130,505,21,11,0)
may be performed in the operating room or interventional radiology
"^DD",130,130,505,21,12,0)
operating area.
"^DD",130,130,505,23,0)
^^1^1^3140522^
"^DD",130,130,505,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,505,"DT")
3140522
"^DD",130,130,512,0)
*MAZE PROCEDURE^S^N:NO MAZE PERFORMED;F:FULL MAZE;M:MINI MAZE;^209;14^Q
"^DD",130,130,512,.1)
*Maze Procedure
"^DD",130,130,512,3)
Enter NO MAZE PERFORMED, FULL MAZE or MINI MAZE.
"^DD",130,130,512,21,0)
^.001^34^34^3060628^^
"^DD",130,130,512,21,1,0)
Definition Revised (2006):
"^DD",130,130,512,21,2,0)
Indicate if patient had a Maze procedure either with or without placing
"^DD",130,130,512,21,3,0)
the patient on cardiopulmonary bypass.  A Maze procedure is a surgical
"^DD",130,130,512,21,4,0)
intervention used to interrupt abnormal atrial conduction pathways that
"^DD",130,130,512,21,5,0)
cause atrial fibrillation or atrial flutter. It may be performed alone
"^DD",130,130,512,21,6,0)
or in combination with other cardiac procedures. (A Maze does not
"^DD",130,130,512,21,7,0)
include an amputation/resection of the atrial appendage as an isolated
"^DD",130,130,512,21,8,0)
procedure; an intraoperative electrophysiologic mapping procedure; nor
"^DD",130,130,512,21,9,0)
any surgical or ablation procedure conducted on the ventricle for
"^DD",130,130,512,21,10,0)
control of ventricular arrhythmias.) Indicate the one most appropriate
"^DD",130,130,512,21,11,0)
response:
"^DD",130,130,512,21,12,0)
 
"^DD",130,130,512,21,13,0)
No - No Maze performed
"^DD",130,130,512,21,14,0)
 
"^DD",130,130,512,21,15,0)
Full Maze - The procedure is most often performed on-bypass through
"^DD",130,130,512,21,16,0)
a median sternotomy. A combination of incisions and thermal (cryo) or
"^DD",130,130,512,21,17,0)
radiofrequency ablations of the atrial wall pathways are done,
"^DD",130,130,512,21,18,0)
typically including amputation/resection of the one or both atrial
"^DD",130,130,512,21,19,0)
appendices. The procedure thus creates a "maze" of electrical
"^DD",130,130,512,21,20,0)
propogation roots involving the entire atrial myocardium with only
"^DD",130,130,512,21,21,0)
one side of entrance (the sinus node) and one side of exit
"^DD",130,130,512,21,22,0)
(the AV node).
"^DD",130,130,512,21,23,0)
 
"^DD",130,130,512,21,24,0)
Mini-Maze - A more limited and simpler procedure than the traditional
"^DD",130,130,512,21,25,0)
full maze, the Mini-Maze is based on the finding that in most patients,
"^DD",130,130,512,21,26,0)
ectopic foci located in the pulmonary veins are responsible for the
"^DD",130,130,512,21,27,0)
initiation of atrial fib.  Radiofrequency or a cryo-ablation probe is
"^DD",130,130,512,21,28,0)
used either inside or outside of the pulmonary vein ostia to destroy
"^DD",130,130,512,21,29,0)
the foci.  It can be performed with or without resection of the atrial
"^DD",130,130,512,21,30,0)
appendage and includes no incision or minimal incisions to the left
"^DD",130,130,512,21,31,0)
atrium, rather than the extensive atrial surgical procedure conducted
"^DD",130,130,512,21,32,0)
for the full Maze.  The Mini can be performed on or off bypass through
"^DD",130,130,512,21,33,0)
a median sternotomy or performed thorascopically to the outside of the
"^DD",130,130,512,21,34,0)
pulmonary veins.
"^DD",130,130,512,23,0)
^^1^1^3140522^
"^DD",130,130,512,23,1,0)
This field became obsolete in patch SR*3*182.
"^DD",130,130,512,"DT")
3060628
"^DD",130,130,603,0)
CONFIRM VALID CONSENT^*S^Y:YES;N:NO;1:YES, i-MED;2:YES, PAPER;3:YES, TELEPHONE;4:NO, EMERGENCY;5:NO, NOT EMERGENCY;^VER;10^Q
"^DD",130,130,603,.1)
Confirm Valid Consent
"^DD",130,130,603,3)
Select the appropriate response from options 1 to 5.
"^DD",130,130,603,12)
Screen prevents selection of inactive entries.
"^DD",130,130,603,12.1)
S DIC("S")="I Y"
"^DD",130,130,603,21,0)
^^11^11^3140523^
"^DD",130,130,603,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,603,21,2,0)
This field verifies that a valid consent form has been confirmed. Your
"^DD",130,130,603,21,3,0)
answer should be one of the following:
"^DD",130,130,603,21,4,0)
  1-YES, i-MED 
"^DD",130,130,603,21,5,0)
  2-YES, PAPER
"^DD",130,130,603,21,6,0)
  3-YES, TELEPHONE
"^DD",130,130,603,21,7,0)
  4-NO, EMERGENCY 
"^DD",130,130,603,21,8,0)
  5-NO, NOT EMERGENCY
"^DD",130,130,603,21,9,0)
 
"^DD",130,130,603,21,10,0)
If you answer 4 or 5, you'll be asked to justify your answer in the 
"^DD",130,130,603,21,11,0)
CHECKLIST COMMENT (#85) field.
"^DD",130,130,603,"DT")
3140523
"^DD",130,130,605,0)
MARKED SITE CONFIRMED^S^Y:YES;N:NO;^VER;12^Q
"^DD",130,130,605,.1)
Confirm Proc. Site has been Marked Appropriately and the Site of the Mark is Visible After Prep
"^DD",130,130,605,3)
Answer YES if the site was physically marked or if arm band was verified instead of marking.
"^DD",130,130,605,21,0)
^^8^8^3140519^
"^DD",130,130,605,21,1,0)
The site must be marked in all cases. If the patient refuses marking, 
"^DD",130,130,605,21,2,0)
or if the site is inappropriate to marking, such as mucous membranes 
"^DD",130,130,605,21,3,0)
and other sites not on the skin that cannot be marked using standard
"^DD",130,130,605,21,4,0)
methods, then wristbands must be used for marked site. See applicable 
"^DD",130,130,605,21,5,0)
VHA Handbooks and Directives for further information and guidance.
"^DD",130,130,605,21,6,0)
 
"^DD",130,130,605,21,7,0)
If you answer "NO", you'll be asked to justify your answer in the 
"^DD",130,130,605,21,8,0)
CHECKLIST COMMENT (#85) field.
"^DD",130,130,605,"DT")
3140519
"^DD",130,130,606,0)
PREOPERATIVE IMAGES CONFIRMED^S^Y:YES;N:NO;NA:NOT APPLICABLE;^VER;13^Q
"^DD",130,130,606,.1)
Confirm Pertinent Medical Images Available in the OR
"^DD",130,130,606,3)
Enter "YES" if the imaging data was confirmed, "NA" if there was no imaging required, or "NO" if the image was not viewed.
"^DD",130,130,606,21,0)
^^9^9^3110622^
"^DD",130,130,606,21,1,0)
This field refers to the completion of the verification process for the
"^DD",130,130,606,21,2,0)
presence of relevant imaging data to confirm the operative site for the
"^DD",130,130,606,21,3,0)
correct patient are available, properly labeled and properly presented,
"^DD",130,130,606,21,4,0)
and verified by two members of the operating team prior to the start of
"^DD",130,130,606,21,5,0)
the procedure. This practice is further defined by local hospital
"^DD",130,130,606,21,6,0)
policy. 
"^DD",130,130,606,21,7,0)
 
"^DD",130,130,606,21,8,0)
If you answer "NO", you'll be asked to justify your answer in the 
"^DD",130,130,606,21,9,0)
CHECKLIST COMMENT (#85) field.
"^DD",130,130,606,"DT")
3140203
"^DD",130,130,607,0)
CORRECT MEDICAL IMPLANTS^S^Y:YES;N:NO;NA:NOT APPLICABLE;^VER;14^Q
"^DD",130,130,607,.1)
Confirm Correct Medical Implant(s) is available
"^DD",130,130,607,3)
Enter YES if the correct medical implant(s) confirmed.
"^DD",130,130,607,21,0)
^^5^5^3110622^
"^DD",130,130,607,21,1,0)
This field verifies that the availability of correct medical implant(s) 
"^DD",130,130,607,21,2,0)
has been confirmed. Your answer should be "Yes", "No" or "NA".
"^DD",130,130,607,21,3,0)
 
"^DD",130,130,607,21,4,0)
If you answer "NO", you'll be asked to justify your answer in the 
"^DD",130,130,607,21,5,0)
CHECKLIST COMMENT (#85) field.
"^DD",130,130,607,"DT")
3140203
"^DD",130,130,608,0)
ANTIBIOTIC PROPHYLAXIS^*S^Y:YES;N:NO;NA:NOT APPLICABLE;NI:NOT INDICATED;^VER;15^Q
"^DD",130,130,608,.1)
Confirm Appropriate Antibiotic Prophylaxis
"^DD",130,130,608,3)
Enter YES if the appropriate antibiotic prophylaxis confirmed. 
"^DD",130,130,608,12)
Screen prevents selection of inactive entries.
"^DD",130,130,608,12.1)
S DIC("S")="I Y'=""NA"""
"^DD",130,130,608,21,0)
^^6^6^3140523^
"^DD",130,130,608,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,608,21,2,0)
This field verifies that the appropriate antibiotic prophylaxis has 
"^DD",130,130,608,21,3,0)
been confirmed. Your answer should be "Yes", "No" or "NI".
"^DD",130,130,608,21,4,0)
 
"^DD",130,130,608,21,5,0)
If you answer "NO", you'll be asked to justify your answer in the 
"^DD",130,130,608,21,6,0)
CHECKLIST COMMENT (#85) field.
"^DD",130,130,608,"DT")
3140523
"^DD",130,130,609,0)
APPROPRIATE DVT PROPHYLAXIS^*S^Y:YES;N:NO;NA:NOT APPLICABLE;NI:NOT INDICATED;^VER;16^Q
"^DD",130,130,609,.1)
Confirm Appropriate Deep Vein Thrombosis Prophylaxis
"^DD",130,130,609,3)
Enter YES if the appropriate deep vein thrombosis prophylaxis was confirmed.
"^DD",130,130,609,12)
Screen prevents selection of retired codes.
"^DD",130,130,609,12.1)
S DIC("S")="I Y'=""NA"""
"^DD",130,130,609,21,0)
^^7^7^3140519^
"^DD",130,130,609,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,609,21,2,0)
This field verifies that the appropriate deep vein thrombosis 
"^DD",130,130,609,21,3,0)
prophylaxis has been confirmed. Your answer should be "Yes", "No" or
"^DD",130,130,609,21,4,0)
"NI".
"^DD",130,130,609,21,5,0)
 
"^DD",130,130,609,21,6,0)
If you answer "NO", you'll be asked to justify your answer in the 
"^DD",130,130,609,21,7,0)
CHECKLIST COMMENT (#85) field.
"^DD",130,130,609,"DT")
3140519
"^DD",130,130,610,0)
BLOOD AVAILABILITY^S^Y:YES;N:NO;NA:NOT APPLICABLE;^VER;17^Q
"^DD",130,130,610,.1)
Confirm Blood Available (Operating Room or in-house Blood Bank)
"^DD",130,130,610,3)
Enter YES if the Blood availability was confirmed.
"^DD",130,130,610,21,0)
^^6^6^3140214^
"^DD",130,130,610,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,610,21,2,0)
This field verifies that the blood availability  has been confirmed. 
"^DD",130,130,610,21,3,0)
Your answer should be "Yes", "No" or "NA".
"^DD",130,130,610,21,4,0)
 
"^DD",130,130,610,21,5,0)
If you answer "NO", you'll be asked to justify your answer in the 
"^DD",130,130,610,21,6,0)
CHECKLIST COMMENT (#85) field.
"^DD",130,130,610,"DT")
3140214
"^DD",130,130,611,0)
AVAILABILITY OF SPECIAL EQUIP^S^Y:YES;N:NO;NA:NOT APPLICABLE;^VER;18^Q
"^DD",130,130,611,.1)
Confirm Availability of Special Equipment
"^DD",130,130,611,3)
Enter YES if the availability of special equipment was confirmed.
"^DD",130,130,611,21,0)
^^5^5^3110622^
"^DD",130,130,611,21,1,0)
This field verifies that the availability of special equipment has 
"^DD",130,130,611,21,2,0)
been confirmed. Your answer should be "Yes", "No" or "NA".
"^DD",130,130,611,21,3,0)
 
"^DD",130,130,611,21,4,0)
If you answer "NO", you'll be asked to justify your answer in the 
"^DD",130,130,611,21,5,0)
CHECKLIST COMMENT (#85) field.
"^DD",130,130,611,"DT")
3140203
"^DD",130,130,618,0)
POSITIVE DRUG SCREENING^*S^Y:YES;N:NO;NA:NA;1:NOT DONE;2:NEGATIVE RESULT;3:POS NOT Rx;4:POS Rx;^200;55^Q
"^DD",130,130,618,.1)
Positive Drug Screening
"^DD",130,130,618,3)
Select the response that appropriately fits the positive drug screening.
"^DD",130,130,618,12)
Screen prevents selection of inactive entries.
"^DD",130,130,618,12.1)
S DIC("S")="I Y"
"^DD",130,130,618,21,0)
^^11^11^3140214^
"^DD",130,130,618,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,618,21,2,0)
Indicate if any drug screening (e.g., blood or urine) was performed 
"^DD",130,130,618,21,3,0)
within 2 weeks prior to surgery.  If patient is being prescribed a 
"^DD",130,130,618,21,4,0)
medication, such as methadone, respond with yes or no as indicated 
"^DD",130,130,618,21,5,0)
below. 
"^DD",130,130,618,21,6,0)
1. Not Done - drug screening was not performed
"^DD",130,130,618,21,7,0)
2. Drug screening was performed and the result was negative 
"^DD",130,130,618,21,8,0)
3. Drug screening was performed and the result was positive for 
"^DD",130,130,618,21,9,0)
   substance not prescribed
"^DD",130,130,618,21,10,0)
4. Drug screening was performed and the result was positive for a 
"^DD",130,130,618,21,11,0)
   prescribed substance
"^DD",130,130,618,"DT")
3140214
"^DD",130,130,619,0)
IMMED USE-CONTAMINATION^NJ2,0^^52;1^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,619,.1)
Immed Use Steril-Contamination
"^DD",130,130,619,3)
Enter number of cycles. Default value is zero.  Acceptable values from 0 to 99.
"^DD",130,130,619,21,0)
^^2^2^3140214^
"^DD",130,130,619,21,1,0)
Indicate the number of cycles of Immediate Use Steam Sterilization 
"^DD",130,130,619,21,2,0)
due to contamination of a specialty item (one of a kind) in the OR.
"^DD",130,130,619,"DT")
3140214
"^DD",130,130,620,0)
IMMED USE-SPS/OR MGT ISSUE^NJ2,0^^52;2^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,620,.1)
Immed Use Steril-SPS Processing/OR Management Issues
"^DD",130,130,620,3)
Enter number of cycles. Default value is zero.  Acceptable values from 0 to 99.
"^DD",130,130,620,21,0)
^^4^4^3140214^
"^DD",130,130,620,21,1,0)
Indicate the number of cycles of Immediate Use Steam Sterilization 
"^DD",130,130,620,21,2,0)
due to SPS processing and OR management issues (unsterile from SPS, 
"^DD",130,130,620,21,3,0)
hole in package, available in SPS but not sterilized, not processed 
"^DD",130,130,620,21,4,0)
in time, missing in set, or broken in set).
"^DD",130,130,620,"DT")
3140214
"^DD",130,130,621,0)
IMMED USE-EMERGENCY CASE^NJ2,0^^52;3^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,621,.1)
Immed Use Steril-Emergency Case
"^DD",130,130,621,3)
Enter number of cycles. Default value is zero.  Acceptable values from 0 to 99.
"^DD",130,130,621,21,0)
^^2^2^3140214^
"^DD",130,130,621,21,1,0)
Indicate the number of cycles of Immediate Use Steam Sterilization 
"^DD",130,130,621,21,2,0)
due to an Emergency Case, such as instruments used on previous case.
"^DD",130,130,621,"DT")
3140214
"^DD",130,130,622,0)
IMMED USE-NO BETTER OPTION^NJ2,0^^52;4^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,622,.1)
Immed Use Steril-No Better Option
"^DD",130,130,622,3)
Enter number of cycles. Default value is zero.  Acceptable values from 0 to 99.
"^DD",130,130,622,21,0)
^^3^3^3140214^
"^DD",130,130,622,21,1,0)
Indicate the number of cycles of Immediate Use Steam Sterilization 
"^DD",130,130,622,21,2,0)
due to items for which there may be no better option (batteries,
"^DD",130,130,622,21,3,0)
radioactive implants (seeds)).
"^DD",130,130,622,"DT")
3140214
"^DD",130,130,623,0)
IMMED USE-LOANER INSTRUMENT^NJ2,0^^52;5^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,623,.1)
Immed Use Steril-Loaner or Short Notice Instrument
"^DD",130,130,623,3)
Enter number of cycles. Default value is zero.  Acceptable values from 0 to 99.
"^DD",130,130,623,21,0)
^^4^4^3140214^
"^DD",130,130,623,21,1,0)
Indicate the number of cycles of Immediate Use Steam Sterilization 
"^DD",130,130,623,21,2,0)
due to loaner or short notice instrument excluding implants 
"^DD",130,130,623,21,3,0)
(instrument(s) not available with sufficient time to reprocess
"^DD",130,130,623,21,4,0)
completely).
"^DD",130,130,623,"DT")
3140214
"^DD",130,130,624,0)
IMMED USE-DECONTAMINATION^NJ2,0^^52;6^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1.N) X
"^DD",130,130,624,.1)
Immed Use Steril-Decontamination of Instruments Not for Use In Patient
"^DD",130,130,624,3)
Enter number of cycles. Default value is zero.  Acceptable values from 0 to 99.
"^DD",130,130,624,21,0)
^^3^3^3140214^
"^DD",130,130,624,21,1,0)
Indicate the number of cycles of Immediate Use Steam Sterilization 
"^DD",130,130,624,21,2,0)
due to contamination of instruments already in use in OR for any reason
"^DD",130,130,624,21,3,0)
not included in tracking.
"^DD",130,130,624,"DT")
3140214
"^DD",130,130,630,0)
POSSIBLE ITEM RETENTION^S^Y:YES;N:NO;^25;6^Q
"^DD",130,130,630,.1)
Possible Item Retention
"^DD",130,130,630,3)
Answer YES if the surgical field is large enough that a sponge, sharp, or instrument could be left behind.
"^DD",130,130,630,21,0)
^^9^9^3140214^
"^DD",130,130,630,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,630,21,2,0)
A retained surgical item includes instruments, sharps, sponges or any 
"^DD",130,130,630,21,3,0)
materials used by the surgical team performing the operative procedure.  
"^DD",130,130,630,21,4,0)
Sharps include surgical needles, aspirating needles, blunt needles, 
"^DD",130,130,630,21,5,0)
scalpel blades or any items with a sharp or pointed edge posing a risk 
"^DD",130,130,630,21,6,0)
for skin puncture by the surgical team.  Sponges include cotton gauze 
"^DD",130,130,630,21,7,0)
sponges, laparotomy pads, surgical towels or any absorbent materials not 
"^DD",130,130,630,21,8,0)
intended to remain in the patient's body after the surgical procedure is 
"^DD",130,130,630,21,9,0)
completed.
"^DD",130,130,630,"DT")
3140815
"^DD",130,130,633,0)
WOUND SWEEP^S^Y:YES;N:NO;^25;7^Q
"^DD",130,130,633,.1)
Wound Sweep
"^DD",130,130,633,3)
Enter YES to indicate that a wound sweep was done. This question must be answered if any of the final sponge, sharps or instrument counts are recorded as incorrect.
"^DD",130,130,633,21,0)
^^6^6^3140821^
"^DD",130,130,633,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,633,21,2,0)
This indicates that a both a visual and manual methodical wound 
"^DD",130,130,633,21,3,0)
exploration is performed prior to closing the surgical wound to 
"^DD",130,130,633,21,4,0)
ensure that all surgical items are accounted for and extracted. This
"^DD",130,130,633,21,5,0)
question must be answered if any of the final sponge, sharps or 
"^DD",130,130,633,21,6,0)
instrument counts are recorded as incorrect.
"^DD",130,130,633,"DT")
3140821
"^DD",130,130,635,0)
WOUND SWEEP COMMENTS^130.0635^^53;0
"^DD",130,130,635,21,0)
^^4^4^3140214^
"^DD",130,130,635,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,635,21,2,0)
These are comments related to the reason(s) a wound sweep was or was
"^DD",130,130,635,21,3,0)
not performed that may be useful in the documentation of this case 
"^DD",130,130,635,21,4,0)
and/or subsequent comments related to the wound sweep findings.
"^DD",130,130,636,0)
INTRA-OPERATIVE X-RAY^S^Y:YES;N:NO;^25;8^Q
"^DD",130,130,636,.1)
Intra-Operative X-Ray
"^DD",130,130,636,3)
Enter YES to indicate that an intraoperative x-ray was done. This question must be answered if any of the final sponge, sharps or instrument counts are recorded as incorrect.
"^DD",130,130,636,21,0)
^^7^7^3140821^
"^DD",130,130,636,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,636,21,2,0)
This indicates that a radiograph of the entire surgical field to rule
"^DD",130,130,636,21,3,0)
out a retained surgical item was performed and interpreted by a 
"^DD",130,130,636,21,4,0)
physician at the completion of the surgical procedure, prior to the
"^DD",130,130,636,21,5,0)
patient's transfer from the Operating Room. This question must be 
"^DD",130,130,636,21,6,0)
answered if any of the final sponge, sharps or instrument counts are 
"^DD",130,130,636,21,7,0)
recorded as incorrect.
"^DD",130,130,636,"DT")
3140821
"^DD",130,130,637,0)
INTRA-OPERATIVE X-RAY COMMENTS^130.0637^^54;0
"^DD",130,130,637,21,0)
^^4^4^3140214^
"^DD",130,130,637,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,637,21,2,0)
These are comments related to the reason(s) an intraoperative x-ray 
"^DD",130,130,637,21,3,0)
was or was not performed that may be useful in the documentation of 
"^DD",130,130,637,21,4,0)
this case and/or subsequent comments related to the radiograph findings.
"^DD",130,130,637,"DT")
3131227
"^DD",130,130,638,0)
LATERALITY OF PROCEDURE^S^1:NA;2:LEFT;3:RIGHT;4:BILATERAL;^OP;5^Q
"^DD",130,130,638,.1)
Laterality Of Procedure
"^DD",130,130,638,3)
Enter left or right or bilateral when laterality is applicable to the procedure. 
"^DD",130,130,638,21,0)
^^2^2^3140214^^
"^DD",130,130,638,21,1,0)
This indicates that the side of the procedure is identified as either 
"^DD",130,130,638,21,2,0)
left, right or bilateral, when applicable to the procedure.
"^DD",130,130,638,"DT")
3140214
"^DD",130,130,639,0)
REPORT GIVEN TO^P200'^VA(200,^25;9^Q
"^DD",130,130,639,.1)
Report Given To
"^DD",130,130,639,3)
Enter the name of the staff member who received the postoperative report from the OR staff member.
"^DD",130,130,639,21,0)
^^2^2^3140214^
"^DD",130,130,639,21,1,0)
This indicates the name of the staff member who received the 
"^DD",130,130,639,21,2,0)
postoperative report from the OR staff member.
"^DD",130,130,639,"DT")
3140214
"^DD",130,130,640,0)
PCI^S^1:NONE;2:<12 HRS OF SURG;3:>12 HRS - 7 DAYS;4:>7 DAYS;5:UNKNOWN;^200;56^Q
"^DD",130,130,640,3)
Enter the category that most accurately reflects the patient's Percutaneous Coronary Intervention.
"^DD",130,130,640,21,0)
^^13^13^3140214^
"^DD",130,130,640,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,640,21,2,0)
Indicate the time period of the patient's most recent percutaneous
"^DD",130,130,640,21,3,0)
coronary artery intervention (PCI) prior to surgery. This does not 
"^DD",130,130,640,21,4,0)
include percutaneous valve interventions including valvuloplasty and 
"^DD",130,130,640,21,5,0)
valve replacement. Indicate the one appropriate response, even if the
"^DD",130,130,640,21,6,0)
procedure was not fully successful: 
"^DD",130,130,640,21,7,0)
1.  None - The patient never had a previous PCI. 
"^DD",130,130,640,21,8,0)
2.  <12 hr of surg - The patient had a PCI less than 12 hours prior to
"^DD",130,130,640,21,9,0)
    surgery.  
"^DD",130,130,640,21,10,0)
3.  >12 hr - 7 days - The patient had a PCI between 12 hours and 7 
"^DD",130,130,640,21,11,0)
    days prior to surgery.  
"^DD",130,130,640,21,12,0)
4.  >7 days - The patient had a PCI more than 7 days prior to surgery.  
"^DD",130,130,640,21,13,0)
5.  Unknown 
"^DD",130,130,640,"DT")
3140214
"^DD",130,130,641,0)
HYPERTENSION^S^1:NO;2:YES WITHOUT MED;3:YES WITH MED;4:UNKNOWN;^200;57^Q
"^DD",130,130,641,.1)
Hypertension
"^DD",130,130,641,3)
Enter YES if there is any indication that the patient has hypertension.  
"^DD",130,130,641,21,0)
^^9^9^3140214^
"^DD",130,130,641,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,641,21,2,0)
Indicate if the patient has a documented history of hypertension 
"^DD",130,130,641,21,3,0)
within the 30 days prior to surgery.  Select the one appropriate 
"^DD",130,130,641,21,4,0)
response:
"^DD",130,130,641,21,5,0)
1. No history of hypertension
"^DD",130,130,641,21,6,0)
2. Yes without medication therapy
"^DD",130,130,641,21,7,0)
3. Yes with medication therapy (antihypertensive therapy: diuretics, 
"^DD",130,130,641,21,8,0)
   beta blockers, ACE inhibitors, calcium channel blockers, etc.)
"^DD",130,130,641,21,9,0)
4. Unknown
"^DD",130,130,641,"DT")
3140214
"^DD",130,130,642,0)
BLEEDING RISK DUE TO MED^S^1:NO BLEEDING RISK MED;2:CHRONIC ASPIRIN NOT D'C;3:BLEEDING RISK MED D'C;4:BLEEDING RISK MED NOT D'C;^200;58^Q
"^DD",130,130,642,.1)
Bleeding Risk Due To Medication
"^DD",130,130,642,3)
Enter indicator of bleeding risk due to medication.
"^DD",130,130,642,21,0)
^^13^13^3140214^
"^DD",130,130,642,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,642,21,2,0)
Bleeding risk due to medication is present if a patient is on chronic 
"^DD",130,130,642,21,3,0)
anticoagulation, an antiplatelet agent, thrombin inhibitor or 
"^DD",130,130,642,21,4,0)
thrombolytic agent that was not discontinued prior to midnight the day
"^DD",130,130,642,21,5,0)
of surgery .  Select the one appropriate response:
"^DD",130,130,642,21,6,0)
1. The patient does not take medications that increase bleeding risk
"^DD",130,130,642,21,7,0)
2. The patient was only on chronic aspirin therapy which was not 
"^DD",130,130,642,21,8,0)
   discontinued prior to midnight the day of surgery (>=81 mg/day)
"^DD",130,130,642,21,9,0)
3. The patient was on pre-operative medication(s) that increase 
"^DD",130,130,642,21,10,0)
   bleeding risk, but discontinued prior to midnight the day of surgery
"^DD",130,130,642,21,11,0)
4. The patient was on pre-operative medication(s) that increase 
"^DD",130,130,642,21,12,0)
   bleeding risk, and one or more were NOT discontinued prior to 
"^DD",130,130,642,21,13,0)
   midnight the day of surgery
"^DD",130,130,642,"DT")
3140214
"^DD",130,130,643,0)
ANGINA TIMEFRAME^S^1:NO ANGINA;2:W/N 14 DAY OF SURGERY;3:W/N 15-30 DAYS OF SURGERY;4:UNKNOWN;^200;59^Q
"^DD",130,130,643,.1)
Angina Timeframe
"^DD",130,130,643,3)
Indicate time period when the angina was most recently present.
"^DD",130,130,643,21,0)
^^6^6^3140214^
"^DD",130,130,643,21,1,0)
VASQIP Definition (2014):
"^DD",130,130,643,21,2,0)
Indicate time period when the angina was most recently present:
"^DD",130,130,643,21,3,0)
1. No Angina
"^DD",130,130,643,21,4,0)
2. Within 14 days prior to surgery
"^DD",130,130,643,21,5,0)
3. Within 15-30 days prior to surgery
"^DD",130,130,643,21,6,0)
4. Unknown
"^DD",130,130,643,"DT")
3140214
"^DD",130,130,644,0)
SYMPTOMATIC UTI^S^Y:YES;N:NO;^205;42^Q
"^DD",130,130,644,.1)
Symptomatic UTI
"^DD",130,130,644,3)
Enter YES if the patient has any postoperative Symptomatic UTI-Culture occurrences.
"^DD",130,130,644,21,0)
^^50^50^3140303^
"^DD",130,130,644,21,1,0)
Definition Revised (2014): SYMPTOMATIC UTI -  CULTURE plus SIGN/SYMPTOM
"^DD",130,130,644,21,2,0)
within 1 calendar day of each other: 
"^DD",130,130,644,21,3,0)
a. UTI Signs/Symptoms: Urg/Freq/Dys
"^DD",130,130,644,21,4,0)
   Yes = Patient has urgency, frequency, or dysuria with no other
"^DD",130,130,644,21,5,0)
         recognized cause
"^DD",130,130,644,21,6,0)
   No = Patient does not complain of urgency, frequency or dysuria OR
"^DD",130,130,644,21,7,0)
        has a catheter in place
"^DD",130,130,644,21,8,0)
 
"^DD",130,130,644,21,9,0)
b. UTI Signs/Symptoms: Fever
"^DD",130,130,644,21,10,0)
   Yes = Patient has a fever > 38C at the time of culture or onset 
"^DD",130,130,644,21,11,0)
         of symptoms
"^DD",130,130,644,21,12,0)
   No = Patient does not have a fewer > 38C at the time of culture 
"^DD",130,130,644,21,13,0)
        or onset of signs or symptoms
"^DD",130,130,644,21,14,0)
 
"^DD",130,130,644,21,15,0)
c. UTI Signs/Symptoms: Tenderness
"^DD",130,130,644,21,16,0)
   Yes = Patient has suprapubic tenderness, costovertebral angle 
"^DD",130,130,644,21,17,0)
         pain or tenderness with no other recognized cause
"^DD",130,130,644,21,18,0)
   No = Patient does not have suprapubic tenderness, costovertebral 
"^DD",130,130,644,21,19,0)
        angle pain or tenderness
"^DD",130,130,644,21,20,0)
 
"^DD",130,130,644,21,21,0)
d. UTI Culture: (must choose 1 or 2)
"^DD",130,130,644,21,22,0)
   1. Patient has a positive urine culture that is > 10^5 colony-
"^DD",130,130,644,21,23,0)
      forming units (CFU)/ml with no more than 2 species of 
"^DD",130,130,644,21,24,0)
      microorganisms
"^DD",130,130,644,21,25,0)
 
"^DD",130,130,644,21,26,0)
   2. A positive urine culture of >=10^3 and <10^5 colony-forming 
"^DD",130,130,644,21,27,0)
      units (CFU)/ml with no more than 2 species of microorganisms 
"^DD",130,130,644,21,28,0)
      plus one of the following three items: a) positive dipstick for
"^DD",130,130,644,21,29,0)
      leukocyte esterase and/or nitrate; b) Pyuria (urine specimen 
"^DD",130,130,644,21,30,0)
      with > 10 white blood cell [WBC]/mm3 of unspun urine or > 3 
"^DD",130,130,644,21,31,0)
      WBC high-power field of spun urine) or c) microorganisms seen 
"^DD",130,130,644,21,32,0)
      of Gram's stain of unspun urine
"^DD",130,130,644,21,33,0)
 
"^DD",130,130,644,21,34,0)
INDWELLING URETHRAL CATHETER > 2 CALENDAR DAYS
"^DD",130,130,644,21,35,0)
At the time of the procedure or during the post-operative 30 day 
"^DD",130,130,644,21,36,0)
period, did the patient have an indwelling urethral catheter in for 
"^DD",130,130,644,21,37,0)
> 2 calendar days (with day 1 being the day of catheter insertion)
"^DD",130,130,644,21,38,0)
 
"^DD",130,130,644,21,39,0)
1) Yes, in place on the day of UTI Signs/Symptoms and UTI Culture 
"^DD",130,130,644,21,40,0)
    obtained
"^DD",130,130,644,21,41,0)
2) Yes, removed the day of or the day before UTI Signs/Symptoms and 
"^DD",130,130,644,21,42,0)
    UTI Culture obtained
"^DD",130,130,644,21,43,0)
3) No, urethral catheter in place < or = to 2 calendar days but had 
"^DD",130,130,644,21,44,0)
    an indwelling urethral catheter in place at time of UTI Signs/
"^DD",130,130,644,21,45,0)
    Symptoms and UTI Culture obtained
"^DD",130,130,644,21,46,0)
4) No, urethral catheter in place < or = 2 calendar days and 
"^DD",130,130,644,21,47,0)
    indwelling urethral catheter was not in place at the time of
"^DD",130,130,644,21,48,0)
    UTI Signs/Symptoms and UTI Culture obtained
"^DD",130,130,644,21,49,0)
5) No, did not have an indwelling urethral catheter at the time of 
"^DD",130,130,644,21,50,0)
    the procedure or during the post-operative 30 day period
"^DD",130,130,644,"DT")
3140303
"^DD",130,130,645,0)
MECHANICAL VENT W/N 30 DAYS^S^Y:YES;N:NO;^205;43^Q
"^DD",130,130,645,.1)
Mechanical Ventilation within 30 Days
"^DD",130,130,645,3)
Enter Yes if the patient was placed on ventilator support.
"^DD",130,130,645,21,0)
^^10^10^3140227^
"^DD",130,130,645,21,1,0)
Definition Revised (2014):
"^DD",130,130,645,21,2,0)
Indicate if ventilator support required within 30 days after initial 
"^DD",130,130,645,21,3,0)
post-operative extubation: If the patient was placed on ventilator 
"^DD",130,130,645,21,4,0)
support postoperatively for any reason within 30 days AND occurred 
"^DD",130,130,645,21,5,0)
during the same admission in-hospital. (For example, the patient is 
"^DD",130,130,645,21,6,0)
on the ventilator intra-op and immediately post-op. Then patient is 
"^DD",130,130,645,21,7,0)
weaned and the ventilator is discontinued. Later, the patient gets 
"^DD",130,130,645,21,8,0)
into trouble and mechanical ventilation has to be reinstated.) In 
"^DD",130,130,645,21,9,0)
patients who were not intubated during surgery, intubation at any 
"^DD",130,130,645,21,10,0)
time after their surgery is considered an occurrence.
"^DD",130,130,645,"DT")
3140227
"^DD",130,130.01,13,0)
PROVIDER READ BACK PERFORMED^S^Y:YES;N:NO;^1;5^Q
"^DD",130,130.01,13,.1)
Provider Read Back Performed
"^DD",130,130.01,13,3)
Enter YES or NO, documenting whether read back performed by provider.
"^DD",130,130.01,13,21,0)
^^8^8^3140214^
"^DD",130,130.01,13,21,1,0)
VASQIP Definition (2014):
"^DD",130,130.01,13,21,2,0)
An additional step is performed immediately prior to the implantation
"^DD",130,130.01,13,21,3,0)
of the medical device. The privileged provider performing the procedure
"^DD",130,130.01,13,21,4,0)
must confirm the correct implant with a team member, including a
"^DD",130,130.01,13,21,5,0)
"read-back" of all relevant information. For Ophthalmologic intraocular
"^DD",130,130.01,13,21,6,0)
lens implant procedures, the immediate intra-operative pre-implant
"^DD",130,130.01,13,21,7,0)
"read-back" must include intraocular lens implant style, power and
"^DD",130,130.01,13,21,8,0)
expiration date.
"^DD",130,130.01,13,"DT")
3140214
"^DD",130,130.06,0)
ANESTHESIA TECHNIQUE SUB-FIELD^NL^44^45
"^DD",130,130.06,0,"NM","ANESTHESIA TECHNIQUE")

"^DD",130,130.06,.01,0)
ANESTHESIA TECHNIQUE^*S^G:GENERAL;M:MONITORED ANESTHESIA CARE;S:SPINAL;E:EPIDURAL;R:REGIONAL;O:OTHER;L:LOCAL;N:NO ANESTHESIA;^0;1^Q
"^DD",130,130.06,.01,.1)
Anesthesia Technique
"^DD",130,130.06,.01,3)
Enter an anesthesia technique from the available list of techniques.
"^DD",130,130.06,.01,12)
Screen prevents selection of inactive entries.
"^DD",130,130.06,.01,12.1)
S DIC("S")="I Y'=""O"""
"^DD",130,130.06,.01,21,0)
^^6^6^3140214^
"^DD",130,130.06,.01,21,1,0)
This is the anesthesia technique used during this case corresponding 
"^DD",130,130.06,.01,21,2,0)
to the American Board of Anesthesiologists universal list of 
"^DD",130,130.06,.01,21,3,0)
anesthesia techniques (except for REGIONAL, LOCAL and NO ANESTHESIA). 
"^DD",130,130.06,.01,21,4,0)
If entered, this information will appear on various anesthesia reports.
"^DD",130,130.06,.01,21,5,0)
Select regional for peripheral nerve blocks or other techniques other 
"^DD",130,130.06,.01,21,6,0)
than spinal or epidural.
"^DD",130,130.06,.01,"DEL",.01,0)
I $D(^SRF(DA(1),"CON")),$P(^("CON"),"^") D ^SROCOND I 0
"^DD",130,130.06,.01,"DT")
3140214
"^DD",130,130.0635,0)
WOUND SWEEP COMMENTS SUB-FIELD^^.01^1
"^DD",130,130.0635,0,"DT")
3140203
"^DD",130,130.0635,0,"NM","WOUND SWEEP COMMENTS")

"^DD",130,130.0635,0,"UP")
130
"^DD",130,130.0635,.01,0)
COMMENTS^W^^0;1^Q
"^DD",130,130.0635,.01,.1)
Wound Sweep Comments
"^DD",130,130.0635,.01,3)
Enter any comments related to wound sweep.
"^DD",130,130.0635,.01,21,0)
^^4^4^3140214^
"^DD",130,130.0635,.01,21,1,0)
VASQIP Definition (2014):
"^DD",130,130.0635,.01,21,2,0)
These are comments related to the reason(s) a wound sweep was or was
"^DD",130,130.0635,.01,21,3,0)
not performed that may be useful in the documentation of this case 
"^DD",130,130.0635,.01,21,4,0)
and/or subsequent comments related to the wound sweep findings.
"^DD",130,130.0635,.01,"DT")
3140214
"^DD",130,130.0637,0)
INTRA-OPERATIVE X-RAY COMMENTS SUB-FIELD^^.01^1
"^DD",130,130.0637,0,"DT")
3140203
"^DD",130,130.0637,0,"NM","INTRA-OPERATIVE X-RAY COMMENTS")

"^DD",130,130.0637,0,"UP")
130
"^DD",130,130.0637,.01,0)
COMMENTS^W^^0;1^Q
"^DD",130,130.0637,.01,.1)
Intraoperative X-Ray Comments
"^DD",130,130.0637,.01,3)
Enter any comments related to intraoperative x-ray.
"^DD",130,130.0637,.01,21,0)
^^4^4^3140214^
"^DD",130,130.0637,.01,21,1,0)
VASQIP Definition (2014):
"^DD",130,130.0637,.01,21,2,0)
These are comments related to the reason(s) an intraoperative x-ray 
"^DD",130,130.0637,.01,21,3,0)
was or was not performed that may be useful in the documentation of 
"^DD",130,130.0637,.01,21,4,0)
this case and/or subsequent comments related to the radiograph findings.
"^DD",130,130.0637,.01,"DT")
3140214
"^DD",130,130.13,5,0)
INTRAOP DEVICE TYPE^S^1:IABP;2:VAD;3:TAH;4:ECMO;5:MULTIPLE DEVICES;^0;7^Q
"^DD",130,130.13,5,.1)
Intraop Device Type
"^DD",130,130.13,5,3)
Enter Intraop device Type.
"^DD",130,130.13,5,21,0)
^^10^10^3140512^
"^DD",130,130.13,5,21,1,0)
VASQIP Definition (2014):
"^DD",130,130.13,5,21,2,0)
Indicate the patient left the operating room suite with a new IABP, 
"^DD",130,130.13,5,21,3,0)
VAD, TAH, ECMO, or MULTIPLE DEVICES for circulatory support. Please
"^DD",130,130.13,5,21,4,0)
choose the device from the following list.
"^DD",130,130.13,5,21,5,0)
 
"^DD",130,130.13,5,21,6,0)
1. IABP
"^DD",130,130.13,5,21,7,0)
2. VAD
"^DD",130,130.13,5,21,8,0)
3. TAH
"^DD",130,130.13,5,21,9,0)
4. ECMO
"^DD",130,130.13,5,21,10,0)
5. MULTIPLE DEVICES
"^DD",130,130.13,5,"DT")
3140512
"^DD",130,130.22,7,0)
SEPSIS CATEGORY^*S^1:SIRS;2:SEPSIS;3:SEPTIC SHOCK;^0;4^Q
"^DD",130,130.22,7,.1)
Sepsis Category
"^DD",130,130.22,7,3)
Select the appropriate category of sepsis for this occurrence.
"^DD",130,130.22,7,12)
Screen prevents selection of inactive code.
"^DD",130,130.22,7,12.1)
S DIC("S")="I Y'=1"
"^DD",130,130.22,7,21,0)
^^49^49^3140109^
"^DD",130,130.22,7,21,1,0)
Definition Revised (2014):
"^DD",130,130.22,7,21,2,0)
2. Sepsis is the systemic response to infection.
"^DD",130,130.22,7,21,3,0)
   Answer YES if both of the following criteria are met:
"^DD",130,130.22,7,21,4,0)
   Clinical documentation of infection (such as  wound with purulent 
"^DD",130,130.22,7,21,5,0)
   drainage, ruptured bowel with free air, etc.); a positive culture 
"^DD",130,130.22,7,21,6,0)
   from any site thought to be causative; or specialized laboratory
"^DD",130,130.22,7,21,7,0)
   evidence of causative infection (such as viral DNA in blood).
"^DD",130,130.22,7,21,8,0)
   AND
"^DD",130,130.22,7,21,9,0)
   the presence of two or more of the following systemic responses:
"^DD",130,130.22,7,21,10,0)
   Temperature > 38 degrees C or < 36 degrees C
"^DD",130,130.22,7,21,11,0)
   HR > 90 beats/minute
"^DD",130,130.22,7,21,12,0)
   RR > 20 breaths /minute or PaCO2 < 32 mmHg 
"^DD",130,130.22,7,21,13,0)
   WBC > 12,000 cell/mm3, < 4,000cells/mm3, or > 10% immature 
"^DD",130,130.22,7,21,14,0)
   neutrophils ("bands")
"^DD",130,130.22,7,21,15,0)
 
"^DD",130,130.22,7,21,16,0)
3. Severe Sepsis/Septic Shock:  Sepsis is considered severe when it 
"^DD",130,130.22,7,21,17,0)
  is associated with organ and/or circulatory dysfunction.  
"^DD",130,130.22,7,21,18,0)
  Terminology such as Severe Sepsis/Septic Shock/Refractory Septic 
"^DD",130,130.22,7,21,19,0)
  Shock/Refractory Septic Shock and Multiple Organ Dysfunction 
"^DD",130,130.22,7,21,20,0)
  Syndrome (MODS) all fall into this category.
"^DD",130,130.22,7,21,21,0)
 
"^DD",130,130.22,7,21,22,0)
  Answer YES if the definition of SEPSIS is present AND there is
"^DD",130,130.22,7,21,23,0)
  documented organ and/or circulatory dysfunction defined by one or more
"^DD",130,130.22,7,21,24,0)
  of the following:
"^DD",130,130.22,7,21,25,0)
  - Areas of acutely mottled skin not related to peripheral vascular 
"^DD",130,130.22,7,21,26,0)
    disease
"^DD",130,130.22,7,21,27,0)
  - Capillary refilling requires three seconds or longer not
"^DD",130,130.22,7,21,28,0)
    related to peripheral vascular disease
"^DD",130,130.22,7,21,29,0)
  - Urine output <0.5 mL/kg for at least one hour, or renal 
"^DD",130,130.22,7,21,30,0)
    replacement therapy
"^DD",130,130.22,7,21,31,0)
  - Lactate >2 mmol/L 
"^DD",130,130.22,7,21,32,0)
  - Abrupt change in mental status
"^DD",130,130.22,7,21,33,0)
  - Abnormal EEG findings
"^DD",130,130.22,7,21,34,0)
  - Platelet count < 100,000 platelets/mL
"^DD",130,130.22,7,21,35,0)
  - Disseminated intravascular coagulation (DIC)
"^DD",130,130.22,7,21,36,0)
  - Acute lung injury or acute respiratory distress syndrome (ARDS)
"^DD",130,130.22,7,21,37,0)
  - New cardiac dysfunction as defined by ECHO or direct measurement 
"^DD",130,130.22,7,21,38,0)
    of the cardiac index
"^DD",130,130.22,7,21,39,0)
  - An arterial systolic blood pressure (SBP) of =90 mm Hg or a mean 
"^DD",130,130.22,7,21,40,0)
    arterial pressure (MAP) =70 mm Hg for at least 1 hour despite 
"^DD",130,130.22,7,21,41,0)
    adequate fluid resuscitation, adequate intravascular volume status,
"^DD",130,130.22,7,21,42,0)
    or the need for vasopressors to maintain SBP >=90 mm Hg or 
"^DD",130,130.22,7,21,43,0)
    MAP >=70 mm Hg.
"^DD",130,130.22,7,21,44,0)
 
"^DD",130,130.22,7,21,45,0)
  For the patient that had sepsis preoperatively, continuation of 
"^DD",130,130.22,7,21,46,0)
  the preoperatively identified signs postoperatively would not be
"^DD",130,130.22,7,21,47,0)
  reported as a new postoperative sepsis.  Worsening of the preope-
"^DD",130,130.22,7,21,48,0)
  ratively identified signs would be reported as a new postoperative
"^DD",130,130.22,7,21,49,0)
  sepsis.
"^DD",130,130.22,7,"DT")
3140109
"^DD",130,130.22,8,0)
CPB STATUS^S^0:None;1:On-bypass;2:Off-bypass;^0;5^Q
"^DD",130,130.22,8,.1)
Cardiopulmonary Bypass Status
"^DD",130,130.22,8,3)
Enter NONE, ON BYPASS, or OFF BYPASS.
"^DD",130,130.22,8,21,0)
^^12^12^3140423^
"^DD",130,130.22,8,21,1,0)
Definition Revised (2014):
"^DD",130,130.22,8,21,2,0)
Indicate the CPB status if the patient underwent a repeat operation on
"^DD",130,130.22,8,21,3,0)
the heart after the patient had left the operating room from the initial
"^DD",130,130.22,8,21,4,0)
operation and within current hospitalization or within 30 days of the
"^DD",130,130.22,8,21,5,0)
initial operation. Indicate the one appropriate response:
"^DD",130,130.22,8,21,6,0)
 
"^DD",130,130.22,8,21,7,0)
None - no repeat cardiac surgical procedure post-operatively within 30
"^DD",130,130.22,8,21,8,0)
       days of initial operation.
"^DD",130,130.22,8,21,9,0)
On-bypass - patient underwent a repeat cardiac surgical procedure 
"^DD",130,130.22,8,21,10,0)
       utilizing CPB.
"^DD",130,130.22,8,21,11,0)
Off-bypass - patient underwent a repeat cardiac surgical procedure not
"^DD",130,130.22,8,21,12,0)
       utilizing CPB.
"^DD",130,130.22,8,"DT")
3140423
"^DD",130,130.22,10,0)
INDWELLING URETHRAL CATHETER^S^1:YES, IN PLACE;2:YES, REMOVED;3:NO, IN PLACE;4:NO, REMOVED;5:NO CATHETER;^0;9^Q
"^DD",130,130.22,10,.1)
Indwelling Urethral Catheter
"^DD",130,130.22,10,3)
Enter whether or not the patient has an indwelling urinary catheter in place and if so, indicate the specific timeline.
"^DD",130,130.22,10,21,0)
^^4^4^3140214^
"^DD",130,130.22,10,21,1,0)
VASQIP Definition (2014):
"^DD",130,130.22,10,21,2,0)
This indicates that the patient had an indwelling urinary catheter in
"^DD",130,130.22,10,21,3,0)
place at the time of, or removed within 48 hours of, specimen 
"^DD",130,130.22,10,21,4,0)
collection or the onset of signs or symptoms.
"^DD",130,130.22,10,"DT")
3140214
"^DD",130,130.22,11,0)
UTI SIGN/SYMPTOMS URG/FREQ/DYS^S^Y:HAS URGENCY, FREQUENCY, OR DYSURIA WITH NO OTHER RECOGNIZED CAUSE;N:DOES NOT HAVE URGENCY, FREQUENCY OR DYSURIA;^0;10^Q
"^DD",130,130.22,11,.1)
UTI Signs/Symptoms (Urgency/Freq/Dysuria)
"^DD",130,130.22,11,3)
Enter YES or NO to indicate presence of UTI urgency or frequency or dysuria.
"^DD",130,130.22,11,21,0)
^^3^3^3140214^
"^DD",130,130.22,11,21,1,0)
VASQIP Definition (2014):
"^DD",130,130.22,11,21,2,0)
This indicates the patient complains of urinary urgency or urinary 
"^DD",130,130.22,11,21,3,0)
frequency or dysuria. 
"^DD",130,130.22,11,"DT")
3140214
"^DD",130,130.22,12,0)
UTI SIGNS/SYMPTOMS FEVER^S^Y:FEVER > 38C AT THE TIME OF CULTURE OR ONSET OF SYMPTOMS;N:NO FEVER > 38C AT THE TIME OF CULTURE OR ONSET OF SIGNS OR SYMPTOMS;^0;11^Q
"^DD",130,130.22,12,.1)
UTI Signs/Symptoms Fever
"^DD",130,130.22,12,3)
Enter yes or no to indicate presence of fever at the time of culture or onset of signs/symptoms.
"^DD",130,130.22,12,21,0)
^^3^3^3140610^
"^DD",130,130.22,12,21,1,0)
VASQIP Definition (2014):
"^DD",130,130.22,12,21,2,0)
This indicates the patient has a fever >38C at the time of culture or 
"^DD",130,130.22,12,21,3,0)
onset of signs or symptoms.
"^DD",130,130.22,12,"DT")
3140610
"^DD",130,130.22,13,0)
UTI SIGNS/SYMPTOMS TENDERNESS^S^Y:SUPRAPUBIC, COSTOVERTEBRAL ANGLE PAIN;N:NO SUPRAPUBIC TENDERNESS, COSTOVERTEBRAL ANGLE PAIN;^0;12^Q
"^DD",130,130.22,13,.1)
UTI Signs/Symptoms Tenderness
"^DD",130,130.22,13,3)
Enter YES or NO to indicate presence of suprapubic tenderness or costovertebral angle pain or tenderness.
"^DD",130,130.22,13,21,0)
^^3^3^3140214^
"^DD",130,130.22,13,21,1,0)
VASQIP Definition (2014):
"^DD",130,130.22,13,21,2,0)
This indicates the patient has suprapubic tenderness or costovertebral 
"^DD",130,130.22,13,21,3,0)
angle pain or tenderness. 
"^DD",130,130.22,13,"DT")
3140214
"^DD",130,130.22,14,0)
UTI CULTURE^S^1:POS CULTURE >10E5, 1-2 SPECIES;2:POS CULTURE 10E3-10E5, 1-2 SPECIES DIPSTICK(+), PYURIA, OR GRAM (+);^0;13^Q
"^DD",130,130.22,14,.1)
UTI Culture
"^DD",130,130.22,14,3)
Enter UTI Culture indicator.
"^DD",130,130.22,14,21,0)
^^11^11^3140214^
"^DD",130,130.22,14,21,1,0)
VASQIP Definition (2014): This indicates that
"^DD",130,130.22,14,21,2,0)
1. The patient has a positive urine culture, that is, >10^5 colony-
"^DD",130,130.22,14,21,3,0)
   forming units (CFU)/ml with no more than 2 species of microor-
"^DD",130,130.22,14,21,4,0)
   ganisms OR
"^DD",130,130.22,14,21,5,0)
2. The patient has a positive urine culture of >10^3 and <10^5 colony
"^DD",130,130.22,14,21,6,0)
   forming units (CFU)/mL with no more than 2 species of microorganisms
"^DD",130,130.22,14,21,7,0)
   AND one of the following three items: 
"^DD",130,130.22,14,21,8,0)
   a. Positive dipstick for leukocyte esterase and/ or nitrate; 
"^DD",130,130.22,14,21,9,0)
   b. Pyuria (urine specimen with >10 white blood cell [WBC]/mm3 of 
"^DD",130,130.22,14,21,10,0)
      unspun urine or > 3 WBC high-power field of spun urine);
"^DD",130,130.22,14,21,11,0)
   c. Microorganisms seen on Gram's stain of unspun urine 
"^DD",130,130.22,14,"DT")
3140214
"^DD",130,130.22,15,0)
POSTOP DEVICE TYPE^S^1:IABP;2:VAD;3:TAH;4:ECMO;5:MULTIPLE DEVICES;^0;14^Q
"^DD",130,130.22,15,.1)
Postop Device Type
"^DD",130,130.22,15,3)
Enter Postop device Type.
"^DD",130,130.22,15,21,0)
^^10^10^3140512^
"^DD",130,130.22,15,21,1,0)
VASQIP Definition (2014):
"^DD",130,130.22,15,21,2,0)
Indicate the patient required post-op placement of a new IABP, VAD, 
"^DD",130,130.22,15,21,3,0)
TAH, ECMO, or MULTIPLE DEVICES for circulatory support within 30 days
"^DD",130,130.22,15,21,4,0)
post-operatively. Please choose the device from the following list.
"^DD",130,130.22,15,21,5,0)
 
"^DD",130,130.22,15,21,6,0)
1. IABP
"^DD",130,130.22,15,21,7,0)
2. VAD
"^DD",130,130.22,15,21,8,0)
3. TAH
"^DD",130,130.22,15,21,9,0)
4. ECMO
"^DD",130,130.22,15,21,10,0)
5. MULTIPLE DEVICES
"^DD",130,130.22,15,"DT")
3140512
"^DD",136.5,136.5,0)
FIELD^^5^6
"^DD",136.5,136.5,0,"DDA")
N
"^DD",136.5,136.5,0,"DT")
2950309
"^DD",136.5,136.5,0,"ID",2)
D DESC^SROCMPS
"^DD",136.5,136.5,0,"IX","B",136.5,.01)

"^DD",136.5,136.5,0,"IX","C",136.53,.01)

"^DD",136.5,136.5,0,"NM","PERIOPERATIVE OCCURRENCE CATEGORY")

"^DD",136.5,136.5,0,"PT",130.0126,5)

"^DD",136.5,136.5,0,"PT",130.053,5)

"^DD",136.5,136.5,0,"PT",130.13,3)

"^DD",136.5,136.5,0,"PT",130.22,5)

"^DD",136.5,136.5,0,"VRPK")
SR
"^DD",136.5,136.5,.01,0)
OCCURRENCE CATEGORY^RFI^^0;1^K:$L(X)>60!($L(X)<3)!'(X'?1P.E) X
"^DD",136.5,136.5,.01,.1)
Occurrence Category
"^DD",136.5,136.5,.01,1,0)
^.1
"^DD",136.5,136.5,.01,1,1,0)
136.5^B
"^DD",136.5,136.5,.01,1,1,1)
S ^SRO(136.5,"B",$E(X,1,30),DA)=""
"^DD",136.5,136.5,.01,1,1,2)
K ^SRO(136.5,"B",$E(X,1,30),DA)
"^DD",136.5,136.5,.01,3)
Your answer must be 3-60 characters in length.
"^DD",136.5,136.5,.01,9)
^
"^DD",136.5,136.5,.01,21,0)
^^3^3^2950427^
"^DD",136.5,136.5,.01,21,1,0)
This field contains the name of the perioperative occurrence category to
"^DD",136.5,136.5,.01,21,2,0)
be used when categorizing surgical and anesthesia perioperative
"^DD",136.5,136.5,.01,21,3,0)
occurrences.
"^DD",136.5,136.5,.01,"DT")
2950427
"^DD",136.5,136.5,.01,"LAYGO",1,0)
W !,"Adding to the Perioperative Occurrence Category file is not allowed !!",*7 I 0
"^DD",136.5,136.5,1,0)
INACTIVE?^SI^1:YES;0:NO;^0;2^Q
"^DD",136.5,136.5,1,.1)
Inactive? (Y/N)
"^DD",136.5,136.5,1,3)
Enter YES to inactivate this perioperative occurrence category.
"^DD",136.5,136.5,1,9)
^
"^DD",136.5,136.5,1,21,0)
^^2^2^2950224^
"^DD",136.5,136.5,1,21,1,0)
If this perioperative occurrence category is no longer used, enter YES to
"^DD",136.5,136.5,1,21,2,0)
flag this category as INACTIVE.
"^DD",136.5,136.5,1,"DT")
2950224
"^DD",136.5,136.5,2,0)
DESCRIPTION^136.52^^1;0
"^DD",136.5,136.5,2,9)
^
"^DD",136.5,136.5,2,20,0)
^.3LA^^0
"^DD",136.5,136.5,2,21,0)
^^2^2^2950224^
"^DD",136.5,136.5,2,21,1,0)
This is a description used to further define the perioperative occurrence
"^DD",136.5,136.5,2,21,2,0)
type.
"^DD",136.5,136.5,3,0)
SYNONYM^136.53^^2;0
"^DD",136.5,136.5,3,21,0)
^^1^1^2950315^
"^DD",136.5,136.5,3,21,1,0)
This is another name for this perioperative occurrence category.
"^DD",136.5,136.5,4,0)
INTRAOPERATIVE ALLOWED^SI^1:YES;0:NO;^0;3^Q
"^DD",136.5,136.5,4,.1)
Intraoperative Occurrence Allowed ?
"^DD",136.5,136.5,4,3)
Enter YES if this may be an intraoperative occurrence.
"^DD",136.5,136.5,4,9)
^
"^DD",136.5,136.5,4,21,0)
^^2^2^2951113^^
"^DD",136.5,136.5,4,21,1,0)
If this occurrence category may be associated with an intraoperative
"^DD",136.5,136.5,4,21,2,0)
occurrence, enter YES.
"^DD",136.5,136.5,4,"DT")
2951113
"^DD",136.5,136.5,5,0)
CARDIAC ONLY^S^Y:YES;N:NO;^0;4^Q
"^DD",136.5,136.5,5,.1)
Cardiac Only
"^DD",136.5,136.5,5,3)
Enter YES if the occurrence category is for a cardiac assessment case.
"^DD",136.5,136.5,5,9)
^
"^DD",136.5,136.5,5,21,0)
^^2^2^3000822^
"^DD",136.5,136.5,5,21,1,0)
If this occurrence category may be associated with a cardiac assessed case
"^DD",136.5,136.5,5,21,2,0)
only, enter YES.
"^DD",136.5,136.5,5,"DT")
3000713
"^DD",136.5,136.52,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",136.5,136.52,0,"NM","DESCRIPTION")

"^DD",136.5,136.52,0,"UP")
136.5
"^DD",136.5,136.52,.01,0)
DESCRIPTION^W^^0;1^Q
"^DD",136.5,136.52,.01,.1)
Perioperative Occurrence Category Decsription
"^DD",136.5,136.52,.01,3)
Enter a brief description further defining this perioperative occurrence type.
"^DD",136.5,136.52,.01,21,0)
^^2^2^2950224^
"^DD",136.5,136.52,.01,21,1,0)
This is a description used to further define and clarify each
"^DD",136.5,136.52,.01,21,2,0)
perioperative occurrence category.
"^DD",136.5,136.52,.01,21,3,0)
 
"^DD",136.5,136.52,.01,"DT")
2950224
"^DD",136.5,136.53,0)
SYNONYM SUB-FIELD^^.01^1
"^DD",136.5,136.53,0,"DT")
2950309
"^DD",136.5,136.53,0,"IX","B",136.53,.01)

"^DD",136.5,136.53,0,"NM","SYNONYM")

"^DD",136.5,136.53,0,"UP")
136.5
"^DD",136.5,136.53,.01,0)
SYNONYM^MF^^0;1^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>60!($L(X)<3) X
"^DD",136.5,136.53,.01,.1)
Synonym
"^DD",136.5,136.53,.01,1,0)
^.1
"^DD",136.5,136.53,.01,1,1,0)
136.53^B
"^DD",136.5,136.53,.01,1,1,1)
S ^SRO(136.5,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",136.5,136.53,.01,1,1,2)
K ^SRO(136.5,DA(1),2,"B",$E(X,1,30),DA)
"^DD",136.5,136.53,.01,1,2,0)
136.5^C
"^DD",136.5,136.53,.01,1,2,1)
S ^SRO(136.5,"C",$E(X,1,30),DA(1),DA)=""
"^DD",136.5,136.53,.01,1,2,2)
K ^SRO(136.5,"C",$E(X,1,30),DA(1),DA)
"^DD",136.5,136.53,.01,1,2,"DT")
2950309
"^DD",136.5,136.53,.01,3)
Answer must be 3-60 characters in length.
"^DD",136.5,136.53,.01,21,0)
^^1^1^2950315^
"^DD",136.5,136.53,.01,21,1,0)
This is another name for this perioperative occurrence category.
"^DD",136.5,136.53,.01,"DT")
2950309
"^DIC",136.5,136.5,0)
PERIOPERATIVE OCCURRENCE CATEGORY^136.5I
"^DIC",136.5,136.5,0,"GL")
^SRO(136.5,
"^DIC",136.5,136.5,"%D",0)
^1.001^4^4^3060301^^^
"^DIC",136.5,136.5,"%D",1,0)
This file contains perioperative occurrence categories used within the
"^DIC",136.5,136.5,"%D",2,0)
DHCP Surgery package.  All perioperative occurrences entered must be
"^DIC",136.5,136.5,"%D",3,0)
grouped into one of the categories contained in this file.  The fields in
"^DIC",136.5,136.5,"%D",4,0)
this file are restricted so that entries cannot be altered.
"^DIC",136.5,136.5,"%D",5,0)
 
"^DIC",136.5,"B","PERIOPERATIVE OCCURRENCE CATEGORY",136.5)

"BLD",8961,6)
^174
**END**
**END**

