Released SR*3*190 SEQ #181
Extracted from mail message
**KIDS**:SR*3.0*190^

**INSTALL NAME**
SR*3.0*190
"BLD",10737,0)
SR*3.0*190^SURGERY^0^3171004^y
"BLD",10737,1,0)
^^4^4^3171004^
"BLD",10737,1,1,0)
The patch addresses one (1) issues:
"BLD",10737,1,2,0)
 
"BLD",10737,1,3,0)
1.   Under certain conditions, the transplant/donor section is not
"BLD",10737,1,4,0)
     displayed on the Nurse Intraoperative Report (NIR)
"BLD",10737,4,0)
^9.64PA^^
"BLD",10737,6.3)
1
"BLD",10737,"KRN",0)
^9.67PA^779.2^20
"BLD",10737,"KRN",.4,0)
.4
"BLD",10737,"KRN",.401,0)
.401
"BLD",10737,"KRN",.402,0)
.402
"BLD",10737,"KRN",.403,0)
.403
"BLD",10737,"KRN",.5,0)
.5
"BLD",10737,"KRN",.84,0)
.84
"BLD",10737,"KRN",3.6,0)
3.6
"BLD",10737,"KRN",3.8,0)
3.8
"BLD",10737,"KRN",9.2,0)
9.2
"BLD",10737,"KRN",9.8,0)
9.8
"BLD",10737,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",10737,"KRN",9.8,"NM",1,0)
SRONRPT3^^0^B19334113
"BLD",10737,"KRN",9.8,"NM","B","SRONRPT3",1)

"BLD",10737,"KRN",19,0)
19
"BLD",10737,"KRN",19.1,0)
19.1
"BLD",10737,"KRN",101,0)
101
"BLD",10737,"KRN",409.61,0)
409.61
"BLD",10737,"KRN",771,0)
771
"BLD",10737,"KRN",779.2,0)
779.2
"BLD",10737,"KRN",870,0)
870
"BLD",10737,"KRN",8989.51,0)
8989.51
"BLD",10737,"KRN",8989.52,0)
8989.52
"BLD",10737,"KRN",8994,0)
8994
"BLD",10737,"KRN","B",.4,.4)

"BLD",10737,"KRN","B",.401,.401)

"BLD",10737,"KRN","B",.402,.402)

"BLD",10737,"KRN","B",.403,.403)

"BLD",10737,"KRN","B",.5,.5)

"BLD",10737,"KRN","B",.84,.84)

"BLD",10737,"KRN","B",3.6,3.6)

"BLD",10737,"KRN","B",3.8,3.8)

"BLD",10737,"KRN","B",9.2,9.2)

"BLD",10737,"KRN","B",9.8,9.8)

"BLD",10737,"KRN","B",19,19)

"BLD",10737,"KRN","B",19.1,19.1)

"BLD",10737,"KRN","B",101,101)

"BLD",10737,"KRN","B",409.61,409.61)

"BLD",10737,"KRN","B",771,771)

"BLD",10737,"KRN","B",779.2,779.2)

"BLD",10737,"KRN","B",870,870)

"BLD",10737,"KRN","B",8989.51,8989.51)

"BLD",10737,"KRN","B",8989.52,8989.52)

"BLD",10737,"KRN","B",8994,8994)

"BLD",10737,"QUES",0)
^9.62^^
"BLD",10737,"REQB",0)
^9.611^1^1
"BLD",10737,"REQB",1,0)
SR*3.0*184^2
"BLD",10737,"REQB","B","SR*3.0*184",1)

"MBREQ")
0
"PKG",308,-1)
1^1
"PKG",308,0)
SURGERY^SR^SURGICAL DATA COLLECTION AND OPERATIONS SCHEDULING
"PKG",308,20,0)
^9.402P^^
"PKG",308,22,0)
^9.49I^1^1
"PKG",308,22,1,0)
3.0^2930624^2940818
"PKG",308,22,1,"PAH",1,0)
190^3171004
"PKG",308,22,1,"PAH",1,1,0)
^^4^4^3171004
"PKG",308,22,1,"PAH",1,1,1,0)
The patch addresses one (1) issues:
"PKG",308,22,1,"PAH",1,1,2,0)
 
"PKG",308,22,1,"PAH",1,1,3,0)
1.   Under certain conditions, the transplant/donor section is not
"PKG",308,22,1,"PAH",1,1,4,0)
     displayed on the Nurse Intraoperative Report (NIR)
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","SRONRPT3")
0^1^B19334113^B19372732
"RTN","SRONRPT3",1,0)
SRONRPT3 ;BIR/ADM - NURSE INTRAOP REPORT ;10/05/2011
"RTN","SRONRPT3",2,0)
 ;;3.0;Surgery;**100,176,182,184,190**;24 Jun 93;Build 1
"RTN","SRONRPT3",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONRPT3",4,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SRONRPT3",5,0)
 ;**         are prohibited.
"RTN","SRONRPT3",6,0)
 ;
"RTN","SRONRPT3",7,0)
 S SRLF=1,MOOD=$P(SR(.8),"^"),CONS=$P(SR(.8),"^",10),INTEG=$P(SR(.7),"^",6),COLOR=$P(SR(.7),"^",7)
"RTN","SRONRPT3",8,0)
 S MOOD=$S(MOOD:$P(^SRO(135.3,MOOD,0),"^"),1:"N/A"),CONS=$S(CONS:$P(^SRO(135.4,CONS,0),"^"),1:"N/A"),INTEG=$S(INTEG:$P(^SRO(135.2,INTEG,0),"^"),1:"N/A")
"RTN","SRONRPT3",9,0)
 S Y=COLOR,C=$P(^DD(130,.77,0),"^",2) D:Y'="" Y^DIQ S COLOR=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT3",10,0)
 I 'SRALL,MOOD="N/A" G CONS
"RTN","SRONRPT3",11,0)
 D LINE(1) S @SRG@(SRI)="Postoperative Mood:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(30)_MOOD
"RTN","SRONRPT3",12,0)
CONS I 'SRALL,CONS="N/A" G INTEG
"RTN","SRONRPT3",13,0)
 D LINE(1) S @SRG@(SRI)="Postoperative Consciousness:  "_CONS
"RTN","SRONRPT3",14,0)
INTEG I 'SRALL,INTEG="N/A" G COLOR
"RTN","SRONRPT3",15,0)
 D LINE(1) S @SRG@(SRI)="Postoperative Skin Integrity: "_INTEG
"RTN","SRONRPT3",16,0)
COLOR I 'SRALL,COLOR="N/A" G NEXT
"RTN","SRONRPT3",17,0)
 D LINE(1) S @SRG@(SRI)="Postoperative Skin Color:     "_COLOR
"RTN","SRONRPT3",18,0)
NEXT D LASER^SRONRPT4
"RTN","SRONRPT3",19,0)
 S Y=$P(SR(.7),"^",3) I 'SRALL,Y="" G CS
"RTN","SRONRPT3",20,0)
 S Y=$S(Y="Y":"YES",Y="N":"NO",1:"N/A") D LINE(2) S @SRG@(SRI)="Sequential Compression Device: "_Y
"RTN","SRONRPT3",21,0)
CS S SRLF=1,SRLINE="Cell Saver(s): " I '$O(^SRF(SRTN,45,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT3",22,0)
 I $O(^SRF(SRTN,45,0)) D LINE(1) S @SRG@(SRI)=SRLINE D SAVE
"RTN","SRONRPT3",23,0)
 S X=$P($G(^SRF(SRTN,46)),"^") S:X="" X="N/A" I 'SRALL,X="N/A" S SRLF=0
"RTN","SRONRPT3",24,0)
 E  D LINE(2) S @SRG@(SRI)="Devices: "_X
"RTN","SRONRPT3",25,0)
 D ORGDNR^SRONRPT4
"RTN","SRONRPT3",26,0)
FLASH S SRLF=1,SRLINE="Immediate Use Steam Sterilization Episodes: " I '$D(^SRF(SRTN,52)) D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT3",27,0)
 I $D(^SRF(SRTN,52)) D LINE(1) S @SRG@(SRI)=SRLINE S X=$G(^SRF(SRTN,52)) D
"RTN","SRONRPT3",28,0)
 .D LINE(1) S @SRG@(SRI)="   Contamination:                       "_$P(X,"^")
"RTN","SRONRPT3",29,0)
 .D LINE(1) S @SRG@(SRI)="   SPS Processing/OR Management Issues: "_$P(X,"^",2)
"RTN","SRONRPT3",30,0)
 .D LINE(1) S @SRG@(SRI)="   Emergency Case:                      "_$P(X,"^",3)
"RTN","SRONRPT3",31,0)
 .D LINE(1) S @SRG@(SRI)="   No Better Option:                    "_$P(X,"^",4)
"RTN","SRONRPT3",32,0)
 .D LINE(1) S @SRG@(SRI)="   Loaner or Short Notice Instrument:   "_$P(X,"^",5)
"RTN","SRONRPT3",33,0)
 .D LINE(1) S @SRG@(SRI)="   Decontamination of Instruments Contaminated During the Case: "_$P(X,"^",6)
"RTN","SRONRPT3",34,0)
NCC S SRLINE="Nursing Care Comments: " D LINE(2) S @SRG@(SRI)=SRLINE D
"RTN","SRONRPT3",35,0)
 .I '$O(^SRF(SRTN,7,0)) S @SRG@(SRI)=@SRG@(SRI)_"NO COMMENTS ENTERED" Q
"RTN","SRONRPT3",36,0)
 .S SRLINE=0 F  S SRLINE=$O(^SRF(SRTN,7,SRLINE)) Q:'SRLINE  S X=^SRF(SRTN,7,SRLINE,0) D COMM(X,2)
"RTN","SRONRPT3",37,0)
 Q
"RTN","SRONRPT3",38,0)
SAVE ; cell saver(s)
"RTN","SRONRPT3",39,0)
 N C,DISP,DNM,ID,INF,LOT,OP,SAL,SAV,SRCT,QTY,X,Y
"RTN","SRONRPT3",40,0)
 S SAV=0 F  S SAV=$O(^SRF(SRTN,45,SAV)) Q:'SAV  D
"RTN","SRONRPT3",41,0)
 .S X=^SRF(SRTN,45,SAV,0),ID=$P(X,"^"),SAL=$P(X,"^",3),INF=$P(X,"^",4),Y=$P(X,"^",2),C=$P(^DD(130.013,1,0),"^",2) D:Y Y^DIQ S OP=$S(Y'="":Y,1:"N/A")
"RTN","SRONRPT3",42,0)
 .D LINE(1) S @SRG@(SRI)="  "_ID,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Amount Salvaged:  "_$S(SAL:SAL_" ml",1:"N/A")
"RTN","SRONRPT3",43,0)
 .D LINE(1) S @SRG@(SRI)="    Operator:"_OP,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Amount Reinfused: "_$S(INF:INF_" ml",1:"N/A")
"RTN","SRONRPT3",44,0)
 .I $O(^SRF(SRTN,45,SAV,1,0)) D LINE(1) S @SRG@(SRI)="    Disposables:",DISP=0 F  S DISP=$O(^SRF(SRTN,45,SAV,1,DISP)) Q:'DISP  D
"RTN","SRONRPT3",45,0)
 ..S X=^SRF(SRTN,45,SAV,1,DISP,0),DNM=$P(X,"^"),LOT=$P(X,"^",2),QTY=$P(X,"^",3) D LINE(1) S @SRG@(SRI)="      "_DNM
"RTN","SRONRPT3",46,0)
 ..D LINE(1) S @SRG@(SRI)=$$SPACE(8)_"Lot: "_LOT,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Quantity: "_QTY
"RTN","SRONRPT3",47,0)
 .S (SRCT,SRLINE)=0 F  S SRLINE=$O(^SRF(SRTN,45,SAV,2,SRLINE)) Q:'SRLINE  S SRCT=SRCT+1
"RTN","SRONRPT3",48,0)
 .Q:'SRCT  D LINE(1) S SRLINE=0,SRL=4,SRLINE=$O(^SRF(SRTN,45,SAV,2,SRLINE)),X=^SRF(SRTN,45,SAV,2,SRLINE,0)
"RTN","SRONRPT3",49,0)
 .I SRCT=1,$L(X)<67 S @SRG@(SRI)="    Comments: "_X Q
"RTN","SRONRPT3",50,0)
 .S @SRG@(SRI)="    Comments:" D COMM(X,SRL)
"RTN","SRONRPT3",51,0)
 .F  S SRLINE=$O(^SRF(SRTN,45,SAV,2,SRLINE)) Q:'SRLINE  S X=^SRF(SRTN,45,SAV,2,SRLINE,0) D COMM(X,SRL)
"RTN","SRONRPT3",52,0)
 Q
"RTN","SRONRPT3",53,0)
N(SRL) N SRN I $L(Y)>SRL S SRN=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=SRN
"RTN","SRONRPT3",54,0)
 Q
"RTN","SRONRPT3",55,0)
COMM(X,NUM) ; output text
"RTN","SRONRPT3",56,0)
 ; X = line of text to be processed
"RTN","SRONRPT3",57,0)
 ; NUM = left margin
"RTN","SRONRPT3",58,0)
 N I,J,K,Y,SRL S SRL=80-NUM
"RTN","SRONRPT3",59,0)
 I $L(X)<(SRL+1)!($E(X,1,SRL)'[" ") D LINE(1) S @SRG@(SRI)=$$SPACE(NUM)_X Q
"RTN","SRONRPT3",60,0)
 S K=1 F  D  I $L(X)<SRL+1 S X(K)=X Q
"RTN","SRONRPT3",61,0)
 .F I=0:1:SRL-1 S J=SRL-I,Y=$E(X,J) I Y=" " S X(K)=$E(X,1,J-1),X=$E(X,J+1,$L(X)) S K=K+1 Q
"RTN","SRONRPT3",62,0)
 F I=1:1:K D LINE(1) S @SRG@(SRI)=$$SPACE(NUM)_X(I)
"RTN","SRONRPT3",63,0)
 Q
"RTN","SRONRPT3",64,0)
SPACE(NUM) ; create spaces
"RTN","SRONRPT3",65,0)
 ;pass in position returns number of needed spaces
"RTN","SRONRPT3",66,0)
 I '$D(@SRG@(SRI)) S @SRG@(SRI)=""
"RTN","SRONRPT3",67,0)
 Q $J("",NUM-$L(@SRG@(SRI)))
"RTN","SRONRPT3",68,0)
LINE(NUM) ; create carriage returns
"RTN","SRONRPT3",69,0)
 I $G(SRLF) S NUM=NUM+1,SRLF=0
"RTN","SRONRPT3",70,0)
 F J=1:1:NUM S SRI=SRI+1,@SRG@(SRI)=""
"RTN","SRONRPT3",71,0)
 Q
"VER")
8.0^22.2
"BLD",10737,6)
^181
**END**
**END**

