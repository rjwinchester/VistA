EMERGENCY Released PSS*1*190 SEQ #165
Extracted from mail message
**KIDS**:PSS*1.0*190^

**INSTALL NAME**
PSS*1.0*190
"BLD",9889,0)
PSS*1.0*190^PHARMACY DATA MANAGEMENT^0^3150212^y
"BLD",9889,1,0)
^^4^4^3150212^
"BLD",9889,1,1,0)
Patch PSS*1.0*190 addresses the following issue:
"BLD",9889,1,2,0)
 
"BLD",9889,1,3,0)
Unable to enter new national drug interactions into Drug Interactions 
"BLD",9889,1,4,0)
file (#56).
"BLD",9889,4,0)
^9.64PA^^
"BLD",9889,6.3)
1
"BLD",9889,"KRN",0)
^9.67PA^779.2^20
"BLD",9889,"KRN",.4,0)
.4
"BLD",9889,"KRN",.401,0)
.401
"BLD",9889,"KRN",.402,0)
.402
"BLD",9889,"KRN",.403,0)
.403
"BLD",9889,"KRN",.5,0)
.5
"BLD",9889,"KRN",.84,0)
.84
"BLD",9889,"KRN",3.6,0)
3.6
"BLD",9889,"KRN",3.8,0)
3.8
"BLD",9889,"KRN",9.2,0)
9.2
"BLD",9889,"KRN",9.8,0)
9.8
"BLD",9889,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",9889,"KRN",9.8,"NM",1,0)
PSSDINT^^0^B10778601
"BLD",9889,"KRN",9.8,"NM","B","PSSDINT",1)

"BLD",9889,"KRN",19,0)
19
"BLD",9889,"KRN",19.1,0)
19.1
"BLD",9889,"KRN",101,0)
101
"BLD",9889,"KRN",409.61,0)
409.61
"BLD",9889,"KRN",771,0)
771
"BLD",9889,"KRN",779.2,0)
779.2
"BLD",9889,"KRN",870,0)
870
"BLD",9889,"KRN",8989.51,0)
8989.51
"BLD",9889,"KRN",8989.52,0)
8989.52
"BLD",9889,"KRN",8994,0)
8994
"BLD",9889,"KRN","B",.4,.4)

"BLD",9889,"KRN","B",.401,.401)

"BLD",9889,"KRN","B",.402,.402)

"BLD",9889,"KRN","B",.403,.403)

"BLD",9889,"KRN","B",.5,.5)

"BLD",9889,"KRN","B",.84,.84)

"BLD",9889,"KRN","B",3.6,3.6)

"BLD",9889,"KRN","B",3.8,3.8)

"BLD",9889,"KRN","B",9.2,9.2)

"BLD",9889,"KRN","B",9.8,9.8)

"BLD",9889,"KRN","B",19,19)

"BLD",9889,"KRN","B",19.1,19.1)

"BLD",9889,"KRN","B",101,101)

"BLD",9889,"KRN","B",409.61,409.61)

"BLD",9889,"KRN","B",771,771)

"BLD",9889,"KRN","B",779.2,779.2)

"BLD",9889,"KRN","B",870,870)

"BLD",9889,"KRN","B",8989.51,8989.51)

"BLD",9889,"KRN","B",8989.52,8989.52)

"BLD",9889,"KRN","B",8994,8994)

"BLD",9889,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",9889,"QUES",0)
^9.62^^
"BLD",9889,"REQB",0)
^9.611^1^1
"BLD",9889,"REQB",1,0)
PSS*1.0*43^2
"BLD",9889,"REQB","B","PSS*1.0*43",1)

"MBREQ")
0
"PKG",488,-1)
1^1
"PKG",488,0)
PHARMACY DATA MANAGEMENT^PSS^Maintenance of Pharmacy files.
"PKG",488,20,0)
^9.402P^^
"PKG",488,22,0)
^9.49I^1^1
"PKG",488,22,1,0)
1.0^2970930^3000316^66481
"PKG",488,22,1,"PAH",1,0)
190^3150212
"PKG",488,22,1,"PAH",1,1,0)
^^4^4^3150212
"PKG",488,22,1,"PAH",1,1,1,0)
Patch PSS*1.0*190 addresses the following issue:
"PKG",488,22,1,"PAH",1,1,2,0)
 
"PKG",488,22,1,"PAH",1,1,3,0)
Unable to enter new national drug interactions into Drug Interactions 
"PKG",488,22,1,"PAH",1,1,4,0)
file (#56).
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PSSDINT")
0^1^B10778601^B9949101
"RTN","PSSDINT",1,0)
PSSDINT ;BIR/DMA - ENTER/EDIT INTERACTIONS ; 02/11/15 12:53
"RTN","PSSDINT",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**17,20,43,190**;9/30/97;Build 1
"RTN","PSSDINT",3,0)
 ;
"RTN","PSSDINT",4,0)
 ;Reference to $$KSP^XUPARAM("INST") supported by DBIA #2541
"RTN","PSSDINT",5,0)
 ;Reference to ^PS(56 supported by DBIA #2133
"RTN","PSSDINT",6,0)
 ;Reference to ^XMD supported by DBIA #10070
"RTN","PSSDINT",7,0)
 ;
"RTN","PSSDINT",8,0)
GO W !!
"RTN","PSSDINT",9,0)
 S PSNDF=1 K PSN,PSN1,PSN2,PSNN,PSNNN
"RTN","PSSDINT",10,0)
 S DIC=50.416,DIC(0)="AEMQZ",DIC("A")="Choose first ingredient ",DIC("S")="I '$P(^(0),""^"",2)" D ^DIC G OUT:Y<0 S PSN1=+Y,PSNN($P(Y(0),"^"))=""
"RTN","PSSDINT",11,0)
 S DIC("A")="Choose second ingredient ",DIC("S")=DIC("S")_",+Y'=PSN1" D ^DIC G OUT:Y<0 S PSN2=+Y,PSNN($P(Y(0),"^"))=""
"RTN","PSSDINT",12,0)
 S DA=$O(^PS(56,"AE",PSN1,PSN2,0)) I DA S PSN=^PS(56,DA,0),PSNL=$G(^PS(56,DA,"L")) D  G GO
"RTN","PSSDINT",13,0)
 .I DA<=15000!(DA>50000),$P(PSN,"^",4)=1,'PSNL W !!,"That interaction is nationally entered and may not be edited." Q  ;190 edit
"RTN","PSSDINT",14,0)
 .S DIR(0)="Y",DIR("A")="That interaction already exists.  Do you wish to edit it" D ^DIR Q:'Y  K DIR S DIR(0)="56,3"
"RTN","PSSDINT",15,0)
 .D ^DIR Q:'Y  S DIE="^PS(56,",DR="3////"_Y_";6////1;" S:DA>15000&(DA<50001) DR=DR_"7;" D ^DIE D SEVMSG Q  ;190 edit
"RTN","PSSDINT",16,0)
 S PSNNN=$O(PSNN(""))_"/"_$O(PSNN($O(PSNN(""))))
"RTN","PSSDINT",17,0)
 K DA,DIR S DIR(0)="56,3" D ^DIR G OUT:$D(DTOUT)!$D(DUOUT) S PSN=Y
"RTN","PSSDINT",18,0)
 W !,PSNNN,"   Severity : ",Y(0)
"RTN","PSSDINT",19,0)
 S DIR(0)="Y",DIR("A")="OK to add " D ^DIR G OUT:$D(DTOUT)!$D(DUOUT) I 'Y K PSNN,PSNNN G GO
"RTN","PSSDINT",20,0)
 F  L +^PS(56):3 Q:$T
"RTN","PSSDINT",21,0)
 S DINUM=$O(^PS(56,50000),-1)+1 I DINUM<=15000 S DINUM=15001 ;190 edit
"RTN","PSSDINT",22,0)
 S DIC("DR")="1////"_PSN1_";2////"_PSN2_";3////"_PSN_";6////1",DIC="^PS(56,",DIC(0)="L",X=PSNNN K DD,DO D FILE^DICN L -^PS(56) D ADDMSG
"RTN","PSSDINT",23,0)
 K PSN,PSN1,PSN2,PSNN,PSNNN G GO
"RTN","PSSDINT",24,0)
 ;
"RTN","PSSDINT",25,0)
OUT K PSN,PSN1,PSN2,PSNDF,PSNL,PSNN,PSNNN,DA,DIC,DIR,DIRUT,DR,X,Y,PSNIFN,PSNSEV,PSSFLTY,PSSIIEN,XMDUZ,XMSUB,XMTEXT,XMY,DIE,DINUM,DTOUT,DUOUT
"RTN","PSSDINT",26,0)
 K ^TMP($J,"PSS")
"RTN","PSSDINT",27,0)
 Q
"RTN","PSSDINT",28,0)
 ;
"RTN","PSSDINT",29,0)
SEVMSG ;If change in severity nationally; send mail message.
"RTN","PSSDINT",30,0)
 Q:$G(PSNL)  S PSNIFN=^PS(56,DA,0) Q:$P(PSNIFN,U,4)=2
"RTN","PSSDINT",31,0)
 D HEADER S XMSUB="Drug Interaction Severity Change from "_PSSFLTY_"."
"RTN","PSSDINT",32,0)
 S ^TMP($J,"PSS",1)="The severity of a nationally entered drug interaction has been edited."
"RTN","PSSDINT",33,0)
 S ^TMP($J,"PSS",2)="" S ^TMP($J,"PSS",3)=""_$P(PSNIFN,U)_" Drug Interaction severity"
"RTN","PSSDINT",34,0)
 S ^TMP($J,"PSS",4)="changed from SIGNIFICANT to CRITICAL."
"RTN","PSSDINT",35,0)
 S XMTEXT="^TMP($J,""PSS""," D ^XMD
"RTN","PSSDINT",36,0)
 Q
"RTN","PSSDINT",37,0)
 ;
"RTN","PSSDINT",38,0)
ADDMSG ;If adding new local interaction; send mail message.
"RTN","PSSDINT",39,0)
 D HEADER S XMSUB="Local Drug Interaction Added from "_PSSFLTY_"."
"RTN","PSSDINT",40,0)
 S ^TMP($J,"PSS",1)="Local "_PSNNN_" Drug Interaction"
"RTN","PSSDINT",41,0)
 S ^TMP($J,"PSS",2)="with a severity of "_$S($P(^PS(56,+Y,0),U,4)=2:"SIGNIFICANT",1:"CRITICAL")_" has been added."
"RTN","PSSDINT",42,0)
 S XMTEXT="^TMP($J,""PSS""," D ^XMD
"RTN","PSSDINT",43,0)
 Q
"RTN","PSSDINT",44,0)
 ;
"RTN","PSSDINT",45,0)
HEADER ;Message header; facility name
"RTN","PSSDINT",46,0)
 S PSSIIEN=$$KSP^XUPARAM("INST"),PSSFLTY=$$GET1^DIQ(4,PSSIIEN,.01)
"RTN","PSSDINT",47,0)
 S XMDUZ=DUZ,XMY("G.NDF SUPPORT@ISCPNDF.ISC-BIRM.DOMAIN.EXT")=""
"RTN","PSSDINT",48,0)
 Q
"VER")
8.0^22.0
"BLD",9889,6)
^165
**END**
**END**

