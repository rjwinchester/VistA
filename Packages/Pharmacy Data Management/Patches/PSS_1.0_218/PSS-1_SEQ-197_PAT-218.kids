Released PSS*1*218 SEQ #197
Extracted from mail message
**KIDS**:PSS*1.0*218^

**INSTALL NAME**
PSS*1.0*218
"BLD",10509,0)
PSS*1.0*218^PHARMACY DATA MANAGEMENT^0^3180125^y
"BLD",10509,1,0)
^^21^21^3180125^
"BLD",10509,1,1,0)
This patch has the following enhancements for Clinical Ancillary Services
"BLD",10509,1,2,0)
(CAS) Enhancements (RXSU2).
"BLD",10509,1,3,0)
 
"BLD",10509,1,4,0)
1. Update DEA SPECIAL HANDLING Field Documentation
"BLD",10509,1,5,0)
   
"BLD",10509,1,6,0)
   A new code letter "K" was added to for the DEA, SPECIAL HDLG (#3) in 
"BLD",10509,1,7,0)
   the DRUG file (#50) to document in VistA when providers renew
"BLD",10509,1,8,0)
   medications for patients that cannot be automatically renewed by the
"BLD",10509,1,9,0)
   patient via Audiocare.
"BLD",10509,1,10,0)
     
"BLD",10509,1,11,0)
   Help text added for this field during PSS DRUG ENTER/EDIT option:
"BLD",10509,1,12,0)
   
"BLD",10509,1,13,0)
         "K      Not Renewable (by telephone)
"BLD",10509,1,14,0)
 
"BLD",10509,1,15,0)
2. Manage Lookup List Inactive Entries
"BLD",10509,1,16,0)
 
"BLD",10509,1,17,0)
   The following files have added a new field identifier to their data 
"BLD",10509,1,18,0)
   dictionaries to indicate if they are marked as Inactive entries.
"BLD",10509,1,19,0)
 
"BLD",10509,1,20,0)
    a. ADMINISTRATION SCHEDULE file (#51.1) the INACTIVE field (#12).
"BLD",10509,1,21,0)
    b. DRUG TEXT file (#51.7) the INACTIVATION DATE field (#2).
"BLD",10509,4,0)
^9.64PA^51.7^2
"BLD",10509,4,51.1,0)
51.1
"BLD",10509,4,51.1,222)
y^y^f^^^^n^^n
"BLD",10509,4,51.1,224)

"BLD",10509,4,51.7,0)
51.7
"BLD",10509,4,51.7,222)
y^y^f^^^^n^^n
"BLD",10509,4,51.7,224)

"BLD",10509,4,"B",51.1,51.1)

"BLD",10509,4,"B",51.7,51.7)

"BLD",10509,6.3)
13
"BLD",10509,"ABPKG")
n
"BLD",10509,"KRN",0)
^9.67PA^779.2^20
"BLD",10509,"KRN",.4,0)
.4
"BLD",10509,"KRN",.401,0)
.401
"BLD",10509,"KRN",.402,0)
.402
"BLD",10509,"KRN",.403,0)
.403
"BLD",10509,"KRN",.5,0)
.5
"BLD",10509,"KRN",.84,0)
.84
"BLD",10509,"KRN",3.6,0)
3.6
"BLD",10509,"KRN",3.8,0)
3.8
"BLD",10509,"KRN",9.2,0)
9.2
"BLD",10509,"KRN",9.8,0)
9.8
"BLD",10509,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",10509,"KRN",9.8,"NM",1,0)
PSSDDUT2^^0^B174697061
"BLD",10509,"KRN",9.8,"NM",2,0)
PSSJSV0^^0^B26630523
"BLD",10509,"KRN",9.8,"NM","B","PSSDDUT2",1)

"BLD",10509,"KRN",9.8,"NM","B","PSSJSV0",2)

"BLD",10509,"KRN",19,0)
19
"BLD",10509,"KRN",19.1,0)
19.1
"BLD",10509,"KRN",101,0)
101
"BLD",10509,"KRN",409.61,0)
409.61
"BLD",10509,"KRN",771,0)
771
"BLD",10509,"KRN",779.2,0)
779.2
"BLD",10509,"KRN",870,0)
870
"BLD",10509,"KRN",8989.51,0)
8989.51
"BLD",10509,"KRN",8989.52,0)
8989.52
"BLD",10509,"KRN",8994,0)
8994
"BLD",10509,"KRN","B",.4,.4)

"BLD",10509,"KRN","B",.401,.401)

"BLD",10509,"KRN","B",.402,.402)

"BLD",10509,"KRN","B",.403,.403)

"BLD",10509,"KRN","B",.5,.5)

"BLD",10509,"KRN","B",.84,.84)

"BLD",10509,"KRN","B",3.6,3.6)

"BLD",10509,"KRN","B",3.8,3.8)

"BLD",10509,"KRN","B",9.2,9.2)

"BLD",10509,"KRN","B",9.8,9.8)

"BLD",10509,"KRN","B",19,19)

"BLD",10509,"KRN","B",19.1,19.1)

"BLD",10509,"KRN","B",101,101)

"BLD",10509,"KRN","B",409.61,409.61)

"BLD",10509,"KRN","B",771,771)

"BLD",10509,"KRN","B",779.2,779.2)

"BLD",10509,"KRN","B",870,870)

"BLD",10509,"KRN","B",8989.51,8989.51)

"BLD",10509,"KRN","B",8989.52,8989.52)

"BLD",10509,"KRN","B",8994,8994)

"BLD",10509,"QUES",0)
^9.62^^
"BLD",10509,"REQB",0)
^9.611^1^1
"BLD",10509,"REQB",1,0)
PSS*1.0*192^2
"BLD",10509,"REQB","B","PSS*1.0*192",1)

"FIA",51.1)
ADMINISTRATION SCHEDULE
"FIA",51.1,0)
^PS(51.1,
"FIA",51.1,0,0)
51.1I
"FIA",51.1,0,1)
y^y^f^^^^n^^n
"FIA",51.1,0,10)

"FIA",51.1,0,11)

"FIA",51.1,0,"RLRO")

"FIA",51.1,0,"VR")
1.0^PSS
"FIA",51.1,51.1)
0
"FIA",51.1,51.11)
0
"FIA",51.1,51.111)
0
"FIA",51.1,51.113)
0
"FIA",51.1,51.17)
0
"FIA",51.7)
DRUG TEXT
"FIA",51.7,0)
^PS(51.7,
"FIA",51.7,0,0)
51.7I
"FIA",51.7,0,1)
y^y^f^^^^n^^n
"FIA",51.7,0,10)

"FIA",51.7,0,11)

"FIA",51.7,0,"RLRO")

"FIA",51.7,0,"VR")
1.0^PSS
"FIA",51.7,51.7)
0
"FIA",51.7,51.71)
0
"FIA",51.7,51.73)
0
"MBREQ")
0
"PKG",586,-1)
1^1
"PKG",586,0)
PHARMACY DATA MANAGEMENT^PSS^Maintenance of Pharmacy files.
"PKG",586,20,0)
^9.402P^^
"PKG",586,22,0)
^9.49I^1^1
"PKG",586,22,1,0)
1.0^2970930^2971128^1
"PKG",586,22,1,"PAH",1,0)
218^3180125
"PKG",586,22,1,"PAH",1,1,0)
^^21^21^3180125
"PKG",586,22,1,"PAH",1,1,1,0)
This patch has the following enhancements for Clinical Ancillary Services
"PKG",586,22,1,"PAH",1,1,2,0)
(CAS) Enhancements (RXSU2).
"PKG",586,22,1,"PAH",1,1,3,0)
 
"PKG",586,22,1,"PAH",1,1,4,0)
1. Update DEA SPECIAL HANDLING Field Documentation
"PKG",586,22,1,"PAH",1,1,5,0)
   
"PKG",586,22,1,"PAH",1,1,6,0)
   A new code letter "K" was added to for the DEA, SPECIAL HDLG (#3) in 
"PKG",586,22,1,"PAH",1,1,7,0)
   the DRUG file (#50) to document in VistA when providers renew
"PKG",586,22,1,"PAH",1,1,8,0)
   medications for patients that cannot be automatically renewed by the
"PKG",586,22,1,"PAH",1,1,9,0)
   patient via Audiocare.
"PKG",586,22,1,"PAH",1,1,10,0)
     
"PKG",586,22,1,"PAH",1,1,11,0)
   Help text added for this field during PSS DRUG ENTER/EDIT option:
"PKG",586,22,1,"PAH",1,1,12,0)
   
"PKG",586,22,1,"PAH",1,1,13,0)
         "K      Not Renewable (by telephone)
"PKG",586,22,1,"PAH",1,1,14,0)
 
"PKG",586,22,1,"PAH",1,1,15,0)
2. Manage Lookup List Inactive Entries
"PKG",586,22,1,"PAH",1,1,16,0)
 
"PKG",586,22,1,"PAH",1,1,17,0)
   The following files have added a new field identifier to their data 
"PKG",586,22,1,"PAH",1,1,18,0)
   dictionaries to indicate if they are marked as Inactive entries.
"PKG",586,22,1,"PAH",1,1,19,0)
 
"PKG",586,22,1,"PAH",1,1,20,0)
    a. ADMINISTRATION SCHEDULE file (#51.1) the INACTIVE field (#12).
"PKG",586,22,1,"PAH",1,1,21,0)
    b. DRUG TEXT file (#51.7) the INACTIVATION DATE field (#2).
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","PSSDDUT2")
0^1^B174697061^B173773291
"RTN","PSSDDUT2",1,0)
PSSDDUT2 ;BIR/LDT - Pharmacy Data Management DD Utility ;1/20/16 2:45pm
"RTN","PSSDDUT2",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**3,21,61,81,95,127,126,139,131,143,188,189,192,218**;9/30/97;Build 13
"RTN","PSSDDUT2",3,0)
 ;
"RTN","PSSDDUT2",4,0)
 ;Reference to ^DIC(42 supported by DBIA #10039
"RTN","PSSDDUT2",5,0)
 ;Reference to ^DD(59.723 supported by DBIA #2159
"RTN","PSSDDUT2",6,0)
 ;Reference to ^PSNDF(50.68 supported by DBIA 3735
"RTN","PSSDDUT2",7,0)
 ;
"RTN","PSSDDUT2",8,0)
DEA ;(Replaces ^PSODEA)
"RTN","PSSDDUT2",9,0)
 S PSSHLP(1)="THE SPECIAL HANDLING CODE IS A 2 TO 6 POSTION FIELD.  IF APPLICABLE,"
"RTN","PSSDDUT2",10,0)
 S PSSHLP(2)="A SCHEDULE CODE MUST APPEAR IN THE FIRST POSITION.  FOR EXAMPLE,"
"RTN","PSSDDUT2",11,0)
 S PSSHLP(3)="A SCHEDULE 3 NARCOTIC WILL BE CODED '3A', A SCHEDULE 3 NON-NARCOTIC WILL BE"
"RTN","PSSDDUT2",12,0)
 S PSSHLP(4)="CODED '3C' AND A SCHEDULE 2 DEPRESSANT WILL BE CODED '2L'."
"RTN","PSSDDUT2",13,0)
 S PSSHLP(5)="THE CODES ARE:"
"RTN","PSSDDUT2",14,0)
 D WRITE
"RTN","PSSDDUT2",15,0)
 F II=1:1 Q:$P($T(D+II),";",3)=""  S PSSHLP(II)=$P($T(D+II),";",3,99)
"RTN","PSSDDUT2",16,0)
 S PSSHLP(1,"F")="!!" D WRITE
"RTN","PSSDDUT2",17,0)
 D PKIND,WRITE
"RTN","PSSDDUT2",18,0)
D K II Q
"RTN","PSSDDUT2",19,0)
 ;;0          MANUFACTURED IN PHARMACY
"RTN","PSSDDUT2",20,0)
 ;;1          SCHEDULE 1 ITEM
"RTN","PSSDDUT2",21,0)
 ;;2          SCHEDULE 2 ITEM
"RTN","PSSDDUT2",22,0)
 ;;3          SCHEDULE 3 ITEM
"RTN","PSSDDUT2",23,0)
 ;;4          SCHEDULE 4 ITEM
"RTN","PSSDDUT2",24,0)
 ;;5          SCHEDULE 5 ITEM
"RTN","PSSDDUT2",25,0)
 ;;6          LEGEND ITEM
"RTN","PSSDDUT2",26,0)
 ;;9          OVER-THE-COUNTER
"RTN","PSSDDUT2",27,0)
 ;;L          DEPRESSANTS AND STIMULANTS
"RTN","PSSDDUT2",28,0)
 ;;A          NARCOTICS AND ALCOHOLS
"RTN","PSSDDUT2",29,0)
 ;;P          DATED DRUGS
"RTN","PSSDDUT2",30,0)
 ;;I          INVESTIGATIONAL DRUGS
"RTN","PSSDDUT2",31,0)
 ;;M          BULK COMPOUND ITEMS
"RTN","PSSDDUT2",32,0)
 ;;C          CONTROLLED SUBSTANCES - NON NARCOTIC
"RTN","PSSDDUT2",33,0)
 ;;R          RESTRICTED ITEMS
"RTN","PSSDDUT2",34,0)
 ;;S          SUPPLY ITEMS
"RTN","PSSDDUT2",35,0)
 ;;B          ALLOW REFILL (SCH. 3, 4, 5 ONLY)
"RTN","PSSDDUT2",36,0)
 ;;W          NOT RENEWABLE
"RTN","PSSDDUT2",37,0)
 ;;F          NON REFILLABLE
"RTN","PSSDDUT2",38,0)
 ;;N          NUTRITIONAL SUPPLEMENT
"RTN","PSSDDUT2",39,0)
 ;;K          NOT RENEWABLE (BY TELEPHONE)
"RTN","PSSDDUT2",40,0)
 ;;
"RTN","PSSDDUT2",41,0)
DEATBL ; More Help regarding DEA Codes
"RTN","PSSDDUT2",42,0)
 K PSSHLP
"RTN","PSSDDUT2",43,0)
 F II=1:1 Q:$P($T(TBL+II),";",3)=""  S PSSHLP(II)=$P($T(TBL+II),";",3,99)
"RTN","PSSDDUT2",44,0)
 S PSSHLP(1,"F")="!!" D WRITE
"RTN","PSSDDUT2",45,0)
 ;
"RTN","PSSDDUT2",46,0)
TBL K II Q
"RTN","PSSDDUT2",47,0)
 ;;          DEA CODE TABLE
"RTN","PSSDDUT2",48,0)
 ;; CODE   ALLOW RENEWS ALLOW REFILLS
"RTN","PSSDDUT2",49,0)
 ;; 1            NO           NO
"RTN","PSSDDUT2",50,0)
 ;; 2            NO           NO
"RTN","PSSDDUT2",51,0)
 ;; 2A           NO           NO 
"RTN","PSSDDUT2",52,0)
 ;; 3            YES          YES
"RTN","PSSDDUT2",53,0)
 ;; 3A           YES          NO
"RTN","PSSDDUT2",54,0)
 ;; 3AB          YES          YES
"RTN","PSSDDUT2",55,0)
 ;; 4            YES          YES
"RTN","PSSDDUT2",56,0)
 ;; 4A           YES          NO
"RTN","PSSDDUT2",57,0)
 ;; 4AB          YES          YES
"RTN","PSSDDUT2",58,0)
 ;; 5            YES          YES
"RTN","PSSDDUT2",59,0)
 ;; 5A           YES          NO
"RTN","PSSDDUT2",60,0)
 ;; 5AB          YES          YES
"RTN","PSSDDUT2",61,0)
 ;; ADDING W TO A SCHED. 3,4,OR 5 CODE DISALLOWS RENEWS.
"RTN","PSSDDUT2",62,0)
 ;; ADDING F TO A SCHED. 3,4,OR 5 CODE DISALLOWS REFILLS
"RTN","PSSDDUT2",63,0)
 ;; IF A CODE IS NOT LISTED IN THE ABOVE TABLE
"RTN","PSSDDUT2",64,0)
 ;; IT HAS NO EFFECT ON RENEW OR REFILL
"RTN","PSSDDUT2",65,0)
SIG ;checks SIG for RXs (Replaces SIG^PSOHELP)
"RTN","PSSDDUT2",66,0)
 I $E(X)=" " D EN^DDIOL("Leading spaces are not allowed in the SIG! ","","$C(7),!") K X Q
"RTN","PSSDDUT2",67,0)
SIGONE S SIG="" Q:$L(X)<1  F Z0=1:1:$L(X," ") G:Z0="" EN S Z1=$P(X," ",Z0) D  G:'$D(X) EN
"RTN","PSSDDUT2",68,0)
 .I $L(Z1)>32 D EN^DDIOL("MAX OF 32 CHARACTERS ALLOWED BETWEEN SPACES.","","$C(7),!?5") K X Q
"RTN","PSSDDUT2",69,0)
 .D:$D(X)&($G(Z1)]"")  S SIG=SIG_" "_Z1
"RTN","PSSDDUT2",70,0)
 ..S Y=$O(^PS(51,"B",Z1,0)) Q:'Y!($P($G(^PS(51,+Y,0)),"^",4)>1)  S Z1=$P(^PS(51,Y,0),"^",2) Q:'$D(^(9))  S Y=$P(X," ",Z0-1),Y=$E(Y,$L(Y)) S:Y>1 Z1=^(9)
"RTN","PSSDDUT2",71,0)
EN K Z1,Z0 ;S:$G(POERR) PSOERR("SIG")="("_$E(SIG,2,999999999)_")"
"RTN","PSSDDUT2",72,0)
 Q
"RTN","PSSDDUT2",73,0)
 ;
"RTN","PSSDDUT2",74,0)
DRUGW ;(Replaces DRUGW^PSOUTLA)
"RTN","PSSDDUT2",75,0)
 F Z0=1:1 Q:$P(X,",",Z0,99)=""  S Z1=$P(X,",",Z0) D:$D(^PS(54,Z1,0)) EN^DDIOL($P(^(0),"^"),"","!,?35") I '$D(^(0)) D EN^DDIOL("NO SUCH WARNING LABEL","","?35") K X Q
"RTN","PSSDDUT2",76,0)
 Q
"RTN","PSSDDUT2",77,0)
 ;
"RTN","PSSDDUT2",78,0)
P ;(Replaces ^PSODSRC)
"RTN","PSSDDUT2",79,0)
 S PSSHLP(1)="A TWO OR THREE POSITION CODE IDENTIFIES THE SOURCE OF SUPPLY AND WHETHER"
"RTN","PSSDDUT2",80,0)
 S PSSHLP(2)="THE DRUG IS STOCKED BY THE STATION SUPPLY DIVISION.  THE FIRST"
"RTN","PSSDDUT2",81,0)
 S PSSHLP(3)="POSITION OF THE CODE IDENTIFIES SOURCE OF SUPPLY.  THE CODES ARE:"
"RTN","PSSDDUT2",82,0)
 D WRITE
"RTN","PSSDDUT2",83,0)
 F II=0:1:10 S PSSHLP(II+1)=$P($T(S+II+1),";",3),PSSHLP(II+1,"F")="!?10"
"RTN","PSSDDUT2",84,0)
 S PSSHLP(1,"F")="!!?10"
"RTN","PSSDDUT2",85,0)
 D WRITE
"RTN","PSSDDUT2",86,0)
 S PSSHLP(1)="THE SECOND POSITION OF THE CODE INDICATES WHETHER THE ITEM IS"
"RTN","PSSDDUT2",87,0)
 S PSSHLP(2)="OR IS NOT AVAILABLE FROM SUPPLY WAREHOUSE STOCK.  THE CODES ARE:"
"RTN","PSSDDUT2",88,0)
 S PSSHLP(3)="P          POSTED STOCK"
"RTN","PSSDDUT2",89,0)
 S PSSHLP(3,"F")="!!?10"
"RTN","PSSDDUT2",90,0)
 S PSSHLP(4)="U          UNPOSTED"
"RTN","PSSDDUT2",91,0)
 S PSSHLP(4,"F")="!?10"
"RTN","PSSDDUT2",92,0)
 S PSSHLP(5)="M          BULK COMPOUND"
"RTN","PSSDDUT2",93,0)
 S PSSHLP(5,"F")="!?10"
"RTN","PSSDDUT2",94,0)
 S PSSHLP(6)="*  USE CODE 0 ONLY WITH SECOND POSITION M."
"RTN","PSSDDUT2",95,0)
 D WRITE Q
"RTN","PSSDDUT2",96,0)
 ;
"RTN","PSSDDUT2",97,0)
S ;;DESCRIPTION MEANINGS
"RTN","PSSDDUT2",98,0)
 ;;0          BULK COMPOUND ITEMS *
"RTN","PSSDDUT2",99,0)
 ;;1          VA SERVICING SUPPLY DEPOT
"RTN","PSSDDUT2",100,0)
 ;;2          OPEN MARKET
"RTN","PSSDDUT2",101,0)
 ;;3          GSA STORES DEPOT
"RTN","PSSDDUT2",102,0)
 ;;4          VA DECENTRALIZED CONTRACTS
"RTN","PSSDDUT2",103,0)
 ;;5          FEDERAL PRISON INDUSTRIES, INC.
"RTN","PSSDDUT2",104,0)
 ;;6          FEDERAL SUPPLY SCHEDULES
"RTN","PSSDDUT2",105,0)
 ;;7          VA SUPPLY DEPOT, HINES
"RTN","PSSDDUT2",106,0)
 ;;8          VA SUPPLY DEPOT, SOMERVILLE
"RTN","PSSDDUT2",107,0)
 ;;9          APPROPRIATE MARKETING DIVISION
"RTN","PSSDDUT2",108,0)
 ;;10         VA SUPPLY DEPOT, BELL
"RTN","PSSDDUT2",109,0)
EDIT ;INPUT XFORM FOR DEA FIELD IN DRUG FILE (Replaces EDIT^PSODEA)
"RTN","PSSDDUT2",110,0)
 I X["F",X["B" D EN^DDIOL("Inappropriate F designation!","","$C(7),!") K X Q
"RTN","PSSDDUT2",111,0)
 ;;DEA CHANGE PSS*1*126
"RTN","PSSDDUT2",112,0)
 I X["B",(+X<3) D EN^DDIOL("The B designation is only valid for schedule 3, 4, 5 !","","$C(7),!") K X Q
"RTN","PSSDDUT2",113,0)
 I X["A"&(X["C"),+X=2!(+X=3) D EN^DDIOL("The A & C designation is not valid for schedule 2 or 3 narcotics!","","$C(7),!") K X Q
"RTN","PSSDDUT2",114,0)
 I $E(X)=1,X[2!(X[3)!(X[4)!(X[5) D EN^DDIOL("It contains other inappropriate schedule 2-5 narcotics!","","$C(7),!") K X Q
"RTN","PSSDDUT2",115,0)
 I $E(X)=2,X[1!(X[3)!(X[4)!(X[5) D EN^DDIOL("It contains other inappropriate schedule 1,3-5 narcotics!","","$C(7),!") K X Q
"RTN","PSSDDUT2",116,0)
 I $E(X)=3,X[1!(X[2)!(X[4)!(X[5) D EN^DDIOL("It contains other inappropriate schedule 1-2,4-5 narcotics!","","$C(7),!") K X Q
"RTN","PSSDDUT2",117,0)
 I $E(X)=4,X[1!(X[2)!(X[3)!(X[5) D EN^DDIOL("It contains other inappropriate schedule 1-3,5 narcotics!","","$C(7),!") K X Q
"RTN","PSSDDUT2",118,0)
 I $E(X)=5,X[1!(X[2)!(X[3)!(X[4) D EN^DDIOL("It contains other inappropriate schedule 1-4 narcotics!","","$C(7),!") K X Q
"RTN","PSSDDUT2",119,0)
 ;
"RTN","PSSDDUT2",120,0)
 I X["E"!(X["U") D
"RTN","PSSDDUT2",121,0)
 .I X["E" D EN^DDIOL("Note: Adding E has no ePharmacy impact. Use the ePharmacy Billable fields.","","$C(7),!")
"RTN","PSSDDUT2",122,0)
 .I X["U" D EN^DDIOL("Note: Adding U has no ePharmacy impact. Use the Sensitive Diagnosis Drug field.","","$C(7),!")
"RTN","PSSDDUT2",123,0)
 .Q
"RTN","PSSDDUT2",124,0)
 ;
"RTN","PSSDDUT2",125,0)
 Q
"RTN","PSSDDUT2",126,0)
 ;
"RTN","PSSDDUT2",127,0)
WRITE ;Calls EN^DDIOL to write text
"RTN","PSSDDUT2",128,0)
 D EN^DDIOL(.PSSHLP) K PSSHLP
"RTN","PSSDDUT2",129,0)
 Q
"RTN","PSSDDUT2",130,0)
 ;
"RTN","PSSDDUT2",131,0)
PKIND I +$P($G(^PSDRUG(DA,"ND")),"^",3) S PSSK=$P(^("ND"),"^",3) D
"RTN","PSSDDUT2",132,0)
 .S PSSK=$$GET1^DIQ(50.68,PSSK,19,"I") I PSSK S PSSK=$$CSDEA^PSSDDUT2(PSSK) D
"RTN","PSSDDUT2",133,0)
 ..I $L(PSSK)=1,$P(^PSDRUG(DA,0),"^",3)[PSSK Q
"RTN","PSSDDUT2",134,0)
 ..I $P(^PSDRUG(DA,0),"^",3)[$E(PSSK),$P(^PSDRUG(DA,0),"^",3)[$E(PSSK,2) Q
"RTN","PSSDDUT2",135,0)
 ..W !!,"The CS Federal Schedule associated with this drug in the VA Product file"
"RTN","PSSDDUT2",136,0)
 ..W !,"represents a DEA, Special Handling code of "_PSSK
"RTN","PSSDDUT2",137,0)
 Q
"RTN","PSSDDUT2",138,0)
 ;
"RTN","PSSDDUT2",139,0)
CSDEA(CS) ;
"RTN","PSSDDUT2",140,0)
 Q:'CS ""
"RTN","PSSDDUT2",141,0)
 Q $S(CS?1(1"2n",1"3n"):+CS_"C",+CS=2!(+CS=3)&(CS'["C"):+CS_"A",1:CS)
"RTN","PSSDDUT2",142,0)
 ;
"RTN","PSSDDUT2",143,0)
CLOZ ;DEL node of DRUG file 50, fields 17.2, 17.3, 17.4
"RTN","PSSDDUT2",144,0)
 S PSSHLP(1)="To delete this field use the Unmark Clozapine Drug option in the"
"RTN","PSSDDUT2",145,0)
 S PSSHLP(2)="Clozapine Pharmacy Manager menu."
"RTN","PSSDDUT2",146,0)
 D WRITE
"RTN","PSSDDUT2",147,0)
 Q
"RTN","PSSDDUT2",148,0)
 ;
"RTN","PSSDDUT2",149,0)
NONF ;Non-Formulary Input Transform DRUG file 50, field 51
"RTN","PSSDDUT2",150,0)
 S PSSHLP(1)="This drug cannot be marked as a non-formulary item because it is"
"RTN","PSSDDUT2",151,0)
 S PSSHLP(2)="designated as a formulary alternative for the following drugs."
"RTN","PSSDDUT2",152,0)
 S PSSHLP(3)=" ",PSSHLP(1,"F")="!!"
"RTN","PSSDDUT2",153,0)
 D WRITE
"RTN","PSSDDUT2",154,0)
 F MM=0:0 S MM=$O(^PSDRUG("AFA",DA,MM)) Q:'MM  S SHEMP=$P(^PSDRUG(MM,0),"^") D EN^DDIOL(SHEMP,"","!?3")
"RTN","PSSDDUT2",155,0)
 S X=""
"RTN","PSSDDUT2",156,0)
 Q
"RTN","PSSDDUT2",157,0)
 ;
"RTN","PSSDDUT2",158,0)
ATC ;Executable help for field 212.2, DRUG file 50
"RTN","PSSDDUT2",159,0)
 S PSSHLP(1)="The mnemonic entered here must match the mnemonic entered into the"
"RTN","PSSDDUT2",160,0)
 S PSSHLP(2)="ATC for this drug EXACTLY, and cannot be numbers only."
"RTN","PSSDDUT2",161,0)
 D WRITE
"RTN","PSSDDUT2",162,0)
 Q
"RTN","PSSDDUT2",163,0)
 ;
"RTN","PSSDDUT2",164,0)
ADTM ;ADMINISTRATION SCHEDULE file 51.1, field 1 Executable Help
"RTN","PSSDDUT2",165,0)
 S PSSHLP(1)="All times must be the same length (2 or 4 characters), must be"
"RTN","PSSDDUT2",166,0)
 S PSSHLP(2)="separated by dashes ('-'), and be in ascending order"
"RTN","PSSDDUT2",167,0)
 S PSSHLP(3)=""
"RTN","PSSDDUT2",168,0)
 S PSSHLP(4)="This is the set of administration times for this Schedule."
"RTN","PSSDDUT2",169,0)
 S PSSHLP(5)=""
"RTN","PSSDDUT2",170,0)
 S PSSHLP(6)="If the Schedule Type is CONTINUOUS the number of administration"
"RTN","PSSDDUT2",171,0)
 S PSSHLP(7)="times cannot conflict with the frequency of the schedule.  For"
"RTN","PSSDDUT2",172,0)
 S PSSHLP(8)="example, a schedule frequency of 720 minutes must have two"
"RTN","PSSDDUT2",173,0)
 S PSSHLP(9)="administration times and a schedule frequency of 360 must have a"
"RTN","PSSDDUT2",174,0)
 S PSSHLP(10)="four administration times."
"RTN","PSSDDUT2",175,0)
 S PSSHLP(11)=""
"RTN","PSSDDUT2",176,0)
 S PSSHLP(12)="If the Schedule Type is CONTINUOUS and is an Odd Schedule (A"
"RTN","PSSDDUT2",177,0)
 S PSSHLP(13)="schedule whose frequency is not evenly divisible by or into"
"RTN","PSSDDUT2",178,0)
 S PSSHLP(14)="1440 minutes or 1 day). Administration Times are not allowed."
"RTN","PSSDDUT2",179,0)
 S PSSHLP(15)="For example Q5H, Q17H - these are not evenly divisible by 1440."
"RTN","PSSDDUT2",180,0)
 S PSSHLP(16)=""
"RTN","PSSDDUT2",181,0)
 S PSSHLP(17)="If the Schedule Type is CONTINUOUS with a non-odd frequency of"
"RTN","PSSDDUT2",182,0)
 S PSSHLP(18)="greater than of 1 day (1440 minutes) then more than one"
"RTN","PSSDDUT2",183,0)
 S PSSHLP(19)="administration time is not allowed.  For example schedules of"
"RTN","PSSDDUT2",184,0)
 S PSSHLP(20)="Q72H, Q3Day, and Q5Day."
"RTN","PSSDDUT2",185,0)
 D WRITE
"RTN","PSSDDUT2",186,0)
 Q
"RTN","PSSDDUT2",187,0)
 ;
"RTN","PSSDDUT2",188,0)
LBLS ;PHARMACY SYSTEM file 59.7, field 61.2 Executable Help
"RTN","PSSDDUT2",189,0)
 S PSSHLP(1)="ANY NEW LABELS OLDER THAN THE NUMBER OF DAYS SPECIFIED HERE WILL"
"RTN","PSSDDUT2",190,0)
 S PSSHLP(2)="AUTOMATICALLY BE PURGED."
"RTN","PSSDDUT2",191,0)
 D WRITE
"RTN","PSSDDUT2",192,0)
 Q
"RTN","PSSDDUT2",193,0)
NFH I '$D(DA(1)) D EN^DDIOL(" (This non-formulary item is "_$P(^PSDRUG($S($D(DA(1)):DA(1),1:DA),0),"^")_".)")
"RTN","PSSDDUT2",194,0)
 Q
"RTN","PSSDDUT2",195,0)
STRTH S STR=" "_$P(X," ",2),PSSHLP(1)=STR,PSSHLP(1,"F")="" D WRITE K STR
"RTN","PSSDDUT2",196,0)
 Q
"RTN","PSSDDUT2",197,0)
PSYS1 D EN^DDIOL("(""From"" ward is "_$S('$D(^PS(59.7,D0,22,D1,0)):"UNKNOWN",'$D(^DIC(42,+^(0),0)):"UNKNOWN",$P(^(0),"^")]"":$P(^(0),"^"),1:"UNKNOWN")_")","","!?3")
"RTN","PSSDDUT2",198,0)
 Q
"RTN","PSSDDUT2",199,0)
PSYS2 ;PSS*1.0*95
"RTN","PSSDDUT2",200,0)
 D EN^DDIOL("(""From"" service is "_$S('$D(^PS(59.7,D0,23,D1,0)):"UNKNOWN",$P(^(0),"^")]"":$P($P(";"_$P(^DD(59.723,.01,0),"^",3),";"_$P(^PS(59.7,D0,23,D1,0),"^")_":",2),";"),1:"UNKNOWN")_")")
"RTN","PSSDDUT2",201,0)
 Q
"RTN","PSSDDUT2",202,0)
 ;
"RTN","PSSDDUT2",203,0)
NCINIT ;
"RTN","PSSDDUT2",204,0)
 K PSSNQM,PSSNQM2,PSSNQM3,PSSONDU,PSSONQM
"RTN","PSSDDUT2",205,0)
NCINIT1 ;
"RTN","PSSDDUT2",206,0)
 I $P($G(^PSDRUG(DA,"EPH")),"^",2)="" S $P(^PSDRUG(DA,"EPH"),"^",2)="EA",$P(^PSDRUG(DA,"EPH"),"^",3)=1 D
"RTN","PSSDDUT2",207,0)
 . S PSSHLP(1)="  Note:     Defaulting the NCPDP DISPENSE UNIT to EACH and the"
"RTN","PSSDDUT2",208,0)
 . S PSSHLP(2)="            NCPDP QUANTITY MULTIPLIER to 1 (one)." S PSSHLP(1,"F")="!!"
"RTN","PSSDDUT2",209,0)
 . D WRITE S PSSHLP(2,"F")="!" D WRITE
"RTN","PSSDDUT2",210,0)
 S PSSONDU=$P(^PSDRUG(DA,"EPH"),"^",2),PSSONQM=$P(^PSDRUG(DA,"EPH"),"^",3)
"RTN","PSSDDUT2",211,0)
 Q
"RTN","PSSDDUT2",212,0)
 ;
"RTN","PSSDDUT2",213,0)
NCPDPDU ;Drug file 50, field 82
"RTN","PSSDDUT2",214,0)
 S:X="" X="EA"
"RTN","PSSDDUT2",215,0)
 D NCINIT1:'$D(PSSONDU)
"RTN","PSSDDUT2",216,0)
 I $G(PSSONDU)'=X&($G(PSSONQM)'=1) D
"RTN","PSSDDUT2",217,0)
 . S PSSHLP(1)="Defaulting the NCPDP QUANTITY MULTIPLIER to 1 (one)." S PSSHLP(1,"F")="!!" D WRITE
"RTN","PSSDDUT2",218,0)
 . S $P(^PSDRUG(DA,"EPH"),"^",3)=1,PSSONDU=$P(^PSDRUG(DA,"EPH"),"^",2),PSSONQM=$P(^PSDRUG(DA,"EPH"),"^",3)
"RTN","PSSDDUT2",219,0)
 Q
"RTN","PSSDDUT2",220,0)
 ;
"RTN","PSSDDUT2",221,0)
NCPDPQM ;Drug file 50, field 83
"RTN","PSSDDUT2",222,0)
 N ZXX S PSSNQM=0,(PSSNQM2,PSSNQM3)=""
"RTN","PSSDDUT2",223,0)
 I $G(X)<.00001 K X S PSSNQM3=1 Q
"RTN","PSSDDUT2",224,0)
 S:$G(X)="" X=1
"RTN","PSSDDUT2",225,0)
 I +$G(X)'=1 D NCPDPWRN D
"RTN","PSSDDUT2",226,0)
NCPDPQM1 . ;
"RTN","PSSDDUT2",227,0)
 . R !,"Ok to continue? (Y/N) ",ZXX:30 S ZXX=$TR(ZXX,"yn","YN")
"RTN","PSSDDUT2",228,0)
 . I ZXX="^" S X=1 W !!?5,"Warning:  Defaulting NCPDP QUANTITY MULTIPLIER to 1 (one).",!! Q
"RTN","PSSDDUT2",229,0)
 . I ZXX'="Y"&(ZXX'="N") W !,"Y or N must be entered." G NCPDPQM1
"RTN","PSSDDUT2",230,0)
 . I ZXX'="Y"&(ZXX'="y") S PSSNQM=1,PSSNQM2=X K X
"RTN","PSSDDUT2",231,0)
 Q
"RTN","PSSDDUT2",232,0)
 ;
"RTN","PSSDDUT2",233,0)
NCPDPWRN ;Message called from NCPDPQM
"RTN","PSSDDUT2",234,0)
 S PSSHLP(2)="WARNING:    For most drug products, the value for this field should be 1 (one)."
"RTN","PSSDDUT2",235,0)
 S PSSHLP(3)="            Answering NO for the following prompt will display more information"
"RTN","PSSDDUT2",236,0)
 S PSSHLP(4)="            on how this field is used."
"RTN","PSSDDUT2",237,0)
 S PSSHLP(2,"F")="!!" D WRITE
"RTN","PSSDDUT2",238,0)
 S PSSHLP(5,"F")="!" D WRITE
"RTN","PSSDDUT2",239,0)
 Q
"RTN","PSSDDUT2",240,0)
 ;
"RTN","PSSDDUT2",241,0)
MXDAYSUP ; INPUT TRANSFORM for Drug file (#50), MAXIMUM DAYS SUPPLY Field (#66)
"RTN","PSSDDUT2",242,0)
 ; Input: X  - Maximum Days Supply Entered by user
"RTN","PSSDDUT2",243,0)
 ;        DA - DRUG file (#50) IEN
"RTN","PSSDDUT2",244,0)
 Q:'$D(^PSDRUG(+$G(DA),0))
"RTN","PSSDDUT2",245,0)
 S X=+$G(X)
"RTN","PSSDDUT2",246,0)
 ; - DAY SUPPLY must be between 1 and 365 (inclusive)
"RTN","PSSDDUT2",247,0)
 I (X<1)!(X>365) D  Q
"RTN","PSSDDUT2",248,0)
 . D EN^DDIOL("Type a number between 1 and 365, 0 decimal digits.","","!!") K X W !
"RTN","PSSDDUT2",249,0)
 ;
"RTN","PSSDDUT2",250,0)
 ; - Checking against NDF Maximum
"RTN","PSSDDUT2",251,0)
 N VAPRDIEN S VAPRDIEN=+$$GET1^DIQ(50,DA,22,"I")
"RTN","PSSDDUT2",252,0)
 I VAPRDIEN D  I '$D(X) Q
"RTN","PSSDDUT2",253,0)
 . N NDFMAXDS
"RTN","PSSDDUT2",254,0)
 . S NDFMAXDS=$$GET1^DIQ(50.68,VAPRDIEN,32)
"RTN","PSSDDUT2",255,0)
 . I NDFMAXDS,NDFMAXDS<X D
"RTN","PSSDDUT2",256,0)
 . . D EN^DDIOL("Cannot be greater than NDF Maximum Days Supply: "_NDFMAXDS,"","!!") K X W !
"RTN","PSSDDUT2",257,0)
 ;
"RTN","PSSDDUT2",258,0)
 ; - Controlled Substances have different upper limits (not 365)
"RTN","PSSDDUT2",259,0)
 N DEASPHLG S DEASPHLG=$$GET1^DIQ(50,DA,3)
"RTN","PSSDDUT2",260,0)
 I DEASPHLG["2",X>30 D  Q
"RTN","PSSDDUT2",261,0)
 . D EN^DDIOL("Schedule 2 controlled substances have a maximum days supply limit of 30 days","","!!") K X W !
"RTN","PSSDDUT2",262,0)
 I (DEASPHLG["3")!(DEASPHLG["4")!(DEASPHLG["5"),X>90 D  Q
"RTN","PSSDDUT2",263,0)
 . D EN^DDIOL("Schedule 3-5 controlled substances have a maximum days supply limit of 90 days","","!!") K X W !
"RTN","PSSDDUT2",264,0)
 ;
"RTN","PSSDDUT2",265,0)
 ; - Clozapine Drug (Not controlled by this field)
"RTN","PSSDDUT2",266,0)
 I ($P($G(^PSDRUG(DA,"CLOZ1")),"^")="PSOCLO1") D  Q
"RTN","PSSDDUT2",267,0)
 . D EN^DDIOL("Maximum Days Supply for this drug is controlled by the Clozapine functionality","","!!") K X W !
"RTN","PSSDDUT2",268,0)
 ;
"RTN","PSSDDUT2",269,0)
 I X<$$MXDAYSUP^PSSUTIL1(DA) D
"RTN","PSSDDUT2",270,0)
 . W ! D EN^DDIOL("Note: Decreasing the MAXIMUM DAYS SUPPLY field will only affect new","","!")
"RTN","PSSDDUT2",271,0)
 . D EN^DDIOL("      prescriptions, including renewals and copies. Orders that are pending","","!")
"RTN","PSSDDUT2",272,0)
 . D EN^DDIOL("      or unreleased when the MAXIMUM DAYS SUPPLY field is decreased are not","","!")
"RTN","PSSDDUT2",273,0)
 . D EN^DDIOL("      affected by the decrease, so prescriptions with a DAYS SUPPLY above the","","!")
"RTN","PSSDDUT2",274,0)
 . D EN^DDIOL("      new MAXIMUM DAYS SUPPLY may need to be edited manually before they are","","!")
"RTN","PSSDDUT2",275,0)
 . D EN^DDIOL("      finished or released.","","!")
"RTN","PSSDDUT2",276,0)
 . W ! N DIR,X,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR
"RTN","PSSDDUT2",277,0)
 Q
"RTN","PSSDDUT2",278,0)
 ;
"RTN","PSSDDUT2",279,0)
IVSOLVOL ; IV Solution VOLUME field INPUT TRANSFORM
"RTN","PSSDDUT2",280,0)
 N OI
"RTN","PSSDDUT2",281,0)
 I X[""""!($A(X)=45)!(X'?.N0.1".".N)!(X>9999)!(X<.01) K X Q
"RTN","PSSDDUT2",282,0)
 I $$GET1^DIQ(52.7,DA,17,"I") S OI=+$$GET1^DIQ(52.7,DA,9,"I") I $$CKDUPSOL(OI,DA,+X,1) K X Q
"RTN","PSSDDUT2",283,0)
 S X=X_" ML" D EN^DDIOL(" ML","","?0")
"RTN","PSSDDUT2",284,0)
 Q
"RTN","PSSDDUT2",285,0)
 ;
"RTN","PSSDDUT2",286,0)
UIVFOE ; USED IN THE IV FLUID ORDER ENTRY field INPUT TRANSFORM
"RTN","PSSDDUT2",287,0)
 I X D
"RTN","PSSDDUT2",288,0)
 . N OI
"RTN","PSSDDUT2",289,0)
 . S OI=$$GET1^DIQ(52.7,DA,9,"I") I $$CKDUPSOL(OI,DA,+$$GET1^DIQ(52.7,DA,2),1) K X
"RTN","PSSDDUT2",290,0)
 Q
"RTN","PSSDDUT2",291,0)
 ;
"RTN","PSSDDUT2",292,0)
CKDUPSOL(OI,IVSOL,IVVOL,DSPMSG) ; Check if there's an ACTIVE Duplicate IV Solution Marked to be Used in the IV Order Dialog
"RTN","PSSDDUT2",293,0)
 ; Input: OI     - PHARMACY ORDERABLE ITEM (#50.7) Pointer
"RTN","PSSDDUT2",294,0)
 ;        IVSOL  - IV SOLUTIONS (#52.7) Pointer
"RTN","PSSDDUT2",295,0)
 ;        IVVOL  - IV Solution Volume
"RTN","PSSDDUT2",296,0)
 ;        DSPMSG - Display Message? (1:Yes/0:No)
"RTN","PSSDDUT2",297,0)
 ;Output: DUPSOL - Duplicate IV Solution IEN
"RTN","PSSDDUT2",298,0)
 N DUPSOL,OTHSOL,OTHVOL,DRUG
"RTN","PSSDDUT2",299,0)
 S (DUPSOL,OTHSOL)=0
"RTN","PSSDDUT2",300,0)
 ;
"RTN","PSSDDUT2",301,0)
 ; Invalid IV Solution
"RTN","PSSDDUT2",302,0)
 I '$D(^PS(52.7,+$G(IVSOL),0)) Q 0
"RTN","PSSDDUT2",303,0)
 ;
"RTN","PSSDDUT2",304,0)
 ; IV Solution is INACTIVE, no issues
"RTN","PSSDDUT2",305,0)
 I $$GET1^DIQ(52.7,IVSOL,8,"I"),$$GET1^DIQ(52.7,IVSOL,8,"I")'>DT Q 0
"RTN","PSSDDUT2",306,0)
 ;
"RTN","PSSDDUT2",307,0)
 ; Dispense Drug might not be matched to an Orderable Item yet
"RTN","PSSDDUT2",308,0)
 S DRUG=+$$GET1^DIQ(52.7,IVSOL,1,"I")
"RTN","PSSDDUT2",309,0)
 ;
"RTN","PSSDDUT2",310,0)
 I +$G(OI) D
"RTN","PSSDDUT2",311,0)
 . F  S OTHSOL=$O(^PS(52.7,"AOI",OI,OTHSOL)) Q:'OTHSOL!DUPSOL  D
"RTN","PSSDDUT2",312,0)
 . . I $$DUPVOL(IVSOL,OTHSOL) S DUPSOL=OTHSOL
"RTN","PSSDDUT2",313,0)
 E  D
"RTN","PSSDDUT2",314,0)
 . F  S OTHSOL=$O(^PS(52.7,"AC",DRUG,OTHSOL)) Q:'OTHSOL!DUPSOL  D
"RTN","PSSDDUT2",315,0)
 . . I $$DUPVOL(IVSOL,OTHSOL) S DUPSOL=OTHSOL
"RTN","PSSDDUT2",316,0)
 I $G(DSPMSG),DUPSOL D
"RTN","PSSDDUT2",317,0)
 . W !!,"The following IV Solution with the same volume is already linked to"
"RTN","PSSDDUT2",318,0)
 . W:$G(OI) !,"the Orderable Item ",$$GET1^DIQ(50.7,OI,.01)
"RTN","PSSDDUT2",319,0)
 . W:'$G(OI) !,"this dispense drug."
"RTN","PSSDDUT2",320,0)
 . W !
"RTN","PSSDDUT2",321,0)
 . W:$G(OI) !,"Dispense Drug: ",$$GET1^DIQ(52.7,DUPSOL,1)
"RTN","PSSDDUT2",322,0)
 . W !,"  IV Solution: ",$$GET1^DIQ(52.7,DUPSOL,.01)
"RTN","PSSDDUT2",323,0)
 . W !
"RTN","PSSDDUT2",324,0)
 . W !,"Only one Active IV Solution with a specific volume can be linked to an"
"RTN","PSSDDUT2",325,0)
 . W !,"Orderable Item or Dispense Drug when the IV Solution is marked to be used"
"RTN","PSSDDUT2",326,0)
 . W !,"in the CPRS IV Fluid Order Entry."
"RTN","PSSDDUT2",327,0)
 . W !,$C(7)
"RTN","PSSDDUT2",328,0)
 Q DUPSOL
"RTN","PSSDDUT2",329,0)
 ;
"RTN","PSSDDUT2",330,0)
DUPVOL(IVSOL1,IVSOL2) ; Check 2 IV Solutions to see if they have Duplicate Volumes
"RTN","PSSDDUT2",331,0)
 ; Cannot check against itself
"RTN","PSSDDUT2",332,0)
 I (IVSOL1=IVSOL2) Q 0
"RTN","PSSDDUT2",333,0)
 ; Not Used in the IV Order Dialog
"RTN","PSSDDUT2",334,0)
 I '$$GET1^DIQ(52.7,IVSOL2,17,"I") Q 0
"RTN","PSSDDUT2",335,0)
 ; Other IV Solution is INACTIVE
"RTN","PSSDDUT2",336,0)
 I $$GET1^DIQ(52.7,IVSOL2,8,"I"),$$GET1^DIQ(52.7,IVSOL2,8,"I")'>DT Q 0
"RTN","PSSDDUT2",337,0)
 ; IV Solution Volume
"RTN","PSSDDUT2",338,0)
 S OTHVOL=$$GET1^DIQ(52.7,IVSOL2,2)
"RTN","PSSDDUT2",339,0)
 ; IV Solutions have different volumes
"RTN","PSSDDUT2",340,0)
 I (+IVVOL'=+OTHVOL) Q 0
"RTN","PSSDDUT2",341,0)
 ; Capturing the Duplicate IV Solution IEN
"RTN","PSSDDUT2",342,0)
 Q 1
"RTN","PSSJSV0")
0^2^B26630523^B26342138
"RTN","PSSJSV0",1,0)
PSSJSV0 ;BIR/CML3,WRT-SCHEDULE VALIDATION CONT. ; 08/21/97 8:26
"RTN","PSSJSV0",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**218**;9/30/97;Build 13
"RTN","PSSJSV0",3,0)
 ;
"RTN","PSSJSV0",4,0)
ENPSJI ; inquire for Inpatient Meds
"RTN","PSSJSV0",5,0)
 S PSJPP="PSJ"
"RTN","PSSJSV0",6,0)
 ;
"RTN","PSSJSV0",7,0)
ENI ; inquire
"RTN","PSSJSV0",8,0)
 R !!,"Select STANDARD SCHEDULE: ",X:DTIME W:'$T $C(7) I "^"[X!'$T K X,PSJPP Q
"RTN","PSSJSV0",9,0)
 I X?1."?" W !!?2,"Enter a standard schedule to view the information pertaining to that schedule."
"RTN","PSSJSV0",10,0)
 K DIC S DIC("W")="S Z=$P(^(0),""^"",5) W ""  "",$S(Z=""O"":""(ONE-TIME)"",Z=""R"":""(RANGE)"",Z=""S"":$P(^(0),""^"",6),$P(^(0),""^"",2)]"""":$P(^(0),""^"",2),$P(^(0),""^"",3):$P(^(0),""^"",3)_"" minutes"",1:"""") K Z"
"RTN","PSSJSV0",11,0)
 S DIC="^PS(51.1,",DIC(0)="EQSZ",D="AP"_PSJPP D IX^DIC K DIC G:Y'>0 ENI
"RTN","PSSJSV0",12,0)
 S X=$P(Y(0),"^",5) W !!?2,"Schedule: ",$P(Y(0),"^"),?58,"Type: ",$S("C"[X:"CONTINUOUS",X="D":"DAY OF THE WEEK",X="O":"ONE-TIME",X="S":"SHIFT",X="R":"RANGE",1:X) G:"C"'[X&(X'="S") ENI
"RTN","PSSJSV0",13,0)
 I "C"[X,$P(Y(0),"^",2)]"" W !?2,"Standard Admin Times: ",$P(Y(0),"^",2) W:$P(Y(0),U,7) !?2,"Max Days for Orders: ",$P(Y(0),U,7)
"RTN","PSSJSV0",14,0)
 E  I "C"[X,$P(Y(0),"^",3) W !?2,"Frequency (in minutes): ",$P(Y(0),"^",3)
"RTN","PSSJSV0",15,0)
 I X="S",$P(Y(0),"^",5)]"" W !,"Standard Shifts: ",$P(Y(0),"^",5)
"RTN","PSSJSV0",16,0)
 I $O(^PS(51.1,+Y,PSJPP'="PSJ"+1,0))
"RTN","PSSJSV0",17,0)
 I  F Q=0:0 S Q=$O(^PS(51.1,+Y,PSJPP'="PSJ"+1,Q)) Q:'Q  I $D(^(Q,0)) S Z=^(0) W !!?2,"Location: ",$S('$D(^SC(Q,0)):Q_";SC(",$P(^(0),"^")]"":$P(^(0),"^"),1:Q_";SC("),!?2,$S(X="S":"Shift: ",1:"Admin Times: "),$P(Z,"^",X="S"+2)
"RTN","PSSJSV0",18,0)
 K Q,Y,Z G ENI
"RTN","PSSJSV0",19,0)
 ;
"RTN","PSSJSV0",20,0)
ENSVH ; show help
"RTN","PSSJSV0",21,0)
 I X="?" W !?5,"Enter a schedule for this order."
"RTN","PSSJSV0",22,0)
 I X?2."?" F Q=1:1:8 W !?3,$P($T(SCHT+Q),";",3) I Q=3,X="??" Q
"RTN","PSSJSV0",23,0)
 W:X="??" !?3,"..."
"RTN","PSSJSV0",24,0)
 I  R !,"(Press RETURN to continue.) ",Q:DTIME W:'$T $C(7) S:'$T Q="^" Q:Q="^"
"RTN","PSSJSV0",25,0)
 S DIC="^PS(51.1,",DIC(0)="E",DIC("S")="I $P(^(0),""^"",4)="""_PSJPP_"""",DIC("W")="D DICW^PSSJSV0"
"RTN","PSSJSV0",26,0)
 D ^DIC K DIC Q
"RTN","PSSJSV0",27,0)
 ;
"RTN","PSSJSV0",28,0)
SCHT ;
"RTN","PSSJSV0",29,0)
 ;;  This is the frequency that the action of the order is to take place over
"RTN","PSSJSV0",30,0)
 ;;the life of the order.  The schedule may have various forms, such as 'ONCE',
"RTN","PSSJSV0",31,0)
 ;;'STAT', 'DAILY', 'Q8H', 'QOD', 'Q5XD', and 'MO-WE-FR@09'.
"RTN","PSSJSV0",32,0)
 ;;  Please note that unexact schedules, such as 'Q4-6H' may not produce the
"RTN","PSSJSV0",33,0)
 ;;desired results.
"RTN","PSSJSV0",34,0)
 ;;  Also, when entering a schedule involving days of the week, you need not
"RTN","PSSJSV0",35,0)
 ;;enter the entire name of each day, but you must enter at least the first two
"RTN","PSSJSV0",36,0)
 ;;letters of each day.
"RTN","PSSJSV0",37,0)
 ;
"RTN","PSSJSV0",38,0)
DICW ;
"RTN","PSSJSV0",39,0)
 ; PSSJEEU CALLS THIS-IT LOOKS AT FILE 51.1
"RTN","PSSJSV0",40,0)
 S Z=$P(^(0),"^",5),Z=$S(Z="O":-1,Z="S":1,Z="R":-2,1:0) W:Z "  ",$S(Z>0:"SHIFT",Z=-2:"RANGE",1:"ONE-TIME") I Z'<0,$D(PSJW),$D(^(PSJPP'="PSJ"+1,PSJW,0)),$P(^(0),"^",Z+2)]"" W "  ",$P(^(0),"^",Z+2) Q
"RTN","PSSJSV0",41,0)
 W "  ",$P(^PS(51.1,+Y,0),"^",Z*4+2),$S($P(^PS(51.1,+Y,0),U,12):"  **INACTIVE**  ",1:"") Q
"RTN","PSSJSV0",42,0)
 ;
"RTN","PSSJSV0",43,0)
ENSTH ; executable help for type of schedule
"RTN","PSSJSV0",44,0)
 W !!?2,"The TYPE OF SCHEDULE determines how the schedule will be processed."
"RTN","PSSJSV0",45,0)
 W !!?2,"A CONTINUOUS schedule is one in which an action is to take place on a regular",!,"basis, such as 'three times a day' or 'once every two days'."
"RTN","PSSJSV0",46,0)
 W !?2,"A DAY OF THE WEEK schedule is one in which the action is to take place only",!,"on specific days of the week.  This type of schedule should have admin times",!,"entered with it.  If not, the start time of the order is used as the"
"RTN","PSSJSV0",47,0)
 W " admin",!,"time.  Whenever this type is chosen, the name of the schedule must be in the",!,"form of 'MO-WE-FR'." G:$S('$D(PSJPP):1,PSJPP="":1,1:PSJPP="PSJ") HOT
"RTN","PSSJSV0",48,0)
 W !?2,"A DAY OF THE WEEK-RANGE schedule is one in which the action to take place",!,"only on specific days of the week, but at no specific time of day (no admin",!,"times).  Whenever this type is chosen, the name of the schedule must be in "
"RTN","PSSJSV0",49,0)
 W "the",!,"form of 'MO-WE-FR'."
"RTN","PSSJSV0",50,0)
HOT W !?2,"A ONE-TIME schedule is one in which the action is to take place once only",!,"at a specific date and time." I $S('$D(PSJPP):1,PSJPP="":1,1:PSJPP="PSJ") Q
"RTN","PSSJSV0",51,0)
 W !?2,"A RANGE schedule is one in which the action will take place within a given",!,"date range."
"RTN","PSSJSV0",52,0)
 W !?2,"A SHIFT schedule is one in which the action will take place within a given",!,"range of times of day." Q
"SEC","^DIC",51.7,51.7,0,"AUDIT")
@
"SEC","^DIC",51.7,51.7,0,"DD")
@
"SEC","^DIC",51.7,51.7,0,"DEL")
@
"SEC","^DIC",51.7,51.7,0,"LAYGO")
@
"SEC","^DIC",51.7,51.7,0,"RD")
@
"SEC","^DIC",51.7,51.7,0,"WR")
@
"VER")
8.0^22.2
"^DD",51.1,51.1,0)
FIELD^NL^13^17
"^DD",51.1,51.1,0,"DDA")
N
"^DD",51.1,51.1,0,"DT")
3171117
"^DD",51.1,51.1,0,"ID",1)
W "   ",$P(^(0),U,2)
"^DD",51.1,51.1,0,"ID",4)
W ""
"^DD",51.1,51.1,0,"ID",12)
W:$P(^(0),U,12)=1 "   ** INACTIVE **"
"^DD",51.1,51.1,0,"IX","AC",51.1,4)

"^DD",51.1,51.1,0,"IX","ACC",51.1,.01)

"^DD",51.1,51.1,0,"IX","ADHL",51.1,.01)

"^DD",51.1,51.1,0,"IX","AHL",51.1,4)

"^DD",51.1,51.1,0,"IX","AP",51.1,4)

"^DD",51.1,51.1,0,"IX","APP",51.1,.01)

"^DD",51.1,51.1,0,"IX","AUWD",51.1,.01)

"^DD",51.1,51.1,0,"IX","B",51.1,.01)

"^DD",51.1,51.1,0,"IX","D",51.113,.01)

"^DD",51.1,51.1,0,"NM","ADMINISTRATION SCHEDULE")

"^DD",51.1,51.1,0,"PT",53.22,8)

"^DD",51.1,51.1,0,"VRPK")
PHARMACY DATA MANAGEMENT
"^DD",51.1,51.1,.01,0)
NAME^RFX^^0;1^D ENPSJ^PSSJSV Q:'$D(X)  K:X[""""!($A(X)=45) X I $D(X) K:$L(X," ")>$S(X["PRN":4,1:3)!($L(X)>20)!($L(X)<2) X
"^DD",51.1,51.1,.01,1,0)
^.1
"^DD",51.1,51.1,.01,1,1,0)
51.1^B
"^DD",51.1,51.1,.01,1,1,1)
S ^PS(51.1,"B",$E(X,1,30),DA)=""
"^DD",51.1,51.1,.01,1,1,2)
K ^PS(51.1,"B",$E(X,1,30),DA)
"^DD",51.1,51.1,.01,1,2,0)
51.1^AUWD^MUMPS
"^DD",51.1,51.1,.01,1,2,1)
S ^PS(51.1,"AUWD")=$S($D(^PS(59.7,1,20)):$P(^(20),"^"),1:"")
"^DD",51.1,51.1,.01,1,2,2)
Q
"^DD",51.1,51.1,.01,1,2,"%D",0)
^^3^3^2970926^^^
"^DD",51.1,51.1,.01,1,2,"%D",1,0)
Used by the Unit Dose inits to determine if a conversion process needs to
"^DD",51.1,51.1,.01,1,2,"%D",2,0)
be run on this file.
"^DD",51.1,51.1,.01,1,2,"%D",3,0)
In the form of: ^PS(51.1,"AUWD")
"^DD",51.1,51.1,.01,1,3,0)
51.1^ACC^MUMPS
"^DD",51.1,51.1,.01,1,3,1)
I $D(^PS(51.1,DA,0)),$P(^(0),"^",4)]"" S ^PS(51.1,"AC",$P(^(0),"^",4),X,DA)=""
"^DD",51.1,51.1,.01,1,3,2)
I $D(^PS(51.1,DA,0)),$P(^(0),"^",4)]"" K ^PS(51.1,"AC",$P(^(0),"^",4),X,DA)
"^DD",51.1,51.1,.01,1,3,3)
USED BY SCHEDULE PROCESSOR
"^DD",51.1,51.1,.01,1,3,"%D",0)
^^2^2^2970926^^
"^DD",51.1,51.1,.01,1,3,"%D",1,0)
Used by the Schedule Processor to do package specific look-ups.
"^DD",51.1,51.1,.01,1,3,"%D",2,0)
In the form of: ^PS(51.1,"AC",$P(^(0),"^",4),X,DA)
"^DD",51.1,51.1,.01,1,4,0)
51.1^APP^MUMPS
"^DD",51.1,51.1,.01,1,4,1)
I $D(^PS(51.1,DA,0)),$P(^(0),"^",4)]"" S ^PS(51.1,"AP"_$P(^(0),"^",4),X,DA)=""
"^DD",51.1,51.1,.01,1,4,2)
I $D(^PS(51.1,DA,0)),$P(^(0),"^",4)]"" K ^PS(51.1,"AP"_$P(^(0),"^",4),X,DA)
"^DD",51.1,51.1,.01,1,4,3)
USED BY SCHEDULE PROCESSOR
"^DD",51.1,51.1,.01,1,4,"%D",0)
^^2^2^2970926^^
"^DD",51.1,51.1,.01,1,4,"%D",1,0)
Used by the schedule processor to do package specific look-ups.
"^DD",51.1,51.1,.01,1,4,"%D",2,0)
In the form of: ^PS(51.1,"AP"_$P(^(0),"^",4),X,DA)
"^DD",51.1,51.1,.01,1,5,0)
51.1^ADHL^MUMPS
"^DD",51.1,51.1,.01,1,5,1)
S PSJHLDA(+DA)="MUP"
"^DD",51.1,51.1,.01,1,5,2)
S PSJHLDA(+DA)="MDL"
"^DD",51.1,51.1,.01,1,5,"%D",0)
^^2^2^2970926^^^
"^DD",51.1,51.1,.01,1,5,"%D",1,0)
Use to update Administration Schedule to OE/RR Schedule file.
"^DD",51.1,51.1,.01,1,5,"%D",2,0)
In the form of: PSJHLDA(+DA)
"^DD",51.1,51.1,.01,1,5,"DT")
2950224
"^DD",51.1,51.1,.01,1,6,0)
^^TRIGGER^51.1^5
"^DD",51.1,51.1,.01,1,6,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S X=Y(0)["PRN" I X S X=DIV S Y(1)=$S($D(^PS(51.1,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV S X="P" X ^DD(51.1,.01,1,6,1.4)
"^DD",51.1,51.1,.01,1,6,1.4)
S DIH=$G(^PS(51.1,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=51.1,DIG=5 D ^DICR
"^DD",51.1,51.1,.01,1,6,2)
Q
"^DD",51.1,51.1,.01,1,6,"CREATE CONDITION")
NAME["PRN"
"^DD",51.1,51.1,.01,1,6,"CREATE VALUE")
"P"
"^DD",51.1,51.1,.01,1,6,"DELETE VALUE")
NO EFFECT
"^DD",51.1,51.1,.01,1,6,"DT")
3070108
"^DD",51.1,51.1,.01,1,6,"FIELD")
TYPE
"^DD",51.1,51.1,.01,1,7,0)
^^TRIGGER^51.1^5
"^DD",51.1,51.1,.01,1,7,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X X ^DD(51.1,.01,1,7,69.2) S X=X["P",Y=X,X=Y(1),X=X&Y I X S X=DIV S Y(1)=$S($D(^PS(51.1,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X="" X ^DD(51.1,.01,1,7,1.4)
"^DD",51.1,51.1,.01,1,7,1.4)
S DIH=$G(^PS(51.1,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=51.1,DIG=5 D ^DICR
"^DD",51.1,51.1,.01,1,7,2)
Q
"^DD",51.1,51.1,.01,1,7,69.2)
S Y(3)=$C(59)_$P($G(^DD(51.1,5,0)),U,3),Y(2)=$S($D(^PS(51.1,D0,0)):^(0),1:"") S X=Y(0)'["PRN",Y(1)=$G(X) S X=$P($P(Y(3),$C(59)_$P(Y(2),U,5)_":",2),$C(59))
"^DD",51.1,51.1,.01,1,7,"CREATE CONDITION")
NAME'["PRN"&(TYPE["P")
"^DD",51.1,51.1,.01,1,7,"CREATE VALUE")
""
"^DD",51.1,51.1,.01,1,7,"DELETE VALUE")
NO EFFECT
"^DD",51.1,51.1,.01,1,7,"DT")
3070108
"^DD",51.1,51.1,.01,1,7,"FIELD")
TYPE
"^DD",51.1,51.1,.01,3)
Answer must be 2-20 characters in length.
"^DD",51.1,51.1,.01,20,0)
^.3LA^1^1
"^DD",51.1,51.1,.01,20,1,0)
PSJ
"^DD",51.1,51.1,.01,21,0)
^.001^3^3^3060330^^^^
"^DD",51.1,51.1,.01,21,1,0)
  This a common abbreviation for a schedule.  A schedule is the frequency
"^DD",51.1,51.1,.01,21,2,0)
for which an action is to take place, such as every eight hours ('Q8H') or
"^DD",51.1,51.1,.01,21,3,0)
every other day ('QOD').
"^DD",51.1,51.1,.01,"DT")
3140818
"^DD",51.1,51.1,1,0)
STANDARD ADMINISTRATION TIMES^FX^^0;2^D ENCHK^PSSJSV
"^DD",51.1,51.1,1,3)
Enter a time (or a set of times) of day, 2 to 119 characters in length
"^DD",51.1,51.1,1,4)
D ADTM^PSSDDUT2
"^DD",51.1,51.1,1,20,0)
^.3LA^1^1
"^DD",51.1,51.1,1,20,1,0)
PSJ
"^DD",51.1,51.1,1,21,0)
^.001^5^5^3090528^^
"^DD",51.1,51.1,1,21,1,0)
These are the times of day, for this schedule, that the action should
"^DD",51.1,51.1,1,21,2,0)
take place.  Use military time (24 hour clock) when entering the times,
"^DD",51.1,51.1,1,21,3,0)
separating each time with a '-'.  Be sure that the times are in
"^DD",51.1,51.1,1,21,4,0)
ascending order, i.e., 06-14-22 or 0600-1400-2200.  All times must be
"^DD",51.1,51.1,1,21,5,0)
the same length, either 2 or 4 digits.
"^DD",51.1,51.1,1,"AUDIT")
n
"^DD",51.1,51.1,1,"DT")
3090408
"^DD",51.1,51.1,2,0)
FREQUENCY (IN MINUTES)^NJ6,0X^^0;3^D ENFREQ^PSSJSV
"^DD",51.1,51.1,2,3)
Type a number between 1 and 525600, 0 Decimal Digits
"^DD",51.1,51.1,2,20,0)
^.3LA^1^1
"^DD",51.1,51.1,2,20,1,0)
PSJ
"^DD",51.1,51.1,2,21,0)
^.001^2^2^3150318^^^^
"^DD",51.1,51.1,2,21,1,0)
  The number of minutes between each time that the action should take
"^DD",51.1,51.1,2,21,2,0)
place.
"^DD",51.1,51.1,2,23,0)
^.001^2^2^3150318^^^^
"^DD",51.1,51.1,2,23,1,0)
 
"^DD",51.1,51.1,2,23,2,0)
 
"^DD",51.1,51.1,2,"DT")
3150727
"^DD",51.1,51.1,2.5,0)
MAX DAYS FOR ORDERS^NJ3,0^^0;7^K:+X'=X!(X>999)!(X<1)!(X?.E1"."1N.N) X
"^DD",51.1,51.1,2.5,3)
Enter maximum number of days (1-999) continuous orders will last for this administration schedule.  (NOT USED BY PHARMACY SOFTWARE.)
"^DD",51.1,51.1,2.5,"DT")
2920717
"^DD",51.1,51.1,3,0)
WARD^51.11P^^1;0
"^DD",51.1,51.1,3,20,0)
^.3LA^1^1
"^DD",51.1,51.1,3,20,1,0)
PSJ
"^DD",51.1,51.1,3,21,0)
^^2^2^2920514^^
"^DD",51.1,51.1,3,21,1,0)
  This allows the site to enter information pertaining to a schedule on
"^DD",51.1,51.1,3,21,2,0)
ward by ward basis.  The wards used are from the WARD LOCATION file.
"^DD",51.1,51.1,3,23,0)
^^5^5^2920514^^^^
"^DD",51.1,51.1,3,23,1,0)
  This allows the site to enter certain information (e.g. admin times) about
"^DD",51.1,51.1,3,23,2,0)
the schedule specifically by ward.  The wards point to the WARD LOCATION
"^DD",51.1,51.1,3,23,3,0)
(#42) file.  In processing, the ward is determined by the ward on which the
"^DD",51.1,51.1,3,23,4,0)
patient is shown to reside.  This is used mainly by the Unit Dose
"^DD",51.1,51.1,3,23,5,0)
Medications package which is only concerned with inpatients.
"^DD",51.1,51.1,4,0)
PACKAGE PREFIX^RFX^^0;4^K:X[""""!($A(X)=45) X I $D(X) K:$S(X["""":1,$A(X)=45:1,$L(X)>4:1,$L(X)<1:1,X'?.ANP:1,1:'$D(^DIC(9.4,"C",X))) X
"^DD",51.1,51.1,4,1,0)
^.1
"^DD",51.1,51.1,4,1,1,0)
51.1^AHL^MUMPS
"^DD",51.1,51.1,4,1,1,1)
S PSJHLDA(+DA)="MUP"
"^DD",51.1,51.1,4,1,1,2)
S PSJHLDA(+DA)="MDL"
"^DD",51.1,51.1,4,1,1,"%D",0)
^^2^2^2970926^^
"^DD",51.1,51.1,4,1,1,"%D",1,0)
Use to update Administration Schedule to OE/RR Schedule file.
"^DD",51.1,51.1,4,1,1,"%D",2,0)
In the form of: PSJHLDA(+DA)
"^DD",51.1,51.1,4,1,1,"DT")
2950223
"^DD",51.1,51.1,4,1,2,0)
51.1^AC^MUMPS
"^DD",51.1,51.1,4,1,2,1)
I $D(^PS(51.1,DA,0)),$P(^(0),"^")]"" S ^PS(51.1,"AC",X,$P(^(0),"^"),DA)=""
"^DD",51.1,51.1,4,1,2,2)
I $D(^PS(51.1,DA,0)),$P(^(0),"^")]"" K ^PS(51.1,"AC",X,$P(^(0),"^"),DA)
"^DD",51.1,51.1,4,1,2,3)
USED BY SCHEDULE PROCESSOR
"^DD",51.1,51.1,4,1,2,"%D",0)
^^2^2^2970926^^
"^DD",51.1,51.1,4,1,2,"%D",1,0)
Used by the Schedule Processor to do package specific look-ups.
"^DD",51.1,51.1,4,1,2,"%D",2,0)
In the form of: ^PS(51.1,"AC",X,$P(^(0),"^"),DA)
"^DD",51.1,51.1,4,1,3,0)
51.1^AP^MUMPS
"^DD",51.1,51.1,4,1,3,1)
S ^PS(51.1,"AP"_X,$P(^PS(51.1,DA,0),"^"),DA)=""
"^DD",51.1,51.1,4,1,3,2)
K ^PS(51.1,"AP"_X,$P(^PS(51.1,DA,0),"^"),DA)
"^DD",51.1,51.1,4,1,3,3)
USED BY SCHEDULE PROCESSOR
"^DD",51.1,51.1,4,1,3,"%D",0)
^^2^2^2970926^^
"^DD",51.1,51.1,4,1,3,"%D",1,0)
Used by the Schedule Processor to do package specific look-ups.
"^DD",51.1,51.1,4,1,3,"%D",2,0)
In the form of: ^PS(51.1,"AP"_X,$P(^PS(51.1,DA,0),"^"),DA)
"^DD",51.1,51.1,4,3)
ANSWER MUST BE 1-4 CHARACTERS IN LENGTH.
"^DD",51.1,51.1,4,4)
D EN^DDIOL("ENTER PREFIX OF PACKAGE THAT WILL BE USING THIS SCHEDULE.","","!")
"^DD",51.1,51.1,4,20,0)
^.3LA^1^1
"^DD",51.1,51.1,4,20,1,0)
PS
"^DD",51.1,51.1,4,21,0)
^^5^5^2970616^^^^
"^DD",51.1,51.1,4,21,1,0)
  This is the package prefix (as found in file 9.4) for the package that
"^DD",51.1,51.1,4,21,2,0)
will be the primary user of this schedule.  This is used primary as a
"^DD",51.1,51.1,4,21,3,0)
screen to allow various packages to enter and edit their own set of
"^DD",51.1,51.1,4,21,4,0)
schedules.  This is NOT to be set through the VA FileMan, but only through
"^DD",51.1,51.1,4,21,5,0)
the designated utility.
"^DD",51.1,51.1,4,"DT")
2950223
"^DD",51.1,51.1,5,0)
TYPE OF SCHEDULE^*SX^C:CONTINUOUS;D:DAY OF THE WEEK;DR:DAY OF THE WEEK-RANGE;O:ONE-TIME;R:RANGE;S:SHIFT;OC:ON CALL;P:PRN;^0;5^D ENPSJT^PSSJSV Q:'$D(X)
"^DD",51.1,51.1,5,3)
ENTER TYPE OF SCHEDULE.
"^DD",51.1,51.1,5,4)
D ENSTH^PSSDDUT
"^DD",51.1,51.1,5,5,1,0)
51.1^.01^6
"^DD",51.1,51.1,5,5,2,0)
51.1^.01^7
"^DD",51.1,51.1,5,12)
CHECK PACKAGE
"^DD",51.1,51.1,5,12.1)
S DIC("S")="I $S($P(^PS(51.1,DA,0),""^"",4)="""":0,$P(^(0),""^"",4)'=""PSJ"":1,Y=""DR"":0,1:""RS""'[Y)"
"^DD",51.1,51.1,5,20,0)
^.3LA^1^1
"^DD",51.1,51.1,5,20,1,0)
PSJ
"^DD",51.1,51.1,5,21,0)
^.001^2^2^3051007^^^^
"^DD",51.1,51.1,5,21,1,0)
  This is the type of schedule.  The type of schedule determines how the
"^DD",51.1,51.1,5,21,2,0)
schedule will be processed.
"^DD",51.1,51.1,5,"DT")
3070108
"^DD",51.1,51.1,6,0)
STANDARD SHIFTS^FX^^0;6^D ENSHV^PSSJSV
"^DD",51.1,51.1,6,3)
Answer must be 1-11 characters in length.
"^DD",51.1,51.1,6,20,0)
^.3LA^1^1
"^DD",51.1,51.1,6,20,1,0)
PSJ
"^DD",51.1,51.1,6,21,0)
^^2^2^2940621^^^^
"^DD",51.1,51.1,6,21,1,0)
  This is the standard shift (or shifts) which pertain to this schedule.  If
"^DD",51.1,51.1,6,21,2,0)
there is more than one shift, separate them with dashes (i.e., 'M-E').
"^DD",51.1,51.1,6,"DT")
2891112
"^DD",51.1,51.1,7,0)
HOSPITAL LOCATION^51.17P^^2;0
"^DD",51.1,51.1,7,20,0)
^.3LA^1^1
"^DD",51.1,51.1,7,20,1,0)
PSJ
"^DD",51.1,51.1,7,21,0)
^^3^3^2920514^^
"^DD",51.1,51.1,7,21,1,0)
  This allows the site to enter information pertaining to a schedule on
"^DD",51.1,51.1,7,21,2,0)
hospital location by hospital location basis.  The wards used are from the
"^DD",51.1,51.1,7,21,3,0)
HOSPITAL LOCATION file.
"^DD",51.1,51.1,7,23,0)
^^4^4^2920514^^
"^DD",51.1,51.1,7,23,1,0)
  This allows the site to enter certain information (e.g. admin times) about
"^DD",51.1,51.1,7,23,2,0)
the schedule specifically by hospital location.  The wards point to the
"^DD",51.1,51.1,7,23,3,0)
HOSPITAL LOCATION (#42) file.  In processing, the hospital location is
"^DD",51.1,51.1,7,23,4,0)
determined by the ward on which the patient is shown to reside.
"^DD",51.1,51.1,8,0)
OUTPATIENT EXPANSION^F^^0;8^K:$L(X)>50!($L(X)<2) X
"^DD",51.1,51.1,8,3)
Answer must be 2-50 characters in length.
"^DD",51.1,51.1,8,21,0)
^^1^1^2950222^
"^DD",51.1,51.1,8,21,1,0)
This is the expansion for this Administration Schedule to be use in the Outpatient Pharmacy.
"^DD",51.1,51.1,8,"DT")
2950222
"^DD",51.1,51.1,8.1,0)
OTHER LANGUAGE EXPANSION^F^^3;1^K:$L(X)>50!($L(X)<2) X
"^DD",51.1,51.1,8.1,3)
Answer must be 2-50 characters in length.
"^DD",51.1,51.1,8.1,20,0)
^.3LA^1^1
"^DD",51.1,51.1,8.1,20,1,0)
PSO
"^DD",51.1,51.1,8.1,21,0)
^.001^1^1^3020916^^^
"^DD",51.1,51.1,8.1,21,1,0)
This field is used to store the other language expansion.
"^DD",51.1,51.1,8.1,23,0)
^.001^1^1^3020916^^^
"^DD",51.1,51.1,8.1,23,1,0)
Free text.
"^DD",51.1,51.1,8.1,"DT")
3020916
"^DD",51.1,51.1,9,0)
EXCLUDE FROM ALL DOSING CHECKS^S^0:NO;1:YES;^0;9^Q
"^DD",51.1,51.1,9,3)
 Enter '1' or 'Yes' to exclude medication orders with this schedule from all dosing checks.
"^DD",51.1,51.1,9,21,0)
^^4^4^3101228^
"^DD",51.1,51.1,9,21,1,0)
If this field is set to '1' or 'Yes', no dosing checks will be performed
"^DD",51.1,51.1,9,21,2,0)
for any medication orders entered in Computerized Patient Record System
"^DD",51.1,51.1,9,21,3,0)
(CPRS), Inpatient Medications, or Outpatient Pharmacy, that contain this
"^DD",51.1,51.1,9,21,4,0)
schedule.
"^DD",51.1,51.1,9,"DT")
3101228
"^DD",51.1,51.1,10,0)
EXCLUDE FROM DAILY DOSE CHECK^S^0:NO;1:YES;^0;10^Q
"^DD",51.1,51.1,10,3)
Enter '1' or 'Yes' to exclude medication orders with this schedule from the daily dose check.
"^DD",51.1,51.1,10,21,0)
^^4^4^3101228^
"^DD",51.1,51.1,10,21,1,0)
If this field is set to '1' or 'Yes', a daily dose range check will not be
"^DD",51.1,51.1,10,21,2,0)
performed for any medication orders entered in Computerized Patient Record
"^DD",51.1,51.1,10,21,3,0)
System (CPRS), Inpatient Medications, or Outpatient Pharmacy, that contain
"^DD",51.1,51.1,10,21,4,0)
this schedule.
"^DD",51.1,51.1,10,"DT")
3101228
"^DD",51.1,51.1,11,0)
DOSING CHECK FREQUENCY^FX^^0;11^D DFCHK^PSSJSV
"^DD",51.1,51.1,11,3)
Answer must be 3-4 characters in length.
"^DD",51.1,51.1,11,4)
D HPDCHK^PSSJSV
"^DD",51.1,51.1,11,21,0)
^^30^30^3161013^
"^DD",51.1,51.1,11,21,1,0)
The DOSING CHECK FREQUENCY field takes priority over all other 
"^DD",51.1,51.1,11,21,2,0)
fields/values when determining frequency.
"^DD",51.1,51.1,11,21,3,0)
     
"^DD",51.1,51.1,11,21,4,0)
PLEASE BE AWARE that the format of the frequency in this field must 
"^DD",51.1,51.1,11,21,5,0)
employ the format patterns of the vendor database, which always places 
"^DD",51.1,51.1,11,21,6,0)
the numeric value in the middle position of the schedule.  In some  
"^DD",51.1,51.1,11,21,7,0)
cases an 'X' (symbol for 'times') must be entered as the first 
"^DD",51.1,51.1,11,21,8,0)
character, although it is still translated as the number of times per 
"^DD",51.1,51.1,11,21,9,0)
designated period.  
"^DD",51.1,51.1,11,21,10,0)
 
"^DD",51.1,51.1,11,21,11,0)
The text examples within the following brackets [] provide clarification
"^DD",51.1,51.1,11,21,12,0)
of the literal schedule translation for the possible formats.  Enter the
"^DD",51.1,51.1,11,21,13,0)
dosing check frequency in one of the following specified formats (#
"^DD",51.1,51.1,11,21,14,0)
represents a whole number): 
"^DD",51.1,51.1,11,21,15,0)
 
"^DD",51.1,51.1,11,21,16,0)
Q#H [every # hour(s), such as every 5 hours] 
"^DD",51.1,51.1,11,21,17,0)
 
"^DD",51.1,51.1,11,21,18,0)
Q#D [every # day(s), such as every 3 days] 
"^DD",51.1,51.1,11,21,19,0)
 
"^DD",51.1,51.1,11,21,20,0)
Q#W [every # week(s), such as every 5 weeks] 
"^DD",51.1,51.1,11,21,21,0)
 
"^DD",51.1,51.1,11,21,22,0)
Q#L [every # month(s), such as every 3 months] 
"^DD",51.1,51.1,11,21,23,0)
 
"^DD",51.1,51.1,11,21,24,0)
X#D [times per day, such as 17 times per day] 
"^DD",51.1,51.1,11,21,25,0)
 
"^DD",51.1,51.1,11,21,26,0)
X#W [times per week, such as 3 times per week] 
"^DD",51.1,51.1,11,21,27,0)
 
"^DD",51.1,51.1,11,21,28,0)
X#L [times per month, such as 4 times per month]
"^DD",51.1,51.1,11,21,29,0)
 
"^DD",51.1,51.1,11,21,30,0)
Numeric value can be 1-2 characters.
"^DD",51.1,51.1,11,"DT")
3141022
"^DD",51.1,51.1,11.1,0)
DRUG(S) FOR DOSING CHK FREQ^51.111P^^4;0
"^DD",51.1,51.1,11.1,21,0)
^.001^17^17^3170104^^^
"^DD",51.1,51.1,11.1,21,1,0)
 
"^DD",51.1,51.1,11.1,21,2,0)
This multiple field allows for dispense drugs from the DRUG (#50) file to
"^DD",51.1,51.1,11.1,21,3,0)
be associated with the DOSING CHECK FREQUENCY (#11) field value within the
"^DD",51.1,51.1,11.1,21,4,0)
ADMINISTRATION SCHEDULE (#51.1) file.
"^DD",51.1,51.1,11.1,21,5,0)
 
"^DD",51.1,51.1,11.1,21,6,0)
When a value is entered for "DOSING CHECK FREQUENCY:" and NO drug(s) is
"^DD",51.1,51.1,11.1,21,7,0)
entered for "Select DRUG(S) FOR DOSING CHK FREQ:",the dosing check will
"^DD",51.1,51.1,11.1,21,8,0)
use the value for "DOSING CHECK FREQUENCY:" to derive a frequency for all
"^DD",51.1,51.1,11.1,21,9,0)
orders that have that schedule.
"^DD",51.1,51.1,11.1,21,10,0)
                                   
"^DD",51.1,51.1,11.1,21,11,0)
When a value is entered for "DOSING CHECK FREQUENCY:" and a drug(s) is
"^DD",51.1,51.1,11.1,21,12,0)
entered for "Select DRUG(S) FOR DOSING CHK FREQ:", the Daily Dose Order
"^DD",51.1,51.1,11.1,21,13,0)
Check will ONLY use the value in "DOSING CHECK FREQUENCY:" to derive a
"^DD",51.1,51.1,11.1,21,14,0)
frequency if the order that has that schedule also matches one of the
"^DD",51.1,51.1,11.1,21,15,0)
drug(s) entered. If the drug found in the order does not match a drug
"^DD",51.1,51.1,11.1,21,16,0)
listed in the DRUG(S) FOR DOSING CHK FREQ field, then the value of the
"^DD",51.1,51.1,11.1,21,17,0)
DOSING CHECK FREQUENCY will not be used for the Daily Dose Order Check.
"^DD",51.1,51.1,12,0)
INACTIVE^S^1:YES;^0;12^Q
"^DD",51.1,51.1,12,3)
Answer YES to mark this administration schedule entry as inactive.
"^DD",51.1,51.1,12,21,0)
^.001^3^3^3151016^^
"^DD",51.1,51.1,12,21,1,0)
This field is used to indicate that a Standard Schedule is inactive.
"^DD",51.1,51.1,12,21,2,0)
Inactive schedules are filtered from the list of schedules sent to CPRS
"^DD",51.1,51.1,12,21,3,0)
for selection when users are placing a medication order.
"^DD",51.1,51.1,12,"DT")
3171117
"^DD",51.1,51.1,13,0)
OLD SCHEDULE NAME(S)^51.113^^5;0
"^DD",51.1,51.1,13,21,0)
^.001^4^4^3170208^^^^
"^DD",51.1,51.1,13,21,1,0)
 
"^DD",51.1,51.1,13,21,2,0)
This multiple stores the old values of the administration schedule when 
"^DD",51.1,51.1,13,21,3,0)
the NAME (#.01) field is edited.  Values can also be added to this field 
"^DD",51.1,51.1,13,21,4,0)
directly.
"^DD",51.1,51.11,0)
WARD SUB-FIELD^NL^1^2
"^DD",51.1,51.11,0,"NM","WARD")

"^DD",51.1,51.11,0,"UP")
51.1
"^DD",51.1,51.11,.01,0)
WARD^MP42'X^DIC(42,^0;1^S:$D(X)#2 DINUM=X
"^DD",51.1,51.11,.01,20,0)
^.3LA^1^1
"^DD",51.1,51.11,.01,20,1,0)
PSJ
"^DD",51.1,51.11,.01,21,0)
^^2^2^2910305^^^^
"^DD",51.1,51.11,.01,21,1,0)
  Ward for which a special set of administration times for this schedule
"^DD",51.1,51.11,.01,21,2,0)
pertain.
"^DD",51.1,51.11,.01,"DT")
2900416
"^DD",51.1,51.11,1,0)
WARD ADMINISTRATION TIMES^FX^^0;2^D ENCHK^PSSJSV
"^DD",51.1,51.11,1,3)
ENTER A TIME OF DAY, OR A SET OF TIMES, 2 TO 119 CHARACTERS IN LENGTH.
"^DD",51.1,51.11,1,4)
D ADTM^PSSDDUT2
"^DD",51.1,51.11,1,20,0)
^.3LA^1^1
"^DD",51.1,51.11,1,20,1,0)
PSJ
"^DD",51.1,51.11,1,21,0)
^.001^5^5^3080821^^^^
"^DD",51.1,51.11,1,21,1,0)
  This is the times of the day, for this schedule and especially for this
"^DD",51.1,51.11,1,21,2,0)
ward, that the action should take place.  Use military time (24 hour clock)
"^DD",51.1,51.11,1,21,3,0)
when entering the times, separating each time with a '-'.  Be sure that
"^DD",51.1,51.11,1,21,4,0)
the times are in ascending order, i.e. 06-14-22 or 0600-1400-2200.  All
"^DD",51.1,51.11,1,21,5,0)
times must be the same length, either 2 or 4 digits.
"^DD",51.1,51.11,1,"AX")
I 1
"^DD",51.1,51.11,1,"DT")
3090615
"^DD",51.1,51.111,0)
DRUG(S) FOR DOSING CHK FREQ SUB-FIELD^^.01^1
"^DD",51.1,51.111,0,"DT")
3171109
"^DD",51.1,51.111,0,"IX","B",51.111,.01)

"^DD",51.1,51.111,0,"NM","DRUG(S) FOR DOSING CHK FREQ")

"^DD",51.1,51.111,0,"UP")
51.1
"^DD",51.1,51.111,.01,0)
DRUG(S) FOR DOSING CHK FREQ^MP50'^PSDRUG(^0;1^Q
"^DD",51.1,51.111,.01,1,0)
^.1
"^DD",51.1,51.111,.01,1,1,0)
51.111^B
"^DD",51.1,51.111,.01,1,1,1)
S ^PS(51.1,DA(1),4,"B",$E(X,1,30),DA)=""
"^DD",51.1,51.111,.01,1,1,2)
K ^PS(51.1,DA(1),4,"B",$E(X,1,30),DA)
"^DD",51.1,51.111,.01,3)
Select a dispense drug to be associated with the dosing check frequency.
"^DD",51.1,51.111,.01,4)
D ENADMSCH^PSSDDUT
"^DD",51.1,51.111,.01,21,0)
^.001^17^17^3170104^^^
"^DD",51.1,51.111,.01,21,1,0)
 
"^DD",51.1,51.111,.01,21,2,0)
This field allows a dispense drug from the DRUG (#50) file to be
"^DD",51.1,51.111,.01,21,3,0)
associated with the DOSING CHECK FREQUENCY (#11) field value within the
"^DD",51.1,51.111,.01,21,4,0)
ADMINISTRATION SCHEDULE (#51.1) file.
"^DD",51.1,51.111,.01,21,5,0)
 
"^DD",51.1,51.111,.01,21,6,0)
When a value is entered for "DOSING CHECK FREQUENCY:" and NO drug(s) is
"^DD",51.1,51.111,.01,21,7,0)
entered for "Select DRUG(S) FOR DOSING CHK FREQ:",the dosing check will
"^DD",51.1,51.111,.01,21,8,0)
use the value for "DOSING CHECK FREQUENCY:" to derive a frequency for
"^DD",51.1,51.111,.01,21,9,0)
all orders that have that schedule.
"^DD",51.1,51.111,.01,21,10,0)
         
"^DD",51.1,51.111,.01,21,11,0)
When a value is entered for "DOSING CHECK FREQUENCY:" and a drug(s) is
"^DD",51.1,51.111,.01,21,12,0)
entered for "Select DRUG(S) FOR DOSING CHK FREQ:", the Daily Dose Order
"^DD",51.1,51.111,.01,21,13,0)
Check will ONLY use the value in "DOSING CHECK FREQUENCY:" to derive a
"^DD",51.1,51.111,.01,21,14,0)
frequency if the order that has that schedule also matches one of the
"^DD",51.1,51.111,.01,21,15,0)
drug(s) entered. If the drug found in the order does not match a drug
"^DD",51.1,51.111,.01,21,16,0)
listed in the DRUG(S) FOR DOSING CHK FREQ field, then the value of the
"^DD",51.1,51.111,.01,21,17,0)
DOSING CHECK FREQUENCY will not be used for the Daily Dose Order Check.
"^DD",51.1,51.111,.01,"DT")
3161115
"^DD",51.1,51.113,0)
OLD SCHEDULE NAME(S) SUB-FIELD^^.01^1
"^DD",51.1,51.113,0,"DT")
3171109
"^DD",51.1,51.113,0,"IX","B",51.113,.01)

"^DD",51.1,51.113,0,"NM","OLD SCHEDULE NAME(S)")

"^DD",51.1,51.113,0,"UP")
51.1
"^DD",51.1,51.113,.01,0)
OLD SCHEDULE NAME(S)^MFXJ30^^0;1^D OASCHK^PSSJSV
"^DD",51.1,51.113,.01,1,0)
^.1^^-1
"^DD",51.1,51.113,.01,1,1,0)
51.113^B
"^DD",51.1,51.113,.01,1,1,1)
S ^PS(51.1,DA(1),5,"B",$E(X,1,30),DA)=""
"^DD",51.1,51.113,.01,1,1,2)
K ^PS(51.1,DA(1),5,"B",$E(X,1,30),DA)
"^DD",51.1,51.113,.01,1,3,0)
51.1^D
"^DD",51.1,51.113,.01,1,3,1)
S ^PS(51.1,"D",$E(X,1,30),DA(1),DA)=""
"^DD",51.1,51.113,.01,1,3,2)
K ^PS(51.1,"D",$E(X,1,30),DA(1),DA)
"^DD",51.1,51.113,.01,1,3,"%D",0)
^^2^2^3161130^
"^DD",51.1,51.113,.01,1,3,"%D",1,0)
Used to identify (lookup) a schedule entered for an order to derive a 
"^DD",51.1,51.113,.01,1,3,"%D",2,0)
frequency for the Max Daily Dose Order Check.
"^DD",51.1,51.113,.01,1,3,"DT")
3161130
"^DD",51.1,51.113,.01,3)
Answer must be 2-20 characters in length.
"^DD",51.1,51.113,.01,21,0)
^.001^7^7^3170104^^^^
"^DD",51.1,51.113,.01,21,1,0)
 
"^DD",51.1,51.113,.01,21,2,0)
This field stores the old value of the administration schedule when the 
"^DD",51.1,51.113,.01,21,3,0)
NAME (#.01) field is edited.  Values can also be added to this field 
"^DD",51.1,51.113,.01,21,4,0)
directly using the Pharmacy Data Management Standard Schedule Edit [PSS 
"^DD",51.1,51.113,.01,21,5,0)
SCHEDULE EDIT] option.  This field will be used to identify an 
"^DD",51.1,51.113,.01,21,6,0)
administration schedule when its old name is found in a medication order
"^DD",51.1,51.113,.01,21,7,0)
when deriving a frequency for a Daily Dose Order Check.
"^DD",51.1,51.113,.01,"DT")
3170308
"^DD",51.1,51.17,0)
HOSPITAL LOCATION SUB-FIELD^^2^3
"^DD",51.1,51.17,0,"IX","B",51.17,.01)

"^DD",51.1,51.17,0,"NM","HOSPITAL LOCATION")

"^DD",51.1,51.17,0,"UP")
51.1
"^DD",51.1,51.17,.01,0)
HOSPITAL LOCATION^MP44'X^SC(^0;1^S:$D(X) DINUM=X
"^DD",51.1,51.17,.01,1,0)
^.1
"^DD",51.1,51.17,.01,1,1,0)
51.17^B
"^DD",51.1,51.17,.01,1,1,1)
S ^PS(51.1,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",51.1,51.17,.01,1,1,2)
K ^PS(51.1,DA(1),2,"B",$E(X,1,30),DA)
"^DD",51.1,51.17,.01,3)
Enter a hospital location for which a specific set of times or shifts pertain.
"^DD",51.1,51.17,.01,21,0)
^^2^2^2940621^^
"^DD",51.1,51.17,.01,21,1,0)
  This is the hospital location for which this administration schedule is
"^DD",51.1,51.17,.01,21,2,0)
applicable.
"^DD",51.1,51.17,.01,"DT")
2891120
"^DD",51.1,51.17,1,0)
ADMINISTRATION TIMES^FX^^0;2^D ENCHK^PSSGS0
"^DD",51.1,51.17,1,3)
ENTER A TIME OF DAY, OR A SET OF TIMES, 2 TO 119 CHARACTERS IN LENGTH.
"^DD",51.1,51.17,1,4)
D ADTM^PSSDDUT2
"^DD",51.1,51.17,1,21,0)
^^7^7^3090611^
"^DD",51.1,51.17,1,21,1,0)
  This is a set administration times for this
"^DD",51.1,51.17,1,21,2,0)
schedule that are specific to this hospital
"^DD",51.1,51.17,1,21,3,0)
location.  This used whenever an area of the
"^DD",51.1,51.17,1,21,4,0)
medical center uses a set of administration
"^DD",51.1,51.17,1,21,5,0)
times for this schedule that is different
"^DD",51.1,51.17,1,21,6,0)
than the standard set of administration times
"^DD",51.1,51.17,1,21,7,0)
entered for this schedule.
"^DD",51.1,51.17,1,"DT")
3090611
"^DD",51.1,51.17,2,0)
SHIFTS^FX^^0;3^D ENSHV^PSSJSV
"^DD",51.1,51.17,2,3)
Answer must be 1-11 characters in length.
"^DD",51.1,51.17,2,21,0)
^^6^6^2910305^^^
"^DD",51.1,51.17,2,21,1,0)
  This is a set of shifts for this schedule that are specific to this
"^DD",51.1,51.17,2,21,2,0)
hospital location.  If there is more than one shift, they must be separated
"^DD",51.1,51.17,2,21,3,0)
by dashes (i.e. 'M-E').
"^DD",51.1,51.17,2,21,4,0)
  This is used whenever an area of the medical center uses a set of shifts
"^DD",51.1,51.17,2,21,5,0)
for this schedule that is different than the standard set of shifts entered
"^DD",51.1,51.17,2,21,6,0)
for this schedule.
"^DD",51.1,51.17,2,"DT")
2891120
"^DD",51.7,51.7,0)
FIELD^^3^4
"^DD",51.7,51.7,0,"DDA")
N
"^DD",51.7,51.7,0,"DT")
3171117
"^DD",51.7,51.7,0,"ID",2)
W "   ",$$NAKED^DIUTL("$$DATE^DIUTL($P(^(0),U,2))")
"^DD",51.7,51.7,0,"IX","B",51.7,.01)

"^DD",51.7,51.7,0,"IX","C",51.71,.01)

"^DD",51.7,51.7,0,"NM","DRUG TEXT")

"^DD",51.7,51.7,0,"PT",50.037,.01)

"^DD",51.7,51.7,0,"PT",50.76,.01)

"^DD",51.7,51.7,0,"PT",442169,3.5)

"^DD",51.7,51.7,0,"VRPK")
PSS
"^DD",51.7,51.7,.01,0)
NAME^RFX^^0;1^S X=$$UP^XLFSTR(X) K:$L(X)>40!($L(X)<1)!'(X'?1P.E) X
"^DD",51.7,51.7,.01,1,0)
^.1
"^DD",51.7,51.7,.01,1,1,0)
51.7^B
"^DD",51.7,51.7,.01,1,1,1)
S ^PS(51.7,"B",$E(X,1,30),DA)=""
"^DD",51.7,51.7,.01,1,1,2)
K ^PS(51.7,"B",$E(X,1,30),DA)
"^DD",51.7,51.7,.01,3)
Answer must be 1-40 characters in length.
"^DD",51.7,51.7,.01,20,0)
^.3LA^1^1
"^DD",51.7,51.7,.01,20,1,0)
PS
"^DD",51.7,51.7,.01,21,0)
^^1^1^2990906^^
"^DD",51.7,51.7,.01,21,1,0)
This field will hold a short description of the text entry.
"^DD",51.7,51.7,.01,"DEL",.01,0)
I 1 D EN^DDIOL("DELETIONS ARE NOT ALLOWED!","","!?10")
"^DD",51.7,51.7,.01,"DT")
2990910
"^DD",51.7,51.7,.01,"LAYGO",.01,0)
N ZZZ S ZZZ=$D(PSSNFI) D:'ZZZ EN^DDIOL("ADDITIONS MUST BE MADE THROUGH THE PDM 'Drug Text Enter/Edit' option") I ZZZ
"^DD",51.7,51.7,1,0)
SYNONYM^51.71^^1;0
"^DD",51.7,51.7,2,0)
INACTIVATION DATE^D^^0;2^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",51.7,51.7,2,3)
Enter the date the drug text entry became inactive.
"^DD",51.7,51.7,2,21,0)
^^4^4^2990906^
"^DD",51.7,51.7,2,21,1,0)
This field will hold an inactivation date of the drug text entry. If an
"^DD",51.7,51.7,2,21,2,0)
inactivation date is present, this drug text entry will not be selectable
"^DD",51.7,51.7,2,21,3,0)
for a pharmacy orderable item or a drug file entry. It will be used as a
"^DD",51.7,51.7,2,21,4,0)
screen for any lookups, displays, or reports.
"^DD",51.7,51.7,2,"DT")
3171117
"^DD",51.7,51.7,3,0)
TEXT^51.73^^2;0
"^DD",51.7,51.71,0)
SYNONYM SUB-FIELD^^.01^1
"^DD",51.7,51.71,0,"DT")
2990906
"^DD",51.7,51.71,0,"IX","B",51.71,.01)

"^DD",51.7,51.71,0,"NM","SYNONYM")

"^DD",51.7,51.71,0,"UP")
51.7
"^DD",51.7,51.71,.01,0)
SYNONYM^MF^^0;1^K:$L(X)>40!($L(X)<1) X
"^DD",51.7,51.71,.01,1,0)
^.1
"^DD",51.7,51.71,.01,1,1,0)
51.71^B
"^DD",51.7,51.71,.01,1,1,1)
S ^PS(51.7,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",51.7,51.71,.01,1,1,2)
K ^PS(51.7,DA(1),1,"B",$E(X,1,30),DA)
"^DD",51.7,51.71,.01,1,2,0)
51.7^C
"^DD",51.7,51.71,.01,1,2,1)
S ^PS(51.7,"C",$E(X,1,30),DA(1),DA)=""
"^DD",51.7,51.71,.01,1,2,2)
K ^PS(51.7,"C",$E(X,1,30),DA(1),DA)
"^DD",51.7,51.71,.01,1,2,3)
DO NOT DELETE
"^DD",51.7,51.71,.01,1,2,"%D",0)
^^1^1^3000127^
"^DD",51.7,51.71,.01,1,2,"%D",1,0)
This cross-reference on the synonym is used for looking up entries in the DRUG TEXT file (#51.7).
"^DD",51.7,51.71,.01,1,2,"DT")
3000127
"^DD",51.7,51.71,.01,3)
Answer must be 1-40 characters in length.
"^DD",51.7,51.71,.01,21,0)
^^1^1^3000209^^
"^DD",51.7,51.71,.01,21,1,0)
This field will be used to allow quick lookup for the drug text defined.
"^DD",51.7,51.71,.01,"DT")
3000127
"^DD",51.7,51.73,0)
TEXT SUB-FIELD^^.01^1
"^DD",51.7,51.73,0,"DT")
2990906
"^DD",51.7,51.73,0,"NM","TEXT")

"^DD",51.7,51.73,0,"UP")
51.7
"^DD",51.7,51.73,.01,0)
TEXT^W^^0;1^Q
"^DD",51.7,51.73,.01,3)
Enter text which should contain drug information, restrictions, guidelines, or any other data that may apply to the drug.
"^DD",51.7,51.73,.01,21,0)
^^3^3^2990909^^
"^DD",51.7,51.73,.01,21,1,0)
This field will hold drug information, restrictions, guidelines and other
"^DD",51.7,51.73,.01,21,2,0)
data that may apply to the drug. This will be used on displays and reports
"^DD",51.7,51.73,.01,21,3,0)
in backdoor pharmacy (OP & IPM), PDM, and NDF.
"^DD",51.7,51.73,.01,"DT")
2990906
"^DIC",51.1,51.1,0)
ADMINISTRATION SCHEDULE^51.1I
"^DIC",51.1,51.1,0,"GL")
^PS(51.1,
"^DIC",51.1,51.1,"%D",0)
^^1^1^2930716^^^^
"^DIC",51.1,51.1,"%D",1,0)
  Sets of standard times over which medications are to be administered.
"^DIC",51.1,"B","ADMINISTRATION SCHEDULE",51.1)

"^DIC",51.7,51.7,0)
DRUG TEXT^51.7
"^DIC",51.7,51.7,0,"GL")
^PS(51.7,
"^DIC",51.7,51.7,"%",0)
^1.005^^0
"^DIC",51.7,51.7,"%D",0)
^^3^3^3000211^^
"^DIC",51.7,51.7,"%D",1,0)
This file stores rapidly changing drug restrictions, guidelines, and
"^DIC",51.7,51.7,"%D",2,0)
protocols to help assure medications are being used according to formulary
"^DIC",51.7,51.7,"%D",3,0)
specifications.
"^DIC",51.7,"B","DRUG TEXT",51.7)

"BLD",10509,6)
^197
**END**
**END**

