Released PRS*4*146 SEQ #138
Extracted from mail message
**KIDS**:PRS*4.0*146^

**INSTALL NAME**
PRS*4.0*146
"BLD",10178,0)
PRS*4.0*146^PAID^0^3160712^y
"BLD",10178,1,0)
^^10^10^3160601^
"BLD",10178,1,1,0)
Patch PRS*4.0*146 addresses two issues:
"BLD",10178,1,2,0)
 
"BLD",10178,1,3,0)
1. A DD(Data Dictionary) change is needed for the UNIFORM ALLOWANCE AMT 
"BLD",10178,1,4,0)
   CPPD (#536) field of the PAID EMPLOYEE (#450) file. The same change
"BLD",10178,1,5,0)
   is also needed for the UNIFORM ALLOWANCE AMT CPPD (#109) field of the 
"BLD",10178,1,6,0)
   of the EMPLOYEE (#459.01) sub-file of the PAID PAYRUN DATA (#459)
"BLD",10178,1,7,0)
   file.
"BLD",10178,1,8,0)
 
"BLD",10178,1,9,0)
2. The NURSE T&L UNIT (#15) field of the POC DAILY TIME EXTRACTION 
"BLD",10178,1,10,0)
   (#451.7) file is storing information incorrectly.
"BLD",10178,4,0)
^9.64PA^459^2
"BLD",10178,4,450,0)
450
"BLD",10178,4,450,2,0)
^9.641^450^1
"BLD",10178,4,450,2,450,0)
PAID EMPLOYEE  (File-top level)
"BLD",10178,4,450,2,450,1,0)
^9.6411^563^1
"BLD",10178,4,450,2,450,1,563,0)
UNIFORM ALLOWANCE AMT CPPD
"BLD",10178,4,450,222)
y^n^p^^^^n^^n
"BLD",10178,4,450,224)

"BLD",10178,4,459,0)
459
"BLD",10178,4,459,2,0)
^9.641^459.01^1
"BLD",10178,4,459,2,459.01,0)
EMPLOYEE  (sub-file)
"BLD",10178,4,459,2,459.01,1,0)
^9.6411^109^1
"BLD",10178,4,459,2,459.01,1,109,0)
UNIFORM ALLOWANCE AMT CPPD
"BLD",10178,4,459,222)
y^n^p^^^^n^^n
"BLD",10178,4,459,224)

"BLD",10178,4,"APDD",450,450)

"BLD",10178,4,"APDD",450,450,563)

"BLD",10178,4,"APDD",459,459.01)

"BLD",10178,4,"APDD",459,459.01,109)

"BLD",10178,4,"B",450,450)

"BLD",10178,4,"B",459,459)

"BLD",10178,6.3)
7
"BLD",10178,"ABPKG")
n
"BLD",10178,"KRN",0)
^9.67PA^779.2^20
"BLD",10178,"KRN",.4,0)
.4
"BLD",10178,"KRN",.401,0)
.401
"BLD",10178,"KRN",.402,0)
.402
"BLD",10178,"KRN",.403,0)
.403
"BLD",10178,"KRN",.5,0)
.5
"BLD",10178,"KRN",.84,0)
.84
"BLD",10178,"KRN",3.6,0)
3.6
"BLD",10178,"KRN",3.8,0)
3.8
"BLD",10178,"KRN",9.2,0)
9.2
"BLD",10178,"KRN",9.8,0)
9.8
"BLD",10178,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",10178,"KRN",9.8,"NM",1,0)
PRSNCGR1^^0^B28861586
"BLD",10178,"KRN",9.8,"NM",2,0)
PRSDPR06^^0^B32608874
"BLD",10178,"KRN",9.8,"NM","B","PRSDPR06",2)

"BLD",10178,"KRN",9.8,"NM","B","PRSNCGR1",1)

"BLD",10178,"KRN",19,0)
19
"BLD",10178,"KRN",19.1,0)
19.1
"BLD",10178,"KRN",101,0)
101
"BLD",10178,"KRN",409.61,0)
409.61
"BLD",10178,"KRN",771,0)
771
"BLD",10178,"KRN",779.2,0)
779.2
"BLD",10178,"KRN",870,0)
870
"BLD",10178,"KRN",8989.51,0)
8989.51
"BLD",10178,"KRN",8989.52,0)
8989.52
"BLD",10178,"KRN",8994,0)
8994
"BLD",10178,"KRN","B",.4,.4)

"BLD",10178,"KRN","B",.401,.401)

"BLD",10178,"KRN","B",.402,.402)

"BLD",10178,"KRN","B",.403,.403)

"BLD",10178,"KRN","B",.5,.5)

"BLD",10178,"KRN","B",.84,.84)

"BLD",10178,"KRN","B",3.6,3.6)

"BLD",10178,"KRN","B",3.8,3.8)

"BLD",10178,"KRN","B",9.2,9.2)

"BLD",10178,"KRN","B",9.8,9.8)

"BLD",10178,"KRN","B",19,19)

"BLD",10178,"KRN","B",19.1,19.1)

"BLD",10178,"KRN","B",101,101)

"BLD",10178,"KRN","B",409.61,409.61)

"BLD",10178,"KRN","B",771,771)

"BLD",10178,"KRN","B",779.2,779.2)

"BLD",10178,"KRN","B",870,870)

"BLD",10178,"KRN","B",8989.51,8989.51)

"BLD",10178,"KRN","B",8989.52,8989.52)

"BLD",10178,"KRN","B",8994,8994)

"BLD",10178,"QDEF")
^^^^NO
"BLD",10178,"QUES",0)
^9.62^^
"BLD",10178,"REQB",0)
^9.611^1^1
"BLD",10178,"REQB",1,0)
PRS*4.0*126^2
"BLD",10178,"REQB","B","PRS*4.0*126",1)

"FIA",450)
PAID EMPLOYEE
"FIA",450,0)
^PRSPC(
"FIA",450,0,0)
450I
"FIA",450,0,1)
y^n^p^^^^n^^n
"FIA",450,0,10)

"FIA",450,0,11)

"FIA",450,0,"RLRO")

"FIA",450,0,"VR")
4.0^PRS
"FIA",450,450)
1
"FIA",450,450,563)

"FIA",459)
PAID PAYRUN DATA
"FIA",459,0)
^PRST(459,
"FIA",459,0,0)
459
"FIA",459,0,1)
y^n^p^^^^n^^n
"FIA",459,0,10)

"FIA",459,0,11)

"FIA",459,0,"RLRO")

"FIA",459,0,"VR")
4.0^PRS
"FIA",459,459)
1
"FIA",459,459.01)
1
"FIA",459,459.01,109)

"MBREQ")
0
"PKG",408,-1)
1^1
"PKG",408,0)
PAID^PRS^PAID
"PKG",408,20,0)
^9.402P^^
"PKG",408,22,0)
^9.49I^1^1
"PKG",408,22,1,0)
4.0^2950912^2960130
"PKG",408,22,1,"PAH",1,0)
146^3160712
"PKG",408,22,1,"PAH",1,1,0)
^^10^10^3160712
"PKG",408,22,1,"PAH",1,1,1,0)
Patch PRS*4.0*146 addresses two issues:
"PKG",408,22,1,"PAH",1,1,2,0)
 
"PKG",408,22,1,"PAH",1,1,3,0)
1. A DD(Data Dictionary) change is needed for the UNIFORM ALLOWANCE AMT 
"PKG",408,22,1,"PAH",1,1,4,0)
   CPPD (#536) field of the PAID EMPLOYEE (#450) file. The same change
"PKG",408,22,1,"PAH",1,1,5,0)
   is also needed for the UNIFORM ALLOWANCE AMT CPPD (#109) field of the 
"PKG",408,22,1,"PAH",1,1,6,0)
   of the EMPLOYEE (#459.01) sub-file of the PAID PAYRUN DATA (#459)
"PKG",408,22,1,"PAH",1,1,7,0)
   file.
"PKG",408,22,1,"PAH",1,1,8,0)
 
"PKG",408,22,1,"PAH",1,1,9,0)
2. The NURSE T&L UNIT (#15) field of the POC DAILY TIME EXTRACTION 
"PKG",408,22,1,"PAH",1,1,10,0)
   (#451.7) file is storing information incorrectly.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","PRSDPR06")
0^2^B32608874^B32312276
"RTN","PRSDPR06",1,0)
PRSDPR06 ;HISC/GWB/FPT-PAID PAYRUN DOWNLOAD RECORD 6 LAYOUT ;6/24/93  12:54
"RTN","PRSDPR06",2,0)
 ;;4.0;PAID;**146**;Sep 21, 1995;Build 7
"RTN","PRSDPR06",3,0)
 F CC=1:1 S GRP=$T(@CC) Q:GRP=""  S GRPVAL=$P(RCD,":",CC) I GRPVAL'="" S GNUM=$P(GRP,";",4),LTH=$P(GRP,";",5),PIC=$P(GRP,";",6) D:PIC=9 PIC9^PRSDUTIL F EE=1:1:GNUM S FLD=$T(@CC+EE) D EPTSET^PRSDSET
"RTN","PRSDPR06",4,0)
 Q
"RTN","PRSDPR06",5,0)
RECORD ;;Record 6;38
"RTN","PRSDPR06",6,0)
 ;PRS*4.0*146 changes piece 6 of the UNIFORM ALLOWANCE AMT CPPD field record to 6. This is due to a DD change to the field allowing 6 characters instead of 5
"RTN","PRSDPR06",7,0)
 ;;
"RTN","PRSDPR06",8,0)
1 ;;Group 1;1;6;9
"RTN","PRSDPR06",9,0)
 ;;AUNIF;UNIFORM ALLOWANCE AMT CPPD;1;6;UNIFORM;1;D SIGN^PRSDUTIL,DD^PRSDUTIL;5;29;563;A
"RTN","PRSDPR06",10,0)
 ;;
"RTN","PRSDPR06",11,0)
2 ;;Group 2;1;5;9
"RTN","PRSDPR06",12,0)
 ;;AQTRS;QUARTERS DEDUCTION CPPD;1;5;QSGP;8;D SIGN^PRSDUTIL,DD^PRSDUTIL;1;25;325;A
"RTN","PRSDPR06",13,0)
 ;;
"RTN","PRSDPR06",14,0)
3 ;;Group 3;1;5;9
"RTN","PRSDPR06",15,0)
 ;;ASUBSIST;SUBSISTANCE DEDUCTION CPPD;1;5;QSGP;10;D SIGN^PRSDUTIL,DD^PRSDUTIL;1;26;327;A
"RTN","PRSDPR06",16,0)
 ;;
"RTN","PRSDPR06",17,0)
4 ;;Group 4;1;5;9
"RTN","PRSDPR06",18,0)
 ;;AGAR;GARAGE DEDUCTION CPPD;1;5;QSGP;1;D SIGN^PRSDUTIL,DD^PRSDUTIL;1;22;318;A
"RTN","PRSDPR06",19,0)
 ;;
"RTN","PRSDPR06",20,0)
5 ;;Group 5;1;5;9
"RTN","PRSDPR06",21,0)
 ;;ASATPAY;SATURDAY AMT CPPD;1;5;PREMIUM;16;D SIGN^PRSDUTIL,DD^PRSDUTIL;5;17;558;A
"RTN","PRSDPR06",22,0)
 ;;
"RTN","PRSDPR06",23,0)
6 ;;Group 6;1;5;9
"RTN","PRSDPR06",24,0)
 ;;ASUNPAY;SUNDAY AMT CPPD;1;5;PREMIUM;18;D SIGN^PRSDUTIL,DD^PRSDUTIL;5;19;560;A
"RTN","PRSDPR06",25,0)
 ;;
"RTN","PRSDPR06",26,0)
7 ;;Group 7;1;5;9
"RTN","PRSDPR06",27,0)
 ;;ASECTAX;STATE TAX-2 AMT WITHHELD CPPD;1;5;STATE;16;D SIGN^PRSDUTIL,DD^PRSDUTIL;1;3;387;A
"RTN","PRSDPR06",28,0)
 ;;
"RTN","PRSDPR06",29,0)
8 ;;Group 8;1;7;9
"RTN","PRSDPR06",30,0)
 ;;ALIVING;COLA AMT CPPD;1;7;COLA;1;D SIGN^PRSDUTIL,DD^PRSDUTIL;5;22;527;A
"RTN","PRSDPR06",31,0)
 ;;
"RTN","PRSDPR06",32,0)
9 ;;Group 9;1;5;9
"RTN","PRSDPR06",33,0)
 ;;APOSTDIF;POST DIFF AMT CPPD;1;5;PREMIUM;15;D SIGN^PRSDUTIL,DD^PRSDUTIL;5;16;557;A
"RTN","PRSDPR06",34,0)
 ;;
"RTN","PRSDPR06",35,0)
10 ;;Group 10;1;5;9
"RTN","PRSDPR06",36,0)
 ;;ALUMPSUMHD;ANNUAL LEAVE LUMP SUM HRS/DAYS;1;5;LUMPSUM;2;D SIGN^PRSDUTIL,DD^PRSDUTIL;5;27;526;A
"RTN","PRSDPR06",37,0)
 ;;
"RTN","PRSDPR06",38,0)
11 ;;Group 11;1;7;9
"RTN","PRSDPR06",39,0)
 ;;ALMPSUM;ANNUAL LEAVE LUMP SUM AMT;1;7;LUMPSUM;1;D SIGN^PRSDUTIL,DD^PRSDUTIL;5;26;525;A
"RTN","PRSDPR06",40,0)
 ;;
"RTN","PRSDPR06",41,0)
12 ;;Group 12;1;7;9
"RTN","PRSDPR06",42,0)
 ;;AAWARD;INCENTIVE AWARD;1;7;AWARDS;1;D SIGN^PRSDUTIL,DD^PRSDUTIL;5;24;587;A
"RTN","PRSDPR06",43,0)
 ;;
"RTN","PRSDPR06",44,0)
13 ;;Group 13;1;7;9
"RTN","PRSDPR06",45,0)
 ;;ASTAPAY;DEBT REFUND ACCT 36X6875 CPPD;1;7;OTHER;4;D SIGN^PRSDUTIL,DD^PRSDUTIL;2;2;303;A
"RTN","PRSDPR06",46,0)
 ;;
"RTN","PRSDPR06",47,0)
14 ;;Group 14;1;7;9
"RTN","PRSDPR06",48,0)
 ;;ADPCPAY;NET PAY OUT-OF-SYSTEM AMT CPPD;1;7;PAY;9;D SIGN^PRSDUTIL,DD^PRSDUTIL;5;3;542;A
"RTN","PRSDPR06",49,0)
 ;;
"RTN","PRSDPR06",50,0)
15 ;;Group 15;1;7;9
"RTN","PRSDPR06",51,0)
 ;;AOTHER;DEBT DEPOSIT ACCT 36X6875 CPPD;1;7;OTHER;2;D SIGN^PRSDUTIL,DD^PRSDUTIL;2;1;301;A
"RTN","PRSDPR06",52,0)
 ;;
"RTN","PRSDPR06",53,0)
16 ;;Group 16;1;5;9
"RTN","PRSDPR06",54,0)
 ;;AQTRNOHSK;QUARTERS NON-HSKP DED CPPD;1;5;QSGP;3;D SIGN^PRSDUTIL,DD^PRSDUTIL;1;24;320;A
"RTN","PRSDPR06",55,0)
 ;;
"RTN","PRSDPR06",56,0)
17 ;;Group 17;1;5;9
"RTN","PRSDPR06",57,0)
 ;;AOPTINS;FEGLI STANDARD DEDUCTION CPPD;1;5;FEGLI;6;D SIGN^PRSDUTIL,DD^PRSDUTIL;1;16;228;A
"RTN","PRSDPR06",58,0)
 ;;
"RTN","PRSDPR06",59,0)
18 ;;Group 18;1;7;9
"RTN","PRSDPR06",60,0)
 ;;AMILRET;MSD DEDUCTION CPPD;1;7;MSD2;4;D SIGN^PRSDUTIL,DD^PRSDUTIL;1;29;279;A
"RTN","PRSDPR06",61,0)
 ;;
"RTN","PRSDPR06",62,0)
19 ;;Group 19;1;7;9
"RTN","PRSDPR06",63,0)
 ;;AFICAEMP;OASDI TAX AMT WITHHELD CPPD;1;7;OASDI;1;D SIGN^PRSDUTIL,DD^PRSDUTIL;1;8;290;A
"RTN","PRSDPR06",64,0)
 ;;
"RTN","PRSDPR06",65,0)
20 ;;Group 20;1;7;9
"RTN","PRSDPR06",66,0)
 ;;ARETIRE;RETIREMENT DED CPPD;1;7;RETIRE;9;D SIGN^PRSDUTIL,DD^PRSDUTIL;1;20;337;A
"RTN","PRSDPR06",67,0)
 ;;
"RTN","PRSDPR06",68,0)
21 ;;Grroup 21;1;7;9
"RTN","PRSDPR06",69,0)
 ;;AOTPAY;OVERTIME AMT CPPD;1;7;PREMIUM;12;D SIGN^PRSDUTIL,DD^PRSDUTIL;5;14;554;A
"RTN","PRSDPR06",70,0)
 ;;
"RTN","PRSDPR06",71,0)
22 ;;Group 22;1;7;9
"RTN","PRSDPR06",72,0)
 ;;AUOTPAY;AUO AMT CPPD;1;7;PREMIUM;1;D SIGN^PRSDUTIL,DD^PRSDUTIL;5;23;543;A
"RTN","PRSDPR06",73,0)
 ;;
"RTN","PRSDPR06",74,0)
23 ;;Group 23;1;7;9
"RTN","PRSDPR06",75,0)
 ;;ASPSALRAT;SPECIAL PAY RATE DIFFERENCE;1;7;1;35;D SIGN^PRSDUTIL,DD^PRSDUTIL;6;4;82;A
"RTN","PRSDPR06",76,0)
 ;;
"RTN","PRSDPR06",77,0)
24 ;;Group 24;1;5;9
"RTN","PRSDPR06",78,0)
 ;;AANNUSED;ANNUAL LEAVE USED CPPD;1;5;ANNUAL;6;D SIGN^PRSDUTIL,DD^PRSDUTIL;4;1;465;A
"RTN","PRSDPR06",79,0)
 ;;
"RTN","PRSDPR06",80,0)
25 ;;Group 25;1;5;9
"RTN","PRSDPR06",81,0)
 ;;ASICKUSED;TOTAL SICK LEAVE USED CPPD;1;5;SICK;6;D SIGN^PRSDUTIL,DD^PRSDUTIL;4;2;513;A
"RTN","PRSDPR06",82,0)
 ;;
"RTN","PRSDPR06",83,0)
26 ;;Group 26;1;3;9
"RTN","PRSDPR06",84,0)
 ;;ANITETIME;NIGHT DIFF HRS CPPD;1;3;PREMIUM;8;D SIGN^PRSDUTIL,AHRS^PRSDUTIL;5;11;550;A
"RTN","PRSDPR06",85,0)
 ;;
"RTN","PRSDPR06",86,0)
27 ;;Group 27;1;3;9
"RTN","PRSDPR06",87,0)
 ;;AOVRTIME;OVERTIME HRS CPPD;1;3;PREMIUM;13;D SIGN^PRSDUTIL,AHRS^PRSDUTIL;5;15;555;A
"RTN","PRSDPR06",88,0)
 ;;
"RTN","PRSDPR06",89,0)
28 ;;Group 28;1;3;9
"RTN","PRSDPR06",90,0)
 ;;AHOLTIME;HOLIDAY HOURS;1;3;PREMIUM;5;D SIGN^PRSDUTIL,AHRS^PRSDUTIL;5;9;547;A
"RTN","PRSDPR06",91,0)
 ;;
"RTN","PRSDPR06",92,0)
29 ;;Group 29;1;3;9
"RTN","PRSDPR06",93,0)
 ;;ALWOPUSED;LWOP HOURS/DAYS CPPD;1;3;LWOP;5;D SIGN^PRSDUTIL,AHRS^PRSDUTIL,NPLWOP^PRSDUTIL;4;5;519;A
"RTN","PRSDPR06",94,0)
 ;;
"RTN","PRSDPR06",95,0)
30 ;;Group 30;1;3;9
"RTN","PRSDPR06",96,0)
 ;;ANONPATIME;NONPAY HOURS/DAYS CPPD;1;3;1;19;D SIGN^PRSDUTIL,AHRS^PRSDUTIL,NPLWOP^PRSDUTIL;6;2;66;A
"RTN","PRSDPR06",97,0)
 ;;
"RTN","PRSDPR06",98,0)
31 ;;Group 31;1;3;9
"RTN","PRSDPR06",99,0)
 ;;AREGTIME;UNSCHEDULED HOURS;1;3;MISC;1;D SIGN^PRSDUTIL,AHRS^PRSDUTIL;5;30;530;A
"RTN","PRSDPR06",100,0)
 ;;
"RTN","PRSDPR06",101,0)
32 ;;Group 32;1;3;9
"RTN","PRSDPR06",102,0)
 ;;ASPECOT;REG HOURS AT OT RATE;1;3;PREMIUM;20;D SIGN^PRSDUTIL,AHRS^PRSDUTIL;5;6;562;A
"RTN","PRSDPR06",103,0)
 ;;
"RTN","PRSDPR06",104,0)
33 ;;Group 33;1;3;9
"RTN","PRSDPR06",105,0)
 ;;ASUNTIME;SUNDAY HRS CPPD;1;3;PREMIUM;19;D SIGN^PRSDUTIL,AHRS^PRSDUTIL;5;20;561;A
"RTN","PRSDPR06",106,0)
 ;;
"RTN","PRSDPR06",107,0)
34 ;;Group 34;1;1;9
"RTN","PRSDPR06",108,0)
 ;;AINSGRP;FEGLI AGE CODE CPPD;1;1;FEGLI;2;D SIGN^PRSDUTIL;1;13;224;O
"RTN","PRSDPR06",109,0)
 ;;
"RTN","PRSDPR06",110,0)
35 ;;Group 35;4;27;9
"RTN","PRSDPR06",111,0)
 ;;ASTA3875;DEBT REFUND ACCT 36F3875 CPPD;1;6;OTHER;3;D SIGN^PRSDUTIL,DD^PRSDUTIL;2;4;302;A
"RTN","PRSDPR06",112,0)
 ;;AOTHER3875;DEBT DEPOSIT ACCT 36F3875 CPPD;7;13;OTHER;1;D SIGN^PRSDUTIL,DD^PRSDUTIL;2;3;300;A
"RTN","PRSDPR06",113,0)
 ;;APARKING;PARKING DEDUCTION CPPD;14;18;QSGP;4;D SIGN^PRSDUTIL,DD^PRSDUTIL;1;23;321;A
"RTN","PRSDPR06",114,0)
 ;;ANEWSSN;NEW SSN;19;27;0;35;S:DATA="000000000" DATA="" D:DATA'="" NEWSSN^PRSDUTIL;6;1;34;O
"RTN","PRSDPR06",115,0)
 ;;
"RTN","PRSDPR06",116,0)
36 ;;Group 36;1;7;9
"RTN","PRSDPR06",117,0)
 ;;APERFORM-AWARD;PERFORMANCE AWARD;1;7;AWARDS;4;D SIGN^PRSDUTIL,DD^PRSDUTIL;5;31;587.1;A
"RTN","PRSDPR06",118,0)
 ;;
"RTN","PRSDPR06",119,0)
37 ;;Group 37;1;7;9
"RTN","PRSDPR06",120,0)
 ;;AINCENT-AWARD;INCENTIVE AWARD;1;7;AWARDS;1;D SIGN^PRSDUTIL,DD^PRSDUTIL;5;24;587;A
"RTN","PRSDPR06",121,0)
 ;;
"RTN","PRSDPR06",122,0)
38 ;;Group 38;1;1;X
"RTN","PRSDPR06",123,0)
 ;;MXLVGRP;LEAVE GROUP;1;1;0;15;;;;14
"RTN","PRSDPR06",124,0)
 ;;
"RTN","PRSDPR06",125,0)
39 ;;Group 39;1;7;9
"RTN","PRSDPR06",126,0)
 ;;ALOCAL-SALARY;LOCALITY PAY CPPD;1;7;MISC;21;D SIGN^PRSDUTIL,DD^PRSDUTIL;8;30;83.2;A
"RTN","PRSDPR06",127,0)
 ;;
"RTN","PRSNCGR1")
0^1^B28861586^B27388966
"RTN","PRSNCGR1",1,0)
PRSNCGR1 ;WOIFO-JAH - Release POC Records for VANOD Extraction;10/16/09
"RTN","PRSNCGR1",2,0)
 ;;4.0;PAID;**126,146**;Sep 21, 1995;Build 7
"RTN","PRSNCGR1",3,0)
 ;;Per VHA Directive 6402, this routine should not be modified.
"RTN","PRSNCGR1",4,0)
 Q
"RTN","PRSNCGR1",5,0)
 ;
"RTN","PRSNCGR1",6,0)
FILEPP(PC,PRSIEN,PPI,INST,STATN) ; file pay per activity records for Nurse to extraction AND update extraction version number in 451
"RTN","PRSNCGR1",7,0)
 ;
"RTN","PRSNCGR1",8,0)
 N PRSD,I,PRSFDA,PCDATA,X,X1,OTR,LOC,LOCDIV
"RTN","PRSNCGR1",9,0)
 S PRSD=0
"RTN","PRSNCGR1",10,0)
 F  S PRSD=$O(PC(PRSD)) Q:PRSD'>0!(PRSD>14)  D
"RTN","PRSNCGR1",11,0)
 .;
"RTN","PRSNCGR1",12,0)
 .;  increment version number for this day's extraction
"RTN","PRSNCGR1",13,0)
 .   D EXTVERS(.VNUM,PPI,PRSIEN,PRSD)
"RTN","PRSNCGR1",14,0)
 .;
"RTN","PRSNCGR1",15,0)
 .  S I=0
"RTN","PRSNCGR1",16,0)
 .  F  S I=$O(PC(PRSD,I)) Q:I'>0  D
"RTN","PRSNCGR1",17,0)
 ..   S PCDATA=PC(PRSD,I)
"RTN","PRSNCGR1",18,0)
 ..   K PRSFDA,IEN
"RTN","PRSNCGR1",19,0)
 ..   S LOC=$P(PCDATA,U,5)
"RTN","PRSNCGR1",20,0)
 ..   S LOCDIV=$S(LOC="":"",1:$P($$ISACTIVE^PRSNUT01("",LOC),U,4))
"RTN","PRSNCGR1",21,0)
 ..   S PRSFDA(451.7,"+1,",.01)=$P($G(^PRSN(451.7,0)),U,3)+1
"RTN","PRSNCGR1",22,0)
 ..   S PRSFDA(451.7,"+1,",1)=$G(INST)
"RTN","PRSNCGR1",23,0)
 ..   S PRSFDA(451.7,"+1,",2)=LOCDIV
"RTN","PRSNCGR1",24,0)
 ..   S PRSFDA(451.7,"+1,",3)=VNUM
"RTN","PRSNCGR1",25,0)
 ..   S PRSFDA(451.7,"+1,",4)=$P($G(^PRSPC(PRSIEN,0)),U,9)
"RTN","PRSNCGR1",26,0)
 ..   S PRSFDA(451.7,"+1,",5)=+PRSIEN
"RTN","PRSNCGR1",27,0)
 ..   S X=$P($G(^PRST(458,PPI,1)),U,PRSD)
"RTN","PRSNCGR1",28,0)
 ..   S X1=$E(X,1,3)+1700_$E(X,4,7)
"RTN","PRSNCGR1",29,0)
 ..   S PRSFDA(451.7,"+1,",6)=X1
"RTN","PRSNCGR1",30,0)
 ..   S PRSFDA(451.7,"+1,",7)=$P(PCDATA,U,9) ;           Start time
"RTN","PRSNCGR1",31,0)
 ..   S PRSFDA(451.7,"+1,",8)=$P(PCDATA,U,10) ;          Stop time
"RTN","PRSNCGR1",32,0)
 ..   S PRSFDA(451.7,"+1,",9)=$P(PCDATA,U,4) ;         POC type of time
"RTN","PRSNCGR1",33,0)
 ..   S PRSFDA(451.7,"+1,",10)=LOC ;        Point of care
"RTN","PRSNCGR1",34,0)
 ..   S PRSFDA(451.7,"+1,",11)=$P(PCDATA,U,7) ;        mand. ot?
"RTN","PRSNCGR1",35,0)
 ..;
"RTN","PRSNCGR1",36,0)
 ..   S OTR=$P(PCDATA,U,8)
"RTN","PRSNCGR1",37,0)
 ..   I OTR>0 S OTR=$P($G(^PRSN(451.6,OTR,0)),U) ;   OT reason
"RTN","PRSNCGR1",38,0)
 ..   S PRSFDA(451.7,"+1,",12)=OTR
"RTN","PRSNCGR1",39,0)
 ..;                                                 451.5 type of wrk
"RTN","PRSNCGR1",40,0)
 ..   S PRSFDA(451.7,"+1,",13)=$P($G(^PRSN(451.5,+$P(PCDATA,U,6),0)),U)
"RTN","PRSNCGR1",41,0)
 ..   S PRSFDA(451.7,"+1,",14)=DT ;                    release date
"RTN","PRSNCGR1",42,0)
 ..   S PRSFDA(451.7,"+1,",15)=$P(^PRSN(451,PPI,"E",PRSIEN,0),U,7) ; T&L WHEN APPROVED
"RTN","PRSNCGR1",43,0)
 ..   D UPDATE^DIE("","PRSFDA","IEN"),MSG^DIALOG()
"RTN","PRSNCGR1",44,0)
 Q
"RTN","PRSNCGR1",45,0)
 ;
"RTN","PRSNCGR1",46,0)
EXTVERS(VNUM,PPI,PRSIEN,PRSD) ; update extraction version in POC records file
"RTN","PRSNCGR1",47,0)
 ;
"RTN","PRSNCGR1",48,0)
 ;  RETURN: VNUM-the version number of the extraction for the 
"RTN","PRSNCGR1",49,0)
 ;               day (PRSD = 1-14) of the pay period.
"RTN","PRSNCGR1",50,0)
 ;
"RTN","PRSNCGR1",51,0)
 ; increment Extraction Version number.  If no data on node then
"RTN","PRSNCGR1",52,0)
 ; we are dealing with the initial extraction for 2nd day of a 
"RTN","PRSNCGR1",53,0)
 ; two day tour, so add a node and set version to 1. Subsequent
"RTN","PRSNCGR1",54,0)
 ; releases to day will then have the correct version number.
"RTN","PRSNCGR1",55,0)
 ;
"RTN","PRSNCGR1",56,0)
 K FDA,IENS
"RTN","PRSNCGR1",57,0)
 ;
"RTN","PRSNCGR1",58,0)
 I $D(^PRSN(451,PPI,"E",PRSIEN,"D",PRSD,0)) D
"RTN","PRSNCGR1",59,0)
 .  S IENS=PRSD_","_PRSIEN_","_PPI_","
"RTN","PRSNCGR1",60,0)
 .  S VNUM=1+$P($G(^PRSN(451,PPI,"E",PRSIEN,"D",PRSD,0)),U,3)
"RTN","PRSNCGR1",61,0)
 E  D
"RTN","PRSNCGR1",62,0)
 .  S IENS="+1,"_PRSIEN_","_PPI_","
"RTN","PRSNCGR1",63,0)
 .  S IENS(1)=PRSD
"RTN","PRSNCGR1",64,0)
 .  S VNUM=1
"RTN","PRSNCGR1",65,0)
 .  S FDA(451.99,IENS,.01)=PRSD
"RTN","PRSNCGR1",66,0)
 S FDA(451.99,IENS,2)=VNUM
"RTN","PRSNCGR1",67,0)
 ;
"RTN","PRSNCGR1",68,0)
 D UPDATE^DIE("","FDA","IENS"),MSG^DIALOG()
"RTN","PRSNCGR1",69,0)
 Q
"RTN","PRSNCGR1",70,0)
 ;
"RTN","PRSNCGR1",71,0)
UPDTPOC(PPI,PRSIEN,STATUS,RETURN) ; update pay period status for nurse POC records
"RTN","PRSNCGR1",72,0)
 ; INPUT:
"RTN","PRSNCGR1",73,0)
 ;   PPI, PRSIEN: Standard
"RTN","PRSNCGR1",74,0)
 ;   STATUS: POC pay period status (E)ntered, (A)pproved, (R)eleased
"RTN","PRSNCGR1",75,0)
 ;   RETURN: (optional) flag set to true to indicate the pay period
"RTN","PRSNCGR1",76,0)
 ;                      is being returned
"RTN","PRSNCGR1",77,0)
 N IENS,PRSFDA,PRIMLOC
"RTN","PRSNCGR1",78,0)
 S IENS=PRSIEN_","_PPI_","
"RTN","PRSNCGR1",79,0)
 S PRSFDA(451.09,IENS,1)=STATUS
"RTN","PRSNCGR1",80,0)
 I STATUS="A" D
"RTN","PRSNCGR1",81,0)
 .  S PRIMLOC=+$$PRIMLOC^PRSNUT03(+$G(^PRSPC(PRSIEN,200)))
"RTN","PRSNCGR1",82,0)
 .  S PRSFDA(451.09,IENS,4)=$P($$DIV^PRSNUT03("N",+PRIMLOC),U,3)
"RTN","PRSNCGR1",83,0)
 .  S PRSFDA(451.09,IENS,2)=DUZ
"RTN","PRSNCGR1",84,0)
 .  N %,X,%I,%H D NOW^%DTC
"RTN","PRSNCGR1",85,0)
 .  S PRSFDA(451.09,IENS,3)=%
"RTN","PRSNCGR1",86,0)
 .  S PRSFDA(451.09,IENS,5)=PRIMLOC
"RTN","PRSNCGR1",87,0)
 .  ;PRS*4.0*146 SETS the PRSFDA node below to the internal value of the T&L UNIT code
"RTN","PRSNCGR1",88,0)
 .  N TLE S TLE=$P($G(^PRSPC(PRSIEN,0)),U,8)
"RTN","PRSNCGR1",89,0)
 .  I TLE'="" S PRSFDA(451.09,IENS,6)=$O(^PRST(455.5,"B",TLE,""))
"RTN","PRSNCGR1",90,0)
 I STATUS="E"&$G(RETURN) D 
"RTN","PRSNCGR1",91,0)
 .  S PRSFDA(451.09,IENS,4)="@"
"RTN","PRSNCGR1",92,0)
 .  S PRSFDA(451.09,IENS,2)="@"
"RTN","PRSNCGR1",93,0)
 .  S PRSFDA(451.09,IENS,3)="@"
"RTN","PRSNCGR1",94,0)
 .  S PRSFDA(451.09,IENS,5)="@"
"RTN","PRSNCGR1",95,0)
 .  S PRSFDA(451.09,IENS,6)="@"
"RTN","PRSNCGR1",96,0)
 D UPDATE^DIE("","PRSFDA","IENS"),MSG^DIALOG()
"RTN","PRSNCGR1",97,0)
 Q
"RTN","PRSNCGR1",98,0)
UPDTPP(PPI,CI,NRSCNT,RECNT) ; update division release history for pay period
"RTN","PRSNCGR1",99,0)
 N IENS,PRSFDA
"RTN","PRSNCGR1",100,0)
 S IENS="+1,"_PPI_","
"RTN","PRSNCGR1",101,0)
 S PRSFDA(451.06,IENS,.01)=CI
"RTN","PRSNCGR1",102,0)
 S PRSFDA(451.06,IENS,1)=DUZ
"RTN","PRSNCGR1",103,0)
 N %,X,%I,%H D NOW^%DTC
"RTN","PRSNCGR1",104,0)
 S PRSFDA(451.06,IENS,2)=%
"RTN","PRSNCGR1",105,0)
 S PRSFDA(451.06,IENS,3)=NRSCNT
"RTN","PRSNCGR1",106,0)
 S PRSFDA(451.06,IENS,4)=RECNT
"RTN","PRSNCGR1",107,0)
 D UPDATE^DIE("","PRSFDA","IENS"),MSG^DIALOG()
"RTN","PRSNCGR1",108,0)
 Q
"RTN","PRSNCGR1",109,0)
 ;
"RTN","PRSNCGR1",110,0)
CNTREP(PRSINST,PPI) ;  Report on the record status for each division
"RTN","PRSNCGR1",111,0)
 ;
"RTN","PRSNCGR1",112,0)
 ;  INPUT: PRSINST- array of instituions
"RTN","PRSNCGR1",113,0)
 ;
"RTN","PRSNCGR1",114,0)
 N REC,PRECNT,FIELD,PC,DIV,CI,PRSIEN,PRIM,SN
"RTN","PRSNCGR1",115,0)
 S REC=0
"RTN","PRSNCGR1",116,0)
 F  S REC=$O(PRSINST(REC)) Q:REC'>0  D
"RTN","PRSNCGR1",117,0)
 .  S CI=+PRSINST(REC)
"RTN","PRSNCGR1",118,0)
 .  D GETS^DIQ(4,CI_",","99","E","FIELD(",,)
"RTN","PRSNCGR1",119,0)
 .  S SN=FIELD(4,CI_",",99,"E")
"RTN","PRSNCGR1",120,0)
 .  S PRECNT(CI)="0^0^0"
"RTN","PRSNCGR1",121,0)
 .;
"RTN","PRSNCGR1",122,0)
 .; count up entered records
"RTN","PRSNCGR1",123,0)
 .;
"RTN","PRSNCGR1",124,0)
 .  S PRSIEN=0
"RTN","PRSNCGR1",125,0)
 .  F  S PRSIEN=$O(^PRSN(451,"AE",PRSIEN)) Q:PRSIEN'>0  D
"RTN","PRSNCGR1",126,0)
 ..    S PRIM=$$PRIMLOC^PRSNUT03(+$G(^PRSPC(PRSIEN,200)))
"RTN","PRSNCGR1",127,0)
 ..    S DIV=$P($$ISACTIVE^PRSNUT01(DT,+PRIM),U,4)
"RTN","PRSNCGR1",128,0)
 ..    I (DIV=CI),($D(^PRSN(451,"AE",PRSIEN,PPI))) D
"RTN","PRSNCGR1",129,0)
 ...       S $P(PRECNT(CI),U)=$P(PRECNT(CI),U)+1
"RTN","PRSNCGR1",130,0)
 .;
"RTN","PRSNCGR1",131,0)
 .; count up approved records
"RTN","PRSNCGR1",132,0)
 .;
"RTN","PRSNCGR1",133,0)
 .  S PRSIEN=0
"RTN","PRSNCGR1",134,0)
 .  F  S PRSIEN=$O(^PRSN(451,"AA",CI,PPI,PRSIEN)) Q:PRSIEN'>0  D
"RTN","PRSNCGR1",135,0)
 ..    S $P(PRECNT(CI),U,2)=$P(PRECNT(CI),U,2)+1
"RTN","PRSNCGR1",136,0)
 .;
"RTN","PRSNCGR1",137,0)
 .; count up released records
"RTN","PRSNCGR1",138,0)
 .;
"RTN","PRSNCGR1",139,0)
 .  S PRSIEN=0
"RTN","PRSNCGR1",140,0)
 .  F  S PRSIEN=$O(^PRSN(451,"AR",CI,PPI,PRSIEN)) Q:PRSIEN'>0  D
"RTN","PRSNCGR1",141,0)
 ..    S $P(PRECNT(CI),U,3)=$P(PRECNT(CI),U,3)+1
"RTN","PRSNCGR1",142,0)
 ;
"RTN","PRSNCGR1",143,0)
 ; Display counts for the division
"RTN","PRSNCGR1",144,0)
 ;
"RTN","PRSNCGR1",145,0)
 W @IOF,!!!,?14,"Pay Period ",$P($G(^PRST(458,PPI,0)),U)," Statistics"
"RTN","PRSNCGR1",146,0)
 N DIVI,DIVE,I,F,X
"RTN","PRSNCGR1",147,0)
 W !,?14,"==============================="
"RTN","PRSNCGR1",148,0)
 W !!,?26,"NURSES POINT OF CARE PAY PERIOD RECORD STATUS"
"RTN","PRSNCGR1",149,0)
 W !,?4,"DIVISION",?41,"UNAPPROVED",?54,"APPROVED",?66,"RELEASED"
"RTN","PRSNCGR1",150,0)
 W !,?4,"========",?41,"==========",?54,"========",?66,"========"
"RTN","PRSNCGR1",151,0)
 N I,STNUM,STNAME S I=0
"RTN","PRSNCGR1",152,0)
 F  S I=$O(PRECNT(I)) Q:I'>0  D
"RTN","PRSNCGR1",153,0)
 .  D GETS^DIQ(4,I_",",".01;99","EI","F(",,)
"RTN","PRSNCGR1",154,0)
 .  S STNUM=F(4,I_",",99,"E"),STNAME=F(4,I_",",.01,"E")
"RTN","PRSNCGR1",155,0)
 .  W !,?4,STNAME," (",STNUM,")"
"RTN","PRSNCGR1",156,0)
 .  W ?42,$J($P(PRECNT(I),U),8)
"RTN","PRSNCGR1",157,0)
 .  W ?54,$J($P(PRECNT(I),U,2),8)
"RTN","PRSNCGR1",158,0)
 .  W ?66,$J($P(PRECNT(I),U,3),8)
"RTN","PRSNCGR1",159,0)
 Q
"UP",459,459.01,-1)
459^P
"UP",459,459.01,0)
459.01
"VER")
8.0^22.0
"^DD",450,450,563,0)
UNIFORM ALLOWANCE AMT CPPD^NJ7,2^^UNIFORM;1^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999.99)!(X<0)!(X?.E1"."3.N) X
"^DD",450,450,563,3)
Type a dollar amount between 0 and 9999.99, 2 decimal digits.
"^DD",450,450,563,21,0)
^^3^3^2911120^
"^DD",450,450,563,21,1,0)
The amount paid as uniform allowance to an employee who is required to
"^DD",450,450,563,21,2,0)
purchase and wear a uniform at work. The amount paid is for the last
"^DD",450,450,563,21,3,0)
pay period processed.
"^DD",450,450,563,"DT")
3160210
"^DD",459,459.01,109,0)
UNIFORM ALLOWANCE AMT CPPD^NJ7,2^^5;29^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999.99)!(X<0) X
"^DD",459,459.01,109,3)
Type a dollar amount between 0 and 9999.99, 2 decimal digits.
"^DD",459,459.01,109,21,0)
^.001^3^3^3160525^^
"^DD",459,459.01,109,21,1,0)
The amount paid as uniform allowance to an employee who is required to
"^DD",459,459.01,109,21,2,0)
purchase and wear a uniform at work. The amount paid is for the last
"^DD",459,459.01,109,21,3,0)
pay period processed.
"^DD",459,459.01,109,"DT")
3160525
"BLD",10178,6)
^138
**END**
**END**

