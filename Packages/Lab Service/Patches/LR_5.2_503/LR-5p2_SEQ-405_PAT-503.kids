Released LR*5.2*503 SEQ #405
Extracted from mail message
**KIDS**:LR*5.2*503^

**INSTALL NAME**
LR*5.2*503
"BLD",10909,0)
LR*5.2*503^LAB SERVICE^0^3180302^y
"BLD",10909,1,0)
^^4^4^3180214^
"BLD",10909,1,1,0)
This patch addresses two (2) VistA Laboratory issues:
"BLD",10909,1,2,0)
(1) Statistical reports might list inaccurate information for monthly 
"BLD",10909,1,3,0)
accession areas.
"BLD",10909,1,4,0)
(2) Inactive providers are displayed during Anatomic Pathology Log-In.
"BLD",10909,4,0)
^9.64PA^63^1
"BLD",10909,4,63,0)
63
"BLD",10909,4,63,2,0)
^9.641^63^4
"BLD",10909,4,63,2,63,0)
LAB DATA  (File-top level)
"BLD",10909,4,63,2,63,1,0)
^9.6411^12.1^1
"BLD",10909,4,63,2,63,1,12.1,0)
PHYSICIAN
"BLD",10909,4,63,2,63.02,0)
EM  (sub-file)
"BLD",10909,4,63,2,63.02,1,0)
^9.6411^.07^1
"BLD",10909,4,63,2,63.02,1,.07,0)
PHYSICIAN
"BLD",10909,4,63,2,63.08,0)
SURGICAL PATHOLOGY  (sub-file)
"BLD",10909,4,63,2,63.08,1,0)
^9.6411^.07^1
"BLD",10909,4,63,2,63.08,1,.07,0)
SURGEON/PHYSICIAN
"BLD",10909,4,63,2,63.09,0)
CYTOPATHOLOGY  (sub-file)
"BLD",10909,4,63,2,63.09,1,0)
^9.6411^.07^1
"BLD",10909,4,63,2,63.09,1,.07,0)
PHYSICIAN
"BLD",10909,4,63,222)
y^n^p^^^^n^^n
"BLD",10909,4,63,224)

"BLD",10909,4,"APDD",63,63)

"BLD",10909,4,"APDD",63,63,12.1)

"BLD",10909,4,"APDD",63,63.02)

"BLD",10909,4,"APDD",63,63.02,.07)

"BLD",10909,4,"APDD",63,63.08)

"BLD",10909,4,"APDD",63,63.08,.07)

"BLD",10909,4,"APDD",63,63.09)

"BLD",10909,4,"APDD",63,63.09,.07)

"BLD",10909,4,"B",63,63)

"BLD",10909,6.3)
11
"BLD",10909,"KRN",0)
^9.67PA^779.2^20
"BLD",10909,"KRN",.4,0)
.4
"BLD",10909,"KRN",.4,"NM",0)
^9.68A^^
"BLD",10909,"KRN",.401,0)
.401
"BLD",10909,"KRN",.402,0)
.402
"BLD",10909,"KRN",.403,0)
.403
"BLD",10909,"KRN",.5,0)
.5
"BLD",10909,"KRN",.84,0)
.84
"BLD",10909,"KRN",3.6,0)
3.6
"BLD",10909,"KRN",3.8,0)
3.8
"BLD",10909,"KRN",9.2,0)
9.2
"BLD",10909,"KRN",9.8,0)
9.8
"BLD",10909,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",10909,"KRN",9.8,"NM",1,0)
LRUPACA^^0^B16066583
"BLD",10909,"KRN",9.8,"NM",2,0)
LRUPACS^^0^B12249719
"BLD",10909,"KRN",9.8,"NM","B","LRUPACA",1)

"BLD",10909,"KRN",9.8,"NM","B","LRUPACS",2)

"BLD",10909,"KRN",19,0)
19
"BLD",10909,"KRN",19.1,0)
19.1
"BLD",10909,"KRN",101,0)
101
"BLD",10909,"KRN",409.61,0)
409.61
"BLD",10909,"KRN",771,0)
771
"BLD",10909,"KRN",779.2,0)
779.2
"BLD",10909,"KRN",870,0)
870
"BLD",10909,"KRN",8989.51,0)
8989.51
"BLD",10909,"KRN",8989.52,0)
8989.52
"BLD",10909,"KRN",8994,0)
8994
"BLD",10909,"KRN","B",.4,.4)

"BLD",10909,"KRN","B",.401,.401)

"BLD",10909,"KRN","B",.402,.402)

"BLD",10909,"KRN","B",.403,.403)

"BLD",10909,"KRN","B",.5,.5)

"BLD",10909,"KRN","B",.84,.84)

"BLD",10909,"KRN","B",3.6,3.6)

"BLD",10909,"KRN","B",3.8,3.8)

"BLD",10909,"KRN","B",9.2,9.2)

"BLD",10909,"KRN","B",9.8,9.8)

"BLD",10909,"KRN","B",19,19)

"BLD",10909,"KRN","B",19.1,19.1)

"BLD",10909,"KRN","B",101,101)

"BLD",10909,"KRN","B",409.61,409.61)

"BLD",10909,"KRN","B",771,771)

"BLD",10909,"KRN","B",779.2,779.2)

"BLD",10909,"KRN","B",870,870)

"BLD",10909,"KRN","B",8989.51,8989.51)

"BLD",10909,"KRN","B",8989.52,8989.52)

"BLD",10909,"KRN","B",8994,8994)

"BLD",10909,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",10909,"QUES",0)
^9.62^^
"BLD",10909,"REQB",0)
^9.611^^
"FIA",63)
LAB DATA
"FIA",63,0)
^LR(
"FIA",63,0,0)
63I
"FIA",63,0,1)
y^n^p^^^^n^^n
"FIA",63,0,10)

"FIA",63,0,11)

"FIA",63,0,"RLRO")

"FIA",63,0,"VR")
5.2^LR
"FIA",63,63)
1
"FIA",63,63,12.1)

"FIA",63,63.02)
1
"FIA",63,63.02,.07)

"FIA",63,63.08)
1
"FIA",63,63.08,.07)

"FIA",63,63.09)
1
"FIA",63,63.09,.07)

"MBREQ")
0
"PKG",26,-1)
1^1
"PKG",26,0)
LAB SERVICE^LR^CORE LAB SYSTEM
"PKG",26,20,0)
^9.402P^1^1
"PKG",26,20,1,0)
2^^LRXDRPT
"PKG",26,20,1,1)

"PKG",26,20,"B",2,1)

"PKG",26,22,0)
^9.49I^1^1
"PKG",26,22,1,0)
5.2^2940927^2981028^66481
"PKG",26,22,1,"PAH",1,0)
503^3180302
"PKG",26,22,1,"PAH",1,1,0)
^^4^4^3180302
"PKG",26,22,1,"PAH",1,1,1,0)
This patch addresses two (2) VistA Laboratory issues:
"PKG",26,22,1,"PAH",1,1,2,0)
(1) Statistical reports might list inaccurate information for monthly 
"PKG",26,22,1,"PAH",1,1,3,0)
accession areas.
"PKG",26,22,1,"PAH",1,1,4,0)
(2) Inactive providers are displayed during Anatomic Pathology Log-In.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","LRUPACA")
0^1^B16066583^B13382293
"RTN","LRUPACA",1,0)
LRUPACA ;AVAMC/REG - LAB ACC COUNTS BY LOC ;2/18/93  13:09 ;
"RTN","LRUPACA",2,0)
 ;;5.2;LAB SERVICE;**503**;Sep 27, 1994;Build 11
"RTN","LRUPACA",3,0)
 ;
"RTN","LRUPACA",4,0)
 ;LR*5.2*503 - add variables for "inclusive dates"
"RTN","LRUPACA",5,0)
 ;LRINCA = first date with data
"RTN","LRUPACA",6,0)
 ;LRINCB = last date with data
"RTN","LRUPACA",7,0)
 ;
"RTN","LRUPACA",8,0)
 N LRINCA,LRINCB
"RTN","LRUPACA",9,0)
 S (LRINCA,LRINCB)=""
"RTN","LRUPACA",10,0)
 ;
"RTN","LRUPACA",11,0)
 D END S DIC=68,DIC(0)="AEQMZ",DIC("S")="I ""AUCYEMSP""'[$P(^(0),U,2)&($P(^(0),U,2)]"""")" D ^DIC K DIC G:Y=-1 END S LRAA=+Y,LRAA(1)=$P(Y,U,2),LRSS=$P(Y(0),U,2)
"RTN","LRUPACA",12,0)
 K T S (Z(4),T(2))=0
"RTN","LRUPACA",13,0)
 W !!?20,LRAA(1)," ACCESSION COUNTS" D B^LRU G:Y<0 END
"RTN","LRUPACA",14,0)
 S LRLDT=LRLDT+.99
"RTN","LRUPACA",15,0)
 ;LR*5.2*503 - add handling of monthly accession areas
"RTN","LRUPACA",16,0)
 S T(3)=$S($P(^LRO(68,LRAA,0),U,3)="Y":$E(LRSDT,1,3)_"0000",$P(^LRO(68,LRAA,0),U,3)="M":$E(LRSDT,1,5)_"00",1:LRSDT)
"RTN","LRUPACA",17,0)
 S T(4)=$S($P(^LRO(68,LRAA,0),U,3)="Y":$E(LRLDT,1,3)_"0000",$P(^LRO(68,LRAA,0),U,3)="M":$E(LRLDT,1,5)_"00",1:LRLDT)
"RTN","LRUPACA",18,0)
DEV S ZTRTN="QUE^LRUPACA" D BEG^LRUTL G:POP!($D(ZTSK)) END
"RTN","LRUPACA",19,0)
 ;LR*5.2*503 change "0000" to "00" for monthly accession area as well as yearly
"RTN","LRUPACA",20,0)
QUE U IO K ^TMP($J) D:IOST?1"C".E WAIT^LRU D L^LRU,S^LRU,@($S(T(3)["00":"ACY",1:"ACD"))
"RTN","LRUPACA",21,0)
 S Y=$S($D(^TMP($J,"S")):^("S"),1:"") D D^LRU S LRB=Y,Y=$S($D(^TMP($J,"E")):^("E"),1:"") D D^LRU S LRE=Y
"RTN","LRUPACA",22,0)
 D H1 S LR("F")=1,Q(2)=0,S=-1 F A=0:1 S S=$O(^TMP($J,"B",S)) Q:S=""!(LR("Q"))  D:$Y>(IOSL-6) H1 Q:LR("Q")  W !,S,?30,$J(^TMP($J,"B",S),5) S Q(2)=Q(2)+^(S) D T
"RTN","LRUPACA",23,0)
 G:LR("Q") OUT W !?30,"-----",!,"Total Accessions: ",?30,$J(Q(2),5),?41,"Total tests: ",?70,$J(T(2),9) D H3 Q:LR("Q")
"RTN","LRUPACA",24,0)
 F T=0:0 S T=$O(^TMP($J,T)) Q:'T!(LR("Q"))  D:$Y>(IOSL-6) H3 Q:LR("Q")  W !,$S($D(^LAB(60,T,0)):$P(^(0),"^"),1:T) D B Q:LR("Q")
"RTN","LRUPACA",25,0)
OUT D END^LRUTL,END Q
"RTN","LRUPACA",26,0)
T F T=0:0 S T=$O(^TMP($J,"B",S,T)) Q:'T!(LR("Q"))  D:$Y>(IOSL-6) H1 Q:LR("Q")  S T(1)=^TMP($J,"B",S,T) W !?41,$S($D(^LAB(60,T,0)):$P(^(0),"^"),1:T),?70,$J(T(1),9) S T(2)=T(2)+T(1)
"RTN","LRUPACA",27,0)
 Q
"RTN","LRUPACA",28,0)
B S V=0,S=0 F A=0:1 S S=$O(^TMP($J,T,S)) Q:S=""!(LR("Q"))  D:$Y>(IOSL-6) H3 Q:LR("Q")  S Z=^TMP($J,T,S) W !?30,S,?55,$J(Z,9) S V=V+Z W ?70,$J(V,9)
"RTN","LRUPACA",29,0)
 Q
"RTN","LRUPACA",30,0)
ACY S T(3)=T(3)-1,LRB=$O(^LRO(68,LRAA,1,T(3))) F I=T(3):0 S I=$O(^LRO(68,LRAA,1,I)) Q:'I!(I>T(4))  S LRSA=LRSDT-.01,^TMP($J,"S")=$O(^LRO(68,LRAA,1,I,1,"E",LRSA)) D ACY1
"RTN","LRUPACA",31,0)
 Q
"RTN","LRUPACA",32,0)
ACY1 S LRE="" F B=LRSA:0 S B=$O(^LRO(68,LRAA,1,I,1,"E",B)) Q:'B!(B>LRLDT)  D
"RTN","LRUPACA",33,0)
 . S LRINCA=$S(LRINCA]"":LRINCA,1:B)
"RTN","LRUPACA",34,0)
 . S LRINCB=B
"RTN","LRUPACA",35,0)
 . S LRE=B F LRAN=0:0 S LRAN=$O(^LRO(68,LRAA,1,I,1,"E",B,LRAN)) Q:'LRAN  D AC1
"RTN","LRUPACA",36,0)
 . S ^TMP($J,"E")=LRE
"RTN","LRUPACA",37,0)
 Q
"RTN","LRUPACA",38,0)
AC1 Q:'$D(^LRO(68,LRAA,1,I,1,LRAN,0))  Q:I'=$P(^(0),U,3)  S X=^(0),LRLLOC=$S($L($P(X,U,7)):$P(X,U,7),$P(X,U,2)=62.3:"QC--"_$P(^LAB(62.3,$P(^LR($P(X,"^"),0),U,3),0),"^"),1:"???")
"RTN","LRUPACA",39,0)
 S:'$D(^TMP($J,"B",LRLLOC)) ^(LRLLOC)=0 S ^(LRLLOC)=^(LRLLOC)+1
"RTN","LRUPACA",40,0)
 F T=0:0 S T=$O(^LRO(68,LRAA,1,I,1,LRAN,4,T)) Q:'T  S:'$D(^TMP($J,"B",LRLLOC,T)) ^(T)=0 S ^(T)=^(T)+1 S:'$D(^TMP($J,T,LRLLOC)) ^(LRLLOC)=0 S ^(LRLLOC)=^(LRLLOC)+1
"RTN","LRUPACA",41,0)
 Q
"RTN","LRUPACA",42,0)
ACD S LRE="",T(3)=T(3)-1,^TMP($J,"S")=$O(^LRO(68,LRAA,1,T(3))) F I=T(3):0 S I=$O(^LRO(68,LRAA,1,I)) Q:'I!(I>T(4))  S LRE=I F LRAN=0:0 S LRAN=$O(^LRO(68,LRAA,1,I,1,LRAN)) Q:'LRAN  D AC1
"RTN","LRUPACA",43,0)
 S ^TMP($J,"E")=LRE Q
"RTN","LRUPACA",44,0)
H I $D(LR("F")),IOST?1"C".E D M^LRU Q:LR("Q")
"RTN","LRUPACA",45,0)
 S Y=LRINCA D D^LRU S LRINCA=Y
"RTN","LRUPACA",46,0)
 S Y=LRINCB D D^LRU S LRINCB=Y
"RTN","LRUPACA",47,0)
 D F^LRU W !,"LABORATORY SERVICE ",LRAA(1)," COUNTS (",LRSTR,"-",LRLST,")",!,"INCLUSIVE DATES/TIMES WITH DATA: ",LRINCA W:LRINCB]"" " TO ",LRINCB Q
"RTN","LRUPACA",48,0)
H1 D H Q:LR("Q")  W !,"Location",?26,"# Accessions",?69,"Test count",!,LR("%") Q
"RTN","LRUPACA",49,0)
H2 D H Q:LR("Q")  W !,S Q
"RTN","LRUPACA",50,0)
H3 D H Q:LR("Q")  W !,"Test",?35,"Location",?55,"Test count",?70,"Cum count",!,LR("%") Q
"RTN","LRUPACA",51,0)
 ;
"RTN","LRUPACA",52,0)
END D V^LRU Q
"RTN","LRUPACS")
0^2^B12249719^B11710484
"RTN","LRUPACS",1,0)
LRUPACS ;AVAMC/REG - LAB ACCESSION COUNTS BY SHIFT ;2/18/93  13:09 ;
"RTN","LRUPACS",2,0)
 ;;5.2;LAB SERVICE;**503**;Sep 27, 1994;Build 11
"RTN","LRUPACS",3,0)
 D END S DIC=68,DIC(0)="AEMOQZ",DIC("S")="I ""AUCYEMSP""'[$P(^(0),U,2)&($P(^(0),U,2)]"""")" D ^DIC K DIC G:Y<1 END S W=+Y,W(1)=$P(Y,U,2)
"RTN","LRUPACS",4,0)
 W !!?20,W(1)," ACCESSION & TEST COUNTS BY SHIFT" D B G:Y<0 END
"RTN","LRUPACS",5,0)
 K X,Y,XY S ZTRTN="QUE^LRUPACS" D BEG^LRUTL G:POP!($D(ZTSK)) END
"RTN","LRUPACS",6,0)
QUE U IO D L^LRU,S^LRU,EN^LRUTL
"RTN","LRUPACS",7,0)
 ;LR*5.2*503 add handling of monthly accession areas
"RTN","LRUPACS",8,0)
 S LRLDT=LRLDT+.99
"RTN","LRUPACS",9,0)
 S Z=$S($P(^LRO(68,W,0),U,3)="Y":$E(LRSDT,1,3)_"0000",$P(^LRO(68,W,0),U,3)="M":$E(LRSDT,1,5)_"00",1:LRSDT)
"RTN","LRUPACS",10,0)
 S Z(1)=$S($P(^LRO(68,W,0),U,3)="Y":$E(LRLDT,1,3)_"0000",$P(^LRO(68,W,0),U,3)="M":$E(LRLDT,1,5)_"00",1:LRLDT)
"RTN","LRUPACS",11,0)
 D H,Z S LR("F")=1 F S=4:1:8 S A(S)=0
"RTN","LRUPACS",12,0)
 F S=0:0 S S=$O(S(S)) Q:'S!(LR("Q"))  D:$Y>(IOSL-6) H Q:LR("Q")  W !,$E($P(^LAB(61,S,0),"^"),1,19) S A(1)=$S($D(S(S,1)):S(S,1),1:0),A(2)=$S($D(S(S,2)):S(S,2),1:0),A(3)=$S($D(S(S,0)):S(S,0),1:0) D SUM
"RTN","LRUPACS",13,0)
 G:LR("Q") OUT D TOT K A,S D TST Q:LR("Q")  D TOT
"RTN","LRUPACS",14,0)
OUT W:IOST'?1"C".E @IOF D END^LRUTL,END Q
"RTN","LRUPACS",15,0)
TOT D:$Y>(IOSL-6) H Q:LR("Q")  W !,?20,"-----",?35,"-----",?50,"-----",?65,"-------",!,"Total",$S($D(S):" Accessions",1:" Tests"),?20,$J(A(7),5),?35,$J(A(5),5),?50,$J(A(6),5),?65,$J(A(8),7)
"RTN","LRUPACS",16,0)
 W:A(8) !?5,"%",?20,$J(A(7)/A(8)*100,5,1),?35,$J(A(5)/A(8)*100,5,1),?50,$J(A(6)/A(8)*100,5,1) Q
"RTN","LRUPACS",17,0)
SUM S A(4)=A(1)+A(2)+A(3),A(5)=A(5)+A(1),A(6)=A(6)+A(2),A(7)=A(7)+A(3),A(8)=A(8)+A(4)
"RTN","LRUPACS",18,0)
 W ?20,$J(A(3),5),?35,$J(A(1),5),?50,$J(A(2),5),?65,$J(A(4),7) Q
"RTN","LRUPACS",19,0)
TST D:$Y>(IOSL-6) H Q:LR("Q")  W !! F T=5:1:8 S A(T)=0
"RTN","LRUPACS",20,0)
 F T=0:0 S T=$O(T(T)) Q:'T!(LR("Q"))  D:$Y>(IOSL-6) H Q:LR("Q")  W !,$E($P(^LAB(60,T,0),"^"),1,19) S A(1)=$S($D(T(T,1)):T(T,1),1:0),A(2)=$S($D(T(T,2)):T(T,2),1:0),A(3)=$S($D(T(T,0)):T(T,0),1:0) D SUM
"RTN","LRUPACS",21,0)
 Q
"RTN","LRUPACS",22,0)
 Q
"RTN","LRUPACS",23,0)
Z S Z=Z-1
"RTN","LRUPACS",24,0)
 F I=Z:0 S I=$O(^LRO(68,W,1,I)) Q:'I!(I>Z(1))  S Z(3)=LRSDT-.01 F B=Z(3):0 S B=$O(^LRO(68,W,1,I,1,"AC",B)) Q:'B!(B>LRLDT)  S Y=B#1*10000\800 F W(6)=0:0 S W(6)=$O(^LRO(68,W,1,I,1,"AC",B,W(6))) Q:'W(6)  D AC1
"RTN","LRUPACS",25,0)
 Q
"RTN","LRUPACS",26,0)
AC1 S S=$S($D(^LRO(68,W,1,I,1,W(6),5,1,0)):+^(0),1:0) S:S<1 S=LRU S:'$D(S(S,Y)) S(S,Y)=0 S S(S,Y)=S(S,Y)+1
"RTN","LRUPACS",27,0)
 F T=0:0 S T=$O(^LRO(68,W,1,I,1,W(6),4,T)) Q:'T  S:'$D(T(T,Y)) T(T,Y)=0 S T(T,Y)=T(T,Y)+1 ;S:'$D(S(S,T,Y)) S(S,T,Y)=0 S S(S,T,Y)=S(S,T,Y)+1
"RTN","LRUPACS",28,0)
 Q
"RTN","LRUPACS",29,0)
H I $D(LR("F")),IOST?1"C".E D M^LRU Q:LR("Q")
"RTN","LRUPACS",30,0)
 D F^LRU W !,"LABORATORY SERVICE ",W(1)," COUNTS",!?21,"From:",LRSTR,"  To:",LRLST
"RTN","LRUPACS",31,0)
 W !,?20,"12am-8am",?35,"8am-4pm",?50,"4pm-midnight",?65,"Total count",!,LR("%") Q
"RTN","LRUPACS",32,0)
 ;
"RTN","LRUPACS",33,0)
B D ^LRU S %DT="AEX",%DT(0)="-N",%DT("A")="Start with Date: T-1// " D ^%DT K %DT I X="" S X="T-1" D ^%DT S X=Y D D^LRU W Y S Y=X
"RTN","LRUPACS",34,0)
 Q:Y<1  S LRSDT=Y I Y=DT D N G B
"RTN","LRUPACS",35,0)
 S %DT="AEX",%DT("A")="Go    to   Date: T-1// " D ^%DT K %DT I X="" S X="T-1" D ^%DT S X=Y D D^LRU W Y S Y=X
"RTN","LRUPACS",36,0)
 Q:Y<1  S LRLDT=Y I Y=DT D N G B
"RTN","LRUPACS",37,0)
 I LRSDT>LRLDT S X=LRSDT,LRSDT=LRLDT,LRLDT=X
"RTN","LRUPACS",38,0)
 S Y=LRSDT D D^LRU S LRSTR=Y,Y=LRLDT D D^LRU S LRLST=Y Q
"RTN","LRUPACS",39,0)
N W $C(7),!?3,"Date cannot be TODAY." Q
"RTN","LRUPACS",40,0)
 ;
"RTN","LRUPACS",41,0)
END D V^LRU Q
"UP",63,63.02,-1)
63^EM
"UP",63,63.02,0)
63.02
"UP",63,63.08,-1)
63^SP
"UP",63,63.08,0)
63.08
"UP",63,63.09,-1)
63^CY
"UP",63,63.09,0)
63.09
"VER")
8.0^22.2
"^DD",63,63,12.1,0)
PHYSICIAN^*P200'^VA(200,^AU;12^S DIC("S")="I $D(^VA(200,""AK.PROVIDER"",$P(^(0),U))),$D(^XUSEC(""PROVIDER"",Y)),$$ACTIVE^XUSER(Y)",D="AK.PROVIDER" D IX^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",63,63,12.1,3)
Select the requesting provider.
"^DD",63,63,12.1,12)
Selects active providers who hold the VA PROVIDER security key.
"^DD",63,63,12.1,12.1)
S DIC("S")="I $D(^VA(200,""AK.PROVIDER"",$P(^(0),U))),$D(^XUSEC(""PROVIDER"",Y)),$$ACTIVE^XUSER(Y)"
"^DD",63,63,12.1,21,0)
^^1^1^2911205^^
"^DD",63,63,12.1,21,1,0)
This is the requesting provider.
"^DD",63,63,12.1,"DT")
2930407
"^DD",63,63.02,.07,0)
PHYSICIAN^*P200'X^VA(200,^0;7^S DIC("S")="I $D(^VA(200,""AK.PROVIDER"",$P(^(0),U))),$D(^XUSEC(""PROVIDER"",Y)),$$ACTIVE^XUSER(Y)",D="AK.PROVIDER" D IX^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",63,63.02,.07,3)
Select the requesting provider.
"^DD",63,63.02,.07,12)
Selection must be made from active PROVIDERS who hold the PROVIDER security key.
"^DD",63,63.02,.07,12.1)
S DIC("S")="I $D(^VA(200,""AK.PROVIDER"",$P(^(0),U))),$D(^XUSEC(""PROVIDER"",Y)),$$ACTIVE^XUSER(Y)"
"^DD",63,63.02,.07,21,0)
^^1^1^2911127^
"^DD",63,63.02,.07,21,1,0)
This is the requesting physician.
"^DD",63,63.02,.07,"DT")
2910630
"^DD",63,63.08,.07,0)
SURGEON/PHYSICIAN^*P200'X^VA(200,^0;7^S DIC("S")="I $D(^VA(200,""AK.PROVIDER"",$P(^(0),U))),$D(^XUSEC(""PROVIDER"",Y)),$$ACTIVE^XUSER(Y)",D="AK.PROVIDER" D IX^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",63,63.08,.07,3)
Select the requesting provider.
"^DD",63,63.08,.07,12)
Selection must be made from active PROVIDERS who hold the PROVIDER security key.
"^DD",63,63.08,.07,12.1)
S DIC("S")="I $D(^VA(200,""AK.PROVIDER"",$P(^(0),U))),$D(^XUSEC(""PROVIDER"",Y)),$$ACTIVE^XUSER(Y)"
"^DD",63,63.08,.07,21,0)
^^1^1^2911204^
"^DD",63,63.08,.07,21,1,0)
This is the requesting provider.
"^DD",63,63.08,.07,"DT")
3180227
"^DD",63,63.09,.07,0)
PHYSICIAN^*P200'X^VA(200,^0;7^S DIC("S")="I $D(^VA(200,""AK.PROVIDER"",$P(^(0),U))),$D(^XUSEC(""PROVIDER"",Y)),$$ACTIVE^XUSER(Y)",D="AK.PROVIDER" D IX^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",63,63.09,.07,3)
Select the requesting provider.
"^DD",63,63.09,.07,12)
Selection must be made from active PROVIDERS who hold the PROVIDER security key.
"^DD",63,63.09,.07,12.1)
S DIC("S")="I $D(^VA(200,""AK.PROVIDER"",$P(^(0),U))),$D(^XUSEC(""PROVIDER"",Y)),$$ACTIVE^XUSER(Y)"
"^DD",63,63.09,.07,21,0)
^^1^1^2911205^
"^DD",63,63.09,.07,21,1,0)
This is the requesting provider.
"^DD",63,63.09,.07,"DT")
2910630
"BLD",10909,6)
^405
**END**
**END**

