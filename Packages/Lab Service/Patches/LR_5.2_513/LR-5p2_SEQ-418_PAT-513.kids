Released LR*5.2*513 SEQ #418
Extracted from mail message
**KIDS**:LR*5.2*513^

**INSTALL NAME**
LR*5.2*513
"BLD",11320,0)
LR*5.2*513^LAB SERVICE^0^3181206^y
"BLD",11320,1,0)
^^1^1^3181206^
"BLD",11320,1,1,0)
Problem with option Results entry (batch) [LRMISTUF]
"BLD",11320,4,0)
^9.64PA^^
"BLD",11320,6.3)
2
"BLD",11320,"ABPKG")
n
"BLD",11320,"KRN",0)
^9.67PA^1.61^23
"BLD",11320,"KRN",.4,0)
.4
"BLD",11320,"KRN",.401,0)
.401
"BLD",11320,"KRN",.402,0)
.402
"BLD",11320,"KRN",.403,0)
.403
"BLD",11320,"KRN",.5,0)
.5
"BLD",11320,"KRN",.84,0)
.84
"BLD",11320,"KRN",1.6,0)
1.6
"BLD",11320,"KRN",1.61,0)
1.61
"BLD",11320,"KRN",1.62,0)
1.62
"BLD",11320,"KRN",3.6,0)
3.6
"BLD",11320,"KRN",3.8,0)
3.8
"BLD",11320,"KRN",9.2,0)
9.2
"BLD",11320,"KRN",9.8,0)
9.8
"BLD",11320,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",11320,"KRN",9.8,"NM",1,0)
LRMISTF^^0^B15830209
"BLD",11320,"KRN",9.8,"NM","B","LRMISTF",1)

"BLD",11320,"KRN",19,0)
19
"BLD",11320,"KRN",19.1,0)
19.1
"BLD",11320,"KRN",101,0)
101
"BLD",11320,"KRN",409.61,0)
409.61
"BLD",11320,"KRN",771,0)
771
"BLD",11320,"KRN",779.2,0)
779.2
"BLD",11320,"KRN",870,0)
870
"BLD",11320,"KRN",8989.51,0)
8989.51
"BLD",11320,"KRN",8989.52,0)
8989.52
"BLD",11320,"KRN",8994,0)
8994
"BLD",11320,"KRN","B",.4,.4)

"BLD",11320,"KRN","B",.401,.401)

"BLD",11320,"KRN","B",.402,.402)

"BLD",11320,"KRN","B",.403,.403)

"BLD",11320,"KRN","B",.5,.5)

"BLD",11320,"KRN","B",.84,.84)

"BLD",11320,"KRN","B",1.6,1.6)

"BLD",11320,"KRN","B",1.61,1.61)

"BLD",11320,"KRN","B",1.62,1.62)

"BLD",11320,"KRN","B",3.6,3.6)

"BLD",11320,"KRN","B",3.8,3.8)

"BLD",11320,"KRN","B",9.2,9.2)

"BLD",11320,"KRN","B",9.8,9.8)

"BLD",11320,"KRN","B",19,19)

"BLD",11320,"KRN","B",19.1,19.1)

"BLD",11320,"KRN","B",101,101)

"BLD",11320,"KRN","B",409.61,409.61)

"BLD",11320,"KRN","B",771,771)

"BLD",11320,"KRN","B",779.2,779.2)

"BLD",11320,"KRN","B",870,870)

"BLD",11320,"KRN","B",8989.51,8989.51)

"BLD",11320,"KRN","B",8989.52,8989.52)

"BLD",11320,"KRN","B",8994,8994)

"BLD",11320,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",11320,"QUES",0)
^9.62^^
"BLD",11320,"REQB",0)
^9.611^1^1
"BLD",11320,"REQB",1,0)
LR*5.2*508^2
"BLD",11320,"REQB","B","LR*5.2*508",1)

"MBREQ")
0
"PKG",26,-1)
1^1
"PKG",26,0)
LAB SERVICE^LR^CORE LAB SYSTEM
"PKG",26,22,0)
^9.49I^1^1
"PKG",26,22,1,0)
5.2^2940927^2981028^66481
"PKG",26,22,1,"PAH",1,0)
513^3181206
"PKG",26,22,1,"PAH",1,1,0)
^^1^1^3181206
"PKG",26,22,1,"PAH",1,1,1,0)
Problem with option Results entry (batch) [LRMISTUF]
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","LRMISTF")
0^1^B15830209^B15004530
"RTN","LRMISTF",1,0)
LRMISTF ;SLC/CJS/BA - MASS DATA ENTRY INTO FILE 63.05 ;6/26/18 1:38pm
"RTN","LRMISTF",2,0)
 ;;5.2;LAB SERVICE;**153,476,508,513**;Sep 27, 1994;Build 2
"RTN","LRMISTF",3,0)
 ;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","LRMISTF",4,0)
 ;from option LRMISTUF
"RTN","LRMISTF",5,0)
ACCESS I '$D(^XUSEC("LRVERIFY",DUZ)) W !,"You're not cleared for this option. You must have the LRVERIFY Key." Q
"RTN","LRMISTF",6,0)
 ; LR*5.2*476 - CR; added codes #1, #20.5, and #26.5 per NSR 20161009
"RTN","LRMISTF",7,0)
BEGIN D ^LRPARAM Q:$G(LREND)  S LREND=0,LRVT="RE",LRSBS="1^13^11.6^11.57^11.58^17^15.51^21^19.6^20.5^26.5^27^24^37",(Z(1),Z(13),Z(11.6),Z(11.57),Z(11.58))=1,(Z(17),Z(15.51))=5,(Z(21),Z(19.6),Z(20.5))=8,(Z(27),Z(24),Z(26.5))=11,Z(37)=16
"RTN","LRMISTF",8,0)
 S LRMIMASS=1
"RTN","LRMISTF",9,0)
 D ASK
"RTN","LRMISTF",10,0)
 I $D(LRCSQ),$O(^XTMP("LRCAP",LRCSQ,DUZ,0)) D STD^LRCAPV
"RTN","LRMISTF",11,0)
END D ANN^LRMIEDZ,^LRGVK
"RTN","LRMISTF",12,0)
 K %,AGE,DA,D1,DFN,DIC,DIE,DLAYGO,DOB,DQ,DR,H9,I,J,K,LRAA,LRAD,LRAN,LRCDT,LRCO,LRDFN,LRDPF,LRECODE,LREND,LRIDT,LRLLOC,LRMF,LRMODE,LROK,LRNOP,LRPF,LRSB,LRSBCNT,LRSBS,LRSCREEN,LRTEST,LRWRD,LRVT,POP,PNM,R,SEX,SSN,X,X1,X2,Y,Z
"RTN","LRMISTF",13,0)
 K LRMIMASS
"RTN","LRMISTF",14,0)
 Q
"RTN","LRMISTF",15,0)
ASK D LRAA^LRMIUT Q:LRAA<1  S LRSS=$P(^LRO(68,LRAA,0),U,2)
"RTN","LRMISTF",16,0)
 I LRSS="" W !?5,"Accession Area LR SUBSCRIPT is misssing.",! Q
"RTN","LRMISTF",17,0)
 I $P(LRPARAM,U,14) D ^LRCAPV G:LREND ANN^LRMIEDZ
"RTN","LRMISTF",18,0)
 S %DT="AE",%DT("A")="Micro Accession Year: ("_$E(DT,2,3)_")//" D ^%DT K %DT("A") Q:X[U  S:X="" Y=$E(DT,1,3) S LRAD=$E(Y,1,3)_"0000"
"RTN","LRMISTF",19,0)
 S DIC="^LAB(60,",DIC("A")="Select MICROBIOLOGY TEST: ",DIC(0)="AEMOQ",DIC("S")="I $P(^(0),U,4)=""MI"",$L($P(^(0),U,14))" D ^DIC K DIC Q:Y<1  S LRTEST=+Y
"RTN","LRMISTF",20,0)
 S LRECODE=$P(^LAB(60,LRTEST,0),U,14),LRECODE=$S($D(^LAB(62.07,LRECODE,.1)):^(.1),1:"")
"RTN","LRMISTF",21,0)
 ; LR*5.2*513 load codes into array LRECDS
"RTN","LRMISTF",22,0)
 N LRECDS D GETCODES
"RTN","LRMISTF",23,0)
 K LRSB S LRSBCNT=0 F LRSB=1:1 S X=$P(LRSBS,U,LRSB) Q:'X  I $D(LRECDS(X)) S LRSB(X)="",LRSBCNT=LRSBCNT+1
"RTN","LRMISTF",24,0)
 I 'LRSBCNT W "Test does not have an appropriate entry in the EDIT CODE" Q
"RTN","LRMISTF",25,0)
 F I=0:0 R !,"Preliminary or Final: ",X:DTIME Q:'$T!(X[U)!(X="P")!(X="F")  W !,"Enter ""P"" or ""F""."
"RTN","LRMISTF",26,0)
 Q:'$T!(X[U)  S LRPF=X
"RTN","LRMISTF",27,0)
 I LRSBCNT=1 S H9=$O(LRSB(0)),LRSB=Z(H9),LRMF=$P(^DD(63.05,H9,0),U) W !,LRMF K DIC
"RTN","LRMISTF",28,0)
 I LRSBCNT'=1 S DIC("A")="Enter the field to edit: ",DIC(0)="AE",DIC("S")="I $D(LRSB(+Y))",DIC="^DD(63.05," D ^DIC K DIC Q:Y<1  S H9=+Y,LRSB=Z(H9),LRMF=$P(^DD(63.05,H9,0),U)
"RTN","LRMISTF",29,0)
 F I=0:0 R !,"1  Automatically enter your entry.",!,"2  Prompt with your entry.",!,"3  Just Prompt.",!,"Choice: ",X:DTIME Q:X=""!(X[U)!(X<4&(X>0)&(X?1N))  D INFO
"RTN","LRMISTF",30,0)
 Q:X=""!(X[U)  S LRMODE=X
"RTN","LRMISTF",31,0)
 ; LR*5.2*508 - *508 - preliminary comm fields, #1, #20.5, and #26.5 for canned mesg expansion in Results Entry (Batch)
"RTN","LRMISTF",32,0)
 S:LRMODE<3 LRSCREEN=$S(H9=13:"KM",H9=11.6:"KG",H9=11.58:"KY",H9=17:"KP",H9=15.51:"KW",H9=21:"KF",H9=19.6:"KW",H9=27:"KT",H9=24:"KW",H9=37:"KV",H9=1:"KMTVP",H9=20.5:"KF",H9=26.5:"KT",1:"")
"RTN","LRMISTF",33,0)
 D ^LRMISTF1
"RTN","LRMISTF",34,0)
 Q
"RTN","LRMISTF",35,0)
INFO W !,"Enter a number between 1 and 3.",!,"1. Automatically enters the result you specify. You cannot change the entries."
"RTN","LRMISTF",36,0)
 W !,"2. Automatically enters the result you specify, you can see and change entries",!,"3. Prompts with the field name.  Does not automatically enter data.",!!
"RTN","LRMISTF",37,0)
 Q
"RTN","LRMISTF",38,0)
GETCODES ; extract only the requested codes from the LRECODE string
"RTN","LRMISTF",39,0)
 N ZI,ZDR,ZJ,ZNUM
"RTN","LRMISTF",40,0)
 F ZI=1:1 S ZDR=$P(LRECODE,"DR=",ZI) Q:ZDR=""  D
"RTN","LRMISTF",41,0)
 . Q:ZDR'[";"
"RTN","LRMISTF",42,0)
 . S ZDR=$P(ZDR,"DR")
"RTN","LRMISTF",43,0)
 . F ZJ=1:1 S ZNUM=$P(ZDR,";",ZJ) Q:ZNUM=""  D
"RTN","LRMISTF",44,0)
 . . I $E(ZNUM)="""" S ZNUM=$P(ZNUM,"""",2,99)
"RTN","LRMISTF",45,0)
 . . I +ZNUM>0 S LRECDS(+ZNUM)=""
"RTN","LRMISTF",46,0)
 Q
"VER")
8.0^22.2
"BLD",11320,6)
^418
**END**
**END**

