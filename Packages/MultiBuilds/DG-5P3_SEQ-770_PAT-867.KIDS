Released DG*5.3*867 SEQ #770
Extracted from mail message
**KIDS**:DG*5.3*867^

**INSTALL NAME**
DG*5.3*867
"BLD",8715,0)
DG*5.3*867^REGISTRATION^0^3131106^y
"BLD",8715,1,0)
^^393^393^3131106^
"BLD",8715,1,1,0)
Description:
"BLD",8715,1,2,0)
============
"BLD",8715,1,3,0)
 
"BLD",8715,1,4,0)
This patch has enhancements that extend the capabilities of the Veterans 
"BLD",8715,1,5,0)
Health Information Systems and Technology Architecture (VistA) Patient 
"BLD",8715,1,6,0)
Registration system (DG), Fee Basis System (FB), and Integrated Billing 
"BLD",8715,1,7,0)
(IB).
"BLD",8715,1,8,0)
 
"BLD",8715,1,9,0)
Below is a list of all the applications involved in this project along 
"BLD",8715,1,10,0)
with their patch number:
"BLD",8715,1,11,0)
 
"BLD",8715,1,12,0)
    APPLICATION/VERSION                                   PATCH
"BLD",8715,1,13,0)
    ---------------------------------------------------------------
"BLD",8715,1,14,0)
 PATIENT REGISTRATION (DG) V 5.3                        DG*5.3*867
"BLD",8715,1,15,0)
 FEE BASIS (FB) V 3.5                                   FB*3.5*146
"BLD",8715,1,16,0)
 INTEGRATED BILLING (IB) 2.0                            IB*2.0*499
"BLD",8715,1,17,0)
 
"BLD",8715,1,18,0)
The patches (DG*5.3*867, FB*3.5*146, and IB*2.0*499) are being released 
"BLD",8715,1,19,0)
in the Kernel Installation and Distribution System (KIDS) multi-build 
"BLD",8715,1,20,0)
distribution NEWBORN DG FB IB BUNDLE 1.0
"BLD",8715,1,21,0)
 
"BLD",8715,1,22,0)
The purpose of the Caregivers: Newborn Claims Processing Enhancement 
"BLD",8715,1,23,0)
Project is to enhance VistA Fee Basis application in support of 
"BLD",8715,1,24,0)
compliance with Public Law 111-163, the Caregiver and Veterans Omnibus 
"BLD",8715,1,25,0)
Health Services Act of 2010. This law makes changes to sections of Title 
"BLD",8715,1,26,0)
38, United States Code to furnish health care services to a newborn child 
"BLD",8715,1,27,0)
of a Woman Veteran who is receiving maternity care furnished by the 
"BLD",8715,1,28,0)
Department of Veterans Affairs (VA) for not more than seven days after 
"BLD",8715,1,29,0)
the birth of the child.
"BLD",8715,1,30,0)
 
"BLD",8715,1,31,0)
The scope of these enhancements is to capture information on healthcare 
"BLD",8715,1,32,0)
services provided to newborn children of Women Veterans. Affected 
"BLD",8715,1,33,0)
functions include eligibility determination, enrollment and registration, 
"BLD",8715,1,34,0)
documentation of referrals and authorization for care, claims processing, 
"BLD",8715,1,35,0)
and payment. Only modification to the Fee Basis (FB) and the Registration 
"BLD",8715,1,36,0)
(DG) packages are necessary to meet the requirements of this enhancement. 
"BLD",8715,1,37,0)
The Integrated Billing (IB) Patch is included to provide required data 
"BLD",8715,1,38,0)
for the Fee Basis install to reference.
"BLD",8715,1,39,0)
 
"BLD",8715,1,40,0)
 
"BLD",8715,1,41,0)
The primary purpose of this enhancement is to allow the Electronic Filing 
"BLD",8715,1,42,0)
of Newborn claims.
"BLD",8715,1,43,0)
 
"BLD",8715,1,44,0)
Functional Description
"BLD",8715,1,45,0)
------------------------------
"BLD",8715,1,46,0)
The following features and functions have been added to the Fee Basis 
"BLD",8715,1,47,0)
workflow process applying to both Civil Hospital and Medical Fee:
"BLD",8715,1,48,0)
 
"BLD",8715,1,49,0)
 1. A new Patient Type of NEWBORN OF VETERAN has been added to the TYPE 
"BLD",8715,1,50,0)
OF PATIENT file (#391). This new selection will be available on 
"BLD",8715,1,51,0)
Registration Screen <7>.
"BLD",8715,1,52,0)
 
"BLD",8715,1,53,0)
 2. A sponsor is required for all Newborns determined by having the DOB 
"BLD",8715,1,54,0)
less than one (1) year from the present date. An inconsistency check has 
"BLD",8715,1,55,0)
been added to check the presence of a sponsor. If an inconsistency is 
"BLD",8715,1,56,0)
found the inconsistency check will prompt the user to return to Screen 
"BLD",8715,1,57,0)
<15> in registration to enter a Sponsor.
"BLD",8715,1,58,0)
 
"BLD",8715,1,59,0)
 3. All Sponsors for Newborns must be listed as eligible for care. An 
"BLD",8715,1,60,0)
inconsistency check will check the status of the Sponsors Eligibility. 
"BLD",8715,1,61,0)
The check will trigger if the Sponsor has no Eligibility status.
"BLD",8715,1,62,0)
 
"BLD",8715,1,63,0)
All other statuses (i.e. Pending Verification, Verified, and Pending 
"BLD",8715,1,64,0)
Re-verification) are acceptable.
"BLD",8715,1,65,0)
 
"BLD",8715,1,66,0)
 4. Fee Authorization dates associated with Newborns have checks in place 
"BLD",8715,1,67,0)
to not allow Authorization dates that fall outside the accepted range of 
"BLD",8715,1,68,0)
Newborn  Authorization. The range is DOB to DOB+7. The system will warn 
"BLD",8715,1,69,0)
the user and not accept an Authorization date that falls outside the 
"BLD",8715,1,70,0)
appropriate range for a Newborn.
"BLD",8715,1,71,0)
 
"BLD",8715,1,72,0)
 5. When a Veteran Mother of a Sponsored Newborn is reviewed in the 
"BLD",8715,1,73,0)
Registration screens, Screen <15> will display the Newborn(s), with the 
"BLD",8715,1,74,0)
additional header of "Sponsored Newborn".
"BLD",8715,1,75,0)
 
"BLD",8715,1,76,0)
 6. The FAMILY PREFIX "NB Newborn of Vet" has been added to the Help text 
"BLD",8715,1,77,0)
in the FAMILY PREFIX field (#.03) in the SPONSOR RELATIONSHIP file 
"BLD",8715,1,78,0)
(#355.81)
"BLD",8715,1,79,0)
 
"BLD",8715,1,80,0)
 7. "NON-VA FOR FEMALE VET+NEWBORN 17.38" was added to the VA ADMITTING 
"BLD",8715,1,81,0)
REGULATION file (#43.4). This new Admitting Regulation is available when 
"BLD",8715,1,82,0)
editing the 7078.
"BLD",8715,1,83,0)
 
"BLD",8715,1,84,0)
 8. The following default values were added when entering a Newborn with 
"BLD",8715,1,85,0)
a date of birth of less than one (1) year from present date. Defaults 
"BLD",8715,1,86,0)
will only be assigned when specified screens are accessed during the 
"BLD",8715,1,87,0)
registration process:
"BLD",8715,1,88,0)
PATIENT DATA, SCREEN <2> Marital field is defaulted to NEVER MARRIED.  
"BLD",8715,1,89,0)
APPLICANT/SPOUSE EMPLOYMENT DATA, SCREEN <4> Status field is defaulted to 
"BLD",8715,1,90,0)
NOT EMPLOYED. FAMILY DEMOGRAPHIC DATA, SCREEN <8> Married Last Year field 
"BLD",8715,1,91,0)
is defaulted to NO.
"BLD",8715,1,92,0)
 
"BLD",8715,1,93,0)
 
"BLD",8715,1,94,0)
 Patch Components
"BLD",8715,1,95,0)
 ================
"BLD",8715,1,96,0)
 
"BLD",8715,1,97,0)
 
"BLD",8715,1,98,0)
 Files & Fields Associated:
"BLD",8715,1,99,0)
 
"BLD",8715,1,100,0)
 
"BLD",8715,1,101,0)
 File Name (#)                    Field Name (#)        
"BLD",8715,1,102,0)
New/Modified/Deleted
"BLD",8715,1,103,0)
 -------------                    --------------        -----------------
"BLD",8715,1,104,0)
 TYPE OF PATIENT (#391)           NAME (#.01)           New Data content
"BLD",8715,1,105,0)
 (Single new record added "NEWBORN OF VETERAN")         No Data 
"BLD",8715,1,106,0)
Dictionary changes
"BLD",8715,1,107,0)
 
"BLD",8715,1,108,0)
 VA ADMITTING REGULATION (#43.4) NAME (#.01)            New Data content
"BLD",8715,1,109,0)
 (Single new record added "NON-VA FOR FEMALE VET+NEWBORN")
"BLD",8715,1,110,0)
No Data Dictionary changes
"BLD",8715,1,111,0)
 
"BLD",8715,1,112,0)
 INCONSISTENT DATA ELEMENTS (#38.6)                     New Data content
"BLD",8715,1,113,0)
 Two new records added:
"BLD",8715,1,114,0)
313     NEWBORN REQUIRES SPONSOR
"BLD",8715,1,115,0)
314     NEWBORN NEEDS ELIGIBLE SPONSOR.)        
"BLD",8715,1,116,0)
No Data Dictionary changes
"BLD",8715,1,117,0)
 
"BLD",8715,1,118,0)
 Forms Associated:
"BLD",8715,1,119,0)
 
"BLD",8715,1,120,0)
 Form Name                File #                  New/Modified/Deleted
"BLD",8715,1,121,0)
 ---------                ------                  --------------------
"BLD",8715,1,122,0)
 N/A
"BLD",8715,1,123,0)
 
"BLD",8715,1,124,0)
 Mail Groups Associated:
"BLD",8715,1,125,0)
 
"BLD",8715,1,126,0)
 Mail Group Name                                        
"BLD",8715,1,127,0)
New/Modified/Deleted
"BLD",8715,1,128,0)
 ---------------                 --------------------
"BLD",8715,1,129,0)
N/A
"BLD",8715,1,130,0)
 
"BLD",8715,1,131,0)
 Options Associated:
"BLD",8715,1,132,0)
 
"BLD",8715,1,133,0)
 Option Name                    Type             New/Modified/Deleted
"BLD",8715,1,134,0)
 -----------                    ----             --------------------
"BLD",8715,1,135,0)
 N/A
"BLD",8715,1,136,0)
 
"BLD",8715,1,137,0)
 Protocols Associated:
"BLD",8715,1,138,0)
 
"BLD",8715,1,139,0)
 Protocol Name             New/Modified/Deleted
"BLD",8715,1,140,0)
 -------------             --------------------
"BLD",8715,1,141,0)
 N/A
"BLD",8715,1,142,0)
 
"BLD",8715,1,143,0)
 Security Keys Associated:
"BLD",8715,1,144,0)
 
"BLD",8715,1,145,0)
 Security Key Name
"BLD",8715,1,146,0)
 -----------------
"BLD",8715,1,147,0)
 N/A
"BLD",8715,1,148,0)
 
"BLD",8715,1,149,0)
 Templates Associated:
"BLD",8715,1,150,0)
 
"BLD",8715,1,151,0)
 Template Name       Type      File Name (#)     New/Modified/Deleted
"BLD",8715,1,152,0)
 -------------       ----      -------------     --------------------
"BLD",8715,1,153,0)
 
"BLD",8715,1,154,0)
 
"BLD",8715,1,155,0)
 Additional Information:
"BLD",8715,1,156,0)
 
"BLD",8715,1,157,0)
 
"BLD",8715,1,158,0)
 New Service Requests (NSRs):
"BLD",8715,1,159,0)
 -----------------------------
"BLD",8715,1,160,0)
 NSR 20100901
"BLD",8715,1,161,0)
 
"BLD",8715,1,162,0)
 Patient Safety Issues (PSIs):
"BLD",8715,1,163,0)
 ------------------------------
"BLD",8715,1,164,0)
 N/A
"BLD",8715,1,165,0)
 
"BLD",8715,1,166,0)
 Remedy Ticket(s) & Overviews:
"BLD",8715,1,167,0)
 -----------------------------
"BLD",8715,1,168,0)
 N/A
"BLD",8715,1,169,0)
 
"BLD",8715,1,170,0)
 
"BLD",8715,1,171,0)
 Test Sites:
"BLD",8715,1,172,0)
 -----------
"BLD",8715,1,173,0)
 
"BLD",8715,1,174,0)
 LEXINGTON
"BLD",8715,1,175,0)
 PUGET SOUND
"BLD",8715,1,176,0)
 
"BLD",8715,1,177,0)
 
"BLD",8715,1,178,0)
Documentation Retrieval Instructions:
"BLD",8715,1,179,0)
-------------------------------------
"BLD",8715,1,180,0)
Updated documentation describing the new functionality introduced by this 
"BLD",8715,1,181,0)
patch is available.
"BLD",8715,1,182,0)
 
"BLD",8715,1,183,0)
The preferred method is to FTP the files from 
"BLD",8715,1,184,0)
ftp://download.vista.domain.ext/. This transmits the files from the first 
"BLD",8715,1,185,0)
available FTP server. Sites may also elect to retrieve software directly 
"BLD",8715,1,186,0)
from a specific server as follows:
"BLD",8715,1,187,0)
 
"BLD",8715,1,188,0)
  Albany         ftp.fo-albany.domain.ext  
"BLD",8715,1,189,0)
<ftp://ftp.fo-albany.domain.ext>
"BLD",8715,1,190,0)
  Hines          ftp.fo-hines.domain.ext   <ftp://ftp.fo-hines.domain.ext>
"BLD",8715,1,191,0)
  Salt Lake City ftp.fo-slc.domain.ext     <ftp://ftp.fo-slc.domain.ext>
"BLD",8715,1,192,0)
 
"BLD",8715,1,193,0)
 The documentation will be in the form of Adobe Acrobat files.
"BLD",8715,1,194,0)
 
"BLD",8715,1,195,0)
 Documentation can also be found on the VA Software Documentation Library
"BLD",8715,1,196,0)
 at: http://www4.domain.ext/vdl/
"BLD",8715,1,197,0)
 
"BLD",8715,1,198,0)
 File Description                          File Name             FTP Mode
"BLD",8715,1,199,0)
 -------------------------------------------------------------------------
"BLD",8715,1,200,0)
-
"BLD",8715,1,201,0)
 Fee Basis User Manual                     fb3_5um.pdf           Binary
"BLD",8715,1,202,0)
 PIMS v5.3 ADT User Manual Registration    dg_5_3_reg_um.pdf     Binary
"BLD",8715,1,203,0)
 Newborn Procedure Guide                              
"BLD",8715,1,204,0)
newborn_pg.pdf       Binary
"BLD",8715,1,205,0)
 
"BLD",8715,1,206,0)
 The Newborn Procedure Guide should be distributed to those personnel 
"BLD",8715,1,207,0)
registering
"BLD",8715,1,208,0)
 newborns and/or processing newborn claims.
"BLD",8715,1,209,0)
 
"BLD",8715,1,210,0)
 
"BLD",8715,1,211,0)
 Patch Installation:
"BLD",8715,1,212,0)
 
"BLD",8715,1,213,0)
 
"BLD",8715,1,214,0)
Pre/Post Installation Overview
"BLD",8715,1,215,0)
------------------------------
"BLD",8715,1,216,0)
There are three post installation routines associated with this patch 
"BLD",8715,1,217,0)
DG867PO, FB146PO, and IB499PO. These routines primarily serve as filters 
"BLD",8715,1,218,0)
for the data transmitted to the appropriate files listed above, so that 
"BLD",8715,1,219,0)
only the intended data is delivered. The only exception is the IB499PO 
"BLD",8715,1,220,0)
routine which programmatically makes an addition to the help text of the 
"BLD",8715,1,221,0)
FAMILY PREFIX field (#.03) in the SPONSOR RELATIONSHIP file (#355.81). 
"BLD",8715,1,222,0)
These post installation routines may be deleted after successful 
"BLD",8715,1,223,0)
installation of the NEWBORN DG FB IB BUNDLE 1.0
"BLD",8715,1,224,0)
 
"BLD",8715,1,225,0)
Installation Instructions
"BLD",8715,1,226,0)
-------------------------
"BLD",8715,1,227,0)
This patch may be installed with users on the system although it is 
"BLD",8715,1,228,0)
recommended that it be installed during non-peak hours to minimize 
"BLD",8715,1,229,0)
potential disruption to users. This patch should take less than 5 minutes 
"BLD",8715,1,230,0)
to install.
"BLD",8715,1,231,0)
 
"BLD",8715,1,232,0)
FB*3.5*147 is a required patch and must be installed before DG*5.3*867.
"BLD",8715,1,233,0)
 
"BLD",8715,1,234,0)
DG*5.3*867 is one of three patches for this release (including FB*3.5*146 
"BLD",8715,1,235,0)
and IB*2.0*499). The patches will be installed as a bundle in the 
"BLD",8715,1,236,0)
following order: 
"BLD",8715,1,237,0)
 
"BLD",8715,1,238,0)
1) DG*5.3*867 
"BLD",8715,1,239,0)
2) FB*3.5*146
"BLD",8715,1,240,0)
3) IB*2.0*499
"BLD",8715,1,241,0)
 
"BLD",8715,1,242,0)
 
"BLD",8715,1,243,0)
 Pre-Installation Instructions
"BLD",8715,1,244,0)
 -----------------------------
"BLD",8715,1,245,0)
 1.  OBTAIN PATCHES
"BLD",8715,1,246,0)
     --------------
"BLD",8715,1,247,0)
Obtain the host file NEWBORN_1_2_DG_FB_IB.KID which contains the 
"BLD",8715,1,248,0)
following patches:
"BLD",8715,1,249,0)
 
"BLD",8715,1,250,0)
 DG*5.3*867
"BLD",8715,1,251,0)
 FB*3.5*146
"BLD",8715,1,252,0)
 IB*2.0*499
"BLD",8715,1,253,0)
 
"BLD",8715,1,254,0)
Sites can retrieve VistA software from the following FTP addresses. The 
"BLD",8715,1,255,0)
preferred method is to FTP the files from:
"BLD",8715,1,256,0)
 
"BLD",8715,1,257,0)
                     download.vista.domain.ext
"BLD",8715,1,258,0)
 
"BLD",8715,1,259,0)
This will transmit the files from the first available FTP server. Sites 
"BLD",8715,1,260,0)
may also elect to retrieve software directly from a specific server as 
"BLD",8715,1,261,0)
follows:
"BLD",8715,1,262,0)
 
"BLD",8715,1,263,0)
        Albany                  ftp.fo-albany.domain.ext
"BLD",8715,1,264,0)
        Hines                   ftp.fo-hines.domain.ext
"BLD",8715,1,265,0)
        Salt Lake City          ftp.fo-slc.domain.ext
"BLD",8715,1,266,0)
 
"BLD",8715,1,267,0)
The NEWBORN_1_2_DG_FB_IB.KID host file is located in the 
"BLD",8715,1,268,0)
anonymous.software directory. Use ASCII Mode when downloading the file.
"BLD",8715,1,269,0)
 
"BLD",8715,1,270,0)
 2.  START UP KIDS
"BLD",8715,1,271,0)
     -------------
"BLD",8715,1,272,0)
     Start up the Kernel Installation and Distribution System Menu option
"BLD",8715,1,273,0)
     [XPD MAIN]:
"BLD",8715,1,274,0)
 
"BLD",8715,1,275,0)
          Edits and Distribution ...
"BLD",8715,1,276,0)
          Utilities ...
"BLD",8715,1,277,0)
          Installation ...
"BLD",8715,1,278,0)
 
"BLD",8715,1,279,0)
     Select Kernel Installation & Distribution System Option: Installation
"BLD",8715,1,280,0)
                                                              ---
"BLD",8715,1,281,0)
          Load a Distribution
"BLD",8715,1,282,0)
          Print Transport Global
"BLD",8715,1,283,0)
          Compare Transport Global to Current System
"BLD",8715,1,284,0)
          Verify Checksums in Transport Global
"BLD",8715,1,285,0)
          Install Package(s)
"BLD",8715,1,286,0)
          Restart Install of Package(s)
"BLD",8715,1,287,0)
          Unload a Distribution
"BLD",8715,1,288,0)
          Backup a Transport Global
"BLD",8715,1,289,0)
 
"BLD",8715,1,290,0)
     Select Installation Option:
"BLD",8715,1,291,0)
 
"BLD",8715,1,292,0)
 3.  LOAD TRANSPORT GLOBAL FOR MULTI-BUILD
"BLD",8715,1,293,0)
     -------------------------------------
"BLD",8715,1,294,0)
     From the Installation menu, select the Load a Distribution option.
"BLD",8715,1,295,0)
 
"BLD",8715,1,296,0)
     When prompted for "Enter a Host File:" Enter the full directory path
"BLD",8715,1,297,0)
     where you saved the host file NEWBORN_1_2_DG_FB_IB.KID
"BLD",8715,1,298,0)
     (e.g., SYS$SYSDEVICE:[ANONYMOUS]NEWBORN_1_2_DG_FB_IB.KID)
"BLD",8715,1,299,0)
 
"BLD",8715,1,300,0)
 When prompted for "OK to continue with Load? NO//", Enter "YES."
"BLD",8715,1,301,0)
 
"BLD",8715,1,302,0)
     The following will display:
"BLD",8715,1,303,0)
 
"BLD",8715,1,304,0)
       Loading Distribution...
"BLD",8715,1,305,0)
 
"BLD",8715,1,306,0)
    NEWBORN DG FB IB BUNDLE 1.0
"BLD",8715,1,307,0)
    DG*5.3*867
"BLD",8715,1,308,0)
    FB*3.5*146
"BLD",8715,1,309,0)
    IB*2.0*499
"BLD",8715,1,310,0)
    Use INSTALL NAME: NEWBORN DG FB IB BUNDLE 1.0 to install this 
"BLD",8715,1,311,0)
distribution.
"BLD",8715,1,312,0)
 
"BLD",8715,1,313,0)
 4.  RUN OPTIONAL INSTALLATION OPTIONS FOR MULTI-BUILD
"BLD",8715,1,314,0)
     -------------------------------------------------
"BLD",8715,1,315,0)
     From the Installation menu, you may select to use the following 
"BLD",8715,1,316,0)
options (when prompted for the INSTALL NAME, enter NEWBORN DG FB IB 
"BLD",8715,1,317,0)
BUNDLE 1.0 
"BLD",8715,1,318,0)
 
"BLD",8715,1,319,0)
     a.  Backup a Transport Global - This option will create a backup
"BLD",8715,1,320,0)
         message of any routines exported with this patch. It will not
"BLD",8715,1,321,0)
         backup any other changes such as data dictionaries or templates.
"BLD",8715,1,322,0)
     b.  Compare Transport Global to Current System - This option will
"BLD",8715,1,323,0)
         allow you to view all changes that will be made when this patch
"BLD",8715,1,324,0)
         is installed.  It compares all components of this patch
"BLD",8715,1,325,0)
         (routines, data dictionaries, templates, etc.).
"BLD",8715,1,326,0)
     c.  Verify Checksums in Transport Global - This option will allow
"BLD",8715,1,327,0)
         you to ensure the integrity of the routines that are in the
"BLD",8715,1,328,0)
         transport global.
"BLD",8715,1,329,0)
 
"BLD",8715,1,330,0)
 5.  INSTALL MULTI-BUILD
"BLD",8715,1,331,0)
     -------------------
"BLD",8715,1,332,0)
     This is the step to start the installation of this KIDS patch.  This 
"BLD",8715,1,333,0)
will 
"BLD",8715,1,334,0)
     need to be run for the NEWBORN DG FB IB BUNDLE 1.0
"BLD",8715,1,335,0)
 
"BLD",8715,1,336,0)
    a.  Choose the Install Package(s) option to start the patch
"BLD",8715,1,337,0)
         install.
"BLD",8715,1,338,0)
    b.  When prompted for the "Select INSTALL NAME:" enter
"BLD",8715,1,339,0)
          NEWBORN DG FB IB BUNDLE 1.0 
"BLD",8715,1,340,0)
    c.  When prompted "Want KIDS to INHIBIT LOGONs during the install?
"BLD",8715,1,341,0)
         NO//", answer NO
"BLD",8715,1,342,0)
    d.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
"BLD",8715,1,343,0)
         and Protocols? NO//", answer NO
"BLD",8715,1,344,0)
    e.  When prompted "Device: HOME//", enter HOME 
"BLD",8715,1,345,0)
           to display the Install message on the screen (or enter the 
"BLD",8715,1,346,0)
           device you want to print the Install message). You may 
"BLD",8715,1,347,0)
           queue the install if you wish.
"BLD",8715,1,348,0)
 
"BLD",8715,1,349,0)
 
"BLD",8715,1,350,0)
Post-Installation Instructions
"BLD",8715,1,351,0)
------------------------------
"BLD",8715,1,352,0)
 
"BLD",8715,1,353,0)
*** IMPORTANT NOTE ***
"BLD",8715,1,354,0)
Please note there are three post installation routines that may be 
"BLD",8715,1,355,0)
deleted after successful installation of the NEWBORN DG FB IB BUNDLE 1.0. 
"BLD",8715,1,356,0)
These are:
"BLD",8715,1,357,0)
 
"BLD",8715,1,358,0)
DG867PO
"BLD",8715,1,359,0)
FB146PO 
"BLD",8715,1,360,0)
IB499PO
"BLD",8715,1,361,0)
 
"BLD",8715,1,362,0)
 
"BLD",8715,1,363,0)
Routine Information:
"BLD",8715,1,364,0)
====================
"BLD",8715,1,365,0)
The second line of each of these routines now looks like:
"BLD",8715,1,366,0)
;;5.3;REGISTRATION;**[Patch List]**;01-APR-13;Build 49
"BLD",8715,1,367,0)
 
"BLD",8715,1,368,0)
The checksums below are new checksums, and can be checked with 
"BLD",8715,1,369,0)
CHECK1^XTSUMBLD.
"BLD",8715,1,370,0)
 
"BLD",8715,1,371,0)
Routine Name: DG867PO
"BLD",8715,1,372,0)
    Before:       n/a   After: B481760  **867**
"BLD",8715,1,373,0)
Routine Name: DGDEP3
"BLD",8715,1,374,0)
    Before: B29628067   After: B31937643  **45,624,653,688,867**
"BLD",8715,1,375,0)
Routine Name: DGPTAE01
"BLD",8715,1,376,0)
    Before:  B8773190   After: B9393836  **58,342,466,664,867**
"BLD",8715,1,377,0)
Routine Name: DGRP15
"BLD",8715,1,378,0)
    Before:  B4585956   After: B13096034  **114,239,568,867**
"BLD",8715,1,379,0)
Routine Name: DGRP2
"BLD",8715,1,380,0)
    Before: B11254124   After: B12657362  **415,545,638,677,760,867**
"BLD",8715,1,381,0)
Routine Name: DGRP4
"BLD",8715,1,382,0)
    Before:  B7761202   After: B9074330  **624,867**
"BLD",8715,1,383,0)
Routine Name: DGRPC
"BLD",8715,1,384,0)
    Before: B28027409   After: B32590756  **108,121,314,301,470,489,505,
"BLD",8715,1,385,0)
                                           451,568,585,641,653,688,754,
"BLD",8715,1,386,0)
                                           797,867** 
"BLD",8715,1,387,0)
Routine Name: DGRPC3
"BLD",8715,1,388,0)
    Before: B40710915   After: B55911726  
"BLD",8715,1,389,0)
**451,632,673,657,688,754,797,867**
"BLD",8715,1,390,0)
Routine Name: DGRPCF
"BLD",8715,1,391,0)
    Before: B24182202   After: B26163167  **250,653,786,754,867**
"BLD",8715,1,392,0)
 
"BLD",8715,1,393,0)
Routine list of preceding patches: 664, 760, 797
"BLD",8715,4,0)
^9.64PA^38.6^3
"BLD",8715,4,38.6,0)
38.6
"BLD",8715,4,38.6,222)
y^n^f^^n^^y^m^n
"BLD",8715,4,38.6,224)
I $$INCO386^DG867PO($P(^(0),U))
"BLD",8715,4,43.4,0)
43.4
"BLD",8715,4,43.4,222)
y^n^f^^n^^y^m^n
"BLD",8715,4,43.4,224)
I $$ADMIT43^DG867PO($P(^(0),U))
"BLD",8715,4,391,0)
391
"BLD",8715,4,391,222)
n^n^f^^n^^y^m^n
"BLD",8715,4,391,224)
I $$PAT391^DG867PO($P(^(0),U))
"BLD",8715,4,"B",38.6,38.6)

"BLD",8715,4,"B",43.4,43.4)

"BLD",8715,4,"B",391,391)

"BLD",8715,6.3)
56
"BLD",8715,"ABPKG")
n
"BLD",8715,"INI")

"BLD",8715,"INID")
^n
"BLD",8715,"INIT")
POST^DG867PO
"BLD",8715,"KRN",0)
^9.67PA^779.2^20
"BLD",8715,"KRN",.4,0)
.4
"BLD",8715,"KRN",.401,0)
.401
"BLD",8715,"KRN",.402,0)
.402
"BLD",8715,"KRN",.403,0)
.403
"BLD",8715,"KRN",.5,0)
.5
"BLD",8715,"KRN",.84,0)
.84
"BLD",8715,"KRN",3.6,0)
3.6
"BLD",8715,"KRN",3.8,0)
3.8
"BLD",8715,"KRN",9.2,0)
9.2
"BLD",8715,"KRN",9.8,0)
9.8
"BLD",8715,"KRN",9.8,"NM",0)
^9.68A^9^8
"BLD",8715,"KRN",9.8,"NM",1,0)
DGRP15^^0^B13096034
"BLD",8715,"KRN",9.8,"NM",2,0)
DGRP4^^0^B9074330
"BLD",8715,"KRN",9.8,"NM",3,0)
DGRP2^^0^B12657362
"BLD",8715,"KRN",9.8,"NM",4,0)
DGDEP3^^0^B31937643
"BLD",8715,"KRN",9.8,"NM",5,0)
DGRPC^^0^B32590756
"BLD",8715,"KRN",9.8,"NM",6,0)
DGRPC3^^0^B55911726
"BLD",8715,"KRN",9.8,"NM",7,0)
DGRPCF^^0^B26163167
"BLD",8715,"KRN",9.8,"NM",9,0)
DGPTAE01^^0^B9393836
"BLD",8715,"KRN",9.8,"NM","B","DGDEP3",4)

"BLD",8715,"KRN",9.8,"NM","B","DGPTAE01",9)

"BLD",8715,"KRN",9.8,"NM","B","DGRP15",1)

"BLD",8715,"KRN",9.8,"NM","B","DGRP2",3)

"BLD",8715,"KRN",9.8,"NM","B","DGRP4",2)

"BLD",8715,"KRN",9.8,"NM","B","DGRPC",5)

"BLD",8715,"KRN",9.8,"NM","B","DGRPC3",6)

"BLD",8715,"KRN",9.8,"NM","B","DGRPCF",7)

"BLD",8715,"KRN",19,0)
19
"BLD",8715,"KRN",19,"NM",0)
^9.68A^^
"BLD",8715,"KRN",19.1,0)
19.1
"BLD",8715,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",8715,"KRN",101,0)
101
"BLD",8715,"KRN",409.61,0)
409.61
"BLD",8715,"KRN",771,0)
771
"BLD",8715,"KRN",779.2,0)
779.2
"BLD",8715,"KRN",870,0)
870
"BLD",8715,"KRN",8989.51,0)
8989.51
"BLD",8715,"KRN",8989.52,0)
8989.52
"BLD",8715,"KRN",8994,0)
8994
"BLD",8715,"KRN","B",.4,.4)

"BLD",8715,"KRN","B",.401,.401)

"BLD",8715,"KRN","B",.402,.402)

"BLD",8715,"KRN","B",.403,.403)

"BLD",8715,"KRN","B",.5,.5)

"BLD",8715,"KRN","B",.84,.84)

"BLD",8715,"KRN","B",3.6,3.6)

"BLD",8715,"KRN","B",3.8,3.8)

"BLD",8715,"KRN","B",9.2,9.2)

"BLD",8715,"KRN","B",9.8,9.8)

"BLD",8715,"KRN","B",19,19)

"BLD",8715,"KRN","B",19.1,19.1)

"BLD",8715,"KRN","B",101,101)

"BLD",8715,"KRN","B",409.61,409.61)

"BLD",8715,"KRN","B",771,771)

"BLD",8715,"KRN","B",779.2,779.2)

"BLD",8715,"KRN","B",870,870)

"BLD",8715,"KRN","B",8989.51,8989.51)

"BLD",8715,"KRN","B",8989.52,8989.52)

"BLD",8715,"KRN","B",8994,8994)

"BLD",8715,"PRET")

"BLD",8715,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",8715,"QUES",0)
^9.62^^
"BLD",8715,"REQB",0)
^9.611^2^2
"BLD",8715,"REQB",1,0)
DG*5.3*760^2
"BLD",8715,"REQB",2,0)
FB*3.5*147^2
"BLD",8715,"REQB","B","DG*5.3*760",1)

"BLD",8715,"REQB","B","FB*3.5*147",2)

"DATA",38.6,313,0)
NEWBORN REQUIRES SPONSOR^Newborn Sponsor is Missing^0^0^0^0
"DATA",38.6,314,0)
NEWBORN NEEDS ELIGIBLE SPONSOR^NEWBORNS REQUIRE AN ELIGIBLE SPONSOR^0^0^0^0
"DATA",38.6,314,"D",0)
^38.61^2^2^3130605^^
"DATA",38.6,314,"D",1,0)
This check is to ensure the Newborn being registered is attached to an 
"DATA",38.6,314,"D",2,0)
eligible mother.
"DATA",43.4,202,0)
NON-VA FOR FEMALE VET+NEWBORN^^17.38^0
"DATA",391,15,0)
NEWBORN OF VETERAN^1^^0^0
"DATA",391,15,8.2)
1
"DATA",391,15,"E")
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^0^0^^^^^^^^^^^^^^^^^^^0^0^0^0^0^0^0^0^^^0^0^^0^^^^^^^^^0^^^^^^^^0^0
"DATA",391,15,"E10")
0^0
"DATA",391,15,"S")
^^1^0^1^0^0^1^0^0^1
"FIA",38.6)
INCONSISTENT DATA ELEMENTS
"FIA",38.6,0)
^DGIN(38.6,
"FIA",38.6,0,0)
38.6s
"FIA",38.6,0,1)
y^n^f^^n^^y^m^n
"FIA",38.6,0,10)

"FIA",38.6,0,11)
I $$INCO386^DG867PO($P(^(0),U))
"FIA",38.6,0,"RLRO")

"FIA",38.6,0,"VR")
5.3^DG
"FIA",38.6,38.6)
0
"FIA",38.6,38.61)
0
"FIA",43.4)
VA ADMITTING REGULATION
"FIA",43.4,0)
^DIC(43.4,
"FIA",43.4,0,0)
43.4I
"FIA",43.4,0,1)
y^n^f^^n^^y^m^n
"FIA",43.4,0,10)

"FIA",43.4,0,11)
I $$ADMIT43^DG867PO($P(^(0),U))
"FIA",43.4,0,"RLRO")

"FIA",43.4,0,"VR")
5.3^DG
"FIA",43.4,43.4)
0
"FIA",391)
TYPE OF PATIENT
"FIA",391,0)
^DG(391,
"FIA",391,0,0)
391
"FIA",391,0,1)
n^n^f^^n^^y^m^n
"FIA",391,0,10)

"FIA",391,0,11)
I $$PAT391^DG867PO($P(^(0),U))
"FIA",391,0,"RLRO")

"FIA",391,0,"VR")
5.3^DG
"FIA",391,391)
0
"INIT")
POST^DG867PO
"MBREQ")
0
"PKG",5,-1)
1^1
"PKG",5,0)
REGISTRATION^DG^PATIENT REGISTRATION, ADMISSION, DISCHARGE, EMBOSSER 
"PKG",5,20,0)
^9.402P^^
"PKG",5,22,0)
^9.49I^1^1
"PKG",5,22,1,0)
5.3^2930813
"PKG",5,22,1,"PAH",1,0)
867^3131106^101097
"PKG",5,22,1,"PAH",1,1,0)
^^393^393^3131106
"PKG",5,22,1,"PAH",1,1,1,0)
Description:
"PKG",5,22,1,"PAH",1,1,2,0)
============
"PKG",5,22,1,"PAH",1,1,3,0)
 
"PKG",5,22,1,"PAH",1,1,4,0)
This patch has enhancements that extend the capabilities of the Veterans 
"PKG",5,22,1,"PAH",1,1,5,0)
Health Information Systems and Technology Architecture (VistA) Patient 
"PKG",5,22,1,"PAH",1,1,6,0)
Registration system (DG), Fee Basis System (FB), and Integrated Billing 
"PKG",5,22,1,"PAH",1,1,7,0)
(IB).
"PKG",5,22,1,"PAH",1,1,8,0)
 
"PKG",5,22,1,"PAH",1,1,9,0)
Below is a list of all the applications involved in this project along 
"PKG",5,22,1,"PAH",1,1,10,0)
with their patch number:
"PKG",5,22,1,"PAH",1,1,11,0)
 
"PKG",5,22,1,"PAH",1,1,12,0)
    APPLICATION/VERSION                                   PATCH
"PKG",5,22,1,"PAH",1,1,13,0)
    ---------------------------------------------------------------
"PKG",5,22,1,"PAH",1,1,14,0)
 PATIENT REGISTRATION (DG) V 5.3                        DG*5.3*867
"PKG",5,22,1,"PAH",1,1,15,0)
 FEE BASIS (FB) V 3.5                                   FB*3.5*146
"PKG",5,22,1,"PAH",1,1,16,0)
 INTEGRATED BILLING (IB) 2.0                            IB*2.0*499
"PKG",5,22,1,"PAH",1,1,17,0)
 
"PKG",5,22,1,"PAH",1,1,18,0)
The patches (DG*5.3*867, FB*3.5*146, and IB*2.0*499) are being released 
"PKG",5,22,1,"PAH",1,1,19,0)
in the Kernel Installation and Distribution System (KIDS) multi-build 
"PKG",5,22,1,"PAH",1,1,20,0)
distribution NEWBORN DG FB IB BUNDLE 1.0
"PKG",5,22,1,"PAH",1,1,21,0)
 
"PKG",5,22,1,"PAH",1,1,22,0)
The purpose of the Caregivers: Newborn Claims Processing Enhancement 
"PKG",5,22,1,"PAH",1,1,23,0)
Project is to enhance VistA Fee Basis application in support of 
"PKG",5,22,1,"PAH",1,1,24,0)
compliance with Public Law 111-163, the Caregiver and Veterans Omnibus 
"PKG",5,22,1,"PAH",1,1,25,0)
Health Services Act of 2010. This law makes changes to sections of Title 
"PKG",5,22,1,"PAH",1,1,26,0)
38, United States Code to furnish health care services to a newborn child 
"PKG",5,22,1,"PAH",1,1,27,0)
of a Woman Veteran who is receiving maternity care furnished by the 
"PKG",5,22,1,"PAH",1,1,28,0)
Department of Veterans Affairs (VA) for not more than seven days after 
"PKG",5,22,1,"PAH",1,1,29,0)
the birth of the child.
"PKG",5,22,1,"PAH",1,1,30,0)
 
"PKG",5,22,1,"PAH",1,1,31,0)
The scope of these enhancements is to capture information on healthcare 
"PKG",5,22,1,"PAH",1,1,32,0)
services provided to newborn children of Women Veterans. Affected 
"PKG",5,22,1,"PAH",1,1,33,0)
functions include eligibility determination, enrollment and registration, 
"PKG",5,22,1,"PAH",1,1,34,0)
documentation of referrals and authorization for care, claims processing, 
"PKG",5,22,1,"PAH",1,1,35,0)
and payment. Only modification to the Fee Basis (FB) and the Registration 
"PKG",5,22,1,"PAH",1,1,36,0)
(DG) packages are necessary to meet the requirements of this enhancement. 
"PKG",5,22,1,"PAH",1,1,37,0)
The Integrated Billing (IB) Patch is included to provide required data 
"PKG",5,22,1,"PAH",1,1,38,0)
for the Fee Basis install to reference.
"PKG",5,22,1,"PAH",1,1,39,0)
 
"PKG",5,22,1,"PAH",1,1,40,0)
 
"PKG",5,22,1,"PAH",1,1,41,0)
The primary purpose of this enhancement is to allow the Electronic Filing 
"PKG",5,22,1,"PAH",1,1,42,0)
of Newborn claims.
"PKG",5,22,1,"PAH",1,1,43,0)
 
"PKG",5,22,1,"PAH",1,1,44,0)
Functional Description
"PKG",5,22,1,"PAH",1,1,45,0)
------------------------------
"PKG",5,22,1,"PAH",1,1,46,0)
The following features and functions have been added to the Fee Basis 
"PKG",5,22,1,"PAH",1,1,47,0)
workflow process applying to both Civil Hospital and Medical Fee:
"PKG",5,22,1,"PAH",1,1,48,0)
 
"PKG",5,22,1,"PAH",1,1,49,0)
 1. A new Patient Type of NEWBORN OF VETERAN has been added to the TYPE 
"PKG",5,22,1,"PAH",1,1,50,0)
OF PATIENT file (#391). This new selection will be available on 
"PKG",5,22,1,"PAH",1,1,51,0)
Registration Screen <7>.
"PKG",5,22,1,"PAH",1,1,52,0)
 
"PKG",5,22,1,"PAH",1,1,53,0)
 2. A sponsor is required for all Newborns determined by having the DOB 
"PKG",5,22,1,"PAH",1,1,54,0)
less than one (1) year from the present date. An inconsistency check has 
"PKG",5,22,1,"PAH",1,1,55,0)
been added to check the presence of a sponsor. If an inconsistency is 
"PKG",5,22,1,"PAH",1,1,56,0)
found the inconsistency check will prompt the user to return to Screen 
"PKG",5,22,1,"PAH",1,1,57,0)
<15> in registration to enter a Sponsor.
"PKG",5,22,1,"PAH",1,1,58,0)
 
"PKG",5,22,1,"PAH",1,1,59,0)
 3. All Sponsors for Newborns must be listed as eligible for care. An 
"PKG",5,22,1,"PAH",1,1,60,0)
inconsistency check will check the status of the Sponsors Eligibility. 
"PKG",5,22,1,"PAH",1,1,61,0)
The check will trigger if the Sponsor has no Eligibility status.
"PKG",5,22,1,"PAH",1,1,62,0)
 
"PKG",5,22,1,"PAH",1,1,63,0)
All other statuses (i.e. Pending Verification, Verified, and Pending 
"PKG",5,22,1,"PAH",1,1,64,0)
Re-verification) are acceptable.
"PKG",5,22,1,"PAH",1,1,65,0)
 
"PKG",5,22,1,"PAH",1,1,66,0)
 4. Fee Authorization dates associated with Newborns have checks in place 
"PKG",5,22,1,"PAH",1,1,67,0)
to not allow Authorization dates that fall outside the accepted range of 
"PKG",5,22,1,"PAH",1,1,68,0)
Newborn  Authorization. The range is DOB to DOB+7. The system will warn 
"PKG",5,22,1,"PAH",1,1,69,0)
the user and not accept an Authorization date that falls outside the 
"PKG",5,22,1,"PAH",1,1,70,0)
appropriate range for a Newborn.
"PKG",5,22,1,"PAH",1,1,71,0)
 
"PKG",5,22,1,"PAH",1,1,72,0)
 5. When a Veteran Mother of a Sponsored Newborn is reviewed in the 
"PKG",5,22,1,"PAH",1,1,73,0)
Registration screens, Screen <15> will display the Newborn(s), with the 
"PKG",5,22,1,"PAH",1,1,74,0)
additional header of "Sponsored Newborn".
"PKG",5,22,1,"PAH",1,1,75,0)
 
"PKG",5,22,1,"PAH",1,1,76,0)
 6. The FAMILY PREFIX "NB Newborn of Vet" has been added to the Help text 
"PKG",5,22,1,"PAH",1,1,77,0)
in the FAMILY PREFIX field (#.03) in the SPONSOR RELATIONSHIP file 
"PKG",5,22,1,"PAH",1,1,78,0)
(#355.81)
"PKG",5,22,1,"PAH",1,1,79,0)
 
"PKG",5,22,1,"PAH",1,1,80,0)
 7. "NON-VA FOR FEMALE VET+NEWBORN 17.38" was added to the VA ADMITTING 
"PKG",5,22,1,"PAH",1,1,81,0)
REGULATION file (#43.4). This new Admitting Regulation is available when 
"PKG",5,22,1,"PAH",1,1,82,0)
editing the 7078.
"PKG",5,22,1,"PAH",1,1,83,0)
 
"PKG",5,22,1,"PAH",1,1,84,0)
 8. The following default values were added when entering a Newborn with 
"PKG",5,22,1,"PAH",1,1,85,0)
a date of birth of less than one (1) year from present date. Defaults 
"PKG",5,22,1,"PAH",1,1,86,0)
will only be assigned when specified screens are accessed during the 
"PKG",5,22,1,"PAH",1,1,87,0)
registration process:
"PKG",5,22,1,"PAH",1,1,88,0)
PATIENT DATA, SCREEN <2> Marital field is defaulted to NEVER MARRIED.  
"PKG",5,22,1,"PAH",1,1,89,0)
APPLICANT/SPOUSE EMPLOYMENT DATA, SCREEN <4> Status field is defaulted to 
"PKG",5,22,1,"PAH",1,1,90,0)
NOT EMPLOYED. FAMILY DEMOGRAPHIC DATA, SCREEN <8> Married Last Year field 
"PKG",5,22,1,"PAH",1,1,91,0)
is defaulted to NO.
"PKG",5,22,1,"PAH",1,1,92,0)
 
"PKG",5,22,1,"PAH",1,1,93,0)
 
"PKG",5,22,1,"PAH",1,1,94,0)
 Patch Components
"PKG",5,22,1,"PAH",1,1,95,0)
 ================
"PKG",5,22,1,"PAH",1,1,96,0)
 
"PKG",5,22,1,"PAH",1,1,97,0)
 
"PKG",5,22,1,"PAH",1,1,98,0)
 Files & Fields Associated:
"PKG",5,22,1,"PAH",1,1,99,0)
 
"PKG",5,22,1,"PAH",1,1,100,0)
 
"PKG",5,22,1,"PAH",1,1,101,0)
 File Name (#)                    Field Name (#)        
"PKG",5,22,1,"PAH",1,1,102,0)
New/Modified/Deleted
"PKG",5,22,1,"PAH",1,1,103,0)
 -------------                    --------------        -----------------
"PKG",5,22,1,"PAH",1,1,104,0)
 TYPE OF PATIENT (#391)           NAME (#.01)           New Data content
"PKG",5,22,1,"PAH",1,1,105,0)
 (Single new record added "NEWBORN OF VETERAN")         No Data 
"PKG",5,22,1,"PAH",1,1,106,0)
Dictionary changes
"PKG",5,22,1,"PAH",1,1,107,0)
 
"PKG",5,22,1,"PAH",1,1,108,0)
 VA ADMITTING REGULATION (#43.4) NAME (#.01)            New Data content
"PKG",5,22,1,"PAH",1,1,109,0)
 (Single new record added "NON-VA FOR FEMALE VET+NEWBORN")
"PKG",5,22,1,"PAH",1,1,110,0)
No Data Dictionary changes
"PKG",5,22,1,"PAH",1,1,111,0)
 
"PKG",5,22,1,"PAH",1,1,112,0)
 INCONSISTENT DATA ELEMENTS (#38.6)                     New Data content
"PKG",5,22,1,"PAH",1,1,113,0)
 Two new records added:
"PKG",5,22,1,"PAH",1,1,114,0)
313     NEWBORN REQUIRES SPONSOR
"PKG",5,22,1,"PAH",1,1,115,0)
314     NEWBORN NEEDS ELIGIBLE SPONSOR.)        
"PKG",5,22,1,"PAH",1,1,116,0)
No Data Dictionary changes
"PKG",5,22,1,"PAH",1,1,117,0)
 
"PKG",5,22,1,"PAH",1,1,118,0)
 Forms Associated:
"PKG",5,22,1,"PAH",1,1,119,0)
 
"PKG",5,22,1,"PAH",1,1,120,0)
 Form Name                File #                  New/Modified/Deleted
"PKG",5,22,1,"PAH",1,1,121,0)
 ---------                ------                  --------------------
"PKG",5,22,1,"PAH",1,1,122,0)
 N/A
"PKG",5,22,1,"PAH",1,1,123,0)
 
"PKG",5,22,1,"PAH",1,1,124,0)
 Mail Groups Associated:
"PKG",5,22,1,"PAH",1,1,125,0)
 
"PKG",5,22,1,"PAH",1,1,126,0)
 Mail Group Name                                        
"PKG",5,22,1,"PAH",1,1,127,0)
New/Modified/Deleted
"PKG",5,22,1,"PAH",1,1,128,0)
 ---------------                 --------------------
"PKG",5,22,1,"PAH",1,1,129,0)
N/A
"PKG",5,22,1,"PAH",1,1,130,0)
 
"PKG",5,22,1,"PAH",1,1,131,0)
 Options Associated:
"PKG",5,22,1,"PAH",1,1,132,0)
 
"PKG",5,22,1,"PAH",1,1,133,0)
 Option Name                    Type             New/Modified/Deleted
"PKG",5,22,1,"PAH",1,1,134,0)
 -----------                    ----             --------------------
"PKG",5,22,1,"PAH",1,1,135,0)
 N/A
"PKG",5,22,1,"PAH",1,1,136,0)
 
"PKG",5,22,1,"PAH",1,1,137,0)
 Protocols Associated:
"PKG",5,22,1,"PAH",1,1,138,0)
 
"PKG",5,22,1,"PAH",1,1,139,0)
 Protocol Name             New/Modified/Deleted
"PKG",5,22,1,"PAH",1,1,140,0)
 -------------             --------------------
"PKG",5,22,1,"PAH",1,1,141,0)
 N/A
"PKG",5,22,1,"PAH",1,1,142,0)
 
"PKG",5,22,1,"PAH",1,1,143,0)
 Security Keys Associated:
"PKG",5,22,1,"PAH",1,1,144,0)
 
"PKG",5,22,1,"PAH",1,1,145,0)
 Security Key Name
"PKG",5,22,1,"PAH",1,1,146,0)
 -----------------
"PKG",5,22,1,"PAH",1,1,147,0)
 N/A
"PKG",5,22,1,"PAH",1,1,148,0)
 
"PKG",5,22,1,"PAH",1,1,149,0)
 Templates Associated:
"PKG",5,22,1,"PAH",1,1,150,0)
 
"PKG",5,22,1,"PAH",1,1,151,0)
 Template Name       Type      File Name (#)     New/Modified/Deleted
"PKG",5,22,1,"PAH",1,1,152,0)
 -------------       ----      -------------     --------------------
"PKG",5,22,1,"PAH",1,1,153,0)
 
"PKG",5,22,1,"PAH",1,1,154,0)
 
"PKG",5,22,1,"PAH",1,1,155,0)
 Additional Information:
"PKG",5,22,1,"PAH",1,1,156,0)
 
"PKG",5,22,1,"PAH",1,1,157,0)
 
"PKG",5,22,1,"PAH",1,1,158,0)
 New Service Requests (NSRs):
"PKG",5,22,1,"PAH",1,1,159,0)
 -----------------------------
"PKG",5,22,1,"PAH",1,1,160,0)
 NSR 20100901
"PKG",5,22,1,"PAH",1,1,161,0)
 
"PKG",5,22,1,"PAH",1,1,162,0)
 Patient Safety Issues (PSIs):
"PKG",5,22,1,"PAH",1,1,163,0)
 ------------------------------
"PKG",5,22,1,"PAH",1,1,164,0)
 N/A
"PKG",5,22,1,"PAH",1,1,165,0)
 
"PKG",5,22,1,"PAH",1,1,166,0)
 Remedy Ticket(s) & Overviews:
"PKG",5,22,1,"PAH",1,1,167,0)
 -----------------------------
"PKG",5,22,1,"PAH",1,1,168,0)
 N/A
"PKG",5,22,1,"PAH",1,1,169,0)
 
"PKG",5,22,1,"PAH",1,1,170,0)
 
"PKG",5,22,1,"PAH",1,1,171,0)
 Test Sites:
"PKG",5,22,1,"PAH",1,1,172,0)
 -----------
"PKG",5,22,1,"PAH",1,1,173,0)
 
"PKG",5,22,1,"PAH",1,1,174,0)
 LEXINGTON
"PKG",5,22,1,"PAH",1,1,175,0)
 PUGET SOUND
"PKG",5,22,1,"PAH",1,1,176,0)
 
"PKG",5,22,1,"PAH",1,1,177,0)
 
"PKG",5,22,1,"PAH",1,1,178,0)
Documentation Retrieval Instructions:
"PKG",5,22,1,"PAH",1,1,179,0)
-------------------------------------
"PKG",5,22,1,"PAH",1,1,180,0)
Updated documentation describing the new functionality introduced by this 
"PKG",5,22,1,"PAH",1,1,181,0)
patch is available.
"PKG",5,22,1,"PAH",1,1,182,0)
 
"PKG",5,22,1,"PAH",1,1,183,0)
The preferred method is to FTP the files from 
"PKG",5,22,1,"PAH",1,1,184,0)
ftp://download.vista.domain.ext/. This transmits the files from the first 
"PKG",5,22,1,"PAH",1,1,185,0)
available FTP server. Sites may also elect to retrieve software directly 
"PKG",5,22,1,"PAH",1,1,186,0)
from a specific server as follows:
"PKG",5,22,1,"PAH",1,1,187,0)
 
"PKG",5,22,1,"PAH",1,1,188,0)
  Albany         ftp.fo-albany.domain.ext  
"PKG",5,22,1,"PAH",1,1,189,0)
<ftp://ftp.fo-albany.domain.ext>
"PKG",5,22,1,"PAH",1,1,190,0)
  Hines          ftp.fo-hines.domain.ext   <ftp://ftp.fo-hines.domain.ext>
"PKG",5,22,1,"PAH",1,1,191,0)
  Salt Lake City ftp.fo-slc.domain.ext     <ftp://ftp.fo-slc.domain.ext>
"PKG",5,22,1,"PAH",1,1,192,0)
 
"PKG",5,22,1,"PAH",1,1,193,0)
 The documentation will be in the form of Adobe Acrobat files.
"PKG",5,22,1,"PAH",1,1,194,0)
 
"PKG",5,22,1,"PAH",1,1,195,0)
 Documentation can also be found on the VA Software Documentation Library
"PKG",5,22,1,"PAH",1,1,196,0)
 at: http://www4.domain.ext/vdl/
"PKG",5,22,1,"PAH",1,1,197,0)
 
"PKG",5,22,1,"PAH",1,1,198,0)
 File Description                          File Name             FTP Mode
"PKG",5,22,1,"PAH",1,1,199,0)
 -------------------------------------------------------------------------
"PKG",5,22,1,"PAH",1,1,200,0)
-
"PKG",5,22,1,"PAH",1,1,201,0)
 Fee Basis User Manual                     fb3_5um.pdf           Binary
"PKG",5,22,1,"PAH",1,1,202,0)
 PIMS v5.3 ADT User Manual Registration    dg_5_3_reg_um.pdf     Binary
"PKG",5,22,1,"PAH",1,1,203,0)
 Newborn Procedure Guide                              
"PKG",5,22,1,"PAH",1,1,204,0)
newborn_pg.pdf       Binary
"PKG",5,22,1,"PAH",1,1,205,0)
 
"PKG",5,22,1,"PAH",1,1,206,0)
 The Newborn Procedure Guide should be distributed to those personnel 
"PKG",5,22,1,"PAH",1,1,207,0)
registering
"PKG",5,22,1,"PAH",1,1,208,0)
 newborns and/or processing newborn claims.
"PKG",5,22,1,"PAH",1,1,209,0)
 
"PKG",5,22,1,"PAH",1,1,210,0)
 
"PKG",5,22,1,"PAH",1,1,211,0)
 Patch Installation:
"PKG",5,22,1,"PAH",1,1,212,0)
 
"PKG",5,22,1,"PAH",1,1,213,0)
 
"PKG",5,22,1,"PAH",1,1,214,0)
Pre/Post Installation Overview
"PKG",5,22,1,"PAH",1,1,215,0)
------------------------------
"PKG",5,22,1,"PAH",1,1,216,0)
There are three post installation routines associated with this patch 
"PKG",5,22,1,"PAH",1,1,217,0)
DG867PO, FB146PO, and IB499PO. These routines primarily serve as filters 
"PKG",5,22,1,"PAH",1,1,218,0)
for the data transmitted to the appropriate files listed above, so that 
"PKG",5,22,1,"PAH",1,1,219,0)
only the intended data is delivered. The only exception is the IB499PO 
"PKG",5,22,1,"PAH",1,1,220,0)
routine which programmatically makes an addition to the help text of the 
"PKG",5,22,1,"PAH",1,1,221,0)
FAMILY PREFIX field (#.03) in the SPONSOR RELATIONSHIP file (#355.81). 
"PKG",5,22,1,"PAH",1,1,222,0)
These post installation routines may be deleted after successful 
"PKG",5,22,1,"PAH",1,1,223,0)
installation of the NEWBORN DG FB IB BUNDLE 1.0
"PKG",5,22,1,"PAH",1,1,224,0)
 
"PKG",5,22,1,"PAH",1,1,225,0)
Installation Instructions
"PKG",5,22,1,"PAH",1,1,226,0)
-------------------------
"PKG",5,22,1,"PAH",1,1,227,0)
This patch may be installed with users on the system although it is 
"PKG",5,22,1,"PAH",1,1,228,0)
recommended that it be installed during non-peak hours to minimize 
"PKG",5,22,1,"PAH",1,1,229,0)
potential disruption to users. This patch should take less than 5 minutes 
"PKG",5,22,1,"PAH",1,1,230,0)
to install.
"PKG",5,22,1,"PAH",1,1,231,0)
 
"PKG",5,22,1,"PAH",1,1,232,0)
FB*3.5*147 is a required patch and must be installed before DG*5.3*867.
"PKG",5,22,1,"PAH",1,1,233,0)
 
"PKG",5,22,1,"PAH",1,1,234,0)
DG*5.3*867 is one of three patches for this release (including FB*3.5*146 
"PKG",5,22,1,"PAH",1,1,235,0)
and IB*2.0*499). The patches will be installed as a bundle in the 
"PKG",5,22,1,"PAH",1,1,236,0)
following order: 
"PKG",5,22,1,"PAH",1,1,237,0)
 
"PKG",5,22,1,"PAH",1,1,238,0)
1) DG*5.3*867 
"PKG",5,22,1,"PAH",1,1,239,0)
2) FB*3.5*146
"PKG",5,22,1,"PAH",1,1,240,0)
3) IB*2.0*499
"PKG",5,22,1,"PAH",1,1,241,0)
 
"PKG",5,22,1,"PAH",1,1,242,0)
 
"PKG",5,22,1,"PAH",1,1,243,0)
 Pre-Installation Instructions
"PKG",5,22,1,"PAH",1,1,244,0)
 -----------------------------
"PKG",5,22,1,"PAH",1,1,245,0)
 1.  OBTAIN PATCHES
"PKG",5,22,1,"PAH",1,1,246,0)
     --------------
"PKG",5,22,1,"PAH",1,1,247,0)
Obtain the host file NEWBORN_1_2_DG_FB_IB.KID which contains the 
"PKG",5,22,1,"PAH",1,1,248,0)
following patches:
"PKG",5,22,1,"PAH",1,1,249,0)
 
"PKG",5,22,1,"PAH",1,1,250,0)
 DG*5.3*867
"PKG",5,22,1,"PAH",1,1,251,0)
 FB*3.5*146
"PKG",5,22,1,"PAH",1,1,252,0)
 IB*2.0*499
"PKG",5,22,1,"PAH",1,1,253,0)
 
"PKG",5,22,1,"PAH",1,1,254,0)
Sites can retrieve VistA software from the following FTP addresses. The 
"PKG",5,22,1,"PAH",1,1,255,0)
preferred method is to FTP the files from:
"PKG",5,22,1,"PAH",1,1,256,0)
 
"PKG",5,22,1,"PAH",1,1,257,0)
                     download.vista.domain.ext
"PKG",5,22,1,"PAH",1,1,258,0)
 
"PKG",5,22,1,"PAH",1,1,259,0)
This will transmit the files from the first available FTP server. Sites 
"PKG",5,22,1,"PAH",1,1,260,0)
may also elect to retrieve software directly from a specific server as 
"PKG",5,22,1,"PAH",1,1,261,0)
follows:
"PKG",5,22,1,"PAH",1,1,262,0)
 
"PKG",5,22,1,"PAH",1,1,263,0)
        Albany                  ftp.fo-albany.domain.ext
"PKG",5,22,1,"PAH",1,1,264,0)
        Hines                   ftp.fo-hines.domain.ext
"PKG",5,22,1,"PAH",1,1,265,0)
        Salt Lake City          ftp.fo-slc.domain.ext
"PKG",5,22,1,"PAH",1,1,266,0)
 
"PKG",5,22,1,"PAH",1,1,267,0)
The NEWBORN_1_2_DG_FB_IB.KID host file is located in the 
"PKG",5,22,1,"PAH",1,1,268,0)
anonymous.software directory. Use ASCII Mode when downloading the file.
"PKG",5,22,1,"PAH",1,1,269,0)
 
"PKG",5,22,1,"PAH",1,1,270,0)
 2.  START UP KIDS
"PKG",5,22,1,"PAH",1,1,271,0)
     -------------
"PKG",5,22,1,"PAH",1,1,272,0)
     Start up the Kernel Installation and Distribution System Menu option
"PKG",5,22,1,"PAH",1,1,273,0)
     [XPD MAIN]:
"PKG",5,22,1,"PAH",1,1,274,0)
 
"PKG",5,22,1,"PAH",1,1,275,0)
          Edits and Distribution ...
"PKG",5,22,1,"PAH",1,1,276,0)
          Utilities ...
"PKG",5,22,1,"PAH",1,1,277,0)
          Installation ...
"PKG",5,22,1,"PAH",1,1,278,0)
 
"PKG",5,22,1,"PAH",1,1,279,0)
     Select Kernel Installation & Distribution System Option: Installation
"PKG",5,22,1,"PAH",1,1,280,0)
                                                              ---
"PKG",5,22,1,"PAH",1,1,281,0)
          Load a Distribution
"PKG",5,22,1,"PAH",1,1,282,0)
          Print Transport Global
"PKG",5,22,1,"PAH",1,1,283,0)
          Compare Transport Global to Current System
"PKG",5,22,1,"PAH",1,1,284,0)
          Verify Checksums in Transport Global
"PKG",5,22,1,"PAH",1,1,285,0)
          Install Package(s)
"PKG",5,22,1,"PAH",1,1,286,0)
          Restart Install of Package(s)
"PKG",5,22,1,"PAH",1,1,287,0)
          Unload a Distribution
"PKG",5,22,1,"PAH",1,1,288,0)
          Backup a Transport Global
"PKG",5,22,1,"PAH",1,1,289,0)
 
"PKG",5,22,1,"PAH",1,1,290,0)
     Select Installation Option:
"PKG",5,22,1,"PAH",1,1,291,0)
 
"PKG",5,22,1,"PAH",1,1,292,0)
 3.  LOAD TRANSPORT GLOBAL FOR MULTI-BUILD
"PKG",5,22,1,"PAH",1,1,293,0)
     -------------------------------------
"PKG",5,22,1,"PAH",1,1,294,0)
     From the Installation menu, select the Load a Distribution option.
"PKG",5,22,1,"PAH",1,1,295,0)
 
"PKG",5,22,1,"PAH",1,1,296,0)
     When prompted for "Enter a Host File:" Enter the full directory path
"PKG",5,22,1,"PAH",1,1,297,0)
     where you saved the host file NEWBORN_1_2_DG_FB_IB.KID
"PKG",5,22,1,"PAH",1,1,298,0)
     (e.g., SYS$SYSDEVICE:[ANONYMOUS]NEWBORN_1_2_DG_FB_IB.KID)
"PKG",5,22,1,"PAH",1,1,299,0)
 
"PKG",5,22,1,"PAH",1,1,300,0)
 When prompted for "OK to continue with Load? NO//", Enter "YES."
"PKG",5,22,1,"PAH",1,1,301,0)
 
"PKG",5,22,1,"PAH",1,1,302,0)
     The following will display:
"PKG",5,22,1,"PAH",1,1,303,0)
 
"PKG",5,22,1,"PAH",1,1,304,0)
       Loading Distribution...
"PKG",5,22,1,"PAH",1,1,305,0)
 
"PKG",5,22,1,"PAH",1,1,306,0)
    NEWBORN DG FB IB BUNDLE 1.0
"PKG",5,22,1,"PAH",1,1,307,0)
    DG*5.3*867
"PKG",5,22,1,"PAH",1,1,308,0)
    FB*3.5*146
"PKG",5,22,1,"PAH",1,1,309,0)
    IB*2.0*499
"PKG",5,22,1,"PAH",1,1,310,0)
    Use INSTALL NAME: NEWBORN DG FB IB BUNDLE 1.0 to install this 
"PKG",5,22,1,"PAH",1,1,311,0)
distribution.
"PKG",5,22,1,"PAH",1,1,312,0)
 
"PKG",5,22,1,"PAH",1,1,313,0)
 4.  RUN OPTIONAL INSTALLATION OPTIONS FOR MULTI-BUILD
"PKG",5,22,1,"PAH",1,1,314,0)
     -------------------------------------------------
"PKG",5,22,1,"PAH",1,1,315,0)
     From the Installation menu, you may select to use the following 
"PKG",5,22,1,"PAH",1,1,316,0)
options (when prompted for the INSTALL NAME, enter NEWBORN DG FB IB 
"PKG",5,22,1,"PAH",1,1,317,0)
BUNDLE 1.0 
"PKG",5,22,1,"PAH",1,1,318,0)
 
"PKG",5,22,1,"PAH",1,1,319,0)
     a.  Backup a Transport Global - This option will create a backup
"PKG",5,22,1,"PAH",1,1,320,0)
         message of any routines exported with this patch. It will not
"PKG",5,22,1,"PAH",1,1,321,0)
         backup any other changes such as data dictionaries or templates.
"PKG",5,22,1,"PAH",1,1,322,0)
     b.  Compare Transport Global to Current System - This option will
"PKG",5,22,1,"PAH",1,1,323,0)
         allow you to view all changes that will be made when this patch
"PKG",5,22,1,"PAH",1,1,324,0)
         is installed.  It compares all components of this patch
"PKG",5,22,1,"PAH",1,1,325,0)
         (routines, data dictionaries, templates, etc.).
"PKG",5,22,1,"PAH",1,1,326,0)
     c.  Verify Checksums in Transport Global - This option will allow
"PKG",5,22,1,"PAH",1,1,327,0)
         you to ensure the integrity of the routines that are in the
"PKG",5,22,1,"PAH",1,1,328,0)
         transport global.
"PKG",5,22,1,"PAH",1,1,329,0)
 
"PKG",5,22,1,"PAH",1,1,330,0)
 5.  INSTALL MULTI-BUILD
"PKG",5,22,1,"PAH",1,1,331,0)
     -------------------
"PKG",5,22,1,"PAH",1,1,332,0)
     This is the step to start the installation of this KIDS patch.  This 
"PKG",5,22,1,"PAH",1,1,333,0)
will 
"PKG",5,22,1,"PAH",1,1,334,0)
     need to be run for the NEWBORN DG FB IB BUNDLE 1.0
"PKG",5,22,1,"PAH",1,1,335,0)
 
"PKG",5,22,1,"PAH",1,1,336,0)
    a.  Choose the Install Package(s) option to start the patch
"PKG",5,22,1,"PAH",1,1,337,0)
         install.
"PKG",5,22,1,"PAH",1,1,338,0)
    b.  When prompted for the "Select INSTALL NAME:" enter
"PKG",5,22,1,"PAH",1,1,339,0)
          NEWBORN DG FB IB BUNDLE 1.0 
"PKG",5,22,1,"PAH",1,1,340,0)
    c.  When prompted "Want KIDS to INHIBIT LOGONs during the install?
"PKG",5,22,1,"PAH",1,1,341,0)
         NO//", answer NO
"PKG",5,22,1,"PAH",1,1,342,0)
    d.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
"PKG",5,22,1,"PAH",1,1,343,0)
         and Protocols? NO//", answer NO
"PKG",5,22,1,"PAH",1,1,344,0)
    e.  When prompted "Device: HOME//", enter HOME 
"PKG",5,22,1,"PAH",1,1,345,0)
           to display the Install message on the screen (or enter the 
"PKG",5,22,1,"PAH",1,1,346,0)
           device you want to print the Install message). You may 
"PKG",5,22,1,"PAH",1,1,347,0)
           queue the install if you wish.
"PKG",5,22,1,"PAH",1,1,348,0)
 
"PKG",5,22,1,"PAH",1,1,349,0)
 
"PKG",5,22,1,"PAH",1,1,350,0)
Post-Installation Instructions
"PKG",5,22,1,"PAH",1,1,351,0)
------------------------------
"PKG",5,22,1,"PAH",1,1,352,0)
 
"PKG",5,22,1,"PAH",1,1,353,0)
*** IMPORTANT NOTE ***
"PKG",5,22,1,"PAH",1,1,354,0)
Please note there are three post installation routines that may be 
"PKG",5,22,1,"PAH",1,1,355,0)
deleted after successful installation of the NEWBORN DG FB IB BUNDLE 1.0. 
"PKG",5,22,1,"PAH",1,1,356,0)
These are:
"PKG",5,22,1,"PAH",1,1,357,0)
 
"PKG",5,22,1,"PAH",1,1,358,0)
DG867PO
"PKG",5,22,1,"PAH",1,1,359,0)
FB146PO 
"PKG",5,22,1,"PAH",1,1,360,0)
IB499PO
"PKG",5,22,1,"PAH",1,1,361,0)
 
"PKG",5,22,1,"PAH",1,1,362,0)
 
"PKG",5,22,1,"PAH",1,1,363,0)
Routine Information:
"PKG",5,22,1,"PAH",1,1,364,0)
====================
"PKG",5,22,1,"PAH",1,1,365,0)
The second line of each of these routines now looks like:
"PKG",5,22,1,"PAH",1,1,366,0)
;;5.3;REGISTRATION;**[Patch List]**;01-APR-13;Build 49
"PKG",5,22,1,"PAH",1,1,367,0)
 
"PKG",5,22,1,"PAH",1,1,368,0)
The checksums below are new checksums, and can be checked with 
"PKG",5,22,1,"PAH",1,1,369,0)
CHECK1^XTSUMBLD.
"PKG",5,22,1,"PAH",1,1,370,0)
 
"PKG",5,22,1,"PAH",1,1,371,0)
Routine Name: DG867PO
"PKG",5,22,1,"PAH",1,1,372,0)
    Before:       n/a   After: B481760  **867**
"PKG",5,22,1,"PAH",1,1,373,0)
Routine Name: DGDEP3
"PKG",5,22,1,"PAH",1,1,374,0)
    Before: B29628067   After: B31937643  **45,624,653,688,867**
"PKG",5,22,1,"PAH",1,1,375,0)
Routine Name: DGPTAE01
"PKG",5,22,1,"PAH",1,1,376,0)
    Before:  B8773190   After: B9393836  **58,342,466,664,867**
"PKG",5,22,1,"PAH",1,1,377,0)
Routine Name: DGRP15
"PKG",5,22,1,"PAH",1,1,378,0)
    Before:  B4585956   After: B13096034  **114,239,568,867**
"PKG",5,22,1,"PAH",1,1,379,0)
Routine Name: DGRP2
"PKG",5,22,1,"PAH",1,1,380,0)
    Before: B11254124   After: B12657362  **415,545,638,677,760,867**
"PKG",5,22,1,"PAH",1,1,381,0)
Routine Name: DGRP4
"PKG",5,22,1,"PAH",1,1,382,0)
    Before:  B7761202   After: B9074330  **624,867**
"PKG",5,22,1,"PAH",1,1,383,0)
Routine Name: DGRPC
"PKG",5,22,1,"PAH",1,1,384,0)
    Before: B28027409   After: B32590756  **108,121,314,301,470,489,505,
"PKG",5,22,1,"PAH",1,1,385,0)
                                           451,568,585,641,653,688,754,
"PKG",5,22,1,"PAH",1,1,386,0)
                                           797,867** 
"PKG",5,22,1,"PAH",1,1,387,0)
Routine Name: DGRPC3
"PKG",5,22,1,"PAH",1,1,388,0)
    Before: B40710915   After: B55911726  
"PKG",5,22,1,"PAH",1,1,389,0)
**451,632,673,657,688,754,797,867**
"PKG",5,22,1,"PAH",1,1,390,0)
Routine Name: DGRPCF
"PKG",5,22,1,"PAH",1,1,391,0)
    Before: B24182202   After: B26163167  **250,653,786,754,867**
"PKG",5,22,1,"PAH",1,1,392,0)
 
"PKG",5,22,1,"PAH",1,1,393,0)
Routine list of preceding patches: 664, 760, 797
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
9
"RTN","DG867PO")
0^^B481760^n/a
"RTN","DG867PO",1,0)
DG867PO ;BL/BL - PRE-INSTALL ROUTINE FOR DG*5.3*867 ;01-APR-13
"RTN","DG867PO",2,0)
 ;;5.3;REGISTRATION;**867**;01-APR-13;Build 56
"RTN","DG867PO",3,0)
 ;
"RTN","DG867PO",4,0)
 ;Purpose of this routine is to provide a filter for the data entries in file #391 and 
"RTN","DG867PO",5,0)
 ;file #43.4
"RTN","DG867PO",6,0)
 ;
"RTN","DG867PO",7,0)
POST ;POST INIT ENTRY POINT NOT USED
"RTN","DG867PO",8,0)
 Q
"RTN","DG867PO",9,0)
 ;
"RTN","DG867PO",10,0)
PAT391(ANAME) ;Screen for Newborn of Vet Type of Patient in file #391
"RTN","DG867PO",11,0)
 I ANAME="NEWBORN OF VETERAN" Q 1
"RTN","DG867PO",12,0)
 Q 0
"RTN","DG867PO",13,0)
 ;
"RTN","DG867PO",14,0)
ADMIT43(ANAME) ;Screen for NON-VA FOR FEMALE VET+NEWBORN     17.38  file #43.4
"RTN","DG867PO",15,0)
 ;
"RTN","DG867PO",16,0)
 I ANAME="NON-VA FOR FEMALE VET+NEWBORN" Q 1
"RTN","DG867PO",17,0)
 Q 0
"RTN","DG867PO",18,0)
 ;
"RTN","DG867PO",19,0)
INCO386(ANAME) ;Screen for INCONSISTENCY DATA ELEMENTS file #38.6
"RTN","DG867PO",20,0)
 ;
"RTN","DG867PO",21,0)
 I ANAME="NEWBORN REQUIRES SPONSOR" Q 1
"RTN","DG867PO",22,0)
 I ANAME="NEWBORN NEEDS ELIGIBLE SPONSOR" Q 1
"RTN","DG867PO",23,0)
 Q 0
"RTN","DG867PO",24,0)
 ;
"RTN","DGDEP3")
0^4^B31937643^B29628067
"RTN","DGDEP3",1,0)
DGDEP3 ;ALB/CAW,BAJ,ERC - Dependents display ;11/22/2005
"RTN","DGDEP3",2,0)
 ;;5.3;Registration;**45,624,653,688,867**;Aug 13, 1993;Build 56
"RTN","DGDEP3",3,0)
 ;
"RTN","DGDEP3",4,0)
SELF(INCPER,NAME,RELATE,ACT,DGMTI,CNT) ; Display information concerning veteran
"RTN","DGDEP3",5,0)
 ;
"RTN","DGDEP3",6,0)
 S DGX="",DGX=$$SETSTR^VALM1(CNT,DGX,3,3)
"RTN","DGDEP3",7,0)
 I $G(DGMTI),INCPER,($P($G(^DGMT(408.22,+INCPER,"MT")),U)=DGMTI) S DGX=$$SETSTR^VALM1("*",DGX,5,1)
"RTN","DGDEP3",8,0)
 S DGX=$$SETSTR^VALM1(NAME,DGX,9,22)
"RTN","DGDEP3",9,0)
 S DGX=$$SETSTR^VALM1($P($G(^DG(408.11,RELATE,0)),U),DGX,32,30)
"RTN","DGDEP3",10,0)
 S DGX=$$SETSTR^VALM1($S($P(ACT,U,2)=1:"*",1:""),DGX,65,1)
"RTN","DGDEP3",11,0)
 S:RELATE=2 DGX=$$SETSTR^VALM1($S(+$$ADDCHK(INCPER)=1:"*",1:""),DGX,73,1)
"RTN","DGDEP3",12,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",13,0)
 ;
"RTN","DGDEP3",14,0)
 ; Display spouse SSN and SSN Verification status DG*5.3*688 BAJ 11/22/2005
"RTN","DGDEP3",15,0)
 I RELATE=2 D
"RTN","DGDEP3",16,0)
 . S DGX="",DGX=$$SETSTR^VALM1($P(DGDEP,"^",5),DGX,9,14)
"RTN","DGDEP3",17,0)
 . S DGX=$$SETSTR^VALM1($P(DGDEP,"^",9),DGX,23,10)
"RTN","DGDEP3",18,0)
 . ;if a Pseudo SSN need Pseudo SSN Reason - DG*5.3*653, ERC
"RTN","DGDEP3",19,0)
 . I $P(DGDEP,U,5)["P" D
"RTN","DGDEP3",20,0)
 . . S DGX=$$SETSTR^VALM1("PSSN Reason: ",DGX,32,15)
"RTN","DGDEP3",21,0)
 . . S DGX=$$SETSTR^VALM1($P(DGDEP,U,10),DGX,45,30)
"RTN","DGDEP3",22,0)
 . . ;D SET^DGDEP(DGX)
"RTN","DGDEP3",23,0)
 . D SET^DGDEP(DGX)
"RTN","DGDEP3",24,0)
 ;
"RTN","DGDEP3",25,0)
 Q:RELATE=2
"RTN","DGDEP3",26,0)
 D NEWB
"RTN","DGDEP3",27,0)
 S INCPER=^DGMT(408.22,INCPER,0)
"RTN","DGDEP3",28,0)
 S DGX="",DGX=$$SETSTR^VALM1("Married Last Year: ",DGX,18,19)
"RTN","DGDEP3",29,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,5):"Yes",$P(INCPER,U,5)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",30,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",31,0)
 ;
"RTN","DGDEP3",32,0)
 Q:'$G(DGMTI)
"RTN","DGDEP3",33,0)
 I $P(INCPER,U,5)=1 D
"RTN","DGDEP3",34,0)
 . S DGX="",DGX=$$SETSTR^VALM1("Lived with Spouse: ",DGX,18,19)
"RTN","DGDEP3",35,0)
 . S DGX=$$SETSTR^VALM1($S($P(INCPER,U,6):"Yes",$P(INCPER,U,6)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",36,0)
 . D SET^DGDEP(DGX)
"RTN","DGDEP3",37,0)
 ;
"RTN","DGDEP3",38,0)
 I $P(INCPER,U,6)=0 D
"RTN","DGDEP3",39,0)
 . S DGX="",DGX=$$SETSTR^VALM1("Amount Contributed: ",DGX,17,19)
"RTN","DGDEP3",40,0)
 . S DGX=$$SETSTR^VALM1($S($P(INCPER,U,7)]"":$P(INCPER,U,7),1:"Unanswered"),DGX,38,10)
"RTN","DGDEP3",41,0)
 . D SET^DGDEP(DGX)
"RTN","DGDEP3",42,0)
 Q
"RTN","DGDEP3",43,0)
 ;
"RTN","DGDEP3",44,0)
CHILD(INCPER,NAME,RELATE,ACT,DGMTI,DGMTACT,CNT) ; Display information concerning dependents
"RTN","DGDEP3",45,0)
 ;
"RTN","DGDEP3",46,0)
 ;** DG*5.3*688 - GTS Get MT Version
"RTN","DGDEP3",47,0)
 N MTVER
"RTN","DGDEP3",48,0)
 S:(+$G(DGMTI)>0) MTVER=$P($G(^DGMT(408.31,DGMTI,2)),"^",11)
"RTN","DGDEP3",49,0)
 I (+$G(DGMTI)'>0) DO
"RTN","DGDEP3",50,0)
 . N DGINC,DGREL,DGINR,DGDEP
"RTN","DGDEP3",51,0)
 . D ALL^DGMTU21(DFN,"VSD",DT,"I")
"RTN","DGDEP3",52,0)
 . S MTVER=$$VER^DGMTUTL3(.DGINC)
"RTN","DGDEP3",53,0)
 S DGX="",DGX=$$SETSTR^VALM1(CNT,DGX,3,3)
"RTN","DGDEP3",54,0)
 I $G(DGMTI),INCPER,($P($G(^DGMT(408.22,+INCPER,"MT")),U)=DGMTI) S DGX=$$SETSTR^VALM1("*",DGX,5,1)
"RTN","DGDEP3",55,0)
 S DGX=$$SETSTR^VALM1(NAME,DGX,9,22)
"RTN","DGDEP3",56,0)
 S DGX=$$SETSTR^VALM1($P($G(^DG(408.11,RELATE,0)),U),DGX,32,30)
"RTN","DGDEP3",57,0)
 S DGX=$$SETSTR^VALM1($S($P(ACT,U,2)=1:"*",1:""),DGX,65,1)
"RTN","DGDEP3",58,0)
 S DGX=$$SETSTR^VALM1($S(+$$ADDCHK(INCPER)=1:"*",1:""),DGX,73,1)
"RTN","DGDEP3",59,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",60,0)
 ;
"RTN","DGDEP3",61,0)
 ;display dependent SSN and SSN Verification status DG*5.3*688 BAJ 11/22/2005
"RTN","DGDEP3",62,0)
 S DGX="",DGX=$$SETSTR^VALM1($P(DGDEP,"^",5),DGX,9,14)
"RTN","DGDEP3",63,0)
 S DGX=$$SETSTR^VALM1($P(DGDEP,"^",9),DGX,23,10)
"RTN","DGDEP3",64,0)
 I $P(DGDEP,U,5)["P" D
"RTN","DGDEP3",65,0)
 . S DGX=$$SETSTR^VALM1("PSSN Reason: ",DGX,32,15)
"RTN","DGDEP3",66,0)
 . S DGX=$$SETSTR^VALM1($P(DGDEP,U,10),DGX,45,30)
"RTN","DGDEP3",67,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",68,0)
 ;
"RTN","DGDEP3",69,0)
 Q:'$G(DGMTI)!('$P($G(^DG(408.11,RELATE,0)),U,4))
"RTN","DGDEP3",70,0)
 S INCPER=^DGMT(408.22,INCPER,0)
"RTN","DGDEP3",71,0)
 S DGX="",DGX=$$SETSTR^VALM1("Incapable of Self-support: ",DGX,10,27)
"RTN","DGDEP3",72,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,9):"Yes",$P(INCPER,U,9)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",73,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",74,0)
 ;
"RTN","DGDEP3",75,0)
 ;* DG*5.3*624
"RTN","DGDEP3",76,0)
 S DGX="",DGX=$$SETSTR^VALM1("Child 18 to 23. Attended School: ",DGX,4,33)
"RTN","DGDEP3",77,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,18):"Yes",$P(INCPER,U,18)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",78,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",79,0)
 ;
"RTN","DGDEP3",80,0)
 S DGX="",DGX=$$SETSTR^VALM1("Child lived with you: ",DGX,15,22)
"RTN","DGDEP3",81,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,6):"Yes",$P(INCPER,U,6)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",82,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",83,0)
 ;
"RTN","DGDEP3",84,0)
 S DGX="",DGX=$$SETSTR^VALM1("Child Support: ",DGX,22,15)
"RTN","DGDEP3",85,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,6)=1:"N/A",$P(INCPER,U,10)=1:"Yes",$P(INCPER,U,10)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",86,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",87,0)
 ;
"RTN","DGDEP3",88,0)
 ;* DG*5.3*624
"RTN","DGDEP3",89,0)
 S DGX="",DGX=$$SETSTR^VALM1("Amount contributed: ",DGX,17,20)
"RTN","DGDEP3",90,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,10)'=1:"N/A",($P(INCPER,U,19)'="0")&($P(INCPER,U,19)'=""):$P(INCPER,U,19),$P(INCPER,U,19)="":"Unanswered",1:"0"),DGX,38,10)
"RTN","DGDEP3",91,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",92,0)
 ;
"RTN","DGDEP3",93,0)
 ;** DG*5.3*688 - GTS Chk MT Version and output correct data
"RTN","DGDEP3",94,0)
 S DGX=""
"RTN","DGDEP3",95,0)
 S:(+MTVER<1) DGX=$$SETSTR^VALM1("Child Has Income: ",DGX,19,18)
"RTN","DGDEP3",96,0)
 S:(+MTVER=1) DGX=$$SETSTR^VALM1("Child Has Income/Net Worth: ",DGX,9,28)
"RTN","DGDEP3",97,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,11)=1:"Yes",$P(INCPER,U,11)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",98,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",99,0)
 ;
"RTN","DGDEP3",100,0)
 ;** DG*5.3*688 - GTS Chk MT Version and output correct data
"RTN","DGDEP3",101,0)
 S DGX=""
"RTN","DGDEP3",102,0)
 S:(+MTVER<1) DGX=$$SETSTR^VALM1("Income Available: ",DGX,19,18)
"RTN","DGDEP3",103,0)
 S:(+MTVER=1) DGX=$$SETSTR^VALM1("Income/Net Worth Available: ",DGX,9,28)
"RTN","DGDEP3",104,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,11)=0:"N/A",$P(INCPER,U,12)=1:"Yes",$P(INCPER,U,12)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",105,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",106,0)
CHILDQ Q
"RTN","DGDEP3",107,0)
 ;
"RTN","DGDEP3",108,0)
ADDCHK(INCPER) ; Indicates existence of any dependent address
"RTN","DGDEP3",109,0)
 ; Input:
"RTN","DGDEP3",110,0)
 ;      INCPER - Pointer to dep. entry in Income Relation file (408.22)
"RTN","DGDEP3",111,0)
 ;
"RTN","DGDEP3",112,0)
 ; Output: 
"RTN","DGDEP3",113,0)
 ;   both address and phone^address^phone
"RTN","DGDEP3",114,0)
 ;      KEY:
"RTN","DGDEP3",115,0)
 ;        0 - No data exists for the dependent in 408.13
"RTN","DGDEP3",116,0)
 ;        1 - Data exists for the dependent in 408.13
"RTN","DGDEP3",117,0)
 ;
"RTN","DGDEP3",118,0)
 ;    1^1^1 - Address and Phone data exist for dependent
"RTN","DGDEP3",119,0)
 ;    0^1^0 - Address only exists for dependent
"RTN","DGDEP3",120,0)
 ;    0^0^1 - Phone only exists for dependent
"RTN","DGDEP3",121,0)
 ;    0^0^0 - Neither Phone nor Address data exists for dependent
"RTN","DGDEP3",122,0)
 ;
"RTN","DGDEP3",123,0)
 N ADDCKVAL,INDAIIEN,PRIEN,IPIEN
"RTN","DGDEP3",124,0)
 S ADDCKVAL="0^0^0"
"RTN","DGDEP3",125,0)
 S INDAIIEN=$P($G(^DGMT(408.22,INCPER,0)),"^",2)
"RTN","DGDEP3",126,0)
 S PRIEN=$P($G(^DGMT(408.21,INDAIIEN,0)),"^",2)
"RTN","DGDEP3",127,0)
 S IPIEN=$P($G(^DGPR(408.12,PRIEN,0)),"^",3)
"RTN","DGDEP3",128,0)
 I IPIEN["DGPR(408.13" DO
"RTN","DGDEP3",129,0)
 . S IPIEN=$P(IPIEN,";",1)
"RTN","DGDEP3",130,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",2)]"" S $P(ADDCKVAL,U,1,2)="1^1"
"RTN","DGDEP3",131,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",3)]"" S $P(ADDCKVAL,U,1,2)="1^1"
"RTN","DGDEP3",132,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",4)]"" S $P(ADDCKVAL,U,1,2)="1^1"
"RTN","DGDEP3",133,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",5)]"" S $P(ADDCKVAL,U,1,2)="1^1"
"RTN","DGDEP3",134,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",6)]"" S $P(ADDCKVAL,U,1,2)="1^1"
"RTN","DGDEP3",135,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",7)]"" S $P(ADDCKVAL,U,1,2)="1^1"
"RTN","DGDEP3",136,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",8)]"" S $P(ADDCKVAL,U,3)="1"
"RTN","DGDEP3",137,0)
 Q ADDCKVAL
"RTN","DGDEP3",138,0)
 ;
"RTN","DGDEP3",139,0)
NEWB ; check dob and if newborn, default "married last year" to be no
"RTN","DGDEP3",140,0)
 N DOB,NOW
"RTN","DGDEP3",141,0)
 S XY=""
"RTN","DGDEP3",142,0)
 S DOB=$P(^DPT(DFN,0),"^",3)
"RTN","DGDEP3",143,0)
 D NOW^%DTC S NOW=X
"RTN","DGDEP3",144,0)
 I $$FMDIFF^XLFDT(NOW,DOB,1)>365 Q  ;patient not a newborn
"RTN","DGDEP3",145,0)
 S XY=$O(^DGMT(408.22,"B",DFN,XY))
"RTN","DGDEP3",146,0)
 S $P(^DGMT(408.22,XY,0),"^",5)=0
"RTN","DGDEP3",147,0)
 Q
"RTN","DGPTAE01")
0^9^B9393836^B8773190
"RTN","DGPTAE01",1,0)
DGPTAE01 ;ALB/MTC - Miss. Austin Edit Checks ; 13 NOV 92
"RTN","DGPTAE01",2,0)
 ;;5.3;Registration;**58,342,466,664,867**;Aug 13, 1993;Build 56
"RTN","DGPTAE01",3,0)
 ;
"RTN","DGPTAE01",4,0)
INC ; VERIFY INCOME DATA
"RTN","DGPTAE01",5,0)
 I DGPTINC'?." "1.6N." " S DGPTERC=120
"RTN","DGPTAE01",6,0)
 Q
"RTN","DGPTAE01",7,0)
 ;
"RTN","DGPTAE01",8,0)
STATE ;
"RTN","DGPTAE01",9,0)
 Q:$$FOR^DGADDUTL(DGPTCTRY)>0
"RTN","DGPTAE01",10,0)
 Q:DGPTSTE["X"
"RTN","DGPTAE01",11,0)
 S DGPTSTE=+DGPTSTE I DGPTSTE="" S DGPTERC=117 Q
"RTN","DGPTAE01",12,0)
 I DGPTSTE'?1.2N S DGPTERC=117 Q
"RTN","DGPTAE01",13,0)
 Q
"RTN","DGPTAE01",14,0)
 ;
"RTN","DGPTAE01",15,0)
ZIP ;
"RTN","DGPTAE01",16,0)
 Q:$$FOR^DGADDUTL(DGPTCTRY)>0
"RTN","DGPTAE01",17,0)
 I DGPTZIP'?5N&(DGPTZIP'="XXXXX") S DGPTERC=118 Q
"RTN","DGPTAE01",18,0)
 Q
"RTN","DGPTAE01",19,0)
 ;
"RTN","DGPTAE01",20,0)
CNTY ;
"RTN","DGPTAE01",21,0)
 Q:$$FOR^DGADDUTL(DGPTCTRY)>0
"RTN","DGPTAE01",22,0)
 I DGPTCTY'?1.3N S DGPTERC=117 Q
"RTN","DGPTAE01",23,0)
 Q
"RTN","DGPTAE01",24,0)
 ;
"RTN","DGPTAE01",25,0)
AGO ;
"RTN","DGPTAE01",26,0)
 I " 12345"'[DGPTEXA S DGPTERC=115 Q
"RTN","DGPTAE01",27,0)
 I "35"[DGPTEXA&(DGPTPOS2'=7) S DGPTERC=133 Q
"RTN","DGPTAE01",28,0)
 Q
"RTN","DGPTAE01",29,0)
IRAD ;
"RTN","DGPTAE01",30,0)
 I "024578"'[DGPTPOS2&(DGPTEXI'=" ") S DGPTEXI=" " Q
"RTN","DGPTAE01",31,0)
 I "024578"[DGPTPOS2&("1234 "'[DGPTEXI) S DGPTERC=116 Q
"RTN","DGPTAE01",32,0)
 I DGPTPOS2="Z"&((DGPTEXI=" ")!("1234"'[DGPTEXI)) S DGPTERC=134 Q
"RTN","DGPTAE01",33,0)
 Q
"RTN","DGPTAE01",34,0)
 ;
"RTN","DGPTAE01",35,0)
DB ; DATE OF BIRTH EDITS
"RTN","DGPTAE01",36,0)
 ;
"RTN","DGPTAE01",37,0)
 I $E(DGPTDOB,1,2)="00" S DGPTDOB="01"_$E(DGPTDOB,3,8)
"RTN","DGPTAE01",38,0)
 I $E(DGPTDOB,3,4)="00" S DGPTDOB=$E(DGPTDOB,1,2)_"01"_$E(DGPTDOB,5,8)
"RTN","DGPTAE01",39,0)
 S DGPTFMDB=($E(DGPTDOB,5,6)-17)_$E(DGPTDOB,7,8)_$E(DGPTDOB,1,4)
"RTN","DGPTAE01",40,0)
 S X=DGPTFMDB,%DT="X" D ^%DT I Y<0 S DGPTERC=113 Q
"RTN","DGPTAE01",41,0)
 D DD^%DT S DGPTORBD=$E(Y,5,6)_"-"_$E(Y,1,3)_"-"_$E(Y,9,12) I DGPTORBD'?1.2N1"-"3U1"-"4N S DGPTERC=113 Q
"RTN","DGPTAE01",42,0)
 I $E(DGPTDOB,5,8)<1857 S DGPTERC=113 Q
"RTN","DGPTAE01",43,0)
 S X1=+DGPTDTS,X2=DGPTFMDB D ^%DTC I X<0 S DGPTERC=113 Q
"RTN","DGPTAE01",44,0)
 S DGPTAGE=X\365 I DGPTAGE>124 S DGPTERC=113 Q   ;BL;NEWBORN CLAIMS DG*5.3*867;Removed check for age less than 1 year
"RTN","DGPTAE01",45,0)
DBQ ;
"RTN","DGPTAE01",46,0)
 K X,X1,X2,Y
"RTN","DGPTAE01",47,0)
 Q
"RTN","DGPTAE01",48,0)
 ;
"RTN","DGPTAE01",49,0)
MT ; Means test edits and consistency check
"RTN","DGPTAE01",50,0)
 ;
"RTN","DGPTAE01",51,0)
 I DGPTSTTY["^30^" S DGPTMTC="  " Q
"RTN","DGPTAE01",52,0)
 D EDIT Q:DGPTERC
"RTN","DGPTAE01",53,0)
 D CONSIS Q:DGPTERC
"RTN","DGPTAE01",54,0)
 Q
"RTN","DGPTAE01",55,0)
EDIT ;
"RTN","DGPTAE01",56,0)
 D NUMACT^DGPTSUF(30) I DGANUM>0 F I=1:1:DGANUM I $E(DGPTFAC,4,6)[DGSUFNAM(I) S:DGPTMTC'="X " DGPTMTC="X " K DGANUM,DGSUFNAM,I Q
"RTN","DGPTAE01",57,0)
 I "ABCGNXU"'[$E(DGPTMTC) S DGPTERC=119 Q
"RTN","DGPTAE01",58,0)
 I $E(DGPTMTC,1)="A"&("SN"'[$E(DGPTMTC,2)) S DGPTERC=119 Q
"RTN","DGPTAE01",59,0)
 I $E(DGPTMTC,2)=" "&("BCGNXU"'[$E(DGPTMTC)) S DGPTERC=119 Q
"RTN","DGPTAE01",60,0)
 Q
"RTN","DGPTAE01",61,0)
CONSIS ;
"RTN","DGPTAE01",62,0)
 I DGPTMTC="X "&(+DGPTTY'<2860701) S DGPTERC="119" Q
"RTN","DGPTAE01",63,0)
 Q
"RTN","DGPTAE01",64,0)
 ;
"RTN","DGPTAE01",65,0)
PSE ;-- check for pseudo ssn
"RTN","DGPTAE01",66,0)
 S DGPTALF="ABC^DEF^GHI^JKL^MNO^PQR^STU^VWX^YZ^ "
"RTN","DGPTAE01",67,0)
FI ;
"RTN","DGPTAE01",68,0)
 I DGPTFI=" "&($E(DGPTSSN,1)=0) G MI
"RTN","DGPTAE01",69,0)
 I $P(DGPTALF,U,$E(DGPTSSN,1))'[DGPTFI S DGPTERC=130 G PSEQ
"RTN","DGPTAE01",70,0)
MI ;
"RTN","DGPTAE01",71,0)
 I DGPTMI=" "&($E(DGPTSSN,2)=0) G LN
"RTN","DGPTAE01",72,0)
 I $P(DGPTALF,U,$E(DGPTSSN,2))'[DGPTMI S DGPTERC=130 G PSEQ
"RTN","DGPTAE01",73,0)
LN ;
"RTN","DGPTAE01",74,0)
 I $P(DGPTALF,U,$E(DGPTSSN,3))'[$E(DGPTLN,1) S DGPTERC=130 G PSEQ
"RTN","DGPTAE01",75,0)
COMP ;
"RTN","DGPTAE01",76,0)
 I $E(DGPTDOB,1,4)_$E(DGPTDOB,7,8)'=$E(DGPTSSN,4,9) S DGPTERC=130
"RTN","DGPTAE01",77,0)
 Q
"RTN","DGPTAE01",78,0)
PSEQ ;
"RTN","DGPTAE01",79,0)
 K DGPTALF
"RTN","DGPTAE01",80,0)
 Q
"RTN","DGRP15")
0^1^B13096034^B4585956
"RTN","DGRP15",1,0)
DGRP15 ;ALB/MTC - TRICARE DEMOGRAPHIC DATA ;03/05/2004
"RTN","DGRP15",2,0)
 ;;5.3;Registration;**114,239,568,867**;Aug 13, 1993;Build 56
"RTN","DGRP15",3,0)
 ;
"RTN","DGRP15",4,0)
EN ;
"RTN","DGRP15",5,0)
 N X,Y,DGSA,SPFLAG,NEWBAR,LINE,NN,CNT
"RTN","DGRP15",6,0)
1 S DGSA=""
"RTN","DGRP15",7,0)
 ;-- get sponsor info
"RTN","DGRP15",8,0)
 S SPFLAG=0
"RTN","DGRP15",9,0)
 D GET
"RTN","DGRP15",10,0)
 ;-- draw header
"RTN","DGRP15",11,0)
 S (DGRPS,DGRPW)=15 D H^DGRPU
"RTN","DGRP15",12,0)
 ;--
"RTN","DGRP15",13,0)
 S Z=1 D WW^DGRPV W " Sponsor Information:"
"RTN","DGRP15",14,0)
 I DGSA D
"RTN","DGRP15",15,0)
 . S Y=1,X=0 F  S X=$O(DGSA(X)) Q:'X  D DISPON(X) S Y=Y+1 Q:Y>2
"RTN","DGRP15",16,0)
 E   W:'SPFLAG !,!,"No Sponsor Information available."
"RTN","DGRP15",17,0)
 I SPFLAG W !?4,"Sponsored Newborn:" D
"RTN","DGRP15",18,0)
 . S NN="",CNT=0 F  S NN=$O(NEWBAR(NN)) Q:(NN="")!(CNT=2)  D
"RTN","DGRP15",19,0)
 .. S SPN=""
"RTN","DGRP15",20,0)
 .. F  S SPN=$O(NEWBAR(NN,SPN)) Q:(SPN="")!(CNT=2)  D
"RTN","DGRP15",21,0)
 ... S CNT=CNT+1
"RTN","DGRP15",22,0)
 ... W !?7,"NAME : ",$P(NEWBAR(NN,SPN),"^")
"RTN","DGRP15",23,0)
 ... W !?8,"DOB : " S Y=$P(NEWBAR(NN,SPN),"^",2) X ^DD("DD") W Y
"RTN","DGRP15",24,0)
 ... W !?8,"SSN : ",$P(NEWBAR(NN,SPN),"^",3)
"RTN","DGRP15",25,0)
 ... W !?6,"Effective Date : " S Y=$P(NEWBAR(NN,SPN),"^",4) X ^DD("DD") W Y
"RTN","DGRP15",26,0)
 ... W ?38,"Expiration Date : " S Y=$P(NEWBAR(NN,SPN),"^",5) X ^DD("DD") W Y
"RTN","DGRP15",27,0)
 ... W !
"RTN","DGRP15",28,0)
 I SPFLAG>2 W "Sponsor has ",SPFLAG," sponsored newborn children."
"RTN","DGRP15",29,0)
 W !
"RTN","DGRP15",30,0)
2 ;-- Primary Care  
"RTN","DGRP15",31,0)
 ;
"RTN","DGRP15",32,0)
 ;-- get primary care data
"RTN","DGRP15",33,0)
 D
"RTN","DGRP15",34,0)
 .N CT,GBL S GBL="GBL"
"RTN","DGRP15",35,0)
 .D TDATA^DGSDUTL(DFN,.CT,DT)
"RTN","DGRP15",36,0)
 .I CT>12 S GBL(11,0)="" D
"RTN","DGRP15",37,0)
 ..S GBL(12,0)="      *** Additional assignment information exists ***"
"RTN","DGRP15",38,0)
 .S CT=0 F  S CT=$O(GBL(CT)) Q:'CT!(CT>12)  W !,GBL(CT,0)
"RTN","DGRP15",39,0)
 .Q
"RTN","DGRP15",40,0)
 ;
"RTN","DGRP15",41,0)
 ;-- goto main registration screen processing routine
"RTN","DGRP15",42,0)
 G ^DGRPP
"RTN","DGRP15",43,0)
 ;
"RTN","DGRP15",44,0)
 Q
"RTN","DGRP15",45,0)
 ;
"RTN","DGRP15",46,0)
DISPON(SPON) ;-- This function will display the Sponsor designated by
"RTN","DGRP15",47,0)
 ;  SPON.^
"RTN","DGRP15",48,0)
 ;
"RTN","DGRP15",49,0)
 W !,!,"    Name : " S Z=$P(DGSA(SPON,"SPON"),U),Z1=30 D WW1^DGRPV
"RTN","DGRP15",50,0)
 W ?40,"Military Status : ",$P(DGSA(SPON,"SPON"),U,4)
"RTN","DGRP15",51,0)
 W !,"     DOB : " S Z=$P(DGSA(SPON,"SPON"),U,2),Z1=28 D WW1^DGRPV
"RTN","DGRP15",52,0)
 W ?35,"Branch of Service : ",$P(DGSA(SPON,"SPON"),U,5)
"RTN","DGRP15",53,0)
 W !,"     SSN : " S Z=$P(DGSA(SPON,"SPON"),U,3),Z1=15 D WW1^DGRPV
"RTN","DGRP15",54,0)
 W ?52,"Rank : ",$P(DGSA(SPON,"SPON"),U,6)
"RTN","DGRP15",55,0)
 W !,"  Prefix : " S Z=$P(DGSA(SPON,"REL"),U,2),Z1=12 D WW1^DGRPV
"RTN","DGRP15",56,0)
 W ?52,"Type : ",$P(DGSA(SPON,"REL"),U,3)
"RTN","DGRP15",57,0)
 S Y=$P(DGSA(SPON,"REL"),U,4) X ^DD("DD")
"RTN","DGRP15",58,0)
 W !,"   Effective Date : ",Y
"RTN","DGRP15",59,0)
 S Y=$P(DGSA(SPON,"REL"),U,5) X ^DD("DD")
"RTN","DGRP15",60,0)
 W ?35,"Expiration Date: ",Y
"RTN","DGRP15",61,0)
 Q
"RTN","DGRP15",62,0)
 ;
"RTN","DGRP15",63,0)
GET ;-- get sponsor information and populate the DGSA array.
"RTN","DGRP15",64,0)
 N NEWB,SPON1,X,SPN,HDT,LINE,N,AA,BDOB
"RTN","DGRP15",65,0)
 D GET^IBCNSU4(DFN,.DGSA)
"RTN","DGRP15",66,0)
 ; -- Find the Newborn sponsored info
"RTN","DGRP15",67,0)
 ; -- look at all of the patient's sponsor relationships
"RTN","DGRP15",68,0)
 S X=0 F  S X=$O(^IBA(355.8,"B",X)) Q:X=""  D
"RTN","DGRP15",69,0)
 . Q:+X'=DFN
"RTN","DGRP15",70,0)
 . S N="" F  S N=$O(^IBA(355.8,"B",X,N)) Q:N=""  D
"RTN","DGRP15",71,0)
 .. S AA=0 F  S AA=$O(^IBA(355.81,AA)) Q:(AA="")!(AA="B")  D
"RTN","DGRP15",72,0)
 ... I $P(^IBA(355.81,AA,0),"^",2)=N D
"RTN","DGRP15",73,0)
 .... S SPN=$P(^IBA(355.81,AA,0),"^",1)
"RTN","DGRP15",74,0)
 .... S EFFDT=$P(^IBA(355.81,AA,0),"^",5)
"RTN","DGRP15",75,0)
 .... S EXPDT=$P(^IBA(355.81,AA,0),"^",6)
"RTN","DGRP15",76,0)
 .... Q:'$D(^DPT(SPN,0))
"RTN","DGRP15",77,0)
 .... S BDOB=$P(^DPT(SPN,0),"^",3)
"RTN","DGRP15",78,0)
 .... Q:$P(^DPT(SPN,0),"^",16)-BDOB>365        ; Baby's Registration date minus DOB
"RTN","DGRP15",79,0)
 .... S LINE=^DPT(SPN,0)
"RTN","DGRP15",80,0)
 .... ; The last baby will be printed first
"RTN","DGRP15",81,0)
 .... S SPFLAG=SPFLAG+1,NEWBAR(9999999-BDOB,SPN)=$P(LINE,"^",1)_"^"_BDOB_"^"_$P(LINE,"^",9)_"^"_EFFDT_"^"_EXPDT
"RTN","DGRP15",82,0)
GETQ Q
"RTN","DGRP15",83,0)
 ;
"RTN","DGRP15",84,0)
EDIT ;-- edit sponsor or primary care ... called from DGRPE
"RTN","DGRP15",85,0)
 I DGRPANN["1" D
"RTN","DGRP15",86,0)
 . D SPON^IBCNSU41(DFN)
"RTN","DGRP15",87,0)
 I DGRPANN["2" D
"RTN","DGRP15",88,0)
 . W !,"Edit Primary Provider information." H 3 Q
"RTN","DGRP15",89,0)
 ;
"RTN","DGRP15",90,0)
 Q
"RTN","DGRP15",91,0)
 ;
"RTN","DGRP15",92,0)
NEWBDT(DFN) ;-- Get baby's DOB, check if DOB <1 year, returns FLAG and DOB
"RTN","DGRP15",93,0)
 N DOB,FLAG,NOW
"RTN","DGRP15",94,0)
 S FLAG=0
"RTN","DGRP15",95,0)
 S DOB=$P(^DPT(DFN,0),"^",3)
"RTN","DGRP15",96,0)
 D NOW^%DTC S NOW=X
"RTN","DGRP15",97,0)
 I $$FMDIFF^XLFDT(NOW,DOB,1)>365 Q  ;patient is not a newborn
"RTN","DGRP15",98,0)
 S FLAG=1
"RTN","DGRP15",99,0)
 Q FLAG_"^"_DOB
"RTN","DGRP2")
0^3^B12657362^B11254124
"RTN","DGRP2",1,0)
DGRP2 ;ALB/MRL,BRM - REGISTRATION SCREEN 2/CONTACT INFORMATION ;06 JUN 88@2300
"RTN","DGRP2",2,0)
 ;;5.3;Registration;**415,545,638,677,760,867**;Aug 13, 1993;Build 56
"RTN","DGRP2",3,0)
 ;
"RTN","DGRP2",4,0)
 D NEWB
"RTN","DGRP2",5,0)
 S DGRPS=2 D H^DGRPU F I=0,.24,57,1010.15 S DGRP(I)=$S($D(^DPT(DFN,I)):^(I),1:"")
"RTN","DGRP2",6,0)
 S DGRPX=DGRP(0)
"RTN","DGRP2",7,0)
 S (Z,DGRPW)=1 D WW^DGRPV W "  Marital: " S Z=$S($D(^DIC(11,+$P(DGRPX,"^",5),0)):$E($P(^(0),"^",1),1,28),1:DGRPU),Z1=30 D WW1^DGRPV
"RTN","DGRP2",8,0)
 ;S (Z,DGRPW)=1 D WW^DGRPV W "     Sex: " S X=$P(DGRP(0),"^",2),Z=$S(X="M":"MALE",X="F":"FEMALE",1:DGRPU),Z1=31 D WW1^DGRPV
"RTN","DGRP2",9,0)
 S DGD=$$DISP^DG1010P0(DGRP(0),11,0,1),DGNOCITY=DGUNK,DGD1=$$POINT^DG1010P0(DGRP(0),12,5,1,0,1)
"RTN","DGRP2",10,0)
 W ?41,"POB: ",$E($S((DGNOCITY&DGUNK):"UNANSWERED",1:DGD_$S(($L(DGD)):", ",1:"")_DGD1),1,29)
"RTN","DGRP2",11,0)
 ;S DGRPX=DGRP(0)
"RTN","DGRP2",12,0)
 W !?4,"Religion: ",$S($D(^DIC(13,+$P(DGRPX,"^",8),0)):$P(^(0),"^",1),1:DGRPU),?41,"Father: ",$S($P(DGRP(.24),"^",1)]"":$E($P(DGRP(.24),"^",1),1,29),1:DGRPU)
"RTN","DGRP2",13,0)
 S X=$P(DGRP(57),"^",4),X=$S(X']"":DGRPU,X="X":"NOT APPLICABLE",X=1:"PARA,",X=2:"QUAD,",X=3:"PARA,NON",1:"QUAD,NON"),X=$S("QP"[$E(X):X_"TRAUMATIC",1:X) W !?9,"SCI: ",X
"RTN","DGRP2",14,0)
 W ?41,"Mother: ",$S($P(DGRP(.24),"^",2)]"":$E($P(DGRP(.24),"^",2),1,29),1:DGRPU)
"RTN","DGRP2",15,0)
 W !,?35,"Mom's Maiden: ",$S($P(DGRP(.24),"^",3)]"":$E($P(DGRP(.24),"^",3),1,29),1:DGRPU)
"RTN","DGRP2",16,0)
 W ! S Z=2 D WW^DGRPV W " Previous Care Date      Location of Previous Care",!?4,"------------------      -------------------------" S DGRPX=DGRP(1010.15) I $P(DGRPX,"^",5)'="Y" S X="NONE INDICATED" W !?4,X,?28,X
"RTN","DGRP2",17,0)
 E  F I=1:1:4 S I1=$P(DGRPX,"^",I) X "I I#2 S Y=I1 X:Y]"""" ^DD(""DD"") W !?4,$S(Y]"""":Y,1:DGRPU)" I '(I#2) W ?28,$S($D(^DIC(4,+I1,0)):$P(^(0),"^",1),1:DGRPU)
"RTN","DGRP2",18,0)
 W ! S Z=3 D WW^DGRPV W " Ethnicity: " D
"RTN","DGRP2",19,0)
 .I '$O(^DPT(DFN,.06,0)) W "UNANSWERED" Q
"RTN","DGRP2",20,0)
 .N NODE,NUM,ETHNIC
"RTN","DGRP2",21,0)
 .S I=0
"RTN","DGRP2",22,0)
 .F NUM=0:1 S I=+$O(^DPT(DFN,.06,I)) Q:'I  D
"RTN","DGRP2",23,0)
 ..S NODE=$G(^DPT(DFN,.06,I,0))
"RTN","DGRP2",24,0)
 ..S X=$P($G(^DIC(10.2,+NODE,0)),"^",1)
"RTN","DGRP2",25,0)
 ..S ETHNIC=$S(X="":"?????",1:X)
"RTN","DGRP2",26,0)
 ..S X=$P($G(^DIC(10.3,+$P(NODE,"^",2),0)),"^",2)
"RTN","DGRP2",27,0)
 ..S ETHNIC=ETHNIC_" ("_$S(X="":"?",1:X)_")"
"RTN","DGRP2",28,0)
 ..I NUM S ETHNIC=", "_ETHNIC
"RTN","DGRP2",29,0)
 ..I ($X+$L(ETHNIC))>IOM D  W !?15
"RTN","DGRP2",30,0)
 ...F  S X=$P(ETHNIC," ",1)_" " Q:($X+$L(X))>IOM  W X S ETHNIC=$P(ETHNIC," ",2,999)
"RTN","DGRP2",31,0)
 ..W ETHNIC
"RTN","DGRP2",32,0)
 W !?9,"Race: " D
"RTN","DGRP2",33,0)
 .I '$O(^DPT(DFN,.02,0)) W "UNANSWERED" Q
"RTN","DGRP2",34,0)
 .N NODE,NUM,RACE
"RTN","DGRP2",35,0)
 .S I=0
"RTN","DGRP2",36,0)
 .F NUM=0:1 S I=+$O(^DPT(DFN,.02,I)) Q:'I  D
"RTN","DGRP2",37,0)
 ..S NODE=$G(^DPT(DFN,.02,I,0))
"RTN","DGRP2",38,0)
 ..S X=$P($G(^DIC(10,+NODE,0)),"^",1)
"RTN","DGRP2",39,0)
 ..S RACE=$S(X="":"?????",1:X)
"RTN","DGRP2",40,0)
 ..S X=$P($G(^DIC(10.3,+$P(NODE,"^",2),0)),"^",2)
"RTN","DGRP2",41,0)
 ..S RACE=RACE_" ("_$S(X="":"?",1:X)_")"
"RTN","DGRP2",42,0)
 ..I NUM S RACE=", "_RACE
"RTN","DGRP2",43,0)
 ..I ($X+$L(RACE))>IOM D  W !?15
"RTN","DGRP2",44,0)
 ...F  S X=$P(RACE," ",1)_" " Q:($X+$L(X))>IOM  W X S RACE=$P(RACE," ",2,999)
"RTN","DGRP2",45,0)
 ..W RACE
"RTN","DGRP2",46,0)
 D GETS^DIQ(2,DFN_",",".351;.353;.354;.355","E","PDTHINFO")
"RTN","DGRP2",47,0)
 W !!
"RTN","DGRP2",48,0)
 W "<4> Date of Death Information"
"RTN","DGRP2",49,0)
 W !,?5,"Date of Death: ",$G(PDTHINFO(2,DFN_",",.351,"E"))
"RTN","DGRP2",50,0)
 W ?41,"Source of Notification: ",$G(PDTHINFO(2,DFN_",",.353,"E"))
"RTN","DGRP2",51,0)
 W !,?5,"Updated Date/Time: ",$G(PDTHINFO(2,DFN_",",.354,"E"))
"RTN","DGRP2",52,0)
 W ?41,"Last Edited By: ",$G(PDTHINFO(2,DFN_",",.355,"E")),!
"RTN","DGRP2",53,0)
 K PDTHINFO
"RTN","DGRP2",54,0)
 ;
"RTN","DGRP2",55,0)
 ;Emergency Response Indicator
"RTN","DGRP2",56,0)
 N DGEMRES S DGEMRES=$P($G(^DPT(DFN,.18)),"^")
"RTN","DGRP2",57,0)
 S Z=5 D WW^DGRPV W " Emergency Response: "_$$EXTERNAL^DILFD(2,.181,,DGEMRES)
"RTN","DGRP2",58,0)
 G ^DGRPP
"RTN","DGRP2",59,0)
 ;
"RTN","DGRP2",60,0)
 Q
"RTN","DGRP2",61,0)
NEWB ;-- check patient DOB, if DOB<365 days, set marital status to "never married"
"RTN","DGRP2",62,0)
 N DOB,NOW
"RTN","DGRP2",63,0)
 S DOB=$P(^DPT(DFN,0),"^",3)
"RTN","DGRP2",64,0)
 D NOW^%DTC S NOW=X
"RTN","DGRP2",65,0)
 I $$FMDIFF^XLFDT(NOW,DOB,1)>365 Q  ;patient is not a newborn
"RTN","DGRP2",66,0)
 S $P(^DPT(DFN,0),"^",5)=6 ;patient is a newborn
"RTN","DGRP2",67,0)
 Q
"RTN","DGRP4")
0^2^B9074330^B7761202
"RTN","DGRP4",1,0)
DGRP4 ;ALB/MRL - REGISTRATION SCREEN 4/EMPLOYMENT INFORMATION ;06 JUN 88@2300
"RTN","DGRP4",2,0)
 ;;5.3;Registration;**624,867**;Aug 13, 1993;Build 56
"RTN","DGRP4",3,0)
 ;
"RTN","DGRP4",4,0)
 N DGMRD
"RTN","DGRP4",5,0)
 D NEWB ;determine newborn status before building local array
"RTN","DGRP4",6,0)
 S DGRPS=4 D H^DGRPU S DGRPW=1 F I=0,.311,.25 S DGRP(I)=$S($D(^DPT(DFN,I)):^(I),1:"")
"RTN","DGRP4",7,0)
 S X=$P($G(^DIC(11,+$P(DGRP(0),"^",5),0)),"^",3) S DGMRD=$S("^M^S^"[("^"_X_"^"):1,1:0),DGRPVV(4)=$E(DGRPVV(4))_'DGMRD ; spouse's employer only editable if married or separated
"RTN","DGRP4",8,0)
 S DGAD=.311,DGA1=3,DGA2=1 D:$P(DGRP(.311),"^",1)]"" AL^DGRPU(26) S DGAD=.25,(DGA1,DGA2)=2 I $P(DGRP(.25),"^",1)]"",DGMRD D AL^DGRPU(26)
"RTN","DGRP4",9,0)
 S Z=1 D WW^DGRPV W " Employer: " S Z=$S($P(DGRP(.311),"^",1)]"":$E($P(DGRP(.311),"^",1),1,23),1:DGRPU),Z1=26 D WW1^DGRPV S DGRPW=0,Z=2 D WW^DGRPV W " Spouse's: ",$S('DGMRD:"NOT APPLICABLE",$P(DGRP(.25),"^",1)]"":$P(DGRP(.25),"^",1),1:DGRPU)
"RTN","DGRP4",10,0)
 F I=0:0 S I=$O(DGA(I)) Q:'I  S Z=DGA(I) S:(I#2) Z="              "_Z W:(I#2)!($X>50) ! W:(I#2) Z I '(I#2) W ?54,Z
"RTN","DGRP4",11,0)
 W ! I $P(DGRP(.311),"^",1)]"" W ?7,"Phone: ",$S($P(DGRP(.311),"^",9)]"":$P(DGRP(.311),"^",9),1:DGRPU)
"RTN","DGRP4",12,0)
 I $P(DGRP(.25),"^",1)]"",DGMRD W ?47,"Phone: ",$S($P(DGRP(.25),"^",8)]"":$P(DGRP(.25),"^",8),1:DGRPU)
"RTN","DGRP4",13,0)
 W !,?2,"Occupation: ",$S($P(DGRP(0),"^",7)]"":$P(DGRP(0),"^",7),1:DGRPU)
"RTN","DGRP4",14,0)
 I DGMRD W ?42,"Occupation: ",$S($P(DGRP(.25),"^",14)]"":$P(DGRP(.25),"^",14),1:DGRPU)
"RTN","DGRP4",15,0)
 W ! S X1="EMPLOYED FULL TIME^EMPLOYED PART TIME^NOT EMPLOYED^SELF EMPLOYED^RETIRED^ACTIVE MILITARY DUTY^^^UNKNOWN"
"RTN","DGRP4",16,0)
 S X=$P(DGRP(.311),"^",15) W ?6,"Status: ",$S($P(X1,"^",X)]"":$P(X1,"^",X),1:DGRPU)
"RTN","DGRP4",17,0)
 I DGMRD S X=$P(DGRP(.25),"^",15) W ?46,"Status: ",$S($P(X1,"^",X)]"":$P(X1,"^",X),1:DGRPU)
"RTN","DGRP4",18,0)
 W !
"RTN","DGRP4",19,0)
 W ?1,"Retired Dt.: "
"RTN","DGRP4",20,0)
 I +$P(DGRP(.311),"^",15)=5 DO
"RTN","DGRP4",21,0)
 . I +$P($G(DGRP(.311)),"^",16)>0 DO
"RTN","DGRP4",22,0)
 . . N Y
"RTN","DGRP4",23,0)
 . . S Y=$P(DGRP(.311),"^",16)
"RTN","DGRP4",24,0)
 . . D DD^%DT
"RTN","DGRP4",25,0)
 . . W Y
"RTN","DGRP4",26,0)
 . . K Y
"RTN","DGRP4",27,0)
 I +$P(DGRP(.311),"^",15)'=5 DO
"RTN","DGRP4",28,0)
 . W "NOT APPLICABLE"
"RTN","DGRP4",29,0)
 I DGMRD DO
"RTN","DGRP4",30,0)
 . W ?41,"Retired Dt.: "
"RTN","DGRP4",31,0)
 . I +$P(DGRP(.25),"^",15)=5 DO
"RTN","DGRP4",32,0)
 . . I +$P($G(DGRP(.25)),"^",16)>0 DO
"RTN","DGRP4",33,0)
 . . . N Y
"RTN","DGRP4",34,0)
 . . . S Y=$P(DGRP(.25),"^",16)
"RTN","DGRP4",35,0)
 . . . D DD^%DT
"RTN","DGRP4",36,0)
 . . . W Y
"RTN","DGRP4",37,0)
 . . . K Y
"RTN","DGRP4",38,0)
 . I +$P(DGRP(.25),"^",15)'=5 DO
"RTN","DGRP4",39,0)
 . . W "NOT APPLICABLE"
"RTN","DGRP4",40,0)
 G ^DGRPP
"RTN","DGRP4",41,0)
 Q
"RTN","DGRP4",42,0)
 ;
"RTN","DGRP4",43,0)
NEWB ;-- check patient DOB, if DOB<365 days, set employment status to "not employed"
"RTN","DGRP4",44,0)
 N DOB,NOW
"RTN","DGRP4",45,0)
 S DOB=$P(^DPT(DFN,0),"^",3)
"RTN","DGRP4",46,0)
 D NOW^%DTC S NOW=X
"RTN","DGRP4",47,0)
 I $$FMDIFF^XLFDT(NOW,DOB,1)>365 Q  ;patient is not a newborn
"RTN","DGRP4",48,0)
 S $P(^DPT(DFN,.311),"^",15)=3 ;patient is a newborn
"RTN","DGRP4",49,0)
 Q
"RTN","DGRPC")
0^5^B32590756^B28027409
"RTN","DGRPC",1,0)
DGRPC    ;ALB/MRL/PJR/PHH/EG/BAJ,TDM,LBD - CHECK CONSISTENCY OF PATIENT DATA ; 6/29/11 3:50pm
"RTN","DGRPC",2,0)
 ;;5.3;Registration;**108,121,314,301,470,489,505,451,568,585,641,653,688,754,797,867**;Aug 13, 1993;Build 56
"RTN","DGRPC",3,0)
 ;
"RTN","DGRPC",4,0)
 ;linetags in routines correspond to IEN of file 38.6
"RTN","DGRPC",5,0)
 ;
"RTN","DGRPC",6,0)
 ;variables:  DGVT = 1 if VETERAN? = YES, 0 if NO
"RTN","DGRPC",7,0)
 ;    DGSC = 1 if SC? = YES, 0 if NO
"RTN","DGRPC",8,0)
 ;    DGCD = 0 node of file EC file (#8)
"RTN","DGRPC",9,0)
 ;        DGRPCOLD = old inconsistencies for pt (separated by ,s)
"RTN","DGRPC",10,0)
 ;   DGCHK = #s to check (separated by ,s)
"RTN","DGRPC",11,0)
 ;   DGLST = next # to check
"RTN","DGRPC",12,0)
 ;    DGER = inconsistencies found (separated by ,s)
"RTN","DGRPC",13,0)
 ;   DGNCK = 1 if missing key elig data...can't process further
"RTN","DGRPC",14,0)
 ;
"RTN","DGRPC",15,0)
 N ANYMSE,CONARR,CONCHK,CONERR,CONSPEC,LOC,I5,I6,DGPMSE
"RTN","DGRPC",16,0)
 N MSECHK,MSESET,MSERR,MSDATERR,RANGE,RANSET,OVER99
"RTN","DGRPC",17,0)
 D ON I $S(('$D(DFN)#2):1,'$D(^DPT(DFN,0)):1,DGER:1,1:0) G KVAR^DGRPCE:DGER
"RTN","DGRPC",18,0)
EN       S:'$D(DGEDCN)#2 DGEDCN=0 I DGEDCN W !!,"Checking data for consistency..."
"RTN","DGRPC",19,0)
 D START:DGEDCN
"RTN","DGRPC",20,0)
 F I=0,.13,.141,.121,.122,.22,.24,.3,.31,.311,.32,.321,.322,.33,.35,.36,.362,.38,.39,.52,.53,"TYPE","VET" S DGP(I)=$G(^DPT(DFN,I))
"RTN","DGRPC",21,0)
 ;Get MSEs from MSE sub-file #2.3216 (DG*5.3*797)
"RTN","DGRPC",22,0)
 I '$D(^DPT(DFN,.3216)) D MOVMSE^DGMSEUTL(DFN)
"RTN","DGRPC",23,0)
 D GETMSE^DGMSEUTL(DFN,.DGPMSE)
"RTN","DGRPC",24,0)
 ;get old inconsistencies
"RTN","DGRPC",25,0)
 S DGRPCOLD="," I $D(^DGIN(38.5,DFN)) F I=0:0 S I=$O(^DGIN(38.5,DFN,"I",I)) Q:'I  S DGRPCOLD=DGRPCOLD_I_","
"RTN","DGRPC",26,0)
 ;find consistencies to check/not check
"RTN","DGRPC",27,0)
 ; DG*5.3*653 modified to exclude checks numbered>99  BAJ  10/25/2005
"RTN","DGRPC",28,0)
 S DGCHK="," F I=0:0 S I=$O(^DGIN(38.6,I)) Q:'I!(I=99)  I $D(^(I,0)),$S(I=2:0,I=51:0,I=9:1,I=10:1,I=13:1,I=14:1,I=22:1,I=52:1,I=53:1,'$P(^(0),"^",5):1,1:0),I'=99 S DGCHK=DGCHK_I_","
"RTN","DGRPC",29,0)
 S OVER99=",301,303,304,306,307,308,313,314,402,403,406,407,501,502,503,504,505,506,507,516,517,"
"RTN","DGRPC",30,0)
 S DGVT=$S(DGP("VET")="Y":1,1:0),DGSC=$S($P(DGP(.3),"^",1)="Y":1,1:0),DGCD=$S($D(^DIC(8,+DGP(.36),0)):^(0),1:""),(DGCT,DGER,DGNCK)="" I 'DGVT,$D(^DG(391,+DGP("TYPE"),0)),$P(^(0),"^",2) S DGVT=2
"RTN","DGRPC",31,0)
 S DGLST=+$P(DGCHK,",",2) G @DGLST
"RTN","DGRPC",32,0)
1        S DGD=$P(DGP(0),"^",1) I DGD?1L.E!(DGD?.E1L.E)!(DGD="") S X=1 D COMB,NEXT I +DGLST'=2 G @DGLST
"RTN","DGRPC",33,0)
 S I1=0 F I=1:1:$L(DGD) Q:I1  S J=$E(DGD,I) I J?1NP,$A(J)>32,J'=",",J'="-",J'=".",J'="'" S I1=1
"RTN","DGRPC",34,0)
 I I1 S X=1 D COMB
"RTN","DGRPC",35,0)
 D NEXT I +DGLST'=2 G @DGLST
"RTN","DGRPC",36,0)
2        S I1=0 F I=0:0 S I=$O(^DPT(DFN,.01,I)) Q:'I!(I1)  I $P(^(I,0),"^",1)'?1A.E S I1=1
"RTN","DGRPC",37,0)
 I I1 S X=2 D COMB
"RTN","DGRPC",38,0)
 D NEXT I +DGLST>7!('DGLST) G @DGLST
"RTN","DGRPC",39,0)
3        ;
"RTN","DGRPC",40,0)
4        ;
"RTN","DGRPC",41,0)
5        ;
"RTN","DGRPC",42,0)
6        ;
"RTN","DGRPC",43,0)
7        F I=2,3,5,8,9 I $P(DGP(0),"^",I)="" S X=$S(I=2:3,I=3:4,I=5:5,I=8:6,1:7) D COMB:DGCHK[(","_X_",")
"RTN","DGRPC",44,0)
 S DGLST=7 G:DGCHK'[",7," FIND^DGRPC2 D NEXT I +DGLST'=8 G @DGLST
"RTN","DGRPC",45,0)
8        S I1=0,DGD=$G(^DPT(DFN,.11)) I '$P(DGD,"^",10) S I1=1,X=8 D COMB,NEXT G @DGLST
"RTN","DGRPC",46,0)
 I '$D(^HL(779.004,$P(DGD,"^",10))) S I1=1,X=8 D COMB,NEXT G @DGLST
"RTN","DGRPC",47,0)
 N STR8 S STR8="1,4,5,6,7" I $$FORIEN^DGADDUTL($P(DGD,"^",10)) S STR8="1,4"
"RTN","DGRPC",48,0)
 F T=1:1:$L(STR8,",") S I=$P(STR8,",",T) Q:I1  I $P(DGD,"^",I)="" S I1=1
"RTN","DGRPC",49,0)
 I I1 S X=8 D COMB
"RTN","DGRPC",50,0)
 D NEXT I +DGLST'=9 G @DGLST
"RTN","DGRPC",51,0)
9        I DGP("VET")="" S X=9,DGNCK=1 D COMB
"RTN","DGRPC",52,0)
 D NEXT I +DGLST'=10 G @DGLST
"RTN","DGRPC",53,0)
10       I $P(DGP(.3),"^",1)="" S X=10,DGNCK=1 D COMB
"RTN","DGRPC",54,0)
 D NEXT I +DGLST'=11 G @DGLST
"RTN","DGRPC",55,0)
11       I 'DGVT,DGSC S X=11 D COMB
"RTN","DGRPC",56,0)
 D NEXT I +DGLST'=12 G @DGLST
"RTN","DGRPC",57,0)
12       I DGSC,DGVT,$P(DGP(.3),"^",2)="" S X=12 D COMB
"RTN","DGRPC",58,0)
 D NEXT I +DGLST'=13 G @DGLST
"RTN","DGRPC",59,0)
13       I '$D(^DIC(21,+$P(DGP(.32),"^",3),0)) S X=13,DGNCK=1 D COMB
"RTN","DGRPC",60,0)
 D NEXT I +DGLST'=14 G @DGLST
"RTN","DGRPC",61,0)
14       I $P(DGCD,"^",1)="" S X=14,DGNCK=1 D COMB
"RTN","DGRPC",62,0)
 ;
"RTN","DGRPC",63,0)
 ;Check Patient Eligibilities multiple if Primary Elig Code defined
"RTN","DGRPC",64,0)
 I DGP(.36),'$D(^DPT(DFN,"E",+DGP(.36),0)) D PRI^VADPT60 ;5.3*301
"RTN","DGRPC",65,0)
 ;
"RTN","DGRPC",66,0)
 D NEXT I +DGLST'=15 G FIND^DGRPC2:+DGLST=35,@DGLST
"RTN","DGRPC",67,0)
15       I $P($G(^DPT(DFN,.15)),"^",2)]"",$P(DGP(.3),"^",7)="" S X=15 D COMB
"RTN","DGRPC",68,0)
 D NEXT I +DGLST'=16 G FIND^DGRPC2:+DGLST=35,@DGLST
"RTN","DGRPC",69,0)
16       D H^DGUTL I +DGP(.35)>DGTIME S X=16 D COMB
"RTN","DGRPC",70,0)
 D NEXT I +DGLST'=17 G FIND^DGRPC2:+DGLST=35,@DGLST
"RTN","DGRPC",71,0)
17       K DGDATE,DGTIME
"RTN","DGRPC",72,0)
 N SDARRAY,SDCLIEN,SDDATE
"RTN","DGRPC",73,0)
 S I1=0,DGD=DT
"RTN","DGRPC",74,0)
 S SDARRAY("FLDS")=3
"RTN","DGRPC",75,0)
 S SDARRAY(4)=DFN
"RTN","DGRPC",76,0)
 I +DGP(.35),$$SDAPI^SDAMA301(.SDARRAY) D
"RTN","DGRPC",77,0)
 .;if there is data hanging from the 101 subscript,
"RTN","DGRPC",78,0)
 .;then this is a valid appointment
"RTN","DGRPC",79,0)
 .;otherwise it is an error eg 01/21/2005
"RTN","DGRPC",80,0)
 .I $D(^TMP($J,"SDAMA301",101))=1 Q
"RTN","DGRPC",81,0)
 .S SDCLIEN=0
"RTN","DGRPC",82,0)
 .F  S SDCLIEN=$O(^TMP($J,"SDAMA301",DFN,SDCLIEN)) Q:'SDCLIEN!(I1)  D
"RTN","DGRPC",83,0)
 ..S SDDATE=0
"RTN","DGRPC",84,0)
 ..F  S SDDATE=$O(^TMP($J,"SDAMA301",DFN,SDCLIEN,SDDATE)) Q:'SDDATE!(I1)  D
"RTN","DGRPC",85,0)
 ...S X=$P($P(^TMP($J,"SDAMA301",DFN,SDCLIEN,SDDATE),"^",3),";")
"RTN","DGRPC",86,0)
 ...I X=""!(X="I") S I1=1
"RTN","DGRPC",87,0)
 K ^TMP($J,"SDAMA301")
"RTN","DGRPC",88,0)
 I I1 S X=17 D COMB
"RTN","DGRPC",89,0)
 ;
"RTN","DGRPC",90,0)
END      ; end of routine...find next check to execute (or goto end)
"RTN","DGRPC",91,0)
 S:DGNCK DGLST=35 G:DGCHK'[",35,"&(DGNCK) FIND^DGRPC2 D NEXT G @DGLST
"RTN","DGRPC",92,0)
 ;
"RTN","DGRPC",93,0)
COMB     ;record inconsistency
"RTN","DGRPC",94,0)
 S DGCT=DGCT+1,DGER=DGER_X_",",DGLST=X Q
"RTN","DGRPC",95,0)
 Q
"RTN","DGRPC",96,0)
 ;
"RTN","DGRPC",97,0)
NEXT     ; find the next consistency check to check (goto end if can't process further)
"RTN","DGRPC",98,0)
 S I=$F(DGCHK,(","_DGLST_",")),DGLST=+$E(DGCHK,I,999) I +DGLST,DGLST<18 Q
"RTN","DGRPC",99,0)
 I +DGLST,DGNCK,+DGLST>17,+DGLST<36 S DGLST=35 Q:DGCHK'[",35,"  G NEXT
"RTN","DGRPC",100,0)
 S:'+DGLST DGLST="END^DGRPC3" I +DGLST S DGLST=DGLST_"^DGRPC"_$S(+DGLST<43:1,+DGLST<79:2,1:3)
"RTN","DGRPC",101,0)
 Q
"RTN","DGRPC",102,0)
 ;
"RTN","DGRPC",103,0)
PAT      ;check inconsistencies for a selected patient
"RTN","DGRPC",104,0)
 D ON G KVAR^DGRPCE:DGER W !! S DIC="^DPT(",DIC(0)="AEQMZ",DIC("A")="Check consistency for which PATIENT: " D ^DIC K DIC G KVAR^DGRPCE:Y'>0 S DFN=+Y,DGEDCN=1 D DGRPC G PAT
"RTN","DGRPC",105,0)
 ;
"RTN","DGRPC",106,0)
START    ;record start time for checker
"RTN","DGRPC",107,0)
 S DGSTART=$H Q
"RTN","DGRPC",108,0)
 ;
"RTN","DGRPC",109,0)
TIME     ;record end time for checker
"RTN","DGRPC",110,0)
 Q:'$D(DGSTART)#2  S DGEND=$H,X=$P(DGSTART,",",2),X1=$P(DGEND,",",2)
"RTN","DGRPC",111,0)
 I +DGSTART=+DGEND S DGTIME=X1-X
"RTN","DGRPC",112,0)
 E  S DGTIME=(5184000-X)+X1
"RTN","DGRPC",113,0)
 I $S(DGCT:0,DGCON=1:1,1:0) G TIMEQ
"RTN","DGRPC",114,0)
 W !!,"===> ",$S(DGCT:DGCT,DGCON<2:"No",1:"All")," inconsistenc",$S(DGCT=1:"y",1:"ies")," ",$S('DGCON:"found",DGCON=1:"filed",1:"removed")," in ",DGTIME," second",$S(DGTIME=1:"",1:"s"),"..." H 1
"RTN","DGRPC",115,0)
TIMEQ    K DGSTART,DGEND,DGTIME,X,X1,DGCON Q
"RTN","DGRPC",116,0)
 ;
"RTN","DGRPC",117,0)
ON       ;check if checker is on
"RTN","DGRPC",118,0)
 S DGER=0 I $S('$D(^DG(43,1,0)):1,'$P(^(0),"^",37):1,1:0) S DGER=1
"RTN","DGRPC",119,0)
 S:'$D(DGEDCN) DGEDCN=0 W:DGER !!,"CONSISTENCY CHECKER TURNED OFF!!",$C(7) Q
"RTN","DGRPC3")
0^6^B55911726^B40710915
"RTN","DGRPC3",1,0)
DGRPC3   ;ALB/PJR,LBD,BAJ,TDM - CHECK CONSISTENCY OF PATIENT DATA (CONT) ; 10/20/10 3:40pm
"RTN","DGRPC3",2,0)
 ;;5.3;Registration;**451,632,673,657,688,754,797,867**;Aug 13, 1993;Build 56
"RTN","DGRPC3",3,0)
 ;
"RTN","DGRPC3",4,0)
79       ;; MSE Dates overlap
"RTN","DGRPC3",5,0)
 ;; Don't check if MSE Dates Incomplete or if MSE TO precedes FROM
"RTN","DGRPC3",6,0)
 ;; or unless at least 2 ranges
"RTN","DGRPC3",7,0)
 S:'$G(MSECHK) MSECHK=$$MSCK^DGMSCK I MSDATERR!($L(ANYMSE)<2) D NEXT G @DGLST
"RTN","DGRPC3",8,0)
 ;Use MSE data in DGPMSE array, if it exists (DG*5.3*797)
"RTN","DGRPC3",9,0)
 I $D(DGPMSE) D  D NEXT G @DGLST
"RTN","DGRPC3",10,0)
 .N MS,MSE,OUT S MS=0 F  S MS=$O(DGPMSE(MS)) Q:'MS!($G(OUT))  D
"RTN","DGRPC3",11,0)
 ..I $P(DGPMSE(MS),U,7) Q  ;Don't check MSE verified by HEC
"RTN","DGRPC3",12,0)
 ..S MSE=$O(DGPMSE(MS,0)) Q:'MSE
"RTN","DGRPC3",13,0)
 ..I '$$OVRLPCHK^DGRPDT(DFN,$P(DGPMSE(MS),U),$P(DGPMSE(MS),U,2),1,"","",MSE) S X=79 D COMB S (MSERR,OUT)=1 Q
"RTN","DGRPC3",14,0)
 ;Otherwise, use MSE data in DGP(.32)
"RTN","DGRPC3",15,0)
 I ANYMSE[1,'$$OVRLPCHK^DGRPDT(DFN,$P(DGP(.32),"^",6),$P(DGP(.32),"^",7),1,".326^.327") S X=79 D COMB S MSERR=1 D NEXT G @DGLST
"RTN","DGRPC3",16,0)
 I ANYMSE'[1,'$$OVRLPCHK^DGRPDT(DFN,$P(DGP(.32),"^",11),$P(DGP(.32),"^",12),1,".3292^.3293") S X=79 D COMB S MSERR=1 D NEXT G @DGLST
"RTN","DGRPC3",17,0)
 D NEXT G @DGLST
"RTN","DGRPC3",18,0)
80       ;; POW Dates not within MSE
"RTN","DGRPC3",19,0)
 ;; Check turned off by EVC project (DG*5.3*688)
"RTN","DGRPC3",20,0)
 D NEXT G @DGLST
"RTN","DGRPC3",21,0)
81       ;; Combat Dates not within MSE
"RTN","DGRPC3",22,0)
 I '$P(DGP(.52),"^",12) D NEXT G @DGLST ;; Don't check if no COMBAT Data
"RTN","DGRPC3",23,0)
 ;; Don't check if COMBAT Data Incomplete or if COMBAT TO precedes FROM
"RTN","DGRPC3",24,0)
 I ((","_DGER_",")[(",39,"))!((","_DGER_",")[(",40,")) D NEXT G @DGLST
"RTN","DGRPC3",25,0)
 S:'$G(MSECHK) MSECHK=$$MSCK^DGMSCK S:'$G(MSESET) MSESET=$$MSFROMTO^DGMSCK
"RTN","DGRPC3",26,0)
 ;; If COMBAT, but no MSE, then Range is NOT within MSE
"RTN","DGRPC3",27,0)
 I 'ANYMSE S X=81 D COMB D NEXT G @DGLST
"RTN","DGRPC3",28,0)
 I '$$RWITHIN^DGRPDT($P(MSESET,"^",1),$P(MSESET,"^",2),$P(DGP(.52),"^",13),$P(DGP(.52),"^",14)) S X=81 D COMB
"RTN","DGRPC3",29,0)
 D NEXT G @DGLST
"RTN","DGRPC3",30,0)
82       ;; Conflict Dates not within MSE
"RTN","DGRPC3",31,0)
 S:'$G(CONCHK) CONCHK=$$CNCK^DGMSCK
"RTN","DGRPC3",32,0)
 S:'$G(MSECHK) MSECHK=$$MSCK^DGMSCK S:'$G(MSESET) MSESET=$$MSFROMTO^DGMSCK
"RTN","DGRPC3",33,0)
 S LOC="",I2=0 F I1=1:1 S LOC=$O(CONSPEC(LOC)) Q:LOC=""  I CONARR(LOC)=1 D
"RTN","DGRPC3",34,0)
 .N FROMDAT,FROMPC,TODAT,TOPC,NODE,DATA
"RTN","DGRPC3",35,0)
 .S DATA=CONSPEC(LOC)
"RTN","DGRPC3",36,0)
 .S NODE=$P(DATA,",",1),FROMPC=$P(DATA,",",3),TOPC=$P(DATA,",",4)
"RTN","DGRPC3",37,0)
 .S FROMDAT=$P(DGP(NODE),"^",FROMPC),TODAT=$P(DGP(NODE),"^",TOPC)
"RTN","DGRPC3",38,0)
 .I '$$RWITHIN^DGRPDT($P(MSESET,"^",1),$P(MSESET,"^",2),FROMDAT,TODAT) S X=82 D COMB:'I2 S CONARR(LOC)=2,I2=1
"RTN","DGRPC3",39,0)
 .Q
"RTN","DGRPC3",40,0)
 ; Check OIF/OEF conflict dates
"RTN","DGRPC3",41,0)
 N DGOEIF D GET^DGENOEIF(DFN,.DGOEIF,0,"",0)
"RTN","DGRPC3",42,0)
 I $G(DGOEIF("COUNT")),DGER'[",82," D
"RTN","DGRPC3",43,0)
 . N Z
"RTN","DGRPC3",44,0)
 . S Z=0 F  S Z=$O(DGOEIF("IEN",Z)) Q:'Z  D  Q:DGER[",82,"
"RTN","DGRPC3",45,0)
 .. S FROMDAT=$G(DGOEIF("FR",Z)),TODAT=$G(DGOEIF("TO",Z)),LOC=$G(DGOEIF("LOC",Z))
"RTN","DGRPC3",46,0)
 .. I '$$RWITHIN^DGRPDT($P(MSESET,"^",1),$P(MSESET,"^",2),FROMDAT,TODAT) S X=82 D COMB S I2=1
"RTN","DGRPC3",47,0)
 D NEXT G @DGLST
"RTN","DGRPC3",48,0)
83       ;Merchant Seaman or Filipino Vet BOS requires service dates during WWII
"RTN","DGRPC3",49,0)
 N BOS,BOSN,MS,MSE,OUT
"RTN","DGRPC3",50,0)
 ;Use MSE data from DGPMSE array, if it exists (DG*5.3*797)
"RTN","DGRPC3",51,0)
 I $D(DGPMSE) D  D NEXT G @DGLST
"RTN","DGRPC3",52,0)
 .S MS=0 F  S MS=$O(DGPMSE(MS)) Q:'MS!($G(OUT))  D
"RTN","DGRPC3",53,0)
 ..I $P(DGPMSE(MS),U,7) Q  ;Don't check MSE if verified by HEC
"RTN","DGRPC3",54,0)
 ..S BOS=$P(DGPMSE(MS),U,3) Q:'BOS  S BOSN=$P(^DIC(23,BOS,0),U)
"RTN","DGRPC3",55,0)
 ..S MSE=$O(DGPMSE(MS,0)) Q:'MSE  S MSE="MSE-"_MSE
"RTN","DGRPC3",56,0)
 ..I $$BRANCH^DGRPMS(BOS_U_BOSN),'$$WWII^DGRPMS(DFN,"",MSE) S X=83 D COMB S OUT=1 Q
"RTN","DGRPC3",57,0)
 ;Otherwise, get MSE data from DGP(.32)
"RTN","DGRPC3",58,0)
 F MS=1:1:3 D  Q:$G(OUT)
"RTN","DGRPC3",59,0)
 .I MS=2,$P(DGP(.32),U,19)'="Y" S OUT=1 Q
"RTN","DGRPC3",60,0)
 .I MS=3,$P(DGP(.32),U,20)'="Y" S OUT=1 Q
"RTN","DGRPC3",61,0)
 .S BOS=$P(DGP(.32),U,(5*MS)) Q:'BOS  S BOSN=$P($G(^DIC(23,BOS,0)),U)
"RTN","DGRPC3",62,0)
 .S MSE=$S(MS=1:"MSL",MS=2:"MSNTL",1:"MSNNTL")
"RTN","DGRPC3",63,0)
 .I $$BRANCH^DGRPMS(BOS_U_BOSN),'$$WWII^DGRPMS(DFN,"",MSE) S X=83 D COMB S OUT=1 Q
"RTN","DGRPC3",64,0)
 D NEXT G @DGLST
"RTN","DGRPC3",65,0)
84       ;Filipino Vet BOS requires Filipino Vet Proof
"RTN","DGRPC3",66,0)
 N MS,BOS,OUT,MSE
"RTN","DGRPC3",67,0)
 ;Use MSE data from DGPMSE array, if it exists (DG*5.3*797)
"RTN","DGRPC3",68,0)
 I $D(DGPMSE) D  D NEXT G @DGLST
"RTN","DGRPC3",69,0)
 .S MS=0 F  S MS=$O(DGPMSE(MS)) Q:'MS!($G(OUT))  D
"RTN","DGRPC3",70,0)
 ..I $P(DGPMSE(MS),U,7) Q  ;Don't check MSE if verified by HEC
"RTN","DGRPC3",71,0)
 ..S BOS=$P(DGPMSE(MS),U,3) Q:'BOS
"RTN","DGRPC3",72,0)
 ..I $$FV^DGRPMS(BOS)=1,$P(DGP(.321),U,14)="" S X=84 D COMB S OUT=1 Q
"RTN","DGRPC3",73,0)
 ;Otherwise use MSE data in DGP(.32)
"RTN","DGRPC3",74,0)
 F MS=1:1:3 D  Q:$G(OUT)
"RTN","DGRPC3",75,0)
 .I MS=2,$P(DGP(.32),U,19)'="Y" S OUT=1 Q
"RTN","DGRPC3",76,0)
 .I MS=3,$P(DGP(.32),U,20)'="Y" S OUT=1 Q
"RTN","DGRPC3",77,0)
 .S BOS=$P(DGP(.32),U,(5*MS))
"RTN","DGRPC3",78,0)
 .I $$FV^DGRPMS(BOS)=1,$P(DGP(.321),U,14)="" S X=84 D COMB S OUT=1 Q
"RTN","DGRPC3",79,0)
 D NEXT G @DGLST
"RTN","DGRPC3",80,0)
85       ;Eligible Filipino Vet should have Veteran status = 'YES'
"RTN","DGRPC3",81,0)
86       ;Ineligible Filipino Vet should have Veteran status = 'NO'
"RTN","DGRPC3",82,0)
 N MS,BOS,FV,FILV,NOTFV,MSE,OUT
"RTN","DGRPC3",83,0)
 ;Use MSE data from DGPMSE array, if it exists (DG*5.3*797)
"RTN","DGRPC3",84,0)
 I $D(DGPMSE) D
"RTN","DGRPC3",85,0)
 .S MS=0 F  S MS=$O(DGPMSE(MS)) Q:'MS!($G(OUT))  D
"RTN","DGRPC3",86,0)
 ..I $P(DGPMSE(MS),U,7) Q  ;Don't check MSE if verified by HEC
"RTN","DGRPC3",87,0)
 ..S BOS=$P(DGPMSE(MS),U,3),FV=$$FV^DGRPMS(BOS) I 'FV S NOTFV="" Q
"RTN","DGRPC3",88,0)
 ..S MSE=$O(DGPMSE(MS,0)) Q:'MSE  S MSE="MSE-"_MSE
"RTN","DGRPC3",89,0)
 ..I '$$WWII^DGRPMS(DFN,"",MSE) S FILV("I")="" Q
"RTN","DGRPC3",90,0)
 ..I FV=2 S FILV("E")="" Q
"RTN","DGRPC3",91,0)
 ..I $P(DGP(.321),U,14)=""!($P(DGP(.321),U,14)="NO") S FILV("I")="" Q
"RTN","DGRPC3",92,0)
 ..S FILV("E")=""
"RTN","DGRPC3",93,0)
 ;Otherwise, get MSE data from DGP(.32)
"RTN","DGRPC3",94,0)
 E  F MS=1:1:3 D  Q:$G(OUT)
"RTN","DGRPC3",95,0)
 .I MS=2,$P(DGP(.32),U,19)'="Y" S OUT=1 Q
"RTN","DGRPC3",96,0)
 .I MS=3,$P(DGP(.32),U,20)'="Y" S OUT=1 Q
"RTN","DGRPC3",97,0)
 .S BOS=$P(DGP(.32),U,(5*MS)),FV=$$FV^DGRPMS(BOS) I 'FV S NOTFV="" Q
"RTN","DGRPC3",98,0)
 .S MSE=$S(MS=1:"MSL",MS=2:"MSNTL",1:"MSNNTL")
"RTN","DGRPC3",99,0)
 .I '$$WWII^DGRPMS(DFN,"",MSE) S FILV("I")="" Q
"RTN","DGRPC3",100,0)
 .I FV=2 S FILV("E")="" Q
"RTN","DGRPC3",101,0)
 .I $P(DGP(.321),U,14)=""!($P(DGP(.321),U,14)="NO") S FILV("I")="" Q
"RTN","DGRPC3",102,0)
 .S FILV("E")=""
"RTN","DGRPC3",103,0)
 I $D(FILV) D
"RTN","DGRPC3",104,0)
 .I DGVT'=1,$D(FILV("E")) S X=85 D COMB Q
"RTN","DGRPC3",105,0)
 .I DGCHK'[(",86,") Q
"RTN","DGRPC3",106,0)
 .I DGVT=1,'$D(NOTFV),'$D(FILV("E")),$D(FILV("I")) S X=86 D COMB
"RTN","DGRPC3",107,0)
 S DGLST=86
"RTN","DGRPC3",108,0)
 D NEXT G @DGLST
"RTN","DGRPC3",109,0)
87       ; DG*5.3*657 BAJ 11/24/2005 CC #87 added
"RTN","DGRPC3",110,0)
 ; SC Eligibility but no rated Disability Codes
"RTN","DGRPC3",111,0)
 ; 1. Svc Connected is answered "YES"
"RTN","DGRPC3",112,0)
 ; 2. Eligibility code is either SC < 50% or SC 50-100%
"RTN","DGRPC3",113,0)
 ; 3. Svc connected %-age is 0 or greater
"RTN","DGRPC3",114,0)
 ; 4. Patient has no rated disabilities
"RTN","DGRPC3",115,0)
 ; .. VAEL(1) $P 1 = Primary Eligibility Code  $p 2 = Primary Elig External Value
"RTN","DGRPC3",116,0)
 ; .. VAEL(3) $P 1 = SERVICE CONNECTED? $P 2 = SC %
"RTN","DGRPC3",117,0)
 ; .. Rated Disabilities : ^DPT(DFN,.372,0) $P 4 is number of records  '($P($G(^DPT(DFN,.372,0)),"^",4)) is TRUE
"RTN","DGRPC3",118,0)
 ;
"RTN","DGRPC3",119,0)
 ; Get Eligibility info
"RTN","DGRPC3",120,0)
 D ELIG^VADPT
"RTN","DGRPC3",121,0)
 ;
"RTN","DGRPC3",122,0)
 ; If not svc connected, don't check
"RTN","DGRPC3",123,0)
 I '$G(VAEL(3)) D NEXT G @DGLST
"RTN","DGRPC3",124,0)
 ;
"RTN","DGRPC3",125,0)
 I +VAEL(3)=1!(+VAEL(3)=3) D
"RTN","DGRPC3",126,0)
 . Q:$P(VAEL(3),"^",2)<0
"RTN","DGRPC3",127,0)
 . Q:$P(VAEL(3),"^",2)=""
"RTN","DGRPC3",128,0)
 . I '($P($G(^DPT(DFN,.372,0)),"^",4)) S X=87 D COMB
"RTN","DGRPC3",129,0)
 D NEXT G @DGLST
"RTN","DGRPC3",130,0)
 ;
"RTN","DGRPC3",131,0)
88       ;Temporary Address check
"RTN","DGRPC3",132,0)
 N STR88,J,DGI,DGERR,START,END
"RTN","DGRPC3",133,0)
 S DGERR=0
"RTN","DGRPC3",134,0)
 I $P(DGP(.121),U,9)="Y" D
"RTN","DGRPC3",135,0)
 . ;check only if current date is within effective range
"RTN","DGRPC3",136,0)
 . S START=$P(DGP(.121),U,7),END=$P(DGP(.121),U,8)
"RTN","DGRPC3",137,0)
 . Q:START=""  I END="" S END=9999999
"RTN","DGRPC3",138,0)
 . ; quit if current date is not within range
"RTN","DGRPC3",139,0)
 . I '(DT'<START&(DT'>END)) Q
"RTN","DGRPC3",140,0)
 . ; country is either NULL or non-numeric
"RTN","DGRPC3",141,0)
 . I '$P(DGP(.122),U,3) S DGERR=1 Q
"RTN","DGRPC3",142,0)
 . ; country is not in Country file
"RTN","DGRPC3",143,0)
 . I '$D(^HL(779.004,$P(DGP(.122),U,3))) S DGERR=1 Q
"RTN","DGRPC3",144,0)
 . S STR88="1,4,5,6" I $$FORIEN^DGADDUTL($P(DGP(.122),"^",3)) S STR88="1,4"
"RTN","DGRPC3",145,0)
 . F J=1:1:$L(STR88,",") S DGI=$P(STR88,",",J) Q:DGERR  I $P(DGP(.121),U,DGI)="" S DGERR=1
"RTN","DGRPC3",146,0)
 I DGERR S X=88 D COMB
"RTN","DGRPC3",147,0)
 D NEXT G @DGLST
"RTN","DGRPC3",148,0)
99       ; synonymous with END
"RTN","DGRPC3",149,0)
END      I DGNCK S X=99 D COMB
"RTN","DGRPC3",150,0)
 D OVER99CK
"RTN","DGRPC3",151,0)
 I DGEDCN S DGCON=0 D TIME^DGRPC
"RTN","DGRPC3",152,0)
 K C,C1,C2,DGCD,DGD,DGD1,DGD2,DGDATE,DGDEP,DGCHK,DGFL,DGINC,DGISYR,DGLST,DGMS,DGNCK,DGP,DGPMSE,DGPTYP,DGREL,DGSCT,DGT,DGTIME,DGTOT,DGVT,I,I2,I2,J,VAIN,X,X1
"RTN","DGRPC3",153,0)
 G ^DGRPCF
"RTN","DGRPC3",154,0)
 ;
"RTN","DGRPC3",155,0)
COMB     S DGCT=DGCT+1,DGER=DGER_X_",",DGLST=X Q
"RTN","DGRPC3",156,0)
 ;;
"RTN","DGRPC3",157,0)
NEXT     S I=$F(DGCHK,(","_+DGLST_",")),DGLST=+$E(DGCHK,I,999) S:'DGLST DGLST="END"
"RTN","DGRPC3",158,0)
 Q
"RTN","DGRPC3",159,0)
 ;
"RTN","DGRPC3",160,0)
OVER99CK N DGP,DGSD,RULE,FILERR
"RTN","DGRPC3",161,0)
 D LOADPT^IVMZ07C(DFN,.DGP),LOADSD^IVMZ072(DFN,.DGSD)
"RTN","DGRPC3",162,0)
 F RULE=301,303,304,306:1:308 S DGLST=RULE_"^IVMZ7CD" D @DGLST I $D(FILERR(RULE)) S X=RULE D COMB
"RTN","DGRPC3",163,0)
 F RULE=402,403,406,407 S DGLST=RULE_"^IVMZ7CE" D @DGLST I $D(FILERR(RULE)) S X=RULE D COMB
"RTN","DGRPC3",164,0)
 F RULE=501:1:507,516,517 S DGLST=RULE_"^IVMZ7CS" D @DGLST I $D(FILERR(RULE)) S X=RULE D COMB
"RTN","DGRPC3",165,0)
 F RULE=313 S DGLST=RULE_"^DGRPC3" D @DGLST I $D(FILERR(RULE)) S X=RULE D COMB
"RTN","DGRPC3",166,0)
 F RULE=314 S DGLST=RULE_"^DGRPC3" D @DGLST I $D(FILERR(RULE)) S X=RULE D COMB
"RTN","DGRPC3",167,0)
 S DGLST="END"
"RTN","DGRPC3",168,0)
 Q
"RTN","DGRPC3",169,0)
 ;
"RTN","DGRPC3",170,0)
313 ; NEWBORN REQUIRES SPONSOR
"RTN","DGRPC3",171,0)
 N X
"RTN","DGRPC3",172,0)
 S DOB=$P(^DPT(DFN,0),"^",3)
"RTN","DGRPC3",173,0)
 D NOW^%DTC
"RTN","DGRPC3",174,0)
 S NOW=X
"RTN","DGRPC3",175,0)
 I $$FMDIFF^XLFDT(NOW,DOB,1)>365 Q  ;NOT A NEWBORN
"RTN","DGRPC3",176,0)
 I $D(^IBA(355.81,"B",DFN)) Q  ;already has a sponsor
"RTN","DGRPC3",177,0)
 S FILERR(RULE)=""
"RTN","DGRPC3",178,0)
 Q
"RTN","DGRPC3",179,0)
 ; 
"RTN","DGRPC3",180,0)
314  ;NEWBORN SPONSOR MUST BE ELIGIBLE
"RTN","DGRPC3",181,0)
 I '$D(^IBA(355.81,"B",DFN)) Q  ;Does not have a sponsor
"RTN","DGRPC3",182,0)
 N X
"RTN","DGRPC3",183,0)
 S DOB=$P(^DPT(DFN,0),"^",3)
"RTN","DGRPC3",184,0)
 D NOW^%DTC
"RTN","DGRPC3",185,0)
 S NOW=X
"RTN","DGRPC3",186,0)
 I $$FMDIFF^XLFDT(NOW,DOB,1)>365 Q  ;NOT A NEWBORN
"RTN","DGRPC3",187,0)
 N RELIEN,SPNIEN,SPNDFN,ELIG
"RTN","DGRPC3",188,0)
 ;NEED TO FIND SPONSOR IN PATIENT FILE
"RTN","DGRPC3",189,0)
 S RELIEN="",SPNIEN="",SPNDFN="",ELIG=""
"RTN","DGRPC3",190,0)
 S RELIEN=$O(^IBA(355.81,"B",DFN,RELIEN))
"RTN","DGRPC3",191,0)
 S SPNIEN=$$GET1^DIQ(355.81,RELIEN,.02,"I")
"RTN","DGRPC3",192,0)
 S SPNDFN=$$GET1^DIQ(355.8,SPNIEN,.01,"I")
"RTN","DGRPC3",193,0)
 S SPNDFN=$P(SPNDFN,";",1)
"RTN","DGRPC3",194,0)
 S ELIG=$$GET1^DIQ(2,SPNDFN,.3611,"I")
"RTN","DGRPC3",195,0)
 I ELIG'="" Q  ;sponsor has an eligibility status
"RTN","DGRPC3",196,0)
 S FILERR(RULE)=""
"RTN","DGRPC3",197,0)
 Q
"RTN","DGRPC3",198,0)
 ;
"RTN","DGRPCF")
0^7^B26163167^B24182202
"RTN","DGRPCF",1,0)
DGRPCF ;ALB/MRL,BAJ,TDM - CONSISTENCY OF PATIENT DATA (FILE/EDIT) ;6/17/09 12:28pm
"RTN","DGRPCF",2,0)
 ;;5.3;Registration;**250,653,786,754,867**;Aug 13, 1993;Build 56
"RTN","DGRPCF",3,0)
 ;
"RTN","DGRPCF",4,0)
 ; file new inconsistencies or update file entries for patient
"RTN","DGRPCF",5,0)
 ;
"RTN","DGRPCF",6,0)
 ; DGCT = count of inconsistencies found (passed in from checker)
"RTN","DGRPCF",7,0)
 ; DGCT1= count of inconsistencies which can't be edited because
"RTN","DGRPCF",8,0)
 ;        user does not hold appropriate key
"RTN","DGRPCF",9,0)
 ; DGCT2= count of already filed inconsistencies
"RTN","DGRPCF",10,0)
 ; DGCT3= count of inconsistencies which are uneditable through
"RTN","DGRPCF",11,0)
 ;        checker options
"RTN","DGRPCF",12,0)
 ; DGCTZ7= count of inconsistencies found that will prevent Z07
"RTN","DGRPCF",13,0)
 ;
"RTN","DGRPCF",14,0)
 ;
"RTN","DGRPCF",15,0)
 ; 
"RTN","DGRPCF",16,0)
EN I '$D(DGCT) G KVAR^DGRPCE
"RTN","DGRPCF",17,0)
 ; DG*5.3*653 BAJ modified to delete only inconsistencies numbered 99 or less
"RTN","DGRPCF",18,0)
 N DGADD S DGADD=0 ;786 corrects problem with incorrect header
"RTN","DGRPCF",19,0)
 ;I 'DGCT,$O(^DGIN(38.5,DFN,"I",""),-1)>99 D DELETE G KVAR^DGRPCE
"RTN","DGRPCF",20,0)
 I 'DGCT D DELETE G KVAR^DGRPCE
"RTN","DGRPCF",21,0)
 S DGEDCN=+$G(DGEDCN),DGRPOUT=+$G(DGRPOUT),DGCON=1 D:DGEDCN START^DGRPC I 'DGCT D ^DGRPCF1,TIMEQ^DGRPC G KVAR^DGRPCE
"RTN","DGRPCF",22,0)
 S:'$D(^DGIN(38.5,DFN,0)) ^(0)=DFN_"^"_DT_"^"_$S(('$D(DUZ)#2):"",1:DUZ),DGADD=1 S X=$P(^(0),"^",4),^DGIN(38.5,DFN,0)=$P(^(0),"^",1,3)_"^"_DT_"^"_$S(('$D(DUZ)#2):"",1:DUZ)_"^"_$P(^(0),"^",6) K ^DGIN(38.5,"AC",9999999-X,DFN)
"RTN","DGRPCF",23,0)
 S ^DGIN(38.5,"B",DFN,DFN)="",^DGIN(38.5,"AC",9999999-DT,DFN)="",^DGIN(38.5,0)=$P(^DGIN(38.5,0),"^",1,2)_"^"_DFN_"^"_($P(^(0),"^",4)+DGADD) ;786 corrected for incorrect header
"RTN","DGRPCF",24,0)
 I $D(^DGIN(38.5,DFN,"I")) D DELETE
"RTN","DGRPCF",25,0)
 S DGD2=0 F DGD=1:1 S DGD1=$P(DGER,",",DGD) Q:DGD1=""  I $D(^DGIN(38.6,DGD1,0)) S DGD2=DGD1 S ^DGIN(38.5,DFN,"I",DGD1,0)=DGD1
"RTN","DGRPCF",26,0)
 S ^DGIN(38.5,DFN,"I",0)="^38.51PA^"_DGD2_"^"_DGCT I DGCT,DGEDCN G DIS
"RTN","DGRPCF",27,0)
 G KVAR^DGRPCE
"RTN","DGRPCF",28,0)
 ;
"RTN","DGRPCF",29,0)
DIS D TIME^DGRPC S DGRPE=$S($D(DGRPE):DGRPE+1,1:0) D KEY S IOP="HOME" D ^%ZIS K IOP W @IOF,! D DEM^VADPT W VADM(1)," (",$P(VADM(2),"^",2),")",?65,$P(VADM(3),"^",2) S X="",$P(X,"=",79)="" W !,X
"RTN","DGRPCF",30,0)
 S (C,DGCT1,DGCT2,DGCT3,DGCTZ7)=0,DGEDIT="0000000011111110011111113333222223313333332222220030000" F I=1:1 S J=$P(DGER,",",I) Q:J=""  I $D(^DGIN(38.6,J,0)) S X2=$P(^(0),"^",1) D WRIT
"RTN","DGRPCF",31,0)
 I DGCT1!DGCT3 W ! D NOEDIT
"RTN","DGRPCF",32,0)
 I DGCTZ7 W !!,"Inconsistencies followed by [+] will prevent a Z07"
"RTN","DGRPCF",33,0)
 S DGINC55=$S(DGER'[55:0,($G(DGRPVV(9))'["0"):0,1:1)
"RTN","DGRPCF",34,0)
EDIT G:DGRPOUT BUL I DGCT1+DGCT3'=DGCT W !!,"DO YOU WANT TO UPDATE THESE INCONSISTENCIES NOW" S %=1 D YN^DICN I %=1 D  G ^DGRPC
"RTN","DGRPCF",35,0)
 . S DGINC55=$S(DGER'[55:0,($G(DGRPVV(9))'["0"):0,1:1)
"RTN","DGRPCF",36,0)
 . L +^DPT(DFN):3 E  W *7,!!,"Patient is being edited. Try again later."  S DGEDCN=0 Q
"RTN","DGRPCF",37,0)
 . D ^DGRPCE
"RTN","DGRPCF",38,0)
 . L -^DPT(DFN)
"RTN","DGRPCF",39,0)
 . S DGEDCN=1
"RTN","DGRPCF",40,0)
 I $S(($G(DGRETURN)>10):0,$G(DGINC55):1,1:0) D
"RTN","DGRPCF",41,0)
 .N DIR
"RTN","DGRPCF",42,0)
 .S DIR(0)="Y",DIR("A")="Do you wish to return to Screen #9 to enter missing Income Data? ",DIR("B")="YES" D ^DIR
"RTN","DGRPCF",43,0)
 .S:Y>0 DGRPV=0
"RTN","DGRPCF",44,0)
 .S:Y>0 DGRETURN=$G(DGRETURN)+1
"RTN","DGRPCF",45,0)
 I $S($G(Y)'>0:0,(DGRETURN>11):0,1:1) D ^DGRPV G ^DGRP9
"RTN","DGRPCF",46,0)
 I DGCT1+DGCT3'=DGCT,'% W !!?4,"YES - To correct inconsistencies to unrestricted fields immediately.",!?4,"NO  - To abort this process immediately." G EDIT
"RTN","DGRPCF",47,0)
 I DGER[313 D
"RTN","DGRPCF",48,0)
 . N DIR
"RTN","DGRPCF",49,0)
 . S DIR(0)="Y",DIR("A")="Do you wish to return to Screen #15 to enter Sponsor information? ",DIR("B")="YES" D ^DIR
"RTN","DGRPCF",50,0)
 . S:Y>0 DGRPV=0
"RTN","DGRPCF",51,0)
 . S:Y>0 DGRETURN=$G(DGRETURN)+1
"RTN","DGRPCF",52,0)
 I $G(Y)>0&(DGER[313) D ^DGRPV G ^DGRP15
"RTN","DGRPCF",53,0)
BUL K DGRETURN,X,Y D ^DGRPCB G KVAR^DGRPCE
"RTN","DGRPCF",54,0)
 ;
"RTN","DGRPCF",55,0)
WRIT ;S C=C+1 W:(C#2) ! S X1=$S((C#2):0,1:40) W ?X1,$E(J_"  ",1,3),"- ",X2 I DGKEY(+$E(DGEDIT,J)) W "*" S DGCT1=DGCT1+1
"RTN","DGRPCF",56,0)
 S C=C+1 W:(C#2) ! S X1=$S((C#2):0,1:40) W ?X1,$E(J_"  ",1,3),"- "
"RTN","DGRPCF",57,0)
 W X2 I DGKEY(+$E(DGEDIT,J))!(J=407) W "*" S DGCT1=DGCT1+1
"RTN","DGRPCF",58,0)
 I "^17^55^313^314^"[("^"_+J_"^") W "**" S DGCT3=DGCT3+1
"RTN","DGRPCF",59,0)
 I +$P(DGRPCOLD,",",2),DGRPCOLD'[(","_J_",") S DGCT2=DGCT2+1
"RTN","DGRPCF",60,0)
 I $P($G(^DGIN(38.6,J,0)),"^",6) W "+" S DGCTZ7=DGCTZ7+1
"RTN","DGRPCF",61,0)
 Q
"RTN","DGRPCF",62,0)
KEY S X=$S(('$D(DUZ)#2):1,'$D(^XUSEC("DG ELIGIBILITY",DUZ)):1,1:0) F I=.3,.32,.361 S DGP(I)=$S($D(^DPT(DFN,I)):^(I),1:"")
"RTN","DGRPCF",63,0)
 F I=0:1:4 S DGKEY(I)=""
"RTN","DGRPCF",64,0)
 I $P(DGP(.361),"^",1)="V",X S DGKEY(1)=1
"RTN","DGRPCF",65,0)
 I $P(DGP(.3),"^",6)]"",X S DGKEY(2)=1
"RTN","DGRPCF",66,0)
 I $P(DGP(.32),"^",2)]"",X S DGKEY(3)=1
"RTN","DGRPCF",67,0)
 S:'X DGKEY(4)=1 K DGP Q
"RTN","DGRPCF",68,0)
 ;
"RTN","DGRPCF",69,0)
DELETE ; Delete all Registration inconsistencies from INCONSISTENT DATA file (#38.5).
"RTN","DGRPCF",70,0)
 ; 
"RTN","DGRPCF",71,0)
 ;
"RTN","DGRPCF",72,0)
 N RULE,DIK,DA
"RTN","DGRPCF",73,0)
 ;
"RTN","DGRPCF",74,0)
 S RULE=0,DA=""
"RTN","DGRPCF",75,0)
 S DIK="^DGIN(38.5,"_DFN_","_"""I"""_","
"RTN","DGRPCF",76,0)
 ;F  S RULE=$O(^DGIN(38.5,DFN,"I",RULE)) Q:RULE=""  Q:RULE>99  S DA=RULE D ^DIK
"RTN","DGRPCF",77,0)
 F  S RULE=$O(^DGIN(38.5,DFN,"I",RULE)) Q:RULE=""  D
"RTN","DGRPCF",78,0)
 . I RULE>99,OVER99'[(","_RULE_",") Q
"RTN","DGRPCF",79,0)
 . S DA=RULE D ^DIK
"RTN","DGRPCF",80,0)
 Q
"RTN","DGRPCF",81,0)
 ;
"RTN","DGRPCF",82,0)
NOEDIT ; write explanation of non-editable items
"RTN","DGRPCF",83,0)
 I DGCT1 W !,"You will not be able to edit inconsistencies followed by an asterisk [*]",!,"as you do not hold the appropriate ""DG ELIGIBILITY"" security key."
"RTN","DGRPCF",84,0)
 I DGCT3 W !,"Inconsistencies followed by two (2) asterisks [**] must be corrected by",!,"using the appropriate MAS menu option(s)."
"RTN","DGRPCF",85,0)
 I DGCT1+DGCT3'=DGCT W !!,"All items not followed by an asterisk can be edited at this time.  If these",!,"items are not corrected at this time, a bulletin will be sent to the",!,"appropriate hospital personnel."
"RTN","DGRPCF",86,0)
 ;;QUIT
"VER")
8.0^22.0
"^DD",38.6,38.6,0)
FIELD^^50^8
"^DD",38.6,38.6,0,"DDA")
N
"^DD",38.6,38.6,0,"IX","B",38.6,.01)

"^DD",38.6,38.6,0,"NM","INCONSISTENT DATA ELEMENTS")

"^DD",38.6,38.6,0,"PT",38.51,.01)

"^DD",38.6,38.6,0,"VRPK")
DG
"^DD",38.6,38.6,.001,0)
NUMBER^NJ3,0^^ ^K:+X'=X!(X>999)!(X<1)!(X?.E1"."1N.N) X
"^DD",38.6,38.6,.001,3)
TYPE A WHOLE NUMBER BETWEEN 1 AND 999
"^DD",38.6,38.6,.001,21,0)
^^5^5^2911211^
"^DD",38.6,38.6,.001,21,1,0)
This field contains the internal entry number of the inconsistency.  This
"^DD",38.6,38.6,.001,21,2,0)
number is used by the consistency checker routines to determine what action
"^DD",38.6,38.6,.001,21,3,0)
needs to be taken.  Entries in this file must not be added nor altered in
"^DD",38.6,38.6,.001,21,4,0)
any way as this would cause the consistency checker functionality to act
"^DD",38.6,38.6,.001,21,5,0)
incorrectly.
"^DD",38.6,38.6,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X?1A.E) X
"^DD",38.6,38.6,.01,1,0)
^.1
"^DD",38.6,38.6,.01,1,1,0)
38.6^B
"^DD",38.6,38.6,.01,1,1,1)
S ^DGIN(38.6,"B",$E(X,1,30),DA)=""
"^DD",38.6,38.6,.01,1,1,2)
K ^DGIN(38.6,"B",$E(X,1,30),DA)
"^DD",38.6,38.6,.01,3)
ANSWER MUST BE 3-30 CHARACTERS IN LENGTH
"^DD",38.6,38.6,.01,21,0)
^^4^4^2911211^
"^DD",38.6,38.6,.01,21,1,0)
This field contains the name of the inconsistency that will be reported
"^DD",38.6,38.6,.01,21,2,0)
when utilizing various registration and consistency checker options.  This
"^DD",38.6,38.6,.01,21,3,0)
name will appear on the screen and in a mailmessage should the inconsistency
"^DD",38.6,38.6,.01,21,4,0)
not be reported.
"^DD",38.6,38.6,.01,"DT")
2870513
"^DD",38.6,38.6,2,0)
TEXT^RF^^0;2^K:$L(X)>70!($L(X)<2) X
"^DD",38.6,38.6,2,3)
ANSWER MUST BE 2-70 CHARACTERS IN LENGTH
"^DD",38.6,38.6,2,21,0)
^^2^2^2911211^
"^DD",38.6,38.6,2,21,1,0)
Enter the text for this inconsistency.  This text will display on the
"^DD",38.6,38.6,2,21,2,0)
inconsistent data reports.  It describes how the inconsistency occurs.
"^DD",38.6,38.6,2,"DT")
2870306
"^DD",38.6,38.6,3,0)
KEY REQUIRED^RS^0:NO KEY REQUIRED;1:ELIGIBILITY VERIFIED;2:MONEY VERFIED;3:SERVICE VERIFIED;4:KEY ALWAYS REQUIRED;^0;3^Q
"^DD",38.6,38.6,3,21,0)
^^8^8^2911211^
"^DD",38.6,38.6,3,21,1,0)
Various entries in the PATIENT file become uneditable by certain hospital
"^DD",38.6,38.6,3,21,2,0)
personnel once the data has been verified.  If the data has been verified,
"^DD",38.6,38.6,3,21,3,0)
the user must hold a key in order to make a change to it.  If the
"^DD",38.6,38.6,3,21,4,0)
inconsistency in this file requires a user to hold a key to edit the data
"^DD",38.6,38.6,3,21,5,0)
once it has been verified, that key must be listed here.
"^DD",38.6,38.6,3,21,6,0)
 
"^DD",38.6,38.6,3,21,7,0)
Altering of data in this field could cause data to be edited
"^DD",38.6,38.6,3,21,8,0)
inappropriately.  This field should not be changed!
"^DD",38.6,38.6,3,"DT")
2870312
"^DD",38.6,38.6,4,0)
SET ELIG DR STRING^S^1:YES;0:NO;^0;4^Q
"^DD",38.6,38.6,4,21,0)
^^10^10^2911211^
"^DD",38.6,38.6,4,21,1,0)
If the data required to clean-up this inconsistency requires editing of
"^DD",38.6,38.6,4,21,2,0)
data that is related to eligibility, this field should be answered yes.
"^DD",38.6,38.6,4,21,3,0)
For example, if the inconsistency is 'SC PROMPT UNANSWERED', this field
"^DD",38.6,38.6,4,21,4,0)
would be yes because this prompt is required in order to select a
"^DD",38.6,38.6,4,21,5,0)
patient's eligibility.  If this field is answered yes, all eligibility
"^DD",38.6,38.6,4,21,6,0)
related questions will also be asked.
"^DD",38.6,38.6,4,21,7,0)
 
"^DD",38.6,38.6,4,21,8,0)
Data in this field must not be altered in any way or it could cause
"^DD",38.6,38.6,4,21,9,0)
inaccrarate patient data to be entered on your system.  This data is
"^DD",38.6,38.6,4,21,10,0)
distributed and maintained by the MAS package.
"^DD",38.6,38.6,4,"DT")
2870320
"^DD",38.6,38.6,5,0)
CHECK/DON'T CHECK^S^0:CHECK;1:DON'T CHECK;^0;5^Q
"^DD",38.6,38.6,5,21,0)
^^13^13^2920324^^^
"^DD",38.6,38.6,5,21,1,0)
Answer '0' if you want to check this inconsistency locally or '1'
"^DD",38.6,38.6,5,21,2,0)
if you wish to ignore it whenever found.
"^DD",38.6,38.6,5,21,3,0)
 
"^DD",38.6,38.6,5,21,4,0)
Most checks provide the ability for them to be turned off locally, however,
"^DD",38.6,38.6,5,21,5,0)
there are some consistency checks ('SC PROMPT UNANSWERED', for example)
"^DD",38.6,38.6,5,21,6,0)
which will always be turned on regardless of how this promt is answered.
"^DD",38.6,38.6,5,21,7,0)
 
"^DD",38.6,38.6,5,21,8,0)
This field can be edited at the site level.
"^DD",38.6,38.6,5,21,9,0)
 
"^DD",38.6,38.6,5,21,10,0)
The consistency checks that will always be on are 'VETERAN STATUS
"^DD",38.6,38.6,5,21,11,0)
UNSPECIFIED', 'SC PROMPT UNANSWERED', 'POS UNSPECIFIED', 'ELIG CODE
"^DD",38.6,38.6,5,21,12,0)
UNANSWERED', 'ELIG CODE INCONSISTENT', 'INSURANCE PROMPT UNANSWERED',
"^DD",38.6,38.6,5,21,13,0)
and 'EMPLOYMENT STATUS UNANSWERED'.
"^DD",38.6,38.6,5,"DT")
2870513
"^DD",38.6,38.6,6,0)
USE FOR Z07 CHECK^SI^0:NO;1:YES;^0;6^Q
"^DD",38.6,38.6,6,23,0)
^.001^1^1^3081028^^
"^DD",38.6,38.6,6,23,1,0)
 
"^DD",38.6,38.6,6,"DT")
3081028
"^DD",38.6,38.6,50,0)
DESCRIPTION^38.61^^D;0
"^DD",38.6,38.6,50,21,0)
^^3^3^2911211^
"^DD",38.6,38.6,50,21,1,0)
This field contains a full description of how the inconsistency is
"^DD",38.6,38.6,50,21,2,0)
created.  This data is provided and maintained by the MAS package and
"^DD",38.6,38.6,50,21,3,0)
should not be altered at the site level.
"^DD",38.6,38.61,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",38.6,38.61,0,"NM","DESCRIPTION")

"^DD",38.6,38.61,0,"UP")
38.6
"^DD",38.6,38.61,.01,0)
DESCRIPTION^W^^0;1^Q
"^DD",38.6,38.61,.01,"DT")
2870513
"^DD",43.4,43.4,0)
FIELD^NL^6^7
"^DD",43.4,43.4,0,"DT")
2940808
"^DD",43.4,43.4,0,"ID","WRITE")
W ?50,$P(^("0"),U,3)
"^DD",43.4,43.4,0,"IX","AEDR",43.4,6)

"^DD",43.4,43.4,0,"IX","B",43.4,.01)

"^DD",43.4,43.4,0,"IX","C",43.4,1)

"^DD",43.4,43.4,0,"IX","D",43.4,2)

"^DD",43.4,43.4,0,"NM","VA ADMITTING REGULATION")

"^DD",43.4,43.4,0,"PT",35.1,.01)

"^DD",43.4,43.4,0,"PT",162.4,5)

"^DD",43.4,43.4,0,"PT",405,.12)

"^DD",43.4,43.4,0,"VRPK")
DG
"^DD",43.4,43.4,.001,0)
NUMBER^NJ4,0^^ ^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",43.4,43.4,.001,3)
TYPE A WHOLE NUMBER BETWEEN 1 AND 9999
"^DD",43.4,43.4,.001,21,0)
^^2^2^2920211^
"^DD",43.4,43.4,.001,21,1,0)
The number is the internal reference number assigned by the system
"^DD",43.4,43.4,.001,21,2,0)
as each new entry is added to the file.
"^DD",43.4,43.4,.001,"DT")
2870521
"^DD",43.4,43.4,.01,0)
NAME^R^^0;1^K:$L(X)>30!(+X=X)!($L(X)<3)!'(X'?1P.E)!(X'?.ANP) X
"^DD",43.4,43.4,.01,1,0)
^.1
"^DD",43.4,43.4,.01,1,1,0)
43.4^B
"^DD",43.4,43.4,.01,1,1,1)
S ^DIC(43.4,"B",$E(X,1,30),DA)=""
"^DD",43.4,43.4,.01,1,1,2)
K ^DIC(43.4,"B",$E(X,1,30),DA)
"^DD",43.4,43.4,.01,3)
NAME MUST BE 3-30 CHARACTERS, NOT NUMERIC OR STARTING WITH PUNCTUATION
"^DD",43.4,43.4,.01,21,0)
^^7^7^2920211^
"^DD",43.4,43.4,.01,21,1,0)
The name of the VA Admitting Regulation is derived from the United
"^DD",43.4,43.4,.01,21,2,0)
States Code of Federal Regulations, Title 38.  These admitting
"^DD",43.4,43.4,.01,21,3,0)
regulations are utilized to determine a veteran's type of status at
"^DD",43.4,43.4,.01,21,4,0)
the time of admission to any VA facility.  For example, 'Humanitarian
"^DD",43.4,43.4,.01,21,5,0)
Non-Vet' is the admission of a person who is a non-veteran and is being
"^DD",43.4,43.4,.01,21,6,0)
treated as an emergency until his/her condition has stablized to the
"^DD",43.4,43.4,.01,21,7,0)
point of being able to transfer to a public facility.
"^DD",43.4,43.4,1,0)
*REGULATION #^F^^0;2^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>6!($L(X)<3) X
"^DD",43.4,43.4,1,1,0)
^.1^^0
"^DD",43.4,43.4,1,1,1,0)
43.4^C
"^DD",43.4,43.4,1,1,1,1)
S ^DIC(43.4,"C",$E(X,1,30),DA)=""
"^DD",43.4,43.4,1,1,1,2)
K ^DIC(43.4,"C",$E(X,1,30),DA)
"^DD",43.4,43.4,1,3)
ANSWER MUST BE 3-6 CHARACTERS IN LENGTH
"^DD",43.4,43.4,1,"DT")
2860929
"^DD",43.4,43.4,2,0)
CFR #^F^^0;3^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>25!($L(X)<2) X
"^DD",43.4,43.4,2,1,0)
^.1
"^DD",43.4,43.4,2,1,1,0)
43.4^D
"^DD",43.4,43.4,2,1,1,1)
S ^DIC(43.4,"D",$E(X,1,30),DA)=""
"^DD",43.4,43.4,2,1,1,2)
K ^DIC(43.4,"D",$E(X,1,30),DA)
"^DD",43.4,43.4,2,3)
Answer must be 2-25 characters in length.
"^DD",43.4,43.4,2,21,0)
^^3^3^2920211^
"^DD",43.4,43.4,2,21,1,0)
The CFR# is the Code of Federal Regulations number assigned to each of
"^DD",43.4,43.4,2,21,2,0)
the types of admission regulations, derived from Title 38.  This number
"^DD",43.4,43.4,2,21,3,0)
cannot be manipulated or any 'local' ones added to this file.
"^DD",43.4,43.4,2,"DT")
2900220
"^DD",43.4,43.4,4,0)
ACTIVE^S^0:ACTIVE;1:INACTIVE;^0;4^Q
"^DD",43.4,43.4,4,1,0)
^.1^^0
"^DD",43.4,43.4,4,3)
Enter if this admitting regulation should not be used
"^DD",43.4,43.4,4,21,0)
^^5^5^2920211^
"^DD",43.4,43.4,4,21,1,0)
This field is defined as a set of codes, '0' standing for ACTIVE and
"^DD",43.4,43.4,4,21,2,0)
'1' standing for INACTIVE.  When a VA Admitting Regulation Code has
"^DD",43.4,43.4,4,21,3,0)
been either inactivated or activated as a result of changed legislation
"^DD",43.4,43.4,4,21,4,0)
effecting the Federal Code of Regulations, Title 38, this field will
"^DD",43.4,43.4,4,21,5,0)
be noted accordingly.
"^DD",43.4,43.4,4,"DT")
2860929
"^DD",43.4,43.4,5,0)
NURSING HOME^S^1:USE FOR NH;^0;5^Q
"^DD",43.4,43.4,5,21,0)
^^3^3^2920211^
"^DD",43.4,43.4,5,21,1,0)
Nursing Home is a specialized code that is utilized to identify
"^DD",43.4,43.4,5,21,2,0)
veterans who are admitted to a VA Nursing Home Care Unit.  This field,
"^DD",43.4,43.4,5,21,3,0)
although available is not currently in use.
"^DD",43.4,43.4,5,"DT")
2860929
"^DD",43.4,43.4,6,0)
EDR CODE^F^^0;6^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>3!($L(X)<1) X
"^DD",43.4,43.4,6,1,0)
^.1
"^DD",43.4,43.4,6,1,1,0)
43.4^AEDR
"^DD",43.4,43.4,6,1,1,1)
S ^DIC(43.4,"AEDR",$E(X,1,30),DA)=""
"^DD",43.4,43.4,6,1,1,2)
K ^DIC(43.4,"AEDR",$E(X,1,30),DA)
"^DD",43.4,43.4,6,1,1,"%D",0)
^^2^2^2940831^^
"^DD",43.4,43.4,6,1,1,"%D",1,0)
This cross-reference was added to allow quick referencing when an EDR
"^DD",43.4,43.4,6,1,1,"%D",2,0)
code is sent to the site.
"^DD",43.4,43.4,6,1,1,"DT")
2940831
"^DD",43.4,43.4,6,3)
Answer with corresponding EDR code.
"^DD",43.4,43.4,6,21,0)
^^3^3^2940808^
"^DD",43.4,43.4,6,21,1,0)
This is the code that is transferred to BDC indicating the admitting
"^DD",43.4,43.4,6,21,2,0)
regulation.  The code and related regulation are defined in the HL7
"^DD",43.4,43.4,6,21,3,0)
VA defined table VA10.
"^DD",43.4,43.4,6,"DT")
2940831
"^DD",391,391,0)
FIELD^^200^34
"^DD",391,391,0,"DT")
2920422
"^DD",391,391,0,"IX","B",391,.01)

"^DD",391,391,0,"NM","TYPE OF PATIENT")

"^DD",391,391,0,"PT",2,391)

"^DD",391,391,0,"VRPK")
DG
"^DD",391,391,.01,0)
NAME^RF^^0;1^K:$L(X)>30!(X?.N)!($L(X)<3)!'(X'?1P.E) X
"^DD",391,391,.01,1,0)
^.1
"^DD",391,391,.01,1,1,0)
391^B
"^DD",391,391,.01,1,1,1)
S ^DG(391,"B",$E(X,1,30),DA)=""
"^DD",391,391,.01,1,1,2)
K ^DG(391,"B",$E(X,1,30),DA)
"^DD",391,391,.01,3)
NAME MUST BE 3-30 CHARACTERS, NOT NUMERIC OR STARTING WITH PUNCTUATION
"^DD",391,391,.01,21,0)
^^3^3^2911112^
"^DD",391,391,.01,21,1,0)
This field contains the names of the various types of patients seen at
"^DD",391,391,.01,21,2,0)
VA facilities.  This file should not be added to or altered or it could
"^DD",391,391,.01,21,3,0)
affect daily operations of the MAS software.
"^DD",391,391,.02,0)
IGNORE VETERAN CHECKS?^RS^0:NO;1:YES;^0;2^Q
"^DD",391,391,.02,21,0)
^^4^4^2911112^
"^DD",391,391,.02,21,1,0)
If this particular type of patient is non-veteran, but the patient can
"^DD",391,391,.02,21,2,0)
respond to questions meant for veterans, respond yes.  An example would
"^DD",391,391,.02,21,3,0)
be MILITARY RETIREE.  These patients are seen as non-veterans, but may
"^DD",391,391,.02,21,4,0)
have veteran periods of service, prisoner of war dates, etc.
"^DD",391,391,.03,0)
*INFO TO ASK^RF^^0;3^K:$L(X)>40!($L(X)<1)!'(X?.N) X
"^DD",391,391,.03,.1)
INFO TO ASK
"^DD",391,391,.03,3)
ANSWER MUST BE 1-40 CHARACTERS IN LENGTH
"^DD",391,391,.03,21,0)
^^2^2^2911112^
"^DD",391,391,.03,21,1,0)
This field is no longer used by the MAS package.  It will be removed in
"^DD",391,391,.03,21,2,0)
a future release.
"^DD",391,391,.03,"DT")
2911112
"^DD",391,391,.04,0)
MAKE RECORD SENSITIVE?^S^1:YES;0:NO;^0;4^Q
"^DD",391,391,.04,3)
Answer YES if you want this record automatically made sensitive when using the registration screens.
"^DD",391,391,.04,21,0)
^^4^4^2911112^
"^DD",391,391,.04,21,1,0)
If it is desirable to automatically make a record sensitive if the patient
"^DD",391,391,.04,21,2,0)
has this patient type, answer yes here.  An example would be EMPLOYEE.  Any
"^DD",391,391,.04,21,3,0)
record for a patient added to your system with a patient type of EMPLOYEE
"^DD",391,391,.04,21,4,0)
will automatically be recorded as sensitive in the security system.
"^DD",391,391,.04,"DT")
2880929
"^DD",391,391,.05,0)
VETERAN?^RS^0:NO;1:YES;^0;5^Q
"^DD",391,391,.05,1,0)
^.1
"^DD",391,391,.05,1,1,0)
^^TRIGGER^391^9
"^DD",391,391,.05,1,1,1)
X ^DD(391,.05,1,1,1.3) I X S X=DIV S Y(1)=$S($D(^DG(391,D0,"S")):^("S"),1:"") S X=$P(Y(1),U,9),X=X S DIU=X K Y S X=DIV S X=1 X ^DD(391,.05,1,1,1.4)
"^DD",391,391,.05,1,1,1.3)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(1)=$C(59)_$S($D(^DD(391,.05,0)):$P(^(0),U,3),1:"") S X=$P($P(Y(1),$C(59)_Y(0)_":",2),$C(59),1)="YES"
"^DD",391,391,.05,1,1,1.4)
S DIH=$S($D(^DG(391,DIV(0),"S")):^("S"),1:""),DIV=X S $P(^("S"),U,9)=DIV,DIH=391,DIG=9 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",391,391,.05,1,1,2)
Q
"^DD",391,391,.05,1,1,"%D",0)
^^2^2^2920325^
"^DD",391,391,.05,1,1,"%D",1,0)
This trigger will automatically stuff YES into the SHOW INCOME SCREENING
"^DD",391,391,.05,1,1,"%D",2,0)
SCREEN field if this field (VETERAN?) is answered YES.
"^DD",391,391,.05,1,1,"CREATE CONDITION")
VETERAN?="YES"
"^DD",391,391,.05,1,1,"CREATE VALUE")
S X=1
"^DD",391,391,.05,1,1,"DELETE VALUE")
NO EFFECT
"^DD",391,391,.05,1,1,"DT")
2920325
"^DD",391,391,.05,1,1,"FIELD")
SHOW INCOME SCREENING SCREEN
"^DD",391,391,.05,3)
Enter 1 (or yes) if patients of this type are veterans.  Otherwise, respond 0 (or no).
"^DD",391,391,.05,21,0)
^^5^5^2920615^^
"^DD",391,391,.05,21,1,0)
Enter YES (or 1) at this prompt if patients of this patient type are
"^DD",391,391,.05,21,2,0)
veterans.  Respond NO otherwise.  This information is necessary to
"^DD",391,391,.05,21,3,0)
determine whether certain screens may be turned off.  If this is a
"^DD",391,391,.05,21,4,0)
non-veteran patient type, but patients with this patient type COULD be
"^DD",391,391,.05,21,5,0)
veterans, respond YES to the IGNORE VETERAN CHECKS? prompt (field .02).
"^DD",391,391,.05,"DT")
2920325
"^DD",391,391,3,0)
SHOW CONTACT SCREEN?^S^0:NO;1:YES;^S;3^Q
"^DD",391,391,3,21,0)
^^3^3^2911112^
"^DD",391,391,3,21,1,0)
Answer yes if you would like to have the contact screen displayed for any
"^DD",391,391,3,21,2,0)
patient of this patient type.  This screen contains names and addresses of
"^DD",391,391,3,21,3,0)
next of kin, emergency contacts, and designees.
"^DD",391,391,3,"DT")
2880531
"^DD",391,391,4,0)
*SHOW EMPLOYMENT SCREEN?^S^0:NO;1:YES;^S;4^Q
"^DD",391,391,4,.1)
SHOW EMPLOYMENT SCREEN?
"^DD",391,391,4,3)
This field is no longer used.  The employment screen will now for all patients.
"^DD",391,391,4,21,0)
^^4^4^2920324^^^
"^DD",391,391,4,21,1,0)
This field is no longer used by the MAS package.  Due to the increased
"^DD",391,391,4,21,2,0)
need for employment data due to billing, the employment screen can no
"^DD",391,391,4,21,3,0)
longer be turned off.  This field will be removed in a future release of
"^DD",391,391,4,21,4,0)
the MAS package.
"^DD",391,391,4,"DT")
2920324
"^DD",391,391,5,0)
*SHOW INSURANCE SCREEN?^S^0:NO;1:YES;^S;5^Q
"^DD",391,391,5,.1)
SHOW INSURANCE SCREEN?
"^DD",391,391,5,3)

"^DD",391,391,5,21,0)
^^2^2^2911112^
"^DD",391,391,5,21,1,0)
This field is no longer used by the MAS package (the insurance screen is
"^DD",391,391,5,21,2,0)
now displayed for ALL patients).  It will be removed in a future release.
"^DD",391,391,5,"DT")
2911112
"^DD",391,391,6,0)
SHOW SERVICE SCREEN?^S^0:NO;1:YES;^S;6^Q
"^DD",391,391,6,3)

"^DD",391,391,6,21,0)
^^6^6^2911112^
"^DD",391,391,6,21,1,0)
Answer yes if you would like the service screen to display for all patients
"^DD",391,391,6,21,2,0)
added to your system with this patient type.  The service record screen
"^DD",391,391,6,21,3,0)
contains data about service history, prisoner of war status, combat,
"^DD",391,391,6,21,4,0)
Vietnam service, agent orange and ionizing radiation exposure, military
"^DD",391,391,6,21,5,0)
retirement/disability, and service dental history.  For non-veterans, you
"^DD",391,391,6,21,6,0)
may choose not to display this screen.
"^DD",391,391,6,"DT")
2880531
"^DD",391,391,7,0)
*SHOW MONETARY SCREEN?^S^0:NO;1:YES;^S;7^Q
"^DD",391,391,7,.1)
SHOW MONETARY SCREEN?
"^DD",391,391,7,3)

"^DD",391,391,7,21,0)
^^2^2^2911112^
"^DD",391,391,7,21,1,0)
This field is no longer used by the MAS package.  It will be removed in a
"^DD",391,391,7,21,2,0)
future version of MAS.
"^DD",391,391,7,"DT")
2911112
"^DD",391,391,7,"V",0)
^.12P
"^DD",391,391,8,0)
SHOW FAMILY INFO SCREEN^RSX^0:NO;1:YES;^S;8^D FAMINF^DGRPDD
"^DD",391,391,8,3)
Enter yes to display the family demographic screen during registration.
"^DD",391,391,8,21,0)
^^7^7^2920422^^
"^DD",391,391,8,21,1,0)
To display the family demographic screen during registration (screen 8),
"^DD",391,391,8,21,2,0)
respond yes here.  You must answer yes for NSC patients as income screening
"^DD",391,391,8,21,3,0)
is required for all non-service connected veterans.  You may chose to
"^DD",391,391,8,21,4,0)
show this screen for service connected patients or non-veterans.
"^DD",391,391,8,21,5,0)
 
"^DD",391,391,8,21,6,0)
The family demographic screen holds the name, SSN, date of birth, and
"^DD",391,391,8,21,7,0)
sex for all dependents of the patient.
"^DD",391,391,8,"DT")
2920629
"^DD",391,391,8.2,0)
ID FORMAT^P8.2'^DIC(8.2,^8.2;1^Q
"^DD",391,391,8.2,21,0)
^^3^3^2911112^
"^DD",391,391,8.2,21,1,0)
This field contains a pointer to the IDENTIFICATION FORMAT file (#8.2).
"^DD",391,391,8.2,21,2,0)
This field will contain the default ID format for all patients with this
"^DD",391,391,8.2,21,3,0)
patient type.  For most VA purposes, this will be the SSN.
"^DD",391,391,8.2,"DT")
2891106
"^DD",391,391,9,0)
SHOW INCOME SCREENING SCREEN^SX^0:NO;1:YES;^S;9^D INCSCR^DGRPDD
"^DD",391,391,9,3)
Enter yes if you want the income screening screen to show for all patients of this patient type.
"^DD",391,391,9,5,1,0)
391^.05^1
"^DD",391,391,9,21,0)
^^7^7^2920325^^^^
"^DD",391,391,9,21,1,0)
Enter yes if the income screening screen should be displayed for this type
"^DD",391,391,9,21,2,0)
of patient.  Answer no otherwise.  You will be unable to edit this question
"^DD",391,391,9,21,3,0)
if the VETERAN? prompt (field .05) is answered yes.  This data must be
"^DD",391,391,9,21,4,0)
collected for all veterans seen.  This screen will contain information
"^DD",391,391,9,21,5,0)
on a patient's income for the previous calendar year.  It will also
"^DD",391,391,9,21,6,0)
contain information on the patient's spouse and dependents.  This data
"^DD",391,391,9,21,7,0)
will, in turn, be used for IRS matching.
"^DD",391,391,9,"DT")
2920629
"^DD",391,391,10,0)
SHOW INELIGIBLE SCREEN^S^0:NO;1:YES;^S;10^Q
"^DD",391,391,10,3)

"^DD",391,391,10,21,0)
^^3^3^2920325^^^
"^DD",391,391,10,21,1,0)
Enter yes if you wish the ineligible data screen to show for all
"^DD",391,391,10,21,2,0)
patients of this patient type.  This screen contains information on the
"^DD",391,391,10,21,3,0)
a patient's ineligibility for care and data on missing patients.
"^DD",391,391,10,"DT")
2920325
"^DD",391,391,11,0)
SHOW VERIFICATION SCREEN?^S^0:NO;1:YES;^S;11^Q
"^DD",391,391,11,3)
If you want users to be able to see the verification screen for this type of patient, answer yes.  Otherwise, respond no.
"^DD",391,391,11,21,0)
^^4^4^2920325^
"^DD",391,391,11,21,1,0)
Enter yes if you wish the service verification screen to show for all
"^DD",391,391,11,21,2,0)
patients of this patient type.  This screen contains information on the
"^DD",391,391,11,21,3,0)
verification of eligility and service record data.  It also contains
"^DD",391,391,11,21,4,0)
data on VA rated disabilities.
"^DD",391,391,11,"DT")
2920325
"^DD",391,391,41,0)
*EDIT APPLICANT EMPLOYER?^S^0:NO;1:YES;^E;41^Q
"^DD",391,391,41,.1)
EDIT APPLICANT EMPLOYER?
"^DD",391,391,41,3)

"^DD",391,391,41,21,0)
^^3^3^2911112^
"^DD",391,391,41,21,1,0)
Respond yes if you want users to be able to edit the employer data for
"^DD",391,391,41,21,2,0)
the applicant (veteran).  If you say no, this information will appear on
"^DD",391,391,41,21,3,0)
the screen display, but will not be editable.
"^DD",391,391,41,"DT")
2920326
"^DD",391,391,42,0)
*EDIT SPOUSE'S EMPLOYER?^S^0:NO;1:YES;^E;42^Q
"^DD",391,391,42,.1)
EDIT SPOUSE'S EMPLOYER
"^DD",391,391,42,3)

"^DD",391,391,42,21,0)
^^3^3^2911112^
"^DD",391,391,42,21,1,0)
Respond yes if you want users to be able to edit the spouse's employer
"^DD",391,391,42,21,2,0)
information for this type of patient.  If you say no, this information
"^DD",391,391,42,21,3,0)
will appear on the screen display, but will not be editable.
"^DD",391,391,42,"DT")
2920326
"^DD",391,391,61,0)
*EDIT SERVICE HISTORY?^S^0:NO;1:YES;^E;61^Q
"^DD",391,391,61,3)

"^DD",391,391,61,21,0)
^^3^3^2911112^
"^DD",391,391,61,21,1,0)
Enter yes if you wish to allow users to edit the service history data for
"^DD",391,391,61,21,2,0)
this type of patient.  If you say no, this information will appear on the
"^DD",391,391,61,21,3,0)
screen display, but will not be editable.
"^DD",391,391,61,"DT")
2920423
"^DD",391,391,62,0)
*EDIT PRISONER OF WAR DATA?^S^0:NO;1:YES;^E;62^Q
"^DD",391,391,62,3)

"^DD",391,391,62,21,0)
^^4^4^2911112^
"^DD",391,391,62,21,1,0)
Enter yes if you wish to allow users to edit the prisoner of war data
"^DD",391,391,62,21,2,0)
(from/to dates, where imprisoned, etc.) for this type of patient.  If you
"^DD",391,391,62,21,3,0)
say no, this information will appear on the screen display, but will not
"^DD",391,391,62,21,4,0)
be editable.
"^DD",391,391,62,"DT")
2920423
"^DD",391,391,63,0)
*EDIT COMBAT DATA?^S^0:NO;1:YES;^E;63^Q
"^DD",391,391,63,3)

"^DD",391,391,63,21,0)
^^4^4^2911112^
"^DD",391,391,63,21,1,0)
Enter yes if you want the users to be able to edit combat data for patients
"^DD",391,391,63,21,2,0)
of this type.  This data includes combat from/to dates as well as where the
"^DD",391,391,63,21,3,0)
combat occurred.  If you respond no, this data will appear on the screen,
"^DD",391,391,63,21,4,0)
but will not be editable.
"^DD",391,391,63,"DT")
2920423
"^DD",391,391,64,0)
*EDIT VIETNAM SERVICE DATA?^S^0:NO;1:YES;^E;64^Q
"^DD",391,391,64,3)

"^DD",391,391,64,21,0)
^^4^4^2911112^
"^DD",391,391,64,21,1,0)
Enter yes if you want users to be able to edit Vietnam service data for
"^DD",391,391,64,21,2,0)
patients of this type.  This data includes the dates from and to which the
"^DD",391,391,64,21,3,0)
veteran served in Vietnam.  If you respond no, this data will appear on the
"^DD",391,391,64,21,4,0)
screen, but will be uneditable.
"^DD",391,391,64,"DT")
2920423
"^DD",391,391,65,0)
*EDIT AGENT ORANGE DATA?^S^0:NO;1:YES;^E;65^Q
"^DD",391,391,65,3)

"^DD",391,391,65,21,0)
^^4^4^2911112^
"^DD",391,391,65,21,1,0)
Enter yes if you want users to be able to edit agent orange exposure data
"^DD",391,391,65,21,2,0)
for patients of this type.  This data includes the dates of test for AO
"^DD",391,391,65,21,3,0)
exposure.  If you respond no, this data will appear on the screen, but
"^DD",391,391,65,21,4,0)
will be uneditable.
"^DD",391,391,65,"DT")
2920423
"^DD",391,391,66,0)
*EDIT RADIATION EXPOSURE DATA?^S^0:NO;1:YES;^E;66^Q
"^DD",391,391,66,3)

"^DD",391,391,66,21,0)
^^4^4^2911112^
"^DD",391,391,66,21,1,0)
Enter yes if you want to be able to edit radiation exposure data for
"^DD",391,391,66,21,2,0)
patients with this patient type.  This data includes dates of test for
"^DD",391,391,66,21,3,0)
radiation.  If you respond no, this data will appear on the screen, but
"^DD",391,391,66,21,4,0)
will be uneditable.
"^DD",391,391,66,"DT")
2920423
"^DD",391,391,67,0)
*EDIT MILITARY DISABILITY DATA^S^0:NO;1:YES;^E;67^Q
"^DD",391,391,67,3)

"^DD",391,391,67,21,0)
^^3^3^2911112^
"^DD",391,391,67,21,1,0)
Enter yes if you want the users to be able to edit data relating to
"^DD",391,391,67,21,2,0)
military disability for patients of this type.  If you respond no, the
"^DD",391,391,67,21,3,0)
data element will appear on the screen, but will not be editable.
"^DD",391,391,67,"DT")
2920423
"^DD",391,391,68,0)
*EDIT DENTAL HISTORY DATA?^S^1:YES;0:NO;^E;68^Q
"^DD",391,391,68,21,0)
^^3^3^2911112^
"^DD",391,391,68,21,1,0)
Enter yes if you want users to be able to edit data relating to dental
"^DD",391,391,68,21,2,0)
history in service if the patient is of this type.  If you respond no,
"^DD",391,391,68,21,3,0)
the data element will appear on the screen, but will not be editable.
"^DD",391,391,68,"DT")
2920423
"^DD",391,391,71,0)
*EDIT VA MONETARY BENEFITS?^S^0:NO;1:YES;^E;71^Q
"^DD",391,391,71,.1)
EDIT VA MONETARY BENEFITS?
"^DD",391,391,71,3)

"^DD",391,391,71,21,0)
^^2^2^2911112^
"^DD",391,391,71,21,1,0)
This field is no longer used by the MAS package and will be removed in
"^DD",391,391,71,21,2,0)
a future version.
"^DD",391,391,71,"DT")
2911112
"^DD",391,391,72,0)
*EDIT OTHER MONETARY BENEFITS?^S^0:NO;1:YES;^E;72^Q
"^DD",391,391,72,.1)
EDIT OTHER MONETARY BENEFITS?
"^DD",391,391,72,3)

"^DD",391,391,72,21,0)
^^2^2^2911112^
"^DD",391,391,72,21,1,0)
This field is no longer used by the MAS package and will be removed in a
"^DD",391,391,72,21,2,0)
future version.
"^DD",391,391,72,"DT")
2911112
"^DD",391,391,74,0)
EDIT SC CONDITIONS PER PT?^S^0:NO;1:YES;^E;74^Q
"^DD",391,391,74,3)
Enter YES if you want to allow the user to edit SC conditions as stated by the applicant.
"^DD",391,391,74,21,0)
^^4^4^2911204^^^
"^DD",391,391,74,21,1,0)
If the user should be allowed to edit SC conditions as stated by the
"^DD",391,391,74,21,2,0)
applicant for patients of this patient type, answer yes here.  Otherwise
"^DD",391,391,74,21,3,0)
respond no.  This data appears on registration screen 7 (Eligibility
"^DD",391,391,74,21,4,0)
Status Data).
"^DD",391,391,74,"DT")
2911204
"^DD",391,391,83,0)
*EDIT SC CONDITIONS PER PT?^S^0:NO;1:YES;^E;83^Q
"^DD",391,391,83,.1)
EDIT SC CONDITIONS PER PT?
"^DD",391,391,83,3)

"^DD",391,391,83,21,0)
^^11^11^2911113^^
"^DD",391,391,83,21,1,0)
Respond yes if you want to give users the ability to edit service
"^DD",391,391,83,21,2,0)
conditions as stated by the patient for patients of this patient type.  If
"^DD",391,391,83,21,3,0)
you respond no, the question will appear on the screen, but it will not
"^DD",391,391,83,21,4,0)
be editable.
"^DD",391,391,83,21,5,0)
 
"^DD",391,391,83,21,6,0)
 
"^DD",391,391,83,21,7,0)
Note:  Due to a change in screen numbering, this field is being *'d for
"^DD",391,391,83,21,8,0)
       deletion and will no longer be used (affective with installation
"^DD",391,391,83,21,9,0)
       of this version).  A new field 73 has been added which is the
"^DD",391,391,83,21,10,0)
       same prompt.  This is in keeping with the present field numbering
"^DD",391,391,83,21,11,0)
       sequence.
"^DD",391,391,83,"DT")
2911113
"^DD",391,391,91,0)
*EDIT INELIGIBLE DATA?^S^0:NO;1:YES;^E;91^Q
"^DD",391,391,91,.1)
EDIT INELIGIBLE DATA?
"^DD",391,391,91,3)

"^DD",391,391,91,21,0)
^^3^3^2911112^
"^DD",391,391,91,21,1,0)
Enter yes if you want users to be allowed to edit data about a patients
"^DD",391,391,91,21,2,0)
eligibility for patients of this patient type.  If you respond no, the
"^DD",391,391,91,21,3,0)
question will appear on the screen, but it will not be editable.
"^DD",391,391,91,"DT")
2920325
"^DD",391,391,92,0)
*EDIT MISSING DATA?^S^0:NO;1:YES;^E;92^Q
"^DD",391,391,92,.1)
EDIT MISSING DATA?
"^DD",391,391,92,3)

"^DD",391,391,92,21,0)
^^3^3^2911112^
"^DD",391,391,92,21,1,0)
Enter yes if you want the user to be allowed to edit data on missing
"^DD",391,391,92,21,2,0)
veterans for patients of this patient type.  If you respond no, the
"^DD",391,391,92,21,3,0)
question will appear on the screen, but will not be editable.
"^DD",391,391,92,"DT")
2920325
"^DD",391,391,101,0)
EDIT INELIGIBLE DATA?^S^0:NO;1:YES;^E10;1^Q
"^DD",391,391,101,3)
Enter yes if you want users to be allowed to edit data about a patients ineligiblility for care.
"^DD",391,391,101,21,0)
^^4^4^2920325^^
"^DD",391,391,101,21,1,0)
If, when editing data for patients of this type, you want users to be able
"^DD",391,391,101,21,2,0)
edit data about a patient's ineligibility for care, respond yes here.
"^DD",391,391,101,21,3,0)
If you respond no, the data will display on the screen, but will not be
"^DD",391,391,101,21,4,0)
editable by the users.
"^DD",391,391,101,23,0)
^^4^4^2920325^^
"^DD",391,391,101,23,1,0)
This data has been placed on the E10 node.  Because FM does not allow
"^DD",391,391,101,23,2,0)
more than 100 pieces on a node, it must be kept on a separate node.  The
"^DD",391,391,101,23,3,0)
registration code will have to check if screen number is 10 or greater
"^DD",391,391,101,23,4,0)
and check the E10 node rather than the E node.
"^DD",391,391,101,"DT")
2920325
"^DD",391,391,102,0)
EDIT MISSING DATA?^S^0:NO;1:YES;^E10;2^Q
"^DD",391,391,102,3)
If you want users to be able to edit the missing data for patients of thsi type, answer yes.
"^DD",391,391,102,21,0)
^^3^3^2920325^
"^DD",391,391,102,21,1,0)
If, for patients of the specified patient type, you want users to be able
"^DD",391,391,102,21,2,0)
to edit data about missing veterans, answer yes.  If you respond no, the
"^DD",391,391,102,21,3,0)
user will see the screen, but will not be able to edit the missing data.
"^DD",391,391,102,23,0)
^^8^8^2920325^
"^DD",391,391,102,23,1,0)
Because FM will not allow more than 100 pieces on a node, editable items
"^DD",391,391,102,23,2,0)
on screen 10 or greater had to be moved to the new E10 node.  The fields
"^DD",391,391,102,23,3,0)
were numbered so that the field number was equal to screen#_item# and the
"^DD",391,391,102,23,4,0)
piece position on the node was equal to the field number.  Because the
"^DD",391,391,102,23,5,0)
missing data is on screen 10, it is not possible to put it on the same
"^DD",391,391,102,23,6,0)
node (because there can not be more than 100 pieces).  Registration will
"^DD",391,391,102,23,7,0)
need to check to see if the screen is 10 or greater and, if so, look at
"^DD",391,391,102,23,8,0)
this new node.
"^DD",391,391,102,"DT")
2920325
"^DD",391,391,200,0)
NEW PATIENT INPUT DR^FX^^DR;E1,240^W:$S('$D(DUZ(0)):1,DUZ(0)'="@":1,1:0) !?5,"Must have Programmer Access!!! " K:$S('$D(DUZ(0)):1,DUZ(0)'="@":1,1:0) X I $D(X) K:$L(X)>240!($L(X)<2) X I $D(X) D ^DIM
"^DD",391,391,200,3)
Enter the fields (DR string) to be asked for new patients of this type who are entered into the system.  Must have programmer access!!
"^DD",391,391,200,8.5)
@
"^DD",391,391,200,9)
@
"^DD",391,391,200,21,0)
^^8^8^2911112^
"^DD",391,391,200,21,1,0)
This field contains a line of code which sets the variable DR for use in
"^DD",391,391,200,21,2,0)
a filemanager enter/edit (DIE) call.  In order to add to this field or
"^DD",391,391,200,21,3,0)
edit what is in it, you must have programmer mode.
"^DD",391,391,200,21,4,0)
 
"^DD",391,391,200,21,5,0)
This DR string should contain a listing of the fields you wish to ask
"^DD",391,391,200,21,6,0)
whenever a patient of this patient type is added to the system.  These
"^DD",391,391,200,21,7,0)
fields would be in addition to the prompts normally given for NAME, SSN,
"^DD",391,391,200,21,8,0)
DOB, VET?, etc.  If blank, only the standard questions will be asked.
"^DD",391,391,200,"DT")
2910601
"^DIC",38.6,38.6,0)
INCONSISTENT DATA ELEMENTS
"^DIC",38.6,38.6,0,"GL")
^DGIN(38.6,
"^DIC",38.6,38.6,"%D",0)
^^5^5^2911211^^
"^DIC",38.6,38.6,"%D",1,0)
The INCONSISTENT DATA ELEMENTS file contains those entries which are
"^DIC",38.6,38.6,"%D",2,0)
checked by the MAS module consistency checker.  Other than turning
"^DIC",38.6,38.6,"%D",3,0)
individual checks on or off the user should not alter or add to this
"^DIC",38.6,38.6,"%D",4,0)
file in any way.  Making any modification to this file will definitely
"^DIC",38.6,38.6,"%D",5,0)
cause the consistency checker to function improperly.
"^DIC",38.6,"B","INCONSISTENT DATA ELEMENTS",38.6)

"^DIC",43.4,43.4,0)
VA ADMITTING REGULATION^43.4I
"^DIC",43.4,43.4,0,"GL")
^DIC(43.4,
"^DIC",43.4,43.4,"%D",0)
^^2^2^2880924^^
"^DIC",43.4,43.4,"%D",1,0)
This file contains the recognized VA Admitting regulations under
"^DIC",43.4,43.4,"%D",2,0)
which a patient may be admitted to a VA facility.
"^DIC",43.4,"B","VA ADMITTING REGULATION",43.4)

"^DIC",391,391,0)
TYPE OF PATIENT^391
"^DIC",391,391,0,"GL")
^DG(391,
"^DIC",391,391,"%D",0)
^^7^7^2901205^^
"^DIC",391,391,"%D",1,0)
This file contains the various types of patient which might be seen
"^DIC",391,391,"%D",2,0)
at a VA facility.  The file is pointed to by the TYPE field of the
"^DIC",391,391,"%D",3,0)
PATIENT file and every patient added to the system must have a TYPE
"^DIC",391,391,"%D",4,0)
specified.  Using the 'Patient Type Update' option of ADT the user
"^DIC",391,391,"%D",5,0)
should specify the parameters concerning which screens should be
"^DIC",391,391,"%D",6,0)
displayed during the registration process for these patient types
"^DIC",391,391,"%D",7,0)
and what data elements on those screens are editable.
"^DIC",391,"B","TYPE OF PATIENT",391)

"BLD",8715,6)
^770
**END**
**END**
