KIDS Distribution saved on Apr 11, 2016@13:13:27
PRCA IB MCCF EDI 1.0
**KIDS**:PRCA IB MCCF EDI 1.0^PRCA*4.5*303^IB*2.0*530^

**INSTALL NAME**
PRCA IB MCCF EDI 1.0
"BLD",9888,0)
PRCA IB MCCF EDI 1.0^^1^3160411^y
"BLD",9888,1,0)
^^6^6^3150616^
"BLD",9888,1,1,0)
This multi-build distribution includes changes to ePayments applications 
"BLD",9888,1,2,0)
for Accounts Recievable and Integrated Billing to allow better tracking 
"BLD",9888,1,3,0)
of EEOBs, ERAs and EFTs. This is part of the HAPE-MCCF projects suite.
"BLD",9888,1,4,0)
 
"BLD",9888,1,5,0)
Two patches will be released in a KIDS multi-build distribution 
"BLD",9888,1,6,0)
containing: IB*2.0*530 and PRCA*4.5*303.
"BLD",9888,6.3)
66
"BLD",9888,10,0)
^9.63^2^2
"BLD",9888,10,1,0)
PRCA*4.5*303^1
"BLD",9888,10,2,0)
IB*2.0*530^1
"BLD",9888,10,"B","IB*2.0*530",2)

"BLD",9888,10,"B","PRCA*4.5*303",1)

"BLD",9888,"KRN",0)
^9.67PA^779.2^20
"BLD",9888,"KRN",.4,0)
.4
"BLD",9888,"KRN",.401,0)
.401
"BLD",9888,"KRN",.402,0)
.402
"BLD",9888,"KRN",.403,0)
.403
"BLD",9888,"KRN",.5,0)
.5
"BLD",9888,"KRN",.84,0)
.84
"BLD",9888,"KRN",3.6,0)
3.6
"BLD",9888,"KRN",3.8,0)
3.8
"BLD",9888,"KRN",9.2,0)
9.2
"BLD",9888,"KRN",9.8,0)
9.8
"BLD",9888,"KRN",19,0)
19
"BLD",9888,"KRN",19.1,0)
19.1
"BLD",9888,"KRN",101,0)
101
"BLD",9888,"KRN",409.61,0)
409.61
"BLD",9888,"KRN",771,0)
771
"BLD",9888,"KRN",779.2,0)
779.2
"BLD",9888,"KRN",870,0)
870
"BLD",9888,"KRN",8989.51,0)
8989.51
"BLD",9888,"KRN",8989.52,0)
8989.52
"BLD",9888,"KRN",8994,0)
8994
"BLD",9888,"KRN","B",.4,.4)

"BLD",9888,"KRN","B",.401,.401)

"BLD",9888,"KRN","B",.402,.402)

"BLD",9888,"KRN","B",.403,.403)

"BLD",9888,"KRN","B",.5,.5)

"BLD",9888,"KRN","B",.84,.84)

"BLD",9888,"KRN","B",3.6,3.6)

"BLD",9888,"KRN","B",3.8,3.8)

"BLD",9888,"KRN","B",9.2,9.2)

"BLD",9888,"KRN","B",9.8,9.8)

"BLD",9888,"KRN","B",19,19)

"BLD",9888,"KRN","B",19.1,19.1)

"BLD",9888,"KRN","B",101,101)

"BLD",9888,"KRN","B",409.61,409.61)

"BLD",9888,"KRN","B",771,771)

"BLD",9888,"KRN","B",779.2,779.2)

"BLD",9888,"KRN","B",870,870)

"BLD",9888,"KRN","B",8989.51,8989.51)

"BLD",9888,"KRN","B",8989.52,8989.52)

"BLD",9888,"KRN","B",8994,8994)

"MBREQ")
0
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"VER")
8.0^22.0
**INSTALL NAME**
PRCA*4.5*303
"BLD",9886,0)
PRCA*4.5*303^ACCOUNTS RECEIVABLE^0^3160411^y
"BLD",9886,1,0)
^^13^13^3160129^
"BLD",9886,1,1,0)
MCCF (Medical Care Collection Fund) Enhancement for uniform use of
"BLD",9886,1,2,0)
CARC/RARC (Claims Adjustment Rason Codes/Remittance Advice
"BLD",9886,1,3,0)
Reason Codes) Codes
"BLD",9886,1,4,0)
 
"BLD",9886,1,5,0)
This patch implements changes to the Veterans Health Information Systems 
"BLD",9886,1,6,0)
and Technology Architecture (VistA) Accounts Receivable (AR) software
"BLD",9886,1,7,0)
requested by the Veterans Health Administration (VHA) Chief Business
"BLD",9886,1,8,0)
Office (CBO) business Solutions to comply with legislative changes
"BLD",9886,1,9,0)
mandated by the Health Insurance Portability and Accountability Act of
"BLD",9886,1,10,0)
1996 (HIPAA) as amended by Public Law (P.L.) 111-148, The Patient
"BLD",9886,1,11,0)
Protection and Affordable Care Act (PPACA), Section 1104.
"BLD",9886,1,12,0)
 
"BLD",9886,1,13,0)
This patch implements the following:
"BLD",9886,4,0)
^9.64PA^344.31^5
"BLD",9886,4,344.31,0)
344.31
"BLD",9886,4,344.31,2,0)
^9.641^344.314^2
"BLD",9886,4,344.31,2,344.31,0)
EDI THIRD PARTY EFT DETAIL  (File-top level)
"BLD",9886,4,344.31,2,344.31,1,0)
^9.6411^.08^1
"BLD",9886,4,344.31,2,344.31,1,.08,0)
MATCH STATUS
"BLD",9886,4,344.31,2,344.314,0)
MATCH STATUS HISTORY  (sub-file)
"BLD",9886,4,344.31,2,344.314,1,0)
^9.6411^^
"BLD",9886,4,344.31,222)
y^y^p^^^^n^^n
"BLD",9886,4,344.31,224)

"BLD",9886,4,344.4,0)
344.4
"BLD",9886,4,344.4,2,0)
^9.641^344.4^1
"BLD",9886,4,344.4,2,344.4,0)
ELECTRONIC REMITTANCE ADVICE  (File-top level)
"BLD",9886,4,344.4,2,344.4,1,0)
^9.6411^.03^1
"BLD",9886,4,344.4,2,344.4,1,.03,0)
INSURANCE CO ID
"BLD",9886,4,344.4,222)
y^y^p^^^^n^^n
"BLD",9886,4,344.4,224)

"BLD",9886,4,345,0)
345
"BLD",9886,4,345,222)
y^y^f^^n^^y^o^n
"BLD",9886,4,345.1,0)
345.1
"BLD",9886,4,345.1,222)
y^y^f^^n^^y^o^n
"BLD",9886,4,346,0)
346
"BLD",9886,4,346,222)
y^y^f^^n^^y^o^n
"BLD",9886,4,"APDD",344.31,344.31)

"BLD",9886,4,"APDD",344.31,344.31,.08)

"BLD",9886,4,"APDD",344.31,344.314)

"BLD",9886,4,"APDD",344.4,344.4)

"BLD",9886,4,"APDD",344.4,344.4,.03)

"BLD",9886,4,"B",344.31,344.31)

"BLD",9886,4,"B",344.4,344.4)

"BLD",9886,4,"B",345,345)

"BLD",9886,4,"B",345.1,345.1)

"BLD",9886,4,"B",346,346)

"BLD",9886,6)
6^
"BLD",9886,6.3)
84
"BLD",9886,"ABPKG")
n
"BLD",9886,"INID")
^n
"BLD",9886,"INIT")
POST^RC45P303
"BLD",9886,"KRN",0)
^9.67PA^779.2^20
"BLD",9886,"KRN",.4,0)
.4
"BLD",9886,"KRN",.4,"NM",0)
^9.68A^2^2
"BLD",9886,"KRN",.4,"NM",1,0)
PRCA BILL LIST    FILE #430^430^0
"BLD",9886,"KRN",.4,"NM",2,0)
PRCA TRANS PROFILE    FILE #433^433^0
"BLD",9886,"KRN",.4,"NM","B","PRCA BILL LIST    FILE #430",1)

"BLD",9886,"KRN",.4,"NM","B","PRCA TRANS PROFILE    FILE #433",2)

"BLD",9886,"KRN",.401,0)
.401
"BLD",9886,"KRN",.402,0)
.402
"BLD",9886,"KRN",.403,0)
.403
"BLD",9886,"KRN",.5,0)
.5
"BLD",9886,"KRN",.84,0)
.84
"BLD",9886,"KRN",3.6,0)
3.6
"BLD",9886,"KRN",3.8,0)
3.8
"BLD",9886,"KRN",3.8,"NM",0)
^9.68A^1^1
"BLD",9886,"KRN",3.8,"NM",1,0)
CARC_RARC_DATA^^0
"BLD",9886,"KRN",3.8,"NM","B","CARC_RARC_DATA",1)

"BLD",9886,"KRN",9.2,0)
9.2
"BLD",9886,"KRN",9.8,0)
9.8
"BLD",9886,"KRN",9.8,"NM",0)
^9.68A^37^26
"BLD",9886,"KRN",9.8,"NM",1,0)
RCDPARC^^0^B213177751
"BLD",9886,"KRN",9.8,"NM",2,0)
RCDPCRR^^0^B179060706
"BLD",9886,"KRN",9.8,"NM",3,0)
RCDPEAC^^0^B190534875
"BLD",9886,"KRN",9.8,"NM",4,0)
RCDPPLB^^0^B190736513
"BLD",9886,"KRN",9.8,"NM",5,0)
RCDPTAR^^0^B177809356
"BLD",9886,"KRN",9.8,"NM",6,0)
RCDPRU^^0^B219265660
"BLD",9886,"KRN",9.8,"NM",7,0)
RCDPEMSG^^0^B52639080
"BLD",9886,"KRN",9.8,"NM",19,0)
RCDPETT^^1^
"BLD",9886,"KRN",9.8,"NM",20,0)
RCDPETTE^^1^
"BLD",9886,"KRN",9.8,"NM",21,0)
RCDPETTF^^1^
"BLD",9886,"KRN",9.8,"NM",22,0)
RCDPETTU^^1^
"BLD",9886,"KRN",9.8,"NM",23,0)
RCDPETTM^^1^
"BLD",9886,"KRN",9.8,"NM",24,0)
RCDPETTP^^1^
"BLD",9886,"KRN",9.8,"NM",25,0)
RCDPETTQ^^1^
"BLD",9886,"KRN",9.8,"NM",26,0)
RCDPEWL4^^0^B57740502
"BLD",9886,"KRN",9.8,"NM",27,0)
RCDPEM2^^0^B218873122
"BLD",9886,"KRN",9.8,"NM",28,0)
RCDPEM7^^0^B82538875
"BLD",9886,"KRN",9.8,"NM",29,0)
RCDPTAR1^^0^B43222900
"BLD",9886,"KRN",9.8,"NM",30,0)
RCDPEWL2^^0^B108949020
"BLD",9886,"KRN",9.8,"NM",31,0)
RCDPEWL6^^0^B81815547
"BLD",9886,"KRN",9.8,"NM",32,0)
PRCAAPR1^^0^B43791904
"BLD",9886,"KRN",9.8,"NM",33,0)
PRCAATR^^0^B19181234
"BLD",9886,"KRN",9.8,"NM",34,0)
RCDPAPLI^^0^B43587980
"BLD",9886,"KRN",9.8,"NM",35,0)
RCDPBPLM^^0^B57667335
"BLD",9886,"KRN",9.8,"NM",36,0)
RCDPRTP2^^0^B15639829
"BLD",9886,"KRN",9.8,"NM",37,0)
RCDPEWLP^^0^B166745287
"BLD",9886,"KRN",9.8,"NM","B","PRCAAPR1",32)

"BLD",9886,"KRN",9.8,"NM","B","PRCAATR",33)

"BLD",9886,"KRN",9.8,"NM","B","RCDPAPLI",34)

"BLD",9886,"KRN",9.8,"NM","B","RCDPARC",1)

"BLD",9886,"KRN",9.8,"NM","B","RCDPBPLM",35)

"BLD",9886,"KRN",9.8,"NM","B","RCDPCRR",2)

"BLD",9886,"KRN",9.8,"NM","B","RCDPEAC",3)

"BLD",9886,"KRN",9.8,"NM","B","RCDPEM2",27)

"BLD",9886,"KRN",9.8,"NM","B","RCDPEM7",28)

"BLD",9886,"KRN",9.8,"NM","B","RCDPEMSG",7)

"BLD",9886,"KRN",9.8,"NM","B","RCDPETT",19)

"BLD",9886,"KRN",9.8,"NM","B","RCDPETTE",20)

"BLD",9886,"KRN",9.8,"NM","B","RCDPETTF",21)

"BLD",9886,"KRN",9.8,"NM","B","RCDPETTM",23)

"BLD",9886,"KRN",9.8,"NM","B","RCDPETTP",24)

"BLD",9886,"KRN",9.8,"NM","B","RCDPETTQ",25)

"BLD",9886,"KRN",9.8,"NM","B","RCDPETTU",22)

"BLD",9886,"KRN",9.8,"NM","B","RCDPEWL2",30)

"BLD",9886,"KRN",9.8,"NM","B","RCDPEWL4",26)

"BLD",9886,"KRN",9.8,"NM","B","RCDPEWL6",31)

"BLD",9886,"KRN",9.8,"NM","B","RCDPEWLP",37)

"BLD",9886,"KRN",9.8,"NM","B","RCDPPLB",4)

"BLD",9886,"KRN",9.8,"NM","B","RCDPRTP2",36)

"BLD",9886,"KRN",9.8,"NM","B","RCDPRU",6)

"BLD",9886,"KRN",9.8,"NM","B","RCDPTAR",5)

"BLD",9886,"KRN",9.8,"NM","B","RCDPTAR1",29)

"BLD",9886,"KRN",19,0)
19
"BLD",9886,"KRN",19,"NM",0)
^9.68A^36^9
"BLD",9886,"KRN",19,"NM",1,0)
RCDPE CARC CODE PAYER REPORT^^0
"BLD",9886,"KRN",19,"NM",2,0)
RCDPE EDI LOCKBOX REPORTS MENU^^2^
"BLD",9886,"KRN",19,"NM",5,0)
RCDPE CARC/RARC TABLE REPORT^^0
"BLD",9886,"KRN",19,"NM",31,0)
RCDPE PROVIDER LVL ADJ REPORT^^0
"BLD",9886,"KRN",19,"NM",32,0)
RCDPE EFT TRANSACTION AUD REP^^0
"BLD",9886,"KRN",19,"NM",33,0)
RCDPE EDI CARC-RARC SERVER^^0
"BLD",9886,"KRN",19,"NM",34,0)
RCDPE CARC/RARC QUICK SEARCH^^0
"BLD",9886,"KRN",19,"NM",35,0)
RCDPE UNAPPLIED EFT DEP REPORT^^1^
"BLD",9886,"KRN",19,"NM",36,0)
RCDPETT TOOL^^1^
"BLD",9886,"KRN",19,"NM","B","RCDPE CARC CODE PAYER REPORT",1)

"BLD",9886,"KRN",19,"NM","B","RCDPE CARC/RARC QUICK SEARCH",34)

"BLD",9886,"KRN",19,"NM","B","RCDPE CARC/RARC TABLE REPORT",5)

"BLD",9886,"KRN",19,"NM","B","RCDPE EDI CARC-RARC SERVER",33)

"BLD",9886,"KRN",19,"NM","B","RCDPE EDI LOCKBOX REPORTS MENU",2)

"BLD",9886,"KRN",19,"NM","B","RCDPE EFT TRANSACTION AUD REP",32)

"BLD",9886,"KRN",19,"NM","B","RCDPE PROVIDER LVL ADJ REPORT",31)

"BLD",9886,"KRN",19,"NM","B","RCDPE UNAPPLIED EFT DEP REPORT",35)

"BLD",9886,"KRN",19,"NM","B","RCDPETT TOOL",36)

"BLD",9886,"KRN",19.1,0)
19.1
"BLD",9886,"KRN",19.1,"NM",0)
^9.68A^^0
"BLD",9886,"KRN",101,0)
101
"BLD",9886,"KRN",101,"NM",0)
^9.68A^40^33
"BLD",9886,"KRN",101,"NM",1,0)
RCDPE EOB WORKLIST MENU^^0
"BLD",9886,"KRN",101,"NM",3,0)
RCDPEX EOB_SUM EXCEPTION MENU^^0
"BLD",9886,"KRN",101,"NM",4,0)
RCDPE WORKLIST ERA LIST MENU^^0
"BLD",9886,"KRN",101,"NM",5,0)
RCDPE EFT ERA MANUAL MATCH^^0
"BLD",9886,"KRN",101,"NM",10,0)
VALM QUIT^^4^
"BLD",9886,"KRN",101,"NM",11,0)
RCDPE EOB WORKLIST SPLIT LINE^^4^
"BLD",9886,"KRN",101,"NM",12,0)
RCDPE EOB WORKLIST DIST ADJ^^4^
"BLD",9886,"KRN",101,"NM",13,0)
RCDPE EOB WORKLIST REFRESH^^4^
"BLD",9886,"KRN",101,"NM",14,0)
RCDPE VIEW/PRINT WORKLIST ERA^^4^
"BLD",9886,"KRN",101,"NM",15,0)
RCDPE VIEW/PRINT WORKLIST EOB^^4^
"BLD",9886,"KRN",101,"NM",16,0)
RCDPE EOB WORKLIST RESEARCH^^4^
"BLD",9886,"KRN",101,"NM",17,0)
RCDPE EOB WORKLIST RESEARCH MENU^^0
"BLD",9886,"KRN",101,"NM",18,0)
RCDPE EOB WL RECEIPT VIEW^^4^
"BLD",9886,"KRN",101,"NM",19,0)
RCDPE EOB WL REVIEW^^4^
"BLD",9886,"KRN",101,"NM",20,0)
RCDPE EOB WORKLIST VERIFY^^4^
"BLD",9886,"KRN",101,"NM",21,0)
RCDPE EOB WORKLIST CHANGE VIEW^^4^
"BLD",9886,"KRN",101,"NM",23,0)
RCDPE EOB WORKLIST TPJI^^4^
"BLD",9886,"KRN",101,"NM",24,0)
RCDPE EOB WORKLIST BILL COMMENT^^4^
"BLD",9886,"KRN",101,"NM",25,0)
RCDPE EOB WORKLIST REESTABLISH^^4^
"BLD",9886,"KRN",101,"NM",26,0)
RCDPE EOB WORKLIST FULL ACCT PROF^^4^
"BLD",9886,"KRN",101,"NM",27,0)
RCDPE EOB WL RESEARCH EXIT^^4^
"BLD",9886,"KRN",101,"NM",28,0)
RCDPE EOB WORKLIST ADMIN COST ADJ^^4^
"BLD",9886,"KRN",101,"NM",30,0)
RCDPEX SUM_VIEW/PRINT MESSAGE^^4^
"BLD",9886,"KRN",101,"NM",31,0)
RCDPEX EOB_SUM REMOVE EXCEPT^^4^
"BLD",9886,"KRN",101,"NM",32,0)
RCDPEX SUM_FILE EXCEPTION^^4^
"BLD",9886,"KRN",101,"NM",33,0)
RCDPEX RX_COMMENT^^4^
"BLD",9886,"KRN",101,"NM",34,0)
RCDPEX SUM_EDIT CLAIM^^4^
"BLD",9886,"KRN",101,"NM",35,0)
RCDPE WORKLIST ERA SELECT^^4^
"BLD",9886,"KRN",101,"NM",36,0)
RCDPE WORKLIST ERA SORT^^4^
"BLD",9886,"KRN",101,"NM",37,0)
RCDPE ERA LIST VIEW ERA^^4^
"BLD",9886,"KRN",101,"NM",38,0)
RCDPE ERA WORKLIST CHANGE VIEW^^4^
"BLD",9886,"KRN",101,"NM",39,0)
RCDPE EOB WORKLIST RECEIPT PROCESSING^^0
"BLD",9886,"KRN",101,"NM",40,0)
RCDPE ECME INFORMATION^^0
"BLD",9886,"KRN",101,"NM","B","RCDPE ECME INFORMATION",40)

"BLD",9886,"KRN",101,"NM","B","RCDPE EFT ERA MANUAL MATCH",5)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WL RECEIPT VIEW",18)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WL RESEARCH EXIT",27)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WL REVIEW",19)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST ADMIN COST ADJ",28)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST BILL COMMENT",24)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST CHANGE VIEW",21)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST DIST ADJ",12)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST FULL ACCT PROF",26)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST MENU",1)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST RECEIPT PROCESSING",39)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST REESTABLISH",25)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST REFRESH",13)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST RESEARCH",16)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST RESEARCH MENU",17)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST SPLIT LINE",11)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST TPJI",23)

"BLD",9886,"KRN",101,"NM","B","RCDPE EOB WORKLIST VERIFY",20)

"BLD",9886,"KRN",101,"NM","B","RCDPE ERA LIST VIEW ERA",37)

"BLD",9886,"KRN",101,"NM","B","RCDPE ERA WORKLIST CHANGE VIEW",38)

"BLD",9886,"KRN",101,"NM","B","RCDPE VIEW/PRINT WORKLIST EOB",15)

"BLD",9886,"KRN",101,"NM","B","RCDPE VIEW/PRINT WORKLIST ERA",14)

"BLD",9886,"KRN",101,"NM","B","RCDPE WORKLIST ERA LIST MENU",4)

"BLD",9886,"KRN",101,"NM","B","RCDPE WORKLIST ERA SELECT",35)

"BLD",9886,"KRN",101,"NM","B","RCDPE WORKLIST ERA SORT",36)

"BLD",9886,"KRN",101,"NM","B","RCDPEX EOB_SUM EXCEPTION MENU",3)

"BLD",9886,"KRN",101,"NM","B","RCDPEX EOB_SUM REMOVE EXCEPT",31)

"BLD",9886,"KRN",101,"NM","B","RCDPEX RX_COMMENT",33)

"BLD",9886,"KRN",101,"NM","B","RCDPEX SUM_EDIT CLAIM",34)

"BLD",9886,"KRN",101,"NM","B","RCDPEX SUM_FILE EXCEPTION",32)

"BLD",9886,"KRN",101,"NM","B","RCDPEX SUM_VIEW/PRINT MESSAGE",30)

"BLD",9886,"KRN",101,"NM","B","VALM QUIT",10)

"BLD",9886,"KRN",409.61,0)
409.61
"BLD",9886,"KRN",409.61,"NM",0)
^9.68A^^0
"BLD",9886,"KRN",771,0)
771
"BLD",9886,"KRN",779.2,0)
779.2
"BLD",9886,"KRN",870,0)
870
"BLD",9886,"KRN",8989.51,0)
8989.51
"BLD",9886,"KRN",8989.52,0)
8989.52
"BLD",9886,"KRN",8994,0)
8994
"BLD",9886,"KRN","B",.4,.4)

"BLD",9886,"KRN","B",.401,.401)

"BLD",9886,"KRN","B",.402,.402)

"BLD",9886,"KRN","B",.403,.403)

"BLD",9886,"KRN","B",.5,.5)

"BLD",9886,"KRN","B",.84,.84)

"BLD",9886,"KRN","B",3.6,3.6)

"BLD",9886,"KRN","B",3.8,3.8)

"BLD",9886,"KRN","B",9.2,9.2)

"BLD",9886,"KRN","B",9.8,9.8)

"BLD",9886,"KRN","B",19,19)

"BLD",9886,"KRN","B",19.1,19.1)

"BLD",9886,"KRN","B",101,101)

"BLD",9886,"KRN","B",409.61,409.61)

"BLD",9886,"KRN","B",771,771)

"BLD",9886,"KRN","B",779.2,779.2)

"BLD",9886,"KRN","B",870,870)

"BLD",9886,"KRN","B",8989.51,8989.51)

"BLD",9886,"KRN","B",8989.52,8989.52)

"BLD",9886,"KRN","B",8994,8994)

"BLD",9886,"QDEF")
^^^^NO^^^^YES^^NO
"BLD",9886,"QUES",0)
^9.62^^
"BLD",9886,"REQB",0)
^9.611^3^3
"BLD",9886,"REQB",1,0)
PRCA*4.5*298^2
"BLD",9886,"REQB",2,0)
IB*2.0*511^2
"BLD",9886,"REQB",3,0)
BPS*1.0*17^2
"BLD",9886,"REQB","B","BPS*1.0*17",3)

"BLD",9886,"REQB","B","IB*2.0*511",2)

"BLD",9886,"REQB","B","PRCA*4.5*298",1)

"DATA",345,1,0)
1^2950101^^^3151012.17034
"DATA",345,1,1,0)
^^1^1^3150519
"DATA",345,1,1,1,0)
Deductible Amount 
"DATA",345,2,0)
2^2950101^^^3151012.17034
"DATA",345,2,1,0)
^^1^1^3150519
"DATA",345,2,1,1,0)
Coinsurance Amount 
"DATA",345,3,0)
3^2950101^^^3151012.17034
"DATA",345,3,1,0)
^^1^1^3150519
"DATA",345,3,1,1,0)
Co-payment Amount 
"DATA",345,4,0)
4^2950101^^3090920^3151012.17034
"DATA",345,4,1,0)
^^3^3^3150519
"DATA",345,4,1,1,0)
The procedure code is inconsistent with the modifier used or a required
"DATA",345,4,1,2,0)
modifier is missing. Note: Refer to the 835 Healthcare Policy Identification
"DATA",345,4,1,3,0)
Segment (loop 2110 Service Payment Information REF), if present.  
"DATA",345,5,0)
5^2950101^^3090920^3151012.17034
"DATA",345,5,1,0)
^^3^3^3150519
"DATA",345,5,1,1,0)
The procedure code/bill type is inconsistent with the place of service. Note:
"DATA",345,5,1,2,0)
Refer to the 835 Healthcare Policy Identification Segment (loop 2110 Service
"DATA",345,5,1,3,0)
Payment Information REF), if present.  
"DATA",345,6,0)
6^2950101^^3090920^3151012.17034
"DATA",345,6,1,0)
^^3^3^3150519
"DATA",345,6,1,1,0)
The procedure/revenue code is inconsistent with the patient"s age. Note: Refer
"DATA",345,6,1,2,0)
to the 835 Healthcare Policy Identification Segment (loop 2110 Service Payment
"DATA",345,6,1,3,0)
Information REF), if present.  
"DATA",345,7,0)
7^2950101^^3090920^3151012.17034
"DATA",345,7,1,0)
^^3^3^3150519
"DATA",345,7,1,1,0)
The procedure/revenue code is inconsistent with the patient"s gender. Note:
"DATA",345,7,1,2,0)
Refer to the 835 Healthcare Policy Identification Segment (loop 2110 Service
"DATA",345,7,1,3,0)
Payment Information REF), if present.  
"DATA",345,8,0)
8^2950101^^3090920^3151012.17034
"DATA",345,8,1,0)
^^3^3^3150519
"DATA",345,8,1,1,0)
The procedure code is inconsistent with the provider type/specialty (taxonomy).
"DATA",345,8,1,2,0)
Note: Refer to the 835 Healthcare Policy Identification Segment (loop 2110
"DATA",345,8,1,3,0)
Service Payment Information REF), if present.  
"DATA",345,9,0)
9^2950101^^3090920^3151012.17034
"DATA",345,9,1,0)
^^3^3^3150519
"DATA",345,9,1,1,0)
The diagnosis is inconsistent with the patient"s age. Note: Refer to the 835
"DATA",345,9,1,2,0)
Healthcare Policy Identification Segment (loop 2110 Service Payment Information
"DATA",345,9,1,3,0)
REF), if present.  
"DATA",345,10,0)
10^2950101^^3090920^3151012.17034
"DATA",345,10,1,0)
^^3^3^3150519
"DATA",345,10,1,1,0)
The diagnosis is inconsistent with the patient"s gender. Note: Refer to the 835
"DATA",345,10,1,2,0)
Healthcare Policy Identification Segment (loop 2110 Service Payment Information
"DATA",345,10,1,3,0)
REF), if present.  
"DATA",345,11,0)
11^2950101^^3090920^3151012.17034
"DATA",345,11,1,0)
^^3^3^3150519
"DATA",345,11,1,1,0)
The diagnosis is inconsistent with the procedure. Note: Refer to the 835
"DATA",345,11,1,2,0)
Healthcare Policy Identification Segment (loop 2110 Service Payment Information
"DATA",345,11,1,3,0)
REF), if present.  
"DATA",345,12,0)
12^2950101^^3090920^3151012.17034
"DATA",345,12,1,0)
^^3^3^3150519
"DATA",345,12,1,1,0)
The diagnosis is inconsistent with the provider type. Note: Refer to the 835
"DATA",345,12,1,2,0)
Healthcare Policy Identification Segment (loop 2110 Service Payment Information
"DATA",345,12,1,3,0)
REF), if present.  
"DATA",345,13,0)
13^2950101^^^3151012.17034
"DATA",345,13,1,0)
^^1^1^3150519
"DATA",345,13,1,1,0)
The date of death precedes the date of service.  
"DATA",345,14,0)
14^2950101^^^3151012.17034
"DATA",345,14,1,0)
^^1^1^3150519
"DATA",345,14,1,1,0)
The date of birth follows the date of service.  
"DATA",345,15,0)
15^2950101^^3070930^3151012.17034
"DATA",345,15,1,0)
^^2^2^3150519
"DATA",345,15,1,1,0)
The authorization number is missing, invalid, or does not apply to the billed
"DATA",345,15,1,2,0)
services or provider.  
"DATA",345,16,0)
16^2950101^^3131101^3151012.17034
"DATA",345,16,1,0)
^^6^6^3150519
"DATA",345,16,1,1,0)
Claim/service lacks information or has submission/billing error(s) which is
"DATA",345,16,1,2,0)
needed for adjudication. Do not use this code for claims attachment(s)/other
"DATA",345,16,1,3,0)
documentation. At least one Remark Code must be provided (may be comprised of
"DATA",345,16,1,4,0)
either the NCPDP Reject Reason Code, or Remittance Advice Remark Code that is
"DATA",345,16,1,5,0)
not an ALERT.) Note: Refer to the 835 Healthcare Policy Identification Segment
"DATA",345,16,1,6,0)
(loop 2110 Service Payment Information REF), if present.  
"DATA",345,17,0)
17^2950101^3090701^3080921^3151012.17034
"DATA",345,17,1,0)
^^3^3^3150519
"DATA",345,17,1,1,0)
Requested information was not provided or was insufficient/incomplete. At least
"DATA",345,17,1,2,0)
one Remark Code must be provided (may be comprised of either the Remittance
"DATA",345,17,1,3,0)
Advice Remark Code or NCPDP Reject Reason Code.) 
"DATA",345,18,0)
18^2950101^^3130602^3151012.17034
"DATA",345,18,1,0)
^^2^2^3150519
"DATA",345,18,1,1,0)
Exact duplicate claim/service (Use only with Group Code OA except where state
"DATA",345,18,1,2,0)
workers" compensation regulations requires CO) 
"DATA",345,19,0)
19^2950101^^3070930^3151012.17034
"DATA",345,19,1,0)
^^2^2^3150519
"DATA",345,19,1,1,0)
This is a work-related injury/illness and thus the liability of the Worker"s
"DATA",345,19,1,2,0)
Compensation Carrier.  
"DATA",345,20,0)
20^2950101^^3070930^3151012.17034
"DATA",345,20,1,0)
^^1^1^3150519
"DATA",345,20,1,1,0)
This injury/illness is covered by the liability carrier.  
"DATA",345,21,0)
21^2950101^^3070930^3151012.17034
"DATA",345,21,1,0)
^^1^1^3150519
"DATA",345,21,1,1,0)
This injury/illness is the liability of the no-fault carrier.  
"DATA",345,22,0)
22^2950101^^3070930^3151012.17034
"DATA",345,22,1,0)
^^1^1^3150519
"DATA",345,22,1,1,0)
This care may be covered by another payer per coordination of benefits.  
"DATA",345,23,0)
23^2950101^^3120930^3151012.17034
"DATA",345,23,1,0)
^^2^2^3150519
"DATA",345,23,1,1,0)
The impact of prior payer(s) adjudication including payments and/or
"DATA",345,23,1,2,0)
adjustments. (Use only with Group Code OA) 
"DATA",345,24,0)
24^2950101^^3070930^3151012.17034
"DATA",345,24,1,0)
^^1^1^3150519
"DATA",345,24,1,1,0)
Charges are covered under a capitation agreement/managed care plan.  
"DATA",345,25,0)
25^2950101^3080401^^3151012.17034
"DATA",345,25,1,0)
^^1^1^3150519
"DATA",345,25,1,1,0)
Payment denied. Your Stop loss deductible has not been met.  
"DATA",345,26,0)
26^2950101^^^3151012.17034
"DATA",345,26,1,0)
^^1^1^3150519
"DATA",345,26,1,1,0)
Expenses incurred prior to coverage.  
"DATA",345,27,0)
27^2950101^^^3151012.17034
"DATA",345,27,1,0)
^^1^1^3150519
"DATA",345,27,1,1,0)
Expenses incurred after coverage terminated.  
"DATA",345,28,0)
28^2950101^3031016^^3151012.17034
"DATA",345,28,1,0)
^^1^1^3150519
"DATA",345,28,1,1,0)
Coverage not in effect at the time the service was provided.  
"DATA",345,28,2)
Notes: Redundant to codes 26&27.
"DATA",345,29,0)
29^2950101^^^3151012.17034
"DATA",345,29,1,0)
^^1^1^3150519
"DATA",345,29,1,1,0)
The time limit for filing has expired.  
"DATA",345,30,0)
30^2950101^3060201^^3151012.17034
"DATA",345,30,1,0)
^^2^2^3150519
"DATA",345,30,1,1,0)
Payment adjusted because the patient has not met the required eligibility,
"DATA",345,30,1,2,0)
spend down, waiting, or residency requirements.  
"DATA",345,31,0)
31^2950101^^3070930^3151012.17034
"DATA",345,31,1,0)
^^1^1^3150519
"DATA",345,31,1,1,0)
Patient cannot be identified as our insured.  
"DATA",345,32,0)
32^2950101^^^3151012.17034
"DATA",345,32,1,0)
^^2^2^3150519
"DATA",345,32,1,1,0)
Our records indicate that this dependent is not an eligible dependent as
"DATA",345,32,1,2,0)
defined.  
"DATA",345,33,0)
33^2950101^^3070930^3151012.17034
"DATA",345,33,1,0)
^^1^1^3150519
"DATA",345,33,1,1,0)
Insured has no dependent coverage.  
"DATA",345,34,0)
34^2950101^^3070930^3151012.170341
"DATA",345,34,1,0)
^^1^1^3150519
"DATA",345,34,1,1,0)
Insured has no coverage for newborns.  
"DATA",345,35,0)
35^2950101^^3021031^3151012.170341
"DATA",345,35,1,0)
^^1^1^3150519
"DATA",345,35,1,1,0)
Lifetime benefit maximum has been reached.  
"DATA",345,36,0)
36^2950101^3031016^^3151012.170341
"DATA",345,36,1,0)
^^1^1^3150519
"DATA",345,36,1,1,0)
Balance does not exceed co-payment amount.  
"DATA",345,37,0)
37^2950101^3031016^^3151012.170341
"DATA",345,37,1,0)
^^1^1^3150519
"DATA",345,37,1,1,0)
Balance does not exceed deductible.  
"DATA",345,38,0)
38^2950101^3130101^3130602^3151012.170341
"DATA",345,38,1,0)
^^2^2^3150519
"DATA",345,38,1,1,0)
Services not provided or authorized by designated (network/primary care)
"DATA",345,38,1,2,0)
providers.  
"DATA",345,38,2)
Notes: CARC codes 242 and 243 are replacements for this deactivated code
"DATA",345,39,0)
39^2950101^^^3151012.170341
"DATA",345,39,1,0)
^^1^1^3150519
"DATA",345,39,1,1,0)
Services denied at the time authorization/pre-certification was requested.  
"DATA",345,40,0)
40^2950101^^3090920^3151012.170341
"DATA",345,40,1,0)
^^3^3^3150519
"DATA",345,40,1,1,0)
Charges do not meet qualifications for emergent/urgent care. Note: Refer to the
"DATA",345,40,1,2,0)
835 Healthcare Policy Identification Segment (loop 2110 Service Payment
"DATA",345,40,1,3,0)
Information REF), if present.  
"DATA",345,41,0)
41^2950101^3031016^^3151012.170341
"DATA",345,41,1,0)
^^1^1^3150519
"DATA",345,41,1,1,0)
Discount agreed to in Preferred Provider contract.  
"DATA",345,42,0)
42^2950101^3070601^3061031^3151012.170341
"DATA",345,42,1,0)
^^1^1^3150519
"DATA",345,42,1,1,0)
Charges exceed our fee schedule or maximum allowable amount. (Use CARC 45) 
"DATA",345,43,0)
43^2950101^3060701^^3151012.170341
"DATA",345,43,1,0)
^^1^1^3150519
"DATA",345,43,1,1,0)
Gramm-Rudman reduction.  
"DATA",345,44,0)
44^2950101^^^3151012.170341
"DATA",345,44,1,0)
^^1^1^3150519
"DATA",345,44,1,1,0)
Prompt-pay discount.  
"DATA",345,45,0)
45^2950101^^3150301^3151012.170341
"DATA",345,45,1,0)
^^7^7^3150519
"DATA",345,45,1,1,0)
Charge exceeds fee schedule/maximum allowable or contracted/legislated fee
"DATA",345,45,1,2,0)
arrangement. (Use only with Group Codes PR or CO depending upon liability) This
"DATA",345,45,1,3,0)
change effective 11/1/2015: Charge exceeds fee schedule/maximum allowable or
"DATA",345,45,1,4,0)
contracted/legislated fee arrangement. Note: this must not duplicate provider
"DATA",345,45,1,5,0)
adjustment amounts (payments and contractual reductions) that have resulted
"DATA",345,45,1,6,0)
from prior payer(s) adjudication. (Use only with Group Codes PR or CO depending
"DATA",345,45,1,7,0)
upon liability) 
"DATA",345,46,0)
46^2950101^3031016^^3151012.170341
"DATA",345,46,1,0)
^^1^1^3150519
"DATA",345,46,1,1,0)
This (these) service(s) is (are) not covered.  
"DATA",345,46,2)
Notes: Use code 96.
"DATA",345,47,0)
47^2950101^3060201^^3151012.170341
"DATA",345,47,1,0)
^^1^1^3150519
"DATA",345,47,1,1,0)
This (these) diagnosis(es) is (are) not covered, missing, or are invalid.  
"DATA",345,48,0)
48^2950101^3031016^^3151012.170341
"DATA",345,48,1,0)
^^1^1^3150519
"DATA",345,48,1,1,0)
This (these) procedure(s) is (are) not covered.  
"DATA",345,48,2)
Notes: Use code 96.
"DATA",345,49,0)
49^2950101^^3131101^3151012.170341
"DATA",345,49,1,0)
^^4^4^3150519
"DATA",345,49,1,1,0)
This is a non-covered service because it is a routine/preventive exam or a
"DATA",345,49,1,2,0)
diagnostic/screening procedure done in conjunction with a routine/preventive
"DATA",345,49,1,3,0)
exam. Note: Refer to the 835 Healthcare PolicyIdentification Segment (loop 2110
"DATA",345,49,1,4,0)
Service Payment Information REF), if present.  
"DATA",345,50,0)
50^2950101^^3090920^3151012.170341
"DATA",345,50,1,0)
^^3^3^3150519
"DATA",345,50,1,1,0)
These are non-covered services because this is not deemed a "medical necessity"
"DATA",345,50,1,2,0)
by the payer. Note: Refer to the 835 Healthcare Policy Identification Segment
"DATA",345,50,1,3,0)
(loop 2110 Service Payment Information  REF), if present.  
"DATA",345,51,0)
51^2950101^^3090920^3151012.170341
"DATA",345,51,1,0)
^^3^3^3150519
"DATA",345,51,1,1,0)
These are non-covered services because this is a pre-existing condition. Note:
"DATA",345,51,1,2,0)
Refer to the 835 Healthcare Policy Identification Segment (loop 2110 Service
"DATA",345,51,1,3,0)
Payment Information  REF), if present.  
"DATA",345,52,0)
52^2950101^3060201^^3151012.170341
"DATA",345,52,1,0)
^^2^2^3150519
"DATA",345,52,1,1,0)
The referring/prescribing/rendering provider is not eligible to
"DATA",345,52,1,2,0)
refer/prescribe/order/perform the service billed.  
"DATA",345,53,0)
53^2950101^^^3151012.170341
"DATA",345,53,1,0)
^^2^2^3150519
"DATA",345,53,1,1,0)
Services by an immediate relative or a member of the same household are not
"DATA",345,53,1,2,0)
covered.  
"DATA",345,54,0)
54^2950101^^3090920^3151012.170341
"DATA",345,54,1,0)
^^3^3^3150519
"DATA",345,54,1,1,0)
Multiple physicians/assistants are not covered in this case. Note: Refer to the
"DATA",345,54,1,2,0)
835 Healthcare Policy Identification Segment (loop 2110 Service Payment
"DATA",345,54,1,3,0)
Information  REF), if present.  
"DATA",345,55,0)
55^2950101^^3150401^3151012.170341
"DATA",345,55,1,0)
^^6^6^3150519
"DATA",345,55,1,1,0)
Procedure/treatment is deemed experimental/investigational by the payer. Note:
"DATA",345,55,1,2,0)
Refer to the 835 Healthcare Policy Identification Segment (loop 2110 Service
"DATA",345,55,1,3,0)
Payment Information REF), if present. Thischange effective 9/1/2015:
"DATA",345,55,1,4,0)
Procedure/treatment/drug is deemed experimental/investigational by the payer.
"DATA",345,55,1,5,0)
Note: Refer to the 835 Healthcare Policy Identification Segment (loop 2110
"DATA",345,55,1,6,0)
Service Payment Information REF), if present.  
"DATA",345,56,0)
56^2950101^^3090920^3151012.170341
"DATA",345,56,1,0)
^^3^3^3150519
"DATA",345,56,1,1,0)
Procedure/treatment has not been deemed "proven to be effective" by the payer.
"DATA",345,56,1,2,0)
Note: Refer to the 835 Healthcare Policy Identification Segment (loop 2110
"DATA",345,56,1,3,0)
Service Payment Information  REF), if present.  
"DATA",345,57,0)
57^2950101^3070630^^3151012.170341
"DATA",345,57,1,0)
^^3^3^3150519
"DATA",345,57,1,1,0)
Payment denied/reduced because the payer deems the information submitted does
"DATA",345,57,1,2,0)
not support this level of service, this many services, this length of service,
"DATA",345,57,1,3,0)
this dosage, or this day"s supply.  
"DATA",345,57,2)
Notes: Split into codes 150, 151, 152, 153 and 154.
"DATA",345,58,0)
58^2950101^^3090920^3151012.170341
"DATA",345,58,1,0)
^^4^4^3150519
"DATA",345,58,1,1,0)
Treatment was deemed by the payer to have been rendered in an inappropriate or
"DATA",345,58,1,2,0)
invalid place of service. Note: Refer to the 835 Healthcare Policy
"DATA",345,58,1,3,0)
Identification Segment (loop 2110 Service Payment Information  REF), if
"DATA",345,58,1,4,0)
present.  
"DATA",345,59,0)
59^2950101^^3090920^3151012.170341
"DATA",345,59,1,0)
^^4^4^3150519
"DATA",345,59,1,1,0)
Processed based on multiple or concurrent procedure rules. (For example
"DATA",345,59,1,2,0)
multiple surgery or diagnostic imaging, concurrent anesthesia.) Note: Refer to
"DATA",345,59,1,3,0)
the 835 Healthcare Policy Identification Segment (loop 2110 Service Payment
"DATA",345,59,1,4,0)
Information  REF), if present.  
"DATA",345,60,0)
60^2950101^^3080601^3151012.170341
"DATA",345,60,1,0)
^^2^2^3150519
"DATA",345,60,1,1,0)
Charges for outpatient services are not covered when performed within a period
"DATA",345,60,1,2,0)
of time prior to or after inpatient services.  
"DATA",345,61,0)
61^2950101^^3090920^3151012.170341
"DATA",345,61,1,0)
^^3^3^3150519
"DATA",345,61,1,1,0)
Penalty for failure to obtain second surgical opinion. Note: Refer to the 835
"DATA",345,61,1,2,0)
Healthcare Policy Identification Segment (loop 2110 Service Payment Information 
"DATA",345,61,1,3,0)
REF), if present.  
"DATA",345,62,0)
62^2950101^3070401^3061031^3151012.170341
"DATA",345,62,1,0)
^^2^2^3150519
"DATA",345,62,1,1,0)
Payment denied/reduced for absence of, or exceeded,
"DATA",345,62,1,2,0)
pre-certification/authorization.  
"DATA",345,63,0)
63^2950101^3031016^^3151012.170341
"DATA",345,63,1,0)
^^1^1^3150519
"DATA",345,63,1,1,0)
Correction to a prior claim.  
"DATA",345,64,0)
64^2950101^3031016^^3151012.170341
"DATA",345,64,1,0)
^^1^1^3150519
"DATA",345,64,1,1,0)
Denial reversed per Medical Review.  
"DATA",345,65,0)
65^2950101^3031016^^3151012.170341
"DATA",345,65,1,0)
^^1^1^3150519
"DATA",345,65,1,1,0)
Procedure code was incorrect. This payment reflects the correct code.  
"DATA",345,66,0)
66^2950101^^^3151012.170341
"DATA",345,66,1,0)
^^1^1^3150519
"DATA",345,66,1,1,0)
Blood Deductible.  
"DATA",345,67,0)
67^2950101^3031016^^3151012.170341
"DATA",345,67,1,0)
^^1^1^3150519
"DATA",345,67,1,1,0)
Lifetime reserve days. (Handled in QTY, QTY01=LA) 
"DATA",345,68,0)
68^2950101^3031016^^3151012.170341
"DATA",345,68,1,0)
^^1^1^3150519
"DATA",345,68,1,1,0)
DRG weight. (Handled in CLP12) 
"DATA",345,69,0)
69^2950101^^^3151012.170341
"DATA",345,69,1,0)
^^1^1^3150519
"DATA",345,69,1,1,0)
Day outlier amount.  
"DATA",345,70,0)
70^2950101^^3010630^3151012.170341
"DATA",345,70,1,0)
^^1^1^3150519
"DATA",345,70,1,1,0)
Cost outlier - Adjustment to compensate for additional costs.  
"DATA",345,71,0)
71^2950101^3000630^^3151012.170341
"DATA",345,71,1,0)
^^1^1^3150519
"DATA",345,71,1,1,0)
Primary Payer amount.  
"DATA",345,71,2)
Notes: Use code 23.
"DATA",345,72,0)
72^2950101^3031016^^3151012.170341
"DATA",345,72,1,0)
^^1^1^3150519
"DATA",345,72,1,1,0)
Coinsurance day. (Handled in QTY, QTY01=CD) 
"DATA",345,73,0)
73^2950101^3031016^^3151012.170341
"DATA",345,73,1,0)
^^1^1^3150519
"DATA",345,73,1,1,0)
Administrative days.  
"DATA",345,74,0)
74^2950101^^^3151012.170341
"DATA",345,74,1,0)
^^1^1^3150519
"DATA",345,74,1,1,0)
Indirect Medical Education Adjustment.  
"DATA",345,75,0)
75^2950101^^^3151012.170341
"DATA",345,75,1,0)
^^1^1^3150519
"DATA",345,75,1,1,0)
Direct Medical Education Adjustment.  
"DATA",345,76,0)
76^2950101^^^3151012.170341
"DATA",345,76,1,0)
^^1^1^3150519
"DATA",345,76,1,1,0)
Disproportionate Share Adjustment.  
"DATA",345,77,0)
77^2950101^3031016^^3151012.170341
"DATA",345,77,1,0)
^^1^1^3150519
"DATA",345,77,1,1,0)
Covered days. (Handled in QTY, QTY01=CA) 
"DATA",345,78,0)
78^2950101^^^3151012.170341
"DATA",345,78,1,0)
^^1^1^3150519
"DATA",345,78,1,1,0)
Non-Covered days/Room charge adjustment.  
"DATA",345,79,0)
79^2950101^3031016^^3151012.170341
"DATA",345,79,1,0)
^^1^1^3150519
"DATA",345,79,1,1,0)
Cost Report days. (Handled in MIA15) 
"DATA",345,80,0)
80^2950101^3031016^^3151012.170341
"DATA",345,80,1,0)
^^1^1^3150519
"DATA",345,80,1,1,0)
Outlier days. (Handled in QTY, QTY01=OU) 
"DATA",345,81,0)
81^2950101^3031016^^3151012.170341
"DATA",345,81,1,0)
^^1^1^3150519
"DATA",345,81,1,1,0)
Discharges.  
"DATA",345,82,0)
82^2950101^3031016^^3151012.170341
"DATA",345,82,1,0)
^^1^1^3150519
"DATA",345,82,1,1,0)
PIP days.  
"DATA",345,83,0)
83^2950101^3031016^^3151012.170341
"DATA",345,83,1,0)
^^1^1^3150519
"DATA",345,83,1,1,0)
Total visits.  
"DATA",345,84,0)
84^2950101^3031016^^3151012.170341
"DATA",345,84,1,0)
^^1^1^3150519
"DATA",345,84,1,1,0)
Capital Adjustment. (Handled in MIA) 
"DATA",345,85,0)
85^2950101^^3070709^3151012.170341
"DATA",345,85,1,0)
^^1^1^3150519
"DATA",345,85,1,1,0)
Patient Interest Adjustment (Use Only Group code PR) 
"DATA",345,85,2)
Notes: Only use when the payment of interest is the responsibility of the patient.
"DATA",345,86,0)
86^2950101^3031016^^3151012.170341
"DATA",345,86,1,0)
^^1^1^3150519
"DATA",345,86,1,1,0)
Statutory Adjustment.  
"DATA",345,86,2)
Notes: Duplicative of code 45.
"DATA",345,87,0)
87^2950101^3120101^3090920^3151012.170341
"DATA",345,87,1,0)
^^1^1^3150519
"DATA",345,87,1,1,0)
Transfer amount.  
"DATA",345,88,0)
88^2950101^3070630^^3151012.170341
"DATA",345,88,1,0)
^^2^2^3150519
"DATA",345,88,1,1,0)
Adjustment amount represents collection against receivable created in prior
"DATA",345,88,1,2,0)
overpayment.  
"DATA",345,89,0)
89^2950101^^^3151012.170341
"DATA",345,89,1,0)
^^1^1^3150519
"DATA",345,89,1,1,0)
Professional fees removed from charges.  
"DATA",345,90,0)
90^2950101^^3090701^3151012.170341
"DATA",345,90,1,0)
^^1^1^3150519
"DATA",345,90,1,1,0)
Ingredient cost adjustment. Note: To be used for pharmaceuticals only.  
"DATA",345,91,0)
91^2950101^^^3151012.170341
"DATA",345,91,1,0)
^^1^1^3150519
"DATA",345,91,1,1,0)
Dispensing fee adjustment.  
"DATA",345,92,0)
92^2950101^3031016^^3151012.170341
"DATA",345,92,1,0)
^^1^1^3150519
"DATA",345,92,1,1,0)
Claim Paid in full.  
"DATA",345,93,0)
93^2950101^3031016^^3151012.170341
"DATA",345,93,1,0)
^^1^1^3150519
"DATA",345,93,1,1,0)
No Claim level Adjustments.  
"DATA",345,93,2)
Notes: As of 004010, CAS at the claim level is optional.
"DATA",345,94,0)
94^2950101^^^3151012.170341
"DATA",345,94,1,0)
^^1^1^3150519
"DATA",345,94,1,1,0)
Processed in Excess of charges.  
"DATA",345,95,0)
95^2950101^^3070930^3151012.170341
"DATA",345,95,1,0)
^^1^1^3150519
"DATA",345,95,1,1,0)
Plan procedures not followed.  
"DATA",345,96,0)
96^2950101^^3090920^3151012.170341
"DATA",345,96,1,0)
^^5^5^3150519
"DATA",345,96,1,1,0)
Non-covered charge(s). At least one Remark Code must be provided (may be
"DATA",345,96,1,2,0)
comprised of either the NCPDP Reject Reason Code, or Remittance Advice Remark
"DATA",345,96,1,3,0)
Code that is not an ALERT.) Note: Refer to the 835 Healthcare Policy
"DATA",345,96,1,4,0)
Identification Segment (loop 2110 Service Payment Information  REF), if
"DATA",345,96,1,5,0)
present.  
"DATA",345,97,0)
97^2950101^^3090920^3151012.170341
"DATA",345,97,1,0)
^^4^4^3150519
"DATA",345,97,1,1,0)
The benefit for this service is included in the payment/allowance for another
"DATA",345,97,1,2,0)
service/procedure that has already been adjudicated. Note: Refer to the 835
"DATA",345,97,1,3,0)
Healthcare Policy Identification Segment (loop 2110 Service Payment Information 
"DATA",345,97,1,4,0)
REF), if present.  
"DATA",345,98,0)
98^2950101^3031016^^3151012.170341
"DATA",345,98,1,0)
^^2^2^3150519
"DATA",345,98,1,1,0)
The hospital must file the Medicare claim for this inpatient non-physician
"DATA",345,98,1,2,0)
service.  
"DATA",345,99,0)
99^2950101^3031016^^3151012.170341
"DATA",345,99,1,0)
^^1^1^3150519
"DATA",345,99,1,1,0)
Medicare Secondary Payer Adjustment Amount.  
"DATA",345,100,0)
100^2950101^^3080127^3151012.170341
"DATA",345,100,1,0)
^^1^1^3150519
"DATA",345,100,1,1,0)
Payment made to patient/insured/responsible party/employer.  
"DATA",345,101,0)
101^2950101^^2990228^3151012.170341
"DATA",345,101,1,0)
^^2^2^3150519
"DATA",345,101,1,1,0)
Predetermination: anticipated payment upon completion of services or claim
"DATA",345,101,1,2,0)
adjudication.  
"DATA",345,102,0)
102^2950101^^^3151012.170341
"DATA",345,102,1,0)
^^1^1^3150519
"DATA",345,102,1,1,0)
Major Medical Adjustment.  
"DATA",345,103,0)
103^2950101^^3010630^3151012.170341
"DATA",345,103,1,0)
^^1^1^3150519
"DATA",345,103,1,1,0)
Provider promotional discount (e.g., Senior citizen discount).  
"DATA",345,104,0)
104^2950101^^^3151012.170341
"DATA",345,104,1,0)
^^1^1^3150519
"DATA",345,104,1,1,0)
Managed care withholding.  
"DATA",345,105,0)
105^2950101^^^3151012.170341
"DATA",345,105,1,0)
^^1^1^3150519
"DATA",345,105,1,1,0)
Tax withholding.  
"DATA",345,106,0)
106^2950101^^^3151012.170341
"DATA",345,106,1,0)
^^1^1^3150519
"DATA",345,106,1,1,0)
Patient payment option/election not in effect.  
"DATA",345,107,0)
107^2950101^^3090920^3151012.170342
"DATA",345,107,1,0)
^^3^3^3150519
"DATA",345,107,1,1,0)
The related or qualifying claim/service was not identified on this claim. Note:
"DATA",345,107,1,2,0)
Refer to the 835 Healthcare Policy Identification Segment (loop 2110 Service
"DATA",345,107,1,3,0)
Payment Information  REF), if present.  
"DATA",345,108,0)
108^2950101^^3090920^3151012.170342
"DATA",345,108,1,0)
^^3^3^3150519
"DATA",345,108,1,1,0)
Rent/purchase guidelines were not met. Note: Refer to the 835 Healthcare Policy
"DATA",345,108,1,2,0)
Identification Segment (loop 2110 Service Payment Information  REF), if
"DATA",345,108,1,3,0)
present.  
"DATA",345,109,0)
109^2950101^^3120129^3151012.170342
"DATA",345,109,1,0)
^^2^2^3150519
"DATA",345,109,1,1,0)
Claim/service not covered by this payer/contractor. You must send the
"DATA",345,109,1,2,0)
claim/service to the correct payer/contractor.  
"DATA",345,110,0)
110^2950101^^^3151012.170342
"DATA",345,110,1,0)
^^1^1^3150519
"DATA",345,110,1,1,0)
Billing date predates service date.  
"DATA",345,111,0)
111^2950101^^^3151012.170342
"DATA",345,111,1,0)
^^1^1^3150519
"DATA",345,111,1,1,0)
Not covered unless the provider accepts assignment.  
"DATA",345,112,0)
112^2950101^^3070930^3151012.170342
"DATA",345,112,1,0)
^^1^1^3150519
"DATA",345,112,1,1,0)
Service not furnished directly to the patient and/or not documented.  
"DATA",345,113,0)
113^2950101^3070630^3010228^3151012.170342
"DATA",345,113,1,0)
^^2^2^3150519
"DATA",345,113,1,1,0)
Payment denied because service/procedure was provided outside the United States
"DATA",345,113,1,2,0)
or as a result of war.  
"DATA",345,113,2)
Notes: Use Codes 157, 158 or 159.
"DATA",345,114,0)
114^2950101^^^3151012.170342
"DATA",345,114,1,0)
^^1^1^3150519
"DATA",345,114,1,1,0)
Procedure/product not approved by the Food and Drug Administration.  
"DATA",345,115,0)
115^2950101^^3070930^3151012.170342
"DATA",345,115,1,0)
^^1^1^3150519
"DATA",345,115,1,1,0)
Procedure postponed, canceled, or delayed.  
"DATA",345,116,0)
116^2950101^^3070930^3151012.170342
"DATA",345,116,1,0)
^^2^2^3150519
"DATA",345,116,1,1,0)
The advance indemnification notice signed by the patient did not comply with
"DATA",345,116,1,2,0)
requirements.  
"DATA",345,117,0)
117^2950101^^3070930^3151012.170342
"DATA",345,117,1,0)
^^2^2^3150519
"DATA",345,117,1,1,0)
Transportation is only covered to the closest facility that can provide the
"DATA",345,117,1,2,0)
necessary care.  
"DATA",345,118,0)
118^2950101^^3070930^3151012.170342
"DATA",345,118,1,0)
^^1^1^3150519
"DATA",345,118,1,1,0)
ESRD network support adjustment.  
"DATA",345,119,0)
119^2950101^^3040229^3151012.170342
"DATA",345,119,1,0)
^^1^1^3150519
"DATA",345,119,1,1,0)
Benefit maximum for this time period or occurrence has been reached.  
"DATA",345,120,0)
120^2950101^3070630^^3151012.170342
"DATA",345,120,1,0)
^^1^1^3150519
"DATA",345,120,1,1,0)
Patient is covered by a managed care plan.  
"DATA",345,120,2)
Notes: Use code 24.
"DATA",345,121,0)
121^2950101^^3070930^3151012.170342
"DATA",345,121,1,0)
^^2^2^3150519
"DATA",345,121,1,1,0)
Indemnification adjustment - compensation for outstanding member
"DATA",345,121,1,2,0)
responsibility.  
"DATA",345,122,0)
122^2950101^^^3151012.170342
"DATA",345,122,1,0)
^^1^1^3150519
"DATA",345,122,1,1,0)
Psychiatric reduction.  
"DATA",345,123,0)
123^2950101^3070630^^3151012.170342
"DATA",345,123,1,0)
^^1^1^3150519
"DATA",345,123,1,1,0)
Payer refund due to overpayment.  
"DATA",345,123,2)
Notes: Refer to implementation guide for proper handling of reversals.
"DATA",345,124,0)
124^2950101^3070630^2990630^3151012.170342
"DATA",345,124,1,0)
^^1^1^3150519
"DATA",345,124,1,1,0)
Payer refund amount - not our patient.  
"DATA",345,124,2)
Notes: Refer to implementation guide for proper handling of reversals.
"DATA",345,125,0)
125^2950101^3131101^3090920^3151012.170342
"DATA",345,125,1,0)
^^3^3^3150519
"DATA",345,125,1,1,0)
Submission/billing error(s). At least one Remark Code must be provided (may be
"DATA",345,125,1,2,0)
comprised of either the NCPDP Reject Reason Code, or Remittance Advice Remark
"DATA",345,125,1,3,0)
Code that is not an ALERT.) 
"DATA",345,126,0)
126^2970228^3080401^3070930^3151012.170342
"DATA",345,126,1,0)
^^1^1^3150519
"DATA",345,126,1,1,0)
Deductible -- Major Medical 
"DATA",345,126,2)
Notes: Use Group Code PR and code 1.
"DATA",345,127,0)
127^2970228^3080401^3070930^3151012.170342
"DATA",345,127,1,0)
^^1^1^3150519
"DATA",345,127,1,1,0)
Coinsurance -- Major Medical 
"DATA",345,127,2)
Notes: Use Group Code PR and code 2.
"DATA",345,128,0)
128^2970228^^^3151012.170342
"DATA",345,128,1,0)
^^1^1^3150519
"DATA",345,128,1,1,0)
Newborn"s services are covered in the mother"s Allowance.  
"DATA",345,129,0)
129^2970228^^3110130^3151012.170342
"DATA",345,129,1,0)
^^3^3^3150519
"DATA",345,129,1,1,0)
Prior processing information appears incorrect. At least one Remark Code must
"DATA",345,129,1,2,0)
be provided (may be comprised of either the NCPDP Reject Reason Code, or
"DATA",345,129,1,3,0)
Remittance Advice Remark Code that is not an ALERT.) 
"DATA",345,130,0)
130^2970228^^3010630^3151012.170342
"DATA",345,130,1,0)
^^1^1^3150519
"DATA",345,130,1,1,0)
Claim submission fee.  
"DATA",345,131,0)
131^2970228^^^3151012.170342
"DATA",345,131,1,0)
^^1^1^3150519
"DATA",345,131,1,1,0)
Claim specific negotiated discount.  
"DATA",345,132,0)
132^2970228^^^3151012.170342
"DATA",345,132,1,0)
^^1^1^3150519
"DATA",345,132,1,1,0)
Prearranged demonstration project adjustment.  
"DATA",345,133,0)
133^3140701^^3150301^3151012.170342
"DATA",345,133,1,0)
^^4^4^3150519
"DATA",345,133,1,1,0)
The disposition of this service line is pending further review. (Use only with
"DATA",345,133,1,2,0)
Group Code OA). Note: Use of this code requires a reversal and correction when
"DATA",345,133,1,3,0)
the service line is finalized (use only in Loop 2110 CAS segment of the 835 or
"DATA",345,133,1,4,0)
Loop 2430 of the 837).  
"DATA",345,134,0)
134^2981031^^^3151012.170342
"DATA",345,134,1,0)
^^1^1^3150519
"DATA",345,134,1,1,0)
Technical fees removed from charges.  
"DATA",345,135,0)
135^2981031^^3070930^3151012.170342
"DATA",345,135,1,0)
^^1^1^3150519
"DATA",345,135,1,1,0)
Interim bills cannot be processed.  
"DATA",345,136,0)
136^2981031^^3130701^3151012.170342
"DATA",345,136,1,0)
^^1^1^3150519
"DATA",345,136,1,1,0)
Failure to follow prior payer"s coverage rules. (Use only with Group Code OA) 
"DATA",345,137,0)
137^2990228^^3070930^3151012.170342
"DATA",345,137,1,0)
^^1^1^3150519
"DATA",345,137,1,1,0)
Regulatory Surcharges, Assessments, Allowances or Health Related Taxes.  
"DATA",345,138,0)
138^2990630^^3070930^3151012.170342
"DATA",345,138,1,0)
^^1^1^3150519
"DATA",345,138,1,1,0)
Appeal procedures not followed or time limits not met.  
"DATA",345,139,0)
139^2990630^^^3151012.170342
"DATA",345,139,1,0)
^^2^2^3150519
"DATA",345,139,1,1,0)
Contracted funding agreement - Subscriber is employed by the provider of
"DATA",345,139,1,2,0)
services.  
"DATA",345,140,0)
140^2990630^^^3151012.170342
"DATA",345,140,1,0)
^^1^1^3150519
"DATA",345,140,1,1,0)
Patient/Insured health identification number and name do not match.  
"DATA",345,141,0)
141^2990630^3120701^3070930^3151012.170342
"DATA",345,141,1,0)
^^1^1^3150519
"DATA",345,141,1,1,0)
Claim spans eligible and ineligible periods of coverage.  
"DATA",345,142,0)
142^3000630^^3070930^3151012.170342
"DATA",345,142,1,0)
^^1^1^3150519
"DATA",345,142,1,1,0)
Monthly Medicaid patient liability amount.  
"DATA",345,143,0)
143^3010228^^^3151012.170342
"DATA",345,143,1,0)
^^1^1^3150519
"DATA",345,143,1,1,0)
Portion of payment deferred.  
"DATA",345,144,0)
144^3010630^^^3151012.170342
"DATA",345,144,1,0)
^^1^1^3150519
"DATA",345,144,1,1,0)
Incentive adjustment, e.g. preferred product/service.  
"DATA",345,145,0)
145^3020630^3080401^3070930^3151012.170342
"DATA",345,145,1,0)
^^1^1^3150519
"DATA",345,145,1,1,0)
Premium payment withholding 
"DATA",345,145,2)
Notes: Use Group Code CO and code 45.
"DATA",345,146,0)
146^3020630^^3070930^3151012.170342
"DATA",345,146,1,0)
^^1^1^3150519
"DATA",345,146,1,1,0)
Diagnosis was invalid for the date(s) of service reported.  
"DATA",345,147,0)
147^3020630^^^3151012.170342
"DATA",345,147,1,0)
^^1^1^3150519
"DATA",345,147,1,1,0)
Provider contracted/negotiated rate expired or not on file.  
"DATA",345,148,0)
148^3020630^^3090920^3151012.170342
"DATA",345,148,1,0)
^^4^4^3150519
"DATA",345,148,1,1,0)
Information from another provider was not provided or was
"DATA",345,148,1,2,0)
insufficient/incomplete. At least one Remark Code must be provided (may be
"DATA",345,148,1,3,0)
comprised of either the NCPDP Reject Reason Code, or Remittance Advice Remark
"DATA",345,148,1,4,0)
Code that is not an ALERT.) 
"DATA",345,149,0)
149^3021031^^^3151012.170342
"DATA",345,149,1,0)
^^1^1^3150519
"DATA",345,149,1,1,0)
Lifetime benefit maximum has been reached for this service/benefit category.  
"DATA",345,150,0)
150^3021031^^3070930^3151012.170342
"DATA",345,150,1,0)
^^1^1^3150519
"DATA",345,150,1,1,0)
Payer deems the information submitted does not support this level of service.  
"DATA",345,151,0)
151^3021031^^3080127^3151012.170342
"DATA",345,151,1,0)
^^2^2^3150519
"DATA",345,151,1,1,0)
Payment adjusted because the payer deems the information submitted does not
"DATA",345,151,1,2,0)
support this many/frequency of services.  
"DATA",345,152,0)
152^3021031^^3090920^3151012.170342
"DATA",345,152,1,0)
^^3^3^3150519
"DATA",345,152,1,1,0)
Payer deems the information submitted does not support this length of service.
"DATA",345,152,1,2,0)
Note: Refer to the 835 Healthcare Policy Identification Segment (loop 2110
"DATA",345,152,1,3,0)
Service Payment Information  REF), if present.  
"DATA",345,153,0)
153^3021031^^3070930^3151012.170342
"DATA",345,153,1,0)
^^1^1^3150519
"DATA",345,153,1,1,0)
Payer deems the information submitted does not support this dosage.  
"DATA",345,154,0)
154^3021031^^3070930^3151012.170342
"DATA",345,154,1,0)
^^1^1^3150519
"DATA",345,154,1,1,0)
Payer deems the information submitted does not support this day"s supply.  
"DATA",345,155,0)
155^3030630^^3070930^3151012.170342
"DATA",345,155,1,0)
^^1^1^3150519
"DATA",345,155,1,1,0)
Patient refused the service/procedure.  
"DATA",345,156,0)
156^3030930^3091001^3090125^3151012.170342
"DATA",345,156,1,0)
^^1^1^3150519
"DATA",345,156,1,1,0)
Flexible spending account payments. Note: Use code 187.  
"DATA",345,157,0)
157^3030930^^3070930^3151012.170342
"DATA",345,157,1,0)
^^1^1^3150519
"DATA",345,157,1,1,0)
Service/procedure was provided as a result of an act of war.  
"DATA",345,158,0)
158^3030930^^3070930^3151012.170342
"DATA",345,158,1,0)
^^1^1^3150519
"DATA",345,158,1,1,0)
Service/procedure was provided outside of the United States.  
"DATA",345,159,0)
159^3030930^^3070930^3151012.170342
"DATA",345,159,1,0)
^^1^1^3150519
"DATA",345,159,1,1,0)
Service/procedure was provided as a result of terrorism.  
"DATA",345,160,0)
160^3030930^^3070930^3151012.170342
"DATA",345,160,1,0)
^^1^1^3150519
"DATA",345,160,1,1,0)
Injury/illness was the result of an activity that is a benefit exclusion.  
"DATA",345,161,0)
161^3040229^^^3151012.170342
"DATA",345,161,1,0)
^^1^1^3150519
"DATA",345,161,1,1,0)
Provider performance bonus 
"DATA",345,162,0)
162^3040229^3140701^^3151012.170342
"DATA",345,162,1,0)
^^2^2^3150519
"DATA",345,162,1,1,0)
State-mandated Requirement for Property and Casualty, see Claim Payment Remarks
"DATA",345,162,1,2,0)
Code for specific explanation.  
"DATA",345,162,2)
Notes: Use code P1
"DATA",345,163,0)
163^3040630^^3130602^3151012.170342
"DATA",345,163,1,0)
^^1^1^3150519
"DATA",345,163,1,1,0)
Attachment/other documentation referenced on the claim was not received.  
"DATA",345,164,0)
164^3040630^^3130602^3151012.170342
"DATA",345,164,1,0)
^^2^2^3150519
"DATA",345,164,1,1,0)
Attachment/other documentation referenced on the claim was not received in a
"DATA",345,164,1,2,0)
timely fashion.  
"DATA",345,165,0)
165^3041031^^3070930^3151012.170342
"DATA",345,165,1,0)
^^1^1^3150519
"DATA",345,165,1,1,0)
Referral absent or exceeded.  
"DATA",345,166,0)
166^3050228^^^3151012.170342
"DATA",345,166,1,0)
^^2^2^3150519
"DATA",345,166,1,1,0)
These services were submitted after this payers responsibility for processing
"DATA",345,166,1,2,0)
claims under this plan ended.  
"DATA",345,167,0)
167^3050630^^3090920^3151012.170342
"DATA",345,167,1,0)
^^3^3^3150519
"DATA",345,167,1,1,0)
This (these) diagnosis(es) is (are) not covered. Note: Refer to the 835
"DATA",345,167,1,2,0)
Healthcare Policy Identification Segment (loop 2110 Service Payment Information 
"DATA",345,167,1,3,0)
REF), if present.  
"DATA",345,168,0)
168^3050630^^3070930^3151012.170342
"DATA",345,168,1,0)
^^2^2^3150519
"DATA",345,168,1,1,0)
Service(s) have been considered under the patient"s medical plan. Benefits are
"DATA",345,168,1,2,0)
not available under this dental plan.  
"DATA",345,169,0)
169^3050630^^3070930^3151012.170342
"DATA",345,169,1,0)
^^1^1^3150519
"DATA",345,169,1,1,0)
Alternate benefit has been provided.  
"DATA",345,170,0)
170^3050630^^3090920^3151012.170342
"DATA",345,170,1,0)
^^3^3^3150519
"DATA",345,170,1,1,0)
Payment is denied when performed/billed by this type of provider. Note: Refer
"DATA",345,170,1,2,0)
to the 835 Healthcare Policy Identification Segment (loop 2110 Service Payment
"DATA",345,170,1,3,0)
Information  REF), if present.  
"DATA",345,171,0)
171^3050630^^3090920^3151012.170342
"DATA",345,171,1,0)
^^3^3^3150519
"DATA",345,171,1,1,0)
Payment is denied when performed/billed by this type of provider in this type
"DATA",345,171,1,2,0)
of facility. Note: Refer to the 835 Healthcare Policy Identification Segment
"DATA",345,171,1,3,0)
(loop 2110 Service Payment Information  REF), if present.  
"DATA",345,172,0)
172^3050630^^3090920^3151012.170342
"DATA",345,172,1,0)
^^3^3^3150519
"DATA",345,172,1,1,0)
Payment is adjusted when performed/billed by a provider of this specialty.
"DATA",345,172,1,2,0)
Note: Refer to the 835 Healthcare Policy Identification Segment (loop 2110
"DATA",345,172,1,3,0)
Service Payment Information  REF), if present.  
"DATA",345,173,0)
173^3050630^^3130701^3151012.170342
"DATA",345,173,1,0)
^^1^1^3150519
"DATA",345,173,1,1,0)
Service/equipment was not prescribed by a physician.  
"DATA",345,174,0)
174^3050630^^3070930^3151012.170342
"DATA",345,174,1,0)
^^1^1^3150519
"DATA",345,174,1,1,0)
Service was not prescribed prior to delivery.  
"DATA",345,175,0)
175^3050630^^3070930^3151012.170342
"DATA",345,175,1,0)
^^1^1^3150519
"DATA",345,175,1,1,0)
Prescription is incomplete.  
"DATA",345,176,0)
176^3050630^^3070930^3151012.170342
"DATA",345,176,1,0)
^^1^1^3150519
"DATA",345,176,1,1,0)
Prescription is not current.  
"DATA",345,177,0)
177^3050630^^3070930^3151012.170342
"DATA",345,177,1,0)
^^1^1^3150519
"DATA",345,177,1,1,0)
Patient has not met the required eligibility requirements.  
"DATA",345,178,0)
178^3050630^^3070930^3151012.170342
"DATA",345,178,1,0)
^^1^1^3150519
"DATA",345,178,1,1,0)
Patient has not met the required spend down requirements.  
"DATA",345,179,0)
179^3050630^^3090920^3151012.170343
"DATA",345,179,1,0)
^^3^3^3150519
"DATA",345,179,1,1,0)
Patient has not met the required waiting requirements. Note: Refer to the 835
"DATA",345,179,1,2,0)
Healthcare Policy Identification Segment (loop 2110 Service Payment Information 
"DATA",345,179,1,3,0)
REF), if present.  
"DATA",345,180,0)
180^3050630^^3070930^3151012.170343
"DATA",345,180,1,0)
^^1^1^3150519
"DATA",345,180,1,1,0)
Patient has not met the required residency requirements.  
"DATA",345,181,0)
181^3050630^^3070930^3151012.170343
"DATA",345,181,1,0)
^^1^1^3150519
"DATA",345,181,1,1,0)
Procedure code was invalid on the date of service.  
"DATA",345,182,0)
182^3050630^^3070930^3151012.170343
"DATA",345,182,1,0)
^^1^1^3150519
"DATA",345,182,1,1,0)
Procedure modifier was invalid on the date of service.  
"DATA",345,183,0)
183^3050630^^3090920^3151012.170343
"DATA",345,183,1,0)
^^3^3^3150519
"DATA",345,183,1,1,0)
The referring provider is not eligible to refer the service billed. Note: Refer
"DATA",345,183,1,2,0)
to the 835 Healthcare Policy Identification Segment (loop 2110 Service Payment
"DATA",345,183,1,3,0)
Information  REF), if present.  
"DATA",345,184,0)
184^3050630^^3090920^3151012.170343
"DATA",345,184,1,0)
^^3^3^3150519
"DATA",345,184,1,1,0)
The prescribing/ordering provider is not eligible to prescribe/order the
"DATA",345,184,1,2,0)
service billed. Note: Refer to the 835 Healthcare Policy Identification Segment
"DATA",345,184,1,3,0)
(loop 2110 Service Payment Information  REF),if present.  
"DATA",345,185,0)
185^3050630^^3090920^3151012.170343
"DATA",345,185,1,0)
^^3^3^3150519
"DATA",345,185,1,1,0)
The rendering provider is not eligible to perform the service billed. Note:
"DATA",345,185,1,2,0)
Refer to the 835 Healthcare Policy Identification Segment (loop 2110 Service
"DATA",345,185,1,3,0)
Payment Information  REF), if present.  
"DATA",345,186,0)
186^3050630^^3070930^3151012.170343
"DATA",345,186,1,0)
^^1^1^3150519
"DATA",345,186,1,1,0)
Level of care change adjustment.  
"DATA",345,187,0)
187^3050630^^3090125^3151012.170343
"DATA",345,187,1,0)
^^2^2^3150519
"DATA",345,187,1,1,0)
Consumer Spending Account payments (includes but is not limited to Flexible
"DATA",345,187,1,2,0)
Spending Account, Health Savings Account, Health Reimbursement Account, etc.) 
"DATA",345,188,0)
188^3050630^^^3151012.170343
"DATA",345,188,1,0)
^^2^2^3150519
"DATA",345,188,1,1,0)
This product/procedure is only covered when used according to FDA
"DATA",345,188,1,2,0)
recommendations.  
"DATA",345,189,0)
189^3050630^^^3151012.170343
"DATA",345,189,1,0)
^^2^2^3150519
"DATA",345,189,1,1,0)
"Not otherwise classified" or "unlisted" procedure code (CPT/HCPCS) was billed
"DATA",345,189,1,2,0)
when there is a specific procedure code for this procedure/service 
"DATA",345,190,0)
190^3051031^^^3151012.170343
"DATA",345,190,1,0)
^^2^2^3150519
"DATA",345,190,1,1,0)
Payment is included in the allowance for a Skilled Nursing Facility (SNF)
"DATA",345,190,1,2,0)
qualified stay.  
"DATA",345,191,0)
191^3051031^3140701^3101017^3151012.170343
"DATA",345,191,1,0)
^^7^7^3150519
"DATA",345,191,1,1,0)
Not a work related injury/illness and thus not the liability of the workers"
"DATA",345,191,1,2,0)
compensation carrier Note: If adjustment is at the Claim Level, the payer must
"DATA",345,191,1,3,0)
send and the provider should refer to the 835 Insurance Policy Number Segment
"DATA",345,191,1,4,0)
(Loop 2100 Other Claim Related Information REF qualifier "IG") for the
"DATA",345,191,1,5,0)
jurisdictional regulation. If adjustment is at the Line Level, the payer must
"DATA",345,191,1,6,0)
send and the provider should refer to the 835 Healthcare Policy Identification
"DATA",345,191,1,7,0)
Segment (loop 2110 Service Payment information REF) 
"DATA",345,191,2)
Notes: Use code P2
"DATA",345,192,0)
192^3051031^^3070930^3151012.170343
"DATA",345,192,1,0)
^^5^5^3150519
"DATA",345,192,1,1,0)
Non standard adjustment code from paper remittance. Note: This code is to be
"DATA",345,192,1,2,0)
used by providers/payers providing Coordination of Benefits information to
"DATA",345,192,1,3,0)
another payer in the 837 transaction only. This code is only used when the
"DATA",345,192,1,4,0)
non-standard code cannot be reasonably mapped to an existing Claims Adjustment
"DATA",345,192,1,5,0)
Reason Code, specifically Deductible, Coinsurance and Co-payment.  
"DATA",345,193,0)
193^3060228^^3080127^3151012.170343
"DATA",345,193,1,0)
^^2^2^3150519
"DATA",345,193,1,1,0)
Original payment decision is being maintained. Upon review, it was determined
"DATA",345,193,1,2,0)
that this claim was processed properly.  
"DATA",345,194,0)
194^3060228^^3070930^3151012.170343
"DATA",345,194,1,0)
^^2^2^3150519
"DATA",345,194,1,1,0)
Anesthesia performed by the operating physician, the assistant surgeon or the
"DATA",345,194,1,2,0)
attending physician.  
"DATA",345,195,0)
195^3060228^^3070930^3151012.170343
"DATA",345,195,1,0)
^^1^1^3150519
"DATA",345,195,1,1,0)
Refund issued to an erroneous priority payer for this claim/service.  
"DATA",345,196,0)
196^3060630^3070201^^3151012.170343
"DATA",345,196,1,0)
^^1^1^3150519
"DATA",345,196,1,1,0)
Claim/service denied based on prior payer"s coverage determination.  
"DATA",345,196,2)
Notes: Use code 136.
"DATA",345,197,0)
197^3061031^^3070930^3151012.170343
"DATA",345,197,1,0)
^^1^1^3150519
"DATA",345,197,1,1,0)
Precertification/authorization/notification absent.  
"DATA",345,198,0)
198^3061031^^3070930^3151012.170343
"DATA",345,198,1,0)
^^1^1^3150519
"DATA",345,198,1,1,0)
Precertification/authorization exceeded.  
"DATA",345,199,0)
199^3061031^^^3151012.170343
"DATA",345,199,1,0)
^^1^1^3150519
"DATA",345,199,1,1,0)
Revenue code and Procedure code do not match.  
"DATA",345,200,0)
200^3061031^^^3151012.170343
"DATA",345,200,1,0)
^^1^1^3150519
"DATA",345,200,1,1,0)
Expenses incurred during lapse in coverage 
"DATA",345,201,0)
201^3061031^^3140928^3151012.170343
"DATA",345,201,1,0)
^^4^4^3150519
"DATA",345,201,1,1,0)
Patient is responsible for amount of this claim/service through "set aside
"DATA",345,201,1,2,0)
arrangement" or other agreement. (Use only with Group Code PR)  At least one
"DATA",345,201,1,3,0)
Remark Code must be provided (may be comprisedof either the NCPDP Reject Reason
"DATA",345,201,1,4,0)
Code, or Remittance Advice Remark Code that is not an ALERT.) 
"DATA",345,201,2)
Notes: Not for use by Workers' Compensation payers; use code P3 instead.
"DATA",345,202,0)
202^3070228^^3070930^3151012.170343
"DATA",345,202,1,0)
^^1^1^3150519
"DATA",345,202,1,1,0)
Non-covered personal comfort or convenience services.  
"DATA",345,203,0)
203^3070228^^3070930^3151012.170343
"DATA",345,203,1,0)
^^1^1^3150519
"DATA",345,203,1,1,0)
Discontinued or reduced service.  
"DATA",345,204,0)
204^3070228^^^3151012.170343
"DATA",345,204,1,0)
^^2^2^3150519
"DATA",345,204,1,1,0)
This service/equipment/drug is not covered under the patient"s current benefit
"DATA",345,204,1,2,0)
plan 
"DATA",345,205,0)
205^3070709^^^3151012.170343
"DATA",345,205,1,0)
^^1^1^3150519
"DATA",345,205,1,1,0)
Pharmacy discount card processing fee 
"DATA",345,206,0)
206^3070709^^3070930^3151012.170343
"DATA",345,206,1,0)
^^1^1^3150519
"DATA",345,206,1,1,0)
National Provider Identifier - missing.  
"DATA",345,207,0)
207^3070709^^3080601^3151012.170343
"DATA",345,207,1,0)
^^1^1^3150519
"DATA",345,207,1,1,0)
National Provider identifier - Invalid format 
"DATA",345,208,0)
208^3070709^^3070930^3151012.170343
"DATA",345,208,1,0)
^^1^1^3150519
"DATA",345,208,1,1,0)
National Provider Identifier - Not matched.  
"DATA",345,209,0)
209^3070709^^3130701^3151012.170343
"DATA",345,209,1,0)
^^3^3^3150519
"DATA",345,209,1,1,0)
Per regulatory or other agreement. The provider cannot collect this amount from
"DATA",345,209,1,2,0)
the patient. However, this amount may be billed to subsequent payer. Refund to
"DATA",345,209,1,3,0)
patient if collected. (Use only with Group code OA) 
"DATA",345,210,0)
210^3070709^^^3151012.170343
"DATA",345,210,1,0)
^^2^2^3150519
"DATA",345,210,1,1,0)
Payment adjusted because pre-certification/authorization not received in a
"DATA",345,210,1,2,0)
timely fashion 
"DATA",345,211,0)
211^3070709^^^3151012.170343
"DATA",345,211,1,0)
^^1^1^3150519
"DATA",345,211,1,1,0)
National Drug Codes (NDC) not eligible for rebate, are not covered.  
"DATA",345,212,0)
212^3071105^^^3151012.170343
"DATA",345,212,1,0)
^^1^1^3150519
"DATA",345,212,1,1,0)
Administrative surcharges are not covered 
"DATA",345,213,0)
213^3080127^^^3151012.170343
"DATA",345,213,1,0)
^^2^2^3150519
"DATA",345,213,1,1,0)
Non-compliance with the physician self referral prohibition legislation or
"DATA",345,213,1,2,0)
payer policy.  
"DATA",345,214,0)
214^3080127^3140701^3101017^3151012.170343
"DATA",345,214,1,0)
^^8^8^3150519
"DATA",345,214,1,1,0)
Workers" Compensation claim adjudicated as non-compensable. This Payer not
"DATA",345,214,1,2,0)
liable for claim or service/treatment. Note: If adjustment is at the Claim
"DATA",345,214,1,3,0)
Level, the payer must send and the provider should refer to the 835 Insurance
"DATA",345,214,1,4,0)
Policy Number Segment (Loop 2100 Other Claim Related Information REF qualifier
"DATA",345,214,1,5,0)
"IG") for the jurisdictional regulation. If adjustment is at the Line Level,
"DATA",345,214,1,6,0)
the payer must send and the provider should refer to the 835 Healthcare Policy
"DATA",345,214,1,7,0)
Identification Segment (loop 2110 Service Payment information REF). To be used
"DATA",345,214,1,8,0)
for Workers" Compensation only 
"DATA",345,214,2)
Notes: Use code P4
"DATA",345,215,0)
215^3080127^^^3151012.170343
"DATA",345,215,1,0)
^^1^1^3150519
"DATA",345,215,1,1,0)
Based on subrogation of a third party settlement 
"DATA",345,216,0)
216^3080127^^^3151012.170343
"DATA",345,216,1,0)
^^1^1^3150519
"DATA",345,216,1,1,0)
Based on the findings of a review organization 
"DATA",345,217,0)
217^3080127^3140701^3120930^3151012.170343
"DATA",345,217,1,0)
^^2^2^3150519
"DATA",345,217,1,1,0)
Based on payer reasonable and customary fees. No maximum allowable defined by
"DATA",345,217,1,2,0)
legislated fee arrangement. (Note: To be used for Property and Casualty only) 
"DATA",345,217,2)
Notes: Use code P5
"DATA",345,218,0)
218^3080127^3140701^3101017^3151012.170343
"DATA",345,218,1,0)
^^7^7^3150519
"DATA",345,218,1,1,0)
Based on entitlement to benefits. Note: If adjustment is at the Claim Level,
"DATA",345,218,1,2,0)
the payer must send and the provider should refer to the 835 Insurance Policy
"DATA",345,218,1,3,0)
Number Segment (Loop 2100 Other Claim Related Information REF qualifier "IG")
"DATA",345,218,1,4,0)
for the jurisdictional regulation. If adjustment is at the Line Level, the
"DATA",345,218,1,5,0)
payer must send and the provider should refer to the 835 Healthcare Policy
"DATA",345,218,1,6,0)
IdentificationSegment (loop 2110 Service Payment information REF). To be used
"DATA",345,218,1,7,0)
for Workers" Compensation only 
"DATA",345,218,2)
Notes: Use code P6
"DATA",345,219,0)
219^3080127^^3101017^3151012.170343
"DATA",345,219,1,0)
^^6^6^3150519
"DATA",345,219,1,1,0)
Based on extent of injury. Note: If adjustment is at the Claim Level, the payer
"DATA",345,219,1,2,0)
must send and the provider should refer to the 835 Insurance Policy Number
"DATA",345,219,1,3,0)
Segment (Loop 2100 Other Claim Related Information REF qualifier "IG") for the
"DATA",345,219,1,4,0)
jurisdictional regulation. If adjustment is at the Line Level, the payer must
"DATA",345,219,1,5,0)
send and the provider should refer to the 835 Healthcare Policy Identification
"DATA",345,219,1,6,0)
Segment (loop 2110 Service Payment information REF).  
"DATA",345,220,0)
220^3080127^3140701^3120930^3151012.170343
"DATA",345,220,1,0)
^^4^4^3150519
"DATA",345,220,1,1,0)
The applicable fee schedule/fee database does not contain the billed code.
"DATA",345,220,1,2,0)
Please resubmit a bill with the appropriate fee schedule/fee database code(s)
"DATA",345,220,1,3,0)
that best describe the service(s) provided and supporting documentation if
"DATA",345,220,1,4,0)
required. (Note: To be used for Property and Casualty only) 
"DATA",345,220,2)
Notes: Use code P7
"DATA",345,221,0)
221^3080127^3140701^3130701^3151012.170343
"DATA",345,221,1,0)
^^7^7^3150519
"DATA",345,221,1,1,0)
Claim is under investigation. Note: If adjustment is at the Claim Level, the
"DATA",345,221,1,2,0)
payer must send and the provider should refer to the 835 Insurance Policy
"DATA",345,221,1,3,0)
Number Segment (Loop 2100 Other Claim Related Information REF qualifier "IG")
"DATA",345,221,1,4,0)
for the jurisdictional regulation. If adjustment is at the Line Level, the
"DATA",345,221,1,5,0)
payer must send and the provider should refer to the 835 Healthcare Policy
"DATA",345,221,1,6,0)
Identification Segment (loop 2110 Service Payment information REF). (Note: To
"DATA",345,221,1,7,0)
be used by Property & Casualty only) 
"DATA",345,221,2)
Notes: Use code P8
"DATA",345,222,0)
222^3080601^^3090920^3151012.170343
"DATA",345,222,1,0)
^^4^4^3150519
"DATA",345,222,1,1,0)
Exceeds the contracted maximum number of hours/days/units by this provider for
"DATA",345,222,1,2,0)
this period. This is not patient specific. Note: Refer to the 835 Healthcare
"DATA",345,222,1,3,0)
Policy Identification Segment (loop 2110 Service Payment Information  REF), if
"DATA",345,222,1,4,0)
present.  
"DATA",345,223,0)
223^3080601^^^3151012.170343
"DATA",345,223,1,0)
^^3^3^3150519
"DATA",345,223,1,1,0)
Adjustment code for mandated federal, state or local law/regulation that is not
"DATA",345,223,1,2,0)
already covered by another code and is mandated before a new code can be
"DATA",345,223,1,3,0)
created.  
"DATA",345,224,0)
224^3080601^^^3151012.170343
"DATA",345,224,1,0)
^^2^2^3150519
"DATA",345,224,1,1,0)
Patient identification compromised by identity theft. Identity verification
"DATA",345,224,1,2,0)
required for processing this and future claims.  
"DATA",345,225,0)
225^3080601^^^3151012.170343
"DATA",345,225,1,0)
^^2^2^3150519
"DATA",345,225,1,1,0)
Penalty or Interest Payment by Payer (Only used for plan to plan encounter
"DATA",345,225,1,2,0)
reporting within the 837) 
"DATA",345,226,0)
226^3080921^^3130701^3151012.170343
"DATA",345,226,1,0)
^^4^4^3150519
"DATA",345,226,1,1,0)
Information requested from the Billing/Rendering Provider was not provided or
"DATA",345,226,1,2,0)
not provided timely or was insufficient/incomplete. At least one Remark Code
"DATA",345,226,1,3,0)
must be provided (may be comprised of either the NCPDP Reject Reason Code, or
"DATA",345,226,1,4,0)
Remittance Advice Remark Code that is not an ALERT.) 
"DATA",345,227,0)
227^3080921^^3090920^3151012.170343
"DATA",345,227,1,0)
^^4^4^3150519
"DATA",345,227,1,1,0)
Information requested from the patient/insured/responsible party was not
"DATA",345,227,1,2,0)
provided or was insufficient/incomplete. At least one Remark Code must be
"DATA",345,227,1,3,0)
provided (may be comprised of either the NCPDP Reject Reason Code, or
"DATA",345,227,1,4,0)
Remittance Advice Remark Code that is not an ALERT.) 
"DATA",345,228,0)
228^3080921^^^3151012.170343
"DATA",345,228,1,0)
^^2^2^3150519
"DATA",345,228,1,1,0)
Denied for failure of this provider, another provider or the subscriber to
"DATA",345,228,1,2,0)
supply requested information to a previous payer for their adjudication 
"DATA",345,229,0)
229^3090125^^3130701^3151012.170343
"DATA",345,229,1,0)
^^5^5^3150519
"DATA",345,229,1,1,0)
Partial charge amount not considered by Medicare due to the initial claim Type
"DATA",345,229,1,2,0)
of Bill being 12X. Note: This code can only be used in the 837 transaction to
"DATA",345,229,1,3,0)
convey Coordination of Benefits information when the secondary payer"s cost
"DATA",345,229,1,4,0)
avoidance policy allows providers to bypass claim submission to a prior payer.
"DATA",345,229,1,5,0)
(Use only with Group Code PR) 
"DATA",345,230,0)
230^3090125^3140701^^3151012.170343
"DATA",345,230,1,0)
^^2^2^3150519
"DATA",345,230,1,1,0)
No available or correlating CPT/HCPCS code to describe this service. Note: Used
"DATA",345,230,1,2,0)
only by Property and Casualty.  
"DATA",345,230,2)
Notes: Use code P9
"DATA",345,231,0)
231^3090701^^3090920^3151012.170343
"DATA",345,231,1,0)
^^3^3^3150519
"DATA",345,231,1,1,0)
Mutually exclusive procedures cannot be done in the same day/setting. Note:
"DATA",345,231,1,2,0)
Refer to the 835 Healthcare Policy Identification Segment (loop 2110 Service
"DATA",345,231,1,3,0)
Payment Information  REF), if present.  
"DATA",345,232,0)
232^3091101^^^3151012.170343
"DATA",345,232,1,0)
^^3^3^3150519
"DATA",345,232,1,1,0)
Institutional Transfer Amount. Note - Applies to institutional claims only and
"DATA",345,232,1,2,0)
explains the DRG amount difference when the patient care crosses multiple
"DATA",345,232,1,3,0)
institutions.  
"DATA",345,233,0)
233^3100124^^^3151012.170343
"DATA",345,233,1,0)
^^2^2^3150519
"DATA",345,233,1,1,0)
Services/charges related to the treatment of a hospital-acquired condition or
"DATA",345,233,1,2,0)
preventable medical error.  
"DATA",345,234,0)
234^3100124^^^3151012.170343
"DATA",345,234,1,0)
^^3^3^3150519
"DATA",345,234,1,1,0)
This procedure is not paid separately. At least one Remark Code must be
"DATA",345,234,1,2,0)
provided (may be comprised of either the NCPDP Reject Reason Code, or
"DATA",345,234,1,3,0)
Remittance Advice Remark Code that is not an ALERT.) 
"DATA",345,235,0)
235^3100606^^^3151012.170343
"DATA",345,235,1,0)
^^1^1^3150519
"DATA",345,235,1,1,0)
Sales Tax 
"DATA",345,236,0)
236^3110130^^3130701^3151012.170343
"DATA",345,236,1,0)
^^4^4^3150519
"DATA",345,236,1,1,0)
This procedure or procedure/modifier combination is not compatible with another
"DATA",345,236,1,2,0)
procedure or procedure/modifier combination provided on the same day according
"DATA",345,236,1,3,0)
to the National Correct Coding Initiative or workers compensation state
"DATA",345,236,1,4,0)
regulations/ fee schedule requirements.  
"DATA",345,237,0)
237^3110605^^^3151012.170343
"DATA",345,237,1,0)
^^3^3^3150519
"DATA",345,237,1,1,0)
Legislated/Regulatory Penalty. At least one Remark Code must be provided (may
"DATA",345,237,1,2,0)
be comprised of either the NCPDP Reject Reason Code, or Remittance Advice
"DATA",345,237,1,3,0)
Remark Code that is not an ALERT.) 
"DATA",345,238,0)
238^3120301^^3130701^3151012.170343
"DATA",345,238,1,0)
^^2^2^3150519
"DATA",345,238,1,1,0)
Claim spans eligible and ineligible periods of coverage, this is the reduction
"DATA",345,238,1,2,0)
for the ineligible period. (Use only with Group Code PR) 
"DATA",345,239,0)
239^3120301^^3120129^3151012.170343
"DATA",345,239,1,0)
^^2^2^3150519
"DATA",345,239,1,1,0)
Claim spans eligible and ineligible periods of coverage. Rebill separate
"DATA",345,239,1,2,0)
claims.  
"DATA",345,240,0)
240^3120603^^^3151012.170343
"DATA",345,240,1,0)
^^3^3^3150519
"DATA",345,240,1,1,0)
The diagnosis is inconsistent with the patient"s birth weight. Note: Refer to
"DATA",345,240,1,2,0)
the 835 Healthcare Policy Identification Segment (loop 2110 Service Payment
"DATA",345,240,1,3,0)
Information REF), if present.  
"DATA",345,241,0)
241^3120603^^^3151012.170343
"DATA",345,241,1,0)
^^1^1^3150519
"DATA",345,241,1,1,0)
Low Income Subsidy (LIS) Co-payment Amount 
"DATA",345,242,0)
242^3120603^^3130602^3151012.170343
"DATA",345,242,1,0)
^^1^1^3150519
"DATA",345,242,1,1,0)
Services not provided by network/primary care providers.  
"DATA",345,242,2)
Notes: This code replaces deactivated code 38
"DATA",345,243,0)
243^3120603^^3130602^3151012.170343
"DATA",345,243,1,0)
^^1^1^3150519
"DATA",345,243,1,1,0)
Services not authorized by network/primary care providers.  
"DATA",345,243,2)
Notes: This code replaces deactivated code 38
"DATA",345,244,0)
244^3120930^3140701^^3151012.170343
"DATA",345,244,1,0)
^^3^3^3150519
"DATA",345,244,1,1,0)
Payment reduced to zero due to litigation. Additional information will be sent
"DATA",345,244,1,2,0)
following the conclusion of litigation. To be used for Property & Casualty
"DATA",345,244,1,3,0)
only.  
"DATA",345,244,2)
Notes: Use code P10
"DATA",345,245,0)
245^3120930^^^3151012.170343
"DATA",345,245,1,0)
^^1^1^3150519
"DATA",345,245,1,1,0)
Provider performance program withhold.  
"DATA",345,246,0)
246^3120930^^^3151012.170343
"DATA",345,246,1,0)
^^1^1^3150519
"DATA",345,246,1,1,0)
This non-payable code is for required reporting only.  
"DATA",345,247,0)
247^3120930^^^3151012.170343
"DATA",345,247,1,0)
^^2^2^3150519
"DATA",345,247,1,1,0)
Deductible for Professional service rendered in an Institutional setting and
"DATA",345,247,1,2,0)
billed on an Institutional claim.  
"DATA",345,247,2)
Notes: For Medicare Bundled Payment use only, under the Patient Protection and Affordable Care Act (PPACA).
"DATA",345,248,0)
248^3120930^^^3151012.170343
"DATA",345,248,1,0)
^^2^2^3150519
"DATA",345,248,1,1,0)
Coinsurance for Professional service rendered in an Institutional setting and
"DATA",345,248,1,2,0)
billed on an Institutional claim.  
"DATA",345,248,2)
Notes: For Medicare Bundled Payment use only, under the Patient Protection and Affordable Care Act (PPACA).
"DATA",345,249,0)
249^3120930^^^3151012.170343
"DATA",345,249,1,0)
^^1^1^3150519
"DATA",345,249,1,1,0)
This claim has been identified as a readmission. (Use only with Group Code CO) 
"DATA",345,250,0)
250^3120930^^3140601^3151012.170344
"DATA",345,250,1,0)
^^4^4^3150519
"DATA",345,250,1,1,0)
The attachment/other documentation that was received was the incorrect
"DATA",345,250,1,2,0)
attachment/document. The expected attachment/document is still missing. At
"DATA",345,250,1,3,0)
least one Remark Code must be provided (may be comprised of either the NCPDP
"DATA",345,250,1,4,0)
Reject Reason Code, or Remittance Advice Remark Code that is not an ALERT).  
"DATA",345,251,0)
251^3120930^^3140601^3151012.170344
"DATA",345,251,1,0)
^^4^4^3150519
"DATA",345,251,1,1,0)
The attachment/other documentation that was received was incomplete or
"DATA",345,251,1,2,0)
deficient. The necessary information is still needed to process the claim. At
"DATA",345,251,1,3,0)
least one Remark Code must be provided (may be comprised of either the NCPDP
"DATA",345,251,1,4,0)
Reject Reason Code, or Remittance Advice Remark Code that is not an ALERT).  
"DATA",345,252,0)
252^3120930^^3130602^3151012.170344
"DATA",345,252,1,0)
^^3^3^3150519
"DATA",345,252,1,1,0)
An attachment/other documentation is required to adjudicate this claim/service.
"DATA",345,252,1,2,0)
At least one Remark Code must be provided (may be comprised of either the NCPDP
"DATA",345,252,1,3,0)
Reject Reason Code, or Remittance Advice Remark Code that is not an ALERT).  
"DATA",345,253,0)
253^3130602^^3131101^3151012.170344
"DATA",345,253,1,0)
^^1^1^3150519
"DATA",345,253,1,1,0)
Sequestration - reduction in federal payment 
"DATA",345,254,0)
254^3130602^^^3151012.170344
"DATA",345,254,1,0)
^^2^2^3150519
"DATA",345,254,1,1,0)
Claim received by the dental plan, but benefits not available under this plan. 
"DATA",345,254,1,2,0)
Submit these services to the patient"s medical plan for further consideration.  
"DATA",345,255,0)
255^3130602^3140701^^3151012.170344
"DATA",345,255,1,0)
^^2^2^3150519
"DATA",345,255,1,1,0)
The disposition of the related Property & Casualty claim (injury or illness) is
"DATA",345,255,1,2,0)
pending due to litigation. (Use only with Group Code OA) 
"DATA",345,255,2)
Notes: Use code P11
"DATA",345,256,0)
256^3130602^^^3151012.170344
"DATA",345,256,1,0)
^^1^1^3150519
"DATA",345,256,1,1,0)
Service not payable per managed care contract.  
"DATA",345,257,0)
257^3131101^^3140601^3151012.170344
"DATA",345,257,1,0)
^^4^4^3150519
"DATA",345,257,1,1,0)
The disposition of the claim/service is undetermined during the premium payment
"DATA",345,257,1,2,0)
grace period, per Health Insurance Exchange requirements. This claim/service
"DATA",345,257,1,3,0)
will be reversed and corrected when the grace period ends (due to premium
"DATA",345,257,1,4,0)
payment or lack of premium payment). (Use only with Group Code OA) 
"DATA",345,257,2)
Notes: To be used after the first month of the grace period.
"DATA",345,258,0)
258^3131101^^^3151012.170344
"DATA",345,258,1,0)
^^2^2^3150519
"DATA",345,258,1,1,0)
Claim/service not covered when patient is in custody/incarcerated. Applicable
"DATA",345,258,1,2,0)
federal, state or local authority may cover the claim/service.  
"DATA",345,259,0)
259^3140126^^^3151012.170344
"DATA",345,259,1,0)
^^1^1^3150519
"DATA",345,259,1,1,0)
Additional payment for Dental/Vision service utilization.  
"DATA",345,260,0)
260^3140126^^^3151012.170344
"DATA",345,260,1,0)
^^1^1^3150519
"DATA",345,260,1,1,0)
Processed under Medicaid ACA Enhanced Fee Schedule 
"DATA",345,261,0)
261^3140601^^^3151012.170344
"DATA",345,261,1,0)
^^1^1^3150519
"DATA",345,261,1,1,0)
The procedure or service is inconsistent with the patient"s history.  
"DATA",345,262,0)
A0^2950101^^^3151012.170344
"DATA",345,262,1,0)
^^1^1^3150519
"DATA",345,262,1,1,0)
Patient refund amount.  
"DATA",345,263,0)
A1^2950101^^3090920^3151012.170344
"DATA",345,263,1,0)
^^3^3^3150519
"DATA",345,263,1,1,0)
Claim/Service denied. At least one Remark Code must be provided (may be
"DATA",345,263,1,2,0)
comprised of either the NCPDP Reject Reason Code, or Remittance Advice Remark
"DATA",345,263,1,3,0)
Code that is not an ALERT.) 
"DATA",345,264,0)
A2^2950101^3080101^3070228^3151012.170344
"DATA",345,264,1,0)
^^1^1^3150519
"DATA",345,264,1,1,0)
Contractual adjustment.  
"DATA",345,264,2)
Notes: Use Code 45 with Group Code 'CO' or use another appropriate specific adjustment code.
"DATA",345,265,0)
A3^2950101^3031016^^3151012.170344
"DATA",345,265,1,0)
^^1^1^3150519
"DATA",345,265,1,1,0)
Medicare Secondary Payer liability met.  
"DATA",345,266,0)
A4^2950101^3080401^3070930^3151012.170344
"DATA",345,266,1,0)
^^1^1^3150519
"DATA",345,266,1,1,0)
Medicare Claim PPS Capital Day Outlier Amount.  
"DATA",345,267,0)
A5^2950101^^^3151012.170344
"DATA",345,267,1,0)
^^1^1^3150519
"DATA",345,267,1,1,0)
Medicare Claim PPS Capital Cost Outlier Amount.  
"DATA",345,268,0)
A6^2950101^^^3151012.170344
"DATA",345,268,1,0)
^^1^1^3150519
"DATA",345,268,1,1,0)
Prior hospitalization or 30 day transfer requirement not met.  
"DATA",345,269,0)
A7^2950101^3150701^^3151012.170344
"DATA",345,269,1,0)
^^1^1^3150519
"DATA",345,269,1,1,0)
Presumptive Payment Adjustment 
"DATA",345,270,0)
A8^2950101^^3070930^3151012.170344
"DATA",345,270,1,0)
^^1^1^3150519
"DATA",345,270,1,1,0)
Ungroupable DRG.  
"DATA",345,271,0)
B1^2950101^^^3151012.170344
"DATA",345,271,1,0)
^^1^1^3150519
"DATA",345,271,1,1,0)
Non-covered visits.  
"DATA",345,272,0)
B2^2950101^3031016^^3151012.170344
"DATA",345,272,1,0)
^^1^1^3150519
"DATA",345,272,1,1,0)
Covered visits.  
"DATA",345,273,0)
B3^2950101^3031016^^3151012.170344
"DATA",345,273,1,0)
^^1^1^3150519
"DATA",345,273,1,1,0)
Covered charges.  
"DATA",345,274,0)
B4^2950101^^^3151012.170344
"DATA",345,274,1,0)
^^1^1^3150519
"DATA",345,274,1,1,0)
Late filing penalty.  
"DATA",345,275,0)
B5^2950101^^3070930^3151012.170344
"DATA",345,275,1,0)
^^1^1^3150519
"DATA",345,275,1,1,0)
Coverage/program guidelines were not met or were exceeded.  
"DATA",345,276,0)
B6^2950101^3060201^^3151012.170344
"DATA",345,276,1,0)
^^3^3^3150519
"DATA",345,276,1,1,0)
This payment is adjusted when performed/billed by this type of provider, by
"DATA",345,276,1,2,0)
this type of provider in this type of facility, or by a provider of this
"DATA",345,276,1,3,0)
specialty.  
"DATA",345,277,0)
B7^2950101^^3090920^3151012.170344
"DATA",345,277,1,0)
^^4^4^3150519
"DATA",345,277,1,1,0)
This provider was not certified/eligible to be paid for this procedure/service
"DATA",345,277,1,2,0)
on this date of service. Note: Refer to the 835 Healthcare Policy
"DATA",345,277,1,3,0)
Identification Segment (loop 2110 Service Payment Information  REF), if
"DATA",345,277,1,4,0)
present.  
"DATA",345,278,0)
B8^2950101^^3090920^3151012.170344
"DATA",345,278,1,0)
^^3^3^3150519
"DATA",345,278,1,1,0)
Alternative services were available, and should have been utilized. Note: Refer
"DATA",345,278,1,2,0)
to the 835 Healthcare Policy Identification Segment (loop 2110 Service Payment
"DATA",345,278,1,3,0)
Information  REF), if present.  
"DATA",345,279,0)
B9^2950101^^3070930^3151012.170344
"DATA",345,279,1,0)
^^1^1^3150519
"DATA",345,279,1,1,0)
Patient is enrolled in a Hospice.  
"DATA",345,280,0)
B10^2950101^^^3151012.170344
"DATA",345,280,1,0)
^^3^3^3150519
"DATA",345,280,1,1,0)
Allowed amount has been reduced because a component of the basic procedure/test
"DATA",345,280,1,2,0)
was paid. The beneficiary is not liable for more than the charge limit for the
"DATA",345,280,1,3,0)
basic procedure/test.  
"DATA",345,281,0)
B11^2950101^^^3151012.170344
"DATA",345,281,1,0)
^^2^2^3150519
"DATA",345,281,1,1,0)
The claim/service has been transferred to the proper payer/processor for
"DATA",345,281,1,2,0)
processing. Claim/service not covered by this payer/processor.  
"DATA",345,282,0)
B12^2950101^^^3151012.170344
"DATA",345,282,1,0)
^^1^1^3150519
"DATA",345,282,1,1,0)
Services not documented in patients" medical records.  
"DATA",345,283,0)
B13^2950101^^^3151012.170344
"DATA",345,283,1,0)
^^2^2^3150519
"DATA",345,283,1,1,0)
Previously paid. Payment for this claim/service may have been provided in a
"DATA",345,283,1,2,0)
previous payment.  
"DATA",345,284,0)
B14^2950101^^3070930^3151012.170344
"DATA",345,284,1,0)
^^1^1^3150519
"DATA",345,284,1,1,0)
Only one visit or consultation per physician per day is covered.  
"DATA",345,285,0)
B15^2950101^^3090920^3151012.170344
"DATA",345,285,1,0)
^^4^4^3150519
"DATA",345,285,1,1,0)
This service/procedure requires that a qualifying service/procedure be received
"DATA",345,285,1,2,0)
and covered. The qualifying other service/procedure has not been
"DATA",345,285,1,3,0)
received/adjudicated. Note: Refer to the 835 Healthcare Policy Identification
"DATA",345,285,1,4,0)
Segment (loop 2110 Service Payment Information  REF), if present.  
"DATA",345,286,0)
B16^2950101^^3070930^3151012.170344
"DATA",345,286,1,0)
^^1^1^3150519
"DATA",345,286,1,1,0)
"New Patient" qualifications were not met.  
"DATA",345,287,0)
B17^2950101^3060201^^3151012.170344
"DATA",345,287,1,0)
^^3^3^3150519
"DATA",345,287,1,1,0)
Payment adjusted because this service was not prescribed by a physician, not
"DATA",345,287,1,2,0)
prescribed prior to delivery, the prescription is incomplete, or the
"DATA",345,287,1,3,0)
prescription is not current.  
"DATA",345,288,0)
B18^2950101^3090301^3080921^3151012.170344
"DATA",345,288,1,0)
^^1^1^3150519
"DATA",345,288,1,1,0)
This procedure code and modifier were invalid on the date of service.  
"DATA",345,289,0)
B19^2950101^3031016^^3151012.170344
"DATA",345,289,1,0)
^^1^1^3150519
"DATA",345,289,1,1,0)
Claim/service adjusted because of the finding of a Review Organization.  
"DATA",345,290,0)
B20^2950101^^3070930^3151012.170344
"DATA",345,290,1,0)
^^1^1^3150519
"DATA",345,290,1,1,0)
Procedure/service was partially or fully furnished by another provider.  
"DATA",345,291,0)
B21^2950101^3031016^^3151012.170344
"DATA",345,291,1,0)
^^2^2^3150519
"DATA",345,291,1,1,0)
The charges were reduced because the service/care was partially furnished by
"DATA",345,291,1,2,0)
another physician.  
"DATA",345,292,0)
B22^2950101^^3010228^3151012.170344
"DATA",345,292,1,0)
^^1^1^3150519
"DATA",345,292,1,1,0)
This payment is adjusted based on the diagnosis.  
"DATA",345,293,0)
B23^2950101^^3070930^3151012.170344
"DATA",345,293,1,0)
^^2^2^3150519
"DATA",345,293,1,1,0)
Procedure billed is not authorized per your Clinical Laboratory Improvement
"DATA",345,293,1,2,0)
Amendment (CLIA) proficiency test.  
"DATA",345,294,0)
D1^2950101^3031016^^3151012.170344
"DATA",345,294,1,0)
^^1^1^3150519
"DATA",345,294,1,1,0)
Claim/service denied. Level of subluxation is missing or inadequate.  
"DATA",345,294,2)
Notes: Use code 16 and remark codes if necessary.
"DATA",345,295,0)
D2^2950101^3031016^^3151012.170344
"DATA",345,295,1,0)
^^1^1^3150519
"DATA",345,295,1,1,0)
Claim lacks the name, strength, or dosage of the drug furnished.  
"DATA",345,295,2)
Notes: Use code 16 and remark codes if necessary.
"DATA",345,296,0)
D3^2950101^3031016^^3151012.170344
"DATA",345,296,1,0)
^^2^2^3150519
"DATA",345,296,1,1,0)
Claim/service denied because information to indicate if the patient owns the
"DATA",345,296,1,2,0)
equipment that requires the part or supply was missing.  
"DATA",345,296,2)
Notes: Use code 16 and remark codes if necessary.
"DATA",345,297,0)
D4^2950101^3031016^^3151012.170344
"DATA",345,297,1,0)
^^2^2^3150519
"DATA",345,297,1,1,0)
Claim/service does not indicate the period of time for which this will be
"DATA",345,297,1,2,0)
needed.  
"DATA",345,297,2)
Notes: Use code 16 and remark codes if necessary.
"DATA",345,298,0)
D5^2950101^3031016^^3151012.170344
"DATA",345,298,1,0)
^^1^1^3150519
"DATA",345,298,1,1,0)
Claim/service denied. Claim lacks individual lab codes included in the test.  
"DATA",345,298,2)
Notes: Use code 16 and remark codes if necessary.
"DATA",345,299,0)
D6^2950101^3031016^^3151012.170344
"DATA",345,299,1,0)
^^2^2^3150519
"DATA",345,299,1,1,0)
Claim/service denied. Claim did not include patient"s medical record for the
"DATA",345,299,1,2,0)
service.  
"DATA",345,299,2)
Notes: Use code 16 and remark codes if necessary.
"DATA",345,300,0)
D7^2950101^3031016^^3151012.170344
"DATA",345,300,1,0)
^^2^2^3150519
"DATA",345,300,1,1,0)
Claim/service denied. Claim lacks date of patient"s most recent physician
"DATA",345,300,1,2,0)
visit.  
"DATA",345,300,2)
Notes: Use code 16 and remark codes if necessary.
"DATA",345,301,0)
D8^2950101^3031016^^3151012.170344
"DATA",345,301,1,0)
^^2^2^3150519
"DATA",345,301,1,1,0)
Claim/service denied. Claim lacks indicator that "x-ray is available for
"DATA",345,301,1,2,0)
review." 
"DATA",345,301,2)
Notes: Use code 16 and remark codes if necessary.
"DATA",345,302,0)
D9^2950101^3031016^^3151012.170344
"DATA",345,302,1,0)
^^2^2^3150519
"DATA",345,302,1,1,0)
Claim/service denied. Claim lacks invoice or statement certifying the actual
"DATA",345,302,1,2,0)
cost of the lens, less discounts or the type of intraocular lens used.  
"DATA",345,302,2)
Notes: Use code 16 and remark codes if necessary.
"DATA",345,303,0)
D10^2950101^3031016^^3151012.170344
"DATA",345,303,1,0)
^^2^2^3150519
"DATA",345,303,1,1,0)
Claim/service denied. Completed physician financial relationship form not on
"DATA",345,303,1,2,0)
file.  
"DATA",345,303,2)
Notes: Use code 17.
"DATA",345,304,0)
D11^2950101^3031016^^3151012.170344
"DATA",345,304,1,0)
^^1^1^3150519
"DATA",345,304,1,1,0)
Claim lacks completed pacemaker registration form.  
"DATA",345,304,2)
Notes: Use code 17.
"DATA",345,305,0)
D12^2950101^3031016^^3151012.170344
"DATA",345,305,1,0)
^^2^2^3150519
"DATA",345,305,1,1,0)
Claim/service denied. Claim does not identify who performed the purchased
"DATA",345,305,1,2,0)
diagnostic test or the amount you were charged for the test.  
"DATA",345,305,2)
Notes: Use code 17.
"DATA",345,306,0)
D13^2950101^3031016^^3151012.170344
"DATA",345,306,1,0)
^^2^2^3150519
"DATA",345,306,1,1,0)
Claim/service denied. Performed by a facility/supplier in which the
"DATA",345,306,1,2,0)
ordering/referring physician has a financial interest.  
"DATA",345,306,2)
Notes: Use code 17.
"DATA",345,307,0)
D14^2950101^3031016^^3151012.170344
"DATA",345,307,1,0)
^^1^1^3150519
"DATA",345,307,1,1,0)
Claim lacks indication that plan of treatment is on file.  
"DATA",345,307,2)
Notes: Use code 17.
"DATA",345,308,0)
D15^2950101^3031016^^3151012.170344
"DATA",345,308,1,0)
^^1^1^3150519
"DATA",345,308,1,1,0)
Claim lacks indication that service was supervised or evaluated by a physician.  
"DATA",345,308,2)
Notes: Use code 17.
"DATA",345,309,0)
D16^2950101^3070630^^3151012.170344
"DATA",345,309,1,0)
^^1^1^3150519
"DATA",345,309,1,1,0)
Claim lacks prior payer payment information.  
"DATA",345,309,2)
Notes: Use code 16 with appropriate claim payment remark code :N4:.
"DATA",345,310,0)
D17^2950101^3070630^^3151012.170344
"DATA",345,310,1,0)
^^1^1^3150519
"DATA",345,310,1,1,0)
Claim/Service has invalid non-covered days.  
"DATA",345,310,2)
Notes: Use code 16 with appropriate claim payment remark code.
"DATA",345,311,0)
D18^2950101^3070630^^3151012.170344
"DATA",345,311,1,0)
^^1^1^3150519
"DATA",345,311,1,1,0)
Claim/Service has missing diagnosis information.  
"DATA",345,311,2)
Notes: Use code 16 with appropriate claim payment remark code.
"DATA",345,312,0)
D19^2950101^3070630^^3151012.170344
"DATA",345,312,1,0)
^^1^1^3150519
"DATA",345,312,1,1,0)
Claim/Service lacks Physician/Operative or other supporting documentation 
"DATA",345,312,2)
Notes: Use code 16 with appropriate claim payment remark code.
"DATA",345,313,0)
D20^2950101^3070630^^3151012.170344
"DATA",345,313,1,0)
^^1^1^3150519
"DATA",345,313,1,1,0)
Claim/Service missing service/product information.  
"DATA",345,313,2)
Notes: Use code 16 with appropriate claim payment remark code.
"DATA",345,314,0)
D21^2950101^3070630^^3151012.170344
"DATA",345,314,1,0)
^^1^1^3150519
"DATA",345,314,1,1,0)
This (these) diagnosis(es) is (are) missing or are invalid 
"DATA",345,315,0)
D22^3080127^3090101^^3151012.170344
"DATA",345,315,1,0)
^^5^5^3150519
"DATA",345,315,1,1,0)
Reimbursement was adjusted for the reasons to be provided in separate
"DATA",345,315,1,2,0)
correspondence. (Note: To be used for Workers" Compensation only) - Temporary
"DATA",345,315,1,3,0)
code to be added for timeframe only until 01/01/2009. Another code to be
"DATA",345,315,1,4,0)
established and/or for 06/2008 meeting for a revised code to replace or
"DATA",345,315,1,5,0)
strategy to use another existing code 
"DATA",345,316,0)
D23^3091101^3120101^^3151012.170344
"DATA",345,316,1,0)
^^4^4^3150519
"DATA",345,316,1,1,0)
This dual eligible patient is covered by Medicare Part D per Medicare
"DATA",345,316,1,2,0)
Retro-Eligibility.  At least one Remark Code must be provided (may be comprised
"DATA",345,316,1,3,0)
of either the NCPDP Reject Reason Code, or Remittance Advice Remark Code that
"DATA",345,316,1,4,0)
is not an ALERT.) 
"DATA",345,317,0)
P1^3131101^^^3151012.170344
"DATA",345,317,1,0)
^^2^2^3150519
"DATA",345,317,1,1,0)
State-mandated Requirement for Property and Casualty, see Claim Payment Remarks
"DATA",345,317,1,2,0)
Code for specific explanation. To be used for Property and Casualty only.  
"DATA",345,317,2)
Notes: This code replaces deactivated code 162
"DATA",345,318,0)
P2^3131101^^^3151012.170344
"DATA",345,318,1,0)
^^8^8^3150519
"DATA",345,318,1,1,0)
Not a work related injury/illness and thus not the liability of the workers"
"DATA",345,318,1,2,0)
compensation carrier Note: If adjustment is at the Claim Level, the payer must
"DATA",345,318,1,3,0)
send and the provider should refer to the 835 Insurance Policy Number Segment
"DATA",345,318,1,4,0)
(Loop 2100 Other Claim Related Information REF qualifier "IG") for the
"DATA",345,318,1,5,0)
jurisdictional regulation. If adjustment is at the Line Level, the payer must
"DATA",345,318,1,6,0)
send and the provider should refer to the 835 Healthcare Policy Identification
"DATA",345,318,1,7,0)
Segment (loop 2110 Service Payment information REF). To be used for Workers"
"DATA",345,318,1,8,0)
Compensation only.  
"DATA",345,318,2)
Notes: This code replaces deactivated code 191
"DATA",345,319,0)
P3^3131101^^^3151012.170344
"DATA",345,319,1,0)
^^3^3^3150519
"DATA",345,319,1,1,0)
Workers" Compensation case settled. Patient is responsible for amount of this
"DATA",345,319,1,2,0)
claim/service through WC "Medicare set aside arrangement" or other agreement.
"DATA",345,319,1,3,0)
To be used for Workers" Compensation only.(Use only with Group Code PR) 
"DATA",345,319,2)
Notes: This code replaces deactivated code 201
"DATA",345,320,0)
P4^3131101^^^3151012.170344
"DATA",345,320,1,0)
^^8^8^3150519
"DATA",345,320,1,1,0)
Workers" Compensation claim adjudicated as non-compensable. This Payer not
"DATA",345,320,1,2,0)
liable for claim or service/treatment. Note: If adjustment is at the Claim
"DATA",345,320,1,3,0)
Level, the payer must send and the provider should refer to the 835 Insurance
"DATA",345,320,1,4,0)
Policy Number Segment (Loop 2100 Other Claim Related Information REF qualifier
"DATA",345,320,1,5,0)
"IG") for the jurisdictional regulation. If adjustment is at the Line Level,
"DATA",345,320,1,6,0)
the payer must send and the provider should refer to the 835 Healthcare Policy
"DATA",345,320,1,7,0)
Identification Segment (loop 2110 Service Payment information REF). To be used
"DATA",345,320,1,8,0)
for Workers" Compensation only 
"DATA",345,320,2)
Notes: This code replaces deactivated code 214
"DATA",345,321,0)
P5^3131101^^^3151012.170344
"DATA",345,321,1,0)
^^2^2^3150519
"DATA",345,321,1,1,0)
Based on payer reasonable and customary fees. No maximum allowable defined by
"DATA",345,321,1,2,0)
legislated fee arrangement. To be used for Property and Casualty only.  
"DATA",345,321,2)
Notes: This code replaces deactivated code 217
"DATA",345,322,0)
P6^3131101^^^3151012.170344
"DATA",345,322,1,0)
^^7^7^3150820^
"DATA",345,322,1,1,0)
Based on entitlement to benefits. Note: If adjustment is at the Claim Level,
"DATA",345,322,1,2,0)
the payer must send and the provider should refer to the 835 Insurance Policy
"DATA",345,322,1,3,0)
Number Segment (Loop 2100 Other Claim Related Information REF qualifier "IG")
"DATA",345,322,1,4,0)
for the jurisdictional regulation. If adjustment is at the Line Level, the
"DATA",345,322,1,5,0)
payer must send and the provider should refer to the 835 Healthcare Policy
"DATA",345,322,1,6,0)
Identification Segment (loop 2110 Service Payment information REF). To be
"DATA",345,322,1,7,0)
used for Property and Casualty only.
"DATA",345,322,2)
Notes: This code replaces deactivated code 218
"DATA",345,323,0)
P7^3131101^^^3151012.170344
"DATA",345,323,1,0)
^^4^4^3150519
"DATA",345,323,1,1,0)
The applicable fee schedule/fee database does not contain the billed code.
"DATA",345,323,1,2,0)
Please resubmit a bill with the appropriate fee schedule/fee database code(s)
"DATA",345,323,1,3,0)
that best describe the service(s) provided and supporting documentation if
"DATA",345,323,1,4,0)
required. To be used for Property and Casualty only.  
"DATA",345,323,2)
Notes: This code replaces deactivated code 220
"DATA",345,324,0)
P8^3131101^^^3151012.170345
"DATA",345,324,1,0)
^^7^7^3150519
"DATA",345,324,1,1,0)
Claim is under investigation. Note: If adjustment is at the Claim Level, the
"DATA",345,324,1,2,0)
payer must send and the provider should refer to the 835 Insurance Policy
"DATA",345,324,1,3,0)
Number Segment (Loop 2100 Other Claim Related Information REF qualifier "IG")
"DATA",345,324,1,4,0)
for the jurisdictional regulation. If adjustment is at the Line Level, the
"DATA",345,324,1,5,0)
payer must send and the provider should refer to the 835 Healthcare Policy
"DATA",345,324,1,6,0)
Identification Segment (loop 2110 Service Payment information REF). To be used
"DATA",345,324,1,7,0)
for Property and Casualty only.  
"DATA",345,324,2)
Notes: This code replaces deactivated code 221
"DATA",345,325,0)
P9^3131101^^^3151012.170345
"DATA",345,325,1,0)
^^2^2^3150519
"DATA",345,325,1,1,0)
No available or correlating CPT/HCPCS code to describe this service. To be used
"DATA",345,325,1,2,0)
for Property and Casualty only.  
"DATA",345,325,2)
Notes: This code replaces deactivated code 230
"DATA",345,326,0)
P10^3131101^^^3151012.170345
"DATA",345,326,1,0)
^^3^3^3150519
"DATA",345,326,1,1,0)
Payment reduced to zero due to litigation. Additional information will be sent
"DATA",345,326,1,2,0)
following the conclusion of litigation. To be used for Property and Casualty
"DATA",345,326,1,3,0)
only.  
"DATA",345,326,2)
Notes: This code replaces deactivated code 244
"DATA",345,327,0)
P11^3131101^^^3151012.170345
"DATA",345,327,1,0)
^^3^3^3150519
"DATA",345,327,1,1,0)
The disposition of the related Property & Casualty claim (injury or illness) is
"DATA",345,327,1,2,0)
pending due to litigation. To be used for Property and Casualty only. (Use only
"DATA",345,327,1,3,0)
with Group Code OA) 
"DATA",345,327,2)
Notes: This code replaces deactivated code 255
"DATA",345,328,0)
P12^3131101^^^3151012.170345
"DATA",345,328,1,0)
^^7^7^3150519
"DATA",345,328,1,1,0)
Workers" compensation jurisdictional fee schedule adjustment.  Note: If
"DATA",345,328,1,2,0)
adjustment is at the Claim Level, the payer must send and the provider should
"DATA",345,328,1,3,0)
refer to the 835 Class of Contract Code Identification Segment (Loop 2100 Other
"DATA",345,328,1,4,0)
Claim Related Information REF). If adjustment is at the Line Level, the payer
"DATA",345,328,1,5,0)
must send and the provider should refer to the 835 Healthcare Policy
"DATA",345,328,1,6,0)
Identification Segment (loop 2110 Service Payment information REF) if the
"DATA",345,328,1,7,0)
regulations apply. To be used for Workers" Compensation only.  
"DATA",345,328,2)
Notes: This code replaces deactivated code W1
"DATA",345,329,0)
P13^3131101^^^3151012.170345
"DATA",345,329,1,0)
^^9^9^3150519
"DATA",345,329,1,1,0)
Payment reduced or denied based on workers" compensation jurisdictional
"DATA",345,329,1,2,0)
regulations or payment policies, use only if no other code is applicable. Note:
"DATA",345,329,1,3,0)
If adjustment is at the Claim Level, the payermust send and the provider should
"DATA",345,329,1,4,0)
refer to the 835 Insurance Policy Number Segment (Loop 2100 Other Claim Related
"DATA",345,329,1,5,0)
Information REF qualifier "IG") if the jurisdictional regulation applies. If
"DATA",345,329,1,6,0)
adjustment is at the Line Level, the payer must send and the provider should
"DATA",345,329,1,7,0)
refer to the 835 Healthcare Policy Identification Segment (loop 2110 Service
"DATA",345,329,1,8,0)
Payment information REF) if the regulations apply. To be used for Workers"
"DATA",345,329,1,9,0)
Compensation only.  
"DATA",345,329,2)
Notes: This code replaces deactivated code W2
"DATA",345,330,0)
P14^3131101^^^3151012.170345
"DATA",345,330,1,0)
^^4^4^3150519
"DATA",345,330,1,1,0)
The Benefit for this Service is included in the payment/allowance for another
"DATA",345,330,1,2,0)
service/procedure that has been performed on the same day. Note: Refer to the
"DATA",345,330,1,3,0)
835 Healthcare Policy Identification Segment (loop 2110 Service Payment
"DATA",345,330,1,4,0)
Information REF), if present. To be used for Property and Casualty only.  
"DATA",345,330,2)
Notes: This code replaces deactivated code W3
"DATA",345,331,0)
P15^3131101^^^3151012.170345
"DATA",345,331,1,0)
^^2^2^3150519
"DATA",345,331,1,1,0)
Workers" Compensation Medical Treatment Guideline Adjustment. To be used for
"DATA",345,331,1,2,0)
Workers" Compensation only.  
"DATA",345,331,2)
Notes: This code replaces deactivated code W4
"DATA",345,332,0)
P16^3131101^^^3151012.170345
"DATA",345,332,1,0)
^^3^3^3150519
"DATA",345,332,1,1,0)
Medical provider not authorized/certified to provide treatment to injured
"DATA",345,332,1,2,0)
workers in this jurisdiction. To be used for Workers" Compensation only. (Use
"DATA",345,332,1,3,0)
with Group Code CO or OA) 
"DATA",345,332,2)
Notes: This code replaces deactivated code W5
"DATA",345,333,0)
P17^3131101^^^3151012.170345
"DATA",345,333,1,0)
^^2^2^3150519
"DATA",345,333,1,1,0)
Referral not authorized by attending physician per regulatory requirement. To
"DATA",345,333,1,2,0)
be used for Property and Casualty only.  
"DATA",345,333,2)
Notes: This code replaces deactivated code W6
"DATA",345,334,0)
P18^3131101^^^3151012.170345
"DATA",345,334,1,0)
^^2^2^3150519
"DATA",345,334,1,1,0)
Procedure is not listed in the jurisdiction fee schedule.  An allowance has
"DATA",345,334,1,2,0)
been made for a comparable service. To be used for Property and Casualty only.  
"DATA",345,334,2)
Notes: This code replaces deactivated code W7
"DATA",345,335,0)
P19^3131101^^^3151012.170345
"DATA",345,335,1,0)
^^2^2^3150519
"DATA",345,335,1,1,0)
Procedure has a relative value of zero in the jurisdiction fee schedule,
"DATA",345,335,1,2,0)
therefore no payment is due. To be used for Property and Casualty only.  
"DATA",345,335,2)
Notes: This code replaces deactivated code W8
"DATA",345,336,0)
P20^3131101^^^3151012.170345
"DATA",345,336,1,0)
^^2^2^3150519
"DATA",345,336,1,1,0)
Service not paid under jurisdiction allowed outpatient facility fee schedule.
"DATA",345,336,1,2,0)
To be used for Property and Casualty only.  
"DATA",345,336,2)
Notes: This code replaces deactivated code W9
"DATA",345,337,0)
P21^3131101^^^3151012.170345
"DATA",345,337,1,0)
^^9^9^3150519
"DATA",345,337,1,1,0)
Payment denied based on Medical Payments Coverage (MPC) or Personal Injury
"DATA",345,337,1,2,0)
Protection (PIP) Benefits jurisdictional regulations or payment policies, use
"DATA",345,337,1,3,0)
only if no other code is applicable. Note: Ifadjustment is at the Claim Level,
"DATA",345,337,1,4,0)
the payer must send and the provider should refer to the 835 Insurance Policy
"DATA",345,337,1,5,0)
Number Segment (Loop 2100 Other Claim Related Information REF qualifier "IG")
"DATA",345,337,1,6,0)
if the jurisdictional regulation applies. If adjustment is at the Line Level,
"DATA",345,337,1,7,0)
the payer must send and the provider should refer to the 835 Healthcare Policy
"DATA",345,337,1,8,0)
Identification Segment (loop 2110 Service Payment information REF) if the
"DATA",345,337,1,9,0)
regulations apply. To be used for Property and Casualty Auto only.  
"DATA",345,337,2)
Notes: This code replaces deactivated code Y1
"DATA",345,338,0)
P22^3131101^^^3151012.170345
"DATA",345,338,1,0)
^^9^9^3150519
"DATA",345,338,1,1,0)
Payment adjusted based on Medical Payments Coverage (MPC) or Personal Injury
"DATA",345,338,1,2,0)
Protection (PIP) Benefits jurisdictional regulations or payment policies, use
"DATA",345,338,1,3,0)
only if no other code is applicable. Note: If adjustment is at the Claim Level,
"DATA",345,338,1,4,0)
the payer must send and the provider should refer to the 835 Insurance Policy
"DATA",345,338,1,5,0)
Number Segment (Loop 2100 Other Claim Related Information REF qualifier "IG")
"DATA",345,338,1,6,0)
if thejurisdictional regulation applies. If adjustment is at the Line Level,
"DATA",345,338,1,7,0)
the payer must send and the provider should refer to the 835 Healthcare Policy
"DATA",345,338,1,8,0)
Identification Segment (loop 2110 Service Payment information REF) if the
"DATA",345,338,1,9,0)
regulations apply. To be used for Property and Casualty Auto only.  
"DATA",345,338,2)
Notes: This code replaces deactivated code Y2
"DATA",345,339,0)
P23^3131101^^^3151012.170345
"DATA",345,339,1,0)
^^8^8^3150519
"DATA",345,339,1,1,0)
Medical Payments Coverage (MPC) or Personal Injury Protection (PIP) Benefits
"DATA",345,339,1,2,0)
jurisdictional fee schedule adjustment. Note: If adjustment is at the Claim
"DATA",345,339,1,3,0)
Level, the payer must send and the provider should refer to the 835 Class of
"DATA",345,339,1,4,0)
Contract Code Identification Segment (Loop 2100 Other Claim Related Information
"DATA",345,339,1,5,0)
REF). If adjustment is at the Line Level, the payer must send and the provider
"DATA",345,339,1,6,0)
should refer to the 835 Healthcare Policy Identification Segment (loop 2110
"DATA",345,339,1,7,0)
Service Payment information REF) if the regulations apply. To be used for
"DATA",345,339,1,8,0)
Property and Casualty Auto only.  
"DATA",345,339,2)
Notes: This code replaces deactivated code Y3
"DATA",345,340,0)
W1^3000229^3140701^3130602^3151012.170345
"DATA",345,340,1,0)
^^7^7^3150519
"DATA",345,340,1,1,0)
Workers" compensation jurisdictional fee schedule adjustment.  Note: If
"DATA",345,340,1,2,0)
adjustment is at the Claim Level, the payer must send and the provider should
"DATA",345,340,1,3,0)
refer to the 835 Class of Contract Code Identification Segment (Loop 2100 Other
"DATA",345,340,1,4,0)
Claim Related Information REF). If adjustment is at the Line Level, the payer
"DATA",345,340,1,5,0)
must send and the provider should refer to the 835 Healthcare Policy
"DATA",345,340,1,6,0)
Identification Segment (loop 2110 Service Payment information REF) if the
"DATA",345,340,1,7,0)
regulations apply.  
"DATA",345,340,2)
Notes: Use code P12
"DATA",345,341,0)
W2^3101017^3140701^3130602^3151012.170345
"DATA",345,341,1,0)
^^9^9^3150519
"DATA",345,341,1,1,0)
Payment reduced or denied based on workers" compensation jurisdictional
"DATA",345,341,1,2,0)
regulations or payment policies, use only if no other code is applicable. Note:
"DATA",345,341,1,3,0)
If adjustment is at the Claim Level, the payermust send and the provider should
"DATA",345,341,1,4,0)
refer to the 835 Insurance Policy Number Segment (Loop 2100 Other Claim Related
"DATA",345,341,1,5,0)
Information REF qualifier "IG") if the jurisdictional regulation applies. If
"DATA",345,341,1,6,0)
adjustment is at the Line Level, the payer must send and the provider should
"DATA",345,341,1,7,0)
refer to the 835 Healthcare Policy Identification Segment (loop 2110 Service
"DATA",345,341,1,8,0)
Payment information REF) if the regulations apply. To be used for Workers"
"DATA",345,341,1,9,0)
Compensation only.  
"DATA",345,341,2)
Notes: Use code P13
"DATA",345,342,0)
W3^3120930^3140701^^3151012.170345
"DATA",345,342,1,0)
^^4^4^3150519
"DATA",345,342,1,1,0)
The Benefit for this Service is included in the payment/allowance for another
"DATA",345,342,1,2,0)
service/procedure that has been performed on the same day. Note: Refer to the
"DATA",345,342,1,3,0)
835 Healthcare Policy Identification Segment (loop 2110 Service Payment
"DATA",345,342,1,4,0)
Information REF), if present. For use by Property and Casualty only.  
"DATA",345,342,2)
Notes: Use code P14
"DATA",345,343,0)
W4^3120930^3140701^^3151012.170345
"DATA",345,343,1,0)
^^1^1^3150519
"DATA",345,343,1,1,0)
Workers" Compensation Medical Treatment Guideline Adjustment.  
"DATA",345,343,2)
Notes: Use code P15
"DATA",345,344,0)
W5^3130602^3140701^^3151012.170345
"DATA",345,344,1,0)
^^2^2^3150519
"DATA",345,344,1,1,0)
Medical provider not authorized/certified to provide treatment to injured
"DATA",345,344,1,2,0)
workers in this jurisdiction. (Use with Group Code CO or OA) 
"DATA",345,344,2)
Notes: Use code P16
"DATA",345,345,0)
W6^3130602^3140701^^3151012.170345
"DATA",345,345,1,0)
^^1^1^3150519
"DATA",345,345,1,1,0)
Referral not authorized by attending physician per regulatory requirement.  
"DATA",345,345,2)
Notes: Use code P17
"DATA",345,346,0)
W7^3130602^3140701^^3151012.170345
"DATA",345,346,1,0)
^^2^2^3150519
"DATA",345,346,1,1,0)
Procedure is not listed in the jurisdiction fee schedule.  An allowance has
"DATA",345,346,1,2,0)
been made for a comparable service.  
"DATA",345,346,2)
Notes: Use code P18
"DATA",345,347,0)
W8^3130602^3140701^^3151012.170345
"DATA",345,347,1,0)
^^2^2^3150519
"DATA",345,347,1,1,0)
Procedure has a relative value of zero in the jurisdiction fee schedule,
"DATA",345,347,1,2,0)
therefore no payment is due.  
"DATA",345,347,2)
Notes: Use code P19
"DATA",345,348,0)
W9^3130602^3140701^^3151012.170345
"DATA",345,348,1,0)
^^1^1^3150519
"DATA",345,348,1,1,0)
Service not paid under jurisdiction allowed outpatient facility fee schedule.  
"DATA",345,348,2)
Notes: Use code P20
"DATA",345,349,0)
Y1^3120930^3140701^3130602^3151012.170345
"DATA",345,349,1,0)
^^9^9^3150519
"DATA",345,349,1,1,0)
Payment denied based on Medical Payments Coverage (MPC) or Personal Injury
"DATA",345,349,1,2,0)
Protection (PIP) Benefits jurisdictional regulations or payment policies, use
"DATA",345,349,1,3,0)
only if no other code is applicable. Note: Ifadjustment is at the Claim Level,
"DATA",345,349,1,4,0)
the payer must send and the provider should refer to the 835 Insurance Policy
"DATA",345,349,1,5,0)
Number Segment (Loop 2100 Other Claim Related Information REF qualifier "IG")
"DATA",345,349,1,6,0)
if the jurisdictional regulation applies. If adjustment is at the Line Level,
"DATA",345,349,1,7,0)
the payer must send and the provider should refer to the 835 Healthcare Policy
"DATA",345,349,1,8,0)
Identification Segment (loop 2110 Service Payment information REF) if the
"DATA",345,349,1,9,0)
regulations apply. To be used for P&C Auto only.  
"DATA",345,349,2)
Notes: Use code P21
"DATA",345,350,0)
Y2^3120930^3140701^3130602^3151012.170345
"DATA",345,350,1,0)
^^9^9^3150519
"DATA",345,350,1,1,0)
Payment adjusted based on Medical Payments Coverage (MPC) or Personal Injury
"DATA",345,350,1,2,0)
Protection (PIP) Benefits jurisdictional regulations or payment policies, use
"DATA",345,350,1,3,0)
only if no other code is applicable. Note: If adjustment is at the Claim Level,
"DATA",345,350,1,4,0)
the payer must send and the provider should refer to the 835 Insurance Policy
"DATA",345,350,1,5,0)
Number Segment (Loop 2100 Other Claim Related Information REF qualifier "IG")
"DATA",345,350,1,6,0)
if thejurisdictional regulation applies. If adjustment is at the Line Level,
"DATA",345,350,1,7,0)
the payer must send and the provider should refer to the 835 Healthcare Policy
"DATA",345,350,1,8,0)
Identification Segment (loop 2110 Service Payment information REF) if the
"DATA",345,350,1,9,0)
regulations apply. To be used for P&C Auto only.  
"DATA",345,350,2)
Notes: Use code P22
"DATA",345,351,0)
Y3^3120930^3140701^3130602^3151012.170345
"DATA",345,351,1,0)
^^8^8^3150519
"DATA",345,351,1,1,0)
Medical Payments Coverage (MPC) or Personal Injury Protection (PIP) Benefits
"DATA",345,351,1,2,0)
jurisdictional fee schedule adjustment. Note: If adjustment is at the Claim
"DATA",345,351,1,3,0)
Level, the payer must send and the provider should refer to the 835 Class of
"DATA",345,351,1,4,0)
Contract Code Identification Segment (Loop 2100 Other Claim Related Information
"DATA",345,351,1,5,0)
REF). If adjustment is at the Line Level, the payer must send and the provider
"DATA",345,351,1,6,0)
should refer to the 835 Healthcare Policy Identification Segment (loop 2110
"DATA",345,351,1,7,0)
Service Payment information REF) if the regulations apply. To be used for P&C
"DATA",345,351,1,8,0)
Auto only.  
"DATA",345,351,2)
Notes: Use code P23
"DATA",345.1,1,0)
50^3120101^^^Late Charge
"DATA",345.1,2,0)
51^3120101^^^Interest Penalty Charge
"DATA",345.1,3,0)
72^3120101^^^Authorized Return
"DATA",345.1,4,0)
90^3120101^^^Early Payment Allowance
"DATA",345.1,5,0)
AH^3120101^^^Origination Fee
"DATA",345.1,6,0)
AM^3120101^^^Applied to Borrower's Account
"DATA",345.1,7,0)
AP^3120101^^^Acceleration of Benefits
"DATA",345.1,8,0)
B2^3120101^^^Rebate
"DATA",345.1,9,0)
B3^3120101^^^Recovery Allowance
"DATA",345.1,10,0)
BD^3120101^^^Bad Debt Adjustment
"DATA",345.1,11,0)
BN^3120101^^^Bonus
"DATA",345.1,12,0)
C5^3120101^^^Temporary Allowance
"DATA",345.1,13,0)
CR^3120101^^^Capitation Interest
"DATA",345.1,14,0)
CS^3120101^^^Adjustment
"DATA",345.1,15,0)
CT^3120101^^^Capitation Payment
"DATA",345.1,16,0)
CV^3120101^^^Capital Passthru
"DATA",345.1,17,0)
CW^3120101^^^Certified Registered Nurse Anesthetist Passthru
"DATA",345.1,18,0)
DM^3120101^^^Direct Medical Education Passthru
"DATA",345.1,19,0)
E3^3120101^^^Withholding
"DATA",345.1,20,0)
FB^3120101^^^Forwarding Balance
"DATA",345.1,21,0)
FC^3120101^^^Fund Allocation
"DATA",345.1,22,0)
GO^3120101^^^Graduate Medical Education Passthru
"DATA",345.1,23,0)
HM^3120101^^^Hemophilia Clotting Factor Supplement
"DATA",345.1,24,0)
IP^3120101^^^Incentive Premium Payment
"DATA",345.1,25,0)
IR^3120101^^^Internal Revenue Service Withholding
"DATA",345.1,26,0)
IS^3120101^^^Interim Settlement
"DATA",345.1,27,0)
J1^3120101^^^Nonreimbursable
"DATA",345.1,28,0)
L3^3120101^^^Penalty
"DATA",345.1,29,0)
L6^3120101^^^Interest Owed
"DATA",345.1,30,0)
LE^3120101^^^Levy
"DATA",345.1,31,0)
LS^3120101^^^Lump Sum
"DATA",345.1,32,0)
OA^3120101^^^Organ Acquisition Passthru
"DATA",345.1,33,0)
OB^3120101^^^Offset for Affiliated Providers
"DATA",345.1,34,0)
PI^3120101^^^Periodic Interim Payment
"DATA",345.1,35,0)
PL^3120101^^^Payment Final
"DATA",345.1,36,0)
RA^3120101^^^Retro-activity Adjustment
"DATA",345.1,37,0)
RE^3120101^^^Return on Equity
"DATA",345.1,38,0)
SL^3120101^^^Student Loan Repayment
"DATA",345.1,39,0)
TL^3120101^^^Third Party Liability
"DATA",345.1,40,0)
WO^3120101^^^Overpayment Recovery
"DATA",345.1,41,0)
WU^3120101^^^Unspecified Recovery
"DATA",346,1,0)
M1^2970101^^^3151012.170345
"DATA",346,1,1,0)
^^2^2^3150519
"DATA",346,1,1,1,0)
X-ray not taken within the past 12 months or near enough to the start of
"DATA",346,1,1,2,0)
treatment.  
"DATA",346,2,0)
M2^2970101^^^3151012.170345
"DATA",346,2,1,0)
^^1^1^3150519
"DATA",346,2,1,1,0)
Not paid separately when the patient is an inpatient.  
"DATA",346,3,0)
M3^2970101^^^3151012.170345
"DATA",346,3,1,0)
^^1^1^3150519
"DATA",346,3,1,1,0)
Equipment is the same or similar to equipment already being used.  
"DATA",346,4,0)
M4^2970101^^3070401^3151012.170345
"DATA",346,4,1,0)
^^2^2^3150519
"DATA",346,4,1,1,0)
Alert: This is the last monthly installment payment for this durable medical
"DATA",346,4,1,2,0)
equipment.  
"DATA",346,4,2)
Notes: (Modified 4/1/07)
"DATA",346,5,0)
M5^2970101^^^3151012.170345
"DATA",346,5,1,0)
^^2^2^3150519
"DATA",346,5,1,1,0)
Monthly rental payments can continue until the earlier of the 15th month from
"DATA",346,5,1,2,0)
the first rental month, or the month when the equipment is no longer needed.  
"DATA",346,6,0)
M6^2970101^^3090301^3151012.170345
"DATA",346,6,1,0)
^^2^2^3150519
"DATA",346,6,1,1,0)
Alert: You must furnish and service this item for any period of medical need
"DATA",346,6,1,2,0)
for the remainder of the reasonable useful lifetime of the equipment.  
"DATA",346,6,2)
Notes: (Modified 4/1/07, 3/1/2009)
"DATA",346,7,0)
M7^2970101^^^3151012.170345
"DATA",346,7,1,0)
^^2^2^3150519
"DATA",346,7,1,1,0)
No rental payments after the item is purchased, or after the total of issued
"DATA",346,7,1,2,0)
rental payments equals the purchase price.  
"DATA",346,8,0)
M8^2970101^^^3151012.170345
"DATA",346,8,1,0)
^^2^2^3150519
"DATA",346,8,1,1,0)
We do not accept blood gas tests results when the test was conducted by a
"DATA",346,8,1,2,0)
medical supplier or taken while the patient is on oxygen.  
"DATA",346,9,0)
M9^2970101^^3070401^3151012.170345
"DATA",346,9,1,0)
^^2^2^3150519
"DATA",346,9,1,1,0)
Alert: This is the tenth rental month. You must offer the patient the choice of
"DATA",346,9,1,2,0)
changing the rental to a purchase agreement.  
"DATA",346,9,2)
Notes: (Modified 4/1/07)
"DATA",346,10,0)
M10^2970101^^^3151012.170345
"DATA",346,10,1,0)
^^2^2^3150519
"DATA",346,10,1,1,0)
Equipment purchases are limited to the first or the tenth month of medical
"DATA",346,10,1,2,0)
necessity.  
"DATA",346,11,0)
M11^2970101^^^3151012.170345
"DATA",346,11,1,0)
^^2^2^3150519
"DATA",346,11,1,1,0)
DME, orthotics and prosthetics must be billed to the DME carrier who services
"DATA",346,11,1,2,0)
the patient"s zip code.  
"DATA",346,12,0)
M12^2970101^^^3151012.170345
"DATA",346,12,1,0)
^^2^2^3150519
"DATA",346,12,1,1,0)
Diagnostic tests performed by a physician must indicate whether purchased
"DATA",346,12,1,2,0)
services are included on the claim.  
"DATA",346,13,0)
M13^2970101^^3070630^3151012.170345
"DATA",346,13,1,0)
^^1^1^3150519
"DATA",346,13,1,1,0)
Only one initial visit is covered per specialty per medical group.  
"DATA",346,13,2)
Notes: (Modified 6/30/03)
"DATA",346,14,0)
M14^2970101^^^3151012.170345
"DATA",346,14,1,0)
^^2^2^3150519
"DATA",346,14,1,1,0)
No separate payment for an injection administered during an office visit, and
"DATA",346,14,1,2,0)
no payment for a full office visit if the patient only received an injection.  
"DATA",346,15,0)
M15^2970101^^^3151012.170345
"DATA",346,15,1,0)
^^2^2^3150519
"DATA",346,15,1,1,0)
Separately billed services/tests have been bundled as they are considered
"DATA",346,15,1,2,0)
components of the same procedure. Separate payment is not allowed.  
"DATA",346,16,0)
M16^2970101^^3070401^3151012.170345
"DATA",346,16,1,0)
^^2^2^3150519
"DATA",346,16,1,1,0)
Alert: Please see our web site, mailings, or bulletins for more details
"DATA",346,16,1,2,0)
concerning this policy/procedure/decision.  
"DATA",346,16,2)
Notes: (Reactivated 4/1/04, Modified 11/18/05, 4/1/07)
"DATA",346,17,0)
M17^2970101^^3070401^3151012.170345
"DATA",346,17,1,0)
^^4^4^3150519
"DATA",346,17,1,1,0)
Alert: Payment approved as you did not know, and could not reasonably have been
"DATA",346,17,1,2,0)
expected to know, that this would not normally have been covered for this
"DATA",346,17,1,3,0)
patient.  In the future, you will be liable for charges for the same service(s)
"DATA",346,17,1,4,0)
under the same or similar conditions.  
"DATA",346,17,2)
Notes: (Modified 4/1/07)
"DATA",346,18,0)
M18^2970101^^3030630^3151012.170345
"DATA",346,18,1,0)
^^2^2^3150519
"DATA",346,18,1,1,0)
Certain services may be approved for home use.  Neither a hospital nor a
"DATA",346,18,1,2,0)
Skilled Nursing Facility (SNF) is considered to be a patient"s home.  
"DATA",346,18,2)
Notes: (Modified 6/30/03)
"DATA",346,19,0)
M19^2970101^^3030228^3151012.170345
"DATA",346,19,1,0)
^^1^1^3150519
"DATA",346,19,1,1,0)
Missing oxygen certification/re-certification.  
"DATA",346,19,2)
Notes: (Modified 2/28/03) Related to N234
"DATA",346,20,0)
M20^2970101^^3030228^3151012.170345
"DATA",346,20,1,0)
^^1^1^3150519
"DATA",346,20,1,1,0)
Missing/incomplete/invalid HCPCS.  
"DATA",346,20,2)
Notes: (Modified 2/28/03)
"DATA",346,21,0)
M21^2970101^^3030228^3151012.170345
"DATA",346,21,1,0)
^^2^2^3150519
"DATA",346,21,1,1,0)
Missing/incomplete/invalid place of residence for this service/item provided in
"DATA",346,21,1,2,0)
a home.  
"DATA",346,21,2)
Notes: (Modified 2/28/03)
"DATA",346,22,0)
M22^2970101^^3030228^3151012.170346
"DATA",346,22,1,0)
^^1^1^3150519
"DATA",346,22,1,1,0)
Missing/incomplete/invalid number of miles traveled.  
"DATA",346,22,2)
Notes: (Modified 2/28/03)
"DATA",346,23,0)
M23^2970101^^3050801^3151012.170346
"DATA",346,23,1,0)
^^1^1^3150519
"DATA",346,23,1,1,0)
Missing invoice.  
"DATA",346,23,2)
Notes: (Modified 8/1/05)
"DATA",346,24,0)
M24^2970101^^3030228^3151012.170346
"DATA",346,24,1,0)
^^1^1^3150519
"DATA",346,24,1,1,0)
Missing/incomplete/invalid number of doses per vial.  
"DATA",346,24,2)
Notes: (Modified 2/28/03)
"DATA",346,25,0)
M25^2970101^^3101101^3151012.170346
"DATA",346,25,1,0)
^^10^10^3150519
"DATA",346,25,1,1,0)
The information furnished does not substantiate the need for this level of
"DATA",346,25,1,2,0)
service. If you believe the service should have been fully covered as billed,
"DATA",346,25,1,3,0)
or if you did not know and could not reasonably have been expected to know that
"DATA",346,25,1,4,0)
we would not pay for this level of service, or if you notified the patient in
"DATA",346,25,1,5,0)
writing in advance that we would not pay for this level of service and he/she
"DATA",346,25,1,6,0)
agreed in writing to pay, ask us to review your claim within 120 days of the
"DATA",346,25,1,7,0)
date of this notice.  If you do not request an appeal, we will, upon
"DATA",346,25,1,8,0)
application from the patient, reimburse him/her for the amount you have
"DATA",346,25,1,9,0)
collected from him/her in excess of any deductible and coinsurance amounts. We
"DATA",346,25,1,10,0)
will recover the reimbursement from you as an overpayment.  
"DATA",346,25,2)
Notes: (Modified 10/1/02, 6/30/03, 8/1/05, 11/5/07, 11/1/10)
"DATA",346,26,0)
M26^2970101^^3071105^3151012.170346
"DATA",346,26,1,0)
^^9^9^3150519
"DATA",346,26,1,1,0)
The information furnished does not substantiate the need for this level of
"DATA",346,26,1,2,0)
service. If you have collected any amount from the patient for this level of
"DATA",346,26,1,3,0)
service /any amount that exceeds the limiting charge for the less extensive
"DATA",346,26,1,4,0)
service, the law requires you to refund that amount to the patient within 30
"DATA",346,26,1,5,0)
days of receiving this notice. <br /><br />The requirements for refund are in
"DATA",346,26,1,6,0)
1824(I) of theSocial Security Act and 42CFR411.408. The section specifies that
"DATA",346,26,1,7,0)
physicians who knowingly and willfully fail to make appropriate refunds may be
"DATA",346,26,1,8,0)
subject to civil monetary penalties and/or exclusion from the program. If you
"DATA",346,26,1,9,0)
have any questions about this notice, please contact this office.  
"DATA",346,26,2)
Notes: (Modified 10/1/02, 6/30/03, 8/1/05, 11/5/07. Also refer to N356)
"DATA",346,27,0)
M27^2970101^^3070801^3151012.170346
"DATA",346,27,1,0)
^^10^10^3150519
"DATA",346,27,1,1,0)
Alert: The patient has been relieved of liability of payment of these items and
"DATA",346,27,1,2,0)
services under the limitation of liability provision of the law. The provider
"DATA",346,27,1,3,0)
is ultimately liable for the patient"s waived charges, including any charges
"DATA",346,27,1,4,0)
for coinsurance, since the items or services were not reasonable and necessary
"DATA",346,27,1,5,0)
or constituted custodial care, and you knew or could reasonably have been
"DATA",346,27,1,6,0)
expected to know, that they were not covered. You may appeal this
"DATA",346,27,1,7,0)
determination. You may ask for an appeal regarding both the coverage
"DATA",346,27,1,8,0)
determination and the issue of whether you exercised due care. The
"DATA",346,27,1,9,0)
appealrequest must be filed within 120 days of the date you receive this
"DATA",346,27,1,10,0)
notice. You must make the request through this office.  
"DATA",346,27,2)
Notes: (Modified 10/1/02, 8/1/05, 4/1/07, 8/1/07)
"DATA",346,28,0)
M28^2970101^^^3151012.170346
"DATA",346,28,1,0)
^^2^2^3150519
"DATA",346,28,1,1,0)
This does not qualify for payment under Part B when Part A coverage is
"DATA",346,28,1,2,0)
exhausted or not otherwise available.  
"DATA",346,29,0)
M29^2970101^^3080701^3151012.170346
"DATA",346,29,1,0)
^^1^1^3150519
"DATA",346,29,1,1,0)
Missing operative note/report.  
"DATA",346,29,2)
Notes: (Modified 2/28/03, 7/1/2008) Related to N233
"DATA",346,30,0)
M30^2970101^^3040801^3151012.170346
"DATA",346,30,1,0)
^^1^1^3150519
"DATA",346,30,1,1,0)
Missing pathology report.  
"DATA",346,30,2)
Notes: (Modified 8/1/04, 2/28/03) Related to N236
"DATA",346,31,0)
M31^2970101^^3040801^3151012.170346
"DATA",346,31,1,0)
^^1^1^3150519
"DATA",346,31,1,1,0)
Missing radiology report.  
"DATA",346,31,2)
Notes: (Modified 8/1/04, 2/28/03) Related to N240
"DATA",346,32,0)
M32^2970101^^3070401^3151012.170346
"DATA",346,32,1,0)
^^5^5^3150519
"DATA",346,32,1,1,0)
Alert: This is a conditional payment made pending a decision on this service by
"DATA",346,32,1,2,0)
the patient"s primary payer. This payment may be subject to refund upon your
"DATA",346,32,1,3,0)
receipt of any additional payment for this service from another payer. You must
"DATA",346,32,1,4,0)
contact this office immediately upon receipt of an additional payment for this
"DATA",346,32,1,5,0)
service.  
"DATA",346,32,2)
Notes: (Modified 4/1/07)
"DATA",346,33,0)
M33^2970101^3040801^^3151012.170346
"DATA",346,33,1,0)
^^1^1^3150519
"DATA",346,33,1,1,0)
Missing/incomplete/invalid UPIN for the ordering/referring/performing provider.  
"DATA",346,33,2)
Notes: Consider using M68
"DATA",346,34,0)
M34^2970101^3040801^^3151012.170346
"DATA",346,34,1,0)
^^1^1^3150519
"DATA",346,34,1,1,0)
Claim lacks the CLIA certification number.  
"DATA",346,34,2)
Notes: Consider using MA120
"DATA",346,35,0)
M35^2970101^3050205^^3151012.170346
"DATA",346,35,1,0)
^^1^1^3150519
"DATA",346,35,1,1,0)
Missing/incomplete/invalid pre-operative photos or visual field results.  
"DATA",346,35,2)
Notes: Consider using N178
"DATA",346,36,0)
M36^2970101^^^3151012.170346
"DATA",346,36,1,0)
^^2^2^3150519
"DATA",346,36,1,1,0)
This is the 11th rental month.  We cannot pay for this until you indicate that
"DATA",346,36,1,2,0)
the patient has been given the option of changing the rental to a purchase.  
"DATA",346,37,0)
M37^2970101^^3110308^3151012.170346
"DATA",346,37,1,0)
^^1^1^3150519
"DATA",346,37,1,1,0)
Not covered when the patient is under age 35.  
"DATA",346,37,2)
Notes: (Modified 3/8/11)
"DATA",346,38,0)
M38^2970101^^^3151012.170346
"DATA",346,38,1,0)
^^3^3^3150519
"DATA",346,38,1,1,0)
The patient is liable for the charges for this service as you informed the
"DATA",346,38,1,2,0)
patient in writing before the service was furnished that we would not pay for
"DATA",346,38,1,3,0)
it, and the patient agreed to pay.  
"DATA",346,39,0)
M39^2970101^^3121101^3151012.170346
"DATA",346,39,1,0)
^^2^2^3150519
"DATA",346,39,1,1,0)
The patient is not liable for payment for this service as the advance notice of
"DATA",346,39,1,2,0)
non-coverage you provided the patient did not comply with program requirements.  
"DATA",346,39,2)
Notes: (Modified 2/1/04, 4/1/07, 11/1/09, 11/1/12) Related to N563
"DATA",346,40,0)
M40^2970101^^^3151012.170346
"DATA",346,40,1,0)
^^1^1^3150519
"DATA",346,40,1,1,0)
Claim must be assigned and must be filed by the practitioner"s employer.  
"DATA",346,41,0)
M41^2970101^^^3151012.170346
"DATA",346,41,1,0)
^^1^1^3150519
"DATA",346,41,1,1,0)
We do not pay for this as the patient has no legal obligation to pay for this.  
"DATA",346,42,0)
M42^2970101^^^3151012.170346
"DATA",346,42,1,0)
^^2^2^3150519
"DATA",346,42,1,1,0)
The medical necessity form must be personally signed by the attending
"DATA",346,42,1,2,0)
physician.  
"DATA",346,43,0)
M43^2970101^3040131^^3151012.170346
"DATA",346,43,1,0)
^^2^2^3150519
"DATA",346,43,1,1,0)
Payment for this service previously issued to you or another provider by
"DATA",346,43,1,2,0)
another carrier/intermediary.  
"DATA",346,43,2)
Notes: Consider using Reason Code 23
"DATA",346,44,0)
M44^2970101^^3030228^3151012.170346
"DATA",346,44,1,0)
^^1^1^3150519
"DATA",346,44,1,1,0)
Missing/incomplete/invalid condition code.  
"DATA",346,44,2)
Notes: (Modified 2/28/03)
"DATA",346,45,0)
M45^2970101^^3041202^3151012.170346
"DATA",346,45,1,0)
^^1^1^3150519
"DATA",346,45,1,1,0)
Missing/incomplete/invalid occurrence code(s).  
"DATA",346,45,2)
Notes: (Modified 12/2/04) Related to N299
"DATA",346,46,0)
M46^2970101^^3041202^3151012.170346
"DATA",346,46,1,0)
^^1^1^3150519
"DATA",346,46,1,1,0)
Missing/incomplete/invalid occurrence span code(s).  
"DATA",346,46,2)
Notes: (Modified 12/2/04) Related to N300
"DATA",346,47,0)
M47^2970101^^3030228^3151012.170346
"DATA",346,47,1,0)
^^1^1^3150519
"DATA",346,47,1,1,0)
Missing/incomplete/invalid internal or document control number.  
"DATA",346,47,2)
Notes: (Modified 2/28/03)
"DATA",346,48,0)
M48^2970101^3040131^^3151012.170346
"DATA",346,48,1,0)
^^3^3^3150519
"DATA",346,48,1,1,0)
Payment for services furnished to hospital inpatients (other than professional
"DATA",346,48,1,2,0)
services of physicians) can only be made to the hospital.  You must request
"DATA",346,48,1,3,0)
payment from the hospital rather than the patient for this service.  
"DATA",346,48,2)
Notes: Consider using M97
"DATA",346,49,0)
M49^2970101^^3030228^3151012.170346
"DATA",346,49,1,0)
^^1^1^3150519
"DATA",346,49,1,1,0)
Missing/incomplete/invalid value code(s) or amount(s).  
"DATA",346,49,2)
Notes: (Modified 2/28/03)
"DATA",346,50,0)
M50^2970101^^3030228^3151012.170346
"DATA",346,50,1,0)
^^1^1^3150519
"DATA",346,50,1,1,0)
Missing/incomplete/invalid revenue code(s).  
"DATA",346,50,2)
Notes: (Modified 2/28/03)
"DATA",346,51,0)
M51^2970101^^3041202^3151012.170346
"DATA",346,51,1,0)
^^1^1^3150519
"DATA",346,51,1,1,0)
Missing/incomplete/invalid procedure code(s).  
"DATA",346,51,2)
Notes: (Modified 12/2/04) Related to N301
"DATA",346,52,0)
M52^2970101^^3030228^3151012.170346
"DATA",346,52,1,0)
^^1^1^3150519
"DATA",346,52,1,1,0)
Missing/incomplete/invalid "from" date(s) of service.  
"DATA",346,52,2)
Notes: (Modified 2/28/03)
"DATA",346,53,0)
M53^2970101^^3030228^3151012.170346
"DATA",346,53,1,0)
^^1^1^3150519
"DATA",346,53,1,1,0)
Missing/incomplete/invalid days or units of service.  
"DATA",346,53,2)
Notes: (Modified 2/28/03)
"DATA",346,54,0)
M54^2970101^^3030228^3151012.170346
"DATA",346,54,1,0)
^^1^1^3150519
"DATA",346,54,1,1,0)
Missing/incomplete/invalid total charges.  
"DATA",346,54,2)
Notes: (Modified 2/28/03)
"DATA",346,55,0)
M55^2970101^^^3151012.170346
"DATA",346,55,1,0)
^^2^2^3150519
"DATA",346,55,1,1,0)
We do not pay for self-administered anti-emetic drugs that are not administered
"DATA",346,55,1,2,0)
with a covered oral anti-cancer drug.  
"DATA",346,56,0)
M56^2970101^^3030228^3151012.170346
"DATA",346,56,1,0)
^^1^1^3150519
"DATA",346,56,1,1,0)
Missing/incomplete/invalid payer identifier.  
"DATA",346,56,2)
Notes: (Modified 2/28/03)
"DATA",346,57,0)
M57^2970101^3050602^^3151012.170346
"DATA",346,57,1,0)
^^1^1^3150519
"DATA",346,57,1,1,0)
Missing/incomplete/invalid provider identifier.  
"DATA",346,58,0)
M58^2970101^3050205^^3151012.170346
"DATA",346,58,1,0)
^^2^2^3150519
"DATA",346,58,1,1,0)
Missing/incomplete/invalid claim information.  Resubmit claim after
"DATA",346,58,1,2,0)
corrections.  
"DATA",346,59,0)
M59^2970101^^3030228^3151012.170346
"DATA",346,59,1,0)
^^1^1^3150519
"DATA",346,59,1,1,0)
Missing/incomplete/invalid "to" date(s) of service.  
"DATA",346,59,2)
Notes: (Modified 2/28/03)
"DATA",346,60,0)
M60^2970101^^3040801^3151012.170346
"DATA",346,60,1,0)
^^1^1^3150519
"DATA",346,60,1,1,0)
Missing Certificate of Medical Necessity.  
"DATA",346,60,2)
Notes: (Modified 8/1/04, 6/30/03) Related to N227
"DATA",346,61,0)
M61^2970101^^^3151012.170346
"DATA",346,61,1,0)
^^2^2^3150519
"DATA",346,61,1,1,0)
We cannot pay for this as the approval period for the FDA clinical trial has
"DATA",346,61,1,2,0)
expired.  
"DATA",346,62,0)
M62^2970101^^3030228^3151012.170346
"DATA",346,62,1,0)
^^1^1^3150519
"DATA",346,62,1,1,0)
Missing/incomplete/invalid treatment authorization code.  
"DATA",346,62,2)
Notes: (Modified 2/28/03)
"DATA",346,63,0)
M63^2970101^3040131^^3151012.170346
"DATA",346,63,1,0)
^^1^1^3150519
"DATA",346,63,1,1,0)
We do not pay for more than one of these on the same day.  
"DATA",346,63,2)
Notes: Consider using M86
"DATA",346,64,0)
M64^2970101^^3030228^3151012.170346
"DATA",346,64,1,0)
^^1^1^3150519
"DATA",346,64,1,1,0)
Missing/incomplete/invalid other diagnosis.  
"DATA",346,64,2)
Notes: (Modified 2/28/03)
"DATA",346,65,0)
M65^2970101^^^3151012.170346
"DATA",346,65,1,0)
^^3^3^3150519
"DATA",346,65,1,1,0)
One interpreting physician charge can be submitted per claim when a purchased
"DATA",346,65,1,2,0)
diagnostic test is indicated. Please submit a separate claim for each
"DATA",346,65,1,3,0)
interpreting physician.  
"DATA",346,66,0)
M66^2970101^^^3151012.170346
"DATA",346,66,1,0)
^^5^5^3150519
"DATA",346,66,1,1,0)
Our records indicate that you billed diagnostic tests subject to price
"DATA",346,66,1,2,0)
limitations and the procedure code submitted includes a professional component.
"DATA",346,66,1,3,0)
Only the technical component is subject to price limitations.  Please submit
"DATA",346,66,1,4,0)
the technical and professional components of this service as separate line
"DATA",346,66,1,5,0)
items.  
"DATA",346,67,0)
M67^2970101^^3041202^3151012.170346
"DATA",346,67,1,0)
^^1^1^3150519
"DATA",346,67,1,1,0)
Missing/incomplete/invalid other procedure code(s).  
"DATA",346,67,2)
Notes: (Modified 12/2/04) Related to N302
"DATA",346,68,0)
M68^2970101^3050602^^3151012.170346
"DATA",346,68,1,0)
^^2^2^3150519
"DATA",346,68,1,1,0)
Missing/incomplete/invalid attending, ordering, rendering, supervising or
"DATA",346,68,1,2,0)
referring physician identification.  
"DATA",346,69,0)
M69^2970101^^3040201^3151012.170346
"DATA",346,69,1,0)
^^2^2^3150519
"DATA",346,69,1,1,0)
Paid at the regular rate as you did not submit documentation to justify the
"DATA",346,69,1,2,0)
modified procedure code.  
"DATA",346,69,2)
Notes: (Modified 2/1/04)
"DATA",346,70,0)
M70^2970101^^3070801^3151012.170346
"DATA",346,70,1,0)
^^3^3^3150519
"DATA",346,70,1,1,0)
Alert: The NDC code submitted for this service was translated to a HCPCS code
"DATA",346,70,1,2,0)
for processing, but please continue to submit the NDC on future claims for this
"DATA",346,70,1,3,0)
item.  
"DATA",346,70,2)
Notes: (Modified 4/1/2007, 8/1/07)
"DATA",346,71,0)
M71^2970101^^^3151012.170346
"DATA",346,71,1,0)
^^1^1^3150519
"DATA",346,71,1,1,0)
Total payment reduced due to overlap of tests billed.  
"DATA",346,72,0)
M72^2970101^3031016^^3151012.170346
"DATA",346,72,1,0)
^^1^1^3150519
"DATA",346,72,1,1,0)
Did not enter full 8-digit date (MM/DD/CCYY).  
"DATA",346,72,2)
Notes: Consider using MA52
"DATA",346,73,0)
M73^2970101^^3040801^3151012.170346
"DATA",346,73,1,0)
^^3^3^3150519
"DATA",346,73,1,1,0)
The HPSA/Physician Scarcity bonus can only be paid on the professional
"DATA",346,73,1,2,0)
component of this service. Rebill as separate professional and technical
"DATA",346,73,1,3,0)
components.  
"DATA",346,73,2)
Notes: (Modified 8/1/04)
"DATA",346,74,0)
M74^2970101^^3041202^3151012.170346
"DATA",346,74,1,0)
^^1^1^3150519
"DATA",346,74,1,1,0)
This service does not qualify for a HPSA/Physician Scarcity bonus payment.  
"DATA",346,74,2)
Notes: (Modified 12/2/04)
"DATA",346,75,0)
M75^2970101^^3071105^3151012.170346
"DATA",346,75,1,0)
^^2^2^3150519
"DATA",346,75,1,1,0)
Multiple automated multichannel tests performed on the same day combined for
"DATA",346,75,1,2,0)
payment.  
"DATA",346,75,2)
Notes: (Modified 11/5/07)
"DATA",346,76,0)
M76^2970101^^3030228^3151012.170346
"DATA",346,76,1,0)
^^1^1^3150519
"DATA",346,76,1,1,0)
Missing/incomplete/invalid diagnosis or condition.  
"DATA",346,76,2)
Notes: (Modified 2/28/03)
"DATA",346,77,0)
M77^2970101^^3140314^3151012.170346
"DATA",346,77,1,0)
^^1^1^3150519
"DATA",346,77,1,1,0)
Missing/incomplete/invalid/inappropriate place of service.  
"DATA",346,77,2)
Notes: (Modified 2/28/03, 3/1/2014, 3/14/2014)
"DATA",346,78,0)
M78^2970101^3060518^3030228^3151012.170346
"DATA",346,78,1,0)
^^1^1^3150519
"DATA",346,78,1,1,0)
Missing/incomplete/invalid HCPCS modifier.  
"DATA",346,78,2)
Notes: (Modified 2/28/03,) Consider using Reason Code 4
"DATA",346,79,0)
M79^2970101^^3030228^3151012.170346
"DATA",346,79,1,0)
^^1^1^3150519
"DATA",346,79,1,1,0)
Missing/incomplete/invalid charge.  
"DATA",346,79,2)
Notes: (Modified 2/28/03)
"DATA",346,80,0)
M80^2970101^^3021031^3151012.170346
"DATA",346,80,1,0)
^^2^2^3150519
"DATA",346,80,1,1,0)
Not covered when performed during the same session/date as a previously
"DATA",346,80,1,2,0)
processed service for the patient.  
"DATA",346,80,2)
Notes: (Modified 10/31/02)
"DATA",346,81,0)
M81^2970101^^3040201^3151012.170346
"DATA",346,81,1,0)
^^1^1^3150519
"DATA",346,81,1,1,0)
You are required to code to the highest level of specificity.  
"DATA",346,81,2)
Notes: (Modified 2/1/04)
"DATA",346,82,0)
M82^2970101^^^3151012.170346
"DATA",346,82,1,0)
^^1^1^3150519
"DATA",346,82,1,1,0)
Service is not covered when patient is under age 50.  
"DATA",346,83,0)
M83^2970101^^^3151012.170346
"DATA",346,83,1,0)
^^1^1^3150519
"DATA",346,83,1,1,0)
Service is not covered unless the patient is classified as at high risk.  
"DATA",346,84,0)
M84^2970101^^3140314^3151012.170346
"DATA",346,84,1,0)
^^1^1^3150519
"DATA",346,84,1,1,0)
Medical code sets used must be the codes in effect at the time of service.  
"DATA",346,84,2)
Notes: (Modified 2/1/04, 3/14/2014)
"DATA",346,85,0)
M85^2970101^^^3151012.170346
"DATA",346,85,1,0)
^^1^1^3150519
"DATA",346,85,1,1,0)
Subjected to review of physician evaluation and management services.  
"DATA",346,86,0)
M86^2970101^^3030630^3151012.170346
"DATA",346,86,1,0)
^^2^2^3150519
"DATA",346,86,1,1,0)
Service denied because payment already made for same/similar procedure within
"DATA",346,86,1,2,0)
set time frame.  
"DATA",346,86,2)
Notes: (Modified 6/30/03)
"DATA",346,87,0)
M87^2970101^^^3151012.170346
"DATA",346,87,1,0)
^^1^1^3150519
"DATA",346,87,1,1,0)
Claim/service(s) subjected to CFO-CAP prepayment review.  
"DATA",346,88,0)
M88^2970101^3040801^^3151012.170346
"DATA",346,88,1,0)
^^2^2^3150519
"DATA",346,88,1,1,0)
We cannot pay for laboratory tests unless billed by the laboratory that did the
"DATA",346,88,1,2,0)
work.  
"DATA",346,88,2)
Notes: Consider using Reason Code B20
"DATA",346,89,0)
M89^2970101^^^3151012.170347
"DATA",346,89,1,0)
^^1^1^3150519
"DATA",346,89,1,1,0)
Not covered more than once under age 40.  
"DATA",346,90,0)
M90^2970101^^^3151012.170347
"DATA",346,90,1,0)
^^1^1^3150519
"DATA",346,90,1,1,0)
Not covered more than once in a 12 month period.  
"DATA",346,91,0)
M91^2970101^^^3151012.170347
"DATA",346,91,1,0)
^^2^2^3150519
"DATA",346,91,1,1,0)
Lab procedures with different CLIA certification numbers must be billed on
"DATA",346,91,1,2,0)
separate claims.  
"DATA",346,92,0)
M92^2970101^3040801^^3151012.170347
"DATA",346,92,1,0)
^^1^1^3150519
"DATA",346,92,1,1,0)
Services subjected to review under the Home Health Medical Review Initiative.  
"DATA",346,93,0)
M93^2970101^^^3151012.170347
"DATA",346,93,1,0)
^^2^2^3150519
"DATA",346,93,1,1,0)
Information supplied supports a break in therapy.  A new capped rental period
"DATA",346,93,1,2,0)
began with delivery of this equipment.  
"DATA",346,94,0)
M94^2970101^^^3151012.170347
"DATA",346,94,1,0)
^^2^2^3150519
"DATA",346,94,1,1,0)
Information supplied does not support a break in therapy.  A new capped rental
"DATA",346,94,1,2,0)
period will not begin.  
"DATA",346,95,0)
M95^2970101^^^3151012.170347
"DATA",346,95,1,0)
^^1^1^3150519
"DATA",346,95,1,1,0)
Services subjected to Home Health Initiative medical review/cost report audit.  
"DATA",346,96,0)
M96^2970101^^^3151012.170347
"DATA",346,96,1,0)
^^4^4^3150519
"DATA",346,96,1,1,0)
The technical component of a service furnished to an inpatient may only be
"DATA",346,96,1,2,0)
billed by that inpatient facility. You must contact the inpatient facility for
"DATA",346,96,1,3,0)
technical component reimbursement.  If not already billed, you should bill us
"DATA",346,96,1,4,0)
for the professional component only.  
"DATA",346,97,0)
M97^2970101^^^3151012.170347
"DATA",346,97,1,0)
^^2^2^3150519
"DATA",346,97,1,1,0)
Not paid to practitioner when provided to patient in this place of service. 
"DATA",346,97,1,2,0)
Payment included in the reimbursement issued the facility.  
"DATA",346,98,0)
M98^2970101^3040131^^3151012.170347
"DATA",346,98,1,0)
^^3^3^3150519
"DATA",346,98,1,1,0)
Begin to report the Universal Product Number on claims for items of this type.
"DATA",346,98,1,2,0)
We will soon begin to deny payment for items of this type if billed without the
"DATA",346,98,1,3,0)
correct UPN.  
"DATA",346,98,2)
Notes: Consider using M99
"DATA",346,99,0)
M99^2970101^^3030228^3151012.170347
"DATA",346,99,1,0)
^^1^1^3150519
"DATA",346,99,1,1,0)
Missing/incomplete/invalid Universal Product Number/Serial Number.  
"DATA",346,99,2)
Notes: (Modified 2/28/03)
"DATA",346,100,0)
M100^2970101^^^3151012.170347
"DATA",346,100,1,0)
^^3^3^3150519
"DATA",346,100,1,1,0)
We do not pay for an oral anti-emetic drug that is not administered for use
"DATA",346,100,1,2,0)
immediately before, at, or within 48 hours of administration of a covered
"DATA",346,100,1,3,0)
chemotherapy drug.  
"DATA",346,101,0)
M101^2970101^3040131^^3151012.170347
"DATA",346,101,1,0)
^^2^2^3150519
"DATA",346,101,1,1,0)
Begin to report a G1-G5 modifier with this HCPCS.  We will soon begin to deny
"DATA",346,101,1,2,0)
payment for this service if billed without a G1-G5 modifier.  
"DATA",346,101,2)
Notes: Consider using M78
"DATA",346,102,0)
M102^2970101^^^3151012.170347
"DATA",346,102,1,0)
^^1^1^3150519
"DATA",346,102,1,1,0)
Service not performed on equipment approved by the FDA for this purpose.  
"DATA",346,103,0)
M103^2970101^^^3151012.170347
"DATA",346,103,1,0)
^^4^4^3150519
"DATA",346,103,1,1,0)
Information supplied supports a break in therapy.  However, the medical
"DATA",346,103,1,2,0)
information we have for this patient does not support the need for this item as
"DATA",346,103,1,3,0)
billed.  We have approved payment for this item at a reduced level, and a new
"DATA",346,103,1,4,0)
capped rental period will begin with the delivery of this equipment.  
"DATA",346,104,0)
M104^2970101^^^3151012.170347
"DATA",346,104,1,0)
^^3^3^3150519
"DATA",346,104,1,1,0)
Information supplied supports a break in therapy.  A new capped rental period
"DATA",346,104,1,2,0)
will begin with delivery of the equipment.  This is the maximum approved under
"DATA",346,104,1,3,0)
the fee schedule for this item or service.  
"DATA",346,105,0)
M105^2970101^^^3151012.170347
"DATA",346,105,1,0)
^^4^4^3150519
"DATA",346,105,1,1,0)
Information supplied does not support a break in therapy.  The medical
"DATA",346,105,1,2,0)
information we have for this patient does not support the need for this item as
"DATA",346,105,1,3,0)
billed. We have approved payment for this item at a reduced level, and a new
"DATA",346,105,1,4,0)
capped rental period will not begin.  
"DATA",346,106,0)
M106^2970101^3040131^^3151012.170347
"DATA",346,106,1,0)
^^3^3^3150519
"DATA",346,106,1,1,0)
Information supplied does not support a break in therapy.  A new capped rental
"DATA",346,106,1,2,0)
period will not begin. This is the maximum approved under the fee schedule for
"DATA",346,106,1,3,0)
this item or service.  
"DATA",346,106,2)
Notes: Consider using MA 31
"DATA",346,107,0)
M107^2970101^^^3151012.170347
"DATA",346,107,1,0)
^^2^2^3150519
"DATA",346,107,1,1,0)
Payment reduced as 90-day rolling average hematocrit for ESRD patient exceeded
"DATA",346,107,1,2,0)
36.5%.  
"DATA",346,108,0)
M108^2970101^3050602^^3151012.170347
"DATA",346,108,1,0)
^^2^2^3150519
"DATA",346,108,1,1,0)
Missing/incomplete/invalid provider identifier for the provider who interpreted
"DATA",346,108,1,2,0)
the diagnostic test.  
"DATA",346,109,0)
M109^2970101^^^3151012.170347
"DATA",346,109,1,0)
^^2^2^3150519
"DATA",346,109,1,1,0)
We have provided you with a bundled payment for a teleconsultation. You must
"DATA",346,109,1,2,0)
send 25 percent of the teleconsultation payment to the referring practitioner.  
"DATA",346,110,0)
M110^2970101^3050602^^3151012.170347
"DATA",346,110,1,0)
^^2^2^3150519
"DATA",346,110,1,1,0)
Missing/incomplete/invalid provider identifier for the provider from whom you
"DATA",346,110,1,2,0)
purchased interpretation services.  
"DATA",346,111,0)
M111^2970101^^^3151012.170347
"DATA",346,111,1,0)
^^2^2^3150519
"DATA",346,111,1,1,0)
We do not pay for chiropractic manipulative treatment when the patient refuses
"DATA",346,111,1,2,0)
to have an x-ray taken.  
"DATA",346,112,0)
M112^2970101^^3071105^3151012.170347
"DATA",346,112,1,0)
^^3^3^3150519
"DATA",346,112,1,1,0)
Reimbursement for this item is based on the single payment amount required
"DATA",346,112,1,2,0)
under the DMEPOS Competitive Bidding Program for the area where the patient
"DATA",346,112,1,3,0)
resides.  
"DATA",346,112,2)
Notes: (Modified 11/5/07)
"DATA",346,113,0)
M113^2970101^^3071105^3151012.170347
"DATA",346,113,1,0)
^^2^2^3150519
"DATA",346,113,1,1,0)
Our records indicate that this patient began using this item/service prior to
"DATA",346,113,1,2,0)
the current contract period for the DMEPOS Competitive Bidding Program.  
"DATA",346,113,2)
Notes: (Modified 11/5/07)
"DATA",346,114,0)
M114^2970101^^3071105^3151012.170347
"DATA",346,114,1,0)
^^3^3^3150519
"DATA",346,114,1,1,0)
This service was processed in accordance with rules and guidelines under the
"DATA",346,114,1,2,0)
DMEPOS Competitive Bidding Program or a Demonstration Project.  For more
"DATA",346,114,1,3,0)
information regarding these projects, contact your local contractor.  
"DATA",346,114,2)
Notes: (Modified 8/1/06, 11/5/07)
"DATA",346,115,0)
M115^2970101^^3071105^3151012.170347
"DATA",346,115,1,0)
^^2^2^3150519
"DATA",346,115,1,1,0)
This item is denied when provided to this patient by a non-contract or
"DATA",346,115,1,2,0)
non-demonstration supplier.  
"DATA",346,115,2)
Notes: (Modified 11/5/2007)
"DATA",346,116,0)
M116^2970101^^3110308^3151012.170347
"DATA",346,116,1,0)
^^2^2^3150519
"DATA",346,116,1,1,0)
Processed under a demonstration project or program. Project or program is
"DATA",346,116,1,2,0)
ending and additional services may not be paid under this project or program.  
"DATA",346,116,2)
Notes: (Modified 2/1/04, 3/15/11)
"DATA",346,117,0)
M117^2970101^^3030630^3151012.170347
"DATA",346,117,1,0)
^^1^1^3150519
"DATA",346,117,1,1,0)
Not covered unless submitted via electronic claim.  
"DATA",346,117,2)
Notes: (Modified 6/30/03)
"DATA",346,118,0)
M118^2970101^3110101^3091101^3151012.170347
"DATA",346,118,1,0)
^^1^1^3150519
"DATA",346,118,1,1,0)
Letter to follow containing further information.  
"DATA",346,118,2)
Notes: Consider using N202
"DATA",346,119,0)
M119^2970101^^3070401^3151012.170347
"DATA",346,119,1,0)
^^1^1^3150519
"DATA",346,119,1,1,0)
Missing/incomplete/invalid/ deactivated/withdrawn National Drug Code (NDC).  
"DATA",346,119,2)
Notes: (Modified 2/28/03, 4/1/04)
"DATA",346,120,0)
M120^2970101^3050602^^3151012.170347
"DATA",346,120,1,0)
^^3^3^3150519
"DATA",346,120,1,1,0)
Missing/incomplete/invalid provider identifier for the substituting physician
"DATA",346,120,1,2,0)
who furnished the service(s) under a reciprocal billing or locum tenens
"DATA",346,120,1,3,0)
arrangement.  
"DATA",346,121,0)
M121^2970101^^^3151012.170347
"DATA",346,121,1,0)
^^2^2^3150519
"DATA",346,121,1,1,0)
We pay for this service only when performed with a covered cryosurgical
"DATA",346,121,1,2,0)
ablation.  
"DATA",346,122,0)
M122^2970101^^3060228^3151012.170347
"DATA",346,122,1,0)
^^1^1^3150519
"DATA",346,122,1,1,0)
Missing/incomplete/invalid level of subluxation.  
"DATA",346,122,2)
Notes: (Modified 2/28/03)
"DATA",346,123,0)
M123^2970101^^3030228^3151012.170347
"DATA",346,123,1,0)
^^1^1^3150519
"DATA",346,123,1,1,0)
Missing/incomplete/invalid name, strength, or dosage of the drug furnished.  
"DATA",346,123,2)
Notes: (Modified 2/28/03)
"DATA",346,124,0)
M124^2970101^^3030228^3151012.170347
"DATA",346,124,1,0)
^^2^2^3150519
"DATA",346,124,1,1,0)
Missing indication of whether the patient owns the equipment that requires the
"DATA",346,124,1,2,0)
part or supply.  
"DATA",346,124,2)
Notes: (Modified 2/28/03) Related to N230
"DATA",346,125,0)
M125^2970101^^3030228^3151012.170347
"DATA",346,125,1,0)
^^2^2^3150519
"DATA",346,125,1,1,0)
Missing/incomplete/invalid information on the period of time for which the
"DATA",346,125,1,2,0)
service/supply/equipment will be needed.  
"DATA",346,125,2)
Notes: (Modified 2/28/03)
"DATA",346,126,0)
M126^2970101^^3030228^3151012.170347
"DATA",346,126,1,0)
^^1^1^3150519
"DATA",346,126,1,1,0)
Missing/incomplete/invalid individual lab codes included in the test.  
"DATA",346,126,2)
Notes: (Modified 2/28/03)
"DATA",346,127,0)
M127^2970101^^3030228^3151012.170347
"DATA",346,127,1,0)
^^1^1^3150519
"DATA",346,127,1,1,0)
Missing patient medical record for this service.  
"DATA",346,127,2)
Notes: (Modified 2/28/03) Related to N237
"DATA",346,128,0)
M128^2970101^3050602^^3151012.170347
"DATA",346,128,1,0)
^^1^1^3150519
"DATA",346,128,1,1,0)
Missing/incomplete/invalid date of the patient"s last physician visit.  
"DATA",346,129,0)
M129^2970101^^3030630^3151012.170347
"DATA",346,129,1,0)
^^1^1^3150519
"DATA",346,129,1,1,0)
Missing/incomplete/invalid indicator of x-ray availability for review.  
"DATA",346,129,2)
Notes: (Modified 2/28/03, 6/30/03)
"DATA",346,130,0)
M130^2970101^^3030228^3151012.170347
"DATA",346,130,1,0)
^^2^2^3150519
"DATA",346,130,1,1,0)
Missing invoice or statement certifying the actual cost of the lens, less
"DATA",346,130,1,2,0)
discounts, and/or the type of intraocular lens used.  
"DATA",346,130,2)
Notes: (Modified 2/28/03) Related to N231
"DATA",346,131,0)
M131^2970101^^3030228^3151012.170347
"DATA",346,131,1,0)
^^1^1^3150519
"DATA",346,131,1,1,0)
Missing physician financial relationship form.  
"DATA",346,131,2)
Notes: (Modified 2/28/03) Related to N239
"DATA",346,132,0)
M132^2970101^^3030228^3151012.170347
"DATA",346,132,1,0)
^^1^1^3150519
"DATA",346,132,1,1,0)
Missing pacemaker registration form.  
"DATA",346,132,2)
Notes: (Modified 2/28/03) Related to N235
"DATA",346,133,0)
M133^2970101^^^3151012.170347
"DATA",346,133,1,0)
^^2^2^3150519
"DATA",346,133,1,1,0)
Claim did not identify who performed the purchased diagnostic test or the
"DATA",346,133,1,2,0)
amount you were charged for the test.  
"DATA",346,134,0)
M134^2970101^^3030630^3151012.170347
"DATA",346,134,1,0)
^^2^2^3150519
"DATA",346,134,1,1,0)
Performed by a facility/supplier in which the provider has a financial
"DATA",346,134,1,2,0)
interest.  
"DATA",346,134,2)
Notes: (Modified 6/30/03)
"DATA",346,135,0)
M135^2970101^^3030228^3151012.170347
"DATA",346,135,1,0)
^^1^1^3150519
"DATA",346,135,1,1,0)
Missing/incomplete/invalid plan of treatment.  
"DATA",346,135,2)
Notes: (Modified 2/28/03)
"DATA",346,136,0)
M136^2970101^^3030228^3151012.170347
"DATA",346,136,1,0)
^^2^2^3150519
"DATA",346,136,1,1,0)
Missing/incomplete/invalid indication that the service was supervised or
"DATA",346,136,1,2,0)
evaluated by a physician.  
"DATA",346,136,2)
Notes: (Modified 2/28/03)
"DATA",346,137,0)
M137^2970101^^3121101^3151012.170347
"DATA",346,137,1,0)
^^1^1^3150519
"DATA",346,137,1,1,0)
Part B coinsurance under a demonstration project or pilot program.  
"DATA",346,137,2)
Notes: (Modified 11/1/12)
"DATA",346,138,0)
M138^2970101^^^3151012.170347
"DATA",346,138,1,0)
^^3^3^3150519
"DATA",346,138,1,1,0)
Patient identified as a demonstration participant but the patient was not
"DATA",346,138,1,2,0)
enrolled in the demonstration at the time services were rendered.  Coverage is
"DATA",346,138,1,3,0)
limited to demonstration participants.  
"DATA",346,139,0)
M139^2970101^^^3151012.170347
"DATA",346,139,1,0)
^^1^1^3150519
"DATA",346,139,1,1,0)
Denied services exceed the coverage limit for the demonstration.  
"DATA",346,140,0)
M140^2970101^3040130^^3151012.170347
"DATA",346,140,1,0)
^^2^2^3150519
"DATA",346,140,1,1,0)
Service not covered until after the patient"s 50th birthday, i.e., no coverage
"DATA",346,140,1,2,0)
prior to the day after the 50th birthday 
"DATA",346,140,2)
Notes: Consider using M82
"DATA",346,141,0)
M141^2970101^^3030228^3151012.170347
"DATA",346,141,1,0)
^^1^1^3150519
"DATA",346,141,1,1,0)
Missing physician certified plan of care.  
"DATA",346,141,2)
Notes: (Modified 2/28/03) Related to N238
"DATA",346,142,0)
M142^2970101^^3030228^3151012.170347
"DATA",346,142,1,0)
^^1^1^3150519
"DATA",346,142,1,1,0)
Missing American Diabetes Association Certificate of Recognition.  
"DATA",346,142,2)
Notes: (Modified 2/28/03) Related to N226
"DATA",346,143,0)
M143^2970101^^3061201^3151012.170347
"DATA",346,143,1,0)
^^1^1^3150519
"DATA",346,143,1,1,0)
The provider must update license information with the payer.  
"DATA",346,143,2)
Notes: (Modified 12/1/06)
"DATA",346,144,0)
M144^2970101^^^3151012.170347
"DATA",346,144,1,0)
^^2^2^3150519
"DATA",346,144,1,1,0)
Pre-/post-operative care payment is included in the allowance for the
"DATA",346,144,1,2,0)
surgery/procedure.  
"DATA",346,145,0)
MA01^2970101^^3070401^3151012.170347
"DATA",346,145,1,0)
^^6^6^3150519
"DATA",346,145,1,1,0)
Alert: If you do not agree with what we approved for these services, you may
"DATA",346,145,1,2,0)
appeal our decision.  To make sure that we are fair to you, we require another
"DATA",346,145,1,3,0)
individual that did not process your initial claim to conduct the appeal. 
"DATA",346,145,1,4,0)
However, in order to be eligible for an appeal, you must write to us within 120
"DATA",346,145,1,5,0)
days of the date you received this notice, unless you have a good reason for
"DATA",346,145,1,6,0)
being late.  
"DATA",346,145,2)
Notes: (Modified 10/31/02, 6/30/03, 8/1/05, 4/1/07)
"DATA",346,146,0)
MA02^2970101^^3070401^3151012.170347
"DATA",346,146,1,0)
^^3^3^3150519
"DATA",346,146,1,1,0)
Alert: If you do not agree with this determination, you have the right to
"DATA",346,146,1,2,0)
appeal. You must file a written request for an appeal within 180 days of the
"DATA",346,146,1,3,0)
date you receive this notice.  
"DATA",346,146,2)
Notes: (Modified 10/31/02, 6/30/03, 8/1/05, 12/29/05, 8/1/06, 4/1/07)
"DATA",346,147,0)
MA03^2970101^3061001^3051118^3151012.170347
"DATA",346,147,1,0)
^^5^5^3150519
"DATA",346,147,1,1,0)
If you do not agree with the approved amounts and $100 or more is in dispute
"DATA",346,147,1,2,0)
(less deductible and coinsurance), you may ask for a hearing within six months
"DATA",346,147,1,3,0)
of the date of this notice. To meet the $100, you may combine amounts on other
"DATA",346,147,1,4,0)
claims that have been denied, including reopened appeals if you received a
"DATA",346,147,1,5,0)
revised decision. You must appeal each claim on time.  
"DATA",346,147,2)
Notes: Consider using MA02 (Modified 10/31/02, 6/30/03, 8/1/05, 11/18/05)
"DATA",346,148,0)
MA04^2970101^^^3151012.170347
"DATA",346,148,1,0)
^^3^3^3150519
"DATA",346,148,1,1,0)
Secondary payment cannot be considered without the identity of or payment
"DATA",346,148,1,2,0)
information from the primary payer.  The information was either not reported or
"DATA",346,148,1,3,0)
was illegible.  
"DATA",346,149,0)
MA05^2970101^3031016^^3151012.170347
"DATA",346,149,1,0)
^^1^1^3150519
"DATA",346,149,1,1,0)
Incorrect admission date patient status or type of bill entry on claim.  
"DATA",346,149,2)
Notes: Consider using MA30, MA40 or MA43
"DATA",346,150,0)
MA06^2970101^3040801^^3151012.170347
"DATA",346,150,1,0)
^^1^1^3150519
"DATA",346,150,1,1,0)
Missing/incomplete/invalid beginning and/or ending date(s).  
"DATA",346,150,2)
Notes: Consider using MA31
"DATA",346,151,0)
MA07^2970101^^3070401^3151012.170347
"DATA",346,151,1,0)
^^1^1^3150519
"DATA",346,151,1,1,0)
Alert: The claim information has also been forwarded to Medicaid for review.  
"DATA",346,151,2)
Notes: (Modified 4/1/07)
"DATA",346,152,0)
MA08^2970101^^3070401^3151012.170347
"DATA",346,152,1,0)
^^2^2^3150519
"DATA",346,152,1,1,0)
Alert: Claim information was not forwarded because the supplemental coverage is
"DATA",346,152,1,2,0)
not with a Medigap plan, or you do not participate in Medicare.  
"DATA",346,152,2)
Notes: (Modified 4/1/07)
"DATA",346,153,0)
MA09^2970101^^3141101^3151012.170347
"DATA",346,153,1,0)
^^2^2^3150519
"DATA",346,153,1,1,0)
Claim submitted as unassigned but processed as assigned in accordance with our
"DATA",346,153,1,2,0)
current assignment/participation agreement.  
"DATA",346,154,0)
MA10^2970101^^3070401^3151012.170347
"DATA",346,154,1,0)
^^2^2^3150519
"DATA",346,154,1,1,0)
Alert: The patient"s payment was in excess of the amount owed.  You must refund
"DATA",346,154,1,2,0)
the overpayment to the patient.  
"DATA",346,154,2)
Notes: (Modified 4/1/07)
"DATA",346,155,0)
MA11^2970101^3040131^^3151012.170347
"DATA",346,155,1,0)
^^5^5^3150519
"DATA",346,155,1,1,0)
Payment is being issued on a conditional basis.  If no-fault insurance,
"DATA",346,155,1,2,0)
liability insurance, Workers" Compensation, Department of Veterans Affairs, or
"DATA",346,155,1,3,0)
a group health plan for employees and dependents also covers this claim, a
"DATA",346,155,1,4,0)
refund may be due us.  Please contact us if the patient is covered by any of
"DATA",346,155,1,5,0)
these sources.  
"DATA",346,155,2)
Notes: Consider using M32
"DATA",346,156,0)
MA12^2970101^^^3151012.170347
"DATA",346,156,1,0)
^^2^2^3150519
"DATA",346,156,1,1,0)
You have not established that you have the right under the law to bill for
"DATA",346,156,1,2,0)
services furnished by the person(s) that furnished this (these) service(s).  
"DATA",346,157,0)
MA13^2970101^^3070401^3151012.170347
"DATA",346,157,1,0)
^^2^2^3150519
"DATA",346,157,1,1,0)
Alert: You may be subject to penalties if you bill the patient for amounts not
"DATA",346,157,1,2,0)
reported with the PR (patient responsibility) group code.  
"DATA",346,157,2)
Notes: (Modified 4/1/07)
"DATA",346,158,0)
MA14^2970101^^3070801^3151012.170348
"DATA",346,158,1,0)
^^4^4^3150519
"DATA",346,158,1,1,0)
Alert: The patient is a member of an employer-sponsored prepaid health plan.
"DATA",346,158,1,2,0)
Services from outside that health plan are not covered.  However, as you were
"DATA",346,158,1,3,0)
not previously notified of this, we are paying this time.  In the future, we
"DATA",346,158,1,4,0)
will not pay you for non-plan services.  
"DATA",346,158,2)
Notes: (Modified 4/1/07, 8/1/07)
"DATA",346,159,0)
MA15^2970101^^3070401^3151012.170348
"DATA",346,159,1,0)
^^2^2^3150519
"DATA",346,159,1,1,0)
Alert: Your claim has been separated to expedite handling. You will receive a
"DATA",346,159,1,2,0)
separate notice for the other services reported.  
"DATA",346,159,2)
Notes: (Modified 4/1/07)
"DATA",346,160,0)
MA16^2970101^^^3151012.170348
"DATA",346,160,1,0)
^^3^3^3150519
"DATA",346,160,1,1,0)
The patient is covered by the Black Lung Program.  Send this claim to the
"DATA",346,160,1,2,0)
Department of Labor, Federal Black Lung Program, P.O. Box 828, Lanham-Seabrook
"DATA",346,160,1,3,0)
MD 20703.  
"DATA",346,161,0)
MA17^2970101^^^3151012.170348
"DATA",346,161,1,0)
^^3^3^3150519
"DATA",346,161,1,1,0)
We are the primary payer and have paid at the primary rate.  You must contact
"DATA",346,161,1,2,0)
the patient"s other insurer to refund any excess it may have paid due to its
"DATA",346,161,1,3,0)
erroneous primary payment.  
"DATA",346,162,0)
MA18^2970101^^3070401^3151012.170348
"DATA",346,162,1,0)
^^3^3^3150519
"DATA",346,162,1,1,0)
Alert: The claim information is also being forwarded to the patient"s
"DATA",346,162,1,2,0)
supplemental insurer. Send any questions regarding supplemental benefits to
"DATA",346,162,1,3,0)
them.  
"DATA",346,162,2)
Notes: (Modified 4/1/07)
"DATA",346,163,0)
MA19^2970101^^3070401^3151012.170348
"DATA",346,163,1,0)
^^4^4^3150519
"DATA",346,163,1,1,0)
Alert:  Information was not sent to the Medigap insurer due to
"DATA",346,163,1,2,0)
incorrect/invalid information you submitted concerning that insurer. Please
"DATA",346,163,1,3,0)
verify your information and submit your secondary claim directly to that
"DATA",346,163,1,4,0)
insurer.  
"DATA",346,163,2)
Notes: (Modified 4/1/07)
"DATA",346,164,0)
MA20^2970101^^3030630^3151012.170348
"DATA",346,164,1,0)
^^3^3^3150519
"DATA",346,164,1,1,0)
Skilled Nursing Facility (SNF) stay not covered when care is primarily related
"DATA",346,164,1,2,0)
to the use of an urethral catheter for convenience or the control of
"DATA",346,164,1,3,0)
incontinence.  
"DATA",346,164,2)
Notes: (Modified 6/30/03)
"DATA",346,165,0)
MA21^2970101^^^3151012.170348
"DATA",346,165,1,0)
^^1^1^3150519
"DATA",346,165,1,1,0)
SSA records indicate mismatch with name and sex.  
"DATA",346,166,0)
MA22^2970101^^^3151012.170348
"DATA",346,166,1,0)
^^1^1^3150519
"DATA",346,166,1,1,0)
Payment of less than $1.00 suppressed.  
"DATA",346,167,0)
MA23^2970101^^^3151012.170348
"DATA",346,167,1,0)
^^1^1^3150519
"DATA",346,167,1,1,0)
Demand bill approved as result of medical review.  
"DATA",346,168,0)
MA24^2970101^^3030630^3151012.170348
"DATA",346,168,1,0)
^^2^2^3150519
"DATA",346,168,1,1,0)
Christian Science Sanitarium/ Skilled Nursing Facility (SNF) bill in the same
"DATA",346,168,1,2,0)
benefit period.  
"DATA",346,168,2)
Notes: (Modified 6/30/03)
"DATA",346,169,0)
MA25^2970101^^^3151012.170348
"DATA",346,169,1,0)
^^2^2^3150519
"DATA",346,169,1,1,0)
A patient may not elect to change a hospice provider more than once in a
"DATA",346,169,1,2,0)
benefit period.  
"DATA",346,170,0)
MA26^2970101^^3070401^3151012.170348
"DATA",346,170,1,0)
^^1^1^3150519
"DATA",346,170,1,1,0)
Alert: Our records indicate that you were previously informed of this rule.  
"DATA",346,170,2)
Notes: (Modified 4/1/07)
"DATA",346,171,0)
MA27^2970101^^3030228^3151012.170348
"DATA",346,171,1,0)
^^1^1^3150519
"DATA",346,171,1,1,0)
Missing/incomplete/invalid entitlement number or name shown on the claim.  
"DATA",346,171,2)
Notes: (Modified 2/28/03)
"DATA",346,172,0)
MA28^2970101^^3070401^3151012.170348
"DATA",346,172,1,0)
^^5^5^3150519
"DATA",346,172,1,1,0)
Alert: Receipt of this notice by a physician or supplier who did not accept
"DATA",346,172,1,2,0)
assignment is for information only and does not make the physician or supplier
"DATA",346,172,1,3,0)
a party to the determination.  No additional rights to appeal this decision,
"DATA",346,172,1,4,0)
above those rights already provided for by regulation/instruction, are
"DATA",346,172,1,5,0)
conferred by receipt of this notice.  
"DATA",346,172,2)
Notes: (Modified 4/1/07)
"DATA",346,173,0)
MA29^2970101^3050602^^3151012.170348
"DATA",346,173,1,0)
^^1^1^3150519
"DATA",346,173,1,1,0)
Missing/incomplete/invalid provider name, city, state, or zip code.  
"DATA",346,174,0)
MA30^2970101^^3030228^3151012.170348
"DATA",346,174,1,0)
^^1^1^3150519
"DATA",346,174,1,1,0)
Missing/incomplete/invalid type of bill.  
"DATA",346,174,2)
Notes: (Modified 2/28/03)
"DATA",346,175,0)
MA31^2970101^^3030228^3151012.170348
"DATA",346,175,1,0)
^^1^1^3150519
"DATA",346,175,1,1,0)
Missing/incomplete/invalid beginning and ending dates of the period billed.  
"DATA",346,175,2)
Notes: (Modified 2/28/03)
"DATA",346,176,0)
MA32^2970101^^3030228^3151012.170348
"DATA",346,176,1,0)
^^1^1^3150519
"DATA",346,176,1,1,0)
Missing/incomplete/invalid number of covered days during the billing period.  
"DATA",346,176,2)
Notes: (Modified 2/28/03)
"DATA",346,177,0)
MA33^2970101^^3030228^3151012.170348
"DATA",346,177,1,0)
^^1^1^3150519
"DATA",346,177,1,1,0)
Missing/incomplete/invalid noncovered days during the billing period.  
"DATA",346,177,2)
Notes: (Modified 2/28/03)
"DATA",346,178,0)
MA34^2970101^^3030228^3151012.170348
"DATA",346,178,1,0)
^^2^2^3150519
"DATA",346,178,1,1,0)
Missing/incomplete/invalid number of coinsurance days during the billing
"DATA",346,178,1,2,0)
period.  
"DATA",346,178,2)
Notes: (Modified 2/28/03)
"DATA",346,179,0)
MA35^2970101^^3030228^3151012.170348
"DATA",346,179,1,0)
^^1^1^3150519
"DATA",346,179,1,1,0)
Missing/incomplete/invalid number of lifetime reserve days.  
"DATA",346,179,2)
Notes: (Modified 2/28/03)
"DATA",346,180,0)
MA36^2970101^^3030228^3151012.170348
"DATA",346,180,1,0)
^^1^1^3150519
"DATA",346,180,1,1,0)
Missing/incomplete/invalid patient name.  
"DATA",346,180,2)
Notes: (Modified 2/28/03)
"DATA",346,181,0)
MA37^2970101^^3030228^3151012.170348
"DATA",346,181,1,0)
^^1^1^3150519
"DATA",346,181,1,1,0)
Missing/incomplete/invalid patient"s address.  
"DATA",346,181,2)
Notes: (Modified 2/28/03)
"DATA",346,182,0)
MA38^2970101^3050602^^3151012.170348
"DATA",346,182,1,0)
^^1^1^3150519
"DATA",346,182,1,1,0)
Missing/incomplete/invalid birth date.  
"DATA",346,183,0)
MA39^2970101^^3030228^3151012.170348
"DATA",346,183,1,0)
^^1^1^3150519
"DATA",346,183,1,1,0)
Missing/incomplete/invalid gender.  
"DATA",346,183,2)
Notes: (Modified 2/28/03)
"DATA",346,184,0)
MA40^2970101^^3030228^3151012.170348
"DATA",346,184,1,0)
^^1^1^3150519
"DATA",346,184,1,1,0)
Missing/incomplete/invalid admission date.  
"DATA",346,184,2)
Notes: (Modified 2/28/03)
"DATA",346,185,0)
MA41^2970101^^3030228^3151012.170348
"DATA",346,185,1,0)
^^1^1^3150519
"DATA",346,185,1,1,0)
Missing/incomplete/invalid admission type.  
"DATA",346,185,2)
Notes: (Modified 2/28/03)
"DATA",346,186,0)
MA42^2970101^^3030228^3151012.170348
"DATA",346,186,1,0)
^^1^1^3150519
"DATA",346,186,1,1,0)
Missing/incomplete/invalid admission source.  
"DATA",346,186,2)
Notes: (Modified 2/28/03)
"DATA",346,187,0)
MA43^2970101^^3030228^3151012.170348
"DATA",346,187,1,0)
^^1^1^3150519
"DATA",346,187,1,1,0)
Missing/incomplete/invalid patient status.  
"DATA",346,187,2)
Notes: (Modified 2/28/03)
"DATA",346,188,0)
MA44^2970101^^3070401^3151012.170348
"DATA",346,188,1,0)
^^1^1^3150519
"DATA",346,188,1,1,0)
Alert: No appeal rights. Adjudicative decision based on law.  
"DATA",346,188,2)
Notes: (Modified 4/1/07)
"DATA",346,189,0)
MA45^2970101^^3070401^3151012.170348
"DATA",346,189,1,0)
^^2^2^3150519
"DATA",346,189,1,1,0)
Alert: As previously advised, a portion or all of your payment is being held in
"DATA",346,189,1,2,0)
a special account.  
"DATA",346,189,2)
Notes: (Modified 4/1/07)
"DATA",346,190,0)
MA46^2970101^^3090301^3151012.170348
"DATA",346,190,1,0)
^^1^1^3150519
"DATA",346,190,1,1,0)
The new information was considered but additional payment will not be issued.  
"DATA",346,190,2)
Notes: (Modified 3/1/2009)
"DATA",346,191,0)
MA47^2970101^^^3151012.170348
"DATA",346,191,1,0)
^^3^3^3150519
"DATA",346,191,1,1,0)
Our records show you have opted out of Medicare, agreeing with the patient not
"DATA",346,191,1,2,0)
to bill Medicare for services/tests/supplies furnished.  As result, we cannot
"DATA",346,191,1,3,0)
pay this claim. The patient is responsible for payment.  
"DATA",346,192,0)
MA48^2970101^^3030228^3151012.170348
"DATA",346,192,1,0)
^^2^2^3150519
"DATA",346,192,1,1,0)
Missing/incomplete/invalid name or address of responsible party or primary
"DATA",346,192,1,2,0)
payer.  
"DATA",346,192,2)
Notes: (Modified 2/28/03)
"DATA",346,193,0)
MA49^2970101^3040801^^3151012.170348
"DATA",346,193,1,0)
^^2^2^3150519
"DATA",346,193,1,1,0)
Missing/incomplete/invalid six-digit provider identifier for home health agency
"DATA",346,193,1,2,0)
or hospice for physician(s) performing care plan oversight services.  
"DATA",346,193,2)
Notes: Consider using MA76
"DATA",346,194,0)
MA50^2970101^^3140301^3151012.170348
"DATA",346,194,1,0)
^^2^2^3150519
"DATA",346,194,1,1,0)
Missing/incomplete/invalid Investigational Device Exemption number or Clinical
"DATA",346,194,1,2,0)
Trial number.  
"DATA",346,194,2)
Notes: (Modified  2/28/03, 3/1/2014)
"DATA",346,195,0)
MA51^2970101^3050205^^3151012.170348
"DATA",346,195,1,0)
^^2^2^3150519
"DATA",346,195,1,1,0)
Missing/incomplete/invalid CLIA certification number for laboratory services
"DATA",346,195,1,2,0)
billed by physician office laboratory.  
"DATA",346,195,2)
Notes: Consider using MA120
"DATA",346,196,0)
MA52^2970101^3050602^^3151012.170348
"DATA",346,196,1,0)
^^1^1^3150519
"DATA",346,196,1,1,0)
Missing/incomplete/invalid date.  
"DATA",346,197,0)
MA53^2970101^^3040201^3151012.170348
"DATA",346,197,1,0)
^^2^2^3150519
"DATA",346,197,1,1,0)
Missing/incomplete/invalid Competitive Bidding Demonstration Project
"DATA",346,197,1,2,0)
identification.  
"DATA",346,197,2)
Notes: (Modified 2/1/04)
"DATA",346,198,0)
MA54^2970101^^^3151012.170348
"DATA",346,198,1,0)
^^2^2^3150519
"DATA",346,198,1,1,0)
Physician certification or election consent for hospice care not received
"DATA",346,198,1,2,0)
timely.  
"DATA",346,199,0)
MA55^2970101^^^3151012.170348
"DATA",346,199,1,0)
^^3^3^3150519
"DATA",346,199,1,1,0)
Not covered as patient received medical health care services, automatically
"DATA",346,199,1,2,0)
revoking his/her election to receive religious non-medical health care
"DATA",346,199,1,3,0)
services.  
"DATA",346,200,0)
MA56^2970101^^^3151012.170348
"DATA",346,200,1,0)
^^4^4^3150519
"DATA",346,200,1,1,0)
Our records show you have opted out of Medicare, agreeing with the patient not
"DATA",346,200,1,2,0)
to bill Medicare for services/tests/supplies furnished.  As result, we cannot
"DATA",346,200,1,3,0)
pay this claim. The patient is responsible for payment, but under Federal law,
"DATA",346,200,1,4,0)
you cannot charge the patient more than the limiting charge amount.  
"DATA",346,201,0)
MA57^2970101^^^3151012.170348
"DATA",346,201,1,0)
^^2^2^3150519
"DATA",346,201,1,1,0)
Patient submitted written request to revoke his/her election for religious
"DATA",346,201,1,2,0)
non-medical health care services.  
"DATA",346,202,0)
MA58^2970101^^3030228^3151012.170348
"DATA",346,202,1,0)
^^1^1^3150519
"DATA",346,202,1,1,0)
Missing/incomplete/invalid release of information indicator.  
"DATA",346,202,2)
Notes: (Modified 2/28/03)
"DATA",346,203,0)
MA59^2970101^^3070401^3151012.170348
"DATA",346,203,1,0)
^^3^3^3150519
"DATA",346,203,1,1,0)
Alert: The patient overpaid you for these services. You must issue the patient
"DATA",346,203,1,2,0)
a refund within 30 days for the difference between his/her payment and the
"DATA",346,203,1,3,0)
total amount shown as patient responsibilityon this notice.  
"DATA",346,203,2)
Notes: (Modified 4/1/07)
"DATA",346,204,0)
MA60^2970101^^3030228^3151012.170348
"DATA",346,204,1,0)
^^1^1^3150519
"DATA",346,204,1,1,0)
Missing/incomplete/invalid patient relationship to insured.  
"DATA",346,204,2)
Notes: (Modified 2/28/03)
"DATA",346,205,0)
MA61^2970101^^3030228^3151012.170348
"DATA",346,205,1,0)
^^2^2^3150519
"DATA",346,205,1,1,0)
Missing/incomplete/invalid social security number or health insurance claim
"DATA",346,205,1,2,0)
number.  
"DATA",346,205,2)
Notes: (Modified 2/28/03)
"DATA",346,206,0)
MA62^2970101^^3070801^3151012.170348
"DATA",346,206,1,0)
^^1^1^3150519
"DATA",346,206,1,1,0)
Alert: This is a telephone review decision.  
"DATA",346,206,2)
Notes: (Modified 4/1/07, 8/1/07)
"DATA",346,207,0)
MA63^2970101^^3030228^3151012.170348
"DATA",346,207,1,0)
^^1^1^3150519
"DATA",346,207,1,1,0)
Missing/incomplete/invalid principal diagnosis.  
"DATA",346,207,2)
Notes: (Modified 2/28/03)
"DATA",346,208,0)
MA64^2970101^^^3151012.170348
"DATA",346,208,1,0)
^^3^3^3150519
"DATA",346,208,1,1,0)
Our records indicate that we should be the third payer for this claim.  We
"DATA",346,208,1,2,0)
cannot process this claim until we have received payment information from the
"DATA",346,208,1,3,0)
primary and secondary payers.  
"DATA",346,209,0)
MA65^2970101^^3030228^3151012.170348
"DATA",346,209,1,0)
^^1^1^3150519
"DATA",346,209,1,1,0)
Missing/incomplete/invalid admitting diagnosis.  
"DATA",346,209,2)
Notes: (Modified 2/28/03)
"DATA",346,210,0)
MA66^2970101^^3041202^3151012.170348
"DATA",346,210,1,0)
^^1^1^3150519
"DATA",346,210,1,1,0)
Missing/incomplete/invalid principal procedure code.  
"DATA",346,210,2)
Notes: (Modified 12/2/04) Related to N303
"DATA",346,211,0)
MA67^2970101^^^3151012.170348
"DATA",346,211,1,0)
^^1^1^3150519
"DATA",346,211,1,1,0)
Correction to a prior claim.  
"DATA",346,212,0)
MA68^2970101^^3070401^3151012.170348
"DATA",346,212,1,0)
^^4^4^3150519
"DATA",346,212,1,1,0)
Alert: We did not crossover this claim because the secondary insurance
"DATA",346,212,1,2,0)
information on the claim was incomplete. Please supply complete information or
"DATA",346,212,1,3,0)
use the PLANID of the insurer to assure correct and timely routing of the
"DATA",346,212,1,4,0)
claim.  
"DATA",346,212,2)
Notes: (Modified 4/1/07)
"DATA",346,213,0)
MA69^2970101^^3030228^3151012.170348
"DATA",346,213,1,0)
^^1^1^3150519
"DATA",346,213,1,1,0)
Missing/incomplete/invalid remarks.  
"DATA",346,213,2)
Notes: (Modified 2/28/03)
"DATA",346,214,0)
MA70^2970101^^3030228^3151012.170348
"DATA",346,214,1,0)
^^1^1^3150519
"DATA",346,214,1,1,0)
Missing/incomplete/invalid provider representative signature.  
"DATA",346,214,2)
Notes: (Modified 2/28/03)
"DATA",346,215,0)
MA71^2970101^^3030228^3151012.170348
"DATA",346,215,1,0)
^^1^1^3150519
"DATA",346,215,1,1,0)
Missing/incomplete/invalid provider representative signature date.  
"DATA",346,215,2)
Notes: (Modified 2/28/03)
"DATA",346,216,0)
MA72^2970101^^3070401^3151012.170348
"DATA",346,216,1,0)
^^4^4^3150519
"DATA",346,216,1,1,0)
Alert: The patient overpaid you for these assigned services.  You must issue
"DATA",346,216,1,2,0)
the patient a refund within 30 days for the difference between his/her payment
"DATA",346,216,1,3,0)
to you and the total of the amount shown as patient responsibility and as paid
"DATA",346,216,1,4,0)
to the patient on this notice.  
"DATA",346,216,2)
Notes: (Modified 4/1/07)
"DATA",346,217,0)
MA73^2970101^^^3151012.170348
"DATA",346,217,1,0)
^^2^2^3150519
"DATA",346,217,1,1,0)
Informational remittance associated with a Medicare demonstration.  No payment
"DATA",346,217,1,2,0)
issued under fee-for-service Medicare as patient has elected managed care.  
"DATA",346,218,0)
MA74^2970101^^^3151012.170348
"DATA",346,218,1,0)
^^2^2^3150519
"DATA",346,218,1,1,0)
This payment replaces an earlier payment for this claim that was either lost,
"DATA",346,218,1,2,0)
damaged or returned.  
"DATA",346,219,0)
MA75^2970101^^3030228^3151012.170348
"DATA",346,219,1,0)
^^1^1^3150519
"DATA",346,219,1,1,0)
Missing/incomplete/invalid patient or authorized representative signature.  
"DATA",346,219,2)
Notes: (Modified 2/28/03)
"DATA",346,220,0)
MA76^2970101^^3030228^3151012.170348
"DATA",346,220,1,0)
^^2^2^3150519
"DATA",346,220,1,1,0)
Missing/incomplete/invalid provider identifier for home health agency or
"DATA",346,220,1,2,0)
hospice when physician is performing care plan oversight services.  
"DATA",346,220,2)
Notes: (Modified 2/28/03, 2/1/04)
"DATA",346,221,0)
MA77^2970101^^3070401^3151012.170348
"DATA",346,221,1,0)
^^4^4^3150519
"DATA",346,221,1,1,0)
Alert: The patient overpaid you. You must issue the patient a refund within 30
"DATA",346,221,1,2,0)
days for the difference between the patient"s payment less the total of our and
"DATA",346,221,1,3,0)
other payer payments and the amount shown as patient responsibility on this
"DATA",346,221,1,4,0)
notice.  
"DATA",346,221,2)
Notes: (Modified 4/1/07)
"DATA",346,222,0)
MA78^2970101^3040131^^3151012.170348
"DATA",346,222,1,0)
^^3^3^3150519
"DATA",346,222,1,1,0)
The patient overpaid you.  You must issue the patient a refund within 30 days
"DATA",346,222,1,2,0)
for the difference between our allowed amount total and the amount paid by the
"DATA",346,222,1,3,0)
patient.  
"DATA",346,222,2)
Notes: Consider using MA59
"DATA",346,223,0)
MA79^2970101^^^3151012.170348
"DATA",346,223,1,0)
^^1^1^3150519
"DATA",346,223,1,1,0)
Billed in excess of interim rate.  
"DATA",346,224,0)
MA80^2970101^^^3151012.170348
"DATA",346,224,1,0)
^^3^3^3150519
"DATA",346,224,1,1,0)
Informational notice. No payment issued for this claim with this notice.
"DATA",346,224,1,2,0)
Payment issued to the hospital by its intermediary for all services for this
"DATA",346,224,1,3,0)
encounter under a demonstration project.  
"DATA",346,225,0)
MA81^2970101^^3030228^3151012.170348
"DATA",346,225,1,0)
^^1^1^3150519
"DATA",346,225,1,1,0)
Missing/incomplete/invalid provider/supplier signature.  
"DATA",346,225,2)
Notes: (Modified 2/28/03)
"DATA",346,226,0)
MA82^2970101^3050602^^3151012.170349
"DATA",346,226,1,0)
^^2^2^3150519
"DATA",346,226,1,1,0)
Missing/incomplete/invalid provider/supplier billing number/identifier or
"DATA",346,226,1,2,0)
billing name, address, city, state, zip code, or phone number.  
"DATA",346,227,0)
MA83^2970101^^3050801^3151012.170349
"DATA",346,227,1,0)
^^1^1^3150519
"DATA",346,227,1,1,0)
Did not indicate whether we are the primary or secondary payer.  
"DATA",346,227,2)
Notes: (Modified 8/1/05)
"DATA",346,228,0)
MA84^2970101^^^3151012.170349
"DATA",346,228,1,0)
^^4^4^3150519
"DATA",346,228,1,1,0)
Patient identified as participating in the National Emphysema Treatment Trial
"DATA",346,228,1,2,0)
but our records indicate that this patient is either not a participant, or has
"DATA",346,228,1,3,0)
not yet been approved for this phase of the study.  Contact Johns Hopkins
"DATA",346,228,1,4,0)
University, the study coordinator, to resolve if there was a discrepancy.  
"DATA",346,229,0)
MA85^2970101^3040801^^3151012.170349
"DATA",346,229,1,0)
^^4^4^3150519
"DATA",346,229,1,1,0)
Our records indicate that a primary payer exists (other than ourselves);
"DATA",346,229,1,2,0)
however, you did not complete or enter accurately the insurance
"DATA",346,229,1,3,0)
plan/group/program name or identification number.  Enter the PlanID when
"DATA",346,229,1,4,0)
effective.  
"DATA",346,229,2)
Notes: Consider using MA92
"DATA",346,230,0)
MA86^2970101^3040801^^3151012.170349
"DATA",346,230,1,0)
^^2^2^3150519
"DATA",346,230,1,1,0)
Missing/incomplete/invalid group or policy number of the insured for the
"DATA",346,230,1,2,0)
primary coverage.  
"DATA",346,230,2)
Notes: Consider using MA92
"DATA",346,231,0)
MA87^2970101^3040801^^3151012.170349
"DATA",346,231,1,0)
^^1^1^3150519
"DATA",346,231,1,1,0)
Missing/incomplete/invalid insured"s name for the primary payer.  
"DATA",346,231,2)
Notes: Consider using MA92
"DATA",346,232,0)
MA88^2970101^^3030228^3151012.170349
"DATA",346,232,1,0)
^^2^2^3150519
"DATA",346,232,1,1,0)
Missing/incomplete/invalid insured"s address and/or telephone number for the
"DATA",346,232,1,2,0)
primary payer.  
"DATA",346,232,2)
Notes: (Modified 2/28/03)
"DATA",346,233,0)
MA89^2970101^^3030228^3151012.170349
"DATA",346,233,1,0)
^^2^2^3150519
"DATA",346,233,1,1,0)
Missing/incomplete/invalid patient"s relationship to the insured for the
"DATA",346,233,1,2,0)
primary payer.  
"DATA",346,233,2)
Notes: (Modified 2/28/03)
"DATA",346,234,0)
MA90^2970101^^3030228^3151012.170349
"DATA",346,234,1,0)
^^1^1^3150519
"DATA",346,234,1,1,0)
Missing/incomplete/invalid employment status code for the primary insured.  
"DATA",346,234,2)
Notes: (Modified 2/28/03).
"DATA",346,235,0)
MA91^2970101^^^3151012.170349
"DATA",346,235,1,0)
^^1^1^3150519
"DATA",346,235,1,1,0)
This determination is the result of the appeal you filed.  
"DATA",346,236,0)
MA92^2970101^^3040201^3151012.170349
"DATA",346,236,1,0)
^^1^1^3150519
"DATA",346,236,1,1,0)
Missing plan information for other insurance.  
"DATA",346,236,2)
Notes: (Modified 2/1/04) Related to N245
"DATA",346,237,0)
MA93^2970101^^3030630^3151012.170349
"DATA",346,237,1,0)
^^1^1^3150519
"DATA",346,237,1,1,0)
Non-PIP (Periodic Interim Payment) claim.  
"DATA",346,237,2)
Notes: (Modified 6/30/03)
"DATA",346,238,0)
MA94^2970101^^3050801^3151012.170349
"DATA",346,238,1,0)
^^3^3^3150519
"DATA",346,238,1,1,0)
Did not enter the statement "Attending physician not hospice employee" on the
"DATA",346,238,1,2,0)
claim form to certify that the rendering physician is not an employee of the
"DATA",346,238,1,3,0)
hospice.  
"DATA",346,238,2)
Notes: (Reactivated 4/1/04, Modified 8/1/05)
"DATA",346,239,0)
MA95^2970101^3040101^3030228^3151012.170349
"DATA",346,239,1,0)
^^3^3^3150519
"DATA",346,239,1,1,0)
A not otherwise classified or unlisted procedure code(s) was billed but a
"DATA",346,239,1,2,0)
narrative description of the procedure was not entered on the claim.  Refer to
"DATA",346,239,1,3,0)
item 19 on the HCFA-1500.  
"DATA",346,239,2)
Notes: (Deactivated 2/28/2003) (Erroneous description corrected 9/2/2008) Consider using M51
"DATA",346,240,0)
MA96^2970101^^^3151012.170349
"DATA",346,240,1,0)
^^2^2^3150519
"DATA",346,240,1,1,0)
Claim rejected. Coded as a Medicare Managed Care Demonstration but patient is
"DATA",346,240,1,2,0)
not enrolled in a Medicare managed care plan.  
"DATA",346,241,0)
MA97^2970101^^3080229^3151012.170349
"DATA",346,241,1,0)
^^2^2^3150519
"DATA",346,241,1,1,0)
Missing/incomplete/invalid Medicare Managed Care Demonstration contract number
"DATA",346,241,1,2,0)
or clinical trial registry number.  
"DATA",346,241,2)
Notes: (Modified 2/29/08)
"DATA",346,242,0)
MA98^2970101^3031016^^3151012.170349
"DATA",346,242,1,0)
^^2^2^3150519
"DATA",346,242,1,1,0)
Claim Rejected. Does not contain the correct Medicare Managed Care
"DATA",346,242,1,2,0)
Demonstration contract number for this beneficiary.  
"DATA",346,242,2)
Notes: Consider using MA97
"DATA",346,243,0)
MA99^2970101^^3030228^3151012.170349
"DATA",346,243,1,0)
^^1^1^3150519
"DATA",346,243,1,1,0)
Missing/incomplete/invalid Medigap information.  
"DATA",346,243,2)
Notes: (Modified 2/28/03)
"DATA",346,244,0)
MA100^2970101^^3140314^3151012.170349
"DATA",346,244,1,0)
^^1^1^3150519
"DATA",346,244,1,1,0)
Missing/incomplete/invalid date of current illness or symptoms.  
"DATA",346,244,2)
Notes: (Modified 2/28/03, 3/30/05, 3/14/2014)
"DATA",346,245,0)
MA101^2970101^3110101^3030630^3151012.170349
"DATA",346,245,1,0)
^^2^2^3150519
"DATA",346,245,1,1,0)
A Skilled Nursing Facility (SNF) is responsible for payment of outside
"DATA",346,245,1,2,0)
providers who furnish these services/supplies to residents.  
"DATA",346,245,2)
Notes: Consider using N538
"DATA",346,246,0)
MA102^2970101^3040801^^3151012.170349
"DATA",346,246,1,0)
^^2^2^3150519
"DATA",346,246,1,1,0)
Missing/incomplete/invalid name or provider identifier for the
"DATA",346,246,1,2,0)
rendering/referring/ ordering/ supervising provider.  
"DATA",346,246,2)
Notes: Consider using M68
"DATA",346,247,0)
MA103^2970101^^^3151012.170349
"DATA",346,247,1,0)
^^1^1^3150519
"DATA",346,247,1,1,0)
Hemophilia Add On.  
"DATA",346,248,0)
MA104^2970101^3040131^^3151012.170349
"DATA",346,248,1,0)
^^2^2^3150519
"DATA",346,248,1,1,0)
Missing/incomplete/invalid date the patient was last seen or the provider
"DATA",346,248,1,2,0)
identifier of the attending physician.  
"DATA",346,248,2)
Notes: Consider using M128 or M57
"DATA",346,249,0)
MA105^2970101^3050602^^3151012.170349
"DATA",346,249,1,0)
^^1^1^3150519
"DATA",346,249,1,1,0)
Missing/incomplete/invalid provider number for this place of service.  
"DATA",346,250,0)
MA106^2970101^^3030630^3151012.170349
"DATA",346,250,1,0)
^^1^1^3150519
"DATA",346,250,1,1,0)
PIP (Periodic Interim Payment) claim.  
"DATA",346,250,2)
Notes: (Modified 6/30/03)
"DATA",346,251,0)
MA107^2970101^^^3151012.170349
"DATA",346,251,1,0)
^^1^1^3150519
"DATA",346,251,1,1,0)
Paper claim contains more than three separate data items in field 19.  
"DATA",346,252,0)
MA108^2970101^^^3151012.170349
"DATA",346,252,1,0)
^^1^1^3150519
"DATA",346,252,1,1,0)
Paper claim contains more than one data item in field 23.  
"DATA",346,253,0)
MA109^2970101^^^3151012.170349
"DATA",346,253,1,0)
^^1^1^3150519
"DATA",346,253,1,1,0)
Claim processed in accordance with ambulatory surgical guidelines.  
"DATA",346,254,0)
MA110^2970101^^3030228^3151012.170349
"DATA",346,254,1,0)
^^3^3^3150519
"DATA",346,254,1,1,0)
Missing/incomplete/invalid information on whether the diagnostic test(s) were
"DATA",346,254,1,2,0)
performed by an outside entity or if no purchased tests are included on the
"DATA",346,254,1,3,0)
claim.  
"DATA",346,254,2)
Notes: (Modified 2/28/03)
"DATA",346,255,0)
MA111^2970101^^3030228^3151012.170349
"DATA",346,255,1,0)
^^2^2^3150519
"DATA",346,255,1,1,0)
Missing/incomplete/invalid purchase price of the test(s) and/or the performing
"DATA",346,255,1,2,0)
laboratory"s name and address.  
"DATA",346,255,2)
Notes: (Modified 2/28/03)
"DATA",346,256,0)
MA112^2970101^^3030228^3151012.170349
"DATA",346,256,1,0)
^^1^1^3150519
"DATA",346,256,1,1,0)
Missing/incomplete/invalid group practice information.  
"DATA",346,256,2)
Notes: (Modified 2/28/03)
"DATA",346,257,0)
MA113^2970101^^^3151012.170349
"DATA",346,257,1,0)
^^5^5^3150519
"DATA",346,257,1,1,0)
Incomplete/invalid taxpayer identification number (TIN) submitted by you per
"DATA",346,257,1,2,0)
the Internal Revenue Service. Your claims cannot be processed without your
"DATA",346,257,1,3,0)
correct TIN, and you may not bill the patient pending correction of your TIN. 
"DATA",346,257,1,4,0)
There are no appeal rights for unprocessable claims, but you may resubmit this
"DATA",346,257,1,5,0)
claim after you have notified this office of your correct TIN.  
"DATA",346,258,0)
MA114^2970101^^3030228^3151012.170349
"DATA",346,258,1,0)
^^1^1^3150519
"DATA",346,258,1,1,0)
Missing/incomplete/invalid information on where the services were furnished.  
"DATA",346,258,2)
Notes: (Modified 2/28/03)
"DATA",346,259,0)
MA115^2970101^^3030228^3151012.170349
"DATA",346,259,1,0)
^^2^2^3150519
"DATA",346,259,1,1,0)
Missing/incomplete/invalid physical location (name and address, or PIN) where
"DATA",346,259,1,2,0)
the service(s) were rendered in a Health Professional Shortage Area (HPSA).  
"DATA",346,259,2)
Notes: (Modified 2/28/03)
"DATA",346,260,0)
MA116^2970101^^^3151012.170349
"DATA",346,260,1,0)
^^2^2^3150519
"DATA",346,260,1,1,0)
Did not complete the statement "Homebound" on the claim to validate whether
"DATA",346,260,1,2,0)
laboratory services were performed at home or in an institution.  
"DATA",346,260,2)
Notes: (Reactivated 4/1/04)
"DATA",346,261,0)
MA117^2970101^^^3151012.170349
"DATA",346,261,1,0)
^^1^1^3150519
"DATA",346,261,1,1,0)
This claim has been assessed a $1.00 user fee.  
"DATA",346,262,0)
MA118^2970101^^3141101^3151012.170349
"DATA",346,262,1,0)
^^3^3^3150519
"DATA",346,262,1,1,0)
Alert: No Medicare payment issued for this claim for services or supplies
"DATA",346,262,1,2,0)
furnished to a Medicare-eligible veteran through a facility of the Department
"DATA",346,262,1,3,0)
of Veterans Affairs. Coinsurance and/or deductible are applicable.  
"DATA",346,263,0)
MA119^2970101^3080501^3071105^3151012.170349
"DATA",346,263,1,0)
^^1^1^3150519
"DATA",346,263,1,1,0)
Provider level adjustment for late claim filing applies to this claim.  
"DATA",346,263,2)
Notes: Consider using Reason Code B4
"DATA",346,264,0)
MA120^2970101^^3030228^3151012.170349
"DATA",346,264,1,0)
^^1^1^3150519
"DATA",346,264,1,1,0)
Missing/incomplete/invalid CLIA certification number.  
"DATA",346,264,2)
Notes: (Modified 2/28/03)
"DATA",346,265,0)
MA121^2970101^^3041202^3151012.170349
"DATA",346,265,1,0)
^^1^1^3150519
"DATA",346,265,1,1,0)
Missing/incomplete/invalid x-ray date.  
"DATA",346,265,2)
Notes: (Modified 12/2/04)
"DATA",346,266,0)
MA122^2970101^^3041202^3151012.170349
"DATA",346,266,1,0)
^^1^1^3150519
"DATA",346,266,1,1,0)
Missing/incomplete/invalid initial treatment date.  
"DATA",346,266,2)
Notes: (Modified 12/2/04)
"DATA",346,267,0)
MA123^2970101^^^3151012.170349
"DATA",346,267,1,0)
^^2^2^3150519
"DATA",346,267,1,1,0)
Your center was not selected to participate in this study, therefore, we cannot
"DATA",346,267,1,2,0)
pay for these services.  
"DATA",346,268,0)
MA124^2970101^3040131^^3151012.170349
"DATA",346,268,1,0)
^^1^1^3150519
"DATA",346,268,1,1,0)
Processed for IME only.  
"DATA",346,268,2)
Notes: Consider using Reason Code 74
"DATA",346,269,0)
MA125^2970101^^^3151012.170349
"DATA",346,269,1,0)
^^1^1^3150519
"DATA",346,269,1,1,0)
Per legislation governing this program, payment constitutes payment in full.  
"DATA",346,270,0)
MA126^3011012^^^3151012.170349
"DATA",346,270,1,0)
^^1^1^3150519
"DATA",346,270,1,1,0)
Pancreas transplant not covered unless kidney transplant performed.  
"DATA",346,271,0)
MA127^3011012^3050602^^3151012.170349
"DATA",346,271,1,0)
^^1^1^3150519
"DATA",346,271,1,1,0)
Reserved for future use.  
"DATA",346,272,0)
MA128^3011012^^3050330^3151012.170349
"DATA",346,272,1,0)
^^1^1^3150519
"DATA",346,272,1,1,0)
Missing/incomplete/invalid FDA approval number.  
"DATA",346,272,2)
Notes: (Modified 2/28/03, 3/30/05)
"DATA",346,273,0)
MA129^3011012^3040131^3040131^3151012.170349
"DATA",346,273,1,0)
^^1^1^3150519
"DATA",346,273,1,1,0)
This provider was not certified for this procedure on this date of service.  
"DATA",346,273,2)
Notes: Consider using MA120 and Reason Code B7
"DATA",346,274,0)
MA130^3011012^^^3151012.170349
"DATA",346,274,1,0)
^^3^3^3150519
"DATA",346,274,1,1,0)
Your claim contains incomplete and/or invalid information, and no appeal rights
"DATA",346,274,1,2,0)
are afforded because the claim is unprocessable.  Please submit a new claim
"DATA",346,274,1,3,0)
with the complete/correct information.  
"DATA",346,275,0)
MA131^3011012^^^3151012.170349
"DATA",346,275,1,0)
^^3^3^3150519
"DATA",346,275,1,1,0)
Physician already paid for services in conjunction with this demonstration
"DATA",346,275,1,2,0)
claim.  You must have the physician withdraw that claim and refund the payment
"DATA",346,275,1,3,0)
before we can process your claim.  
"DATA",346,276,0)
MA132^3011012^^^3151012.170349
"DATA",346,276,1,0)
^^1^1^3150519
"DATA",346,276,1,1,0)
Adjustment to the pre-demonstration rate.  
"DATA",346,277,0)
MA133^3011012^^^3151012.170349
"DATA",346,277,1,0)
^^2^2^3150519
"DATA",346,277,1,1,0)
Claim overlaps inpatient stay. Rebill only those services rendered outside the
"DATA",346,277,1,2,0)
inpatient stay.  
"DATA",346,278,0)
MA134^3011012^^^3151012.170349
"DATA",346,278,1,0)
^^2^2^3150519
"DATA",346,278,1,1,0)
Missing/incomplete/invalid provider number of the facility where the patient
"DATA",346,278,1,2,0)
resides.  
"DATA",346,279,0)
N1^3000101^^3130715^3151012.170349
"DATA",346,279,1,0)
^^3^3^3150519
"DATA",346,279,1,1,0)
Alert: You may appeal this decision in writing within the required time limits
"DATA",346,279,1,2,0)
following receipt of this notice by following the instructions included in your
"DATA",346,279,1,3,0)
contract, plan benefit documents or jurisdiction statutes.  
"DATA",346,279,2)
Notes: (Modified 2/28/03, 4/1/07, 7/15/13)
"DATA",346,280,0)
N2^3000101^^^3151012.170349
"DATA",346,280,1,0)
^^2^2^3150519
"DATA",346,280,1,1,0)
This allowance has been made in accordance with the most appropriate course of
"DATA",346,280,1,2,0)
treatment provision of the plan.  
"DATA",346,281,0)
N3^3000101^^3030228^3151012.170349
"DATA",346,281,1,0)
^^1^1^3150519
"DATA",346,281,1,1,0)
Missing consent form.  
"DATA",346,281,2)
Notes: (Modified 2/28/03) Related to N228
"DATA",346,282,0)
N4^3000101^^3120306^3151012.170349
"DATA",346,282,1,0)
^^1^1^3150519
"DATA",346,282,1,1,0)
Missing/Incomplete/Invalid prior Insurance Carrier(s) EOB.  
"DATA",346,282,2)
Notes: (Modified 2/28/03, 3/6/2012)
"DATA",346,283,0)
N5^3000101^^^3151012.170349
"DATA",346,283,1,0)
^^1^1^3150519
"DATA",346,283,1,1,0)
EOB received from previous payer.  Claim not on file.  
"DATA",346,284,0)
N6^3000101^^3030228^3151012.170349
"DATA",346,284,1,0)
^^3^3^3150519
"DATA",346,284,1,1,0)
Under FEHB law (U.S.C. 8904(b)), we cannot pay more for covered care than the
"DATA",346,284,1,2,0)
amount Medicare would have allowed if the patient were enrolled in Medicare
"DATA",346,284,1,3,0)
Part A and/or Medicare Part B.  
"DATA",346,284,2)
Notes: (Modified 2/28/03)
"DATA",346,285,0)
N7^3000101^^3130715^3151012.170349
"DATA",346,285,1,0)
^^2^2^3150519
"DATA",346,285,1,1,0)
Alert: Processing of this claim/service has included consideration under Major
"DATA",346,285,1,2,0)
Medical provisions.  
"DATA",346,285,2)
Notes: (Modified 7/15/13)
"DATA",346,286,0)
N8^3000101^^^3151012.170349
"DATA",346,286,1,0)
^^2^2^3150519
"DATA",346,286,1,1,0)
Crossover claim denied by previous payer and complete claim data not forwarded.
"DATA",346,286,1,2,0)
Resubmit this claim to this payer to provide adequate data for adjudication.  
"DATA",346,287,0)
N9^3000101^^3051118^3151012.170349
"DATA",346,287,1,0)
^^1^1^3150519
"DATA",346,287,1,1,0)
Adjustment represents the estimated amount a previous payer may pay.  
"DATA",346,287,2)
Notes: (Modified 11/18/05)
"DATA",346,288,0)
N10^3000101^^3150301^3151012.170349
"DATA",346,288,1,0)
^^2^2^3150519
"DATA",346,288,1,1,0)
Adjustment based on the findings of a review organization/professional
"DATA",346,288,1,2,0)
consult/manual adjudication/medical advisor/dental advisor/peer review.  
"DATA",346,288,2)
Notes: (Modified 10/31/02, 7/1/08, 7/15/13, 3/1/2015)
"DATA",346,289,0)
N11^3000101^^^3151012.170349
"DATA",346,289,1,0)
^^1^1^3150519
"DATA",346,289,1,1,0)
Denial reversed because of medical review.  
"DATA",346,290,0)
N12^3000101^^3070801^3151012.170349
"DATA",346,290,1,0)
^^4^4^3150519
"DATA",346,290,1,1,0)
Policy provides coverage supplemental to Medicare. As the member does not
"DATA",346,290,1,2,0)
appear to be enrolled in the applicable part of Medicare, the member is
"DATA",346,290,1,3,0)
responsible for payment of the portion of the chargethat would have been
"DATA",346,290,1,4,0)
covered by Medicare.  
"DATA",346,290,2)
Notes: (Modified 8/1/07)
"DATA",346,291,0)
N13^3000101^^^3151012.170349
"DATA",346,291,1,0)
^^1^1^3150519
"DATA",346,291,1,1,0)
Payment based on professional/technical component modifier(s).  
"DATA",346,292,0)
N14^3000101^3071001^^3151012.170349
"DATA",346,292,1,0)
^^2^2^3150519
"DATA",346,292,1,1,0)
Payment based on a contractual amount or agreement, fee schedule, or maximum
"DATA",346,292,1,2,0)
allowable amount.  
"DATA",346,292,2)
Notes: Consider using Reason Code 45
"DATA",346,293,0)
N15^3000101^^^3151012.170349
"DATA",346,293,1,0)
^^1^1^3150519
"DATA",346,293,1,1,0)
Services for a newborn must be billed separately.  
"DATA",346,294,0)
N16^3000101^^^3151012.17035
"DATA",346,294,1,0)
^^2^2^3150519
"DATA",346,294,1,1,0)
Family/member Out-of-Pocket maximum has been met. Payment based on a higher
"DATA",346,294,1,2,0)
percentage.  
"DATA",346,295,0)
N17^3000101^3040801^^3151012.17035
"DATA",346,295,1,0)
^^1^1^3150519
"DATA",346,295,1,1,0)
Per admission deductible.  
"DATA",346,295,2)
Notes: Consider using Reason Code 1
"DATA",346,296,0)
N18^3000101^3040131^^3151012.17035
"DATA",346,296,1,0)
^^1^1^3150519
"DATA",346,296,1,1,0)
Payment based on the Medicare allowed amount.  
"DATA",346,296,2)
Notes: Consider using N14
"DATA",346,297,0)
N19^3000101^^^3151012.17035
"DATA",346,297,1,0)
^^1^1^3150519
"DATA",346,297,1,1,0)
Procedure code incidental to primary procedure.  
"DATA",346,298,0)
N20^3000101^^^3151012.17035
"DATA",346,298,1,0)
^^1^1^3150519
"DATA",346,298,1,1,0)
Service not payable with other service rendered on the same date.  
"DATA",346,299,0)
N21^3000101^^3070401^3151012.17035
"DATA",346,299,1,0)
^^2^2^3150519
"DATA",346,299,1,1,0)
Alert: Your line item has been separated into multiple lines to expedite
"DATA",346,299,1,2,0)
handling.  
"DATA",346,299,2)
Notes: (Modified 8/1/05, 4/1/07)
"DATA",346,300,0)
N22^3000101^^3030228^3151012.17035
"DATA",346,300,1,0)
^^2^2^3150519
"DATA",346,300,1,1,0)
This procedure code was added/changed because it more accurately describes the
"DATA",346,300,1,2,0)
services rendered.  
"DATA",346,300,2)
Notes: (Modified 10/31/02, 2/28/03)
"DATA",346,301,0)
N23^3000101^^3070401^3151012.17035
"DATA",346,301,1,0)
^^2^2^3150519
"DATA",346,301,1,1,0)
Alert: Patient liability may be affected due to coordination of benefits with
"DATA",346,301,1,2,0)
other carriers and/or maximum benefit provisions.  
"DATA",346,301,2)
Notes: (Modified 8/13/01, 4/1/07)
"DATA",346,302,0)
N24^3000101^^3030228^3151012.17035
"DATA",346,302,1,0)
^^1^1^3150519
"DATA",346,302,1,1,0)
Missing/incomplete/invalid Electronic Funds Transfer (EFT) banking information.  
"DATA",346,302,2)
Notes: (Modified 2/28/03)
"DATA",346,303,0)
N25^3000101^^^3151012.17035
"DATA",346,303,1,0)
^^3^3^3150519
"DATA",346,303,1,1,0)
This company has been contracted by your benefit plan to provide administrative
"DATA",346,303,1,2,0)
claims payment services only.  This company does not assume financial risk or
"DATA",346,303,1,3,0)
obligation with respect to claims processed on behalf of your benefit plan.  
"DATA",346,304,0)
N26^3000101^^3080701^3151012.17035
"DATA",346,304,1,0)
^^1^1^3150519
"DATA",346,304,1,1,0)
Missing itemized bill/statement.  
"DATA",346,304,2)
Notes: (Modified 2/28/03, 7/1/2008) Related to N232
"DATA",346,305,0)
N27^3000101^^3030228^3151012.17035
"DATA",346,305,1,0)
^^1^1^3150519
"DATA",346,305,1,1,0)
Missing/incomplete/invalid treatment number.  
"DATA",346,305,2)
Notes: (Modified 2/28/03)
"DATA",346,306,0)
N28^3000101^^^3151012.17035
"DATA",346,306,1,0)
^^1^1^3150519
"DATA",346,306,1,1,0)
Consent form requirements not fulfilled.  
"DATA",346,307,0)
N29^3000101^3160301^3140301^3151012.17035
"DATA",346,307,1,0)
^^1^1^3150519
"DATA",346,307,1,1,0)
Missing documentation/orders/notes/summary/report/chart.  
"DATA",346,307,2)
Notes: (Modified 2/28/03, 8/1/05, 3/1/2014) Related to N225, Explicit RARCs have been approved, this non-specific RARC will be deactivated in March 2016.
"DATA",346,308,0)
N30^3000101^^3030630^3151012.17035
"DATA",346,308,1,0)
^^1^1^3150519
"DATA",346,308,1,1,0)
Patient ineligible for this service.  
"DATA",346,308,2)
Notes: (Modified 6/30/03)
"DATA",346,309,0)
N31^3000101^^3041202^3151012.17035
"DATA",346,309,1,0)
^^1^1^3150519
"DATA",346,309,1,1,0)
Missing/incomplete/invalid prescribing provider identifier.  
"DATA",346,309,2)
Notes: (Modified 12/2/04)
"DATA",346,310,0)
N32^3000101^^3030630^3151012.17035
"DATA",346,310,1,0)
^^1^1^3150519
"DATA",346,310,1,1,0)
Claim must be submitted by the provider who rendered the service.  
"DATA",346,310,2)
Notes: (Modified 6/30/03)
"DATA",346,311,0)
N33^3000101^^^3151012.17035
"DATA",346,311,1,0)
^^1^1^3150519
"DATA",346,311,1,1,0)
No record of health check prior to initiation of treatment.  
"DATA",346,312,0)
N34^3000101^^3051118^3151012.17035
"DATA",346,312,1,0)
^^1^1^3150519
"DATA",346,312,1,1,0)
Incorrect claim form/format for this service.  
"DATA",346,312,2)
Notes: (Modified 11/18/05)
"DATA",346,313,0)
N35^3000101^^^3151012.17035
"DATA",346,313,1,0)
^^1^1^3150519
"DATA",346,313,1,1,0)
Program integrity/utilization review decision.  
"DATA",346,314,0)
N36^3000101^^^3151012.17035
"DATA",346,314,1,0)
^^2^2^3150519
"DATA",346,314,1,1,0)
Claim must meet primary payer"s processing requirements before we can consider
"DATA",346,314,1,2,0)
payment.  
"DATA",346,315,0)
N37^3000101^^3030228^3151012.17035
"DATA",346,315,1,0)
^^1^1^3150519
"DATA",346,315,1,1,0)
Missing/incomplete/invalid tooth number/letter.  
"DATA",346,315,2)
Notes: (Modified 2/28/03)
"DATA",346,316,0)
N38^3000101^3050205^^3151012.17035
"DATA",346,316,1,0)
^^1^1^3150519
"DATA",346,316,1,1,0)
Missing/incomplete/invalid place of service.  
"DATA",346,316,2)
Notes: Consider using M77
"DATA",346,317,0)
N39^3000101^^^3151012.17035
"DATA",346,317,1,0)
^^1^1^3150519
"DATA",346,317,1,1,0)
Procedure code is not compatible with tooth number/letter.  
"DATA",346,318,0)
N40^3000101^^3080701^3151012.17035
"DATA",346,318,1,0)
^^1^1^3150519
"DATA",346,318,1,1,0)
Missing radiology film(s)/image(s).  
"DATA",346,318,2)
Notes: (Modified 2/1/04, 7/1/08) Related to N242
"DATA",346,319,0)
N41^3000101^3031016^^3151012.17035
"DATA",346,319,1,0)
^^1^1^3150519
"DATA",346,319,1,1,0)
Authorization request denied.  
"DATA",346,319,2)
Notes: Consider using Reason Code 39
"DATA",346,320,0)
N42^3000101^^3141101^3151012.17035
"DATA",346,320,1,0)
^^1^1^3150519
"DATA",346,320,1,1,0)
Missing mental health assessment.  
"DATA",346,321,0)
N43^3000101^^^3151012.17035
"DATA",346,321,1,0)
^^1^1^3150519
"DATA",346,321,1,1,0)
Bed hold or leave days exceeded.  
"DATA",346,322,0)
N44^3000101^3031016^^3151012.17035
"DATA",346,322,1,0)
^^2^2^3150519
"DATA",346,322,1,1,0)
Payer"s share of regulatory surcharges, assessments, allowances or health
"DATA",346,322,1,2,0)
care-related taxes paid directly to the regulatory authority.  
"DATA",346,322,2)
Notes: Consider using Reason Code 137
"DATA",346,323,0)
N45^3000101^^^3151012.17035
"DATA",346,323,1,0)
^^1^1^3150519
"DATA",346,323,1,1,0)
Payment based on authorized amount.  
"DATA",346,324,0)
N46^3000101^^^3151012.17035
"DATA",346,324,1,0)
^^1^1^3150519
"DATA",346,324,1,1,0)
Missing/incomplete/invalid admission hour.  
"DATA",346,325,0)
N47^3000101^^^3151012.17035
"DATA",346,325,1,0)
^^1^1^3150519
"DATA",346,325,1,1,0)
Claim conflicts with another inpatient stay.  
"DATA",346,326,0)
N48^3000101^^^3151012.17035
"DATA",346,326,1,0)
^^2^2^3150519
"DATA",346,326,1,1,0)
Claim information does not agree with information received from other insurance
"DATA",346,326,1,2,0)
carrier.  
"DATA",346,327,0)
N49^3000101^^^3151012.17035
"DATA",346,327,1,0)
^^1^1^3150519
"DATA",346,327,1,1,0)
Court ordered coverage information needs validation.  
"DATA",346,328,0)
N50^3000101^^3030228^3151012.17035
"DATA",346,328,1,0)
^^1^1^3150519
"DATA",346,328,1,1,0)
Missing/incomplete/invalid discharge information.  
"DATA",346,328,2)
Notes: (Modified 2/28/03)
"DATA",346,329,0)
N51^3000101^^^3151012.17035
"DATA",346,329,1,0)
^^1^1^3150519
"DATA",346,329,1,1,0)
Electronic interchange agreement not on file for provider/submitter.  
"DATA",346,330,0)
N52^3000101^^^3151012.17035
"DATA",346,330,1,0)
^^2^2^3150519
"DATA",346,330,1,1,0)
Patient not enrolled in the billing provider"s managed care plan on the date of
"DATA",346,330,1,2,0)
service.  
"DATA",346,331,0)
N53^3000101^^3030228^3151012.17035
"DATA",346,331,1,0)
^^1^1^3150519
"DATA",346,331,1,1,0)
Missing/incomplete/invalid point of pick-up address.  
"DATA",346,331,2)
Notes: (Modified 2/28/03)
"DATA",346,332,0)
N54^3000101^^^3151012.17035
"DATA",346,332,1,0)
^^1^1^3150519
"DATA",346,332,1,1,0)
Claim information is inconsistent with pre-certified/authorized services.  
"DATA",346,333,0)
N55^3000101^^^3151012.17035
"DATA",346,333,1,0)
^^2^2^3150519
"DATA",346,333,1,1,0)
Procedures for billing with group/referring/performing providers were not
"DATA",346,333,1,2,0)
followed.  
"DATA",346,334,0)
N56^3000101^^3030228^3151012.17035
"DATA",346,334,1,0)
^^2^2^3150519
"DATA",346,334,1,1,0)
Procedure code billed is not correct/valid for the services billed or the date
"DATA",346,334,1,2,0)
of service billed.  
"DATA",346,334,2)
Notes: (Modified 2/28/03)
"DATA",346,335,0)
N57^3000101^^3041202^3151012.17035
"DATA",346,335,1,0)
^^1^1^3150519
"DATA",346,335,1,1,0)
Missing/incomplete/invalid prescribing date.  
"DATA",346,335,2)
Notes: (Modified 12/2/04) Related to N304
"DATA",346,336,0)
N58^3000101^^3030228^3151012.17035
"DATA",346,336,1,0)
^^1^1^3150519
"DATA",346,336,1,1,0)
Missing/incomplete/invalid patient liability amount.  
"DATA",346,336,2)
Notes: (Modified 2/28/03)
"DATA",346,337,0)
N59^3000101^^3091101^3151012.17035
"DATA",346,337,1,0)
^^2^2^3150519
"DATA",346,337,1,1,0)
Please refer to your provider manual for additional program and provider
"DATA",346,337,1,2,0)
information.  
"DATA",346,337,2)
Notes: (Modified 4/1/07, 11/1/09)
"DATA",346,338,0)
N60^3000101^3040131^^3151012.17035
"DATA",346,338,1,0)
^^1^1^3150519
"DATA",346,338,1,1,0)
A valid NDC is required for payment of drug claims effective October 02.  
"DATA",346,338,2)
Notes: Consider using M119
"DATA",346,339,0)
N61^3000101^^^3151012.17035
"DATA",346,339,1,0)
^^1^1^3150519
"DATA",346,339,1,1,0)
Rebill services on separate claims.  
"DATA",346,340,0)
N62^3000101^^3110308^3151012.17035
"DATA",346,340,1,0)
^^1^1^3150519
"DATA",346,340,1,1,0)
Dates of service span multiple rate periods. Resubmit separate claims.  
"DATA",346,340,2)
Notes: (Modified 3/8/11)
"DATA",346,341,0)
N63^3000101^^^3151012.17035
"DATA",346,341,1,0)
^^1^1^3150519
"DATA",346,341,1,1,0)
Rebill services on separate claim lines.  
"DATA",346,342,0)
N64^3000101^^^3151012.17035
"DATA",346,342,1,0)
^^1^1^3150519
"DATA",346,342,1,1,0)
The "from" and "to" dates must be different.  
"DATA",346,343,0)
N65^3000101^^3030228^3151012.17035
"DATA",346,343,1,0)
^^2^2^3150519
"DATA",346,343,1,1,0)
Procedure code or procedure rate count cannot be determined, or was not on
"DATA",346,343,1,2,0)
file, for the date of service/provider.  
"DATA",346,343,2)
Notes: (Modified 2/28/03)
"DATA",346,344,0)
N66^3000101^3050205^^3151012.17035
"DATA",346,344,1,0)
^^1^1^3150519
"DATA",346,344,1,1,0)
Missing/incomplete/invalid documentation.  
"DATA",346,344,2)
Notes: Consider using N29 or N225.
"DATA",346,345,0)
N67^3000101^^^3151012.17035
"DATA",346,345,1,0)
^^9^9^3150519
"DATA",346,345,1,1,0)
Professional provider services not paid separately.  Included in facility
"DATA",346,345,1,2,0)
payment under a demonstration project.  Apply to that facility for payment, or
"DATA",346,345,1,3,0)
resubmit your claim if: the facility notifiesyou the patient was excluded from
"DATA",346,345,1,4,0)
this demonstration; or if you furnished these services in another location on
"DATA",346,345,1,5,0)
the date of the patient"s admission or discharge from a demonstration hospital.
"DATA",346,345,1,6,0)
If services were furnished in a facility not involved in the demonstration on
"DATA",346,345,1,7,0)
the same date the patient was discharged from or admitted to a demonstration
"DATA",346,345,1,8,0)
facility, you must report the provider ID number for the non-demonstration
"DATA",346,345,1,9,0)
facility on the new claim.  
"DATA",346,346,0)
N68^3000101^^^3151012.17035
"DATA",346,346,1,0)
^^5^5^3150519
"DATA",346,346,1,1,0)
Prior payment being cancelled as we were subsequently notified this patient was
"DATA",346,346,1,2,0)
covered by a demonstration project in this site of service.  Professional
"DATA",346,346,1,3,0)
services were included in the payment made to the facility. You must contact
"DATA",346,346,1,4,0)
the facility for your payment.  Prior payment made to you by the patient or
"DATA",346,346,1,5,0)
another insurer for this claim must be refunded to the payer within 30 days.  
"DATA",346,347,0)
N69^3000101^^3120701^3151012.17035
"DATA",346,347,1,0)
^^1^1^3150519
"DATA",346,347,1,1,0)
PPS (Prospective Payment System) code changed by claims processing system.  
"DATA",346,347,2)
Notes: (Modified 6/30/03, 7/1/12)
"DATA",346,348,0)
N70^3000101^^3071105^3151012.17035
"DATA",346,348,1,0)
^^1^1^3150519
"DATA",346,348,1,1,0)
Consolidated billing and payment applies.  
"DATA",346,348,2)
Notes: (Modified 2/28/02, 11/5/07)
"DATA",346,349,0)
N71^3000101^^3030630^3151012.17035
"DATA",346,349,1,0)
^^3^3^3150519
"DATA",346,349,1,1,0)
Your unassigned claim for a drug or biological, clinical diagnostic laboratory
"DATA",346,349,1,2,0)
services or ambulance service was processed as an assigned claim. You are
"DATA",346,349,1,3,0)
required by law to accept assignment for these types of claims.  
"DATA",346,349,2)
Notes: (Modified 2/21/02, 6/30/03)
"DATA",346,350,0)
N72^3000101^^3030630^3151012.17035
"DATA",346,350,1,0)
^^2^2^3150519
"DATA",346,350,1,1,0)
PPS (Prospective Payment System)  code changed by medical reviewers.  Not
"DATA",346,350,1,2,0)
supported by clinical records.  
"DATA",346,350,2)
Notes: (Modified 6/30/03)
"DATA",346,351,0)
N73^3000101^3040131^^3151012.17035
"DATA",346,351,1,0)
^^2^2^3150519
"DATA",346,351,1,1,0)
A Skilled Nursing Facility is responsible for payment of outside providers who
"DATA",346,351,1,2,0)
furnish these services/supplies under arrangement to its residents.  
"DATA",346,351,2)
Notes: Consider using MA101 or N200
"DATA",346,352,0)
N74^3000101^^^3151012.17035
"DATA",346,352,1,0)
^^2^2^3150519
"DATA",346,352,1,1,0)
Resubmit with multiple claims, each claim covering services provided in only
"DATA",346,352,1,2,0)
one calendar month.  
"DATA",346,353,0)
N75^3000101^^3030228^3151012.17035
"DATA",346,353,1,0)
^^1^1^3150519
"DATA",346,353,1,1,0)
Missing/incomplete/invalid tooth surface information.  
"DATA",346,353,2)
Notes: (Modified 2/28/03)
"DATA",346,354,0)
N76^3000101^^3030228^3151012.17035
"DATA",346,354,1,0)
^^1^1^3150519
"DATA",346,354,1,1,0)
Missing/incomplete/invalid number of riders.  
"DATA",346,354,2)
Notes: (Modified 2/28/03)
"DATA",346,355,0)
N77^3000101^^3030228^3151012.17035
"DATA",346,355,1,0)
^^1^1^3150519
"DATA",346,355,1,1,0)
Missing/incomplete/invalid designated provider number.  
"DATA",346,355,2)
Notes: (Modified 2/28/03)
"DATA",346,356,0)
N78^3000101^^^3151012.17035
"DATA",346,356,1,0)
^^2^2^3150519
"DATA",346,356,1,1,0)
The necessary components of the child and teen checkup (EPSDT) were not
"DATA",346,356,1,2,0)
completed.  
"DATA",346,357,0)
N79^3000101^^^3151012.17035
"DATA",346,357,1,0)
^^1^1^3150519
"DATA",346,357,1,1,0)
Service billed is not compatible with patient location information.  
"DATA",346,358,0)
N80^3000101^^3030228^3151012.17035
"DATA",346,358,1,0)
^^1^1^3150519
"DATA",346,358,1,1,0)
Missing/incomplete/invalid prenatal screening information.  
"DATA",346,358,2)
Notes: (Modified 2/28/03)
"DATA",346,359,0)
N81^3000101^^^3151012.17035
"DATA",346,359,1,0)
^^1^1^3150519
"DATA",346,359,1,1,0)
Procedure billed is not compatible with tooth surface code.  
"DATA",346,360,0)
N82^3000101^^^3151012.17035
"DATA",346,360,1,0)
^^2^2^3150519
"DATA",346,360,1,1,0)
Provider must accept insurance payment as payment in full when a third party
"DATA",346,360,1,2,0)
payer contract specifies full reimbursement.  
"DATA",346,361,0)
N83^3000101^^^3151012.17035
"DATA",346,361,1,0)
^^2^2^3150519
"DATA",346,361,1,1,0)
No appeal rights. Adjudicative decision based on the provisions of a
"DATA",346,361,1,2,0)
demonstration project.  
"DATA",346,362,0)
N84^3000101^^3070401^3151012.17035
"DATA",346,362,1,0)
^^1^1^3150519
"DATA",346,362,1,1,0)
Alert: Further installment payments are forthcoming.  
"DATA",346,362,2)
Notes: (Modified 4/1/07, 8/1/07)
"DATA",346,363,0)
N85^3000101^^3070401^3151012.170351
"DATA",346,363,1,0)
^^1^1^3150519
"DATA",346,363,1,1,0)
Alert: This is the final installment payment.  
"DATA",346,363,2)
Notes: (Modified 4/1/07, 8/1/07)
"DATA",346,364,0)
N86^3000101^^^3151012.170351
"DATA",346,364,1,0)
^^2^2^3150519
"DATA",346,364,1,1,0)
A failed trial of pelvic muscle exercise training is required in order for
"DATA",346,364,1,2,0)
biofeedback training for the treatment of urinary incontinence to be covered.  
"DATA",346,365,0)
N87^3000101^^^3151012.170351
"DATA",346,365,1,0)
^^1^1^3150519
"DATA",346,365,1,1,0)
Home use of biofeedback therapy is not covered.  
"DATA",346,366,0)
N88^3000101^^3070401^3151012.170351
"DATA",346,366,1,0)
^^6^6^3150519
"DATA",346,366,1,1,0)
Alert: This payment is being made conditionally.  An HHA episode of care notice
"DATA",346,366,1,2,0)
has been filed for this patient. When a patient is treated under a HHA episode
"DATA",346,366,1,3,0)
of care, consolidated billing requires that certain therapy services and
"DATA",346,366,1,4,0)
supplies, such as this, be included in the HHA"s payment.  This payment will
"DATA",346,366,1,5,0)
need to be recouped from you if we establish that the patient is concurrently
"DATA",346,366,1,6,0)
receiving treatment under a HHA episode of care.  
"DATA",346,366,2)
Notes: (Modified 4/1/07)
"DATA",346,367,0)
N89^3000101^^3070401^3151012.170351
"DATA",346,367,1,0)
^^3^3^3150519
"DATA",346,367,1,1,0)
Alert: Payment information for this claim has been forwarded to more than one
"DATA",346,367,1,2,0)
other payer, but format limitations permit only one of the secondary payers to
"DATA",346,367,1,3,0)
be identified in this remittance advice.  
"DATA",346,367,2)
Notes: (Modified 4/1/07)
"DATA",346,368,0)
N90^3000101^^^3151012.170351
"DATA",346,368,1,0)
^^1^1^3150519
"DATA",346,368,1,1,0)
Covered only when performed by the attending physician.  
"DATA",346,369,0)
N91^3000101^^^3151012.170351
"DATA",346,369,1,0)
^^1^1^3150519
"DATA",346,369,1,1,0)
Services not included in the appeal review.  
"DATA",346,370,0)
N92^3000101^^^3151012.170351
"DATA",346,370,1,0)
^^1^1^3150519
"DATA",346,370,1,1,0)
This facility is not certified for digital mammography.  
"DATA",346,371,0)
N93^3000101^^^3151012.170351
"DATA",346,371,1,0)
^^2^2^3150519
"DATA",346,371,1,1,0)
A separate claim must be submitted for each place of service. Services
"DATA",346,371,1,2,0)
furnished at multiple sites may not be billed in the same claim.  
"DATA",346,372,0)
N94^3000101^^^3151012.170351
"DATA",346,372,1,0)
^^2^2^3150519
"DATA",346,372,1,1,0)
Claim/Service denied because a more specific taxonomy code is required for
"DATA",346,372,1,2,0)
adjudication.  
"DATA",346,373,0)
N95^3010731^^3030228^3151012.170351
"DATA",346,373,1,0)
^^1^1^3150519
"DATA",346,373,1,1,0)
This provider type/provider specialty may not bill this service.  
"DATA",346,373,2)
Notes: (Modified 2/28/03)
"DATA",346,374,0)
N96^3010824^^^3151012.170351
"DATA",346,374,1,0)
^^3^3^3150519
"DATA",346,374,1,1,0)
Patient must be refractory to conventional therapy (documented behavioral,
"DATA",346,374,1,2,0)
pharmacologic and/or surgical corrective therapy) and be an appropriate
"DATA",346,374,1,3,0)
surgical candidate such that implantation with anesthesia can occur.  
"DATA",346,375,0)
N97^3010824^^^3151012.170351
"DATA",346,375,1,0)
^^4^4^3150519
"DATA",346,375,1,1,0)
Patients with stress incontinence, urinary obstruction, and specific neurologic
"DATA",346,375,1,2,0)
diseases (e.g., diabetes with peripheral nerve involvement) which are
"DATA",346,375,1,3,0)
associated with secondary manifestations of the above three indications are
"DATA",346,375,1,4,0)
excluded.  
"DATA",346,376,0)
N98^3010824^^^3151012.170351
"DATA",346,376,1,0)
^^4^4^3150519
"DATA",346,376,1,1,0)
Patient must have had a successful test stimulation in order to support
"DATA",346,376,1,2,0)
subsequent implantation. Before a patient is eligible for permanent
"DATA",346,376,1,3,0)
implantation, he/she must demonstrate a 50 percent or greater improvement
"DATA",346,376,1,4,0)
through test stimulation. Improvement is measured through voiding diaries.  
"DATA",346,377,0)
N99^3010824^^^3151012.170351
"DATA",346,377,1,0)
^^3^3^3150519
"DATA",346,377,1,1,0)
Patient must be able to demonstrate adequate ability to record voiding diary
"DATA",346,377,1,2,0)
data such that clinical results of the implant procedure can be properly
"DATA",346,377,1,3,0)
evaluated.  
"DATA",346,378,0)
N100^3010914^^3030630^3151012.170351
"DATA",346,378,1,0)
^^1^1^3150519
"DATA",346,378,1,1,0)
PPS (Prospect Payment System) code corrected during adjudication.  
"DATA",346,378,2)
Notes: (Modified 6/30/03)
"DATA",346,379,0)
N101^3011031^3040131^3140314^3151012.170351
"DATA",346,379,1,0)
^^5^5^3150519
"DATA",346,379,1,1,0)
Additional information is needed in order to process this claim. Please
"DATA",346,379,1,2,0)
resubmit the claim with the identification number of the provider where this
"DATA",346,379,1,3,0)
service took place. The Medicare number of the site of service provider should
"DATA",346,379,1,4,0)
be preceded with the letters "HSP" and entered into item #32 on the claim form.
"DATA",346,379,1,5,0)
You may bill only one site of service provider number per claim.  
"DATA",346,379,2)
Notes: Consider using MA105 (Modified 3/14/2014)
"DATA",346,380,0)
N102^3011031^^3131101^3151012.170351
"DATA",346,380,1,0)
^^2^2^3150519
"DATA",346,380,1,1,0)
This claim has been denied without reviewing the medical/dental record because
"DATA",346,380,1,2,0)
the requested records were not received or were not received timely.  
"DATA",346,381,0)
N103^3011031^^3131101^3151012.170351
"DATA",346,381,1,0)
^^8^8^3150519
"DATA",346,381,1,1,0)
Records indicate this patient was a prisoner or in custody of a Federal, State,
"DATA",346,381,1,2,0)
or local authority when the service was rendered. This  payer does not cover
"DATA",346,381,1,3,0)
items and services furnished to an individual while he or she is in custody
"DATA",346,381,1,4,0)
under a penal statute or rule, unless under State or local law, the individual
"DATA",346,381,1,5,0)
is personally liable for the cost of his or her health care while in custody
"DATA",346,381,1,6,0)
and the State or local government pursues the collection of such debt in the
"DATA",346,381,1,7,0)
same way and with the same vigor as the collection of its other debts. The
"DATA",346,381,1,8,0)
provider can collect from the Federal/State/ Local Authority as appropriate.  
"DATA",346,381,2)
Notes: (Modified 6/30/03, 7/1/12, 11/1/13)
"DATA",346,382,0)
N104^3020129^^3100701^3151012.170351
"DATA",346,382,1,0)
^^3^3^3150519
"DATA",346,382,1,1,0)
This claim/service is not payable under our claims jurisdiction area. You can
"DATA",346,382,1,2,0)
identify the correct Medicare contractor to process this claim/service through
"DATA",346,382,1,3,0)
the CMS website at www.cms.gov.  
"DATA",346,382,2)
Notes: (Modified 10/31/02, 7/1/10)
"DATA",346,383,0)
N105^3020129^^^3151012.170351
"DATA",346,383,1,0)
^^3^3^3150519
"DATA",346,383,1,1,0)
This is a misdirected claim/service for an RRB beneficiary. Submit paper claims
"DATA",346,383,1,2,0)
to the RRB carrier: Palmetto GBA, P.O. Box 10066, Augusta, GA 30999. Call
"DATA",346,383,1,3,0)
866-749-4301 for RRB EDI information for electronic claims processing.  
"DATA",346,384,0)
N106^3020131^^^3151012.170351
"DATA",346,384,1,0)
^^3^3^3150519
"DATA",346,384,1,1,0)
Payment for services furnished to Skilled Nursing Facility (SNF) inpatients
"DATA",346,384,1,2,0)
(except for excluded services) can only be made to the SNF. You must request
"DATA",346,384,1,3,0)
payment from the SNF rather than the patient for this service.  
"DATA",346,385,0)
N107^3020131^^^3151012.170351
"DATA",346,385,1,0)
^^3^3^3150519
"DATA",346,385,1,1,0)
Services furnished to Skilled Nursing Facility (SNF) inpatients must be billed
"DATA",346,385,1,2,0)
on the inpatient claim. They cannot be billed separately as outpatient
"DATA",346,385,1,3,0)
services.  
"DATA",346,386,0)
N108^3020131^^3030228^3151012.170351
"DATA",346,386,1,0)
^^1^1^3150519
"DATA",346,386,1,1,0)
Missing/incomplete/invalid upgrade information.  
"DATA",346,386,2)
Notes: (Modified 2/28/03)
"DATA",346,387,0)
N109^3020228^^3090301^3151012.170351
"DATA",346,387,1,0)
^^2^2^3150519
"DATA",346,387,1,1,0)
This claim/service was chosen for complex review and was denied after reviewing
"DATA",346,387,1,2,0)
the medical records.  
"DATA",346,387,2)
Notes: (Modified 3/1/2009)
"DATA",346,388,0)
N110^3020228^^^3151012.170351
"DATA",346,388,1,0)
^^1^1^3150519
"DATA",346,388,1,1,0)
This facility is not certified for film mammography.  
"DATA",346,389,0)
N111^3020228^^^3151012.170351
"DATA",346,389,1,0)
^^2^2^3150519
"DATA",346,389,1,1,0)
No appeal right except duplicate claim/service issue. This service was included
"DATA",346,389,1,2,0)
in a claim that has been previously billed and adjudicated.  
"DATA",346,390,0)
N112^3020228^^^3151012.170351
"DATA",346,390,1,0)
^^1^1^3150519
"DATA",346,390,1,1,0)
This claim is excluded from your electronic remittance advice.  
"DATA",346,391,0)
N113^3020416^^3030630^3151012.170351
"DATA",346,391,1,0)
^^1^1^3150519
"DATA",346,391,1,1,0)
Only one initial visit is covered per physician, group practice or provider.  
"DATA",346,391,2)
Notes: (Modified 6/30/03)
"DATA",346,392,0)
N114^3020530^^^3151012.170351
"DATA",346,392,1,0)
^^5^5^3150519
"DATA",346,392,1,1,0)
During the transition to the Ambulance Fee Schedule, payment is based on the
"DATA",346,392,1,2,0)
lesser of a blended amount calculated using a percentage of the reasonable
"DATA",346,392,1,3,0)
charge/cost and fee schedule amounts, or the submitted charge for the service. 
"DATA",346,392,1,4,0)
You will be notified yearly what the percentages for the blended payment
"DATA",346,392,1,5,0)
calculation will be.  
"DATA",346,393,0)
N115^3020530^^3100701^3151012.170351
"DATA",346,393,1,0)
^^5^5^3150519
"DATA",346,393,1,1,0)
This decision was based on a Local Coverage Determination (LCD).  An LCD
"DATA",346,393,1,2,0)
provides a guide to assist in determining whether a particular item or service
"DATA",346,393,1,3,0)
is covered. A copy of this policy is availableat www.cms.gov/mcd, or if you do
"DATA",346,393,1,4,0)
not have web access, you may contact the contractor to request a copy of the
"DATA",346,393,1,5,0)
LCD.  
"DATA",346,393,2)
Notes: (Modified 4/1/04, 7/1/10)
"DATA",346,394,0)
N116^3020630^^^3151012.170351
"DATA",346,394,1,0)
^^7^7^3150519
"DATA",346,394,1,1,0)
This payment is being made conditionally because the service was provided in
"DATA",346,394,1,2,0)
the home, and it is possible that the patient is under a home health episode of
"DATA",346,394,1,3,0)
care.  When a patient is treated under a home health episode of care,
"DATA",346,394,1,4,0)
consolidated billing requires that certain therapy services and supplies, such
"DATA",346,394,1,5,0)
as this, be included in the home health agency"s (HHA"s) payment.  This payment
"DATA",346,394,1,6,0)
will need to be recouped from you if we establish that the patient is
"DATA",346,394,1,7,0)
concurrently receiving treatment under an HHA episode of care.  
"DATA",346,395,0)
N117^3020730^^3030630^3151012.170351
"DATA",346,395,1,0)
^^1^1^3150519
"DATA",346,395,1,1,0)
This service is paid only once in a patient"s lifetime.  
"DATA",346,395,2)
Notes: (Modified 6/30/03)
"DATA",346,396,0)
N118^3020730^^^3151012.170351
"DATA",346,396,1,0)
^^1^1^3150519
"DATA",346,396,1,1,0)
This service is not paid if billed more than once every 28 days.  
"DATA",346,397,0)
N119^3020730^^3030630^3151012.170351
"DATA",346,397,1,0)
^^3^3^3150519
"DATA",346,397,1,1,0)
This service is not paid if billed once every 28 days, and the patient has
"DATA",346,397,1,2,0)
spent 5 or more consecutive days in any inpatient or Skilled /nursing Facility
"DATA",346,397,1,3,0)
(SNF) within those 28 days.  
"DATA",346,397,2)
Notes: (Modified 6/30/03)
"DATA",346,398,0)
N120^3020809^^3030630^3151012.170351
"DATA",346,398,1,0)
^^3^3^3150519
"DATA",346,398,1,1,0)
Payment is subject to home health prospective payment system partial episode
"DATA",346,398,1,2,0)
payment adjustment. Patient was transferred/discharged/readmitted during
"DATA",346,398,1,3,0)
payment episode.  
"DATA",346,398,2)
Notes: (Modified 6/30/03)
"DATA",346,399,0)
N121^3020909^^3040801^3151012.170351
"DATA",346,399,1,0)
^^3^3^3150519
"DATA",346,399,1,1,0)
Medicare Part B does not pay for items or services provided by this type of
"DATA",346,399,1,2,0)
practitioner for beneficiaries in a Medicare Part A covered Skilled Nursing
"DATA",346,399,1,3,0)
Facility (SNF) stay.  
"DATA",346,399,2)
Notes: (Modified 8/1/04, 6/30/03)
"DATA",346,400,0)
N122^3020912^^3050801^3151012.170351
"DATA",346,400,1,0)
^^1^1^3150519
"DATA",346,400,1,1,0)
Add-on code cannot be billed by itself.  
"DATA",346,400,2)
Notes: (Modified 8/1/05)
"DATA",346,401,0)
N123^3020924^^^3151012.170351
"DATA",346,401,1,0)
^^2^2^3150519
"DATA",346,401,1,1,0)
This is a split service and represents a portion of the units from the
"DATA",346,401,1,2,0)
originally submitted service.  
"DATA",346,402,0)
N124^3020926^^^3151012.170351
"DATA",346,402,1,0)
^^5^5^3150519
"DATA",346,402,1,1,0)
Payment has been denied for the/made only for a less extensive service/item
"DATA",346,402,1,2,0)
because the information furnished does not substantiate the need for the (more
"DATA",346,402,1,3,0)
extensive) service/item. The patient is liable for the charges for this
"DATA",346,402,1,4,0)
service/item as you informed the patient in writing before the service/item was
"DATA",346,402,1,5,0)
furnished that we would not pay for it, and the patient agreed to pay.  
"DATA",346,403,0)
N125^3020926^^3050801^3151012.170351
"DATA",346,403,1,0)
^^10^10^3150519
"DATA",346,403,1,1,0)
Payment has been (denied for the/made only for a less extensive) service/item
"DATA",346,403,1,2,0)
because the information furnished does not substantiate the need for the (more
"DATA",346,403,1,3,0)
extensive) service/item. If you have collected any amount from the patient, you
"DATA",346,403,1,4,0)
must refund that amount to the patient within 30 days of receiving this
"DATA",346,403,1,5,0)
notice.<br /><br />The requirements for a refund are in "1834(a)(18) of the
"DATA",346,403,1,6,0)
Social Security Act (and in ""1834(j)(4) and 1879(h) by cross-reference to
"DATA",346,403,1,7,0)
"1834(a)(18)). Section 1834(a)(18)(B) specifies that suppliers which knowingly
"DATA",346,403,1,8,0)
and willfully fail to make appropriate refunds may be subject to civil money
"DATA",346,403,1,9,0)
penalties and/or exclusion from the Medicare program. If you have any questions
"DATA",346,403,1,10,0)
about this notice, please contact this office.  
"DATA",346,403,2)
Notes: (Modified 8/1/05. Also refer to N356)
"DATA",346,404,0)
N126^3021017^^^3151012.170351
"DATA",346,404,1,0)
^^3^3^3150519
"DATA",346,404,1,1,0)
Social Security Records indicate that this individual has been deported. This
"DATA",346,404,1,2,0)
payer does not cover items and services furnished to individuals who have been
"DATA",346,404,1,3,0)
deported.  
"DATA",346,405,0)
N127^3071031^^3040801^3151012.170351
"DATA",346,405,1,0)
^^2^2^3150519
"DATA",346,405,1,1,0)
This is a misdirected claim/service for a United Mine Workers of America (UMWA)
"DATA",346,405,1,2,0)
beneficiary. Please submit claims to them.  
"DATA",346,405,2)
Notes: (Modified 8/1/04
"DATA",346,406,0)
N128^3021031^^^3151012.170351
"DATA",346,406,1,0)
^^1^1^3150519
"DATA",346,406,1,1,0)
This amount represents the prior to coverage portion of the allowance.  
"DATA",346,407,0)
N129^3021031^^3070801^3151012.170351
"DATA",346,407,1,0)
^^1^1^3150519
"DATA",346,407,1,1,0)
Not eligible due to the patient"s age.  
"DATA",346,407,2)
Notes: (Modified 8/1/07)
"DATA",346,408,0)
N130^3021031^^3091101^3151012.170351
"DATA",346,408,1,0)
^^2^2^3150519
"DATA",346,408,1,1,0)
Consult plan benefit documents/guidelines for information about restrictions
"DATA",346,408,1,2,0)
for this service.  
"DATA",346,408,2)
Notes: (Modified 4/1/07, 7/1/08, 11/1/09)
"DATA",346,409,0)
N131^3021031^^^3151012.170351
"DATA",346,409,1,0)
^^2^2^3150519
"DATA",346,409,1,1,0)
Total payments under multiple contracts cannot exceed the allowance for this
"DATA",346,409,1,2,0)
service.  
"DATA",346,410,0)
N132^3021031^^3070401^3151012.170351
"DATA",346,410,1,0)
^^2^2^3150519
"DATA",346,410,1,1,0)
Alert: Payments will cease for services rendered by this US Government debarred
"DATA",346,410,1,2,0)
or excluded provider after the 30 day grace period as previously notified.  
"DATA",346,410,2)
Notes: (Modified 4/1/07)
"DATA",346,411,0)
N133^3021031^^3070401^3151012.170351
"DATA",346,411,1,0)
^^2^2^3150519
"DATA",346,411,1,1,0)
Alert: Services for predetermination and services requesting payment are being
"DATA",346,411,1,2,0)
processed separately.  
"DATA",346,411,2)
Notes: (Modified 4/1/07)
"DATA",346,412,0)
N134^3021031^^3070401^3151012.170351
"DATA",346,412,1,0)
^^2^2^3150519
"DATA",346,412,1,1,0)
Alert: This represents your scheduled payment for this service. If treatment
"DATA",346,412,1,2,0)
has been discontinued, please contact Customer Service.  
"DATA",346,412,2)
Notes: (Modified 4/1/07)
"DATA",346,413,0)
N135^3021031^^^3151012.170351
"DATA",346,413,1,0)
^^2^2^3150519
"DATA",346,413,1,1,0)
Record fees are the patient"s responsibility and limited to the specified
"DATA",346,413,1,2,0)
co-payment.  
"DATA",346,414,0)
N136^3021031^^3070401^3151012.170351
"DATA",346,414,1,0)
^^3^3^3150519
"DATA",346,414,1,1,0)
Alert: To obtain information on the process to file an appeal in Arizona, call
"DATA",346,414,1,2,0)
the Department"s Consumer Assistance Office at (602) 912-8444 or (800)
"DATA",346,414,1,3,0)
325-2548.  
"DATA",346,414,2)
Notes: (Modified 4/1/07)
"DATA",346,415,0)
N137^3021031^^3070401^3151012.170351
"DATA",346,415,1,0)
^^6^6^3150519
"DATA",346,415,1,1,0)
Alert: The provider acting on the Member"s behalf, may file an appeal with the
"DATA",346,415,1,2,0)
Payer. The provider, acting on the Member"s behalf, may file a complaint with
"DATA",346,415,1,3,0)
the State Insurance Regulatory Authority without first filing an appeal, if the
"DATA",346,415,1,4,0)
coverage decision involves an urgent condition for which care has not been
"DATA",346,415,1,5,0)
rendered. The address may be obtained from the State Insurance Regulatory
"DATA",346,415,1,6,0)
Authority.  
"DATA",346,415,2)
Notes: (Modified  8/1/04, 2/28/03, 4/1/07)
"DATA",346,416,0)
N138^3021031^^3070401^3151012.170351
"DATA",346,416,1,0)
^^4^4^3150519
"DATA",346,416,1,1,0)
Alert: In the event you disagree with the Dental Advisor"s opinion and have
"DATA",346,416,1,2,0)
additional information relative to the case, you may submit radiographs to the
"DATA",346,416,1,3,0)
Dental Advisor Unit at the subscriber"s dental insurance carrier for a second
"DATA",346,416,1,4,0)
Independent Dental Advisor Review.  
"DATA",346,416,2)
Notes: (Modified 4/1/07)
"DATA",346,417,0)
N139^3021031^^3070401^3151012.170351
"DATA",346,417,1,0)
^^8^8^3150519
"DATA",346,417,1,1,0)
Alert: Under the Code of Federal Regulations, Chapter 32, Section 199.13 a
"DATA",346,417,1,2,0)
non-participating provider is not an appropriate appealing party. Therefore, if
"DATA",346,417,1,3,0)
you disagree with the Dental Advisor"s opinion, you may appeal the
"DATA",346,417,1,4,0)
determination if appointed in writing, by the beneficiary, to act as his/her
"DATA",346,417,1,5,0)
representative. Should you be appointed as a representative, submit a copy of
"DATA",346,417,1,6,0)
this letter, a signed statement explaining the matter in which you disagree,
"DATA",346,417,1,7,0)
and any radiographs and relevant information to the subscriber"s Dental
"DATA",346,417,1,8,0)
insurance carrier within 90 days from the date of this letter.  
"DATA",346,417,2)
Notes: (Modified 4/1/07)
"DATA",346,418,0)
N140^3021031^^3070401^3151012.170351
"DATA",346,418,1,0)
^^7^7^3150519
"DATA",346,418,1,1,0)
Alert: You have not been designated as an authorized OCONUS provider therefore
"DATA",346,418,1,2,0)
are not considered an appropriate appealing party. If the beneficiary has
"DATA",346,418,1,3,0)
appointed you, in writing, to act as his/her representative and you disagree
"DATA",346,418,1,4,0)
with the Dental Advisor"s opinion, you may appeal by submitting a copy of this
"DATA",346,418,1,5,0)
letter, a signed statement explaining the matter in which you disagree, and any
"DATA",346,418,1,6,0)
relevantinformation to the subscriber"s Dental insurance carrier within 90 days
"DATA",346,418,1,7,0)
from the date of this letter.  
"DATA",346,418,2)
Notes: (Modified 4/1/07)
"DATA",346,419,0)
N141^3021031^^^3151012.170351
"DATA",346,419,1,0)
^^2^2^3150519
"DATA",346,419,1,1,0)
The patient was not residing in a long-term care facility during all or part of
"DATA",346,419,1,2,0)
the service dates billed.  
"DATA",346,420,0)
N142^3021031^^^3151012.170351
"DATA",346,420,1,0)
^^1^1^3150519
"DATA",346,420,1,1,0)
The original claim was denied.  Resubmit a new claim, not a replacement claim.  
"DATA",346,421,0)
N143^3021031^^^3151012.170351
"DATA",346,421,1,0)
^^2^2^3150519
"DATA",346,421,1,1,0)
The patient was not in a hospice program during all or part of the service
"DATA",346,421,1,2,0)
dates billed.  
"DATA",346,422,0)
N144^3021031^^^3151012.170351
"DATA",346,422,1,0)
^^1^1^3150519
"DATA",346,422,1,1,0)
The rate changed during the dates of service billed.  
"DATA",346,423,0)
N145^3021031^3050602^^3151012.170351
"DATA",346,423,1,0)
^^1^1^3150519
"DATA",346,423,1,1,0)
Missing/incomplete/invalid provider identifier for this place of service.  
"DATA",346,424,0)
N146^3021031^^3040801^3151012.170351
"DATA",346,424,1,0)
^^1^1^3150519
"DATA",346,424,1,1,0)
Missing screening document.  
"DATA",346,424,2)
Notes: (Modified  8/1/04) Related to N243
"DATA",346,425,0)
N147^3021031^^^3151012.170351
"DATA",346,425,1,0)
^^2^2^3150519
"DATA",346,425,1,1,0)
Long term care case mix or per diem rate cannot be determined because the
"DATA",346,425,1,2,0)
patient ID number is missing, incomplete, or invalid on the assignment request.  
"DATA",346,426,0)
N148^3021031^^^3151012.170351
"DATA",346,426,1,0)
^^1^1^3150519
"DATA",346,426,1,1,0)
Missing/incomplete/invalid date of last menstrual period.  
"DATA",346,427,0)
N149^3021031^^^3151012.170351
"DATA",346,427,1,0)
^^1^1^3150519
"DATA",346,427,1,1,0)
Rebill all applicable services on a single claim.  
"DATA",346,428,0)
N150^3021031^^^3151012.170351
"DATA",346,428,1,0)
^^1^1^3150519
"DATA",346,428,1,1,0)
Missing/incomplete/invalid model number.  
"DATA",346,429,0)
N151^3021031^^^3151012.170351
"DATA",346,429,1,0)
^^2^2^3150519
"DATA",346,429,1,1,0)
Telephone contact services will not be paid until the face-to-face contact
"DATA",346,429,1,2,0)
requirement has been met.  
"DATA",346,430,0)
N152^3021031^^^3151012.170351
"DATA",346,430,1,0)
^^1^1^3150519
"DATA",346,430,1,1,0)
Missing/incomplete/invalid replacement claim information.  
"DATA",346,431,0)
N153^3021031^^^3151012.170351
"DATA",346,431,1,0)
^^1^1^3150519
"DATA",346,431,1,1,0)
Missing/incomplete/invalid room and board rate.  
"DATA",346,432,0)
N154^3021031^^3070401^3151012.170351
"DATA",346,432,1,0)
^^1^1^3150519
"DATA",346,432,1,1,0)
Alert: This payment was delayed for correction of provider"s mailing address.  
"DATA",346,432,2)
Notes: (Modified 4/1/07)
"DATA",346,433,0)
N155^3021031^^3070401^3151012.170351
"DATA",346,433,1,0)
^^2^2^3150519
"DATA",346,433,1,1,0)
Alert: Our records do not indicate that other insurance is on file.  Please
"DATA",346,433,1,2,0)
submit other insurance information for our records.  
"DATA",346,433,2)
Notes: (Modified 4/1/07)
"DATA",346,434,0)
N156^3021031^^3070401^3151012.170352
"DATA",346,434,1,0)
^^2^2^3150519
"DATA",346,434,1,1,0)
Alert: The patient is responsible for the difference between the approved
"DATA",346,434,1,2,0)
treatment and the elective treatment.  
"DATA",346,434,2)
Notes: (Modified 4/1/07)
"DATA",346,435,0)
N157^3030228^^3040201^3151012.170352
"DATA",346,435,1,0)
^^1^1^3150519
"DATA",346,435,1,1,0)
Transportation to/from this destination is not covered.  
"DATA",346,435,2)
Notes: (Modified 2/1/04)
"DATA",346,436,0)
N158^3030228^^^3151012.170352
"DATA",346,436,1,0)
^^1^1^3150519
"DATA",346,436,1,1,0)
Transportation in a vehicle other than an ambulance is not covered.  
"DATA",346,437,0)
N159^3030228^^^3151012.170352
"DATA",346,437,1,0)
^^2^2^3150519
"DATA",346,437,1,1,0)
Payment denied/reduced because mileage is not covered when the patient is not
"DATA",346,437,1,2,0)
in the ambulance.  
"DATA",346,438,0)
N160^3030228^^3040201^3151012.170352
"DATA",346,438,1,0)
^^2^2^3150519
"DATA",346,438,1,1,0)
The patient must choose an option before a payment can be made for this
"DATA",346,438,1,2,0)
procedure/ equipment/ supply/ service.  
"DATA",346,438,2)
Notes: (Modified 2/1/04)
"DATA",346,439,0)
N161^3030228^^^3151012.170352
"DATA",346,439,1,0)
^^2^2^3150519
"DATA",346,439,1,1,0)
This drug/service/supply is covered only when the associated service is
"DATA",346,439,1,2,0)
covered.  
"DATA",346,440,0)
N162^3030228^^3070401^3151012.170352
"DATA",346,440,1,0)
^^4^4^3150519
"DATA",346,440,1,1,0)
Alert: Although your claim was paid, you have billed for a test/specialty not
"DATA",346,440,1,2,0)
included in your Laboratory Certification.  Your failure to correct the
"DATA",346,440,1,3,0)
laboratory certification information will resultin a denial of payment in the
"DATA",346,440,1,4,0)
near future.  
"DATA",346,440,2)
Notes: (Modified 4/1/07)
"DATA",346,441,0)
N163^3030228^^^3151012.170352
"DATA",346,441,1,0)
^^1^1^3150519
"DATA",346,441,1,1,0)
Medical record does not support code billed per the code definition.  
"DATA",346,442,0)
N164^3030228^3040131^^3151012.170352
"DATA",346,442,1,0)
^^1^1^3150519
"DATA",346,442,1,1,0)
Transportation to/from this destination is not covered.  
"DATA",346,442,2)
Notes: Consider using N157
"DATA",346,443,0)
N165^3030228^3040131^^3151012.170352
"DATA",346,443,1,0)
^^1^1^3150519
"DATA",346,443,1,1,0)
Transportation in a vehicle other than an ambulance is not covered.  
"DATA",346,443,2)
Notes: Consider using N158)
"DATA",346,444,0)
N166^3030228^3040131^^3151012.170352
"DATA",346,444,1,0)
^^2^2^3150519
"DATA",346,444,1,1,0)
Payment denied/reduced because mileage is not covered when the patient is not
"DATA",346,444,1,2,0)
in the ambulance.  
"DATA",346,444,2)
Notes: Consider using N159
"DATA",346,445,0)
N167^3030228^^^3151012.170352
"DATA",346,445,1,0)
^^1^1^3150519
"DATA",346,445,1,1,0)
Charges exceed the post-transplant coverage limit.  
"DATA",346,446,0)
N168^3030228^3040131^^3151012.170352
"DATA",346,446,1,0)
^^2^2^3150519
"DATA",346,446,1,1,0)
The patient must choose an option before a payment can be made for this
"DATA",346,446,1,2,0)
procedure/ equipment/ supply/ service.  
"DATA",346,446,2)
Notes: Consider using N160
"DATA",346,447,0)
N169^3030228^3040131^^3151012.170352
"DATA",346,447,1,0)
^^2^2^3150519
"DATA",346,447,1,1,0)
This drug/service/supply is covered only when the associated service is
"DATA",346,447,1,2,0)
covered.  
"DATA",346,447,2)
Notes: Consider using N161
"DATA",346,448,0)
N170^3030228^^^3151012.170352
"DATA",346,448,1,0)
^^1^1^3150519
"DATA",346,448,1,1,0)
A new/revised/renewed certificate of medical necessity is needed.  
"DATA",346,449,0)
N171^3030228^^^3151012.170352
"DATA",346,449,1,0)
^^2^2^3150519
"DATA",346,449,1,1,0)
Payment for repair or replacement is not covered or has exceeded the purchase
"DATA",346,449,1,2,0)
price.  
"DATA",346,450,0)
N172^3030228^^^3151012.170352
"DATA",346,450,1,0)
^^2^2^3150519
"DATA",346,450,1,1,0)
The patient is not liable for the denied/adjusted charge(s) for receiving any
"DATA",346,450,1,2,0)
updated service/item.  
"DATA",346,451,0)
N173^3030228^^^3151012.170352
"DATA",346,451,1,0)
^^1^1^3150519
"DATA",346,451,1,1,0)
No qualifying hospital stay dates were provided for this episode of care.  
"DATA",346,452,0)
N174^3030228^^^3151012.170352
"DATA",346,452,1,0)
^^2^2^3150519
"DATA",346,452,1,1,0)
This is not a covered service/procedure/ equipment/bed, however patient
"DATA",346,452,1,2,0)
liability is limited to amounts shown in the adjustments under group "PR".  
"DATA",346,453,0)
N175^3030228^^3080229^3151012.170352
"DATA",346,453,1,0)
^^1^1^3150519
"DATA",346,453,1,1,0)
Missing review organization approval.  
"DATA",346,453,2)
Notes: (Modified 8/1/04, 2/29/08) Related to N241
"DATA",346,454,0)
N176^3030228^^^3151012.170352
"DATA",346,454,1,0)
^^3^3^3150519
"DATA",346,454,1,1,0)
Services provided aboard a ship are covered only when the ship is of United
"DATA",346,454,1,2,0)
States registry and is in United States waters. In addition, a doctor licensed
"DATA",346,454,1,3,0)
to practice in the United States must provide the service.  
"DATA",346,455,0)
N177^3030228^^3070401^3151012.170352
"DATA",346,455,1,0)
^^2^2^3150519
"DATA",346,455,1,1,0)
Alert: We did not send this claim to patient"s other insurer. They have
"DATA",346,455,1,2,0)
indicated no additional payment can be made.  
"DATA",346,455,2)
Notes: (Modified 6/30/03, 4/1/07)
"DATA",346,456,0)
N178^3030228^^3131101^3151012.170352
"DATA",346,456,1,0)
^^1^1^3150519
"DATA",346,456,1,1,0)
Missing pre-operative images/visual field results.  
"DATA",346,456,2)
Notes: (Modified 8/1/04, 11/1/13) Related to N244
"DATA",346,457,0)
N179^3030228^^^3151012.170352
"DATA",346,457,1,0)
^^2^2^3150519
"DATA",346,457,1,1,0)
Additional information has been requested from the member.  The charges will be
"DATA",346,457,1,2,0)
reconsidered upon receipt of that information.  
"DATA",346,458,0)
N180^3030228^^^3151012.170352
"DATA",346,458,1,0)
^^2^2^3150519
"DATA",346,458,1,1,0)
This item or service does not meet the criteria for the category under which it
"DATA",346,458,1,2,0)
was billed.  
"DATA",346,459,0)
N181^3030228^^3061201^3151012.170352
"DATA",346,459,1,0)
^^2^2^3150519
"DATA",346,459,1,1,0)
Additional information is required from another provider involved in this
"DATA",346,459,1,2,0)
service.  
"DATA",346,459,2)
Notes: (Modified 12/1/06)
"DATA",346,460,0)
N182^3030228^^^3151012.170352
"DATA",346,460,1,0)
^^1^1^3150519
"DATA",346,460,1,1,0)
This claim/service must be billed according to the schedule for this plan.  
"DATA",346,461,0)
N183^3030228^^3070401^3151012.170352
"DATA",346,461,1,0)
^^3^3^3150519
"DATA",346,461,1,1,0)
Alert: This is a predetermination advisory message, when this service is
"DATA",346,461,1,2,0)
submitted for payment additional documentation as specified in plan documents
"DATA",346,461,1,3,0)
will be required to process benefits.  
"DATA",346,461,2)
Notes: (Modified 4/1/07)
"DATA",346,462,0)
N184^3030228^^^3151012.170352
"DATA",346,462,1,0)
^^1^1^3150519
"DATA",346,462,1,1,0)
Rebill technical and professional components separately.  
"DATA",346,463,0)
N185^3030228^^3070401^3151012.170352
"DATA",346,463,1,0)
^^1^1^3150519
"DATA",346,463,1,1,0)
Alert: Do not resubmit this claim/service.  
"DATA",346,463,2)
Notes: (Modified 4/1/07)
"DATA",346,464,0)
N186^3030228^^^3151012.170352
"DATA",346,464,1,0)
^^2^2^3150519
"DATA",346,464,1,1,0)
Non-Availability Statement (NAS) required for this service. Contact the nearest
"DATA",346,464,1,2,0)
Military Treatment Facility (MTF) for assistance.  
"DATA",346,465,0)
N187^3030228^^3070401^3151012.170352
"DATA",346,465,1,0)
^^3^3^3150519
"DATA",346,465,1,1,0)
Alert: You may request a review in writing within the required time limits
"DATA",346,465,1,2,0)
following receipt of this notice by following the instructions included in your
"DATA",346,465,1,3,0)
contract or plan benefit documents.  
"DATA",346,465,2)
Notes: (Modified 4/1/07)
"DATA",346,466,0)
N188^3030228^^^3151012.170352
"DATA",346,466,1,0)
^^1^1^3150519
"DATA",346,466,1,1,0)
The approved level of care does not match the procedure code submitted.  
"DATA",346,467,0)
N189^3030228^^3070401^3151012.170352
"DATA",346,467,1,0)
^^2^2^3150519
"DATA",346,467,1,1,0)
Alert: This service has been paid as a one-time exception to the plan"s benefit
"DATA",346,467,1,2,0)
restrictions.  
"DATA",346,467,2)
Notes: (Modified 4/1/07)
"DATA",346,468,0)
N190^3030228^^3040801^3151012.170352
"DATA",346,468,1,0)
^^1^1^3150519
"DATA",346,468,1,1,0)
Missing contract indicator.  
"DATA",346,468,2)
Notes: (Modified 8/1/04) Related to N229
"DATA",346,469,0)
N191^3030228^^^3151012.170352
"DATA",346,469,1,0)
^^1^1^3150519
"DATA",346,469,1,1,0)
The provider must update insurance information directly with payer.  
"DATA",346,470,0)
N192^3030228^^^3151012.170352
"DATA",346,470,1,0)
^^1^1^3150519
"DATA",346,470,1,1,0)
Patient is a Medicaid/Qualified Medicare Beneficiary.  
"DATA",346,471,0)
N193^3030228^^^3151012.170352
"DATA",346,471,1,0)
^^2^2^3150519
"DATA",346,471,1,1,0)
Specific federal/state/local program may cover this service through another
"DATA",346,471,1,2,0)
payer.  
"DATA",346,472,0)
N194^3030225^^^3151012.170352
"DATA",346,472,1,0)
^^1^1^3150519
"DATA",346,472,1,1,0)
Technical component not paid if provider does not own the equipment used.  
"DATA",346,473,0)
N195^3030225^^^3151012.170352
"DATA",346,473,1,0)
^^1^1^3150519
"DATA",346,473,1,1,0)
The technical component must be billed separately.  
"DATA",346,474,0)
N196^3030225^^3070401^3151012.170352
"DATA",346,474,1,0)
^^1^1^3150519
"DATA",346,474,1,1,0)
Alert: Patient eligible to apply for other coverage which may be primary.  
"DATA",346,474,2)
Notes: (Modified 4/1/07)
"DATA",346,475,0)
N197^3030225^^^3151012.170352
"DATA",346,475,1,0)
^^1^1^3150519
"DATA",346,475,1,1,0)
The subscriber must update insurance information directly with payer.  
"DATA",346,476,0)
N198^3030225^^^3151012.170352
"DATA",346,476,1,0)
^^1^1^3150519
"DATA",346,476,1,1,0)
Rendering provider must be affiliated with the pay-to provider.  
"DATA",346,477,0)
N199^3030225^^3060801^3151012.170352
"DATA",346,477,1,0)
^^1^1^3150519
"DATA",346,477,1,1,0)
Additional payment/recoupment approved based on payer-initiated review/audit.  
"DATA",346,477,2)
Notes: (Modified 8/1/06)
"DATA",346,478,0)
N200^3030225^^^3151012.170352
"DATA",346,478,1,0)
^^1^1^3150519
"DATA",346,478,1,1,0)
The professional component must be billed separately.  
"DATA",346,479,0)
N201^3030225^3110101^^3151012.170352
"DATA",346,479,1,0)
^^2^2^3150519
"DATA",346,479,1,1,0)
A mental health facility is responsible for payment of outside providers who
"DATA",346,479,1,2,0)
furnish these services/supplies to residents.  
"DATA",346,479,2)
Notes: Consider using N538
"DATA",346,480,0)
N202^3030630^^3140314^3151012.170352
"DATA",346,480,1,0)
^^1^1^3150519
"DATA",346,480,1,1,0)
Additional information/explanation will be sent separately.  
"DATA",346,480,2)
Notes: (Modified 4/1/07, 11/1/09, 3/14/2014)
"DATA",346,481,0)
N203^3030630^^3140314^3151012.170352
"DATA",346,481,1,0)
^^1^1^3150519
"DATA",346,481,1,1,0)
Missing/incomplete/invalid anesthesia time/units.  
"DATA",346,481,2)
Notes: (Modified 3/14/2014)
"DATA",346,482,0)
N204^3030630^^^3151012.170352
"DATA",346,482,1,0)
^^2^2^3150519
"DATA",346,482,1,1,0)
Services under review for possible pre-existing condition. Send medical records
"DATA",346,482,1,2,0)
for prior 12 months 
"DATA",346,483,0)
N205^3030630^^3140314^3151012.170352
"DATA",346,483,1,0)
^^1^1^3150519
"DATA",346,483,1,1,0)
Information provided was illegible.  
"DATA",346,483,2)
Notes: (Modified 3/14/2014)
"DATA",346,484,0)
N206^3030630^^3120306^3151012.170352
"DATA",346,484,1,0)
^^1^1^3150519
"DATA",346,484,1,1,0)
The supporting documentation does not match the information sent on the claim.  
"DATA",346,484,2)
Notes: (Modified 3/6/12)
"DATA",346,485,0)
N207^3030630^^3051118^3151012.170352
"DATA",346,485,1,0)
^^1^1^3150519
"DATA",346,485,1,1,0)
Missing/incomplete/invalid weight.  
"DATA",346,485,2)
Notes: (Modified 11/18/05)
"DATA",346,486,0)
N208^3030630^^3140314^3151012.170352
"DATA",346,486,1,0)
^^1^1^3150519
"DATA",346,486,1,1,0)
Missing/incomplete/invalid DRG code.  
"DATA",346,486,2)
Notes: (Modified 3/14/2014)
"DATA",346,487,0)
N209^3030630^^3080701^3151012.170352
"DATA",346,487,1,0)
^^1^1^3150519
"DATA",346,487,1,1,0)
Missing/incomplete/invalid taxpayer identification number (TIN).  
"DATA",346,487,2)
Notes: (Modified 7/1/08)
"DATA",346,488,0)
N210^3030630^^3140314^3151012.170352
"DATA",346,488,1,0)
^^1^1^3150519
"DATA",346,488,1,1,0)
Alert: You may appeal this decision.  
"DATA",346,488,2)
Notes: (Modified 4/1/07, 3/14/2014)
"DATA",346,489,0)
N211^3030630^^3140314^3151012.170352
"DATA",346,489,1,0)
^^1^1^3150519
"DATA",346,489,1,1,0)
Alert: You may not appeal this decision.  
"DATA",346,489,2)
Notes: (Modified 4/1/07, 3/14/2014)
"DATA",346,490,0)
N212^3040201^^3140314^3151012.170352
"DATA",346,490,1,0)
^^1^1^3150519
"DATA",346,490,1,1,0)
Charges processed under a Point of Service benefit .  
"DATA",346,490,2)
Notes: (Modified 3/14/2014)
"DATA",346,491,0)
N213^3040401^^3140314^3151012.170352
"DATA",346,491,1,0)
^^2^2^3150519
"DATA",346,491,1,1,0)
Missing/incomplete/invalid facility/discrete unit DRG/DRG exempt status
"DATA",346,491,1,2,0)
information.  
"DATA",346,491,2)
Notes: (Modified 3/14/2014)
"DATA",346,492,0)
N214^3040401^^3140314^3151012.170352
"DATA",346,492,1,0)
^^2^2^3150519
"DATA",346,492,1,1,0)
Missing/incomplete/invalid history of the related initial surgical
"DATA",346,492,1,2,0)
procedure(s).  
"DATA",346,492,2)
Notes: (Modified 3/14/2014)
"DATA",346,493,0)
N215^3040401^^3070401^3151012.170352
"DATA",346,493,1,0)
^^3^3^3150519
"DATA",346,493,1,1,0)
Alert: A payer providing supplemental or secondary coverage shall not require a
"DATA",346,493,1,2,0)
claims determination for this service from a primary payer as a condition of
"DATA",346,493,1,3,0)
making its own claims determination.  
"DATA",346,493,2)
Notes: (Modified 4/1/07)
"DATA",346,494,0)
N216^3040401^^3140314^3151012.170352
"DATA",346,494,1,0)
^^2^2^3150519
"DATA",346,494,1,1,0)
We do not offer coverage for this type of service or the patient is not
"DATA",346,494,1,2,0)
enrolled in this portion of our benefit package.  
"DATA",346,494,2)
Notes: (Modified 3/1/2010, 3/14/2014)
"DATA",346,495,0)
N217^3040801^^3140314^3151012.170352
"DATA",346,495,1,0)
^^1^1^3150519
"DATA",346,495,1,1,0)
We pay only one site of service per provider per claim.  
"DATA",346,495,2)
Notes: (Modified 3/14/2014)
"DATA",346,496,0)
N218^3040801^^^3151012.170352
"DATA",346,496,1,0)
^^3^3^3150519
"DATA",346,496,1,1,0)
You must furnish and service this item for as long as the patient continues to
"DATA",346,496,1,2,0)
need it.  We can pay for maintenance and/or servicing for the time period
"DATA",346,496,1,3,0)
specified in the contract or coverage manual.  
"DATA",346,497,0)
N219^3040801^^^3151012.170352
"DATA",346,497,1,0)
^^1^1^3150519
"DATA",346,497,1,1,0)
Payment based on previous payer"s allowed amount.  
"DATA",346,498,0)
N220^3040801^^3070401^3151012.170352
"DATA",346,498,1,0)
^^2^2^3150519
"DATA",346,498,1,1,0)
Alert: See the payer"s web site or contact the payer"s Customer Service
"DATA",346,498,1,2,0)
department to obtain forms and instructions for filing a provider dispute.  
"DATA",346,498,2)
Notes: (Modified 4/1/07)
"DATA",346,499,0)
N221^3040801^^^3151012.170352
"DATA",346,499,1,0)
^^1^1^3150519
"DATA",346,499,1,1,0)
Missing Admitting History and Physical report.  
"DATA",346,500,0)
N222^3040801^^^3151012.170352
"DATA",346,500,1,0)
^^1^1^3150519
"DATA",346,500,1,1,0)
Incomplete/invalid Admitting History and Physical report.  
"DATA",346,501,0)
N223^3040801^^^3151012.170352
"DATA",346,501,1,0)
^^2^2^3150519
"DATA",346,501,1,1,0)
Missing documentation of benefit to the patient during initial treatment
"DATA",346,501,1,2,0)
period.  
"DATA",346,502,0)
N224^3040801^^^3151012.170352
"DATA",346,502,1,0)
^^2^2^3150519
"DATA",346,502,1,1,0)
Incomplete/invalid documentation of benefit to the patient during initial
"DATA",346,502,1,2,0)
treatment period.  
"DATA",346,503,0)
N225^3040801^3160301^3140301^3151012.170353
"DATA",346,503,1,0)
^^1^1^3150519
"DATA",346,503,1,1,0)
Incomplete/invalid documentation/orders/notes/summary/report/chart.  
"DATA",346,503,2)
Notes: (Modified 8/1/05, 3/1/2014) Explicit RARCs have been approved, this non-specific RARC will be deactivated in March 2016.
"DATA",346,504,0)
N226^3040801^^^3151012.170353
"DATA",346,504,1,0)
^^1^1^3150519
"DATA",346,504,1,1,0)
Incomplete/invalid American Diabetes Association Certificate of Recognition.  
"DATA",346,505,0)
N227^3040801^^^3151012.170353
"DATA",346,505,1,0)
^^1^1^3150519
"DATA",346,505,1,1,0)
Incomplete/invalid Certificate of Medical Necessity.  
"DATA",346,506,0)
N228^3040801^^^3151012.170353
"DATA",346,506,1,0)
^^1^1^3150519
"DATA",346,506,1,1,0)
Incomplete/invalid consent form.  
"DATA",346,507,0)
N229^3040801^^^3151012.170353
"DATA",346,507,1,0)
^^1^1^3150519
"DATA",346,507,1,1,0)
Incomplete/invalid contract indicator.  
"DATA",346,508,0)
N230^3040801^^^3151012.170353
"DATA",346,508,1,0)
^^2^2^3150519
"DATA",346,508,1,1,0)
Incomplete/invalid indication of whether the patient owns the equipment that
"DATA",346,508,1,2,0)
requires the part or supply.  
"DATA",346,509,0)
N231^3040801^^^3151012.170353
"DATA",346,509,1,0)
^^2^2^3150519
"DATA",346,509,1,1,0)
Incomplete/invalid invoice or statement certifying the actual cost of the lens,
"DATA",346,509,1,2,0)
less discounts, and/or the type of intraocular lens used.  
"DATA",346,510,0)
N232^3040801^^3080701^3151012.170353
"DATA",346,510,1,0)
^^1^1^3150519
"DATA",346,510,1,1,0)
Incomplete/invalid itemized bill/statement.  
"DATA",346,510,2)
Notes: (Modified 7/1/08)
"DATA",346,511,0)
N233^3040801^^3080701^3151012.170353
"DATA",346,511,1,0)
^^1^1^3150519
"DATA",346,511,1,1,0)
Incomplete/invalid operative note/report.  
"DATA",346,511,2)
Notes: (Modified 7/1/08)
"DATA",346,512,0)
N234^3040801^^^3151012.170353
"DATA",346,512,1,0)
^^1^1^3150519
"DATA",346,512,1,1,0)
Incomplete/invalid oxygen certification/re-certification.  
"DATA",346,513,0)
N235^3040801^^^3151012.170353
"DATA",346,513,1,0)
^^1^1^3150519
"DATA",346,513,1,1,0)
Incomplete/invalid pacemaker registration form.  
"DATA",346,514,0)
N236^3040801^^^3151012.170353
"DATA",346,514,1,0)
^^1^1^3150519
"DATA",346,514,1,1,0)
Incomplete/invalid pathology report.  
"DATA",346,515,0)
N237^3040801^^^3151012.170353
"DATA",346,515,1,0)
^^1^1^3150519
"DATA",346,515,1,1,0)
Incomplete/invalid patient medical record for this service.  
"DATA",346,516,0)
N238^3040801^^3140314^3151012.170353
"DATA",346,516,1,0)
^^1^1^3150519
"DATA",346,516,1,1,0)
Incomplete/invalid physician certified plan of care.  
"DATA",346,516,2)
Notes: (Modified 3/14/2014)
"DATA",346,517,0)
N239^3040801^^^3151012.170353
"DATA",346,517,1,0)
^^1^1^3150519
"DATA",346,517,1,1,0)
Incomplete/invalid physician financial relationship form.  
"DATA",346,518,0)
N240^3040801^^^3151012.170353
"DATA",346,518,1,0)
^^1^1^3150519
"DATA",346,518,1,1,0)
Incomplete/invalid radiology report.  
"DATA",346,519,0)
N241^3040801^^3080229^3151012.170353
"DATA",346,519,1,0)
^^1^1^3150519
"DATA",346,519,1,1,0)
Incomplete/invalid review organization approval.  
"DATA",346,519,2)
Notes: (Modified 2/29/08)
"DATA",346,520,0)
N242^3040801^^3080701^3151012.170353
"DATA",346,520,1,0)
^^1^1^3150519
"DATA",346,520,1,1,0)
Incomplete/invalid radiology film(s)/image(s).  
"DATA",346,520,2)
Notes: (Modified 7/1/08)
"DATA",346,521,0)
N243^3040801^^^3151012.170353
"DATA",346,521,1,0)
^^1^1^3150519
"DATA",346,521,1,1,0)
Incomplete/invalid/not approved screening document.  
"DATA",346,522,0)
N244^3040801^^3131101^3151012.170353
"DATA",346,522,1,0)
^^1^1^3150519
"DATA",346,522,1,1,0)
Incomplete/Invalid pre-operative  images/visual field results.  
"DATA",346,522,2)
Notes: (Modified 11/1/2013)
"DATA",346,523,0)
N245^3040801^^3140314^3151012.170353
"DATA",346,523,1,0)
^^1^1^3150519
"DATA",346,523,1,1,0)
Incomplete/invalid plan information for other insurance .  
"DATA",346,523,2)
Notes: (Modified 3/14/2014)
"DATA",346,524,0)
N246^3041202^^^3151012.170353
"DATA",346,524,1,0)
^^1^1^3150519
"DATA",346,524,1,1,0)
State regulated patient payment limitations apply to this service.  
"DATA",346,525,0)
N247^3041202^^^3151012.170353
"DATA",346,525,1,0)
^^1^1^3150519
"DATA",346,525,1,1,0)
Missing/incomplete/invalid assistant surgeon taxonomy.  
"DATA",346,526,0)
N248^3041202^^^3151012.170353
"DATA",346,526,1,0)
^^1^1^3150519
"DATA",346,526,1,1,0)
Missing/incomplete/invalid assistant surgeon name.  
"DATA",346,527,0)
N249^3041202^^^3151012.170353
"DATA",346,527,1,0)
^^1^1^3150519
"DATA",346,527,1,1,0)
Missing/incomplete/invalid assistant surgeon primary identifier.  
"DATA",346,528,0)
N250^3041202^^^3151012.170353
"DATA",346,528,1,0)
^^1^1^3150519
"DATA",346,528,1,1,0)
Missing/incomplete/invalid assistant surgeon secondary identifier.  
"DATA",346,529,0)
N251^3041202^^^3151012.170353
"DATA",346,529,1,0)
^^1^1^3150519
"DATA",346,529,1,1,0)
Missing/incomplete/invalid attending provider taxonomy.  
"DATA",346,530,0)
N252^3041202^^^3151012.170353
"DATA",346,530,1,0)
^^1^1^3150519
"DATA",346,530,1,1,0)
Missing/incomplete/invalid attending provider name.  
"DATA",346,531,0)
N253^3041202^^^3151012.170353
"DATA",346,531,1,0)
^^1^1^3150519
"DATA",346,531,1,1,0)
Missing/incomplete/invalid attending provider primary identifier.  
"DATA",346,532,0)
N254^3041202^^^3151012.170353
"DATA",346,532,1,0)
^^1^1^3150519
"DATA",346,532,1,1,0)
Missing/incomplete/invalid attending provider secondary identifier.  
"DATA",346,533,0)
N255^3041202^^^3151012.170353
"DATA",346,533,1,0)
^^1^1^3150519
"DATA",346,533,1,1,0)
Missing/incomplete/invalid billing provider taxonomy.  
"DATA",346,534,0)
N256^3041202^^^3151012.170353
"DATA",346,534,1,0)
^^1^1^3150519
"DATA",346,534,1,1,0)
Missing/incomplete/invalid billing provider/supplier name.  
"DATA",346,535,0)
N257^3041202^^^3151012.170353
"DATA",346,535,1,0)
^^1^1^3150519
"DATA",346,535,1,1,0)
Missing/incomplete/invalid billing provider/supplier primary identifier.  
"DATA",346,536,0)
N258^3041202^^^3151012.170353
"DATA",346,536,1,0)
^^1^1^3150519
"DATA",346,536,1,1,0)
Missing/incomplete/invalid billing provider/supplier address.  
"DATA",346,537,0)
N259^3041202^^^3151012.170353
"DATA",346,537,1,0)
^^1^1^3150519
"DATA",346,537,1,1,0)
Missing/incomplete/invalid billing provider/supplier secondary identifier.  
"DATA",346,538,0)
N260^3041202^^^3151012.170353
"DATA",346,538,1,0)
^^1^1^3150519
"DATA",346,538,1,1,0)
Missing/incomplete/invalid billing provider/supplier contact information.  
"DATA",346,539,0)
N261^3041202^^^3151012.170353
"DATA",346,539,1,0)
^^1^1^3150519
"DATA",346,539,1,1,0)
Missing/incomplete/invalid operating provider name.  
"DATA",346,540,0)
N262^3041202^^^3151012.170353
"DATA",346,540,1,0)
^^1^1^3150519
"DATA",346,540,1,1,0)
Missing/incomplete/invalid operating provider primary identifier.  
"DATA",346,541,0)
N263^3041202^^^3151012.170353
"DATA",346,541,1,0)
^^1^1^3150519
"DATA",346,541,1,1,0)
Missing/incomplete/invalid operating provider secondary identifier.  
"DATA",346,542,0)
N264^3041202^^^3151012.170353
"DATA",346,542,1,0)
^^1^1^3150519
"DATA",346,542,1,1,0)
Missing/incomplete/invalid ordering provider name.  
"DATA",346,543,0)
N265^3041202^^^3151012.170353
"DATA",346,543,1,0)
^^1^1^3150519
"DATA",346,543,1,1,0)
Missing/incomplete/invalid ordering provider primary identifier.  
"DATA",346,544,0)
N266^3041202^^^3151012.170353
"DATA",346,544,1,0)
^^1^1^3150519
"DATA",346,544,1,1,0)
Missing/incomplete/invalid ordering provider address.  
"DATA",346,545,0)
N267^3041202^^^3151012.170353
"DATA",346,545,1,0)
^^1^1^3150519
"DATA",346,545,1,1,0)
Missing/incomplete/invalid ordering provider secondary identifier.  
"DATA",346,546,0)
N268^3041202^^^3151012.170353
"DATA",346,546,1,0)
^^1^1^3150519
"DATA",346,546,1,1,0)
Missing/incomplete/invalid ordering provider contact information.  
"DATA",346,547,0)
N269^3041202^^^3151012.170353
"DATA",346,547,1,0)
^^1^1^3150519
"DATA",346,547,1,1,0)
Missing/incomplete/invalid other provider name.  
"DATA",346,548,0)
N270^3041202^^^3151012.170353
"DATA",346,548,1,0)
^^1^1^3150519
"DATA",346,548,1,1,0)
Missing/incomplete/invalid other provider primary identifier.  
"DATA",346,549,0)
N271^3041202^^^3151012.170353
"DATA",346,549,1,0)
^^1^1^3150519
"DATA",346,549,1,1,0)
Missing/incomplete/invalid other provider secondary identifier.  
"DATA",346,550,0)
N272^3041202^^^3151012.170353
"DATA",346,550,1,0)
^^1^1^3150519
"DATA",346,550,1,1,0)
Missing/incomplete/invalid other payer attending provider identifier.  
"DATA",346,551,0)
N273^3041202^^^3151012.170353
"DATA",346,551,1,0)
^^1^1^3150519
"DATA",346,551,1,1,0)
Missing/incomplete/invalid other payer operating provider identifier.  
"DATA",346,552,0)
N274^3041202^^^3151012.170353
"DATA",346,552,1,0)
^^1^1^3150519
"DATA",346,552,1,1,0)
Missing/incomplete/invalid other payer other provider identifier.  
"DATA",346,553,0)
N275^3041202^^^3151012.170353
"DATA",346,553,1,0)
^^1^1^3150519
"DATA",346,553,1,1,0)
Missing/incomplete/invalid other payer purchased service provider identifier.  
"DATA",346,554,0)
N276^3041202^^^3151012.170353
"DATA",346,554,1,0)
^^1^1^3150519
"DATA",346,554,1,1,0)
Missing/incomplete/invalid other payer referring provider identifier.  
"DATA",346,555,0)
N277^3041202^^^3151012.170353
"DATA",346,555,1,0)
^^1^1^3150519
"DATA",346,555,1,1,0)
Missing/incomplete/invalid other payer rendering provider identifier.  
"DATA",346,556,0)
N278^3041202^^^3151012.170353
"DATA",346,556,1,0)
^^1^1^3150519
"DATA",346,556,1,1,0)
Missing/incomplete/invalid other payer service facility provider identifier.  
"DATA",346,557,0)
N279^3041202^^^3151012.170353
"DATA",346,557,1,0)
^^1^1^3150519
"DATA",346,557,1,1,0)
Missing/incomplete/invalid pay-to provider name.  
"DATA",346,558,0)
N280^3041202^^^3151012.170353
"DATA",346,558,1,0)
^^1^1^3150519
"DATA",346,558,1,1,0)
Missing/incomplete/invalid pay-to provider primary identifier.  
"DATA",346,559,0)
N281^3041202^^^3151012.170353
"DATA",346,559,1,0)
^^1^1^3150519
"DATA",346,559,1,1,0)
Missing/incomplete/invalid pay-to provider address.  
"DATA",346,560,0)
N282^3041202^^^3151012.170353
"DATA",346,560,1,0)
^^1^1^3150519
"DATA",346,560,1,1,0)
Missing/incomplete/invalid pay-to provider secondary identifier.  
"DATA",346,561,0)
N283^3041202^^^3151012.170353
"DATA",346,561,1,0)
^^1^1^3150519
"DATA",346,561,1,1,0)
Missing/incomplete/invalid purchased service provider identifier.  
"DATA",346,562,0)
N284^3041202^^^3151012.170353
"DATA",346,562,1,0)
^^1^1^3150519
"DATA",346,562,1,1,0)
Missing/incomplete/invalid referring provider taxonomy.  
"DATA",346,563,0)
N285^3041202^^^3151012.170353
"DATA",346,563,1,0)
^^1^1^3150519
"DATA",346,563,1,1,0)
Missing/incomplete/invalid referring provider name.  
"DATA",346,564,0)
N286^3041202^^^3151012.170353
"DATA",346,564,1,0)
^^1^1^3150519
"DATA",346,564,1,1,0)
Missing/incomplete/invalid referring provider primary identifier.  
"DATA",346,565,0)
N287^3041202^^^3151012.170353
"DATA",346,565,1,0)
^^1^1^3150519
"DATA",346,565,1,1,0)
Missing/incomplete/invalid referring provider secondary identifier.  
"DATA",346,566,0)
N288^3041202^^^3151012.170353
"DATA",346,566,1,0)
^^1^1^3150519
"DATA",346,566,1,1,0)
Missing/incomplete/invalid rendering provider taxonomy.  
"DATA",346,567,0)
N289^3041202^^^3151012.170353
"DATA",346,567,1,0)
^^1^1^3150519
"DATA",346,567,1,1,0)
Missing/incomplete/invalid rendering provider name.  
"DATA",346,568,0)
N290^3041202^^^3151012.170353
"DATA",346,568,1,0)
^^1^1^3150519
"DATA",346,568,1,1,0)
Missing/incomplete/invalid rendering provider primary identifier.  
"DATA",346,569,0)
N291^3041202^^3101101^3151012.170353
"DATA",346,569,1,0)
^^1^1^3150519
"DATA",346,569,1,1,0)
Missing/incomplete/invalid rendering provider secondary identifier.  
"DATA",346,570,0)
N292^3041202^^^3151012.170353
"DATA",346,570,1,0)
^^1^1^3150519
"DATA",346,570,1,1,0)
Missing/incomplete/invalid service facility name.  
"DATA",346,571,0)
N293^3041202^^^3151012.170353
"DATA",346,571,1,0)
^^1^1^3150519
"DATA",346,571,1,1,0)
Missing/incomplete/invalid service facility primary identifier.  
"DATA",346,572,0)
N294^3041202^^^3151012.170353
"DATA",346,572,1,0)
^^1^1^3150519
"DATA",346,572,1,1,0)
Missing/incomplete/invalid service facility primary address.  
"DATA",346,573,0)
N295^3041202^^^3151012.170353
"DATA",346,573,1,0)
^^1^1^3150519
"DATA",346,573,1,1,0)
Missing/incomplete/invalid service facility secondary identifier.  
"DATA",346,574,0)
N296^3041202^^^3151012.170353
"DATA",346,574,1,0)
^^1^1^3150519
"DATA",346,574,1,1,0)
Missing/incomplete/invalid supervising provider name.  
"DATA",346,575,0)
N297^3041202^^^3151012.170353
"DATA",346,575,1,0)
^^1^1^3150519
"DATA",346,575,1,1,0)
Missing/incomplete/invalid supervising provider primary identifier.  
"DATA",346,576,0)
N298^3041202^^^3151012.170353
"DATA",346,576,1,0)
^^1^1^3150519
"DATA",346,576,1,1,0)
Missing/incomplete/invalid supervising provider secondary identifier.  
"DATA",346,577,0)
N299^3041202^^^3151012.170353
"DATA",346,577,1,0)
^^1^1^3150519
"DATA",346,577,1,1,0)
Missing/incomplete/invalid occurrence date(s).  
"DATA",346,578,0)
N300^3041202^^^3151012.170353
"DATA",346,578,1,0)
^^1^1^3150519
"DATA",346,578,1,1,0)
Missing/incomplete/invalid occurrence span date(s).  
"DATA",346,579,0)
N301^3041202^^^3151012.170353
"DATA",346,579,1,0)
^^1^1^3150519
"DATA",346,579,1,1,0)
Missing/incomplete/invalid procedure date(s).  
"DATA",346,580,0)
N302^3041202^^^3151012.170353
"DATA",346,580,1,0)
^^1^1^3150519
"DATA",346,580,1,1,0)
Missing/incomplete/invalid other procedure date(s).  
"DATA",346,581,0)
N303^3041202^^^3151012.170353
"DATA",346,581,1,0)
^^1^1^3150519
"DATA",346,581,1,1,0)
Missing/incomplete/invalid principal procedure date.  
"DATA",346,582,0)
N304^3041202^^^3151012.170353
"DATA",346,582,1,0)
^^1^1^3150519
"DATA",346,582,1,1,0)
Missing/incomplete/invalid dispensed date.  
"DATA",346,583,0)
N305^3041202^^^3151012.170353
"DATA",346,583,1,0)
^^1^1^3150519
"DATA",346,583,1,1,0)
Missing/incomplete/invalid accident date.  
"DATA",346,584,0)
N306^3041202^^^3151012.170353
"DATA",346,584,1,0)
^^1^1^3150519
"DATA",346,584,1,1,0)
Missing/incomplete/invalid acute manifestation date.  
"DATA",346,585,0)
N307^3041202^^^3151012.170354
"DATA",346,585,1,0)
^^1^1^3150519
"DATA",346,585,1,1,0)
Missing/incomplete/invalid adjudication or payment date.  
"DATA",346,586,0)
N308^3041202^^^3151012.170354
"DATA",346,586,1,0)
^^1^1^3150519
"DATA",346,586,1,1,0)
Missing/incomplete/invalid appliance placement date.  
"DATA",346,587,0)
N309^3041202^^^3151012.170354
"DATA",346,587,1,0)
^^1^1^3150519
"DATA",346,587,1,1,0)
Missing/incomplete/invalid assessment date.  
"DATA",346,588,0)
N310^3041202^^^3151012.170354
"DATA",346,588,1,0)
^^1^1^3150519
"DATA",346,588,1,1,0)
Missing/incomplete/invalid assumed or relinquished care date.  
"DATA",346,589,0)
N311^3041202^^^3151012.170354
"DATA",346,589,1,0)
^^1^1^3150519
"DATA",346,589,1,1,0)
Missing/incomplete/invalid authorized to return to work date.  
"DATA",346,590,0)
N312^3041202^^^3151012.170354
"DATA",346,590,1,0)
^^1^1^3150519
"DATA",346,590,1,1,0)
Missing/incomplete/invalid begin therapy date.  
"DATA",346,591,0)
N313^3041202^^^3151012.170354
"DATA",346,591,1,0)
^^1^1^3150519
"DATA",346,591,1,1,0)
Missing/incomplete/invalid certification revision date.  
"DATA",346,592,0)
N314^3041202^^^3151012.170354
"DATA",346,592,1,0)
^^1^1^3150519
"DATA",346,592,1,1,0)
Missing/incomplete/invalid diagnosis date.  
"DATA",346,593,0)
N315^3041202^^^3151012.170354
"DATA",346,593,1,0)
^^1^1^3150519
"DATA",346,593,1,1,0)
Missing/incomplete/invalid disability from date.  
"DATA",346,594,0)
N316^3041202^^^3151012.170354
"DATA",346,594,1,0)
^^1^1^3150519
"DATA",346,594,1,1,0)
Missing/incomplete/invalid disability to date.  
"DATA",346,595,0)
N317^3041202^^^3151012.170354
"DATA",346,595,1,0)
^^1^1^3150519
"DATA",346,595,1,1,0)
Missing/incomplete/invalid discharge hour.  
"DATA",346,596,0)
N318^3041202^^^3151012.170354
"DATA",346,596,1,0)
^^1^1^3150519
"DATA",346,596,1,1,0)
Missing/incomplete/invalid discharge or end of care date.  
"DATA",346,597,0)
N319^3041202^^^3151012.170354
"DATA",346,597,1,0)
^^1^1^3150519
"DATA",346,597,1,1,0)
Missing/incomplete/invalid hearing or vision prescription date.  
"DATA",346,598,0)
N320^3041202^^^3151012.170354
"DATA",346,598,1,0)
^^1^1^3150519
"DATA",346,598,1,1,0)
Missing/incomplete/invalid Home Health Certification Period.  
"DATA",346,599,0)
N321^3041202^^^3151012.170354
"DATA",346,599,1,0)
^^1^1^3150519
"DATA",346,599,1,1,0)
Missing/incomplete/invalid last admission period.  
"DATA",346,600,0)
N322^3041202^^^3151012.170354
"DATA",346,600,1,0)
^^1^1^3150519
"DATA",346,600,1,1,0)
Missing/incomplete/invalid last certification date.  
"DATA",346,601,0)
N323^3041202^^^3151012.170354
"DATA",346,601,1,0)
^^1^1^3150519
"DATA",346,601,1,1,0)
Missing/incomplete/invalid last contact date.  
"DATA",346,602,0)
N324^3041202^^^3151012.170354
"DATA",346,602,1,0)
^^1^1^3150519
"DATA",346,602,1,1,0)
Missing/incomplete/invalid last seen/visit date.  
"DATA",346,603,0)
N325^3041202^^^3151012.170354
"DATA",346,603,1,0)
^^1^1^3150519
"DATA",346,603,1,1,0)
Missing/incomplete/invalid last worked date.  
"DATA",346,604,0)
N326^3041202^^^3151012.170354
"DATA",346,604,1,0)
^^1^1^3150519
"DATA",346,604,1,1,0)
Missing/incomplete/invalid last x-ray date.  
"DATA",346,605,0)
N327^3041202^^^3151012.170354
"DATA",346,605,1,0)
^^1^1^3150519
"DATA",346,605,1,1,0)
Missing/incomplete/invalid other insured birth date.  
"DATA",346,606,0)
N328^3041202^^^3151012.170354
"DATA",346,606,1,0)
^^1^1^3150519
"DATA",346,606,1,1,0)
Missing/incomplete/invalid Oxygen Saturation Test date.  
"DATA",346,607,0)
N329^3041202^^^3151012.170354
"DATA",346,607,1,0)
^^1^1^3150519
"DATA",346,607,1,1,0)
Missing/incomplete/invalid patient birth date.  
"DATA",346,608,0)
N330^3041202^^^3151012.170354
"DATA",346,608,1,0)
^^1^1^3150519
"DATA",346,608,1,1,0)
Missing/incomplete/invalid patient death date.  
"DATA",346,609,0)
N331^3041202^^^3151012.170354
"DATA",346,609,1,0)
^^1^1^3150519
"DATA",346,609,1,1,0)
Missing/incomplete/invalid physician order date.  
"DATA",346,610,0)
N332^3041202^^^3151012.170354
"DATA",346,610,1,0)
^^1^1^3150519
"DATA",346,610,1,1,0)
Missing/incomplete/invalid prior hospital discharge date.  
"DATA",346,611,0)
N333^3041202^^^3151012.170354
"DATA",346,611,1,0)
^^1^1^3150519
"DATA",346,611,1,1,0)
Missing/incomplete/invalid prior placement date.  
"DATA",346,612,0)
N334^3041202^^3140314^3151012.170354
"DATA",346,612,1,0)
^^1^1^3150519
"DATA",346,612,1,1,0)
Missing/incomplete/invalid re-evaluation date.  
"DATA",346,612,2)
Notes: (Modified 3/14/2014)
"DATA",346,613,0)
N335^3041202^^^3151012.170354
"DATA",346,613,1,0)
^^1^1^3150519
"DATA",346,613,1,1,0)
Missing/incomplete/invalid referral date.  
"DATA",346,614,0)
N336^3041202^^^3151012.170354
"DATA",346,614,1,0)
^^1^1^3150519
"DATA",346,614,1,1,0)
Missing/incomplete/invalid replacement date.  
"DATA",346,615,0)
N337^3041202^^^3151012.170354
"DATA",346,615,1,0)
^^1^1^3150519
"DATA",346,615,1,1,0)
Missing/incomplete/invalid secondary diagnosis date.  
"DATA",346,616,0)
N338^3041202^^^3151012.170354
"DATA",346,616,1,0)
^^1^1^3150519
"DATA",346,616,1,1,0)
Missing/incomplete/invalid shipped date.  
"DATA",346,617,0)
N339^3041202^^^3151012.170354
"DATA",346,617,1,0)
^^1^1^3150519
"DATA",346,617,1,1,0)
Missing/incomplete/invalid similar illness or symptom date.  
"DATA",346,618,0)
N340^3041202^^^3151012.170354
"DATA",346,618,1,0)
^^1^1^3150519
"DATA",346,618,1,1,0)
Missing/incomplete/invalid subscriber birth date.  
"DATA",346,619,0)
N341^3041202^^^3151012.170354
"DATA",346,619,1,0)
^^1^1^3150519
"DATA",346,619,1,1,0)
Missing/incomplete/invalid surgery date.  
"DATA",346,620,0)
N342^3041202^^^3151012.170354
"DATA",346,620,1,0)
^^1^1^3150519
"DATA",346,620,1,1,0)
Missing/incomplete/invalid test performed date.  
"DATA",346,621,0)
N343^3041202^^^3151012.170354
"DATA",346,621,1,0)
^^2^2^3150519
"DATA",346,621,1,1,0)
Missing/incomplete/invalid Transcutaneous Electrical Nerve Stimulator (TENS)
"DATA",346,621,1,2,0)
trial start date.  
"DATA",346,622,0)
N344^3041202^^^3151012.170354
"DATA",346,622,1,0)
^^2^2^3150519
"DATA",346,622,1,1,0)
Missing/incomplete/invalid Transcutaneous Electrical Nerve Stimulator (TENS)
"DATA",346,622,1,2,0)
trial end date.  
"DATA",346,623,0)
N345^3050330^^^3151012.170354
"DATA",346,623,1,0)
^^1^1^3150519
"DATA",346,623,1,1,0)
Date range not valid with units submitted.  
"DATA",346,624,0)
N346^3050330^^^3151012.170354
"DATA",346,624,1,0)
^^1^1^3150519
"DATA",346,624,1,1,0)
Missing/incomplete/invalid oral cavity designation code.  
"DATA",346,625,0)
N347^3050330^^^3151012.170354
"DATA",346,625,1,0)
^^3^3^3150519
"DATA",346,625,1,1,0)
Your claim for a referred or purchased service cannot be paid because payment
"DATA",346,625,1,2,0)
has already been made for this same service to another provider by a payment
"DATA",346,625,1,3,0)
contractor representing the payer.  
"DATA",346,626,0)
N348^3050801^^^3151012.170354
"DATA",346,626,1,0)
^^2^2^3150519
"DATA",346,626,1,1,0)
You chose that this service/supply/drug would be rendered/supplied and billed
"DATA",346,626,1,2,0)
by a different practitioner/supplier.  
"DATA",346,627,0)
N349^3050801^^^3151012.170354
"DATA",346,627,1,0)
^^1^1^3150519
"DATA",346,627,1,1,0)
The administration method and drug must be reported to adjudicate this service.  
"DATA",346,628,0)
N350^3050801^^3080701^3151012.170354
"DATA",346,628,1,0)
^^2^2^3150519
"DATA",346,628,1,1,0)
Missing/incomplete/invalid description of service for a Not Otherwise
"DATA",346,628,1,2,0)
Classified (NOC) code or for an Unlisted/By Report procedure.  
"DATA",346,628,2)
Notes: (Modified 7/1/08)
"DATA",346,629,0)
N351^3050801^^^3151012.170354
"DATA",346,629,1,0)
^^1^1^3150519
"DATA",346,629,1,1,0)
Service date outside of the approved treatment plan service dates.  
"DATA",346,630,0)
N352^3050801^^3070401^3151012.170354
"DATA",346,630,1,0)
^^2^2^3150519
"DATA",346,630,1,1,0)
Alert: There are no scheduled payments for this service. Submit a claim for
"DATA",346,630,1,2,0)
each patient visit.  
"DATA",346,630,2)
Notes: (Modified 4/1/07)
"DATA",346,631,0)
N353^3050801^^3070401^3151012.170354
"DATA",346,631,1,0)
^^2^2^3150519
"DATA",346,631,1,1,0)
Alert: Benefits have been estimated, when the actual services have been
"DATA",346,631,1,2,0)
rendered, additional payment will be considered based on the submitted claim.  
"DATA",346,631,2)
Notes: (Modified 4/1/07)
"DATA",346,632,0)
N354^3050801^^3140314^3151012.170354
"DATA",346,632,1,0)
^^1^1^3150519
"DATA",346,632,1,1,0)
Incomplete/invalid invoice.  
"DATA",346,632,2)
Notes: (Modified 3/14/2014)
"DATA",346,633,0)
N355^3050801^^3070401^3151012.170354
"DATA",346,633,1,0)
^^25^25^3150519
"DATA",346,633,1,1,0)
Alert: The law permits exceptions to the refund requirement in two cases: - If
"DATA",346,633,1,2,0)
you did not know, and could not have reasonably been expected to know, that we
"DATA",346,633,1,3,0)
would not pay for this service; or - If you notified the patient in writing
"DATA",346,633,1,4,0)
before providing the service that you believed that we were likely to deny the
"DATA",346,633,1,5,0)
service, and the patient signed a statement agreeing to pay for the service. 
"DATA",346,633,1,6,0)
If youcome within either exception, or if you believe the carrier was wrong in
"DATA",346,633,1,7,0)
its determination that we do not pay for this service, you should request
"DATA",346,633,1,8,0)
appeal of this determination within 30 days of the date of this notice. Your
"DATA",346,633,1,9,0)
request for review should include any additional information necessary to
"DATA",346,633,1,10,0)
support your position.  If you request an appeal within 30 days of receiving
"DATA",346,633,1,11,0)
this notice, you may delay refunding the amount to the patient until you
"DATA",346,633,1,12,0)
receive the results of the review. If the review decision is favorable to you,
"DATA",346,633,1,13,0)
you do not need to make any refund. If, however, the review is unfavorable, the
"DATA",346,633,1,14,0)
law specifies that you must make the refund within 15 days of receiving the
"DATA",346,633,1,15,0)
unfavorable review decision.  The law also permits you to request an appeal at
"DATA",346,633,1,16,0)
any time within 120 days of the date you receive this notice. However, an
"DATA",346,633,1,17,0)
appeal request that is received more than 30 days after the date of this
"DATA",346,633,1,18,0)
notice, does not permit you to delay making the refund. Regardless of when a
"DATA",346,633,1,19,0)
review is requested, the patient will be notified that you have requested one,
"DATA",346,633,1,20,0)
and will receive a copy of the determination.  The patient has received a
"DATA",346,633,1,21,0)
separate notice of this denial decision. The notice advises that he/she may be
"DATA",346,633,1,22,0)
entitled to a refund of any amounts paid, if you should have known that we
"DATA",346,633,1,23,0)
would not pay and did not tell him/her. It also instructs the patient to
"DATA",346,633,1,24,0)
contact our office if he/she does not hear anything about a refund within 30
"DATA",346,633,1,25,0)
days 
"DATA",346,633,2)
Notes: (Modified 11/18/05, Modified 4/1/07)
"DATA",346,634,0)
N356^3050801^^3110308^3151012.170354
"DATA",346,634,1,0)
^^1^1^3150519
"DATA",346,634,1,1,0)
Not covered when performed with, or subsequent to, a non-covered service.  
"DATA",346,634,2)
Notes: (Modified 3/8/11)
"DATA",346,635,0)
N357^3051118^^^3151012.170354
"DATA",346,635,1,0)
^^2^2^3150519
"DATA",346,635,1,1,0)
Time frame requirements between this service/procedure/supply and a related
"DATA",346,635,1,2,0)
service/procedure/supply have not been met.  
"DATA",346,636,0)
N358^3051118^^3070401^3151012.170354
"DATA",346,636,1,0)
^^2^2^3150519
"DATA",346,636,1,1,0)
Alert: This decision may be reviewed if additional documentation as described
"DATA",346,636,1,2,0)
in the contract or plan benefit documents is submitted.  
"DATA",346,636,2)
Notes: (Modified 4/1/07)
"DATA",346,637,0)
N359^3051118^^^3151012.170354
"DATA",346,637,1,0)
^^1^1^3150519
"DATA",346,637,1,1,0)
Missing/incomplete/invalid height.  
"DATA",346,638,0)
N360^3051118^^3070401^3151012.170354
"DATA",346,638,1,0)
^^3^3^3150519
"DATA",346,638,1,1,0)
Alert: Coordination of benefits has not been calculated when estimating
"DATA",346,638,1,2,0)
benefits for this pre-determination. Submit payment information from the
"DATA",346,638,1,3,0)
primary payer with the secondary claim.  
"DATA",346,638,2)
Notes: (Modified 4/1/07)
"DATA",346,639,0)
N361^3051118^3071001^3061201^3151012.170354
"DATA",346,639,1,0)
^^1^1^3150519
"DATA",346,639,1,1,0)
Payment adjusted based on multiple diagnostic imaging procedure rules 
"DATA",346,639,2)
Notes: (Modified 12/1/06) Consider using Reason Code 59
"DATA",346,640,0)
N362^3051118^^^3151012.170354
"DATA",346,640,1,0)
^^1^1^3150519
"DATA",346,640,1,1,0)
The number of Days or Units of Service exceeds our acceptable maximum.  
"DATA",346,641,0)
N363^3051118^^3070401^3151012.170354
"DATA",346,641,1,0)
^^2^2^3150519
"DATA",346,641,1,1,0)
Alert: in the near future we are implementing new policies/procedures that
"DATA",346,641,1,2,0)
would affect this determination.  
"DATA",346,641,2)
Notes: (Modified 4/1/07)
"DATA",346,642,0)
N364^3051118^^3070401^3151012.170354
"DATA",346,642,1,0)
^^2^2^3150519
"DATA",346,642,1,1,0)
Alert: According to our agreement, you must waive the deductible and/or
"DATA",346,642,1,2,0)
coinsurance amounts.  
"DATA",346,642,2)
Notes: (Modified 4/1/07)
"DATA",346,643,0)
N365^3060401^3140701^^3151012.170354
"DATA",346,643,1,0)
^^2^2^3150519
"DATA",346,643,1,1,0)
This procedure code is not payable. It is for reporting/information purposes
"DATA",346,643,1,2,0)
only.  
"DATA",346,643,2)
Notes: Consider Using CARC 246 or N620
"DATA",346,644,0)
N366^3060401^^^3151012.170354
"DATA",346,644,1,0)
^^3^3^3150519
"DATA",346,644,1,1,0)
Requested information not provided. The claim will be reopened if the
"DATA",346,644,1,2,0)
information previously requested is submitted within one year after the date of
"DATA",346,644,1,3,0)
this denial notice.  
"DATA",346,645,0)
N367^3060401^^3080701^3151012.170354
"DATA",346,645,1,0)
^^3^3^3150519
"DATA",346,645,1,1,0)
Alert: The claim information has been forwarded to a Consumer Spending Account
"DATA",346,645,1,2,0)
processor for review; for example, flexible spending account or health savings
"DATA",346,645,1,3,0)
account.  
"DATA",346,645,2)
Notes: (Modified 4/1/07, 11/5/07, 7/1/08)
"DATA",346,646,0)
N368^3060401^^^3151012.170354
"DATA",346,646,1,0)
^^1^1^3150519
"DATA",346,646,1,1,0)
You must appeal the determination of the previously adjudicated claim.  
"DATA",346,647,0)
N369^3060401^^^3151012.170354
"DATA",346,647,1,0)
^^2^2^3150519
"DATA",346,647,1,1,0)
Alert: Although this claim has been processed, it is deficient according to
"DATA",346,647,1,2,0)
state legislation/regulation.  
"DATA",346,648,0)
N370^3060801^^^3151012.170354
"DATA",346,648,1,0)
^^1^1^3150519
"DATA",346,648,1,1,0)
Billing exceeds the rental months covered/approved by the payer.  
"DATA",346,649,0)
N371^3060801^^^3151012.170354
"DATA",346,649,1,0)
^^1^1^3150519
"DATA",346,649,1,1,0)
Alert: title of this equipment must be transferred to the patient.  
"DATA",346,650,0)
N372^3060801^^^3151012.170354
"DATA",346,650,1,0)
^^1^1^3150519
"DATA",346,650,1,1,0)
Only reasonable and necessary maintenance/service charges are covered.  
"DATA",346,651,0)
N373^3061201^^^3151012.170354
"DATA",346,651,1,0)
^^3^3^3150519
"DATA",346,651,1,1,0)
It has been determined that another payer paid the services as primary when
"DATA",346,651,1,2,0)
they were not the primary payer. Therefore, we are refunding to the payer that
"DATA",346,651,1,3,0)
paid as primary on your behalf.  
"DATA",346,652,0)
N374^3061201^^^3151012.170354
"DATA",346,652,1,0)
^^2^2^3150519
"DATA",346,652,1,1,0)
Primary Medicare Part A insurance has been exhausted and a Part B Remittance
"DATA",346,652,1,2,0)
Advice is required.  
"DATA",346,653,0)
N375^3061201^^^3151012.170354
"DATA",346,653,1,0)
^^2^2^3150519
"DATA",346,653,1,1,0)
Missing/incomplete/invalid questionnaire/information required to determine
"DATA",346,653,1,2,0)
dependent eligibility.  
"DATA",346,654,0)
N376^3061201^^^3151012.170354
"DATA",346,654,1,0)
^^2^2^3150519
"DATA",346,654,1,1,0)
Subscriber/patient is assigned to active military duty, therefore primary
"DATA",346,654,1,2,0)
coverage may be TRICARE.  
"DATA",346,655,0)
N377^3061201^^3071105^3151012.170354
"DATA",346,655,1,0)
^^1^1^3150519
"DATA",346,655,1,1,0)
Payment based on a processed replacement claim.  
"DATA",346,655,2)
Notes: (Modified 11/5/07)
"DATA",346,656,0)
N378^3061201^^^3151012.170354
"DATA",346,656,1,0)
^^1^1^3150519
"DATA",346,656,1,1,0)
Missing/incomplete/invalid prescription quantity.  
"DATA",346,657,0)
N379^3061201^^^3151012.170354
"DATA",346,657,1,0)
^^1^1^3150519
"DATA",346,657,1,1,0)
Claim level information does not match line level information.  
"DATA",346,658,0)
N380^3070401^^^3151012.170354
"DATA",346,658,1,0)
^^1^1^3150519
"DATA",346,658,1,1,0)
The original claim  has been processed, submit a corrected claim.  
"DATA",346,659,0)
N381^3070401^^^3151012.170354
"DATA",346,659,1,0)
^^2^2^3150519
"DATA",346,659,1,1,0)
Consult our contractual agreement for restrictions/billing/payment information
"DATA",346,659,1,2,0)
related to these charges.  
"DATA",346,660,0)
N382^3070401^^^3151012.170354
"DATA",346,660,1,0)
^^1^1^3150519
"DATA",346,660,1,1,0)
Missing/incomplete/invalid patient identifier.  
"DATA",346,661,0)
N383^3070401^^3110308^3151012.170355
"DATA",346,661,1,0)
^^1^1^3150519
"DATA",346,661,1,1,0)
Not covered when deemed cosmetic.  
"DATA",346,661,2)
Notes: (Modified 3/8/11)
"DATA",346,662,0)
N384^3070401^^^3151012.170355
"DATA",346,662,1,0)
^^2^2^3150519
"DATA",346,662,1,1,0)
Records indicate that the referenced body part/tooth has been removed in a
"DATA",346,662,1,2,0)
previous procedure.  
"DATA",346,663,0)
N385^3070401^^3071105^3151012.170355
"DATA",346,663,1,0)
^^2^2^3150519
"DATA",346,663,1,1,0)
Notification of admission was not timely according to published plan
"DATA",346,663,1,2,0)
procedures.  
"DATA",346,663,2)
Notes: (Modified 11/5/07)
"DATA",346,664,0)
N386^3070401^^3100701^3151012.170355
"DATA",346,664,1,0)
^^5^5^3150519
"DATA",346,664,1,1,0)
This decision was based on a National Coverage Determination (NCD). An NCD
"DATA",346,664,1,2,0)
provides a coverage determination as to whether a particular item or service is
"DATA",346,664,1,3,0)
covered. A copy of this policy is availableat www.cms.gov/mcd/search.asp. If
"DATA",346,664,1,4,0)
you do not have web access, you may contact the contractor to request a copy of
"DATA",346,664,1,5,0)
the NCD.  
"DATA",346,664,2)
Notes: (Modified 7/1/2010)
"DATA",346,665,0)
N387^3070401^^3090301^3151012.170355
"DATA",346,665,1,0)
^^2^2^3150519
"DATA",346,665,1,1,0)
Alert: Submit this claim to the patient"s other insurer for potential payment
"DATA",346,665,1,2,0)
of supplemental benefits. We did not forward the claim information.  
"DATA",346,665,2)
Notes: (Modified 3/1/2009)
"DATA",346,666,0)
N388^3070801^^3140314^3151012.170355
"DATA",346,666,1,0)
^^1^1^3150519
"DATA",346,666,1,1,0)
Missing/incomplete/invalid prescription number.  
"DATA",346,666,2)
Notes: (Modified 3/14/2014)
"DATA",346,667,0)
N389^3070801^^^3151012.170355
"DATA",346,667,1,0)
^^1^1^3150519
"DATA",346,667,1,1,0)
Duplicate prescription number submitted.  
"DATA",346,668,0)
N390^3070801^^3080701^3151012.170355
"DATA",346,668,1,0)
^^1^1^3150519
"DATA",346,668,1,1,0)
This service/report cannot be billed separately.  
"DATA",346,668,2)
Notes: (Modified 7/1/08)
"DATA",346,669,0)
N391^3070801^^^3151012.170355
"DATA",346,669,1,0)
^^1^1^3150519
"DATA",346,669,1,1,0)
Missing emergency department records.  
"DATA",346,670,0)
N392^3070801^^^3151012.170355
"DATA",346,670,1,0)
^^1^1^3150519
"DATA",346,670,1,1,0)
Incomplete/invalid emergency department records.  
"DATA",346,671,0)
N393^3070801^^3080701^3151012.170355
"DATA",346,671,1,0)
^^1^1^3150519
"DATA",346,671,1,1,0)
Missing progress notes/report.  
"DATA",346,671,2)
Notes: (Modified 7/1/08)
"DATA",346,672,0)
N394^3070801^^3080701^3151012.170355
"DATA",346,672,1,0)
^^1^1^3150519
"DATA",346,672,1,1,0)
Incomplete/invalid progress notes/report.  
"DATA",346,672,2)
Notes: (Modified 7/1/08)
"DATA",346,673,0)
N395^3070801^^^3151012.170355
"DATA",346,673,1,0)
^^1^1^3150519
"DATA",346,673,1,1,0)
Missing laboratory report.  
"DATA",346,674,0)
N396^3070801^^^3151012.170355
"DATA",346,674,1,0)
^^1^1^3150519
"DATA",346,674,1,1,0)
Incomplete/invalid laboratory report.  
"DATA",346,675,0)
N397^3070801^^^3151012.170355
"DATA",346,675,1,0)
^^1^1^3150519
"DATA",346,675,1,1,0)
Benefits are not available for incomplete service(s)/undelivered item(s).  
"DATA",346,676,0)
N398^3070801^^^3151012.170355
"DATA",346,676,1,0)
^^1^1^3150519
"DATA",346,676,1,1,0)
Missing elective consent form.  
"DATA",346,677,0)
N399^3070801^^^3151012.170355
"DATA",346,677,1,0)
^^1^1^3150519
"DATA",346,677,1,1,0)
Incomplete/invalid elective consent form.  
"DATA",346,678,0)
N400^3070801^^^3151012.170355
"DATA",346,678,1,0)
^^1^1^3150519
"DATA",346,678,1,1,0)
Alert: Electronically enabled providers should submit claims electronically.  
"DATA",346,679,0)
N401^3070801^^^3151012.170355
"DATA",346,679,1,0)
^^1^1^3150519
"DATA",346,679,1,1,0)
Missing periodontal charting.  
"DATA",346,680,0)
N402^3070801^^^3151012.170355
"DATA",346,680,1,0)
^^1^1^3150519
"DATA",346,680,1,1,0)
Incomplete/invalid periodontal charting.  
"DATA",346,681,0)
N403^3070801^^^3151012.170355
"DATA",346,681,1,0)
^^1^1^3150519
"DATA",346,681,1,1,0)
Missing facility certification.  
"DATA",346,682,0)
N404^3070801^^^3151012.170355
"DATA",346,682,1,0)
^^1^1^3150519
"DATA",346,682,1,1,0)
Incomplete/invalid facility certification.  
"DATA",346,683,0)
N405^3070801^^^3151012.170355
"DATA",346,683,1,0)
^^2^2^3150519
"DATA",346,683,1,1,0)
This service is only covered when the donor"s insurer(s) do not provide
"DATA",346,683,1,2,0)
coverage for the service.  
"DATA",346,684,0)
N406^3070801^^^3151012.170355
"DATA",346,684,1,0)
^^2^2^3150519
"DATA",346,684,1,1,0)
This service is only covered when the recipient"s insurer(s) do not provide
"DATA",346,684,1,2,0)
coverage for the service.  
"DATA",346,685,0)
N407^3070801^^^3151012.170355
"DATA",346,685,1,0)
^^1^1^3150519
"DATA",346,685,1,1,0)
You are not an approved submitter for this transmission format.  
"DATA",346,686,0)
N408^3070801^^^3151012.170355
"DATA",346,686,1,0)
^^1^1^3150519
"DATA",346,686,1,1,0)
This payer does not cover deductibles assessed by a previous payer.  
"DATA",346,687,0)
N409^3070801^^^3151012.170355
"DATA",346,687,1,0)
^^2^2^3150519
"DATA",346,687,1,1,0)
This service is related to an accidental injury and is not covered unless
"DATA",346,687,1,2,0)
provided within a specific time frame from the date of the accident.  
"DATA",346,688,0)
N410^3070801^^3110308^3151012.170355
"DATA",346,688,1,0)
^^1^1^3150519
"DATA",346,688,1,1,0)
Not covered unless the prescription changes.  
"DATA",346,688,2)
Notes: (Modified 3/8/11)
"DATA",346,689,0)
N411^3070801^3090201^^3151012.170355
"DATA",346,689,1,0)
^^2^2^3150519
"DATA",346,689,1,1,0)
This service is allowed one time in a 6-month period. (This temporary code will
"DATA",346,689,1,2,0)
be deactivated on 2/1/09.  Must be used with Reason Code 119.) 
"DATA",346,690,0)
N412^3070801^3090201^^3151012.170355
"DATA",346,690,1,0)
^^2^2^3150519
"DATA",346,690,1,1,0)
This service is allowed 2 times in a 12-month period. (This temporary code will
"DATA",346,690,1,2,0)
be deactivated on 2/1/09.  Must be used with Reason Code 119.) 
"DATA",346,691,0)
N413^3070801^3090201^^3151012.170355
"DATA",346,691,1,0)
^^2^2^3150519
"DATA",346,691,1,1,0)
This service is allowed 2 times in a benefit year. (This temporary code will be
"DATA",346,691,1,2,0)
deactivated on 2/1/09.  Must be used with Reason Code 119.) 
"DATA",346,692,0)
N414^3070801^3090201^^3151012.170355
"DATA",346,692,1,0)
^^2^2^3150519
"DATA",346,692,1,1,0)
This service is allowed 4 times in a 12-month period. (This temporary code will
"DATA",346,692,1,2,0)
be deactivated on 2/1/09.  Must be used with Reason Code 119.) 
"DATA",346,693,0)
N415^3070801^3090201^^3151012.170355
"DATA",346,693,1,0)
^^2^2^3150519
"DATA",346,693,1,1,0)
This service is allowed 1 time in an 18-month period. (This temporary code will
"DATA",346,693,1,2,0)
be deactivated on 2/1/09.  Must be used with Reason Code 119.) 
"DATA",346,694,0)
N416^3070801^3090201^^3151012.170355
"DATA",346,694,1,0)
^^2^2^3150519
"DATA",346,694,1,1,0)
This service is allowed 1 time in a 3-year period. (This temporary code will be
"DATA",346,694,1,2,0)
deactivated on 2/1/09.  Must be used with Reason Code 119.) 
"DATA",346,695,0)
N417^3070801^3090201^^3151012.170355
"DATA",346,695,1,0)
^^2^2^3150519
"DATA",346,695,1,1,0)
This service is allowed 1 time in a 5-year period. (This temporary code will be
"DATA",346,695,1,2,0)
deactivated on 2/1/09.  Must be used with Reason Code 119.) 
"DATA",346,696,0)
N418^3070801^^^3151012.170355
"DATA",346,696,1,0)
^^1^1^3150519
"DATA",346,696,1,1,0)
Misrouted claim.  See the payer"s claim submission instructions.  
"DATA",346,697,0)
N419^3070801^^^3151012.170355
"DATA",346,697,1,0)
^^2^2^3150519
"DATA",346,697,1,1,0)
Claim payment was the result of a payer"s retroactive adjustment due to a
"DATA",346,697,1,2,0)
retroactive rate change.  
"DATA",346,698,0)
N420^3070801^^^3151012.170355
"DATA",346,698,1,0)
^^2^2^3150519
"DATA",346,698,1,1,0)
Claim payment was the result of a payer"s retroactive adjustment due to a
"DATA",346,698,1,2,0)
Coordination of Benefits or Third Party Liability Recovery.  
"DATA",346,699,0)
N421^3070801^^3080508^3151012.170355
"DATA",346,699,1,0)
^^2^2^3150519
"DATA",346,699,1,1,0)
Claim payment was the result of a payer"s retroactive adjustment due to a
"DATA",346,699,1,2,0)
review organization decision.  
"DATA",346,699,2)
Notes: (Modified 2/29/08, typo fixed 5/8/08)
"DATA",346,700,0)
N422^3070801^^3080508^3151012.170355
"DATA",346,700,1,0)
^^2^2^3150519
"DATA",346,700,1,1,0)
Claim payment was the result of a payer"s retroactive adjustment due to a
"DATA",346,700,1,2,0)
payer"s contract incentive program.  
"DATA",346,700,2)
Notes: (Typo fixed 5/8/08)
"DATA",346,701,0)
N423^3070801^^^3151012.170355
"DATA",346,701,1,0)
^^2^2^3150519
"DATA",346,701,1,1,0)
Claim payment was the result of a payer"s retroactive adjustment due to a non
"DATA",346,701,1,2,0)
standard program.  
"DATA",346,702,0)
N424^3070801^^^3151012.170355
"DATA",346,702,1,0)
^^2^2^3150519
"DATA",346,702,1,1,0)
Patient does not reside in the geographic area required for this type of
"DATA",346,702,1,2,0)
payment.  
"DATA",346,703,0)
N425^3070801^^^3151012.170355
"DATA",346,703,1,0)
^^1^1^3150519
"DATA",346,703,1,1,0)
Statutorily excluded service(s).  
"DATA",346,704,0)
N426^3070801^^^3151012.170355
"DATA",346,704,1,0)
^^1^1^3150519
"DATA",346,704,1,1,0)
No coverage when self-administered.  
"DATA",346,705,0)
N427^3070801^^^3151012.170355
"DATA",346,705,1,0)
^^2^2^3150519
"DATA",346,705,1,1,0)
Payment for eyeglasses or contact lenses can be made only after cataract
"DATA",346,705,1,2,0)
surgery.  
"DATA",346,706,0)
N428^3070801^^3110308^3151012.170355
"DATA",346,706,1,0)
^^1^1^3150519
"DATA",346,706,1,1,0)
Not covered when performed in this place of service.  
"DATA",346,706,2)
Notes: (Modified 3/8/11)
"DATA",346,707,0)
N429^3070801^^3110308^3151012.170355
"DATA",346,707,1,0)
^^1^1^3150519
"DATA",346,707,1,1,0)
Not covered when considered routine.  
"DATA",346,707,2)
Notes: (Modified 3/8/11)
"DATA",346,708,0)
N430^3071105^^^3151012.170355
"DATA",346,708,1,0)
^^1^1^3150519
"DATA",346,708,1,1,0)
Procedure code is inconsistent with the units billed.  
"DATA",346,709,0)
N431^3071105^^3110308^3151012.170355
"DATA",346,709,1,0)
^^1^1^3150519
"DATA",346,709,1,1,0)
Not covered with this procedure.  
"DATA",346,709,2)
Notes: (Modified 3/8/11)
"DATA",346,710,0)
N432^3071105^^^3151012.170355
"DATA",346,710,1,0)
^^1^1^3150519
"DATA",346,710,1,1,0)
Adjustment based on a Recovery Audit.  
"DATA",346,711,0)
N433^3080229^^3140314^3151012.170355
"DATA",346,711,1,0)
^^1^1^3150519
"DATA",346,711,1,1,0)
Resubmit this claim using only your National Provider Identifier (NPI).  
"DATA",346,711,2)
Notes: (Modified 3/14/2014)
"DATA",346,712,0)
N434^3080701^^^3151012.170355
"DATA",346,712,1,0)
^^1^1^3150519
"DATA",346,712,1,1,0)
Missing/Incomplete/Invalid Present on Admission indicator.  
"DATA",346,713,0)
N435^3080701^^^3151012.170355
"DATA",346,713,1,0)
^^2^2^3150519
"DATA",346,713,1,1,0)
Exceeds number/frequency approved /allowed within time period without support
"DATA",346,713,1,2,0)
documentation.  
"DATA",346,714,0)
N436^3080701^^^3151012.170355
"DATA",346,714,1,0)
^^2^2^3150519
"DATA",346,714,1,1,0)
The injury claim has not been accepted and a mandatory medical reimbursement
"DATA",346,714,1,2,0)
has been made.  
"DATA",346,715,0)
N437^3080701^^^3151012.170355
"DATA",346,715,1,0)
^^1^1^3150519
"DATA",346,715,1,1,0)
Alert: If the injury claim is accepted, these charges will be reconsidered.  
"DATA",346,716,0)
N438^3080701^^3140314^3151012.170355
"DATA",346,716,1,0)
^^1^1^3150519
"DATA",346,716,1,1,0)
This jurisdiction only accepts paper claims.  
"DATA",346,716,2)
Notes: (Modified 3/14/2014)
"DATA",346,717,0)
N439^3080701^^^3151012.170355
"DATA",346,717,1,0)
^^1^1^3150519
"DATA",346,717,1,1,0)
Missing anesthesia physical status report/indicators.  
"DATA",346,718,0)
N440^3080701^^^3151012.170355
"DATA",346,718,1,0)
^^1^1^3150519
"DATA",346,718,1,1,0)
Incomplete/invalid anesthesia physical status report/indicators.  
"DATA",346,719,0)
N441^3080701^^3130715^3151012.170355
"DATA",346,719,1,0)
^^1^1^3150519
"DATA",346,719,1,1,0)
This missed/cancelled appointment is not covered.  
"DATA",346,719,2)
Notes: (Modified 7/15/2013)
"DATA",346,720,0)
N442^3080701^^^3151012.170355
"DATA",346,720,1,0)
^^1^1^3150519
"DATA",346,720,1,1,0)
Payment based on an alternate fee schedule.  
"DATA",346,721,0)
N443^3080701^^^3151012.170355
"DATA",346,721,1,0)
^^1^1^3150519
"DATA",346,721,1,1,0)
Missing/incomplete/invalid total time or begin/end time.  
"DATA",346,722,0)
N444^3080701^^^3151012.170355
"DATA",346,722,1,0)
^^2^2^3150519
"DATA",346,722,1,1,0)
Alert: This facility has not filed the Election for High Cost Outlier form with
"DATA",346,722,1,2,0)
the Division of Workers" Compensation.  
"DATA",346,723,0)
N445^3080701^^^3151012.170355
"DATA",346,723,1,0)
^^1^1^3150519
"DATA",346,723,1,1,0)
Missing document for actual cost or paid amount.  
"DATA",346,724,0)
N446^3080701^^^3151012.170355
"DATA",346,724,1,0)
^^1^1^3150519
"DATA",346,724,1,1,0)
Incomplete/invalid document for actual cost or paid amount.  
"DATA",346,725,0)
N447^3080701^^^3151012.170355
"DATA",346,725,1,0)
^^2^2^3150519
"DATA",346,725,1,1,0)
Payment is based on a generic equivalent as required documentation was not
"DATA",346,725,1,2,0)
provided.  
"DATA",346,726,0)
N448^3080701^^3140314^3151012.170355
"DATA",346,726,1,0)
^^2^2^3150519
"DATA",346,726,1,1,0)
This drug/service/supply is not included in the fee schedule or
"DATA",346,726,1,2,0)
contracted/legislated fee arrangement.  
"DATA",346,726,2)
Notes: (Modified 3/14/2014)
"DATA",346,727,0)
N449^3080701^^^3151012.170355
"DATA",346,727,1,0)
^^1^1^3150519
"DATA",346,727,1,1,0)
Payment based on a comparable drug/service/supply.  
"DATA",346,728,0)
N450^3080701^^^3151012.170355
"DATA",346,728,1,0)
^^1^1^3150519
"DATA",346,728,1,1,0)
Covered only when performed by the primary treating physician or the designee.  
"DATA",346,729,0)
N451^3080701^^^3151012.170355
"DATA",346,729,1,0)
^^1^1^3150519
"DATA",346,729,1,1,0)
Missing Admission Summary Report.  
"DATA",346,730,0)
N452^3080701^^^3151012.170355
"DATA",346,730,1,0)
^^1^1^3150519
"DATA",346,730,1,1,0)
Incomplete/invalid Admission Summary Report.  
"DATA",346,731,0)
N453^3080701^^^3151012.170355
"DATA",346,731,1,0)
^^1^1^3150519
"DATA",346,731,1,1,0)
Missing Consultation Report.  
"DATA",346,732,0)
N454^3080701^^^3151012.170355
"DATA",346,732,1,0)
^^1^1^3150519
"DATA",346,732,1,1,0)
Incomplete/invalid Consultation Report.  
"DATA",346,733,0)
N455^3080701^^^3151012.170355
"DATA",346,733,1,0)
^^1^1^3150519
"DATA",346,733,1,1,0)
Missing Physician Order.  
"DATA",346,734,0)
N456^3080701^^^3151012.170355
"DATA",346,734,1,0)
^^1^1^3150519
"DATA",346,734,1,1,0)
Incomplete/invalid Physician Order.  
"DATA",346,735,0)
N457^3080701^^^3151012.170355
"DATA",346,735,1,0)
^^1^1^3150519
"DATA",346,735,1,1,0)
Missing Diagnostic Report.  
"DATA",346,736,0)
N458^3080701^^^3151012.170355
"DATA",346,736,1,0)
^^1^1^3150519
"DATA",346,736,1,1,0)
Incomplete/invalid Diagnostic Report.  
"DATA",346,737,0)
N459^3080701^^^3151012.170356
"DATA",346,737,1,0)
^^1^1^3150519
"DATA",346,737,1,1,0)
Missing Discharge Summary.  
"DATA",346,738,0)
N460^3080701^^^3151012.170356
"DATA",346,738,1,0)
^^1^1^3150519
"DATA",346,738,1,1,0)
Incomplete/invalid Discharge Summary.  
"DATA",346,739,0)
N461^3080701^^^3151012.170356
"DATA",346,739,1,0)
^^1^1^3150519
"DATA",346,739,1,1,0)
Missing Nursing Notes.  
"DATA",346,740,0)
N462^3080701^^^3151012.170356
"DATA",346,740,1,0)
^^1^1^3150519
"DATA",346,740,1,1,0)
Incomplete/invalid Nursing Notes.  
"DATA",346,741,0)
N463^3080701^^^3151012.170356
"DATA",346,741,1,0)
^^1^1^3150519
"DATA",346,741,1,1,0)
Missing support data for claim.  
"DATA",346,742,0)
N464^3080701^^^3151012.170356
"DATA",346,742,1,0)
^^1^1^3150519
"DATA",346,742,1,1,0)
Incomplete/invalid support data for claim.  
"DATA",346,743,0)
N465^3080701^^^3151012.170356
"DATA",346,743,1,0)
^^1^1^3150519
"DATA",346,743,1,1,0)
Missing Physical Therapy Notes/Report.  
"DATA",346,744,0)
N466^3080701^^^3151012.170356
"DATA",346,744,1,0)
^^1^1^3150519
"DATA",346,744,1,1,0)
Incomplete/invalid Physical Therapy Notes/Report.  
"DATA",346,745,0)
N467^3080701^^3140314^3151012.170356
"DATA",346,745,1,0)
^^1^1^3150519
"DATA",346,745,1,1,0)
Missing Tests and Analysis Report.  
"DATA",346,745,2)
Notes: (Modified 3/14/2014)
"DATA",346,746,0)
N468^3080701^^^3151012.170356
"DATA",346,746,1,0)
^^1^1^3150519
"DATA",346,746,1,1,0)
Incomplete/invalid Report of Tests and Analysis Report.  
"DATA",346,747,0)
N469^3080701^^^3151012.170356
"DATA",346,747,1,0)
^^2^2^3150519
"DATA",346,747,1,1,0)
Alert: Claim/Service(s) subject to appeal process, see section 935 of Medicare
"DATA",346,747,1,2,0)
Prescription Drug, Improvement, and Modernization Act of 2003 (MMA).  
"DATA",346,748,0)
N470^3080701^^^3151012.170356
"DATA",346,748,1,0)
^^1^1^3150519
"DATA",346,748,1,1,0)
This payment will complete the mandatory medical reimbursement limit.  
"DATA",346,749,0)
N471^3080701^^^3151012.170356
"DATA",346,749,1,0)
^^1^1^3150519
"DATA",346,749,1,1,0)
Missing/incomplete/invalid HIPPS Rate Code.  
"DATA",346,750,0)
N472^3080701^^^3151012.170356
"DATA",346,750,1,0)
^^1^1^3150519
"DATA",346,750,1,1,0)
Payment for this service has been issued to another provider.  
"DATA",346,751,0)
N473^3080701^^^3151012.170356
"DATA",346,751,1,0)
^^1^1^3150519
"DATA",346,751,1,1,0)
Missing certification.  
"DATA",346,752,0)
N474^3080701^^3140314^3151012.170356
"DATA",346,752,1,0)
^^1^1^3150519
"DATA",346,752,1,1,0)
Incomplete/invalid certification.  
"DATA",346,752,2)
Notes: (Modified 3/14/2014)
"DATA",346,753,0)
N475^3080701^^^3151012.170356
"DATA",346,753,1,0)
^^1^1^3150519
"DATA",346,753,1,1,0)
Missing completed referral form.  
"DATA",346,754,0)
N476^3080701^^3140314^3151012.170356
"DATA",346,754,1,0)
^^1^1^3150519
"DATA",346,754,1,1,0)
Incomplete/invalid completed referral form.  
"DATA",346,754,2)
Notes: (Modified 3/14/2014)
"DATA",346,755,0)
N477^3080701^^^3151012.170356
"DATA",346,755,1,0)
^^1^1^3150519
"DATA",346,755,1,1,0)
Missing Dental Models.  
"DATA",346,756,0)
N478^3080701^^3140314^3151012.170356
"DATA",346,756,1,0)
^^1^1^3150519
"DATA",346,756,1,1,0)
Incomplete/invalid Dental Models.  
"DATA",346,756,2)
Notes: (Modified 3/14/2014)
"DATA",346,757,0)
N479^3080701^^^3151012.170356
"DATA",346,757,1,0)
^^2^2^3150519
"DATA",346,757,1,1,0)
Missing Explanation of Benefits (Coordination of Benefits or Medicare Secondary
"DATA",346,757,1,2,0)
Payer).  
"DATA",346,758,0)
N480^3080701^^^3151012.170356
"DATA",346,758,1,0)
^^2^2^3150519
"DATA",346,758,1,1,0)
Incomplete/invalid Explanation of Benefits (Coordination of Benefits or
"DATA",346,758,1,2,0)
Medicare Secondary Payer).  
"DATA",346,759,0)
N481^3080701^^^3151012.170356
"DATA",346,759,1,0)
^^1^1^3150519
"DATA",346,759,1,1,0)
Missing Models.  
"DATA",346,760,0)
N482^3080701^^3140314^3151012.170356
"DATA",346,760,1,0)
^^1^1^3150519
"DATA",346,760,1,1,0)
Incomplete/invalid Models.  
"DATA",346,760,2)
Notes: (Modified 3/14/2014)
"DATA",346,761,0)
N483^3080701^3150501^3141101^3151012.170356
"DATA",346,761,1,0)
^^1^1^3150519
"DATA",346,761,1,1,0)
Missing Periodontal Charts.  
"DATA",346,761,2)
Notes: (Modified 11/1/2014)
"DATA",346,762,0)
N484^3080701^3150501^3141101^3151012.170356
"DATA",346,762,1,0)
^^1^1^3150519
"DATA",346,762,1,1,0)
Incomplete/invalid Periodontal Charts.  
"DATA",346,762,2)
Notes: (Modified 3/14/2014, 11/1/2014)
"DATA",346,763,0)
N485^3080701^^^3151012.170356
"DATA",346,763,1,0)
^^1^1^3150519
"DATA",346,763,1,1,0)
Missing Physical Therapy Certification.  
"DATA",346,764,0)
N486^3080701^^^3151012.170356
"DATA",346,764,1,0)
^^1^1^3150519
"DATA",346,764,1,1,0)
Incomplete/invalid Physical Therapy Certification.  
"DATA",346,765,0)
N487^3080701^^^3151012.170356
"DATA",346,765,1,0)
^^1^1^3150519
"DATA",346,765,1,1,0)
Missing Prosthetics or Orthotics Certification.  
"DATA",346,766,0)
N488^3080701^^3140314^3151012.170356
"DATA",346,766,1,0)
^^1^1^3150519
"DATA",346,766,1,1,0)
Incomplete/invalid Prosthetics or Orthotics Certification.  
"DATA",346,766,2)
Notes: (Modified 3/14/2014)
"DATA",346,767,0)
N489^3080701^^^3151012.170356
"DATA",346,767,1,0)
^^1^1^3150519
"DATA",346,767,1,1,0)
Missing referral form.  
"DATA",346,768,0)
N490^3080701^^3140314^3151012.170356
"DATA",346,768,1,0)
^^1^1^3150519
"DATA",346,768,1,1,0)
Incomplete/invalid referral form.  
"DATA",346,768,2)
Notes: (Modified 3/14/2014)
"DATA",346,769,0)
N491^3080701^^^3151012.170356
"DATA",346,769,1,0)
^^1^1^3150519
"DATA",346,769,1,1,0)
Missing/Incomplete/Invalid Exclusionary Rider Condition.  
"DATA",346,770,0)
N492^3080701^^^3151012.170356
"DATA",346,770,1,0)
^^3^3^3150519
"DATA",346,770,1,1,0)
Alert: A network provider may bill the member for this service if the member
"DATA",346,770,1,2,0)
requested the service and agreed in writing, prior to receiving the service, to
"DATA",346,770,1,3,0)
be financially responsible for the billedcharge.  
"DATA",346,771,0)
N493^3080701^^^3151012.170356
"DATA",346,771,1,0)
^^1^1^3150519
"DATA",346,771,1,1,0)
Missing Doctor First Report of Injury.  
"DATA",346,772,0)
N494^3080701^^^3151012.170356
"DATA",346,772,1,0)
^^1^1^3150519
"DATA",346,772,1,1,0)
Incomplete/invalid Doctor First Report of Injury.  
"DATA",346,773,0)
N495^3080701^^^3151012.170356
"DATA",346,773,1,0)
^^1^1^3150519
"DATA",346,773,1,1,0)
Missing Supplemental Medical Report.  
"DATA",346,774,0)
N496^3080701^^^3151012.170356
"DATA",346,774,1,0)
^^1^1^3150519
"DATA",346,774,1,1,0)
Incomplete/invalid Supplemental Medical Report.  
"DATA",346,775,0)
N497^3080701^^^3151012.170356
"DATA",346,775,1,0)
^^1^1^3150519
"DATA",346,775,1,1,0)
Missing Medical Permanent Impairment or Disability Report.  
"DATA",346,776,0)
N498^3080701^^^3151012.170356
"DATA",346,776,1,0)
^^1^1^3150519
"DATA",346,776,1,1,0)
Incomplete/invalid Medical Permanent Impairment or Disability Report.  
"DATA",346,777,0)
N499^3080701^^^3151012.170356
"DATA",346,777,1,0)
^^1^1^3150519
"DATA",346,777,1,1,0)
Missing Medical Legal Report.  
"DATA",346,778,0)
N500^3080701^^^3151012.170356
"DATA",346,778,1,0)
^^1^1^3150519
"DATA",346,778,1,1,0)
Incomplete/invalid Medical Legal Report.  
"DATA",346,779,0)
N501^3080701^^^3151012.170356
"DATA",346,779,1,0)
^^1^1^3150519
"DATA",346,779,1,1,0)
Missing Vocational Report.  
"DATA",346,780,0)
N502^3080701^^^3151012.170356
"DATA",346,780,1,0)
^^1^1^3150519
"DATA",346,780,1,1,0)
Incomplete/invalid Vocational Report.  
"DATA",346,781,0)
N503^3080701^^^3151012.170356
"DATA",346,781,1,0)
^^1^1^3150519
"DATA",346,781,1,1,0)
Missing Work Status Report.  
"DATA",346,782,0)
N504^3080701^^^3151012.170356
"DATA",346,782,1,0)
^^1^1^3150519
"DATA",346,782,1,1,0)
Incomplete/invalid Work Status Report.  
"DATA",346,783,0)
N505^3081101^^^3151012.170356
"DATA",346,783,1,0)
^^3^3^3150519
"DATA",346,783,1,1,0)
Alert: This response includes only services that could be estimated in real
"DATA",346,783,1,2,0)
time. No estimate will be provided for the services that could not be estimated
"DATA",346,783,1,3,0)
in real time.  
"DATA",346,784,0)
N506^3081101^^^3151012.170356
"DATA",346,784,1,0)
^^4^4^3150519
"DATA",346,784,1,1,0)
Alert: This is an estimate of the member"s liability based on the information
"DATA",346,784,1,2,0)
available at the time the estimate was processed. Actual coverage and member
"DATA",346,784,1,3,0)
liability amounts will be determined when the claim is processed. This is not a
"DATA",346,784,1,4,0)
pre-authorization or a guarantee of payment.  
"DATA",346,785,0)
N507^3081101^^^3151012.170356
"DATA",346,785,1,0)
^^1^1^3150519
"DATA",346,785,1,1,0)
Plan distance requirements have not been met.  
"DATA",346,786,0)
N508^3081101^^^3151012.170356
"DATA",346,786,1,0)
^^4^4^3150519
"DATA",346,786,1,1,0)
Alert: This real time claim adjudication response represents the member
"DATA",346,786,1,2,0)
responsibility to the provider for services reported. The member will receive
"DATA",346,786,1,3,0)
an Explanation of Benefits electronically or in the mail.  Contact the insurer
"DATA",346,786,1,4,0)
if there are any questions.  
"DATA",346,787,0)
N509^3081101^^^3151012.170356
"DATA",346,787,1,0)
^^4^4^3150519
"DATA",346,787,1,1,0)
Alert: A current inquiry shows the member"s Consumer Spending Account contains
"DATA",346,787,1,2,0)
sufficient funds to cover the member liability for this claim/service.  Actual
"DATA",346,787,1,3,0)
payment from the Consumer Spending Account will depend on the availability of
"DATA",346,787,1,4,0)
funds and determination of eligible services at the time of payment processing.  
"DATA",346,788,0)
N510^3081101^^^3151012.170356
"DATA",346,788,1,0)
^^5^5^3150519
"DATA",346,788,1,1,0)
Alert: A current inquiry shows the member"s Consumer Spending Account does not
"DATA",346,788,1,2,0)
contain sufficient funds to cover the member"s liability for this
"DATA",346,788,1,3,0)
claim/service. Actual payment from the Consumer Spending Account will depend on
"DATA",346,788,1,4,0)
the availability of funds and determination of eligible services at the time of
"DATA",346,788,1,5,0)
payment processing.  
"DATA",346,789,0)
N511^3081101^^^3151012.170356
"DATA",346,789,1,0)
^^2^2^3150519
"DATA",346,789,1,1,0)
Alert: Information on the availability of Consumer Spending Account funds to
"DATA",346,789,1,2,0)
cover the member liability on this claim/service is not available at this time.  
"DATA",346,790,0)
N512^3081101^^^3151012.170356
"DATA",346,790,1,0)
^^2^2^3150519
"DATA",346,790,1,1,0)
Alert: This is the initial remit of a non-NCPDP claim originally submitted
"DATA",346,790,1,2,0)
real-time without change to the adjudication.  
"DATA",346,791,0)
N513^3081101^^^3151012.170356
"DATA",346,791,1,0)
^^2^2^3150519
"DATA",346,791,1,1,0)
Alert: This is the initial remit of a non-NCPDP claim originally submitted
"DATA",346,791,1,2,0)
real-time with a change to the adjudication.  
"DATA",346,792,0)
N514^3081101^3110101^^3151012.170356
"DATA",346,792,1,0)
^^2^2^3150519
"DATA",346,792,1,1,0)
Consult plan benefit documents/guidelines for information about restrictions
"DATA",346,792,1,2,0)
for this service.  
"DATA",346,792,2)
Notes: Consider using N130
"DATA",346,793,0)
N515^3081101^3091001^^3151012.170356
"DATA",346,793,1,0)
^^3^3^3150519
"DATA",346,793,1,1,0)
Alert: Submit this claim to the patient"s other insurer for potential payment
"DATA",346,793,1,2,0)
of supplemental benefits. We did not forward the claim information. (use N387
"DATA",346,793,1,3,0)
instead) 
"DATA",346,794,0)
N516^3090301^^^3151012.170356
"DATA",346,794,1,0)
^^1^1^3150519
"DATA",346,794,1,1,0)
Records indicate a mismatch between the submitted NPI and EIN.  
"DATA",346,795,0)
N517^3090301^^^3151012.170356
"DATA",346,795,1,0)
^^1^1^3150519
"DATA",346,795,1,1,0)
Resubmit a new claim with the requested information.  
"DATA",346,796,0)
N518^3090301^^^3151012.170356
"DATA",346,796,1,0)
^^2^2^3150519
"DATA",346,796,1,1,0)
No separate payment for accessories when furnished for use with oxygen
"DATA",346,796,1,2,0)
equipment.  
"DATA",346,797,0)
N519^3090701^^^3151012.170356
"DATA",346,797,1,0)
^^1^1^3150519
"DATA",346,797,1,1,0)
Invalid combination of HCPCS modifiers.  
"DATA",346,798,0)
N520^3090701^^^3151012.170356
"DATA",346,798,1,0)
^^1^1^3150519
"DATA",346,798,1,1,0)
Alert: Payment made from a Consumer Spending Account.  
"DATA",346,799,0)
N521^3091101^^^3151012.170356
"DATA",346,799,1,0)
^^2^2^3150519
"DATA",346,799,1,1,0)
Mismatch between the submitted provider information and the provider
"DATA",346,799,1,2,0)
information stored in our system.  
"DATA",346,800,0)
N522^3091101^^3100301^3151012.170356
"DATA",346,800,1,0)
^^1^1^3150519
"DATA",346,800,1,1,0)
Duplicate of a claim processed, or to be processed, as a crossover claim.  
"DATA",346,801,0)
N523^3100301^^^3151012.170356
"DATA",346,801,1,0)
^^3^3^3150519
"DATA",346,801,1,1,0)
The limitation on outlier payments defined by this payer for this service
"DATA",346,801,1,2,0)
period has been met. The outlier payment otherwise applicable to this claim has
"DATA",346,801,1,3,0)
not been paid.  
"DATA",346,802,0)
N524^3100301^^^3151012.170356
"DATA",346,802,1,0)
^^1^1^3150519
"DATA",346,802,1,1,0)
Based on policy this payment constitutes payment in full.  
"DATA",346,803,0)
N525^3100301^^^3151012.170356
"DATA",346,803,1,0)
^^2^2^3150519
"DATA",346,803,1,1,0)
These services are not covered when performed within the global period of
"DATA",346,803,1,2,0)
another service.  
"DATA",346,804,0)
N526^3100301^^^3151012.170356
"DATA",346,804,1,0)
^^1^1^3150519
"DATA",346,804,1,1,0)
Not qualified for recovery based on employer size.  
"DATA",346,805,0)
N527^3100301^^^3151012.170356
"DATA",346,805,1,0)
^^2^2^3150519
"DATA",346,805,1,1,0)
We processed this claim as the primary payer prior to receiving the recovery
"DATA",346,805,1,2,0)
demand.  
"DATA",346,806,0)
N528^3100301^^3100701^3151012.170356
"DATA",346,806,1,0)
^^1^1^3150519
"DATA",346,806,1,1,0)
Patient is entitled to benefits for Institutional Services only.  
"DATA",346,806,2)
Notes: (Modified 7/1/10)
"DATA",346,807,0)
N529^3100301^^3100701^3151012.170356
"DATA",346,807,1,0)
^^1^1^3150519
"DATA",346,807,1,1,0)
Patient is entitled to benefits for Professional Services only.  
"DATA",346,807,2)
Notes: (Modified 7/1/10)
"DATA",346,808,0)
N530^3100301^^3100701^3151012.170356
"DATA",346,808,1,0)
^^1^1^3150519
"DATA",346,808,1,1,0)
Not Qualified for Recovery based on enrollment information.  
"DATA",346,808,2)
Notes: (Modified 7/1/10)
"DATA",346,809,0)
N531^3100301^^^3151012.170356
"DATA",346,809,1,0)
^^1^1^3150519
"DATA",346,809,1,1,0)
Not qualified for recovery based on direct payment of premium.  
"DATA",346,810,0)
N532^3100301^^^3151012.170357
"DATA",346,810,1,0)
^^1^1^3150519
"DATA",346,810,1,1,0)
Not qualified for recovery based on disability and working status.  
"DATA",346,811,0)
N533^3100701^^^3151012.170357
"DATA",346,811,1,0)
^^2^2^3150519
"DATA",346,811,1,1,0)
Services performed in an Indian Health Services facility under a self-insured
"DATA",346,811,1,2,0)
tribal Group Health Plan.  
"DATA",346,812,0)
N534^3100701^^^3151012.170357
"DATA",346,812,1,0)
^^2^2^3150519
"DATA",346,812,1,1,0)
This is an individual policy, the employer does not participate in plan
"DATA",346,812,1,2,0)
sponsorship.  
"DATA",346,813,0)
N535^3100701^^^3151012.170357
"DATA",346,813,1,0)
^^2^2^3150519
"DATA",346,813,1,1,0)
Payment is adjusted when procedure is performed in this place of service based
"DATA",346,813,1,2,0)
on the submitted procedure code and place of service.  
"DATA",346,814,0)
N536^3100701^^^3151012.170357
"DATA",346,814,1,0)
^^2^2^3150519
"DATA",346,814,1,1,0)
We are not changing the prior payer"s determination of patient responsibility,
"DATA",346,814,1,2,0)
which you may collect, as this service is not covered by us.  
"DATA",346,815,0)
N537^3100701^^^3151012.170357
"DATA",346,815,1,0)
^^1^1^3150519
"DATA",346,815,1,1,0)
We have examined claims history and no records of the services have been found.  
"DATA",346,816,0)
N538^3100701^^^3151012.170357
"DATA",346,816,1,0)
^^2^2^3150519
"DATA",346,816,1,1,0)
A facility is responsible for payment to outside providers who furnish these
"DATA",346,816,1,2,0)
services/supplies/drugs to its patients/residents.  
"DATA",346,817,0)
N539^3100701^^^3151012.170357
"DATA",346,817,1,0)
^^2^2^3150519
"DATA",346,817,1,1,0)
Alert: We processed appeals/waiver requests on your behalf and that request has
"DATA",346,817,1,2,0)
been denied.  
"DATA",346,818,0)
N540^3101101^^^3151012.170357
"DATA",346,818,1,0)
^^1^1^3150519
"DATA",346,818,1,1,0)
Payment adjusted based on the interrupted stay policy.  
"DATA",346,819,0)
N541^3101101^^^3151012.170357
"DATA",346,819,1,0)
^^2^2^3150519
"DATA",346,819,1,1,0)
Mismatch between the submitted insurance type code and the information stored
"DATA",346,819,1,2,0)
in our system.  
"DATA",346,820,0)
N542^3110308^^^3151012.170357
"DATA",346,820,1,0)
^^1^1^3150519
"DATA",346,820,1,1,0)
Missing income verification.  
"DATA",346,821,0)
N543^3110308^^3140314^3151012.170357
"DATA",346,821,1,0)
^^1^1^3150519
"DATA",346,821,1,1,0)
Incomplete/invalid income verification.  
"DATA",346,821,2)
Notes: (Modified 3/14/2014)
"DATA",346,822,0)
N544^3110701^^3140314^3151012.170357
"DATA",346,822,1,0)
^^3^3^3150519
"DATA",346,822,1,1,0)
Alert: Although this was paid, you have billed with a referring/ordering
"DATA",346,822,1,2,0)
provider that does not match our system record. Unless corrected this will not
"DATA",346,822,1,3,0)
be paid in the future.  
"DATA",346,822,2)
Notes: (Modified 3/14/2014)
"DATA",346,823,0)
N545^3110701^^^3151012.170357
"DATA",346,823,1,0)
^^2^2^3150519
"DATA",346,823,1,1,0)
Payment reduced based on status as an unsuccessful eprescriber per the
"DATA",346,823,1,2,0)
Electronic Prescribing (eRx) Incentive Program.  
"DATA",346,824,0)
N546^3110701^^^3151012.170357
"DATA",346,824,1,0)
^^2^2^3150519
"DATA",346,824,1,1,0)
Payment represents a previous reduction based on the Electronic Prescribing
"DATA",346,824,1,2,0)
(eRx) Incentive Program.  
"DATA",346,825,0)
N547^3120306^^^3151012.170357
"DATA",346,825,1,0)
^^1^1^3150519
"DATA",346,825,1,1,0)
A refund request (Frequency Type Code 8) was processed previously.  
"DATA",346,826,0)
N548^3120306^^^3151012.170357
"DATA",346,826,1,0)
^^1^1^3150519
"DATA",346,826,1,1,0)
Alert: Patient"s calendar year deductible has been met.  
"DATA",346,827,0)
N549^3120306^^^3151012.170357
"DATA",346,827,1,0)
^^1^1^3150519
"DATA",346,827,1,1,0)
Alert: Patient"s calendar year out-of-pocket maximum has been met.  
"DATA",346,828,0)
N550^3120306^^^3151012.170357
"DATA",346,828,1,0)
^^3^3^3150519
"DATA",346,828,1,1,0)
Alert: You have not responded to requests to revalidate your provider/supplier
"DATA",346,828,1,2,0)
enrollment information. Your failure to revalidate your enrollment information
"DATA",346,828,1,3,0)
will result in a payment hold in the near future.  
"DATA",346,829,0)
N551^3120306^^^3151012.170357
"DATA",346,829,1,0)
^^2^2^3150519
"DATA",346,829,1,1,0)
Payment adjusted based on the Ambulatory Surgical Center (ASC) Quality
"DATA",346,829,1,2,0)
Reporting Program.  
"DATA",346,830,0)
N552^3120306^^^3151012.170357
"DATA",346,830,1,0)
^^1^1^3150519
"DATA",346,830,1,1,0)
Payment adjusted to reverse a previous withhold/bonus amount.  
"DATA",346,831,0)
N553^3120306^3121101^^3151012.170357
"DATA",346,831,1,0)
^^2^2^3150519
"DATA",346,831,1,1,0)
Payment adjusted based on a Low Income Subsidy (LIS) retroactive coverage or
"DATA",346,831,1,2,0)
status change.  
"DATA",346,832,0)
N554^3120701^^3140314^3151012.170357
"DATA",346,832,1,0)
^^1^1^3150519
"DATA",346,832,1,1,0)
Missing/Incomplete/Invalid Family Planning Indicator.  
"DATA",346,832,2)
Notes: (Modified 3/14/2014)
"DATA",346,833,0)
N555^3120701^^^3151012.170357
"DATA",346,833,1,0)
^^1^1^3150519
"DATA",346,833,1,1,0)
Missing medication list.  
"DATA",346,834,0)
N556^3120701^^^3151012.170357
"DATA",346,834,1,0)
^^1^1^3150519
"DATA",346,834,1,1,0)
Incomplete/invalid medication list.  
"DATA",346,835,0)
N557^3120701^^^3151012.170357
"DATA",346,835,1,0)
^^2^2^3150519
"DATA",346,835,1,1,0)
This claim/service is not payable under our service area. The claim must be
"DATA",346,835,1,2,0)
filed to the Payer/Plan in whose service area the specimen was collected.  
"DATA",346,836,0)
N558^3120701^^^3151012.170357
"DATA",346,836,1,0)
^^2^2^3150519
"DATA",346,836,1,1,0)
This claim/service is not payable under our service area. The claim must be
"DATA",346,836,1,2,0)
filed to the Payer/Plan in whose service area the equipment was received.  
"DATA",346,837,0)
N559^3120701^^^3151012.170357
"DATA",346,837,1,0)
^^3^3^3150519
"DATA",346,837,1,1,0)
This claim/service is not payable under our service area. The claim must be
"DATA",346,837,1,2,0)
filed to the Payer/Plan in whose service area the Ordering Physician is
"DATA",346,837,1,3,0)
located.  
"DATA",346,838,0)
N560^3121101^^^3151012.170357
"DATA",346,838,1,0)
^^2^2^3150519
"DATA",346,838,1,1,0)
The pilot program requires an interim or final claim within 60 days of the
"DATA",346,838,1,2,0)
Notice of  Admission. A claim was not received.  
"DATA",346,839,0)
N561^3121101^^^3151012.170357
"DATA",346,839,1,0)
^^3^3^3150519
"DATA",346,839,1,1,0)
The bundled claim originally submitted for this episode of care includes
"DATA",346,839,1,2,0)
related readmissions. You may resubmit the original claim to receive a
"DATA",346,839,1,3,0)
corrected payment based on this readmission.  
"DATA",346,840,0)
N562^3121101^^^3151012.170357
"DATA",346,840,1,0)
^^2^2^3150519
"DATA",346,840,1,1,0)
The provider number of your incoming claim does not match the provider number
"DATA",346,840,1,2,0)
on the processed Notice of Admission (NOA) for this bundled payment.  
"DATA",346,841,0)
N563^3121101^^^3151012.170357
"DATA",346,841,1,0)
^^2^2^3150519
"DATA",346,841,1,1,0)
Missing required provider/supplier issuance of advance patient notice of
"DATA",346,841,1,2,0)
non-coverage. The patient is not liable for payment for this service.  
"DATA",346,841,2)
Notes: Related to M39
"DATA",346,842,0)
N564^3121101^^^3151012.170357
"DATA",346,842,1,0)
^^2^2^3150519
"DATA",346,842,1,1,0)
Patient did not meet the inclusion criteria for the demonstration project or
"DATA",346,842,1,2,0)
pilot program.  
"DATA",346,843,0)
N565^3121101^^3130301^3151012.170357
"DATA",346,843,1,0)
^^3^3^3150519
"DATA",346,843,1,1,0)
Alert: This non-payable reporting code requires a modifier. Future claims
"DATA",346,843,1,2,0)
containing this non-payable reporting code must include an appropriate modifier
"DATA",346,843,1,3,0)
for the claim to be processed.  
"DATA",346,843,2)
Notes: (Modified 3/1/13)
"DATA",346,844,0)
N566^3121101^^^3151012.170357
"DATA",346,844,1,0)
^^3^3^3150519
"DATA",346,844,1,1,0)
Alert: This procedure code requires functional reporting. Future claims
"DATA",346,844,1,2,0)
containing this procedure code must include an applicable non-payable code and
"DATA",346,844,1,3,0)
appropriate modifiers for the claim to be processed.  
"DATA",346,845,0)
N567^3130301^^^3151012.170357
"DATA",346,845,1,0)
^^1^1^3150519
"DATA",346,845,1,1,0)
Not covered when considered preventative.  
"DATA",346,846,0)
N568^3130301^^^3151012.170357
"DATA",346,846,1,0)
^^2^2^3150519
"DATA",346,846,1,1,0)
Alert: Initial payment based on the Notice of Admission (NOA) under the Bundled
"DATA",346,846,1,2,0)
Payment Model IV initiative.  
"DATA",346,847,0)
N569^3130301^^^3151012.170357
"DATA",346,847,1,0)
^^1^1^3150519
"DATA",346,847,1,1,0)
Not covered when performed for the reported diagnosis.  
"DATA",346,848,0)
N570^3130301^^3140314^3151012.170357
"DATA",346,848,1,0)
^^1^1^3150519
"DATA",346,848,1,1,0)
Missing/incomplete/invalid credentialing data.  
"DATA",346,848,2)
Notes: (Modified 3/14/2014)
"DATA",346,849,0)
N571^3130301^^^3151012.170357
"DATA",346,849,1,0)
^^1^1^3150519
"DATA",346,849,1,1,0)
Alert: Payment will be issued quarterly by another payer/contractor.  
"DATA",346,850,0)
N572^3130301^^3140701^3151012.170357
"DATA",346,850,1,0)
^^2^2^3150519
"DATA",346,850,1,1,0)
This procedure is not payable unless appropriate non-payable reporting codes
"DATA",346,850,1,2,0)
and associated modifiers are submitted.  
"DATA",346,851,0)
N573^3130301^^^3151012.170357
"DATA",346,851,1,0)
^^2^2^3150519
"DATA",346,851,1,1,0)
Alert: You have been overpaid and must refund the overpayment. The refund will
"DATA",346,851,1,2,0)
be requested separately by another payer/contractor.  
"DATA",346,852,0)
N574^3130715^^^3151012.170357
"DATA",346,852,1,0)
^^3^3^3150519
"DATA",346,852,1,1,0)
Our records indicate the ordering/referring provider is of a type/specialty
"DATA",346,852,1,2,0)
that cannot order or refer. Please verify that the claim ordering/referring
"DATA",346,852,1,3,0)
provider information is accurate or contact the ordering/referring provider.  
"DATA",346,853,0)
N575^3130715^^^3151012.170357
"DATA",346,853,1,0)
^^2^2^3150519
"DATA",346,853,1,1,0)
Mismatch between the submitted ordering/referring provider name and the
"DATA",346,853,1,2,0)
ordering/referring provider name stored in our records.  
"DATA",346,854,0)
N576^3130715^^^3151012.170357
"DATA",346,854,1,0)
^^2^2^3150519
"DATA",346,854,1,1,0)
Services not related to the specific incident/claim/accident/loss being
"DATA",346,854,1,2,0)
reported.  
"DATA",346,855,0)
N577^3130715^^^3151012.170357
"DATA",346,855,1,0)
^^1^1^3150519
"DATA",346,855,1,1,0)
Personal Injury Protection (PIP) Coverage.  
"DATA",346,856,0)
N578^3130715^^^3151012.170357
"DATA",346,856,1,0)
^^1^1^3150519
"DATA",346,856,1,1,0)
Coverages do not apply to this loss.  
"DATA",346,857,0)
N579^3130715^^^3151012.170357
"DATA",346,857,1,0)
^^1^1^3150519
"DATA",346,857,1,1,0)
Medical Payments Coverage (MPC).  
"DATA",346,858,0)
N580^3130715^^^3151012.170357
"DATA",346,858,1,0)
^^1^1^3150519
"DATA",346,858,1,1,0)
Determination based on the provisions of the insurance policy.  
"DATA",346,859,0)
N581^3130715^^^3151012.170357
"DATA",346,859,1,0)
^^1^1^3150519
"DATA",346,859,1,1,0)
Investigation of coverage eligibility is pending.  
"DATA",346,860,0)
N582^3130715^^^3151012.170357
"DATA",346,860,1,0)
^^1^1^3150519
"DATA",346,860,1,1,0)
Benefits suspended pending the patient"s cooperation.  
"DATA",346,861,0)
N583^3130715^^^3151012.170357
"DATA",346,861,1,0)
^^2^2^3150519
"DATA",346,861,1,1,0)
Patient was not an occupant of our insured vehicle and therefore, is not an
"DATA",346,861,1,2,0)
eligible injured person.  
"DATA",346,862,0)
N584^3130715^^^3151012.170357
"DATA",346,862,1,0)
^^2^2^3150519
"DATA",346,862,1,1,0)
Not covered based on the insured"s noncompliance with policy or statutory
"DATA",346,862,1,2,0)
conditions.  
"DATA",346,863,0)
N585^3130715^^^3151012.170357
"DATA",346,863,1,0)
^^1^1^3150519
"DATA",346,863,1,1,0)
Benefits are no longer available based on a final injury settlement.  
"DATA",346,864,0)
N586^3130715^^^3151012.170357
"DATA",346,864,1,0)
^^1^1^3150519
"DATA",346,864,1,1,0)
The injured party does not qualify for benefits.  
"DATA",346,865,0)
N587^3130715^^^3151012.170357
"DATA",346,865,1,0)
^^1^1^3150519
"DATA",346,865,1,1,0)
Policy benefits have been exhausted.  
"DATA",346,866,0)
N588^3130715^^^3151012.170357
"DATA",346,866,1,0)
^^1^1^3150519
"DATA",346,866,1,1,0)
The patient has instructed that medical claims/bills are not to be paid.  
"DATA",346,867,0)
N589^3130715^^^3151012.170357
"DATA",346,867,1,0)
^^3^3^3150519
"DATA",346,867,1,1,0)
Coverage is excluded to any person injured as a result of operating a motor
"DATA",346,867,1,2,0)
vehicle while in an intoxicated condition or while the ability to operate such
"DATA",346,867,1,3,0)
a vehicle is impaired by the use of a drug.  
"DATA",346,868,0)
N590^3130715^^^3151012.170357
"DATA",346,868,1,0)
^^2^2^3150519
"DATA",346,868,1,1,0)
Missing independent medical exam detailing the cause of injuries sustained and
"DATA",346,868,1,2,0)
medical necessity of services rendered.  
"DATA",346,869,0)
N591^3130715^^^3151012.170357
"DATA",346,869,1,0)
^^2^2^3150519
"DATA",346,869,1,1,0)
Payment based on an Independent Medical Examination (IME) or Utilization Review
"DATA",346,869,1,2,0)
(UR).  
"DATA",346,870,0)
N592^3130715^^^3151012.170357
"DATA",346,870,1,0)
^^2^2^3150519
"DATA",346,870,1,1,0)
Adjusted because this is not the initial prescription or exceeds the amount
"DATA",346,870,1,2,0)
allowed for the initial prescription.  
"DATA",346,871,0)
N593^3130715^^^3151012.170357
"DATA",346,871,1,0)
^^2^2^3150519
"DATA",346,871,1,1,0)
Not covered based on failure to attend  a scheduled Independent Medical Exam
"DATA",346,871,1,2,0)
(IME).  
"DATA",346,872,0)
N594^3130715^^^3151012.170357
"DATA",346,872,1,0)
^^2^2^3150519
"DATA",346,872,1,1,0)
Records reflect the injured party did not complete an Application for Benefits
"DATA",346,872,1,2,0)
for this loss.  
"DATA",346,873,0)
N595^3130715^^^3151012.170357
"DATA",346,873,1,0)
^^2^2^3150519
"DATA",346,873,1,1,0)
Records reflect the injured party did not complete an Assignment of Benefits
"DATA",346,873,1,2,0)
for this loss.  
"DATA",346,874,0)
N596^3130715^^^3151012.170357
"DATA",346,874,1,0)
^^2^2^3150519
"DATA",346,874,1,1,0)
Records reflect the injured party did not complete a Medical Authorization for
"DATA",346,874,1,2,0)
this loss.  
"DATA",346,875,0)
N597^3130715^^3131101^3151012.170357
"DATA",346,875,1,0)
^^2^2^3150519
"DATA",346,875,1,1,0)
Adjusted based on a medical/dental provider"s apportionment of care between
"DATA",346,875,1,2,0)
related injuries and other unrelated medical/dental conditions/injuries.  
"DATA",346,876,0)
N598^3130715^^^3151012.170357
"DATA",346,876,1,0)
^^1^1^3150519
"DATA",346,876,1,1,0)
Health care policy coverage is primary.  
"DATA",346,877,0)
N599^3130715^^^3151012.170357
"DATA",346,877,1,0)
^^10^10^3150519
"DATA",346,877,1,1,0)
Our payment for this service is based upon a reasonable amount pursuant to both
"DATA",346,877,1,2,0)
the terms and conditions of the policy of insurance under which the subject
"DATA",346,877,1,3,0)
claim is being made as well as the FloridaNo-Fault Statute, which permits, when
"DATA",346,877,1,4,0)
determining a reasonable charge for a service, an insurer to consider usual and
"DATA",346,877,1,5,0)
customary charges and payments accepted by the provider, reimbursement levels
"DATA",346,877,1,6,0)
inthe community and various federal and state fee schedules applicable to
"DATA",346,877,1,7,0)
automobile and other insurance coverages, and other information relevant to the
"DATA",346,877,1,8,0)
reasonableness of the reimbursement for the service. The payment for this
"DATA",346,877,1,9,0)
service is based upon 200% of the Participating Level of Medicare Part B fee
"DATA",346,877,1,10,0)
schedule for the locale in which the services were rendered.  
"DATA",346,878,0)
N600^3130715^^^3151012.170357
"DATA",346,878,1,0)
^^2^2^3150519
"DATA",346,878,1,1,0)
Adjusted based on the applicable fee schedule for the region in which the
"DATA",346,878,1,2,0)
service was rendered.  
"DATA",346,879,0)
N601^3130715^^^3151012.170357
"DATA",346,879,1,0)
^^3^3^3150519
"DATA",346,879,1,1,0)
In accordance with Hawaii Administrative Rules, Title 16, Chapter 23 Motor
"DATA",346,879,1,2,0)
Vehicle Insurance Law payment is recommended based on Medicare Resource Based
"DATA",346,879,1,3,0)
Relative Value Scale System applicable to Hawaii.  
"DATA",346,880,0)
N602^3130715^^^3151012.170357
"DATA",346,880,1,0)
^^1^1^3150519
"DATA",346,880,1,1,0)
Adjusted based on the Redbook maximum allowance.  
"DATA",346,881,0)
N603^3130715^^^3151012.170357
"DATA",346,881,1,0)
^^3^3^3150519
"DATA",346,881,1,1,0)
This fee is calculated according to the New Jersey medical fee schedules for
"DATA",346,881,1,2,0)
Automobile Personal Injury Protection and Motor Bus Medical Expense Insurance
"DATA",346,881,1,3,0)
Coverage.  
"DATA",346,882,0)
N604^3130715^^^3151012.170357
"DATA",346,882,1,0)
^^3^3^3150519
"DATA",346,882,1,1,0)
In accordance with New York No-Fault Law, Regulation 68, this base fee was
"DATA",346,882,1,2,0)
calculated according to the New York Workers" Compensation Board Schedule of
"DATA",346,882,1,3,0)
Medical Fees, pursuant to Regulation 83 and / or Appendix 17-C of 11 NYCRR.  
"DATA",346,883,0)
N605^3130715^^^3151012.170357
"DATA",346,883,1,0)
^^2^2^3150519
"DATA",346,883,1,1,0)
This fee was calculated based upon New York All Patients Refined Diagnosis
"DATA",346,883,1,2,0)
Related Groups (APR-DRG), pursuant to Regulation 68.  
"DATA",346,884,0)
N606^3130715^^^3151012.170357
"DATA",346,884,1,0)
^^3^3^3150519
"DATA",346,884,1,1,0)
The Oregon allowed amount for this procedure is based upon the Workers
"DATA",346,884,1,2,0)
Compensation Fee Schedule (OAR 436-009).  The allowed amount has been
"DATA",346,884,1,3,0)
calculated in accordance with Section 4 of ORS 742.524.  
"DATA",346,885,0)
N607^3130715^^^3151012.170358
"DATA",346,885,1,0)
^^1^1^3150519
"DATA",346,885,1,1,0)
Service provided for non-compensable condition(s).  
"DATA",346,886,0)
N608^3130715^^^3151012.170358
"DATA",346,886,1,0)
^^3^3^3150519
"DATA",346,886,1,1,0)
The fee schedule amount allowed is calculated at 110% of the Medicare Fee
"DATA",346,886,1,2,0)
Schedule for this region, specialty and type of service.  This fee is
"DATA",346,886,1,3,0)
calculated in compliance with Act 6.  
"DATA",346,887,0)
N609^3130715^^3140314^3151012.170358
"DATA",346,887,1,0)
^^2^2^3150519
"DATA",346,887,1,1,0)
80% of the provider"s billed amount is being recommended for payment according
"DATA",346,887,1,2,0)
to Act 6.  
"DATA",346,887,2)
Notes: (Modified 3/14/2014)
"DATA",346,888,0)
N610^3130715^^^3151012.170358
"DATA",346,888,1,0)
^^1^1^3150519
"DATA",346,888,1,1,0)
Alert: Payment based on an appropriate level of care.  
"DATA",346,889,0)
N611^3130715^^^3151012.170358
"DATA",346,889,1,0)
^^1^1^3150519
"DATA",346,889,1,1,0)
Claim in litigation.  Contact insurer for more information.  
"DATA",346,890,0)
N612^3130715^^^3151012.170358
"DATA",346,890,1,0)
^^2^2^3150519
"DATA",346,890,1,1,0)
Medical provider not authorized/certified to provide treatment to  injured
"DATA",346,890,1,2,0)
workers in this jurisdiction.  
"DATA",346,891,0)
N613^3130715^^^3151012.170358
"DATA",346,891,1,0)
^^6^6^3150519
"DATA",346,891,1,1,0)
Alert: Although this was paid, you have billed with an ordering provider that
"DATA",346,891,1,2,0)
needs to update their enrollment record. Please verify that the ordering
"DATA",346,891,1,3,0)
provider information you submitted on the claimis accurate and if it is,
"DATA",346,891,1,4,0)
contact the ordering provider instructing them to update their enrollment
"DATA",346,891,1,5,0)
record. Unless corrected, a claim with this ordering provider will not be paid
"DATA",346,891,1,6,0)
in the future.  
"DATA",346,892,0)
N614^3130715^^^3151012.170358
"DATA",346,892,1,0)
^^2^2^3150519
"DATA",346,892,1,1,0)
Alert: Additional information is included in the 835 Healthcare Policy
"DATA",346,892,1,2,0)
Identification Segment (loop 2110 Service Payment Information).  
"DATA",346,893,0)
N615^3130715^^^3151012.170358
"DATA",346,893,1,0)
^^7^7^3150519
"DATA",346,893,1,1,0)
Alert: This enrollee receiving advance payments of the premium tax credit is in
"DATA",346,893,1,2,0)
the grace period of three consecutive months for non-payment of premium. Under
"DATA",346,893,1,3,0)
the Code of Federal Regulations, Title 45, Part 156.270, a Qualified Health
"DATA",346,893,1,4,0)
Plan issuer must pay all appropriate claims for services rendered to the
"DATA",346,893,1,5,0)
enrollee during the first month of the grace period and may pend claims for
"DATA",346,893,1,6,0)
services rendered to the enrollee in the second and third months of the grace
"DATA",346,893,1,7,0)
period.  
"DATA",346,894,0)
N616^3130715^^^3151012.170358
"DATA",346,894,1,0)
^^2^2^3150519
"DATA",346,894,1,1,0)
Alert: This enrollee is in the first month of the advance premium tax credit
"DATA",346,894,1,2,0)
grace period.  
"DATA",346,895,0)
N617^3130715^^^3151012.170358
"DATA",346,895,1,0)
^^2^2^3150519
"DATA",346,895,1,1,0)
This enrollee is in the second or third month of the advance premium tax credit
"DATA",346,895,1,2,0)
grace period.  
"DATA",346,896,0)
N618^3130715^^^3151012.170358
"DATA",346,896,1,0)
^^2^2^3150519
"DATA",346,896,1,1,0)
Alert: This claim will automatically be reprocessed if the enrollee pays their
"DATA",346,896,1,2,0)
premiums.  
"DATA",346,897,0)
N619^3130715^^^3151012.170358
"DATA",346,897,1,0)
^^1^1^3150519
"DATA",346,897,1,1,0)
Coverage terminated for non-payment of premium.  
"DATA",346,898,0)
N620^3130715^^^3151012.170358
"DATA",346,898,1,0)
^^2^2^3150519
"DATA",346,898,1,1,0)
Alert: This procedure code is for quality reporting/informational purposes
"DATA",346,898,1,2,0)
only.  
"DATA",346,899,0)
N621^3130715^^^3151012.170358
"DATA",346,899,1,0)
^^2^2^3150519
"DATA",346,899,1,1,0)
Charges for Jurisdiction required forms, reports, or chart notes are not
"DATA",346,899,1,2,0)
payable.  
"DATA",346,900,0)
N622^3130715^^^3151012.170358
"DATA",346,900,1,0)
^^1^1^3150519
"DATA",346,900,1,1,0)
Not covered based on the date of injury/accident.  
"DATA",346,901,0)
N623^3130715^^^3151012.170358
"DATA",346,901,1,0)
^^2^2^3150519
"DATA",346,901,1,1,0)
Not covered when deemed
"DATA",346,901,1,2,0)
unscientific/unproven/outmoded/experimental/excessive/inappropriate.  
"DATA",346,902,0)
N624^3130715^^^3151012.170358
"DATA",346,902,1,0)
^^1^1^3150519
"DATA",346,902,1,1,0)
The associated Workers" Compensation claim has been withdrawn.  
"DATA",346,903,0)
N625^3130715^^^3151012.170358
"DATA",346,903,1,0)
^^1^1^3150519
"DATA",346,903,1,1,0)
Missing/Incomplete/Invalid Workers" Compensation Claim Number.  
"DATA",346,904,0)
N626^3130715^^^3151012.170358
"DATA",346,904,1,0)
^^2^2^3150519
"DATA",346,904,1,1,0)
New or established patient E/M codes are not payable with chiropractic care
"DATA",346,904,1,2,0)
codes.  
"DATA",346,905,0)
N627^3130715^3140701^^3151012.170358
"DATA",346,905,1,0)
^^1^1^3150519
"DATA",346,905,1,1,0)
Service not payable per managed care contract.  
"DATA",346,905,2)
Notes: Consider Use CARC 256
"DATA",346,906,0)
N628^3130715^^^3151012.170358
"DATA",346,906,1,0)
^^2^2^3150519
"DATA",346,906,1,1,0)
Out-patient follow up visits on the same date of service as a scheduled test or
"DATA",346,906,1,2,0)
treatment is disallowed.  
"DATA",346,907,0)
N629^3130715^^^3151012.170358
"DATA",346,907,1,0)
^^1^1^3150519
"DATA",346,907,1,1,0)
Reviews/documentation/notes/summaries/reports/charts not requested.  
"DATA",346,908,0)
N630^3130715^^^3151012.170358
"DATA",346,908,1,0)
^^1^1^3150519
"DATA",346,908,1,1,0)
Referral not authorized by attending physician.  
"DATA",346,909,0)
N631^3130715^^^3151012.170358
"DATA",346,909,1,0)
^^2^2^3150519
"DATA",346,909,1,1,0)
Medical Fee Schedule does not list this code. An allowance was made for a
"DATA",346,909,1,2,0)
comparable service.  
"DATA",346,910,0)
N632^3130715^3140701^^3151012.170358
"DATA",346,910,1,0)
^^2^2^3150519
"DATA",346,910,1,1,0)
According to the Official Medical Fee Schedule this service has a relative
"DATA",346,910,1,2,0)
value of zero and therefore no payment is due.  
"DATA",346,910,2)
Notes: Consider using W8
"DATA",346,911,0)
N633^3130715^^^3151012.170358
"DATA",346,911,1,0)
^^1^1^3150519
"DATA",346,911,1,1,0)
Additional anesthesia time units are not allowed.  
"DATA",346,912,0)
N634^3130715^^^3151012.170358
"DATA",346,912,1,0)
^^1^1^3150519
"DATA",346,912,1,1,0)
The allowance is calculated based on anesthesia time units.  
"DATA",346,913,0)
N635^3130715^^^3151012.170358
"DATA",346,913,1,0)
^^1^1^3150519
"DATA",346,913,1,1,0)
The Allowance is calculated based on the anesthesia base units plus time.  
"DATA",346,914,0)
N636^3130715^^^3151012.170358
"DATA",346,914,1,0)
^^1^1^3150519
"DATA",346,914,1,1,0)
Adjusted because this is reimbursable only once per injury.  
"DATA",346,915,0)
N637^3130715^^^3151012.170358
"DATA",346,915,1,0)
^^2^2^3150519
"DATA",346,915,1,1,0)
Consultations are not allowed once treatment has been rendered by the same
"DATA",346,915,1,2,0)
provider.  
"DATA",346,916,0)
N638^3130715^^^3151012.170358
"DATA",346,916,1,0)
^^1^1^3150519
"DATA",346,916,1,1,0)
Reimbursement has been made according to the home health fee schedule.  
"DATA",346,917,0)
N639^3130715^^^3151012.170358
"DATA",346,917,1,0)
^^2^2^3150519
"DATA",346,917,1,1,0)
Reimbursement has been made according to the inpatient rehabilitation
"DATA",346,917,1,2,0)
facilities fee schedule.  
"DATA",346,918,0)
N640^3130715^^^3151012.170358
"DATA",346,918,1,0)
^^1^1^3150519
"DATA",346,918,1,1,0)
Exceeds number/frequency approved/allowed within time period.  
"DATA",346,919,0)
N641^3130715^^^3151012.170358
"DATA",346,919,1,0)
^^1^1^3150519
"DATA",346,919,1,1,0)
Reimbursement has been based on the number of body areas rated.  
"DATA",346,920,0)
N642^3130715^^^3151012.170358
"DATA",346,920,1,0)
^^1^1^3150519
"DATA",346,920,1,1,0)
Adjusted when billed as individual tests instead of as a panel.  
"DATA",346,921,0)
N643^3130715^^^3151012.170358
"DATA",346,921,1,0)
^^2^2^3150519
"DATA",346,921,1,1,0)
The services billed are considered Not Covered or Non-Covered (NC) in the
"DATA",346,921,1,2,0)
applicable state fee schedule.  
"DATA",346,922,0)
N644^3130715^^^3151012.170358
"DATA",346,922,1,0)
^^1^1^3150519
"DATA",346,922,1,1,0)
Reimbursement has been made according to the bilateral procedure rule.  
"DATA",346,923,0)
N645^3130715^^3140314^3151012.170358
"DATA",346,923,1,0)
^^1^1^3150519
"DATA",346,923,1,1,0)
Mark-up allowance.  
"DATA",346,923,2)
Notes: (Modified 3/14/2014)
"DATA",346,924,0)
N646^3130715^^^3151012.170358
"DATA",346,924,1,0)
^^1^1^3150519
"DATA",346,924,1,1,0)
Reimbursement has been adjusted based on the guidelines for an assistant.  
"DATA",346,925,0)
N647^3130715^^^3151012.170358
"DATA",346,925,1,0)
^^1^1^3150519
"DATA",346,925,1,1,0)
Adjusted based on diagnosis-related group (DRG).  
"DATA",346,926,0)
N648^3130715^^^3151012.170358
"DATA",346,926,1,0)
^^1^1^3150519
"DATA",346,926,1,1,0)
Adjusted based on Stop Loss.  
"DATA",346,927,0)
N649^3130715^^^3151012.170358
"DATA",346,927,1,0)
^^1^1^3150519
"DATA",346,927,1,1,0)
Payment based on invoice.  
"DATA",346,928,0)
N650^3130715^^^3151012.170358
"DATA",346,928,1,0)
^^1^1^3150519
"DATA",346,928,1,1,0)
This policy was not in effect for this date of loss. No coverage is available.  
"DATA",346,929,0)
N651^3130715^^^3151012.170358
"DATA",346,929,1,0)
^^2^2^3150519
"DATA",346,929,1,1,0)
No Personal Injury Protection/Medical Payments Coverage on the policy at the
"DATA",346,929,1,2,0)
time of the loss.  
"DATA",346,930,0)
N652^3130715^^^3151012.170358
"DATA",346,930,1,0)
^^1^1^3150519
"DATA",346,930,1,1,0)
The date of service is before the date of loss.  
"DATA",346,931,0)
N653^3130715^^^3151012.170358
"DATA",346,931,1,0)
^^1^1^3150519
"DATA",346,931,1,1,0)
The date of injury does not match the reported date of loss.  
"DATA",346,932,0)
N654^3130715^^^3151012.170358
"DATA",346,932,1,0)
^^1^1^3150519
"DATA",346,932,1,1,0)
Adjusted based on achievement of maximum medical improvement (MMI).  
"DATA",346,933,0)
N655^3130715^^^3151012.170358
"DATA",346,933,1,0)
^^1^1^3150519
"DATA",346,933,1,1,0)
Payment based on provider"s geographic region.  
"DATA",346,934,0)
N656^3130715^^^3151012.170358
"DATA",346,934,1,0)
^^2^2^3150519
"DATA",346,934,1,1,0)
An interest payment is being made because benefits are being paid outside the
"DATA",346,934,1,2,0)
statutory requirement.  
"DATA",346,935,0)
N657^3130715^^^3151012.170358
"DATA",346,935,1,0)
^^1^1^3150519
"DATA",346,935,1,1,0)
This should be billed with the appropriate code for these services.  
"DATA",346,936,0)
N658^3130715^^^3151012.170358
"DATA",346,936,1,0)
^^1^1^3150519
"DATA",346,936,1,1,0)
The billed service(s) are not considered medical expenses.  
"DATA",346,937,0)
N659^3130715^^^3151012.170358
"DATA",346,937,1,0)
^^1^1^3150519
"DATA",346,937,1,1,0)
This item is exempt from sales tax.  
"DATA",346,938,0)
N660^3130715^^^3151012.170358
"DATA",346,938,1,0)
^^1^1^3150519
"DATA",346,938,1,1,0)
Sales tax has been included in the reimbursement.  
"DATA",346,939,0)
N661^3130715^^^3151012.170358
"DATA",346,939,1,0)
^^2^2^3150519
"DATA",346,939,1,1,0)
Documentation does not support that the services rendered were medically
"DATA",346,939,1,2,0)
necessary.  
"DATA",346,940,0)
N662^3130715^^^3151012.170358
"DATA",346,940,1,0)
^^1^1^3150519
"DATA",346,940,1,1,0)
Alert: Consideration of payment will be made upon receipt of a final bill.  
"DATA",346,941,0)
N663^3130715^^^3151012.170358
"DATA",346,941,1,0)
^^1^1^3150519
"DATA",346,941,1,1,0)
Adjusted based on an agreed amount.  
"DATA",346,942,0)
N664^3130715^^^3151012.170358
"DATA",346,942,1,0)
^^1^1^3150519
"DATA",346,942,1,1,0)
Adjusted based on a legal settlement.  
"DATA",346,943,0)
N665^3130715^^^3151012.170358
"DATA",346,943,1,0)
^^1^1^3150519
"DATA",346,943,1,1,0)
Services by an unlicensed provider are not reimbursable.  
"DATA",346,944,0)
N666^3130715^^^3151012.170358
"DATA",346,944,1,0)
^^2^2^3150519
"DATA",346,944,1,1,0)
Only one evaluation and management code at this service level is covered during
"DATA",346,944,1,2,0)
the course of care.  
"DATA",346,945,0)
N667^3130715^^3140314^3151012.170358
"DATA",346,945,1,0)
^^1^1^3150519
"DATA",346,945,1,1,0)
Missing prescription.  
"DATA",346,945,2)
Notes: (Modified 3/14/2014)
"DATA",346,946,0)
N668^3130715^^3140314^3151012.170358
"DATA",346,946,1,0)
^^1^1^3150519
"DATA",346,946,1,1,0)
Incomplete/invalid prescription.  
"DATA",346,946,2)
Notes: (Modified 3/14/2014)
"DATA",346,947,0)
N669^3130715^^^3151012.170358
"DATA",346,947,1,0)
^^1^1^3150519
"DATA",346,947,1,1,0)
Adjusted based on the Medicare fee schedule.  
"DATA",346,948,0)
N670^3130715^^^3151012.170358
"DATA",346,948,1,0)
^^2^2^3150519
"DATA",346,948,1,1,0)
This service code has been identified as the primary procedure code subject to
"DATA",346,948,1,2,0)
the Medicare Multiple Procedure Payment Reduction (MPPR) rule.  
"DATA",346,949,0)
N671^3130715^^^3151012.170358
"DATA",346,949,1,0)
^^1^1^3150519
"DATA",346,949,1,1,0)
Payment based on a jurisdiction cost-charge ratio.  
"DATA",346,950,0)
N672^3130715^^^3151012.170358
"DATA",346,950,1,0)
^^1^1^3150519
"DATA",346,950,1,1,0)
Alert: Amount applied to Health Insurance Offset.  
"DATA",346,951,0)
N673^3130715^^^3151012.170358
"DATA",346,951,1,0)
^^2^2^3150519
"DATA",346,951,1,1,0)
Reimbursement has been calculated based on an outpatient per diem or an
"DATA",346,951,1,2,0)
outpatient factor and/or fee schedule amount.  
"DATA",346,952,0)
N674^3130715^^^3151012.170358
"DATA",346,952,1,0)
^^1^1^3150519
"DATA",346,952,1,1,0)
Not covered unless a pre-requisite procedure/service has been provided.  
"DATA",346,953,0)
N675^3130715^^^3151012.170358
"DATA",346,953,1,0)
^^1^1^3150519
"DATA",346,953,1,1,0)
Additional information is required from the injured party.  
"DATA",346,954,0)
N676^3130715^^^3151012.170358
"DATA",346,954,1,0)
^^2^2^3150519
"DATA",346,954,1,1,0)
Service does not qualify for payment under the Outpatient Facility Fee
"DATA",346,954,1,2,0)
Schedule.  
"DATA",346,955,0)
N677^3131101^^^3151012.170358
"DATA",346,955,1,0)
^^1^1^3150519
"DATA",346,955,1,1,0)
Alert: Films/Images will not be returned.  
"DATA",346,956,0)
N678^3131101^^^3151012.170358
"DATA",346,956,1,0)
^^1^1^3150519
"DATA",346,956,1,1,0)
Missing post-operative images/visual field results.  
"DATA",346,957,0)
N679^3131101^^^3151012.170358
"DATA",346,957,1,0)
^^1^1^3150519
"DATA",346,957,1,1,0)
Incomplete/Invalid post-operative images/visual field results.  
"DATA",346,958,0)
N680^3131101^^^3151012.170358
"DATA",346,958,1,0)
^^1^1^3150519
"DATA",346,958,1,1,0)
Missing/Incomplete/Invalid date of previous dental extractions.  
"DATA",346,959,0)
N681^3131101^^^3151012.170358
"DATA",346,959,1,0)
^^1^1^3150519
"DATA",346,959,1,1,0)
Missing/Incomplete/Invalid full arch series.  
"DATA",346,960,0)
N682^3131101^^^3151012.170358
"DATA",346,960,1,0)
^^1^1^3150519
"DATA",346,960,1,1,0)
Missing/Incomplete/Invalid history of prior periodontal therapy/maintenance.  
"DATA",346,961,0)
N683^3131101^^^3151012.170358
"DATA",346,961,1,0)
^^1^1^3150519
"DATA",346,961,1,1,0)
Missing/Incomplete/Invalid prior treatment documentation.  
"DATA",346,962,0)
N684^3131101^^^3151012.170358
"DATA",346,962,1,0)
^^1^1^3150519
"DATA",346,962,1,1,0)
Payment denied as this is a specialty claim submitted as a general claim.  
"DATA",346,963,0)
N685^3131101^^^3151012.170359
"DATA",346,963,1,0)
^^1^1^3150519
"DATA",346,963,1,1,0)
Missing/Incomplete/Invalid Prosthesis, Crown or Inlay Code.  
"DATA",346,964,0)
N686^3131101^^^3151012.170359
"DATA",346,964,1,0)
^^2^2^3150519
"DATA",346,964,1,1,0)
Missing/incomplete/Invalid questionnaire needed to complete payment
"DATA",346,964,1,2,0)
determination.  
"DATA",346,965,0)
N687^3131101^^3140314^3151012.170359
"DATA",346,965,1,0)
^^1^1^3150519
"DATA",346,965,1,1,0)
Alert: This reversal is due to a retroactive disenrollment.  
"DATA",346,965,2)
Notes: To be used with claim/service reversal. (Modified 3/14/2014)
"DATA",346,966,0)
N688^3131101^^3140314^3151012.170359
"DATA",346,966,1,0)
^^1^1^3150519
"DATA",346,966,1,1,0)
Alert: This reversal is due to a medical or utilization review decision.  
"DATA",346,966,2)
Notes: To be used with claim/service reversal. (Modified 3/14/2014)
"DATA",346,967,0)
N689^3131101^^3140314^3151012.170359
"DATA",346,967,1,0)
^^1^1^3150519
"DATA",346,967,1,1,0)
Alert: This reversal is due to a retroactive rate change.  
"DATA",346,967,2)
Notes: To be used with claim/service reversal. (Modified 3/14/2014)
"DATA",346,968,0)
N690^3131101^^3140314^3151012.170359
"DATA",346,968,1,0)
^^1^1^3150519
"DATA",346,968,1,1,0)
Alert: This reversal is due to a provider submitted appeal.  
"DATA",346,968,2)
Notes: To be used with claim/service reversal. (Modified 3/14/2014)
"DATA",346,969,0)
N691^3131101^^3140314^3151012.170359
"DATA",346,969,1,0)
^^1^1^3150519
"DATA",346,969,1,1,0)
Alert: This reversal is due to a patient submitted appeal.  
"DATA",346,969,2)
Notes: To be used with claim/service reversal. (Modified 3/14/2014)
"DATA",346,970,0)
N692^3131101^^3140314^3151012.170359
"DATA",346,970,1,0)
^^1^1^3150519
"DATA",346,970,1,1,0)
Alert: This reversal is due to an incorrect rate on the initial adjudication.  
"DATA",346,970,2)
Notes: To be used with claim/service reversal. (Modified 3/14/2014)
"DATA",346,971,0)
N693^3131101^^3140314^3151012.170359
"DATA",346,971,1,0)
^^1^1^3150519
"DATA",346,971,1,1,0)
Alert: This reversal is due to a cancellation of the claim by the provider.  
"DATA",346,971,2)
Notes: (Modified 3/14/2014)
"DATA",346,972,0)
N694^3131101^^^3151012.170359
"DATA",346,972,1,0)
^^2^2^3150519
"DATA",346,972,1,1,0)
Alert: This reversal is due to a resubmission/change to the claim by the
"DATA",346,972,1,2,0)
provider.  
"DATA",346,973,0)
N695^3131101^^^3151012.170359
"DATA",346,973,1,0)
^^2^2^3150519
"DATA",346,973,1,1,0)
Alert: This reversal is due to incorrect patient financial responsibility
"DATA",346,973,1,2,0)
information on the initial adjudication.  
"DATA",346,974,0)
N696^3131101^^3140314^3151012.170359
"DATA",346,974,1,0)
^^2^2^3150519
"DATA",346,974,1,1,0)
Alert: This reversal is due to a Coordination of Benefits or Third Party
"DATA",346,974,1,2,0)
Liability Recovery retroactive adjustment.  
"DATA",346,974,2)
Notes: To be used with claim/service reversal. (Modified 3/14/2014)
"DATA",346,975,0)
N697^3131101^^3140314^3151012.170359
"DATA",346,975,1,0)
^^2^2^3150519
"DATA",346,975,1,1,0)
Alert: This reversal is due to a payer"s retroactive contract incentive program
"DATA",346,975,1,2,0)
adjustment.  
"DATA",346,975,2)
Notes: To be used with claim/service reversal. (Modified 3/14/2014)
"DATA",346,976,0)
N698^3131101^^3140314^3151012.170359
"DATA",346,976,1,0)
^^3^3^3150519
"DATA",346,976,1,1,0)
Alert: This reversal is due to non-payment of the Health Insurance Exchange
"DATA",346,976,1,2,0)
premiums by the end of the premium payment grace period, resulting in loss of
"DATA",346,976,1,3,0)
coverage.  
"DATA",346,976,2)
Notes: To be used with claim/service reversal. (Modified 3/14/2014)
"DATA",346,977,0)
N699^3140301^^^3151012.170359
"DATA",346,977,1,0)
^^2^2^3150519
"DATA",346,977,1,1,0)
Payment adjusted based on the Physician Quality Reporting System (PQRS)
"DATA",346,977,1,2,0)
Incentive Program.  
"DATA",346,978,0)
N700^3140301^^^3151012.170359
"DATA",346,978,1,0)
^^2^2^3150519
"DATA",346,978,1,1,0)
Payment adjusted based on the Electronic Health Records (EHR) Incentive
"DATA",346,978,1,2,0)
Program.  
"DATA",346,979,0)
N701^3140301^^^3151012.170359
"DATA",346,979,1,0)
^^1^1^3150519
"DATA",346,979,1,1,0)
Payment adjusted based on the Value-based Payment Modifier.  
"DATA",346,980,0)
N702^3140301^^^3151012.170359
"DATA",346,980,1,0)
^^2^2^3150519
"DATA",346,980,1,1,0)
Decision based on review of previously adjudicated claims or for claims in
"DATA",346,980,1,2,0)
process for the same/similar type of services.  
"DATA",346,981,0)
N703^3140301^^^3151012.170359
"DATA",346,981,1,0)
^^2^2^3150519
"DATA",346,981,1,1,0)
This service is incompatible with previously  adjudicated claims or claims in
"DATA",346,981,1,2,0)
process.  
"DATA",346,982,0)
N704^3140301^^3140314^3151012.170359
"DATA",346,982,1,0)
^^2^2^3150519
"DATA",346,982,1,1,0)
Alert: You may not appeal this decision but can resubmit this claim/service
"DATA",346,982,1,2,0)
with corrected information if warranted.  
"DATA",346,982,2)
Notes: (Modified 3/14/2014)
"DATA",346,983,0)
N705^3140301^^^3151012.170359
"DATA",346,983,1,0)
^^1^1^3150519
"DATA",346,983,1,1,0)
Incomplete/invalid documentation.  
"DATA",346,984,0)
N706^3140301^^^3151012.170359
"DATA",346,984,1,0)
^^1^1^3150519
"DATA",346,984,1,1,0)
Missing documentation.  
"DATA",346,985,0)
N707^3140301^^^3151012.170359
"DATA",346,985,1,0)
^^1^1^3150519
"DATA",346,985,1,1,0)
Incomplete/invalid orders.  
"DATA",346,986,0)
N708^3140301^^^3151012.170359
"DATA",346,986,1,0)
^^1^1^3150519
"DATA",346,986,1,1,0)
Missing orders.  
"DATA",346,987,0)
N709^3140301^^^3151012.170359
"DATA",346,987,1,0)
^^1^1^3150519
"DATA",346,987,1,1,0)
Incomplete/invalid notes.  
"DATA",346,988,0)
N710^3140301^^^3151012.170359
"DATA",346,988,1,0)
^^1^1^3150519
"DATA",346,988,1,1,0)
Missing notes.  
"DATA",346,989,0)
N711^3140301^^^3151012.170359
"DATA",346,989,1,0)
^^1^1^3150519
"DATA",346,989,1,1,0)
Incomplete/invalid summary.  
"DATA",346,990,0)
N712^3140301^^^3151012.170359
"DATA",346,990,1,0)
^^1^1^3150519
"DATA",346,990,1,1,0)
Missing summary.  
"DATA",346,991,0)
N713^3140301^^^3151012.170359
"DATA",346,991,1,0)
^^1^1^3150519
"DATA",346,991,1,1,0)
Incomplete/invalid report.  
"DATA",346,992,0)
N714^3140301^^^3151012.170359
"DATA",346,992,1,0)
^^1^1^3150519
"DATA",346,992,1,1,0)
Missing report.  
"DATA",346,993,0)
N715^3140301^^^3151012.170359
"DATA",346,993,1,0)
^^1^1^3150519
"DATA",346,993,1,1,0)
Incomplete/invalid chart.  
"DATA",346,994,0)
N716^3140301^^^3151012.170359
"DATA",346,994,1,0)
^^1^1^3150519
"DATA",346,994,1,1,0)
Missing chart.  
"DATA",346,995,0)
N717^3140301^^^3151012.170359
"DATA",346,995,1,0)
^^1^1^3150519
"DATA",346,995,1,1,0)
Incomplete/Invalid documentation of face-to-face examination.  
"DATA",346,996,0)
N718^3140301^^^3151012.170359
"DATA",346,996,1,0)
^^1^1^3150519
"DATA",346,996,1,1,0)
Missing documentation of face-to-face examination.  
"DATA",346,997,0)
N719^3140301^^^3151012.170359
"DATA",346,997,1,0)
^^1^1^3150519
"DATA",346,997,1,1,0)
Penalty applied based on plan requirements not being met.  
"DATA",346,998,0)
N720^3140301^^^3151012.170359
"DATA",346,998,1,0)
^^3^3^3150519
"DATA",346,998,1,1,0)
Alert: The patient overpaid you. You may need to issue the patient a refund for
"DATA",346,998,1,2,0)
the difference between the patient"s payment and the amount shown as patient
"DATA",346,998,1,3,0)
responsibility on this notice.  
"DATA",346,999,0)
N721^3140301^^^3151012.170359
"DATA",346,999,1,0)
^^1^1^3150519
"DATA",346,999,1,1,0)
This service is only covered when performed as part of a clinical trial.  
"DATA",346,1000,0)
N722^3140301^^^3151012.170359
"DATA",346,1000,1,0)
^^2^2^3150519
"DATA",346,1000,1,1,0)
Patient must use Workers" Compensation Set-Aside (WCSA) funds to pay for the
"DATA",346,1000,1,2,0)
medical service or item.  
"DATA",346,1001,0)
N723^3140301^^^3151012.170359
"DATA",346,1001,1,0)
^^2^2^3150519
"DATA",346,1001,1,1,0)
Patient must use Liability set-aside (LSA) funds to pay for the medical service
"DATA",346,1001,1,2,0)
or item.  
"DATA",346,1002,0)
N724^3140301^^^3151012.170359
"DATA",346,1002,1,0)
^^2^2^3150519
"DATA",346,1002,1,1,0)
Patient must use No-Fault set-aside (NFSA) funds to pay for the medical service
"DATA",346,1002,1,2,0)
or item.  
"DATA",346,1003,0)
N725^3140301^^^3151012.170359
"DATA",346,1003,1,0)
^^2^2^3150519
"DATA",346,1003,1,1,0)
A liability insurer has reported having ongoing responsibility for medical
"DATA",346,1003,1,2,0)
services (ORM) for this diagnosis.  
"DATA",346,1004,0)
N726^3140301^^^3151012.170359
"DATA",346,1004,1,0)
^^1^1^3150519
"DATA",346,1004,1,1,0)
A conditional payment is not allowed.  
"DATA",346,1005,0)
N727^3140301^^^3151012.170359
"DATA",346,1005,1,0)
^^2^2^3150519
"DATA",346,1005,1,1,0)
A no-fault insurer has reported having ongoing responsibility for medical
"DATA",346,1005,1,2,0)
services (ORM) for this diagnosis.  
"DATA",346,1006,0)
N728^3140301^^^3151012.170359
"DATA",346,1006,1,0)
^^2^2^3150519
"DATA",346,1006,1,1,0)
A workers" compensation insurer has reported having ongoing responsibility for
"DATA",346,1006,1,2,0)
medical services (ORM) for this diagnosis.  
"FIA",344.31)
EDI THIRD PARTY EFT DETAIL
"FIA",344.31,0)
^RCY(344.31,
"FIA",344.31,0,0)
344.31PI
"FIA",344.31,0,1)
y^y^p^^^^n^^n
"FIA",344.31,0,10)

"FIA",344.31,0,11)

"FIA",344.31,0,"RLRO")

"FIA",344.31,0,"VR")
4.5^PRCA
"FIA",344.31,344.31)
1
"FIA",344.31,344.31,.08)

"FIA",344.31,344.31,4)

"FIA",344.31,344.314)
0
"FIA",344.4)
ELECTRONIC REMITTANCE ADVICE
"FIA",344.4,0)
^RCY(344.4,
"FIA",344.4,0,0)
344.4I
"FIA",344.4,0,1)
y^y^p^^^^n^^n
"FIA",344.4,0,10)

"FIA",344.4,0,11)

"FIA",344.4,0,"RLRO")

"FIA",344.4,0,"VR")
4.5^PRCA
"FIA",344.4,344.4)
1
"FIA",344.4,344.4,.03)

"FIA",345)
AR EDI CARC DATA
"FIA",345,0)
^RC(345,
"FIA",345,0,0)
345
"FIA",345,0,1)
y^y^f^^n^^y^o^n
"FIA",345,0,10)

"FIA",345,0,11)

"FIA",345,0,"RLRO")

"FIA",345,0,"VR")
4.5^PRCA
"FIA",345,345)
0
"FIA",345,345.04)
0
"FIA",345.1)
AR PLB ADJUST CODE
"FIA",345.1,0)
^RC(345.1,
"FIA",345.1,0,0)
345.1
"FIA",345.1,0,1)
y^y^f^^n^^y^o^n
"FIA",345.1,0,10)

"FIA",345.1,0,11)

"FIA",345.1,0,"RLRO")

"FIA",345.1,0,"VR")
4.5^PRCA
"FIA",345.1,345.1)
0
"FIA",346)
AR EDI RARC DATA
"FIA",346,0)
^RC(346,
"FIA",346,0,0)
346
"FIA",346,0,1)
y^y^f^^n^^y^o^n
"FIA",346,0,10)

"FIA",346,0,11)

"FIA",346,0,"RLRO")

"FIA",346,0,"VR")
4.5^PRCA
"FIA",346,346)
0
"FIA",346,346.04)
0
"INIT")
POST^RC45P303
"IX",344.4,344.4,"ATRID",0)
344.4^ATRID^Xref by bank trace # and ins co id #^MU^^R^IR^I^344.4^^^^^S
"IX",344.4,344.4,"ATRID",1)
S ^RCY(344.4,"ATRID",$E(X(1),1,50),$E(X(2),1,30),DA)=""
"IX",344.4,344.4,"ATRID",2)
K ^RCY(344.4,"ATRID",$E(X(1),1,50),$E(X(2),1,30),DA)
"IX",344.4,344.4,"ATRID",2.5)
K ^RCY(344.4,"ATRID")
"IX",344.4,344.4,"ATRID",11.1,0)
^.114IA^2^2
"IX",344.4,344.4,"ATRID",11.1,1,0)
1^F^344.4^.02^30^1^F
"IX",344.4,344.4,"ATRID",11.1,2,0)
2^F^344.4^.03^30^2^F
"IX",344.4,344.4,"ATRIDUP",0)
344.4^ATRIDUP^Case-insensitive lookup for Trace # and Insurance Co.^MU^^R^IR^I^344.4^^^^^S
"IX",344.4,344.4,"ATRIDUP",.1,0)
^^5^5^3141001^
"IX",344.4,344.4,"ATRIDUP",.1,1,0)
This cross-reference is used for claim matching without regard to case.  
"IX",344.4,344.4,"ATRIDUP",.1,2,0)
The trace number and insurance company are converted to uppercase and the 
"IX",344.4,344.4,"ATRIDUP",.1,3,0)
software uses this for matching claims by the trace number.  The values 
"IX",344.4,344.4,"ATRIDUP",.1,4,0)
in the TRACE NUMBER (#.02) and INSURANCE CO ID (#.03) fields remain 
"IX",344.4,344.4,"ATRIDUP",.1,5,0)
unchanged.
"IX",344.4,344.4,"ATRIDUP",1)
S ^RCY(344.4,"ATRIDUP",$$UP^XLFSTR($E(X(1),1,50)),$$UP^XLFSTR($E(X(2),1,30)),DA)=""
"IX",344.4,344.4,"ATRIDUP",2)
K ^RCY(344.4,"ATRIDUP",$$UP^XLFSTR($E(X(1),1,50)),$$UP^XLFSTR($E(X(2),1,30)),DA)
"IX",344.4,344.4,"ATRIDUP",2.5)
K ^RCY(344.4,"ATRIDUP")
"IX",344.4,344.4,"ATRIDUP",11.1,0)
^.114IA^2^2
"IX",344.4,344.4,"ATRIDUP",11.1,1,0)
1^F^344.4^.02^50^1^F
"IX",344.4,344.4,"ATRIDUP",11.1,2,0)
2^F^344.4^.03^30^2^F
"KRN",.4,418,-1)
0^1
"KRN",.4,418,0)
PRCA BILL LIST^3160112.1302^^430^^^3160118
"KRN",.4,418,"%D",0)
^^2^2^3160112^
"KRN",.4,418,"%D",1,0)
This template prints a listing of bills and their original amounts.
"KRN",.4,418,"%D",2,0)
OPTION: PRCA BILL LIST
"KRN",.4,418,"F",1)

"KRN",.4,418,"F",2)
S PRCOUT=$$COMP3^PRCAAPR(D0) I PRCOUT'="%" S PRCOUT=$$IBEEOBCK^PRCAAPR1(D0);X;"";Z;"S PRCOUT=$$COMP3^PRCAAPR(D0) I PRCOUT'="%" S PRCOUT=$$IBEEOBCK^PRCAAPR1(D0)"~
"KRN",.4,418,"F",3)
I +$$BILLREJ^IBJTU6($P($P($G(^PRCA(430,D0,0)),U),"-",2)) S PRCOUT=PRCOUT_"c";X;"";Z;"I +$$BILLREJ^IBJTU6($P($P($G(^PRCA(430,D0,0)),U),"-",2)) S PRCOUT=PRCOUT_"c""~
"KRN",.4,418,"F",4)
W $G(PRCOUT)_$P($G(^PRCA(430,D0,0)),"^",1);C1;L12;"Bill #";Z;"W $G(PRCOUT)_$P($G(^PRCA(430,D0,0)),"^",1)"~
"KRN",.4,418,"F",5)
S DIP(1)=$S($D(^PRCA(430,D0,0)):^(0),1:"") S X=$P(DIP(1),U,10) S:X X=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3) W X K DIP;L8;C15;"Date Prepared";Z;"NUMDATE(DATE BILL PREPARED)"~
"KRN",.4,418,"F",6)
9;L15;C25;"Debtor"~100;L4;C42;"Form Type"~8;L10;C48;"Status"~3;C60;L9;"Original Amount"~11;C71;L9;"Current Balance"~
"KRN",.4,418,"H")
ACCOUNTS RECEIVABLE LIST
"KRN",.4,452,-1)
0^2
"KRN",.4,452,0)
PRCA TRANS PROFILE^3160112.1314^^433^^^3110517
"KRN",.4,452,"%D",0)
^^1^1^2890124^
"KRN",.4,452,"%D",1,0)
This template displays/prints a profile for transaction of an AR.
"KRN",.4,452,"DXS")
4
"KRN",.4,452,"DXS",1,9.2)
S I(0,0)=$G(D0),DIP(1)=$S($D(^PRCA(433,D0,0)):^(0),1:""),D0=$P(DIP(1),U,2) S:'D0!'$D(^PRCA(430,+D0,0)) D0=-1 S I(100,0)=$G(D0),DIP(101)=$S($D(^PRCA(430,D0,0)):^(0),1:"")
"KRN",.4,452,"DXS",1,9.3)
X DXS(1,9.2) S DIP(102)=$G(X),D0=$P(DIP(101),U,9) S:'D0!'$D(^RCD(340,+D0,0)) D0=-1 S DIP(201)=$S($D(^RCD(340,D0,0)):^(0),1:"")
"KRN",.4,452,"DXS",2,9)
S PRCOUT=$$COMP3^PRCAAPR($P(X,"^",2)),REJFLG=$$BILLREJ^IBJTU6($P($P($G(^PRCA(430,$P(X,"^",2),0)),"^"),"-",2)) S:PRCOUT'="%" PRCOUT=$$IBEEOBCK^PRCAAPR1($P(X,"^",2)) W ?50,$G(PRCOUT)_$S(REJFLG:"c",1:"")_$P(^PRCA(430,$P(X,"^",2),0),"^",1)
"KRN",.4,452,"DXS",3,9)
X DXS(3,9.3) S X=X S Y=X,X=DIP(6),X=X S X=X_Y_")",DIP(7)=$G(X) S X=1,DIP(8)=$G(X) S X="",X=$S(DIP(5):DIP(7),DIP(8):X) S Y=X,X=DIP(2),X=X_Y
"KRN",.4,452,"DXS",3,9.2)
S DIP(4)=$C(59)_$P($G(^DD(433,7,0)),U,3),DIP(3)=$S($D(^PRCA(433,D0,0)):^(0),1:""),DIP(1)=$S($D(^PRCA(433,D0,1)):^(1),1:"") S X=$P($G(^PRCA(430.3,+$P(DIP(1),U,2),0)),U)
"KRN",.4,452,"DXS",3,9.3)
X DXS(3,9.2) S DIP(2)=$G(X) S X=$P($P(DIP(4),$C(59)_$P(DIP(3),U,7)_":",2),$C(59))]"",DIP(5)=$G(X) S X=" (",DIP(6)=$G(X) S X=$P(DIP(3),U,7)
"KRN",.4,452,"F",1)
"ACCOUNT:";C1~N DIERR X DXS(1,9.3) S X=$$EXTERNAL^DIDU(340,.01,"",$P(DIP(201),U,1)) S D0=I(0,0) W X K DIP;C10;L25;Z;".03:9"~"SSN:";C35~
"KRN",.4,452,"F",2)
S X=$$SSN^RCFN01(+$$EN^PRCAFN1(D0)),X=$S(X<0:"",1:X) W ?40,X;Z;"S X=$$SSN^RCFN01(+$$EN^PRCAFN1(D0)),X=$S(X<0:"",1:X) W ?40,X"~"TRANS. NO:";C1~
"KRN",.4,452,"F",3)
.01;C12;L9~"BILL NO:";C35~
"KRN",.4,452,"F",4)
X DXS(2,9);Z;"S PRCOUT=$$COMP3^PRCAAPR($P(X,"^",2)),REJFLG=$$BILLREJ^IBJTU6($P($P($G(^PRCA(430,$P(X,"^",2),0)),"^"),"-",2)) S:PRCOUT'="%" PRCOUT=$$IBEEOBCK^PRCAAPR1($P(X,"^",2)) W ?50,$G(PRCOUT)_$S(REJFLG:"c",1:"")_$P(^PRCA(430,$P(X,"^",2),0),"^",1)"~
"KRN",.4,452,"F",5)
"TRANS. DATE:";C1~11;C18~"TRANS. TYPE:";C35~X DXS(3,9) W X K DIP;C50;L26;Z;"TRANSACTION TYPE_$S(#7]"":" ("_INTERNAL(#7)_")",1:"")"~
"KRN",.4,452,"F",6)
D EN1^PRCADR3;Z;"D EN1^PRCADR3"~" ";C1~"Brief Comment: ";C1~5.02;C16~"Follow-up Date: ";C50~
"KRN",.4,452,"F",7)
S DIP(1)=$S($D(^PRCA(433,D0,5)):^(5),1:"") S X=$P(DIP(1),U,3) S:X X=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3) W X K DIP;C66;Z;"NUMDATE(FOLLOW-UP DATE)"~
"KRN",.4,452,"F",8)
" ";C1~"COMMENTS: ";S1;C1~86;C13;L75~41,.01;C13~"RECEIPT #: ";C1~13~"PROCESSED BY: ";S1;C1~42~
"KRN",.4,452,"H")
@
"KRN",.4,452,"IOM")
80
"KRN",.4,452,"LAST")

"KRN",.4,452,"ROU")
^PRCATR3
"KRN",.4,452,"ROUOLD")
PRCATR3
"KRN",.4,452,"SUB")
1
"KRN",3.8,6263,-1)
0^1
"KRN",3.8,6263,0)
CARC_RARC_DATA^PU^y^^^^
"KRN",3.8,6263,3)

"KRN",19,11583,-1)
2^2
"KRN",19,11583,0)
RCDPE EDI LOCKBOX REPORTS MENU^EDI Lockbox (ePayments) Reports Menu^^M^66481^^^^^^^142
"KRN",19,11583,10,0)
^19.01IP^20^19
"KRN",19,11583,10,16,0)
13968^TB
"KRN",19,11583,10,16,"^")
RCDPE CARC/RARC TABLE REPORT
"KRN",19,11583,10,17,0)
13971^QS
"KRN",19,11583,10,17,"^")
RCDPE CARC/RARC QUICK SEARCH
"KRN",19,11583,10,18,0)
13969^PLB
"KRN",19,11583,10,18,"^")
RCDPE PROVIDER LVL ADJ REPORT
"KRN",19,11583,10,19,0)
13970^ETA
"KRN",19,11583,10,19,"^")
RCDPE EFT TRANSACTION AUD REP
"KRN",19,11583,10,20,0)
13967^CR
"KRN",19,11583,10,20,"^")
RCDPE CARC CODE PAYER REPORT
"KRN",19,11583,"U")
EDI LOCKBOX (EPAYMENTS) REPORT
"KRN",19,13967,-1)
0^1
"KRN",19,13967,0)
RCDPE CARC CODE PAYER REPORT^835 CARC Data Report^^R^^^^^^^^ACCOUNTS RECEIVABLE
"KRN",19,13967,1,0)
^19.06^2^2^3150728^^^
"KRN",19,13967,1,1,0)
This report is used to summarize the CARC codes and amounts reimbursed by 
"KRN",19,13967,1,2,0)
the third party payers from the returned 835 forms.
"KRN",19,13967,25)
EN^RCDPARC
"KRN",19,13967,"U")
835 CARC DATA REPORT
"KRN",19,13968,-1)
0^5
"KRN",19,13968,0)
RCDPE CARC/RARC TABLE REPORT^CARC/RARC Table Data Report^^R^^^^^^^^ACCOUNTS RECEIVABLE
"KRN",19,13968,1,0)
^19.06^5^5^3141231^^^^
"KRN",19,13968,1,1,0)
This report will allow a user to see the full information on CARC or RARC 
"KRN",19,13968,1,2,0)
data stored in the AR EDI CARC DATA and AR EDI RARC DATA files. These 
"KRN",19,13968,1,3,0)
files are transmitted from the FSC and the FSC has a subscription with 
"KRN",19,13968,1,4,0)
the Washington Publishing Company which keeps the official versions of 
"KRN",19,13968,1,5,0)
these code lists.
"KRN",19,13968,25)
EN^RCDPCRR
"KRN",19,13968,"U")
CARC/RARC TABLE DATA REPORT
"KRN",19,13969,-1)
0^31
"KRN",19,13969,0)
RCDPE PROVIDER LVL ADJ REPORT^Provider Level Adjustments (PLB) Report^^R^^^^^^^^ACCOUNTS RECEIVABLE
"KRN",19,13969,1,0)
^19.06^3^3^3150728^^
"KRN",19,13969,1,1,0)
This report will display ERA data with PLB (Provider Level Benifits) data 
"KRN",19,13969,1,2,0)
details. This is an ad-hoc report to allow the user to extract reportdata 
"KRN",19,13969,1,3,0)
as well as view and manage refund requests for all PLB adjustment codes.
"KRN",19,13969,25)
EN^RCDPPLB
"KRN",19,13969,"U")
PROVIDER LEVEL ADJUSTMENTS (PL
"KRN",19,13970,-1)
0^32
"KRN",19,13970,0)
RCDPE EFT TRANSACTION AUD REP^EFT Transaction Audit Report^^R^^^^^^^^ACCOUNTS RECEIVABLE
"KRN",19,13970,1,0)
^^3^3^3150102^
"KRN",19,13970,1,1,0)
This report will list all actions that have been performed on a single 
"KRN",19,13970,1,2,0)
EFT. The intent of the report is to follow the the EFT from cradle to 
"KRN",19,13970,1,3,0)
grave.
"KRN",19,13970,25)
EN^RCDPTAR
"KRN",19,13970,"U")
EFT TRANSACTION AUDIT REPORT
"KRN",19,13971,-1)
0^34
"KRN",19,13971,0)
RCDPE CARC/RARC QUICK SEARCH^CARC/RARC Quick Search^^R^^^^^^^^ACCOUNTS RECEIVABLE^^1
"KRN",19,13971,1,0)
^^3^3^3150108^
"KRN",19,13971,1,1,0)
This is option is a quick lookup of a CARC or RARC data. This is to be 
"KRN",19,13971,1,2,0)
used by the user to get a full description of a single or limited set of 
"KRN",19,13971,1,3,0)
codes.
"KRN",19,13971,20)
S QS=1
"KRN",19,13971,25)
EN^RCDPCRR
"KRN",19,13971,"U")
CARC/RARC QUICK SEARCH
"KRN",19,13972,-1)
0^33
"KRN",19,13972,0)
RCDPE EDI CARC-RARC SERVER^EDI Lockbox CARC-RARC Processing Server^^S^^^^^^^^ACCOUNTS RECEIVABLE
"KRN",19,13972,1,0)
^19.06^3^3^3150121^^^^
"KRN",19,13972,1,1,0)
This option is the server interface for processing the CARC/RARC data 
"KRN",19,13972,1,2,0)
files sent from the FSC in Austin. This option executes the processor to 
"KRN",19,13972,1,3,0)
file the records sent to the G.CARC_RARC_DATA MailMan Group.
"KRN",19,13972,25)
SERV^RCDPEMSG
"KRN",19,13972,220)
^R^CARC_RARC_DATA^Y^Y^^1^^7
"KRN",19,13972,"U")
EDI LOCKBOX CARC-RARC PROCESSI
"KRN",19,13975,-1)
1^35
"KRN",19,13975,0)
RCDPE UNAPPLIED EFT DEP REPORT
"KRN",19,13976,-1)
1^36
"KRN",19,13976,0)
RCDPETT TOOL
"KRN",101,450,-1)
4^10
"KRN",101,450,0)
VALM QUIT
"KRN",101,3303,-1)
0^3
"KRN",101,3303,0)
RCDPEX EOB_SUM EXCEPTION MENU^^^M^^^^^^^^ACCOUNTS RECEIVABLE
"KRN",101,3303,1,0)
^101.06^2^2^3140320^^^^
"KRN",101,3303,1,1,0)
This is the main menu that contains the actions that can be performed
"KRN",101,3303,1,2,0)
manually on 837 return messages.
"KRN",101,3303,4)
26^4
"KRN",101,3303,10,0)
^101.01PA^15^15
"KRN",101,3303,10,4,0)
450^^100^^^Exit
"KRN",101,3303,10,4,"^")
VALM QUIT
"KRN",101,3303,10,8,0)
3306^^10^
"KRN",101,3303,10,8,"^")
RCDPEX SUM_VIEW/PRINT MESSAGE
"KRN",101,3303,10,10,0)
3304^^30^
"KRN",101,3303,10,10,"^")
RCDPEX EOB_SUM REMOVE EXCEPT
"KRN",101,3303,10,11,0)
3305^^20^
"KRN",101,3303,10,11,"^")
RCDPEX SUM_FILE EXCEPTION
"KRN",101,3303,10,13,0)
3351^^60^
"KRN",101,3303,10,13,"^")
RCDPE EOB WORKLIST TPJI
"KRN",101,3303,10,14,0)
4661^^70^
"KRN",101,3303,10,14,"^")
RCDPEX RX_COMMENT
"KRN",101,3303,10,15,0)
3470^^50^
"KRN",101,3303,10,15,"^")
RCDPEX SUM_EDIT CLAIM
"KRN",101,3303,15)
I $G(RCFASTXT) S VALMBCK="Q"
"KRN",101,3303,26)
D SHOW^VALM
"KRN",101,3303,28)
Select Action: 
"KRN",101,3303,99)
63837,61439
"KRN",101,3304,-1)
4^31
"KRN",101,3304,0)
RCDPEX EOB_SUM REMOVE EXCEPT
"KRN",101,3305,-1)
4^32
"KRN",101,3305,0)
RCDPEX SUM_FILE EXCEPTION
"KRN",101,3306,-1)
4^30
"KRN",101,3306,0)
RCDPEX SUM_VIEW/PRINT MESSAGE
"KRN",101,3346,-1)
0^1
"KRN",101,3346,0)
RCDPE EOB WORKLIST MENU^EOB WORKLIST MENU^^M^^^^^^^^ACCOUNTS RECEIVABLE
"KRN",101,3346,1,0)
^101.06^2^2^3140210^^^^
"KRN",101,3346,1,1,0)
This is the main menu that contains the actions that can be performed
"KRN",101,3346,1,2,0)
manually on ERAs received.
"KRN",101,3346,4)
26^4
"KRN",101,3346,10,0)
^101.01PA^20^20
"KRN",101,3346,10,4,0)
450^^999^^^EXIT
"KRN",101,3346,10,4,"^")
VALM QUIT
"KRN",101,3346,10,6,0)
3419^^50^
"KRN",101,3346,10,6,"^")
RCDPE EOB WORKLIST SPLIT LINE
"KRN",101,3346,10,7,0)
3420^^100^
"KRN",101,3346,10,7,"^")
RCDPE EOB WORKLIST DIST ADJ
"KRN",101,3346,10,8,0)
3421^^150^
"KRN",101,3346,10,8,"^")
RCDPE EOB WORKLIST REFRESH
"KRN",101,3346,10,9,0)
3349^EOB^450^
"KRN",101,3346,10,9,"^")
RCDPE VIEW/PRINT WORKLIST EOB
"KRN",101,3346,10,10,0)
3422^ERA^500^
"KRN",101,3346,10,10,"^")
RCDPE VIEW/PRINT WORKLIST ERA
"KRN",101,3346,10,12,0)
3425^^200^
"KRN",101,3346,10,12,"^")
RCDPE EOB WORKLIST RESEARCH
"KRN",101,3346,10,14,0)
3429^^250^
"KRN",101,3346,10,14,"^")
RCDPE EOB WL RECEIPT VIEW
"KRN",101,3346,10,15,0)
3475^^300^
"KRN",101,3346,10,15,"^")
RCDPE EOB WL REVIEW
"KRN",101,3346,10,17,0)
3663^^350^
"KRN",101,3346,10,17,"^")
RCDPE EOB WORKLIST VERIFY
"KRN",101,3346,10,19,0)
4662^^400^
"KRN",101,3346,10,19,"^")
RCDPE EOB WORKLIST CHANGE VIEW
"KRN",101,3346,10,20,0)
4686^RP^550^
"KRN",101,3346,10,20,"^")
RCDPE EOB WORKLIST RECEIPT PROCESSING
"KRN",101,3346,15)
I $G(RCFASTXT) S VALMBCK="Q"
"KRN",101,3346,26)
D SHOW^VALM
"KRN",101,3346,28)
Select Action: 
"KRN",101,3346,99)
63837,61439
"KRN",101,3348,-1)
0^17
"KRN",101,3348,0)
RCDPE EOB WORKLIST RESEARCH MENU^Research Menu^^M^^^^^^^^ACCOUNTS RECEIVABLE
"KRN",101,3348,1,0)
^101.06^2^2^3140331^^
"KRN",101,3348,1,1,0)
This is the main menu that contains the actions that can be performed to 
"KRN",101,3348,1,2,0)
research a payment/denial for a claim when reviewing an EOB.
"KRN",101,3348,4)
26^4
"KRN",101,3348,10,0)
^101.01PA^9^9
"KRN",101,3348,10,1,0)
3351^^30^
"KRN",101,3348,10,1,"^")
RCDPE EOB WORKLIST TPJI
"KRN",101,3348,10,3,0)
3349^^60^
"KRN",101,3348,10,3,"^")
RCDPE VIEW/PRINT WORKLIST EOB
"KRN",101,3348,10,4,0)
3475^^70^
"KRN",101,3348,10,4,"^")
RCDPE EOB WL REVIEW
"KRN",101,3348,10,5,0)
3447^^40^
"KRN",101,3348,10,5,"^")
RCDPE EOB WORKLIST BILL COMMENT
"KRN",101,3348,10,6,0)
3446^^50^
"KRN",101,3348,10,6,"^")
RCDPE EOB WORKLIST REESTABLISH
"KRN",101,3348,10,7,0)
3411^^10^
"KRN",101,3348,10,7,"^")
RCDPE EOB WORKLIST FULL ACCT PROF
"KRN",101,3348,10,8,0)
3424^^100^
"KRN",101,3348,10,8,"^")
RCDPE EOB WL RESEARCH EXIT
"KRN",101,3348,10,9,0)
4475^^20^
"KRN",101,3348,10,9,"^")
RCDPE EOB WORKLIST ADMIN COST ADJ
"KRN",101,3348,15)
I $G(RCFASTXT) S VALMBCK="Q"
"KRN",101,3348,26)
D SHOW^VALM
"KRN",101,3348,28)
Select Action: 
"KRN",101,3348,99)
63837,61439
"KRN",101,3349,-1)
4^15
"KRN",101,3349,0)
RCDPE VIEW/PRINT WORKLIST EOB
"KRN",101,3351,-1)
4^23
"KRN",101,3351,0)
RCDPE EOB WORKLIST TPJI
"KRN",101,3411,-1)
4^26
"KRN",101,3411,0)
RCDPE EOB WORKLIST FULL ACCT PROF
"KRN",101,3419,-1)
4^11
"KRN",101,3419,0)
RCDPE EOB WORKLIST SPLIT LINE
"KRN",101,3420,-1)
4^12
"KRN",101,3420,0)
RCDPE EOB WORKLIST DIST ADJ
"KRN",101,3421,-1)
4^13
"KRN",101,3421,0)
RCDPE EOB WORKLIST REFRESH
"KRN",101,3422,-1)
4^14
"KRN",101,3422,0)
RCDPE VIEW/PRINT WORKLIST ERA
"KRN",101,3424,-1)
4^27
"KRN",101,3424,0)
RCDPE EOB WL RESEARCH EXIT
"KRN",101,3425,-1)
4^16
"KRN",101,3425,0)
RCDPE EOB WORKLIST RESEARCH
"KRN",101,3429,-1)
4^18
"KRN",101,3429,0)
RCDPE EOB WL RECEIPT VIEW
"KRN",101,3446,-1)
4^25
"KRN",101,3446,0)
RCDPE EOB WORKLIST REESTABLISH
"KRN",101,3447,-1)
4^24
"KRN",101,3447,0)
RCDPE EOB WORKLIST BILL COMMENT
"KRN",101,3470,-1)
4^34
"KRN",101,3470,0)
RCDPEX SUM_EDIT CLAIM
"KRN",101,3475,-1)
4^19
"KRN",101,3475,0)
RCDPE EOB WL REVIEW
"KRN",101,3657,-1)
0^4
"KRN",101,3657,0)
RCDPE WORKLIST ERA LIST MENU^ERA WORKLIST PICK LIST^^M^^^^^^^^ACCOUNTS RECEIVABLE
"KRN",101,3657,1,0)
^101.06^2^2^3140429^^^^
"KRN",101,3657,1,1,0)
This is the main menu that contains the actions that can be performed
"KRN",101,3657,1,2,0)
manually on ERAs received.
"KRN",101,3657,4)
26^4
"KRN",101,3657,10,0)
^101.01PA^6^6
"KRN",101,3657,10,1,0)
3658^^50^
"KRN",101,3657,10,1,"^")
RCDPE WORKLIST ERA SELECT
"KRN",101,3657,10,2,0)
3659^^100^
"KRN",101,3657,10,2,"^")
RCDPE WORKLIST ERA SORT
"KRN",101,3657,10,3,0)
3660^^150^
"KRN",101,3657,10,3,"^")
RCDPE ERA LIST VIEW ERA
"KRN",101,3657,10,4,0)
4660^^200^
"KRN",101,3657,10,4,"^")
RCDPE ERA WORKLIST CHANGE VIEW
"KRN",101,3657,10,5,0)
450^^999^^^EXIT
"KRN",101,3657,10,5,"^")
VALM QUIT
"KRN",101,3657,10,6,0)
4685^^300^
"KRN",101,3657,10,6,"^")
RCDPE EFT ERA MANUAL MATCH
"KRN",101,3657,15)
I $G(RCFASTXT) S VALMBCK="Q"
"KRN",101,3657,26)
D SHOW^VALM
"KRN",101,3657,28)
Select Action: 
"KRN",101,3657,99)
63837,61439
"KRN",101,3658,-1)
4^35
"KRN",101,3658,0)
RCDPE WORKLIST ERA SELECT
"KRN",101,3659,-1)
4^36
"KRN",101,3659,0)
RCDPE WORKLIST ERA SORT
"KRN",101,3660,-1)
4^37
"KRN",101,3660,0)
RCDPE ERA LIST VIEW ERA
"KRN",101,3663,-1)
4^20
"KRN",101,3663,0)
RCDPE EOB WORKLIST VERIFY
"KRN",101,4475,-1)
4^28
"KRN",101,4475,0)
RCDPE EOB WORKLIST ADMIN COST ADJ
"KRN",101,4660,-1)
4^38
"KRN",101,4660,0)
RCDPE ERA WORKLIST CHANGE VIEW
"KRN",101,4661,-1)
4^33
"KRN",101,4661,0)
RCDPEX RX_COMMENT
"KRN",101,4662,-1)
4^21
"KRN",101,4662,0)
RCDPE EOB WORKLIST CHANGE VIEW
"KRN",101,4685,-1)
0^5
"KRN",101,4685,0)
RCDPE EFT ERA MANUAL MATCH^Manual Match^^A^^^^^^^^ACCOUNTS RECEIVABLE
"KRN",101,4685,20)
D MATCHWL^RCDPEM2
"KRN",101,4685,28)
Manual Match
"KRN",101,4685,99)
63837,61439
"KRN",101,4686,-1)
0^39
"KRN",101,4686,0)
RCDPE EOB WORKLIST RECEIPT PROCESSING^Receipt Processing^^A^^^^^^^^ACCOUNTS RECEIVABLE
"KRN",101,4686,1,0)
^^1^1^3150731^
"KRN",101,4686,1,1,0)
This option will jump to the receipt profile listmanager
"KRN",101,4686,20)
D RECPROC^RCDPEWL4
"KRN",101,4686,99)
63837,61439
"KRN",101,4687,-1)
0^40
"KRN",101,4687,0)
RCDPE ECME INFORMATION^ECME Information^^A^^^^^^^^ACCOUNTS RECEIVABLE
"KRN",101,4687,20)
D GOECME^RCDPEWL2
"KRN",101,4687,99)
63837,61439
"MBREQ")
1
"ORD",0,9.8)
9.8;;1;RTNF^XPDTA;RTNE^XPDTA
"ORD",0,9.8,0)
ROUTINE
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",11,3.8)
3.8;11;;;MAILG^XPDTA1;MAILGF1^XPDIA1;MAILGE1^XPDIA1;MAILGF2^XPDIA1;;MAILGDEL^XPDIA1(%)
"ORD",11,3.8,0)
MAIL GROUP
"ORD",15,101)
101;15;;;PRO^XPDTA;PROF1^XPDIA;PROE1^XPDIA;PROF2^XPDIA;;PRODEL^XPDIA
"ORD",15,101,0)
PROTOCOL
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",142,-1)
1^1
"PKG",142,0)
ACCOUNTS RECEIVABLE^PRCA^BILL COLLECTIONS
"PKG",142,20,0)
^9.402P^1^1
"PKG",142,20,1,0)
2^^PRCAMRG
"PKG",142,20,1,1)

"PKG",142,20,"B",2,1)

"PKG",142,22,0)
^9.49I^1^1
"PKG",142,22,1,0)
4.5^^2950320
"PKG",142,22,1,"PAH",1,0)
303^3160411^123457089
"PKG",142,22,1,"PAH",1,1,0)
^^13^13^3160411
"PKG",142,22,1,"PAH",1,1,1,0)
MCCF (Medical Care Collection Fund) Enhancement for uniform use of
"PKG",142,22,1,"PAH",1,1,2,0)
CARC/RARC (Claims Adjustment Rason Codes/Remittance Advice
"PKG",142,22,1,"PAH",1,1,3,0)
Reason Codes) Codes
"PKG",142,22,1,"PAH",1,1,4,0)
 
"PKG",142,22,1,"PAH",1,1,5,0)
This patch implements changes to the Veterans Health Information Systems 
"PKG",142,22,1,"PAH",1,1,6,0)
and Technology Architecture (VistA) Accounts Receivable (AR) software
"PKG",142,22,1,"PAH",1,1,7,0)
requested by the Veterans Health Administration (VHA) Chief Business
"PKG",142,22,1,"PAH",1,1,8,0)
Office (CBO) business Solutions to comply with legislative changes
"PKG",142,22,1,"PAH",1,1,9,0)
mandated by the Health Insurance Portability and Accountability Act of
"PKG",142,22,1,"PAH",1,1,10,0)
1996 (HIPAA) as amended by Public Law (P.L.) 111-148, The Patient
"PKG",142,22,1,"PAH",1,1,11,0)
Protection and Affordable Care Act (PPACA), Section 1104.
"PKG",142,22,1,"PAH",1,1,12,0)
 
"PKG",142,22,1,"PAH",1,1,13,0)
This patch implements the following:
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
27
"RTN","PRCAAPR1")
0^32^B43791904
"RTN","PRCAAPR1",1,0)
PRCAAPR1 ;WASH-ISC@ALTOONA,PA/RGY - PATIENT ACCOUNT PROFILE ;2/12/97  11:48 AM
"RTN","PRCAAPR1",2,0)
 ;;4.5;Accounts Receivable;**34,45,108,143,141,206,192,218,276,275,284,303**;Mar 20, 1995;Build 84
"RTN","PRCAAPR1",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","PRCAAPR1",4,0)
 ;
"RTN","PRCAAPR1",5,0)
 ; PRCAAPR cleans up BILL, COUNT, DEBT, DTOUT, DIC, OUT, PRCADB, SEL, X
"RTN","PRCAAPR1",6,0)
HDR ;Head for Account profile
"RTN","PRCAAPR1",7,0)
 S X="",$P(X,"=",23)="" W @IOF,!,X,"   A c c o u n t   P r o f i l e   ",X
"RTN","PRCAAPR1",8,0)
HDR1 N DMC,IBRX,RSN,TOP4,TOP6,DPTFLG,ACCTNUM,RCCV
"RTN","PRCAAPR1",9,0)
 S IBRX=0,DPTFLG=0
"RTN","PRCAAPR1",10,0)
 ;
"RTN","PRCAAPR1",11,0)
 ;Display new 'Statement Account Number" (Patch 206)
"RTN","PRCAAPR1",12,0)
 I PRCADB["DPT(" S DPTFLG=1,ACCTNUM=$$ACCT(PRCADB)
"RTN","PRCAAPR1",13,0)
 ;
"RTN","PRCAAPR1",14,0)
 W !,$P(DEBT,"^",2) I DPTFLG!(PRCADB["VA(200,") S X=$S(PRCADB["DPT(":$P(^DPT(+PRCADB,0),"^",9),1:$P($G(^VA(200,+PRCADB,1)),"^",9)) W " (",$E(X,1,3),"-",$E(X,4,5),"-",$E(X,6,9),")"
"RTN","PRCAAPR1",15,0)
 W ?53,"Statement Day: ",$S($$PST^RCAMFN01(+DEBT)>0:$$PST^RCAMFN01(+DEBT),1:"N/A")
"RTN","PRCAAPR1",16,0)
 K Y S X("ADD")=$$DADD^RCAMADD(PRCADB)
"RTN","PRCAAPR1",17,0)
 ;
"RTN","PRCAAPR1",18,0)
 ;Display new 'Statement Account Number" (Patch 206)
"RTN","PRCAAPR1",19,0)
 I DPTFLG W !,"Statement Account #: ",ACCTNUM,?52,"Last Statement: "
"RTN","PRCAAPR1",20,0)
 E  W !?52,"Last Statement: "
"RTN","PRCAAPR1",21,0)
 ;
"RTN","PRCAAPR1",22,0)
 S Y=+$$LST^RCFN01(PRCADB,2)
"RTN","PRCAAPR1",23,0)
 I Y>0 S Y("CCPC")=$$FPS^RCCPCFN(+DEBT) S:Y("CCPC") Y=+$P(Y("CCPC"),"^")
"RTN","PRCAAPR1",24,0)
 W $S(Y=-1:"N/A",1:$$SLH^RCFN01(Y))
"RTN","PRCAAPR1",25,0)
 W !,$P(X("ADD"),"^")
"RTN","PRCAAPR1",26,0)
 W:+$G(Y("CCPC")) ?52,"Activity as of: ",$$SLH^RCFN01($$ASOF^RCCPCFN($P(Y("CCPC"),"^",2)))
"RTN","PRCAAPR1",27,0)
 W:$P(X("ADD"),"^",2)]"" !,$P(X("ADD"),"^",2) W:$P(X("ADD"),"^",3)]"" !,$P(X("ADD"),"^",3)
"RTN","PRCAAPR1",28,0)
 W ! W:$P(X("ADD"),"^",4)]"" $P(X("ADD"),"^",4),", ",$P(X("ADD"),"^",5),"  ",$S($P(X("ADD"),"^",6):$P(X("ADD"),"^",6),1:$P(X("ADD"),"^",8))
"RTN","PRCAAPR1",29,0)
 W ?55,"Amount Owed: ",?69,$J(+$G(^TMP("PRCAAPR",$J,"C")),9,2)
"RTN","PRCAAPR1",30,0)
 W !,"Phone #: ",$S($P(X("ADD"),"^",7)]"":$P(X("ADD"),"^",7),1:"N/A")
"RTN","PRCAAPR1",31,0)
 I PRCADB["DPT(" W ?51,"RX Copay Exempt: " S IBRX=$$RXST^IBARXEU(+PRCADB,DT) W $S($P(IBRX,U)=1:"YES",$P(IBRX,U)=0:"NO",1:"N/A")
"RTN","PRCAAPR1",32,0)
 I PRCADB["DPT(" W !?57,"CV Status: " S RCCV=$$CVEDT^DGCV(+PRCADB,DT) W $S($P(RCCV,U,3)>0:"YES",1:"NO") I $P(RCCV,U,2) W !?52,"CV Status Ends: ",$$SLH^RCFN01($P(RCCV,U,2))
"RTN","PRCAAPR1",33,0)
 ; *108 add exemption reason/dmc info
"RTN","PRCAAPR1",34,0)
 I IBRX>0,($P(IBRX,U)=1) S DIC="^IBE(354.2,",DIC(0)="M",X=+$P(IBRX,"^",3) D ^DIC I Y>0 W !,?54,"(",$P(Y,"^",2),")"
"RTN","PRCAAPR1",35,0)
 I $D(^RCD(340,"DMC",1,+DEBT)) S DMC=$G(^RCD(340,+DEBT,3)) D
"RTN","PRCAAPR1",36,0)
 .I $P(DMC,"^",2) W !,"** Account forwarded to DMC: ",$$SLH^RCFN01($P(DMC,"^",2)),?50,"Total DMC Amount: ",?69,$J($P(DMC,"^",5),9,2)
"RTN","PRCAAPR1",37,0)
 .I $P(DMC,"^",9)'="" W !,?49,"Lesser Amt to DMC: ",?69,$J($P(DMC,"^",9),9,2)
"RTN","PRCAAPR1",38,0)
 .Q
"RTN","PRCAAPR1",39,0)
 I $D(^RCD(340,"TOP",+DEBT)) S TOP4=$G(^RCD(340,+DEBT,4)),TOP6=$G(^(6)) D
"RTN","PRCAAPR1",40,0)
 .I +TOP6 W !,"** Account forwarded to TOP: ",$$SLH^RCFN01($P(TOP6,"^")),?45,"Total TOP Amount: ",?65,$J($P(TOP4,"^",3),13,2)
"RTN","PRCAAPR1",41,0)
 .I $P(TOP6,"^",6) W !,?45,"TOP HOLD DATE: ",$$SLH^RCFN01($P(TOP6,"^",6))
"RTN","PRCAAPR1",42,0)
 .Q
"RTN","PRCAAPR1",43,0)
 I $O(^RCD(340,+DEBT,2,0)) D
"RTN","PRCAAPR1",44,0)
 .S Y=0 F X=0:0 S X=$O(^RCD(340,+DEBT,2,X)) Q:'X  W:'Y ! W !,$G(^(X,0)) S Y=Y+1 W:Y=3&$O(^RCD(340,+DEBT,2,X)) "..." Q:Y=3
"RTN","PRCAAPR1",45,0)
 .Q
"RTN","PRCAAPR1",46,0)
 Q
"RTN","PRCAAPR1",47,0)
 ; PRCA*4.5*276 - moved headers right to add EOB indicator to bill #, adjusted at tag BLN accordingly
"RTN","PRCAAPR1",48,0)
 ; PRCA*4.5*275 - moved headers to line up with column changes
"RTN","PRCAAPR1",49,0)
HDR2 W !!,"#",?5,"Bill #",?20,"Est",?31,"Type",?43,"Paid",?52,"Prin",?58,"Int",?64,"Adm",?72,"Balance"
"RTN","PRCAAPR1",50,0)
 Q
"RTN","PRCAAPR1",51,0)
DIS ;Display bill line items
"RTN","PRCAAPR1",52,0)
 NEW STAT1
"RTN","PRCAAPR1",53,0)
 I '$O(^TMP("PRCAAPR",$J,"C",0)) S X="",$P(X,"*",22)="" W !!,X,"  NO ACCOUNT INFORMATION AVAILABLE  ",X G Q1
"RTN","PRCAAPR1",54,0)
 F STAT1=0:0 S STAT1=$O(^TMP("PRCAAPR",$J,"C",STAT1)) Q:'STAT1!$D(OUT)  D BHDR S BILL=0 F  S BILL=$O(^TMP("PRCAAPR",$J,"C",STAT1,BILL)) Q:BILL=""!$D(OUT)  D BLN
"RTN","PRCAAPR1",55,0)
 I '$D(OUT) D READ
"RTN","PRCAAPR1",56,0)
Q1 Q
"RTN","PRCAAPR1",57,0)
BHDR ;Display status line
"RTN","PRCAAPR1",58,0)
 S X=$S(+$P(^TMP("PRCAAPR",$J,"C",STAT1),"^",2)=99:"PAYMENTS",1:$P($G(^PRCA(430.3,+$O(^PRCA(430.3,"AC",+$P(^TMP("PRCAAPR",$J,"C",STAT1),"^",2),0)),0)),"^"))
"RTN","PRCAAPR1",59,0)
 S Y=" "_X_" ("_$J(+^TMP("PRCAAPR",$J,"C",STAT1),0,2)_") " W ! F X=1:1:80-$L(Y)/2 W "-"
"RTN","PRCAAPR1",60,0)
 W Y F X=1:1:IOM-$X-1 W "-"
"RTN","PRCAAPR1",61,0)
 Q
"RTN","PRCAAPR1",62,0)
BLN ;
"RTN","PRCAAPR1",63,0)
 N PRCOUT,REJFLAG
"RTN","PRCAAPR1",64,0)
 I $Y+5>IOSL,COUNT D READ G:$D(OUT) Q2 D HDR,HDR2,BHDR
"RTN","PRCAAPR1",65,0)
 ; PRCA*4.5*276, attach EOB indicator '%' to bill # when applicable
"RTN","PRCAAPR1",66,0)
 S PRCOUT=$$COMP3^PRCAAPR(BILL)
"RTN","PRCAAPR1",67,0)
 I STAT1'=99,PRCOUT'="%" S PRCOUT=$$IBEEOBCK(BILL)
"RTN","PRCAAPR1",68,0)
 ; PRCA*4.5*303 - add reject indicator to kbill if applicable ; #IA 6060
"RTN","PRCAAPR1",69,0)
 S REJFLAG=0 S:STAT1'=99 REJFLAG=$$BILLREJ^IBJTU6($P($P($G(^PRCA(430,BILL,0)),"^"),"-",2))
"RTN","PRCAAPR1",70,0)
 S:STAT1'=99 COUNT=COUNT+1,^TMP("PRCAAPR",$J,"O",COUNT)=BILL S X=$S(STAT1=99:BILL,1:$G(PRCOUT)_$S(REJFLAG:"c",1:"")_$G(^PRCA(430,BILL,0)))
"RTN","PRCAAPR1",71,0)
 ; PRCA*4.5*303 - End
"RTN","PRCAAPR1",72,0)
 W !,$S(STAT1'=99:COUNT,1:"*"),?4,$P(X,"^") W:STAT1'=99 ?20,$$SLH^RCFN01($P(X,"^",10))
"RTN","PRCAAPR1",73,0)
 W:STAT1'=99 ?31,$S($P(X,"^",2)=31:"TRIC PT",1:$E($P($G(^PRCA(430.2,$S($O(^PRCA(430.2,"AC",24,0))=$P(X,"^",2):+$P(X,"^",16),1:+$P(X,"^",2)),0)),"^"),1,7))  ; PRCA*4.5*192 changed CHMP PT to TRIC PT
"RTN","PRCAAPR1",74,0)
 W:STAT1=99 ?31,"PAYMENT"
"RTN","PRCAAPR1",75,0)
 S X=$S(STAT1=99:"^^^^^^"_^TMP("PRCAAPR",$J,"C",STAT1,BILL),1:$G(^PRCA(430,BILL,7))) W ?39 W:STAT1=99 "-" W $J($P(X,"^",7)+$P(X,"^",8)+$P(X,"^",9)+$P(X,"^",10)+$P(X,"^",11),8,2)
"RTN","PRCAAPR1",76,0)
 W ?48 W:STAT1=99 " " W:STAT1'=99 $S($P(^PRCA(430,BILL,0),"^",2)=$O(^PRCA(430.2,"AC",33,0)):"-",1:" ")
"RTN","PRCAAPR1",77,0)
 W $J($P(X,"^"),7,2),?57,$J($P(X,"^",2),5,2),?63,$J($P(X,"^",3),5,2),?69,$S(STAT1=99:"-",$P(^PRCA(430,BILL,0),"^",2)=$O(^PRCA(430.2,"AC",33,0)):"-",1:" ")
"RTN","PRCAAPR1",78,0)
 W $S(STAT1=99:$J(^TMP("PRCAAPR",$J,"C",STAT1,BILL),9,2),1:$J($P(X,"^")+$P(X,"^",2)+$P(X,"^",3)+$P(X,"^",4)+$P(X,"^",5),9,2))
"RTN","PRCAAPR1",79,0)
 K ^TMP("PRCAAPR",$J,"C",STAT1,BILL) K:$O(^TMP("PRCAAPR",$J,"C",STAT1,""))="" ^TMP("PRCAAPR",$J,"C",STAT1)
"RTN","PRCAAPR1",80,0)
Q2 Q
"RTN","PRCAAPR1",81,0)
READ ;Read bill number
"RTN","PRCAAPR1",82,0)
 W !!,"Select 1-",COUNT W:$O(^TMP("PRCAAPR",$J,"C","")) " or return to continue" R ": ",X:DTIME I X["^"!'$T S:'$T DTOUT=1 S OUT=1 G Q3
"RTN","PRCAAPR1",83,0)
 I X["?" W !!,"To see detailed information for a bill number, enter the corresponding '#'",!,"next to the bill.  (Ex: 1 or 1,3)" G READ
"RTN","PRCAAPR1",84,0)
 I X="",'$O(^TMP("PRCAAPR",$J,"C","")) S OUT=1 G Q3
"RTN","PRCAAPR1",85,0)
 G:X="" Q3 S SEL=X
"RTN","PRCAAPR1",86,0)
 F X=1:1:$L(SEL,",") S Y=$P(SEL,",",X) I Y'?1N.N!'$D(^TMP("PRCAAPR",$J,"O",+Y)) W *7," ??" G READ
"RTN","PRCAAPR1",87,0)
 S OUT=1 F X=1:1:$L(SEL,",") S Y=$P(SEL,",",X) D EN1^PRCAATR($G(^TMP("PRCAAPR",$J,"O",+Y)))
"RTN","PRCAAPR1",88,0)
Q3 Q
"RTN","PRCAAPR1",89,0)
 ;
"RTN","PRCAAPR1",90,0)
ACCT(DFN) ;Get account number. Join station with DFN (Patch 206)
"RTN","PRCAAPR1",91,0)
 N SITE,ACCT,ACCT1,LEN
"RTN","PRCAAPR1",92,0)
 S DFN=+DFN
"RTN","PRCAAPR1",93,0)
 S LEN=$L(DFN)-1
"RTN","PRCAAPR1",94,0)
 S SITE=$$SITE^RCMSITE                          ;station number
"RTN","PRCAAPR1",95,0)
 S ACCT=$$RJ^XLFSTR(DFN,13,0)                   ;add leading zeroes
"RTN","PRCAAPR1",96,0)
 S ACCT1=SITE_"-"_$E(ACCT,1,$L(ACCT)-$L(DFN))   ;add hyphen
"RTN","PRCAAPR1",97,0)
 S ACCT1=ACCT1_"-"_$E(ACCT,$L(ACCT)-LEN,99)     ;add hyphen
"RTN","PRCAAPR1",98,0)
 S ACCT1=ACCT1_"-"_$E($P($P(DEBT,U,2),","),1,5) ;add last name
"RTN","PRCAAPR1",99,0)
 Q ACCT1
"RTN","PRCAAPR1",100,0)
 ;
"RTN","PRCAAPR1",101,0)
 ; PRCA*4.5*276 -  Use Event Date to find an associated 3rd Party bill with an associated EEOB
"RTN","PRCAAPR1",102,0)
IBEEOBCK(PRCAAR) ; Passed AR Bill
"RTN","PRCAAPR1",103,0)
 ; Function will quit as soon as a 3rd party bill is located that has an associated EEOB
"RTN","PRCAAPR1",104,0)
 ;
"RTN","PRCAAPR1",105,0)
 ; Find 3rd Party Bills with an Event Date
"RTN","PRCAAPR1",106,0)
 N PRCAREF,PRCAEEOB,PRCADT,DFN,DBTR,X1
"RTN","PRCAAPR1",107,0)
 ; Get DFN
"RTN","PRCAAPR1",108,0)
 S DBTR=+$P($G(^PRCA(430,PRCAAR,0)),U,9)
"RTN","PRCAAPR1",109,0)
 S X1=$P($G(^RCD(340,DBTR,0)),U) I X1'["DPT" Q ""
"RTN","PRCAAPR1",110,0)
 S DFN=+X1
"RTN","PRCAAPR1",111,0)
 S PRCAEEOB=""
"RTN","PRCAAPR1",112,0)
 ; Loop through Xref of ARbill (#430) to Action file (#350)
"RTN","PRCAAPR1",113,0)
 I +$G(PRCAAR) S PRCAREF=0 F  S PRCAREF=$O(^IB("ABIL",$P($G(^PRCA(430,PRCAAR,0)),"^"),PRCAREF)) Q:'PRCAREF  D  Q:PRCAEEOB="%"
"RTN","PRCAAPR1",114,0)
 . S PRCADT=$P($G(^IB(PRCAREF,0)),"^",17) ;Get event Date
"RTN","PRCAAPR1",115,0)
 . I PRCADT S PRCAEEOB=$$TPEVDT(DFN,PRCADT) Q:PRCAEEOB="%"
"RTN","PRCAAPR1",116,0)
 . I PRCADT S PRCAEEOB=$$TPOPV(DFN,PRCADT)
"RTN","PRCAAPR1",117,0)
 ;
"RTN","PRCAAPR1",118,0)
 Q PRCAEEOB
"RTN","PRCAAPR1",119,0)
 ;
"RTN","PRCAAPR1",120,0)
 ; PRCA*4.5*276 - Traverse all THIRD PARTY bills for a patient with a specific Event Date (399,.03)
"RTN","PRCAAPR1",121,0)
TPEVDT(DFN,EVDT) ;
"RTN","PRCAAPR1",122,0)
 ; Function will quit as soon as a 3rd party bill is located that has an associated EEOB
"RTN","PRCAAPR1",123,0)
 ; PRCA*4.5*284 - Use the 399,"APDT" (by patient) index instead of the 399,"D" index for efficiency
"RTN","PRCAAPR1",124,0)
 I '$G(DFN)!'$G(EVDT) Q ""
"RTN","PRCAAPR1",125,0)
 N PRCAIFN,PRCAEEOB
"RTN","PRCAAPR1",126,0)
 S PRCAEEOB="",PRCAIFN=""
"RTN","PRCAAPR1",127,0)
 F  S PRCAIFN=$O(^DGCR(399,"APDT",DFN,PRCAIFN),-1) Q:'PRCAIFN  D  Q:PRCAEEOB="%"
"RTN","PRCAAPR1",128,0)
 . I $D(^DGCR(399,"APDT",DFN,PRCAIFN,9999999-EVDT)) S PRCAEEOB=$$COMP3^PRCAAPR(PRCAIFN)
"RTN","PRCAAPR1",129,0)
 Q PRCAEEOB
"RTN","PRCAAPR1",130,0)
 ;
"RTN","PRCAAPR1",131,0)
 ; PRCA*4.5*276 - Traverse all THIRD PARTY bills for a patient with any Opt Visit Dates same as Event Date (399,43)
"RTN","PRCAAPR1",132,0)
TPOPV(DFN,EVDT) ;
"RTN","PRCAAPR1",133,0)
 ; Function will quit as soon as a 3rd party bill is located that has an associated EEOB
"RTN","PRCAAPR1",134,0)
 N PRCAIFN,PRCAEEOB
"RTN","PRCAAPR1",135,0)
 S PRCAEEOB=""
"RTN","PRCAAPR1",136,0)
 I +$G(DFN),+$G(EVDT) S PRCAIFN=0 F  S PRCAIFN=$O(^DGCR(399,"AOPV",DFN,EVDT,PRCAIFN)) Q:'PRCAIFN  D  Q:PRCAEEOB="%"
"RTN","PRCAAPR1",137,0)
 . ; attach EOB indicator '%' to bill # when applicable
"RTN","PRCAAPR1",138,0)
 . S PRCAEEOB=$$COMP3^PRCAAPR(PRCAIFN)
"RTN","PRCAAPR1",139,0)
 Q PRCAEEOB
"RTN","PRCAATR")
0^33^B19181234
"RTN","PRCAATR",1,0)
PRCAATR ;WASH-ISC@ALTOONA,PA/RGY - VIEW TRANSACTION FOR BILLS ;2/14/96  2:46 PM
"RTN","PRCAATR",2,0)
V ;;4.5;Accounts Receivable;**36,104,172,138,233,276,303**;Mar 20, 1995;Build 84
"RTN","PRCAATR",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","PRCAATR",4,0)
 ;
"RTN","PRCAATR",5,0)
 ; PRCAAPR cleans up DEBT, DTOUT
"RTN","PRCAATR",6,0)
EN1(BILL) ;ENTRY POINT FROM PRCAAPR
"RTN","PRCAATR",7,0)
 NEW X,COUNT,OUT,TRAN,SEL,PRCAATRX,PRCAIO,PRCAIOS,D0,PRCAQUE,POP,PRCAPRT,Y,ZTSK,PRCOUT,REJFLG
"RTN","PRCAATR",8,0)
 I '$D(BILL) G Q
"RTN","PRCAATR",9,0)
 I BILL'?1N.N!'$D(^PRCA(430,+BILL,0)) G Q
"RTN","PRCAATR",10,0)
 ; PRCA*4.5*276
"RTN","PRCAATR",11,0)
 S PRCOUT=$$COMP3^PRCAAPR(BILL) ; check for 1st and 3rd party payments
"RTN","PRCAATR",12,0)
 I PRCOUT'="%" S PRCOUT=$$IBEEOBCK^PRCAAPR1(BILL)
"RTN","PRCAATR",13,0)
 S PRCAPRT=1,PRCAIO=IO(0),PRCAIO(0)=IO(0),COUNT=0 K ^TMP("PRCAATR",$J)
"RTN","PRCAATR",14,0)
 D HDR,DIS,^%ZISC
"RTN","PRCAATR",15,0)
Q K ^TMP("PRCAATR",$J),IO("Q") Q
"RTN","PRCAATR",16,0)
HDR ;Header
"RTN","PRCAATR",17,0)
 D HDR^PRCAAPR1
"RTN","PRCAATR",18,0)
 I $P($G(^PRCA(430,BILL,13)),"^") W !,"MEDICARE CONTRACTUAL ADJUSTMENT: ",$J($P($G(^PRCA(430,BILL,13)),"^"),0,2)
"RTN","PRCAATR",19,0)
 I $P($G(^PRCA(430,BILL,13)),"^",2) W !,"UNREIMBURSED MEDICARE EXPENSE: ",$J($P($G(^PRCA(430,BILL,13)),"^",2),0,2)
"RTN","PRCAATR",20,0)
 ; PRCA*4.5*303 - Adding reject indicator, 'x' to bill number when applicable
"RTN","PRCAATR",21,0)
 S REJFLG=$$BILLREJ^IBJTU6($P($P($G(^PRCA(430,BILL,0)),"^"),"-",2)) ; IA# 6060
"RTN","PRCAATR",22,0)
 ; PRCA*4.5*276 - attach EEOB indicator to bill number
"RTN","PRCAATR",23,0)
 W !,"Bill #: ",$G(PRCOUT)_$S(REJFLG:"c",1:"")_$P(^PRCA(430,BILL,0),"^") D:$P(^(0),"^",9)'=+DEBT DEB
"RTN","PRCAATR",24,0)
 W !!,"#",?8,"Tr #",?17,"Type",?52,"Date",?70,"Amount"
"RTN","PRCAATR",25,0)
 S X="",$P(X,"-",IOM)="" W !,X
"RTN","PRCAATR",26,0)
 Q
"RTN","PRCAATR",27,0)
DIS ;Display transactions
"RTN","PRCAATR",28,0)
 W !,?17,"Original Amount",?52,$$SLH^RCFN01($P(^PRCA(430,BILL,0),"^",10)),?65,$J($P(^(0),"^",3),11,2)
"RTN","PRCAATR",29,0)
 I '$O(^PRCA(433,"C",BILL,0)) D
"RTN","PRCAATR",30,0)
 . S X="",$P(X,"*",20)="" W !!,X,"  NO TRANSACTION INFORMATION AVAILABLE  ",X
"RTN","PRCAATR",31,0)
RD . R !!,"Press return to continue: ",X:DTIME S:'$T DTOUT=1 S OUT=1
"RTN","PRCAATR",32,0)
 . I X["?" W !!,"Press the return key to return to menu." G RD
"RTN","PRCAATR",33,0)
 . Q
"RTN","PRCAATR",34,0)
 F TRAN=0:0 S TRAN=$O(^PRCA(433,"C",BILL,TRAN)) Q:'TRAN!$D(OUT)  D TLN
"RTN","PRCAATR",35,0)
 S X=$G(^PRCA(430,BILL,7))
"RTN","PRCAATR",36,0)
 I '$D(OUT) W !?65,"-----------",!,?64,"$",$J($P(X,"^")+$P(X,"^",2)+$P(X,"^",3)+$P(X,"^",4)+$P(X,"^",5),11,2) D READ
"RTN","PRCAATR",37,0)
 Q
"RTN","PRCAATR",38,0)
TLN ;Display a transaction
"RTN","PRCAATR",39,0)
 N YR
"RTN","PRCAATR",40,0)
 I $Y+5>IOSL,COUNT D READ G:$D(DTOUT)!$D(OUT) Q1 D HDR
"RTN","PRCAATR",41,0)
 S COUNT=COUNT+1,X=$G(^PRCA(433,TRAN,1)),^TMP("PRCAATR",$J,COUNT)=TRAN
"RTN","PRCAATR",42,0)
 W !,COUNT,$S($P(^PRCA(433,TRAN,0),"^",4)=1!$P(^(0),"^",10):"(I)",1:""),?8,TRAN,?17
"RTN","PRCAATR",43,0)
 W $S($P($G(^PRCA(430.3,+$P(X,"^",2),0)),"^",3)=17:$P($G(^PRCA(433,TRAN,5)),"^",2),1:$P($G(^(0)),"^"))
"RTN","PRCAATR",44,0)
 ;  show decrease adjustments as negative (patch 4.5*172)
"RTN","PRCAATR",45,0)
 I $P(X,"^",2)=35 S:$P(X,"^",5)>0 $P(X,"^",5)=-$P(X,"^",5)
"RTN","PRCAATR",46,0)
 W ?52,$S(+X:$$SLH^RCFN01(+X),1:""),?65,$J($P(X,"^",5),11,2)
"RTN","PRCAATR",47,0)
Q1 Q
"RTN","PRCAATR",48,0)
READ ;Read a trans number
"RTN","PRCAATR",49,0)
 I IO'=IO(0) G Q2
"RTN","PRCAATR",50,0)
ASK W !!,"Select 1-",COUNT,$S(PRCAPRT:" or 'P' to Print",1:" to print") W:TRAN " or return to continue" R ": ",X:DTIME I X["^"!'$T S:'$T DTOUT=1 S OUT=1 G Q2
"RTN","PRCAATR",51,0)
 I PRCAPRT,X="P" S %ZIS="MQ" D ^%ZIS D  S PRCAPRT=0,PRCAIO=IO,PRCAIO(0)=IO(0) G:'POP ASK K POP S OUT=1 G Q2
"RTN","PRCAATR",52,0)
 . I $D(IO("S")) S PRCAIOS=ION D ^%ZISC
"RTN","PRCAATR",53,0)
 . Q
"RTN","PRCAATR",54,0)
 I X["?" W !!,"To see detailed information for a transaction number, enter the corresponding '#'",!,"next to the transaction.  (Ex: 1 or 1,3)" G ASK
"RTN","PRCAATR",55,0)
 I X="" S:TRAN="" OUT=1 G Q2
"RTN","PRCAATR",56,0)
 S SEL=X
"RTN","PRCAATR",57,0)
 F X=1:1:$L(SEL,",") S Y=$P(SEL,",",X) I Y'?1N.N!'$D(^TMP("PRCAATR",$J,+Y)) W *7," ??" G READ
"RTN","PRCAATR",58,0)
 F PRCAATRX=1:1:$L(SEL,",") S Y=$P(SEL,",",PRCAATRX) D VT Q:$D(OUT)
"RTN","PRCAATR",59,0)
 S OUT=1
"RTN","PRCAATR",60,0)
Q2 Q
"RTN","PRCAATR",61,0)
VT ;View a transaction
"RTN","PRCAATR",62,0)
 N IOP,%ZIS,ZTRTN,ZTDESC,ZTSAVE,ZTDTH
"RTN","PRCAATR",63,0)
 S D0=$G(^TMP("PRCAATR",$J,+Y)) G:'D0 Q3
"RTN","PRCAATR",64,0)
 I $D(IO("Q")) S ZTSAVE("D0")="",ZTSAVE("PRCAIO")=IO,ZTSAVE("PRCAIO(0)")=IO(0),ZTRTN="DQ^PRCAATR",ZTDESC="AR TRANS PROFILE",ZTDTH=$H D ^%ZTLOAD W !,"*** Trans # ",D0," REQUEST QUEUED ***" G Q3
"RTN","PRCAATR",65,0)
 I IO'=IO(0) W !,"OK, Printing Transaction # ",D0," ..."
"RTN","PRCAATR",66,0)
 I $D(PRCAIOS) S IOP=PRCAIOS D ^%ZIS
"RTN","PRCAATR",67,0)
 U IO D DQ U IO(0)
"RTN","PRCAATR",68,0)
Q3 Q
"RTN","PRCAATR",69,0)
DQ ;
"RTN","PRCAATR",70,0)
 W @IOF S X="",$P(X,"=",30)="" W !,X," TRANSACTION PROFILE ",X,!!
"RTN","PRCAATR",71,0)
 K DXS D ^PRCATR3 K DXS S X=D0 D ENF^IBOLK
"RTN","PRCAATR",72,0)
RD1 I $E(IOST)="C" R !!,"PRESS <RETURN> TO CONTINUE: ",X:DTIME S:'$T DTOUT=1,OUT=1 I X["?" W !!,"Press return to view next transaction or to continue" G RD1
"RTN","PRCAATR",73,0)
 Q
"RTN","PRCAATR",74,0)
DEB ;View debtor
"RTN","PRCAATR",75,0)
 NEW PRCA
"RTN","PRCAATR",76,0)
 S PRCA=$P(^PRCA(430,BILL,0),"^",9) I PRCA S PRCA=$P(^RCD(340,PRCA,0),"^") W "   ",$P($G(@("^"_$P(PRCA,";",2)_+PRCA_",0)")),"^")
"RTN","PRCAATR",77,0)
 Q
"RTN","RC45P303")
0^^B22742515
"RTN","RC45P303",1,0)
RC45P303 ;ALB/TJB - POST-INSTALL PRCA*4.5*303 ;02-APR-15
"RTN","RC45P303",2,0)
 ;;4.5;Accounts Receivable;**303**;Mar 20, 1995;Build 84
"RTN","RC45P303",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RC45P303",4,0)
 ;
"RTN","RC45P303",5,0)
 ;
"RTN","RC45P303",6,0)
POST ;This will rename two options and Reindex 344.4 for the updated indexes
"RTN","RC45P303",7,0)
 N ERROR
"RTN","RC45P303",8,0)
 ;
"RTN","RC45P303",9,0)
 D BMES^XPDUTL(" Post-install for PRCA*4.5*303 Starting.")
"RTN","RC45P303",10,0)
 ;
"RTN","RC45P303",11,0)
 D RNAME ; Rename Options
"RTN","RC45P303",12,0)
 D RIDX ; Index updates to File 344.4
"RTN","RC45P303",13,0)
 D SUBSC ; Subscribe the server process to the G.CARC_RARC_DATA group
"RTN","RC45P303",14,0)
 D REMDIC1 ; Remove the RC MESSAGE TEXT OBJECT file and data
"RTN","RC45P303",15,0)
 D REMDIC2 ; Remove the RC MESSAGE TESTING USER PREFERENCE file and data
"RTN","RC45P303",16,0)
 ;
"RTN","RC45P303",17,0)
 D BMES^XPDUTL(" Post-install for PRCA*4.5*303 Complete.")
"RTN","RC45P303",18,0)
 ;
"RTN","RC45P303",19,0)
 Q
"RTN","RC45P303",20,0)
 ;
"RTN","RC45P303",21,0)
RNAME ; Rename ^DIC(19) options for ePayments
"RTN","RC45P303",22,0)
 ; RCDPE EDI LOCKBOX MENU^EDI Lockbox (ePayments)
"RTN","RC45P303",23,0)
 ; RCDPE EDI LOCKBOX REPORTS MENU^EDI Lockbox (ePayments) Reports Menu
"RTN","RC45P303",24,0)
 N IEN,RCFDA,RCERR
"RTN","RC45P303",25,0)
 D MES^XPDUTL("      >> Renaming Options entries for EDI LOCKBOX ...")
"RTN","RC45P303",26,0)
 S IEN="",IEN=$O(^DIC(19,"B","RCDPE EDI LOCKBOX MENU",IEN))
"RTN","RC45P303",27,0)
 I +IEN'>0 S ERROR=1 D MES^XPDUTL("      >> ERROR: Renaming Options entries for EDI LOCKBOX MENU ...") Q
"RTN","RC45P303",28,0)
 ; Now update the 1 "MENU TEXT" field for this IEN
"RTN","RC45P303",29,0)
 S RCFDA(19,IEN_",",1)="EDI Lockbox (ePayments)"
"RTN","RC45P303",30,0)
 D FILE^DIE("","RCFDA","RCERR")
"RTN","RC45P303",31,0)
 ;
"RTN","RC45P303",32,0)
 S IEN="",IEN=$O(^DIC(19,"B","RCDPE EDI LOCKBOX REPORTS MENU",IEN))
"RTN","RC45P303",33,0)
 I +IEN'>0 S ERROR=1 D MES^XPDUTL("      >> ERROR: Renaming Options entries for EDI LOCKBOX REPORTS MENU ...") Q
"RTN","RC45P303",34,0)
 ; Now update the 1 "MENU TEXT" field for this IEN
"RTN","RC45P303",35,0)
 S RCFDA(19,IEN_",",1)="EDI Lockbox (ePayments) Reports Menu"
"RTN","RC45P303",36,0)
 D FILE^DIE("","RCFDA","RCERR")
"RTN","RC45P303",37,0)
 ;
"RTN","RC45P303",38,0)
RNAMEQ ;
"RTN","RC45P303",39,0)
 D MES^XPDUTL("      >> Completed Renaming Options entries for EDI LOCKBOX ...")
"RTN","RC45P303",40,0)
 Q
"RTN","RC45P303",41,0)
 ;
"RTN","RC45P303",42,0)
RIDX ; Index ^RCY(344.4) for the new index on field .03 (INSURANCE CO ID)
"RTN","RC45P303",43,0)
 ;
"RTN","RC45P303",44,0)
 N DIK
"RTN","RC45P303",45,0)
 D MES^XPDUTL("      >> Removing old ""I"" xref for file 344.4 ...")
"RTN","RC45P303",46,0)
 K ^RCY(344.4,"I") ; Remove index
"RTN","RC45P303",47,0)
 D MES^XPDUTL("      >> Rebuilding ""I"" xref for file 344.4 ...")
"RTN","RC45P303",48,0)
 ; Now index the Payer TINs
"RTN","RC45P303",49,0)
 S DIK(1)=".03^I",DIK="^RCY(344.4," D ENALL^DIK
"RTN","RC45P303",50,0)
 D MES^XPDUTL("      >> Completed Rebuilding ""I"" xref for file 344.4 ...")
"RTN","RC45P303",51,0)
 Q
"RTN","RC45P303",52,0)
 ;
"RTN","RC45P303",53,0)
SUBSC ; Subscribe the server process to the G.CARC_RARC_DATA group
"RTN","RC45P303",54,0)
 N DOMAIN,NUM,ADDR,ADDR2,ZZ,RCOUT
"RTN","RC45P303",55,0)
 D MES^XPDUTL("      >> Adding Server Option to Mail group CARC_RARC_DATA ...")
"RTN","RC45P303",56,0)
 S NUM=$P($G(^XMB(1,1,0)),U,1) ; Get IEN for lookup in DOMAIN (^DIC(4.2)) File
"RTN","RC45P303",57,0)
 I NUM="" S ERROR=1 D MES^XPDUTL("      >> ERROR: Getting pointer to Domain Name from Mailman Parameters file...") Q
"RTN","RC45P303",58,0)
 S DOMAIN=$P($G(^DIC(4.2,NUM,0)),U,1)
"RTN","RC45P303",59,0)
 I DOMAIN="" S ERROR=1 D MES^XPDUTL("      >> ERROR: Getting Domain Name from DOMAIN (#4.2) file...") Q
"RTN","RC45P303",60,0)
 S ADDR="S.RCDPE EDI CARC-RARC SERVER@"_DOMAIN
"RTN","RC45P303",61,0)
 ;S ADDR2="ZZZZpayments@DOMAIN" ; Messages generated by the server process needs to go to this address.
"RTN","RC45P303",62,0)
 ; Subscribe address to CARC_RARC_DATA group
"RTN","RC45P303",63,0)
 S NUM=$$FIND1^DIC(3.8,"","MX","CARC_RARC_DATA","","","RCOUT")
"RTN","RC45P303",64,0)
 I NUM=0 S ERROR=1 D MES^XPDUTL("      >> ERROR: Getting IEN for CARC_RARC_DATA mail group...") Q
"RTN","RC45P303",65,0)
 I $P($G(^XMB(3.8,NUM,0)),U,1)'="CARC_RARC_DATA" S ERROR=1 D MES^XPDUTL("      >> ERROR: .01 field of IEN: "_NUM_" Did not match CARC_RARC_DATA ...") Q
"RTN","RC45P303",66,0)
 ; Update "MEMBERS - REMOTE SUB-FIELD" File #3.812 in Mail Group file #3.8
"RTN","RC45P303",67,0)
 ; See if any existing users are this ADDR
"RTN","RC45P303",68,0)
 I $$CHKADDR(NUM,ADDR) D MES^XPDUTL("      >> Server Option already subscribed to Mail group CARC_RARC_DATA ...") Q
"RTN","RC45P303",69,0)
 ; Add user to group
"RTN","RC45P303",70,0)
 S ZZ(1,3.812,"+2,"_NUM_",",.01)=ADDR
"RTN","RC45P303",71,0)
 D UPDATE^DIE("","ZZ(1)")
"RTN","RC45P303",72,0)
 D MES^XPDUTL("      >> Completed Adding Server Option to Mail group CARC_RARC_DATA ...")
"RTN","RC45P303",73,0)
 ;
"RTN","RC45P303",74,0)
 Q
"RTN","RC45P303",75,0)
 ;
"RTN","RC45P303",76,0)
CHKADDR(CIEN,CADD) ; See if the address already exists for this entry
"RTN","RC45P303",77,0)
 N RCMEM,RCERROR,CZ,COK
"RTN","RC45P303",78,0)
 S COK=0
"RTN","RC45P303",79,0)
 D GETS^DIQ(3.8,CIEN_",","12*","I","RCMEM","RCERROR")
"RTN","RC45P303",80,0)
 ; Walk the returned array 
"RTN","RC45P303",81,0)
 Q:$D(RCMEM)<10 0  ; Nothing in RCMEM return 0
"RTN","RC45P303",82,0)
 S CZ="" F  S CZ=$O(RCMEM("3.812",CZ)) Q:CZ=""  I RCMEM("3.812",CZ,.01,"I")=CADD S COK=1 Q  ; Found the address so no need to add it
"RTN","RC45P303",83,0)
 Q COK
"RTN","RC45P303",84,0)
 ;
"RTN","RC45P303",85,0)
REMDIC1 ;
"RTN","RC45P303",86,0)
 ; Remove the RC MESSAGE TEXT OBJECT file and data
"RTN","RC45P303",87,0)
 ;
"RTN","RC45P303",88,0)
 ; Check the volume set and do not delete for the following test accounts
"RTN","RC45P303",89,0)
 ; %ZOSF - ICR 10096
"RTN","RC45P303",90,0)
 N VOL S VOL=^%ZOSF("PROD")
"RTN","RC45P303",91,0)
 I VOL="CARVDD"!(VOL="SUPVBB")!(VOL="CHEYL140")!(VOL="CHEYL141")!(VOL="CHEYL185") Q
"RTN","RC45P303",92,0)
 ;
"RTN","RC45P303",93,0)
 D BMES^XPDUTL("      >> Delete the RC MESSAGE TEXT OBJECT file")
"RTN","RC45P303",94,0)
 I '$D(^RCY(344.81)),'$D(^DIC(344.81)) D MES^XPDUTL("    Already Deleted") Q
"RTN","RC45P303",95,0)
 N DIU
"RTN","RC45P303",96,0)
 S DIU=344.81,DIU(0)="D"
"RTN","RC45P303",97,0)
 D EN^DIU2
"RTN","RC45P303",98,0)
 D MES^XPDUTL("      >> Completed")
"RTN","RC45P303",99,0)
 Q
"RTN","RC45P303",100,0)
 ;
"RTN","RC45P303",101,0)
REMDIC2 ;
"RTN","RC45P303",102,0)
 ; Remove the RC MESSAGE TESTING USER PREFERENCE file and data
"RTN","RC45P303",103,0)
 ;
"RTN","RC45P303",104,0)
 ; Check the volume set and do not delete for the following test accounts
"RTN","RC45P303",105,0)
 ; %ZOSF - ICR 10096
"RTN","RC45P303",106,0)
 N VOL S VOL=^%ZOSF("PROD")
"RTN","RC45P303",107,0)
 I VOL="CARVDD"!(VOL="SUPVBB")!(VOL="CHEYL140")!(VOL="CHEYL141")!(VOL="CHEYL185") Q
"RTN","RC45P303",108,0)
 ;
"RTN","RC45P303",109,0)
 D BMES^XPDUTL("      >> Delete the RC TESTING USER PREFERENCES file")
"RTN","RC45P303",110,0)
 I '$D(^RCY(344.82)),'$D(^DIC(344.82)) D MES^XPDUTL("    Already Deleted") Q
"RTN","RC45P303",111,0)
 N DIU
"RTN","RC45P303",112,0)
 S DIU=344.82,DIU(0)="D"
"RTN","RC45P303",113,0)
 D EN^DIU2
"RTN","RC45P303",114,0)
 D MES^XPDUTL("      >> Completed")
"RTN","RC45P303",115,0)
 Q
"RTN","RCDPAPLI")
0^34^B43587980
"RTN","RCDPAPLI",1,0)
RCDPAPLI ;WISC/RFJ-account profile top list manager init ;1 Jun 99
"RTN","RCDPAPLI",2,0)
 ;;4.5;Accounts Receivable;**114,141,241,303**;Mar 20, 1995;Build 84
"RTN","RCDPAPLI",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPAPLI",4,0)
 Q
"RTN","RCDPAPLI",5,0)
 ;
"RTN","RCDPAPLI",6,0)
INIT ;  init for list manager screen
"RTN","RCDPAPLI",7,0)
 N DMCDATA,RCBILLDA,RCCOMM,RCDATA,RCDATE,RCLINE,RCSTATDA,RCTOTAL
"RTN","RCDPAPLI",8,0)
 N TOP4,TOP6
"RTN","RCDPAPLI",9,0)
 K ^TMP("RCDPAPLM",$J),^TMP("RCDPAPLMX",$J),^TMP("VALM VIDEO",$J)
"RTN","RCDPAPLI",10,0)
 ;
"RTN","RCDPAPLI",11,0)
 ;  fast exit
"RTN","RCDPAPLI",12,0)
 I $G(RCDPFXIT) S VALMQUIT=1 Q
"RTN","RCDPAPLI",13,0)
 ;
"RTN","RCDPAPLI",14,0)
 I '$G(RCDEBTDA) D  Q
"RTN","RCDPAPLI",15,0)
 .   D SET("",1,1,80)
"RTN","RCDPAPLI",16,0)
 .   D SET("*****  Select an ACCOUNT  *****",2,1,80)
"RTN","RCDPAPLI",17,0)
 .   S VALMCNT=2
"RTN","RCDPAPLI",18,0)
 .   D HDR^RCDPAPLM
"RTN","RCDPAPLI",19,0)
 ;
"RTN","RCDPAPLI",20,0)
 ;  get bills for a debtor
"RTN","RCDPAPLI",21,0)
 D GETBILLS^RCDPAPST(RCDEBTDA)
"RTN","RCDPAPLI",22,0)
 ;
"RTN","RCDPAPLI",23,0)
 I '$O(^TMP("RCDPAPST",$J,0)) D  Q
"RTN","RCDPAPLI",24,0)
 .   D SET("",1,1,80,IORVOFF,IORVOFF)
"RTN","RCDPAPLI",25,0)
 .   D SET("  *****  Account does not have any bills *****",2,1,80)
"RTN","RCDPAPLI",26,0)
 .   S VALMCNT=2
"RTN","RCDPAPLI",27,0)
 .   S RCTOTAL(1)=0
"RTN","RCDPAPLI",28,0)
 .   D HDR^RCDPAPLM
"RTN","RCDPAPLI",29,0)
 ;
"RTN","RCDPAPLI",30,0)
 ;  set the listmanager line number
"RTN","RCDPAPLI",31,0)
 S RCLINE=0
"RTN","RCDPAPLI",32,0)
 ;
"RTN","RCDPAPLI",33,0)
 S RCDATE=9999999 F  S RCDATE=$O(^TMP("RCDPAPST",$J,RCDATE),-1) Q:'RCDATE  D
"RTN","RCDPAPLI",34,0)
 .   S RCSTATDA=0 F  S RCSTATDA=$O(^TMP("RCDPAPST",$J,RCDATE,RCSTATDA)) Q:'RCSTATDA  D
"RTN","RCDPAPLI",35,0)
 .   .   S RCBILLDA=0 F  S RCBILLDA=$O(^TMP("RCDPAPST",$J,RCDATE,RCSTATDA,RCBILLDA)) Q:'RCBILLDA  D
"RTN","RCDPAPLI",36,0)
 .   .   .   S RCDATA=^TMP("RCDPAPST",$J,RCDATE,RCSTATDA,RCBILLDA)
"RTN","RCDPAPLI",37,0)
 .   .   .   ;  add up dollars owed by account (all bills)
"RTN","RCDPAPLI",38,0)
 .   .   .   S RCTOTAL(1)=$G(RCTOTAL(1))+$P(RCDATA,"^")
"RTN","RCDPAPLI",39,0)
 .   .   .   S RCTOTAL(2)=$G(RCTOTAL(2))+$P(RCDATA,"^",2)
"RTN","RCDPAPLI",40,0)
 .   .   .   S RCTOTAL(3)=$G(RCTOTAL(3))+$P(RCDATA,"^",3)
"RTN","RCDPAPLI",41,0)
 .   .   .   ;
"RTN","RCDPAPLI",42,0)
 .   .   .   ;  if not a selected status, do not display
"RTN","RCDPAPLI",43,0)
 .   .   .   I ("^"_$G(^DISV(DUZ,"RCDPAPLM","STATUS"))_"^")'[("^"_RCSTATDA_"^") Q
"RTN","RCDPAPLI",44,0)
 .   .   .   ;
"RTN","RCDPAPLI",45,0)
 .   .   .   ;  display the bill in listmanager if the status selected
"RTN","RCDPAPLI",46,0)
 .   .   .   D SETBILL
"RTN","RCDPAPLI",47,0)
 .   .   .   ;
"RTN","RCDPAPLI",48,0)
 .   .   .   ;  add up dollars owed by account (bills displayed)
"RTN","RCDPAPLI",49,0)
 .   .   .   S RCTOTAL(4)=$G(RCTOTAL(4))+$P(RCDATA,"^")
"RTN","RCDPAPLI",50,0)
 .   .   .   S RCTOTAL(5)=$G(RCTOTAL(5))+$P(RCDATA,"^",2)
"RTN","RCDPAPLI",51,0)
 .   .   .   S RCTOTAL(6)=$G(RCTOTAL(6))+$P(RCDATA,"^",3)
"RTN","RCDPAPLI",52,0)
 ;
"RTN","RCDPAPLI",53,0)
 ;  show totals of all bills displayed in listmanager
"RTN","RCDPAPLI",54,0)
 S RCLINE=RCLINE+1
"RTN","RCDPAPLI",55,0)
 D SET("                                                    --------- -------- --------",RCLINE,1,80)
"RTN","RCDPAPLI",56,0)
 S RCLINE=RCLINE+1
"RTN","RCDPAPLI",57,0)
 D SET("   TOTAL BALANCE OWED FOR ALL BILLS DISPLAYED",RCLINE,1,80)
"RTN","RCDPAPLI",58,0)
 D SET($J($G(RCTOTAL(4)),9,2),RCLINE,53,62)
"RTN","RCDPAPLI",59,0)
 D SET($J($G(RCTOTAL(5)),9,2),RCLINE,62,71)
"RTN","RCDPAPLI",60,0)
 D SET($J($G(RCTOTAL(6)),9,2),RCLINE,71,80)
"RTN","RCDPAPLI",61,0)
 ;
"RTN","RCDPAPLI",62,0)
 ;  get the pending payments for the debtor
"RTN","RCDPAPLI",63,0)
 S RCTOTAL("PP")=$$PENDPAY^RCDPURET($P(^RCD(340,RCDEBTDA,0),"^"))
"RTN","RCDPAPLI",64,0)
 I $O(^TMP($J,"RCDPUREC","PP",0)) D
"RTN","RCDPAPLI",65,0)
 .   S RCLINE=RCLINE+1 D SET(" ",RCLINE,1,80)
"RTN","RCDPAPLI",66,0)
 .   S RCLINE=RCLINE+1 D SET("Pending Payments",RCLINE,1,80,0,IORVON,IORVOFF)
"RTN","RCDPAPLI",67,0)
 .   N %,DATA,DATE,RECEIPT,RECTDA,TRANDA,TYPE
"RTN","RCDPAPLI",68,0)
 .   S RECTDA=0 F  S RECTDA=$O(^TMP($J,"RCDPUREC","PP",RECTDA)) Q:'RECTDA  D
"RTN","RCDPAPLI",69,0)
 .   .   S RECEIPT=$P($G(^RCY(344,RECTDA,0)),"^")
"RTN","RCDPAPLI",70,0)
 .   .   S TYPE=$E($P($G(^RC(341.1,+$P(^RCY(344,RECTDA,0),"^",4),0)),"^"),1,14)
"RTN","RCDPAPLI",71,0)
 .   .   S TRANDA=0 F  S TRANDA=$O(^TMP($J,"RCDPUREC","PP",RECTDA,TRANDA)) Q:'TRANDA  D
"RTN","RCDPAPLI",72,0)
 .   .   .   S DATA=^TMP($J,"RCDPUREC","PP",RECTDA,TRANDA)
"RTN","RCDPAPLI",73,0)
 .   .   .   S RCLINE=RCLINE+1
"RTN","RCDPAPLI",74,0)
 .   .   .   D SET(RECEIPT_"/"_TRANDA,RCLINE,1,80)
"RTN","RCDPAPLI",75,0)
 .   .   .   S DATE=$P(DATA,"^",6)
"RTN","RCDPAPLI",76,0)
 .   .   .   S DATE=$E(DATE,4,5)_"/"_$E(DATE,6,7)_"/"_$E(DATE,2,3)
"RTN","RCDPAPLI",77,0)
 .   .   .   D SET(DATE,RCLINE,13,21)
"RTN","RCDPAPLI",78,0)
 .   .   .   ;  build type of payment display
"RTN","RCDPAPLI",79,0)
 .   .   .   S %=$E(TYPE_"              ",1,14)
"RTN","RCDPAPLI",80,0)
 .   .   .   I $P(DATA,"^",7)'="" S %=%_"/"_$P(DATA,"^",7)  ;  check #
"RTN","RCDPAPLI",81,0)
 .   .   .   I $P(DATA,"^",8)'="" S %=%_"/"_$P(DATA,"^",8)  ;  bank #
"RTN","RCDPAPLI",82,0)
 .   .   .   I $P(DATA,"^",2)'="" S %=%_"/"_$P(DATA,"^",2)  ;  confirmation
"RTN","RCDPAPLI",83,0)
 .   .   .   D SET(%,RCLINE,29,53)
"RTN","RCDPAPLI",84,0)
 .   .   .   ;  show amount paid
"RTN","RCDPAPLI",85,0)
 .   .   .   D SET($J($P(DATA,"^",4),9,2),RCLINE,53,62)
"RTN","RCDPAPLI",86,0)
 .   S RCLINE=RCLINE+1
"RTN","RCDPAPLI",87,0)
 .   D SET("                                                    ---------",RCLINE,1,80)
"RTN","RCDPAPLI",88,0)
 .   S RCLINE=RCLINE+1
"RTN","RCDPAPLI",89,0)
 .   D SET("   TOTAL PENDING PAYMENTS",RCLINE,1,80)
"RTN","RCDPAPLI",90,0)
 .   D SET($J($G(RCTOTAL("PP")),9,2),RCLINE,53,62)
"RTN","RCDPAPLI",91,0)
 .   K ^TMP($J,"RCDPUREC","PP")
"RTN","RCDPAPLI",92,0)
 ;
"RTN","RCDPAPLI",93,0)
 ;  dmc info
"RTN","RCDPAPLI",94,0)
 I $D(^RCD(340,"DMC",1,+RCDEBTDA)) D
"RTN","RCDPAPLI",95,0)
 .   S DMCDATA=$G(^RCD(340,+RCDEBTDA,3))
"RTN","RCDPAPLI",96,0)
 .   S RCLINE=RCLINE+1 D SET(" ",RCLINE,1,80)
"RTN","RCDPAPLI",97,0)
 .   S RCLINE=RCLINE+1
"RTN","RCDPAPLI",98,0)
 .   D SET("** Account forwarded to DMC: "_$S('$P(DMCDATA,"^",2):"",1:$$SLH^RCFN01($P(DMCDATA,"^",2))),RCLINE,1,80)
"RTN","RCDPAPLI",99,0)
 .   D SET("Total DMC Amount: "_$J($P(DMCDATA,"^",5),9,2),RCLINE,50,80)
"RTN","RCDPAPLI",100,0)
 .   I $P(DMCDATA,"^",9)'="" D
"RTN","RCDPAPLI",101,0)
 .   .   S RCLINE=RCLINE+1
"RTN","RCDPAPLI",102,0)
 .   .   D SET(" ",RCLINE,1,80)
"RTN","RCDPAPLI",103,0)
 .   .   D SET("Lesser Amt to DMC: "_$J($P(DMCDATA,"^",9),9,2),RCLINE,49,80)
"RTN","RCDPAPLI",104,0)
 ;   top info
"RTN","RCDPAPLI",105,0)
 I $D(^RCD(340,"TOP",+RCDEBTDA)) D
"RTN","RCDPAPLI",106,0)
 .   S TOP6=$G(^RCD(340,+RCDEBTDA,6)),TOP4=$G(^(4))
"RTN","RCDPAPLI",107,0)
 .   S RCLINE=RCLINE+1 D SET(" ",RCLINE,1,80)
"RTN","RCDPAPLI",108,0)
 .   S RCLINE=RCLINE+1
"RTN","RCDPAPLI",109,0)
 .   D SET("** Account forwarded to TOP: "_$S('$P(TOP6,"^"):"",1:$$SLH^RCFN01($P(TOP6,"^"))),RCLINE,1,80)
"RTN","RCDPAPLI",110,0)
 .   D SET("Total TOP Amount: "_$J($P(TOP4,"^",3),13,2),RCLINE,45,80)
"RTN","RCDPAPLI",111,0)
 .   I $P(TOP6,"^",6)'="" D
"RTN","RCDPAPLI",112,0)
 .   .   S RCLINE=RCLINE+1
"RTN","RCDPAPLI",113,0)
 .   .   D SET(" ",RCLINE,1,80)
"RTN","RCDPAPLI",114,0)
 .   .   D SET("TOP Hold Date: "_$$SLH^RCFN01($P(TOP6,"^",6)),RCLINE,45,80)
"RTN","RCDPAPLI",115,0)
 ;
"RTN","RCDPAPLI",116,0)
 ;  show if hurricane katrina vet
"RTN","RCDPAPLI",117,0)
 I $P(^RCD(340,+RCDEBTDA,0),U)["DPT(" S DFN=+^(0) D
"RTN","RCDPAPLI",118,0)
 .   Q:$$EMGRES^DGUTL(DFN)'["K"
"RTN","RCDPAPLI",119,0)
 .   S RCLINE=RCLINE+1
"RTN","RCDPAPLI",120,0)
 .   D SET("EMERGENCY RESPONSE INDICATOR: HURRICANE KATRINA",RCLINE,1,80)
"RTN","RCDPAPLI",121,0)
 ;
"RTN","RCDPAPLI",122,0)
 ;  show comments if they exist
"RTN","RCDPAPLI",123,0)
 I $O(^RCD(340,RCDEBTDA,2,0)) D
"RTN","RCDPAPLI",124,0)
 .   S RCLINE=RCLINE+1 D SET(" ",RCLINE,1,80)
"RTN","RCDPAPLI",125,0)
 .   S RCLINE=RCLINE+1 D SET("Comments",RCLINE,1,80,0,IOUON,IOUOFF)
"RTN","RCDPAPLI",126,0)
 .   S RCCOMM=0 F  S RCCOMM=$O(^RCD(340,RCDEBTDA,2,RCCOMM)) Q:'RCCOMM  D
"RTN","RCDPAPLI",127,0)
 .   .   S RCLINE=RCLINE+1 D SET(^RCD(340,RCDEBTDA,2,RCCOMM,0),RCLINE,1,80)
"RTN","RCDPAPLI",128,0)
 ;
"RTN","RCDPAPLI",129,0)
 K ^TMP("RCDPAPST",$J)
"RTN","RCDPAPLI",130,0)
 ;
"RTN","RCDPAPLI",131,0)
 ;  set valmcnt to number of lines in the list
"RTN","RCDPAPLI",132,0)
 S VALMCNT=RCLINE
"RTN","RCDPAPLI",133,0)
 D HDR^RCDPAPLM
"RTN","RCDPAPLI",134,0)
 Q
"RTN","RCDPAPLI",135,0)
 ;
"RTN","RCDPAPLI",136,0)
 ;
"RTN","RCDPAPLI",137,0)
SETBILL ;  set a bill on the listmanager line
"RTN","RCDPAPLI",138,0)
 N DATE,IBCNDATA,RCDPDATA,REJECT,VALUE
"RTN","RCDPAPLI",139,0)
 D DIQ430^RCDPBPLM(RCBILLDA,".01;2;3;8;60;")
"RTN","RCDPAPLI",140,0)
 ;
"RTN","RCDPAPLI",141,0)
 S RCLINE=RCLINE+1
"RTN","RCDPAPLI",142,0)
 ;
"RTN","RCDPAPLI",143,0)
 ;  create an index array for bill lookup in list
"RTN","RCDPAPLI",144,0)
 S ^TMP("RCDPAPLM",$J,"IDX",RCLINE,RCLINE)=RCBILLDA
"RTN","RCDPAPLI",145,0)
 ;
"RTN","RCDPAPLI",146,0)
 ;  bill number
"RTN","RCDPAPLI",147,0)
 ;PRCA*4.5*303 - add reject indicator to kbill ; IA# 6060
"RTN","RCDPAPLI",148,0)
 S REJECT=$$BILLREJ^IBJTU6($P(RCDPDATA(430,RCBILLDA,.01,"E"),"-",2))
"RTN","RCDPAPLI",149,0)
 D SET(RCLINE,RCLINE,1,80,0,IORVON,IORVOFF)
"RTN","RCDPAPLI",150,0)
 D SET($S(REJECT:"c",1:"")_$E($P(RCDPDATA(430,RCBILLDA,.01,"E"),"-",2)_"       ",1,7),RCLINE,4,10,0)
"RTN","RCDPAPLI",151,0)
 ;PRCA*4.5*303 - End
"RTN","RCDPAPLI",152,0)
 ;
"RTN","RCDPAPLI",153,0)
 ;  get date of care
"RTN","RCDPAPLI",154,0)
 D DIQ399^RCXFMSUR(RCBILLDA)
"RTN","RCDPAPLI",155,0)
 S DATE=$G(IBCNDATA(399,RCBILLDA,151,"I"))
"RTN","RCDPAPLI",156,0)
 I 'DATE S DATE=$G(RCDPDATA(430,RCBILLDA,60,"I"))
"RTN","RCDPAPLI",157,0)
 S DATE=$E(DATE,4,5)_"/"_$E(DATE,6,7)_"/"_$E(DATE,2,3)
"RTN","RCDPAPLI",158,0)
 D SET(DATE,RCLINE,13,21,0)
"RTN","RCDPAPLI",159,0)
 ;
"RTN","RCDPAPLI",160,0)
 ;  status (field 8)
"RTN","RCDPAPLI",161,0)
 D SET("",RCLINE,23,26,8)
"RTN","RCDPAPLI",162,0)
 ;
"RTN","RCDPAPLI",163,0)
 ;  type of care
"RTN","RCDPAPLI",164,0)
 D SET("",RCLINE,29,71,2)
"RTN","RCDPAPLI",165,0)
 ;
"RTN","RCDPAPLI",166,0)
 ;  principle, interest, admin
"RTN","RCDPAPLI",167,0)
 D SET($J($P(RCDATA,"^"),9,2),RCLINE,53,62,0)
"RTN","RCDPAPLI",168,0)
 D SET($J($P(RCDATA,"^",2),9,2),RCLINE,62,71,0)
"RTN","RCDPAPLI",169,0)
 D SET($J($P(RCDATA,"^",3),9,2),RCLINE,71,80,0)
"RTN","RCDPAPLI",170,0)
 Q
"RTN","RCDPAPLI",171,0)
 ;
"RTN","RCDPAPLI",172,0)
 ;
"RTN","RCDPAPLI",173,0)
SET(STRING,LINE,COLBEG,COLEND,FIELD,ON,OFF) ;  set array
"RTN","RCDPAPLI",174,0)
 I $G(FIELD) S STRING=STRING_$S(STRING="":"",1:": ")_$G(RCDPDATA(430,RCBILLDA,FIELD,"E"))
"RTN","RCDPAPLI",175,0)
 I STRING="",'$G(FIELD) D SET^VALM10(LINE,$J("",80)) Q
"RTN","RCDPAPLI",176,0)
 I '$D(@VALMAR@(LINE,0)) D SET^VALM10(LINE,$J("",80))
"RTN","RCDPAPLI",177,0)
 D SET^VALM10(LINE,$$SETSTR^VALM1(STRING,@VALMAR@(LINE,0),COLBEG,COLEND-COLBEG+1))
"RTN","RCDPAPLI",178,0)
 I $G(ON)]""!($G(OFF)]"") D CNTRL^VALM10(LINE,COLBEG,$L(STRING),ON,OFF)
"RTN","RCDPAPLI",179,0)
 Q
"RTN","RCDPARC")
0^1^B213177751
"RTN","RCDPARC",1,0)
RCDPARC ;ALB/TJB - CARC REPORT ON PAYER OR CARC CODE ;9/15/14 3:00pm
"RTN","RCDPARC",2,0)
 ;;4.5;Accounts Receivable;**303**;Mar 20, 1995;Build 84
"RTN","RCDPARC",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPARC",4,0)
 Q
"RTN","RCDPARC",5,0)
 ; PRCA*4.5*303 - CARC and Payer report
"RTN","RCDPARC",6,0)
 ; DESCRIPTION :
"RTN","RCDPARC",7,0)
 ;   The following generates a report that displays selected or all
"RTN","RCDPARC",8,0)
 ;   CARC Codes and Payers and totals the amounts for each CARC code.
"RTN","RCDPARC",9,0)
 ;   several filters may be used to limit the CARC codes or Payer information
"RTN","RCDPARC",10,0)
 ;   to be displayed:
"RTN","RCDPARC",11,0)
EN ; Entry point for Report
"RTN","RCDPARC",12,0)
 N DUOUT,DTOUT,DIR,X,Y,RCDT1,RCDT2,RCDET,ZTRTN,ZTSK,ZTDESC,ZTSAVE,ZTSTOP,%ZIS,POP,DTOK,DIVHDR,CRHDR
"RTN","RCDPARC",13,0)
 N RCDIV,RCINC,VAUTD,RCRANGE,RCNP,RCJOB,RCNP1,RCPG,RCNOW,RCHR,RCODE,RCRARC,RCSTOP,EX
"RTN","RCDPARC",14,0)
 S RCRARC=0,RCSTOP=0
"RTN","RCDPARC",15,0)
 ; ICR 1077 - Get division/station
"RTN","RCDPARC",16,0)
 D DIVISION^VAUTOMA
"RTN","RCDPARC",17,0)
 I 'VAUTD&($D(VAUTD)'=11) G ARCQ
"RTN","RCDPARC",18,0)
 ;
"RTN","RCDPARC",19,0)
 S DIR("A")="(S)ummary or(D)etail Report format?: ",DIR(0)="SA^S:Summary Information only;D:Detail and Totals"
"RTN","RCDPARC",20,0)
 S DIR("B")="SUMMARY" D ^DIR K DIR
"RTN","RCDPARC",21,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G ARCQ
"RTN","RCDPARC",22,0)
 S RCDET=($E(Y,1)="D")
"RTN","RCDPARC",23,0)
 ; Get CARC Codes for report
"RTN","RCDPARC",24,0)
 D GCARC^RCDPCRR(.RCODE) G:RCSTOP ARCQ
"RTN","RCDPARC",25,0)
 ;
"RTN","RCDPARC",26,0)
 ;I RCDET D  G:$D(DTOUT)!$D(DUOUT)!(Y="") ARCQ ; See if User wants RARCs displayed on Detailed report 
"RTN","RCDPARC",27,0)
 ;. S DIR(0)="YA",DIR("A")="Display available RARCs on Detailed Report? (Y/N): ",DIR("B")="No"
"RTN","RCDPARC",28,0)
 ;. D ^DIR K DIR
"RTN","RCDPARC",29,0)
 ;. I $D(DTOUT)!$D(DUOUT)!(Y="") Q 
"RTN","RCDPARC",30,0)
 ;. S RCRARC=(Y=1)
"RTN","RCDPARC",31,0)
 S RCRARC=0 ; Set RARCs not to display on report, but keep around just in case Susan changes her mind.
"RTN","RCDPARC",32,0)
 ;
"RTN","RCDPARC",33,0)
 ; Get Payer information
"RTN","RCDPARC",34,0)
 S EX=$$GETPAY^RCDPRU(.RCPAY)
"RTN","RCDPARC",35,0)
 G:EX=0 ARCQ
"RTN","RCDPARC",36,0)
 ;
"RTN","RCDPARC",37,0)
 ; Get Payer TIN information
"RTN","RCDPARC",38,0)
 S EX=$$GETTIN^RCDPRU(.RCTIN)
"RTN","RCDPARC",39,0)
 G:EX=0 ARCQ
"RTN","RCDPARC",40,0)
 ;
"RTN","RCDPARC",41,0)
 S DIR("A")="Sort Report by (C)ARC or (P)ayer?: ",DIR(0)="SA^P:Payer Name;CARC: CARC Codes;C:CARC Codes"
"RTN","RCDPARC",42,0)
 S DIR("B")="CARC" D ^DIR K DIR
"RTN","RCDPARC",43,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G ARCQ
"RTN","RCDPARC",44,0)
 S RCSORT=$E(Y,1)
"RTN","RCDPARC",45,0)
 ;
"RTN","RCDPARC",46,0)
 S DIR("?")="Enter the Beginning date for the report"
"RTN","RCDPARC",47,0)
 S DIR(0)="DAO^:"_DT_":APE",DIR("A")="Start Date: ",DIR("B")="T" D ^DIR K DIR
"RTN","RCDPARC",48,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G ARCQ
"RTN","RCDPARC",49,0)
 S RCDT1=Y
"RTN","RCDPARC",50,0)
 S DIR("?")="Enter the end date for the report"
"RTN","RCDPARC",51,0)
 S DIR("B")=$$DATE^RCDPRU($P($$NOW^XLFDT,"."),"2Z")
"RTN","RCDPARC",52,0)
 S DIR(0)="DAO^"_RCDT1_":"_DT_":APE",DIR("A")="End Date: ",DIR("B")="T" D ^DIR K DIR
"RTN","RCDPARC",53,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G ARCQ
"RTN","RCDPARC",54,0)
 S RCDT2=Y
"RTN","RCDPARC",55,0)
 S DTOK=$$CHECKDT^RCDPRU(RCDT1,RCDT2,361.1)
"RTN","RCDPARC",56,0)
 I 'DTOK W !!,"*** Note: Date Range "_$$DATE^RCDPRU(RCDT1)_" - "_$$DATE^RCDPRU(RCDT2)," ***",! W "*** No Records found ***",! D ASK^RCDPRU(.RCSTOP) G ARCQ
"RTN","RCDPARC",57,0)
 ; Get input to export to excel. Removed per Susan (03/24/2015)
"RTN","RCDPARC",58,0)
 S RCEXCEL=0
"RTN","RCDPARC",59,0)
 ;S RCEXCEL=$$DISPTY^RCDPRU()
"RTN","RCDPARC",60,0)
 ;D:RCEXCEL INFO^RCDPRU
"RTN","RCDPARC",61,0)
 ;
"RTN","RCDPARC",62,0)
 S %ZIS="QM" D ^%ZIS Q:POP
"RTN","RCDPARC",63,0)
 I $D(IO("Q")) D  Q
"RTN","RCDPARC",64,0)
 . S ZTRTN="ENQ^RCDPARC",ZTDESC="AR - 835 CARC & PAYER DATA REPORT",ZTSAVE("*")=""
"RTN","RCDPARC",65,0)
 . D ^%ZTLOAD
"RTN","RCDPARC",66,0)
 . W !!,$S($D(ZTSK):"Your task number"_ZTSK_" has been queued.",1:"Unable to queue this job.")
"RTN","RCDPARC",67,0)
 . K ZTSK,IO("Q") D HOME^%ZIS
"RTN","RCDPARC",68,0)
 U IO
"RTN","RCDPARC",69,0)
 ;
"RTN","RCDPARC",70,0)
ENQ ; Queue point for report.
"RTN","RCDPARC",71,0)
 S RCNOW=$$NOW^RCDPRU(),RCPG=0,$P(RCHR,"=",IOM)=""
"RTN","RCDPARC",72,0)
 ;
"RTN","RCDPARC",73,0)
 K ^TMP("RCDPARC_REPORT",$J)
"RTN","RCDPARC",74,0)
 ; Collect the data and put it into the ^TMP global
"RTN","RCDPARC",75,0)
 D GETDATA($G(RCODE("CARC")),.RCPAY,.RCTIN,$G(RCSORT),$G(RCRARC),RCDT1,RCDT2,$NA(^TMP("RCDPARC_REPORT",$J)),.VAUTD)
"RTN","RCDPARC",76,0)
 ;
"RTN","RCDPARC",77,0)
REPORT ; Print out the report
"RTN","RCDPARC",78,0)
 ; Set up Division Header Text and CARC Header Text
"RTN","RCDPARC",79,0)
 S:VAUTD=1 DIVHDR="ALL" D:VAUTD=0
"RTN","RCDPARC",80,0)
 . N I S DIVHDR="",I="" F  S I=$O(VAUTD(I)) Q:I=""  S:DIVHDR'="" DIVHDR=DIVHDR_", "_VAUTD(I) S:DIVHDR="" DIVHDR=VAUTD(I)
"RTN","RCDPARC",81,0)
 I RCODE("CARC")="ALL" S CRHDR="ALL"
"RTN","RCDPARC",82,0)
 E  S CRHDR=RCODE("CARC")
"RTN","RCDPARC",83,0)
 ; Trim information so it will fit on an 80 or IOM character line
"RTN","RCDPARC",84,0)
 D:($L(DIVHDR)+$L(CRHDR))>(IOM-25)
"RTN","RCDPARC",85,0)
 . N VAL,DH,CH,R1,R2 S DH=0,CH=0,R1=0,R2=0,VAL=(IOM-25)\2 ; get half of the screen length
"RTN","RCDPARC",86,0)
 . S:$L(DIVHDR)>VAL DH=1 S:$L(CRHDR)>VAL CH=1 S:DH=0 R1=VAL-$L(DIVHDR) S:CH=0 R2=VAL-$L(CRHDR)
"RTN","RCDPARC",87,0)
 . I $L(DIVHDR)>(VAL+R2) S DIVHDR=$E(DIVHDR,1,(VAL+R2))_"..."
"RTN","RCDPARC",88,0)
 . I $L(CRHDR)>(VAL+R1) S CRHDR=$E(CRHDR,1,(VAL+R2))_"..."
"RTN","RCDPARC",89,0)
 ;
"RTN","RCDPARC",90,0)
 I 'RCEXCEL D
"RTN","RCDPARC",91,0)
 . S RCPG=RCPG+1 W @IOF
"RTN","RCDPARC",92,0)
 . D HDRP($$HDR(RCDET,RCRARC),1,"Page: "_RCPG_" ")
"RTN","RCDPARC",93,0)
 . D HDRP("SORT BY: "_$S($E(RCSORT,1)="C":"CARC",1:"Payer")_"  RUN DATE: "_RCNOW,1)
"RTN","RCDPARC",94,0)
 . D HDRP("DIVISIONS: "_DIVHDR_" CARCs: "_CRHDR,1)
"RTN","RCDPARC",95,0)
 . D HDRP("835 PAYERS: "_$S($E(RCPAY)="A":"ALL",1:"Selected")_" 835 PAYER TINs: "_$S($E(RCTIN)="A":"ALL",1:"Selected"),1)
"RTN","RCDPARC",96,0)
 . D HDRP("EOB PAID DATE RANGE: "_$$DATE^RCDPRU(RCDT1)_" - "_$$DATE^RCDPRU(RCDT2),1)
"RTN","RCDPARC",97,0)
 . W !,RCHR,!
"RTN","RCDPARC",98,0)
 E  D
"RTN","RCDPARC",99,0)
 . ; Excel Report
"RTN","RCDPARC",100,0)
 . W "CARC^PAYER^TIN^REP_DATE^AMOUNT",!
"RTN","RCDPARC",101,0)
 ;
"RTN","RCDPARC",102,0)
 D PRTREP($NA(^TMP("RCDPARC_REPORT",$J,"REPORT")),$NA(^TMP("RCDPARC_REPORT",$J,"~~SUM")),RCSORT,RCDET,$G(RCRARC),.RCSTOP) G:RCSTOP ARCQ
"RTN","RCDPARC",103,0)
 D ASK^RCDPRU(.RCSTOP)
"RTN","RCDPARC",104,0)
 ;
"RTN","RCDPARC",105,0)
ARCQ ; Clean-up and quit
"RTN","RCDPARC",106,0)
 K DHDR,RCEXCEL,RCLIST,RCLPAY,RCODE,RCPAY,RCSORT,RCRARC,RCTIN,RCTLIST
"RTN","RCDPARC",107,0)
 ;K ^TMP("RCDPARC_REPORT",$J)
"RTN","RCDPARC",108,0)
 Q
"RTN","RCDPARC",109,0)
 ;
"RTN","RCDPARC",110,0)
 ; DATA = the Report information; SUMM = Summary, Grand totals;
"RTN","RCDPARC",111,0)
 ; SORT = What is the major sort order for DATA, CARC or Payer
"RTN","RCDPARC",112,0)
PRTREP(DATA,SUMM,SORT,CD,RA,RCSTOP) ; Print report data out of the "REPORT" subarray
"RTN","RCDPARC",113,0)
 N IX,IY,TIX,TIY,IEN,CL,LN,LN2,DLN,AMTA,AMTB,AMTP,TIN,DESC,DX0,DZ,PAY,CZ,PCT,X,DIWL,DIWR,RCSL
"RTN","RCDPARC",114,0)
 S $P(LN,"-",80)="",$P(DLN,"=",80)="",$P(LN2,"-",78)="",LN2="  "_LN2,RCSL=8
"RTN","RCDPARC",115,0)
 ; Do Grand totals - moved to top of report per Susan on 7/16/2015
"RTN","RCDPARC",116,0)
 S DX0=$G(@SUMM@("CLAIMS")),PCT=0
"RTN","RCDPARC",117,0)
 S:+$P(DX0,U,2)'=0 PCT=$J(($P(DX0,U,4)/$P(DX0,U,2))*100,3,0)
"RTN","RCDPARC",118,0)
 S:+$P(DX0,U,2)=0 PCT="ERR"
"RTN","RCDPARC",119,0)
 I RCSL>=(IOSL-4) S RCSTOP=$$NEWPG(.RCPG,1,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",120,0)
 W !
"RTN","RCDPARC",121,0)
 W "GRAND TOTAL ALL CARCS / ALL PAYERS ON REPORT",!
"RTN","RCDPARC",122,0)
 W "   TOTAL #CLAIMS:  ",$J($P(DX0,U,1),6,0),"  ADJ: ",PCT,"% [TOT AMT ADJUSTED / TOT AMT BILLED]",!
"RTN","RCDPARC",123,0)
 W "   AMT ADJUST: $",$J($P(DX0,U,4),11,2),"  AMT BILLED: $",$J($P(DX0,U,2),11,2),"  AMT PAID: $",$J($P(DX0,U,3),11,2),!
"RTN","RCDPARC",124,0)
 W !,DLN,!! S RCSL=RCSL+5
"RTN","RCDPARC",125,0)
 ;
"RTN","RCDPARC",126,0)
 S IX="",IEN="",CL=0,AMTB=0,AMTP=0,DESC="Empty Description"
"RTN","RCDPARC",127,0)
 F  S IX=$O(@DATA@(IX)) Q:IX=""!RCSTOP  S TIX=$G(@DATA@(IX)),IY="" D  Q:RCSTOP 
"RTN","RCDPARC",128,0)
 . D:SORT="C"  Q:RCSTOP  ; CARC Sorted output IX => CARC; IY => Payer Name
"RTN","RCDPARC",129,0)
 .. S DX0=$G(@DATA@(IX,"~~SUM")),CL=$P(DX0,U,1),AMTB=$P(DX0,U,2),AMTP=$P(DX0,U,3),AMTA=$P(DX0,U,4),DESC=$P(DX0,U,5),PCT=(AMTA/AMTB)*100
"RTN","RCDPARC",130,0)
 .. W "CARC: ",$J(IX,4)," TOTAL #CLAIMS: ",$J(CL,5,0)," ADJ:",$J(PCT,3,0),"% [TOT AMT ADJUSTED / TOT AMT BILLED]",! S RCSL=RCSL+1
"RTN","RCDPARC",131,0)
 .. I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",132,0)
 .. W "  AMT ADJUST: ",$J(AMTA,11,2),"  AMT BILLED: ",$J(AMTB,12,2),"  AMT PAID: ",$J(AMTP,12,2),! S RCSL=RCSL+1
"RTN","RCDPARC",133,0)
 .. I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",134,0)
 .. S X="Desc: "_$E(DESC,1,73),DIWL=1,DIWR=80 K ^UTILITY($J,"W") D ^DIWP,^DIWW S RCSL=RCSL+1
"RTN","RCDPARC",135,0)
 .. I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",136,0)
 .. W LN,! S RCSL=RCSL+1
"RTN","RCDPARC",137,0)
 .. I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",138,0)
 .. S CZ=0,PAY="" F  S PAY=$O(@DATA@(IX,"~~SUM",PAY)) Q:PAY=""!RCSTOP  S CZ=CZ+1 D  Q:RCSTOP
"RTN","RCDPARC",139,0)
 ... S DZ=@DATA@(IX,"~~SUM",PAY),PCT=$S((+$P(DZ,U,2)'=0):($P(DZ,U,4)/$P(DZ,U,2)*100),1:"ERROR")
"RTN","RCDPARC",140,0)
 ... I CZ>1 W LN2,! S RCSL=RCSL+1
"RTN","RCDPARC",141,0)
 ... I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",142,0)
 ... W "  PAYER NAME/TIN: ",PAY,! S RCSL=RCSL+1
"RTN","RCDPARC",143,0)
 ... I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",144,0)
 ... W "  #CLAIMS: ",$J($P(DZ,U,1),4,0)," ADJ:",$J(PCT,3,0),"% [ADJ: ",$J($P(DZ,U,4),10,2),"/BILLED: ",$J($P(DZ,U,2),10,2),"] PAID: ",$J($P(DZ,U,3),10,2),! S RCSL=RCSL+1
"RTN","RCDPARC",145,0)
 ... I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",146,0)
 ... D:RCDET DETAIL(DATA,IX,PAY,.RCSL,.RCSTOP) Q:RCSTOP  ; Data array, CARC, Payer/TIN
"RTN","RCDPARC",147,0)
 ... I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",148,0)
 .. Q:RCSTOP  W LN,! S RCSL=RCSL+1 ; Removed "!," in front of "LN"
"RTN","RCDPARC",149,0)
 .. I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",150,0)
 . Q:RCSTOP
"RTN","RCDPARC",151,0)
 . D:SORT="P"  Q:RCSTOP  ; Payer Sorted output IX => Payer Name; IY => CARC
"RTN","RCDPARC",152,0)
 .. W "PAYER NAME/TIN: ",IX,! S RCSL=RCSL+1
"RTN","RCDPARC",153,0)
 .. S DX0=$G(@DATA@(IX,"~~SUM")),CL=$P(DX0,U,1),AMTB=$P(DX0,U,2),AMTP=$P(DX0,U,3),AMTA=$P(DX0,U,4),PCT=(AMTA/AMTB)*100
"RTN","RCDPARC",154,0)
 .. W "#CLAIMS: ",$J(CL,4,0)," ADJ: ",$J(PCT,3,0),"% [ADJ:",$J(AMTA,10,2),"/BILLED:",$J(AMTB,11,2),"] PAID:",$J(AMTP,11,2),! S RCSL=RCSL+1
"RTN","RCDPARC",155,0)
 .. W LN,!! S RCSL=RCSL+2
"RTN","RCDPARC",156,0)
 .. S CZ=0,IY="" F  S IY=$O(@DATA@(IX,"~~SUM",IY)) Q:IY=""  S CZ=CZ+1 D  Q:RCSTOP
"RTN","RCDPARC",157,0)
 ... S DZ=@DATA@(IX,"~~SUM",IY)
"RTN","RCDPARC",158,0)
 ... I CZ>1 W LN2,! S RCSL=RCSL+1
"RTN","RCDPARC",159,0)
 ... I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",160,0)
 ... S PCT=$S((+$P(DZ,U,2)'=0):($P(DZ,U,4)/$P(DZ,U,2)*100),1:"ERROR")
"RTN","RCDPARC",161,0)
 ... W ?2,"CARC: ",$J(IY,4),?14,"#CLAIMS: ",$J($P(DZ,U,1),5,0),?30,"ADJ: ",$J(PCT,3,0),"% [AMT ADJUSTED / AMT BILLED]",! S RCSL=RCSL+1
"RTN","RCDPARC",162,0)
 ... I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",163,0)
 ... W ?2,"AMT ADJUST: ",$J($P(DZ,U,4),11,2),?26,"  BILLED: ",$J($P(DZ,U,2),12,2),?56," PAID: ",$J($P(DZ,U,3),12,2),! S RCSL=RCSL+1
"RTN","RCDPARC",164,0)
 ... I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",165,0)
 ... S X="Desc: "_$E($P(DZ,U,5),1,68),DIWL=3,DIWR=80 K ^UTILITY($J,"W") D ^DIWP,^DIWW S RCSL=RCSL+1
"RTN","RCDPARC",166,0)
 ... I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",167,0)
 ... D:RCDET DETAIL(DATA,IX,IY,.RCSL,.RCSTOP) Q:RCSTOP  ; Data array, Payer/TIN, CARC
"RTN","RCDPARC",168,0)
 ... I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",169,0)
 .. Q:RCSTOP  W LN,! S RCSL=RCSL+1 ; Removed "!," in front of LN
"RTN","RCDPARC",170,0)
 .. I RCSL>=(IOSL-2) S RCSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:RCSTOP
"RTN","RCDPARC",171,0)
 Q
"RTN","RCDPARC",172,0)
 ;
"RTN","RCDPARC",173,0)
DETAIL(DATA,L1,L2,RCSL,DSTOP) ; Print detail information for this entry
"RTN","RCDPARC",174,0)
 N IEN,DOS,DX,DY,HDR,PCT,PAT,SSN
"RTN","RCDPARC",175,0)
 S HDR=0
"RTN","RCDPARC",176,0)
 S IEN="" F  S IEN=$O(@DATA@(L1,L2,IEN)) Q:IEN=""!DSTOP  S HDR=HDR+1 D  Q:DSTOP 
"RTN","RCDPARC",177,0)
 . ; Print out Detail
"RTN","RCDPARC",178,0)
 . D:HDR=1  Q:DSTOP
"RTN","RCDPARC",179,0)
 .. W "  ------------------------------------------------------------------------------",! S RCSL=RCSL+1
"RTN","RCDPARC",180,0)
 .. W "  CLAIM#    DOS    %ADJ  [AMT ADJ/AMT BILLED]  PAID   PATIENT NAME          SSN",! S RCSL=RCSL+1
"RTN","RCDPARC",181,0)
 .. W "  ==============================================================================",! S RCSL=RCSL+1
"RTN","RCDPARC",182,0)
 .. I RCSL>=(IOSL-2) S DSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:DSTOP
"RTN","RCDPARC",183,0)
 . S DX=@DATA@(L1,L2,IEN,0),DY=@DATA@(L1,L2,IEN,1),DOS=$$DATE^RCDPRU($$GET1^DIQ(399,$P(DX,U,1)_",",.03,"I")),PCT=($P(DY,U,2)/$P(DX,U,6))*100
"RTN","RCDPARC",184,0)
 . ;S $P(DX,U,6)=654321.99,$P(DX,U,7)=123456.99
"RTN","RCDPARC",185,0)
 . S PAT=$$GET1^DIQ(2,$P(DX,U,3)_",",.01,"E"),SSN="("_$E($$GET1^DIQ(2,$P(DX,U,3)_",",.09,"E"),*-3,*)_")"
"RTN","RCDPARC",186,0)
 . W ?2,$P(DX,U,2),?10,DOS,?19,$J(PCT,3,0),?24,$J($P(DY,U,2),9,2),?34,$J($P(DX,U,6),9,2),?44,$J($P(DX,U,7),9,2),?54,$E(PAT,1,19),?74,SSN,! S RCSL=RCSL+1
"RTN","RCDPARC",187,0)
 . I RCSL>=(IOSL-2) S DSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:DSTOP
"RTN","RCDPARC",188,0)
 . ;W "RCRARC = ",RCRARC,"   DY=",DY,!
"RTN","RCDPARC",189,0)
 . ; Write out RARC if we have one
"RTN","RCDPARC",190,0)
 . I RCRARC=1&($P(DY,U,5)'="") S X="RARC: "_$P(DY,U,5)_"  "_$P(DY,U,6),DIWL=5,DIWR=80 K ^UTILITY($J,"W") D ^DIWP,^DIWW S RCSL=RCSL+1
"RTN","RCDPARC",191,0)
 . I RCSL>=(IOSL-2) S DSTOP=$$NEWPG(.RCPG,0,.RCSL,CD,RA) Q:DSTOP
"RTN","RCDPARC",192,0)
 W ! S RCSL=RCSL+1
"RTN","RCDPARC",193,0)
 Q
"RTN","RCDPARC",194,0)
HDR(CD,RA) ; Report header
"RTN","RCDPARC",195,0)
 N ZZ S ZZ=$S($G(RA)=1:" & RARC",1:"")
"RTN","RCDPARC",196,0)
 Q:CD "EDI LOCKBOX 835 CARC"_ZZ_" DATA REPORT - DETAIL FORMAT"
"RTN","RCDPARC",197,0)
 Q "EDI LOCKBOX 835 CARC DATA REPORT - SUMMARY FORMAT"
"RTN","RCDPARC",198,0)
 ;
"RTN","RCDPARC",199,0)
HDRP(Z,X,Z1) ; Print Header (Z=String, X=1 (line feed) X=0 (no LF), Z1 (page number right justified)
"RTN","RCDPARC",200,0)
 I $G(X)=1 W !
"RTN","RCDPARC",201,0)
 W ?(IOM-$L(Z)\2),Z W:$G(Z1)]"" ?(IOM-$L(Z1)),Z1
"RTN","RCDPARC",202,0)
 Q
"RTN","RCDPARC",203,0)
NEWPG(RCPG,RCNEW,RCSL,CD,RA) ; Check for new page needed, output header
"RTN","RCDPARC",204,0)
 ; RCPG = Page number passwd by referece
"RTN","RCDPARC",205,0)
 ; RCNEW = 1 to force new page
"RTN","RCDPARC",206,0)
 ; RCSL = page length passed by reference
"RTN","RCDPARC",207,0)
 ; Function returns 1 if user chooses to stop output
"RTN","RCDPARC",208,0)
 N ZSTOP S ZSTOP=0
"RTN","RCDPARC",209,0)
 I RCNEW!'RCPG!(($Y+5)>IOSL) D
"RTN","RCDPARC",210,0)
 . D:RCPG ASK^RCDPRU(.ZSTOP) Q:ZSTOP
"RTN","RCDPARC",211,0)
 . S RCPG=RCPG+1 W @IOF
"RTN","RCDPARC",212,0)
 . D HDRP($$HDR(CD,RA),1,"Page: "_RCPG)
"RTN","RCDPARC",213,0)
 . D HDRP("SORT BY: "_$S($E(RCSORT,1)="C":"CARC",1:"Payer")_"  RUN DATE: "_RCNOW,1)
"RTN","RCDPARC",214,0)
 . D HDRP("Divisions: "_DIVHDR_" CARCs: "_CRHDR,1)
"RTN","RCDPARC",215,0)
 . D HDRP("835 PAYERS: "_$S($E(RCPAY)="A":"ALL",1:"Selected")_" 835 PAYER TINs: "_$S($E(RCTIN)="A":"ALL",1:"Selected"),1)
"RTN","RCDPARC",216,0)
 . D HDRP("EOB PAID DATE RANGE: "_$$DATE^RCDPRU(RCDT1)_" - "_$$DATE^RCDPRU(RCDT2),1)
"RTN","RCDPARC",217,0)
 . W !,RCHR,! S RCSL=7
"RTN","RCDPARC",218,0)
 Q ZSTOP
"RTN","RCDPARC",219,0)
 ; Select Range or list of CARC Codes
"RTN","RCDPARC",220,0)
CARC ;
"RTN","RCDPARC",221,0)
 N DIR,OKAY
"RTN","RCDPARC",222,0)
 S DIR("A")="Enter a List or Range of CARC codes: ",DIR(0)="F^1:200"
"RTN","RCDPARC",223,0)
 S DIR("?")="Codes can be entered as: 1,2,4:15,A1:B6"
"RTN","RCDPARC",224,0)
 S DIR("?",1)="Please enter a list or range of CARC Codes, use a comma "
"RTN","RCDPARC",225,0)
 S DIR("?",2)="and a colon ':' to delimit ranges of codes."
"RTN","RCDPARC",226,0)
 D ^DIR K DIR
"RTN","RCDPARC",227,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") S RCSTOP=1 Q
"RTN","RCDPARC",228,0)
 S RCODE=X,OKAY=$$VAL^RCDPRU(345,.RCODE)
"RTN","RCDPARC",229,0)
 I 'OKAY S DIR("A",1)="Invalid Range/List of CARC Codes, Please reenter.." G CARC
"RTN","RCDPARC",230,0)
 K DIR("A",1) ; Clean up DIR
"RTN","RCDPARC",231,0)
 Q RCODE
"RTN","RCDPARC",232,0)
 ; Get data for report and apply filters if necessary
"RTN","RCDPARC",233,0)
GETDATA(GCARC,GPAYER,GTIN,GSORT,GRARC,GSTART,GSTOP,GARRAY,GDIV) ;
"RTN","RCDPARC",234,0)
 N SDT,IEN,CNT,ZX,RM,ZND,CARR,PNARR,PTARR,RCSET,GLINE,DZN,PTR,ZPAY,RCERR,RCDEN
"RTN","RCDPARC",235,0)
 S SDT=$O(^IBM(361.1,"E",GSTART),-1)
"RTN","RCDPARC",236,0)
 ; Set up the arrays for filtering on CARC, PAYER name and Payer TINs
"RTN","RCDPARC",237,0)
 D RNG^RCDPRU("CARC",GCARC,.CARR),RNG^RCDPRU("PAYER",GPAYER("DATA"),.PNARR),RNG^RCDPRU("TIN",GTIN("DATA"),.PTARR)
"RTN","RCDPARC",238,0)
 ;Get possible bills to work on from ^IBM(361.1,"E") index
"RTN","RCDPARC",239,0)
 F  S SDT=$O(^IBM(361.1,"E",SDT)) Q:SDT=""!(SDT>GSTOP)  D
"RTN","RCDPARC",240,0)
 . S IEN="" F  S IEN=$O(^IBM(361.1,"E",SDT,IEN)) Q:IEN=""  D
"RTN","RCDPARC",241,0)
 .. S RM=$$GET1^DIQ(361.1,IEN_",",102,"I") Q:$G(RM)=1  ; Quit looking if this EOB is removed
"RTN","RCDPARC",242,0)
 .. ; If not all divisions then check to see if this EOB should be included
"RTN","RCDPARC",243,0)
 .. I GDIV=0 S RCDIV="",RCDEN=$$GET1^DIQ(361.1,IEN_",",.01,"I") S:RCDEN'="" RCDIV=$$GET1^DIQ(399,RCDEN_",",.22,"I") Q:RCDIV=""  Q:$G(GDIV(RCDIV))=""
"RTN","RCDPARC",244,0)
 .. ; Get the data for this claim and 835 Payer
"RTN","RCDPARC",245,0)
 .. S ZND=^IBM(361.1,IEN,0),PTR=$P(ZND,U,1),ZPAY=$$FIND1^DIC(344.6,"","M",$P(ZND,U,3),"","","RCERR"),ZPAY=$$GET1^DIQ(344.6,ZPAY_",",.01,"E")
"RTN","RCDPARC",246,0)
 .. S RCSET=1
"RTN","RCDPARC",247,0)
 .. ; Are there CARC codes for this record
"RTN","RCDPARC",248,0)
 .. S:($G(^IBM(361.1,IEN,10,0))']"")&($G(^IBM(361.1,IEN,15,0))']"") RCSET=0
"RTN","RCDPARC",249,0)
 .. ; Is the PAYER included in the list
"RTN","RCDPARC",250,0)
 .. S:'$$CHECK("PAYER",ZPAY,.PNARR) RCSET=0
"RTN","RCDPARC",251,0)
 .. ; Is the payer TIN included in the list
"RTN","RCDPARC",252,0)
 .. S:'$$CHECK("TIN",$P(ZND,U,3)_" ",.PTARR) RCSET=0
"RTN","RCDPARC",253,0)
 .. Q:RCSET=0  ; No need to check further get next IEN
"RTN","RCDPARC",254,0)
 .. ; Pointer to the bill (^DGCR(399,))^KBill #^Patient pointer^Payer Pointer [^DIC(36)]^Payer ID/TIN^Total Charges^Paid Amount
"RTN","RCDPARC",255,0)
 .. S DZN=$G(^DGCR(399,PTR,0))
"RTN","RCDPARC",256,0)
 .. S:($G(^IBM(361.1,IEN,10,0))]"")!($G(^IBM(361.1,IEN,15,0))]"") @GARRAY@("BILLS",IEN,0)=PTR_U_$P(DZN,U,1)_U_$P(DZN,U,2)_U_$P(ZND,U,2)_U_$P(ZND,U,3)_U_$G(^DGCR(399,PTR,"U1"))_U_$P($G(^IBM(361.1,IEN,1)),U,1)
"RTN","RCDPARC",257,0)
 .. S CNT=0
"RTN","RCDPARC",258,0)
 .. ; Get Claim Level CARC Data
"RTN","RCDPARC",259,0)
 .. D:$G(^IBM(361.1,IEN,10,0))]""
"RTN","RCDPARC",260,0)
 ... ; Get CARC information, CARC is in 361.11
"RTN","RCDPARC",261,0)
 ... N IX,RCGX S IX="" D GETS^DIQ(361.1,IEN_",","10*;","E","RCGX")
"RTN","RCDPARC",262,0)
 ... ; CARC^AMOUNT^QUANTITY^DESCRIPTION
"RTN","RCDPARC",263,0)
 ... S IX="" F  S IX=$O(RCGX("361.111",IX)) Q:IX=""  D
"RTN","RCDPARC",264,0)
 .... ; Quit if this CARC is not in the list
"RTN","RCDPARC",265,0)
 .... Q:'$$CHECK("CARC",RCGX("361.111",IX,.01,"E"),.CARR)
"RTN","RCDPARC",266,0)
 .... S CNT=CNT+1
"RTN","RCDPARC",267,0)
 .... S @GARRAY@("BILLS",IEN,"C",CNT)=RCGX("361.111",IX,.01,"E")_U_RCGX("361.111",IX,.02,"E")_U_RCGX("361.111",IX,.03,"E")_U_RCGX("361.111",IX,.04,"E")
"RTN","RCDPARC",268,0)
 .. ; Get Line level CARC Data
"RTN","RCDPARC",269,0)
 .. D:$G(^IBM(361.1,IEN,15,0))]""
"RTN","RCDPARC",270,0)
 ... ; Get CARC and RARC information. CARC is in 361.11511 and RARC is in 361.1154
"RTN","RCDPARC",271,0)
 ... N IX,RCGX S IX="" D GETS^DIQ(361.1,IEN_",","15*;","IE","RCGX")
"RTN","RCDPARC",272,0)
 ... ; CARC^AMOUNT^QUANTITY^DESCRIPTION
"RTN","RCDPARC",273,0)
 ... S IX="" F  S IX=$O(RCGX("361.11511",IX)) Q:IX=""  D
"RTN","RCDPARC",274,0)
 .... ; Quit if this CARC is not on the list
"RTN","RCDPARC",275,0)
 .... Q:'$$CHECK("CARC",RCGX("361.11511",IX,.01,"E"),.CARR)
"RTN","RCDPARC",276,0)
 .... S CNT=CNT+1
"RTN","RCDPARC",277,0)
 .... S @GARRAY@("BILLS",IEN,"C",CNT)=RCGX("361.11511",IX,.01,"E")_U_RCGX("361.11511",IX,.02,"E")_U_RCGX("361.11511",IX,.03,"E")_U_RCGX("361.11511",IX,.04,"E")
"RTN","RCDPARC",278,0)
 ... ; RARC^DESCRIPTION
"RTN","RCDPARC",279,0)
 ... S IX="" F ZX=1:1 S IX=$O(RCGX("361.1154",IX)) Q:IX=""  S @GARRAY@("BILLS",IEN,"R",ZX)=RCGX("361.1154",IX,.02,"E")_U_RCGX("361.1154",IX,.03,"E")
"RTN","RCDPARC",280,0)
 ; Possible bills have been accumulated in "BILLS" sub-array, Apply filters and accumulate data in "REPORT" sub-array
"RTN","RCDPARC",281,0)
 D SORT(GARRAY,GSORT)
"RTN","RCDPARC",282,0)
 Q
"RTN","RCDPARC",283,0)
 ;
"RTN","RCDPARC",284,0)
SORT(ARRAY,SORT) ; Sort and summarize data based on SORT variable
"RTN","RCDPARC",285,0)
 N CARC,IEN,D1,D2,PIEN,PAYER,Z,TIN,DESC,R1,BILL S IEN=""
"RTN","RCDPARC",286,0)
 ; IEN= IEN from file 361.1; PIEN= 835 Payer IEN from file 344.6
"RTN","RCDPARC",287,0)
 F  S IEN=$O(@ARRAY@("BILLS",IEN)) Q:IEN=""  D
"RTN","RCDPARC",288,0)
 . S D1=@ARRAY@("BILLS",IEN,0),TIN=$P(D1,U,5),BILL=$P(D1,U,2)
"RTN","RCDPARC",289,0)
 . S PAYER=$$GPAYR(TIN,IEN,$P(D1,U,1),BILL) Q:$G(PAYER)=""  ; couldn't find a payer to match TIN, quit
"RTN","RCDPARC",290,0)
 . S CARC="",Z="",R1=""
"RTN","RCDPARC",291,0)
 . F  S Z=$O(@ARRAY@("BILLS",IEN,"C",Z)) Q:Z=""  S D2=@ARRAY@("BILLS",IEN,"C",Z),CARC=$P(D2,U,1),DESC=$P(D2,U,4) D
"RTN","RCDPARC",292,0)
 .. ; If RARC exists append to CARC Information
"RTN","RCDPARC",293,0)
 .. S:$G(@ARRAY@("BILLS",IEN,"R",Z))'="" R1=@ARRAY@("BILLS",IEN,"R",Z)
"RTN","RCDPARC",294,0)
 .. ;W "RARC: |",$G(@ARRAY@("BILLS",IEN,"R",Z)),"|",!
"RTN","RCDPARC",295,0)
 .. D:SORT="C"  ; Sort by CARC, group by Payer
"RTN","RCDPARC",296,0)
 ... S @ARRAY@("REPORT",CARC,PAYER_"/"_TIN,IEN,0)=D1
"RTN","RCDPARC",297,0)
 ... ; First time through set the "BILLS" D2 into report, otherwise add adjustment amt to the existing for this CARC
"RTN","RCDPARC",298,0)
 ... I $G(@ARRAY@("REPORT",CARC,PAYER_"/"_TIN,IEN,1))="" S @ARRAY@("REPORT",CARC,PAYER_"/"_TIN,IEN,1)=D2_U_R1
"RTN","RCDPARC",299,0)
 ... E  S $P(@ARRAY@("REPORT",CARC,PAYER_"/"_TIN,IEN,1),U,2)=$P(@ARRAY@("REPORT",CARC,PAYER_"/"_TIN,IEN,1),U,2)+$P(D2,U,2) ;W "CARC: ",CARC," Bill: ",BILL," D2: ",D2,!
"RTN","RCDPARC",300,0)
 .. D:SORT="P"  ; Sort by Payer, group by CARC
"RTN","RCDPARC",301,0)
 ... S @ARRAY@("REPORT",PAYER_"/"_TIN,CARC,IEN,0)=D1
"RTN","RCDPARC",302,0)
 ... ; First time through set the "BILLS" D2 into report, otherwise add adjustment amt to the existing for this CARC
"RTN","RCDPARC",303,0)
 ... I $G(@ARRAY@("REPORT",PAYER_"/"_TIN,CARC,IEN,1))="" S @ARRAY@("REPORT",PAYER_"/"_TIN,CARC,IEN,1)=D2_U_R1
"RTN","RCDPARC",304,0)
 ... E  S $P(@ARRAY@("REPORT",PAYER_"/"_TIN,CARC,IEN,1),U,2)=$P(@ARRAY@("REPORT",PAYER_"/"_TIN,CARC,IEN,1),U,2)+$P(D2,U,2)
"RTN","RCDPARC",305,0)
 .. ;I CARC=1 W ARRAY," BILL:",BILL," CARC:",CARC,"  ",PAYER_"/"_TIN,"  ",$P(D1,U,6),"  ",$P(D1,U,7),"  ",DESC,"  ",$P(D2,U,2),"  ",SORT,!
"RTN","RCDPARC",306,0)
 .. D SUM^RCDPRU(ARRAY,IEN,BILL,CARC,PAYER_"/"_TIN,$P(D1,U,6),$P(D1,U,7),DESC,$P(D2,U,2),SORT)
"RTN","RCDPARC",307,0)
 Q
"RTN","RCDPARC",308,0)
 ;
"RTN","RCDPARC",309,0)
 ; Check to see if this ITEM is included for processing
"RTN","RCDPARC",310,0)
CHECK(TYPE,ITEM,ARRAY) ;
"RTN","RCDPARC",311,0)
 ; If all are included no need to check further
"RTN","RCDPARC",312,0)
 Q:$G(ARRAY(TYPE))="ALL" 1
"RTN","RCDPARC",313,0)
 Q:$G(ITEM)="" 0
"RTN","RCDPARC",314,0)
 Q:$G(ARRAY(TYPE,ITEM))=1 1
"RTN","RCDPARC",315,0)
 Q 0
"RTN","RCDPARC",316,0)
 ;
"RTN","RCDPARC",317,0)
 ; Get 835 Payer for this entry
"RTN","RCDPARC",318,0)
GPAYR(GTIN,GIEN,GXIEN,KBILL) ;
"RTN","RCDPARC",319,0)
 N RCX,RCERR
"RTN","RCDPARC",320,0)
 S PIEN=$$FIND1^DIC(344.6,,"M",TIN,,,"RCERR")
"RTN","RCDPARC",321,0)
 ; If we have PIEN, then exact match return the payer name
"RTN","RCDPARC",322,0)
 Q:PIEN]"" $$GET1^DIQ(344.6,PIEN_",",.01,"E")
"RTN","RCDPARC",323,0)
 ; Otherwise we need to look further for the Payer Name
"RTN","RCDPARC",324,0)
 D FIND^DIC(344.6,,,"CM",TIN,,"C",,,"RCX","RCERR")
"RTN","RCDPARC",325,0)
 ; Grab first entry
"RTN","RCDPARC",326,0)
 Q:$G(RCX("DILIST",1,1))]"" $G(RCX("DILIST",1,1))
"RTN","RCDPARC",327,0)
 Q ""
"RTN","RCDPBPLM")
0^35^B57667335
"RTN","RCDPBPLM",1,0)
RCDPBPLM ;WISC/RFJ - bill profile ;1 Jun 99
"RTN","RCDPBPLM",2,0)
 ;;4.5;Accounts Receivable;**114,153,159,241,276,303**;Mar 20, 1995;Build 84
"RTN","RCDPBPLM",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPBPLM",4,0)
 ;
"RTN","RCDPBPLM",5,0)
 ;  called from menu option (19)
"RTN","RCDPBPLM",6,0)
 ;
"RTN","RCDPBPLM",7,0)
 N RCBILLDA,RCDPFXIT
"RTN","RCDPBPLM",8,0)
 ;
"RTN","RCDPBPLM",9,0)
 F  D  Q:'RCBILLDA
"RTN","RCDPBPLM",10,0)
 . W !! S RCBILLDA=$$SELBILL^RCDPBTLM
"RTN","RCDPBPLM",11,0)
 . I RCBILLDA<1 S RCBILLDA=0 Q
"RTN","RCDPBPLM",12,0)
 . D EN^VALM("RCDP BILL PROFILE")
"RTN","RCDPBPLM",13,0)
 . ;  fast exit
"RTN","RCDPBPLM",14,0)
 . I $G(RCDPFXIT) S RCBILLDA=0
"RTN","RCDPBPLM",15,0)
 Q
"RTN","RCDPBPLM",16,0)
 ;
"RTN","RCDPBPLM",17,0)
 ;
"RTN","RCDPBPLM",18,0)
INIT ;  initialization for list manager list
"RTN","RCDPBPLM",19,0)
 ;  requires rcbillda
"RTN","RCDPBPLM",20,0)
 N BILLED,COMMDA,DATA,PAID,RCDPDATA,RCFYDA,RCLINE,REPTYPE,X1,X2,RCDEBTOR,DFN
"RTN","RCDPBPLM",21,0)
 K ^TMP("RCDPBPLM",$J),^TMP("VALM VIDEO",$J)
"RTN","RCDPBPLM",22,0)
 ;
"RTN","RCDPBPLM",23,0)
 ;  fast exit
"RTN","RCDPBPLM",24,0)
 I $G(RCDPFXIT) S VALMQUIT=1 Q
"RTN","RCDPBPLM",25,0)
 ;
"RTN","RCDPBPLM",26,0)
 D DIQ430(RCBILLDA,".01:300")
"RTN","RCDPBPLM",27,0)
 ;
"RTN","RCDPBPLM",28,0)
 ;  set the listmanager line number
"RTN","RCDPBPLM",29,0)
 S RCLINE=0
"RTN","RCDPBPLM",30,0)
 ;
"RTN","RCDPBPLM",31,0)
 S DATA=$$ACCNTHDR^RCDPAPLM(RCDPDATA(430,RCBILLDA,9,"I"))
"RTN","RCDPBPLM",32,0)
 S RCLINE=RCLINE+1 D SET("Account: "_$P(DATA,"^")_" "_$P(DATA,"^",2),RCLINE,1,80)
"RTN","RCDPBPLM",33,0)
 D SET($P(DATA,"^",3),RCLINE,60,80)
"RTN","RCDPBPLM",34,0)
 S %="" I $TR($P(DATA,"^",4,9),"^")'="" S %=$P(DATA,"^",4)_", "_$P(DATA,"^",7)_", "_$P(DATA,"^",8)_"  "_$P(DATA,"^",9)
"RTN","RCDPBPLM",35,0)
 S RCLINE=RCLINE+1 D SET("   Addr: "_%,RCLINE,1,80)
"RTN","RCDPBPLM",36,0)
 S RCLINE=RCLINE+1 D SET("  Phone: "_$P(DATA,"^",10),RCLINE,1,80)
"RTN","RCDPBPLM",37,0)
 S RCDEBTOR=$P(^PRCA(430,RCBILLDA,0),U,9)
"RTN","RCDPBPLM",38,0)
 I $P(^RCD(340,+RCDEBTOR,0),U)["DPT(" S DFN=+^(0) D
"RTN","RCDPBPLM",39,0)
 . Q:$$EMGRES^DGUTL(DFN)'["K"
"RTN","RCDPBPLM",40,0)
 . S RCLINE=RCLINE+1
"RTN","RCDPBPLM",41,0)
 . D SET("EMERGENCY RESPONSE INDICATOR: HURRICANE KATRINA",RCLINE,1,80)
"RTN","RCDPBPLM",42,0)
 ;
"RTN","RCDPBPLM",43,0)
 ;  bill descriptive data
"RTN","RCDPBPLM",44,0)
 S RCLINE=RCLINE+1 D SET(" ",RCLINE,1,80)
"RTN","RCDPBPLM",45,0)
 ; PRCA*4.5*276 - get 1st/3rd party payment add EEOB indicator when applicable
"RTN","RCDPBPLM",46,0)
 S PRCOUT=$$COMP3^PRCAAPR(RCBILLDA)
"RTN","RCDPBPLM",47,0)
 I PRCOUT'="%" S PRCOUT=$$IBEEOBCK^PRCAAPR1(RCBILLDA)
"RTN","RCDPBPLM",48,0)
 S RCLINE=RCLINE+1 ; D SET("Bill Number",RCLINE,1,80,.01,IOUON,IOUOFF)
"RTN","RCDPBPLM",49,0)
 ; IA# 6060 for $$BILLREJ^IBJTU6
"RTN","RCDPBPLM",50,0)
 S PRCOUT=PRCOUT_$S($$BILLREJ^IBJTU6($P($P($G(RCDPDATA(430,RCBILLDA,.01,"E")),"^"),"-",2)):"c",1:"") ;PRCA*4.5*303 Add indicator for rejects
"RTN","RCDPBPLM",51,0)
 D SET("Bill Number: "_$G(PRCOUT)_$P(RCDPDATA(430,RCBILLDA,.01,"E"),"^"),RCLINE,1,80,0,IOUON,IOUOFF)
"RTN","RCDPBPLM",52,0)
 D SET("Category",RCLINE,40,80,2)
"RTN","RCDPBPLM",53,0)
 S RCLINE=RCLINE+1 D SET("Date  Prepared",RCLINE,1,80,10)
"RTN","RCDPBPLM",54,0)
 D SET("Status",RCLINE,42,80,8)
"RTN","RCDPBPLM",55,0)
 S RCLINE=RCLINE+1 D SET("Date Activated",RCLINE,1,80,60)
"RTN","RCDPBPLM",56,0)
 S RCLINE=RCLINE+1 D SET("Date Status Up",RCLINE,1,80,14)
"RTN","RCDPBPLM",57,0)
 D SET("By",RCLINE,46,80,17)
"RTN","RCDPBPLM",58,0)
 ;display TP bills Division of Care
"RTN","RCDPBPLM",59,0)
 I "T"=$P($G(^PRCA(430.2,+RCDPDATA(430,RCBILLDA,2,"I"),0)),"^",6) D
"RTN","RCDPBPLM",60,0)
 . S RCDIV=$$DIV^IBJDF2(RCBILLDA) I +RCDIV D
"RTN","RCDPBPLM",61,0)
 .. S RCDIV=$P($G(^DG(40.8,RCDIV,0)),U,1) I RCDIV="" Q
"RTN","RCDPBPLM",62,0)
 .. S RCLINE=RCLINE+1 D SET("Division of Care: "_RCDIV,RCLINE,1,80)
"RTN","RCDPBPLM",63,0)
 S RCLINE=RCLINE+1 D SET("Resulting From",RCLINE,1,80,4.5)
"RTN","RCDPBPLM",64,0)
 I RCDPDATA(430,RCBILLDA,15.1,"E")'="" D
"RTN","RCDPBPLM",65,0)
 . S RCLINE=RCLINE+1 D SET("  Type of Care",RCLINE,1,80,15.1)
"RTN","RCDPBPLM",66,0)
 S RCLINE=RCLINE+1 D SET("        Remark",RCLINE,1,80,15)
"RTN","RCDPBPLM",67,0)
 ;  display comments if there
"RTN","RCDPBPLM",68,0)
 I $O(^PRCA(430,RCBILLDA,10,0)) D
"RTN","RCDPBPLM",69,0)
 . S RCLINE=RCLINE+1 D SET("Comments:",RCLINE,1,80)
"RTN","RCDPBPLM",70,0)
 . S COMMDA=0 F  S COMMDA=$O(^PRCA(430,RCBILLDA,10,COMMDA)) Q:'COMMDA  D
"RTN","RCDPBPLM",71,0)
 .. S RCLINE=RCLINE+1 D SET("  "_$G(^PRCA(430,RCBILLDA,10,COMMDA,0)),RCLINE,1,80)
"RTN","RCDPBPLM",72,0)
 ;
"RTN","RCDPBPLM",73,0)
 ;  int/adm rate and date
"RTN","RCDPBPLM",74,0)
 S RCLINE=RCLINE+1 D SET(" ",RCLINE,1,80)
"RTN","RCDPBPLM",75,0)
 S DATA=$$INT^RCMSFN01(RCDPDATA(430,RCBILLDA,10,"I"))
"RTN","RCDPBPLM",76,0)
 S Y=$P(DATA,"^",2) I Y D DD^%DT
"RTN","RCDPBPLM",77,0)
 S RCLINE=RCLINE+1 D SET("Interest Effective Rate Date: "_Y,RCLINE,1,80)
"RTN","RCDPBPLM",78,0)
 D SET(" Annual Rate: "_$P(DATA,"^"),RCLINE,55,80)
"RTN","RCDPBPLM",79,0)
 S DATA=$$ADM^RCMSFN01(RCDPDATA(430,RCBILLDA,10,"I"))
"RTN","RCDPBPLM",80,0)
 S Y=$P(DATA,"^",2) I Y D DD^%DT
"RTN","RCDPBPLM",81,0)
 S RCLINE=RCLINE+1 D SET("   Admin Effective Rate Date: "_Y,RCLINE,1,80)
"RTN","RCDPBPLM",82,0)
 D SET("Monthly Rate: "_$P(DATA,"^"),RCLINE,55,80)
"RTN","RCDPBPLM",83,0)
 S RCLINE=RCLINE+1 D SET("  Last Int/Admin Charge Date",RCLINE,1,80,67)
"RTN","RCDPBPLM",84,0)
 ;
"RTN","RCDPBPLM",85,0)
 ;  put bill balances on first line of second screen
"RTN","RCDPBPLM",86,0)
 F RCLINE=RCLINE+1:1:16 D SET(" ",RCLINE,1,80)
"RTN","RCDPBPLM",87,0)
 ;
"RTN","RCDPBPLM",88,0)
 ;  bill dollars
"RTN","RCDPBPLM",89,0)
 S RCLINE=RCLINE+1 D SET(" ",RCLINE,1,80)
"RTN","RCDPBPLM",90,0)
 S RCLINE=RCLINE+1 D SET("Bill Balances           Billed          Paid",RCLINE,1,80,0,IOUON,IOUOFF)
"RTN","RCDPBPLM",91,0)
 S RCLINE=RCLINE+1 D SET("     Principal: "_$J(RCDPDATA(430,RCBILLDA,71,"E"),14,2)_$J(RCDPDATA(430,RCBILLDA,77,"E"),14,2),RCLINE,1,80)
"RTN","RCDPBPLM",92,0)
 D SET("       Original Amt: "_$J(RCDPDATA(430,RCBILLDA,3,"E"),11,2),RCLINE,48,80)
"RTN","RCDPBPLM",93,0)
 S RCLINE=RCLINE+1 D SET("      Interest: "_$J(RCDPDATA(430,RCBILLDA,72,"E"),14,2)_$J(RCDPDATA(430,RCBILLDA,78,"E"),14,2),RCLINE,1,80)
"RTN","RCDPBPLM",94,0)
 I $G(RCDPDATA(430,RCBILLDA,131,"E")) D SET("Medicare Contr  Adj: "_$J(RCDPDATA(430,RCBILLDA,131,"E"),11,2),RCLINE,48,80)
"RTN","RCDPBPLM",95,0)
 I RCDPDATA(430,RCBILLDA,74,"E") D
"RTN","RCDPBPLM",96,0)
 . S RCLINE=RCLINE+1 D SET("  Marshall Fee: "_$J(RCDPDATA(430,RCBILLDA,74,"E"),14,2)_$J(RCDPDATA(430,RCBILLDA,79.1,"E"),14,2),RCLINE,1,80)
"RTN","RCDPBPLM",97,0)
 I RCDPDATA(430,RCBILLDA,75,"E") D
"RTN","RCDPBPLM",98,0)
 . S RCLINE=RCLINE+1 D SET("    Court Cost: "_$J(RCDPDATA(430,RCBILLDA,75,"E"),14,2),RCLINE,1,80)
"RTN","RCDPBPLM",99,0)
 S RCLINE=RCLINE+1 D SET("Administrative: "_$J(RCDPDATA(430,RCBILLDA,73,"E"),14,2)_$J(RCDPDATA(430,RCBILLDA,79,"E"),14,2),RCLINE,1,80,0,IOUON,IOUOFF)
"RTN","RCDPBPLM",100,0)
 I $G(RCDPDATA(430,RCBILLDA,132,"E")) D SET("Medicare Unreim Exp: "_$J(RCDPDATA(430,RCBILLDA,132,"E"),11,2),RCLINE,48,80)
"RTN","RCDPBPLM",101,0)
 ;  compute totals
"RTN","RCDPBPLM",102,0)
 S BILLED=0 F %=71,72,73,74,75 S BILLED=BILLED+RCDPDATA(430,RCBILLDA,%,"E")
"RTN","RCDPBPLM",103,0)
 S PAID=0 F %=77,78,79,79.1 S PAID=PAID+RCDPDATA(430,RCBILLDA,%,"E")
"RTN","RCDPBPLM",104,0)
 S RCLINE=RCLINE+1 D SET("       Current: "_$J(BILLED,14,2)_$J(PAID,14,2),RCLINE,1,80)
"RTN","RCDPBPLM",105,0)
 ;
"RTN","RCDPBPLM",106,0)
 ;  show refund if there
"RTN","RCDPBPLM",107,0)
 I RCDPDATA(430,RCBILLDA,79.18,"E") D
"RTN","RCDPBPLM",108,0)
 . S RCLINE=RCLINE+1 D SET(" ",RCLINE,1,80)
"RTN","RCDPBPLM",109,0)
 . S RCLINE=RCLINE+1 D SET("Refunded Amount",RCLINE,1,80,79.18)
"RTN","RCDPBPLM",110,0)
 . D SET("Date",RCLINE,27,80,79.19)
"RTN","RCDPBPLM",111,0)
 . D SET("By",RCLINE,50,80,79.21)
"RTN","RCDPBPLM",112,0)
 ;
"RTN","RCDPBPLM",113,0)
 ;  accounting data
"RTN","RCDPBPLM",114,0)
 S RCLINE=RCLINE+1 D SET(" ",RCLINE,1,80)
"RTN","RCDPBPLM",115,0)
 S RCLINE=RCLINE+1 D SET("Accounting Data",RCLINE,1,80,0,IOUON,IOUOFF)
"RTN","RCDPBPLM",116,0)
 ;  fiscal year multiple
"RTN","RCDPBPLM",117,0)
 D SET("Fiscal Year",RCLINE,20,32,0,IOUON,IOUOFF)
"RTN","RCDPBPLM",118,0)
 D SET("Approp Code",RCLINE,34,46,0,IOUON,IOUOFF)
"RTN","RCDPBPLM",119,0)
 D SET("Amount",RCLINE,50,60,0,IOUON,IOUOFF)
"RTN","RCDPBPLM",120,0)
 S RCFYDA=0 F  S RCFYDA=$O(^PRCA(430,RCBILLDA,2,RCFYDA)) Q:'RCFYDA  D
"RTN","RCDPBPLM",121,0)
 . S DATA=$G(^PRCA(430,RCBILLDA,2,RCFYDA,0))
"RTN","RCDPBPLM",122,0)
 . S RCLINE=RCLINE+1
"RTN","RCDPBPLM",123,0)
 . D SET($J($P(DATA,"^"),30),RCLINE,1,80)     ;fiscal year
"RTN","RCDPBPLM",124,0)
 . D SET($J(RCDPDATA(430,RCBILLDA,203,"E"),6),RCLINE,39,45) ;fund
"RTN","RCDPBPLM",125,0)
 . D SET($J($P(DATA,"^",2),8,2),RCLINE,48,80)   ;amount
"RTN","RCDPBPLM",126,0)
 ; determine which rsc to display
"RTN","RCDPBPLM",127,0)
 S %=RCDPDATA(430,RCBILLDA,255.1,"E") I %="" S %=RCDPDATA(430,RCBILLDA,255,"E")
"RTN","RCDPBPLM",128,0)
 S RCLINE=RCLINE+1 D SET("Rev Srce Code: "_%,RCLINE,1,80)
"RTN","RCDPBPLM",129,0)
 ;
"RTN","RCDPBPLM",130,0)
 ;  collection data
"RTN","RCDPBPLM",131,0)
 S RCLINE=RCLINE+1 D SET(" ",RCLINE,1,80)
"RTN","RCDPBPLM",132,0)
 S RCLINE=RCLINE+1 D SET("Collection Follow up Data",RCLINE,1,80,0,IOUON,IOUOFF)
"RTN","RCDPBPLM",133,0)
 S RCLINE=RCLINE+1 D SET("        Letter1",RCLINE,1,80,61)
"RTN","RCDPBPLM",134,0)
 S RCLINE=RCLINE+1 D SET("        Letter2",RCLINE,1,80,62)
"RTN","RCDPBPLM",135,0)
 S RCLINE=RCLINE+1 D SET("        Letter3",RCLINE,1,80,63)
"RTN","RCDPBPLM",136,0)
 S RCLINE=RCLINE+1 D SET("        Letter4",RCLINE,1,80,68)
"RTN","RCDPBPLM",137,0)
 I RCDPDATA(430,RCBILLDA,68.6,"I") D
"RTN","RCDPBPLM",138,0)
 . S RCLINE=RCLINE+1 D SET("     IRS Letter",RCLINE,1,80,68.6)
"RTN","RCDPBPLM",139,0)
 . D SET("Amount",RCLINE,65,80,68.93)
"RTN","RCDPBPLM",140,0)
 I RCDPDATA(430,RCBILLDA,64,"I") D
"RTN","RCDPBPLM",141,0)
 . S RCLINE=RCLINE+1 D SET("DC/DOJ Ref Date",RCLINE,1,80,64)
"RTN","RCDPBPLM",142,0)
 . D SET("To",RCLINE,40,80,65)
"RTN","RCDPBPLM",143,0)
 . D SET("Amount",RCLINE,65,80,66)
"RTN","RCDPBPLM",144,0)
 ;
"RTN","RCDPBPLM",145,0)
 ;  repayment plan (show only if there)
"RTN","RCDPBPLM",146,0)
 I RCDPDATA(430,RCBILLDA,41,"I") D REPAY^RCDPBPLI
"RTN","RCDPBPLM",147,0)
 ;
"RTN","RCDPBPLM",148,0)
 ;  irs data (show only if there)
"RTN","RCDPBPLM",149,0)
 I RCDPDATA(430,RCBILLDA,68.7,"I") D IRS^RCDPBPLI
"RTN","RCDPBPLM",150,0)
 ;
"RTN","RCDPBPLM",151,0)
 ;  dmc data (show only if there)
"RTN","RCDPBPLM",152,0)
 I RCDPDATA(430,RCBILLDA,121,"I") D DMC^RCDPBPLI
"RTN","RCDPBPLM",153,0)
 ;
"RTN","RCDPBPLM",154,0)
 ;  top data (show only if there)
"RTN","RCDPBPLM",155,0)
 I $G(RCDPDATA(430,RCBILLDA,141,"I")) D TOP^RCDPBPLI
"RTN","RCDPBPLM",156,0)
 ;
"RTN","RCDPBPLM",157,0)
 ;  get the report type based on category.  if third party show
"RTN","RCDPBPLM",158,0)
 ;  insurance data
"RTN","RCDPBPLM",159,0)
 S REPTYPE=$P($G(^PRCA(430.2,+RCDPDATA(430,RCBILLDA,2,"I"),0)),"^",6)
"RTN","RCDPBPLM",160,0)
 I REPTYPE="T" D INSUR^RCDPBPLI
"RTN","RCDPBPLM",161,0)
 ;
"RTN","RCDPBPLM",162,0)
 ;  report type for employee or vendor, show description field 106
"RTN","RCDPBPLM",163,0)
 I REPTYPE="O"!(REPTYPE="V") D INIT^RCDPBPLI
"RTN","RCDPBPLM",164,0)
 ;
"RTN","RCDPBPLM",165,0)
 ;  show transactions and reasons
"RTN","RCDPBPLM",166,0)
 D TRANINIT^RCDPBPLI
"RTN","RCDPBPLM",167,0)
 ;
"RTN","RCDPBPLM",168,0)
 ;  set valmcnt to number of lines in the list
"RTN","RCDPBPLM",169,0)
 S VALMCNT=RCLINE
"RTN","RCDPBPLM",170,0)
 D HDR
"RTN","RCDPBPLM",171,0)
 Q
"RTN","RCDPBPLM",172,0)
 ;
"RTN","RCDPBPLM",173,0)
 ;
"RTN","RCDPBPLM",174,0)
HDR ;  header code for list manager display
"RTN","RCDPBPLM",175,0)
 ;  requires rcbillda
"RTN","RCDPBPLM",176,0)
 S VALMHDR(1)="***** ACCOUNTS RECEIVABLE BILL PROFILE FOR "_$P($G(^PRCA(430,RCBILLDA,0)),"^")_" *****"
"RTN","RCDPBPLM",177,0)
 ; PRCA*4.5*276 - add explanation of '%' for the user
"RTN","RCDPBPLM",178,0)
 S VALMSG="|% EEOB | Enter ?? for more actions|" ; PRCA*4.5*276
"RTN","RCDPBPLM",179,0)
 Q
"RTN","RCDPBPLM",180,0)
 ;
"RTN","RCDPBPLM",181,0)
 ;
"RTN","RCDPBPLM",182,0)
EXIT ;  exit list manager option and clean up
"RTN","RCDPBPLM",183,0)
 K ^TMP("RCDPBPLM",$J)
"RTN","RCDPBPLM",184,0)
 Q
"RTN","RCDPBPLM",185,0)
 ;
"RTN","RCDPBPLM",186,0)
 ;
"RTN","RCDPBPLM",187,0)
SET(STRING,LINE,COLBEG,COLEND,FIELD,ON,OFF) ;  set array
"RTN","RCDPBPLM",188,0)
 I $G(FIELD) S STRING=STRING_$S(STRING="":"",1:": ")_$G(RCDPDATA(430,RCBILLDA,FIELD,"E"))
"RTN","RCDPBPLM",189,0)
 I STRING="",'$G(FIELD) Q
"RTN","RCDPBPLM",190,0)
 I '$D(@VALMAR@(LINE,0)) D SET^VALM10(LINE,$J("",80))
"RTN","RCDPBPLM",191,0)
 D SET^VALM10(LINE,$$SETSTR^VALM1(STRING,@VALMAR@(LINE,0),COLBEG,COLEND-COLBEG+1))
"RTN","RCDPBPLM",192,0)
 I $G(ON)]""!($G(OFF)]"") D CNTRL^VALM10(LINE,COLBEG,$L(STRING),ON,OFF)
"RTN","RCDPBPLM",193,0)
 Q
"RTN","RCDPBPLM",194,0)
 ;
"RTN","RCDPBPLM",195,0)
 ;
"RTN","RCDPBPLM",196,0)
DIQ430(DA,DR) ;  diq call to retrieve data for dr fields in file 430
"RTN","RCDPBPLM",197,0)
 N D0,DIC,DIQ,DIQ2
"RTN","RCDPBPLM",198,0)
 K RCDPDATA(430,DA)
"RTN","RCDPBPLM",199,0)
 S DIQ(0)="IE",DIC="^PRCA(430,",DIQ="RCDPDATA" D EN^DIQ1
"RTN","RCDPBPLM",200,0)
 Q
"RTN","RCDPCRR")
0^2^B179060706
"RTN","RCDPCRR",1,0)
RCDPCRR ;ALB/TJB - CARC/RARC DATA TABLE REPORT ;11/03/14 1:00pm
"RTN","RCDPCRR",2,0)
 ;;4.5;Accounts Receivable;**303**;Mar 20, 1995;Build 84
"RTN","RCDPCRR",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPCRR",4,0)
 Q
"RTN","RCDPCRR",5,0)
 ; PRCA*4.5*303 - CARC/RARC DATA Table report 
"RTN","RCDPCRR",6,0)
 ;
"RTN","RCDPCRR",7,0)
 ; DESCRIPTION : The following generates a report that displays selected or all
"RTN","RCDPCRR",8,0)
 ;               CARC or RARC Codes from the Files 345 (CARC) or 346 (RARC).
"RTN","RCDPCRR",9,0)
 ;               several filters may be used to limit the codes displayed:
"RTN","RCDPCRR",10,0)
 ;                 * CARCs only, RARCs only or Both - default is both.
"RTN","RCDPCRR",11,0)
 ;                 * Display Active, Inactive or Both - default is active
"RTN","RCDPCRR",12,0)
 ;                 * Report Date - default today
"RTN","RCDPCRR",13,0)
 ;                 * Output to excel (Yes/No)  -  default is no
"RTN","RCDPCRR",14,0)
 ;
"RTN","RCDPCRR",15,0)
 ; INPUTS      : The user is prompted for the following:
"RTN","RCDPCRR",16,0)
 ;                  CARC/RARC/Both Codes
"RTN","RCDPCRR",17,0)
 ;                  Prompt for codes to display 
"RTN","RCDPCRR",18,0)
 ;                  Active/Inactive
"RTN","RCDPCRR",19,0)
 ;                  Report Date
"RTN","RCDPCRR",20,0)
 ;                  Output report to Excel
"RTN","RCDPCRR",21,0)
 ;
"RTN","RCDPCRR",22,0)
EN ; Entry point for Report
"RTN","RCDPCRR",23,0)
 N DUOUT,DTOUT,DIR,X,Y,Z,I,JJ,KK,DL,CD,EXLN,IX,RCDT1,RCDET,ZTRTN,ZTSK,ZTDESC,ZTSAVE,ZTSTOP,%ZIS,POP
"RTN","RCDPCRR",24,0)
 N RCJOB,RCCD,RCRD,RCNOW,RCODE,RCSTAT,RCPG,RCHR,RCDISP,IDX,TY,FILE,IEN,ZN,RCQUIT,XCNT
"RTN","RCDPCRR",25,0)
 S RCQUIT=0
"RTN","RCDPCRR",26,0)
 ;
"RTN","RCDPCRR",27,0)
 ; Quick Search
"RTN","RCDPCRR",28,0)
 G:$G(QS)'=1 R1 ; Go to regular report
"RTN","RCDPCRR",29,0)
 ;
"RTN","RCDPCRR",30,0)
 D GCD(.RCCD,.RCDET)
"RTN","RCDPCRR",31,0)
 I $G(RCCD)="EXIT" G ARCQ
"RTN","RCDPCRR",32,0)
 S RCDISP=0,RCSTAT="B",RCDT1=$$DT^XLFDT K ^TMP("RC_CARC_RARC_TABLE",$J)
"RTN","RCDPCRR",33,0)
 D GETCODES($G(RCCD("CARC")),$G(RCCD("RARC")),RCSTAT,RCDT1,$NA(^TMP("RC_CARC_RARC_TABLE",$J)))
"RTN","RCDPCRR",34,0)
 S RCODE="CARC^RARC",RCNOW=$$NOW^RCDPRU(),RCPG=0,$P(RCHR,"=",IOM)=""   ;,IOSL=40
"RTN","RCDPCRR",35,0)
 G REPORT
"RTN","RCDPCRR",36,0)
 ;
"RTN","RCDPCRR",37,0)
R1 ;
"RTN","RCDPCRR",38,0)
 S RCODE=""
"RTN","RCDPCRR",39,0)
 S DIR("A")="Select (N)o CARCs or (A)ll CARCs?: ",DIR(0)="SA^N:No CARCs to Include;A:All CARCs Included"
"RTN","RCDPCRR",40,0)
 S DIR("B")="ALL" D ^DIR K DIR
"RTN","RCDPCRR",41,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G ARCQ
"RTN","RCDPCRR",42,0)
 S RCDET=$$UP(Y)
"RTN","RCDPCRR",43,0)
 I RCDET="A" S RCCD("CARC")="ALL",RCODE="CARC"
"RTN","RCDPCRR",44,0)
 ;
"RTN","RCDPCRR",45,0)
 S DIR("A")="Select (N)o RARCs or (A)ll RARCs?: ",DIR(0)="SA^N:No RARCs to Include;A:All RARCs Included"
"RTN","RCDPCRR",46,0)
 S DIR("B")="ALL" D ^DIR K DIR
"RTN","RCDPCRR",47,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G ARCQ
"RTN","RCDPCRR",48,0)
 S RCDET=$$UP(Y)
"RTN","RCDPCRR",49,0)
 I RCDET="A" S RCRD("RARC")="ALL",RCODE=$S(RCODE'="":RCODE_"^RARC",1:"RARC")
"RTN","RCDPCRR",50,0)
 ; 
"RTN","RCDPCRR",51,0)
 I RCODE']"" W !!,"Error: No Codes selected for display...",!,"Please select either CARC and/or RARC to include on report",! G R1
"RTN","RCDPCRR",52,0)
 ;
"RTN","RCDPCRR",53,0)
 S DIR("A")="Include (A)ctive codes, (I)nactive codes or (B)oth?: ",DIR(0)="SA^A:ACTIVE Codes;I:INACTIVE Codes;B:BOTH ACTIVE/INACTIVE Codes"
"RTN","RCDPCRR",54,0)
 S DIR("?")="Active/Inactive will be based on the date selected."
"RTN","RCDPCRR",55,0)
 S DIR("?",1)="Please indicate Active/Inactive/Both for codes included on the report."
"RTN","RCDPCRR",56,0)
 S DIR("?",2)="Active and Inactive codes will be determined by the date of the report."
"RTN","RCDPCRR",57,0)
 S DIR("B")="ACTIVE" D ^DIR K DIR
"RTN","RCDPCRR",58,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G ARCQ
"RTN","RCDPCRR",59,0)
 S RCSTAT=$$UP(Y)
"RTN","RCDPCRR",60,0)
 ;
"RTN","RCDPCRR",61,0)
DT1 ; Check the date 
"RTN","RCDPCRR",62,0)
 S DIR("?")="Enter Date for the report"
"RTN","RCDPCRR",63,0)
 S DIR(0)="DAO^:"_DT_":APE",DIR("B")="T",DIR("A")="Report Date: " D ^DIR K DIR
"RTN","RCDPCRR",64,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G ARCQ
"RTN","RCDPCRR",65,0)
 S RCDT1=Y
"RTN","RCDPCRR",66,0)
 I RCDT1<2950102 W !,"Invalid date entered, no records for report.",!,"Please select a date after 1/1/1995.",! G DT1
"RTN","RCDPCRR",67,0)
 ;
"RTN","RCDPCRR",68,0)
 W !
"RTN","RCDPCRR",69,0)
 ; Send output to excel. (Removed excel output because description would be truncated)
"RTN","RCDPCRR",70,0)
 S RCDISP=0
"RTN","RCDPCRR",71,0)
 ;S RCDISP=$$DISPTY^RCDPRU()
"RTN","RCDPCRR",72,0)
 ;D:RCDISP INFO^RCDPRU
"RTN","RCDPCRR",73,0)
 ;
"RTN","RCDPCRR",74,0)
 S %ZIS="QM" D ^%ZIS Q:POP
"RTN","RCDPCRR",75,0)
 I $D(IO("Q")) D  Q
"RTN","RCDPCRR",76,0)
 . S ZTRTN="ENQ^RCDPCRR",ZTDESC="AR - CARC & RARC DATA REPORT",ZTSAVE("*")=""
"RTN","RCDPCRR",77,0)
 . D ^%ZTLOAD
"RTN","RCDPCRR",78,0)
 . W !!,$S($D(ZTSK):"Your task number"_ZTSK_" has been queued.",1:"Unable to queue this job.")
"RTN","RCDPCRR",79,0)
 . K ZTSK,IO("Q") D HOME^%ZIS
"RTN","RCDPCRR",80,0)
 U IO
"RTN","RCDPCRR",81,0)
 ;
"RTN","RCDPCRR",82,0)
ENQ ; Return here for queued print
"RTN","RCDPCRR",83,0)
 S RCNOW=$$NOW^RCDPRU(),RCPG=0,$P(RCHR,"=",IOM)=""
"RTN","RCDPCRR",84,0)
 ;
"RTN","RCDPCRR",85,0)
 K ^TMP("RC_CARC_RARC_TABLE",$J)
"RTN","RCDPCRR",86,0)
 D GETCODES($G(RCCD("CARC")),$G(RCRD("RARC")),RCSTAT,RCDT1,$NA(^TMP("RC_CARC_RARC_TABLE",$J)))
"RTN","RCDPCRR",87,0)
 ;
"RTN","RCDPCRR",88,0)
REPORT ;
"RTN","RCDPCRR",89,0)
 ; Report
"RTN","RCDPCRR",90,0)
 I RCDISP=0 D
"RTN","RCDPCRR",91,0)
 . S RCPG=1 W @IOF
"RTN","RCDPCRR",92,0)
 . I $G(QS)=1 D HDRP("EDI LOCKBOX CARC/RARC QUICK SEARCH",1,"Page: "_RCPG)
"RTN","RCDPCRR",93,0)
 . E  D HDRP("EDI LOCKBOX CARC/RARC TABLE DATA REPORT",1,"Page: "_RCPG)
"RTN","RCDPCRR",94,0)
 . D HDRP("REPORT RUN DATE: "_RCNOW,1)
"RTN","RCDPCRR",95,0)
 . D:+$G(QS)'=1 HDRP($$HDR2(RCSTAT,RCDET,RCDT1),1) W !!
"RTN","RCDPCRR",96,0)
 . W $$HDR3(),!
"RTN","RCDPCRR",97,0)
 . W RCHR,! S RCSL=8
"RTN","RCDPCRR",98,0)
 E  W "CODE^START^STOP^MODIFIED^VDATE^TYPE^DESCRIPTION^NOTES",!
"RTN","RCDPCRR",99,0)
 S IDX=RCODE
"RTN","RCDPCRR",100,0)
 F JJ=1:1 S TY=$P(IDX,U,JJ),CD="" Q:TY=""!RCQUIT  S FILE=$S(TY="RARC":346,1:345) F  S CD=$O(^TMP("RC_CARC_RARC_TABLE",$J,TY,CD)) Q:CD=""!RCQUIT  D
"RTN","RCDPCRR",101,0)
 . S IEN="",IEN=$O(^TMP("RC_CARC_RARC_TABLE",$J,TY,CD,IEN)),ZN=$G(^TMP("RC_CARC_RARC_TABLE",$J,TY,CD,IEN))
"RTN","RCDPCRR",102,0)
 . K RCDAT,RCERR
"RTN","RCDPCRR",103,0)
 . D GETS^DIQ(FILE,IEN_",","4;5","","RCDAT","RCERR") ; Get Description (4) and Notes (5) fields
"RTN","RCDPCRR",104,0)
 . I RCDISP D  ; Output Excel
"RTN","RCDPCRR",105,0)
 .. S EXLN=$P(ZN,U,1)_U_$$DATE($P(ZN,U,2))
"RTN","RCDPCRR",106,0)
 .. S EXLN=EXLN_U_$S($P(ZN,U,3)="":"",1:$$DATE($P(ZN,U,3)))_U_$S($P(ZN,U,4)="":"",1:$$DATE($P(ZN,U,4)))_U_$S($P(ZN,U,5)="":"",1:$$DATE($P($P(ZN,U,5),".",1)))_U_TY
"RTN","RCDPCRR",107,0)
 .. ; Collect Discription into a single variable for output
"RTN","RCDPCRR",108,0)
 .. S KK="",DL=""
"RTN","RCDPCRR",109,0)
 .. F  S KK=$O(RCDAT(FILE,IEN_",",4,KK)) Q:KK=""  S DL=DL_$G(RCDAT(FILE,IEN_",",4,KK))
"RTN","RCDPCRR",110,0)
 .. S EXLN=EXLN_U_DL
"RTN","RCDPCRR",111,0)
 .. ;Add notes
"RTN","RCDPCRR",112,0)
 .. S EXLN=EXLN_U_$G(RCDAT(FILE,IEN_",",5))
"RTN","RCDPCRR",113,0)
 .. W EXLN,!
"RTN","RCDPCRR",114,0)
 . E  D  ; Output to the screen
"RTN","RCDPCRR",115,0)
 .. W ?(4-$L($P(ZN,U,1))),$P(ZN,U,1),?8,$$DATE($P(ZN,U,2))
"RTN","RCDPCRR",116,0)
 .. W:$P(ZN,U,3)'="" ?21,$$DATE($P(ZN,U,3)) W:$P(ZN,U,4)'="" ?35,$$DATE($P(ZN,U,4)) W ?51,TY W:$P(ZN,U,5)'="" ?64,$$DATE($P($P(ZN,U,5),".",1)) W ! S RCSL=RCSL+1
"RTN","RCDPCRR",117,0)
 .. I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL) G:RCQUIT ARCQ
"RTN","RCDPCRR",118,0)
 .. ;Accumulate the Word Processing Description Field
"RTN","RCDPCRR",119,0)
 .. S IX="",XCNT=0 K ^UTILITY($J,"W")
"RTN","RCDPCRR",120,0)
 .. F  S IX=$O(RCDAT(FILE,IEN_",",4,IX)) Q:IX=""  S X=RCDAT(FILE,IEN_",",4,IX),DIWL=6,DIWR=IOM,DIWF="W" D ^DIWP S RCSL=RCSL+1 I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL) G:RCQUIT ARCQ
"RTN","RCDPCRR",121,0)
 .. D ^DIWW S RCSL=RCSL+1
"RTN","RCDPCRR",122,0)
 .. I RCSL>=(IOSL-3) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL) G:RCQUIT ARCQ
"RTN","RCDPCRR",123,0)
 .. ;Print the Notes Field
"RTN","RCDPCRR",124,0)
 .. I $G(RCDAT(FILE,IEN_",",5))'="" K ^UTILITY($J,"W") S X="NOTES: "_RCDAT(FILE,IEN_",",5),DIWL=6,DIWR=IOM,DIWF="" D ^DIWP,^DIWW S RCSL=RCSL+1
"RTN","RCDPCRR",125,0)
 .. W ! S RCSL=RCSL+1
"RTN","RCDPCRR",126,0)
 .. I RCSL>=(IOSL-3) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL) G:RCQUIT ARCQ
"RTN","RCDPCRR",127,0)
 ;
"RTN","RCDPCRR",128,0)
 D:'RCQUIT ASK^RCDPRU(.RCSTOP)
"RTN","RCDPCRR",129,0)
ARCQ ; Clean up and quit
"RTN","RCDPCRR",130,0)
 K DHDR,RCEXCEL,RCLIST,RCODE,DIWL,DIWR,DIWF,IX,DATA,ERROR,QS
"RTN","RCDPCRR",131,0)
 K ^TMP("RC_CARC_RARC_TABLE",$J)
"RTN","RCDPCRR",132,0)
 Q
"RTN","RCDPCRR",133,0)
 ;
"RTN","RCDPCRR",134,0)
GETCODES(CARC,RARC,STAT,RDT,ARRAY,DESC) ;
"RTN","RCDPCRR",135,0)
 ; CARC = CARC data to retrieve
"RTN","RCDPCRR",136,0)
 ; RARC = RARC data to retrieve
"RTN","RCDPCRR",137,0)
 ;      CARC and RARC can be a single code, a list of codes, range or combination.
"RTN","RCDPCRR",138,0)
 ; STAT = Retrieve Active, Inactive or Both codes
"RTN","RCDPCRR",139,0)
 ; RDT = Report date (used to determine Active/Inactive status)
"RTN","RCDPCRR",140,0)
 ; ARRAY = Stuff the data into ARRAY passed for as a string for indirection
"RTN","RCDPCRR",141,0)
 ; DESC (optional) = Add description to ARRAY, second ^ is length, if
"RTN","RCDPCRR",142,0)
 ;      undefined or less than 10 characters description
"RTN","RCDPCRR",143,0)
 ;      length will be 10 characters, maximum is 250 characters
"RTN","RCDPCRR",144,0)
 I $G(DESC)="" S DESC=0
"RTN","RCDPCRR",145,0)
 I CARC]"" D ELEM("CARC",345,CARC,STAT,RDT,.ARRAY,DESC)
"RTN","RCDPCRR",146,0)
 I RARC]"" D ELEM("RARC",346,RARC,STAT,RDT,.ARRAY,DESC)
"RTN","RCDPCRR",147,0)
 Q
"RTN","RCDPCRR",148,0)
 ;
"RTN","RCDPCRR",149,0)
ELEM(TYPE,FILE,DAT,STAT,RDT,ARRAY,DESC) ;
"RTN","RCDPCRR",150,0)
 N I,OKAY,R1,R2,RX,RY,RZ,O1,ELEM,DATA,START,STOP,DL,RCZT S DL=""
"RTN","RCDPCRR",151,0)
 I $G(DESC)'=0 S DL=$P(DESC,U,2) S:+$G(DL)<10 DL=10 S:$G(DL)>250 DL=250
"RTN","RCDPCRR",152,0)
 I DAT="ALL" S R1=$O(^RC(FILE,"B","")),R2=$O(^RC(FILE,"B",""),-1),DAT=R1_":"_R2
"RTN","RCDPCRR",153,0)
 F I=1:1 S ELEM=$P(DAT,",",I) Q:ELEM=""  D
"RTN","RCDPCRR",154,0)
 . I ELEM[":" D  ; Range
"RTN","RCDPCRR",155,0)
 .. S R1=$P(ELEM,":",1),R2=$P(ELEM,":",2),RX=$O(^RC(FILE,"B",R1),-1)
"RTN","RCDPCRR",156,0)
 .. F  S RX=$O(^RC(FILE,"B",RX)) Q:(RX]]R2)!(RX="")  D
"RTN","RCDPCRR",157,0)
 ... S O1=$O(^RC(FILE,"B",RX,"")),DATA=^RC(FILE,O1,0),START=$P(DATA,U,2),STOP=$P(DATA,U,3)
"RTN","RCDPCRR",158,0)
 ... D:DL'=""
"RTN","RCDPCRR",159,0)
 .... ; Get description if wanted
"RTN","RCDPCRR",160,0)
 .... K RCZT S RY=$$GET1^DIQ(FILE,O1_",",4,"","RCZT"),RY="",RZ="" F  S RZ=$O(RCZT(RZ)) Q:RZ=""  S RY=RY_RCZT(RZ)_" "
"RTN","RCDPCRR",161,0)
 .... S RY=$E(RY,1,DL)
"RTN","RCDPCRR",162,0)
 ... ;S OKAY=$S(STAT="B":1,STAT="I":$S(STOP="":0,STOP<=RDT:1,1:0),STAT="A":$S(STOP="":1,STOP>RDT:1,STOP<=RDT:0,1:0))
"RTN","RCDPCRR",163,0)
 ... S OKAY=$$STAT(STAT,RDT,STOP,START)
"RTN","RCDPCRR",164,0)
 ... S:OKAY @ARRAY@(TYPE,RX,O1)=DATA S:OKAY&(DL'="") @ARRAY@(TYPE,RX,O1)=@ARRAY@(TYPE,RX,O1)_U_RY
"RTN","RCDPCRR",165,0)
 . E  D
"RTN","RCDPCRR",166,0)
 .. ;Add an individual code
"RTN","RCDPCRR",167,0)
 .. S O1=$O(^RC(FILE,"B",ELEM,"")),DATA=^RC(FILE,O1,0),START=$P(DATA,U,2),STOP=$P(DATA,U,3)
"RTN","RCDPCRR",168,0)
 .. D:DL'=""
"RTN","RCDPCRR",169,0)
 ... ; Get description if wanted
"RTN","RCDPCRR",170,0)
 ... K RCZT S RY=$$GET1^DIQ(FILE,O1_",",4,"","RCZT"),RY="",RZ="" F  S RZ=$O(RCZT(RZ)) Q:RZ=""  S RY=RY_RCZT(RZ)_" "
"RTN","RCDPCRR",171,0)
 ... S RY=$E(RY,1,DL)
"RTN","RCDPCRR",172,0)
 .. ;S OKAY=$S(STAT="B":1,STAT="I":$S(STOP="":0,STOP<=RDT:1,1:0),STAT="A":$S(STOP="":1,STOP>RDT:1,STOP<=RDT:0,1:0))
"RTN","RCDPCRR",173,0)
 .. S OKAY=$$STAT(STAT,RDT,STOP,START)
"RTN","RCDPCRR",174,0)
 .. S:OKAY @ARRAY@(TYPE,ELEM,O1)=DATA S:OKAY&(DL'="") @ARRAY@(TYPE,ELEM,O1)=@ARRAY@(TYPE,ELEM,O1)_U_RY
"RTN","RCDPCRR",175,0)
 Q
"RTN","RCDPCRR",176,0)
 ;
"RTN","RCDPCRR",177,0)
STAT(INC,ZDT,SP,ST) ; Determine if this code should be included in report
"RTN","RCDPCRR",178,0)
 ; INC = Active, Inactive, Both; ZDT = Date of report ; ST = Start date of code ; SP = Stop Date of code
"RTN","RCDPCRR",179,0)
 N RET S RET=0
"RTN","RCDPCRR",180,0)
 I $G(INC)="B" S:($G(ZDT)>$G(ST)) RET=1 Q RET  ; Both active and inactive and start date before report date
"RTN","RCDPCRR",181,0)
 I $G(INC)="I" S RET=0 D  Q RET  ; Inactive codes
"RTN","RCDPCRR",182,0)
 . I $G(SP)="" S RET=0 Q  ; No stop date can't be inactive
"RTN","RCDPCRR",183,0)
 . I ($G(ZDT)>$G(SP)),($G(ZDT)>$G(ST)) S RET=1 Q  ; Inactive, Stop before report and Start date before report date
"RTN","RCDPCRR",184,0)
 I $G(INC)="A" S RET=0 D  Q RET
"RTN","RCDPCRR",185,0)
 . I $G(ZDT)>$G(ST),($G(SP)="") S RET=1 Q  ; Active, Start date before report date and no stop date
"RTN","RCDPCRR",186,0)
 . I $G(ZDT)>$G(ST),($G(SP)>$G(ZDT)) S RET=1 Q  ; Active, Start date before report date and stop date after report date
"RTN","RCDPCRR",187,0)
 Q 0  ; Return do not include
"RTN","RCDPCRR",188,0)
 ;
"RTN","RCDPCRR",189,0)
GCARC(RET) ; Get CARC data elements for report
"RTN","RCDPCRR",190,0)
 N RCLIST,RCODE,DTOUT,DUOUT,FILE
"RTN","RCDPCRR",191,0)
 S FILE=345
"RTN","RCDPCRR",192,0)
 S DIR("A")="Select (C)ARC, (R)ange of CARCs or (A)ll ?: ",DIR(0)="SA^A:All CARCs;C:Single CARC;R:Range/List of CARCs"
"RTN","RCDPCRR",193,0)
 S DIR("B")="ALL" D ^DIR K DIR
"RTN","RCDPCRR",194,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") S RCSTOP=1 Q
"RTN","RCDPCRR",195,0)
 S RCLIST=Y
"RTN","RCDPCRR",196,0)
 I RCLIST="A" S RET("CARC")="ALL" Q
"RTN","RCDPCRR",197,0)
 I RCLIST="C" D  Q
"RTN","RCDPCRR",198,0)
 .; if invalid code return here
"RTN","RCDPCRR",199,0)
C1 .;
"RTN","RCDPCRR",200,0)
 . S DIR("A")="Enter a CARC code",DIR(0)="P^345;EABZ" ;F^1:200"
"RTN","RCDPCRR",201,0)
 . S DIR("?")="Only a single codes can be entered as: A1"
"RTN","RCDPCRR",202,0)
 . S DIR("?",1)="Please enter one CARC code for the report."
"RTN","RCDPCRR",203,0)
 . S DIR("?",2)="The single validated code will be included in the report."
"RTN","RCDPCRR",204,0)
 . S DIR("??")="^D LIST^RCDPCRR(345)"
"RTN","RCDPCRR",205,0)
 . D ^DIR K DIR
"RTN","RCDPCRR",206,0)
 . I $D(DTOUT)!$D(DUOUT)!(Y="") S RCSTOP=1 Q
"RTN","RCDPCRR",207,0)
 . S RCODE=$$UP(X)
"RTN","RCDPCRR",208,0)
 . I (RCODE[":"),(RCODE["-"),(RCODE[",") W !!,"Code: "_RCODE_" not found. Please try again...",! S X="",RCODE="" G C1
"RTN","RCDPCRR",209,0)
 . I '$$VAL(FILE,.RCODE) W !!,"Code: "_RCODE_" not found, Please reenter...",! S X="",RCODE="" G C1
"RTN","RCDPCRR",210,0)
 . S RET("CARC")=RCODE
"RTN","RCDPCRR",211,0)
 ;
"RTN","RCDPCRR",212,0)
 I RCLIST="R" D
"RTN","RCDPCRR",213,0)
  .; if invalid range/list of codes return here
"RTN","RCDPCRR",214,0)
C2 . ;
"RTN","RCDPCRR",215,0)
 . S DIR("A")="Enter a List or Range of CARCs",DIR(0)="F^1:200"
"RTN","RCDPCRR",216,0)
 . S DIR("?")="Codes can be entered as: 1,2,4:15,A1-B6"
"RTN","RCDPCRR",217,0)
 . S DIR("?",1)="Please enter a list or range of CARC Codes, use a comma between elements"
"RTN","RCDPCRR",218,0)
 . S DIR("?",2)="and a colon ':' or '-' to delimit ranges of codes."
"RTN","RCDPCRR",219,0)
 . S DIR("??")="^D LIST^RCDPCRR(345)"
"RTN","RCDPCRR",220,0)
 . D ^DIR K DIR
"RTN","RCDPCRR",221,0)
 . I $D(DTOUT)!$D(DUOUT)!(Y="") S RCSTOP=1 Q
"RTN","RCDPCRR",222,0)
 . S RCODE=$$UP(X) I '$$VAL(FILE,.RCODE) W !!,"Code: "_RCODE_" not found. Please try again...",! S X="",RCODE="" G C2
"RTN","RCDPCRR",223,0)
 . S RET("CARC")=RCODE
"RTN","RCDPCRR",224,0)
 Q
"RTN","RCDPCRR",225,0)
 ;
"RTN","RCDPCRR",226,0)
LIST(FILE) ; Used for "??" to list the CARC or RARC code and 60 characters of the description
"RTN","RCDPCRR",227,0)
 N I,C,QQ,Y,DTOUT,DUOUT,CNT,DIR,RC1,RCZ S CNT=0,C=IOSL-3,QQ=0
"RTN","RCDPCRR",228,0)
 S JJ=0 F I=1:1 S JJ=$O(^RC(FILE,JJ)) Q:(+JJ=0)!(QQ=1)  D
"RTN","RCDPCRR",229,0)
 . S RCZ=^RC(FILE,JJ,0),RC1=$P($G(^RC(FILE,JJ,1,1,0)),".")
"RTN","RCDPCRR",230,0)
 . S CNT=CNT+1 W !,$S($P(RCZ,U,3)&($P(RCZ,U,3)'>DT):"*",1:" ")_$J($P(RCZ,U),4),?7,$E(RC1,1,60)
"RTN","RCDPCRR",231,0)
 . I CNT#C=0 S DIR(0)="E" D ^DIR I $D(DTOUT)!$D(DUOUT)!(Y="")!(Y="^") S QQ=1 Q
"RTN","RCDPCRR",232,0)
 Q
"RTN","RCDPCRR",233,0)
GRARC(RET) ; Get RARC data elements for report
"RTN","RCDPCRR",234,0)
 N RCLIST,RCODE,DTOUT,DUOUT,FILE
"RTN","RCDPCRR",235,0)
 S FILE=346
"RTN","RCDPCRR",236,0)
 S DIR("A")="Select a (R)ARC, Ra(N)ge of RARCs or (A)ll?: ",DIR(0)="SA^A:All RARCs;R:Single RARC;N:Range/List of RARCs"
"RTN","RCDPCRR",237,0)
 S DIR("B")="All" D ^DIR K DIR
"RTN","RCDPCRR",238,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") S RCSTOP=1 Q
"RTN","RCDPCRR",239,0)
 S RCLIST=Y
"RTN","RCDPCRR",240,0)
 I RCLIST="A" S RET("RARC")="ALL" Q
"RTN","RCDPCRR",241,0)
 ;
"RTN","RCDPCRR",242,0)
 I RCLIST="R" D  Q
"RTN","RCDPCRR",243,0)
 . ; if invalid code return here
"RTN","RCDPCRR",244,0)
G1 . ;
"RTN","RCDPCRR",245,0)
 . S DIR("A")="Enter a RARC code",DIR(0)="F^1:200"
"RTN","RCDPCRR",246,0)
 . S DIR("?")="Only a single codes can be entered as: A1"
"RTN","RCDPCRR",247,0)
 . S DIR("?",1)="Please enter one RARC for the report."
"RTN","RCDPCRR",248,0)
 . S DIR("?",2)="The single validated code will be included in the report."
"RTN","RCDPCRR",249,0)
 . S DIR("??")="^D LIST^RCDPCRR(346)"
"RTN","RCDPCRR",250,0)
 . D ^DIR K DIR
"RTN","RCDPCRR",251,0)
 . I $D(DTOUT)!$D(DUOUT)!(Y="") S RCSTOP=1 Q
"RTN","RCDPCRR",252,0)
 . S RCODE=$$UP(X)
"RTN","RCDPCRR",253,0)
 . I (RCODE[":"),(RCODE["-"),(RCODE[",") W !!,"Code: "_RCODE_" not found. Please try again...",! S X="",RCODE="" G G1
"RTN","RCDPCRR",254,0)
 . I '$$VAL(FILE,.RCODE) W !!,"Code: "_RCODE_" not found, Please try again...",! S X="",RCODE="" G G1
"RTN","RCDPCRR",255,0)
 . S RET("RARC")=RCODE
"RTN","RCDPCRR",256,0)
 ;
"RTN","RCDPCRR",257,0)
 I RCLIST="N" D
"RTN","RCDPCRR",258,0)
 .; if invalid range of codes return here
"RTN","RCDPCRR",259,0)
G2 . ;
"RTN","RCDPCRR",260,0)
 . S DIR("A")="Enter a List or Range of RARC codes",DIR(0)="F^1:200"
"RTN","RCDPCRR",261,0)
 . S DIR("?")="Codes can be entered as: M1,M16:M20,M40-M45"
"RTN","RCDPCRR",262,0)
 . S DIR("?",1)="Please enter a list or range of RARC Codes, use a comma ',' between elements"
"RTN","RCDPCRR",263,0)
 . S DIR("?",2)="and a colon ':' or '-' to delimit ranges of codes."
"RTN","RCDPCRR",264,0)
 . S DIR("??")="^D LIST^RCDPCRR(346)"
"RTN","RCDPCRR",265,0)
 . D ^DIR K DIR
"RTN","RCDPCRR",266,0)
 . I $D(DTOUT)!$D(DUOUT)!(Y="") S RCSTOP=1 Q
"RTN","RCDPCRR",267,0)
 . S RCODE=$$UP(X)
"RTN","RCDPCRR",268,0)
 . I '$$VAL(FILE,.RCODE) W !!,"Code: "_RCODE_" not found, Please try again...",! S X="",RCODE="" G G2
"RTN","RCDPCRR",269,0)
 . S RET("RARC")=RCODE
"RTN","RCDPCRR",270,0)
 Q
"RTN","RCDPCRR",271,0)
 ;
"RTN","RCDPCRR",272,0)
GCD(RET,CS) ; Get CARC and/or RARC data elements for Quick Search report
"RTN","RCDPCRR",273,0)
 N RCLIST,RCODE,DTOUT,DUOUT,FILE,CK0,CK1,CD,EX
"RTN","RCDPCRR",274,0)
 S FILE(0)=345,FILE(1)=346
"RTN","RCDPCRR",275,0)
GC1 ;if invalid code return here
"RTN","RCDPCRR",276,0)
 S DIR("A")="Enter a CARC or RARC Code",DIR(0)="F^1:200"
"RTN","RCDPCRR",277,0)
 S DIR("?")="Enter codes as a single code or list of codes as: 1 or 1,M1"
"RTN","RCDPCRR",278,0)
 S DIR("?",1)="Please enter CARCs and/or RARCs for the report."
"RTN","RCDPCRR",279,0)
 S DIR("?",2)="The validated code(s) will be included in the report."
"RTN","RCDPCRR",280,0)
 D ^DIR K DIR
"RTN","RCDPCRR",281,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") S RET="EXIT",RCSTOP=1 Q
"RTN","RCDPCRR",282,0)
 S RCLIST=$$UP(X)
"RTN","RCDPCRR",283,0)
 I (RCLIST[":")!(RCLIST["-") W !!,"Code: "_RCLIST_" not found. Please try again...",! S X="",RCLIST="" G GC1
"RTN","RCDPCRR",284,0)
 ; Check each code
"RTN","RCDPCRR",285,0)
 S EX=0,CD="" K RET("CARC"),RET("RARC")
"RTN","RCDPCRR",286,0)
 F I=1:1 S CD=$P(RCLIST,",",I) Q:CD=""  D  I EX'=0 W !!,"Code: "_CD_" not found. Please try again...",! S X="",RCLIST="" G GC1
"RTN","RCDPCRR",287,0)
 . S CK0=$$VAL(FILE(0),.CD)
"RTN","RCDPCRR",288,0)
 . S CK1=$$VAL(FILE(1),.CD)
"RTN","RCDPCRR",289,0)
 . ; If both the CARC and RARC returns an invalid set the exit code and quit the checks 
"RTN","RCDPCRR",290,0)
 . I 'CK0,'CK1 S EX=1 Q  ; Abort if we don't have a valid code
"RTN","RCDPCRR",291,0)
 . ; Set the appropriate array either CARC or RARC.
"RTN","RCDPCRR",292,0)
 . S:CK0 RET("CARC")=$S($G(RET("CARC"))]"":$G(RET("CARC"))_","_CD,1:CD)
"RTN","RCDPCRR",293,0)
 . S:CK1 RET("RARC")=$S($G(RET("RARC"))]"":$G(RET("RARC"))_","_CD,1:CD)
"RTN","RCDPCRR",294,0)
 ; So are we processing just CARC, just RARC or both CARC and RARC
"RTN","RCDPCRR",295,0)
 S CS=$S(($G(RET("CARC"))]"")&($G(RET("CARC"))=""):"C",($G(RET("CARC"))="")&($G(RET("CARC"))]""):"R",1:"B")
"RTN","RCDPCRR",296,0)
 Q
"RTN","RCDPCRR",297,0)
 ;
"RTN","RCDPCRR",298,0)
DATE(X,F) ; date in external format See XLFDT1 for codes
"RTN","RCDPCRR",299,0)
 Q $$DATE^RCDPRU(X,$G(F))
"RTN","RCDPCRR",300,0)
 ;
"RTN","RCDPCRR",301,0)
HDR2(ST,RT,DT) ; Report header
"RTN","RCDPCRR",302,0)
 N LINE,REP
"RTN","RCDPCRR",303,0)
 S LINE=$S(ST="A":"ACTIVE",ST="I":"INACTIVE",1:"ACTIVE AND INACTIVE")
"RTN","RCDPCRR",304,0)
 S REP=$S(RT="C":"CARC",RT="R":"RARC",1:"CARC/RARC")
"RTN","RCDPCRR",305,0)
 S LINE=LINE_" "_REP_" DATA AS OF REPORT DATE: "_$$DATE(DT)
"RTN","RCDPCRR",306,0)
 Q LINE
"RTN","RCDPCRR",307,0)
 ;
"RTN","RCDPCRR",308,0)
HDR3() ; Fuction to return report column header lines, just used within this routine. 
"RTN","RCDPCRR",309,0)
 N LINE
"RTN","RCDPCRR",310,0)
 S LINE="CODE   START DATE   STOP DATE   DATE MODIFIED   CARC/RARC   LAST VISTA UPDATE"_$C(10,13)
"RTN","RCDPCRR",311,0)
 S LINE=LINE_"    CODE DESCRIPTION"
"RTN","RCDPCRR",312,0)
 Q LINE
"RTN","RCDPCRR",313,0)
 ;
"RTN","RCDPCRR",314,0)
HDRP(Z,X,Z1) ; Print Header (Z=String, X=1 (line feed) X=0 (no LF), Z1 (page number right justified)
"RTN","RCDPCRR",315,0)
 I X=1 W !
"RTN","RCDPCRR",316,0)
 W ?(IOM-$L(Z)\2),Z W:$G(Z1)]"" ?(IOM-$L(Z1)),Z1
"RTN","RCDPCRR",317,0)
 Q
"RTN","RCDPCRR",318,0)
NEWPG(RCPG,RCNEW,RCSL) ; Check for new page needed, output header
"RTN","RCDPCRR",319,0)
 ; RCPG = Page number passwd by referece
"RTN","RCDPCRR",320,0)
 ; RCNEW = 1 to force new page
"RTN","RCDPCRR",321,0)
 ; RCSL = page length passed by reference
"RTN","RCDPCRR",322,0)
 ; Function returns 1 if user chooses to stop output
"RTN","RCDPCRR",323,0)
 N RCSTOP S RCSTOP=0
"RTN","RCDPCRR",324,0)
 I RCNEW!'RCPG!(($Y+5)>IOSL) D
"RTN","RCDPCRR",325,0)
 . D:RCPG ASK^RCDPRU(.RCSTOP) I RCSTOP Q
"RTN","RCDPCRR",326,0)
 . S RCPG=RCPG+1 W @IOF
"RTN","RCDPCRR",327,0)
 . I $G(QS)=1 D HDRP("EDI LOCKBOX CARC/RARC QUICK SEARCH",1,"Page: "_RCPG)
"RTN","RCDPCRR",328,0)
 . E  D HDRP("EDI LOCKBOX CARC/RARC TABLE DATA REPORT",1,"Page: "_RCPG)
"RTN","RCDPCRR",329,0)
 . D HDRP("REPORT RUN DATE: "_RCNOW,1)
"RTN","RCDPCRR",330,0)
 . D:+$G(QS)'=1 HDRP($$HDR2(RCSTAT,RCDET,RCDT1),1) W !!
"RTN","RCDPCRR",331,0)
 . W $$HDR3(),!
"RTN","RCDPCRR",332,0)
 . W RCHR,! S RCSL=7
"RTN","RCDPCRR",333,0)
 Q RCSTOP
"RTN","RCDPCRR",334,0)
 ;
"RTN","RCDPCRR",335,0)
VAL(XF,CODE) ; Validate a range or list of CARC (345), RARC (346) or PLB (345.1) Codes
"RTN","RCDPCRR",336,0)
 ; If invalid code is found VAILD = 0 and CODE will contain the offending codes
"RTN","RCDPCRR",337,0)
 Q $$VAL^RCDPRU(XF,.CODE)
"RTN","RCDPCRR",338,0)
 ;
"RTN","RCDPCRR",339,0)
UP(TEXT) ; Translate text to upper case
"RTN","RCDPCRR",340,0)
 Q $$UP^XLFSTR(TEXT)
"RTN","RCDPCRR",341,0)
 ;
"RTN","RCDPEAC")
0^3^B190534875
"RTN","RCDPEAC",1,0)
RCDPEAC ;ALB/TMK/PJH - ACTIVE BILLS WITH EEOB ON FILE ;Jun 06, 2014@19:11:19
"RTN","RCDPEAC",2,0)
 ;;4.5;Accounts Receivable;**208,269,276,298,303**;Mar 20, 1995;Build 84
"RTN","RCDPEAC",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPEAC",4,0)
 ;
"RTN","RCDPEAC",5,0)
EN ; Entry point for Active Bills With EEOB Report [RCDPE ACTIVE WITH EEOB REPORT]
"RTN","RCDPEAC",6,0)
 N %ZIS,DTOUT,DUOUT,CHAM,HDR,POP,RCCT,RCDISPTY,RCHDR,RCINS,RCLSTMGR,RCPGNUM,RCSORT,RCSTOP,RCTMPND,TRIC,VAUTD,X,Y
"RTN","RCDPEAC",7,0)
 N START,END,RCZRO,RCMDRX
"RTN","RCDPEAC",8,0)
 ; PRCA*4.5*276 - IA 1077 - Query Division
"RTN","RCDPEAC",9,0)
 D DIVISION^VAUTOMA
"RTN","RCDPEAC",10,0)
 I 'VAUTD&($D(VAUTD)'=11) Q
"RTN","RCDPEAC",11,0)
 ; PRCA*4.5*276 - select report format
"RTN","RCDPEAC",12,0)
 Q:'$$SELECT(.RCINS,.RCSORT,.RCZRO,.RCMDRX)
"RTN","RCDPEAC",13,0)
 ;
"RTN","RCDPEAC",14,0)
 S RCTMPND="",RCPGNUM=0,RCSTOP=0
"RTN","RCDPEAC",15,0)
 I RCLSTMGR D  G ENOUT
"RTN","RCDPEAC",16,0)
 . S RCTMPND=$T(+0)_"^AR - ACTIVE BILLS WITH EEOB REPORT"  K ^TMP($J,RCTMPND)  ; clean any residue
"RTN","RCDPEAC",17,0)
 . D ENQ
"RTN","RCDPEAC",18,0)
 . M HDR=RCHDR
"RTN","RCDPEAC",19,0)
 . D LMRPT^RCDPEARL(.HDR,$NA(^TMP($J,RCTMPND))) ; generate ListMan display
"RTN","RCDPEAC",20,0)
 . I $D(RCTMPND) K ^TMP($J,RCTMPND)
"RTN","RCDPEAC",21,0)
 ;
"RTN","RCDPEAC",22,0)
 W !
"RTN","RCDPEAC",23,0)
 S %ZIS="QM" D ^%ZIS Q:POP
"RTN","RCDPEAC",24,0)
 I $D(IO("Q")) D  Q
"RTN","RCDPEAC",25,0)
 .N ZTDESC,ZTRTN,ZTSAVE,ZTSK
"RTN","RCDPEAC",26,0)
 .S ZTRTN="ENQ^RCDPEAC",ZTDESC="AR - ACTIVE BILLS WITH EEOB REPORT",ZTSAVE("*")=""
"RTN","RCDPEAC",27,0)
 .D ^%ZTLOAD
"RTN","RCDPEAC",28,0)
 .W !!,$S($D(ZTSK):"Your task number"_ZTSK_" has been queued.",1:"Unable to queue this job.")
"RTN","RCDPEAC",29,0)
 .K IO("Q") D HOME^%ZIS
"RTN","RCDPEAC",30,0)
 U IO
"RTN","RCDPEAC",31,0)
 ;
"RTN","RCDPEAC",32,0)
ENQ ; Queued entry point for the report
"RTN","RCDPEAC",33,0)
 ; RCSORT and array RCINS must exist
"RTN","RCDPEAC",34,0)
 ; RCINS = "A" for all ins co, "R" for range, "S" for selected individual
"RTN","RCDPEAC",35,0)
 ;         for RCINS="R"  ("FR")=from payer name and ("TR")=to payer name
"RTN","RCDPEAC",36,0)
 ;         for RCINS="S"  ("S",INS CO IEN IN FILE 36)=""
"RTN","RCDPEAC",37,0)
 ; RCSORT = "PN" for sort by patient name followed by ;- if reverse order
"RTN","RCDPEAC",38,0)
 ;          "L4" for sort by patient SSN followed by ;- if reverse order
"RTN","RCDPEAC",39,0)
 ;
"RTN","RCDPEAC",40,0)
 N RC0,RC399,RC399M1,RC430,RCACT,RCBILL,RCEIEN,RCEOB,RCEX,RCEXT,RCNEW,RCPT,RCSSN,RCSTOP,RCTOT,RCZ,RCZ0,RCZ1,X,Y,Z,Z0
"RTN","RCDPEAC",41,0)
 N POSTDT,SN
"RTN","RCDPEAC",42,0)
 K ^TMP($J,"RCSORT")
"RTN","RCDPEAC",43,0)
 S RCCT=0 ;Page count for List Manager
"RTN","RCDPEAC",44,0)
 S RCEXT=0 ; Set Excel page 1 count
"RTN","RCDPEAC",45,0)
 I 'RCLSTMGR D HDRBLD
"RTN","RCDPEAC",46,0)
 I RCLSTMGR D HDRLM
"RTN","RCDPEAC",47,0)
 S RCACT=+$O(^PRCA(430.3,"AC",102,0)) ; Get active status ien
"RTN","RCDPEAC",48,0)
 G:'RCACT ENOUT
"RTN","RCDPEAC",49,0)
 ;
"RTN","RCDPEAC",50,0)
 I 'RCLSTMGR D HDRLST^RCDPEARL(0,.RCHDR)  ; initial report header
"RTN","RCDPEAC",51,0)
 S RCBILL=0,RCDT=START-.0001
"RTN","RCDPEAC",52,0)
 ; PRCA*4.5*303 - Changed loop to use the "AD" index on 361.1 so that the number of records checked is limited by
"RTN","RCDPEAC",53,0)
 ; the START and END dates of when the EEOB was recieved in VistA
"RTN","RCDPEAC",54,0)
 F  S RCDT=$O(^IBM(361.1,"AD",RCDT)) Q:(RCDT>END)!(RCDT="")  D
"RTN","RCDPEAC",55,0)
 . S RCEIEN="" F  S RCEIEN=$O(^IBM(361.1,"AD",RCDT,RCEIEN)) Q:RCEIEN=""  S RCBILL=$P(^IBM(361.1,RCEIEN,0),U,1) I ($P(^PRCA(430,RCBILL,0),U,8)=RCACT),$$INCLUDE(.RCINS,RCBILL,TRIC,CHAM),$$EEOB(RCBILL,.RCEOB,RCZRO) D
"RTN","RCDPEAC",56,0)
 . . S (RCTOT,RCEOB,SN)=0 F  S RCEOB=$O(RCEOB(RCEOB)) Q:'RCEOB  F  S SN=$O(RCEOB(RCEOB,SN))  Q:'SN  D
"RTN","RCDPEAC",57,0)
 . . . S RCTOT=RCTOT+$G(^IBM(361.1,RCEOB,1)),^TMP($J,"RCSORT",$$INSNM(RCBILL),$$SL1(RCSORT,RCBILL),RCBILL,+RCEOB(RCEOB,SN)_"_"_RCEOB_"_"_SN,RCEOB)=$P(RCEOB(RCEOB,SN),U,2) ; PRCA*4.5.303 add ERA PD AMOUNT
"RTN","RCDPEAC",58,0)
 . . . I $O(RCEOB(0)) S ^TMP($J,"RCSORT",$$INSNM(RCBILL),$$SL1(RCSORT,RCBILL),RCBILL)=RCTOT   ;This is from the eob and will be the same for each line
"RTN","RCDPEAC",59,0)
 ;
"RTN","RCDPEAC",60,0)
 S RCZ="",(RCSTOP,RCNEW)=0
"RTN","RCDPEAC",61,0)
 F  S RCZ=$O(^TMP($J,"RCSORT",RCZ)) Q:RCZ=""!RCSTOP  D  S:($G(RCINS)="R")!($G(RCINS)="S")&(RCPGNUM>1) RCNEW=1
"RTN","RCDPEAC",62,0)
 . I RCSORT'["-" D
"RTN","RCDPEAC",63,0)
 .. S RCZ0="" F  S RCZ0=$O(^TMP($J,"RCSORT",RCZ,RCZ0)) Q:RCZ0=""!RCSTOP  D OUTPUT(RCZ,RCZ0,RCSORT,.RCSTOP,.RCINS,RCNEW) S RCNEW=0
"RTN","RCDPEAC",64,0)
 . I RCSORT["-" D
"RTN","RCDPEAC",65,0)
 .. S RCZ0="" F  S RCZ0=$O(^TMP($J,"RCSORT",RCZ,RCZ0),-1) Q:RCZ0=""!RCSTOP  D OUTPUT(RCZ,RCZ0,RCSORT,.RCSTOP,.RCINS,.RCNEW) S RCNEW=0
"RTN","RCDPEAC",66,0)
 ;
"RTN","RCDPEAC",67,0)
 I '$D(^TMP($J,"RCSORT")) S $P(Z," ",25)="",Z=Z_"*** NO RECORDS TO PRINT ***" D SL^RCDPEARL(Z,.RCCT,RCTMPND)
"RTN","RCDPEAC",68,0)
 I $D(^TMP($J,"RCSORT")),'RCSTOP D SL^RCDPEARL($$ENDORPRT^RCDPEARL,.RCCT,RCTMPND)
"RTN","RCDPEAC",69,0)
 ; PRCA*4.5*303 - If regular report (no listmanager or queued) ask user to quit
"RTN","RCDPEAC",70,0)
 I 'RCSTOP,'RCLSTMGR,'$D(ZTQUEUED) D ASK^RCDPEARL(.RCSTOP)
"RTN","RCDPEAC",71,0)
 ;
"RTN","RCDPEAC",72,0)
ENOUT I $D(ZTQUEUED) S ZTREQ="@"
"RTN","RCDPEAC",73,0)
 I '$D(ZTQUEUED) D ^%ZISC
"RTN","RCDPEAC",74,0)
 K ^TMP($J,"RCSORT"),RCDT
"RTN","RCDPEAC",75,0)
 Q
"RTN","RCDPEAC",76,0)
 ;
"RTN","RCDPEAC",77,0)
OUTPUT(RCZ,RCZ0,RCSORT,RCSTOP,RCINS,RCNEW) ; Output the data
"RTN","RCDPEAC",78,0)
 ; RCZ, RCZ0 are the first 2 sort levels for the array
"RTN","RCDPEAC",79,0)
 ; RCINS = insurance co info array
"RTN","RCDPEAC",80,0)
 ; RCSTOP passed by ref - returned if user chooses to stop
"RTN","RCDPEAC",81,0)
 ; RCNEW = 1 if the header should be forced to print
"RTN","RCDPEAC",82,0)
 N ZZ,RCEPD
"RTN","RCDPEAC",83,0)
 S RCBILL=0 F  S RCBILL=$O(^TMP($J,"RCSORT",RCZ,RCZ0,RCBILL)) Q:'RCBILL!RCSTOP  S RCZ1="" F  S RCZ1=$O(^TMP($J,"RCSORT",RCZ,RCZ0,RCBILL,RCZ1)) Q:RCZ1=""!RCSTOP  D
"RTN","RCDPEAC",84,0)
 . I $D(ZTQUEUED),$$S^%ZTLOAD S (RCSTOP,ZTSTOP)=1 K ZTREQ I +$G(RCSTOP) W !!,"***TASK STOPPED BY USER***" Q
"RTN","RCDPEAC",85,0)
 . ; IA 1992 - BILL/CLAIMS file (#399)
"RTN","RCDPEAC",86,0)
 . S RC399=$G(^DGCR(399,RCBILL,0)),RC399M1=$G(^DGCR(399,RCBILL,"M1")),RCPT=+$P(RC399,U,2),RC430=$G(^PRCA(430,RCBILL,0))   ;RC430 is from the top level
"RTN","RCDPEAC",87,0)
 . ; PRCA*4.5*276 - Check for Division
"RTN","RCDPEAC",88,0)
 . I VAUTD=0 Q:$P(RC399,U,22)=""  Q:$G(VAUTD($P(RC399,U,22)))=""
"RTN","RCDPEAC",89,0)
 . ; PRCA*$.5*303 Check for medical or pharmacy claims, don't check further if we are reporting both
"RTN","RCDPEAC",90,0)
 . I RCMDRX'="B" S ZZ=$S((RCMDRX="P")&($P(RC399M1,U,8)'=""):1,(RCMDRX="M")&($P(RC399M1,U,8)=""):1,1:0) Q:ZZ=0
"RTN","RCDPEAC",91,0)
 . S RCSTOP=$$NEWPG(.RCINS,RCNEW) S RCNEW=0 Q:RCSTOP
"RTN","RCDPEAC",92,0)
 . S RCSTOP=$$NEWPG(.RCINS,RCNEW) Q:RCSTOP
"RTN","RCDPEAC",93,0)
 . S X=$$GET1^DIQ(430,RCBILL_",",11)
"RTN","RCDPEAC",94,0)
 . ; PRCA*4.5*276 - Row #1: Print last 4 SSN only - Move Bill Number to end
"RTN","RCDPEAC",95,0)
 . S RCSSN=$P($G(^DPT(RCPT,0)),U,9),RCSSN=$E(RCSSN,$L(RCSSN)-3,$L(RCSSN))
"RTN","RCDPEAC",96,0)
 . I $G(RCDISPTY) S RCEX=$P($G(^DPT(RCPT,0)),U)_"^"_RCSSN_"^"_$TR($P(RC430,U),"-","")
"RTN","RCDPEAC",97,0)
 . E  D
"RTN","RCDPEAC",98,0)
 .. S Z=$E($P($G(^DPT(RCPT,0)),U)_$J("",25),1,25)_"  "_$E(RCSSN_$J("",5),1,5)_"  "_$TR($P(RC430,U),"-","")
"RTN","RCDPEAC",99,0)
 .. D SL^RCDPEARL(Z,.RCCT,RCTMPND)
"RTN","RCDPEAC",100,0)
 . ; PRCA*4.5*276 - Row #2: Move Ins Name, Balance, Amt Bill, Amt Paid
"RTN","RCDPEAC",101,0)
 . S Y=+$G(^TMP($J,"RCSORT",RCZ,RCZ0,RCBILL))
"RTN","RCDPEAC",102,0)
 . I $G(RCDISPTY) S RCEX=RCEX_"^"_$$INSNM(RCBILL)_"^"_+X_"^"_+$P(RC430,U,3)_"^"_Y
"RTN","RCDPEAC",103,0)
 . E  D
"RTN","RCDPEAC",104,0)
 .. S Z=$E($$INSNM(RCBILL)_$J("",30),1,30)_$E($J("",12)_$J(+X,"",2),1+$L($J(+X,"",2)),12+$L($J(+X,"",2)))_$E($J("",13)_$J(+$P(RC430,U,3),"",2),1+$L($J(+$P(RC430,U,3),"",2)),13+$L($J(+$P(RC430,U,3),"",2)))_$E($J("",13),1,13-$L(Y))_$J(Y,"",2)
"RTN","RCDPEAC",105,0)
 .. D SL^RCDPEARL(Z,.RCCT,RCTMPND)
"RTN","RCDPEAC",106,0)
 . ; PRCA*4.5*276 Do not display Date Referred
"RTN","RCDPEAC",107,0)
 . S RCEOB=0,RCEPD="" F  S RCEOB=$O(^TMP($J,"RCSORT",RCZ,RCZ0,RCBILL,RCZ1,RCEOB)) Q:'RCEOB!RCSTOP  S RCEPD=$G(^TMP($J,"RCSORT",RCZ,RCZ0,RCBILL,RCZ1,RCEOB)) D
"RTN","RCDPEAC",108,0)
 .. S RCSTOP=$$NEWPG(.RCINS,RCNEW)
"RTN","RCDPEAC",109,0)
 .. Q:RCSTOP
"RTN","RCDPEAC",110,0)
 .. S RC0=$G(^IBM(361.1,RCEOB,0))
"RTN","RCDPEAC",111,0)
 .. S RCSTOP=$$NEWPG(.RCINS,RCNEW) Q:RCSTOP
"RTN","RCDPEAC",112,0)
 .. ; PRCA*4.5*276 - Row #3: Trace#, Date Rec'd, Date Posted
"RTN","RCDPEAC",113,0)
 .. I $G(RCDISPTY) W !,RCEX_"^"_$P(RC0,U,7)_"^"_$$FMTE^XLFDT($P(RC0,U,5),"2D")_"^"_$S(RCZ1:$$FMTE^XLFDT(+RCZ1,"2D"),1:"")_"^"_RCEPD
"RTN","RCDPEAC",114,0)
 .. E  D
"RTN","RCDPEAC",115,0)
 ... S Z="  "_$P(RC0,U,7)_$J("",50-$L($P(RC0,U,7)))_$J(RCEPD,10,2)_" "_$E($$FMTE^XLFDT($P(RC0,U,5),"2D")_$J("",8),1,8)_" "_$E($S(RCZ1:$$FMTE^XLFDT(+RCZ1,"2D"),1:"")_$J("",8),1,8)
"RTN","RCDPEAC",116,0)
 ... D SL^RCDPEARL(Z,.RCCT,RCTMPND)
"RTN","RCDPEAC",117,0)
 . I '$G(RCDISPTY) S Z="" D SL^RCDPEARL(Z,.RCCT,RCTMPND)
"RTN","RCDPEAC",118,0)
 ;
"RTN","RCDPEAC",119,0)
 Q
"RTN","RCDPEAC",120,0)
 ;
"RTN","RCDPEAC",121,0)
INCLUDE(RCINS,RCZ,TRI,CVA) ; Function returns 1 if record should be included based
"RTN","RCDPEAC",122,0)
 ; on ins co
"RTN","RCDPEAC",123,0)
 ; RCINS = array containing insurance co information
"RTN","RCDPEAC",124,0)
 ; RCZ = ien of the entry in file 430
"RTN","RCDPEAC",125,0)
 N OK,RCI,RCINM,RCAINP
"RTN","RCDPEAC",126,0)
 S OK=0
"RTN","RCDPEAC",127,0)
 S RCI=+$$INS(RCZ)
"RTN","RCDPEAC",128,0)
 ;
"RTN","RCDPEAC",129,0)
 I 'RCI G INCQ ; Not a third party bill
"RTN","RCDPEAC",130,0)
 ;
"RTN","RCDPEAC",131,0)
 I RCINS="A" S OK=1
"RTN","RCDPEAC",132,0)
 ;
"RTN","RCDPEAC",133,0)
 I RCINS="S"!(RCINS="R") D
"RTN","RCDPEAC",134,0)
 . I RCINS="S" S:$D(RCINS("S",RCI)) OK=1 Q
"RTN","RCDPEAC",135,0)
 . S RCINM=$$INSNM(RCZ) ; INS CO NAME
"RTN","RCDPEAC",136,0)
 . I $S(RCINM=RCINS("FR")!(RCINM]RCINS("FR")):RCINM']RCINS("TO"),1:0) S OK=1
"RTN","RCDPEAC",137,0)
 ; 
"RTN","RCDPEAC",138,0)
 I OK=0 G INCQ  ;CHAMPVA and TRICARE do not matter - do not include
"RTN","RCDPEAC",139,0)
 I OK=1,TRI,CVA G INCQ  ;Add check for CHAMPVA and TRICARE
"RTN","RCDPEAC",140,0)
 S RCAINP=$P($G(^PRCA(430,RCZ,0)),U,2)
"RTN","RCDPEAC",141,0)
 I 'TRI,",30,31,32,"[(","_RCAINP_",") S OK=0   ;Only exclude TRICARE
"RTN","RCDPEAC",142,0)
 I 'CVA,",27,28,29,"[(","_RCAINP_",") S OK=0   ;Only exclude CHAMPVA
"RTN","RCDPEAC",143,0)
 ;
"RTN","RCDPEAC",144,0)
INCQ Q OK
"RTN","RCDPEAC",145,0)
 ;
"RTN","RCDPEAC",146,0)
INSNM(RCZ) ; Returns the name of the insurance co for bill ien RCZ file 430
"RTN","RCDPEAC",147,0)
 N NM
"RTN","RCDPEAC",148,0)
 S NM=$P($G(^DIC(36,+$$INS(RCZ),0)),U)
"RTN","RCDPEAC",149,0)
 Q NM
"RTN","RCDPEAC",150,0)
 ;
"RTN","RCDPEAC",151,0)
INS(RCZ) ; Returns ien of insurance co for bill ien RCZ from file 430
"RTN","RCDPEAC",152,0)
 N RC
"RTN","RCDPEAC",153,0)
 S RC=$P($G(^PRCA(430,RCZ,0)),U,9) ;DEBTOR
"RTN","RCDPEAC",154,0)
 Q $S($P($G(^RCD(340,+RC,0)),U)'["DIC(36":"",1:+^(0))
"RTN","RCDPEAC",155,0)
 ;
"RTN","RCDPEAC",156,0)
NEWPG(RCINS,RCNEW) ; Check for new page needed, output header
"RTN","RCDPEAC",157,0)
 ; RCINS = ins co selection criteria
"RTN","RCDPEAC",158,0)
 ; RCNEW = 1 to force new page
"RTN","RCDPEAC",159,0)
 ; Function returns 1 if user chooses to stop output
"RTN","RCDPEAC",160,0)
 I RCNEW!(($Y+5)>IOSL) D
"RTN","RCDPEAC",161,0)
 . D:'$G(RCDISPTY) HDRLST^RCDPEARL(.RCSTOP,.RCHDR)
"RTN","RCDPEAC",162,0)
 Q RCSTOP
"RTN","RCDPEAC",163,0)
 ;
"RTN","RCDPEAC",164,0)
EEOB(RCZ,RCEOB,RCZRO) ; Find all non-MRA  EEOBs for bill ien RCZ
"RTN","RCDPEAC",165,0)
 ; Function returns 1 if any valid EEOBs found, 0 if none
"RTN","RCDPEAC",166,0)
 ; RCEOB(eob ien)=date posted returned for valid EEOBs found -
"RTN","RCDPEAC",167,0)
 ;                pass by reference
"RTN","RCDPEAC",168,0)
 N OK,Z,Z0,Z00,DET,SN,ZPD,ZINC
"RTN","RCDPEAC",169,0)
 K RCEOB
"RTN","RCDPEAC",170,0)
 ;
"RTN","RCDPEAC",171,0)
 S (Z,OK,SN,ZINC)=0
"RTN","RCDPEAC",172,0)
 ; IA 4051 for File #361.1
"RTN","RCDPEAC",173,0)
 F  S Z=$O(^IBM(361.1,"B",RCZ,Z)) Q:'Z  I $P($G(^IBM(361.1,Z,0)),U,4)'=1 D
"RTN","RCDPEAC",174,0)
 . ; retrieve the EEOB data from ERA Detail sub-entry
"RTN","RCDPEAC",175,0)
 . S (Z0,DET)=0
"RTN","RCDPEAC",176,0)
 . F  S Z0=$O(^RCY(344.4,"ADET",Z,Z0)) Q:'Z0  F  S DET=$O(^RCY(344.4,"ADET",Z,Z0,DET)) Q:'DET  D  ; ERA Detail
"RTN","RCDPEAC",177,0)
 . . ; PRCA*4.5*303 - added check for Zero paid or Paid > 0 check for report.
"RTN","RCDPEAC",178,0)
 . . S ZINC=0,ZPD=+$P($G(^RCY(344.4,Z0,1,DET,0)),U,3)
"RTN","RCDPEAC",179,0)
 . . I (RCZRO="Z"),(ZPD=0) S ZINC=1
"RTN","RCDPEAC",180,0)
 . . I (RCZRO="A"),(ZPD>0) S ZINC=1
"RTN","RCDPEAC",181,0)
 . . ; PRCA*4.5*303 - Removed looking for Receipt, include record based on ERA DETAIL POST STATUS
"RTN","RCDPEAC",182,0)
 . . S Z00=$P($G(^RCY(344.4,Z0,0)),U,14)
"RTN","RCDPEAC",183,0)
 . . ; PRCA*4.5*303 - Removed check for Receipt (If Z1 is not empty) Changed date to Piece 7 and
"RTN","RCDPEAC",184,0)
 . . ; added check for either 0 paid or paid >0 depending on selection. Added ERA PD AMOUNT as second piece of RCEOB array
"RTN","RCDPEAC",185,0)
 . . I (ZINC)&((Z00=0)!(Z00=1)!(Z00=2)!(Z00=5)) S SN=SN+1,RCEOB(Z,SN)=+$P($G(^RCY(344.4,Z0,0)),U,7)_U_ZPD,OK=1
"RTN","RCDPEAC",186,0)
 ;
"RTN","RCDPEAC",187,0)
 Q OK
"RTN","RCDPEAC",188,0)
 ;
"RTN","RCDPEAC",189,0)
SL1(RCSORT,RCZ) ; Function returns 1st sort level data from ien RCZ in file 430
"RTN","RCDPEAC",190,0)
 ; RCSORT = "PN" for patient name sort = "L4" for SSN last 4 sort
"RTN","RCDPEAC",191,0)
 N DAT
"RTN","RCDPEAC",192,0)
 I RCSORT="PN" S DAT=$P($G(^DPT(+$P($G(^PRCA(430,RCZ,0)),U,7),0)),U)
"RTN","RCDPEAC",193,0)
 I RCSORT="L4" S DAT=$P($G(^DPT(+$P($G(^PRCA(430,RCZ,0)),U,7),0)),U,9),DAT=$E(DAT,$L(DAT)-3,$L(DAT))
"RTN","RCDPEAC",194,0)
 Q $S($G(DAT)'="":DAT,1:" ")
"RTN","RCDPEAC",195,0)
 ;
"RTN","RCDPEAC",196,0)
SELECT(RCINS,RCSORT,RCZRO,RCMDRX) ; Select insurance co, sort criteria, Zero Payment, Bill type (Med/RX) and if output for EXCEL format is selected
"RTN","RCDPEAC",197,0)
 ; Function returns values selected for RCSORT and RCINS - passed by ref
"RTN","RCDPEAC",198,0)
 N RCQUIT,DONE,DIR,X,Y,%DT
"RTN","RCDPEAC",199,0)
 S (RCQUIT,DONE,RCLSTMGR)=0
"RTN","RCDPEAC",200,0)
 S DIR(0)="SA^A:ALL;S:SPECIFIC;R:RANGE",DIR("A")="RUN REPORT FOR (A)LL, (S)PECIFIC, OR (R)ANGE OF INSURANCE COMPANIES?: ",DIR("B")="ALL" W ! D ^DIR K DIR
"RTN","RCDPEAC",201,0)
 I $D(DTOUT)!$D(DUOUT) G SELQ
"RTN","RCDPEAC",202,0)
 ;
"RTN","RCDPEAC",203,0)
 S RCINS=Y
"RTN","RCDPEAC",204,0)
 I RCINS="S" D  G:RCQUIT SELQ
"RTN","RCDPEAC",205,0)
 . W !
"RTN","RCDPEAC",206,0)
 . F  D LIST(.DIR,.RCINS) S DIR("A")="SELECT "_$S($O(RCINS("S",0)):"ANOTHER ",1:"")_"INSURANCE COMPANY"_$S($O(RCINS("S",0)):" (PRESS RETURN WHEN DONE)",1:"")_": ",DIR(0)="PAO^DIC(36,:AEMQ" D ^DIR K DIR D  Q:Y'>0
"RTN","RCDPEAC",207,0)
 .. I $D(DTOUT)!$D(DUOUT) S RCQUIT=1 Q
"RTN","RCDPEAC",208,0)
 .. I Y>0 S RCINS("S",+Y)=""
"RTN","RCDPEAC",209,0)
 . I '$O(RCINS("S",0)) S RCQUIT=1 W !!,"NO INSURANCE COMPANIES SELECTED - NO REPORT GENERATED" S DIR(0)="E" D ^DIR K DIR
"RTN","RCDPEAC",210,0)
 ;
"RTN","RCDPEAC",211,0)
 I RCINS="R" D  I RCQUIT W !!,"NO INSURANCE COMPANY NAME RANGE SELECTED - NO REPORT GENERATED" S DIR(0)="E" D ^DIR K DIR G SELQ
"RTN","RCDPEAC",212,0)
 . W !
"RTN","RCDPEAC",213,0)
 . S DIR("?")="ENTER 1-30 UPPERCASE CHARACTERS OF THE FIRST NAME TO INCLUDE"
"RTN","RCDPEAC",214,0)
 . S DIR(0)="FA^1:30^K:X'?.U X",DIR("A")="START WITH INSURANCE COMPANY NAME: " D ^DIR K DIR
"RTN","RCDPEAC",215,0)
 . I $D(DTOUT)!$D(DUOUT) S RCQUIT=1 Q
"RTN","RCDPEAC",216,0)
 . S RCINS("FR")=Y
"RTN","RCDPEAC",217,0)
 . S DIR("?")="ENTER 1-30 UPPERCASE CHARACTERS OF THE LAST NAME TO INCLUDE"
"RTN","RCDPEAC",218,0)
 . S DIR(0)="FA^1:30^K:X'?.U X",DIR("A")="GO TO INSURANCE COMPANY NAME: ",DIR("B")=$E(RCINS("FR"),1,27)_"ZZZ"
"RTN","RCDPEAC",219,0)
 . F  W ! D ^DIR Q:$S($D(DTOUT)!$D(DUOUT):1,1:RCINS("FR")']Y)  W !,"'GO TO' NAME MUST COME AFTER 'START WITH' NAME"
"RTN","RCDPEAC",220,0)
 . K DIR
"RTN","RCDPEAC",221,0)
 . I $D(DTOUT)!$D(DUOUT) S RCQUIT=1 Q
"RTN","RCDPEAC",222,0)
 . S RCINS("TO")=Y
"RTN","RCDPEAC",223,0)
 ; PRCA*4.5*303 - Add Zero $ Prompt and Medical/Pharmacy EEOBs Prompt
"RTN","RCDPEAC",224,0)
 S DIR(0)="SA^A:ALL;Z:ZERO PAYMENT EEOBs",DIR("A")="RUN REPORT FOR (A)LL EEOBs or (Z)ERO PAYMENT EEOBs only: ",DIR("B")="ALL" W ! D ^DIR K DIR
"RTN","RCDPEAC",225,0)
 I $D(DTOUT)!$D(DUOUT) G SELQ
"RTN","RCDPEAC",226,0)
 ;
"RTN","RCDPEAC",227,0)
 S RCZRO=$E(Y,1)
"RTN","RCDPEAC",228,0)
  S DIR(0)="SA^B:BOTH;M:MEDICAL;P:PHARMACY",DIR("A")="RUN REPORT FOR (M)EDICAL, (P)HARMACY OR (B)OTH: ",DIR("B")="BOTH" W ! D ^DIR K DIR
"RTN","RCDPEAC",229,0)
 I $D(DTOUT)!$D(DUOUT) G SELQ
"RTN","RCDPEAC",230,0)
 ;
"RTN","RCDPEAC",231,0)
 S RCMDRX=$E(Y,1)
"RTN","RCDPEAC",232,0)
 ;
"RTN","RCDPEAC",233,0)
 S DIR(0)="SA^P:PATIENT NAME;L:LAST 4 OF PATIENT SSN",DIR("A")="WITHIN INS CO, SORT BY (P)ATIENT NAME OR (L)AST 4 OF SSN?: ",DIR("B")="PATIENT NAME" W ! D ^DIR K DIR
"RTN","RCDPEAC",234,0)
 I $D(DTOUT)!$D(DUOUT) G SELQ
"RTN","RCDPEAC",235,0)
 S RCSORT=$S(Y="P":"PN",1:"L4")
"RTN","RCDPEAC",236,0)
 S DIR(0)="SA^F:FIRST TO LAST;L:LAST TO FIRST",DIR("A")="SORT "_$S(RCSORT="PN":"PATIENT NAME",1:"LAST 4")_" (F)IRST TO LAST OR (L)AST TO FIRST?: ",DIR("B")="FIRST TO LAST" D ^DIR K DIR
"RTN","RCDPEAC",237,0)
 I $D(DTOUT)!$D(DUOUT) G SELQ
"RTN","RCDPEAC",238,0)
 I Y="L" S RCSORT=RCSORT_";-"
"RTN","RCDPEAC",239,0)
 ;
"RTN","RCDPEAC",240,0)
 ; PRCA*4.5*298 - Add Date Range Prompts
"RTN","RCDPEAC",241,0)
 K DIR
"RTN","RCDPEAC",242,0)
 S DIR("?")="ENTER THE EARLIEST RECEIVED DATE TO INCLUDE ON THE REPORT"
"RTN","RCDPEAC",243,0)
 S DIR(0)="DAO^:"_DT_":APE",DIR("A")="START DATE (RECEIVED): ",DIR("B")="T" D ^DIR K DIR
"RTN","RCDPEAC",244,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G SELQ
"RTN","RCDPEAC",245,0)
 S START=Y
"RTN","RCDPEAC",246,0)
 K DIR
"RTN","RCDPEAC",247,0)
 S DIR("?")="ENTER THE LATEST RECEIVED DATE TO INCLUDE ON THE REPORT"
"RTN","RCDPEAC",248,0)
 S DIR("B")="T"
"RTN","RCDPEAC",249,0)
 S DIR(0)="DAO^"_START_":"_DT_":APE",DIR("A")="END DATE (RECEIVED): " D ^DIR K DIR
"RTN","RCDPEAC",250,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G SELQ
"RTN","RCDPEAC",251,0)
 S END=Y
"RTN","RCDPEAC",252,0)
 ;
"RTN","RCDPEAC",253,0)
 ; PRCA*4.5*298 - Add TRICARE Prompt
"RTN","RCDPEAC",254,0)
 S TRIC=$$INTRICAR^RCDPEARL G:TRIC<0 SELQ
"RTN","RCDPEAC",255,0)
 ;
"RTN","RCDPEAC",256,0)
 ; PRCA*4.5*298 - Add CHAMPVA Prompt
"RTN","RCDPEAC",257,0)
 S CHAM=$$INCHMPVA^RCDPEARL G:CHAM<0 SELQ
"RTN","RCDPEAC",258,0)
 ;
"RTN","RCDPEAC",259,0)
 ; PRCA*4.5*276 - Determine whether to gather data for Excel report.
"RTN","RCDPEAC",260,0)
 S RCDISPTY=$$DISPTY^RCDPEM3 G SELQ:RCDISPTY<0
"RTN","RCDPEAC",261,0)
 I RCDISPTY D INFO^RCDPEM6 S DONE=1 G SELQ
"RTN","RCDPEAC",262,0)
 ;
"RTN","RCDPEAC",263,0)
 ; PRCA*4.5*298 - Add ListManager Prompts
"RTN","RCDPEAC",264,0)
 S RCLSTMGR=$$ASKLM^RCDPEARL G:RCLSTMGR<0 SELQ
"RTN","RCDPEAC",265,0)
 ;
"RTN","RCDPEAC",266,0)
 S DONE=1
"RTN","RCDPEAC",267,0)
 ;
"RTN","RCDPEAC",268,0)
SELQ ;
"RTN","RCDPEAC",269,0)
 Q DONE
"RTN","RCDPEAC",270,0)
 ;
"RTN","RCDPEAC",271,0)
LIST(DIR,RCINS) ; Sets up help array for ins co selected in DIR("?")
"RTN","RCDPEAC",272,0)
 N CT,Z
"RTN","RCDPEAC",273,0)
 S CT=1
"RTN","RCDPEAC",274,0)
 I '$O(RCINS("S",0)) S DIR("?")="NO INSURANCE COMPANIES SELECTED" Q
"RTN","RCDPEAC",275,0)
 S DIR("?",1)="INSURANCE COMPANIES ALREADY SELECTED:"
"RTN","RCDPEAC",276,0)
 S Z=0 F  S Z=$O(RCINS("S",Z)) Q:'Z  S CT=CT+1,DIR("?",CT)="   "_$P($G(^DIC(36,Z,0)),U)
"RTN","RCDPEAC",277,0)
 S DIR("?")=" "
"RTN","RCDPEAC",278,0)
 Q
"RTN","RCDPEAC",279,0)
 ;
"RTN","RCDPEAC",280,0)
HDRBLD ; create the report header
"RTN","RCDPEAC",281,0)
 ; returns RCHDR,RCPGNUM,RCSTOP
"RTN","RCDPEAC",282,0)
 ;   RCHDR(0) = header text line count
"RTN","RCDPEAC",283,0)
 ;   RCHDR("PGNUM") = page number
"RTN","RCDPEAC",284,0)
 ;   RCHDR("XECUTE") = M code for page number
"RTN","RCDPEAC",285,0)
 ;   RCHDR("RUNDATE") = date/time report generated
"RTN","RCDPEAC",286,0)
 ;   RCPGNUM - page counter
"RTN","RCDPEAC",287,0)
 ;   RCSTOP - flag to stop listing
"RTN","RCDPEAC",288,0)
 ;INPUT:
"RTN","RCDPEAC",289,0)
 ; RCDTRNG - date range filter value to be printed as part of the header
"RTN","RCDPEAC",290,0)
 ; RCPAY - Payer filter value(s)
"RTN","RCDPEAC",291,0)
 ; RCLSTMGR
"RTN","RCDPEAC",292,0)
 ;
"RTN","RCDPEAC",293,0)
 N Z0
"RTN","RCDPEAC",294,0)
 S Z0=""
"RTN","RCDPEAC",295,0)
 K RCHDR S RCHDR("RUNDATE")=$$NOW^RCDPEARL,RCPGNUM=0,RCSTOP=0
"RTN","RCDPEAC",296,0)
 ;
"RTN","RCDPEAC",297,0)
 I RCDISPTY D  Q  ; Excel format, xecute code is QUIT, null page number
"RTN","RCDPEAC",298,0)
 . S RCHDR(0)=1,RCHDR("XECUTE")="Q",RCPGNUM=""
"RTN","RCDPEAC",299,0)
 . S RCHDR(1)="PATIENT NAME^SSN^BILL#^INS CO NAME^BALANCE^AMT BILLE^AMT PAID^TRACE#^DT REC'D^DT POST^ERA PD AMT"
"RTN","RCDPEAC",300,0)
 ;
"RTN","RCDPEAC",301,0)
 N MSG,DATE,Y,DIV,HCNT
"RTN","RCDPEAC",302,0)
 S RCHDR(1)=$$HDRNM,HCNT=1  ; line 1 will be replaced by XECUTE code below
"RTN","RCDPEAC",303,0)
 S RCHDR("XECUTE")="N Y S RCPGNUM=RCPGNUM+1,Y=$$HDRNM^"_$T(+0)_"_$S(RCLSTMGR:"""",1:$J(""Page: ""_RCPGNUM,12)),RCHDR(1)=$J("" "",80-$L(Y)\2)_Y"
"RTN","RCDPEAC",304,0)
 ;
"RTN","RCDPEAC",305,0)
 S Y="RUN DATE: "_RCHDR("RUNDATE"),HCNT=HCNT+1,RCHDR(HCNT)=$J("",80-$L(Y)\2)_Y
"RTN","RCDPEAC",306,0)
 I VAUTD=1 S Y="DIVISIONS: ALL"
"RTN","RCDPEAC",307,0)
 I VAUTD=0 D
"RTN","RCDPEAC",308,0)
 . S Z0=0,Y="DIVISIONS: " F X=1:1 S Z0=$O(VAUTD(Z0)) Q:Z0=""  S:X>1 Y=Y_", " S Y=Y_VAUTD(Z0)
"RTN","RCDPEAC",309,0)
 S HCNT=HCNT+1,RCHDR(HCNT)=$J("",80-$L(Y)\2)_Y
"RTN","RCDPEAC",310,0)
 I RCINS="S" S Z=0,Z0="" F  S Z=$O(RCINS("S",Z)) Q:'Z  S Z0=Z0_$S(Z0'="":",",1:"")_$P($G(^DIC(36,Z,0)),U)
"RTN","RCDPEAC",311,0)
 S Z0="PAYERS: "_$S(RCINS="A":"ALL   ",RCINS="R":"RANGE FROM "_RCINS("FR")_"-"_RCINS("TO"),1:"")_Z0
"RTN","RCDPEAC",312,0)
 S HCNT=HCNT+1,RCHDR(HCNT)=$J("",80-$L(Z0)\2)_Z0,Z0=""
"RTN","RCDPEAC",313,0)
 S Z0=Z0_"DATE RANGE: "_$$FMTE^XLFDT(START,"2Z")_"-"_$$FMTE^XLFDT(END,"2Z")_"  TRICARE: "_$S(TRIC=1:"YES",1:"NO")_"  CHAMPVA: "_$S(CHAM=1:"YES",1:"NO")_"  EEOBs: "_$S(RCMDRX="M":"MEDICAL",RCMDRX="P":"PHARMACY",1:"BOTH")
"RTN","RCDPEAC",314,0)
 S HCNT=HCNT+1,RCHDR(HCNT)=$J("",80-$L(Z0)\2)_Z0
"RTN","RCDPEAC",315,0)
 ;
"RTN","RCDPEAC",316,0)
 S HCNT=HCNT+1,RCHDR(HCNT)=""
"RTN","RCDPEAC",317,0)
 S Y="PATIENT NAME               SSN    BILL#",HCNT=HCNT+1,RCHDR(HCNT)=Y
"RTN","RCDPEAC",318,0)
 S Y="INS CO NAME                        BALANCE   AMT BILLED        AMT PAID",HCNT=HCNT+1,RCHDR(HCNT)=Y
"RTN","RCDPEAC",319,0)
 S Y="   TRACE#                                           ERA PD AMT  REC'D  DT POST",HCNT=HCNT+1,RCHDR(HCNT)=Y
"RTN","RCDPEAC",320,0)
 S Y=$TR($J("",IOM)," ","="),HCNT=HCNT+1,RCHDR(HCNT)=Y
"RTN","RCDPEAC",321,0)
 S RCHDR(0)=HCNT
"RTN","RCDPEAC",322,0)
 Q
"RTN","RCDPEAC",323,0)
 ;
"RTN","RCDPEAC",324,0)
HDRLM ; create the list manager version of the report header
"RTN","RCDPEAC",325,0)
 ; returns RCHDR,RCPGNUM,RCSTOP
"RTN","RCDPEAC",326,0)
 ;   RCHDR(0) = header text line count
"RTN","RCDPEAC",327,0)
 ;   RCHDR("PGNUM") = page number
"RTN","RCDPEAC",328,0)
 ;   RCHDR("XECUTE") = M code for page number
"RTN","RCDPEAC",329,0)
 ;   RCHDR("RUNDATE") = date/time report generated
"RTN","RCDPEAC",330,0)
 ;   RCPGNUM - page counter
"RTN","RCDPEAC",331,0)
 ;   RCSTOP - flag to stop listing
"RTN","RCDPEAC",332,0)
 ;INPUT:
"RTN","RCDPEAC",333,0)
 ; RCDTRNG - date range filter value to be printed as part of the header
"RTN","RCDPEAC",334,0)
 ; RCPAY - Payer filter value(s)
"RTN","RCDPEAC",335,0)
 ; RCLSTMGR
"RTN","RCDPEAC",336,0)
 ;
"RTN","RCDPEAC",337,0)
 N Z0 S Z0=""
"RTN","RCDPEAC",338,0)
 K RCHDR S RCPGNUM=0,RCSTOP=0
"RTN","RCDPEAC",339,0)
 N MSG,DATE,Y,DIV,HCNT
"RTN","RCDPEAC",340,0)
 S RCHDR("TITLE")=$$HDRNM,RCHDR("XECUTE")="Q"
"RTN","RCDPEAC",341,0)
 S RCHDR(1)="DATE RANGE: "_$$FMTE^XLFDT(START,"2Z")_"-"_$$FMTE^XLFDT(END,"2Z")_"  TRICARE: "_$S(TRIC=1:"YES",1:"NO")_"  CHAMPVA: "_$S(CHAM=1:"YES",1:"NO")_"  EEOBs: "_$S(RCMDRX="M":"MEDICAL",RCMDRX="P":"PHARMACY",1:"BOTH"),HCNT=1
"RTN","RCDPEAC",342,0)
 I VAUTD=1 S Y="DIVISIONS: ALL"
"RTN","RCDPEAC",343,0)
 I VAUTD=0 D
"RTN","RCDPEAC",344,0)
 . S Z0=0,Y="DIVISIONS: " F X=1:1 S Z0=$O(VAUTD(Z0)) Q:Z0=""  S:X>1 Y=Y_", " S Y=Y_VAUTD(Z0)
"RTN","RCDPEAC",345,0)
 S HCNT=HCNT+1,RCHDR(HCNT)=Y
"RTN","RCDPEAC",346,0)
 I RCINS="S" S Z=0,Z0="" F  S Z=$O(RCINS("S",Z)) Q:'Z  S Z0=Z0_$S(Z0'="":",",1:"")_$P($G(^DIC(36,Z,0)),U)
"RTN","RCDPEAC",347,0)
 S Z0="PAYERS: "_$S(RCINS="A":"ALL     ",RCINS="R":"RANGE FROM "_RCINS("FR")_" - "_RCINS("TO"),1:"")_Z0
"RTN","RCDPEAC",348,0)
 S HCNT=HCNT+1,RCHDR(HCNT)=Z0
"RTN","RCDPEAC",349,0)
 I RCINS="A" S HCNT=HCNT+1,RCHDR(HCNT)=""
"RTN","RCDPEAC",350,0)
 ;
"RTN","RCDPEAC",351,0)
 S Y="PATIENT NAME               SSN    BILL#",HCNT=HCNT+1,RCHDR(HCNT)=Y
"RTN","RCDPEAC",352,0)
 S Y="INS CO NAME                        BALANCE   AMT BILLED        AMT PAID",HCNT=HCNT+1,RCHDR(HCNT)=Y
"RTN","RCDPEAC",353,0)
 S Y="   TRACE#                                           ERA PD AMT  REC'D  DT POST",HCNT=HCNT+1,RCHDR(HCNT)=Y
"RTN","RCDPEAC",354,0)
 S RCHDR(0)=HCNT
"RTN","RCDPEAC",355,0)
 Q
"RTN","RCDPEAC",356,0)
 ;
"RTN","RCDPEAC",357,0)
 ; extrinsic variable, name for header PRCA*4.5*298
"RTN","RCDPEAC",358,0)
HDRNM() Q "EDI LOCKBOX ACTIVE BILLS W/EEOB REPORT"
"RTN","RCDPEAC",359,0)
 ;
"RTN","RCDPEM2")
0^27^B218873122
"RTN","RCDPEM2",1,0)
RCDPEM2 ;ALB/TMK/PJH - MANUAL ERA AND EFT MATCHING ;Jun 11, 2014@13:24:36
"RTN","RCDPEM2",2,0)
 ;;4.5;Accounts Receivable;**173,208,276,284,293,298,303**;Mar 20, 1995;Build 84
"RTN","RCDPEM2",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPEM2",4,0)
 Q
"RTN","RCDPEM2",5,0)
 ;
"RTN","RCDPEM2",6,0)
 ; PRCA*4.5*303 - Manually Match EFT from Worklist screen
"RTN","RCDPEM2",7,0)
MATCHWL ; Manually 'match' ERA to an EFT that originates from [RCDPE WORKLIST ERA LIST]
"RTN","RCDPEM2",8,0)
 N DA,DIC,DIE,DIR,DR,DTRNG,DTOUT,DUOUT,END,RCEFT,RCERA,RCMBG,RCMATCH,RCNAME,RCQUIT,START,X,Y
"RTN","RCDPEM2",9,0)
 D FULL^VALM1
"RTN","RCDPEM2",10,0)
 ;
"RTN","RCDPEM2",11,0)
 ; moved code out because this routine grew too large
"RTN","RCDPEM2",12,0)
 I $$ML0^RCDPRU() G MWQ ; if true then quit, othewise continue
"RTN","RCDPEM2",13,0)
 ;
"RTN","RCDPEM2",14,0)
ML1 ; Select EFT to Match to this ERA
"RTN","RCDPEM2",15,0)
 S DIR("A")="SELECT THE UNMATCHED EFT TO MATCH TO AN ERA: "
"RTN","RCDPEM2",16,0)
 ;
"RTN","RCDPEM2",17,0)
 ; See comment in Tag M1 for PRCA*4.5*293.
"RTN","RCDPEM2",18,0)
 S DIR(0)="PAO^RCY(344.31,:AEMQ",DIR("S")="I ('$P(^(0),U,8))&($P($G(^(0)),U,7))&('$P($G(^(3)),U))"
"RTN","RCDPEM2",19,0)
 I $G(DTRNG) S DIR("S")=DIR("S")_"&'($P($G(^(0)),U,13)<START)&'($P($G(^(0)),U,13)>END)"
"RTN","RCDPEM2",20,0)
 ; ** end PRCA*4.5*293
"RTN","RCDPEM2",21,0)
 ;
"RTN","RCDPEM2",22,0)
 W ! D ^DIR K DIR
"RTN","RCDPEM2",23,0)
 I $D(DUOUT)!$D(DTOUT)!(Y<0) G MWQ
"RTN","RCDPEM2",24,0)
 S RCEFT=+Y,RCEFT(0)=$G(^RCY(344.31,+Y,0))
"RTN","RCDPEM2",25,0)
 W !
"RTN","RCDPEM2",26,0)
 S DIC="^RCY(344.31,",DR="0",DA=RCEFT D EN^DIQ
"RTN","RCDPEM2",27,0)
 W !
"RTN","RCDPEM2",28,0)
 S DIR("A")="ARE YOU SURE THIS IS THE EFT YOU WANT TO MATCH?: ",DIR(0)="YA",DIR("B")="YES" D ^DIR K DIR
"RTN","RCDPEM2",29,0)
 I $D(DUOUT)!$D(DTOUT) G MWQ
"RTN","RCDPEM2",30,0)
 I Y'=1 G ML1
"RTN","RCDPEM2",31,0)
 ;
"RTN","RCDPEM2",32,0)
 D M12A ; Go to the Manual match, we have the ERA and EFT
"RTN","RCDPEM2",33,0)
 ;
"RTN","RCDPEM2",34,0)
MWQ ; Quit back to the worklist VALMBCK will be killed by List Manager.
"RTN","RCDPEM2",35,0)
 D INIT^RCDPEWL7 ; Rebuild the screen because we may have changed it.
"RTN","RCDPEM2",36,0)
 S VALMBCK="R",VALMBG=RCMBG
"RTN","RCDPEM2",37,0)
 Q
"RTN","RCDPEM2",38,0)
 ;
"RTN","RCDPEM2",39,0)
MATCH1 ; Manually 'match' an ERA to an EFT
"RTN","RCDPEM2",40,0)
 N DA,DIC,DIE,DIR,DR,DTRNG,DTOUT,DUOUT,END,RCEFT,RCERA,RCMATCH,RCNAME,RCQUIT,START,X,Y,RCMTFLG
"RTN","RCDPEM2",41,0)
 W !,"THIS OPTION WILL ALLOW YOU TO MANUALLY MATCH AN EFT DETAIL RECORD",!,"WITH AN ERA RECORD."
"RTN","RCDPEM2",42,0)
 ; PRCA*4.5*298 - Add ability to specify a date range
"RTN","RCDPEM2",43,0)
 S DIR("A")="Select by date Range? (Y/N) ",DIR(0)="YA",DIR("B")="NO" D ^DIR K DIR
"RTN","RCDPEM2",44,0)
 I $D(DUOUT)!$D(DTOUT) G M1Q
"RTN","RCDPEM2",45,0)
 I Y<1 G M1
"RTN","RCDPEM2",46,0)
 S DTRNG=Y  ; flag indicating date range selected
"RTN","RCDPEM2",47,0)
 K DIR S DIR("?")="Enter the earliest date for the selection range."
"RTN","RCDPEM2",48,0)
 ; value in DIR(0) for %DT = APE: ask date, past assumed, echo answer
"RTN","RCDPEM2",49,0)
 S DIR(0)="DAO^:"_DT_":APE",DIR("A")="Start Date: " D ^DIR K DIR
"RTN","RCDPEM2",50,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G M1Q
"RTN","RCDPEM2",51,0)
 S START=Y K DIR,X,Y
"RTN","RCDPEM2",52,0)
 S DIR("?")="Enter the latest date for the selection range."
"RTN","RCDPEM2",53,0)
 S DIR(0)="DAO^"_START_":"_DT_":APE",DIR("A")="End Date: ",DIR("B")=$$FMTE^XLFDT(DT)
"RTN","RCDPEM2",54,0)
 D ^DIR K DIR
"RTN","RCDPEM2",55,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G M1Q
"RTN","RCDPEM2",56,0)
 S END=Y
"RTN","RCDPEM2",57,0)
 ;
"RTN","RCDPEM2",58,0)
M1 ; come here if no date range slection 
"RTN","RCDPEM2",59,0)
 S DIR("A")="SELECT THE UNMATCHED EFT TO MATCH TO AN ERA: "
"RTN","RCDPEM2",60,0)
 ;
"RTN","RCDPEM2",61,0)
 ; ** start PRCA*4.5*293 Add extra checks to filter out EFTs that have 
"RTN","RCDPEM2",62,0)
 ;      a payment amount of zero or EFTs that have been removed.
"RTN","RCDPEM2",63,0)
 ;      Only UNMATCHED EFTs with payment amt >0 and not removed should
"RTN","RCDPEM2",64,0)
 ;      be selectable by the user.
"RTN","RCDPEM2",65,0)
 ;
"RTN","RCDPEM2",66,0)
 S DIR(0)="PAO^RCY(344.31,:AEMQ",DIR("S")="I ('$P(^(0),U,8))&($P($G(^(0)),U,7))&('$P($G(^(3)),U))"
"RTN","RCDPEM2",67,0)
 I $G(DTRNG) S DIR("S")=DIR("S")_"&'($P($G(^(0)),U,13)<START)&'($P($G(^(0)),U,13)>END)"
"RTN","RCDPEM2",68,0)
 ; ** end PRCA*4.5*293
"RTN","RCDPEM2",69,0)
 ;
"RTN","RCDPEM2",70,0)
 W ! D ^DIR K DIR
"RTN","RCDPEM2",71,0)
 I $D(DUOUT)!$D(DTOUT)!(Y<0) G M1Q
"RTN","RCDPEM2",72,0)
 S RCEFT=+Y,RCEFT(0)=$G(^RCY(344.31,+Y,0))
"RTN","RCDPEM2",73,0)
 W !
"RTN","RCDPEM2",74,0)
 S DIC="^RCY(344.31,",DR="0",DA=RCEFT D EN^DIQ
"RTN","RCDPEM2",75,0)
 W !
"RTN","RCDPEM2",76,0)
 S DIR("A")="ARE YOU SURE THIS IS THE EFT YOU WANT TO MATCH?: ",DIR(0)="YA",DIR("B")="YES" D ^DIR K DIR
"RTN","RCDPEM2",77,0)
 I $D(DUOUT)!$D(DTOUT) G M1Q
"RTN","RCDPEM2",78,0)
 I Y'=1 G M1
"RTN","RCDPEM2",79,0)
M12 S DIR("A")="SELECT THE UNMATCHED ERA TO MATCH TO EFT #"_RCEFT_": "
"RTN","RCDPEM2",80,0)
 S DIR(0)="PAO^RCY(344.4,:AEMQ",DIR("S")="I '$P(^(0),U,9),'$P(^(0),U,8)"
"RTN","RCDPEM2",81,0)
 W ! D ^DIR K DIR
"RTN","RCDPEM2",82,0)
 I $D(DUOUT)!$D(DTOUT)!(Y<0) G M1Q
"RTN","RCDPEM2",83,0)
 S RCERA=+Y,RCERA(0)=$G(^RCY(344.4,+Y,0))
"RTN","RCDPEM2",84,0)
 W !
"RTN","RCDPEM2",85,0)
 S DIC="^RCY(344.4,",DR="0",DA=RCERA D EN^DIQ
"RTN","RCDPEM2",86,0)
 W !
"RTN","RCDPEM2",87,0)
 S DIR("A")="ARE YOU SURE THIS IS THE CORRECT ERA TO MATCH TO?: ",DIR(0)="YA",DIR("B")="YES" D ^DIR K DIR
"RTN","RCDPEM2",88,0)
 I $D(DUOUT)!$D(DTOUT) G M1Q
"RTN","RCDPEM2",89,0)
 I Y'=1 G M12
"RTN","RCDPEM2",90,0)
 ;
"RTN","RCDPEM2",91,0)
M12A ; PRCA*4.5*303 - MATCH WL jumps here to complete the manual match
"RTN","RCDPEM2",92,0)
 S RCMATCH=(+$P(RCERA(0),U,5)=+$P(RCEFT(0),U,7))
"RTN","RCDPEM2",93,0)
 S RCNAME=($P(RCERA(0),U,6)=$P(RCEFT(0),U,2))
"RTN","RCDPEM2",94,0)
 I 'RCMATCH!'RCNAME D  G:RCQUIT M1Q
"RTN","RCDPEM2",95,0)
 . N Z
"RTN","RCDPEM2",96,0)
 . S RCQUIT=0,Z=1
"RTN","RCDPEM2",97,0)
 . S DIR("A",1)="***WARNING***"
"RTN","RCDPEM2",98,0)
 . I 'RCNAME S Z=Z+1,DIR("A",Z)=$J("",3)_"> The payer names on these two records do not agree"
"RTN","RCDPEM2",99,0)
 . I 'RCMATCH S Z=Z+1,DIR("A",Z)=$J("",3)_"> The amount of payment on these two records do not agree"
"RTN","RCDPEM2",100,0)
 . S DIR(0)="YA",DIR("B")="NO",DIR("A")="ARE YOU SURE YOU WANT TO MATCH THESE 2 RECORDS?: " W ! D ^DIR K DIR
"RTN","RCDPEM2",101,0)
 . I $S($D(DUOUT)!$D(DTOUT):1,Y'=1:1,1:0) S RCQUIT=1 Q
"RTN","RCDPEM2",102,0)
 S DIE="^RCY(344.4,",DR=".09////1",DA=RCERA D ^DIE
"RTN","RCDPEM2",103,0)
 I '$D(Y) S DIE="^RCY(344.31,",DR=".08////1;.1////"_RCERA,DA=RCEFT D ^DIE
"RTN","RCDPEM2",104,0)
 S RCMTFLG=$S('$D(Y):1,1:0)
"RTN","RCDPEM2",105,0)
 S DIR(0)="EA",DIR("A",1)="EFT #"_RCEFT_" WAS "_$S(RCMTFLG:"SUCCESSFULLY",1:"NOT")_" MATCHED TO ERA #"_RCERA,DIR("A")="Press ENTER to continue: " D ^DIR K DIR
"RTN","RCDPEM2",106,0)
M1Q Q
"RTN","RCDPEM2",107,0)
 ;
"RTN","RCDPEM2",108,0)
MATCH2 ; Manually 'match' a 0-balance EFT to a paper EOB
"RTN","RCDPEM2",109,0)
 N DUOUT,DTOUT,DA,DR,DIE,DIC,DIR,X,Y,RCEFT,RCRCPT
"RTN","RCDPEM2",110,0)
 W !,"THIS OPTION WILL ALLOW YOU TO MANUALLY MARK A 0-BALANCE EFT DETAIL RECORD",!,"AS MATCHED TO A PAPER EOB"
"RTN","RCDPEM2",111,0)
M2 S DIR("A")="SELECT THE UNMATCHED 0-BALANCE EFT TO MARK AS MATCHED TO PAPER EOB: "
"RTN","RCDPEM2",112,0)
 S DIR(0)="PAO^RCY(344.31,:AEMQ",DIR("S")="I '$P(^(0),U,8),'$P(^(0),U,7)"
"RTN","RCDPEM2",113,0)
 W ! D ^DIR K DIR
"RTN","RCDPEM2",114,0)
 I $D(DUOUT)!$D(DTOUT)!(Y'>0) G M2Q
"RTN","RCDPEM2",115,0)
 S RCEFT=+Y
"RTN","RCDPEM2",116,0)
 W !
"RTN","RCDPEM2",117,0)
 S DIC="^RCY(344.31,",DR="0",DA=RCEFT D EN^DIQ
"RTN","RCDPEM2",118,0)
 W !
"RTN","RCDPEM2",119,0)
 S DIR("A")="ARE YOU SURE THIS IS THE EFT YOU WANT TO MARK AS MATCHED?: ",DIR(0)="YA",DIR("B")="YES" D ^DIR K DIR
"RTN","RCDPEM2",120,0)
 I $D(DUOUT)!$D(DTOUT) G M2Q
"RTN","RCDPEM2",121,0)
 I Y'=1 G M2
"RTN","RCDPEM2",122,0)
 S DIE="^RCY(344.31,",DR=".08////2",DA=RCEFT D ^DIE
"RTN","RCDPEM2",123,0)
 S DIR(0)="EA",DIR("A")="EFT #"_RCEFT_" WAS "_$S('$D(Y):"SUCCESSFULLY",1:"NOT")_" MARKED AS MATCHED TO PAPER EOB" D ^DIR K DIR
"RTN","RCDPEM2",124,0)
M2Q Q
"RTN","RCDPEM2",125,0)
 ;
"RTN","RCDPEM2",126,0)
MANTR ; Mark an EFT detail record as 'TR' posted manually
"RTN","RCDPEM2",127,0)
 N DA,DR,DIC,DIE,DIR,X,Y,RCEFT,DUOUT,DTOUT,RCZ0,RCTR,RCHOW
"RTN","RCDPEM2",128,0)
 ; EFT detail cannot be associated with a receipt or TR document
"RTN","RCDPEM2",129,0)
 ;
"RTN","RCDPEM2",130,0)
 W !,"*****",!," YOU SHOULD ONLY USE THIS OPTION IF YOU HAVE AN EFT DETAIL RECORD ON YOUR",!," UNAPPLIED DEPOSIT REPORT WHOSE DETAIL WAS ENTERED ON LINE VIA A TR DOCUMENT",!,"*****",!
"RTN","RCDPEM2",131,0)
 S DIC(0)="AEMQ",DIC("S")="I $P(^(0),U,16)="""",$P(^(0),U,11)",DIC("A")="SELECT THE EFT DETAIL WHOSE 'TR' DOC WAS MANUALLY ENTERED ON LINE: ",DIC="^RCY(344.31,"
"RTN","RCDPEM2",132,0)
 W ! D ^DIC K DIC
"RTN","RCDPEM2",133,0)
 I Y'>0 G MANTRQ
"RTN","RCDPEM2",134,0)
 S RCEFT=+Y,RCZ0=$G(^RCY(344.31,RCEFT,0))
"RTN","RCDPEM2",135,0)
 S DIR(0)="FA^2:30^K:X'?1""TR"".E X",DIR("A")="ENTER THE TR DOC # THAT WAS ENTERED ON-LINE FOR THE EFT DETAIL: "
"RTN","RCDPEM2",136,0)
 W ! D ^DIR K DIR
"RTN","RCDPEM2",137,0)
 I $D(DTOUT)!$D(DUOUT) G MANTRQ
"RTN","RCDPEM2",138,0)
 S RCTR=Y,DR=""
"RTN","RCDPEM2",139,0)
 ;
"RTN","RCDPEM2",140,0)
 I '$P(RCZ0,U,8) D  G:RCQUIT MANTRQ  ;Unmatched
"RTN","RCDPEM2",141,0)
 . S DIR(0)="SA^E:ELECTRONIC ERA;P:PAPER EOB",DIR("A")="WAS THE EFT DETAIL RECEIVED BY (E)RA or (P)APER EOB?: " W ! D ^DIR K DIR
"RTN","RCDPEM2",142,0)
 . I $D(DTOUT)!$D(DUOUT) S RCQUIT=1 Q
"RTN","RCDPEM2",143,0)
 . S RCHOW=Y,DR=""
"RTN","RCDPEM2",144,0)
 . I RCHOW="E" D
"RTN","RCDPEM2",145,0)
 .. S DR=";.09R;.08////1"
"RTN","RCDPEM2",146,0)
 . I RCHOW="P" D
"RTN","RCDPEM2",147,0)
 .. S DR=";.08////2"
"RTN","RCDPEM2",148,0)
 ;
"RTN","RCDPEM2",149,0)
 S DIR(0)="YA",DIR("B")="NO",DIR("A",1)="THIS WILL MARK EFT DETAIL #: "_RCEFT_" AS MANUALLY POSTED",DIR("A",2)="  USING TR DOC: "_RCTR
"RTN","RCDPEM2",150,0)
 S DIR("A")="ARE YOU SURE YOU WANT TO CONTINUE?: " W ! D ^DIR K DIR
"RTN","RCDPEM2",151,0)
 I Y'=1 D  G MANTRQ
"RTN","RCDPEM2",152,0)
 . S DIR(0)="EA",DIR("A")="EFT NOT UPDATED - Press ENTER to continue: " W ! D ^DIR K DIR
"RTN","RCDPEM2",153,0)
 S DIE="^RCY(344.31,",DA=RCEFT,DR=".16R"_DR D ^DIE
"RTN","RCDPEM2",154,0)
 I $D(Y) D
"RTN","RCDPEM2",155,0)
 . S DIE="^RCY(344.31,",DA=RCEFT,DR=".16///@;.08///"_$S($P(RCZ0,U,8)'="":$P(RCZ0,U,8),1:"@") D ^DIE
"RTN","RCDPEM2",156,0)
 . S DIR("A")="EFT NOT UPDATED - Press ENTER to continue: "
"RTN","RCDPEM2",157,0)
 E  D
"RTN","RCDPEM2",158,0)
 . S DIR("A")="STATUS UPDATED FOR EFT DETAIL #: "_RCEFT_" - Press ENTER to continue: "
"RTN","RCDPEM2",159,0)
 S DIR(0)="EA"
"RTN","RCDPEM2",160,0)
 W ! D ^DIR K DIR
"RTN","RCDPEM2",161,0)
 ;
"RTN","RCDPEM2",162,0)
MANTRQ Q
"RTN","RCDPEM2",163,0)
 ;
"RTN","RCDPEM2",164,0)
CHK() ; Function returns the ien of CHECK/MO payment type
"RTN","RCDPEM2",165,0)
 Q +$O(^RC(341.1,"AC",4,0))
"RTN","RCDPEM2",166,0)
 ;
"RTN","RCDPEM2",167,0)
 ;; Begin PRCA*4.5*276 - PJH
"RTN","RCDPEM2",168,0)
POSTED ;
"RTN","RCDPEM2",169,0)
 N DIR,X,Y
"RTN","RCDPEM2",170,0)
 S DIR("A")="Select type of receipt to ERA link"
"RTN","RCDPEM2",171,0)
 S DIR("B")="M"
"RTN","RCDPEM2",172,0)
 S DIR(0)="S^M:Manually select receipt to post;"
"RTN","RCDPEM2",173,0)
 S DIR(0)=DIR(0)_"A:Automatic search for receipt to post"
"RTN","RCDPEM2",174,0)
 D ^DIR K DIR
"RTN","RCDPEM2",175,0)
 I Y="M" D MANUAL Q
"RTN","RCDPEM2",176,0)
 I Y="A" D AUTO
"RTN","RCDPEM2",177,0)
 Q
"RTN","RCDPEM2",178,0)
 ;
"RTN","RCDPEM2",179,0)
MANUAL ; Mark an ERA as posted when the data was previously posted using
"RTN","RCDPEM2",180,0)
 ; paper EOB information
"RTN","RCDPEM2",181,0)
 N DIC,DIE,DIR,DA,DR,ERA,RCPT,X,Y,%
"RTN","RCDPEM2",182,0)
 ; Must be unmatched or matched to paper check, must be accepted by FMS, must not be posted yet
"RTN","RCDPEM2",183,0)
 W !!,"THIS OPTION IS USED WHEN YOU HAVE POSTED AN ERA PAID WITH A PAPER CHECK",!,"BY USING THE PAPER EOB AND YOU DID NOT REFERENCE THE ERA IN THE RECEIPT",!!
"RTN","RCDPEM2",184,0)
MAN1 S DIC("S")="I ""02""[+$P(^(0),U,9),$P(^(0),U,14)=0",DIC="^RCY(344.4,",DIC(0)="AEMQ"
"RTN","RCDPEM2",185,0)
 D ^DIC K DIC
"RTN","RCDPEM2",186,0)
 ;
"RTN","RCDPEM2",187,0)
 I Y'>0 G MANUALQ
"RTN","RCDPEM2",188,0)
 ;
"RTN","RCDPEM2",189,0)
 ;Check if ERA is already linked to a receipt
"RTN","RCDPEM2",190,0)
 I $$RCHECK(+Y) G MAN1
"RTN","RCDPEM2",191,0)
 S ERA=+Y
"RTN","RCDPEM2",192,0)
 ;
"RTN","RCDPEM2",193,0)
 S DIC="^RCY(344,",DIC(0)="AEMQ",DIC("A")="RECEIPT: ",DIC("S")="I $$FMS^RCDPEM2(Y,0)"
"RTN","RCDPEM2",194,0)
 D ^DIC K DIC
"RTN","RCDPEM2",195,0)
 I Y'>0 G MANUALQ
"RTN","RCDPEM2",196,0)
 S RCPT=+Y
"RTN","RCDPEM2",197,0)
 ;
"RTN","RCDPEM2",198,0)
 D NOW^%DTC
"RTN","RCDPEM2",199,0)
 ;Update Receipt #, EFT Match Status, Detail Post Status and Paper EOB
"RTN","RCDPEM2",200,0)
 S DIE="^RCY(344.4,",DR=".08////"_RCPT_";.09////2;.14////2;20.03////1",DA=ERA
"RTN","RCDPEM2",201,0)
 ;Update Date/Time Posted and User fields
"RTN","RCDPEM2",202,0)
 S DR=DR_";7.01///"_%_";7.02///"_DUZ
"RTN","RCDPEM2",203,0)
 D ^DIE
"RTN","RCDPEM2",204,0)
 I '$D(Y) D
"RTN","RCDPEM2",205,0)
 . S DIR(0)="EA",DIR("A",1)="ERA HAS BEEN MARKED AS POSTED USING PAPER EOB",DIR("A")="Press ENTER to continue: " D ^DIR K DIR
"RTN","RCDPEM2",206,0)
 ;
"RTN","RCDPEM2",207,0)
MANUALQ Q
"RTN","RCDPEM2",208,0)
 ;
"RTN","RCDPEM2",209,0)
 ;VISN 15 software - created by Karen Flores
"RTN","RCDPEM2",210,0)
 ;
"RTN","RCDPEM2",211,0)
AUTO ;Select ERA's for linking to receipt
"RTN","RCDPEM2",212,0)
 N EXIT
"RTN","RCDPEM2",213,0)
 S EXIT=0 F  D LNKERA Q:EXIT
"RTN","RCDPEM2",214,0)
 Q
"RTN","RCDPEM2",215,0)
 ;
"RTN","RCDPEM2",216,0)
RCHECK(RCSCR) ;Check if already linked to a receipt
"RTN","RCDPEM2",217,0)
 N REC,RNUM,RNAM,AMT
"RTN","RCDPEM2",218,0)
 S REC=$G(^RCY(344.4,RCSCR,0)),RNUM=$P(REC,U,8)
"RTN","RCDPEM2",219,0)
 ;Ignore check if zero amount ERA
"RTN","RCDPEM2",220,0)
 Q:'$P(REC,U,5) 0
"RTN","RCDPEM2",221,0)
 ;Check if already linked to a different receipt
"RTN","RCDPEM2",222,0)
 Q:'RNUM 0
"RTN","RCDPEM2",223,0)
 S RNAM=$P($G(^RCY(344,RNUM,0)),U)
"RTN","RCDPEM2",224,0)
 W !!,"ERA ",RCSCR," is already linked to receipt ",RNAM,!
"RTN","RCDPEM2",225,0)
 Q 1
"RTN","RCDPEM2",226,0)
 ;
"RTN","RCDPEM2",227,0)
LNKERA ;Select ERA
"RTN","RCDPEM2",228,0)
 N ABORT,DIC,DUOUT,DTOUT,REC,RCSCR,X,Y
"RTN","RCDPEM2",229,0)
 ;Must be unposted and either unmatched or matched to paper check
"RTN","RCDPEM2",230,0)
 S DIC("S")="I ""02""[+$P(^(0),U,9),$P(^(0),U,14)=0"
"RTN","RCDPEM2",231,0)
 S DIC="^RCY(344.4,",DIC(0)="AEMQ" W ! D ^DIC K DIC
"RTN","RCDPEM2",232,0)
 S RCSCR=+Y I RCSCR'>0 S EXIT=1 Q
"RTN","RCDPEM2",233,0)
 ;Check if already linked to a different receipt
"RTN","RCDPEM2",234,0)
 Q:$$RCHECK(RCSCR)
"RTN","RCDPEM2",235,0)
 ;
"RTN","RCDPEM2",236,0)
 ;Finds receipt automatically from AR TRANSACTION file #433 
"RTN","RCDPEM2",237,0)
 N AMT,ART,ARTND1,ATTY,BILL,EOB,EOBND,FOUND,RCND,RCSCR1,RECEPT,TAMT
"RTN","RCDPEM2",238,0)
 N TRACE
"RTN","RCDPEM2",239,0)
 ;Trace# from ERA
"RTN","RCDPEM2",240,0)
 S TRACE=$P($G(^RCY(344.4,RCSCR,0)),U,2)
"RTN","RCDPEM2",241,0)
 ;Clear workfile
"RTN","RCDPEM2",242,0)
 K ^TMP("RCDPEM2",$J)
"RTN","RCDPEM2",243,0)
 ;
"RTN","RCDPEM2",244,0)
 S (FOUND,ABORT,RCSCR1)=0
"RTN","RCDPEM2",245,0)
 ;Scan claim lines in ERA for non zero bills
"RTN","RCDPEM2",246,0)
 F  S RCSCR1=$O(^RCY(344.4,RCSCR,1,RCSCR1)) Q:+RCSCR1=0!(FOUND)  D
"RTN","RCDPEM2",247,0)
 .S RCND=$G(^RCY(344.4,RCSCR,1,RCSCR1,0))
"RTN","RCDPEM2",248,0)
 .;Ignore bill if AMOUNT PAID is zero
"RTN","RCDPEM2",249,0)
 .S AMT=$P(RCND,"^",3) Q:+AMT=0
"RTN","RCDPEM2",250,0)
 .;Ignore if EOB has no EOB detail record
"RTN","RCDPEM2",251,0)
 .S EOB=+$P(RCND,"^",2) Q:'EOB
"RTN","RCDPEM2",252,0)
 .;Get EOB detail record
"RTN","RCDPEM2",253,0)
 .S EOBND=$G(^IBM(361.1,EOB,0))
"RTN","RCDPEM2",254,0)
 .;Extract Bill number from EOB detail
"RTN","RCDPEM2",255,0)
 .S BILL=$P(EOBND,"^",1) Q:BILL=""
"RTN","RCDPEM2",256,0)
 .;Ignore duplicate bills on ERA
"RTN","RCDPEM2",257,0)
 .Q:$D(^TMP("RCDPEM2",$J,BILL))
"RTN","RCDPEM2",258,0)
 .S ^TMP("RCDPEM2",$J,BILL)=""
"RTN","RCDPEM2",259,0)
 .;Search AR TRANSACTION file #433 for the bill - newest first
"RTN","RCDPEM2",260,0)
 .S ART=""
"RTN","RCDPEM2",261,0)
 .F  S ART=$O(^PRCA(433,"C",BILL,ART),-1) Q:+ART=0!(FOUND)  D
"RTN","RCDPEM2",262,0)
 ..S ARTND1=$G(^PRCA(433,ART,1))
"RTN","RCDPEM2",263,0)
 ..;Get transaction type
"RTN","RCDPEM2",264,0)
 ..S ATTY=$P(ARTND1,"^",2) Q:'ATTY
"RTN","RCDPEM2",265,0)
 ..;Ignore if not a payment
"RTN","RCDPEM2",266,0)
 ..S ATTY=$P($G(^PRCA(430.3,ATTY,0)),"^",1) Q:ATTY'["PAYMENT"
"RTN","RCDPEM2",267,0)
 ..;Get receipt number
"RTN","RCDPEM2",268,0)
 ..S RECEPT=$P(ARTND1,"^",3) Q:RECEPT=""
"RTN","RCDPEM2",269,0)
 ..;Ignore receipt if status is not 'ACCEPTED BY FMS'
"RTN","RCDPEM2",270,0)
 ..Q:'$$FMS(RECEPT,1)
"RTN","RCDPEM2",271,0)
 ..W !!,"PATIENT: "_$$PNM4^RCDPEWL1(RCSCR,RCSCR1)
"RTN","RCDPEM2",272,0)
 ..W !,"Bill number: ",$P($G(^DGCR(399,BILL,0)),U)
"RTN","RCDPEM2",273,0)
 ..W !,"Check #: ",$$CHQ(RECEPT,BILL)
"RTN","RCDPEM2",274,0)
 ..W !,"Trace #: ",TRACE
"RTN","RCDPEM2",275,0)
 ..W !,"DOS: ",$$FMTE^XLFDT($P($G(^DGCR(399,BILL,0)),U,3))
"RTN","RCDPEM2",276,0)
 ..S TAMT=+$P(ARTND1,"^",5)
"RTN","RCDPEM2",277,0)
 ..W !,"AR Transaction amount: ",TAMT
"RTN","RCDPEM2",278,0)
 ..W !,"RECEIPT#: ",RECEPT
"RTN","RCDPEM2",279,0)
 ..W !,"Date of Receipt: ",$$FMTE^XLFDT($$RCDATE^RCDPRU(RECEPT))
"RTN","RCDPEM2",280,0)
 ..W !,"Total Receipt AMOUNT: ",$J($$AMT^RCDPRU(RECEPT),2,2),!
"RTN","RCDPEM2",281,0)
 .. ; PRCA*4.5*284 Change default response from YES to NO
"RTN","RCDPEM2",282,0)
 ..S DIR(0)="Y",DIR("B")="NO"
"RTN","RCDPEM2",283,0)
 ..S DIR("A")="Link to update Remittance entry # "_RCSCR
"RTN","RCDPEM2",284,0)
 ..S DIR("A")=DIR("A")_" with receipt "_RECEPT
"RTN","RCDPEM2",285,0)
 ..D ^DIR K DIR
"RTN","RCDPEM2",286,0)
 ..;Aborted
"RTN","RCDPEM2",287,0)
 ..I $D(DUOUT)!$D(DTOUT) S ABORT=1,FOUND=1 Q
"RTN","RCDPEM2",288,0)
 ..;Attempt to update ERA - finish if successful
"RTN","RCDPEM2",289,0)
 ..I +Y>0 D UPDERA(RCSCR,RECEPT,.FOUND)
"RTN","RCDPEM2",290,0)
 ;Update failed
"RTN","RCDPEM2",291,0)
 I FOUND=0 W !!,"No matching payment transactions found for this ERA"
"RTN","RCDPEM2",292,0)
 ;Clear workfile
"RTN","RCDPEM2",293,0)
 K ^TMP("RCDPEM2",$J)
"RTN","RCDPEM2",294,0)
 Q
"RTN","RCDPEM2",295,0)
 ;
"RTN","RCDPEM2",296,0)
 ; Moved to RCDPRU because of size issues PRCA*4.5*303
"RTN","RCDPEM2",297,0)
UPDERA(DA,RECEPT,FOUND) ;Mark ERA as posted to paper EOB
"RTN","RCDPEM2",298,0)
 D UPDERA^RCDPRU(DA,RECEPT,.FOUND)
"RTN","RCDPEM2",299,0)
 Q FOUND
"RTN","RCDPEM2",300,0)
 ;
"RTN","RCDPEM2",301,0)
 ;Check FMS status
"RTN","RCDPEM2",302,0)
FMS(RECEPT,FLG) ;
"RTN","RCDPEM2",303,0)
 ; FLG = 1 if RECEPT contains receipt number
"RTN","RCDPEM2",304,0)
 ; FLG = 0 if RECEPT contains ien of the receipt
"RTN","RCDPEM2",305,0)
 N FMSDOCNO,RCRECTDA,RES
"RTN","RCDPEM2",306,0)
 S RES=0 I $G(RECEPT)="" G FMSX
"RTN","RCDPEM2",307,0)
 ;Get receipt IEN
"RTN","RCDPEM2",308,0)
 I 'FLG S RCRECTDA=RECEPT
"RTN","RCDPEM2",309,0)
 I FLG S RCRECTDA=$O(^RCY(344,"B",RECEPT,0))
"RTN","RCDPEM2",310,0)
 I 'RCRECTDA G FMSX
"RTN","RCDPEM2",311,0)
 ;Get FMS document number
"RTN","RCDPEM2",312,0)
 S FMSDOCNO=$$FMSSTAT^RCDPUREC(RCRECTDA)
"RTN","RCDPEM2",313,0)
 ;Ignore if not accepted
"RTN","RCDPEM2",314,0)
 I $P(FMSDOCNO,U,2)'="ACCEPTED BY FMS" G FMSX
"RTN","RCDPEM2",315,0)
 ;Otherwise can be linked
"RTN","RCDPEM2",316,0)
 S RES=1
"RTN","RCDPEM2",317,0)
FMSX ;
"RTN","RCDPEM2",318,0)
 Q RES
"RTN","RCDPEM2",319,0)
 ;
"RTN","RCDPEM2",320,0)
 ; PRCA*4.5*303
"RTN","RCDPEM2",321,0)
 ; Moved DATE and AMT to RCDPRU because of size issues Renamed DATE to RCDATE
"RTN","RCDPEM2",322,0)
 ;
"RTN","RCDPEM2",323,0)
CHQ(RECEPT,BILL) ;Get check number for this bill
"RTN","RCDPEM2",324,0)
 N RCRECTDA,RCTRAN,RCCHK,PATBILL
"RTN","RCDPEM2",325,0)
 ;Get receipt IEN
"RTN","RCDPEM2",326,0)
 S RCRECTDA=$O(^RCY(344,"B",RECEPT,0)) Q:'RCRECTDA ""
"RTN","RCDPEM2",327,0)
 ;Scan Receipt looking for this bill IEN
"RTN","RCDPEM2",328,0)
 S RCTRAN=0,RCCHK=""
"RTN","RCDPEM2",329,0)
 F  S RCTRAN=$O(^RCY(344,RCRECTDA,1,RCTRAN)) Q:'RCTRAN  D  Q:RCCHK]""
"RTN","RCDPEM2",330,0)
 .;Check for match on bill IEN
"RTN","RCDPEM2",331,0)
 .S PATBILL=$P($G(^RCY(344,RCRECTDA,1,RCTRAN,0)),U,3)
"RTN","RCDPEM2",332,0)
 .;Ignore Patient pointers or null field
"RTN","RCDPEM2",333,0)
 .Q:$P(PATBILL,";",2)'="PRCA(430,"
"RTN","RCDPEM2",334,0)
 .;Compare bill IEN399 to IEN430
"RTN","RCDPEM2",335,0)
 .Q:$P(PATBILL,";")'=BILL
"RTN","RCDPEM2",336,0)
 .;Get check number for this line
"RTN","RCDPEM2",337,0)
 .S RCCHK=$P($G(^RCY(344,RCRECTDA,1,RCTRAN,0)),U,7)
"RTN","RCDPEM2",338,0)
 Q RCCHK
"RTN","RCDPEM2",339,0)
 ;
"RTN","RCDPEM2",340,0)
 ;; End PRCA*4.5*276 - PJH
"RTN","RCDPEM2",341,0)
 ;
"RTN","RCDPEM2",342,0)
MATCH3 ; Manually 'match' a 0-balance ERA that has no check or EFT
"RTN","RCDPEM2",343,0)
 N DUOUT,DTOUT,DA,DR,DIE,DIC,DIR,X,Y,RCERA,RCRCPT
"RTN","RCDPEM2",344,0)
 W !,"THIS OPTION WILL ALLOW YOU TO MANUALLY MARK A 0-BALANCE ERA WITH NO",!,"CHECK OR EFT AS 'MATCH-0 PAYMENT' TO REMOVE IT FROM THE ERA AGING REPORT"
"RTN","RCDPEM2",345,0)
M3 S DIR("A")="SELECT THE UNMATCHED 0-BALANCE ERA TO MARK AS MATCHED: "
"RTN","RCDPEM2",346,0)
 S DIR(0)="PAO^RCY(344.4,:AEMQ",DIR("S")="I '$P(^(0),U,9),'$P(^(0),U,5)"
"RTN","RCDPEM2",347,0)
 W ! D ^DIR K DIR
"RTN","RCDPEM2",348,0)
 I $D(DUOUT)!$D(DTOUT)!(Y'>0) G M3Q
"RTN","RCDPEM2",349,0)
 S RCERA=+Y
"RTN","RCDPEM2",350,0)
 W !
"RTN","RCDPEM2",351,0)
 S DIC="^RCY(344.4,",DR="0",DA=RCERA D EN^DIQ
"RTN","RCDPEM2",352,0)
 W !
"RTN","RCDPEM2",353,0)
 S DIR("A")="ARE YOU SURE THIS IS THE ERA YOU WANT TO MARK AS MATCH-0 PAYMENT? (Y/N) ",DIR(0)="YA",DIR("B")="YES" D ^DIR K DIR
"RTN","RCDPEM2",354,0)
 I $D(DUOUT)!$D(DTOUT) G M3Q
"RTN","RCDPEM2",355,0)
 I Y'=1 G M3
"RTN","RCDPEM2",356,0)
 S DIE="^RCY(344.4,",DR=".09////3",DA=RCERA D ^DIE
"RTN","RCDPEM2",357,0)
 S DIR(0)="EA",DIR("A")="ERA #"_RCERA_" WAS "_$S('$D(Y):"SUCCESSFULLY",1:"NOT")_" MARKED AS MATCH-0 PAYMENT" D ^DIR K DIR
"RTN","RCDPEM2",358,0)
M3Q Q
"RTN","RCDPEM2",359,0)
 ;
"RTN","RCDPEM2",360,0)
UNMATCH ; Used to 'unmatch' an ERA matched in error
"RTN","RCDPEM2",361,0)
 N X,Y,DIR,DIC,DIE,DIK,DA,DR,RCWL,RCEFT,RCQUIT
"RTN","RCDPEM2",362,0)
 S DIC(0)="AEMQ",DIC="^RCY(344.4,",DIC("S")="I '$P(^(0),U,8),$S('$P(^(0),U,14):1,1:$P(^(0),U,9)=3),$P(^(0),U,9)" D ^DIC K DIC
"RTN","RCDPEM2",363,0)
 Q:Y'>0
"RTN","RCDPEM2",364,0)
 S RCWL=+Y,RCQUIT=0
"RTN","RCDPEM2",365,0)
 I $D(^RCY(344.49,RCWL,0)) D  Q:RCQUIT
"RTN","RCDPEM2",366,0)
 . S DIR(0)="YA",DIR("A",1)="THIS ERA ALREADY HAS A WORKLIST ENTRY AND MUST BE DELETED BEFORE IT CAN BE UNMATCHED",DIR("A")="DO YOU WANT TO DELETE THE WORKLIST ENTRY FOR THIS ERA NOW? "
"RTN","RCDPEM2",367,0)
 . W ! D ^DIR K DIR
"RTN","RCDPEM2",368,0)
 . I Y'=1 S RCQUIT=1 Q
"RTN","RCDPEM2",369,0)
 . S DIK="^RCY(344.49,",DA=RCWL D ^DIK
"RTN","RCDPEM2",370,0)
 I $O(^RCY(344.31,"AERA",RCWL,0)) S RCEFT=+$O(^(0)) D  Q:RCQUIT
"RTN","RCDPEM2",371,0)
 . S DIR("A",1)="THIS ERA IS MATCHED TO EFT #"_RCEFT,DIR("A")="ARE YOU SURE YOU WANT TO UNMATCH THEM? ",DIR(0)="YA"
"RTN","RCDPEM2",372,0)
 . W ! D ^DIR K DIR
"RTN","RCDPEM2",373,0)
 . I Y'=1 S RCQUIT=1 Q
"RTN","RCDPEM2",374,0)
 . S DIE="^RCY(344.31,",DR=".1///@;.08////0",DA=RCEFT D ^DIE
"RTN","RCDPEM2",375,0)
 . W !,"EFT #"_RCEFT_" IS NOW UNMATCHED",!
"RTN","RCDPEM2",376,0)
 S DIE="^RCY(344.4,",DR=".09////0;.13///@;.14////0",DA=RCWL D ^DIE
"RTN","RCDPEM2",377,0)
 S DIR("A")="ERA HAS BEEN SUCCESSFULLY UNMATCHED - Press ENTER to continue: "
"RTN","RCDPEM2",378,0)
 S DIR(0)="EA" W ! D ^DIR K DIR
"RTN","RCDPEM2",379,0)
 Q
"RTN","RCDPEM2",380,0)
 ;
"RTN","RCDPEM2",381,0)
 ;
"RTN","RCDPEM2",382,0)
 ; PRCA*4.5*284 - Changed option name from 'Mark ERA Return to Payer' to 'Remove ERA from Active Worklist'
"RTN","RCDPEM2",383,0)
RETN ; Entrypoint for Remove ERA from Active Worklist
"RTN","RCDPEM2",384,0)
 N DIR,X,Y,DTOUT,DUOUT,DIC,RCY,DIE,DA,DR,MSG,%
"RTN","RCDPEM2",385,0)
 D OWNSKEY^XUSRB(.MSG,"RCDPE MARK ERA",DUZ)
"RTN","RCDPEM2",386,0)
 I 'MSG(0) W !!,"SORRY, YOU ARE NOT AUTHORIZED TO USE THIS OPTION",!,"This option is locked with RCDPE MARK ERA key.",! S DIR(0)="E" D ^DIR K DIR Q
"RTN","RCDPEM2",387,0)
 ; PRCA*4.5*284 - Changed description
"RTN","RCDPEM2",388,0)
 W !!,"Use this option to remove an ERA from the EEOB Worklist that should not have"
"RTN","RCDPEM2",389,0)
 W !,"been sent to your site by the payer; or the ERA cannot be removed off the"
"RTN","RCDPEM2",390,0)
 W !,"Worklist using the 'Update ERA Posted Using Paper EOB' option."
"RTN","RCDPEM2",391,0)
 W !!,"This option is only to be used if the paper check has been sent back to the"
"RTN","RCDPEM2",392,0)
 W !,"payer without being deposited.  Once removed, the ERA can no longer be"
"RTN","RCDPEM2",393,0)
 W !,"accessed for processing, but can be viewed under the posted Worklist. For"
"RTN","RCDPEM2",394,0)
 W !,"auditing purposes, this option requires the user to enter a reason for"
"RTN","RCDPEM2",395,0)
 W !,"removing the ERA.",!
"RTN","RCDPEM2",396,0)
 S DIC="^RCY(344.4,",DIC(0)="AEMQ",DIC("S")="I '$P(^(0),U,9),'$P(^(0),U,14)" D ^DIC K DIC
"RTN","RCDPEM2",397,0)
 Q:Y'>0
"RTN","RCDPEM2",398,0)
 S RCY=+Y
"RTN","RCDPEM2",399,0)
 S DIR(0)="YA",DIR("A",1)="THIS WILL REMOVE THE ERA # "_+Y_" FROM THE ACTIVE WORKLIST",DIR("A")="ARE YOU SURE YOU WANT TO CONTINUE? " W ! D ^DIR K DIR
"RTN","RCDPEM2",400,0)
 W !
"RTN","RCDPEM2",401,0)
 I $D(DUOUT)!$D(DTOUT)!(Y=0) D NOCHNG Q
"RTN","RCDPEM2",402,0)
 S DIE="^RCY(344.4,",DA=RCY,DR=".18" D ^DIE
"RTN","RCDPEM2",403,0)
 I $D(Y) D NOCHNG Q
"RTN","RCDPEM2",404,0)
 ; PRCA*4.5*284 Set EFT MATCH STATUS (#344.4,.09) as '4' FOR REMOVED rather than '2' FOR MATCHED TO PAPER CHECK
"RTN","RCDPEM2",405,0)
 D NOW^%DTC S DR=".14////4;.09////4;.16////"_DUZ_";.17////"_% D ^DIE
"RTN","RCDPEM2",406,0)
 S DIR(0)="EA",DIR("A")="Press ENTER to continue: "
"RTN","RCDPEM2",407,0)
 W ! D ^DIR
"RTN","RCDPEM2",408,0)
 Q
"RTN","RCDPEM2",409,0)
 ;
"RTN","RCDPEM2",410,0)
NOCHNG ;
"RTN","RCDPEM2",411,0)
 N DIR,X,Y,DTOUT,DUOUT
"RTN","RCDPEM2",412,0)
 D EN^DDIOL("NO CHANGES HAVE BEEN MADE.","","!")
"RTN","RCDPEM2",413,0)
 S DIR(0)="EA",DIR("A")="Press ENTER to continue: "
"RTN","RCDPEM2",414,0)
 W !! D ^DIR
"RTN","RCDPEM2",415,0)
 Q
"RTN","RCDPEM7")
0^28^B82538875
"RTN","RCDPEM7",1,0)
RCDPEM7 ;OIFO-BAYPINES/PJH - OVERDUE EFT AND ERA BULLETINS ;Jun 06, 2014@19:11:19
"RTN","RCDPEM7",2,0)
 ;;4.5;Accounts Receivable;**276,298,303**;Mar 20, 1995;Build 84
"RTN","RCDPEM7",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPEM7",4,0)
 ;
"RTN","RCDPEM7",5,0)
EN ; Main entry point for overdue EFT/ERA bulletins
"RTN","RCDPEM7",6,0)
 ;
"RTN","RCDPEM7",7,0)
 N TODAY,ERACNT,ERATOT,ERA1CNT,ERA2CNT,ERA1TOT,ERA2TOT,EFTCNT,EFTTOT,RCPROG,RCSUSCNT,RCSUSAMT,RCMXDYS
"RTN","RCDPEM7",8,0)
 ;Clear workfiles
"RTN","RCDPEM7",9,0)
 S RCPROG="RCDPEM7" K ^TMP(RCPROG,$J)
"RTN","RCDPEM7",10,0)
 ;Set counters and totals
"RTN","RCDPEM7",11,0)
 S (EFTCNT,ERACNT,ERA1CNT,ERA2CNT,EFTTOT,ERATOT,ERA1TOT,ERA2TOT,RCSUSCNT,RCSUSAMT)=0
"RTN","RCDPEM7",12,0)
 ;Cuttoff of 12:00 am today
"RTN","RCDPEM7",13,0)
 S TODAY=$P($$NOW^XLFDT,".")
"RTN","RCDPEM7",14,0)
 ;
"RTN","RCDPEM7",15,0)
 ;Retrieve the max days allowed in suspense parameter
"RTN","RCDPEM7",16,0)
 S RCMXDYS=$$GET1^DIQ(342,"1,",7.04)
"RTN","RCDPEM7",17,0)
 ;
"RTN","RCDPEM7",18,0)
 ;Scan for overdue ERA and unposted ERA
"RTN","RCDPEM7",19,0)
 D ERASCAN
"RTN","RCDPEM7",20,0)
 ;Scan for overdue EFT
"RTN","RCDPEM7",21,0)
 D EFTSCAN
"RTN","RCDPEM7",22,0)
 ;Bulletins
"RTN","RCDPEM7",23,0)
 D BULLETIN
"RTN","RCDPEM7",24,0)
 ;Clear workfiles
"RTN","RCDPEM7",25,0)
 K ^TMP(RCPROG,$J)
"RTN","RCDPEM7",26,0)
 Q
"RTN","RCDPEM7",27,0)
 ;
"RTN","RCDPEM7",28,0)
ERASCAN ;Scan ERA
"RTN","RCDPEM7",29,0)
 N AMT,ERAIEN,REC0,SUB,STATUS,FDATE,PNAME
"RTN","RCDPEM7",30,0)
 ;Scan for unmatched ERA
"RTN","RCDPEM7",31,0)
 S ERAIEN=0,STATUS=0,SUB="ERA"
"RTN","RCDPEM7",32,0)
 F  S ERAIEN=$O(^RCY(344.4,"AMATCH",STATUS,ERAIEN)) Q:'ERAIEN  D
"RTN","RCDPEM7",33,0)
 .S REC0=$G(^RCY(344.4,ERAIEN,0))
"RTN","RCDPEM7",34,0)
 .;Get ERA file date/time
"RTN","RCDPEM7",35,0)
 .S FDATE=$P(REC0,U,7) Q:'FDATE
"RTN","RCDPEM7",36,0)
 .;Ignore if <31 days overdue
"RTN","RCDPEM7",37,0)
 .Q:$$FMDIFF^XLFDT(TODAY,FDATE,1)<31
"RTN","RCDPEM7",38,0)
 .;Trace, Payer Name and Amount
"RTN","RCDPEM7",39,0)
 .S PNAME=$P(REC0,U,6),AMT=$P(REC0,U,5)
"RTN","RCDPEM7",40,0)
 .I $L(PNAME)>35 S PNAME=$E(PNAME,1,35) ; limit size of the name
"RTN","RCDPEM7",41,0)
 .;Update count and totals
"RTN","RCDPEM7",42,0)
 .S ERACNT=ERACNT+1,ERATOT=ERATOT+AMT
"RTN","RCDPEM7",43,0)
 . ; PRCA*4.5*303 added the FDATE subscript to the global so that the line
"RTN","RCDPEM7",44,0)
 . ; items collate in date ascending order.
"RTN","RCDPEM7",45,0)
 . ;Save ERA#, Payer Name, File Date and Amount Paid
"RTN","RCDPEM7",46,0)
 .S ^TMP(RCPROG,$J,"ERA",FDATE,ERACNT)=$$ERAL(ERAIEN,PNAME,FDATE,AMT)
"RTN","RCDPEM7",47,0)
 ;
"RTN","RCDPEM7",48,0)
 ;Scan for Matched/Unposted ERA
"RTN","RCDPEM7",49,0)
 S SUB="ERA1"
"RTN","RCDPEM7",50,0)
 F STATUS=-1,1,2,3 D
"RTN","RCDPEM7",51,0)
 . S ERAIEN=0 F  S ERAIEN=$O(^RCY(344.4,"AMATCH",STATUS,ERAIEN)) Q:'ERAIEN  D
"RTN","RCDPEM7",52,0)
 .. S REC0=$G(^RCY(344.4,ERAIEN,0))
"RTN","RCDPEM7",53,0)
 .. ;Get ERA file date/time
"RTN","RCDPEM7",54,0)
 .. S FDATE=$P(REC0,U,7) Q:'FDATE
"RTN","RCDPEM7",55,0)
 .. ;Ignore if <31 days overdue
"RTN","RCDPEM7",56,0)
 .. Q:$$FMDIFF^XLFDT(TODAY,FDATE,1)<31
"RTN","RCDPEM7",57,0)
 .. ;Ignore if not unposted posted
"RTN","RCDPEM7",58,0)
 .. Q:$P($G(^RCY(344.4,ERAIEN,0)),U,14)>0
"RTN","RCDPEM7",59,0)
 .. ;Payer Name and Amount
"RTN","RCDPEM7",60,0)
 .. S PNAME=$P(REC0,U,6),AMT=$P(REC0,U,5)
"RTN","RCDPEM7",61,0)
 .. I $L(PNAME)>35 S PNAME=$E(PNAME,1,35) ; limit size of the name
"RTN","RCDPEM7",62,0)
 .. ; PRCA*4.5*303 Split into "ACH" and not "ACH"
"RTN","RCDPEM7",63,0)
 .. ;Update count and totals
"RTN","RCDPEM7",64,0)
 .. S:$P(REC0,U,15)="ACH" ERA1CNT=ERA1CNT+1,ERA1TOT=ERA1TOT+AMT
"RTN","RCDPEM7",65,0)
 .. S:$P(REC0,U,15)'="ACH" ERA2CNT=ERA2CNT+1,ERA2TOT=ERA2TOT+AMT
"RTN","RCDPEM7",66,0)
 .. ;PRCA*4.5*303 added the FDATE subscript to the global so that the line
"RTN","RCDPEM7",67,0)
 .. ;items collate in date ascending order.
"RTN","RCDPEM7",68,0)
 .. ;Save ERA#, Payer Name, File Date and Amount Paid
"RTN","RCDPEM7",69,0)
 .. S:$P(REC0,U,15)="ACH" ^TMP(RCPROG,$J,"ERA1",FDATE,ERA1CNT)=$$ERAL(ERAIEN,PNAME,FDATE,AMT)
"RTN","RCDPEM7",70,0)
 .. S:$P(REC0,U,15)'="ACH" ^TMP(RCPROG,$J,"ERA2",FDATE,ERA2CNT)=$$ERAL(ERAIEN,PNAME,FDATE,AMT)
"RTN","RCDPEM7",71,0)
 .. Q
"RTN","RCDPEM7",72,0)
 . Q
"RTN","RCDPEM7",73,0)
 Q
"RTN","RCDPEM7",74,0)
 ;
"RTN","RCDPEM7",75,0)
EFTSCAN ;Scan EFT
"RTN","RCDPEM7",76,0)
 N DEPN,EFTIEN,IEN3443,EFTDATE,TRACE,REC0,REC31,REC4,STATUS,PAYER,DEPAMT
"RTN","RCDPEM7",77,0)
 ;Scan for unmatched EFT
"RTN","RCDPEM7",78,0)
 S EFTIEN=0,STATUS=0
"RTN","RCDPEM7",79,0)
 ; PRCA*4.5*303 Check all statuses report on unmatched EFTs, Matched EFTs with unposted ERAs
"RTN","RCDPEM7",80,0)
 ; 4-7-2016 Removed F STATUS=-1,0,1 per issue identifying duplicate EFTs this will need to be
"RTN","RCDPEM7",81,0)
 ; addressed in another project
"RTN","RCDPEM7",82,0)
 S STATUS=0 F  S EFTIEN=$O(^RCY(344.31,"AMATCH",STATUS,EFTIEN)) Q:'EFTIEN  D
"RTN","RCDPEM7",83,0)
 .S REC31=$G(^RCY(344.31,EFTIEN,0))
"RTN","RCDPEM7",84,0)
 .;PRCA*4.5*303 Get zero node of the associated ERA if matched
"RTN","RCDPEM7",85,0)
 .S REC4=$S($P(REC31,U,10)'="":$G(^RCY(344.4,$P(REC31,U,10),0)),1:"")
"RTN","RCDPEM7",86,0)
 .;Get pointer to EFT file
"RTN","RCDPEM7",87,0)
 .S IEN3443=$P(REC31,U) Q:'IEN3443
"RTN","RCDPEM7",88,0)
 .S REC0=$G(^RCY(344.3,IEN3443,0))
"RTN","RCDPEM7",89,0)
 .;Get EFT file date
"RTN","RCDPEM7",90,0)
 .S EFTDATE=$P(REC0,U,2) Q:'EFTDATE
"RTN","RCDPEM7",91,0)
 .;Ignore if <15 days overdue
"RTN","RCDPEM7",92,0)
 .Q:$$FMDIFF^XLFDT(TODAY,EFTDATE,1)<15
"RTN","RCDPEM7",93,0)
 .;PRCA*4.5*303 - if we have a ERA check to see if we include this record or quit
"RTN","RCDPEM7",94,0)
 .I REC4'="" Q:$P(REC4,U,14)'=0  ; Not posted status is 0 - everything else is ignored
"RTN","RCDPEM7",95,0)
 .;Deposit number and payment amount
"RTN","RCDPEM7",96,0)
 .S DEPN=$P(REC0,U,6),DEPAMT=$P(REC31,U,7)
"RTN","RCDPEM7",97,0)
 .;Payer ID and Trace from EFT detail file
"RTN","RCDPEM7",98,0)
 .S PAYER=$P(REC31,U,2),TRACE=$P(REC31,U,4) S:PAYER="" PAYER="NO PAYER NAME RECEIVED" ; PRCA*4.5*298
"RTN","RCDPEM7",99,0)
 .;If payer and trace combined are >40 truncate payer name first
"RTN","RCDPEM7",100,0)
 .I $L(PAYER_TRACE)>40 D
"RTN","RCDPEM7",101,0)
 ..I $L(PAYER)>20 S PAYER=$E(PAYER,1,20) ; limit size of the name
"RTN","RCDPEM7",102,0)
 ..Q:$L(PAYER_TRACE)<41
"RTN","RCDPEM7",103,0)
 ..S TRACE=$E(TRACE,1,20) ; limit size of the trace
"RTN","RCDPEM7",104,0)
 .;Update count and totals
"RTN","RCDPEM7",105,0)
 .S EFTCNT=EFTCNT+1,EFTTOT=EFTTOT+DEPAMT
"RTN","RCDPEM7",106,0)
 .; PRCA*4.5*303 added EFTDATE to the subscripts before EFTCNT so report will sort in
"RTN","RCDPEM7",107,0)
 .; date ascending order.
"RTN","RCDPEM7",108,0)
 .;Save Deposit No, Receipt, Payer ID, EFT Date and Deposit Amount
"RTN","RCDPEM7",109,0)
 .S ^TMP(RCPROG,$J,"EFT",EFTDATE,EFTCNT)=$$EFTL(DEPN,TRACE,PAYER,EFTDATE,DEPAMT)
"RTN","RCDPEM7",110,0)
 Q
"RTN","RCDPEM7",111,0)
 ;
"RTN","RCDPEM7",112,0)
BULLETIN ;Create bulletins only if overdue EFT/ERA found
"RTN","RCDPEM7",113,0)
 ;
"RTN","RCDPEM7",114,0)
 N ARRAY,SBJ,SUB,CNT,CNT1,RCPROG1,GLB,RCMXDYS,IDX
"RTN","RCDPEM7",115,0)
 S RCPROG1="RCDPEM7A",GLB=$NA(^TMP(RCPROG1,$J,"XMTEXT"))
"RTN","RCDPEM7",116,0)
 ;
"RTN","RCDPEM7",117,0)
 ;Unmatched ERA bulletins
"RTN","RCDPEM7",118,0)
 I ERACNT D
"RTN","RCDPEM7",119,0)
 .;Build header
"RTN","RCDPEM7",120,0)
 .S SUB="ERA" K @GLB
"RTN","RCDPEM7",121,0)
 .S SBJ="EDI LBOX-STA# "_$P($$SITE^VASITE,"^",3)_"-ACTION REQ-Unmatched ERAs > 30 days"
"RTN","RCDPEM7",122,0)
 .S @GLB@(1)="The listed ERAs were received more than 30 days ago and have not yet been"
"RTN","RCDPEM7",123,0)
 .S @GLB@(2)="matched."
"RTN","RCDPEM7",124,0)
 .S @GLB@(3)=" "
"RTN","RCDPEM7",125,0)
 .S @GLB@(4)="Total # of ERAs - "_ERACNT
"RTN","RCDPEM7",126,0)
 .S @GLB@(5)="Total Dollar Amount - "_"$"_$FN(ERATOT,",",2)
"RTN","RCDPEM7",127,0)
 .S @GLB@(6)=" "
"RTN","RCDPEM7",128,0)
 .S @GLB@(7)="ERA#        PAYER NAME                                FILE DATE    AMOUNT PAID"
"RTN","RCDPEM7",129,0)
 .;
"RTN","RCDPEM7",130,0)
 .;Move unmatched ERA search findings into message
"RTN","RCDPEM7",131,0)
 .S CNT=0,CNT1=8,SUB="ERA"
"RTN","RCDPEM7",132,0)
 .S IDX="" F  S IDX=$O(^TMP(RCPROG,$J,SUB,IDX)) Q:'IDX  F  S CNT=$O(^TMP(RCPROG,$J,SUB,IDX,CNT)) Q:'CNT  D
"RTN","RCDPEM7",133,0)
 ..S CNT1=CNT1+1,@GLB@(CNT1)=^TMP(RCPROG,$J,SUB,IDX,CNT)
"RTN","RCDPEM7",134,0)
 .S @GLB@(CNT1+1)="** END OF REPORT **"
"RTN","RCDPEM7",135,0)
 .D SEND
"RTN","RCDPEM7",136,0)
 .K @GLB
"RTN","RCDPEM7",137,0)
 ;
"RTN","RCDPEM7",138,0)
 ;Unposted "ACH" ERA bulletins
"RTN","RCDPEM7",139,0)
 ; PRCA*4.5*303 - modified this bulletin to show only "ACH" expected payments
"RTN","RCDPEM7",140,0)
 I ERA1CNT D
"RTN","RCDPEM7",141,0)
 .;Build header
"RTN","RCDPEM7",142,0)
 .S SUB="ERA1" K @GLB
"RTN","RCDPEM7",143,0)
 .; PRCA*4.5*303 - Changed SBJ to make sure it was less than 65 characters
"RTN","RCDPEM7",144,0)
 .S SBJ="EDI LBOX-STA# "_$P($$SITE^VASITE,"^",3)_"-ACTION REQ-EFT:Matched/Not Posted ERA>30 days"
"RTN","RCDPEM7",145,0)
 .S @GLB@(1)="The listed ERAs were received more than 30 days ago and have been matched but"
"RTN","RCDPEM7",146,0)
 .S @GLB@(2)="have not been posted"
"RTN","RCDPEM7",147,0)
 .S @GLB@(3)=" "
"RTN","RCDPEM7",148,0)
 .S @GLB@(4)="Total # of ERAs - ""MATCHED TO EFT"" - "_ERA1CNT
"RTN","RCDPEM7",149,0)
 .S @GLB@(5)="Total Dollar Amount - "_"$"_$FN(ERA1TOT,",",2)
"RTN","RCDPEM7",150,0)
 .S @GLB@(6)=" "
"RTN","RCDPEM7",151,0)
 .S @GLB@(7)="ERA#        PAYER NAME                                FILE DATE    AMOUNT PAID"
"RTN","RCDPEM7",152,0)
 .;
"RTN","RCDPEM7",153,0)
 .;Move unposted ERA search findings into message
"RTN","RCDPEM7",154,0)
 .S CNT=0,CNT1=8,IDX=""
"RTN","RCDPEM7",155,0)
 .F  S IDX=$O(^TMP(RCPROG,$J,SUB,IDX)) Q:'IDX  F  S CNT=$O(^TMP(RCPROG,$J,SUB,IDX,CNT)) Q:'CNT  D
"RTN","RCDPEM7",156,0)
 ..S CNT1=CNT1+1
"RTN","RCDPEM7",157,0)
 ..S @GLB@(CNT1)=^TMP(RCPROG,$J,SUB,IDX,CNT)
"RTN","RCDPEM7",158,0)
 .S @GLB@(CNT1+1)="** END OF REPORT **"
"RTN","RCDPEM7",159,0)
 .D SEND
"RTN","RCDPEM7",160,0)
 .K @GLB
"RTN","RCDPEM7",161,0)
 ;
"RTN","RCDPEM7",162,0)
 ;Unposted "CHK" ERA bulletins or ERAs, that don't match "ACH"
"RTN","RCDPEM7",163,0)
 ; PRCA*4.5*303 - modified this bulletin to show "CHK" expected payments (or don't match "ACH")
"RTN","RCDPEM7",164,0)
 I ERA2CNT D
"RTN","RCDPEM7",165,0)
 .;Build header
"RTN","RCDPEM7",166,0)
 .S SUB="ERA2" K @GLB
"RTN","RCDPEM7",167,0)
 .; PRCA*4.5*303 - Changed SBJ to make sure it was less than 65 characters
"RTN","RCDPEM7",168,0)
 .S SBJ="EDI LBOX-STA# "_$P($$SITE^VASITE,"^",3)_"-ACTION REQ-PAPER:Matched/Not Posted ERA>30 days"
"RTN","RCDPEM7",169,0)
 .S @GLB@(1)="The listed ERAs were received more than 30 days ago and have been matched but"
"RTN","RCDPEM7",170,0)
 .S @GLB@(2)="have not been posted"
"RTN","RCDPEM7",171,0)
 .S @GLB@(3)=" "
"RTN","RCDPEM7",172,0)
 .S @GLB@(4)="Total # of ERAs - ""MATCHED TO PAPER CHECK"" - "_ERA2CNT
"RTN","RCDPEM7",173,0)
 .S @GLB@(5)="Total Dollar Amount - "_"$"_$FN(ERA2TOT,",",2)
"RTN","RCDPEM7",174,0)
 .S @GLB@(6)=" "
"RTN","RCDPEM7",175,0)
 .S @GLB@(7)="ERA#        PAYER NAME                                FILE DATE    AMOUNT PAID"
"RTN","RCDPEM7",176,0)
 .;
"RTN","RCDPEM7",177,0)
 .;Move unposted ERA search findings into message
"RTN","RCDPEM7",178,0)
 .S CNT=0,CNT1=8,IDX=""
"RTN","RCDPEM7",179,0)
 .F  S IDX=$O(^TMP(RCPROG,$J,SUB,IDX)) Q:'IDX  F  S CNT=$O(^TMP(RCPROG,$J,SUB,IDX,CNT)) Q:'CNT  D
"RTN","RCDPEM7",180,0)
 ..S CNT1=CNT1+1,@GLB@(CNT1)=^TMP(RCPROG,$J,SUB,IDX,CNT)
"RTN","RCDPEM7",181,0)
 .S @GLB@(CNT1+1)="** END OF REPORT **"
"RTN","RCDPEM7",182,0)
 .D SEND
"RTN","RCDPEM7",183,0)
 .K @GLB
"RTN","RCDPEM7",184,0)
 ;
"RTN","RCDPEM7",185,0)
 ;Unmatched EFT bulletins
"RTN","RCDPEM7",186,0)
 ; PRCA*4.5*303 - Changed logic to send "No EFTs more than 14 days..." message if no EFTs
"RTN","RCDPEM7",187,0)
 ;I EFTCNT D
"RTN","RCDPEM7",188,0)
 ;Build header
"RTN","RCDPEM7",189,0)
 S SUB="EFT" K @GLB
"RTN","RCDPEM7",190,0)
 S SBJ="EDI LBOX-STA# "_$P($$SITE^VASITE,"^",3)_"-ACTION REQ-EFTs > 14 days"
"RTN","RCDPEM7",191,0)
 I EFTCNT=0 D  G B1
"RTN","RCDPEM7",192,0)
 . S @GLB@(1)="**** There are NO EFTs more than 14 days old that have not yet been matched."
"RTN","RCDPEM7",193,0)
 . S @GLB@(2)=" "
"RTN","RCDPEM7",194,0)
 . S @GLB@(3)="Total # of EFTs - "_EFTCNT
"RTN","RCDPEM7",195,0)
 . S @GLB@(4)="Total Dollar Amount - $"_$FN(0,",",2)
"RTN","RCDPEM7",196,0)
 . S @GLB@(5)=" "
"RTN","RCDPEM7",197,0)
 . S @GLB@(6)="** END OF REPORT **"
"RTN","RCDPEM7",198,0)
 ;
"RTN","RCDPEM7",199,0)
 I EFTCNT>0 D
"RTN","RCDPEM7",200,0)
 .S @GLB@(1)="The following EFTs were received more than 14 days ago and have not yet"
"RTN","RCDPEM7",201,0)
 .S @GLB@(2)="been matched."
"RTN","RCDPEM7",202,0)
 .S @GLB@(3)=" "
"RTN","RCDPEM7",203,0)
 .S @GLB@(4)="Total # of EFTs - "_EFTCNT
"RTN","RCDPEM7",204,0)
 .S @GLB@(5)="Total Dollar Amount - "_"$"_$FN(EFTTOT,",",2)
"RTN","RCDPEM7",205,0)
 .S @GLB@(6)=" "
"RTN","RCDPEM7",206,0)
 .S @GLB@(7)="DEPOSIT#   PAYER NAME/TRACE#                         EFT DATE    DEPOSIT AMT"
"RTN","RCDPEM7",207,0)
 .;
"RTN","RCDPEM7",208,0)
 .;Move EFT search findings into message
"RTN","RCDPEM7",209,0)
 .S CNT=0,CNT1=8,SUB="EFT",IDX=""
"RTN","RCDPEM7",210,0)
 .F  S IDX=$O(^TMP(RCPROG,$J,SUB,IDX)) Q:'IDX  F  S CNT=$O(^TMP(RCPROG,$J,SUB,IDX,CNT)) Q:'CNT  D
"RTN","RCDPEM7",211,0)
 ..S CNT1=CNT1+1,@GLB@(CNT1)=^TMP(RCPROG,$J,SUB,IDX,CNT)
"RTN","RCDPEM7",212,0)
 .S @GLB@(CNT1+1)="** END OF REPORT **"
"RTN","RCDPEM7",213,0)
B1 ;
"RTN","RCDPEM7",214,0)
 D SEND
"RTN","RCDPEM7",215,0)
 K @GLB
"RTN","RCDPEM7",216,0)
 ;
"RTN","RCDPEM7",217,0)
 Q
"RTN","RCDPEM7",218,0)
 ;
"RTN","RCDPEM7",219,0)
SEND ;Transmit mail message
"RTN","RCDPEM7",220,0)
 N XMDUZ,XMTEXT,XMSUB,XMY,XMINSTR
"RTN","RCDPEM7",221,0)
 S XMDUZ=DUZ,XMTEXT=GLB,XMSUB=SBJ,XMY("I:G.RCDPE AUDIT")=""
"RTN","RCDPEM7",222,0)
 S XMINSTR("FROM")="POSTMASTER"
"RTN","RCDPEM7",223,0)
 S XMINSTR("FLAGS")="P"
"RTN","RCDPEM7",224,0)
 D SENDMSG^XMXAPI(XMDUZ,XMSUB,XMTEXT,.XMY,.XMINSTR)
"RTN","RCDPEM7",225,0)
 Q
"RTN","RCDPEM7",226,0)
 ;
"RTN","RCDPEM7",227,0)
ERAL(X1,X2,X3,X4) ;Format ERA Message line
"RTN","RCDPEM7",228,0)
 N SPACE
"RTN","RCDPEM7",229,0)
 S SPACE=$J("",80)
"RTN","RCDPEM7",230,0)
 S X1=X1_$E(SPACE,1,12-$L(X1))
"RTN","RCDPEM7",231,0)
 S X2=X1_$E(X2,1,43)_$E(SPACE,1,43-$L(X2))
"RTN","RCDPEM7",232,0)
 S X3=$$FMTE^XLFDT(X3,"2D")
"RTN","RCDPEM7",233,0)
 S X4="$"_$FN(X4,",",2)
"RTN","RCDPEM7",234,0)
 Q X2_$J(X3,8)_$J(X4,15)
"RTN","RCDPEM7",235,0)
 ;
"RTN","RCDPEM7",236,0)
EFTL(X1,X2,X3,X4,X5) ;Format EFT Message line
"RTN","RCDPEM7",237,0)
 N SPACE
"RTN","RCDPEM7",238,0)
 S SPACE=$J("",80)
"RTN","RCDPEM7",239,0)
 S X1=X1_$E(SPACE,1,10-$L(X1))_" "
"RTN","RCDPEM7",240,0)
 S X2=X3_"/"_X2 ;Payer and Trace
"RTN","RCDPEM7",241,0)
 S X2=X1_$E(X2,1,41)_$E(SPACE,1,42-$L(X2))
"RTN","RCDPEM7",242,0)
 S X4=$$FMTE^XLFDT(X4,"2D")
"RTN","RCDPEM7",243,0)
 S X5="$"_$FN(X5,",",2)
"RTN","RCDPEM7",244,0)
 Q X2_$J(X4,8)_$J(X5,15)
"RTN","RCDPEMSG")
0^7^B52639080
"RTN","RCDPEMSG",1,0)
RCDPEMSG ;ALB/TMK - Server interface to CARC/RARC data from Austin ;01/20/15
"RTN","RCDPEMSG",2,0)
 ;;4.5;Accounts Receivable;**303**;Mar 20, 1995;Build 84
"RTN","RCDPEMSG",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPEMSG",4,0)
 ;
"RTN","RCDPEMSG",5,0)
 ; Mailman IA 2729
"RTN","RCDPEMSG",6,0)
 ; IA 594 - ACCOUNTS RECEIVABLE CATEGORY file (#430.2)
"RTN","RCDPEMSG",7,0)
 ; IA 1992 - BILL/CLAIMS file (#399)
"RTN","RCDPEMSG",8,0)
 ; IA 3822 - RATE TYPE file (#399.3)
"RTN","RCDPEMSG",9,0)
 ; IA 4051 - EXPLANATION OF BENEFITS file (#361.1)
"RTN","RCDPEMSG",10,0)
 ; IA 2736 - Mailman
"RTN","RCDPEMSG",11,0)
 ;
"RTN","RCDPEMSG",12,0)
SERV ; Entry point for server option to process CARC RARC messages received
"RTN","RCDPEMSG",13,0)
 ; from Austin. Activated by the option S.RCDPE EDI CARC-RARC SERVER which 
"RTN","RCDPEMSG",14,0)
 ; is subscribed to the group G.CARC_RARC_DATA
"RTN","RCDPEMSG",15,0)
 ;
"RTN","RCDPEMSG",16,0)
 N RCEFLG,RCERR,XMER,RCXMZ,RCTYPE,RCERR
"RTN","RCDPEMSG",17,0)
 K ^TMP("RC_CARC_RARC",$J)
"RTN","RCDPEMSG",18,0)
 S ^TMP("RC_CARC_RARC",$J,"000")="STARTED-01 "_$G(XMZ)
"RTN","RCDPEMSG",19,0)
 S RCXMZ=$G(XMZ)
"RTN","RCDPEMSG",20,0)
 ; Read and process the message
"RTN","RCDPEMSG",21,0)
 S RCEFLG=$$MSG(RCXMZ,.RCERR)
"RTN","RCDPEMSG",22,0)
 D:$G(RCEFLG) EMSG(.RCERR,"G.RCDPE PAYMENTS EXCEPTIONS",RCXMZ)
"RTN","RCDPEMSG",23,0)
 ; Remove mail message that has just been processed
"RTN","RCDPEMSG",24,0)
 ;D ZAPSERV^XMXAPI("S.RCDPE EDI CARC-RARC SERVER",RCXMZ)
"RTN","RCDPEMSG",25,0)
 ;
"RTN","RCDPEMSG",26,0)
 S ^TMP("RC_CARC_RARC",$J,"001")="FINISHED"
"RTN","RCDPEMSG",27,0)
 ;
"RTN","RCDPEMSG",28,0)
 K ^TMP("RC_CARC_RARC",$J)
"RTN","RCDPEMSG",29,0)
 ;
"RTN","RCDPEMSG",30,0)
 Q
"RTN","RCDPEMSG",31,0)
 ;
"RTN","RCDPEMSG",32,0)
MSG(RCXMZ,RCERR) ; Read/Store message lines
"RTN","RCDPEMSG",33,0)
 ; RCERR = array to hold errors
"RTN","RCDPEMSG",34,0)
 ; RCXMZ = Mailman message number to be processed
"RTN","RCDPEMSG",35,0)
 ; 
"RTN","RCDPEMSG",36,0)
 ; OUTPUT: 0 = No Errors ; 1 = Errors - details in RCERR
"RTN","RCDPEMSG",37,0)
 N RCTYP1,RCDATE,RCHD,RCTXN,XMDUZ,RCGBL,RCD,RCFLG,RCCT,RCDXM,X,Y
"RTN","RCDPEMSG",38,0)
 N TYPE,CODE,START,MOD,STOP,D0,D1,P1,INREC,DOIT
"RTN","RCDPEMSG",39,0)
 S RCFLG=0,INREC=0,RCCT=0,DOIT=1
"RTN","RCDPEMSG",40,0)
 S (TYPE,CODE,START,MOD,STOP,D0,D1)=""
"RTN","RCDPEMSG",41,0)
 ; Read message, line from mail message is in XMRG variable?
"RTN","RCDPEMSG",42,0)
 F  X XMREC Q:XMER<0  S RCCT=RCCT+1,^TMP("RC_CARC_RARC",$J,"MSG",RCCT)=XMRG D
"RTN","RCDPEMSG",43,0)
 . S P1=$P(XMRG,U,1)
"RTN","RCDPEMSG",44,0)
 . ;If INREC=0 we are between records, skip anything before/in-between/after data records, get next line
"RTN","RCDPEMSG",45,0)
 . ;if INREC=1 and P1 is not what we are expecting, then record the error and skip this record when we see the "ZZ" record terminator
"RTN","RCDPEMSG",46,0)
 . I (",ZZ,CD,01,02,03,99,")'[(","_P1_",") D:INREC=1 ERR("LINE: "_RCCT_" CODE: "_$G(CODE)_" |"_P1_"|",XMRG,.RCERR) S:INREC=1 DOIT=0 Q
"RTN","RCDPEMSG",47,0)
 . E  D
"RTN","RCDPEMSG",48,0)
 .. ; If in record and we get a "CD" (new record) or "99" (end of file) Report data error, get next line
"RTN","RCDPEMSG",49,0)
 .. I (INREC=1),((P1="CD")!(P1="99")) S X="LINE: "_RCCT_" CODE: "_$G(CODE)_" |"_P1_"|",Y="Out of order record in file message: "_RCXMZ D ERR(X,Y,.RCERR) Q
"RTN","RCDPEMSG",50,0)
 .. ; Can't use $CASE which works so, here is the ugly construct to do the same thing
"RTN","RCDPEMSG",51,0)
 .. D START(RCCT_" "_P1,XMRG):P1="CD",CODE(RCCT_" "_P1,XMRG):P1="01",DESC(RCCT_" "_P1,XMRG):P1="02",NOTE(RCCT_" "_P1,XMRG):P1="03",END(RCCT_" "_P1,XMRG):P1="ZZ",EOF(RCCT_" "_P1,XMRG):P1="99"
"RTN","RCDPEMSG",52,0)
 S:$D(RCERR)>0 RCFLG=1
"RTN","RCDPEMSG",53,0)
 Q RCFLG
"RTN","RCDPEMSG",54,0)
 ;
"RTN","RCDPEMSG",55,0)
ERR(F,LINE,ARR) ; Record a line error
"RTN","RCDPEMSG",56,0)
 N EINC
"RTN","RCDPEMSG",57,0)
 S ARR("ERROR")=$G(ARR("ERROR"))+1,EINC=ARR("ERROR"),ARR("ERROR",EINC)=F_"  DATA LINE: |"_LINE_"|"
"RTN","RCDPEMSG",58,0)
 S ^TMP("RC_CARC_RARC",$J,"00_ERROR",EINC,"MESSAGE_LINE")=F
"RTN","RCDPEMSG",59,0)
 S ^TMP("RC_CARC_RARC",$J,"00_ERROR",EINC,"DATA")=LINE
"RTN","RCDPEMSG",60,0)
 Q
"RTN","RCDPEMSG",61,0)
START(F,LINE) ; "CD" read, set type and indicate a record was entered
"RTN","RCDPEMSG",62,0)
 S TYPE=$P(LINE,U,2)
"RTN","RCDPEMSG",63,0)
 Q
"RTN","RCDPEMSG",64,0)
CODE(F,LINE) ; Process line beginning with "01"
"RTN","RCDPEMSG",65,0)
 S CODE=$P(LINE,U,5),START=$P(LINE,U,2),STOP=$P(LINE,U,3),MOD=$P(LINE,U,4),INREC=1
"RTN","RCDPEMSG",66,0)
 Q
"RTN","RCDPEMSG",67,0)
DESC(F,LINE) ; Process line beginning with "02"
"RTN","RCDPEMSG",68,0)
 S D0=$G(D0)_$P(LINE,U,2)
"RTN","RCDPEMSG",69,0)
 Q
"RTN","RCDPEMSG",70,0)
NOTE(F,LINE) ; Process line beginning with "03"
"RTN","RCDPEMSG",71,0)
 S D1=$G(D1)_$P(LINE,U,2)
"RTN","RCDPEMSG",72,0)
 Q
"RTN","RCDPEMSG",73,0)
END(F,LINE) ; Process record reached end of record indicator "ZZ"
"RTN","RCDPEMSG",74,0)
 ; File the entry
"RTN","RCDPEMSG",75,0)
 N IX,MISS,ZZ,FILE,DATA
"RTN","RCDPEMSG",76,0)
 ; If any of the required fields are missing file an error
"RTN","RCDPEMSG",77,0)
 I DOIT=0 S DOIT=1 G EQ ; Found error someplace skip this record and reset DOIT variable 
"RTN","RCDPEMSG",78,0)
 I ((TYPE'="CARC")&(TYPE'="RARC"))!(CODE="")!(START="")!(D0="") D  D ERR(F_MISS,LINE) I 1
"RTN","RCDPEMSG",79,0)
 . S MISS="Missing Required Data: " S:(TYPE'="CARC")&(TYPE'="RARC") MISS=MISS_" Type of Record: |"_TYPE_"|;"
"RTN","RCDPEMSG",80,0)
 . S:CODE="" MISS=MISS_" Code;" S:START="" MISS=MISS_" Start Date;" S:D0="" MISS=MISS_" Description;"
"RTN","RCDPEMSG",81,0)
 E  D
"RTN","RCDPEMSG",82,0)
 . S DATA=CODE_U_D0_U_START_U_MOD_U_STOP_U_D1
"RTN","RCDPEMSG",83,0)
 . ; TYPE should be either CARC or RARC
"RTN","RCDPEMSG",84,0)
 . S FILE=$S(TYPE="CARC":345,TYPE="RARC":346,1:0)
"RTN","RCDPEMSG",85,0)
 . ;See if this is an existing or new record IEN=0 (new) IEN>0 (existing) 
"RTN","RCDPEMSG",86,0)
 . S IEN=$$FIND1^DIC(FILE,"","BX",CODE,"","","RCERR")
"RTN","RCDPEMSG",87,0)
 . S ^TMP("RC_CARC_RARC",$J,TYPE)=$G(^TMP("RC_CARC_RARC",$J,TYPE))+1,IX=^(TYPE)
"RTN","RCDPEMSG",88,0)
 . S ^TMP("RC_CARC_RARC",$J,TYPE,IX)="IEN: "_IEN_" DATA: "_DATA
"RTN","RCDPEMSG",89,0)
 . D FILEIT(FILE,IEN,DATA)
"RTN","RCDPEMSG",90,0)
EQ ; End Quit 
"RTN","RCDPEMSG",91,0)
 S (CODE,START,MOD,STOP,D0,D1)="",INREC=0
"RTN","RCDPEMSG",92,0)
 Q
"RTN","RCDPEMSG",93,0)
 ;
"RTN","RCDPEMSG",94,0)
EOF(F,LINE) ; Reached end of File indicator
"RTN","RCDPEMSG",95,0)
 ; Check error array and see if we need to send an email.
"RTN","RCDPEMSG",96,0)
 Q
"RTN","RCDPEMSG",97,0)
 ;
"RTN","RCDPEMSG",98,0)
FILEIT(FILE,IEN,DATA) ; Add new record or update existing record
"RTN","RCDPEMSG",99,0)
 N I,CODE,DESC,START,STOP,NOTE,FDA,FDAIEN,ERR,RCZ,LMOD
"RTN","RCDPEMSG",100,0)
 S LMOD=$$NOW^XLFDT
"RTN","RCDPEMSG",101,0)
 S I=IEN
"RTN","RCDPEMSG",102,0)
 S CODE=$P(DATA,"^",1),DESC=$P(DATA,"^",2),START=$P(DATA,"^",3),MOD=$P(DATA,"^",4),STOP=$P(DATA,"^",5),NOTE=$P(DATA,"^",6)
"RTN","RCDPEMSG",103,0)
 S FDA(I,FILE,IEN_",",.01)=CODE
"RTN","RCDPEMSG",104,0)
 S FDA(I,FILE,IEN_",",1)=START
"RTN","RCDPEMSG",105,0)
 S:STOP'="" FDA(I,FILE,IEN_",",2)=STOP S:MOD'="" FDA(I,FILE,IEN_",",3)=MOD S:NOTE'="" FDA(I,FILE,IEN_",",5)=NOTE S FDA(I,FILE,IEN_",",6)=LMOD
"RTN","RCDPEMSG",106,0)
 ; If there is an IEN then update the existing record otherwise add a new record
"RTN","RCDPEMSG",107,0)
 I $G(IEN)>0 D FILE^DIE("E",$NA(FDA(I)),"ERR")
"RTN","RCDPEMSG",108,0)
 I $G(IEN)=0 D UPDATE^DIE("E",$NA(FDA(I)),"","ERR") S IEN=$$FIND1^DIC(FILE,"","BX",CODE,"","","ERR") ; Need IEN for WP field
"RTN","RCDPEMSG",109,0)
 I $D(ERR)>0 S RCZ=$S(IEN=0:"Adding",1:"Updating") D ERR("Error with "_RCZ_" Data","Code: "_CODE_" Processing did not complete correctly")
"RTN","RCDPEMSG",110,0)
 D WPINS(DESC,IEN,CODE)
"RTN","RCDPEMSG",111,0)
 K FDA(I),ERR
"RTN","RCDPEMSG",112,0)
 Q
"RTN","RCDPEMSG",113,0)
 ;
"RTN","RCDPEMSG",114,0)
WPINS(DATA,REC,CD) ; Insert data into word processing field
"RTN","RCDPEMSG",115,0)
 N DIWL,DIWR,DIWF,ERR,LGT,MID,NXT,RCZ
"RTN","RCDPEMSG",116,0)
 K ^UTILITY($J,"W") Set DIWL=1,DIWR=80,DIWF=""
"RTN","RCDPEMSG",117,0)
 ; Format Description field for insert to word processing field
"RTN","RCDPEMSG",118,0)
 ; if description length is less than 950 chars then insert it to the WP field
"RTN","RCDPEMSG",119,0)
 I $L(DATA)<950 S X=DATA,DIWL=1,DIWR=80,DIWF="" D ^DIWP
"RTN","RCDPEMSG",120,0)
 D:$L(DATA)>949  ; description of 950 characters or greater - split into 2 strings and insert to WP field
"RTN","RCDPEMSG",121,0)
 . S LGT=$L(DATA," "),MID=LGT\2,NXT=MID+1
"RTN","RCDPEMSG",122,0)
 . S X=$P(DATA," ",1,MID),DIWL=1,DIWR=80,DIWF="" D ^DIWP
"RTN","RCDPEMSG",123,0)
 . S X=$P(DATA," ",NXT,LGT) D ^DIWP
"RTN","RCDPEMSG",124,0)
 D WP^DIE(FILE,REC_",",4,"K",$NA(^UTILITY($J,"W",1)),"ERR")
"RTN","RCDPEMSG",125,0)
 I $D(ERR) D ERR("Error with CODE: "_CODE_"; "_$G(RCZ)_"Data","Record IEN: "_REC_" Wordprocessing field was not updated correctly")
"RTN","RCDPEMSG",126,0)
 Q
"RTN","RCDPEMSG",127,0)
 ;
"RTN","RCDPEMSG",128,0)
 ; Send error e-mail
"RTN","RCDPEMSG",129,0)
EMSG(RCERR,RCEMG,RCXMZ) ; Process Errors - Send bulletin to mail group
"RTN","RCDPEMSG",130,0)
 ; RCERR = Error text array
"RTN","RCDPEMSG",131,0)
 ; RCEMG = name of the mail group to which these errors should be sent
"RTN","RCDPEMSG",132,0)
 ; RCXMZ = internal entry # of the mailman msg with errors
"RTN","RCDPEMSG",133,0)
 N CT,XMDUZ,XMSUBJ,XMBODY,XMB,XMINSTR,XMTYPE,XMFULL,XMTO,RCXM,RCBODY,RCSUBJ,XMZ,XMERR,Z
"RTN","RCDPEMSG",134,0)
 ;
"RTN","RCDPEMSG",135,0)
 S CT=0
"RTN","RCDPEMSG",136,0)
 ;
"RTN","RCDPEMSG",137,0)
 ; Set the error text into RCBODY array to send to mailman
"RTN","RCDPEMSG",138,0)
 S RCSUBJ=$$ZSUBJ^XMXUTIL2(RCXMZ)
"RTN","RCDPEMSG",139,0)
 S Z=12,RCBODY(1)="ERRORS found processing CARC & RARC data file from FSC:"
"RTN","RCDPEMSG",140,0)
 S RCBODY(2)=""
"RTN","RCDPEMSG",141,0)
 S RCBODY(3)="The data record within the received message does NOT match the expected format"
"RTN","RCDPEMSG",142,0)
 S RCBODY(4)="for VistA to import. Please note that these CARC/RARC codes were NOT updated in"
"RTN","RCDPEMSG",143,0)
 S RCBODY(5)="VistA and should be retransmitted from the FSC when fixed."
"RTN","RCDPEMSG",144,0)
 S RCBODY(6)=""
"RTN","RCDPEMSG",145,0)
 S RCBODY(7)="Mailman Message: "_RCXMZ_" The subject of that message is:"
"RTN","RCDPEMSG",146,0)
 S RCBODY(8)="    "_RCSUBJ
"RTN","RCDPEMSG",147,0)
 S RCBODY(9)="This message will contain the full text. Line numbers should correspond to"
"RTN","RCDPEMSG",148,0)
 S RCBODY(10)="line number in the body of that message."
"RTN","RCDPEMSG",149,0)
 S RCBODY(11)=""
"RTN","RCDPEMSG",150,0)
 S RCBODY(12)="-----------------------------------------------------------------"
"RTN","RCDPEMSG",151,0)
 F  S CT=$O(RCERR("ERROR",CT)) Q:CT=""  S Z=Z+1,RCBODY(Z)=RCERR("ERROR",CT)
"RTN","RCDPEMSG",152,0)
 S Z=Z+1,RCBODY(Z)="-----------------------------------------------------------------"
"RTN","RCDPEMSG",153,0)
 ;
"RTN","RCDPEMSG",154,0)
 I $D(RCEMG) D
"RTN","RCDPEMSG",155,0)
 . S:RCEMG="" RCEMG="RCDPE PAYMENTS EXCEPTIONS"
"RTN","RCDPEMSG",156,0)
 . S:$E(RCEMG,1,2)'="G." RCEMG="G."_RCEMG
"RTN","RCDPEMSG",157,0)
 . S XMTO("I:"_RCEMG)=""
"RTN","RCDPEMSG",158,0)
 ;
"RTN","RCDPEMSG",159,0)
 S Z=$O(XMTO("")) I Z=.5,'$O(XMTO(.5)) S XMTO("I:G.RCDPE PAYMENTS EXCEPTIONS")=""
"RTN","RCDPEMSG",160,0)
 ;
"RTN","RCDPEMSG",161,0)
 S XMDUZ=""
"RTN","RCDPEMSG",162,0)
 S XMSUBJ="EDI CARC_RARC SERVER OPTION ERROR",XMBODY="RCBODY"
"RTN","RCDPEMSG",163,0)
 D
"RTN","RCDPEMSG",164,0)
 . N DUZ S DUZ=.5,DUZ(0)="@"
"RTN","RCDPEMSG",165,0)
 . D SENDMSG^XMXAPI(DUZ,XMSUBJ,XMBODY,.XMTO,,.XMZ)
"RTN","RCDPEMSG",166,0)
 Q
"RTN","RCDPEMSG",167,0)
 ;
"RTN","RCDPETT")
1^19
"RTN","RCDPETTE")
1^20
"RTN","RCDPETTF")
1^21
"RTN","RCDPETTM")
1^23
"RTN","RCDPETTP")
1^24
"RTN","RCDPETTQ")
1^25
"RTN","RCDPETTU")
1^22
"RTN","RCDPEWL2")
0^30^B108949020
"RTN","RCDPEWL2",1,0)
RCDPEWL2 ;ALB/TMK/KML - ELECTRONIC EOB WORKLIST ACTIONS ;7/7/10 6:43pm
"RTN","RCDPEWL2",2,0)
 ;;4.5;Accounts Receivable;**173,208,269,298,303**;Mar 20, 1995;Build 84
"RTN","RCDPEWL2",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPEWL2",4,0)
 ; IA for call to OPTION^IBJTLA = 4121
"RTN","RCDPEWL2",5,0)
 ; IA for call to ASK^IBRREL = 306
"RTN","RCDPEWL2",6,0)
 ; IA call for EN1AR^IBECEA = 4047
"RTN","RCDPEWL2",7,0)
 ; IA call for MAIN^IBOHPT1 = 4048
"RTN","RCDPEWL2",8,0)
 ; IA for read access to ^IBM(361.1 = 4051
"RTN","RCDPEWL2",9,0)
 Q
"RTN","RCDPEWL2",10,0)
 ;
"RTN","RCDPEWL2",11,0)
VP(RCSCR,RCDAZ) ; View/Print EOB Detail data from file 361.1
"RTN","RCDPEWL2",12,0)
 ; RCSCR = ien of entry in file 344.4
"RTN","RCDPEWL2",13,0)
 ; RCDAZ = array subscripted by a sequential # and
"RTN","RCDPEWL2",14,0)
 ;   RCDAZ(n) = one of 3 formats
"RTN","RCDPEWL2",15,0)
 ;     ERA level adjustments
"RTN","RCDPEWL2",16,0)
 ;          ADJ^the ien of the adj in 344.42
"RTN","RCDPEWL2",17,0)
 ;     EOB exists in file 361.1:
"RTN","RCDPEWL2",18,0)
 ;          ien of line in 344.41^ien of 361.1
"RTN","RCDPEWL2",19,0)
 ;     EOB doesn't exist in 361.1:
"RTN","RCDPEWL2",20,0)
 ;          ien of line in 344.41^-1
"RTN","RCDPEWL2",21,0)
 ;
"RTN","RCDPEWL2",22,0)
 N RCDA,%ZIS,ZTRTN,ZTSAVE,ZTDESC,POP
"RTN","RCDPEWL2",23,0)
 ; Ask device
"RTN","RCDPEWL2",24,0)
 S %ZIS="QM" D ^%ZIS G:POP VPQ
"RTN","RCDPEWL2",25,0)
 I $D(IO("Q")) D  G VPQ
"RTN","RCDPEWL2",26,0)
 . S ZTRTN="VPOUT^RCDPEWL2",ZTDESC="AR - Print EEOB Detail from Worklist"
"RTN","RCDPEWL2",27,0)
 . S ZTSAVE("RC*")=""
"RTN","RCDPEWL2",28,0)
 . D ^%ZTLOAD
"RTN","RCDPEWL2",29,0)
 . W !!,$S($D(ZTSK):"Your task number "_ZTSK_" has been queued.",1:"Unable to queue this job.")
"RTN","RCDPEWL2",30,0)
 . K ZTSK,IO("Q") D HOME^%ZIS
"RTN","RCDPEWL2",31,0)
 U IO
"RTN","RCDPEWL2",32,0)
 ;
"RTN","RCDPEWL2",33,0)
VPOUT ; Entrypoint for queued job
"RTN","RCDPEWL2",34,0)
 N Z,Z0,RCSTOP,RCPG,RCREF,RC3611,RCDASH,RCDT,RC1,RC3444,RCZ,RCZ0
"RTN","RCDPEWL2",35,0)
 ;
"RTN","RCDPEWL2",36,0)
 K ^TMP("PRCA_EOB",$J),^TMP("PRCA_EOB1",$J)
"RTN","RCDPEWL2",37,0)
 S RCDT=DT,(RCSTOP,RCPG)=0,RC3444=RCSCR,RCDASH="",$P(RCDASH,"-",71)=""
"RTN","RCDPEWL2",38,0)
 I '$O(RCDAZ(0)) G VPQ
"RTN","RCDPEWL2",39,0)
 S RCZ=0 F  S RCZ=$O(RCDAZ(RCZ)) Q:'RCZ  D
"RTN","RCDPEWL2",40,0)
 . S RCREF=$P(RCDAZ(RCZ),U),RC3611=+$P(RCDAZ(RCZ),U,2)
"RTN","RCDPEWL2",41,0)
 . K ^TMP("PRCA_EOB1",$J,RC3611)
"RTN","RCDPEWL2",42,0)
 . ;
"RTN","RCDPEWL2",43,0)
 . I $E(RCREF,1,3)["ADJ" D  Q
"RTN","RCDPEWL2",44,0)
 .. ;Display ERA level adj
"RTN","RCDPEWL2",45,0)
 .. S RCZ0=$G(^RCY(344.4,RCSCR,2,RC3611,0))
"RTN","RCDPEWL2",46,0)
 .. S ^TMP("PRCA_EOB",$J,"ADJ",1)="ERA LEVEL ADJUSTMENT #"_RC3611
"RTN","RCDPEWL2",47,0)
 .. S ^TMP("PRCA_EOB",$J,"ADJ",2)="   ADJUSTMENT REFERENCE #: "_$P(RCZ0,U)
"RTN","RCDPEWL2",48,0)
 .. S ^TMP("PRCA_EOB",$J,"ADJ",3)="   ADJUSTMENT REASON CODE: "_$P(RCZ0,U,2)
"RTN","RCDPEWL2",49,0)
 .. S ^TMP("PRCA_EOB",$J,"ADJ",4)="        ADJUSTMENT AMOUNT: "_$J(+$P(RCZ0,U,3),"",2)
"RTN","RCDPEWL2",50,0)
 .. S ^TMP("PRCA_EOB",$J,"ADJ",5)=RCDASH
"RTN","RCDPEWL2",51,0)
 . ;
"RTN","RCDPEWL2",52,0)
 . I $P(RCDAZ(RCZ),U,2)'>0 D  Q
"RTN","RCDPEWL2",53,0)
 .. ;Display formatted raw data - no EOB data in 361.1
"RTN","RCDPEWL2",54,0)
 .. K ^TMP($J,"RC_SUMRAW")
"RTN","RCDPEWL2",55,0)
 .. D DISP^RCDPESR0("^RCY(344.4,"_RCSCR_",1,"_+RCDAZ(RCZ)_",1)","^TMP($J,""RC_SUMRAW"")",1,"^TMP(""PRCA_EOB"",$J,0)")
"RTN","RCDPEWL2",56,0)
 .. S ^TMP("PRCA_EOB1",$J,RC3611,1)="CLAIM #: "_$$BILLREF^RCDPESR0(RCSCR,+RCDAZ(RCZ))_"*** NOT IDENTIFIED IN A/R ****"_$S($P($G(^RCY(344.4,RCSCR,1,+RCDAZ(RCZ),0)),U,14):" (REVERSAL)",1:"")
"RTN","RCDPEWL2",57,0)
 .. K ^TMP($J,"RC_SUMRAW")
"RTN","RCDPEWL2",58,0)
 .. S ^TMP("PRCA_EOB",$J,+$O(^TMP("PRCA_EOB",$J,""),-1)+1)=RCDASH
"RTN","RCDPEWL2",59,0)
 . ;
"RTN","RCDPEWL2",60,0)
 . K ^TMP("PRCA_EOB1",$J,RC3611)
"RTN","RCDPEWL2",61,0)
 . S ^TMP("PRCA_EOB1",$J,RC3611,1)="CLAIM #: "_$$BILLREF^RCDPESR0(RCSCR,+RCDAZ(RCZ))_$S($P($G(^RCY(344.4,RCSCR,1,+RCDAZ(RCZ),0)),U,14):" (REVERSAL)",1:"")
"RTN","RCDPEWL2",62,0)
 . D GETEOB^IBCECSA6(RC3611,2)
"RTN","RCDPEWL2",63,0)
 . I $O(^IBM(361.1,RC3611,"ERR",0)) D GETERR^RCDPEDS(RC3611,+$O(^TMP("PRCA_EOB",$J,RC3611," "),-1)) ; get filing errors
"RTN","RCDPEWL2",64,0)
 . S ^TMP("PRCA_EOB",$J,+$O(^TMP("PRCA_EOB",$J,""),-1)+1)=RCDASH
"RTN","RCDPEWL2",65,0)
 . ;
"RTN","RCDPEWL2",66,0)
 S RC3611="" F  S RC3611=$O(^TMP("PRCA_EOB",$J,RC3611)) Q:RC3611=""!RCSTOP  D
"RTN","RCDPEWL2",67,0)
 . S RC1=1
"RTN","RCDPEWL2",68,0)
 . S Z0=0 F  S Z0=$O(^TMP("PRCA_EOB",$J,RC3611,Z0)) Q:'Z0  D  Q:RCSTOP
"RTN","RCDPEWL2",69,0)
 .. I $D(ZTQUEUED),$$S^%ZTLOAD S (RCSTOP,ZTSTOP)=1 K ZTREQ I +$G(RCPG) W !,"***TASK STOPPED BY USER***" Q
"RTN","RCDPEWL2",70,0)
 .. I 'RCPG!(($Y+5)>IOSL) D  I RCSTOP Q
"RTN","RCDPEWL2",71,0)
 ... D:RCPG ASK(.RCSTOP) I RCSTOP Q
"RTN","RCDPEWL2",72,0)
 ... D RHDR(RCSCR,RCDT,.RCPG)
"RTN","RCDPEWL2",73,0)
 .. I RC1 W !!,$G(^TMP("PRCA_EOB1",$J,RC3611,1)) S RC1=0
"RTN","RCDPEWL2",74,0)
 .. W !,$G(^TMP("PRCA_EOB",$J,RC3611,Z0))
"RTN","RCDPEWL2",75,0)
 I 'RCSTOP,RCPG D ASK(.RCSTOP)
"RTN","RCDPEWL2",76,0)
 ;
"RTN","RCDPEWL2",77,0)
 I $D(ZTQUEUED) S ZTREQ="@"
"RTN","RCDPEWL2",78,0)
 I '$D(ZTQUEUED) D ^%ZISC
"RTN","RCDPEWL2",79,0)
 ;
"RTN","RCDPEWL2",80,0)
VPQ K ^TMP("PRCA_EOB",$J),^TMP("PRCA_EOB1",$J)
"RTN","RCDPEWL2",81,0)
 S VALMBCK="R"
"RTN","RCDPEWL2",82,0)
 Q
"RTN","RCDPEWL2",83,0)
 ;
"RTN","RCDPEWL2",84,0)
TPJI ; Jump to Third Party Joint Inquiry for the claim
"RTN","RCDPEWL2",85,0)
 D FULL^VALM1
"RTN","RCDPEWL2",86,0)
 I $G(RCSCR("NOEDIT"))=2 D NOTAV G TPJIQ
"RTN","RCDPEWL2",87,0)
 M ^TMP("RC_SAVE_TMP",$J)=^TMP($J)
"RTN","RCDPEWL2",88,0)
 D OPTION^IBJTLA ; IA 4121
"RTN","RCDPEWL2",89,0)
 D RESTMP^RCDPEWL6
"RTN","RCDPEWL2",90,0)
 ;
"RTN","RCDPEWL2",91,0)
TPJIQ S VALMBCK="R"
"RTN","RCDPEWL2",92,0)
 Q
"RTN","RCDPEWL2",93,0)
 ;
"RTN","RCDPEWL2",94,0)
FAP ; Jump to Full Account Profile
"RTN","RCDPEWL2",95,0)
 D FULL^VALM1
"RTN","RCDPEWL2",96,0)
 ;
"RTN","RCDPEWL2",97,0)
 I $G(RCSCR("NOEDIT"))=2 D NOTAV G FAPQ
"RTN","RCDPEWL2",98,0)
 ;
"RTN","RCDPEWL2",99,0)
 M ^TMP("RC_SAVE_TMP",$J)=^TMP($J)
"RTN","RCDPEWL2",100,0)
 D EN^PRCAAPR("ALL"),RET K DTOUT
"RTN","RCDPEWL2",101,0)
 D RESTMP^RCDPEWL6
"RTN","RCDPEWL2",102,0)
 ;
"RTN","RCDPEWL2",103,0)
FAPQ S VALMBCK="R"
"RTN","RCDPEWL2",104,0)
 Q
"RTN","RCDPEWL2",105,0)
 ;
"RTN","RCDPEWL2",106,0)
RELHOLD ; Jump to Release Hold function
"RTN","RCDPEWL2",107,0)
 N DIR,X,Y,RCDA,RCSCR
"RTN","RCDPEWL2",108,0)
 D FULL^VALM1
"RTN","RCDPEWL2",109,0)
 ;
"RTN","RCDPEWL2",110,0)
 I $G(RCSCR("NOEDIT"))=2 D NOTAV G RELHQ
"RTN","RCDPEWL2",111,0)
 ;
"RTN","RCDPEWL2",112,0)
 M ^TMP("RC_SAVE_TMP",$J)=^TMP($J)
"RTN","RCDPEWL2",113,0)
 D ^IBRREL,RET ; IA = 306
"RTN","RCDPEWL2",114,0)
 D RESTMP^RCDPEWL6
"RTN","RCDPEWL2",115,0)
 ;
"RTN","RCDPEWL2",116,0)
RELHQ S VALMBCK="R"
"RTN","RCDPEWL2",117,0)
 Q
"RTN","RCDPEWL2",118,0)
 ;
"RTN","RCDPEWL2",119,0)
CMRPT ; Jump to claims matching report
"RTN","RCDPEWL2",120,0)
 N DIR,X,Y,RCIBY
"RTN","RCDPEWL2",121,0)
 D FULL^VALM1
"RTN","RCDPEWL2",122,0)
 ;
"RTN","RCDPEWL2",123,0)
 I $G(RCSCR("NOEDIT"))=2 D NOTAV G CMQ
"RTN","RCDPEWL2",124,0)
 ;
"RTN","RCDPEWL2",125,0)
 M ^TMP("RC_SAVE_TMP",$J)=^TMP($J)
"RTN","RCDPEWL2",126,0)
 D ^RCDPRTP,RET
"RTN","RCDPEWL2",127,0)
 D RESTMP^RCDPEWL6
"RTN","RCDPEWL2",128,0)
 ;
"RTN","RCDPEWL2",129,0)
CMQ S VALMBCK="R"
"RTN","RCDPEWL2",130,0)
 Q
"RTN","RCDPEWL2",131,0)
 ;
"RTN","RCDPEWL2",132,0)
CHGMNT ; Jump to charge maintenance
"RTN","RCDPEWL2",133,0)
 N DIR,X,Y,RCSCR
"RTN","RCDPEWL2",134,0)
 D FULL^VALM1
"RTN","RCDPEWL2",135,0)
 ;
"RTN","RCDPEWL2",136,0)
 I $G(RCSCR("NOEDIT"))=2 D NOTAV G CHMQ
"RTN","RCDPEWL2",137,0)
 ;
"RTN","RCDPEWL2",138,0)
 I $D(^XUSEC("PRCA EDI LOCKBOX CHARGES",DUZ)) D
"RTN","RCDPEWL2",139,0)
 . M ^TMP("RC_SAVE_TMP",$J)=^TMP($J)
"RTN","RCDPEWL2",140,0)
 . D EN1AR^IBECEA ; IA 4047
"RTN","RCDPEWL2",141,0)
 . D RESTMP^RCDPEWL6
"RTN","RCDPEWL2",142,0)
 E  D
"RTN","RCDPEWL2",143,0)
 . S DIR(0)="EA",DIR("A",1)="YOU DO NOT HAVE THE KEY NEEDED TO ACCESS THIS OPTION.",DIR("A")="PRESS RETURN TO CONTINUE " W ! D ^DIR K DIR
"RTN","RCDPEWL2",144,0)
 ;
"RTN","RCDPEWL2",145,0)
 S VALMBCK="R"
"RTN","RCDPEWL2",146,0)
CHMQ Q
"RTN","RCDPEWL2",147,0)
 ;
"RTN","RCDPEWL2",148,0)
LSTHLD ; Jump to list current/on hold charges
"RTN","RCDPEWL2",149,0)
 N DIR,X,Y,RCIBY
"RTN","RCDPEWL2",150,0)
 D FULL^VALM1
"RTN","RCDPEWL2",151,0)
 ;
"RTN","RCDPEWL2",152,0)
 I $G(RCSCR("NOEDIT"))=2 D NOTAV G LHQ
"RTN","RCDPEWL2",153,0)
 ;
"RTN","RCDPEWL2",154,0)
 M ^TMP("RC_SAVE_TMP",$J)=^TMP($J)
"RTN","RCDPEWL2",155,0)
 D MAIN^IBOHPT1,RET ; IA 4048
"RTN","RCDPEWL2",156,0)
 D RESTMP^RCDPEWL6
"RTN","RCDPEWL2",157,0)
 ;
"RTN","RCDPEWL2",158,0)
 S VALMBCK="R"
"RTN","RCDPEWL2",159,0)
LHQ Q
"RTN","RCDPEWL2",160,0)
 ;
"RTN","RCDPEWL2",161,0)
REEST ; Jump to re-establish bill
"RTN","RCDPEWL2",162,0)
 N PRC
"RTN","RCDPEWL2",163,0)
 D FULL^VALM1
"RTN","RCDPEWL2",164,0)
 ;
"RTN","RCDPEWL2",165,0)
 I $G(RCSCR("NOEDIT"))=2 D NOTAV G REESTQ
"RTN","RCDPEWL2",166,0)
 ;
"RTN","RCDPEWL2",167,0)
 M ^TMP("RC_SAVE_TMP",$J)=^TMP($J)
"RTN","RCDPEWL2",168,0)
 D ^PRCAWREA K DTOUT
"RTN","RCDPEWL2",169,0)
 D RESTMP^RCDPEWL6
"RTN","RCDPEWL2",170,0)
 D RET
"RTN","RCDPEWL2",171,0)
 ;
"RTN","RCDPEWL2",172,0)
REESTQ S VALMBCK="R"
"RTN","RCDPEWL2",173,0)
 Q
"RTN","RCDPEWL2",174,0)
 ;
"RTN","RCDPEWL2",175,0)
BILLCOM ; Jump to bill comment log
"RTN","RCDPEWL2",176,0)
 D FULL^VALM1
"RTN","RCDPEWL2",177,0)
 ;
"RTN","RCDPEWL2",178,0)
 I $G(RCSCR("NOEDIT"))=2 D NOTAV G BILLCOMQ
"RTN","RCDPEWL2",179,0)
 ;
"RTN","RCDPEWL2",180,0)
 M ^TMP("RC_SAVE_TMP",$J)=^TMP($J)
"RTN","RCDPEWL2",181,0)
 D ^PRCACM K DTOUT
"RTN","RCDPEWL2",182,0)
 D RET
"RTN","RCDPEWL2",183,0)
 D RESTMP^RCDPEWL6
"RTN","RCDPEWL2",184,0)
 ;
"RTN","RCDPEWL2",185,0)
BILLCOMQ S VALMBCK="R"
"RTN","RCDPEWL2",186,0)
 Q
"RTN","RCDPEWL2",187,0)
 ;
"RTN","RCDPEWL2",188,0)
ASK(RCSTOP) ;
"RTN","RCDPEWL2",189,0)
 I $E(IOST,1,2)'["C-" Q
"RTN","RCDPEWL2",190,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT
"RTN","RCDPEWL2",191,0)
 S DIR(0)="E" W ! D ^DIR
"RTN","RCDPEWL2",192,0)
 I ($D(DIRUT))!($D(DUOUT)) S RCSTOP=1 Q
"RTN","RCDPEWL2",193,0)
 Q
"RTN","RCDPEWL2",194,0)
 ;
"RTN","RCDPEWL2",195,0)
RHDR(RCSCR,RCDT,RCPG) ;Prints EOB detail report heading
"RTN","RCDPEWL2",196,0)
 N Z
"RTN","RCDPEWL2",197,0)
 S Z=$G(^RCY(344.4,RCSCR,0))
"RTN","RCDPEWL2",198,0)
 I RCPG!($E(IOST,1,2)="C-") W @IOF,*13
"RTN","RCDPEWL2",199,0)
 S RCPG=RCPG+1
"RTN","RCDPEWL2",200,0)
 W !,?15,"EDI LOCKBOX EEOB DETAIL FROM WORKLIST",?55,$$FMTE^XLFDT(RCDT,2),?70,"Page: ",RCPG
"RTN","RCDPEWL2",201,0)
 ; HIPAA 5010 - TRACE # increased in length from 30 to 50 characters therefore it needs to be displayed on its own line
"RTN","RCDPEWL2",202,0)
 W !!,$E(" ERA NUMBER: "_RCSCR_$J("",25),1,25)_"ERA DATE: "_$$FMTE^XLFDT($P(Z,U,4)),!,"INS COMPANY: "_$P(Z,U,6)_"/"_$P(Z,U,3)
"RTN","RCDPEWL2",203,0)
 W !,"ERA TRACE #: "_$P(Z,U,2)
"RTN","RCDPEWL2",204,0)
 W !,$TR($J("",IOM)," ","=")
"RTN","RCDPEWL2",205,0)
 Q
"RTN","RCDPEWL2",206,0)
 ;
"RTN","RCDPEWL2",207,0)
RET ; Pause before returning to list
"RTN","RCDPEWL2",208,0)
 N DIR,X,Y
"RTN","RCDPEWL2",209,0)
 S DIR(0)="EA",DIR("A")="RETURN TO CONTINUE" W ! D ^DIR K DIR
"RTN","RCDPEWL2",210,0)
 Q
"RTN","RCDPEWL2",211,0)
 ;
"RTN","RCDPEWL2",212,0)
NOWAY ; Msg for unidentified bill
"RTN","RCDPEWL2",213,0)
 N DIR,X,Y
"RTN","RCDPEWL2",214,0)
 S DIR(0)="EA",DIR("A",1)="THIS BILL IS NOT IDENTIFIED IN YOUR A/R",DIR("A")="THIS FUNCTION IS NOT AVAILABLE ... RETURN TO CONTINUE " W ! D ^DIR K DIR
"RTN","RCDPEWL2",215,0)
 Q
"RTN","RCDPEWL2",216,0)
 ;
"RTN","RCDPEWL2",217,0)
NOWAY1 ; Msg for ERA level Adjustment 
"RTN","RCDPEWL2",218,0)
 N DIR,X,Y
"RTN","RCDPEWL2",219,0)
 S DIR(0)="EA",DIR("A",1)="THIS IS AN ERA LEVEL ADJUSTMENT - NO DATA EXISTS FOR IT IN YOUR AR",DIR("A")="PRESS ENTER TO CONTINUE" W ! D ^DIR K DIR
"RTN","RCDPEWL2",220,0)
 Q
"RTN","RCDPEWL2",221,0)
 ;
"RTN","RCDPEWL2",222,0)
SET1(RCIBY,RCDA,RCDA1,RC3444,RCREF) ; Set up variables for receipt/ERA
"RTN","RCDPEWL2",223,0)
 S RCDA1=+RCIBY("IBEOB"),RCDA=+$P(RCIBY("IBEOB"),U,2),RC3444=+$P(RCIBY("IBEOB"),U,3),RCREF=+$P(RCIBY("IBEOB"),U,4)
"RTN","RCDPEWL2",224,0)
 Q
"RTN","RCDPEWL2",225,0)
 ;
"RTN","RCDPEWL2",226,0)
CHKFILE ; If the user leaves the split line screen without filing - double check
"RTN","RCDPEWL2",227,0)
 ; that they didn't want to file it.
"RTN","RCDPEWL2",228,0)
 N DIR,X,Y
"RTN","RCDPEWL2",229,0)
 D FULL^VALM1 W !!
"RTN","RCDPEWL2",230,0)
 I $G(^TMP("RCDPE_EOB_SPLIT_OK",$J)),$O(RCSPLIT(0)) D
"RTN","RCDPEWL2",231,0)
 . S DIR(0)="YA",DIR("B")="NO",DIR("A",1)="YOU HAVE NOT FILED THESE CHANGES",DIR("A")="DO YOU WANT TO FILE THEM BEFORE YOU EXIT?: " D ^DIR K DIR
"RTN","RCDPEWL2",232,0)
 . I Y=1 D FILESP^RCDPEWL8
"RTN","RCDPEWL2",233,0)
 K ^TMP($J,"RCDPE_SPLIT_FILE")
"RTN","RCDPEWL2",234,0)
 Q
"RTN","RCDPEWL2",235,0)
 ;
"RTN","RCDPEWL2",236,0)
EDITSP ; Action that edits the split lines
"RTN","RCDPEWL2",237,0)
 ; RCLINE,RCSCR must already exist
"RTN","RCDPEWL2",238,0)
 N DA,RCEDIT,RCDONE,RCDEF,RCSAVE,RCSAVE1
"RTN","RCDPEWL2",239,0)
 D FULL^VALM1
"RTN","RCDPEWL2",240,0)
 ;
"RTN","RCDPEWL2",241,0)
 I $G(RCSCR("NOEDIT"))=2 D NOTAV G EDITQ
"RTN","RCDPEWL2",242,0)
 ;
"RTN","RCDPEWL2",243,0)
 D SEL(.RCEDIT)
"RTN","RCDPEWL2",244,0)
 G:'RCEDIT EDITQ
"RTN","RCDPEWL2",245,0)
 S RCDONE=0
"RTN","RCDPEWL2",246,0)
 M RCSAVE=RCSPLIT,RCSAVE1=RCDIR S RCDEF=$G(RCSPLIT(RCEDIT)),RCSPLIT=RCEDIT
"RTN","RCDPEWL2",247,0)
 D EDIT^RCDPEWL3(RCSCR,RCLINE,.RCDIR,.RCSPLIT,RCDEF,.RCDONE)
"RTN","RCDPEWL2",248,0)
 I '$D(RCSPLIT(RCSAVE)) K RCSPLIT M RCSPLIT=RCSAVE K RCDIR M RCDIR=RCSAVE1
"RTN","RCDPEWL2",249,0)
 D INIT^RCDPEWL3
"RTN","RCDPEWL2",250,0)
EDITQ S VALMBCK="R"
"RTN","RCDPEWL2",251,0)
 Q
"RTN","RCDPEWL2",252,0)
 ;
"RTN","RCDPEWL2",253,0)
PREOB ; Print/View EOB detail
"RTN","RCDPEWL2",254,0)
 N RCDA,RCDAZ,Z,Z0
"RTN","RCDPEWL2",255,0)
 D FULL^VALM1
"RTN","RCDPEWL2",256,0)
 D SEL^RCDPEWL(.RCDA)
"RTN","RCDPEWL2",257,0)
 S RCDA=+$O(RCDA(0)),RCDA=$G(RCDA(RCDA))
"RTN","RCDPEWL2",258,0)
 I RCDA="" G PREOBQ
"RTN","RCDPEWL2",259,0)
 S RCDA=$P($G(^RCY(344.49,RCSCR,1,+RCDA,0)),U,9)
"RTN","RCDPEWL2",260,0)
 F RCDAZ=1:1:$L(RCDA,",") S RCDAZ(RCDAZ)=$P(RCDA,",",RCDAZ)
"RTN","RCDPEWL2",261,0)
 S Z=0 F  S Z=$O(RCDAZ(Z)) Q:'Z  D
"RTN","RCDPEWL2",262,0)
 . ;
"RTN","RCDPEWL2",263,0)
 . S Z0=RCDAZ(Z)
"RTN","RCDPEWL2",264,0)
 . I $E(Z0,1,3)="ADJ" D  Q
"RTN","RCDPEWL2",265,0)
 .. I $G(^RCY(344.4,RCSCR,2,+$P(Z0,"ADJ",2),0))'="" S RCDAZ(Z)="ADJ^"_+$P(Z0,"ADJ",2)
"RTN","RCDPEWL2",266,0)
 . ;
"RTN","RCDPEWL2",267,0)
 . S Z0=$G(^RCY(344.4,RCSCR,1,+Z0,0))
"RTN","RCDPEWL2",268,0)
 . S RCDAZ(Z)=+Z0_U_$S($P(Z0,U,2):$P(Z0,U,2),1:-1) Q
"RTN","RCDPEWL2",269,0)
 ;
"RTN","RCDPEWL2",270,0)
 D VP(RCSCR,.RCDAZ)
"RTN","RCDPEWL2",271,0)
 ;
"RTN","RCDPEWL2",272,0)
PREOBQ S VALMBCK="R"
"RTN","RCDPEWL2",273,0)
 Q
"RTN","RCDPEWL2",274,0)
 ;
"RTN","RCDPEWL2",275,0)
RESEARCH ; Invoke the research menu
"RTN","RCDPEWL2",276,0)
 ;
"RTN","RCDPEWL2",277,0)
 K ^TMP($J,"RC_VALMBG")
"RTN","RCDPEWL2",278,0)
 S ^TMP($J,"RC_VALMBG")=$G(VALMBG)
"RTN","RCDPEWL2",279,0)
 D FULL^VALM1
"RTN","RCDPEWL2",280,0)
 I $G(RCSCR("NOEDIT"))=2 D NOTAV G RQ
"RTN","RCDPEWL2",281,0)
 ;
"RTN","RCDPEWL2",282,0)
 D EN^VALM("RCDPE EOB RESEARCH")
"RTN","RCDPEWL2",283,0)
 ;
"RTN","RCDPEWL2",284,0)
RQ K ^TMP($J,"RC_VALMBG")
"RTN","RCDPEWL2",285,0)
 Q
"RTN","RCDPEWL2",286,0)
 ;
"RTN","RCDPEWL2",287,0)
SEL(RCEDIT) ;
"RTN","RCDPEWL2",288,0)
 N VALMY
"RTN","RCDPEWL2",289,0)
 D EN^VALM2($G(XQORNOD(0)),"S")
"RTN","RCDPEWL2",290,0)
 S RCEDIT=+$O(VALMY(0))
"RTN","RCDPEWL2",291,0)
 Q
"RTN","RCDPEWL2",292,0)
 ;
"RTN","RCDPEWL2",293,0)
EXIT ; Exits back to ERA menu actions from research
"RTN","RCDPEWL2",294,0)
 S VALMBCK="Q"
"RTN","RCDPEWL2",295,0)
 Q
"RTN","RCDPEWL2",296,0)
 ;
"RTN","RCDPEWL2",297,0)
WL(RCRCPT) ; Entrypoint to the ERA Worklist from Receipt Processing
"RTN","RCDPEWL2",298,0)
 ;RCRCPT = ien of entry in file 344
"RTN","RCDPEWL2",299,0)
 N DIR,X,Y,Z
"RTN","RCDPEWL2",300,0)
 D FULL^VALM1
"RTN","RCDPEWL2",301,0)
 ; if not at ERA summary level (344.4,.08), get a receipt match using the cross-reference at the ERA detail (RECEIPT (344.41, .25) 
"RTN","RCDPEWL2",302,0)
 S Z=$S($O(^RCY(344.4,"AREC",RCRCPT,0)):+$O(^RCY(344.4,"AREC",RCRCPT,0)),1:+$O(^RCY(344.4,"H",RCRCPT,0)))
"RTN","RCDPEWL2",303,0)
 I 'Z D  G WLQ
"RTN","RCDPEWL2",304,0)
 . S DIR("A")="THIS RECEIPT IS NOT ASSOCIATED WITH AN ERA RECORD - PRESS RETURN TO CONTINUE ",DIR(0)="EA" W ! D ^DIR K DIR
"RTN","RCDPEWL2",305,0)
 ;
"RTN","RCDPEWL2",306,0)
 I '$D(^RCY(344.49,Z,0)) D  G WLQ
"RTN","RCDPEWL2",307,0)
 . S DIR("A")="NO ERA WORKLIST SCRATCHPAD EXISTS FOR THIS ERA - PRESS RETURN TO CONTINUE ",DIR(0)="EA" W ! D ^DIR K DIR
"RTN","RCDPEWL2",308,0)
 ;
"RTN","RCDPEWL2",309,0)
 D DISP^RCDPEWL(Z,2)
"RTN","RCDPEWL2",310,0)
 ;
"RTN","RCDPEWL2",311,0)
WLQ S VALMBCK="R"
"RTN","RCDPEWL2",312,0)
 Q
"RTN","RCDPEWL2",313,0)
 ;
"RTN","RCDPEWL2",314,0)
NOTAV ; Display not available msg
"RTN","RCDPEWL2",315,0)
 N DIR,X,Y
"RTN","RCDPEWL2",316,0)
 ;
"RTN","RCDPEWL2",317,0)
 S DIR(0)="EA",DIR("A")="THIS ACTION NOT CURRENTLY AVAILABLE - PRESS RETURN TO CONTINUE " W ! D ^DIR K DIR
"RTN","RCDPEWL2",318,0)
 S VALMBCK="R"
"RTN","RCDPEWL2",319,0)
 Q
"RTN","RCDPEWL2",320,0)
 ;
"RTN","RCDPEWL2",321,0)
 ;PRCA*4.5*303 - Add jump to ECME Information from the ERA Worklist Research
"RTN","RCDPEWL2",322,0)
 ; IA 1992 - BILL/CLAIMS file (#399)
"RTN","RCDPEWL2",323,0)
 ; RCIENS exists before this code is called if coming from APAR
"RTN","RCDPEWL2",324,0)
 ; RCERA, RCSCR are assumed to exist before this code is called
"RTN","RCDPEWL2",325,0)
GOECME ; Select an EEOB and then jump to the [IBJT ECME RESP INFO SCREEN]
"RTN","RCDPEWL2",326,0)
 N RCDA,RCDAZ,RCDG,Z,Z0,IBIFN,DFN,RCAPAR
"RTN","RCDPEWL2",327,0)
 S RCAPAR=0
"RTN","RCDPEWL2",328,0)
 I '$D(RCSCR) S RCAPAR=1,(RCERA,RCSCR)=$P($G(RCIENS),U,1) ; From APAR RCSCR & RCERA not defined
"RTN","RCDPEWL2",329,0)
 G:($G(RCERA)="")!($G(RCSCR)="") GOEBQ
"RTN","RCDPEWL2",330,0)
 D FULL^VALM1
"RTN","RCDPEWL2",331,0)
 D SEL^RCDPEWL(.RCDA)
"RTN","RCDPEWL2",332,0)
 S RCDA=+$O(RCDA(0)),RCDA=$G(RCDA(RCDA))
"RTN","RCDPEWL2",333,0)
 I RCDA="" G GOEBQ
"RTN","RCDPEWL2",334,0)
 S RCDA=$P($G(^RCY(344.49,RCSCR,1,+RCDA,0)),U,9)
"RTN","RCDPEWL2",335,0)
 S IBIFN=$P($G(^RCY(344.4,RCERA,1,RCDA,0)),U,2) S:+IBIFN'=0 RCDG=$P($G(^IBM(361.1,IBIFN,0)),U,1)
"RTN","RCDPEWL2",336,0)
 I $G(RCDG)="" W !!,"Problem with Bill IEN: "_IBIFN_", ERA: "_RCERA_" Please report this issue." D PAUSE^VALM1 G GOEBQ
"RTN","RCDPEWL2",337,0)
 S DFN=$P($G(^DGCR(399,RCDG,0)),U,2)
"RTN","RCDPEWL2",338,0)
 I RCAPAR S IBIFN=RCDG
"RTN","RCDPEWL2",339,0)
 I '$$ISRX^IBCEF1(IBIFN) W !!,"Not available. This is not a Pharmacy Claim." D PAUSE^VALM1 G GOEBQ
"RTN","RCDPEWL2",340,0)
 I $$ECME^IBTRE(IBIFN)="" W !!,"Not available. This is a Pharmacy Claim, but not an ECME Claim." D PAUSE^VALM1 G GOEBQ
"RTN","RCDPEWL2",341,0)
 D EN^VALM("IBJT ECME RESP INFO")
"RTN","RCDPEWL2",342,0)
 ;
"RTN","RCDPEWL2",343,0)
GOEBQ S VALMBCK="R"
"RTN","RCDPEWL2",344,0)
 I RCAPAR K RCSCR,RCERA ; Clean up if we are in APAR
"RTN","RCDPEWL2",345,0)
 Q
"RTN","RCDPEWL4")
0^26^B57740502
"RTN","RCDPEWL4",1,0)
RCDPEWL4 ;ALB/TMK/PJH - ELECTRONIC EOB WORKLIST ACTIONS ;Jun 06, 2014@19:11:19
"RTN","RCDPEWL4",2,0)
 ;;4.5;Accounts Receivable;**173,208,269,298,303**;Mar 20, 1995;Build 84
"RTN","RCDPEWL4",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPEWL4",4,0)
 ; RCSCR variable must be defined for this routine
"RTN","RCDPEWL4",5,0)
 Q
"RTN","RCDPEWL4",6,0)
 ;
"RTN","RCDPEWL4",7,0)
DISTADJ(RCFR,RCTO,RCAMT,RCCOM) ; Action that distributes an adjustment amount
"RTN","RCDPEWL4",8,0)
 ; against another line item's payment
"RTN","RCDPEWL4",9,0)
 ; Assumes RCSCR = ien of the entry in file 344.49
"RTN","RCDPEWL4",10,0)
 ; RCFR = ien of entry in 344.491 that has a negative net
"RTN","RCDPEWL4",11,0)
 ; RCTO = ien of entry in 344.491 that will be decremented
"RTN","RCDPEWL4",12,0)
 ; RCAMT = the amount being adjusted (positive #)
"RTN","RCDPEWL4",13,0)
 ; RCCOM = the comment to place on the decrease adjustment
"RTN","RCDPEWL4",14,0)
 ;
"RTN","RCDPEWL4",15,0)
 N RCFRX,RCREF,RCFR0,RCFR1,RCFR10,RCTO0,RCTO1,RCTO10,RCY,DIK,DA,DR,DIC,X,Y,DLAYGO,DD,DO,DIE,DIR
"RTN","RCDPEWL4",16,0)
 I $G(^TMP("RCBATCH_SELECTED",$J)) D NOBATCH^RCDPEWL Q
"RTN","RCDPEWL4",17,0)
 S RCFR0=$G(^RCY(344.49,RCSCR,1,RCFR,0)),RCTO0=$G(^RCY(344.49,RCSCR,1,RCTO,0)),RCFRX=+$O(^RCY(344.49,RCSCR,1,"B",RCFR0\1,0)),RCFRX=$G(^RCY(344.49,RCSCR,1,RCFRX,0))
"RTN","RCDPEWL4",18,0)
 S RCREF=$P($P(RCFRX,U,2),"**ADJ",2),RCREF=$S(RCREF="":"",RCREF=0:$P(RCFRX,U,9),1:$P($G(^RCY(344.4,RCSCR,2,+RCREF,0)),U))
"RTN","RCDPEWL4",19,0)
 S RCFR1=+$O(^RCY(344.49,RCSCR,1,"B",RCFR0\1,0)),RCTO1=+$O(^RCY(344.49,RCSCR,1,"B",RCTO0\1,0))
"RTN","RCDPEWL4",20,0)
 S RCFR10=$G(^RCY(344.49,RCSCR,1,RCFR1,0)),RCTO10=$G(^RCY(344.49,RCSCR,1,RCTO1,0))
"RTN","RCDPEWL4",21,0)
 S RCFR0=$G(^RCY(344.49,RCSCR,1,RCFR,0)),RCTO0=$G(^RCY(344.49,RCSCR,1,RCTO,0))
"RTN","RCDPEWL4",22,0)
 S DA(2)=RCSCR,DA(1)=RCFR
"RTN","RCDPEWL4",23,0)
 S DIC("DR")=".02////1;.03////"_RCAMT_";.04////"_$S($P(RCTO0,U,2)'="":$P(RCTO0,U,2),RCREF'="":RCREF,1:"UNKNOWN")
"RTN","RCDPEWL4",24,0)
 S DIC("DR")=DIC("DR")_";.05////0;.06////0;.09////RETRACTED FUNDS DEDUCTED FROM OTHER PAYMENT ON THIS ERA",DIC="^RCY(344.49,"_DA(2)_",1,"_DA(1)_",1,"
"RTN","RCDPEWL4",25,0)
 S DLAYGO=344.4911,DIC(0)="L",X=+$O(^RCY(344.49,RCSCR,1,RCFR,1,"B",""),-1)+1
"RTN","RCDPEWL4",26,0)
 D FILE^DICN K DIC,DD,DO,DLAYGO
"RTN","RCDPEWL4",27,0)
 S RCY=+Y
"RTN","RCDPEWL4",28,0)
 I RCY'>0 D  Q
"RTN","RCDPEWL4",29,0)
 . S DIR(0)="EA",DIR("A",1)="PROBLEM ADDING ADJUSTMENT - NO DISTRIBUTION PERFORMED",DIR("A")="PRESS RETURN TO CONTINUE " D ^DIR K DIR
"RTN","RCDPEWL4",30,0)
 ;
"RTN","RCDPEWL4",31,0)
 S DA(2)=RCSCR,DA(1)=RCTO
"RTN","RCDPEWL4",32,0)
 S DIC("DR")=".02////0;.03////"_$J(-RCAMT,"",2)
"RTN","RCDPEWL4",33,0)
 S DIC("DR")=DIC("DR")_";.04////"_$S($P(RCFR0,U,2)'="":$P(RCFR0,U,2),RCREF'="":RCREF,1:"UNKNOWN")_";.05////"_$S($P($G(^RCY(344.49,RCSCR,1,RCTO1,0)),U,2)'["**ADJ":"1;.08////0",1:0)_";.06////0"_$S(RCCOM'="":";.09////"_RCCOM,1:"")
"RTN","RCDPEWL4",34,0)
 S DIC="^RCY(344.49,"_DA(2)_",1,"_DA(1)_",1,"
"RTN","RCDPEWL4",35,0)
 S DLAYGO=344.4911,DIC(0)="L",X=+$O(^RCY(344.49,RCSCR,1,RCTO,1,"B",""),-1)+1
"RTN","RCDPEWL4",36,0)
 D FILE^DICN K DIC,DD,DO,DLAYGO
"RTN","RCDPEWL4",37,0)
 S RCY=+Y
"RTN","RCDPEWL4",38,0)
 ;
"RTN","RCDPEWL4",39,0)
 I RCY'>0 D  Q
"RTN","RCDPEWL4",40,0)
 . N DA
"RTN","RCDPEWL4",41,0)
 . S DA(2)=RCSCR,DA(1)=RCFR,DA=RCY,DIK="^RCY(344.49,"_DA(2)_",1,"_DA(1)_",1," D ^DIK
"RTN","RCDPEWL4",42,0)
 . S DIR(0)="EA",DIR("A",1)="PROBLEM ADDING ADJUSTMENT - NO DISTRIBUTION PERFORMED",DIR("A")="PRESS RETURN TO CONTINUE " D ^DIR K DIR
"RTN","RCDPEWL4",43,0)
 ;
"RTN","RCDPEWL4",44,0)
 S DA(1)=RCSCR,DA=RCFR,DIE="^RCY(344.49,"_DA(1)_",1,",DR=".06////"_$J($P(RCFR0,U,6)+RCAMT,"",2)_";.08////"_$J($P(RCFR0,U,8)+RCAMT,"",2) D ^DIE
"RTN","RCDPEWL4",45,0)
 S DA=RCFR1,DIE="^RCY(344.49,"_DA(1)_",1,",DR=".06////"_$J($P(RCFR10,U,6)+RCAMT,"",2) D ^DIE
"RTN","RCDPEWL4",46,0)
 S DA(1)=RCSCR,DA=RCTO,DIE="^RCY(344.49,"_DA(1)_",1,",DR=".06////"_$J($P(RCTO0,U,6)-RCAMT,"",2)_";.03////"_$J($P(RCTO0,U,3)-RCAMT,"",2)_";.08////"_$J($P(RCTO0,U,8)-RCAMT,"",2) D ^DIE
"RTN","RCDPEWL4",47,0)
 S DA(1)=RCSCR,DA=RCTO1,DIE="^RCY(344.49,"_DA(1)_",1,",DR=".06////"_$J($P(RCTO10,U,6)-RCAMT,"",2)_";.03////"_$J($P(RCTO10,U,3)-RCAMT,"",2)_";.08////"_$J($P(RCTO10,U,8)-RCAMT,"",2) D ^DIE
"RTN","RCDPEWL4",48,0)
 D BLD^RCDPEWL1($G(^TMP($J,"RC_SORTPARM")))
"RTN","RCDPEWL4",49,0)
 Q
"RTN","RCDPEWL4",50,0)
 ;
"RTN","RCDPEWL4",51,0)
NEWREC ; Create a new receipt from scratch pad entry
"RTN","RCDPEWL4",52,0)
 N Z,Z0,RCOK,RCRECTDA,RCSTOP,DIR,X,Y,RECTDA,CT,DIE,DA,DR,RCER,RCPAYTY,RCHAC,RCDEP,DIC
"RTN","RCDPEWL4",53,0)
 D FULL^VALM1
"RTN","RCDPEWL4",54,0)
 I $G(RCSCR("NOEDIT"))=2 D NOTAV^RCDPEWL2 G NEWRECQ
"RTN","RCDPEWL4",55,0)
 S (RCSTOP,RCOK)=0,VALMBCK="R"
"RTN","RCDPEWL4",56,0)
 S RECTDA=$P($G(^RCY(344.49,RCSCR,0)),U,2)
"RTN","RCDPEWL4",57,0)
 I 'RECTDA S RECTDA=$P($G(^RCY(344.4,RCSCR,0)),U,8)
"RTN","RCDPEWL4",58,0)
 ; PRCA*4.5*303 - Corrected receipt number display to use RECTDA in the DIR("A",1) variable
"RTN","RCDPEWL4",59,0)
 I RECTDA D  G NEWRECQ
"RTN","RCDPEWL4",60,0)
 . S DIR(0)="EA",DIR("A",1)="THIS ERA ALREADY HAS A RECEIPT - "_$P($G(^RCY(344,RECTDA,0)),U)_" - NO RECEIPT CREATED",DIR("A")="PRESS RETURN TO CONTINUE" W ! D ^DIR K DIR
"RTN","RCDPEWL4",61,0)
 S DIR("A",1)="THIS ACTION WILL CREATE THE RECEIPT FOR THIS ERA.  ONCE THE RECEIPT IS",DIR("A",2)=" CREATED HERE, NO MORE AUTOMATIC ADJUSTMENTS MAY BE MADE FOR THIS ERA.",DIR("A",3)=" "
"RTN","RCDPEWL4",62,0)
 S DIR("A")="ARE YOU SURE YOU ARE READY TO CREATE THIS RECEIPT?: ",DIR("B")="NO",DIR(0)="YA"
"RTN","RCDPEWL4",63,0)
 W ! D ^DIR K DIR W !
"RTN","RCDPEWL4",64,0)
 I Y'=1 S DIR(0)="EA",DIR("A")="NO RECEIPT CREATED - PRESS RETURN TO CONTINUE" W ! D ^DIR K DIR G NEWRECQ
"RTN","RCDPEWL4",65,0)
 I $$HASADJ^RCDPEWL8(RCSCR,.RCOK) D  G NEWRECQ
"RTN","RCDPEWL4",66,0)
 . S DIR(0)="EA",DIR("A",1)="AT LEAST ONE LINE ITEM WAS FOUND WITH A NEGATIVE PAYMENT AMOUNT",DIR("A")="NO RECEIPT CAN BE CREATED - PRESS RETURN TO CONTINUE " D ^DIR K DIR S RCSTOP=1
"RTN","RCDPEWL4",67,0)
 I 'RCOK S DIR(0)="EA",DIR("A")="NO RECEIPT CAN BE CREATED - NO POSTABLE LINE ITEMS WERE FOUND" W ! D ^DIR K DIR G NEWRECQ
"RTN","RCDPEWL4",68,0)
 ;
"RTN","RCDPEWL4",69,0)
 S RCHAC=$$HACERA^RCDPEU(RCSCR)
"RTN","RCDPEWL4",70,0)
 S RCPAYTY=$S(RCHAC:8,$P($G(^RCY(344.4,+RCSCR,5)),U,2)="":14,1:4)
"RTN","RCDPEWL4",71,0)
 S RCDEP=""
"RTN","RCDPEWL4",72,0)
 I RCPAYTY=4 D
"RTN","RCDPEWL4",73,0)
 . N RCOK1
"RTN","RCDPEWL4",74,0)
 . F  D  Q:RCOK1
"RTN","RCDPEWL4",75,0)
 .. S RCOK1=1
"RTN","RCDPEWL4",76,0)
 .. S DIC="^RCY(344.1,",DIC("S")="I $P(^(0),U,12)=1",DIC(0)="AEMQ" D ^DIC
"RTN","RCDPEWL4",77,0)
 .. Q:Y'>0
"RTN","RCDPEWL4",78,0)
 .. S RCDEP=+Y
"RTN","RCDPEWL4",79,0)
 .. I RCDEP,$$TOOOLD^RCDPEWLA(RCDEP) S RCOK1=0,RCDEP=""
"RTN","RCDPEWL4",80,0)
 S RECTDA=$$BLDRCPT^RCDPUREC(DT,+RCDEP_$S(RCPAYTY=4:"ERACHK",1:""),+$O(^RC(341.1,"AC",+RCPAYTY,0))) ; Note:ERA with paper check is type 4, but receipt needs to start with an 'E'
"RTN","RCDPEWL4",81,0)
 I 'RECTDA W ! S DIR(0)="EA",DIR("A",1)="A PROBLEM WAS ENCOUNTERED ADDING THE RECEIPT - NO RECEIPT ADDED",DIR("A")="PRESS RETURN TO CONTINUE" W ! D ^DIR K DIR G NEWRECQ
"RTN","RCDPEWL4",82,0)
 ;
"RTN","RCDPEWL4",83,0)
 D RCPTDET^RCDPEM(RCSCR,RECTDA,.RCER)
"RTN","RCDPEWL4",84,0)
 ;
"RTN","RCDPEWL4",85,0)
 S DIE="^RCY(344.49,",DA=RCSCR,DR=".02////"_RECTDA D ^DIE
"RTN","RCDPEWL4",86,0)
 S DIE="^RCY(344.4,",DA=RCSCR,DR=".08////"_RECTDA D ^DIE
"RTN","RCDPEWL4",87,0)
 S Z=+$O(^RCY(344.31,"AERA",RCSCR,0))
"RTN","RCDPEWL4",88,0)
 S DIE="^RCY(344,",DA=RECTDA,DR=".18////"_RCSCR_$S(Z:";.17////"_Z,1:"")_$S(RCPAYTY=4:";.06////"_RCDEP,1:"")_$S($P($G(^RCY(344.31,Z,0)),U,15)'="":";.16////"_$P(^RCY(344.31,Z,0),U,15),1:"") D ^DIE
"RTN","RCDPEWL4",89,0)
 ;
"RTN","RCDPEWL4",90,0)
 I $O(RCER(0)) D
"RTN","RCDPEWL4",91,0)
 . S CT=1,DIR(0)="EA",DIR("A",1)="THE FOLLOWING PROBLEMS OCCURRED WHILE ADDING THE RECEIPT: "
"RTN","RCDPEWL4",92,0)
 . S Z=0 F  S Z=$O(RCER(Z)) Q:'Z  S CT=CT+1,DIR("A",CT)=RCER(Z)
"RTN","RCDPEWL4",93,0)
 . S DIR("A")="PRESS RETURN TO CONTINUE "
"RTN","RCDPEWL4",94,0)
 . W ! D ^DIR K DIR
"RTN","RCDPEWL4",95,0)
 ;
"RTN","RCDPEWL4",96,0)
 S DIR(0)="YA",DIR("A")="DO YOU WANT TO GO TO RECEIPT PROCESSING NOW? ",DIR("A",1)=" ",DIR("A",2)="RECEIPT "_$P($G(^RCY(344,+RECTDA,0)),U)_" HAS BEEN CREATED FOR THIS ERA",DIR("B")="YES" W ! D ^DIR K DIR
"RTN","RCDPEWL4",97,0)
 I Y=1 S RCRECTDA=RECTDA D EN^VALM("RCDP RECEIPT PROFILE")
"RTN","RCDPEWL4",98,0)
 S RCSCR=0
"RTN","RCDPEWL4",99,0)
 S VALMBCK="Q"
"RTN","RCDPEWL4",100,0)
 ;
"RTN","RCDPEWL4",101,0)
NEWRECQ Q
"RTN","RCDPEWL4",102,0)
 ;
"RTN","RCDPEWL4",103,0)
VRECPT ; Preview receipt lines
"RTN","RCDPEWL4",104,0)
 ; Assume RCSCR = ien from file 344.49 (and 344.4)
"RTN","RCDPEWL4",105,0)
 N DIR,RCOK,RCZ,X,Y,Z,Z0
"RTN","RCDPEWL4",106,0)
 D FULL^VALM1
"RTN","RCDPEWL4",107,0)
 S VALMBCK="R"
"RTN","RCDPEWL4",108,0)
 I $S($P($G(^RCY(344.4,RCSCR,4)),U,2)]"":1,1:0) D VR^RCDPEWLP(RCSCR) G VRECPTQ   ; prca*4.5*298  auto-posted ERAs are handled differently
"RTN","RCDPEWL4",109,0)
 ;
"RTN","RCDPEWL4",110,0)
 ;
"RTN","RCDPEWL4",111,0)
 ; prca*4.5*298  per patch requirements, keep code related to creating/maintaining
"RTN","RCDPEWL4",112,0)
 ; batches but just remove from execution.
"RTN","RCDPEWL4",113,0)
 ; I $G(^TMP("RCBATCH_SELECTED",$J)) D NOBATCH^RCDPEWL Q
"RTN","RCDPEWL4",114,0)
 ;I $O(^RCY(344.49,RCSCR,3,0)) D  Q:'RCOK
"RTN","RCDPEWL4",115,0)
 ;. S RCOK=1
"RTN","RCDPEWL4",116,0)
 ;. S Z=0 F  S Z=$O(^RCY(344.49,RCSCR,3,Z)) Q:'Z  I '$P($G(^(Z,0)),U,3) S RCOK=0 Q
"RTN","RCDPEWL4",117,0)
 ;. I 'RCOK S DIR(0)="EA",DIR("A",1)="A RECEIPT CANNOT BE PREVIEWED UNTIL ALL BATCHES FOR THIS ERA ARE MARKED AS",DIR("A",2)="'READY TO POST'",DIR("A")="PRESS RETURN TO CONTINUE " W ! D ^DIR K DIR
"RTN","RCDPEWL4",118,0)
 ; end of prca*4.5*298
"RTN","RCDPEWL4",119,0)
 S Z=0 F  S Z=$O(^RCY(344.49,RCSCR,1,Z)) Q:'Z  I $P(Z,".",2) S Z0=$G(^(Z,0)) I $P(Z0,U,6)<0 S RCZ($P(Z0,U))=$P(Z0,U,2)_U_$P(Z0,U,6)
"RTN","RCDPEWL4",120,0)
 I $O(RCZ(""))'="" D
"RTN","RCDPEWL4",121,0)
 . W !,"THE FOLLOWING LINES HAVE A NET PAYMENT LESS THAN 0.  THESE LINES MUST HAVE",!,"THIS NEGATIVE AMOUNT DISTRIBUTED TO OTHER LINE(S) IN THE ERA BEFORE A",!,"RECEIPT CAN BE CREATED."
"RTN","RCDPEWL4",122,0)
 . S Z="" F  S Z=$O(RCZ(Z)) Q:Z=""  W !,$J("",5)_$J(Z,10)_"  "_$E($P(RCZ(Z),U)_$J("",15),1,15)_"  "_$J(+$P(RCZ(Z),U,2),"",2)
"RTN","RCDPEWL4",123,0)
 . W !
"RTN","RCDPEWL4",124,0)
 . S DIR(0)="E" D ^DIR K DIR
"RTN","RCDPEWL4",125,0)
 ;
"RTN","RCDPEWL4",126,0)
 D EN^VALM("RCDPE EOB RECEIPT PREVIEW")
"RTN","RCDPEWL4",127,0)
VRECPTQ ;
"RTN","RCDPEWL4",128,0)
 S VALMBCK=$S('$G(RCSCR):"Q",1:"R")
"RTN","RCDPEWL4",129,0)
 Q
"RTN","RCDPEWL4",130,0)
 ;
"RTN","RCDPEWL4",131,0)
 ; PRCA*4.5*303 - Receipt Processing 
"RTN","RCDPEWL4",132,0)
RECPROC ; Receipt Processing
"RTN","RCDPEWL4",133,0)
 ; Called by RCDPE EOB WORKLIST RECEIPT PROCESSING protocol
"RTN","RCDPEWL4",134,0)
 ; Assume RCSCR is the IEN from file 344.49 (and 344.4)
"RTN","RCDPEWL4",135,0)
 ; Variable RCRECTDA is needed by RECEIPT PROFILE so is not newed
"RTN","RCDPEWL4",136,0)
 ; Variable RCDPFXIT is used by RCDPLPLM for immediate exit so newed it here so that does not happen
"RTN","RCDPEWL4",137,0)
 ;
"RTN","RCDPEWL4",138,0)
 N ARRAY,RECIEN,RECEIPT,CNT,DIR,X,Y,DTOUT,DUOUT,DROUT,DIRUT,I,LIST,RCDPFXIT
"RTN","RCDPEWL4",139,0)
 D FULL^VALM1
"RTN","RCDPEWL4",140,0)
 S VALMBCK="R"
"RTN","RCDPEWL4",141,0)
 ;
"RTN","RCDPEWL4",142,0)
 ; Get list of receipts from the ERA detail multiple
"RTN","RCDPEWL4",143,0)
 S RECIEN=0,CNT=0
"RTN","RCDPEWL4",144,0)
 F  S RECIEN=$O(^RCY(344.4,RCSCR,1,"RECEIPT",RECIEN)) Q:'RECIEN  D
"RTN","RCDPEWL4",145,0)
 . S RECEIPT=$P($G(^RCY(344,RECIEN,0)),U)
"RTN","RCDPEWL4",146,0)
 . I RECEIPT]"" S CNT=CNT+1,ARRAY(CNT)=RECEIPT_"^"_RECIEN
"RTN","RCDPEWL4",147,0)
 ;
"RTN","RCDPEWL4",148,0)
 ; The array of receipts does not exist, this could be a non auto-posted ERA; so only 1 receipt will be assigned; retrieve at 344.4, .08
"RTN","RCDPEWL4",149,0)
 I '$D(ARRAY),$$GET1^DIQ(344.4,RCSCR_",",.08)'="" S CNT=1,ARRAY(1)=$$GET1^DIQ(344.4,RCSCR_",",.08,"E")_"^"_$$GET1^DIQ(344.4,RCSCR_",",.08,"I")
"RTN","RCDPEWL4",150,0)
 ;
"RTN","RCDPEWL4",151,0)
 ; No receipt - display mesage and quit
"RTN","RCDPEWL4",152,0)
 I CNT=0 K DIR S DIR("A",1)="No receipts exist for this ERA." G RECPROCQ
"RTN","RCDPEWL4",153,0)
 ;
"RTN","RCDPEWL4",154,0)
 ; One receipt - Use it
"RTN","RCDPEWL4",155,0)
 I CNT=1 S RCRECTDA=$P(ARRAY(1),U,2) G RECPROC1
"RTN","RCDPEWL4",156,0)
 ;
"RTN","RCDPEWL4",157,0)
 ; Multiple receipts - User needs to select
"RTN","RCDPEWL4",158,0)
 W !
"RTN","RCDPEWL4",159,0)
 S LIST=""
"RTN","RCDPEWL4",160,0)
 F I=1:1:CNT S LIST=LIST_$S(LIST]"":";",1:"")_I_":"_$P(ARRAY(I),U,1)
"RTN","RCDPEWL4",161,0)
 S DIR(0)="SO^"_LIST,DIR("A")="Select Receipt"
"RTN","RCDPEWL4",162,0)
 D ^DIR
"RTN","RCDPEWL4",163,0)
 I Y<1!(Y>CNT) K DIR S DIR("A",1)="No selection made" G RECPROCQ
"RTN","RCDPEWL4",164,0)
 S RCRECTDA=$P(ARRAY(Y),U,2)
"RTN","RCDPEWL4",165,0)
RECPROC1 ;
"RTN","RCDPEWL4",166,0)
 D EN^VALM("RCDP RECEIPT PROFILE")
"RTN","RCDPEWL4",167,0)
 ; If RCDPFXIT is set, exit option entirely was selected so quit back to the menu
"RTN","RCDPEWL4",168,0)
 I $G(RCDPFXIT) S VALMBCK="Q"
"RTN","RCDPEWL4",169,0)
 Q
"RTN","RCDPEWL4",170,0)
 ;
"RTN","RCDPEWL4",171,0)
RECPROCQ ;
"RTN","RCDPEWL4",172,0)
 ; Display the message in DIR("A",1) and then press enter
"RTN","RCDPEWL4",173,0)
 S DIR(0)="EA",DIR("A")="Press ENTER to continue: "
"RTN","RCDPEWL4",174,0)
 W ! D ^DIR K DIR
"RTN","RCDPEWL4",175,0)
 Q
"RTN","RCDPEWL6")
0^31^B81815547
"RTN","RCDPEWL6",1,0)
RCDPEWL6 ;ALB/TMK/KML - ELECTRONIC EOB WORKLIST ACTIONS ;Jun 06, 2014@19:11:19
"RTN","RCDPEWL6",2,0)
 ;;4.5;Accounts Receivable;**173,208,222,276,298,303**;Mar 20, 1995;Build 84
"RTN","RCDPEWL6",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPEWL6",4,0)
 Q
"RTN","RCDPEWL6",5,0)
 ;
"RTN","RCDPEWL6",6,0)
DISTADJ ; Distribute an adjustment that retracts a payment to other bill(s)
"RTN","RCDPEWL6",7,0)
 ; NOTE: RCSCR is assumed to be the IEN of the ERA entry in file 344.49
"RTN","RCDPEWL6",8,0)
 N RCDA,RCDA1,RCAMT,RCADJ,RCQUIT,Z,Z0,Z1,DIR,X,Y,CT,RCZ,RCZ1,RCZ2,RCADJOK,TOT,DTOUT,DUOUT
"RTN","RCDPEWL6",9,0)
 N RCNONSP,RCACTIVE,RCZZ1,RCZZ2,RCADJSTR  ; prca276 - variables used to establish non-specific payment adjustments and AR BILL claim status (fix to negative claim balance issue)
"RTN","RCDPEWL6",10,0)
 D FULL^VALM1
"RTN","RCDPEWL6",11,0)
 I $S($P($G(^RCY(344.4,RCSCR,4)),U,2)]"":1,1:0) D NOEDIT^RCDPEWLP G DISTQ   ;prca*4.5*298  auto-posted ERAs cannot enter dISTRIBUTE ADJ AMTS action      
"RTN","RCDPEWL6",12,0)
 I $G(RCSCR("NOEDIT")) D NOEDIT^RCDPEWL G DISTQ
"RTN","RCDPEWL6",13,0)
 I $G(^TMP("RCBATCH_SELECTED",$J)) D NOBATCH^RCDPEWL G DISTQ
"RTN","RCDPEWL6",14,0)
 ;
"RTN","RCDPEWL6",15,0)
 S Z=0,RCADJOK="" F  S Z=$O(^TMP("RCDPE-EOB_WLDX",$J,Z)) Q:'Z  S Z1=+$P($G(^(Z)),U,2),Z0=$G(^RCY(344.49,RCSCR,1,Z1,0)) D
"RTN","RCDPEWL6",16,0)
 . I $P(Z0,U)'["." S RCADJOK=($P(Z0,U,2)["**ADJ") Q
"RTN","RCDPEWL6",17,0)
 . I '$P(Z0,U,7),'RCADJOK Q  ; Suspense item cannot be used to adjust
"RTN","RCDPEWL6",18,0)
 . I $P(Z0,U,6)<0 S RCZ(Z)=$P(Z0,U,6)_U_Z1 Q
"RTN","RCDPEWL6",19,0)
 . I $P(Z0,U,6)>0 D  Q
"RTN","RCDPEWL6",20,0)
 .. N Q,ONHLD,IBA
"RTN","RCDPEWL6",21,0)
 .. S ONHLD=0
"RTN","RCDPEWL6",22,0)
 .. I $P(Z0,U,7) I $$IB^IBRUTL(+$P(Z0,U,7),1) S Q=0 F  S Q=$O(IBA(Q)) Q:'Q  I $P($G(^IB(+IBA(Q),0)),U,5)=8 S ONHLD=1 Q
"RTN","RCDPEWL6",23,0)
 .. S RCZ1(+$P(Z0,U,6),Z)=Z1_U_ONHLD,RCZ2(Z)=Z1_U_$P(Z0,U,6)_U_ONHLD Q
"RTN","RCDPEWL6",24,0)
 ;
"RTN","RCDPEWL6",25,0)
 I $O(RCZ(0))="" D  G DISTQ
"RTN","RCDPEWL6",26,0)
 . S DIR(0)="EA",DIR("A",1)="NO LINES EXIST NEEDING ADJUSTMENT DISTRIBUTION",DIR("A")="PRESS RETURN TO CONTINUE" W ! D ^DIR K DIR
"RTN","RCDPEWL6",27,0)
 ;
"RTN","RCDPEWL6",28,0)
 I $O(RCZ1(0))="" D  G DISTQ
"RTN","RCDPEWL6",29,0)
 . S DIR(0)="EA",DIR("A",1)="NO VALID LINES EXIST ON THIS ERA WHERE A DISTRIBUTION CAN BE MADE",DIR("A",2)=$$WHAT(RCSCR),DIR("A")="PRESS RETURN TO CONTINUE" W ! D ^DIR K DIR
"RTN","RCDPEWL6",30,0)
 ;
"RTN","RCDPEWL6",31,0)
 S RCQUIT=0
"RTN","RCDPEWL6",32,0)
 F  S DIR(0)="NA^1:9999:3",DIR("A")="SELECT A LINE THAT NEEDS AN ADJUSTMENT AMOUNT DISTRIBUTED: " D  Q:RCQUIT
"RTN","RCDPEWL6",33,0)
 . S DIR("?",1)="THE FOLLOWING LINE(S) HAVE AN ADJUSTMENT THAT CAUSED A NEGATIVE NET PAYMENT.",DIR("?",2)="IN ORDER TO BALANCE THE RECEIPT AND THE DEPOSIT, THESE AMOUNTS WILL NEED TO",DIR("?",3)="  BE DISTRIBUTED TO OTHER LINE(S)",CT=3
"RTN","RCDPEWL6",34,0)
 . S Z=0
"RTN","RCDPEWL6",35,0)
 . F  S Z=$O(RCZ(Z)) Q:'Z  S CT=CT+1,DIR("?",CT)="  "_$J(Z,8)_"  "_$J($P(RCZ(Z),U),15,2)
"RTN","RCDPEWL6",36,0)
 . S DIR("?")=" "
"RTN","RCDPEWL6",37,0)
 . I $O(RCZ(0))=$O(RCZ(""),-1) S DIR("B")=$O(RCZ(0))
"RTN","RCDPEWL6",38,0)
 . W ! D ^DIR K DIR
"RTN","RCDPEWL6",39,0)
 . I $D(DUOUT)!$D(DTOUT)!(Y="") S RCQUIT=1,RCDA="" Q
"RTN","RCDPEWL6",40,0)
 . I '$D(^TMP("RCDPE-EOB_WLDX",$J,Y)) W !,"THIS LINE DOES NOT EXIST FOR THIS ERA" W ! Q
"RTN","RCDPEWL6",41,0)
 . I '$D(RCZ(Y)) D  Q:Y=""
"RTN","RCDPEWL6",42,0)
 .. I Y'[".",$D(RCZ(Y_".001")),$O(RCZ(Y+1),-1)=(Y_".001") S Y=Y_".001" Q
"RTN","RCDPEWL6",43,0)
 .. W !,$S(Y["."!($O(RCZ(Y))\1'=(Y\1)):"THIS LINE DOESN'T NEED AN ADJUSTMENT DISTRIBUTION",1:"PLEASE ENTER THE ENTIRE LINE # (Such as: 1.001)") W !
"RTN","RCDPEWL6",44,0)
 .. S Y=""
"RTN","RCDPEWL6",45,0)
 . W !,"  LINE #: "_+Y_"  AMOUNT NEEDED TO DISTRIBUTE: "_$J(+RCZ(Y),"",2),!
"RTN","RCDPEWL6",46,0)
 . ; RCDA = the ien of the line in file 344.491
"RTN","RCDPEWL6",47,0)
 . ; RCDA(1) = the line #        RCDA(2) = the amount to be adjusted (+)
"RTN","RCDPEWL6",48,0)
 . S RCDA=$P(RCZ(Y),U,2),RCDA(1)=Y,RCQUIT=1,RCDA(2)=-$P(RCZ(Y),U)
"RTN","RCDPEWL6",49,0)
 ;
"RTN","RCDPEWL6",50,0)
 G:$G(RCDA)="" DISTQ
"RTN","RCDPEWL6",51,0)
 ;
"RTN","RCDPEWL6",52,0)
 S RCQUIT=0
"RTN","RCDPEWL6",53,0)
 ;
"RTN","RCDPEWL6",54,0)
 ; PRCA*4.5*303 - May miss if multiple amounts are equal, changed calculation to use RCZ2 instead of RCZ1 
"RTN","RCDPEWL6",55,0)
 ; Old code: S (TOT,Z)=0 F  S Z=$O(RCZ1(Z)) Q:'Z  S TOT=TOT+Z
"RTN","RCDPEWL6",56,0)
 S (TOT,Z)=0 F  S Z=$O(RCZ2(Z)) Q:'Z  S TOT=TOT+$P(RCZ2(Z),U,2)
"RTN","RCDPEWL6",57,0)
 I TOT<RCDA(2) D  G DISTQ
"RTN","RCDPEWL6",58,0)
 . S DIR(0)="EA",DIR("A",1)="THE ERA DOES NOT HAVE ENOUGH VALID PAYMENTS TO OFFSET THIS DISTRIBUTION",DIR("A",2)=$$WHAT(RCSCR),DIR("A")="PRESS RETURN TO CONTINUE" W ! D ^DIR K DIR
"RTN","RCDPEWL6",59,0)
 F  S DIR(0)="NA^1:9999:3",DIR("A")="SELECT A LINE TO DISTRIBUTE THE ADJUSTMENT AMOUNT TO: " D  Q:RCQUIT
"RTN","RCDPEWL6",60,0)
 . S DIR("?",1)="THE FOLLOWING LINE(S) HAVE A NET PAYMENT THAT CAN BE USED TO OFFSET THE",DIR("?",2)="  NEGATIVE NET PAYMENT FOR LINE "_RCDA(1)_" ("_$J(+$P(RCZ(RCDA(1)),U),"",2)_"):",CT=2
"RTN","RCDPEWL6",61,0)
 . S Z="" F  S Z=$O(RCZ1(Z),-1) Q:'Z  S Z0=0 F  S Z0=$O(RCZ1(Z,Z0)) Q:'Z0  S CT=CT+1,DIR("?",CT)="  "_$J(Z0,8)_"  "_$J(+Z,15,2)_$S($P(RCZ1(Z,Z0),U,2):" On hold exists",1:"")
"RTN","RCDPEWL6",62,0)
 . S DIR("?")=" "
"RTN","RCDPEWL6",63,0)
 . I $O(RCZ2(0))=$O(RCZ2(""),-1) S DIR("B")=$O(RCZ2(0))
"RTN","RCDPEWL6",64,0)
 . W ! D ^DIR K DIR
"RTN","RCDPEWL6",65,0)
 . I $D(DUOUT)!$D(DTOUT)!(Y="") S RCQUIT=1,RCDA1="" Q
"RTN","RCDPEWL6",66,0)
 . I '$D(^TMP("RCDPE-EOB_WLDX",$J,Y)) W !,"THIS LINE DOES NOT EXIST FOR THIS ERA" W ! Q
"RTN","RCDPEWL6",67,0)
 . I '$D(RCZ2(Y)) D  Q:Y=""
"RTN","RCDPEWL6",68,0)
 .. I Y'[".",$D(RCZ2(Y_".001")),$O(RCZ2(Y+1),-1)=(Y_".001") S Y=Y_".001" Q
"RTN","RCDPEWL6",69,0)
 .. I Y'[".",$O(RCZ2(Y))\1'=Y S Y=Y_"."
"RTN","RCDPEWL6",70,0)
 .. W !,$S(Y[".":"THIS LINE CANNOT BE USED FOR AN ADJUSTMENT DISTRIBUTION",1:"PLEASE ENTER THE ENTIRE LINE # (Such as: 1.001)") W !
"RTN","RCDPEWL6",71,0)
 .. S Y=""
"RTN","RCDPEWL6",72,0)
 . ; prca276 - next few lines represent the a fix to prevent distributions agains collected/closed claims (claim balance = zero dollars)
"RTN","RCDPEWL6",73,0)
 . ;distributions should only occur on line items that have specific payments against active claims 
"RTN","RCDPEWL6",74,0)
 . S RCZZ1=$P(^TMP("RCDPE-EOB_WLDX",$J,Y),U,2) ; get line item sequence # off the VIEW order before accessing the scratchpad
"RTN","RCDPEWL6",75,0)
 . S (RCZZ2,RCNONSP)=0 F  S RCZZ2=$O(^RCY(344.49,RCSCR,1,RCZZ1,1,RCZZ2)) Q:'RCZZ2  Q:RCNONSP  S RCADJSTR=$G(^(RCZZ2,0)) S RCNONSP=$S($P(RCADJSTR,U,2)=3:1,$P(RCADJSTR,U,2)=5:1,1:0)    ;identify if non-specific payment adjustments exist
"RTN","RCDPEWL6",76,0)
 . ; do not evaluate claim status for non-specific payment adjustments
"RTN","RCDPEWL6",77,0)
 . I 'RCNONSP D  Q:'RCACTIVE
"RTN","RCDPEWL6",78,0)
 . . S RCACTIVE=$$GET1^DIQ(430,$P(^RCY(344.49,RCSCR,1,RCZZ1,0),U,7),8)
"RTN","RCDPEWL6",79,0)
 . . I (RCACTIVE'="ACTIVE")&(RCACTIVE'="OPEN") S RCACTIVE=0 W !,"THIS IS NOT AN ACTIVE BILL !",!,"CANNOT PERFORM DISTRIBUTION TO THIS CLAIM",! Q
"RTN","RCDPEWL6",80,0)
 . . S RCACTIVE=1
"RTN","RCDPEWL6",81,0)
 . I $P(RCZ2(Y),U,3) W !,"Warning - on-hold exists for this claim",!
"RTN","RCDPEWL6",82,0)
 . W !,"  LINE #: "_+Y_"  LINE BALANCE: "_$J(+$P(RCZ2(Y),U,2),"",2),!
"RTN","RCDPEWL6",83,0)
 . ; RCDA1 = the ien of the line in file 344.491
"RTN","RCDPEWL6",84,0)
 . ; RCDA1(1) = the line # in the display
"RTN","RCDPEWL6",85,0)
 . S RCDA1(1)=Y,RCDA1=+$G(RCZ2(Y)),RCQUIT=1
"RTN","RCDPEWL6",86,0)
 . S Z=$O(^RCY(344.49,RCSCR,1,"B",RCDA1(1)\1,0))
"RTN","RCDPEWL6",87,0)
 . S RCADJ=0
"RTN","RCDPEWL6",88,0)
 . I $P($G(^RCY(344.49,RCSCR,1,Z,0)),U,2)["**ADJ" S RCADJ=1 W !,"THE LINE SELECTED IS AN ADDITIONAL PAYMENT LINE, NOT SPECIFIC TO A CLAIM",!,"THE AMT WILL BE DISTRIBUTED, BUT A DECREASE ADJUSTMENT WILL NOT BE PERFORMED",!
"RTN","RCDPEWL6",89,0)
 ;
"RTN","RCDPEWL6",90,0)
 G:'$G(RCDA1) DISTQ
"RTN","RCDPEWL6",91,0)
 ;
"RTN","RCDPEWL6",92,0)
 S DIR("B")=$S(RCDA(2)<$P(RCZ2(RCDA1(1)),U,2):$J(RCDA(2),"",2),1:$J($P(RCZ2(+RCDA1(1)),U,2),"",2))
"RTN","RCDPEWL6",93,0)
 S DIR(0)="NA^.01:"_DIR("B")_":2",DIR("A")="ADJUSTMENT AMOUNT TO DISTRIBUTE: "
"RTN","RCDPEWL6",94,0)
 S DIR("?",1)="THIS IS THE AMOUNT OF THE ADJUSTMENT THAT SHOULD BE APPLIED TO THIS",DIR("?")="PAYMENT LINE.  THE AMT ENTERED MUST BE BETWEEN .01 AND "_$J(DIR("B"),"",2)
"RTN","RCDPEWL6",95,0)
 D ^DIR K DIR
"RTN","RCDPEWL6",96,0)
 ;
"RTN","RCDPEWL6",97,0)
 I $D(DUOUT)!$D(DTOUT)!'Y D  G DISTQ
"RTN","RCDPEWL6",98,0)
 . S DIR(0)="EA",DIR("A",1)="NO AMOUNT WAS ENTERED - TRY AGAIN LATER",DIR("A")="PRESS RETURN TO CONTINUE " D ^DIR K DIR
"RTN","RCDPEWL6",99,0)
 S RCAMT=$J(Y,"",2)
"RTN","RCDPEWL6",100,0)
 ;
"RTN","RCDPEWL6",101,0)
 D ^DIR K DIR
"RTN","RCDPEWL6",102,0)
 I $D(DUOUT)!$D(DTOUT) D  G DISTQ
"RTN","RCDPEWL6",103,0)
 . S DIR(0)="EA",DIR("A")="USER ABORT - PRESS RETURN TO CONTINUE " D ^DIR K DIR
"RTN","RCDPEWL6",104,0)
 ;
"RTN","RCDPEWL6",105,0)
 S Y=""
"RTN","RCDPEWL6",106,0)
 I 'RCADJ D  G:'$D(RCDA) DISTQ
"RTN","RCDPEWL6",107,0)
 . N Z,RCA
"RTN","RCDPEWL6",108,0)
 . S RCA=0,Z1=+$P($G(^TMP("RCDPE-EOB_WLDX",$J,RCDA(1)\1)),U,2),Z=$G(^RCY(344.49,RCSCR,1,Z1,0)),RCA("#")=+$P($P(Z,U,2),"**ADJ",2)
"RTN","RCDPEWL6",109,0)
 . I $P(Z,U,2)["**ADJ" D
"RTN","RCDPEWL6",110,0)
 .. S RCA=1
"RTN","RCDPEWL6",111,0)
 .. S RCA("REF")=$S(RCA("#"):$P($G(^RCY(344.4,RCSCR,2,RCA("#"),0)),U),1:$P(Z,U,9))
"RTN","RCDPEWL6",112,0)
 . S Z=$S(RCA:RCA("#"),1:$G(^RCY(344.49,RCSCR,1,RCDA,0)))
"RTN","RCDPEWL6",113,0)
 . S DIR(0)="FAO^1:60",DIR("A")="  > ",DIR("A",1)="DECREASE ADJ COMMENT (1-60 CHARACTERS): "
"RTN","RCDPEWL6",114,0)
 . S DIR("B")="RETRACTED FOR "
"RTN","RCDPEWL6",115,0)
 . S DIR("B")=DIR("B")_$S(RCA:"ERA ADJ #"_Z_" Ref: "_RCA("REF"),1:"CLAIM "_$S($P(Z,U,2)'="":$P(Z,U,2),1:"UNKNOWN"))
"RTN","RCDPEWL6",116,0)
 . I $L(DIR("B"))>60 S DIR("B")=$E(DIR("B"),1,60)
"RTN","RCDPEWL6",117,0)
 . D ^DIR K DIR
"RTN","RCDPEWL6",118,0)
 . ;
"RTN","RCDPEWL6",119,0)
 . I $D(DUOUT)!$D(DTOUT) D  Q
"RTN","RCDPEWL6",120,0)
 .. K RCDA
"RTN","RCDPEWL6",121,0)
 .. S DIR(0)="EA",DIR("A")="USER ABORT - PRESS RETURN TO CONTINUE " D ^DIR K DIR
"RTN","RCDPEWL6",122,0)
 ;
"RTN","RCDPEWL6",123,0)
 D DISTADJ^RCDPEWL4(RCDA,RCDA1,RCAMT,Y)
"RTN","RCDPEWL6",124,0)
 ;
"RTN","RCDPEWL6",125,0)
DISTQ S VALMBCK="R"
"RTN","RCDPEWL6",126,0)
 Q
"RTN","RCDPEWL6",127,0)
 ;
"RTN","RCDPEWL6",128,0)
REFRESH ; Refresh the entry in file 344.49 to remove all user adjustments
"RTN","RCDPEWL6",129,0)
 N DA,DIK,DIR,RCQUIT,RCREDEF,X,Y,Z,Z0
"RTN","RCDPEWL6",130,0)
 D FULL^VALM1
"RTN","RCDPEWL6",131,0)
 I $S($P($G(^RCY(344.4,RCSCR,4)),U,2)]"":1,1:0) D NOEDIT^RCDPEWLP G REFQ   ;prca*4.5*298  auto-posted ERAs cannot enter REFRESH SCRATCHPAD action      
"RTN","RCDPEWL6",132,0)
 I $G(RCSCR("NOEDIT")) D NOEDIT^RCDPEWL G REFQ
"RTN","RCDPEWL6",133,0)
 ; prca*4.5*298  per patch requirements, keep code related to creating/maintaining
"RTN","RCDPEWL6",134,0)
 ; batches but just remove from execution
"RTN","RCDPEWL6",135,0)
 ;I $G(^TMP("RCBATCH_SELECTED",$J)) D NOBATCH^RCDPEWL G REFQ  ;prca*4.5*298
"RTN","RCDPEWL6",136,0)
 S DIR(0)="YA"
"RTN","RCDPEWL6",137,0)
 S DIR("A",1)="THIS ACTION WILL DELETE AND REBUILD THIS EEOB WORKLIST SCRATCH PAD ENTRY",DIR("A",2)="ALL EDITS/SPLITS/DISTRIBUTE ADJUSTMENTS ENTERED FOR THIS ERA WILL BE ERASED"
"RTN","RCDPEWL6",138,0)
 S DIR("A",3)="AND ALL ENTRIES MARKED AS MANUALLY VERIFIED WILL BE UNMARKED",DIR("A",4)=" "
"RTN","RCDPEWL6",139,0)
 S DIR("A")="ARE YOU SURE YOU WANT TO DO THIS?: "
"RTN","RCDPEWL6",140,0)
 W ! D ^DIR K DIR
"RTN","RCDPEWL6",141,0)
 I Y'=1 G REFQ
"RTN","RCDPEWL6",142,0)
 ; prca*4.5*298  per patch requirements, keep code related to creating/maintaining
"RTN","RCDPEWL6",143,0)
 ; batches but just remove from execution
"RTN","RCDPEWL6",144,0)
 ;I $O(^RCY(344.49,RCSCR,3,0)) S RCQUIT=0 D  I RCQUIT G REFQ
"RTN","RCDPEWL6",145,0)
 ;. S DIR(0)="YA",DIR("A")="DO YOU WANT TO REDEFINE YOUR BATCHES TOO?: ",DIR("B")="NO" W ! D ^DIR K DIR
"RTN","RCDPEWL6",146,0)
 ;. I $D(DTOUT)!$D(DUOUT) S RCQUIT=1 Q
"RTN","RCDPEWL6",147,0)
 ;. S RCREDEF=+Y
"RTN","RCDPEWL6",148,0)
 ;. K ^TMP($J,"BATCHES")
"RTN","RCDPEWL6",149,0)
 ;. S Z=0 F  S Z=$O(^RCY(344.49,RCSCR,3,Z)) Q:'Z  S Z0=$G(^(Z,0)) D
"RTN","RCDPEWL6",150,0)
 ;.. I RCREDEF S DA=Z,DA(1)=RCSCR,DIK="^RCY(344.49,"_DA(1)_",3," D ^DIK Q
"RTN","RCDPEWL6",151,0)
 ;.. S ^TMP($J,"BATCHES",+$P(Z0,U,6),$P(Z0,U,7))=+Z0_U_$P(Z0,U,8)
"RTN","RCDPEWL6",152,0)
 ;. I 'RCREDEF S ^TMP($J,"BATCHES")=+$O(^TMP($J,"BATCHES",0))
"RTN","RCDPEWL6",153,0)
 ;. I RCREDEF D SETBATCH^RCDPEWLB(RCSCR)
"RTN","RCDPEWL6",154,0)
 D ADDLINES^RCDPEWLA(RCSCR)
"RTN","RCDPEWL6",155,0)
 D BLD^RCDPEWL1($G(^TMP($J,"RC_SORTPARM")))
"RTN","RCDPEWL6",156,0)
 K ^TMP($J,"BATCHES")
"RTN","RCDPEWL6",157,0)
REFQ S VALMBG=1,VALMBCK="R"
"RTN","RCDPEWL6",158,0)
 Q
"RTN","RCDPEWL6",159,0)
 ;
"RTN","RCDPEWL6",160,0)
WHAT(RCSCR) ; Text for what to do if not enough funds found for dist adj
"RTN","RCDPEWL6",161,0)
 Q $S($O(^RCY(344.31,"AERA",+RCSCR,0)):"THIS ERA MUST BE MOVED TO SUSPENSE",1:"THIS ERA'S RECEIPT MUST BE ENTERED MANUALLY")
"RTN","RCDPEWL6",162,0)
 ;
"RTN","RCDPEWL6",163,0)
ADJUST ; Allow entry into increase/decrease adjustment functions
"RTN","RCDPEWL6",164,0)
 N DIR,X,Y,RCTYP,RCY,DIC
"RTN","RCDPEWL6",165,0)
 D FULL^VALM1
"RTN","RCDPEWL6",166,0)
 ;
"RTN","RCDPEWL6",167,0)
 I $G(RCSCR("NOEDIT"))=2 D NOTAV^RCDPEWL2 G ADJUSTQ
"RTN","RCDPEWL6",168,0)
 ; PRCA*4.5*276 - check for authorized user
"RTN","RCDPEWL6",169,0)
 I '$D(^XUSEC("PRCADJ",DUZ)) D  Q
"RTN","RCDPEWL6",170,0)
 .S DIR(0)="EA",DIR("A",1)="The Adjust (Inc/Dec) Action is locked."
"RTN","RCDPEWL6",171,0)
 .S DIR("A",2)="Please speak to your Supervisor to request the key."
"RTN","RCDPEWL6",172,0)
 .S DIR("A")="PRESS RETURN TO CONTINUE" W ! D ^DIR K DIR
"RTN","RCDPEWL6",173,0)
 ; PRCA*4.5*276 - end of changes
"RTN","RCDPEWL6",174,0)
 ;
"RTN","RCDPEWL6",175,0)
 S DIR(0)="SA^D:DECREASE ADJUSTMENT;I:INCREASE ADJUSTMENT",DIR("B")="DECREASE ADJUSTMENT",DIR("A")="TYPE OF ADJUSTMENT: "
"RTN","RCDPEWL6",176,0)
 W ! D ^DIR K DIR
"RTN","RCDPEWL6",177,0)
 M ^TMP("RC_SAVE_TMP",$J)=^TMP($J)
"RTN","RCDPEWL6",178,0)
 I $D(DUOUT)!$D(DTOUT)!(Y="") G ADJUSTQ
"RTN","RCDPEWL6",179,0)
 ;
"RTN","RCDPEWL6",180,0)
 S RCTYP=$S(Y="D":"DECREASE",1:"INCREASE")
"RTN","RCDPEWL6",181,0)
 F  S RCY=$$GETABILL^RCBEUBIL Q:RCY<0!(RCY'<1)
"RTN","RCDPEWL6",182,0)
 G:RCY<1 ADJUSTQ
"RTN","RCDPEWL6",183,0)
 D ADJUST^RCBEADJ(RCTYP,RCY_";"_RCSCR)
"RTN","RCDPEWL6",184,0)
 I $D(^TMP("RC_BILL",$J,RCY)) D
"RTN","RCDPEWL6",185,0)
 . D UPDBAL(RCY)
"RTN","RCDPEWL6",186,0)
 . W !,"Claim balance is now: ",$J(+$P($$BILL^RCJIBFN2(RCY),U,3),"",2)
"RTN","RCDPEWL6",187,0)
 ;
"RTN","RCDPEWL6",188,0)
ADJUSTQ D RESTMP
"RTN","RCDPEWL6",189,0)
 D RET^RCDPEWL2
"RTN","RCDPEWL6",190,0)
 S VALMBCK="R"
"RTN","RCDPEWL6",191,0)
 Q
"RTN","RCDPEWL6",192,0)
 ;
"RTN","RCDPEWL6",193,0)
RESTMP ;
"RTN","RCDPEWL6",194,0)
 I $D(^TMP("RC_SAVE_TMP",$J)) M ^TMP($J)=^TMP("RC_SAVE_TMP",$J) K ^TMP("RC_SAVE_TMP")
"RTN","RCDPEWL6",195,0)
 Q
"RTN","RCDPEWL6",196,0)
 ;
"RTN","RCDPEWL6",197,0)
UPDBAL(RCY) ; Updates the claim balance if bill exists in list
"RTN","RCDPEWL6",198,0)
 ; RCY = ien of bill in file 430
"RTN","RCDPEWL6",199,0)
 ;
"RTN","RCDPEWL6",200,0)
 N X,Y,Z,Z0,Z1
"RTN","RCDPEWL6",201,0)
 S Z0=$J(+$P($$BILL^RCJIBFN2(RCY),U,3),"",2)
"RTN","RCDPEWL6",202,0)
 S Z=0 F  S Z=$O(^TMP("RC_BILL",$J,RCY,Z)) Q:'Z  D
"RTN","RCDPEWL6",203,0)
 . S X=+$G(^TMP("RCDPE-EOB_WLDX",$J,Z))
"RTN","RCDPEWL6",204,0)
 . Q:'X
"RTN","RCDPEWL6",205,0)
 . S Y=$G(^TMP("RCDPE-EOB_WL",$J,X+1,0))
"RTN","RCDPEWL6",206,0)
 . I Y["Claim Bal: " S Z1=$P(Y,"Claim Bal: ")_"Claim Bal: "_Z0_$G(^TMP("RC_BILL",$J,RCY,Z)),^TMP("RCDPE-EOB_WL",$J,X+1,0)=Z1
"RTN","RCDPEWL6",207,0)
 Q
"RTN","RCDPEWL6",208,0)
 ;
"RTN","RCDPEWLP")
0^37^B166745287
"RTN","RCDPEWLP",1,0)
RCDPEWLP ;ALBANY/KML - EDI LOCKBOX ERA and EEOB WORKLIST procedures ;Oct 15, 2014@12:37:32
"RTN","RCDPEWLP",2,0)
 ;;4.5;Accounts Receivable;**298,303**;Mar 20, 1995;Build 84
"RTN","RCDPEWLP",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPEWLP",4,0)
 ;
"RTN","RCDPEWLP",5,0)
 Q
"RTN","RCDPEWLP",6,0)
 ;
"RTN","RCDPEWLP",7,0)
 ; prca*4.5*298 - procedures built to handle outstanding EFTs; and ERAs with exceptions;
"RTN","RCDPEWLP",8,0)
 ;
"RTN","RCDPEWLP",9,0)
AGEDEFTS(ERADA,TYPE) ; search medical or pharmacy aged EFTs that have not been posted 
"RTN","RCDPEWLP",10,0)
 ; ENTRY point for the Select ERA action on the ERA Worklist screen
"RTN","RCDPEWLP",11,0)
 ; Input - ERADA = IEN in file 344.4
"RTN","RCDPEWLP",12,0)
 ;         TYPE = pharmacy or medical ERA
"RTN","RCDPEWLP",13,0)
 ;                "M" (medical ERA-EFT); "P" (phamacy ERA-EFT);
"RTN","RCDPEWLP",14,0)
 ; Output = 1P - error for aged, unposted pharmacy EFTs
"RTN","RCDPEWLP",15,0)
 ;          2P - warning for aged,unposted medical EFTs
"RTN","RCDPEWLP",16,0)
 ;          3P - Override exists for aged, unposted pharmacy EFTs
"RTN","RCDPEWLP",17,0)
 ;          1M - error for aged, unposted medical EFTs
"RTN","RCDPEWLP",18,0)
 ;          2M - warning for aged, unposted medical EFTs
"RTN","RCDPEWLP",19,0)
 ;          3M - Override exists for aged, unposted medical EFTs
"RTN","RCDPEWLP",20,0)
 ;          0  - there exist no error or warning conditions
"RTN","RCDPEWLP",21,0)
 ;          Can be combinations - "1P" or "2P" or "3P" or "1M" or "2M" or "3M" or "1P^1M" or "1P^2M" or"
"RTN","RCDPEWLP",22,0)
 ;                                "1P^3M" or "2P^1M" or "2P^2M" or "2P^3M" or "3P^1M" or "3P^2M" or "3P^3M"
"RTN","RCDPEWLP",23,0)
 ;
"RTN","RCDPEWLP",24,0)
 ; 1. If there are unposted payments (EFTs) associated with third party medical claims more than 14 calendar days old, 
"RTN","RCDPEWLP",25,0)
 ;       the system shall display a WARNING message for action Select ERA on the ERA WORKLIST, and allow to enter the worklist
"RTN","RCDPEWLP",26,0)
 ; 2. If there are unposted payments (EFTs) associated with pharmacy claims more than 21 calendar days old, 
"RTN","RCDPEWLP",27,0)
 ;       the system shall display a WARNING message for action Select ERA on the ERA WORKLIST, and allow to enter the worklist
"RTN","RCDPEWLP",28,0)
 ; 3. If there are unposted payments (EFTs) associated with third party medical or pharmacy claims, 
"RTN","RCDPEWLP",29,0)
 ;        aged more than the number of days specified in site parameters,
"RTN","RCDPEWLP",30,0)
 ;             the system shall display an error message for action Select ERA on the EEOB WORKLIST [RCDPE EDI LOCKBOX WORKLIST]
"RTN","RCDPEWLP",31,0)
 ;  additional conditions for item 3 below:   
"RTN","RCDPEWLP",32,0)
 ; 3a.  If the user has selected a medical ERA that is 14 days or older, allow the user to create the scratchpad.
"RTN","RCDPEWLP",33,0)
 ; 3b.  If the user has selected a pharmacy ERA that is 21 days or older, allow the user to create the scratchpad.
"RTN","RCDPEWLP",34,0)
 ; 3c.  If an override exists, allow the user to create the scratchpad.
"RTN","RCDPEWLP",35,0)
 ; 3d.  If the user has selected a medical ERA that has been received within 14 days, and there are aged,unposted EFTs, and there is no override, prevent user from entering scratchpad
"RTN","RCDPEWLP",36,0)
 ; 3e.  If the user has selected a pharmacy ERA that has been received within 21 days,and there are aged,unposted EFTs, and there is no override, prevent user from entering scratchpad
"RTN","RCDPEWLP",37,0)
 ;Do not consider EFTs that are older than two months prior to national release.
"RTN","RCDPEWLP",38,0)
 ;  note: EFTs that designated to be auto-posted to a receipt are included in the search for aged, unposted EFTs
"RTN","RCDPEWLP",39,0)
 N X,EFTDA,UNPOST,EFT0,SELERADT,STARTDT,DATE,RC3444,RC34431
"RTN","RCDPEWLP",40,0)
 S UNPOST=0
"RTN","RCDPEWLP",41,0)
 S RC3444=^RCY(344.4,ERADA,0)
"RTN","RCDPEWLP",42,0)
 I '$P(RC3444,U,5) G AEFTSQ   ; ignore selected ERAs that have ZERO payment 
"RTN","RCDPEWLP",43,0)
 S EFTDA=+$O(^RCY(344.31,"AERA",ERADA,0))
"RTN","RCDPEWLP",44,0)
 S:EFTDA RC34431=^RCY(344.31,EFTDA,0)
"RTN","RCDPEWLP",45,0)
 I 'EFTDA,$P(RC3444,U,9)=2 G AEFTSQ   ; ignore selected ERAs that are MATCHED TO PAPER CHECK
"RTN","RCDPEWLP",46,0)
 I 'EFTDA,$P(RC3444,U,15)="CHK" G AEFTSQ  ;ignore selected ERAs that are UNMATCHED and have an EXPECTED PAYMENT CODE of "CHK"
"RTN","RCDPEWLP",47,0)
 I 'EFTDA S SELERADT=$P($P(RC3444,U,7),".")  ; FILE DATE/TIME (344.4, .07) of the selected ERA when there isn't an associated EFT (unmatched ERA)
"RTN","RCDPEWLP",48,0)
 E  S SELERADT=$P(RC34431,U,13)  ; DATE RECEIVED (344.31,.13) of the EFT associated with the selected ERA 
"RTN","RCDPEWLP",49,0)
 I TYPE="P" D  G AEFTSQ
"RTN","RCDPEWLP",50,0)
 . I $$FMDIFF^XLFDT(DT,SELERADT)>21 S UNPOST=0 Q   ;the selected ERA is older than 21 days, quit determination and allow user to enter scratchpad with selected ERA
"RTN","RCDPEWLP",51,0)
 . S UNPOST=$$GETEFTS(TYPE)   ; selected ERA was received less than 21 days ago; gather any unposted, aged EFTs
"RTN","RCDPEWLP",52,0)
 I TYPE="M" D
"RTN","RCDPEWLP",53,0)
 . I $$FMDIFF^XLFDT(DT,SELERADT)>14 S UNPOST=0 Q   ;the selected ERA is older than 14 days, quit determination and allow user to enter scratchpad with selected ERA
"RTN","RCDPEWLP",54,0)
 . S UNPOST=$$GETEFTS(TYPE)  ; selected ERA was received less than 14 days ago; gather any unposted, aged EFTs
"RTN","RCDPEWLP",55,0)
AEFTSQ ; 
"RTN","RCDPEWLP",56,0)
 Q UNPOST
"RTN","RCDPEWLP",57,0)
 ;
"RTN","RCDPEWLP",58,0)
GETEFTS(TYPE,OPTION) ; ENTRY point for Unposted EFT Override option; 
"RTN","RCDPEWLP",59,0)
 ;  Set up search criteria for unposted EFTs; if aged, unposted EFTs exist then generate warning/prevention messages
"RTN","RCDPEWLP",60,0)
 ;  Input
"RTN","RCDPEWLP",61,0)
 ;    TYPE = "M" (medical ERA-EFT); "P" (phamacy ERA-EFT); "B" (both pharmacy and medical)
"RTN","RCDPEWLP",62,0)
 ;    OPTION = if = null or undefined then Select ERA action on the ERA Worklist called this function
"RTN","RCDPEWLP",63,0)
 ;             if = 1 then Override option called this function
"RTN","RCDPEWLP",64,0)
 ;    Output - See output for AGEDEFS
"RTN","RCDPEWLP",65,0)
 ;
"RTN","RCDPEWLP",66,0)
 N OVERRIDE,DAYSLIMIT,OUTCOME,TRARRY,ARRAY,STR,X,DTARRY
"RTN","RCDPEWLP",67,0)
 S OPTION=$G(OPTION)
"RTN","RCDPEWLP",68,0)
 I TYPE="B" S DAYSLIMT("M")=$$GET1^DIQ(344.61,1,.06),DAYSLIMT("P")=$$GET1^DIQ(344.61,1,.07)  ; both medical and pharmacy EFTs need to be evaluated
"RTN","RCDPEWLP",69,0)
 E  S DAYSLIMT(TYPE)=$$GET1^DIQ(344.61,1,$S(TYPE="M":.06,1:.07))   ; number of days an EFT can age before post prevention rules apply
"RTN","RCDPEWLP",70,0)
 S STARTDT=$$CUTOFF
"RTN","RCDPEWLP",71,0)
 D EFTDET(STARTDT,TYPE,.DAYSLIMT,.TRARRY)
"RTN","RCDPEWLP",72,0)
 ;  aged unposted EFTs exist;    generate prevention message and if this was called within Worklist (and not Override option) then generate msg with list of TRACE #s
"RTN","RCDPEWLP",73,0)
 F X="P","M" I $D(TRARRY("ERROR",X)) D
"RTN","RCDPEWLP",74,0)
 . D CHECK^RCDPEUPO(X,.OVERRIDE)  ; determine if Override exists
"RTN","RCDPEWLP",75,0)
 . I OVERRIDE S OUTCOME=$G(OUTCOME)_3_X_U
"RTN","RCDPEWLP",76,0)
 . E  S OUTCOME=$G(OUTCOME)_1_X_U
"RTN","RCDPEWLP",77,0)
 . K TRARRY("WARNING",X)  ; Error message supersede warning message.  No need to display warning msg if error condition exists
"RTN","RCDPEWLP",78,0)
 . Q:OPTION  Q:OVERRIDE
"RTN","RCDPEWLP",79,0)
 . M ARRAY=TRARRY("ERROR",X)
"RTN","RCDPEWLP",80,0)
 . D FTRACE(.ARRAY,.STR),PREVMSG(X,.DAYSLIMT,.STR)
"RTN","RCDPEWLP",81,0)
 . K ARRAY
"RTN","RCDPEWLP",82,0)
 F X="P","M" I $D(TRARRY("WARNING",X)) D
"RTN","RCDPEWLP",83,0)
 . S OUTCOME=$G(OUTCOME)_2_X_U
"RTN","RCDPEWLP",84,0)
 . Q:OPTION  ; function was called by the OVERRIDE option; don't need to display list of trace numbers
"RTN","RCDPEWLP",85,0)
 . M ARRAY=TRARRY("WARNING",X)
"RTN","RCDPEWLP",86,0)
 . D FTRACE(.ARRAY,.STR),WARNMSG(X,.STR)
"RTN","RCDPEWLP",87,0)
 . K ARRAY ; aged unposted EFTs > 21 days exist; generate warning message
"RTN","RCDPEWLP",88,0)
 S:'$D(OUTCOME) OUTCOME=0  ; error or warning conditions do not exist
"RTN","RCDPEWLP",89,0)
GETSQ ;
"RTN","RCDPEWLP",90,0)
 Q OUTCOME
"RTN","RCDPEWLP",91,0)
 ;
"RTN","RCDPEWLP",92,0)
CUTOFF() ;  RETURN EFT cut-off date
"RTN","RCDPEWLP",93,0)
 ; EFT cut-off date represents 2 months prior to install date of patch 298 (ignore EFTS that are aged older than the 2 month prior date)
"RTN","RCDPEWLP",94,0)
 N RCX,DATE
"RTN","RCDPEWLP",95,0)
 S RCX=+$P($G(^RCY(344.61,1,0)),U,9)
"RTN","RCDPEWLP",96,0)
 S:RCX=0 RCX=DT
"RTN","RCDPEWLP",97,0)
 S DATE=$$FMADD^XLFDT(RCX,-61,0,0)
"RTN","RCDPEWLP",98,0)
 Q DATE
"RTN","RCDPEWLP",99,0)
 ;
"RTN","RCDPEWLP",100,0)
EFTDET(RECVDT,TYPE,DAYSLIMT,TRARRY) ;  gather EFT data
"RTN","RCDPEWLP",101,0)
 ;         only collect EFTs that meet the requirements of aged and unposted
"RTN","RCDPEWLP",102,0)
 ;
"RTN","RCDPEWLP",103,0)
 ;        input - RECVDT   = date to start $ORDER through the DATE RECEIVED cross-reference of 344.3
"RTN","RCDPEWLP",104,0)
 ;                TYPE     = "M" (medical ERA-EFT); "P" (phamacy ERA-EFT); "B" (both pharmacy and medical)
"RTN","RCDPEWLP",105,0)
 ;                DAYSLIMT =  number of days an EFT can age before post prevention rules apply
"RTN","RCDPEWLP",106,0)
 ;                TRARRY   = passed by reference, array to hold trace numbers that represent the aged, unposted EFTs
"RTN","RCDPEWLP",107,0)
 ; 
"RTN","RCDPEWLP",108,0)
 ;        output - TRARRY  = array of trace numbers that need to be reported as aged and unposted  
"RTN","RCDPEWLP",109,0)
 ;  
"RTN","RCDPEWLP",110,0)
 N EFTDA
"RTN","RCDPEWLP",111,0)
 S EFTDA=""
"RTN","RCDPEWLP",112,0)
 F  S RECVDT=$O(^RCY(344.31,"ADR",RECVDT)) Q:'RECVDT  F  S EFTDA=$O(^RCY(344.31,"ADR",RECVDT,EFTDA)) Q:'EFTDA  D CHKEFT(RECVDT,EFTDA,TYPE,.DAYSLIMT,.TRARRY)
"RTN","RCDPEWLP",113,0)
 Q
"RTN","RCDPEWLP",114,0)
 ;
"RTN","RCDPEWLP",115,0)
CHKEFT(RECVDT,EFTDA,TYPE,DAYSLIMT,TRARRY) ;
"RTN","RCDPEWLP",116,0)
 ; Check an individual EFT for warnings/errors
"RTN","RCDPEWLP",117,0)
 ; Input:
"RTN","RCDPEWLP",118,0)
 ;   RECVDT: Date Received
"RTN","RCDPEWLP",119,0)
 ;   EFTDA: IEN of EDI THIRD PARY EFT DETAIL
"RTN","RCDPEWLP",120,0)
 ;   TYPE     = "M" (medical ERA-EFT); "P" (phamacy ERA-EFT); "B" (both pharmacy and medical)
"RTN","RCDPEWLP",121,0)
 ;   DAYSLIMT =  number of days an EFT can age before post prevention rules apply 
"RTN","RCDPEWLP",122,0)
 ;   TRARRY: Array with warning error info
"RTN","RCDPEWLP",123,0)
 ;
"RTN","RCDPEWLP",124,0)
 N EFT0,ERAREC,MSTATUS,AGED,TRACE
"RTN","RCDPEWLP",125,0)
 S EFT0=$G(^RCY(344.31,EFTDA,0)) Q:EFT0=""  ; Ignore if no data
"RTN","RCDPEWLP",126,0)
 Q:+$P(EFT0,U,7)=0  ; Ignore zero payment amts
"RTN","RCDPEWLP",127,0)
 I $P($G(^RCY(344.31,EFTDA,3)),U,2)]"" Q  ; Ignore duplicate EFTs which have been removed 
"RTN","RCDPEWLP",128,0)
 S ERAREC=+$P(EFT0,U,10)  ; ERA RECORD (344.31, .1)  pointer to ERA record
"RTN","RCDPEWLP",129,0)
 I ERAREC,$P($G(^RCY(344.4,ERAREC,0)),U,14)=1 Q  ; DETAIL POST STATUS (344.4, .14);  ignore posted ERA-EFTs 
"RTN","RCDPEWLP",130,0)
 I 'ERAREC,$P($G(^RCY(344.31,EFTDA,0)),U,8) Q:$$PROC(EFTDA)  ;Exclude EFT matched to Paper EOB if receipt is processed
"RTN","RCDPEWLP",131,0)
 S MSTATUS=+$P(EFT0,U,8)  ;  MATCH STATUS (344.31,, .08)
"RTN","RCDPEWLP",132,0)
 S AGED=$$FMDIFF^XLFDT(DT,RECVDT)  ; get aged number of days of the EFT
"RTN","RCDPEWLP",133,0)
 S TRACE=$P(EFT0,U,4)  ; TRACE # (344.31, .04)
"RTN","RCDPEWLP",134,0)
 I (TYPE="B")!(TYPE="P"),$$PHARM(ERAREC) D
"RTN","RCDPEWLP",135,0)
 . I AGED>DAYSLIMT("P") S TRARRY("ERROR","P",TRACE)="ERA = "_ERAREC_U_MSTATUS Q   ; aged unposted EFT that generates the error message and will prevent user from entering the scratchpad with the selected ERA
"RTN","RCDPEWLP",136,0)
 . I '$D(TRARRY("ERROR")),AGED>21 S TRARRY("WARNING","P",TRACE)="ERA = "_ERAREC_U_MSTATUS   ;aged unposted PHARMACY EFT that will generate a warning message when entering the scratchpad with the selected ERA
"RTN","RCDPEWLP",137,0)
 I (TYPE="B")!(TYPE="M"),'$$PHARM(ERAREC) D
"RTN","RCDPEWLP",138,0)
 . I AGED>DAYSLIMT("M") S TRARRY("ERROR","M",TRACE)="ERA = "_ERAREC_U_MSTATUS Q  ; aged unposted EFT that generates the error message and will prevent user from entering the scratchpad with the selected ERA
"RTN","RCDPEWLP",139,0)
 . I '$D(TRARRY("ERROR")),AGED>14 S TRARRY("WARNING","M",TRACE)="ERA = "_ERAREC_U_MSTATUS  ;aged unposted MEDICAL EFT that will generate a warning message when entering the scratchpad with the selected ERA
"RTN","RCDPEWLP",140,0)
 Q
"RTN","RCDPEWLP",141,0)
 ;
"RTN","RCDPEWLP",142,0)
PROC(EFTDA) ; Check if TR Receipt for an EFT linked to Paper EOB is processed 
"RTN","RCDPEWLP",143,0)
 ; Input - EFT IEN
"RTN","RCDPEWLP",144,0)
 ; Output - Boolean (Returns 1 if TR receipt exists and is OPEN, otherwise returns 0)
"RTN","RCDPEWLP",145,0)
 ;
"RTN","RCDPEWLP",146,0)
 ;Find TR receipt and check if it does not have a status of CLOSED
"RTN","RCDPEWLP",147,0)
 N IEN344,RET S IEN344=$O(^RCY(344,"AEFT",EFTDA,0)) I IEN344 S:$P($G(^RCY(344,IEN344,0)),U,14)'=1 RET=1
"RTN","RCDPEWLP",148,0)
 Q +$G(RET)
"RTN","RCDPEWLP",149,0)
 ;
"RTN","RCDPEWLP",150,0)
FTRACE(TRARRY,STR) ; input array needs to be formatted as a string of trace#s each separated by commas to be displayed in the warning or error message
"RTN","RCDPEWLP",151,0)
 ;          input -  TRARRY = passed by reference, array of trace numbers that represent the aged, unposted EFTs
"RTN","RCDPEWLP",152,0)
 ;                   STR = passed by reference, empty array that will be populated with trace numbers
"RTN","RCDPEWLP",153,0)
 ;                  
"RTN","RCDPEWLP",154,0)
 ;          output - STR   = reconstructed array of trace numbers    
"RTN","RCDPEWLP",155,0)
 ;
"RTN","RCDPEWLP",156,0)
 ; fixed code follows
"RTN","RCDPEWLP",157,0)
 N CTR,LEN,TRACE,X
"RTN","RCDPEWLP",158,0)
 K STR  ; array returned
"RTN","RCDPEWLP",159,0)
 S CTR=1,TRACE=""
"RTN","RCDPEWLP",160,0)
 F  S TRACE=$O(TRARRY(TRACE)) Q:TRACE=""  D
"RTN","RCDPEWLP",161,0)
 . S STR(CTR)=$G(STR(CTR))  ; initialize
"RTN","RCDPEWLP",162,0)
 . I $L(STR(CTR))+$L(TRACE)>77 S CTR=CTR+1,STR(CTR)=TRACE Q
"RTN","RCDPEWLP",163,0)
 . S STR(CTR)=STR(CTR)_$S(STR(CTR)]"":",",1:"")_TRACE  ; add comma if needed
"RTN","RCDPEWLP",164,0)
 Q 
"RTN","RCDPEWLP",165,0)
 ;
"RTN","RCDPEWLP",166,0)
WARNMSG(TYPE,STR) ;  Display warning message when aged, unposted EFTs exist
"RTN","RCDPEWLP",167,0)
 ;
"RTN","RCDPEWLP",168,0)
 ;          input - TYPE   = "P" (pharmacy); "M" (medical)
"RTN","RCDPEWLP",169,0)
 ;                  STR    = populated array where each subscrpt contains a string of trace numbers in "trace#, trace#," format
"RTN","RCDPEWLP",170,0)
 ;                           passed by reference   
"RTN","RCDPEWLP",171,0)
 ;               
"RTN","RCDPEWLP",172,0)
 N DIR,LN,X,Y
"RTN","RCDPEWLP",173,0)
 S LN=5,X=0
"RTN","RCDPEWLP",174,0)
 S DIR(0)="EA"
"RTN","RCDPEWLP",175,0)
 S DIR("A",1)="WARNING: Unposted "_$S(TYPE="P":"pharmacy ",1:"medical ")_"EFTs exist that are more than "_$S(TYPE="P":21,1:14)_" days old."
"RTN","RCDPEWLP",176,0)
 S DIR("A",2)=" "  ; blank line
"RTN","RCDPEWLP",177,0)
 S DIR("A",3)="Post the older payments first. The EFTs may be unmatched or matched."
"RTN","RCDPEWLP",178,0)
 S DIR("A",4)="Trace number(s) associated with unposted EFTs:"
"RTN","RCDPEWLP",179,0)
 F  S X=$O(STR(X)) Q:'X  S DIR("A",LN)=STR(X),LN=LN+1
"RTN","RCDPEWLP",180,0)
 S DIR("A",LN)=" "  ; blank line
"RTN","RCDPEWLP",181,0)
 S DIR("A")="Press ENTER to continue: " W ! D ^DIR
"RTN","RCDPEWLP",182,0)
 Q
"RTN","RCDPEWLP",183,0)
 ;
"RTN","RCDPEWLP",184,0)
PREVMSG(TYPE,DAYS,STR) ;  Display Error message when aged, unposted EFTs exist
"RTN","RCDPEWLP",185,0)
 ;
"RTN","RCDPEWLP",186,0)
 ;          input - TYPE   = "P" (pharmacy); "M" (medical)
"RTN","RCDPEWLP",187,0)
 ;                  DAYS   =  number of days an EFT can age before post prevention rules apply
"RTN","RCDPEWLP",188,0)
 ;                  STR    =  passed by reference, name of array that will return reformatted array of trace numbers
"RTN","RCDPEWLP",189,0)
 ;                  
"RTN","RCDPEWLP",190,0)
 ;          output - STR   = populated array where each subscrpt contains a string of trace numbers in "trace#, trace#," format     
"RTN","RCDPEWLP",191,0)
 ;
"RTN","RCDPEWLP",192,0)
 N DIR,LN,X,Y
"RTN","RCDPEWLP",193,0)
 S LN=6,X=0
"RTN","RCDPEWLP",194,0)
 S DIR(0)="EA"
"RTN","RCDPEWLP",195,0)
 S DIR("A",1)="ERROR: Unposted "_$S(TYPE="P":"Pharmacy ",1:"Medical ")_"EFTs exist that are more than "_$S(TYPE="P":DAYS("P"),1:DAYS("M"))_" days old. Scratchpad"
"RTN","RCDPEWLP",196,0)
 S DIR("A",2)="creation is not allowed for newer payments. Post older payments first."
"RTN","RCDPEWLP",197,0)
 S DIR("A",3)="The EFTs may be matched or unmatched."
"RTN","RCDPEWLP",198,0)
 S DIR("A",4)=" "  ; blank line
"RTN","RCDPEWLP",199,0)
 S DIR("A",5)="Trace number(s) associated with unposted EFTs:"
"RTN","RCDPEWLP",200,0)
 F  S X=$O(STR(X)) Q:'X  S DIR("A",LN)=" "_STR(X),LN=LN+1
"RTN","RCDPEWLP",201,0)
 S DIR("A",LN)=" "  ; blank line
"RTN","RCDPEWLP",202,0)
 S DIR("A")="Press ENTER to continue: " W ! D ^DIR
"RTN","RCDPEWLP",203,0)
 Q
"RTN","RCDPEWLP",204,0)
 ;
"RTN","RCDPEWLP",205,0)
EXCDENY ; praca*4.5*298 display access denied message for those ERAs that are selected off the ERA Worklist and have exceptions  
"RTN","RCDPEWLP",206,0)
 N DIR
"RTN","RCDPEWLP",207,0)
 S DIR(0)="EA"
"RTN","RCDPEWLP",208,0)
 S DIR("A",1)="ACCESS DENIED:  Scratchpad creation is not allowed when third party"
"RTN","RCDPEWLP",209,0)
 S DIR("A",2)="medical exceptions exist.  Fix Transmission Exceptions first and then Data"
"RTN","RCDPEWLP",210,0)
 S DIR("A",3)="Exceptions with the EXE EDI Lockbox 3rd Party Exceptions option which is"
"RTN","RCDPEWLP",211,0)
 S DIR("A",4)="located on the EDI Lockbox Main Menu."
"RTN","RCDPEWLP",212,0)
 S DIR("A",5)=""
"RTN","RCDPEWLP",213,0)
 S DIR("A")="Press ENTER to continue: " W ! D ^DIR
"RTN","RCDPEWLP",214,0)
 Q
"RTN","RCDPEWLP",215,0)
 ;
"RTN","RCDPEWLP",216,0)
EXCWARN(ERADA) ; prca*4.5*298  generate warning when exception exists
"RTN","RCDPEWLP",217,0)
 ; 
"RTN","RCDPEWLP",218,0)
 ;      input - ERADA = Internal Entry Number in file 344.4
"RTN","RCDPEWLP",219,0)
 ;      output - WARNING MESSAGE if exception exists on the ERA
"RTN","RCDPEWLP",220,0)
 ;              
"RTN","RCDPEWLP",221,0)
 ;
"RTN","RCDPEWLP",222,0)
 Q:$$PHARM(ERADA)  ; ignore pharmacy ERAs
"RTN","RCDPEWLP",223,0)
 Q:$$XCEPT(ERADA)=""  ; exception does not exist
"RTN","RCDPEWLP",224,0)
 N DIR
"RTN","RCDPEWLP",225,0)
 S DIR(0)="EA"
"RTN","RCDPEWLP",226,0)
 S DIR("A",1)="WARNING: Fix Transmission Exceptions first and then Data Exceptions via"
"RTN","RCDPEWLP",227,0)
 S DIR("A",2)="the EXE EDI Lockbox 3rd Party Exceptions option which is located on the"
"RTN","RCDPEWLP",228,0)
 S DIR("A",3)="EDI Lockbox Main Menu."
"RTN","RCDPEWLP",229,0)
 S DIR("A",4)=" "
"RTN","RCDPEWLP",230,0)
 S DIR("A")="Press ENTER to continue: " W ! D ^DIR
"RTN","RCDPEWLP",231,0)
 Q
"RTN","RCDPEWLP",232,0)
 ;
"RTN","RCDPEWLP",233,0)
XCEPT(ERADA) ; prca*4.5*298  return ERA exception state
"RTN","RCDPEWLP",234,0)
 ; 
"RTN","RCDPEWLP",235,0)
 ;      input - ERADA = Internal Entry Number in file 344.4
"RTN","RCDPEWLP",236,0)
 ;      output - "x" or ""
"RTN","RCDPEWLP",237,0)
 ;                "x" = exception exists for at least one of the claims in the ERA
"RTN","RCDPEWLP",238,0)
 ;
"RTN","RCDPEWLP",239,0)
 N RES
"RTN","RCDPEWLP",240,0)
 S RES=$S($D(^RCY(344.4,"AEXC",1,ERADA)):"x",$D(^RCY(344.4,"AEXC",2,ERADA)):"x",$D(^RCY(344.4,"AEXC",99,ERADA)):"ERADA",1:"")
"RTN","RCDPEWLP",241,0)
 Q RES
"RTN","RCDPEWLP",242,0)
 ;
"RTN","RCDPEWLP",243,0)
PHARM(X1) ; prca*4.5*298  determine if pharmacy ERA
"RTN","RCDPEWLP",244,0)
 ;
"RTN","RCDPEWLP",245,0)
 ;      input - X1 = Internal Entry Number in file 344.4
"RTN","RCDPEWLP",246,0)
 ;      output - 1 or 0
"RTN","RCDPEWLP",247,0)
 ;      1 = pharmacy ERA
"RTN","RCDPEWLP",248,0)
 ;      0 = non-pharmacy ERA
"RTN","RCDPEWLP",249,0)
 ;     
"RTN","RCDPEWLP",250,0)
 Q $S($D(^RCY(344.4,X1,1,"ECME")):1,1:0)
"RTN","RCDPEWLP",251,0)
 ;
"RTN","RCDPEWLP",252,0)
GETPHARM(PRCAIEN,RCARRY) ;prca*4.5*298  return pharmacy data to show on EEOB items in scratchpad
"RTN","RCDPEWLP",253,0)
 ; 
"RTN","RCDPEWLP",254,0)
 ;   input -    PRCAIEN = ien to record in 430
"RTN","RCDPEWLP",255,0)
 ;              RCARRY = Array name that will be used to store and return pharmacy data elements
"RTN","RCDPEWLP",256,0)
 ;   output -   RCARRY = holds pharmacy data 
"RTN","RCDPEWLP",257,0)
 ; IA 6033 (controlled subscription) - read access of file 362.4.  status is pending
"RTN","RCDPEWLP",258,0)
 ; ICR 1878 (supported) - usage of EN^PSOORDER
"RTN","RCDPEWLP",259,0)
 ;
"RTN","RCDPEWLP",260,0)
 N RC0,RXDATA,RXIEN,RCDFN,RXFILL
"RTN","RCDPEWLP",261,0)
 K RCARRY
"RTN","RCDPEWLP",262,0)
 Q:PRCAIEN=""
"RTN","RCDPEWLP",263,0)
 S RCDFN=$P(^PRCA(430,PRCAIEN,0),U,7)
"RTN","RCDPEWLP",264,0)
 S RC0=+$O(^IBA(362.4,"C",PRCAIEN,0))
"RTN","RCDPEWLP",265,0)
 Q:RC0=0
"RTN","RCDPEWLP",266,0)
 S RXDATA=$G(^IBA(362.4,RC0,0))
"RTN","RCDPEWLP",267,0)
 S RCARRY("DOS")=$$FMTE^XLFDT($P(RXDATA,U,3),"2Z")
"RTN","RCDPEWLP",268,0)
 S RCARRY("FILL")=+$P(RXDATA,U,10)          ; rx fill#
"RTN","RCDPEWLP",269,0)
 S RXIEN=+$P(RXDATA,U,5)            ; RX ien ptr file 52
"RTN","RCDPEWLP",270,0)
 D EN^PSOORDER(RCDFN,RXIEN)
"RTN","RCDPEWLP",271,0)
 S RCARRY("RX")=$P(^TMP("PSOR",$J,RXIEN,0),U,5)
"RTN","RCDPEWLP",272,0)
 I RCARRY("FILL")=0 S RCARRY("RELEASED STATUS")=$S($P(^TMP("PSOR",$J,RXIEN,0),U,13)]"":"Released",1:"Not Released")   ; determine release status from Rx on the first fill (no refills)
"RTN","RCDPEWLP",273,0)
 I RCARRY("FILL")>0 S RCARRY("RELEASED STATUS")=$S($P(^TMP("PSOR",$J,RXIEN,"REF",RCARRY("FILL"),0),U,8)]"":"Released",1:"Not Released")  ; ; determine release status from Rx refill #
"RTN","RCDPEWLP",274,0)
 Q
"RTN","RCDPEWLP",275,0)
 ;
"RTN","RCDPEWLP",276,0)
CV ; Change View action for ERA Worklist
"RTN","RCDPEWLP",277,0)
 D FULL^VALM1 D PARAMS^RCDPEWL0("CV")
"RTN","RCDPEWLP",278,0)
 D HDR^RCDPEWL7,INIT^RCDPEWL7 S VALMBCK="R",VALMBG=1
"RTN","RCDPEWLP",279,0)
 Q
"RTN","RCDPEWLP",280,0)
 ;
"RTN","RCDPEWLP",281,0)
NOEDIT ; Display no edit allowed selected ERA is designated for auto-posting
"RTN","RCDPEWLP",282,0)
 N DIR
"RTN","RCDPEWLP",283,0)
 S DIR(0)="EA",DIR("A",1)="This action is not available for Auto-Posted ERAs."
"RTN","RCDPEWLP",284,0)
 S DIR("A")="Press ENTER to continue: "
"RTN","RCDPEWLP",285,0)
 W ! D ^DIR K DIR W !
"RTN","RCDPEWLP",286,0)
 Q
"RTN","RCDPEWLP",287,0)
 ;
"RTN","RCDPEWLP",288,0)
VR(ERADA) ;   handling of auto-posted ERAs ; entry point for the Look at Receipt protocol for standard Worklist;
"RTN","RCDPEWLP",289,0)
 ;  
"RTN","RCDPEWLP",290,0)
 ;    input - ERADA = ien from file 344.49 (and 344.4)
"RTN","RCDPEWLP",291,0)
 ;
"RTN","RCDPEWLP",292,0)
 N RCDA,RCZ,RCZ0,EEOBREC
"RTN","RCDPEWLP",293,0)
 D SEL^RCDPEWL(.RCDA)  ; select an EEOB off the scratchpad
"RTN","RCDPEWLP",294,0)
 S RCZ=+$O(RCDA(0)),RCZ=+$G(RCDA(RCZ)) Q:'RCZ
"RTN","RCDPEWLP",295,0)
 S RCZ0=$G(^RCY(344.49,ERADA,1,RCZ,0))
"RTN","RCDPEWLP",296,0)
 S EEOBREC=$P($G(^RCY(344.4,ERADA,1,+$P(RCZ0,U,9),4)),U,3)
"RTN","RCDPEWLP",297,0)
 I EEOBREC']"" D NOVIEW Q 
"RTN","RCDPEWLP",298,0)
 D EN^VALM("RCDPE AUTO EOB RECEIPT PREVIEW")
"RTN","RCDPEWLP",299,0)
 Q
"RTN","RCDPEWLP",300,0)
 ;
"RTN","RCDPEWLP",301,0)
NOVIEW ; selected EEOB cannot be viewed if no receipt number
"RTN","RCDPEWLP",302,0)
 N DIR
"RTN","RCDPEWLP",303,0)
 S DIR(0)="EA",DIR("A",1)="THIS ACTION IS NOT AVAILABLE SINCE THE EEOB HAS NOT BEEN AUTO-POSTED."
"RTN","RCDPEWLP",304,0)
 S DIR("A")="Press ENTER to continue: "
"RTN","RCDPEWLP",305,0)
 W ! D ^DIR K DIR W !
"RTN","RCDPEWLP",306,0)
 Q
"RTN","RCDPEWLP",307,0)
 ;
"RTN","RCDPEWLP",308,0)
INIT(ERADA,EEOBREC) ;  List Template - RCDPE AUTO EOB RECEIPT PREVIEW entry point
"RTN","RCDPEWLP",309,0)
 ;  display EEOBs that have been posted (receipt exists)
"RTN","RCDPEWLP",310,0)
 ;
"RTN","RCDPEWLP",311,0)
 ;            input - ERADA = ien from file 344.49 (and 344.4)
"RTN","RCDPEWLP",312,0)
 ;                    EEOBREC = selected EEOBs receipt
"RTN","RCDPEWLP",313,0)
 ;            output - ^TMP("RCDPE_AP_EOB_PREVIEW",$J)
"RTN","RCDPEWLP",314,0)
 N X,Z,Z1,Z10,Z0,Z2,RCZ
"RTN","RCDPEWLP",315,0)
 N RCPT
"RTN","RCDPEWLP",316,0)
 K ^TMP("RCDPE_AP_EOB_PREVIEW",$J)
"RTN","RCDPEWLP",317,0)
 S VALMCNT=0,VALMBG=1
"RTN","RCDPEWLP",318,0)
 S Z=0 F  S Z=$O(^RCY(344.49,ERADA,1,Z)) Q:'Z  S Z0=$G(^(Z,0)) D
"RTN","RCDPEWLP",319,0)
 . I $P(Z0,U)\1=+Z0 S Z2=$P(Z0,U,2)
"RTN","RCDPEWLP",320,0)
 . S RCPT=+$P($G(^RCY(344.4,ERADA,1,+$P(Z0,U,9),4)),U,3),RCPT(RCPT)=""  ; receipt array
"RTN","RCDPEWLP",321,0)
 . I $P($P(Z0,U),".",2),$D(RCPT(EEOBREC)) D   ; if the EEOB has same receipt# has the selected EEOB then it can be listed on the preview screen
"RTN","RCDPEWLP",322,0)
 .. S:$P(Z0,U,2)="" $P(Z0,U,2)=Z2
"RTN","RCDPEWLP",323,0)
 .. S RCZ=$S(+$P(Z0,U,6)=0:0,+$P(Z0,U,6)<0:-1,$P(Z0,U,7):1,1:2)
"RTN","RCDPEWLP",324,0)
 .. S RCZ(RCZ,Z)=Z0
"RTN","RCDPEWLP",325,0)
 .. K RCPT
"RTN","RCDPEWLP",326,0)
 .. S Z1=0 F  S Z1=$O(^RCY(344.49,ERADA,1,Z,1,Z1)) Q:'Z1  S Z10=$G(^(Z1,0)) D
"RTN","RCDPEWLP",327,0)
 ... I $P(Z10,U,5)=1 S RCZ(RCZ,Z,"ADJ",Z1)="Dec adj $"_$J(0-$P(Z10,U,3),"",2)_" pending - ",RCZ(RCZ,Z,"ADJ",Z1,1)=$J("",4)_$P(Z10,U,9)
"RTN","RCDPEWLP",328,0)
 F RCZ=1,2,0,-1 D
"RTN","RCDPEWLP",329,0)
 . Q:'$D(RCZ(RCZ))
"RTN","RCDPEWLP",330,0)
 . I RCZ=1 D SET("PAYMENTS (LINES FOR RECEIPT):")
"RTN","RCDPEWLP",331,0)
 . I RCZ=0,VALMCNT>0 D SET(" ") D SET("ZERO DOLLAR PAYMENTS:")
"RTN","RCDPEWLP",332,0)
 . I RCZ=-1,VALMCNT>0 D SET(" ") D SET("LINES WITH NEGATIVE BALANCES STILL NEEDING TO BE DISTRIBUTED:")
"RTN","RCDPEWLP",333,0)
 . S Z=0 F  S Z=$O(RCZ(RCZ,Z)) Q:'Z  S Z0=RCZ(RCZ,Z) D
"RTN","RCDPEWLP",334,0)
 .. S X=""
"RTN","RCDPEWLP",335,0)
 .. S X=$$SETFLD^VALM1($P(Z0,U),X,"LINE #")
"RTN","RCDPEWLP",336,0)
 .. S X=$$SETFLD^VALM1($S($P(Z0,U,7):$$BN1^PRCAFN($P(Z0,U,7)),1:$S(RCZ=0:"",1:"[SUSPENSE]")_$S($P(Z0,U,2)["**ADJ"&'$P($P(Z0,U,2),"ADJ",2):"TOTALS MISMATCH ADJ",1:$P(Z0,U,2))),X,"ACCOUNT")
"RTN","RCDPEWLP",337,0)
 .. S X=$$SETFLD^VALM1($J(+$P(Z0,U,6),"",2),X,"AMOUNT")
"RTN","RCDPEWLP",338,0)
 .. D SET(X)
"RTN","RCDPEWLP",339,0)
 .. S Z1=0 F  S Z1=$O(RCZ(RCZ,Z,"ADJ",Z1)) Q:'Z1  D SET($J("",12)_$G(RCZ(RCZ,Z,"ADJ",Z1))) S Z2=0 F  S Z2=$O(RCZ(RCZ,Z,"ADJ",Z1,Z2)) Q:'Z2  D SET($J("",12)_$G(RCZ(RCZ,Z,"ADJ",Z1,Z2)))
"RTN","RCDPEWLP",340,0)
 Q
"RTN","RCDPEWLP",341,0)
 ;
"RTN","RCDPEWLP",342,0)
SET(X) ;
"RTN","RCDPEWLP",343,0)
 S VALMCNT=VALMCNT+1
"RTN","RCDPEWLP",344,0)
 S ^TMP("RCDPE_AP_EOB_PREVIEW",$J,VALMCNT,0)=X
"RTN","RCDPEWLP",345,0)
 Q
"RTN","RCDPEWLP",346,0)
 ;
"RTN","RCDPEWLP",347,0)
HDR ;
"RTN","RCDPEWLP",348,0)
 D HDR^RCDPEWL
"RTN","RCDPEWLP",349,0)
 Q
"RTN","RCDPEWLP",350,0)
 ;
"RTN","RCDPEWLP",351,0)
FNL ;
"RTN","RCDPEWLP",352,0)
 K ^TMP("RCDPE_AP_EOB_PREVIEW",$J)
"RTN","RCDPEWLP",353,0)
 Q
"RTN","RCDPEWLP",354,0)
 ;RCDPEWLP
"RTN","RCDPPLB")
0^4^B190736513
"RTN","RCDPPLB",1,0)
RCDPPLB ;ALB/TJB - ERA/PROVIDER LEVEL ADJUSTMENTS REPORT ;1/02/15 10:00am
"RTN","RCDPPLB",2,0)
 ;;4.5;Accounts Receivable;**303**;Mar 20, 1995;Build 84
"RTN","RCDPPLB",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPPLB",4,0)
 Q
"RTN","RCDPPLB",5,0)
 ; PRCA*4.5*303 - ERA/PROVIDER LEVEL ADJUSTMENTS REPORT 
"RTN","RCDPPLB",6,0)
 ;
"RTN","RCDPPLB",7,0)
 ; DESCRIPTION : The following generates a report to display ERA data with PLB
"RTN","RCDPPLB",8,0)
 ;     data details. The report is ad-hoc and allow the user to extract report
"RTN","RCDPPLB",9,0)
 ;     data, as well as view and manage refund requests for all PLB adjustment
"RTN","RCDPPLB",10,0)
 ;     codes (FB, WO, 72, IR, J1, L6, CS, WU, etc.):
"RTN","RCDPPLB",11,0)
 ;
"RTN","RCDPPLB",12,0)
EN ; Entry point for Report
"RTN","RCDPPLB",13,0)
 N DUOUT,DTOUT,DIR,DTOK,R,X,Y,Z,I,JJ,KK,DL,DX0,CD,CZ,EXLN,IX,RCDT1,RCDT2,RCDET,RCEXCEL,ZTRTN,ZTSK,ZTDESC,ZTSAVE,ZTSTOP,%ZIS,POP,ZPY,PY,PCT,ZPPY
"RTN","RCDPPLB",14,0)
 N RCJOB,RCCD,RCRD,RCNOW,RCODE,RCDET,RCLPAY,RCPAY,RCTIN,RCSORT,RCSTAT,RCTIN,RCTLIST,RCPG,RCHR,RCDISP,IDX,TY,FILE,IEN,ZN,RCQUIT,RCDONE,XCNT,DIVHDR,CRHDR,RCDONE
"RTN","RCDPPLB",15,0)
 S RCQUIT=0,RCODE="" ; Global variable to signal exit
"RTN","RCDPPLB",16,0)
 ;
"RTN","RCDPPLB",17,0)
 ; ICR 1077 - Get division/station
"RTN","RCDPPLB",18,0)
 D DIVISION^VAUTOMA
"RTN","RCDPPLB",19,0)
 I 'VAUTD&($D(VAUTD)'=11) G PLBQ
"RTN","RCDPPLB",20,0)
 S DIR("A")="(S)ummary or(D)etail Report format? ",DIR(0)="SA^S:Summary Information only;D:Detail and Totals"
"RTN","RCDPPLB",21,0)
 S DIR("B")="SUMMARY" D ^DIR K DIR
"RTN","RCDPPLB",22,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G PLBQ
"RTN","RCDPPLB",23,0)
 S RCDET=(Y="D")
"RTN","RCDPPLB",24,0)
 ;
"RTN","RCDPPLB",25,0)
 ; Get PLB Codes for report
"RTN","RCDPPLB",26,0)
 D PLBC(.RCODE) G:$G(RCODE)']"" PLBQ
"RTN","RCDPPLB",27,0)
 ; Payer Names from 344.6
"RTN","RCDPPLB",28,0)
 S RCDONE=$$GETPAY^RCDPRU(.RCPAY) G:RCDONE=0 PLBQ
"RTN","RCDPPLB",29,0)
 S:$G(RCPAY("DATA"))'="" RCPAY=$G(RCPAY("DATA"))
"RTN","RCDPPLB",30,0)
 ;
"RTN","RCDPPLB",31,0)
 S RCDONE=$$GETTIN^RCDPRU(.RCTIN) G:RCDONE=0 PLBQ
"RTN","RCDPPLB",32,0)
 S:$G(RCTIN("DATA"))'="" RCTIN=$G(RCTIN("DATA"))
"RTN","RCDPPLB",33,0)
 ;
"RTN","RCDPPLB",34,0)
 S DIR("A")="Sort Report (C)odes or (P)ayer?: ",DIR(0)="SA^C:PLB Codes;P:Payer Name;CODES:PLB Codes"
"RTN","RCDPPLB",35,0)
 S DIR("B")="CODES" D ^DIR K DIR
"RTN","RCDPPLB",36,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G PLBQ
"RTN","RCDPPLB",37,0)
 S RCSORT=$E(Y,1)
"RTN","RCDPPLB",38,0)
 ;
"RTN","RCDPPLB",39,0)
 S DIR("?")="Enter the Beginning date for the report"
"RTN","RCDPPLB",40,0)
 S DIR(0)="DAO^:"_DT_":APE",DIR("A")="Start Date: ",DIR("B")="T" D ^DIR K DIR
"RTN","RCDPPLB",41,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G PLBQ
"RTN","RCDPPLB",42,0)
 S RCDT1=Y
"RTN","RCDPPLB",43,0)
 S DIR("?")="Enter the end date for the report"
"RTN","RCDPPLB",44,0)
 S DIR("B")="T"
"RTN","RCDPPLB",45,0)
 S DIR(0)="DAO^"_RCDT1_":"_DT_":APE",DIR("A")="End Date: " D ^DIR K DIR
"RTN","RCDPPLB",46,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G PLBQ
"RTN","RCDPPLB",47,0)
 S RCDT2=Y
"RTN","RCDPPLB",48,0)
 S DTOK=$$CHECKDT^RCDPRU(RCDT1,RCDT2,344.4)
"RTN","RCDPPLB",49,0)
 I 'DTOK W !!,"*** Note: Date Range "_$$DATE^RCDPRU(RCDT1)_" - "_$$DATE^RCDPRU(RCDT2)," ***",! W "*** No Records found ***",! D ASK^RCDPRU(.RCQUIT) G PLBQ
"RTN","RCDPPLB",50,0)
 ; Removed Excel per Susan on 03/24/2015 meeting
"RTN","RCDPPLB",51,0)
 ; Get input to export to excel.
"RTN","RCDPPLB",52,0)
 S RCEXCEL=""
"RTN","RCDPPLB",53,0)
 ;S RCEXCEL=$$DISPTY^RCDPRU()
"RTN","RCDPPLB",54,0)
 ;D:RCEXCEL INFO^RCDPRU
"RTN","RCDPPLB",55,0)
 ;
"RTN","RCDPPLB",56,0)
 S %ZIS="QM" D ^%ZIS Q:POP
"RTN","RCDPPLB",57,0)
 I $D(IO("Q")) D  Q
"RTN","RCDPPLB",58,0)
 . S ZTRTN="ENQ^RCDPARC",ZTDESC="AR - 835 Provider Adjustment & Payer Data Report",ZTSAVE("*")=""
"RTN","RCDPPLB",59,0)
 . D ^%ZTLOAD
"RTN","RCDPPLB",60,0)
 . W !!,$S($D(ZTSK):"Your task number"_ZTSK_" has been queued.",1:"Unable to queue this job.")
"RTN","RCDPPLB",61,0)
 . K ZTSK,IO("Q") D HOME^%ZIS
"RTN","RCDPPLB",62,0)
 U IO
"RTN","RCDPPLB",63,0)
 ;
"RTN","RCDPPLB",64,0)
ENQ ; Start here for queued report
"RTN","RCDPPLB",65,0)
 S RCNOW=$$NOW^RCDPRU(),RCPG=0,$P(RCHR,"=",IOM)=""
"RTN","RCDPPLB",66,0)
 ;
"RTN","RCDPPLB",67,0)
 K ^TMP("RCDPPLB_REPORT",$J)
"RTN","RCDPPLB",68,0)
 ; Collect the data and put it into the ^TMP global
"RTN","RCDPPLB",69,0)
 D GETDATA($G(RCODE),.RCPAY,.RCTIN,$G(RCSORT),RCDT1,RCDT2,$NA(^TMP("RCDPPLB_REPORT",$J)),.VAUTD)
"RTN","RCDPPLB",70,0)
 ;
"RTN","RCDPPLB",71,0)
REPORT ; Print out the report
"RTN","RCDPPLB",72,0)
 ; Set up Division Header Text and PLB Code Header Text
"RTN","RCDPPLB",73,0)
 S RCSL=0
"RTN","RCDPPLB",74,0)
 S:VAUTD=1 DIVHDR="ALL" D:VAUTD=0
"RTN","RCDPPLB",75,0)
 . N I S DIVHDR="",I="" F  S I=$O(VAUTD(I)) Q:I=""  S:DIVHDR'="" DIVHDR=DIVHDR_", "_VAUTD(I) S:DIVHDR="" DIVHDR=VAUTD(I)
"RTN","RCDPPLB",76,0)
 S CRHDR=RCODE
"RTN","RCDPPLB",77,0)
 ; Trim information so it will fit on an 80 or IOM character line
"RTN","RCDPPLB",78,0)
 D:($L(DIVHDR)+$L(CRHDR))>(IOM-25)
"RTN","RCDPPLB",79,0)
 . N VAL,DH,CH,R1,R2 S DH=0,CH=0,R1=0,R2=0,VAL=(IOM-25)\2 ; get half of the screen length
"RTN","RCDPPLB",80,0)
 . S:$L(DIVHDR)>VAL DH=1 S:$L(CRHDR)>VAL CH=1 S:DH=0 R1=VAL-$L(DIVHDR) S:CH=0 R2=VAL-$L(CRHDR)
"RTN","RCDPPLB",81,0)
 . I $L(DIVHDR)>(VAL+R2) S DIVHDR=$E(DIVHDR,1,(VAL+R2))_"..."
"RTN","RCDPPLB",82,0)
 . I $L(CRHDR)>(VAL+R1) S CRHDR=$E(CRHDR,1,(VAL+R2))_"..."
"RTN","RCDPPLB",83,0)
 ;
"RTN","RCDPPLB",84,0)
 I 'RCEXCEL D
"RTN","RCDPPLB",85,0)
 . S RCPG=RCPG+1 W @IOF
"RTN","RCDPPLB",86,0)
 . D HDRP($$HDR(RCDET),1,"Page: "_RCPG_" ")
"RTN","RCDPPLB",87,0)
 . D HDRP("SORT by "_$S($E(RCSORT,1)="C":"PLB CODES",1:"PAYER NAMES")_"  REPORT RUN DATE: "_RCNOW,1)
"RTN","RCDPPLB",88,0)
 . D HDRP("DIVISION: "_DIVHDR_" Codes: "_CRHDR,1)
"RTN","RCDPPLB",89,0)
 . D HDRP("835 PAYERS: "_$S(RCPAY="ALL":"ALL",1:"Selected")_" 835 PAYER TINs: "_$S($E(RCTIN)="A":"ALL",1:"Selected"),1)
"RTN","RCDPPLB",90,0)
 . D HDRP("EOB PAID DATE RANGE: "_$$DATE^RCDPRU(RCDT1)_" - "_$$DATE^RCDPRU(RCDT2),1)
"RTN","RCDPPLB",91,0)
 . W !,RCHR,!
"RTN","RCDPPLB",92,0)
 E  D
"RTN","RCDPPLB",93,0)
 . ; Excel Report
"RTN","RCDPPLB",94,0)
 . W "CODE^PAYER^TIN^REP_DATE^AMOUNT",!
"RTN","RCDPPLB",95,0)
 ;
"RTN","RCDPPLB",96,0)
 S $P(ZLN,"-",80)="",$P(ZDLN,"=",80)="",$P(ZLN2,"-",78)="",ZLN2="  "_ZLN2,RCSL=7
"RTN","RCDPPLB",97,0)
 ; Do Grand totals first - per Susan 7/16/2015
"RTN","RCDPPLB",98,0)
 S DX0=$G(^TMP("RCDPPLB_REPORT",$J,"TOTALS")),PCT=0
"RTN","RCDPPLB",99,0)
 S:+$P(DX0,U,5)'=0 PCT=$J(($P(DX0,U,1)/$P(DX0,U,5))*100,3,0)
"RTN","RCDPPLB",100,0)
 S:+$P(DX0,U,5)=0 PCT="ERR"
"RTN","RCDPPLB",101,0)
 I RCSL>=(IOSL-4) S RCQUIT=$$NEWPG(.RCPG,1,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",102,0)
 W ! S RCSL=RCSL+1
"RTN","RCDPPLB",103,0)
 W "GRAND TOTALS FOR ALL PLB CODES & PAYERS ON REPORT",! S RCSL=RCSL+1
"RTN","RCDPPLB",104,0)
 W "   TOTAL #ERAs:  ",$J($P(DX0,U,3),6,0),"  ADJ: ",PCT,"% [TOT AMT ADJUSTED / TOT AMT BILLED]",! S RCSL=RCSL+1
"RTN","RCDPPLB",105,0)
 W "   AMT ADJUST: $",$J($P(DX0,U,1),11,2),"  AMT BILLED: $",$J($P(DX0,U,5),11,2),"  AMT PAID: $",$J($P(DX0,U,2),11,2),! S RCSL=RCSL+1
"RTN","RCDPPLB",106,0)
 W !,ZDLN,!! S RCSL=RCSL+1
"RTN","RCDPPLB",107,0)
 I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) G:RCQUIT PLBQ
"RTN","RCDPPLB",108,0)
 ;
"RTN","RCDPPLB",109,0)
 S ZZ="" F  S ZZ=$O(^TMP("RCDPPLB_REPORT",$J,"SUMMARY",ZZ)) Q:ZZ=""  S ZDAT=^TMP("RCDPPLB_REPORT",$J,"SUMMARY",ZZ) D  Q:RCQUIT
"RTN","RCDPPLB",110,0)
 . D:RCSORT="C"  Q:RCQUIT
"RTN","RCDPPLB",111,0)
 .. W "ADJ CODE: ",ZZ,"  # ERAs: ",$J($P(ZDAT,U,3),5),"  ADJ: ",$S(+$P(ZDAT,U,5)>0:$J((($P(ZDAT,U,1)/$P(ZDAT,U,5))*100),3,0),1:"ERR"),"% [TOT AMT ADJUSTED / TOT AMT BILLED]",! S RCSL=RCSL+1
"RTN","RCDPPLB",112,0)
 .. I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",113,0)
 .. W "   AMT ADJUST: ",$J($P(ZDAT,U,1),8,2),"  AMT BILLED: ",$J($P(ZDAT,U,5),9,2),"  AMT PAID: ",$J($P(ZDAT,U,2),9,2),! S RCSL=RCSL+1
"RTN","RCDPPLB",114,0)
 .. I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",115,0)
 .. W "ADJ CODE TEXT: ",$P(ZDAT,U,4),! S RCSL=RCSL+1
"RTN","RCDPPLB",116,0)
 .. I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",117,0)
 .. W ZLN,! S RCSL=RCSL+1
"RTN","RCDPPLB",118,0)
 .. I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",119,0)
 .. S PY="",CZ=0 F  S PY=$O(^TMP("RCDPPLB_REPORT",$J,"SUMMARY",ZZ,PY)) Q:PY=""  S ZPY=^TMP("RCDPPLB_REPORT",$J,"SUMMARY",ZZ,PY) D  Q:RCQUIT  S CZ=CZ+1
"RTN","RCDPPLB",120,0)
 ... S:+($P(ZPY,U,5))'=0 ZPPY=$J((($P(ZPY,U,1)/$P(ZPY,U,5))*100),3,0)
"RTN","RCDPPLB",121,0)
 ... S:+($P(ZPY,U,5))=0 ZPPY="ERR"
"RTN","RCDPPLB",122,0)
 ... I CZ>0 W ZLN2,! S RCSL=RCSL+1
"RTN","RCDPPLB",123,0)
 ... W "  PAYER NAME/TIN: ",PY,! S RCSL=RCSL+1
"RTN","RCDPPLB",124,0)
 ... I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",125,0)
 ... W "  #ERAs: ",$J($P(ZPY,U,3),4),"  ADJ: ",ZPPY,"% [ADJ: ",$J($P(ZPY,U,1),8,2),"/ BILLED: ",$J($P(ZPY,U,5),9,2),"] PAID: ",$J($P(ZPY,U,2),9,2),! S RCSL=RCSL+1
"RTN","RCDPPLB",126,0)
 ... D:RCDET DETAIL(RCSORT,ZZ,PY,$NA(^TMP("RCDPPLB_REPORT",$J))) Q:RCQUIT
"RTN","RCDPPLB",127,0)
 .. W:'RCQUIT ZLN,! S RCSL=RCSL+1
"RTN","RCDPPLB",128,0)
 . D:RCSORT="P"  Q:RCQUIT
"RTN","RCDPPLB",129,0)
 .. W "PAYER NAME/TIN: ",ZZ,! S RCSL=RCSL+1
"RTN","RCDPPLB",130,0)
 .. I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",131,0)
 .. W "# ERAs:",$J($P(ZDAT,U,3),5),"  ADJ: ",$S(+$P(ZDAT,U,5)>0:$J((($P(ZDAT,U,1)/$P(ZDAT,U,5))*100),3,0),1:"ERR"),"% [AMT ADJ:",$J($P(ZDAT,U,1),8,2),"/ BILLED:",$J($P(ZDAT,U,5),9,2),"] PAID:",$J($P(ZDAT,U,2),9,2),! S RCSL=RCSL+1
"RTN","RCDPPLB",132,0)
 .. I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",133,0)
 .. W ZLN,! S RCSL=RCSL+1
"RTN","RCDPPLB",134,0)
 .. I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",135,0)
 .. S PY="",CZ=0 F  S PY=$O(^TMP("RCDPPLB_REPORT",$J,"SUMMARY",ZZ,PY)) Q:PY=""  S ZPY=^TMP("RCDPPLB_REPORT",$J,"SUMMARY",ZZ,PY) D  Q:RCQUIT  S CZ=CZ+1
"RTN","RCDPPLB",136,0)
 ... S ZPPY=$S(+$P(ZPY,U,5)'=0:$J((($P(ZPY,U,1)/$P(ZPY,U,5))*100),3,0),1:"ERR")
"RTN","RCDPPLB",137,0)
 ... I CZ>0 W ZLN2,! S RCSL=RCSL+1
"RTN","RCDPPLB",138,0)
 ... W "  ADJ CODE: ",PY,"  ADJ CODE TXT: ",$P(ZPY,U,4),! S RCSL=RCSL+1
"RTN","RCDPPLB",139,0)
 ... I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",140,0)
 ... W "  #ERAs: ",$J($P(ZPY,U,3),4),"  ADJ: ",ZPPY,"% [ADJ: ",$J($P(ZPY,U,1),8,2),"/ BILLED: ",$J($P(ZPY,U,5),9,2),"] PAID: ",$J($P(ZPY,U,2),9,2),! S RCSL=RCSL+1
"RTN","RCDPPLB",141,0)
 ... D:RCDET DETAIL(RCSORT,ZZ,PY,$NA(^TMP("RCDPPLB_REPORT",$J))) Q:RCQUIT
"RTN","RCDPPLB",142,0)
 .. I 'RCQUIT W ZLN,! S RCSL=RCSL+1
"RTN","RCDPPLB",143,0)
 D:'RCQUIT ASK^RCDPRU(.RCQUIT)
"RTN","RCDPPLB",144,0)
PLBQ ;
"RTN","RCDPPLB",145,0)
 K RCQUIT,VAUTD,ZDAT,ZLN,ZDLN,ZLN2
"RTN","RCDPPLB",146,0)
 K ^TMP("RCDPPLB_REPORT",$J)
"RTN","RCDPPLB",147,0)
 Q
"RTN","RCDPPLB",148,0)
 ;
"RTN","RCDPPLB",149,0)
 ; SORT = by CODES or Payer; CAT = CODE or Payer/TIN to lookup
"RTN","RCDPPLB",150,0)
 ; DET = Second subscipt either Payer/TIN if Sort="C" or PLB Code if Sort="P"; ZGBL = Global to use through indirection
"RTN","RCDPPLB",151,0)
DETAIL(SORT,CAT,DET,ZGBL) ; Detail Report
"RTN","RCDPPLB",152,0)
 N ZLN1,ZFS,ZZ,ZDET,ZDZN,ZPCT,ZADJ,ZBIL,ZPD S $P(ZLN1,"-",77)="-",ZLN1="  "_ZLN1
"RTN","RCDPPLB",153,0)
 S ZFS=$S(SORT="C":"ERA",1:"PAYR")
"RTN","RCDPPLB",154,0)
 W ZLN1,! S RCSL=RCSL+1
"RTN","RCDPPLB",155,0)
 I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",156,0)
 W "  #ERA        DATE     %ADJ    ADJUST       BILLED       PAID      CHECK#",! S RCSL=RCSL+1
"RTN","RCDPPLB",157,0)
 I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",158,0)
 W "     TRACE#",! S RCSL=RCSL+1
"RTN","RCDPPLB",159,0)
 I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",160,0)
 ;W "       COMMENTS ",! S RCSL=RCSL+1
"RTN","RCDPPLB",161,0)
 W "     REFERENCE#",! S RCSL=RCSL+1
"RTN","RCDPPLB",162,0)
 I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",163,0)
 S ZZ="" F  S ZZ=$O(@ZGBL@(ZFS,CAT,ZZ)) Q:ZZ=""  S ZDZN=@ZGBL@(ZFS,CAT,ZZ,0) D  Q:RCQUIT
"RTN","RCDPPLB",164,0)
 . S ZDET=$$GETDT(SORT,CAT,DET,ZDZN,ZGBL)
"RTN","RCDPPLB",165,0)
 . Q:ZDET'=DET  ; If this isn't the same then skip
"RTN","RCDPPLB",166,0)
 . S ZADJ=$$DAMT("A",$S(SORT="C":CAT,1:DET),$P(ZDZN,U,1),ZFS,ZGBL),ZBIL=$$DAMT("B",CAT,$P(ZDZN,U,1),ZFS,ZGBL),ZPD=$$DAMT("P",CAT,$P(ZDZN,U,1),ZFS,ZGBL)
"RTN","RCDPPLB",167,0)
 . S ZPCT=$S(ZBIL'=0:$J(((ZADJ/ZBIL)*100),3,0),1:"ERR")
"RTN","RCDPPLB",168,0)
 . W $J($P(ZDZN,U,1),9),?12,$$DATE^RCDPRU($P(ZDZN,U,4)),?23,$J(ZPCT,3,0),?29,$J(ZADJ,9,2),?42,$J(ZBIL,9,2),?54,$J(ZPD,9,2),?68,$P(ZDZN,U,13),! S RCSL=RCSL+1
"RTN","RCDPPLB",169,0)
 . I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",170,0)
 . W ?9,$P(ZDZN,U,2),! S RCSL=RCSL+1 ; Trace
"RTN","RCDPPLB",171,0)
 . I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",172,0)
 . W ?9,$$DTCM(CAT,$P(ZDZN,U,1),ZFS,ZGBL),! S RCSL=RCSL+1 ; Reference #
"RTN","RCDPPLB",173,0)
 Q:RCQUIT
"RTN","RCDPPLB",174,0)
 I RCSL>=(IOSL-2) S RCQUIT=$$NEWPG(.RCPG,0,.RCSL,RCSORT) Q:RCQUIT
"RTN","RCDPPLB",175,0)
 ;W ZLN1,! S RCSL=RCSL+1
"RTN","RCDPPLB",176,0)
 Q
"RTN","RCDPPLB",177,0)
 ;
"RTN","RCDPPLB",178,0)
GETDT(SORT,CAT,DT,ZND,ZGBL) ; Get detail information for this entry
"RTN","RCDPPLB",179,0)
 N MYDT,MM
"RTN","RCDPPLB",180,0)
 S MYDT=""
"RTN","RCDPPLB",181,0)
 I SORT="C" Q $P(ZND,U,6)_"/"_$P(ZND,U,3)
"RTN","RCDPPLB",182,0)
 ; Otherwise we have a payer sort and need to do more work
"RTN","RCDPPLB",183,0)
 S MM=0.11 F  S MM=$O(@ZGBL@("00_ERA",$P(ZND,U,1),MM)) Q:MM=""  I $P(@ZGBL@("00_ERA",$P(ZND,U,1),MM),U,1)=DT S MYDT=$P(@ZGBL@("00_ERA",$P(ZND,U,1),MM),U,1) Q
"RTN","RCDPPLB",184,0)
 Q MYDT
"RTN","RCDPPLB",185,0)
 ;
"RTN","RCDPPLB",186,0)
 ; Get the type of amount from the ^TMP global
"RTN","RCDPPLB",187,0)
DAMT(TYPE,FIRST,ZIEN,XFS,XGBL) ; Get amounts
"RTN","RCDPPLB",188,0)
 N ZAMT,XDN S ZAMT=0
"RTN","RCDPPLB",189,0)
 ; Adjustment amount
"RTN","RCDPPLB",190,0)
 I TYPE="A" D  Q ZAMT
"RTN","RCDPPLB",191,0)
 . S AA=0.1 F  S AA=$O(@XGBL@("00_ERA",ZIEN,AA)) Q:AA=""  D
"RTN","RCDPPLB",192,0)
 .. Q:$P(@XGBL@("00_ERA",ZIEN,AA),U,1)'=FIRST  ; Not the correct record
"RTN","RCDPPLB",193,0)
 .. ; Otherwise we have the right record get the adjustment amount
"RTN","RCDPPLB",194,0)
 .. S ZAMT=ZAMT+$P(@XGBL@("00_ERA",ZIEN,AA),U,2)
"RTN","RCDPPLB",195,0)
 ; Total billed on ERA
"RTN","RCDPPLB",196,0)
 I TYPE="B" Q @XGBL@("00_ERA",ZIEN,0.1)
"RTN","RCDPPLB",197,0)
 ; Paid Amount
"RTN","RCDPPLB",198,0)
 I TYPE="P" Q $P(@XGBL@("00_ERA",ZIEN,0),U,5)
"RTN","RCDPPLB",199,0)
 Q ZAMT
"RTN","RCDPPLB",200,0)
 ;
"RTN","RCDPPLB",201,0)
DTCM(FIRST,ZIEN,XFS,XGBL) ; Get comment or reference number
"RTN","RCDPPLB",202,0)
 N AA,XDN,ZCM
"RTN","RCDPPLB",203,0)
 S XDN=0,ZCM=""
"RTN","RCDPPLB",204,0)
 D
"RTN","RCDPPLB",205,0)
 . S AA=0.1 F  S AA=$O(@XGBL@("00_ERA",ZIEN,AA)) Q:AA=""!(XDN=1)  D
"RTN","RCDPPLB",206,0)
 .. Q:$P(@XGBL@("00_ERA",ZIEN,AA),U,1)'=FIRST  ; Not the correct record
"RTN","RCDPPLB",207,0)
 .. ; Otherwise we have the right record get the adjustment amount
"RTN","RCDPPLB",208,0)
 .. S ZCM=$P(@XGBL@("00_ERA",ZIEN,AA),U,3),XDN=1
"RTN","RCDPPLB",209,0)
 Q ZCM
"RTN","RCDPPLB",210,0)
 ;
"RTN","RCDPPLB",211,0)
HDR(CD) ; Report header
"RTN","RCDPPLB",212,0)
 Q:CD "EDI LOCKBOX 835 PROVIDER LEVEL ADJUSTMENT (PLB) REPORT - DETAIL"
"RTN","RCDPPLB",213,0)
 Q "EDI LOCKBOX 835 PROVIDER LEVEL ADJUSTMENT (PLB) REPORT - SUMMARY"
"RTN","RCDPPLB",214,0)
 ;
"RTN","RCDPPLB",215,0)
HDRP(Z,X,Z1) ; Print Header (Z=String, X=1 (line feed) X=0 (no LF), Z1 (page number right justified)
"RTN","RCDPPLB",216,0)
 N LGT S LGT=$L(Z)+$L($G(Z1))
"RTN","RCDPPLB",217,0)
 I $G(X)=1 W !
"RTN","RCDPPLB",218,0)
 W ?(IOM-LGT\2),Z W:$G(Z1)]"" ?(IOM-$L(Z1)),Z1
"RTN","RCDPPLB",219,0)
 Q
"RTN","RCDPPLB",220,0)
 ;
"RTN","RCDPPLB",221,0)
NEWPG(RCPG,RCNEW,RCSL,CD) ; Check for new page needed, output header
"RTN","RCDPPLB",222,0)
 ; RCPG = Page number passwd by referece
"RTN","RCDPPLB",223,0)
 ; RCNEW = 1 to force new page
"RTN","RCDPPLB",224,0)
 ; RCSL = page length passed by reference
"RTN","RCDPPLB",225,0)
 ; Function returns 1 if user chooses to stop output
"RTN","RCDPPLB",226,0)
 N ZSTOP S ZSTOP=0
"RTN","RCDPPLB",227,0)
 I RCNEW!'RCPG!(($Y+5)>IOSL) D
"RTN","RCDPPLB",228,0)
 . D:RCPG ASK^RCDPRU(.ZSTOP) Q:ZSTOP
"RTN","RCDPPLB",229,0)
 . S RCPG=RCPG+1 W @IOF
"RTN","RCDPPLB",230,0)
 . D HDRP($$HDR(RCDET),1,"Page: "_RCPG)
"RTN","RCDPPLB",231,0)
 . D HDRP("SORT by "_$S($E(CD,1)="C":"PLB CODES",1:"PAYER NAMES")_"  REPORT RUN DATE: "_RCNOW,1)
"RTN","RCDPPLB",232,0)
 . D HDRP("DIVISION: "_DIVHDR_" Codes: "_CRHDR,1)
"RTN","RCDPPLB",233,0)
 . D HDRP("835 PAYERS: "_$S(RCPAY="ALL":"ALL",1:"Selected")_" 835 PAYER TINs: "_$S(RCTIN="A":"ALL",1:"Selected"),1)
"RTN","RCDPPLB",234,0)
 . D HDRP("Date Range: "_$$DATE^RCDPRU(RCDT1)_" - "_$$DATE^RCDPRU(RCDT2),1)
"RTN","RCDPPLB",235,0)
 . W !,RCHR,! S RCSL=7
"RTN","RCDPPLB",236,0)
 Q ZSTOP
"RTN","RCDPPLB",237,0)
 ;
"RTN","RCDPPLB",238,0)
 ; Get data for report and apply filters if necessary
"RTN","RCDPPLB",239,0)
GETDATA(GPLB,GPAYER,GTIN,GSORT,GSTART,GSTOP,GARRAY,GDIV) ;
"RTN","RCDPPLB",240,0)
 N SDT,IEN,CD,CNT,IX,ZX,XY,RM,PARR,PNARR,PTARR,RCSET,GLINE,ZN,ZED,ZEN,ZPAY,ZTIN,ZDESC,ZZ,RCERR,RCGX,RCEB,EOBTOT,STA,STNUM,STNAM,ZLVL
"RTN","RCDPPLB",241,0)
 S SDT=$O(^RCY(344.4,"AC",GSTART),-1)
"RTN","RCDPPLB",242,0)
 S ZLVL=$S(GSORT="C":"ERA",1:"PAYR")
"RTN","RCDPPLB",243,0)
 ; Set up arrays for filtering on PLB, PAYER name and Payer TINs
"RTN","RCDPPLB",244,0)
 D RNG^RCDPRU("PLB",.GPLB,.PARR),RNG^RCDPRU("PAYER",GPAYER,.PARR),RNG^RCDPRU("TIN",GTIN,.PARR)
"RTN","RCDPPLB",245,0)
 ;Get possible ERAs to work on from ^RCY(344.4,"AC") index
"RTN","RCDPPLB",246,0)
 F  S SDT=$O(^RCY(344.4,"AC",SDT)) Q:SDT=""!(SDT>GSTOP)  D
"RTN","RCDPPLB",247,0)
 . S IEN="" F  S IEN=$O(^RCY(344.4,"AC",SDT,IEN)) Q:IEN=""  S ZN=^RCY(344.4,IEN,0) D
"RTN","RCDPPLB",248,0)
 .. I GDIV=0 D ERASTA^RCDPEM4(IEN,.STA,.STNUM,.STNAM) Q:'$D(GDIV(STA))  ; If not the right Division/station then get next ERA
"RTN","RCDPPLB",249,0)
 .. K RCGX D GETS^DIQ(344.4,IEN_",","2*;","E","RCGX") Q:$D(RCGX)=0  ; Quit if no PLBs on this ERA
"RTN","RCDPPLB",250,0)
 .. S ZTIN=$$GET1^DIQ(344.4,IEN_",",.03,"E"),ZPAY=$$GET1^DIQ(344.4,IEN_",",.06,"E")
"RTN","RCDPPLB",251,0)
 .. Q:'$$CHECK("TIN",ZTIN,.PARR)  Q:'$$CHECK("PAYER",ZPAY,.PARR)  ; Quit if not including this tin or payer
"RTN","RCDPPLB",252,0)
 .. ; Billed amount on the EOBs, Get EOB Details
"RTN","RCDPPLB",253,0)
 .. K RCEB D GETS^DIQ(344.4,IEN_",","1*;","I","RCEB")
"RTN","RCDPPLB",254,0)
 .. ; Walk EOB Details and get the total amount billed
"RTN","RCDPPLB",255,0)
 .. S EOBTOT=0
"RTN","RCDPPLB",256,0)
 .. I $D(RCEB)>9 S XY="" F  S XY=$O(RCEB(344.41,XY)) Q:XY=""  S EOBTOT=EOBTOT+$$GET1^DIQ(361.1,RCEB(344.41,XY,.02,"I")_",","2.04","E")
"RTN","RCDPPLB",257,0)
 .. ; Get list of PLB Codes for this ERA
"RTN","RCDPPLB",258,0)
 .. S IX="" K CD F ZZ=1:1 S IX=$O(RCGX(344.42,IX)) Q:IX=""  D
"RTN","RCDPPLB",259,0)
 ... I '$$CHECK("PLB",RCGX(344.42,IX,.02,"E"),.PARR) Q  ; If plb not included in report quit and go to the next entry 
"RTN","RCDPPLB",260,0)
 ... ; Get IEN for PLB Code, then get description for code from file 345.1
"RTN","RCDPPLB",261,0)
 ... S ZEN=$$FIND1^DIC(345.1,"","",RCGX(344.42,IX,.02,"E"),"B","","RCERR") S:$G(ZEN)]"" ZDESC=$$GET1^DIQ(345.1,ZEN_",",.05,"","RCERR")
"RTN","RCDPPLB",262,0)
 ... S:$G(ZDESC)="" ZDESC=$G(RCGX(344.42,IX,.04,"E")) ; If no description use the Description from FSC
"RTN","RCDPPLB",263,0)
 ... S:$G(ZDESC)="" ZDESC="Bad data recieved from FSC" ; Otherwise make one up.
"RTN","RCDPPLB",264,0)
 ... ; PLB Code ^ Adj. Amount ^ Reference / Comment ^ Code Description
"RTN","RCDPPLB",265,0)
 ... S CD(ZZ)=$S(RCGX(344.42,IX,.02,"E")'="":RCGX(344.42,IX,.02,"E"),1:"00")_U_RCGX(344.42,IX,.03,"E")_U_RCGX(344.42,IX,.01,"E")_U_ZDESC
"RTN","RCDPPLB",266,0)
 ... S @GARRAY@("00_ERA",IEN,ZZ)=CD(ZZ)
"RTN","RCDPPLB",267,0)
 ... ; Add items to report global sorted by Payer or PLB Code
"RTN","RCDPPLB",268,0)
 ... S @GARRAY@("00_ERA",IEN,0)=ZN,@GARRAY@("00_ERA",IEN,0.1)=EOBTOT
"RTN","RCDPPLB",269,0)
 ... ;D:GSORT="C" BYCODE^RCDPRU(ZN,.CD,IEN,GARRAY,EOBTOT) D:GSORT="P" BYPAYR^RCDPRU(ZN,.CD,IEN,GARRAY,EOBTOT)
"RTN","RCDPPLB",270,0)
 ... S ZED=$S(GSORT="C":$P(CD(ZZ),U,1),1:$P(ZN,U,6)_"/"_$P(ZN,U,3)),@GARRAY@(ZLVL,ZED,IEN,0)=ZN
"RTN","RCDPPLB",271,0)
 D SUMIT^RCDPRU(GARRAY,ZLVL,GSORT)
"RTN","RCDPPLB",272,0)
 Q
"RTN","RCDPPLB",273,0)
 ; Check to see if this ITEM is included for processing
"RTN","RCDPPLB",274,0)
CHECK(TYPE,ITEM,ARRAY) ;
"RTN","RCDPPLB",275,0)
 ; If all are included no need to check further
"RTN","RCDPPLB",276,0)
 I TYPE="TIN" S:$E(ITEM,$L(ITEM))'=" " ITEM=ITEM_" " ; Add space to TIN if needed.
"RTN","RCDPPLB",277,0)
 Q:$G(ARRAY(TYPE))="ALL" 1
"RTN","RCDPPLB",278,0)
 Q:$G(ARRAY(TYPE,ITEM))=1 1
"RTN","RCDPPLB",279,0)
 Q 0
"RTN","RCDPPLB",280,0)
 ;
"RTN","RCDPPLB",281,0)
PLBC(RET) ; Get PLB Codes to limit for report or all
"RTN","RCDPPLB",282,0)
 N PLLIST,PLCODE,DTOUT,DUOUT,FILE S FILE=345.1
"RTN","RCDPPLB",283,0)
 S DIR("A")="Select (C)ode, (R)ange of Codes or (A)ll ?: ",DIR(0)="SA^A:All Codes;C:Single Code;R:Range/List of Codes"
"RTN","RCDPPLB",284,0)
 S DIR("B")="ALL" D ^DIR K DIR
"RTN","RCDPPLB",285,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") S RCQUIT=1 Q
"RTN","RCDPPLB",286,0)
 S PLLIST=Y
"RTN","RCDPPLB",287,0)
 I PLLIST="A" S RET="ALL" Q
"RTN","RCDPPLB",288,0)
 I PLLIST="C" D  Q
"RTN","RCDPPLB",289,0)
 .; if invalid code return here
"RTN","RCDPPLB",290,0)
C1 .;
"RTN","RCDPPLB",291,0)
 . S DIR("A")="Enter a Code: ",DIR(0)="FA^1:200"
"RTN","RCDPPLB",292,0)
 . S DIR("?")="Only a single codes can be entered as: WO"
"RTN","RCDPPLB",293,0)
 . S DIR("?",1)="Please enter one Code for the report."
"RTN","RCDPPLB",294,0)
 . S DIR("?",2)="The single validated code will be included in the report."
"RTN","RCDPPLB",295,0)
 . D ^DIR K DIR
"RTN","RCDPPLB",296,0)
 . I $D(DTOUT)!$D(DUOUT)!(Y="") S RCQUIT=1 Q
"RTN","RCDPPLB",297,0)
 . S PLCODE=$$UP^RCDPRU(X),PLCODE=$TR(PLCODE," ","")
"RTN","RCDPPLB",298,0)
 . I (PLCODE[":"),(PLCODE["-"),(PLCODE[",") W !!,"PLB Code: "_PLCODE_" not found, Please try again...",! S X="",PLCODE="" G C1
"RTN","RCDPPLB",299,0)
 . I '$$VAL(FILE,.PLCODE) W !!,"PLB Code: "_PLCODE_" not found, Please try again...",! S X="",PLCODE="" G C1
"RTN","RCDPPLB",300,0)
 . S RET=PLCODE
"RTN","RCDPPLB",301,0)
 ;
"RTN","RCDPPLB",302,0)
 I PLLIST="R" D
"RTN","RCDPPLB",303,0)
 . ; if invalid range/list of codes return here
"RTN","RCDPPLB",304,0)
C2 . ;
"RTN","RCDPPLB",305,0)
 . S DIR("A")="Enter a List or Range of Codes",DIR(0)="F^1:200"
"RTN","RCDPPLB",306,0)
 . S DIR("?")="Codes can be entered as: WO,51,AH:CT"
"RTN","RCDPPLB",307,0)
 . S DIR("?",1)="Please enter a list or range of Codes, use a comma between elements"
"RTN","RCDPPLB",308,0)
 . S DIR("?",2)="and a colon ':' or '-' to delimit ranges of codes."
"RTN","RCDPPLB",309,0)
 . D ^DIR K DIR
"RTN","RCDPPLB",310,0)
 . I $D(DTOUT)!$D(DUOUT)!(Y="") S RCQUIT=1 Q
"RTN","RCDPPLB",311,0)
 . S PLCODE=$$UP^RCDPRU(X) I '$$VAL(FILE,.PLCODE) W !!,"PLB Code: "_PLCODE_" not found, Please try again...",! S X="",PLCODE="" G C2
"RTN","RCDPPLB",312,0)
 . S RET=PLCODE
"RTN","RCDPPLB",313,0)
 Q
"RTN","RCDPPLB",314,0)
 ;
"RTN","RCDPPLB",315,0)
VAL(XF,CODE) ; Validate a range or list of PLB Codes
"RTN","RCDPPLB",316,0)
 ; If invalid code is found VAILD = 0 and CODE will contain the offending codes
"RTN","RCDPPLB",317,0)
 Q $$VAL^RCDPRU(XF,.CODE)
"RTN","RCDPPLB",318,0)
 ;
"RTN","RCDPRTP2")
0^36^B15639829
"RTN","RCDPRTP2",1,0)
RCDPRTP2 ;ALB/LDB - CLAIMS MATCHING REPORT ;1/26/01  3:16 PM
"RTN","RCDPRTP2",2,0)
 ;;4.5;Accounts Receivable;**151,276,303**;Mar 20, 1995;Build 84
"RTN","RCDPRTP2",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPRTP2",4,0)
 ;
"RTN","RCDPRTP2",5,0)
PRINT1 ;
"RTN","RCDPRTP2",6,0)
 N REJECT
"RTN","RCDPRTP2",7,0)
 I $Y>(IOSL-2) D PAUSE Q:$G(RCQ)  D HDR^RCDPRTP1,HDR1
"RTN","RCDPRTP2",8,0)
 ; PRCA*4.5*276 - get EEOB indicator '%'and attach it to the bill number when applicable. Adjust report tabs to make room for EEOB indicator '%'.
"RTN","RCDPRTP2",9,0)
 N RC430 S RC430=+$O(^PRCA(430,"B",""_$P(RCIBDAT,"^",4)_"",0))
"RTN","RCDPRTP2",10,0)
 S RCEEOB=$$EEOB(RC430)
"RTN","RCDPRTP2",11,0)
 ; #IA 6060 for $$BILLREJ^IBJTU6
"RTN","RCDPRTP2",12,0)
 S REJECT=$S($$BILLREJ^IBJTU6($P($P(RCIBDAT,"^",4),"-",2)):"c",1:" ") ;PRCA*4.5*303 Add indicator for rejects
"RTN","RCDPRTP2",13,0)
 W !,$S(RCTP=RCBILL:"*",$D(RCTP(RCTP)):"*",1:" "),$G(RCEEOB)_REJECT_$P(RCIBDAT,"^",4),?17,$P(RCIBDAT,"^",5),?24
"RTN","RCDPRTP2",14,0)
 W $$STAT(RCTP),?31,$$DATE(+RCIBDAT),?42,$$DATE($P(RCIBDAT,"^",2))
"RTN","RCDPRTP2",15,0)
 S Y=$S($G(RCTP(RCTP)):RCTP(RCTP),$G(^TMP("RCDPRTPB",$J,RCNAM,RCBILL)):^(RCBILL),1:"") I RCTP=RCBILL!($D(RCTP(RCTP))) W ?53,$$DATE(Y)
"RTN","RCDPRTP2",16,0)
 S RCAMT=$P($G(^PRCA(430,+RCTP,0)),"^",3),RCAMT1=$P($G(^PRCA(430,+RCTP,7)),"^",7) W ?64,$J(RCAMT,9,2)
"RTN","RCDPRTP2",17,0)
 W ?76,$J(RCAMT1,9,2) S RCAMT(0)=RCAMT(0)+RCAMT,RCAMT(1)=RCAMT(1)+RCAMT1
"RTN","RCDPRTP2",18,0)
 W ?88,$E($P(RCIBDAT,"^",7),1,25)
"RTN","RCDPRTP2",19,0)
 K RCTP(RCTP)
"RTN","RCDPRTP2",20,0)
 Q
"RTN","RCDPRTP2",21,0)
 ;
"RTN","RCDPRTP2",22,0)
PRINT2  ; Print the detail line for a first party bill.
"RTN","RCDPRTP2",23,0)
 I $Y>(IOSL-2) D PAUSE Q:$G(RCQ)  D HDR^RCDPRTP1,HDR2
"RTN","RCDPRTP2",24,0)
 W !," ",$P(RCIBDAT,"^",4),?14,$P(RCIBDAT,"^",6)
"RTN","RCDPRTP2",25,0)
 S RCIBFN=$P(RCIBDAT,"^",4) I RCIBFN S RCIBFN=$O(^PRCA(430,"B",RCIBFN,0))
"RTN","RCDPRTP2",26,0)
 ; PRCA*4.5*276 - adjust report tabs to make room for EEOB indicator '%'.
"RTN","RCDPRTP2",27,0)
 W ?36,$$STAT(RCIBFN),?42,$$DATE(+RCIBDAT),?54,$$DATE($P(RCIBDAT,"^",2))
"RTN","RCDPRTP2",28,0)
 W ?66,$J($P(RCIBDAT,"^",5),9,2),?78,$P(RCIBDAT,"^",7)
"RTN","RCDPRTP2",29,0)
 W ?87,$J($S($G(^PRCA(430,+RCIBFN,7)):+($P(^(7),"^")+$P(^(7),"^",2)+$P(^(7),"^",3)+$P(^(7),"^",4)+$P(^(7),"^",4)),1:0),9,2)
"RTN","RCDPRTP2",30,0)
 Q
"RTN","RCDPRTP2",31,0)
 ;
"RTN","RCDPRTP2",32,0)
 ;
"RTN","RCDPRTP2",33,0)
PRINT3 ; Print patient detail information.
"RTN","RCDPRTP2",34,0)
 I $Y>(IOSL-5) D PAUSE Q:$G(RCQ)  D HDR^RCDPRTP1
"RTN","RCDPRTP2",35,0)
 S RCNAM1=^TMP("RCDPRTPB",$J,RCNAM)
"RTN","RCDPRTP2",36,0)
 W !!,RCLINE
"RTN","RCDPRTP2",37,0)
 W !,"NAME: ",$P(RCNAM,"^")," (",$E($P(RCNAM1,"^",3),6,9)_")"
"RTN","RCDPRTP2",38,0)
 W !,"Prim. Elig: ",$P(RCNAM1,"^",2)
"RTN","RCDPRTP2",39,0)
 W ?44,"DOB: ",$P(RCNAM1,"^")
"RTN","RCDPRTP2",40,0)
 W ?61,"RX COVERAGE: ",$S('$G(^TMP("IBRBT",$J,RCBILL)):"NO",1:"YES")
"RTN","RCDPRTP2",41,0)
 W !,RCLINE
"RTN","RCDPRTP2",42,0)
 Q
"RTN","RCDPRTP2",43,0)
 ;
"RTN","RCDPRTP2",44,0)
HDR1    ;
"RTN","RCDPRTP2",45,0)
 W !!,"Third Party Bills: * -> bill for which payment was posted"
"RTN","RCDPRTP2",46,0)
 W !,"============================="
"RTN","RCDPRTP2",47,0)
 ; PRCA*4.5*276 - adjust report tabs to make room for EEOB indicator '%'.
"RTN","RCDPRTP2",48,0)
 W !!,"Bill #",?15,"P/S/T",?22,"Status",?30,"Bill From",?42,"Bill To",?53,"Posted",?63,"Amt Billed",?76,"Amt Paid",?88,"Payor"
"RTN","RCDPRTP2",49,0)
 W !,"-------------",?15,"-----",?22,"------",?30,"---------",?42,"--------",?53,"--------",?63,"----------",?75,"----------",?88,"-----"
"RTN","RCDPRTP2",50,0)
 Q
"RTN","RCDPRTP2",51,0)
 ;
"RTN","RCDPRTP2",52,0)
HDR2 ;
"RTN","RCDPRTP2",53,0)
 W !!,"Associated First Party Charges:"
"RTN","RCDPRTP2",54,0)
 W !,"==============================="
"RTN","RCDPRTP2",55,0)
 ; PRCA*4.5*276 - adjust report tabs to make room for EEOB indicator '%'.
"RTN","RCDPRTP2",56,0)
 W !," Bill #",?14,"Charge Type",?34,"Status",?42,"From/Fill",?54,"To/Rel",?65,"Amt Billed",?78,"On Hold",?87,"  Balance"
"RTN","RCDPRTP2",57,0)
 W !,"-----------",?14,"----------------",?34,"------",?42,"---------",?54,"---------",?65,"----------",?78,"-------",?87," ----------"
"RTN","RCDPRTP2",58,0)
 Q
"RTN","RCDPRTP2",59,0)
 ;
"RTN","RCDPRTP2",60,0)
STAT(RCIBFN) ;AR Status
"RTN","RCDPRTP2",61,0)
 I '$G(RCIBFN) Q ""
"RTN","RCDPRTP2",62,0)
 N RCSTAT
"RTN","RCDPRTP2",63,0)
 S RCSTAT=$P($G(^PRCA(430,+RCIBFN,0)),"^",8),RCSTAT=$P($G(^PRCA(430.3,+RCSTAT,0)),"^",2)
"RTN","RCDPRTP2",64,0)
 Q RCSTAT
"RTN","RCDPRTP2",65,0)
 ;
"RTN","RCDPRTP2",66,0)
DATE(X) ; Convert FileMan date to mm/dd/yy
"RTN","RCDPRTP2",67,0)
 Q $S($G(X):$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3),1:"")
"RTN","RCDPRTP2",68,0)
 ;
"RTN","RCDPRTP2",69,0)
 ;
"RTN","RCDPRTP2",70,0)
PAUSE ; Page break.
"RTN","RCDPRTP2",71,0)
 I $E(IOST,1,2)'="C-" Q
"RTN","RCDPRTP2",72,0)
 N RCX,DIR,DIRUT,DUOUT,DTOUT,DIROUT,X,Y
"RTN","RCDPRTP2",73,0)
 I IOSL<100 F RCX=$Y:1:(IOSL-3) W !
"RTN","RCDPRTP2",74,0)
 S DIR(0)="E" D ^DIR I $D(DIRUT)!($D(DUOUT)) S RCQ=1
"RTN","RCDPRTP2",75,0)
 Q
"RTN","RCDPRTP2",76,0)
 ;
"RTN","RCDPRTP2",77,0)
EEOB(RCBILL) ; PRCA*4.5*276 - get EEOB indicator for a bill
"RTN","RCDPRTP2",78,0)
 ; Interaction with IB file #361.1 covered by IA #4051.
"RTN","RCDPRTP2",79,0)
 ; RCBILL is the IEN of the bill in files #399/#430 and must be valid,
"RTN","RCDPRTP2",80,0)
 ; Exclude an EOB type of MRA when getting payment information. Return
"RTN","RCDPRTP2",81,0)
 ; the EEOB indicator '%' if payment activity was found.
"RTN","RCDPRTP2",82,0)
 ;
"RTN","RCDPRTP2",83,0)
 N RCEEOB,RCVAL,Z
"RTN","RCDPRTP2",84,0)
 I $G(RCBILL)=0 Q ""
"RTN","RCDPRTP2",85,0)
 I '$O(^IBM(361.1,"B",RCBILL,0)) Q ""  ; no matching entry for bill
"RTN","RCDPRTP2",86,0)
 I $P($G(^DGCR(399,RCBILL,0)),"^",13)=1 Q ""  ;avoid 'ENTERED/NOT REVIEWED' status
"RTN","RCDPRTP2",87,0)
 ; handle both single and multiple bill entries in file #361.1
"RTN","RCDPRTP2",88,0)
 S Z=0 F  S Z=$O(^IBM(361.1,"B",RCBILL,Z)) Q:'Z  D  Q:$G(RCEEOB)="%"
"RTN","RCDPRTP2",89,0)
 . S RCVAL=$G(^IBM(361.1,Z,0))
"RTN","RCDPRTP2",90,0)
 . S RCEEOB=$S($P(RCVAL,"^",4)=1:"",$P(RCVAL,"^",4)=0:"%",1:"")
"RTN","RCDPRTP2",91,0)
 Q RCEEOB  ; EEOB indicator for 1st/3rd party payment on bill
"RTN","RCDPRU")
0^6^B219265660
"RTN","RCDPRU",1,0)
RCDPRU ;ALB/TJB - CARC REPORT ON PAYER OR CARC CODE ;9/15/14 3:00pm
"RTN","RCDPRU",2,0)
 ;;4.5;Accounts Receivable;**303**;Mar 20, 1995;Build 84
"RTN","RCDPRU",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPRU",4,0)
 Q
"RTN","RCDPRU",5,0)
 ; PRCA*4.5*303 - CARC and Payer report utilities
"RTN","RCDPRU",6,0)
 ; IA 594 - ACCOUNTS RECEIVABLE CATEGORY file (#430.2)
"RTN","RCDPRU",7,0)
 ; IA 1077 - Using DIVISION^VAUTOMA to query for division
"RTN","RCDPRU",8,0)
 ; IA 1992 - BILL/CLAIMS file (#399)
"RTN","RCDPRU",9,0)
 ; IA 3820 - BILL/CLAIMS file (#399)
"RTN","RCDPRU",10,0)
 ; IA 3822 - RATE TYPE file (#399.3)
"RTN","RCDPRU",11,0)
 ; IA 4051 - EXPLANATION OF BENEFITS file (#361.1)
"RTN","RCDPRU",12,0)
 ; IA 4996 - BILL/CLAIMS file (#399)
"RTN","RCDPRU",13,0)
 ;
"RTN","RCDPRU",14,0)
DISPTY() ; function, ask display/output type
"RTN","RCDPRU",15,0)
         ; processes input from user
"RTN","RCDPRU",16,0)
         ; returns: Output destination (0=Display, 1=MS Excel, -1=timeout or '^)
"RTN","RCDPRU",17,0)
 N DIR,DUOUT,DIRUT,X,Y
"RTN","RCDPRU",18,0)
 S DIR(0)="YA",DIR("A")="Export the report to Microsoft Excel? (Y/N): ",DIR("B")="NO"
"RTN","RCDPRU",19,0)
 D ^DIR
"RTN","RCDPRU",20,0)
 I $D(DUOUT)!$D(DIRUT) S Y=-1
"RTN","RCDPRU",21,0)
 Q Y
"RTN","RCDPRU",22,0)
 ;
"RTN","RCDPRU",23,0)
INFO ; Useful Info for Excel capture
"RTN","RCDPRU",24,0)
 N SP S SP=$J(" ",10)  ; spaces
"RTN","RCDPRU",25,0)
 W !!!,SP_"Before continuing, please set up your terminal to capture the"
"RTN","RCDPRU",26,0)
 W !,SP_"report data as this report may take a while to run."
"RTN","RCDPRU",27,0)
 W !!,SP_"To avoid undesired wrapping of the data saved to the"
"RTN","RCDPRU",28,0)
 W !,SP_"file, please enter '0;256;999' at the 'DEVICE:' prompt."
"RTN","RCDPRU",29,0)
 W !!,SP_"It may be necessary to set the terminal's display width"
"RTN","RCDPRU",30,0)
 W !,SP_"to 256 characters, which can be performed by selecting the"
"RTN","RCDPRU",31,0)
 W !,SP_"Display option located within the 'Setup' menu on the"
"RTN","RCDPRU",32,0)
 W !,SP_"tool bar of the terminal emulation software (e.g. KEA,"
"RTN","RCDPRU",33,0)
 W !,SP_"Reflection, or Smarterm).",!!
"RTN","RCDPRU",34,0)
 Q
"RTN","RCDPRU",35,0)
 ;
"RTN","RCDPRU",36,0)
ASK(RCSTOP) ; User if you want to quit or continue
"RTN","RCDPRU",37,0)
 S RCSTOP=0
"RTN","RCDPRU",38,0)
 I $E(IOST,1,2)'["C-" Q
"RTN","RCDPRU",39,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","RCDPRU",40,0)
 S DIR(0)="E" W ! D ^DIR
"RTN","RCDPRU",41,0)
 I ($D(DIRUT))!($D(DUOUT)) S RCSTOP=1 Q
"RTN","RCDPRU",42,0)
 Q
"RTN","RCDPRU",43,0)
 ;
"RTN","RCDPRU",44,0)
UP(TEXT) ; Translate text to upper case
"RTN","RCDPRU",45,0)
 Q $$UP^XLFSTR($G(TEXT))
"RTN","RCDPRU",46,0)
 ;
"RTN","RCDPRU",47,0)
DATE(X,F) ; date in external format
"RTN","RCDPRU",48,0)
 I $G(F)="" S F="2Z" ; set date to return mm/dd/yy 
"RTN","RCDPRU",49,0)
 Q $$FMTE^XLFDT(X,F)
"RTN","RCDPRU",50,0)
 ;
"RTN","RCDPRU",51,0)
NOW(F) ; Date/Time of right now in external format
"RTN","RCDPRU",52,0)
 S:$G(F)="" F=1 ; Date format Mon dd, yyyy@hh:mm:ss see kernel documentation
"RTN","RCDPRU",53,0)
 Q $$FMTE^XLFDT($$NOW^XLFDT,F)
"RTN","RCDPRU",54,0)
 ;
"RTN","RCDPRU",55,0)
VAL(XF,CODE) ; Validate a range or list of CARC (345), RARC (346) or PLB (345.1) Codes
"RTN","RCDPRU",56,0)
 ; If invalid code is found VAILD = 0 and CODE will contain the offending codes
"RTN","RCDPRU",57,0)
 N VALID,ELEM,I,RNG1,RNG2,O1,O2,NWCD,RET S RET=""
"RTN","RCDPRU",58,0)
 S VALID=1,NWCD=$TR(CODE,";",":"),NWCD=$TR(NWCD,"-",":") ; Fix ";" or "-" to ":" (colons) for parsing
"RTN","RCDPRU",59,0)
 F I=1:1 S ELEM=$P(NWCD,",",I) Q:ELEM=""  D
"RTN","RCDPRU",60,0)
 .; Is this a single code or range:
"RTN","RCDPRU",61,0)
 .I $L(ELEM,":")>2 S VALID=0,RET=$$PUSH(.RET,ELEM) Q
"RTN","RCDPRU",62,0)
 .I ELEM[":" D  Q  ; Range
"RTN","RCDPRU",63,0)
 ..S RNG1=$P(ELEM,":",1),RNG2=$P(ELEM,":",2)
"RTN","RCDPRU",64,0)
 ..;Lookup the codes
"RTN","RCDPRU",65,0)
 ..S O1=$O(^RC(XF,"B",RNG1),-1),O1=$O(^RC(XF,"B",O1))
"RTN","RCDPRU",66,0)
 ..S O2=$O(^RC(XF,"B",RNG2),-1),O2=$O(^RC(XF,"B",O2))
"RTN","RCDPRU",67,0)
 ..I RNG1'=O1 S VALID=0,RET=$$PUSH(.RET,RNG1)
"RTN","RCDPRU",68,0)
 ..I RNG2'=O2 S VALID=0,RET=$$PUSH(.RET,RNG2)
"RTN","RCDPRU",69,0)
 .E  D
"RTN","RCDPRU",70,0)
 ..;Validate individual items
"RTN","RCDPRU",71,0)
 ..S O1=$O(^RC(XF,"B",ELEM),-1),O1=$O(^RC(XF,"B",O1))
"RTN","RCDPRU",72,0)
 ..I ELEM'=O1 S VALID=0,RET=$$PUSH(.RET,ELEM)
"RTN","RCDPRU",73,0)
 ;
"RTN","RCDPRU",74,0)
 S:VALID CODE=NWCD
"RTN","RCDPRU",75,0)
 S:'VALID CODE=RET
"RTN","RCDPRU",76,0)
 Q VALID
"RTN","RCDPRU",77,0)
 ;
"RTN","RCDPRU",78,0)
ACT(XF,CODE,DATE) ; Is the code active on Date
"RTN","RCDPRU",79,0)
 ; If code is active return 1. If no date use today, date should be in fileman format.
"RTN","RCDPRU",80,0)
 N VALID,XIEN,XDT S VALID=0
"RTN","RCDPRU",81,0)
 I '$D(XF) Q VALID  ; No file return 0
"RTN","RCDPRU",82,0)
 I $G(CODE)="" Q VALID  ; No code return 0
"RTN","RCDPRU",83,0)
 S:'$D(DATE) DATE=$$DT^XLFDT
"RTN","RCDPRU",84,0)
 S XIEN=$$FIND1^DIC(XF,,"O",CODE)
"RTN","RCDPRU",85,0)
 I XIEN="" Q VALID  ; No IEN for this code return 0
"RTN","RCDPRU",86,0)
 S XDT=$$GET1^DIQ(XF,XIEN_",",2,"I") ; Get date in FM format
"RTN","RCDPRU",87,0)
 S:XDT="" VALID=1 ; No stop date so it is active
"RTN","RCDPRU",88,0)
 I (XDT'="")&(XDT>DATE) S VALID=1
"RTN","RCDPRU",89,0)
 Q VALID
"RTN","RCDPRU",90,0)
 ;
"RTN","RCDPRU",91,0)
PUSH(VAR,VALUE) ;
"RTN","RCDPRU",92,0)
 Q:VAR="" VALUE ; Empty variable
"RTN","RCDPRU",93,0)
 Q VAR_U_VALUE
"RTN","RCDPRU",94,0)
 ;
"RTN","RCDPRU",95,0)
 ; Collect data in a list or range to an array, ARRAY passed by reference
"RTN","RCDPRU",96,0)
RNG(TYPE,ITEM,ARRAY) ;
"RTN","RCDPRU",97,0)
 ; Take everything for this TYPE if item is all and quit out
"RTN","RCDPRU",98,0)
 I $G(ITEM)="ALL"!($G(ITEM)="A") S ARRAY(TYPE)="ALL" Q
"RTN","RCDPRU",99,0)
 N X1,X2,NW,I,ELEM
"RTN","RCDPRU",100,0)
 S NW=$TR(ITEM,";",":"),NW=$TR(NW,"-",":") ; Fix ";" or "-" to ":" (colons) for parsing
"RTN","RCDPRU",101,0)
 F I=1:1 S ELEM=$P(NW,",",I) Q:ELEM=""  D
"RTN","RCDPRU",102,0)
 . ; Single element set into array 
"RTN","RCDPRU",103,0)
 . I ELEM'[":" S ARRAY(TYPE,ELEM)=1
"RTN","RCDPRU",104,0)
 . E  D RNGIT(TYPE,ELEM,.ARRAY)
"RTN","RCDPRU",105,0)
 Q
"RTN","RCDPRU",106,0)
 ; Process ranges for CARC/PLB/PAYER/TIN
"RTN","RCDPRU",107,0)
 ; ZAR passed by reference
"RTN","RCDPRU",108,0)
RNGIT(TYPE,ITEM,ZAR) ;
"RTN","RCDPRU",109,0)
 N X1,X2,ELEM,O1,ZGBL,IDX,FILE
"RTN","RCDPRU",110,0)
 ; Set file # and index for the range lookup
"RTN","RCDPRU",111,0)
 S FILE=$S(TYPE="CARC":345,TYPE="PAYER":344.6,TYPE="TIN":344.6,TYPE="PLB":345.1,1:0)
"RTN","RCDPRU",112,0)
 S IDX=$S(TYPE="CARC":"B",TYPE="PAYER":"B",TYPE="TIN":"C",TYPE="PLB":"B",1:0)
"RTN","RCDPRU",113,0)
 ; Get closed root of the Global
"RTN","RCDPRU",114,0)
 S ZGBL=$$ROOT^DILFD(FILE,"",1,"")
"RTN","RCDPRU",115,0)
 I ZGBL="" Q
"RTN","RCDPRU",116,0)
 ; Process range of things in ITEM
"RTN","RCDPRU",117,0)
 S X1=$P(ITEM,":",1),X2=$P(ITEM,":",2)
"RTN","RCDPRU",118,0)
 S O1=$O(@ZGBL@(IDX,X1),-1) ; Set the start
"RTN","RCDPRU",119,0)
 F  S O1=$O(@ZGBL@(IDX,O1)) Q:(O1="")!($$AFTER(O1,X2))  S ZAR(TYPE,O1)=1
"RTN","RCDPRU",120,0)
 Q
"RTN","RCDPRU",121,0)
 ;
"RTN","RCDPRU",122,0)
AFTER(ZZ1,ZZ2) ; Is ZZ1 after (or collates after) ZZ2
"RTN","RCDPRU",123,0)
 N XZ1,XZ2
"RTN","RCDPRU",124,0)
 S XZ1=+ZZ1,XZ2=+ZZ2
"RTN","RCDPRU",125,0)
 I (XZ1'=0)&(XZ2'=0) Q (XZ1>XZ2)  ; Numeric
"RTN","RCDPRU",126,0)
 I (XZ1=0)&(XZ2'=0) Q 1  ; XZ1 not numeric, XZ2 numeric, XZ1 is after XZ2
"RTN","RCDPRU",127,0)
 I (XZ1=0)&(XZ2=0) Q (ZZ1]ZZ2)  ; Both not numeric see if XZ1 collates after XZ2
"RTN","RCDPRU",128,0)
 Q 1 ; Default to after 
"RTN","RCDPRU",129,0)
 ;
"RTN","RCDPRU",130,0)
GLIST(FILE,IDX,GLARR) ;Build list for this file
"RTN","RCDPRU",131,0)
 ; Build list of available payers
"RTN","RCDPRU",132,0)
 N CNT,RCPAY S CNT=0,RCPAY=""
"RTN","RCDPRU",133,0)
 F  S RCPAY=$O(^RCY(FILE,IDX,RCPAY)) Q:RCPAY=""  D
"RTN","RCDPRU",134,0)
 .S CNT=CNT+1
"RTN","RCDPRU",135,0)
 .S @GLARR@(CNT)=RCPAY
"RTN","RCDPRU",136,0)
 .S @GLARR@(IDX,RCPAY,CNT)=""
"RTN","RCDPRU",137,0)
 ;
"RTN","RCDPRU",138,0)
 Q
"RTN","RCDPRU",139,0)
 ; Pass RCPAY by reference
"RTN","RCDPRU",140,0)
GETPAY(RCPAY) ; Get payer information
"RTN","RCDPRU",141,0)
 N EX,RCLPAY S EX=1 ; Exit status
"RTN","RCDPRU",142,0)
 S DIR("A")="Select (A)ll or (R)ange of 835 Payer Names?: ",DIR(0)="SA^A:All Payer Names;R:Range or List of Payer Names"
"RTN","RCDPRU",143,0)
 S DIR("B")="ALL" D ^DIR K DIR
"RTN","RCDPRU",144,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") S EX=0 Q EX
"RTN","RCDPRU",145,0)
 S RCLPAY=Y I $G(Y)="A" S RCPAY="ALL",RCPAY("DATA")="ALL" G GPO
"RTN","RCDPRU",146,0)
 ; Get Range of 835 Payers
"RTN","RCDPRU",147,0)
 ;I RCLPAY="R" D GLIST(344.6,"B",$NA(^TMP("RCDPARC_P",$J))),GETPAYR("RCPAY",$NA(^TMP("RCDPARC_P",$J))) S EX=RTNFLG
"RTN","RCDPRU",148,0)
 I RCLPAY="R" S EX=$$GETRNG(.RCPAY,"P"),RCPAY="R"
"RTN","RCDPRU",149,0)
GPO ;
"RTN","RCDPRU",150,0)
 Q EX
"RTN","RCDPRU",151,0)
 ;
"RTN","RCDPRU",152,0)
 ; Pass RCTIN by reference
"RTN","RCDPRU",153,0)
GETTIN(RCTIN) ; Get Payer TIN information
"RTN","RCDPRU",154,0)
 N EX,RCTLIST,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y S EX=1 ; Exit status
"RTN","RCDPRU",155,0)
 S DIR("A")="Select (A)ll or (R)ange of 835 Payer TINs?: ",DIR(0)="SA^A:All Payer TINs;R:Range or List of Payer TINs"
"RTN","RCDPRU",156,0)
 S DIR("B")="ALL" D ^DIR K DIR
"RTN","RCDPRU",157,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") S EX=0 Q EX
"RTN","RCDPRU",158,0)
 S RCTLIST=Y I $G(Y)="A" S RCTIN="ALL",RCTIN("DATA")="ALL" G GTO
"RTN","RCDPRU",159,0)
 ; Get Range of 835 Payer TINs
"RTN","RCDPRU",160,0)
 I RCTLIST="R" S EX=$$GETRNG(.RCTIN,"T"),RCTIN="R"
"RTN","RCDPRU",161,0)
GTO ;
"RTN","RCDPRU",162,0)
 Q EX
"RTN","RCDPRU",163,0)
 ; RTNARR - Indirect Return array
"RTN","RCDPRU",164,0)
 ; TYPE - The type of lookup "P" - Payer; "T" - TIN
"RTN","RCDPRU",165,0)
GETRNG(RTNARR,TYPE) ;
"RTN","RCDPRU",166,0)
 N DIC,D,RCDTN,RCDN,RCPT,DTOUT,DUOUT,DIRUT,DIROUT,X,Y,IDX
"RTN","RCDPRU",167,0)
 I $G(TYPE)=""!("PT"'[$G(TYPE)) S RTNARR="ERROR" Q  ; Quit if TYPE not correct
"RTN","RCDPRU",168,0)
 S IDX=$S(TYPE="P":"B",TYPE="T":"C")
"RTN","RCDPRU",169,0)
 K DIC S DIC="^RCY(344.6,",DIC(0)="AES",D=IDX
"RTN","RCDPRU",170,0)
 S DIC("A")="Start with 835 "_$S(TYPE="P":"Payer Name",TYPE="T":"Payer TIN")_": "
"RTN","RCDPRU",171,0)
 I TYPE="P" S DIC("W")="D EN^DDIOL($P(^(0),U,2),,""?35"")"
"RTN","RCDPRU",172,0)
 E  S DIC("W")="D EN^DDIOL($P(^(0),U,1),,""?35"")"
"RTN","RCDPRU",173,0)
 D IX^DIC I $D(DTOUT)!$D(DUOUT)!(Y="")!(Y=-1) Q 0
"RTN","RCDPRU",174,0)
 S RCDN=$O(^RCY(344.6,IDX,X,""))
"RTN","RCDPRU",175,0)
 S RTNARR("START")=RCDN_U_X_U_Y,RTNARR("DATA")=X
"RTN","RCDPRU",176,0)
 ;
"RTN","RCDPRU",177,0)
 K DIC S DIC="^RCY(344.6,",DIC(0)="AES",D=IDX
"RTN","RCDPRU",178,0)
 S DIC("A")="Go to with 835 "_$S(TYPE="P":"Payer Name",TYPE="T":"Payer TIN")_": "
"RTN","RCDPRU",179,0)
 I TYPE="P" S DIC("W")="D EN^DDIOL($P(^(0),U,2),,""?35"")"
"RTN","RCDPRU",180,0)
 E  S DIC("W")="D EN^DDIOL($P(^(0),U,1),,""?35"")"
"RTN","RCDPRU",181,0)
 D IX^DIC I $D(DTOUT)!$D(DUOUT)!(Y="")!(Y=-1) Q 0
"RTN","RCDPRU",182,0)
 S RCDN=$O(^RCY(344.6,IDX,X,""))
"RTN","RCDPRU",183,0)
 S RTNARR("END")=RCDN_U_X_U_Y
"RTN","RCDPRU",184,0)
 I TYPE="P" S RTNARR("DATA")=$P(RTNARR("START"),U,4)_":"_$P(RTNARR("END"),U,4)
"RTN","RCDPRU",185,0)
 I TYPE="T" S RTNARR("DATA")=$P(RTNARR("START"),U,2)_":"_$P(RTNARR("END"),U,2)
"RTN","RCDPRU",186,0)
 Q 1
"RTN","RCDPRU",187,0)
 ;
"RTN","RCDPRU",188,0)
CHECKDT(GSTART,GSTOP,GFILE) ; See if we have any possible data to report
"RTN","RCDPRU",189,0)
 N SDT,IEN,PTR,COUNT,RCGX
"RTN","RCDPRU",190,0)
 S COUNT=0
"RTN","RCDPRU",191,0)
 I GFILE=361.1 D
"RTN","RCDPRU",192,0)
 . S SDT=GSTART-0.001
"RTN","RCDPRU",193,0)
 . F  S SDT=$O(^IBM(361.1,"E",SDT)) Q:(SDT="")!(SDT>GSTOP)!(COUNT>0)  S COUNT=COUNT+1
"RTN","RCDPRU",194,0)
 I GFILE=344.4 D
"RTN","RCDPRU",195,0)
 . S SDT=GSTART-.001
"RTN","RCDPRU",196,0)
 . F  S SDT=$O(^RCY(344.4,"AC",SDT)) Q:(SDT="")!(SDT>GSTOP)!(COUNT>0)  D
"RTN","RCDPRU",197,0)
 .. S IEN="" F  S IEN=$O(^RCY(344.4,"AC",SDT,IEN)) Q:IEN=""  D
"RTN","RCDPRU",198,0)
 ... K RCGX D GETS^DIQ(344.4,IEN_",","2*;","E","RCGX") Q:$D(RCGX)=0
"RTN","RCDPRU",199,0)
 ... S COUNT=COUNT+1 ; We have at least 1 ERA with a PLB
"RTN","RCDPRU",200,0)
 Q COUNT
"RTN","RCDPRU",201,0)
 ;
"RTN","RCDPRU",202,0)
 ; Moved from RCDPARC
"RTN","RCDPRU",203,0)
SUM(ARRAY,IEN,BILL,CARC,PAYER,BAMT,PAMT,DESC,AAMT,SORT) ; Count Claims and summarize for the report
"RTN","RCDPRU",204,0)
 ; IEN: IEN from 361.1 file; BILL: The K-Bill number; ITEM: Top level sort item PAYER or CARC to summarize;
"RTN","RCDPRU",205,0)
 ; BAMT: Billed Amount; PAMT: Paid Amount ; AAMT: Adjustment Amount;
"RTN","RCDPRU",206,0)
 ; LVL: second level sort (CARC/Payer) ; SORT: "C" is CARC or "P" is Payer first level sort,
"RTN","RCDPRU",207,0)
 N ITEM,LVL
"RTN","RCDPRU",208,0)
 I SORT="C" S ITEM=CARC,LVL=PAYER
"RTN","RCDPRU",209,0)
 E  S ITEM=PAYER,LVL=CARC
"RTN","RCDPRU",210,0)
 ;
"RTN","RCDPRU",211,0)
 ;D:$G(@ARRAY@("~~SUM",ITEM,BILL))'=1  ; If we already counted this claim for CARC or Payer skip
"RTN","RCDPRU",212,0)
 ;W $NA(@ARRAY@("~~SUM",ITEM,IEN)),"=|",$G(@ARRAY@("~~SUM",ITEM,IEN)),"|",!
"RTN","RCDPRU",213,0)
 D:$G(@ARRAY@("~~SUM",ITEM,IEN))'=1  ; If we already counted this claim for CARC or Payer skip
"RTN","RCDPRU",214,0)
 . S $P(@ARRAY@("REPORT",ITEM,"~~SUM"),U,1)=$P($G(@ARRAY@("REPORT",ITEM,"~~SUM")),U,1)+1 ; Count claims
"RTN","RCDPRU",215,0)
 . S $P(@ARRAY@("REPORT",ITEM,"~~SUM"),U,2)=$P($G(@ARRAY@("REPORT",ITEM,"~~SUM")),U,2)+BAMT ; Summarize amount billed
"RTN","RCDPRU",216,0)
 . S $P(@ARRAY@("REPORT",ITEM,"~~SUM"),U,3)=$P($G(@ARRAY@("REPORT",ITEM,"~~SUM")),U,3)+PAMT ; Summarize amount paid
"RTN","RCDPRU",217,0)
 ; Always add in the adjustment (this is a different adjustment each time procedure is called)
"RTN","RCDPRU",218,0)
 S $P(@ARRAY@("REPORT",ITEM,"~~SUM"),U,4)=$P($G(@ARRAY@("REPORT",ITEM,"~~SUM")),U,4)+AAMT ; Summarize amount adjusted
"RTN","RCDPRU",219,0)
 S:SORT="C" $P(@ARRAY@("REPORT",ITEM,"~~SUM"),U,5)=$G(DESC) ; CARC Description
"RTN","RCDPRU",220,0)
 ;I (ITEM="1") W "ITEM=",ITEM,"  LVL=",LVL,"  ARRAY(REPORT,",ITEM,",~~SUM,",LVL,")=|",$G(@ARRAY@("REPORT",ITEM,"~~SUM",LVL)),"|  LVL&IEN (",IEN,") Array=|",$G(@ARRAY@("~~SUM",LVL,IEN)),"|",!
"RTN","RCDPRU",221,0)
 ;I $G(LVL)'="" D:$G(@ARRAY@("~~SUM",ITEM,BILL))'=1
"RTN","RCDPRU",222,0)
 I (SORT="C")&($G(LVL)'="") D:$G(@ARRAY@("~~SUM",ITEM,IEN))'=1
"RTN","RCDPRU",223,0)
 . S $P(@ARRAY@("REPORT",ITEM,"~~SUM",LVL),U,1)=$P($G(@ARRAY@("REPORT",ITEM,"~~SUM",LVL)),U,1)+1 ; Count claims
"RTN","RCDPRU",224,0)
 . S $P(@ARRAY@("REPORT",ITEM,"~~SUM",LVL),U,2)=$P($G(@ARRAY@("REPORT",ITEM,"~~SUM",LVL)),U,2)+BAMT ; Summarize amount billed
"RTN","RCDPRU",225,0)
 . S $P(@ARRAY@("REPORT",ITEM,"~~SUM",LVL),U,3)=$P($G(@ARRAY@("REPORT",ITEM,"~~SUM",LVL)),U,3)+PAMT ; Summarize amount paid
"RTN","RCDPRU",226,0)
 ;I $G(LVL)'="" D:$G(@ARRAY@("~~SUM",LVL,IEN))'=1
"RTN","RCDPRU",227,0)
 I (SORT="P")&($G(LVL)'="") D:$G(@ARRAY@("~~SUM",ITEM,IEN,LVL))'=1
"RTN","RCDPRU",228,0)
 . S $P(@ARRAY@("REPORT",ITEM,"~~SUM",LVL),U,1)=$P($G(@ARRAY@("REPORT",ITEM,"~~SUM",LVL)),U,1)+1 ; Count claims
"RTN","RCDPRU",229,0)
 . S $P(@ARRAY@("REPORT",ITEM,"~~SUM",LVL),U,2)=$P($G(@ARRAY@("REPORT",ITEM,"~~SUM",LVL)),U,2)+BAMT ; Summarize amount billed
"RTN","RCDPRU",230,0)
 . S $P(@ARRAY@("REPORT",ITEM,"~~SUM",LVL),U,3)=$P($G(@ARRAY@("REPORT",ITEM,"~~SUM",LVL)),U,3)+PAMT ; Summarize amount paid
"RTN","RCDPRU",231,0)
 ; Always add in the adjustment (this is a different adjustment each time procedure is called)
"RTN","RCDPRU",232,0)
 S $P(@ARRAY@("REPORT",ITEM,"~~SUM",LVL),U,4)=$P($G(@ARRAY@("REPORT",ITEM,"~~SUM",LVL)),U,4)+AAMT ; Summarize amount adjusted
"RTN","RCDPRU",233,0)
 I SORT="P",$G(LVL)'="" S $P(@ARRAY@("REPORT",ITEM,"~~SUM",LVL),U,5)=DESC ; CARC Description
"RTN","RCDPRU",234,0)
 ; Get grand totals for report
"RTN","RCDPRU",235,0)
 D:$G(@ARRAY@("~~SUM",BILL))'=1
"RTN","RCDPRU",236,0)
 . S $P(@ARRAY@("~~SUM","CLAIMS"),U,1)=$P($G(@ARRAY@("~~SUM","CLAIMS")),U,1)+1
"RTN","RCDPRU",237,0)
 . S $P(@ARRAY@("~~SUM","CLAIMS"),U,2)=$P($G(@ARRAY@("~~SUM","CLAIMS")),U,2)+BAMT
"RTN","RCDPRU",238,0)
 . S $P(@ARRAY@("~~SUM","CLAIMS"),U,3)=$P($G(@ARRAY@("~~SUM","CLAIMS")),U,3)+PAMT
"RTN","RCDPRU",239,0)
 ; May have more than one adjustment on a bill
"RTN","RCDPRU",240,0)
 I $G(@ARRAY@("~~SUM",BILL,ITEM))'=1 S $P(@ARRAY@("~~SUM","CLAIMS"),U,4)=$P($G(@ARRAY@("~~SUM","CLAIMS")),U,4)+AAMT ;W "BILL: ",BILL," ITEM: ",ITEM," Adj: ",AAMT,!
"RTN","RCDPRU",241,0)
 ; Set markers so we don't double count a claim
"RTN","RCDPRU",242,0)
 S @ARRAY@("~~SUM",ITEM,BILL)=1,@ARRAY@("~~SUM",ITEM,IEN)=1,@ARRAY@("~~SUM",ITEM,IEN,LVL)=1,@ARRAY@("~~SUM",BILL)=1,@ARRAY@("~~SUM",LVL,BILL)=1,@ARRAY@("~~SUM",LVL,IEN)=1
"RTN","RCDPRU",243,0)
 Q
"RTN","RCDPRU",244,0)
 ;
"RTN","RCDPRU",245,0)
 ; RARR - Report array to walk; SUBS - Subscript to walk to sum the report
"RTN","RCDPRU",246,0)
 ; ZSORT - Sorting on PLB Codes "C" or Payer/TIN "P"
"RTN","RCDPRU",247,0)
SUMIT(RARR,SUBS,ZSORT) ; Summarize data in the array reference for PLB Report
"RTN","RCDPRU",248,0)
 N LVL2,ZZ,XX,ZAD,ZCO,ZDC,ZN,ZPAT,ZPD,ZT,ZC,ZCT,ZS,ZTOT,YY,QQ,OLD,TADJ,ZIDX
"RTN","RCDPRU",249,0)
 S ZT=0,ZC=0,ZTOT=0,ZAD=0,ZCO="",OLD=""
"RTN","RCDPRU",250,0)
 I $G(SUBS)="" Q  ; We should always have this Variable
"RTN","RCDPRU",251,0)
 S ZZ="",ZCT=0,ZAD=0
"RTN","RCDPRU",252,0)
 ; Walk the collection in "ERA" or "PAYR" this will have all of the ERAs for this report and summarize
"RTN","RCDPRU",253,0)
 F  S ZZ=$O(@RARR@(SUBS,ZZ)) Q:ZZ=""  D
"RTN","RCDPRU",254,0)
 . K ZCT S XX="",ZCT=0,ZTOT=0,ZAD=0,ZPD=0,ZDC=""
"RTN","RCDPRU",255,0)
 . ; XX will be the IEN of the ERA to count.
"RTN","RCDPRU",256,0)
 . F  S XX=$O(@RARR@(SUBS,ZZ,XX)) Q:XX=""  S ZN=@RARR@(SUBS,ZZ,XX,0),ZPD=ZPD+$P(ZN,U,5),ZPAT=$P(ZN,U,6)_"/"_$P(ZN,U,3) D
"RTN","RCDPRU",257,0)
 .. S ZCT=ZCT+1 S:ZSORT="C" ZCT(ZPAT)=$G(ZCT(ZPAT))+1,ZPD(ZZ_ZPAT)=$G(ZPD(ZZ_ZPAT))+$P(ZN,U,5) ; Count the ERAs and get paid for this payer
"RTN","RCDPRU",258,0)
 .. S ZTOT=+$G(@RARR@("00_ERA",XX,.1))
"RTN","RCDPRU",259,0)
 .. ; Get the adjusted amounts for the PLB codes (in ZZ if by Code)
"RTN","RCDPRU",260,0)
 .. I ZSORT="C" S ZAD=$$TAMT(XX,RARR,ZZ),ZDC=$$TCD(XX,RARR,ZZ)
"RTN","RCDPRU",261,0)
 .. I ZSORT="P" S YY=0.11 F  S YY=$O(@RARR@("00_ERA",XX,YY)) Q:YY=""  D 
"RTN","RCDPRU",262,0)
 ... ; Get PLB Code, Adjusted amt and Code Description for By Payer summary
"RTN","RCDPRU",263,0)
 ... N QPD S QPD=0,ZCO=$P($G(@RARR@("00_ERA",XX,YY)),U,1),QPD("ADJ")=$P($G(@RARR@("00_ERA",XX,YY)),U,2),ZDC=$P($G(@RARR@("00_ERA",XX,YY)),U,4)
"RTN","RCDPRU",264,0)
 ... S QPD=$G(@RARR@("SUMMARY",ZZ,ZCO)) ; existing data for this PLB Code (QPD)
"RTN","RCDPRU",265,0)
 ... I ($G(OLD(ZZ,ZCO,XX))'=1) S QPD("PAID")=$P(QPD,U,2)+$P(ZN,U,5),QPD("COUNT")=$P(QPD,U,3)+1,QPD("TBILLED")=$P(QPD,U,5)+ZTOT
"RTN","RCDPRU",266,0)
 ... E  S QPD("PAID")=$P(QPD,U,2),QPD("COUNT")=$P(QPD,U,3),QPD("TBILLED")=$P(QPD,U,5)
"RTN","RCDPRU",267,0)
 ... ; Adj Amt ^ Paid ^ Count of ERAs ^ Description ^ Total Billed
"RTN","RCDPRU",268,0)
 ... S ZAD=($P(QPD,U,1)+QPD("ADJ")),ZPD=QPD("PAID"),ZCT=QPD("COUNT"),ZTOT=QPD("TBILLED")
"RTN","RCDPRU",269,0)
 ... S @RARR@("SUMMARY",ZZ,ZCO)=ZAD_U_ZPD_U_ZCT_U_ZDC_U_ZTOT
"RTN","RCDPRU",270,0)
 ... S OLD(ZZ,ZCO,XX)=1
"RTN","RCDPRU",271,0)
 .. S LVL2=$S(ZSORT="C":ZPAT,ZSORT="P":ZCO,1:XX)
"RTN","RCDPRU",272,0)
 .. S:ZSORT="C" ZAD=ZAD+$P($G(@RARR@("SUMMARY",ZZ,LVL2)),U,1),ZTOT=ZTOT+$P($G(@RARR@("SUMMARY",ZZ,LVL2)),U,5) ; Sum the ADJ & BILLED amounts
"RTN","RCDPRU",273,0)
 .. ; Adj Amt ^ Paid ^ Count of ERAs ^ ^ Total Billed
"RTN","RCDPRU",274,0)
 .. I ZSORT="C" S @RARR@("SUMMARY",ZZ,LVL2)=ZAD_U_ZPD(ZZ_ZPAT)_U_ZCT(ZPAT)_U_U_ZTOT
"RTN","RCDPRU",275,0)
 ;
"RTN","RCDPRU",276,0)
 ; Summarize the Code level totals
"RTN","RCDPRU",277,0)
 I ZSORT="C" K OLD S ZZ="",QQ="" F  S ZZ=$O(@RARR@("ERA",ZZ)) Q:ZZ=""  D
"RTN","RCDPRU",278,0)
 . S QQ="",(ZCT,ZPD,ZAD,ZTOT)=0 F  S QQ=$O(@RARR@("ERA",ZZ,QQ)) Q:QQ=""  D
"RTN","RCDPRU",279,0)
 .. S ZCT=ZCT+1
"RTN","RCDPRU",280,0)
 .. S ZPD=ZPD+$P(@RARR@("ERA",ZZ,QQ,0),U,5),ZTOT=ZTOT+@RARR@("00_ERA",QQ,.1),ZAD=ZAD+$$TAMT(QQ,RARR,ZZ),ZDC=$$TCD(QQ,RARR,ZZ)
"RTN","RCDPRU",281,0)
 . S @RARR@("SUMMARY",ZZ)=ZAD_U_ZPD_U_ZCT_U_ZDC_U_ZTOT
"RTN","RCDPRU",282,0)
 ;
"RTN","RCDPRU",283,0)
 ; Summarize the Payer level totals
"RTN","RCDPRU",284,0)
 I ZSORT="P" K OLD S ZZ="",QQ="" F  S ZZ=$O(@RARR@("PAYR",ZZ)) Q:ZZ=""  D
"RTN","RCDPRU",285,0)
 . S QQ="",(ZCT,ZPD,ZAD,ZTOT)=0 F  S QQ=$O(@RARR@("PAYR",ZZ,QQ)) Q:QQ=""  D
"RTN","RCDPRU",286,0)
 .. S ZCT=ZCT+1
"RTN","RCDPRU",287,0)
 .. S ZPD=ZPD+$P(@RARR@("PAYR",ZZ,QQ,0),U,5),ZTOT=ZTOT+@RARR@("00_ERA",QQ,.1),ZAD=ZAD+$$TAMT(QQ,RARR,"")
"RTN","RCDPRU",288,0)
 . S @RARR@("SUMMARY",ZZ)=ZAD_U_ZPD_U_ZCT_U_U_ZTOT
"RTN","RCDPRU",289,0)
 ;
"RTN","RCDPRU",290,0)
 ; Collect and summarize the Grand Totals.
"RTN","RCDPRU",291,0)
 S ZZ="",QQ="" F  S ZZ=$O(@RARR@(SUBS,ZZ)) Q:ZZ=""  D 
"RTN","RCDPRU",292,0)
 . S XX="" F  S XX=$O(@RARR@(SUBS,ZZ,XX)) Q:XX=""  S ZT=$G(@RARR@("TOTALS")),ZS=$G(@RARR@("SUMMARY",ZZ)) D  S @RARR@("ZZ_COUNTED",XX)=1
"RTN","RCDPRU",293,0)
 .. S ZN=$G(@RARR@(SUBS,ZZ,XX,0)),ZN("TBILLED")=@RARR@("00_ERA",XX,.1),TADJ=$$TAMT(XX,RARR,"")
"RTN","RCDPRU",294,0)
 .. I $G(@RARR@("ZZ_COUNTED",XX))'=1 D
"RTN","RCDPRU",295,0)
 ... S @RARR@("TOTALS")=($P(ZT,U,1)+TADJ)_U_($P(ZT,U,2)+$P(ZN,U,5))_U_($P(ZT,U,3)+1)_U_U_($P(ZT,U,5)+ZN("TBILLED"))
"RTN","RCDPRU",296,0)
 Q
"RTN","RCDPRU",297,0)
 ;
"RTN","RCDPRU",298,0)
TAMT(ZIEN,XGBL,ZCODE) ; Get Adjustment Amounts
"RTN","RCDPRU",299,0)
 N ZAMT,XDN,AA S ZAMT=0
"RTN","RCDPRU",300,0)
 ; ZCODE if defined is get the Adjustment amounts for just this code
"RTN","RCDPRU",301,0)
 ; otherwise sum the adjustment amounts for this ERA in ZIEN
"RTN","RCDPRU",302,0)
 D
"RTN","RCDPRU",303,0)
 . S AA=0.1 F  S AA=$O(@XGBL@("00_ERA",ZIEN,AA)) Q:AA=""  D
"RTN","RCDPRU",304,0)
 .. I $G(ZCODE)'="" Q:$P($G(@XGBL@("00_ERA",ZIEN,AA)),U,1)'=ZCODE  ; Quit if we don't have the right code
"RTN","RCDPRU",305,0)
 .. ; Collect adjustment amounts to return for this ZIEN
"RTN","RCDPRU",306,0)
 .. S ZAMT=ZAMT+$P(@XGBL@("00_ERA",ZIEN,AA),U,2)
"RTN","RCDPRU",307,0)
 Q ZAMT
"RTN","RCDPRU",308,0)
 ;
"RTN","RCDPRU",309,0)
TCD(ZIEN,XGBL,ZCODE) ; Get PLB Description for Code & IEN given
"RTN","RCDPRU",310,0)
 N RET,AA S RET=""
"RTN","RCDPRU",311,0)
 Q:$G(ZCODE)="" ""
"RTN","RCDPRU",312,0)
 S AA=0.1 F  S AA=$O(@XGBL@("00_ERA",ZIEN,AA)) Q:AA=""  D  Q:RET'=""
"RTN","RCDPRU",313,0)
 . Q:$P($G(@XGBL@("00_ERA",ZIEN,AA)),U,1)'=ZCODE  ; Quit if we don't have the right code
"RTN","RCDPRU",314,0)
 . S RET=$P(@XGBL@("00_ERA",ZIEN,AA),U,4)
"RTN","RCDPRU",315,0)
 Q RET
"RTN","RCDPRU",316,0)
 ;
"RTN","RCDPRU",317,0)
 ; Moved from RCDPEM2 because of size issues
"RTN","RCDPRU",318,0)
UPDERA(DA,RECEPT,FOUND) ;Mark ERA as posted to paper EOB
"RTN","RCDPRU",319,0)
 N Y,X,DR,DIE,%
"RTN","RCDPRU",320,0)
 D NOW^%DTC
"RTN","RCDPRU",321,0)
 S DIE="^RCY(344.4,",FOUND=0
"RTN","RCDPRU",322,0)
 ;Update Receipt #, EFT Match Status, Detail Post Status and Paper EOB
"RTN","RCDPRU",323,0)
 S DR=".08///"_RECEPT_";.09///2;.14///2;20.03///1"
"RTN","RCDPRU",324,0)
 ;Update Date/Time Posted and User fields
"RTN","RCDPRU",325,0)
 S DR=DR_";7.01///"_%_";7.02///"_DUZ
"RTN","RCDPRU",326,0)
 D ^DIE
"RTN","RCDPRU",327,0)
 I '$D(Y) D
"RTN","RCDPRU",328,0)
 .K DIR
"RTN","RCDPRU",329,0)
 .S DIR(0)="EA"
"RTN","RCDPRU",330,0)
 .S DIR("A",1)="ERA HAS BEEN MARKED AS POSTED USING PAPER EOB"
"RTN","RCDPRU",331,0)
 .S DIR("A")="Press ENTER to continue: " W ! D ^DIR K DIR
"RTN","RCDPRU",332,0)
 .S FOUND=1
"RTN","RCDPRU",333,0)
 E  W !,"Unable to update ERA for receipt "_RECEPT,!
"RTN","RCDPRU",334,0)
 Q FOUND
"RTN","RCDPRU",335,0)
 ;
"RTN","RCDPRU",336,0)
 ; Get Reciept Date (moved from RCDPEM2
"RTN","RCDPRU",337,0)
RCDATE(RECEPT) ;
"RTN","RCDPRU",338,0)
 N RCRECTDA
"RTN","RCDPRU",339,0)
 ;Get receipt IEN
"RTN","RCDPRU",340,0)
 S RCRECTDA=$O(^RCY(344,"B",RECEPT,0)) Q:'RCRECTDA 0
"RTN","RCDPRU",341,0)
 ;Return Receipt date
"RTN","RCDPRU",342,0)
 Q $P($G(^RCY(344,RCRECTDA,0)),U,3)
"RTN","RCDPRU",343,0)
 ;
"RTN","RCDPRU",344,0)
AMT(RECEPT) ;Total Receipt amount
"RTN","RCDPRU",345,0)
 N RCRECTDA,RCTRAN,RCTOT
"RTN","RCDPRU",346,0)
 ;Get receipt IEN
"RTN","RCDPRU",347,0)
 S RCRECTDA=$O(^RCY(344,"B",RECEPT,0)) Q:'RCRECTDA 0
"RTN","RCDPRU",348,0)
 ;Total the Receipt transactions
"RTN","RCDPRU",349,0)
 S RCTRAN=0,RCTOT=0
"RTN","RCDPRU",350,0)
 F  S RCTRAN=$O(^RCY(344,RCRECTDA,1,RCTRAN)) Q:'RCTRAN  D
"RTN","RCDPRU",351,0)
 .S RCTOT=RCTOT+$P($G(^RCY(344,RCRECTDA,1,RCTRAN,0)),U,4)
"RTN","RCDPRU",352,0)
 Q RCTOT
"RTN","RCDPRU",353,0)
 ;
"RTN","RCDPRU",354,0)
 ; Moved from RCDPEM2 for Manual match because RCDPEM2 was too big in size
"RTN","RCDPRU",355,0)
 ; END, DTRNG, RCERA, RCMBG, START variables are newed and cleaned up in RCDPEM2
"RTN","RCDPRU",356,0)
ML0() ;
"RTN","RCDPRU",357,0)
ML0A S RCERA=$$SEL^RCDPEWL7() ; Select ERA to use from screen
"RTN","RCDPRU",358,0)
 S RCMBG=VALMBG ; Save the line, we need it when we go back to the worklist.
"RTN","RCDPRU",359,0)
 I RCERA=0 Q 1
"RTN","RCDPRU",360,0)
 S RCERA(0)=^RCY(344.4,RCERA,0) ; Get the zero node for this ERA 
"RTN","RCDPRU",361,0)
 I ((+($P(RCERA(0),U,9)))>0)!($P(RCERA(0),U,8)'="") W !,"ERA is already matched please select another ERA...",! G ML0A
"RTN","RCDPRU",362,0)
 S DIR("A")="Select EFT by date Range? (Y/N) ",DIR(0)="YA",DIR("B")="NO" D ^DIR K DIR
"RTN","RCDPRU",363,0)
 I $D(DUOUT)!$D(DTOUT) Q 1
"RTN","RCDPRU",364,0)
 I Y<1 G MLQ ; Go to the EFT Selection
"RTN","RCDPRU",365,0)
 S DTRNG=Y  ; flag indicating date range selected
"RTN","RCDPRU",366,0)
 K DIR S DIR("?")="Enter the earliest date for the selection range."
"RTN","RCDPRU",367,0)
 ; value in DIR(0) for %DT = APE: ask date, past assumed, echo answer
"RTN","RCDPRU",368,0)
 S DIR(0)="DAO^:"_DT_":APE",DIR("A")="Start Date: " D ^DIR K DIR
"RTN","RCDPRU",369,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") Q 1
"RTN","RCDPRU",370,0)
 S START=Y K DIR,X,Y
"RTN","RCDPRU",371,0)
 S DIR("?")="Enter the latest date for the selection range."
"RTN","RCDPRU",372,0)
 S DIR(0)="DAO^"_START_":"_DT_":APE",DIR("A")="End Date: ",DIR("B")=$$FMTE^XLFDT(DT)
"RTN","RCDPRU",373,0)
 D ^DIR K DIR
"RTN","RCDPRU",374,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") Q 1
"RTN","RCDPRU",375,0)
 S END=Y
"RTN","RCDPRU",376,0)
 ;
"RTN","RCDPRU",377,0)
MLQ Q 0
"RTN","RCDPTAR")
0^5^B177809356
"RTN","RCDPTAR",1,0)
RCDPTAR ;ALB/TJB - EFT TRANSACTION AUDIT REPORT ;1/02/15
"RTN","RCDPTAR",2,0)
 ;;4.5;Accounts Receivable;**303**;Mar 20, 1995;Build 84
"RTN","RCDPTAR",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPTAR",4,0)
 ;
"RTN","RCDPTAR",5,0)
 Q
"RTN","RCDPTAR",6,0)
 ; PRCA*4.5*303 - EFT TRANSACTION AUDIT REPORT
"RTN","RCDPTAR",7,0)
 ;
"RTN","RCDPTAR",8,0)
 ; Executed by the option "EFT Transaction Audit Report" from the "EDI Lockbox Reports Menu"
"RTN","RCDPTAR",9,0)
 ;
"RTN","RCDPTAR",10,0)
 ; DESCRIPTION: The following generates a report that displays an audit history for an EFT
"RTN","RCDPTAR",11,0)
 ;
"RTN","RCDPTAR",12,0)
EN ;
"RTN","RCDPTAR",13,0)
 ; Ask Summary or Detail output
"RTN","RCDPTAR",14,0)
 N DIR,X,Y,DUOUT,DTOUT,DIRUT,DIROUT,RCREP
"RTN","RCDPTAR",15,0)
 W !
"RTN","RCDPTAR",16,0)
 S DIR(0)="SOA^S:Summary Information Only;D:Detail Report"
"RTN","RCDPTAR",17,0)
 S DIR("A")="(S)ummary or (D)etail Report format? "
"RTN","RCDPTAR",18,0)
 S DIR("B")="SUMMARY"
"RTN","RCDPTAR",19,0)
 D ^DIR
"RTN","RCDPTAR",20,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") Q
"RTN","RCDPTAR",21,0)
 S RCREP=Y
"RTN","RCDPTAR",22,0)
 ;
"RTN","RCDPTAR",23,0)
 I RCREP="S" D SUM^RCDPTAR1
"RTN","RCDPTAR",24,0)
 I RCREP="D" D DET
"RTN","RCDPTAR",25,0)
 Q
"RTN","RCDPTAR",26,0)
 ;
"RTN","RCDPTAR",27,0)
DET ;
"RTN","RCDPTAR",28,0)
 N RCDET,RCDATA
"RTN","RCDPTAR",29,0)
 ;
"RTN","RCDPTAR",30,0)
DET1 ;
"RTN","RCDPTAR",31,0)
 K DIR
"RTN","RCDPTAR",32,0)
 S DIR(0)="SO^N:Deposit Number;D:Deposit Date;R:Receipt Number;T:Trace Number"
"RTN","RCDPTAR",33,0)
 S DIR("PRE")="S:X?1N X=$S(X=1:""N"",X=2:""d"",X=3:""r"",X=4:""t"",1:""X"")"
"RTN","RCDPTAR",34,0)
 S DIR("L",1)="Search for EFT Number by:"
"RTN","RCDPTAR",35,0)
 S DIR("L",2)=""
"RTN","RCDPTAR",36,0)
 S DIR("L",3)="  1. Deposit (N)umber"
"RTN","RCDPTAR",37,0)
 S DIR("L",4)="  2. Deposit (D)ate"
"RTN","RCDPTAR",38,0)
 S DIR("L",5)="  3. (R)eceipt #"
"RTN","RCDPTAR",39,0)
 S DIR("L")="  4. (T)race #"
"RTN","RCDPTAR",40,0)
 S DIR("A")="Search for EFT by"
"RTN","RCDPTAR",41,0)
 D ^DIR
"RTN","RCDPTAR",42,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G DETQ
"RTN","RCDPTAR",43,0)
 S RCDET=Y
"RTN","RCDPTAR",44,0)
 ;
"RTN","RCDPTAR",45,0)
 ; Do lookup of EFTs based on the user selection above
"RTN","RCDPTAR",46,0)
 S RCDATA=""
"RTN","RCDPTAR",47,0)
 D @($S(RCDET="N":"DN",RCDET="D":"DT",RCDET="R":"RC",1:"TR")_"(.RCDATA)")
"RTN","RCDPTAR",48,0)
 I RCDATA=-1 G DETQ
"RTN","RCDPTAR",49,0)
 I RCDATA="" G DET1
"RTN","RCDPTAR",50,0)
 ;
"RTN","RCDPTAR",51,0)
  ; Prompt for device
"RTN","RCDPTAR",52,0)
 N %ZIS,ZTSK,ZTRTN,ZTIO,ZTDESC,ZTSAVE,POP
"RTN","RCDPTAR",53,0)
 S %ZIS="QM"
"RTN","RCDPTAR",54,0)
 D ^%ZIS
"RTN","RCDPTAR",55,0)
 I POP G DETQ
"RTN","RCDPTAR",56,0)
 I $D(IO("Q")) D  G DETQ
"RTN","RCDPTAR",57,0)
 . S ZTRTN="RUN^RCDPTAR(RCDATA)"
"RTN","RCDPTAR",58,0)
 . S ZTIO=ION
"RTN","RCDPTAR",59,0)
 . S ZTSAVE("*")=""
"RTN","RCDPTAR",60,0)
 . S ZTDESC="EFT TRANSACTION SUMMARY REPORT"
"RTN","RCDPTAR",61,0)
 . D ^%ZTLOAD
"RTN","RCDPTAR",62,0)
 . W !,$S($D(ZTSK):"REQUEST QUEUED TASK="_ZTSK,1:"REQUEST CANCELLED")
"RTN","RCDPTAR",63,0)
 . D HOME^%ZIS
"RTN","RCDPTAR",64,0)
 U IO
"RTN","RCDPTAR",65,0)
 ;
"RTN","RCDPTAR",66,0)
 D RUN(RCDATA)
"RTN","RCDPTAR",67,0)
 Q
"RTN","RCDPTAR",68,0)
 ;
"RTN","RCDPTAR",69,0)
DETQ ;
"RTN","RCDPTAR",70,0)
 Q
"RTN","RCDPTAR",71,0)
 ;
"RTN","RCDPTAR",72,0)
RUN(RCDATA) ;
"RTN","RCDPTAR",73,0)
 ;
"RTN","RCDPTAR",74,0)
 ; Compile Data
"RTN","RCDPTAR",75,0)
 D COMPILE(RCDATA)
"RTN","RCDPTAR",76,0)
 ;
"RTN","RCDPTAR",77,0)
 ; Generate Report
"RTN","RCDPTAR",78,0)
 D REPORT(RCDATA)
"RTN","RCDPTAR",79,0)
 ;
"RTN","RCDPTAR",80,0)
 K ^TMP("RCDPTAR",$J)
"RTN","RCDPTAR",81,0)
 Q
"RTN","RCDPTAR",82,0)
 ;
"RTN","RCDPTAR",83,0)
DN(RCDATA) ;
"RTN","RCDPTAR",84,0)
 ; Lookup by Deposit Number
"RTN","RCDPTAR",85,0)
 ; Note variable RCDEFLUP is needed by LOOKUP^RCDPUDEP, which is called by the .01 field
"RTN","RCDPTAR",86,0)
 ;
"RTN","RCDPTAR",87,0)
 N DIC,DTOUT,DUOUT,Y,RCDEFLUP,LOCKIEN
"RTN","RCDPTAR",88,0)
 ;
"RTN","RCDPTAR",89,0)
 ; Lookup Deposit Number
"RTN","RCDPTAR",90,0)
 W !
"RTN","RCDPTAR",91,0)
 S DIC="^RCY(344.1,",DIC(0)="QEAMn",DIC("A")="Select DEPOSIT: ",DIC("W")="D DICW^RCDPUDEP"
"RTN","RCDPTAR",92,0)
 S RCDEFLUP=1
"RTN","RCDPTAR",93,0)
 D ^DIC
"RTN","RCDPTAR",94,0)
 I $G(DTOUT)!$G(DUOUT)!(Y=-1) S RCDATA=-1 Q
"RTN","RCDPTAR",95,0)
 ;
"RTN","RCDPTAR",96,0)
 S LOCKIEN=+$O(^RCY(344.3,"ARDEP",+Y,""))
"RTN","RCDPTAR",97,0)
 I 'LOCKIEN W !!,"EFT NOT FOUND - please check Deposit" D PAUSE Q
"RTN","RCDPTAR",98,0)
 ;
"RTN","RCDPTAR",99,0)
 ; Get EFT pointer
"RTN","RCDPTAR",100,0)
 S RCDATA=$$EFT(LOCKIEN)
"RTN","RCDPTAR",101,0)
 Q
"RTN","RCDPTAR",102,0)
 ;
"RTN","RCDPTAR",103,0)
DT(RCDATA) ; Deposit Date
"RTN","RCDPTAR",104,0)
 N DIR,X,Y,DTOUT,DUOUT,DIRUT,DIROUT,RCDT
"RTN","RCDPTAR",105,0)
 N LIST,RCI,CNT,RCIEN,DEPIEN,DATA,LINE,ITEM
"RTN","RCDPTAR",106,0)
 ;
"RTN","RCDPTAR",107,0)
DT1 ;
"RTN","RCDPTAR",108,0)
 ; Ask the user for the Deposit Date
"RTN","RCDPTAR",109,0)
 K DIR
"RTN","RCDPTAR",110,0)
 S DIR(0)="DAO^:"_DT_":APE",DIR("B")="T"
"RTN","RCDPTAR",111,0)
 S DIR("A")="Select DEPOSIT DATE: "
"RTN","RCDPTAR",112,0)
 D ^DIR
"RTN","RCDPTAR",113,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") S RCDATA=-1 Q
"RTN","RCDPTAR",114,0)
 S RCDT=Y
"RTN","RCDPTAR",115,0)
 ;
"RTN","RCDPTAR",116,0)
 ; Build List
"RTN","RCDPTAR",117,0)
 K LIST
"RTN","RCDPTAR",118,0)
 S RCI="",CNT=0 F  S RCI=$O(^RCY(344.3,"ADEP",RCDT,RCI)) Q:RCI=""  D
"RTN","RCDPTAR",119,0)
 . S RCIEN="" F  S RCIEN=$O(^RCY(344.3,"ADEP",RCDT,RCI,RCIEN)) Q:RCIEN=""  D
"RTN","RCDPTAR",120,0)
 .. S DEPIEN=$P($G(^RCY(344.3,RCIEN,0)),U,3)
"RTN","RCDPTAR",121,0)
 .. I DEPIEN="" Q
"RTN","RCDPTAR",122,0)
 .. S DATA=$G(^RCY(344.1,DEPIEN,0))
"RTN","RCDPTAR",123,0)
 .. I DATA="" Q
"RTN","RCDPTAR",124,0)
 .. S CNT=CNT+1
"RTN","RCDPTAR",125,0)
 .. ; Code below is similiar to DICW^RCDPUDEP code
"RTN","RCDPTAR",126,0)
 .. S LINE=$J(CNT,3)_". "_$P(DATA,U,1)
"RTN","RCDPTAR",127,0)
 .. S $E(LINE,19)="by: "_$E($P($G(^VA(200,+$P(DATA,"^",6),0)),"^"),1,15)
"RTN","RCDPTAR",128,0)
 .. I '$P(DATA,"^",7) S $P(DATA,"^",7)="???????"
"RTN","RCDPTAR",129,0)
 .. S $E(LINE,39)="on: "_$E($P(DATA,"^",7),4,5)_"/"_$E($P(DATA,"^",7),6,7)_"/"_$E($P(DATA,"^",7),2,3)
"RTN","RCDPTAR",130,0)
 .. S $E(LINE,52)="amt: $"_$J($P(DATA,"^",4),10,2)
"RTN","RCDPTAR",131,0)
 .. S $E(LINE,70)=$P("N/A^OPEN^DEPOSITED^CONFIRMED^PROCESSED^VOID","^",+$P(DATA,"^",12)+1)
"RTN","RCDPTAR",132,0)
 .. S LIST(CNT)=RCIEN_"^"_$P(DATA,U,1)_"^"_LINE
"RTN","RCDPTAR",133,0)
 ;
"RTN","RCDPTAR",134,0)
 ; If no deposits in the LIST, display a message and try again
"RTN","RCDPTAR",135,0)
 I CNT=0 W !,"Date ",$$DATE^RCDPRU(RCDT)," does not have any valid deposits, please try again...",! G DT1
"RTN","RCDPTAR",136,0)
 ;
"RTN","RCDPTAR",137,0)
 ; If only one deposit in the list, use it
"RTN","RCDPTAR",138,0)
 I CNT=1 S RCDATA=$$EFT(+LIST(CNT)) Q
"RTN","RCDPTAR",139,0)
 ;
"RTN","RCDPTAR",140,0)
 ; Multiple entries found so prompt for the one that is wanted
"RTN","RCDPTAR",141,0)
 W !!,"Deposits on ",$$DATE^RCDPRU(RCDT)
"RTN","RCDPTAR",142,0)
 K DIR,ITEM
"RTN","RCDPTAR",143,0)
 S DIR(0)="SAO^"
"RTN","RCDPTAR",144,0)
 S DIR("A")="Select DEPOSIT: "
"RTN","RCDPTAR",145,0)
 S DIR("L",1)="  Choose from:"
"RTN","RCDPTAR",146,0)
 F LINE=1:1:CNT D
"RTN","RCDPTAR",147,0)
 . S DATA=LIST(LINE),DIR(0)=DIR(0)_LINE_":"_$P(DATA,U,2)_";"
"RTN","RCDPTAR",148,0)
 . S DIR("L",LINE+1)=$P(DATA,U,3),ITEM(LINE)=+DATA
"RTN","RCDPTAR",149,0)
 . W !,"  ",$P(DATA,U,3)
"RTN","RCDPTAR",150,0)
 S DIR(0)=$E(DIR(0),1,$L(DIR(0))-1)
"RTN","RCDPTAR",151,0)
 S DIR("L")=DIR("L",CNT+1) K DIR("L",CNT+1)
"RTN","RCDPTAR",152,0)
 W !
"RTN","RCDPTAR",153,0)
 D ^DIR
"RTN","RCDPTAR",154,0)
 I $D(DTOUT)!$D(DUOUT) S RCDATA=-1 Q
"RTN","RCDPTAR",155,0)
 I Y="" G DT1
"RTN","RCDPTAR",156,0)
 S RCDATA=$$EFT(ITEM(Y))
"RTN","RCDPTAR",157,0)
 Q
"RTN","RCDPTAR",158,0)
 ;
"RTN","RCDPTAR",159,0)
RC(RCDATA) ;
"RTN","RCDPTAR",160,0)
 ; Lookup by Receipt Number
"RTN","RCDPTAR",161,0)
 N DIC,D,DTOUT,DUOUT,X,Y,RCIEN,RCDTN,RCED
"RTN","RCDPTAR",162,0)
 ;
"RTN","RCDPTAR",163,0)
 W !
"RTN","RCDPTAR",164,0)
 S DIC="^RCY(344,",DIC(0)="QEAMn",DIC("A")="Select RECEIPT: "
"RTN","RCDPTAR",165,0)
 S DIC("W")="D DICW^RCDPUREC"
"RTN","RCDPTAR",166,0)
 S DIC("S")="I $$EDILBEV^RCDPEU($P($G(^(0)),U,4))"
"RTN","RCDPTAR",167,0)
 D ^DIC
"RTN","RCDPTAR",168,0)
 I $D(DTOUT)!$D(DUOUT)!(Y=-1) S RCDATA=-1 Q
"RTN","RCDPTAR",169,0)
 ;
"RTN","RCDPTAR",170,0)
 ; Check if there is a pointer to the AR Deposit
"RTN","RCDPTAR",171,0)
 S RCDATA=""
"RTN","RCDPTAR",172,0)
 S RCIEN=$P($G(^RCY(344,+Y,0)),U,6)
"RTN","RCDPTAR",173,0)
 ;
"RTN","RCDPTAR",174,0)
 ; If there is, then get the EFT via AR Deposit and EDI LockBox files
"RTN","RCDPTAR",175,0)
 I RCIEN D
"RTN","RCDPTAR",176,0)
 . ; Get Ticket Number
"RTN","RCDPTAR",177,0)
 . S RCDTN=$P($G(^RCY(344.1,RCIEN,0)),U,1)
"RTN","RCDPTAR",178,0)
 . I RCDTN="" Q
"RTN","RCDPTAR",179,0)
 . ;
"RTN","RCDPTAR",180,0)
 . ; Get EDI Lockbox Deposit File
"RTN","RCDPTAR",181,0)
 . S RCED=$O(^RCY(344.3,"C",RCDTN,""))
"RTN","RCDPTAR",182,0)
 . I RCED="" Q
"RTN","RCDPTAR",183,0)
 . S RCDATA=$$EFT(RCED)
"RTN","RCDPTAR",184,0)
 ;
"RTN","RCDPTAR",185,0)
 ; If this AR Deposit record is not found, check if it is a receipt on the ERA
"RTN","RCDPTAR",186,0)
 I 'RCIEN D
"RTN","RCDPTAR",187,0)
 . S ERAIEN=$O(^RCY(344.4,"H",+Y,""))
"RTN","RCDPTAR",188,0)
 . I 'ERAIEN S ERAIEN=$O(^RCY(344.4,"ARCT",+Y,""))
"RTN","RCDPTAR",189,0)
 . I 'ERAIEN Q
"RTN","RCDPTAR",190,0)
 . S EFTIEN=$O(^RCY(344.31,"AERA",ERAIEN,""))
"RTN","RCDPTAR",191,0)
 . I EFTIEN S RCDATA=$$EFTDATA(EFTIEN)
"RTN","RCDPTAR",192,0)
 ;
"RTN","RCDPTAR",193,0)
 I RCDATA="" W !!,"EFT NOT FOUND - please check Receipt" D PAUSE Q
"RTN","RCDPTAR",194,0)
 Q
"RTN","RCDPTAR",195,0)
 ;
"RTN","RCDPTAR",196,0)
TR(RCDATA) ;
"RTN","RCDPTAR",197,0)
 ; Lookup by Trace Number
"RTN","RCDPTAR",198,0)
 N DIC,D,Y,X,DTOUT,DUOUT
"RTN","RCDPTAR",199,0)
 ;
"RTN","RCDPTAR",200,0)
 ; Use "F" index in EDI EFT Detail file
"RTN","RCDPTAR",201,0)
 W !
"RTN","RCDPTAR",202,0)
 S DIC="^RCY(344.31,",DIC(0)="QEASn",D="F",DIC("A")="Select TRACE: "
"RTN","RCDPTAR",203,0)
 ; DIC("W") may need to be fixed if Trace numbers go over 32 characters. The fields
"RTN","RCDPTAR",204,0)
 ; displayed are the EFT#, Insurance company name, amount and Date Recieved.
"RTN","RCDPTAR",205,0)
 S DIC("W")="D EN^DDIOL($J($P(^(0),U,1),7)_"" ""_$$LJ^XLFSTR($E($P(^(0),U,2),1,20),20)_$J($P(^(0),U,7),10)_"" ""_$$DATE^RCDPRU($P(^(0),U,13)),,""?32"")"
"RTN","RCDPTAR",206,0)
 D IX^DIC
"RTN","RCDPTAR",207,0)
 I $D(DTOUT)!$D(DUOUT)!(Y=-1) S RCDATA=-1 Q
"RTN","RCDPTAR",208,0)
 S RCDATA=$$EFTDATA(+Y)
"RTN","RCDPTAR",209,0)
 Q
"RTN","RCDPTAR",210,0)
 ;
"RTN","RCDPTAR",211,0)
EFT(LOCKIEN) ;
"RTN","RCDPTAR",212,0)
 ; Select a single EFT Number
"RTN","RCDPTAR",213,0)
 I '$G(LOCKIEN) W !!,"No EFT detail for this selection" D PAUSE Q ""
"RTN","RCDPTAR",214,0)
 ;
"RTN","RCDPTAR",215,0)
 N EFTIEN,DATA,CNT,LIST,Y
"RTN","RCDPTAR",216,0)
 ;
"RTN","RCDPTAR",217,0)
 S EFTIEN="",CNT=0
"RTN","RCDPTAR",218,0)
 F  S EFTIEN=$O(^RCY(344.31,"B",LOCKIEN,EFTIEN)) Q:EFTIEN=""  S DATA=$$EFTDATA(EFTIEN) I DATA]"" S CNT=CNT+1,LIST(CNT)=DATA
"RTN","RCDPTAR",219,0)
 ;
"RTN","RCDPTAR",220,0)
 I CNT=0 W !!,"No EFT detail for this selection" D PAUSE Q ""
"RTN","RCDPTAR",221,0)
 ;
"RTN","RCDPTAR",222,0)
 ; If only one EFT, select it and quit
"RTN","RCDPTAR",223,0)
 I CNT=1 S Y=1 G EFT1
"RTN","RCDPTAR",224,0)
 ;
"RTN","RCDPTAR",225,0)
 ; Display and the let the user select the EFT
"RTN","RCDPTAR",226,0)
 N DIR,DTOUT,DUOUT,DIRUT,DIROUT,X
"RTN","RCDPTAR",227,0)
 N ROW,TRANS
"RTN","RCDPTAR",228,0)
 S DIR(0)="SO^"
"RTN","RCDPTAR",229,0)
 S DIR("A")="Select item from list"
"RTN","RCDPTAR",230,0)
 S DIR("L",1)="Select single EFT:"
"RTN","RCDPTAR",231,0)
 F ROW=1:1:CNT-1 D
"RTN","RCDPTAR",232,0)
 . S DATA=LIST(ROW),LOCKIEN=$P(DATA,U,2),EFTIEN=$P(DATA,U,3),TRANS=$$GET1^DIQ(344.31,EFTIEN_",",.01)
"RTN","RCDPTAR",233,0)
 . S DIR(0)=DIR(0)_ROW_":"_TRANS_";"
"RTN","RCDPTAR",234,0)
 . S DIR("L",(ROW+1))=$J(ROW,3)_". "_TRANS_"    "_$$DISPLAY(EFTIEN,LOCKIEN)
"RTN","RCDPTAR",235,0)
 S DATA=LIST(CNT),LOCKIEN=$P(DATA,U,2),EFTIEN=$P(DATA,U,3),TRANS=$$GET1^DIQ(344.31,EFTIEN_",",.01)
"RTN","RCDPTAR",236,0)
 S DIR(0)=DIR(0)_CNT_":"_TRANS
"RTN","RCDPTAR",237,0)
 S DIR("L")=$J(CNT,3)_". "_TRANS_"    "_$$DISPLAY(EFTIEN,LOCKIEN)
"RTN","RCDPTAR",238,0)
 D ^DIR
"RTN","RCDPTAR",239,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") Q -1
"RTN","RCDPTAR",240,0)
 ;
"RTN","RCDPTAR",241,0)
EFT1 ;
"RTN","RCDPTAR",242,0)
 Q LIST(Y)
"RTN","RCDPTAR",243,0)
 ;
"RTN","RCDPTAR",244,0)
EFTDATA(EFTIEN) ;
"RTN","RCDPTAR",245,0)
 ;
"RTN","RCDPTAR",246,0)
 I '$G(EFTIEN) Q ""
"RTN","RCDPTAR",247,0)
 ;
"RTN","RCDPTAR",248,0)
 N ERAIEN,LOCKIEN,DEPOSIT,DEPIEN,BATCHIEN
"RTN","RCDPTAR",249,0)
 S (ERAIEN,DEPIEN,BATCHIEN)=""
"RTN","RCDPTAR",250,0)
 S ERAIEN=$P($G(^RCY(344.31,EFTIEN,0)),U,10)
"RTN","RCDPTAR",251,0)
 S LOCKIEN=$P($G(^RCY(344.31,EFTIEN,0)),U,1)
"RTN","RCDPTAR",252,0)
 I LOCKIEN S DEPOSIT=$P($G(^RCY(344.3,LOCKIEN,0)),U,6)
"RTN","RCDPTAR",253,0)
 I DEPOSIT]"" S DEPIEN=$O(^RCY(344.1,"B",DEPOSIT,""))
"RTN","RCDPTAR",254,0)
 I DEPIEN S BATCHIEN=$O(^RCY(344,"AD",DEPIEN,""))
"RTN","RCDPTAR",255,0)
 Q ERAIEN_U_LOCKIEN_U_EFTIEN_U_DEPIEN_U_BATCHIEN
"RTN","RCDPTAR",256,0)
 ;
"RTN","RCDPTAR",257,0)
DISPLAY(EFTIEN,LOCKIEN) ;
"RTN","RCDPTAR",258,0)
 N X
"RTN","RCDPTAR",259,0)
 S EFTIEN=$G(EFTIEN)
"RTN","RCDPTAR",260,0)
 S LOCKIEN=$G(LOCKIEN)
"RTN","RCDPTAR",261,0)
 S X=$$GET1^DIQ(344.31,EFTIEN_",",.02)_"    "_$$GET1^DIQ(344.31,EFTIEN_",",.04)_"    "
"RTN","RCDPTAR",262,0)
 S X=X_$$GET1^DIQ(344.31,EFTIEN_",",.07)_"    "_$$GET1^DIQ(344.3,LOCKIEN_",",.06)_"    "
"RTN","RCDPTAR",263,0)
 S X=X_$$DATE^RCDPRU($$GET1^DIQ(344.3,LOCKIEN_",",.07,"I"),"2DZ")
"RTN","RCDPTAR",264,0)
 Q X
"RTN","RCDPTAR",265,0)
 ;
"RTN","RCDPTAR",266,0)
COMPILE(RCDATA) ;
"RTN","RCDPTAR",267,0)
 ;
"RTN","RCDPTAR",268,0)
 I $G(RCDATA)="" Q
"RTN","RCDPTAR",269,0)
 ;
"RTN","RCDPTAR",270,0)
 N ERAIEN,LOCKIEN,EFTIEN,DEPIEN,BATCHIEN,FILEDATE,TRANS,DEPDATE,PROCDATE,STATUS,FMSDOCNO
"RTN","RCDPTAR",271,0)
 N MATCHIEN,IENS,MATCHDATE,LASTIEN,LINE
"RTN","RCDPTAR",272,0)
 K ^TMP("RCDPTAR",$J)
"RTN","RCDPTAR",273,0)
 ;
"RTN","RCDPTAR",274,0)
 ; Get Pointers from RCDATA
"RTN","RCDPTAR",275,0)
 S ERAIEN=$P(RCDATA,U,1),LOCKIEN=$P(RCDATA,U,2),EFTIEN=$P(RCDATA,U,3),DEPIEN=$P(RCDATA,U,4),BATCHIEN=$P(RCDATA,U,5)
"RTN","RCDPTAR",276,0)
 ;
"RTN","RCDPTAR",277,0)
 ; Get Inital Creation/Deposit information
"RTN","RCDPTAR",278,0)
 K RCDATA
"RTN","RCDPTAR",279,0)
 I LOCKIEN D
"RTN","RCDPTAR",280,0)
 . D GETS^DIQ(344.3,LOCKIEN_",",".02;.06;.08","IE","RCDATA")
"RTN","RCDPTAR",281,0)
 . S FILEDATE=$G(RCDATA(344.3,LOCKIEN_",",.02,"I"))
"RTN","RCDPTAR",282,0)
 . I 'FILEDATE Q
"RTN","RCDPTAR",283,0)
 . S ^TMP("RCDPTAR",$J,FILEDATE,1)="DEP#:"_$G(RCDATA(344.3,LOCKIEN_",",.06,"E"))_"  DEP AMT:"_$G(RCDATA(344.3,LOCKIEN_",",.08,"E"))_"^EFT STATUS:RECEIVED"
"RTN","RCDPTAR",284,0)
 ;
"RTN","RCDPTAR",285,0)
 ; Check if posted to revenue code 8NZZ
"RTN","RCDPTAR",286,0)
 S TRANS=$$GET1^DIQ(344.31,EFTIEN_",",.14)
"RTN","RCDPTAR",287,0)
 I TRANS,$D(^RCY(344,+BATCHIEN,1,TRANS,0)),LOCKIEN,$D(RCDATA(344.3,LOCKIEN_",")) D
"RTN","RCDPTAR",288,0)
 . S DEPDATE=$$GET1^DIQ(344.1,DEPIEN_",",.07,"I")
"RTN","RCDPTAR",289,0)
 . I 'DEPDATE Q
"RTN","RCDPTAR",290,0)
 . S ^TMP("RCDPTAR",$J,DEPDATE,2)="DEP#:"_$G(RCDATA(344.3,LOCKIEN_",",.06,"E"))_"  DEP AMT:"_$G(RCDATA(344.3,LOCKIEN_",",.08,"E"))_"^DEP STATUS:POSTED TO 8NZZ"
"RTN","RCDPTAR",291,0)
 ;
"RTN","RCDPTAR",292,0)
 ; Get Match Status History information
"RTN","RCDPTAR",293,0)
 I EFTIEN D
"RTN","RCDPTAR",294,0)
 . ; Get the Last IEN of the multiple
"RTN","RCDPTAR",295,0)
 . S LASTIEN=$O(^RCY(344.31,EFTIEN,4,999999),-1)
"RTN","RCDPTAR",296,0)
 . ; Loop through history and build data
"RTN","RCDPTAR",297,0)
 . S MATCHIEN=0 F  S MATCHIEN=$O(^RCY(344.31,EFTIEN,4,MATCHIEN)) Q:'MATCHIEN  D
"RTN","RCDPTAR",298,0)
 .. S IENS=MATCHIEN_","_EFTIEN_","
"RTN","RCDPTAR",299,0)
 .. D GETS^DIQ(344.314,IENS,"*","IE","RCDATA")
"RTN","RCDPTAR",300,0)
 .. S MATCHDATE=$G(RCDATA(344.314,IENS,.02,"I"))
"RTN","RCDPTAR",301,0)
 .. I MATCHDATE="" Q
"RTN","RCDPTAR",302,0)
 .. S STATUS=$G(RCDATA(344.314,IENS,.01,"E"))
"RTN","RCDPTAR",303,0)
 .. I STATUS="MATCHED WITH ERRORS" S STATUS="MATCHED W/ERRORS"
"RTN","RCDPTAR",304,0)
 .. S LINE="EFT STATUS:"_STATUS
"RTN","RCDPTAR",305,0)
 .. ; If this is the last record and the status is matched, add the ERA record to the data
"RTN","RCDPTAR",306,0)
 .. I MATCHIEN=LASTIEN,STATUS="MATCHED"!(STATUS="MATCHED W/ERRORS"),$$GET1^DIQ(344.31,EFTIEN_",",.1) S LINE=LINE_" ERA#:"_$$GET1^DIQ(344.31,EFTIEN_",",.1)
"RTN","RCDPTAR",307,0)
 .. S ^TMP("RCDPTAR",$J,MATCHDATE,3)=LINE_"^BY "_$E($G(RCDATA(344.314,IENS,.03,"E")),1,14)_" on "_$$DATE^RCDPRU(MATCHDATE,"2ZD")
"RTN","RCDPTAR",308,0)
 ;
"RTN","RCDPTAR",309,0)
 ; Get Receipt information (EFT)
"RTN","RCDPTAR",310,0)
 I BATCHIEN D
"RTN","RCDPTAR",311,0)
 . S PROCDATE=$$GET1^DIQ(344,BATCHIEN_",",.08,"I")
"RTN","RCDPTAR",312,0)
 . I 'PROCDATE Q
"RTN","RCDPTAR",313,0)
 . I DEPDATE,PROCDATE<DEPDATE S PROCDATE=DEPDATE
"RTN","RCDPTAR",314,0)
 . S FMSDOCNO=$$FMSSTAT^RCDPUREC(BATCHIEN)
"RTN","RCDPTAR",315,0)
 . S ^TMP("RCDPTAR",$J,PROCDATE,5)="DEP RCPT#:"_$$GET1^DIQ(344,BATCHIEN_",",.01,"E")_" ENTRY#:"_BATCHIEN_"^FMS DOC#:"_$P(FMSDOCNO,U,1)_"^^DOC STATUS:"_$E($P(FMSDOCNO,U,2),1,18)
"RTN","RCDPTAR",316,0)
 ;
"RTN","RCDPTAR",317,0)
 ; Get Repeipt information (ERA)
"RTN","RCDPTAR",318,0)
 S BATCHIEN=$$GET1^DIQ(344.4,ERAIEN_",",.08,"I")
"RTN","RCDPTAR",319,0)
 I BATCHIEN D
"RTN","RCDPTAR",320,0)
 . S PROCDATE=$$GET1^DIQ(344,BATCHIEN_",",.08,"I")
"RTN","RCDPTAR",321,0)
 . I DEPDATE,PROCDATE<DEPDATE S PROCDATE=DEPDATE
"RTN","RCDPTAR",322,0)
 . I 'PROCDATE Q
"RTN","RCDPTAR",323,0)
 . S FMSDOCNO=$$FMSSTAT^RCDPUREC(BATCHIEN)
"RTN","RCDPTAR",324,0)
 . ;S ^TMP("RCDPTAR",$J,PROCDATE,6)="RCPT#:"_$$GET1^DIQ(344,BATCHIEN_",",.01,"E")_" EFT DETAIL#:"_EFTIEN_"^BY "_$E($$GET1^DIQ(344,BATCHIEN_",",.02,"E"),1,14)_" on "_$$DATE^RCDPRU(PROCDATE,"2DZ")
"RTN","RCDPTAR",325,0)
 . S ^TMP("RCDPTAR",$J,PROCDATE,6)="RCPT#:"_$$GET1^DIQ(344,BATCHIEN_",",.01,"E")_"^BY "_$E($$GET1^DIQ(344,BATCHIEN_",",.02,"E"),1,14)_" on "_$$DATE^RCDPRU(PROCDATE,"2DZ")
"RTN","RCDPTAR",326,0)
 . S ^TMP("RCDPTAR",$J,PROCDATE,7)="FMS DOC#:"_$P(FMSDOCNO,U,1)_"^DOC STATUS:"_$E($P(FMSDOCNO,U,2),1,18)
"RTN","RCDPTAR",327,0)
 Q
"RTN","RCDPTAR",328,0)
 ;
"RTN","RCDPTAR",329,0)
REPORT(RCDATA) ; Print out the report
"RTN","RCDPTAR",330,0)
 ;
"RTN","RCDPTAR",331,0)
 N RCSCR,RCNOW,RCPG,RCHR
"RTN","RCDPTAR",332,0)
 N DATE,CNT,DATA,LINES
"RTN","RCDPTAR",333,0)
 ;
"RTN","RCDPTAR",334,0)
 ; Initialize Report Date, Page Number and Sting of underscores
"RTN","RCDPTAR",335,0)
 S RCSCR=$S($E($G(IOST),1,2)="C-":1,1:0)
"RTN","RCDPTAR",336,0)
 S RCNOW=$$UP^XLFSTR($$NOW^RCDPRU()),RCPG=0,RCHR="",$P(RCHR,"-",IOM+1)=""
"RTN","RCDPTAR",337,0)
 ;
"RTN","RCDPTAR",338,0)
 U IO
"RTN","RCDPTAR",339,0)
 D HEADER(RCNOW,.RCPG,RCHR,RCDATA)
"RTN","RCDPTAR",340,0)
 I $G(RCDATA)=""!'$D(^TMP("RCDPTAR",$J)) W !,"No data found"
"RTN","RCDPTAR",341,0)
 ;
"RTN","RCDPTAR",342,0)
 ; Display the detail
"RTN","RCDPTAR",343,0)
 S DATE="" F  S DATE=$O(^TMP("RCDPTAR",$J,DATE)) Q:'DATE  D  I RCPG=0 Q
"RTN","RCDPTAR",344,0)
 . S CNT=0 F  S CNT=$O(^TMP("RCDPTAR",$J,DATE,CNT)) Q:'CNT  D  I RCPG=0 Q
"RTN","RCDPTAR",345,0)
 .. S DATA=^TMP("RCDPTAR",$J,DATE,CNT)
"RTN","RCDPTAR",346,0)
 .. S LINES=1
"RTN","RCDPTAR",347,0)
 .. I $P(DATA,U,3)]""!($P(DATA,U,4)]"") S LINES=2
"RTN","RCDPTAR",348,0)
 .. I RCSCR S LINES=LINES+1
"RTN","RCDPTAR",349,0)
 .. D CHKP(RCNOW,.RCPG,RCHR,RCDATA,RCSCR,LINES) I RCPG=0 Q
"RTN","RCDPTAR",350,0)
 .. W !,$$DATE^RCDPRU(DATE,"2DZ"),?10,$P(DATA,U,1),?51,$P(DATA,U,2)
"RTN","RCDPTAR",351,0)
 .. I $P(DATA,U,3)]""!($P(DATA,U,4)]"") W !,?10,$P(DATA,U,3),?51,$P(DATA,U,4)
"RTN","RCDPTAR",352,0)
 ;
"RTN","RCDPTAR",353,0)
 I 'RCSCR W !,@IOF
"RTN","RCDPTAR",354,0)
 I $D(ZTQUEUED) S ZTREQ="@" Q
"RTN","RCDPTAR",355,0)
 D ^%ZISC
"RTN","RCDPTAR",356,0)
 ;
"RTN","RCDPTAR",357,0)
 I RCPG,RCSCR D PAUSE
"RTN","RCDPTAR",358,0)
 Q
"RTN","RCDPTAR",359,0)
 ;
"RTN","RCDPTAR",360,0)
HEADER(RCNOW,RCPG,RCHR,RCDATA) ;
"RTN","RCDPTAR",361,0)
 ; Print Header Section
"RTN","RCDPTAR",362,0)
 ;
"RTN","RCDPTAR",363,0)
 N EFTDATA,LINE
"RTN","RCDPTAR",364,0)
 S EFTDATA=$G(^RCY(344.31,+$P(RCDATA,U,3),0))
"RTN","RCDPTAR",365,0)
 ;
"RTN","RCDPTAR",366,0)
 W @IOF
"RTN","RCDPTAR",367,0)
 S RCPG=RCPG+1
"RTN","RCDPTAR",368,0)
 W "EFT TRANSACTION AUDIT REPORT"
"RTN","RCDPTAR",369,0)
 S LINE=RCNOW_"   PAGE: "_RCPG_" "
"RTN","RCDPTAR",370,0)
 W ?(IOM-$L(LINE)),LINE
"RTN","RCDPTAR",371,0)
 ;
"RTN","RCDPTAR",372,0)
 W !,"EFT#: ",$$AGED(+$P(RCDATA,U,3)),$P(EFTDATA,U,1),?19,"DEPOSIT#: ",$P($G(^RCY(344.3,+$P(RCDATA,U,2),0)),U,6),?42,"EFT TOTAL AMT: "_$P(EFTDATA,U,7)
"RTN","RCDPTAR",373,0)
 W !,"EFT TRACE#: ",$P(EFTDATA,U,4)
"RTN","RCDPTAR",374,0)
 W !,"DATE RECEIVED: ",$$DATE^RCDPRU($P(EFTDATA,U,12)),?26,"PAYER/ID: "_$P(EFTDATA,U,2)_"/"_$P(EFTDATA,U,3)
"RTN","RCDPTAR",375,0)
 ;
"RTN","RCDPTAR",376,0)
 W !,"DATE",?10,"ACTION/DETAILS",?51,"STATUS"
"RTN","RCDPTAR",377,0)
 W !,RCHR
"RTN","RCDPTAR",378,0)
 Q
"RTN","RCDPTAR",379,0)
 ;
"RTN","RCDPTAR",380,0)
PAUSE() ;
"RTN","RCDPTAR",381,0)
 N DIR,X,Y,DTOUT,DUOUT,DIROUT,DIRUT
"RTN","RCDPTAR",382,0)
 S DIR(0)="E"
"RTN","RCDPTAR",383,0)
 D ^DIR
"RTN","RCDPTAR",384,0)
 Q Y
"RTN","RCDPTAR",385,0)
 ;
"RTN","RCDPTAR",386,0)
CHKP(RCNOW,RCPG,RCHR,RCDATA,RCSCR,LINES) ;
"RTN","RCDPTAR",387,0)
 ; Check if we need to do a page break
"RTN","RCDPTAR",388,0)
 ;
"RTN","RCDPTAR",389,0)
 I $Y'>(IOSL-LINES) Q
"RTN","RCDPTAR",390,0)
 I RCSCR,'$$PAUSE S RCPG=0 Q
"RTN","RCDPTAR",391,0)
 D HEADER(RCNOW,.RCPG,RCHR,RCDATA)
"RTN","RCDPTAR",392,0)
 Q
"RTN","RCDPTAR",393,0)
 ;
"RTN","RCDPTAR",394,0)
AGED(EFTIEN) ;
"RTN","RCDPTAR",395,0)
 ; Check if EFT is locked or stale
"RTN","RCDPTAR",396,0)
 ; Input
"RTN","RCDPTAR",397,0)
 ;    EFTIEN: IEN of EDI THIRD PARTY EFT DETAIL (#344.31)
"RTN","RCDPTAR",398,0)
 ; Output
"RTN","RCDPTAR",399,0)
 ;    "*" - Warning; "**" - Error; Null - Good
"RTN","RCDPTAR",400,0)
 N RECVDT,DAYSLIMT,TRARRY
"RTN","RCDPTAR",401,0)
 S RECVDT=$$GET1^DIQ(344.31,EFTIEN_",",.13,"I")
"RTN","RCDPTAR",402,0)
 I RECVDT<$$CUTOFF^RCDPEWLP Q ""  ; EFTs 2 months older than *298 installation do not lock the system
"RTN","RCDPTAR",403,0)
 S DAYSLIMT("M")=$$GET1^DIQ(344.61,1,.06),DAYSLIMT("P")=$$GET1^DIQ(344.61,1,.07)
"RTN","RCDPTAR",404,0)
 D CHKEFT^RCDPEWLP(RECVDT,EFTIEN,"B",.DAYSLIMT,.TRARRY)
"RTN","RCDPTAR",405,0)
 I $D(TRARRY("ERROR")) Q "**"
"RTN","RCDPTAR",406,0)
 I $D(TRARRY("WARNING")) Q "*"
"RTN","RCDPTAR",407,0)
 Q ""
"RTN","RCDPTAR1")
0^29^B43222900
"RTN","RCDPTAR1",1,0)
RCDPTAR1 ;ALB/DMB - EFT TRANSACTION AUDIT REPORT (Summary) ;08/19/15
"RTN","RCDPTAR1",2,0)
 ;;4.5;Accounts Receivable;**303**;Mar 20, 1995;Build 84
"RTN","RCDPTAR1",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","RCDPTAR1",4,0)
 ;
"RTN","RCDPTAR1",5,0)
 Q
"RTN","RCDPTAR1",6,0)
 ; PRCA*4.5*303 - EFT TRANSACTION AUDIT REPORT (SUMMARY VERSION)
"RTN","RCDPTAR1",7,0)
 ;
"RTN","RCDPTAR1",8,0)
SUM ;
"RTN","RCDPTAR1",9,0)
 N DIR,X,Y,DUOUT,DTOUT,DIRUT,DIROUT
"RTN","RCDPTAR1",10,0)
 N RCDT1,RCDT2,RCEXCEL
"RTN","RCDPTAR1",11,0)
 ;
"RTN","RCDPTAR1",12,0)
 ; Start Date
"RTN","RCDPTAR1",13,0)
 S DIR(0)="DAO^:"_DT_":APE",DIR("A")="Start Date: ",DIR("B")="T"
"RTN","RCDPTAR1",14,0)
 S DIR("?")="ENTER THE EARLIEST DATE OF RECEIPT OF DEPOSIT TO INCLUDE ON THE REPORT"
"RTN","RCDPTAR1",15,0)
 D ^DIR
"RTN","RCDPTAR1",16,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") Q
"RTN","RCDPTAR1",17,0)
 S RCDT1=Y
"RTN","RCDPTAR1",18,0)
 ;
"RTN","RCDPTAR1",19,0)
 ; End Date
"RTN","RCDPTAR1",20,0)
 K DIR
"RTN","RCDPTAR1",21,0)
 S DIR(0)="DAO^"_RCDT1_":"_DT_":APE",DIR("A")="End Date: ",DIR("B")="T"
"RTN","RCDPTAR1",22,0)
 S DIR("?")="ENTER THE LATEST DATE OF RECEIPT OF DEPOSIT TO INCLUDE ON THE REPORT"
"RTN","RCDPTAR1",23,0)
 D ^DIR
"RTN","RCDPTAR1",24,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") Q
"RTN","RCDPTAR1",25,0)
 S RCDT2=Y
"RTN","RCDPTAR1",26,0)
 ;
"RTN","RCDPTAR1",27,0)
 ; Ask Excel
"RTN","RCDPTAR1",28,0)
 S RCEXCEL=$$EXCEL^RCDMCUT2()
"RTN","RCDPTAR1",29,0)
 I RCEXCEL="^" Q
"RTN","RCDPTAR1",30,0)
 I RCEXCEL D EXMSG
"RTN","RCDPTAR1",31,0)
 ;
"RTN","RCDPTAR1",32,0)
 ; Prompt for device
"RTN","RCDPTAR1",33,0)
 N %ZIS,ZTSK,ZTRTN,ZTIO,ZTDESC,ZTSAVE,POP
"RTN","RCDPTAR1",34,0)
 S %ZIS="QM"
"RTN","RCDPTAR1",35,0)
 D ^%ZIS
"RTN","RCDPTAR1",36,0)
 I POP Q
"RTN","RCDPTAR1",37,0)
 I $D(IO("Q")) D  Q
"RTN","RCDPTAR1",38,0)
 . S ZTRTN="RUN^RCDPTAR1(RCDT1,RCDT2,RCEXCEL)"
"RTN","RCDPTAR1",39,0)
 . S ZTIO=ION
"RTN","RCDPTAR1",40,0)
 . S ZTSAVE("*")=""
"RTN","RCDPTAR1",41,0)
 . S ZTDESC="EFT TRANSACTION SUMMARY REPORT"
"RTN","RCDPTAR1",42,0)
 . D ^%ZTLOAD
"RTN","RCDPTAR1",43,0)
 . W !,$S($D(ZTSK):"REQUEST QUEUED TASK="_ZTSK,1:"REQUEST CANCELLED")
"RTN","RCDPTAR1",44,0)
 . D HOME^%ZIS
"RTN","RCDPTAR1",45,0)
 U IO
"RTN","RCDPTAR1",46,0)
 ;
"RTN","RCDPTAR1",47,0)
 D RUN(RCDT1,RCDT2,RCEXCEL)
"RTN","RCDPTAR1",48,0)
 Q
"RTN","RCDPTAR1",49,0)
 ;
"RTN","RCDPTAR1",50,0)
RUN(RCDT1,RCDT2,RCEXCEL) ;
"RTN","RCDPTAR1",51,0)
 ;
"RTN","RCDPTAR1",52,0)
 D COMPILE(RCDT1,RCDT2)
"RTN","RCDPTAR1",53,0)
 ;
"RTN","RCDPTAR1",54,0)
 D REPORT(RCDT1,RCDT2,RCEXCEL)
"RTN","RCDPTAR1",55,0)
 K ^TMP("RCDPTAR1",$J)
"RTN","RCDPTAR1",56,0)
 Q
"RTN","RCDPTAR1",57,0)
 ;
"RTN","RCDPTAR1",58,0)
COMPILE(RCDT1,RCDT2) ;
"RTN","RCDPTAR1",59,0)
 N RCDT,LOCKIEN,LOCKDATA,EFTIEN,EFTDATA,MDATE
"RTN","RCDPTAR1",60,0)
 ;
"RTN","RCDPTAR1",61,0)
 K ^TMP("RCDPTAR1",$J)
"RTN","RCDPTAR1",62,0)
 S RCDT=RCDT1-.0001,RCDT2=RCDT2_".9999"
"RTN","RCDPTAR1",63,0)
 F  S RCDT=$O(^RCY(344.3,"ARECDT",RCDT)) Q:'RCDT!(RCDT>RCDT2)  D
"RTN","RCDPTAR1",64,0)
 . S LOCKIEN="" F  S LOCKIEN=$O(^RCY(344.3,"ARECDT",RCDT,LOCKIEN)) Q:'LOCKIEN  D
"RTN","RCDPTAR1",65,0)
 .. S LOCKDATA=$G(^RCY(344.3,LOCKIEN,0))
"RTN","RCDPTAR1",66,0)
 .. ; Deposit-0|3 (P344.1);Date Posted-0|11;
"RTN","RCDPTAR1",67,0)
 .. S EFTIEN="" F  S EFTIEN=$O(^RCY(344.31,"B",LOCKIEN,EFTIEN)) Q:'EFTIEN  D
"RTN","RCDPTAR1",68,0)
 ... S EFTDATA=$G(^RCY(344.31,EFTIEN,0))
"RTN","RCDPTAR1",69,0)
 ... ; Date Received-0|13;Amount-0|7;Match Status-0|8 (hist);Trace-0|4;Payer Name-0|2;Payer ID-0|3
"RTN","RCDPTAR1",70,0)
 ... S MDATE=$$MDATE($P(EFTDATA,U,8),EFTIEN)
"RTN","RCDPTAR1",71,0)
 ... ; Date Received^Deposit #^EFT Amount^Date Matched^Date Posted^Trace #^Payer Name^Payer ID^Stale/Lock
"RTN","RCDPTAR1",72,0)
 ... S ^TMP("RCDPTAR1",$J,EFTIEN)=$$DATE^RCDPRU($P(EFTDATA,U,13),"2ZD")_U_$$GET1^DIQ(344.3,LOCKIEN_",",.03,"E")
"RTN","RCDPTAR1",73,0)
 ... S $P(^TMP("RCDPTAR1",$J,EFTIEN),U,3,5)=$P(EFTDATA,U,7)_U_$$DATE^RCDPRU(MDATE,"2ZD")_U_$$DATE^RCDPRU($P(LOCKDATA,U,11),"2ZD")
"RTN","RCDPTAR1",74,0)
 ... S $P(^TMP("RCDPTAR1",$J,EFTIEN),U,6,9)=$P(EFTDATA,U,4)_U_$P(EFTDATA,U,2)_U_$P(EFTDATA,U,3)_U_$$AGED^RCDPTAR(EFTIEN)
"RTN","RCDPTAR1",75,0)
 ;
"RTN","RCDPTAR1",76,0)
 Q
"RTN","RCDPTAR1",77,0)
 ;
"RTN","RCDPTAR1",78,0)
MDATE(STATUS,EFTIEN) ;
"RTN","RCDPTAR1",79,0)
 ; Return the Match Date from the Match History Global
"RTN","RCDPTAR1",80,0)
 ; Input:
"RTN","RCDPTAR1",81,0)
 ;   STATUS: Internal value from the EFT MATCH STATUS field
"RTN","RCDPTAR1",82,0)
 ;   EFTIEN: EDI THIRD PARTY EFT DETAIL (#344.31) IEN
"RTN","RCDPTAR1",83,0)
 ; Output:
"RTN","RCDPTAR1",84,0)
 ;   Match Date from the MATCH STATUS HISTORY (#344.314) multiple
"RTN","RCDPTAR1",85,0)
 ;
"RTN","RCDPTAR1",86,0)
 ; Validate Parameters.  If STATUS is equal to UNMATCHED, quit with "" (no match date)
"RTN","RCDPTAR1",87,0)
 I $G(STATUS)=0 Q ""
"RTN","RCDPTAR1",88,0)
 I $G(EFTIEN)="" Q ""
"RTN","RCDPTAR1",89,0)
 ;
"RTN","RCDPTAR1",90,0)
 N MIEN,RCDATA,IENS
"RTN","RCDPTAR1",91,0)
 ;
"RTN","RCDPTAR1",92,0)
 ; Get last record from the Match status history global.  If no history, then quit with "" (no match date)
"RTN","RCDPTAR1",93,0)
 S MIEN=$O(^RCY(344.31,EFTIEN,4,999999),-1)
"RTN","RCDPTAR1",94,0)
 I 'MIEN Q "<No History>"
"RTN","RCDPTAR1",95,0)
 ;
"RTN","RCDPTAR1",96,0)
 ; Get data from match history
"RTN","RCDPTAR1",97,0)
 S IENS=MIEN_","_EFTIEN_","
"RTN","RCDPTAR1",98,0)
 D GETS^DIQ(344.314,IENS,".01;.02","I","RCDATA")
"RTN","RCDPTAR1",99,0)
 ;
"RTN","RCDPTAR1",100,0)
 ; If the most recent record is UNMATCHED, then it is does not match the EFT status so return "" (no match date)
"RTN","RCDPTAR1",101,0)
 I RCDATA(344.314,IENS,.01,"I")=0 Q ""
"RTN","RCDPTAR1",102,0)
 Q RCDATA(344.314,IENS,.02,"I")
"RTN","RCDPTAR1",103,0)
 ;
"RTN","RCDPTAR1",104,0)
REPORT(RCDT1,RCDT2,RCEXCEL) ;
"RTN","RCDPTAR1",105,0)
 N RCSCR,RCNOW,RCPG,RCHR
"RTN","RCDPTAR1",106,0)
 N EFTIEN,DATA,LINES
"RTN","RCDPTAR1",107,0)
 ;
"RTN","RCDPTAR1",108,0)
 ; Initialize Report Date, Page Number and Sting of underscores
"RTN","RCDPTAR1",109,0)
 S RCSCR=$S($E($G(IOST),1,2)="C-":1,1:0)
"RTN","RCDPTAR1",110,0)
 S RCNOW=$$UP^XLFSTR($$NOW^RCDPRU(2)),RCPG=0,RCHR="",$P(RCHR,"-",IOM+1)=""
"RTN","RCDPTAR1",111,0)
 ;
"RTN","RCDPTAR1",112,0)
 ; Display header for first page
"RTN","RCDPTAR1",113,0)
 U IO
"RTN","RCDPTAR1",114,0)
 D HEADER(RCNOW,.RCPG,RCHR,RCDT1,RCDT2,RCEXCEL)
"RTN","RCDPTAR1",115,0)
 ;
"RTN","RCDPTAR1",116,0)
 ; No data, display message and quit
"RTN","RCDPTAR1",117,0)
 I '$D(^TMP("RCDPTAR1",$J)) W !,"No data found"
"RTN","RCDPTAR1",118,0)
 ;
"RTN","RCDPTAR1",119,0)
 ; Display the detail
"RTN","RCDPTAR1",120,0)
 S EFTIEN=0 F  S EFTIEN=$O(^TMP("RCDPTAR1",$J,EFTIEN)) Q:'EFTIEN  D  I RCPG=0 Q
"RTN","RCDPTAR1",121,0)
 . S DATA=^TMP("RCDPTAR1",$J,EFTIEN)
"RTN","RCDPTAR1",122,0)
 . S LINES=$S(RCEXCEL:1,1:3)
"RTN","RCDPTAR1",123,0)
 . I RCSCR S LINES=LINES+1
"RTN","RCDPTAR1",124,0)
 . D CHKP(RCNOW,.RCPG,RCHR,RCDT1,RCDT2,RCEXCEL,RCSCR,LINES) I RCPG=0 Q
"RTN","RCDPTAR1",125,0)
 . ; If Excel, display as delimited and quit
"RTN","RCDPTAR1",126,0)
 . I RCEXCEL W !,$P(DATA,U,9),EFTIEN,U,$P(DATA,U,1,8) Q
"RTN","RCDPTAR1",127,0)
 . ;
"RTN","RCDPTAR1",128,0)
 . ; Display non-Excel output
"RTN","RCDPTAR1",129,0)
 . W !,$P(DATA,U,9),EFTIEN,?13,$P(DATA,U,1),?25,$P(DATA,U,2),?37,$J($P(DATA,U,3),13,2),?54,$P(DATA,U,4),?69,$P(DATA,U,5)
"RTN","RCDPTAR1",130,0)
 . W !,?4,$P(DATA,U,6)
"RTN","RCDPTAR1",131,0)
 . W !,?11,$P(DATA,U,7),"/",$P(DATA,U,8)
"RTN","RCDPTAR1",132,0)
 ;
"RTN","RCDPTAR1",133,0)
 I 'RCSCR W !,@IOF
"RTN","RCDPTAR1",134,0)
 I $D(ZTQUEUED) S ZTREQ="@" Q
"RTN","RCDPTAR1",135,0)
 D ^%ZISC
"RTN","RCDPTAR1",136,0)
 ;
"RTN","RCDPTAR1",137,0)
 I RCPG,RCSCR D PAUSE
"RTN","RCDPTAR1",138,0)
 Q
"RTN","RCDPTAR1",139,0)
 ;
"RTN","RCDPTAR1",140,0)
HEADER(RCNOW,RCPG,RCHR,RCDT1,RCDT2,RCEXCEL) ;
"RTN","RCDPTAR1",141,0)
 ; Print Header Section
"RTN","RCDPTAR1",142,0)
 ;
"RTN","RCDPTAR1",143,0)
 W @IOF
"RTN","RCDPTAR1",144,0)
 ;
"RTN","RCDPTAR1",145,0)
 ; If Excel, print column headers separated with up-arrows and quit
"RTN","RCDPTAR1",146,0)
 I $G(RCEXCEL) D  Q
"RTN","RCDPTAR1",147,0)
 . W !,"EFT#^DATE RECEIVED^DEPOSIT#^EFT TOTAL AMT^DATE MATCHED^DATE POSTED^TRACE #^PAYER NAME^PAYER ID"
"RTN","RCDPTAR1",148,0)
 . S RCPG=1
"RTN","RCDPTAR1",149,0)
 ;
"RTN","RCDPTAR1",150,0)
 ; Non-Excel Header
"RTN","RCDPTAR1",151,0)
 N LINE
"RTN","RCDPTAR1",152,0)
 S RCPG=RCPG+1
"RTN","RCDPTAR1",153,0)
 S LINE="EFT TRANSACTION AUDIT REPORT - SUMMARY     Page: "_RCPG
"RTN","RCDPTAR1",154,0)
 W !?(IOM-$L(LINE)\2),LINE
"RTN","RCDPTAR1",155,0)
 S LINE="RUN DATE: "_RCNOW
"RTN","RCDPTAR1",156,0)
 W !?(IOM-$L(LINE)\2),LINE
"RTN","RCDPTAR1",157,0)
 S LINE="DATE RANGE: "_$$DATE^RCDPRU(RCDT1,"2D")_" - "_$$DATE^RCDPRU(RCDT2,"2D")_" (DATE DEPOSIT ADDED)"
"RTN","RCDPTAR1",158,0)
 W !?(IOM-$L(LINE)\2),LINE
"RTN","RCDPTAR1",159,0)
 W !!,"EFT#",?13,"DATE RECVD",?25,"DEPOSIT#",?37,"EFT TOTAL AMT",?54,"DATE MATCHED",?69,"DATE POSTED"
"RTN","RCDPTAR1",160,0)
 W !,?4,"TRACE #",!,?11,"PAYER NAME/ID"
"RTN","RCDPTAR1",161,0)
 W !,RCHR
"RTN","RCDPTAR1",162,0)
 Q
"RTN","RCDPTAR1",163,0)
 ;
"RTN","RCDPTAR1",164,0)
EXMSG ;
"RTN","RCDPTAR1",165,0)
 ;Displays the message about capturing to an Excel file format
"RTN","RCDPTAR1",166,0)
 ;
"RTN","RCDPTAR1",167,0)
 W !!?5,"To capture as an Excel format, it is recommended that you queue this"
"RTN","RCDPTAR1",168,0)
 W !?5,"report to a spool device with margins of 256 and page length of 99999"
"RTN","RCDPTAR1",169,0)
 W !?5,"(e.g. spoolname;256;99999). This should help avoid wrapping problems."
"RTN","RCDPTAR1",170,0)
 W !!?5,"Another method would be to set up your terminal to capture the detail"
"RTN","RCDPTAR1",171,0)
 W !?5,"report data. On some terminals, this can be done by clicking on the"
"RTN","RCDPTAR1",172,0)
 W !?5,"'Tools' menu above, then click on 'Capture Incoming Data' to save to"
"RTN","RCDPTAR1",173,0)
 W !?5,"Desktop.  To avoid undesired wrapping of the data saved to the file,"
"RTN","RCDPTAR1",174,0)
 W !?5,"please enter '0;256;99999' at the 'DEVICE:' prompt.",!
"RTN","RCDPTAR1",175,0)
 Q
"RTN","RCDPTAR1",176,0)
 ;
"RTN","RCDPTAR1",177,0)
PAUSE() ;
"RTN","RCDPTAR1",178,0)
 N DIR,X,Y,DTOUT,DUOUT,DIROUT,DIRUT
"RTN","RCDPTAR1",179,0)
 S DIR(0)="E"
"RTN","RCDPTAR1",180,0)
 D ^DIR
"RTN","RCDPTAR1",181,0)
 Q Y
"RTN","RCDPTAR1",182,0)
 ;
"RTN","RCDPTAR1",183,0)
CHKP(RCNOW,RCPG,RCHR,RCDT1,RCDT2,RCEXCEL,RCSCR,LINES) ;
"RTN","RCDPTAR1",184,0)
 ; Check if we need to do a page break
"RTN","RCDPTAR1",185,0)
 ;
"RTN","RCDPTAR1",186,0)
 I $Y'>(IOSL-LINES) Q
"RTN","RCDPTAR1",187,0)
 I RCSCR,'$$PAUSE S RCPG=0 Q
"RTN","RCDPTAR1",188,0)
 D HEADER(RCNOW,.RCPG,RCHR,RCDT1,RCDT2,RCEXCEL)
"RTN","RCDPTAR1",189,0)
 Q
"SEC","^DIC",345,345,0,"AUDIT")
@
"SEC","^DIC",345,345,0,"DD")
@
"SEC","^DIC",345,345,0,"DEL")
@
"SEC","^DIC",345,345,0,"LAYGO")
@
"SEC","^DIC",345,345,0,"RD")
@
"SEC","^DIC",345,345,0,"WR")
@
"SEC","^DIC",345.1,345.1,0,"AUDIT")
@
"SEC","^DIC",345.1,345.1,0,"DD")
@
"SEC","^DIC",345.1,345.1,0,"DEL")
@
"SEC","^DIC",345.1,345.1,0,"LAYGO")
@
"SEC","^DIC",345.1,345.1,0,"RD")
@
"SEC","^DIC",345.1,345.1,0,"WR")
@
"SEC","^DIC",346,346,0,"AUDIT")
@
"SEC","^DIC",346,346,0,"DD")
@
"SEC","^DIC",346,346,0,"DEL")
@
"SEC","^DIC",346,346,0,"LAYGO")
@
"SEC","^DIC",346,346,0,"RD")
@
"SEC","^DIC",346,346,0,"WR")
@
"UP",344.31,344.314,-1)
344.31^4
"UP",344.31,344.314,0)
344.314
"VER")
8.0^22.0
"^DD",344.31,344.31,.08,0)
MATCH STATUS^S^-1:MATCHED WITH ERRORS;0:UNMATCHED;1:MATCHED;2:PAPER EOB MATCH;^0;8^Q
"^DD",344.31,344.31,.08,1,0)
^.1
"^DD",344.31,344.31,.08,1,1,0)
344.31^AMATCH
"^DD",344.31,344.31,.08,1,1,1)
S ^RCY(344.31,"AMATCH",$E(X,1,30),DA)=""
"^DD",344.31,344.31,.08,1,1,2)
K ^RCY(344.31,"AMATCH",$E(X,1,30),DA)
"^DD",344.31,344.31,.08,1,1,3)
Do not delete
"^DD",344.31,344.31,.08,1,1,"DT")
3030128
"^DD",344.31,344.31,.08,1,2,0)
^^TRIGGER^344.3^.14
"^DD",344.31,344.31,.08,1,2,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S X=Y(0),X=X I X S X=DIV X ^DD(344.31,.08,1,2,89.2) S X=$P(Y(101),U,14) S D0=I(0,0) S DIU=X K Y X ^DD(344.31,.08,1,2,1.1) X ^DD(344.31,.08,1,2,1.4)
"^DD",344.31,344.31,.08,1,2,1.1)
S X=DIV S Y(1)=$S($D(^RCY(344.31,D0,0)):^(0),1:"") S X=DIU+$P(Y(1),U,7)
"^DD",344.31,344.31,.08,1,2,1.4)
S DIH=$G(^RCY(344.3,DIV(0),0)),DIV=X I $D(^(0)) S $P(^(0),U,14)=DIV,DIH=344.3,DIG=.14 D ^DICR
"^DD",344.31,344.31,.08,1,2,2)
X ^DD(344.31,.08,1,2,2.3) I X S X=DIV X ^DD(344.31,.08,1,2,89.2) S X=$P(Y(101),U,14) S D0=I(0,0) S DIU=X K Y X ^DD(344.31,.08,1,2,2.1) X ^DD(344.31,.08,1,2,2.4)
"^DD",344.31,344.31,.08,1,2,2.1)
S X=DIV S Y(1)=$S($D(^RCY(344.31,D0,0)):^(0),1:"") S X=DIU-$P(Y(1),U,7)
"^DD",344.31,344.31,.08,1,2,2.3)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(1)=$C(59)_$P($G(^DD(344.31,.08,0)),U,3) S X=$P($P(Y(1),$C(59)_X_":",2),$C(59))'["UNMATCH"
"^DD",344.31,344.31,.08,1,2,2.4)
S DIH=$G(^RCY(344.3,DIV(0),0)),DIV=X I $D(^(0)) S $P(^(0),U,14)=DIV,DIH=344.3,DIG=.14 D ^DICR
"^DD",344.31,344.31,.08,1,2,89.2)
S I(0,0)=$G(D0),Y(1)=$S($D(^RCY(344.31,D0,0)):^(0),1:""),D0=$P(Y(1),U,1) S:'D0!'$D(^RCY(344.3,+D0,0)) D0=-1 S DIV(0)=D0 S Y(101)=$S($D(^RCY(344.3,D0,0)):^(0),1:"")
"^DD",344.31,344.31,.08,1,2,"CREATE CONDITION")
INTERNAL(MATCH STATUS)
"^DD",344.31,344.31,.08,1,2,"CREATE VALUE")
TOTAL AMOUNT MATCHED+AMOUNT OF PAYMENT
"^DD",344.31,344.31,.08,1,2,"DELETE CONDITION")
OLD MATCH STATUS'["UNMATCH"
"^DD",344.31,344.31,.08,1,2,"DELETE VALUE")
TOTAL AMOUNT MATCHED-AMOUNT OF PAYMENT
"^DD",344.31,344.31,.08,1,2,"DT")
3030129
"^DD",344.31,344.31,.08,1,2,"FIELD")
#.01:TOTAL AMOUNT MATCHED
"^DD",344.31,344.31,.08,1,3,0)
^^TRIGGER^344.314^.02
"^DD",344.31,344.31,.08,1,3,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 X ^DD(344.31,.08,1,3,89.3) S Y(102)=$S($D(^RCY(344.31,D0,4,D1,0)):^(0),1:"") S X=$P(Y(102),U,2) S D0=I(0,0) S D1=I(1,0) S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC S X=% X ^DD(344.31,.08,1,3,1.4)
"^DD",344.31,344.31,.08,1,3,1.4)
S DIH=$G(^RCY(344.31,DIV(0),4,DIV(1),0)),DIV=X I $D(^(0)) S $P(^(0),U,2)=DIV,DIH=344.314,DIG=.02 D ^DICR
"^DD",344.31,344.31,.08,1,3,2)
Q
"^DD",344.31,344.31,.08,1,3,89.2)
N DIC,DO S DIC=X N X S X=DIC,Y=-1,DIC="^RCY(344.31,D0,4,",DIC(0)="F",DIC("P")="344.314S" S DIU(1)=$S($D(DA(1)):DA(1),1:0),DA(1)=D0 D FILE^DICN:D0>0
"^DD",344.31,344.31,.08,1,3,89.3)
S I(0,0)=$G(D0),I(1,0)=$G(D1),Y(1)=$S($D(^RCY(344.31,D0,0)):^(0),1:"") S X=$P(Y(1),U,8),X=X S X=X X ^DD(344.31,.08,1,3,89.2) S (D,D1,DIV(1))=+Y,DA(1)=DIU(1)
"^DD",344.31,344.31,.08,1,3,"%D",0)
^^4^4^3150825^
"^DD",344.31,344.31,.08,1,3,"%D",1,0)
This trigger creates the MATCH STATUS HISTORY multiple and update the 
"^DD",344.31,344.31,.08,1,3,"%D",2,0)
MATCH STATUS (#.01) and EDIT DATE/TIME (#.02) fields of that multiple.  
"^DD",344.31,344.31,.08,1,3,"%D",3,0)
Due to triggers on the EDIT DATE/TIME (#.02) field, the EDIT USER (#.03) 
"^DD",344.31,344.31,.08,1,3,"%D",4,0)
and ERA RECORD (#.04) fields will also be updated.
"^DD",344.31,344.31,.08,1,3,"CREATE VALUE")
NOW
"^DD",344.31,344.31,.08,1,3,"DELETE VALUE")
NO EFFECT
"^DD",344.31,344.31,.08,1,3,"DIC")
LOOKUP
"^DD",344.31,344.31,.08,1,3,"DT")
3150825
"^DD",344.31,344.31,.08,1,3,"FIELD")
MATCH STATUS:MATCH STATUS HISTORY:EDIT DATE/TIME
"^DD",344.31,344.31,.08,3)
Enter the status to indicate if the payment has been matched to an ERA.
"^DD",344.31,344.31,.08,21,0)
^.001^4^4^3150825^^^^
"^DD",344.31,344.31,.08,21,1,0)
This is the status that indicates whether or not the EFT payment has been
"^DD",344.31,344.31,.08,21,2,0)
matched to an ERA record.  If the total amt of the EFT payment does not =
"^DD",344.31,344.31,.08,21,3,0)
the total amount of the ERA payment, the status will be -1 (MATCHED WITH
"^DD",344.31,344.31,.08,21,4,0)
ERRORS).
"^DD",344.31,344.31,.08,23,0)
^^3^3^3150825^
"^DD",344.31,344.31,.08,23,1,0)
Note that there are two triggers associated with this field so Fileman 
"^DD",344.31,344.31,.08,23,2,0)
should be used to update this field. If not, then the triggered fields 
"^DD",344.31,344.31,.08,23,3,0)
will need to be manually updated.
"^DD",344.31,344.31,.08,"DT")
3150825
"^DD",344.31,344.31,4,0)
MATCH STATUS HISTORY^344.314S^^4;0
"^DD",344.31,344.31,4,21,0)
^.001^3^3^3150922^^^^
"^DD",344.31,344.31,4,21,1,0)
This multiple keeps a historical record of the changes to the MATCH 
"^DD",344.31,344.31,4,21,2,0)
STATUS field.  The data is populated by a trigger on the MATCH STATUS 
"^DD",344.31,344.31,4,21,3,0)
(#.08) field of the main file.
"^DD",344.31,344.31,4,23,0)
^.001^2^2^3150922^^^
"^DD",344.31,344.31,4,23,1,0)
This multiple and its fields are created by a trigger in the MATCH STATUS 
"^DD",344.31,344.31,4,23,2,0)
(#.08) field.
"^DD",344.31,344.314,0)
MATCH STATUS HISTORY SUB-FIELD^^.03^3
"^DD",344.31,344.314,0,"DT")
3150825
"^DD",344.31,344.314,0,"IX","B",344.314,.01)

"^DD",344.31,344.314,0,"NM","MATCH STATUS HISTORY")

"^DD",344.31,344.314,0,"UP")
344.31
"^DD",344.31,344.314,.01,0)
MATCH STATUS^MS^-1:MATCHED WITH ERRORS;0:UNMATCHED;1:MATCHED;2:PAPER EOB MATCHED;^0;1^Q
"^DD",344.31,344.314,.01,1,0)
^.1^^-1
"^DD",344.31,344.314,.01,1,1,0)
344.314^B
"^DD",344.31,344.314,.01,1,1,1)
S ^RCY(344.31,DA(1),4,"B",$E(X,1,30),DA)=""
"^DD",344.31,344.314,.01,1,1,2)
K ^RCY(344.31,DA(1),4,"B",$E(X,1,30),DA)
"^DD",344.31,344.314,.01,3)
Enter the status to indicate if the payment has been matched to an ERA.
"^DD",344.31,344.314,.01,9)
^
"^DD",344.31,344.314,.01,21,0)
^.001^4^4^3150831^^^^
"^DD",344.31,344.314,.01,21,1,0)
This is the status that indicates whether or not the EFT payment has been 
"^DD",344.31,344.314,.01,21,2,0)
matched to an ERA record.  If the total amt of the EFT payment does not = 
"^DD",344.31,344.314,.01,21,3,0)
the total amount of the ERA payment, the status will be -1 (MATCHED WITH 
"^DD",344.31,344.314,.01,21,4,0)
ERRORS).
"^DD",344.31,344.314,.01,"DT")
3150820
"^DD",344.31,344.314,.02,0)
EDIT DATE/TIME^D^^0;2^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",344.31,344.314,.02,1,0)
^.1^^-1
"^DD",344.31,344.314,.02,1,2,0)
^^TRIGGER^344.314^.03
"^DD",344.31,344.314,.02,1,2,1)
K DIV S DIV=X,D0=DA(1),DIV(0)=D0,D1=DA,DIV(1)=D1 S Y(1)=$S($D(^RCY(344.31,D0,4,D1,0)):^(0),1:"") S X=$P(Y(1),U,3),X=X S DIU=X K Y S X=DIV S X=DUZ X ^DD(344.314,.02,1,2,1.4)
"^DD",344.31,344.314,.02,1,2,1.4)
S DIH=$G(^RCY(344.31,DIV(0),4,DIV(1),0)),DIV=X S $P(^(0),U,3)=DIV,DIH=344.314,DIG=.03 D ^DICR
"^DD",344.31,344.314,.02,1,2,2)
Q
"^DD",344.31,344.314,.02,1,2,"%D",0)
^^2^2^3150825^
"^DD",344.31,344.314,.02,1,2,"%D",1,0)
This trigger will update the EDIT USER (#.03) field with the user who has 
"^DD",344.31,344.314,.02,1,2,"%D",2,0)
updated the MATCH STATUS field.
"^DD",344.31,344.314,.02,1,2,"CREATE VALUE")
S X=DUZ
"^DD",344.31,344.314,.02,1,2,"DELETE VALUE")
NO EFFECT
"^DD",344.31,344.314,.02,1,2,"DT")
3150821
"^DD",344.31,344.314,.02,1,2,"FIELD")
EDIT USER
"^DD",344.31,344.314,.02,3)
Enter the date/time the MATCH STATUS field was modified
"^DD",344.31,344.314,.02,5,1,0)
344.31^.08^3
"^DD",344.31,344.314,.02,9)
^
"^DD",344.31,344.314,.02,21,0)
^.001^2^2^3150831^^^^
"^DD",344.31,344.314,.02,21,1,0)
This is to track the date/time of the last update to the MATCH STATUS 
"^DD",344.31,344.314,.02,21,2,0)
field.
"^DD",344.31,344.314,.02,"DT")
3150922
"^DD",344.31,344.314,.03,0)
EDIT USER^P200'^VA(200,^0;3^Q
"^DD",344.31,344.314,.03,3)
Enter the user who modified the MATCH STATUS
"^DD",344.31,344.314,.03,5,1,0)
344.314^.02^2
"^DD",344.31,344.314,.03,9)
^
"^DD",344.31,344.314,.03,21,0)
^.001^1^1^3150831^^
"^DD",344.31,344.314,.03,21,1,0)
This field tracks the user who last modified the MATCH STATUS.
"^DD",344.31,344.314,.03,"DT")
3150820
"^DD",344.4,344.4,.03,0)
INSURANCE CO ID^RF^^0;3^K:$L(X)>30!($L(X)<1) X
"^DD",344.4,344.4,.03,1,0)
^.1
"^DD",344.4,344.4,.03,1,1,0)
344.4^I
"^DD",344.4,344.4,.03,1,1,1)
S ^RCY(344.4,"I",$E(X,1,30),DA)=""
"^DD",344.4,344.4,.03,1,1,2)
K ^RCY(344.4,"I",$E(X,1,30),DA)
"^DD",344.4,344.4,.03,1,1,3)
Do not Delete
"^DD",344.4,344.4,.03,1,1,"%D",0)
^^3^3^3150209^
"^DD",344.4,344.4,.03,1,1,"%D",1,0)
This is a search index on INSURANCE CO ID field, reports against the ERA
"^DD",344.4,344.4,.03,1,1,"%D",2,0)
file use a lookup based on INSURANCE CO ID, this index will reduce the
"^DD",344.4,344.4,.03,1,1,"%D",3,0)
time to generate ad-hoc reports.  
"^DD",344.4,344.4,.03,1,1,"DT")
3150209
"^DD",344.4,344.4,.03,3)
Answer must be 1-30 characters in length.
"^DD",344.4,344.4,.03,21,0)
^^3^3^3020523^
"^DD",344.4,344.4,.03,21,1,0)
This is the insurance co's electronic ID that will be recorded on each
"^DD",344.4,344.4,.03,21,2,0)
ERA received at the site.  This field, along
"^DD",344.4,344.4,.03,21,3,0)
with the trace number should always be unique in this file.
"^DD",344.4,344.4,.03,"DT")
3150209
"^DD",345,345,0)
FIELD^^6^7
"^DD",345,345,0,"DDA")
N
"^DD",345,345,0,"DT")
3150119
"^DD",345,345,0,"IX","B",345,.01)

"^DD",345,345,0,"NM","AR EDI CARC DATA")

"^DD",345,345,0,"VRPK")
PRCA
"^DD",345,345,.01,0)
CODE^RF^^0;1^K:$L(X)>30!($L(X)<1)!'(X'?1P.E) X
"^DD",345,345,.01,.1)
Code
"^DD",345,345,.01,1,0)
^.1
"^DD",345,345,.01,1,1,0)
345^B
"^DD",345,345,.01,1,1,1)
S ^RC(345,"B",$E(X,1,30),DA)=""
"^DD",345,345,.01,1,1,2)
K ^RC(345,"B",$E(X,1,30),DA)
"^DD",345,345,.01,1,2,0)
^^TRIGGER^345^6
"^DD",345,345,.01,1,2,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^RC(345,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC S X=% S DIH=$G(^RC(345,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=345,DIG=6 D ^DICR
"^DD",345,345,.01,1,2,2)
Q
"^DD",345,345,.01,1,2,"%D",0)
^^3^3^3150119^
"^DD",345,345,.01,1,2,"%D",1,0)
The RECORD DATE CHANGED will be triggered whenever any of the fields 
"^DD",345,345,.01,1,2,"%D",2,0)
within this record is changed. The triggered value is NOW. This field 
"^DD",345,345,.01,1,2,"%D",3,0)
cannot be edited.
"^DD",345,345,.01,1,2,"CREATE VALUE")
NOW
"^DD",345,345,.01,1,2,"DELETE VALUE")
NO EFFECT
"^DD",345,345,.01,1,2,"DT")
3150119
"^DD",345,345,.01,1,2,"FIELD")
RECORD CHANGE DATE
"^DD",345,345,.01,3)
Answer must be 1-30 characters in length.
"^DD",345,345,.01,21,0)
^^1^1^3141028^
"^DD",345,345,.01,21,1,0)
Claims Adjustment Reason Code
"^DD",345,345,.01,"DT")
3150119
"^DD",345,345,1,0)
START DATE^RD^^0;2^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",345,345,1,.1)
Start Date
"^DD",345,345,1,1,0)
^.1
"^DD",345,345,1,1,1,0)
^^TRIGGER^345^6
"^DD",345,345,1,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^RC(345,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC S X=% S DIH=$G(^RC(345,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=345,DIG=6 D ^DICR
"^DD",345,345,1,1,1,2)
Q
"^DD",345,345,1,1,1,"CREATE VALUE")
NOW
"^DD",345,345,1,1,1,"DELETE VALUE")
NO EFFECT
"^DD",345,345,1,1,1,"FIELD")
RECORD CHANGE DATE
"^DD",345,345,1,3)
Enter Date CODE was put into service
"^DD",345,345,1,21,0)
^^1^1^3141028^
"^DD",345,345,1,21,1,0)
Start Date is the date that the CODE was put into service.
"^DD",345,345,1,"DT")
3150119
"^DD",345,345,2,0)
STOP DATE^D^^0;3^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",345,345,2,.1)
Stop Date
"^DD",345,345,2,1,0)
^.1
"^DD",345,345,2,1,1,0)
^^TRIGGER^345^6
"^DD",345,345,2,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^RC(345,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC S X=% S DIH=$G(^RC(345,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=345,DIG=6 D ^DICR
"^DD",345,345,2,1,1,2)
Q
"^DD",345,345,2,1,1,"CREATE VALUE")
NOW
"^DD",345,345,2,1,1,"DELETE VALUE")
NO EFFECT
"^DD",345,345,2,1,1,"FIELD")
RECORD CHANGE DATE
"^DD",345,345,2,3)
Enter Date CODE was removed from service
"^DD",345,345,2,21,0)
^^1^1^3141028^
"^DD",345,345,2,21,1,0)
Date CODE was removed from service.
"^DD",345,345,2,"DT")
3150119
"^DD",345,345,3,0)
MODIFIED DATE^D^^0;4^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",345,345,3,.1)
Modified Date
"^DD",345,345,3,1,0)
^.1
"^DD",345,345,3,1,1,0)
^^TRIGGER^345^6
"^DD",345,345,3,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^RC(345,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC S X=% S DIH=$G(^RC(345,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=345,DIG=6 D ^DICR
"^DD",345,345,3,1,1,2)
Q
"^DD",345,345,3,1,1,"CREATE VALUE")
NOW
"^DD",345,345,3,1,1,"DELETE VALUE")
NO EFFECT
"^DD",345,345,3,1,1,"FIELD")
RECORD CHANGE DATE
"^DD",345,345,3,3)
Enter date that this entry was last updated
"^DD",345,345,3,21,0)
^^1^1^3141028^
"^DD",345,345,3,21,1,0)
Date the this entry was last updated.
"^DD",345,345,3,"DT")
3150119
"^DD",345,345,4,0)
DESCRIPTION^345.04^^1;0
"^DD",345,345,4,21,0)
^.001^2^2^3150420^^
"^DD",345,345,4,21,1,0)
This is the long description of the code maintained by Washington 
"^DD",345,345,4,21,2,0)
Publishing Company.
"^DD",345,345,5,0)
NOTES^F^^2;1^K:$L(X)>200!($L(X)<1) X
"^DD",345,345,5,1,0)
^.1
"^DD",345,345,5,1,1,0)
^^TRIGGER^345^6
"^DD",345,345,5,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^RC(345,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC S X=% S DIH=$G(^RC(345,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=345,DIG=6 D ^DICR
"^DD",345,345,5,1,1,2)
Q
"^DD",345,345,5,1,1,"CREATE VALUE")
NOW
"^DD",345,345,5,1,1,"DELETE VALUE")
NO EFFECT
"^DD",345,345,5,1,1,"FIELD")
RECORD CHANGE DATE
"^DD",345,345,5,3)
Answer must be 1-200 characters in length.
"^DD",345,345,5,21,0)
^^2^2^3141028^
"^DD",345,345,5,21,1,0)
This field is any additional information provided by the Washington 
"^DD",345,345,5,21,2,0)
Publishing Company.
"^DD",345,345,5,"DT")
3150119
"^DD",345,345,6,0)
RECORD CHANGE DATE^D^^0;5^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",345,345,6,3)
Enter date/time that anything in this record changed
"^DD",345,345,6,5,1,0)
345^.01^2
"^DD",345,345,6,5,2,0)
345^1^1
"^DD",345,345,6,5,3,0)
345^2^1
"^DD",345,345,6,5,4,0)
345^3^1
"^DD",345,345,6,5,5,0)
345^5^1
"^DD",345,345,6,9)
^
"^DD",345,345,6,21,0)
^^3^3^3150119^
"^DD",345,345,6,21,1,0)
This field keeps track of the last time any of the fields within this 
"^DD",345,345,6,21,2,0)
record has changed. A trigger should be set up on the other fields that 
"^DD",345,345,6,21,3,0)
set this date time when the record was updated.
"^DD",345,345,6,"DT")
3150119
"^DD",345,345.04,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",345,345.04,0,"DT")
3141023
"^DD",345,345.04,0,"NM","DESCRIPTION")

"^DD",345,345.04,0,"UP")
345
"^DD",345,345.04,.01,0)
DESCRIPTION^Wx^^0;1^Q
"^DD",345,345.04,.01,3)
Enter the Description text for this CODE
"^DD",345,345.04,.01,"DT")
3141023
"^DD",345.1,345.1,0)
FIELD^^.05^5
"^DD",345.1,345.1,0,"DDA")
N
"^DD",345.1,345.1,0,"DT")
3150416
"^DD",345.1,345.1,0,"IX","B",345.1,.01)

"^DD",345.1,345.1,0,"NM","AR PLB ADJUST CODE")

"^DD",345.1,345.1,0,"VRPK")
PRCA
"^DD",345.1,345.1,.01,0)
PLB CODE^RF^^0;1^K:$L(X)>30!($L(X)<1)!'(X'?1P.E) X
"^DD",345.1,345.1,.01,.1)
PLB Code
"^DD",345.1,345.1,.01,1,0)
^.1
"^DD",345.1,345.1,.01,1,1,0)
345.1^B
"^DD",345.1,345.1,.01,1,1,1)
S ^RC(345.1,"B",$E(X,1,30),DA)=""
"^DD",345.1,345.1,.01,1,1,2)
K ^RC(345.1,"B",$E(X,1,30),DA)
"^DD",345.1,345.1,.01,3)
Answer must be 1-30 characters in length.
"^DD",345.1,345.1,.01,10)
This is the code that will match CMS's HIGLAS PLB Codes
"^DD",345.1,345.1,.01,21,0)
^^2^2^3150415^
"^DD",345.1,345.1,.01,21,1,0)
This field will contain the code that is implemented in CMS's HIGLAS 
"^DD",345.1,345.1,.01,21,2,0)
system. Codes may be published by CMS to update these code.
"^DD",345.1,345.1,.01,23,0)
^^1^1^3150415^
"^DD",345.1,345.1,.01,23,1,0)
Codes will match CMS's HIGLAS. Updates may be published by CMS. 
"^DD",345.1,345.1,.01,"DT")
3150415
"^DD",345.1,345.1,.02,0)
START DATE^D^^0;2^S %DT="EX" D ^%DT S X=Y K:X<1 X
"^DD",345.1,345.1,.02,.1)
Start Date
"^DD",345.1,345.1,.02,3)
Enter the date when this code was put into service
"^DD",345.1,345.1,.02,"DT")
3150416
"^DD",345.1,345.1,.03,0)
STOP DATE^D^^0;3^S %DT="EX" D ^%DT S X=Y K:X<1 X
"^DD",345.1,345.1,.03,.1)
Stop Date
"^DD",345.1,345.1,.03,3)
Enter the Date that this code was removed from service
"^DD",345.1,345.1,.03,21,0)
^^1^1^3150415^
"^DD",345.1,345.1,.03,21,1,0)
Date this codes was removed from service.
"^DD",345.1,345.1,.03,"DT")
3150416
"^DD",345.1,345.1,.04,0)
MODIFIED DATE^D^^0;4^S %DT="EX" D ^%DT S X=Y K:X<1 X
"^DD",345.1,345.1,.04,.1)
Modified Date
"^DD",345.1,345.1,.04,3)
Enter the Date that this code was last modified
"^DD",345.1,345.1,.04,21,0)
^^1^1^3150415^
"^DD",345.1,345.1,.04,21,1,0)
Date that the code was last modified
"^DD",345.1,345.1,.04,23,0)
^^1^1^3150415^
"^DD",345.1,345.1,.04,23,1,0)
Date field was late updated by a person or process.
"^DD",345.1,345.1,.04,"DT")
3150416
"^DD",345.1,345.1,.05,0)
DESCRIPTION^RF^^0;5^K:$L(X)>190!($L(X)<3) X
"^DD",345.1,345.1,.05,.1)
Description
"^DD",345.1,345.1,.05,3)
Answer must be 3-190 characters in length.
"^DD",345.1,345.1,.05,21,0)
^^1^1^3150416^
"^DD",345.1,345.1,.05,21,1,0)
The description of the Code, up to 190 characters.
"^DD",345.1,345.1,.05,23,0)
^^1^1^3150416^
"^DD",345.1,345.1,.05,23,1,0)
Free Text code description that can be up to 190 characters in length.
"^DD",345.1,345.1,.05,"DT")
3150416
"^DD",346,346,0)
FIELD^^6^7
"^DD",346,346,0,"DDA")
N
"^DD",346,346,0,"DT")
3150119
"^DD",346,346,0,"IX","B",346,.01)

"^DD",346,346,0,"NM","AR EDI RARC DATA")

"^DD",346,346,0,"VRPK")
PRCA
"^DD",346,346,.01,0)
CODE^RF^^0;1^K:$L(X)>30!($L(X)<1)!'(X'?1P.E) X
"^DD",346,346,.01,.1)
Code
"^DD",346,346,.01,1,0)
^.1
"^DD",346,346,.01,1,1,0)
346^B
"^DD",346,346,.01,1,1,1)
S ^RC(346,"B",$E(X,1,30),DA)=""
"^DD",346,346,.01,1,1,2)
K ^RC(346,"B",$E(X,1,30),DA)
"^DD",346,346,.01,1,2,0)
^^TRIGGER^346^6
"^DD",346,346,.01,1,2,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^RC(346,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC S X=% S DIH=$G(^RC(346,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=346,DIG=6 D ^DICR
"^DD",346,346,.01,1,2,2)
Q
"^DD",346,346,.01,1,2,"%D",0)
^^3^3^3150119^
"^DD",346,346,.01,1,2,"%D",1,0)
The RECORD DATE CHANGED will be triggered whenever any of the fields 
"^DD",346,346,.01,1,2,"%D",2,0)
within this record is changed. The triggered value is NOW. This field 
"^DD",346,346,.01,1,2,"%D",3,0)
cannot be edited.
"^DD",346,346,.01,1,2,"CREATE VALUE")
NOW
"^DD",346,346,.01,1,2,"DELETE VALUE")
NO EFFECT
"^DD",346,346,.01,1,2,"DT")
3150119
"^DD",346,346,.01,1,2,"FIELD")
RECORD CHANGE DATE
"^DD",346,346,.01,3)
Answer must be 1-30 characters in length.
"^DD",346,346,.01,21,0)
^^1^1^3141028^
"^DD",346,346,.01,21,1,0)
Remittance Advice Remark Code (RARC)
"^DD",346,346,.01,"DT")
3150119
"^DD",346,346,1,0)
START DATE^RD^^0;2^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",346,346,1,.1)
Start Date
"^DD",346,346,1,1,0)
^.1
"^DD",346,346,1,1,1,0)
^^TRIGGER^346^6
"^DD",346,346,1,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^RC(346,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC S X=% S DIH=$G(^RC(346,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=346,DIG=6 D ^DICR
"^DD",346,346,1,1,1,2)
Q
"^DD",346,346,1,1,1,"CREATE VALUE")
NOW
"^DD",346,346,1,1,1,"DELETE VALUE")
NO EFFECT
"^DD",346,346,1,1,1,"FIELD")
RECORD CHANGE DATE
"^DD",346,346,1,3)
Enter the date that the code was put into service
"^DD",346,346,1,21,0)
^.001^1^1^3141028^^
"^DD",346,346,1,21,1,0)
Start Date is the date that the code was put into service.
"^DD",346,346,1,"DT")
3150119
"^DD",346,346,2,0)
STOP DATE^D^^0;3^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",346,346,2,.1)
Stop Date
"^DD",346,346,2,1,0)
^.1
"^DD",346,346,2,1,1,0)
^^TRIGGER^346^6
"^DD",346,346,2,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^RC(346,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC S X=% S DIH=$G(^RC(346,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=346,DIG=6 D ^DICR
"^DD",346,346,2,1,1,2)
Q
"^DD",346,346,2,1,1,"CREATE VALUE")
NOW
"^DD",346,346,2,1,1,"DELETE VALUE")
NO EFFECT
"^DD",346,346,2,1,1,"FIELD")
RECORD CHANGE DATE
"^DD",346,346,2,3)
Date CODE was removed from service
"^DD",346,346,2,21,0)
^^1^1^3141028^
"^DD",346,346,2,21,1,0)
Stop Date is the date that the code was removed from service.
"^DD",346,346,2,"DT")
3150119
"^DD",346,346,3,0)
MODIFIED DATE^D^^0;4^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",346,346,3,.1)
Modified Date
"^DD",346,346,3,1,0)
^.1
"^DD",346,346,3,1,1,0)
^^TRIGGER^346^6
"^DD",346,346,3,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^RC(346,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC S X=% S DIH=$G(^RC(346,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=346,DIG=6 D ^DICR
"^DD",346,346,3,1,1,2)
Q
"^DD",346,346,3,1,1,"CREATE VALUE")
NOW
"^DD",346,346,3,1,1,"DELETE VALUE")
NO EFFECT
"^DD",346,346,3,1,1,"FIELD")
RECORD CHANGE DATE
"^DD",346,346,3,3)
Enter the date the this entry was last modified
"^DD",346,346,3,21,0)
^^1^1^3141028^
"^DD",346,346,3,21,1,0)
Modified Date is the date that the CODE was last updated.
"^DD",346,346,3,"DT")
3150119
"^DD",346,346,4,0)
DESCRIPTION^346.04^^1;0
"^DD",346,346,4,21,0)
^^1^1^3141028^
"^DD",346,346,4,21,1,0)
This field is the long description of the CODE. 
"^DD",346,346,5,0)
NOTES^F^^2;1^K:$L(X)>200!($L(X)<1) X
"^DD",346,346,5,.1)
Notes
"^DD",346,346,5,1,0)
^.1
"^DD",346,346,5,1,1,0)
^^TRIGGER^346^6
"^DD",346,346,5,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^RC(346,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC S X=% S DIH=$G(^RC(346,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=346,DIG=6 D ^DICR
"^DD",346,346,5,1,1,2)
Q
"^DD",346,346,5,1,1,"CREATE VALUE")
NOW
"^DD",346,346,5,1,1,"DELETE VALUE")
NO EFFECT
"^DD",346,346,5,1,1,"FIELD")
RECORD CHANGE DATE
"^DD",346,346,5,3)
Answer must be 1-200 characters in length.
"^DD",346,346,5,21,0)
^^2^2^3141028^
"^DD",346,346,5,21,1,0)
This field is any additional information provided by the Washington 
"^DD",346,346,5,21,2,0)
Publishing Company.
"^DD",346,346,5,"DT")
3150119
"^DD",346,346,6,0)
RECORD CHANGE DATE^D^^0;5^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",346,346,6,3)
Enter date/time that anything in this record changed
"^DD",346,346,6,5,1,0)
346^.01^2
"^DD",346,346,6,5,2,0)
346^1^1
"^DD",346,346,6,5,3,0)
346^2^1
"^DD",346,346,6,5,4,0)
346^3^1
"^DD",346,346,6,5,5,0)
346^5^1
"^DD",346,346,6,9)
^
"^DD",346,346,6,21,0)
^^3^3^3150119^
"^DD",346,346,6,21,1,0)
This field keeps track of the last time any of the fields within this 
"^DD",346,346,6,21,2,0)
record has changed. A trigger should be set up on the other fields that 
"^DD",346,346,6,21,3,0)
set this date time when the record was updated.
"^DD",346,346,6,"DT")
3150119
"^DD",346,346.04,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",346,346.04,0,"DT")
3141023
"^DD",346,346.04,0,"NM","DESCRIPTION")

"^DD",346,346.04,0,"UP")
346
"^DD",346,346.04,.01,0)
DESCRIPTION^Wx^^0;1^Q
"^DD",346,346.04,.01,3)
Enter the full description of the code
"^DD",346,346.04,.01,"DT")
3141023
"^DIC",345,345,0)
AR EDI CARC DATA^345
"^DIC",345,345,0,"GL")
^RC(345,
"^DIC",345,345,"%",0)
^1.005^1^1
"^DIC",345,345,"%",1,0)
PRCA
"^DIC",345,345,"%","B","PRCA",1)

"^DIC",345,345,"%D",0)
^^6^6^3141028^
"^DIC",345,345,"%D",1,0)
File implemented for patch PRCA*4.5*303
"^DIC",345,345,"%D",2,0)
 
"^DIC",345,345,"%D",3,0)
This file stores the codes and descriptions of the Claim Adjustment 
"^DIC",345,345,"%D",4,0)
Remittance Codes (CARC) file published by the Washington Publishing 
"^DIC",345,345,"%D",5,0)
Company. The CARC data is updated by the FSC, which has a subscription 
"^DIC",345,345,"%D",6,0)
from WPC to obtain updated codes and descriptions.
"^DIC",345,"B","AR EDI CARC DATA",345)

"^DIC",345.1,345.1,0)
AR PLB ADJUST CODE^345.1
"^DIC",345.1,345.1,0,"GL")
^RC(345.1,
"^DIC",345.1,345.1,"%",0)
^1.005^1^1
"^DIC",345.1,345.1,"%",1,0)
PRCA
"^DIC",345.1,345.1,"%","B","PRCA",1)

"^DIC",345.1,345.1,"%D",0)
^^6^6^3150415^
"^DIC",345.1,345.1,"%D",1,0)
This file was implemented in patch PRCA*4.5*303
"^DIC",345.1,345.1,"%D",2,0)
 
"^DIC",345.1,345.1,"%D",3,0)
This files stores the codes and descriptions of the Provider Level 
"^DIC",345.1,345.1,"%D",4,0)
Balance Codes (PLB Codes). The PLB Codes are published by CMS and 
"^DIC",345.1,345.1,"%D",5,0)
originate from their Healthcare Integrated General Ledger Accounting 
"^DIC",345.1,345.1,"%D",6,0)
System (HIGLAS).
"^DIC",345.1,"B","AR PLB ADJUST CODE",345.1)

"^DIC",346,346,0)
AR EDI RARC DATA^346
"^DIC",346,346,0,"GL")
^RC(346,
"^DIC",346,346,"%",0)
^1.005^1^1
"^DIC",346,346,"%",1,0)
PRCA
"^DIC",346,346,"%","B","PRCA",1)

"^DIC",346,346,"%D",0)
^^6^6^3141028^
"^DIC",346,346,"%D",1,0)
This file was implemented in patch PRCA*4.5*303
"^DIC",346,346,"%D",2,0)
 
"^DIC",346,346,"%D",3,0)
This file stores the codes and descriptions of the Remittance Advice 
"^DIC",346,346,"%D",4,0)
Remark Codes (RARC) file published by the Washington Publishing Company.
"^DIC",346,346,"%D",5,0)
The RARC data is updated by the FSC that has a subscription to WPC for
"^DIC",346,346,"%D",6,0)
these codes.
"^DIC",346,"B","AR EDI RARC DATA",346)

**INSTALL NAME**
IB*2.0*530
"BLD",9887,0)
IB*2.0*530^INTEGRATED BILLING^0^3160411^y
"BLD",9887,1,0)
^^35^35^3150518^
"BLD",9887,1,1,0)
MCCF ENHANCEMENTS PROJECT - CARC/RARC
"BLD",9887,1,2,0)
 
"BLD",9887,1,3,0)
VA's compliance with Electronic Funds Transfer (EFT) & Electronic 
"BLD",9887,1,4,0)
Remittance Advice (ERA) Operating Rules and enables VA to more 
"BLD",9887,1,5,0)
effectively use ERA data, resulting in better revenue and cash flow 
"BLD",9887,1,6,0)
management; provides the infrastructure foundation for electronic 
"BLD",9887,1,7,0)
exchange of claim payment information and promotes an interoperable 
"BLD",9887,1,8,0)
system; reduces the time elapsed between receipt of the 835 and receipt 
"BLD",9887,1,9,0)
of the CCD+ transaction; ensures that trace numbers between payments and 
"BLD",9887,1,10,0)
remittances can be used by VA, reducing the level of open accounts 
"BLD",9887,1,11,0)
receivable and allowing claim denials to be more quickly addressed; and 
"BLD",9887,1,12,0)
standardizes EFT & ERA enrollment, reducing workload burden on VA staff.  
"BLD",9887,1,13,0)
  
"BLD",9887,1,14,0)
This patch contains changes to the ePayments (835 and EFT) program area 
"BLD",9887,1,15,0)
to ensure compliance. Specifically, enhancements to the VistA Third Party 
"BLD",9887,1,16,0)
EDI Lockbox module to increase timely and accurate processing of payments 
"BLD",9887,1,17,0)
for electronic pharmacy claims in compliance with HIPAA and VHA Fiscal 
"BLD",9887,1,18,0)
Accounting policies will also be required.  The ePayments system is used 
"BLD",9887,1,19,0)
by AR staff to process payments from third party payers for both medical 
"BLD",9887,1,20,0)
and pharmacy claims. The objectives of the requested ePayments software 
"BLD",9887,1,21,0)
modifications are to expedite accurate payments by enhancing the 
"BLD",9887,1,22,0)
ePayments software to streamline the user's ability to process the 
"BLD",9887,1,23,0)
pharmacy 835 while:
"BLD",9887,1,24,0)
 
"BLD",9887,1,25,0)
Complying with HIPAA legislative requirements to meet patient needs and 
"BLD",9887,1,26,0)
secure Protected Health Information (PHI).
"BLD",9887,1,27,0)
 
"BLD",9887,1,28,0)
Conducting payment accounting in accordance with the Office of Management 
"BLD",9887,1,29,0)
and Budget (OMB) directives.
"BLD",9887,1,30,0)
 
"BLD",9887,1,31,0)
Systematically enforcing VHA Fiscal Accounting policy.
"BLD",9887,1,32,0)
 
"BLD",9887,1,33,0)
Providing software tools in support of efficient business models to
"BLD",9887,1,34,0)
maximize the volume of electronic data received from third party 
"BLD",9887,1,35,0)
payers to increase revenue and save productive dollars.
"BLD",9887,4,0)
^9.64PA^361.1^1
"BLD",9887,4,361.1,0)
361.1
"BLD",9887,4,361.1,2,0)
^9.641^361.1^1
"BLD",9887,4,361.1,2,361.1,0)
EXPLANATION OF BENEFITS  (File-top level)
"BLD",9887,4,361.1,2,361.1,1,0)
^9.6411^1.15^5
"BLD",9887,4,361.1,2,361.1,1,.03,0)
PAYER ID
"BLD",9887,4,361.1,2,361.1,1,.05,0)
ENTRY DATE/TIME
"BLD",9887,4,361.1,2,361.1,1,.06,0)
EOB PAID DATE
"BLD",9887,4,361.1,2,361.1,1,.07,0)
TRACE NUMBER
"BLD",9887,4,361.1,2,361.1,1,1.15,0)
CORRECTED PRIORITY PAYER TYPE
"BLD",9887,4,361.1,222)
y^y^p^^^^n^^n
"BLD",9887,4,361.1,224)

"BLD",9887,4,"APDD",361.1,361.1)

"BLD",9887,4,"APDD",361.1,361.1,.03)

"BLD",9887,4,"APDD",361.1,361.1,.05)

"BLD",9887,4,"APDD",361.1,361.1,.06)

"BLD",9887,4,"APDD",361.1,361.1,.07)

"BLD",9887,4,"APDD",361.1,361.1,1.15)

"BLD",9887,4,"B",361.1,361.1)

"BLD",9887,6.3)
71
"BLD",9887,"INID")
^n
"BLD",9887,"INIT")
POST^IB20P530
"BLD",9887,"KRN",0)
^9.67PA^779.2^20
"BLD",9887,"KRN",.4,0)
.4
"BLD",9887,"KRN",.401,0)
.401
"BLD",9887,"KRN",.402,0)
.402
"BLD",9887,"KRN",.403,0)
.403
"BLD",9887,"KRN",.5,0)
.5
"BLD",9887,"KRN",.84,0)
.84
"BLD",9887,"KRN",3.6,0)
3.6
"BLD",9887,"KRN",3.8,0)
3.8
"BLD",9887,"KRN",9.2,0)
9.2
"BLD",9887,"KRN",9.8,0)
9.8
"BLD",9887,"KRN",9.8,"NM",0)
^9.68A^10^10
"BLD",9887,"KRN",9.8,"NM",1,0)
IBJTEP^^0^B140265417
"BLD",9887,"KRN",9.8,"NM",2,0)
IBJTAD^^0^B39399972
"BLD",9887,"KRN",9.8,"NM",3,0)
IBJTPE^^0^B131608692
"BLD",9887,"KRN",9.8,"NM",4,0)
IBJTTB1^^0^B24663260
"BLD",9887,"KRN",9.8,"NM",5,0)
IBJTEP1^^0^B37006051
"BLD",9887,"KRN",9.8,"NM",6,0)
IBJDF11^^0^B29071797
"BLD",9887,"KRN",9.8,"NM",7,0)
IBJTLA1^^0^B12051503
"BLD",9887,"KRN",9.8,"NM",8,0)
IBJTLB1^^0^B12752963
"BLD",9887,"KRN",9.8,"NM",9,0)
IBJTU1^^0^B8838308
"BLD",9887,"KRN",9.8,"NM",10,0)
IBJTU6^^0^B8750017
"BLD",9887,"KRN",9.8,"NM","B","IBJDF11",6)

"BLD",9887,"KRN",9.8,"NM","B","IBJTAD",2)

"BLD",9887,"KRN",9.8,"NM","B","IBJTEP",1)

"BLD",9887,"KRN",9.8,"NM","B","IBJTEP1",5)

"BLD",9887,"KRN",9.8,"NM","B","IBJTLA1",7)

"BLD",9887,"KRN",9.8,"NM","B","IBJTLB1",8)

"BLD",9887,"KRN",9.8,"NM","B","IBJTPE",3)

"BLD",9887,"KRN",9.8,"NM","B","IBJTTB1",4)

"BLD",9887,"KRN",9.8,"NM","B","IBJTU1",9)

"BLD",9887,"KRN",9.8,"NM","B","IBJTU6",10)

"BLD",9887,"KRN",19,0)
19
"BLD",9887,"KRN",19.1,0)
19.1
"BLD",9887,"KRN",101,0)
101
"BLD",9887,"KRN",101,"NM",0)
^9.68A^30^25
"BLD",9887,"KRN",101,"NM",1,0)
IBJT 835 ADDITIONAL DATA^^0
"BLD",9887,"KRN",101,"NM",2,0)
IBJT ERA 835 PRINT EEOB^^0
"BLD",9887,"KRN",101,"NM",4,0)
IBJT ERA 835 INFORMATION^^0
"BLD",9887,"KRN",101,"NM",5,0)
IBJT CLAIM SCREEN MENU^^0
"BLD",9887,"KRN",101,"NM",7,0)
IBJT AR ACCOUNT PROFILE SCREEN^^4^
"BLD",9887,"KRN",101,"NM",8,0)
IBJT AR COMMENT HISTORY SCREEN^^4^
"BLD",9887,"KRN",101,"NM",10,0)
IBJ EXIT^^4^
"BLD",9887,"KRN",101,"NM",11,0)
IBJT NS VIEW EXP POL SCREEN^^4^
"BLD",9887,"KRN",101,"NM",12,0)
IBJT BILL CHARGES SCREEN^^4^
"BLD",9887,"KRN",101,"NM",14,0)
IBJT CLAIM SCREEN SKIP^^4^
"BLD",9887,"KRN",101,"NM",15,0)
IBJT PT ELIGIBILITY SCREEN^^4^
"BLD",9887,"KRN",101,"NM",16,0)
IBJT CT/IR COMMUNICATIONS LIST SCREEN^^4^
"BLD",9887,"KRN",101,"NM",18,0)
IBJT BILL DX SCREEN^^4^
"BLD",9887,"KRN",101,"NM",19,0)
IBJT BILL PROCEDURES SCREEN^^4^
"BLD",9887,"KRN",101,"NM",20,0)
IBJT CHANGE BILL^^4^
"BLD",9887,"KRN",101,"NM",21,0)
IBJT HS HEALTH SUMMARY^^4^
"BLD",9887,"KRN",101,"NM",22,0)
IBJT ACTIVE LIST SCREEN SKIP^^4^
"BLD",9887,"KRN",101,"NM",23,0)
IBJT NS VIEW INS CO SCREEN^^4^
"BLD",9887,"KRN",101,"NM",24,0)
IBJT NS VIEW AN BEN SCREEN^^4^
"BLD",9887,"KRN",101,"NM",25,0)
IBJT EDI STATUS SCREEN^^4^
"BLD",9887,"KRN",101,"NM",26,0)
IBCNE JT VIEW EXP ELIG BEN SCREEN^^4^
"BLD",9887,"KRN",101,"NM",27,0)
IBJT EXIT MENU^^0
"BLD",9887,"KRN",101,"NM",28,0)
IBJT ERA 835 MENU^^0
"BLD",9887,"KRN",101,"NM",29,0)
IBJT ECME RESP INFO SCREEN^^4^
"BLD",9887,"KRN",101,"NM",30,0)
IBJT ERA 835 RECEIPT PROF^^0
"BLD",9887,"KRN",101,"NM","B","IBCNE JT VIEW EXP ELIG BEN SCREEN",26)

"BLD",9887,"KRN",101,"NM","B","IBJ EXIT",10)

"BLD",9887,"KRN",101,"NM","B","IBJT 835 ADDITIONAL DATA",1)

"BLD",9887,"KRN",101,"NM","B","IBJT ACTIVE LIST SCREEN SKIP",22)

"BLD",9887,"KRN",101,"NM","B","IBJT AR ACCOUNT PROFILE SCREEN",7)

"BLD",9887,"KRN",101,"NM","B","IBJT AR COMMENT HISTORY SCREEN",8)

"BLD",9887,"KRN",101,"NM","B","IBJT BILL CHARGES SCREEN",12)

"BLD",9887,"KRN",101,"NM","B","IBJT BILL DX SCREEN",18)

"BLD",9887,"KRN",101,"NM","B","IBJT BILL PROCEDURES SCREEN",19)

"BLD",9887,"KRN",101,"NM","B","IBJT CHANGE BILL",20)

"BLD",9887,"KRN",101,"NM","B","IBJT CLAIM SCREEN MENU",5)

"BLD",9887,"KRN",101,"NM","B","IBJT CLAIM SCREEN SKIP",14)

"BLD",9887,"KRN",101,"NM","B","IBJT CT/IR COMMUNICATIONS LIST SCREEN",16)

"BLD",9887,"KRN",101,"NM","B","IBJT ECME RESP INFO SCREEN",29)

"BLD",9887,"KRN",101,"NM","B","IBJT EDI STATUS SCREEN",25)

"BLD",9887,"KRN",101,"NM","B","IBJT ERA 835 INFORMATION",4)

"BLD",9887,"KRN",101,"NM","B","IBJT ERA 835 MENU",28)

"BLD",9887,"KRN",101,"NM","B","IBJT ERA 835 PRINT EEOB",2)

"BLD",9887,"KRN",101,"NM","B","IBJT ERA 835 RECEIPT PROF",30)

"BLD",9887,"KRN",101,"NM","B","IBJT EXIT MENU",27)

"BLD",9887,"KRN",101,"NM","B","IBJT HS HEALTH SUMMARY",21)

"BLD",9887,"KRN",101,"NM","B","IBJT NS VIEW AN BEN SCREEN",24)

"BLD",9887,"KRN",101,"NM","B","IBJT NS VIEW EXP POL SCREEN",11)

"BLD",9887,"KRN",101,"NM","B","IBJT NS VIEW INS CO SCREEN",23)

"BLD",9887,"KRN",101,"NM","B","IBJT PT ELIGIBILITY SCREEN",15)

"BLD",9887,"KRN",409.61,0)
409.61
"BLD",9887,"KRN",409.61,"NM",0)
^9.68A^3^3
"BLD",9887,"KRN",409.61,"NM",1,0)
IBJT ERA 835 INFORMATION^^0
"BLD",9887,"KRN",409.61,"NM",2,0)
IBJT ADDITIONAL 835 DATA^^0
"BLD",9887,"KRN",409.61,"NM",3,0)
IBJT 835 EEOB PRINT^^0
"BLD",9887,"KRN",409.61,"NM","B","IBJT 835 EEOB PRINT",3)

"BLD",9887,"KRN",409.61,"NM","B","IBJT ADDITIONAL 835 DATA",2)

"BLD",9887,"KRN",409.61,"NM","B","IBJT ERA 835 INFORMATION",1)

"BLD",9887,"KRN",771,0)
771
"BLD",9887,"KRN",779.2,0)
779.2
"BLD",9887,"KRN",870,0)
870
"BLD",9887,"KRN",8989.51,0)
8989.51
"BLD",9887,"KRN",8989.52,0)
8989.52
"BLD",9887,"KRN",8994,0)
8994
"BLD",9887,"KRN","B",.4,.4)

"BLD",9887,"KRN","B",.401,.401)

"BLD",9887,"KRN","B",.402,.402)

"BLD",9887,"KRN","B",.403,.403)

"BLD",9887,"KRN","B",.5,.5)

"BLD",9887,"KRN","B",.84,.84)

"BLD",9887,"KRN","B",3.6,3.6)

"BLD",9887,"KRN","B",3.8,3.8)

"BLD",9887,"KRN","B",9.2,9.2)

"BLD",9887,"KRN","B",9.8,9.8)

"BLD",9887,"KRN","B",19,19)

"BLD",9887,"KRN","B",19.1,19.1)

"BLD",9887,"KRN","B",101,101)

"BLD",9887,"KRN","B",409.61,409.61)

"BLD",9887,"KRN","B",771,771)

"BLD",9887,"KRN","B",779.2,779.2)

"BLD",9887,"KRN","B",870,870)

"BLD",9887,"KRN","B",8989.51,8989.51)

"BLD",9887,"KRN","B",8989.52,8989.52)

"BLD",9887,"KRN","B",8994,8994)

"BLD",9887,"QDEF")
^^^^NO^^^^YES^^NO
"BLD",9887,"QUES",0)
^9.62^^
"BLD",9887,"REQB",0)
^9.611^5^5
"BLD",9887,"REQB",1,0)
PRCA*4.5*303^2
"BLD",9887,"REQB",2,0)
PRCA*4.5*298^2
"BLD",9887,"REQB",3,0)
IB*2.0*511^2
"BLD",9887,"REQB",4,0)
IB*2.0*516^2
"BLD",9887,"REQB",5,0)
BPS*1.0*17^2
"BLD",9887,"REQB","B","BPS*1.0*17",5)

"BLD",9887,"REQB","B","IB*2.0*511",3)

"BLD",9887,"REQB","B","IB*2.0*516",4)

"BLD",9887,"REQB","B","PRCA*4.5*298",2)

"BLD",9887,"REQB","B","PRCA*4.5*303",1)

"FIA",361.1)
EXPLANATION OF BENEFITS
"FIA",361.1,0)
^IBM(361.1,
"FIA",361.1,0,0)
361.1PI
"FIA",361.1,0,1)
y^y^p^^^^n^^n
"FIA",361.1,0,10)

"FIA",361.1,0,11)

"FIA",361.1,0,"RLRO")

"FIA",361.1,0,"VR")
2.0^IB
"FIA",361.1,361.1)
1
"FIA",361.1,361.1,.03)

"FIA",361.1,361.1,.05)

"FIA",361.1,361.1,.06)

"FIA",361.1,361.1,.07)

"FIA",361.1,361.1,1.15)

"INIT")
POST^IB20P530
"IX",361.1,361.1,"ABD",0)
361.1^ABD^This xref provides an index by bill # and EOB date^R^^R^IR^I^361.1^^^^^S
"IX",361.1,361.1,"ABD",1)
S ^IBM(361.1,"ABD",X2(1),X2(2),DA)=""
"IX",361.1,361.1,"ABD",1.4)
I X2(1)=""!(X2(2)="") S X=0
"IX",361.1,361.1,"ABD",2)
K ^IBM(361.1,"ABD",X1(1),X1(2),DA)
"IX",361.1,361.1,"ABD",2.4)
I X1(1)=""!(X1(2)="") S X=0
"IX",361.1,361.1,"ABD",2.5)
K ^IBM(361.1,"ABD")
"IX",361.1,361.1,"ABD",11.1,0)
^.114IA^2^2
"IX",361.1,361.1,"ABD",11.1,1,0)
1^F^361.1^.01^^1^F
"IX",361.1,361.1,"ABD",11.1,2,0)
2^F^361.1^.06^^2^F
"IX",361.1,361.1,"AEDT",0)
361.1^AEDT^EOB TYPE / DATE AND TIME^R^^R^IR^I^361.1^^^^^S
"IX",361.1,361.1,"AEDT",.1,0)
^^1^1^3110606^^
"IX",361.1,361.1,"AEDT",.1,1,0)
Creates an index by EOB TYPE and DATE/TIME.
"IX",361.1,361.1,"AEDT",1)
S ^IBM(361.1,"AEDT",X(1),X(2),DA)=""
"IX",361.1,361.1,"AEDT",2)
K ^IBM(361.1,"AEDT",X(1),X(2),DA)
"IX",361.1,361.1,"AEDT",2.5)
K ^IBM(361.1,"AEDT")
"IX",361.1,361.1,"AEDT",11.1,0)
^.114IA^2^2
"IX",361.1,361.1,"AEDT",11.1,1,0)
1^F^361.1^.04^^1^F
"IX",361.1,361.1,"AEDT",11.1,1,3)

"IX",361.1,361.1,"AEDT",11.1,2,0)
2^F^361.1^.05^^2^F
"IX",361.1,361.1,"AEDT",11.1,2,3)

"IX",361.1,361.1,"ATIN",0)
361.1^ATIN^Xref by date filed and transferred from^R^^R^IR^I^361.1^^^^^S
"IX",361.1,361.1,"ATIN",1)
S ^IBM(361.1,"ATIN",X(1),$E(X(2),1,30),DA)=""
"IX",361.1,361.1,"ATIN",2)
K ^IBM(361.1,"ATIN",X(1),$E(X(2),1,30),DA)
"IX",361.1,361.1,"ATIN",2.5)
K ^IBM(361.1,"ATIN")
"IX",361.1,361.1,"ATIN",11.1,0)
^.114IA^2^2
"IX",361.1,361.1,"ATIN",11.1,1,0)
1^F^361.1^.05^^1^F
"IX",361.1,361.1,"ATIN",11.1,1,3)

"IX",361.1,361.1,"ATIN",11.1,2,0)
2^F^361.1^7.01^30^2^F
"IX",361.1,361.1,"ATIN",11.1,2,3)

"IX",361.1,361.1,"ATRID",0)
361.1^ATRID^Xref by bank trace # and ins co id for uniqueness^R^^R^IR^I^361.1^^^^^S
"IX",361.1,361.1,"ATRID",1)
S ^IBM(361.1,"ATRID",$E(X(1),1,50),$E(X(2),1,30),DA)=""
"IX",361.1,361.1,"ATRID",1.4)
S X='X(3)
"IX",361.1,361.1,"ATRID",2)
K ^IBM(361.1,"ATRID",$E(X(1),1,50),$E(X(2),1,30),DA)
"IX",361.1,361.1,"ATRID",2.5)
K ^IBM(361.1,"ATRID")
"IX",361.1,361.1,"ATRID",11.1,0)
^.114IA^3^3
"IX",361.1,361.1,"ATRID",11.1,1,0)
1^F^361.1^.07^50^1^F
"IX",361.1,361.1,"ATRID",11.1,2,0)
2^F^361.1^.03^30^2^F
"IX",361.1,361.1,"ATRID",11.1,3,0)
3^F^361.1^.04^^^F
"KRN",101,1097,-1)
0^5
"KRN",101,1097,0)
IBJT CLAIM SCREEN MENU^Claim Information Menu^^M^^^^^^^^INTEGRATED BILLING
"KRN",101,1097,4)
26^4
"KRN",101,1097,10,0)
^101.01PA^19^19
"KRN",101,1097,10,1,0)
1129^BC^11^
"KRN",101,1097,10,1,"^")
IBJT BILL CHARGES SCREEN
"KRN",101,1097,10,2,0)
1130^DX^12^
"KRN",101,1097,10,2,"^")
IBJT BILL DX SCREEN
"KRN",101,1097,10,3,0)
1131^PR^13^
"KRN",101,1097,10,3,"^")
IBJT BILL PROCEDURES SCREEN
"KRN",101,1097,10,4,0)
1139^CB^14^
"KRN",101,1097,10,4,"^")
IBJT CHANGE BILL
"KRN",101,1097,10,5,0)
1132^AR^21^
"KRN",101,1097,10,5,"^")
IBJT AR ACCOUNT PROFILE SCREEN
"KRN",101,1097,10,6,0)
1144^CM^22^
"KRN",101,1097,10,6,"^")
IBJT AR COMMENT HISTORY SCREEN
"KRN",101,1097,10,7,0)
1141^IR^23^
"KRN",101,1097,10,7,"^")
IBJT CT/IR COMMUNICATIONS LIST SCREEN
"KRN",101,1097,10,8,0)
1143^HS^24^
"KRN",101,1097,10,8,"^")
IBJT HS HEALTH SUMMARY
"KRN",101,1097,10,9,0)
1135^AL^25^
"KRN",101,1097,10,9,"^")
IBJT ACTIVE LIST SCREEN SKIP
"KRN",101,1097,10,10,0)
1126^VI^31^
"KRN",101,1097,10,10,"^")
IBJT NS VIEW INS CO SCREEN
"KRN",101,1097,10,11,0)
1127^VP^32^
"KRN",101,1097,10,11,"^")
IBJT NS VIEW EXP POL SCREEN
"KRN",101,1097,10,12,0)
1128^AB^33^
"KRN",101,1097,10,12,"^")
IBJT NS VIEW AN BEN SCREEN
"KRN",101,1097,10,13,0)
1140^EL^34^
"KRN",101,1097,10,13,"^")
IBJT PT ELIGIBILITY SCREEN
"KRN",101,1097,10,14,0)
1121^EX^36^
"KRN",101,1097,10,14,"^")
IBJ EXIT
"KRN",101,1097,10,15,0)
3132^ED^15^
"KRN",101,1097,10,15,"^")
IBJT EDI STATUS SCREEN
"KRN",101,1097,10,16,0)
4362^EB^35^
"KRN",101,1097,10,16,"^")
IBCNE JT VIEW EXP ELIG BEN SCREEN
"KRN",101,1097,10,18,0)
4429^RX^16^
"KRN",101,1097,10,18,"^")
IBJT ECME RESP INFO SCREEN
"KRN",101,1097,10,19,0)
4688^EP^26^
"KRN",101,1097,10,19,"^")
IBJT ERA 835 INFORMATION
"KRN",101,1097,15)
I $G(IBFASTXT)>3 S VALMBCK="Q"
"KRN",101,1097,20)
K IBFASTXT
"KRN",101,1097,26)
D BM^IBJU1(21,16),SHOW^VALM
"KRN",101,1097,28)
Select Action: 
"KRN",101,1097,99)
63837,61442
"KRN",101,1121,-1)
4^10
"KRN",101,1121,0)
IBJ EXIT
"KRN",101,1126,-1)
4^23
"KRN",101,1126,0)
IBJT NS VIEW INS CO SCREEN
"KRN",101,1127,-1)
4^11
"KRN",101,1127,0)
IBJT NS VIEW EXP POL SCREEN
"KRN",101,1128,-1)
4^24
"KRN",101,1128,0)
IBJT NS VIEW AN BEN SCREEN
"KRN",101,1129,-1)
4^12
"KRN",101,1129,0)
IBJT BILL CHARGES SCREEN
"KRN",101,1130,-1)
4^18
"KRN",101,1130,0)
IBJT BILL DX SCREEN
"KRN",101,1131,-1)
4^19
"KRN",101,1131,0)
IBJT BILL PROCEDURES SCREEN
"KRN",101,1132,-1)
4^7
"KRN",101,1132,0)
IBJT AR ACCOUNT PROFILE SCREEN
"KRN",101,1135,-1)
4^22
"KRN",101,1135,0)
IBJT ACTIVE LIST SCREEN SKIP
"KRN",101,1138,-1)
4^14
"KRN",101,1138,0)
IBJT CLAIM SCREEN SKIP
"KRN",101,1139,-1)
4^20
"KRN",101,1139,0)
IBJT CHANGE BILL
"KRN",101,1140,-1)
4^15
"KRN",101,1140,0)
IBJT PT ELIGIBILITY SCREEN
"KRN",101,1141,-1)
4^16
"KRN",101,1141,0)
IBJT CT/IR COMMUNICATIONS LIST SCREEN
"KRN",101,1143,-1)
4^21
"KRN",101,1143,0)
IBJT HS HEALTH SUMMARY
"KRN",101,1144,-1)
4^8
"KRN",101,1144,0)
IBJT AR COMMENT HISTORY SCREEN
"KRN",101,3132,-1)
4^25
"KRN",101,3132,0)
IBJT EDI STATUS SCREEN
"KRN",101,4362,-1)
4^26
"KRN",101,4362,0)
IBCNE JT VIEW EXP ELIG BEN SCREEN
"KRN",101,4429,-1)
4^29
"KRN",101,4429,0)
IBJT ECME RESP INFO SCREEN
"KRN",101,4688,-1)
0^4
"KRN",101,4688,0)
IBJT ERA 835 INFORMATION^ERA/835^^A^^^^^^^^INTEGRATED BILLING
"KRN",101,4688,20)
D EN^IBJTEP
"KRN",101,4688,99)
63837,61442
"KRN",101,4689,-1)
0^28
"KRN",101,4689,0)
IBJT ERA 835 MENU^ERA/835 Information Menu^^M^^^^^^^^INTEGRATED BILLING
"KRN",101,4689,4)
26^4
"KRN",101,4689,10,0)
^101.01PA^16^16
"KRN",101,4689,10,2,0)
1132^AR^12^
"KRN",101,4689,10,2,"^")
IBJT AR ACCOUNT PROFILE SCREEN
"KRN",101,4689,10,3,0)
1144^CM^13^
"KRN",101,4689,10,3,"^")
IBJT AR COMMENT HISTORY SCREEN
"KRN",101,4689,10,4,0)
1129^BC^22^
"KRN",101,4689,10,4,"^")
IBJT BILL CHARGES SCREEN
"KRN",101,4689,10,5,0)
1141^IR^23^
"KRN",101,4689,10,5,"^")
IBJT CT/IR COMMUNICATIONS LIST SCREEN
"KRN",101,4689,10,6,0)
1121^EX^34^
"KRN",101,4689,10,6,"^")
IBJ EXIT
"KRN",101,4689,10,7,0)
1127^VP^31^^^Policy Benefits
"KRN",101,4689,10,7,"^")
IBJT NS VIEW EXP POL SCREEN
"KRN",101,4689,10,8,0)
1140^EL^32^
"KRN",101,4689,10,8,"^")
IBJT PT ELIGIBILITY SCREEN
"KRN",101,4689,10,10,0)
1138^CI^21^
"KRN",101,4689,10,10,"^")
IBJT CLAIM SCREEN SKIP
"KRN",101,4689,10,13,0)
4690^AD^24^
"KRN",101,4689,10,13,"^")
IBJT 835 ADDITIONAL DATA
"KRN",101,4689,10,14,0)
4691^PE^14^
"KRN",101,4689,10,14,"^")
IBJT ERA 835 PRINT EEOB
"KRN",101,4689,10,15,0)
4429^RX^11^
"KRN",101,4689,10,15,"^")
IBJT ECME RESP INFO SCREEN
"KRN",101,4689,10,16,0)
4693^RP^33^
"KRN",101,4689,10,16,"^")
IBJT ERA 835 RECEIPT PROF
"KRN",101,4689,15)
I $G(IBPRVSCR)'="IBJTEP",$G(IBFASTXT)>2 S VALMBCK="Q"
"KRN",101,4689,20)
K IBFASTXT
"KRN",101,4689,26)
D BM^IBJU1(21,17),SHOW^VALM
"KRN",101,4689,28)
Select Action: 
"KRN",101,4689,99)
63837,61442
"KRN",101,4690,-1)
0^1
"KRN",101,4690,0)
IBJT 835 ADDITIONAL DATA^Additional 835 Data^^A^^^^^^^^INTEGRATED BILLING
"KRN",101,4690,15)
D EXIT^IBJTAD
"KRN",101,4690,20)
D EN^IBJTAD
"KRN",101,4690,99)
63837,61442
"KRN",101,4691,-1)
0^2
"KRN",101,4691,0)
IBJT ERA 835 PRINT EEOB^Print EEOB^^A^^^^^^^^INTEGRATED BILLING
"KRN",101,4691,15)
D EXIT^IBJTPE
"KRN",101,4691,20)
D EN^IBJTPE
"KRN",101,4691,99)
63837,61442
"KRN",101,4692,-1)
0^27
"KRN",101,4692,0)
IBJT EXIT MENU^Exit only menu^^M^^^^^^^^INTEGRATED BILLING
"KRN",101,4692,10,0)
^101.01PA^1^1
"KRN",101,4692,10,1,0)
1121^EX^21^
"KRN",101,4692,10,1,"^")
IBJ EXIT
"KRN",101,4692,15)
I $G(IBFASTXT)>2 S VALMBCK="Q"
"KRN",101,4692,20)
K IBFASTXT
"KRN",101,4692,26)
D BM^IBJU1(21,21),SHOW^VALM
"KRN",101,4692,99)
63837,61442
"KRN",101,4693,-1)
0^30
"KRN",101,4693,0)
IBJT ERA 835 RECEIPT PROF^Receipt Profile^^A^^^^^^^^INTEGRATED BILLING
"KRN",101,4693,20)
D RECEIPT^IBJTEP1
"KRN",101,4693,99)
63837,61442
"KRN",409.61,935,-1)
0^1
"KRN",409.61,935,0)
IBJT ERA 835 INFORMATION^1^^240^5^17^1^1^ERA 835 Information^IBJT ERA 835 MENU^ePayments ERA/EEOB Data^1^^1
"KRN",409.61,935,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,935,"ARRAY")

"KRN",409.61,935,"FNL")
D EXIT^IBJTEP
"KRN",409.61,935,"HDR")
D HDR^IBJTEP
"KRN",409.61,935,"HLP")
D HELP^IBJTEP
"KRN",409.61,935,"INIT")
D INIT^IBJTEP
"KRN",409.61,936,-1)
0^2
"KRN",409.61,936,0)
IBJT ADDITIONAL 835 DATA^1^^240^4^17^1^1^Additional 835 Data^IBJT EXIT MENU^Additional Information in 835^1^^1
"KRN",409.61,936,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,936,"FNL")
D EXIT^IBJTAD
"KRN",409.61,936,"HDR")
D HDR^IBJTAD
"KRN",409.61,936,"HLP")
D HELP^IBJTAD
"KRN",409.61,936,"INIT")
D INIT^IBJTAD
"KRN",409.61,937,-1)
0^3
"KRN",409.61,937,0)
IBJT 835 EEOB PRINT^1^^240^3^17^0^1^835 EEOB Print^^835 EEOB Print^1^^1
"KRN",409.61,937,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,937,"FNL")
D EXIT^IBJTPE
"KRN",409.61,937,"HDR")
D HDR^IBJTPE
"KRN",409.61,937,"HLP")
D HELP^IBJTPE
"KRN",409.61,937,"INIT")
D INIT^IBJTPE
"MBREQ")
1
"ORD",15,101)
101;15;;;PRO^XPDTA;PROF1^XPDIA;PROE1^XPDIA;PROF2^XPDIA;;PRODEL^XPDIA
"ORD",15,101,0)
PROTOCOL
"ORD",17,409.61)
409.61;17;1;;;;LME1^XPDIA1;;;LMDEL^XPDIA1
"ORD",17,409.61,0)
LIST TEMPLATE
"PKG",200,-1)
1^1
"PKG",200,0)
INTEGRATED BILLING^IB^INTEGRATED BILLING
"PKG",200,20,0)
^9.402P^1^1
"PKG",200,20,1,0)
2^^IBAXDR
"PKG",200,20,1,1)

"PKG",200,20,"B",2,1)

"PKG",200,22,0)
^9.49I^1^1
"PKG",200,22,1,0)
2.0^2940321^2990406^2447
"PKG",200,22,1,"PAH",1,0)
530^3160411^123457089
"PKG",200,22,1,"PAH",1,1,0)
^^35^35^3160411
"PKG",200,22,1,"PAH",1,1,1,0)
MCCF ENHANCEMENTS PROJECT - CARC/RARC
"PKG",200,22,1,"PAH",1,1,2,0)
 
"PKG",200,22,1,"PAH",1,1,3,0)
VA's compliance with Electronic Funds Transfer (EFT) & Electronic 
"PKG",200,22,1,"PAH",1,1,4,0)
Remittance Advice (ERA) Operating Rules and enables VA to more 
"PKG",200,22,1,"PAH",1,1,5,0)
effectively use ERA data, resulting in better revenue and cash flow 
"PKG",200,22,1,"PAH",1,1,6,0)
management; provides the infrastructure foundation for electronic 
"PKG",200,22,1,"PAH",1,1,7,0)
exchange of claim payment information and promotes an interoperable 
"PKG",200,22,1,"PAH",1,1,8,0)
system; reduces the time elapsed between receipt of the 835 and receipt 
"PKG",200,22,1,"PAH",1,1,9,0)
of the CCD+ transaction; ensures that trace numbers between payments and 
"PKG",200,22,1,"PAH",1,1,10,0)
remittances can be used by VA, reducing the level of open accounts 
"PKG",200,22,1,"PAH",1,1,11,0)
receivable and allowing claim denials to be more quickly addressed; and 
"PKG",200,22,1,"PAH",1,1,12,0)
standardizes EFT & ERA enrollment, reducing workload burden on VA staff.  
"PKG",200,22,1,"PAH",1,1,13,0)
  
"PKG",200,22,1,"PAH",1,1,14,0)
This patch contains changes to the ePayments (835 and EFT) program area 
"PKG",200,22,1,"PAH",1,1,15,0)
to ensure compliance. Specifically, enhancements to the VistA Third Party 
"PKG",200,22,1,"PAH",1,1,16,0)
EDI Lockbox module to increase timely and accurate processing of payments 
"PKG",200,22,1,"PAH",1,1,17,0)
for electronic pharmacy claims in compliance with HIPAA and VHA Fiscal 
"PKG",200,22,1,"PAH",1,1,18,0)
Accounting policies will also be required.  The ePayments system is used 
"PKG",200,22,1,"PAH",1,1,19,0)
by AR staff to process payments from third party payers for both medical 
"PKG",200,22,1,"PAH",1,1,20,0)
and pharmacy claims. The objectives of the requested ePayments software 
"PKG",200,22,1,"PAH",1,1,21,0)
modifications are to expedite accurate payments by enhancing the 
"PKG",200,22,1,"PAH",1,1,22,0)
ePayments software to streamline the user's ability to process the 
"PKG",200,22,1,"PAH",1,1,23,0)
pharmacy 835 while:
"PKG",200,22,1,"PAH",1,1,24,0)
 
"PKG",200,22,1,"PAH",1,1,25,0)
Complying with HIPAA legislative requirements to meet patient needs and 
"PKG",200,22,1,"PAH",1,1,26,0)
secure Protected Health Information (PHI).
"PKG",200,22,1,"PAH",1,1,27,0)
 
"PKG",200,22,1,"PAH",1,1,28,0)
Conducting payment accounting in accordance with the Office of Management 
"PKG",200,22,1,"PAH",1,1,29,0)
and Budget (OMB) directives.
"PKG",200,22,1,"PAH",1,1,30,0)
 
"PKG",200,22,1,"PAH",1,1,31,0)
Systematically enforcing VHA Fiscal Accounting policy.
"PKG",200,22,1,"PAH",1,1,32,0)
 
"PKG",200,22,1,"PAH",1,1,33,0)
Providing software tools in support of efficient business models to
"PKG",200,22,1,"PAH",1,1,34,0)
maximize the volume of electronic data received from third party 
"PKG",200,22,1,"PAH",1,1,35,0)
payers to increase revenue and save productive dollars.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
11
"RTN","IB20P530")
0^^B4312048
"RTN","IB20P530",1,0)
IB20P530 ;ALB/TJB - IB*2.0*530 FY-14 Updates to FILE 361.1 ;04/02/2015 
"RTN","IB20P530",2,0)
 ;;2.0;INTEGRATED BILLING;**530**;21-MAR-94;Build 71
"RTN","IB20P530",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","IB20P530",4,0)
 Q
"RTN","IB20P530",5,0)
 ;
"RTN","IB20P530",6,0)
POST ; Post-install of patch installation 
"RTN","IB20P530",7,0)
 D MES^XPDUTL("IB*2.0*530 Post-Install starts...")
"RTN","IB20P530",8,0)
 D RIDX
"RTN","IB20P530",9,0)
 D MES^XPDUTL("IB*2.0*530 Post-Install is complete.")
"RTN","IB20P530",10,0)
 Q
"RTN","IB20P530",11,0)
 ;
"RTN","IB20P530",12,0)
RIDX ; Index ^IBM(361.1) for the new index on field .03 (PAYER ID),
"RTN","IB20P530",13,0)
 ; field .06 (EOB PAID DATE) and the fixed "ATRID" index on .03, .04 and .07 fields
"RTN","IB20P530",14,0)
 N DIK
"RTN","IB20P530",15,0)
 ;
"RTN","IB20P530",16,0)
 D MES^XPDUTL("      >> Removing old ""D"", ""E"", ""ATRID"" and ""AD"" xref for file 361.1 ...")
"RTN","IB20P530",17,0)
 K ^IBM(361.1,"D") ; Remove PAYER ID index
"RTN","IB20P530",18,0)
 K ^IBM(361.1,"E") ; Remove EOB PAID DATE index
"RTN","IB20P530",19,0)
 K ^IBM(361.1,"ATRID") ; Remove ATRID compound index
"RTN","IB20P530",20,0)
 K ^IBM(361.1,"AD") ; Remove AD index
"RTN","IB20P530",21,0)
 D MES^XPDUTL("      >> Rebuilding ""D"" xref for file 361.1 ...")
"RTN","IB20P530",22,0)
 ; Now index EOB PAID DATE, PAYER ID, ATRID and AD (.05) index
"RTN","IB20P530",23,0)
 S DIK(1)=".03^D",DIK="^IBM(361.1," D ENALL^DIK
"RTN","IB20P530",24,0)
 D MES^XPDUTL("      >> Completed Rebuilding ""D"" xref for file 361.1 ...")
"RTN","IB20P530",25,0)
 D MES^XPDUTL("      >> Rebuilding ""E"" xref for file 361.1 ...")
"RTN","IB20P530",26,0)
 S DIK(1)=".06^E",DIK="^IBM(361.1," D ENALL^DIK
"RTN","IB20P530",27,0)
 D MES^XPDUTL("      >> Completed Rebuilding ""E"" xref for file 361.1 ...")
"RTN","IB20P530",28,0)
 D MES^XPDUTL("      >> Rebuilding ""ATRID"" xref for file 361.1 ...")
"RTN","IB20P530",29,0)
 S DIK(1)=".03^ATRID",DIK="^IBM(361.1," D ENALL^DIK
"RTN","IB20P530",30,0)
 D MES^XPDUTL("      >> Completed Rebuilding ""ATRID"" xref for file 361.1 ...")
"RTN","IB20P530",31,0)
 S DIK(1)=".05^AD",DIK="^IBM(361.1," D ENALL^DIK
"RTN","IB20P530",32,0)
 D MES^XPDUTL("      >> Completed Rebuilding ""AD"" xref for file 361.1 ...")
"RTN","IB20P530",33,0)
 Q
"RTN","IB20P530",34,0)
 ;
"RTN","IBJDF11")
0^6^B29071797
"RTN","IBJDF11",1,0)
IBJDF11 ;ALB/CPM - THIRD PARTY FOLLOW-UP REPORT (COMPILE) ;09-JAN-97
"RTN","IBJDF11",2,0)
 ;;2.0;INTEGRATED BILLING;**69,80,118,128,204,205,227,451,530**;21-MAR-94;Build 71
"RTN","IBJDF11",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","IBJDF11",4,0)
 ;
"RTN","IBJDF11",5,0)
DQ ; - Tasked entry point.
"RTN","IBJDF11",6,0)
 K ^TMP("IBJDF1",$J) S IBQ=0
"RTN","IBJDF11",7,0)
 ;
"RTN","IBJDF11",8,0)
 ; - Collect divisions when running the job for all divisions.
"RTN","IBJDF11",9,0)
 I IBSD,VAUTD S J=0 F  S J=$O(^DG(40.8,J)) Q:'J  S VAUTD(J)=""
"RTN","IBJDF11",10,0)
 ;
"RTN","IBJDF11",11,0)
 ; - Find data required for the report.
"RTN","IBJDF11",12,0)
 S IBA=0 F  S IBA=$O(^PRCA(430,"AC",16,IBA)) Q:'IBA  D  Q:IBQ
"RTN","IBJDF11",13,0)
 .;
"RTN","IBJDF11",14,0)
 .I IBA#100=0 S IBQ=$$STOP^IBOUTL("Third Party Follow-Up Report") Q:IBQ
"RTN","IBJDF11",15,0)
 .;
"RTN","IBJDF11",16,0)
 .S IBAR=$G(^PRCA(430,IBA,0))
"RTN","IBJDF11",17,0)
 .I $P(IBAR,U,2)'=9 Q  ;       Not an RI bill.
"RTN","IBJDF11",18,0)
 .I '$D(^DGCR(399,IBA,0)) Q  ; No corresponding claim to this AR.
"RTN","IBJDF11",19,0)
 .;
"RTN","IBJDF11",20,0)
 .; - Determine whether bill is inpatient, outpatient, or RX refill.
"RTN","IBJDF11",21,0)
 .S IBTYP=$P($G(^DGCR(399,IBA,0)),U,5),IBTYP=$S(IBTYP>2:2,1:1)
"RTN","IBJDF11",22,0)
 .S:$D(^IBA(362.4,"C",IBA)) IBTYP=3 I IBSEL'[IBTYP,IBSEL'[4 Q
"RTN","IBJDF11",23,0)
 .;
"RTN","IBJDF11",24,0)
 .; - Check the receivable age, if necessary.
"RTN","IBJDF11",25,0)
 .I IBSMN S:"Aa"[IBSDATE IBARD=$$ACT^IBJDF2(IBA) S:"Dd"[IBSDATE IBARD=$$DATE1^IBJDF2(IBA) Q:'IBARD  S:IBARD IBARD=$$FMDIFF^XLFDT(DT,IBARD) I IBARD<IBSMN!(IBARD>IBSMX) Q
"RTN","IBJDF11",26,0)
 .;
"RTN","IBJDF11",27,0)
 .; - Check the minimum dollar amount, if necessary.
"RTN","IBJDF11",28,0)
 .S IBWBA=+$G(^PRCA(430,IBA,7)) I IBSAM,IBWBA<IBSAM Q
"RTN","IBJDF11",29,0)
 .;
"RTN","IBJDF11",30,0)
 .; - Get division, if necessary.
"RTN","IBJDF11",31,0)
 .I 'IBSD S IBDIV=0
"RTN","IBJDF11",32,0)
 .E  S IBDIV=$$DIV^IBJDF2(IBA) I 'IBDIV S IBDIV=+$$PRIM^VASITE()
"RTN","IBJDF11",33,0)
 .I IBSD,'VAUTD Q:'$D(VAUTD(IBDIV))  ;  Not a selected division.
"RTN","IBJDF11",34,0)
 .;
"RTN","IBJDF11",35,0)
 .; - Exclude receivables referred to Regional Counsel, if necessary.
"RTN","IBJDF11",36,0)
 .S IBWRC=$G(^PRCA(430,IBA,6)) I 'IBSRC,$P(IBWRC,U,4) Q
"RTN","IBJDF11",37,0)
 .S IBWRC=$S('$P(IBWRC,U,4):"",$P(IBWRC,U,22):$P(IBWRC,U,22),1:$P(IBWRC,U,4))
"RTN","IBJDF11",38,0)
 .;
"RTN","IBJDF11",39,0)
 .; - Get the insurance carrier and exclude claim, if necessary.
"RTN","IBJDF11",40,0)
 .S IBWIN=$$INS(IBA) I IBWIN="" Q
"RTN","IBJDF11",41,0)
 .;
"RTN","IBJDF11",42,0)
 .; - Get the claim patient and exclude claim, if necessary.
"RTN","IBJDF11",43,0)
 .S IBWPT=$$PAT(IBA) I IBWPT="" Q
"RTN","IBJDF11",44,0)
 .;
"RTN","IBJDF11",45,0)
 .; - Get remaining claim information.
"RTN","IBJDF11",46,0)
 .; IB*2.0*451 - get 1st/3rd party payment EEOB indicator for bill
"RTN","IBJDF11",47,0)
 .S IBPFLAG=$$EEOB^IBOA31(IBA)
"RTN","IBJDF11",48,0)
 .S IBWDP=$P(IBAR,U,10)
"RTN","IBJDF11",49,0)
 .;IB*2.0*530 Add indicator for rejects - External Bill # (.01) value is passed in, not IEN
"RTN","IBJDF11",50,0)
 .S IBWBN=$G(IBPFLAG)_$S(+$$BILLREJ^IBJTU6($P($G(^DGCR(399,IBA,0)),U)):"c",1:"")_$P(IBAR,U) ; flag bill # when applicable
"RTN","IBJDF11",51,0)
 .S IBBU=$G(^DGCR(399,IBA,"U")),IBWFR=+IBBU,IBWTO=$P(IBBU,U,2)
"RTN","IBJDF11",52,0)
 .S IBWSC=$$OTH($P(IBWPT,U,5),$P(IBWIN,"@@",2),IBWFR),IBWOR=$P(IBAR,U,3)
"RTN","IBJDF11",53,0)
 .S IBWSI=$P($G(^DPT(+$P(IBWPT,U,5),.312,+$P($G(^DGCR(399,IBA,"MP")),U,2),0)),U,2)
"RTN","IBJDF11",54,0)
 .;
"RTN","IBJDF11",55,0)
 .; - Set up main report index.
"RTN","IBJDF11",56,0)
 .F X=IBTYP,4 I IBSEL[X D
"RTN","IBJDF11",57,0)
 ..S ^TMP("IBJDF1",$J,IBDIV,X,IBWIN,$P(IBWPT,U)_"@@"_$P(IBWPT,U,5),IBWDP_"@@"_IBWBN)=$P(IBWPT,U,2)_" ("_$P(IBWPT,U,4)_")"_U_$P(IBWPT,U,3)_U_IBWSC_U_IBWFR_U_IBWTO_U_IBWOR_U_IBWBA_"~"_IBWRC_U_IBWSI
"RTN","IBJDF11",58,0)
 .;
"RTN","IBJDF11",59,0)
 .; - Add bill comment history, if necessary.
"RTN","IBJDF11",60,0)
 .I IBSH D
"RTN","IBJDF11",61,0)
 ..S X=0 F  S X=$O(^PRCA(433,"C",IBA,X)) Q:'X  D
"RTN","IBJDF11",62,0)
 ...S Y=$G(^PRCA(433,X,1))
"RTN","IBJDF11",63,0)
 ...I $P(Y,U,2)'=35,$P(Y,U,2)'=45 Q  ; Not a decrease/comment transact.
"RTN","IBJDF11",64,0)
 ...S DAT=$S(Y:+Y\1,1:+$P(Y,U,9)\1)
"RTN","IBJDF11",65,0)
 ...;
"RTN","IBJDF11",66,0)
 ...; - Append brief and transaction comments.
"RTN","IBJDF11",67,0)
 ...K COM,COM1 S COM(0)=DAT,X1=0
"RTN","IBJDF11",68,0)
 ...S COM1(1)=$P($G(^PRCA(433,X,5)),U,2),COM1(2)=$E($P($G(^(8)),U,6),1,70)
"RTN","IBJDF11",69,0)
 ...S COM(1)=COM1(1)_$S(COM1(1)]""&(COM1(2)]""):"|",1:"")_COM1(2)
"RTN","IBJDF11",70,0)
 ...I COM(1)]"" S COM(1)="**"_COM(1)_"**",X1=1
"RTN","IBJDF11",71,0)
 ...;
"RTN","IBJDF11",72,0)
 ...; - Get main comments.
"RTN","IBJDF11",73,0)
 ...S X2=0 F  S X2=$O(^PRCA(433,X,7,X2)) Q:'X2  S COM($S(X1:X2+1,1:X2))=^(X2,0)
"RTN","IBJDF11",74,0)
 ...;
"RTN","IBJDF11",75,0)
 ...S X1="" F  S X1=$O(COM(X1)) Q:X1=""  F X2=IBTYP,4 I IBSEL[X2 D
"RTN","IBJDF11",76,0)
 ....S ^TMP("IBJDF1",$J,IBDIV,X2,IBWIN,$P(IBWPT,U)_"@@"_$P(IBWPT,U,5),IBWDP_"@@"_IBWBN,X,X1)=COM(X1)
"RTN","IBJDF11",77,0)
 ;
"RTN","IBJDF11",78,0)
 I 'IBQ D EN^IBJDF12 ; Print the report.
"RTN","IBJDF11",79,0)
 ;
"RTN","IBJDF11",80,0)
ENQ K ^TMP("IBJDF1",$J)
"RTN","IBJDF11",81,0)
 I $D(ZTQUEUED) S ZTREQ="@" G ENQ1
"RTN","IBJDF11",82,0)
 ;
"RTN","IBJDF11",83,0)
 D ^%ZISC
"RTN","IBJDF11",84,0)
ENQ1 K IBA,IBAR,IBARD,IBBU,IBDIV,IBQ,IBIO,IBWRC,IBWPT,IBWDP,IBWIN,IBWBN
"RTN","IBJDF11",85,0)
 K IBTYP,IBWSC,IBWSI,IBWFR,IBWTO,IBWOR,IBWBA,COM,COM1,DAT,VAUTD
"RTN","IBJDF11",86,0)
 K X,X1,X2,Y,Z
"RTN","IBJDF11",87,0)
 Q
"RTN","IBJDF11",88,0)
 ;
"RTN","IBJDF11",89,0)
INS(X) ; - Find the Insurance company and decide to include the claim.
"RTN","IBJDF11",90,0)
 ;  Input: X=Pointer to the claim/AR in file #399/#430
"RTN","IBJDF11",91,0)
 ;           plus all variable input in IBS*
"RTN","IBJDF11",92,0)
 ; Output: Y=Insurance Company name and pointer to file #36
"RTN","IBJDF11",93,0)
 ;
"RTN","IBJDF11",94,0)
 N Y,Z,Z1 S Y=""
"RTN","IBJDF11",95,0)
 I '$G(X) G INSQ
"RTN","IBJDF11",96,0)
 S Z=+$G(^DGCR(399,X,"MP")),Z1=$P($G(^DIC(36,Z,0)),U)
"RTN","IBJDF11",97,0)
 I $G(IBSI) G INSQ:'$D(IBSI(Z)),INSC
"RTN","IBJDF11",98,0)
 I IBSIF'="@",'Z G INSQ
"RTN","IBJDF11",99,0)
 I $D(IBSIA) G:IBSIA="ALL"&('Z) INSQ G:IBSIA="NULL"&(Z) INSQ
"RTN","IBJDF11",100,0)
 I Z1="" S Z1="UNKNOWN" G INSC
"RTN","IBJDF11",101,0)
 I $G(IBSIA)="ALL" G INSC
"RTN","IBJDF11",102,0)
 I IBSIF="@",IBSIL="zzzzz" G INSC
"RTN","IBJDF11",103,0)
 I IBSIF]Z1!(Z1]IBSIL) G INSQ
"RTN","IBJDF11",104,0)
 ;
"RTN","IBJDF11",105,0)
INSC S Y=Z1_"@@"_Z
"RTN","IBJDF11",106,0)
INSQ Q Y
"RTN","IBJDF11",107,0)
 ;
"RTN","IBJDF11",108,0)
PAT(X) ; - Find the claim patient and decide to include the claim.
"RTN","IBJDF11",109,0)
 ;  Input: X=Pointer to the claim/AR in file #399/#430
"RTN","IBJDF11",110,0)
 ;           plus all variable input in IBS*
"RTN","IBJDF11",111,0)
 ; Output: Y=1^2^3^4^5, where
"RTN","IBJDF11",112,0)
 ;           1 => sort key (name or last four)
"RTN","IBJDF11",113,0)
 ;           2 => patient name
"RTN","IBJDF11",114,0)
 ;           3 => patient ssn
"RTN","IBJDF11",115,0)
 ;           4 => patient age
"RTN","IBJDF11",116,0)
 ;           5 => patient pointer to file #2
"RTN","IBJDF11",117,0)
 ;
"RTN","IBJDF11",118,0)
 N AGE,DFN,DOB,KEY,Y,Z S Y=""
"RTN","IBJDF11",119,0)
 I '$G(X) G PATQ
"RTN","IBJDF11",120,0)
 S DFN=+$P($G(^DGCR(399,X,0)),U,2),Z=$G(^DPT(DFN,0))
"RTN","IBJDF11",121,0)
 S KEY=$S(IBSN="N":$P(Z,U),1:$E($P(Z,U,9),6,9))
"RTN","IBJDF11",122,0)
 ;
"RTN","IBJDF11",123,0)
 I IBSNF'="@",'DFN G PATQ
"RTN","IBJDF11",124,0)
 I $D(IBSNA) G:IBSNA="ALL"&('DFN) PATQ G:IBSNA="NULL"&(DFN) PATQ
"RTN","IBJDF11",125,0)
 I KEY="" S Y="UNK^UNK^UNK^UNK^UNK" G PATQ
"RTN","IBJDF11",126,0)
 I $G(IBSNA)="ALL" G PATC
"RTN","IBJDF11",127,0)
 I IBSNF="@",IBSNL="zzzzz" G PATC
"RTN","IBJDF11",128,0)
 I IBSNF]KEY!(KEY]IBSNL) G PATQ
"RTN","IBJDF11",129,0)
 ;
"RTN","IBJDF11",130,0)
PATC ; - Find all patient data.
"RTN","IBJDF11",131,0)
 S DOB=$P(Z,U,3)
"RTN","IBJDF11",132,0)
 S AGE=$S('DOB:"UNK",1:$E(DT,1,3)-$E(DOB,1,3)-($E(DT,4,7)<$E(DOB,4,7)))
"RTN","IBJDF11",133,0)
 S Y=KEY_U_$E($P(Z,U),1,17)_U_$P(Z,U,9)_U_AGE_U_DFN
"RTN","IBJDF11",134,0)
PATQ Q Y
"RTN","IBJDF11",135,0)
 ;
"RTN","IBJDF11",136,0)
OTH(DFN,INS,DS) ; - Find a patient's other valid insurance carrier (if any).
"RTN","IBJDF11",137,0)
 ;  Input: DFN=Pointer to the patient in file #2
"RTN","IBJDF11",138,0)
 ;         INS=Pointer to the patient's primary carrier in file #36
"RTN","IBJDF11",139,0)
 ;          DS=Date of service for validity check
"RTN","IBJDF11",140,0)
 ; Output: Valid insurance carrier (1st 13 chars.) or null
"RTN","IBJDF11",141,0)
 ;
"RTN","IBJDF11",142,0)
 N Y S Y="" I '$G(DFN)!('$G(DS)) G OTHQ
"RTN","IBJDF11",143,0)
 S Z=0 F  S Z=$O(^DPT(DFN,.312,Z)) Q:'Z  S X=$G(^(Z,0)) D:X  Q:Y]""
"RTN","IBJDF11",144,0)
 .I $G(INS),+X=INS Q
"RTN","IBJDF11",145,0)
 .S X1=$G(^DIC(36,+X,0)) I X1="" Q
"RTN","IBJDF11",146,0)
 .I $P(X1,U,2)'="N",$$CHK^IBCNS1(X,DS) S Y=$E($P(X1,U),1,13)
"RTN","IBJDF11",147,0)
 ;
"RTN","IBJDF11",148,0)
OTHQ Q Y
"RTN","IBJTAD")
0^2^B39399972
"RTN","IBJTAD",1,0)
IBJTAD ;ALB/TJB - TP ERA/835 ADDITIONAL INFORMATION SCREEN ;01-MAY-2015
"RTN","IBJTAD",2,0)
 ;;2.0;INTEGRATED BILLING;**530**;21-MAR-94;Build 71
"RTN","IBJTAD",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","IBJTAD",4,0)
 ;; ;
"RTN","IBJTAD",5,0)
EN ; -- main entry point for IBJT ADDITIONAL 835 DATA
"RTN","IBJTAD",6,0)
 D EN^VALM("IBJT ADDITIONAL 835 DATA")
"RTN","IBJTAD",7,0)
 Q
"RTN","IBJTAD",8,0)
 ;
"RTN","IBJTAD",9,0)
HDR ; -- header code
"RTN","IBJTAD",10,0)
 S VALMHDR(1)="******* ADDITIONAL INFORMATION FOUND IN THE 835 at the EOB level"
"RTN","IBJTAD",11,0)
 Q
"RTN","IBJTAD",12,0)
 ;
"RTN","IBJTAD",13,0)
INIT ; -- init variables and list array
"RTN","IBJTAD",14,0)
 I '$G(IBIFN) S VALMQUIT="" G INITQ
"RTN","IBJTAD",15,0)
 N ADERA,ADLN,ADRNM,ADRNPI,ADRTQ,IBRP,DIR,DIRUT,DIROUT,DTOUT,DUOUT,DZX,EPIEN,I,IBIFN,X,Y,IBARR,IBAR2,IBAR3,IBFN,IBMN,IBLN,IBPAYNM,IBPPAYTE,IBPPAYFX,IBPPAYEM
"RTN","IBJTAD",16,0)
 ; EPBILL and ERALST come in from IBJTEP, that routine will clean up these variables.
"RTN","IBJTAD",17,0)
IN1 ;
"RTN","IBJTAD",18,0)
 S IBRP(U)=", "
"RTN","IBJTAD",19,0)
 I $L(ERALST,U)=1 S ADERA=ERALST G IN2
"RTN","IBJTAD",20,0)
 S DIR("A")="Enter ERA for Receipt Review: ",DIR(0)="FA^1:10"
"RTN","IBJTAD",21,0)
 S DIR("A",1)="Enter an ERA# from the following list for additional information."
"RTN","IBJTAD",22,0)
 S DIR("A",2)="Available ERAs: "_$$REPLACE^XLFSTR(ERALST,.IBRP)
"RTN","IBJTAD",23,0)
 D ^DIR K DIR
"RTN","IBJTAD",24,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") S VALMQUIT=1 G EXIT
"RTN","IBJTAD",25,0)
 S ADERA=Y I (U_ERALST_U)'[(U_Y_U) W !!,"ERA: "_Y_" not a valid selection. Please try again...",! S X="",ADERA="" G IN1
"RTN","IBJTAD",26,0)
IN2 ;
"RTN","IBJTAD",27,0)
 ; Get IEN pointing back to 361.1 & Rendering/Servicing Provider information
"RTN","IBJTAD",28,0)
 K IBARR,IBAR2,IBAR3
"RTN","IBJTAD",29,0)
 ; EPBILL is created/Killed in IBJTEP
"RTN","IBJTAD",30,0)
 D FIND^DIC(344.41,","_ADERA_",",".02I;.19;.2;.21;.23","",EPBILL,,"AC",,,"IBAR2","ER")
"RTN","IBJTAD",31,0)
 D GETS^DIQ(344.4,ADERA_",",".06;3.01;3.02;3.03;3.04;3.05;3.06;3.07;5.01;","IE","IBAR3","ER") ; Get web address
"RTN","IBJTAD",32,0)
 ; Check to see if we may have an EEOB if not report no ERA Information for this K-Bill
"RTN","IBJTAD",33,0)
 S EPIEN=$G(IBAR2("DILIST","ID",1,".02")) I EPIEN="" S VALMCNT=2 D SET^VALM10(1," "),SET^VALM10(2,"No ERA Information for Bill: "_EPBILL) G INITQ
"RTN","IBJTAD",34,0)
 S ADLN=0 S EPIEN=EPIEN_","
"RTN","IBJTAD",35,0)
 ; Get additional ERA information from this entry in 361.1
"RTN","IBJTAD",36,0)
 D GETS^DIQ(361.1,EPIEN,".21;1.21;61.01;1.07;1.17;1.12;1.13;1.14;1.15;1.16;25.01;25.02;25.03;25.04;25.05;25.06;25.07;.08;.09","IE","IBARR")
"RTN","IBJTAD",37,0)
 ; Set Rendering/Servicing provider information
"RTN","IBJTAD",38,0)
 S ADRNM=$G(IBAR2("DILIST","ID",1,.21)),ADRNPI=$G(IBAR2("DILIST","ID",1,.19)),ADRTQ=$G(IBAR2("DILIST","ID",1,.2))
"RTN","IBJTAD",39,0)
 ; Set Corrected Patient Name and ID
"RTN","IBJTAD",40,0)
 S IBFN=$P(IBARR("361.1",EPIEN,61.01,"E"),U,4),IBMN=$P(IBARR("361.1",EPIEN,61.01,"E"),U,5),IBLN=$P(IBARR("361.1",EPIEN,61.01,"E"),U,3)
"RTN","IBJTAD",41,0)
 ; Determine Payer's Phone, FAX and e-mail information
"RTN","IBJTAD",42,0)
 F I=25.03,25.05,25.07 D
"RTN","IBJTAD",43,0)
 . ; If "Extension" then add this to the previous (I-.03) field
"RTN","IBJTAD",44,0)
 . I $G(IBARR("361.1",EPIEN,I,"I"))="EX" S:I'=25.03 DZX(IBARR("361.1",EPIEN,I-.03,"I"))=DZX(IBARR("361.1",EPIEN,I-.03,"I"))_" x"_IBARR("361.1",EPIEN,I-.03,"E") Q
"RTN","IBJTAD",45,0)
 . I $G(IBARR("361.1",EPIEN,I,"I"))'="" S DZX(IBARR("361.1",EPIEN,I,"I"))=$G(IBARR("361.1",EPIEN,(I-.01),"E"))
"RTN","IBJTAD",46,0)
 ; If the contact information is not present, set to ""
"RTN","IBJTAD",47,0)
 I $D(DZX)=0 S DZX("TE")="",DZX("EM")="",DZX("FX")=""
"RTN","IBJTAD",48,0)
 S IBPAYNM=$S(IBARR("361.1",EPIEN,25.01,"E")'="":IBARR("361.1",EPIEN,25.01,"E"),1:$G(IBAR3("344.4",ADERA_",",3.01,"E")))
"RTN","IBJTAD",49,0)
 ;
"RTN","IBJTAD",50,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Claim Code/Status: "_IBARR("361.1",EPIEN,.21,"E")_"/"_$$CCS(IBARR("361.1",EPIEN,.21,"E")))
"RTN","IBJTAD",51,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Coverage Expiration Date: "_IBARR("361.1",EPIEN,1.13,"E")_"  Claim Received Date: "_IBARR("361.1",EPIEN,1.12,"E"))
"RTN","IBJTAD",52,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"  ")
"RTN","IBJTAD",53,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Interest Amount: "_IBARR("361.1",EPIEN,1.07,"E"))
"RTN","IBJTAD",54,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"  ")
"RTN","IBJTAD",55,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Corrected Patient Name: "_IBFN_" "_$S(IBMN'="":IBMN_" ",1:"")_IBLN)
"RTN","IBJTAD",56,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Corrected Patient ID: "_$P(IBARR("361.1",EPIEN,61.01,"E"),U,6))
"RTN","IBJTAD",57,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"  ")
"RTN","IBJTAD",58,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Other Subscriber Name: "_IBARR("361.1",EPIEN,1.17,"E"))
"RTN","IBJTAD",59,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"  ")
"RTN","IBJTAD",60,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Rendering/Servicing Provider Name: "_ADRNM)
"RTN","IBJTAD",61,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Rendering/Servicing Provider NPI: "_ADRNPI)
"RTN","IBJTAD",62,0)
 I $G(IBAR2("DILIST","ID",1,.23))]"" S ADLN=ADLN+1 D SET^VALM10(ADLN,"  NPI Comment: "_IBAR2("DILIST","ID",1,.23))
"RTN","IBJTAD",63,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Type Qualifier: "_ADRTQ)
"RTN","IBJTAD",64,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"  ")
"RTN","IBJTAD",65,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Claim Contact Name: "_IBARR("361.1",EPIEN,25.01,"E"))
"RTN","IBJTAD",66,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Claim Contact Phone: "_$G(DZX("TE")))
"RTN","IBJTAD",67,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Claim Contact FAX: "_$G(DZX("FX")))
"RTN","IBJTAD",68,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Claim Contact e-mail: "_$G(DZX("EM")))
"RTN","IBJTAD",69,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"  ")
"RTN","IBJTAD",70,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"*** ADDITIONAL INFORMATION FOUND IN THE 835 at the ERA level: ")
"RTN","IBJTAD",71,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"  ")
"RTN","IBJTAD",72,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Payer Name/Payment From: "_IBAR3("344.4",ADERA_",",.06,"E"))
"RTN","IBJTAD",73,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Payer Contact Name: "_IBAR3("344.4",ADERA_",",3.01,"E"))
"RTN","IBJTAD",74,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Payer Contact Phone: "_IBAR3("344.4",ADERA_",",3.02,"E"))
"RTN","IBJTAD",75,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Payer Contact FAX: "_IBAR3("344.4",ADERA_",",3.04,"E"))
"RTN","IBJTAD",76,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Payer Contact e-mail: "_IBAR3("344.4",ADERA_",",3.06,"E"))
"RTN","IBJTAD",77,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Payer Website Address: "_IBAR3("344.4",ADERA_",",5.01,"E"))
"RTN","IBJTAD",78,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"  ")
"RTN","IBJTAD",79,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"*** Corrected Priority Payer Name (Last Name or Organization Name): ")
"RTN","IBJTAD",80,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,IBARR("361.1",EPIEN,1.14,"E"))
"RTN","IBJTAD",81,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Type: "_IBARR("361.1",EPIEN,1.15,"I")_"/"_IBARR("361.1",EPIEN,1.15,"E"))
"RTN","IBJTAD",82,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"ID: "_IBARR("361.1",EPIEN,1.16,"E"))
"RTN","IBJTAD",83,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"  ")
"RTN","IBJTAD",84,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"*** Crossover Carrier Name (Last Name or Organization Name): ")
"RTN","IBJTAD",85,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,IBARR("361.1",EPIEN,.08,"E"))
"RTN","IBJTAD",86,0)
 S ADLN=ADLN+1 D SET^VALM10(ADLN,"Crossover ID: "_IBARR("361.1",EPIEN,.09,"E"))
"RTN","IBJTAD",87,0)
 S VALMCNT=ADLN
"RTN","IBJTAD",88,0)
 ;
"RTN","IBJTAD",89,0)
INITQ Q
"RTN","IBJTAD",90,0)
 ;
"RTN","IBJTAD",91,0)
HELP ; -- help code
"RTN","IBJTAD",92,0)
 S X="?" D DISP^XQORM1 W !!
"RTN","IBJTAD",93,0)
 Q
"RTN","IBJTAD",94,0)
 ;
"RTN","IBJTAD",95,0)
EXIT ; -- exit code
"RTN","IBJTAD",96,0)
 Q
"RTN","IBJTAD",97,0)
 ;
"RTN","IBJTAD",98,0)
EXPND ; -- expand code
"RTN","IBJTAD",99,0)
 Q
"RTN","IBJTAD",100,0)
 ;
"RTN","IBJTAD",101,0)
CCS(DATA) ; Build code array
"RTN","IBJTAD",102,0)
 N XCD
"RTN","IBJTAD",103,0)
 Q:$G(DATA)="" ""  ; If DATA is null, then nothing to output return empty string
"RTN","IBJTAD",104,0)
 ;
"RTN","IBJTAD",105,0)
 S XCD(1)="Processed as Primary"
"RTN","IBJTAD",106,0)
 S XCD(2)="Processed as Secondary"
"RTN","IBJTAD",107,0)
 S XCD(3)="Processed as Tertiary"
"RTN","IBJTAD",108,0)
 S XCD(4)="Denied"
"RTN","IBJTAD",109,0)
 S XCD(19)="Processed as Primary, Forwarded to Additional Payer(s)"
"RTN","IBJTAD",110,0)
 S XCD(20)="Processed as Secondary, Forwarded to Additional Payer(s)"
"RTN","IBJTAD",111,0)
 S XCD(21)="Processed as Tertiary, Forwarded to Additional Payer(s)"
"RTN","IBJTAD",112,0)
 S XCD(22)="Reversal of Previous Payment"
"RTN","IBJTAD",113,0)
 S XCD(23)="Not Our Claim, Forwarded to Additional Payer(s)"
"RTN","IBJTAD",114,0)
 S XCD(25)="Predetermination Pricing Only - No Payment"
"RTN","IBJTAD",115,0)
 Q:$G(XCD(DATA))'="" $G(XCD(DATA))
"RTN","IBJTAD",116,0)
 ;
"RTN","IBJTAD",117,0)
 Q "No Status Code Description"
"RTN","IBJTEP")
0^1^B140265417
"RTN","IBJTEP",1,0)
IBJTEP ;ALB/TJB - TP ERA/835 INFORMATION SCREEN ;01-MAY-2015
"RTN","IBJTEP",2,0)
 ;;2.0;INTEGRATED BILLING;**530**;21-MAR-94;Build 71
"RTN","IBJTEP",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","IBJTEP",4,0)
 ;; ;
"RTN","IBJTEP",5,0)
EN ; -- main entry point for IBJT ERA 835 INFORMATION
"RTN","IBJTEP",6,0)
 D EN^VALM("IBJT ERA 835 INFORMATION")
"RTN","IBJTEP",7,0)
 Q
"RTN","IBJTEP",8,0)
 ;
"RTN","IBJTEP",9,0)
HDR ; -- header code
"RTN","IBJTEP",10,0)
 N IBRP,IBREJ S IBRP(U)=", "
"RTN","IBJTEP",11,0)
 ; Add the EEOB, Reject and ECME indicators to the Bill
"RTN","IBJTEP",12,0)
 S IBREJ=$S($$BILLREJ^IBJTU6(EPBILL):"c",1:"")
"RTN","IBJTEP",13,0)
 S VALMHDR(1)=$$EEOB^IBJTLA1(IBIFN)_IBREJ_EPBILL_$$ECME^IBTRE(IBIFN)_"  "_$E(EPNM,1,20)_"  "_EPSS_" DOB: "_EPDOB_"  Subsc ID: "_EPSID
"RTN","IBJTEP",14,0)
 S VALMHDR(2)="Svc Date: "_EPDOS_"  Orig Amt: "_EPAMT_"  ERA#: "_$$REPLACE^XLFSTR(ERALST,.IBRP)
"RTN","IBJTEP",15,0)
 Q
"RTN","IBJTEP",16,0)
 ;
"RTN","IBJTEP",17,0)
INIT ; -- init variables and list array
"RTN","IBJTEP",18,0)
 N EPIEN,EPTN,ERAIEN,EPARR,EPPCT,EOBCT,EOBMX,IBI,IBSHEOB,IBSPEOB,FL,LINE,II,QQ,RCBAMT,RCRC,RCOIN,RCDED,RCERR,RCFLD,RMIEN,RCRDC,RCRLN,RCXY,RCMD,IBEBERA,IBRX,AQ,Z
"RTN","IBJTEP",19,0)
 S EOBMX=0
"RTN","IBJTEP",20,0)
 S ERALST="",$P(SP80," ",80)=" "
"RTN","IBJTEP",21,0)
 ; IBIFN comes in from the TPJI screen and will be cleaned up there
"RTN","IBJTEP",22,0)
 I '$G(IBIFN) S VALMQUIT="" G INITQ
"RTN","IBJTEP",23,0)
 K EPARR D BILL^IBRFN3(IBIFN,.EPARR) ; Get Bill information
"RTN","IBJTEP",24,0)
 S EPBILL=EPARR("BN") ; K-Bill
"RTN","IBJTEP",25,0)
 S EPPAT=$$GET1^DIQ(399,IBIFN_",",.02,"I") ; Get Patient IEN 
"RTN","IBJTEP",26,0)
 S EPNM=$$GET1^DIQ(399,IBIFN_",",.02) ; Get Patient Name
"RTN","IBJTEP",27,0)
 ; Get Total Charges and justify the amount
"RTN","IBJTEP",28,0)
 S EPAMT=$J(EPARR("TCG"),$L(EPARR("TCG")),2)
"RTN","IBJTEP",29,0)
 S EPSS=$E(EPNM)_$$GET1^DIQ(2,EPPAT_",",.364) ; Get Short SSN
"RTN","IBJTEP",30,0)
 S EPDOB=$$GET1^DIQ(2,EPPAT_",",.03) ; Get DOB
"RTN","IBJTEP",31,0)
 S EPSID=$P(EPARR("PIN"),U,6) ; Get Subscriber ID
"RTN","IBJTEP",32,0)
 S EPDOS=$$FMTE^XLFDT(EPARR("STF"),"5DZ") ; Get Date of Service
"RTN","IBJTEP",33,0)
 S:EPARR("STF")'=EPARR("STT") EPDOS=EPDOS_" - "_$$FMTE^XLFDT(EPARR("STT"),"5DZ") ; If Bill for date range
"RTN","IBJTEP",34,0)
 ; Check to see if we may have an EEOB if not report no ERA Information for this K-Bill
"RTN","IBJTEP",35,0)
 S EPIEN=$O(^IBM(361.1,"B",$G(IBIFN),"")) I EPIEN="" S VALMCNT=2 D SET^VALM10(1," "),SET^VALM10(2,"No ERA Information for Bill: "_EPBILL) G INITQ
"RTN","IBJTEP",36,0)
 ; Collect all possible EOBs associated with this Claim
"RTN","IBJTEP",37,0)
 S IBSHEOB=0,IBI=0 F  S IBI=$O(^IBM(361.1,"B",IBIFN,IBI)) Q:'IBI  S IBSHEOB=IBSHEOB+1,IBSHEOB(IBI)=0
"RTN","IBJTEP",38,0)
 ; Loop on the IEN for the EEOBs - exclude MRAs, but include all insurances 
"RTN","IBJTEP",39,0)
 S EPIEN="",LINE=0,EOBCT=0 F  S EPIEN=$O(IBSHEOB(EPIEN)) Q:EPIEN=""  D
"RTN","IBJTEP",40,0)
 . Q:$P($G(^IBM(361.1,EPIEN,0)),U,4)=1  ; Get next because this is an MRA
"RTN","IBJTEP",41,0)
 . S EPTN=$$GET1^DIQ(361.1,EPIEN_",",.07),ERAIEN=$O(^RCY(344.4,"D",EPTN,""))
"RTN","IBJTEP",42,0)
 . Q:U_ERALST_U[(U_ERAIEN_U)  ; Quit if we have already reported this ERA #
"RTN","IBJTEP",43,0)
 . S ERAIEN=ERAIEN_"," K IBEPAR,IBPLB
"RTN","IBJTEP",44,0)
 . D GETS^DIQ(344.4,ERAIEN,".01;.02;.03;.04;.05;.06;.07;.08;.09;.1;.11;.12;.13;.14;.15;4.02;","E","IBEPAR")
"RTN","IBJTEP",45,0)
 . D GETS^DIQ(344.4,ERAIEN,"2*;","E","IBPLB") ; ERA Level Adjustments
"RTN","IBJTEP",46,0)
 . Q:$D(IBEPAR)'>0  ; No IBEPAR - no data done with this record.
"RTN","IBJTEP",47,0)
 . S ERALST=$$PUSH(ERALST,ERAIEN) S XLN="ERA#: "_$G(IBEPAR("344.4",ERAIEN,".01","E")),XSP=$E(SP80,1,(22-$L(XLN)))
"RTN","IBJTEP",48,0)
 . S EPPCT=$S($G(EPARR("TCG"))>0:($G(IBEPAR("344.4",ERAIEN,".05","E"))/EPARR("TCG"))*100,1:0)
"RTN","IBJTEP",49,0)
 . D SET(.LINE,"** ERA SUMMARY DATA ** ")
"RTN","IBJTEP",50,0)
 . D SET(.LINE,XLN_XSP_"TRACE#: "_$G(IBEPAR("344.4",ERAIEN,".02","E")))
"RTN","IBJTEP",51,0)
 . ; Holding onto the line below because the change of calculation 
"RTN","IBJTEP",52,0)
 . ; S XLN="ERA DATE (PAYER): "_$G(IBEPAR("344.4",ERAIEN,".04","E"))_"     TOTAL AMT PD: "_$J($G(IBEPAR("344.4",ERAIEN,".05","E")),9)_"   % COLLECTED: "_$J(EPPCT,6,2)
"RTN","IBJTEP",53,0)
 . S XLN="ERA DATE (PAYER): "_$G(IBEPAR("344.4",ERAIEN,".04","E"))_"                 TOTAL AMT PD: "_$J($G(IBEPAR("344.4",ERAIEN,".05","E")),9)
"RTN","IBJTEP",54,0)
 . D SET(.LINE,XLN)
"RTN","IBJTEP",55,0)
 . D SET(.LINE,"PAYER NAME/TIN: "_$G(IBEPAR("344.4",ERAIEN,".06","E"))_"/"_$G(IBEPAR("344.4",ERAIEN,".03","E")))
"RTN","IBJTEP",56,0)
 . D SET(.LINE,"FILE DATE/TIME: "_$G(IBEPAR("344.4",ERAIEN,".07","E")))
"RTN","IBJTEP",57,0)
 . D SET(.LINE,"EFT MATCH STATUS: "_$G(IBEPAR("344.4",ERAIEN,".09","E")))
"RTN","IBJTEP",58,0)
 . S XLN="ERA TYPE: "_$G(IBEPAR("344.4",ERAIEN,".1","E")),XSP=$E(SP80,1,(40-$L(XLN)))
"RTN","IBJTEP",59,0)
 . D SET(.LINE,XLN_XSP_"INDIVIDUAL EOB COUNT: "_$G(IBEPAR("344.4",ERAIEN,".11","E")))
"RTN","IBJTEP",60,0)
 . S XLN="MAIL MESSAGE: "_$G(IBEPAR("344.4",ERAIEN,".12","E")),XSP=$E(SP80,1,(40-$L(XLN)))
"RTN","IBJTEP",61,0)
 . D SET(.LINE,XLN_XSP_"CHECK#: "_$G(IBEPAR("344.4",ERAIEN,".13","E")))
"RTN","IBJTEP",62,0)
 . S XLN="DETAIL POST STATUS: "_$G(IBEPAR("344.4",ERAIEN,".14","E")),XSP=$E(SP80,1,(40-$L(XLN)))
"RTN","IBJTEP",63,0)
 . D SET(.LINE,XLN_XSP_"EXPECTED PAYMENT METHOD CODE: "_$G(IBEPAR("344.4",ERAIEN,".15","E")))
"RTN","IBJTEP",64,0)
 . D SET(.LINE," ")
"RTN","IBJTEP",65,0)
 . D SET(.LINE,"********** ERA LEVEL ADJUSTMENTS **********")
"RTN","IBJTEP",66,0)
 . I $D(IBPLB)=0 D SET(.LINE,"  -- NONE --")
"RTN","IBJTEP",67,0)
 . D:$D(IBPLB)'=0  ; If we have PLB Data report it
"RTN","IBJTEP",68,0)
 .. S FL="",RCF=0 F  S FL=$O(IBPLB(344.42,FL)) Q:FL=""  D
"RTN","IBJTEP",69,0)
 ... I RCF'=0 D SET(.LINE," ")
"RTN","IBJTEP",70,0)
 ... S RCF=RCF+1
"RTN","IBJTEP",71,0)
 ... S XLN="   ADJUSTMENT REASON CODE: "_IBPLB(344.42,FL,.02,"E"),XSP=$E(SP80,1,(45-$L(XLN)))
"RTN","IBJTEP",72,0)
 ... I $G(IBPLB(344.42,FL,.02,"E"))'="" S ACT=$$FIND1^DIC(345.1,,"B",IBPLB(344.42,FL,.02,"E")),ACT=$$GET1^DIQ(345.1,ACT,.05)
"RTN","IBJTEP",73,0)
 ... D SET(.LINE,XLN_XSP_"ADJUSTMENT AMOUNT: "_$J(IBPLB(344.42,FL,.03,"E"),9))
"RTN","IBJTEP",74,0)
 ... D SET(.LINE,"   ADJUSTMENT CODE TEXT: "_ACT)
"RTN","IBJTEP",75,0)
 ... D SET(.LINE,"   REFERENCE: "_IBPLB(344.42,FL,.01,"E"))
"RTN","IBJTEP",76,0)
 . D SET(.LINE," ")
"RTN","IBJTEP",77,0)
 . K IBEBERA S ZZEPIEN=EPIEN D EEOB^IBJTEP1("IBEBERA",ERAIEN,EPBILL,1)
"RTN","IBJTEP",78,0)
 . F EOBCT=1:1:IBEBERA D
"RTN","IBJTEP",79,0)
 .. K IBEOB,IBGX,IBCL,IBDGCR,IBRX,IBSPL,IBEERR S EPIEN=$O(IBEBERA(EOBCT,""))
"RTN","IBJTEP",80,0)
 .. D GETS^DIQ(361.1,EPIEN_",",".01;.02;.03;.04;.06;.14;1.01;1.02;1.03;1.1;1.11;2.03;2.04;3.03;3.04;3.05;3.06;3.07;","EI","IBEOB")
"RTN","IBJTEP",81,0)
 .. D GETS^DIQ(361.1,EPIEN_",","10*;","EI","IBGX"),RESORT^IBJTEP1("IBGX",361.111),RESORT^IBJTEP1("IBGX",361.11) ; Claim Level Adjustments
"RTN","IBJTEP",82,0)
 .. D GETS^DIQ(361.1,EPIEN_",","15*;","EI","IBCL") ; Line Level Adjustments
"RTN","IBJTEP",83,0)
 .. D GETS^DIQ(361.1,EPIEN_",","8*;","EI","IBSPL") ; ERA Splits for this EEOB
"RTN","IBJTEP",84,0)
 .. D GETS^DIQ(361.1,EPIEN_",","20;","","IBEERR") ; EOB Errors if they exist
"RTN","IBJTEP",85,0)
 .. ; Make it easier to walk the data
"RTN","IBJTEP",86,0)
 .. D RESORT^IBJTEP1("IBCL",361.11511),RESORT^IBJTEP1("IBCL",361.115),RESORT^IBJTEP1("IBCL",361.1151)
"RTN","IBJTEP",87,0)
 .. D RESORT^IBJTEP1("IBCL",361.1152),RESORT^IBJTEP1("IBCL",361.1154)
"RTN","IBJTEP",88,0)
 .. D GETS^DIQ(399,IBEOB(361.1,EPIEN_",",.01,"I")_",","460;","EI","IBDGCR")
"RTN","IBJTEP",89,0)
 .. D SET(.LINE,"********** EOB/835 INFORMATION ("_EOBCT_" of "_IBEBERA_") **********")
"RTN","IBJTEP",90,0)
 .. S XLN="  EOB Type: "_$G(IBEOB("361.1",EPIEN_",",".04","E")),XSP=$E(SP80,1,(40-$L(XLN)))
"RTN","IBJTEP",91,0)
 .. D SET(.LINE,XLN_XSP_"EOB Paid Date: "_$G(IBEOB("361.1",EPIEN_",",".06","E")))
"RTN","IBJTEP",92,0)
 .. S TSDT=$$FMTE^XLFDT($G(IBEOB("361.1",EPIEN_",","1.1","I")),"2Z"),TEDT=$$FMTE^XLFDT($G(IBEOB("361.1",EPIEN_",","1.11","I")),"2Z"),XLN="  Svc From Date: "_TSDT,XSP=$E(SP80,1,(40-$L(XLN)))
"RTN","IBJTEP",93,0)
 .. D SET(.LINE,XLN_XSP_"Svc to Date: "_TEDT)
"RTN","IBJTEP",94,0)
 .. D SET(.LINE,"         ICN: "_$G(IBEOB("361.1",EPIEN_",",".14","E")))
"RTN","IBJTEP",95,0)
 .. D SET(.LINE,"  Payer Name/TIN: "_$G(IBEOB("361.1",EPIEN_",",".02","E"))_"/"_$G(IBEOB("361.1",EPIEN_",",".03","E")))
"RTN","IBJTEP",96,0)
 .. S XLN="     ERA #: "_$G(IBEPAR("344.4",ERAIEN,".01","E")),XSP=$E(SP80,1,(40-$L(XLN)))
"RTN","IBJTEP",97,0)
 .. D SET(.LINE,XLN_XSP_"Auto-Post Status: "_$G(IBEPAR("344.4",ERAIEN,"4.02","E")))
"RTN","IBJTEP",98,0)
 .. D SET(.LINE,"   Trace #: "_$G(IBEPAR("344.4",ERAIEN,".02","E")))
"RTN","IBJTEP",99,0)
 .. S TECME=$P($G(IBDGCR(399,IBEOB(361.1,EPIEN_",",.01,"I")_",",460,"E")),";",1)
"RTN","IBJTEP",100,0)
 .. D GETRX^IBJTEP1(EPIEN,.IBRX)
"RTN","IBJTEP",101,0)
 .. S TRX=$$GET1^DIQ(52,+TECME_",",".01")_"/"_$G(IBRX("FILL"))_"/"_$G(IBRX("RELEASED STATUS"))
"RTN","IBJTEP",102,0)
 .. I TECME="" S TRX=""
"RTN","IBJTEP",103,0)
 .. S XLN=" ECME #: "_TECME,XSP=$E(SP80,1,(25-$L(XLN))),XSP1=$E(SP80,1,(39-$L(XLN_XSP_"DOS: "_$G(IBRX("DOS")))))
"RTN","IBJTEP",104,0)
 .. D SET(.LINE,XLN_XSP_"DOS: "_$G(IBRX("DOS"))_XSP1_"Rx/Fill/Release Status: "_TRX)
"RTN","IBJTEP",105,0)
 .. D SET(.LINE,"--------------------------------------------------------------------------------")
"RTN","IBJTEP",106,0)
 .. D:$D(IBSPL)>1  ; This EEOB was split display split payment information
"RTN","IBJTEP",107,0)
 ... N SPL
"RTN","IBJTEP",108,0)
 ... D SET(.LINE,"** A/R CORRECTED PAYMENT DATA:")
"RTN","IBJTEP",109,0)
 ... D SET(.LINE,"   TOTAL AMT PD:          "_$J(IBEOB(361.1,EPIEN_",",1.01,"E"),9,2))
"RTN","IBJTEP",110,0)
 ... S SPL="" F  S SPL=$O(IBSPL(361.18,SPL)) Q:SPL=""  D
"RTN","IBJTEP",111,0)
 .... D SET(.LINE,"     "_$S(IBSPL(361.18,SPL,.03,"I")'="":$$BN1^PRCAFN(IBSPL(361.18,SPL,.03,"I"))_$J("",8),1:"[suspense] "_IBSPL(361.18,SPL,.01,"E"))_"  "_$J(IBSPL(361.18,SPL,.02,"E"),9,2))
"RTN","IBJTEP",112,0)
 ... D SET(.LINE," ")
"RTN","IBJTEP",113,0)
 .. D SET(.LINE,"CLAIM LEVEL PAY STATUS:")
"RTN","IBJTEP",114,0)
 .. D SET(.LINE,"  Total Submitted Charges :"_$J($G(IBEOB("361.1",EPIEN_",","2.04","E")),11,2)_"  Payer Covered Amount    :"_$J($G(IBEOB("361.1",EPIEN_",","1.03","E")),11,2))
"RTN","IBJTEP",115,0)
 .. D SET(.LINE,"  Payer Paid Amount       :"_$J($G(IBEOB("361.1",EPIEN_",","1.01","E")),11,2)_"  MEDICARE Allowed Amount :"_$J($G(IBEOB("361.1",EPIEN_",","2.03","E")),11,2))
"RTN","IBJTEP",116,0)
 .. D SET(.LINE,"  Patient Responsibility  :"_$J($G(IBEOB("361.1",EPIEN_",","1.02","E")),11,2))
"RTN","IBJTEP",117,0)
 .. D SET(.LINE,"--------------------------------------------------------------------------------")
"RTN","IBJTEP",118,0)
 .. D SET(.LINE,"CLAIM LEVEL ADJUSTMENTS:")
"RTN","IBJTEP",119,0)
 .. S AA="",ACNT=0 F  S AA=$O(IBGX(361.11,AA)) Q:AA=""  S ACNT=ACNT+1,AQ="" D
"RTN","IBJTEP",120,0)
 ... S CC=AA F  S CC=$O(IBGX(361.111,CC)) Q:$E(CC,1,$L(AA))'=AA  D
"RTN","IBJTEP",121,0)
 .... I AQ="" S AQ=$J(ACNT,3)_") "
"RTN","IBJTEP",122,0)
 .... E  S ACNT=ACNT+1,AQ=$J(ACNT,3)_") "
"RTN","IBJTEP",123,0)
 .... D SET(.LINE,AQ_"ADJ. AMT: "_$J(IBGX(361.111,CC,.02,"E"),9,2)_"  ADJ GROUP: "_IBGX(361.11,AA,.01,"I")_" => "_IBGX(361.11,AA,.01,"E"))
"RTN","IBJTEP",124,0)
 .... S RMIEN=$$FIND1^DIC(345,"","BX",IBGX(361.111,CC,.01,"E"),"","","RCERR")
"RTN","IBJTEP",125,0)
 .... I RMIEN'="" K RCERR,RCRDC,RCFLD S RCXY=$$GET1^DIQ(345,RMIEN_",",4,"","RCRDC","RCERR") D DLN("RCRDC","RCFLD",55,69)
"RTN","IBJTEP",126,0)
 .... D SET(.LINE,"     ADJ. CODE: "_IBGX(361.111,CC,.01,"E")_" => "_RCFLD(1))
"RTN","IBJTEP",127,0)
 .... I RCFLD>1 F II=2:1:RCFLD D SET(.LINE,"          "_RCFLD(II))
"RTN","IBJTEP",128,0)
 .. I ACNT=0 D SET(.LINE,"  -- None --")
"RTN","IBJTEP",129,0)
 .. D SET(.LINE,"CLAIM LEVEL REMARKS: ")
"RTN","IBJTEP",130,0)
 .. S RCRC=0 F II="3.03","3.04","3.05","3.06","3.07" D:IBEOB("361.1",EPIEN_",",II,"E")'=""
"RTN","IBJTEP",131,0)
 ... ; Get IEN for this remark code - if no IEN then need to look at the data "RM1" to "RM5"
"RTN","IBJTEP",132,0)
 ... S RMIEN=$$FIND1^DIC(346,"","BX",IBEOB("361.1",EPIEN_",",II,"E"),"","","RCERR")
"RTN","IBJTEP",133,0)
 ... I RMIEN'="" K RCERR,RCRDC,RCFLD S RCXY=$$GET1^DIQ(346,RMIEN_",",4,"","RCRDC","RCERR") D DLN("RCRDC","RCFLD",57,69)
"RTN","IBJTEP",134,0)
 ... I RMIEN="" S RCFLD=$S(II="3.03":5.011,II="3.04":5.021,II="3.05":5.031,II="3.06":5.041,II="3.07":5.051,1:5.011) S RCRLN=$$GET1^DIQ(361.1,EPIEN_",",RCFLD)
"RTN","IBJTEP",135,0)
 ... S RCRC=RCRC+1 D SET(.LINE,"  --- REMARK CODE("_RCRC_"): "_IBEOB("361.1",EPIEN_",",II,"E")_" => "_RCFLD(1))
"RTN","IBJTEP",136,0)
 ... I RCFLD>1 F II=2:1:RCFLD D SET(.LINE,"          "_RCFLD(II))
"RTN","IBJTEP",137,0)
 .. I RCRC=0 D SET(.LINE,"  -- None --")
"RTN","IBJTEP",138,0)
 .. D SET(.LINE,"--------------------------------------------------------------------------------")
"RTN","IBJTEP",139,0)
 .. ; Walk through the line level information...
"RTN","IBJTEP",140,0)
 .. D SET(.LINE,"EEOB LINE LEVEL ADJUSTMENTS:")
"RTN","IBJTEP",141,0)
 .. K ^XTMP("IBJTEP",$J) M ^XTMP("IBJTEP",$J)=IBCL
"RTN","IBJTEP",142,0)
 .. S RCPL=0,EE="" F  S EE=$O(IBCL(361.115,EE)) Q:EE=""  S RCPL=RCPL+1 D
"RTN","IBJTEP",143,0)
 ... S QQ=EE,RCMD="" F  S QQ=$O(IBCL(361.1152,QQ)) Q:$E(QQ,1,$L(EE))'=EE  S RCMD=IBCL(361.1152,QQ,.01,"I")
"RTN","IBJTEP",144,0)
 ... D SET(.LINE," #   SV DT  REVCD   PROC  MOD  UNITS   BILLED  DEDUCT   COINS    ALLOW     PYMT")
"RTN","IBJTEP",145,0)
 ... S RCBAMT=$$BILLN^IBJTEP1(IBEOB(361.1,EPIEN_",",.01,"I"),IBCL(361.115,EE,.1,"E"),IBCL(361.115,EE,.04,"E"))
"RTN","IBJTEP",146,0)
 ... S RCDED=$$ADJU^IBJTEP1("DEDUCT",.IBCL,EE),RCOIN=$$ADJU^IBJTEP1("COINS",.IBCL,EE) ; Get Deductable and Co-Insurance amts.
"RTN","IBJTEP",147,0)
 ... S XLN=$J(RCPL,2,0)_" "_$$FMTE^XLFDT(IBCL(361.115,EE,.16,"I"),"2Z")_" "_$$CJ^XLFSTR(IBCL(361.115,EE,.1,"E"),5)_" "_$$CJ^XLFSTR(IBCL(361.115,EE,.04,"E"),8)_$$CJ^XLFSTR(RCMD,5)_" "_$$CJ^XLFSTR(IBCL(361.115,EE,.11,"E"),3)
"RTN","IBJTEP",148,0)
 ... D SET(.LINE,XLN_" "_$J(RCBAMT,9,2)_$J(RCDED,8,2)_$J(RCOIN,8,2)_$J(IBCL(361.115,EE,.13,"E"),9,2)_$J(IBCL(361.115,EE,.03,"E"),9,2))
"RTN","IBJTEP",149,0)
 ... D SET(.LINE," ")
"RTN","IBJTEP",150,0)
 ... D SET(.LINE,"  Product/Service Description:"_IBCL(361.115,EE,.09,"E"))
"RTN","IBJTEP",151,0)
 ... D SET(.LINE,"  Payer Policy Reference:"_$G(IBCL(361.11512,EE,.01,"E")))
"RTN","IBJTEP",152,0)
 ... D SET(.LINE," ")
"RTN","IBJTEP",153,0)
 ... S ACNT=0,AA=EE F  S AA=$O(IBCL(361.1151,AA)) Q:$E(AA,1,$L(EE))'=EE  D
"RTN","IBJTEP",154,0)
 .... S ACNT=ACNT+1
"RTN","IBJTEP",155,0)
 .... S CC=AA,RCRC=0 F  S CC=$O(IBCL(361.11511,CC)) Q:$E(CC,1,$L(AA))'=AA  D
"RTN","IBJTEP",156,0)
 ..... S RCRC=RCRC+1 D SET(.LINE,"  -> ADJ AMT: "_$J(IBCL(361.11511,CC,.02,"E"),9,2)_"  ADJ GROUP: "_IBCL(361.1151,AA,.01,"I")_" - "_IBCL(361.1151,AA,.01,"E")_"  "_$$CJ^XLFSTR("QTY: "_+$G(IBCL(361.11511,CC,.03,"E")),8))
"RTN","IBJTEP",157,0)
 ..... S RCXY=$$FIND1^DIC(345,"","BX",IBCL(361.11511,CC,.01,"E"),"","","RCERR")
"RTN","IBJTEP",158,0)
 ..... K RCRDC,RCERR S RCXY=$$GET1^DIQ(345,RCXY_",",4,"","RCRDC","RCERR")
"RTN","IBJTEP",159,0)
 ..... I $D(RCRDC)>0 K RCFLD D DLN("RCRDC","RCFLD",57,57)
"RTN","IBJTEP",160,0)
 ..... I $D(RCRDC)=0 K RCFLD S RCRDC(1)=IBCL(361.11511,CC,.04,"E") D DLN("RCRDC","RCFLD",57,57) ; If no data from file 345 use data from FMS
"RTN","IBJTEP",161,0)
 ..... D SET(.LINE,"      ADJ CODE: "_$$CJ^XLFSTR(IBCL(361.11511,CC,.01,"E"),5)_" "_RCFLD(1))
"RTN","IBJTEP",162,0)
 ..... I RCFLD>1 F II=2:1:RCFLD D SET(.LINE,"                      "_RCFLD(II))
"RTN","IBJTEP",163,0)
 ... ; Display RARC Codes for this Line Item
"RTN","IBJTEP",164,0)
 ... I $D(IBCL(361.1154))'=0 S QQ=EE,RCMD="" F  S QQ=$O(IBCL(361.1154,QQ)) Q:$E(QQ,1,$L(EE))'=EE  D
"RTN","IBJTEP",165,0)
 .... S RMIEN=$$FIND1^DIC(346,"","BX",IBCL(361.1154,QQ,.02,"E"),"","","RCERR")
"RTN","IBJTEP",166,0)
 .... I RMIEN'="" K RCERR,RCRDC,RCFLD S RCXY=$$GET1^DIQ(346,RMIEN_",",4,"","RCRDC","RCERR") D DLN("RCRDC","RCFLD",57,68)
"RTN","IBJTEP",167,0)
 .... D SET(.LINE,"  --- RARC: "_IBCL(361.1154,QQ,.02,"E")_" - "_RCFLD(1))
"RTN","IBJTEP",168,0)
 .... I RCFLD>1 F II=2:1:RCFLD D SET(.LINE,"          "_RCFLD(II))
"RTN","IBJTEP",169,0)
 ... D SET(.LINE," ")
"RTN","IBJTEP",170,0)
 .. I ACNT=0 D SET(.LINE,"  -- No Line Level Adjustments --")
"RTN","IBJTEP",171,0)
 .. ; If there are EOB Errors add them to the screen 
"RTN","IBJTEP",172,0)
 .. D:$D(IBEERR(361.1,EPIEN_",",20))>9
"RTN","IBJTEP",173,0)
 ... D SET(.LINE," "),SET(.LINE,"EEOB MESSAGE ERRORS:")
"RTN","IBJTEP",174,0)
 ... N II S II=0 F  S II=$O(IBEERR(361.1,EPIEN_",",20,II)) Q:(II="")!(II'=+II)  D SET(.LINE,$G(IBEERR(361.1,EPIEN_",",20,II)))
"RTN","IBJTEP",175,0)
 . D SET(.LINE,"================================================================================")
"RTN","IBJTEP",176,0)
 . S EPIEN=ZZEPIEN
"RTN","IBJTEP",177,0)
 ; No EEOB IEN, then report that No ERA recieved for this bill
"RTN","IBJTEP",178,0)
 I LINE=0 S VALMCNT=2 D SET^VALM10(1," "),SET^VALM10(2,"No ERA Information for Bill: "_EPBILL) G INITQ
"RTN","IBJTEP",179,0)
 S VALMCNT=LINE
"RTN","IBJTEP",180,0)
 ;
"RTN","IBJTEP",181,0)
INITQ K IBEPAR,IBPLB,IBEOB,IBDGCR,IBGX,IBSPL,IBEERR,TT,AA,EE,RCPL,ACT,ACNT,CC,XLN,XSP,XSP1,TSDT,TEDT,TRX,TECME,RCF,SP80,X,ZZEPIEN
"RTN","IBJTEP",182,0)
 Q
"RTN","IBJTEP",183,0)
 ;
"RTN","IBJTEP",184,0)
HELP ; -- help code
"RTN","IBJTEP",185,0)
 S X="?" D DISP^XQORM1 W !!
"RTN","IBJTEP",186,0)
 Q
"RTN","IBJTEP",187,0)
 ;
"RTN","IBJTEP",188,0)
EXIT ; -- exit code
"RTN","IBJTEP",189,0)
 K EPBILL,EPEOB,ERALST,EPPAT,EPNM,EPSS,EPDOB,EPDOS,EPSID,EPAMT,EPARR
"RTN","IBJTEP",190,0)
 D CLEAR^VALM1,CLEAN^VALM10
"RTN","IBJTEP",191,0)
 Q
"RTN","IBJTEP",192,0)
 ;
"RTN","IBJTEP",193,0)
EXPND ; -- expand code
"RTN","IBJTEP",194,0)
 Q
"RTN","IBJTEP",195,0)
 ;
"RTN","IBJTEP",196,0)
PUSH(VAR,VALUE) ;
"RTN","IBJTEP",197,0)
 S VALUE=$TR(VALUE,",") ; Remove Commas from string
"RTN","IBJTEP",198,0)
 Q:$G(VAR)="" VALUE ; Empty variable
"RTN","IBJTEP",199,0)
 ; If this VALUE is on the list don't add it a second time
"RTN","IBJTEP",200,0)
 I U_VAR_U[(U_VALUE_U) Q VAR
"RTN","IBJTEP",201,0)
 Q VAR_U_VALUE
"RTN","IBJTEP",202,0)
 ;
"RTN","IBJTEP",203,0)
 ; Get the code modifier description
"RTN","IBJTEP",204,0)
MODC(MCD) ;
"RTN","IBJTEP",205,0)
 Q:$G(MCD)="" "No Modifier Code Description"
"RTN","IBJTEP",206,0)
 N ZZIEN,ZZDEC
"RTN","IBJTEP",207,0)
 S ZZIEN=$$FIND1^DIC(81.3,,"BX","26","","","")
"RTN","IBJTEP",208,0)
 S ZZDEC=$$GET1^DIQ(81.3,ZZIEN_",",.02)
"RTN","IBJTEP",209,0)
 Q:ZZDEC="" "No Modifier Code Description"
"RTN","IBJTEP",210,0)
 Q ZZDEC
"RTN","IBJTEP",211,0)
 ; Make CARC or RARC description lines the right length for display
"RTN","IBJTEP",212,0)
DLN(ZIN,ZARR,FLN,SLN) ;
"RTN","IBJTEP",213,0)
 ; ZIN - array to get lines of text
"RTN","IBJTEP",214,0)
 ; ZRARR - array for display passed by indirection
"RTN","IBJTEP",215,0)
 ; FLN - First line length; SLN - Second and subsequent line lengths
"RTN","IBJTEP",216,0)
 N ZI,ZX,ZL,ZXL,ZICT,ZCT,ZSP,ZLN
"RTN","IBJTEP",217,0)
 S ZI="",ZCT=0,ZICT=0
"RTN","IBJTEP",218,0)
 ; Get number of lines in array
"RTN","IBJTEP",219,0)
 F  S ZI=$O(@ZIN@(ZI)) Q:ZI=""  S ZICT=ZICT+1
"RTN","IBJTEP",220,0)
 ; If more than one line in array, process the line
"RTN","IBJTEP",221,0)
 D:ZICT>1
"RTN","IBJTEP",222,0)
 . S ZI="",ZL="" F  S ZI=$O(@ZIN@(ZI)) Q:ZI=""  S ZL=ZL_$S($L(ZL)>1:" ",1:"")_@ZIN@(ZI) D
"RTN","IBJTEP",223,0)
 .. F  Q:$L(ZL)<SLN  S ZCT=ZCT+1 D
"RTN","IBJTEP",224,0)
 ... I ZCT=1 S:$L(ZL)<FLN @ZARR@(ZCT)=ZL,ZL="" D:$L(ZL)>FLN  ; First line
"RTN","IBJTEP",225,0)
 .... S ZXL="" F ZX=1:1 Q:($L(ZXL)+$L($P(ZL," ",ZX)))>FLN  S ZXL=ZXL_$S($L(ZXL)>0:" ",1:"")_$P(ZL," ",ZX)
"RTN","IBJTEP",226,0)
 .... K ZSP S @ZARR@(ZCT)=ZXL,ZSP(ZXL)="",ZL=$$REPLACE^XLFSTR(ZL,.ZSP),ZL=$$TRIM^XLFSTR(ZL)
"RTN","IBJTEP",227,0)
 ... D:ZCT>1
"RTN","IBJTEP",228,0)
 .... S ZXL="" F ZX=1:1 Q:($L(ZXL)+$L($P(ZL," ",ZX)))>SLN  S ZXL=ZXL_$S($L(ZXL)>0:" ",1:"")_$P(ZL," ",ZX)
"RTN","IBJTEP",229,0)
 .... K ZSP S @ZARR@(ZCT)=ZXL,ZSP(ZXL)="",ZL=$$REPLACE^XLFSTR(ZL,.ZSP),ZL=$$TRIM^XLFSTR(ZL)
"RTN","IBJTEP",230,0)
 . I ($L(ZL)>1) S ZCT=ZCT+1,@ZARR@(ZCT)=ZL,ZL=""
"RTN","IBJTEP",231,0)
 . S @ZARR=ZCT
"RTN","IBJTEP",232,0)
 ; One line in array break up if necessary
"RTN","IBJTEP",233,0)
 I ZICT=1 D
"RTN","IBJTEP",234,0)
 . S ZX=$O(@ZIN@(""))
"RTN","IBJTEP",235,0)
 . I $L(@ZIN@(ZX))<FLN S @ZARR@(1)=@ZIN@(ZX),@ZARR=1 Q
"RTN","IBJTEP",236,0)
 . ; Otherwise we are spanning two lines
"RTN","IBJTEP",237,0)
 . S ZL="" F ZI=1:1 Q:($L(ZL)+$L($P(@ZIN@(ZX)," ",ZI)))>FLN  S ZL=ZL_$S($L(ZL)>0:" ",1:"")_$P(@ZIN@(ZX)," ",ZI)
"RTN","IBJTEP",238,0)
 . S @ZARR@(1)=ZL,@ZARR@(2)=$P(@ZIN@(ZX)," ",ZI,9999)
"RTN","IBJTEP",239,0)
 . S @ZARR=2
"RTN","IBJTEP",240,0)
 Q
"RTN","IBJTEP",241,0)
 ;
"RTN","IBJTEP",242,0)
SET(LINE,DATA) ; -- set arrays
"RTN","IBJTEP",243,0)
 ; LINE = line number passed by reference
"RTN","IBJTEP",244,0)
 ; DATA = string to add to displayed data
"RTN","IBJTEP",245,0)
 S LINE=LINE+1
"RTN","IBJTEP",246,0)
 D SET^VALM10(LINE,$G(DATA))
"RTN","IBJTEP",247,0)
 Q
"RTN","IBJTEP1")
0^5^B37006051
"RTN","IBJTEP1",1,0)
IBJTEP1 ;ALB/TJB - TP ERA/835 INFORMATION SCREEN ;01-MAY-2015
"RTN","IBJTEP1",2,0)
 ;;2.0;INTEGRATED BILLING;**530**;21-MAR-94;Build 71
"RTN","IBJTEP1",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","IBJTEP1",4,0)
 ;; ;
"RTN","IBJTEP1",5,0)
 Q
"RTN","IBJTEP1",6,0)
 ; Utility Routine for the IBJTEP & IBJTPE routines
"RTN","IBJTEP1",7,0)
EEOB(ARRAY,IENERA,KBILL,SPLIT) ; Return all of the EEOBs with this KBILL for the ERA IEN in 344.4
"RTN","IBJTEP1",8,0)
 N ZZ,IBZZ,CNT,IBI,IBDG,AA
"RTN","IBJTEP1",9,0)
 S CNT=0
"RTN","IBJTEP1",10,0)
 D GETS^DIQ(344.4,IENERA_",","1*;","IE","IBZZ")
"RTN","IBJTEP1",11,0)
 S ZZ="" F  S ZZ=$O(IBZZ(344.41,ZZ)) Q:ZZ=""  D:IBZZ(344.41,ZZ,.02,"E")=KBILL
"RTN","IBJTEP1",12,0)
 . Q:$P($G(^IBM(361.1,IBZZ(344.41,ZZ,.02,"I"),0)),U,4)=1  ; Don't count, it is a MRA
"RTN","IBJTEP1",13,0)
 . S CNT=CNT+1,@ARRAY@(CNT,IBZZ(344.41,ZZ,.02,"I"))=1,AA(IBZZ(344.41,ZZ,.02,"I"))=1
"RTN","IBJTEP1",14,0)
 . ; See if any splits are associated with this KBILL
"RTN","IBJTEP1",15,0)
 . D:+$G(SPLIT)'=0
"RTN","IBJTEP1",16,0)
 .. S IBI=0,IBDG=$$FIND1^DIC(399,,,IBZZ(344.41,ZZ,.02,"E"),"B",)
"RTN","IBJTEP1",17,0)
 .. I IBDG'="" F  S IBI=$O(^IBM(361.1,"C",IBDG,IBI)) Q:'IBI  S:$G(AA(IBI))'=1 CNT=CNT+1,@ARRAY@(CNT,IBI)=1 ; EOB has been reapportioned at the site
"RTN","IBJTEP1",18,0)
 S @ARRAY=CNT
"RTN","IBJTEP1",19,0)
 Q
"RTN","IBJTEP1",20,0)
 ;
"RTN","IBJTEP1",21,0)
 ; IEN = IEN for File 399, CODE = Revenue Code, CPT = the procedure code for this line
"RTN","IBJTEP1",22,0)
 ; Return the billed amount for this line
"RTN","IBJTEP1",23,0)
BILLN(IEN,CODE,CPT) ; Get the line item information from the Bill
"RTN","IBJTEP1",24,0)
 N RCOUT,II,RET
"RTN","IBJTEP1",25,0)
 S RET=0
"RTN","IBJTEP1",26,0)
 K RCOUT D FIND^DIC(399.042,","_IEN_",",".01;.02;.03;.04;.06","",CODE,"","","","","RCOUT")
"RTN","IBJTEP1",27,0)
 S II="" F  S II=$O(RCOUT("DILIST","ID",II)) Q:II=""  I RCOUT("DILIST","ID",II,.06)=CPT S RET=RCOUT("DILIST","ID",II,.04) Q
"RTN","IBJTEP1",28,0)
 Q RET
"RTN","IBJTEP1",29,0)
 ;
"RTN","IBJTEP1",30,0)
ADJU(TYPE,ARR1,END) ; Get the Deduction information from the line level
"RTN","IBJTEP1",31,0)
 ; TYPE = "DEDUCT" or "COINS", pass array by reference, END - quit condition
"RTN","IBJTEP1",32,0)
 N RCOUT,AA,BB,RET
"RTN","IBJTEP1",33,0)
 S RET=0
"RTN","IBJTEP1",34,0)
 S AA=END F  S AA=$O(ARR1(361.1151,AA)) Q:$E(AA,1,$L(END))'=END  D:ARR1(361.1151,AA,.01,"I")="PR"
"RTN","IBJTEP1",35,0)
 . S BB=AA F  S BB=$O(ARR1(361.11511,BB)) Q:$E(BB,1,$L(AA))'=AA  D  Q:RET'=0
"RTN","IBJTEP1",36,0)
 .. I TYPE="DEDUCT" S:ARR1(361.11511,BB,.01,"E")=1 RET=ARR1(361.11511,BB,.02,"E") ; Deductable
"RTN","IBJTEP1",37,0)
 .. I TYPE="COINS" S:ARR1(361.11511,BB,.01,"E")=2 RET=ARR1(361.11511,BB,.02,"E") ; Co-Insurance
"RTN","IBJTEP1",38,0)
 Q RET
"RTN","IBJTEP1",39,0)
 ;
"RTN","IBJTEP1",40,0)
RESORT(ZAR,ZIDX) ; Resort the subscripts from GETS so items collate correctly while walking the array
"RTN","IBJTEP1",41,0)
 ; Pass ZAR through indirection
"RTN","IBJTEP1",42,0)
 ; Take the second subscript and reverse the pieces, put them in right order
"RTN","IBJTEP1",43,0)
 Q:$G(ZIDX)']""
"RTN","IBJTEP1",44,0)
 N II,XX,YY,ZZ,Z1,ZN,A S ZZ="",ZN=""
"RTN","IBJTEP1",45,0)
 F  S ZZ=$O(@ZAR@(ZIDX,ZZ)) Q:ZZ=""  D
"RTN","IBJTEP1",46,0)
 . S ZN="" F II=1:1:($L(ZZ,",")-1) S ZN=$P(ZZ,",",II)_","_ZN
"RTN","IBJTEP1",47,0)
 . S XX="" F  S XX=$O(@ZAR@(ZIDX,ZZ,XX)) Q:XX=""  D
"RTN","IBJTEP1",48,0)
 .. I $D(@ZAR@(ZIDX,ZZ,XX,"E"))=1 S YY=@ZAR@(ZIDX,ZZ,XX,"E") K @ZAR@(ZIDX,ZZ,XX,"E") S QQ(ZN,XX,"E")=YY
"RTN","IBJTEP1",49,0)
 .. I $D(@ZAR@(ZIDX,ZZ,XX,"I"))=1 S YY=@ZAR@(ZIDX,ZZ,XX,"I") K @ZAR@(ZIDX,ZZ,XX,"I") S QQ(ZN,XX,"I")=YY
"RTN","IBJTEP1",50,0)
 M @ZAR@(ZIDX)=QQ
"RTN","IBJTEP1",51,0)
 K QQ
"RTN","IBJTEP1",52,0)
 Q
"RTN","IBJTEP1",53,0)
 ;
"RTN","IBJTEP1",54,0)
RECEIPT ; Go to Receipt profile
"RTN","IBJTEP1",55,0)
 ; Build the ^TMP(RCDPDPLM,$J,"IDX",#,#)=# array if we have a receipt on this ERA
"RTN","IBJTEP1",56,0)
 ; ERALST, IBIFN is passed in by IBJTEP and will be cleaned up there
"RTN","IBJTEP1",57,0)
 N IBERA,IBEPB,IBRP,DIR,DTOUT,DUOUT,DZX,EPIEN,I,IX,INDEX,X,Y,IBARR,IBAR2,IBAR3,RCDEPTDA,RCRECTDA,RCDPFXIT
"RTN","IBJTEP1",58,0)
 D FULL^VALM1
"RTN","IBJTEP1",59,0)
 S VALMBCK="R"
"RTN","IBJTEP1",60,0)
RC1 ;
"RTN","IBJTEP1",61,0)
 S IBRP(U)=", "
"RTN","IBJTEP1",62,0)
 I $L(ERALST,U)=1 S IBERA=ERALST G RC2
"RTN","IBJTEP1",63,0)
 S DIR("A")="Enter ERA for receipt review: ",DIR(0)="FA^1:10"
"RTN","IBJTEP1",64,0)
 S DIR("A",1)="Enter an ERA# from the following list for additional information."
"RTN","IBJTEP1",65,0)
 S DIR("A",2)="Available ERAs: "_$$REPLACE^XLFSTR(ERALST,.IBRP)
"RTN","IBJTEP1",66,0)
 D ^DIR K DIR
"RTN","IBJTEP1",67,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") G RCQ
"RTN","IBJTEP1",68,0)
 S IBERA=Y I (U_ERALST_U)'[(U_Y_U) W !!,"ERA: "_Y_" not a valid selection. Please try again...",! S X="",IBERA="" G RC1
"RTN","IBJTEP1",69,0)
 ;
"RTN","IBJTEP1",70,0)
RC2 ;
"RTN","IBJTEP1",71,0)
 I $G(IBERA)="" S DIR("A",1)="No ERAs for this K-Bill exist.",DIR(0)="EA",DIR("A")="Press ENTER to continue: " W ! D ^DIR K DIR G RCQ
"RTN","IBJTEP1",72,0)
 ; Get zero node of ERA
"RTN","IBJTEP1",73,0)
 S ZN=$G(^RCY(344.4,IBERA,0))
"RTN","IBJTEP1",74,0)
 ; Get Reciept for this Bill
"RTN","IBJTEP1",75,0)
 K IBEPB,^TMP("RCDPDPLM",$J) D GETS^DIQ(344.4,IBERA_",","1*;","IE","IBEPB")
"RTN","IBJTEP1",76,0)
 ; No Receipt then report and quit
"RTN","IBJTEP1",77,0)
 I $P(ZN,U,8)="",$D(^RCY(344.4,IBERA,1,"RECEIPT"))=0 S DIR("A",1)="No receipts exist for this ERA.",DIR(0)="EA",DIR("A")="Press ENTER to continue: " W ! D ^DIR K DIR G RCQ
"RTN","IBJTEP1",78,0)
 ; Reciept, build temp global and call RECEIPTS
"RTN","IBJTEP1",79,0)
 S I=0,IX="" F  S IX=$O(IBEPB(344.41,IX)) Q:IX=""  I $G(IBEPB(344.41,IX,.02,"E"))=EPBILL D
"RTN","IBJTEP1",80,0)
 . ; Add Reciept to list if not already on this list
"RTN","IBJTEP1",81,0)
 . I $G(IBEPB(344.41,IX,.25,"I"))'="" S:'$D(^TMP("RCDPDPLM",$J,"RCPT",IBEPB(344.41,IX,.25,"I"))) I=I+1,^TMP("RCDPDPLM",$J,"IDX",I,I)=$G(IBEPB(344.41,IX,.25,"I")),^TMP("RCDPDPLM",$J,"RCPT",IBEPB(344.41,IX,.25,"I"))=""
"RTN","IBJTEP1",82,0)
 ;  if no receipts, then set the single Receipt from the zero node.
"RTN","IBJTEP1",83,0)
 I '$D(^TMP("RCDPDPLM",$J,"IDX")) S:$P(ZN,U,8)'="" ^TMP("RCDPDPLM",$J,"IDX",1,1)=$P(ZN,U,8),^TMP("RCDPDPLM",$J,"RCPT",$P(ZN,U,8))="" I $P(ZN,U,8)="" D  G RCQ
"RTN","IBJTEP1",84,0)
 . S DIR("A",1)="Issue with ERA: "_IBERA_" and Bill No.: "_EPBILL,DIR(0)="EA",DIR("A")="Press ENTER to continue: " W ! D ^DIR K DIR
"RTN","IBJTEP1",85,0)
 ;
"RTN","IBJTEP1",86,0)
 S RCRECTDA=$$GETRCPT($NA(^TMP("RCDPDPLM",$J,"IDX")))
"RTN","IBJTEP1",87,0)
 I RCRECTDA=-1 G RCQ ; no selection, "^" or read timeout
"RTN","IBJTEP1",88,0)
 D EN^VALM("RCDP RECEIPT PROFILE")
"RTN","IBJTEP1",89,0)
 ;
"RTN","IBJTEP1",90,0)
RCQ ;
"RTN","IBJTEP1",91,0)
 ; If RCDPFXIT is set, exit option entirely was selected so quit back to the menu
"RTN","IBJTEP1",92,0)
 I $G(RCDPFXIT) S VALMBCK="Q"
"RTN","IBJTEP1",93,0)
 K ^TMP("RCDPDPLM",$J)
"RTN","IBJTEP1",94,0)
 Q
"RTN","IBJTEP1",95,0)
 ;
"RTN","IBJTEP1",96,0)
GETRCPT(ARRAY) ; If only one receipt return with the single receipt, otherwise user selects receipt
"RTN","IBJTEP1",97,0)
 I '$O(@ARRAY@(1)) Q $S($G(@ARRAY@(1,1))'="":$G(@ARRAY@(1,1)),1:-1)
"RTN","IBJTEP1",98,0)
 N ZX,ZY,ZZ,ZAR,DIR,X,Y,DTOUT,DUOUT,DIROUT,DIRUT,QQ
"RTN","IBJTEP1",99,0)
 S ZZ=0,QQ="",ZX="" F  S ZX=$O(@ARRAY@(ZX)) Q:ZX=""  S:QQ'="" QQ=QQ_";" S ZZ=ZZ+1,QQ=QQ_ZZ_":"_$P($G(^RCY(344,@ARRAY@(ZX,ZX),0)),U,1),ZAR(ZZ)=@ARRAY@(ZX,ZX)
"RTN","IBJTEP1",100,0)
 S DIR(0)="S^"_QQ
"RTN","IBJTEP1",101,0)
 S DIR("A")="Enter index number for Receipt" D ^DIR K DIR
"RTN","IBJTEP1",102,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") Q -1 ; no selection/timeout quit
"RTN","IBJTEP1",103,0)
 Q ZAR(Y)
"RTN","IBJTEP1",104,0)
 ;
"RTN","IBJTEP1",105,0)
GETRX(IBIEN,IBARRY) ;return pharmacy data to about EEOB items
"RTN","IBJTEP1",106,0)
 ;   input -    IBIEN = ien to record in 361.1
"RTN","IBJTEP1",107,0)
 ;              IBARRY = Array name that will be used to store and return pharmacy data elements
"RTN","IBJTEP1",108,0)
 ;   output -   IBARRY = holds pharmacy data 
"RTN","IBJTEP1",109,0)
 ; IA 6033 (controlled subscription) - read access of file 362.4.  status is pending
"RTN","IBJTEP1",110,0)
 ; ICR 1878 (supported) - usage of EN^PSOORDER
"RTN","IBJTEP1",111,0)
 ;
"RTN","IBJTEP1",112,0)
 N IB0,RXDATA,RXIEN,IBDFN,PRIEN,RXFILL
"RTN","IBJTEP1",113,0)
 K IBARRY
"RTN","IBJTEP1",114,0)
 Q:IBIEN=""
"RTN","IBJTEP1",115,0)
 S PRIEN=$P(^IBM(361.1,IBIEN,0),U,1) Q:PRIEN=""
"RTN","IBJTEP1",116,0)
 S IBDFN=$P(^PRCA(430,PRIEN,0),U,7)
"RTN","IBJTEP1",117,0)
 S IB0=+$O(^IBA(362.4,"C",PRIEN,0))
"RTN","IBJTEP1",118,0)
 Q:IB0=0
"RTN","IBJTEP1",119,0)
 S RXDATA=$G(^IBA(362.4,IB0,0))
"RTN","IBJTEP1",120,0)
 S IBARRY("DOS")=$$FMTE^XLFDT($P(RXDATA,U,3),"2Z")
"RTN","IBJTEP1",121,0)
 S IBARRY("FILL")=+$P(RXDATA,U,10)          ; rx fill#
"RTN","IBJTEP1",122,0)
 S RXIEN=+$P(RXDATA,U,5)            ; RX ien ptr file 52
"RTN","IBJTEP1",123,0)
 D EN^PSOORDER(IBDFN,RXIEN)
"RTN","IBJTEP1",124,0)
 S IBARRY("RX")=$P(^TMP("PSOR",$J,RXIEN,0),U,5)
"RTN","IBJTEP1",125,0)
 I IBARRY("FILL")=0 S IBARRY("RELEASED STATUS")=$S($P(^TMP("PSOR",$J,RXIEN,0),U,13)]"":"Released",1:"Not Released")   ; Release status from Rx on the first fill (no refills)
"RTN","IBJTEP1",126,0)
 I IBARRY("FILL")>0 S IBARRY("RELEASED STATUS")=$S($P(^TMP("PSOR",$J,RXIEN,"REF",IBARRY("FILL"),0),U,8)]"":"Released",1:"Not Released")  ; Release status from Rx refill #
"RTN","IBJTEP1",127,0)
 Q
"RTN","IBJTEP1",128,0)
 ;
"RTN","IBJTLA1")
0^7^B12051503
"RTN","IBJTLA1",1,0)
IBJTLA1 ;ALB/ARH - TPI ACTIVE BILLS LIST BUILD ;2/14/95
"RTN","IBJTLA1",2,0)
 ;;2.0;INTEGRATED BILLING;**39,80,61,51,153,137,183,276,451,516,530**;21-MAR-94;Build 71
"RTN","IBJTLA1",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","IBJTLA1",4,0)
 ;
"RTN","IBJTLA1",5,0)
BLDA ; build active list for third party joint inquiry active list
"RTN","IBJTLA1",6,0)
 N IBIFN,IBCNT S VALMCNT=0,IBCNT=0
"RTN","IBJTLA1",7,0)
 S IBIFN=0 F  S IBIFN=$O(^DGCR(399,"C",DFN,IBIFN)) Q:'IBIFN  I $$ACTIVE^IBJTU4(IBIFN) W "." D SCRN
"RTN","IBJTLA1",8,0)
 ;
"RTN","IBJTLA1",9,0)
 I VALMCNT=0 D SET(" ",0),SET("No Active Bills for this Patient",0)
"RTN","IBJTLA1",10,0)
 ;
"RTN","IBJTLA1",11,0)
 Q
"RTN","IBJTLA1",12,0)
 ;
"RTN","IBJTLA1",13,0)
SCRN ; add bill to screen list (IBIFN,DFN must be defined)
"RTN","IBJTLA1",14,0)
 N X,IBY,IBD0,IBDU,IBDM,TYPE,REJFLAG,INDFLG S X=""
"RTN","IBJTLA1",15,0)
 S IBCNT=IBCNT+1,IBD0=$G(^DGCR(399,+IBIFN,0)),IBDU=$G(^DGCR(399,+IBIFN,"U")),IBDM=$G(^DGCR(399,+IBIFN,"M"))
"RTN","IBJTLA1",16,0)
 S IBY=IBCNT,X=$$SETFLD^VALM1(IBY,X,"NUMBER")
"RTN","IBJTLA1",17,0)
 ; IB*2.0*451 - get EEOB indicator for bill # when applicable
"RTN","IBJTLA1",18,0)
 S IBPFLAG=$$EEOB(+IBIFN)
"RTN","IBJTLA1",19,0)
 S REJFLAG=+$$BILLREJ^IBJTU6($P(IBD0,U)) ;IB*2.0*530 Add indicator for rejects
"RTN","IBJTLA1",20,0)
 S INDFLG=$S($G(IBPFLAG)'="":"%",1:"")_$S(REJFLAG:"c",1:"") S:INDFLG="" INDFLG=" "
"RTN","IBJTLA1",21,0)
 S IBY=INDFLG_$P(IBD0,U,1)_$$ECME^IBTRE(IBIFN),X=$$SETFLD^VALM1(IBY,X,"BILL") ;add EEOB indicator '%' to bill number when applicable
"RTN","IBJTLA1",22,0)
 S IBY=$S($$REF^IBJTU31(+IBIFN):"r",1:""),X=$$SETFLD^VALM1(IBY,X,"REFER")
"RTN","IBJTLA1",23,0)
 S IBY=$S($$IB^IBRUTL(+IBIFN,0):"*",1:""),X=$$SETFLD^VALM1(IBY,X,"HD")
"RTN","IBJTLA1",24,0)
 S IBY=$$DATE($P(IBDU,U,1)),X=$$SETFLD^VALM1(IBY,X,"STFROM")
"RTN","IBJTLA1",25,0)
 S IBY=$$DATE($P(IBDU,U,2)),X=$$SETFLD^VALM1(IBY,X,"STTO")
"RTN","IBJTLA1",26,0)
 ;
"RTN","IBJTLA1",27,0)
 S IBY=$P($$LST^DGMTU(DFN,$P(IBDU,U)),U,4),IBY=$S(IBY="C":"YES",IBY="P":"PEN",IBY="R":"REQ",IBY="G":"GMT",1:"NO"),X=$$SETFLD^VALM1(IBY,X,"MT?")
"RTN","IBJTLA1",28,0)
 ;S IBY=$$TYPE($P(IBD0,U,5))_$$TF($P(IBD0,U,6))_$S($P(IBD0,U,27)=1:"I",$P(IBD0,U,27)=2:"P",1:""),X=$$SETFLD^VALM1(IBY,X,"TYPE")  ; 516 - baa
"RTN","IBJTLA1",29,0)
 S TYPE=$$TYPE($P(IBD0,U,5)) I $E(TYPE,2)="P" S TYPE=$E(TYPE)  ; 516 - baa
"RTN","IBJTLA1",30,0)
 S IBY=TYPE_"/"_$S($P(IBD0,U,27)=1:"I",$P(IBD0,U,27)=2:"P",1:""),X=$$SETFLD^VALM1(IBY,X,"TYPE")  ; 516 - baa
"RTN","IBJTLA1",31,0)
 S IBY=" "_$P($$ARSTATA^IBJTU4(IBIFN),U,2),X=$$SETFLD^VALM1(IBY,X,"ARST")
"RTN","IBJTLA1",32,0)
 ;
"RTN","IBJTLA1",33,0)
 S IBY=$P($G(^DGCR(399.3,+$P(IBD0,U,7),0)),U,4),X=$$SETFLD^VALM1(IBY,X,"RATE")
"RTN","IBJTLA1",34,0)
 S IBY=$S($$MINS^IBJTU31(+IBIFN):"+",1:""),X=$$SETFLD^VALM1(IBY,X,"CB")
"RTN","IBJTLA1",35,0)
 S IBY=+$G(^DGCR(399,+IBIFN,"MP"))
"RTN","IBJTLA1",36,0)
 I 'IBY,$$MCRWNR^IBEFUNC($$CURR^IBCEF2(IBIFN)) S IBY=+$$CURR^IBCEF2(IBIFN)
"RTN","IBJTLA1",37,0)
 S IBY=$P($G(^DIC(36,+IBY,0)),U,1)
"RTN","IBJTLA1",38,0)
 S X=$$SETFLD^VALM1(IBY,X,"INSUR")
"RTN","IBJTLA1",39,0)
 S IBY=$$BILL^RCJIBFN2(IBIFN)
"RTN","IBJTLA1",40,0)
 S X=$$SETFLD^VALM1($J(+$P(IBY,U,1),8,2),X,"OAMT")
"RTN","IBJTLA1",41,0)
 S X=$$SETFLD^VALM1($J(+$P(IBY,U,3),8,2),X,"CAMT")
"RTN","IBJTLA1",42,0)
 D SET(X,IBCNT)
"RTN","IBJTLA1",43,0)
 Q
"RTN","IBJTLA1",44,0)
 ;
"RTN","IBJTLA1",45,0)
DATE(X) ; date in external format
"RTN","IBJTLA1",46,0)
 N Y S Y="" I X?7N.E S Y=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3)
"RTN","IBJTLA1",47,0)
 Q Y
"RTN","IBJTLA1",48,0)
 ;
"RTN","IBJTLA1",49,0)
TYPE(X) ; return abbreviated form of Bill Classification (399,.05)
"RTN","IBJTLA1",50,0)
 Q $S(X=1:"IP",X=2:"IH",X=3:"OP",X=4:"OH",1:"")
"RTN","IBJTLA1",51,0)
 ;
"RTN","IBJTLA1",52,0)
TF(X) ; return abbreviated form of Timeframe of Bill (399,.06)
"RTN","IBJTLA1",53,0)
 Q $S(X=2:"-F",X=3:"-C",X=4:"-L",X'=1:"-O",1:"")
"RTN","IBJTLA1",54,0)
 ;
"RTN","IBJTLA1",55,0)
SET(X,CNT) ; set up list manager screen array
"RTN","IBJTLA1",56,0)
 S VALMCNT=VALMCNT+1
"RTN","IBJTLA1",57,0)
 S ^TMP("IBJTLA",$J,VALMCNT,0)=X Q:'CNT
"RTN","IBJTLA1",58,0)
 S ^TMP("IBJTLA",$J,"IDX",VALMCNT,+CNT)=""
"RTN","IBJTLA1",59,0)
 S ^TMP("IBJTLAX",$J,CNT)=VALMCNT_U_IBIFN
"RTN","IBJTLA1",60,0)
 Q
"RTN","IBJTLA1",61,0)
 ;
"RTN","IBJTLA1",62,0)
EEOB(IBIFN) ; get payment information
"RTN","IBJTLA1",63,0)
 ; IB*2.0*451 - find an EOB payment for a bill
"RTN","IBJTLA1",64,0)
 ; input is the IEN for the bill # in file #399 and must be valid,
"RTN","IBJTLA1",65,0)
 ; output is the EEOB indicator '%' if a payment is found in file #361.1,
"RTN","IBJTLA1",66,0)
 ; exclude EOB type MRA (Medicare).
"RTN","IBJTLA1",67,0)
 N IBPFLAG,IBVAL,Z
"RTN","IBJTLA1",68,0)
 I $G(IBIFN)=0 Q ""
"RTN","IBJTLA1",69,0)
 I '$O(^IBM(361.1,"B",IBIFN,0)) Q ""  ; no entry here
"RTN","IBJTLA1",70,0)
 I $P($G(^DGCR(399,IBIFN,0)),"^",13)=1 Q ""  ;avoid 'ENTERED/NOT REVIEWED' status
"RTN","IBJTLA1",71,0)
 ; handle both single and multiple bill entries in file #361.1
"RTN","IBJTLA1",72,0)
 S Z=0 F  S Z=$O(^IBM(361.1,"B",IBIFN,Z)) Q:'Z  D  Q:$G(IBPFLAG)="%"
"RTN","IBJTLA1",73,0)
 . S IBVAL=$G(^IBM(361.1,Z,0))
"RTN","IBJTLA1",74,0)
 . S IBPFLAG=$S($P(IBVAL,"^",4)=1:"",$P(IBVAL,"^",4)=0:"%",1:"")
"RTN","IBJTLA1",75,0)
 Q IBPFLAG  ; EOB indicator for either 1st or 3rd payment on bill
"RTN","IBJTLB1")
0^8^B12752963
"RTN","IBJTLB1",1,0)
IBJTLB1 ;ALB/ARH - TPI INACTIVE LIST BUILD ;2/14/95
"RTN","IBJTLB1",2,0)
 ;;2.0;INTEGRATED BILLING;**39,80,61,137,276,451,516,530**;21-MAR-94;Build 71
"RTN","IBJTLB1",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","IBJTLB1",4,0)
 ;
"RTN","IBJTLB1",5,0)
BLDA ; build active list for third party joint inquiry active list, DFN must be defined
"RTN","IBJTLB1",6,0)
 ; first search starts at dt and works backwards for 6 months of bills or IBMAXCNT bills, whichever is greater
"RTN","IBJTLB1",7,0)
 ; all bills for a single day are included in the same search so even IBMAXCNT may be exceeded
"RTN","IBJTLB1",8,0)
 ; if IBEND is defined on entry it is used as the end dt of the search, otherwise DT is used
"RTN","IBJTLB1",9,0)
 ; IBBEG is left defined on exit, if it has a value then it is used by the Change Dates action to define the next
"RTN","IBJTLB1",10,0)
 ; end date of the search, this results in each CD action default working backwards through the date range until
"RTN","IBJTLB1",11,0)
 ; no bills are found and IBBEG is null then search restarts at DT, IBEND is defined so can tell if range changed
"RTN","IBJTLB1",12,0)
 N IBIFN,IBCNT,IBBDT,IBEDT,IBFIRST,IBLAST,IBDT1,IBDT2,IBMAXCNT K IBHMSG
"RTN","IBJTLB1",13,0)
 S IBEDT=$S(+$G(IBEND):IBEND,1:DT),IBBDT=$$FMADD^XLFDT(IBEDT,-180),IBMAXCNT=52
"RTN","IBJTLB1",14,0)
 ;
"RTN","IBJTLB1",15,0)
 S (VALMCNT,IBCNT)=0,IBDT1=$S(IBEDT'="":-(IBEDT+.01),1:""),IBDT2=-IBBDT
"RTN","IBJTLB1",16,0)
 S IBFIRST=IBBDT,IBLAST=-$O(^DGCR(399,"APDS",DFN,""))
"RTN","IBJTLB1",17,0)
 ;
"RTN","IBJTLB1",18,0)
 F  S IBDT1=$O(^DGCR(399,"APDS",DFN,IBDT1)) Q:'IBDT1!(IBDT1>IBDT2&(IBCNT'<IBMAXCNT))  S IBFIRST=-IBDT1 D
"RTN","IBJTLB1",19,0)
 . S IBIFN=0 F  S IBIFN=$O(^DGCR(399,"APDS",DFN,IBDT1,IBIFN)) Q:'IBIFN  I '$$ACTIVE^IBJTU4(IBIFN) D SCRN W "."
"RTN","IBJTLB1",20,0)
 ;
"RTN","IBJTLB1",21,0)
 S IBBEG=$S('IBDT1:"",IBBDT>IBFIRST:IBFIRST,1:IBBDT),IBBDT=$S(+IBBEG:$$DATE(IBBEG),1:"BEGIN")
"RTN","IBJTLB1",22,0)
 S IBEND=$S(IBEDT=""!(IBLAST'>IBEDT):"",1:IBEDT),IBEDT=$S(+IBEND:$$DATE(IBEND),1:"END")
"RTN","IBJTLB1",23,0)
 ;
"RTN","IBJTLB1",24,0)
 I 'IBBEG,'IBEND S IBHMSG="** All Inactive Bills **"
"RTN","IBJTLB1",25,0)
 I $G(IBHMSG)="" S IBHMSG=IBBDT_" - "_IBEDT
"RTN","IBJTLB1",26,0)
 S IBHMSG=IBHMSG_"   ("_VALMCNT_")"
"RTN","IBJTLB1",27,0)
 ;
"RTN","IBJTLB1",28,0)
 I VALMCNT=0 D SET(" ",0),SET("No Inactive Bills for this Patient",0)
"RTN","IBJTLB1",29,0)
 ;
"RTN","IBJTLB1",30,0)
 Q
"RTN","IBJTLB1",31,0)
 ;
"RTN","IBJTLB1",32,0)
SCRN ; add bill to screen list (IBIFN,DFN must be defined)
"RTN","IBJTLB1",33,0)
 N X,IBY,IBD0,IBDU,IBDM,TYPE,REJFLAG,INDFLG S X=""
"RTN","IBJTLB1",34,0)
 S IBCNT=IBCNT+1,IBD0=$G(^DGCR(399,+IBIFN,0)),IBDU=$G(^DGCR(399,+IBIFN,"U")),IBDM=$G(^DGCR(399,+IBIFN,"M"))
"RTN","IBJTLB1",35,0)
 S IBY=IBCNT,X=$$SETFLD^VALM1(IBY,X,"NUMBER")
"RTN","IBJTLB1",36,0)
 ; IB*2.0*451 - get EEOB indicator for bill # when applicable
"RTN","IBJTLB1",37,0)
 S IBPFLAG=$$EEOB^IBJTLA1(+IBIFN)
"RTN","IBJTLB1",38,0)
 S REJFLAG=+$$BILLREJ^IBJTU6($P(IBD0,U)) ;IB*2.0*530 Add indicator for rejects
"RTN","IBJTLB1",39,0)
 S INDFLG=$S($G(IBPFLAG)'="":"%",1:"")_$S(REJFLAG:"c",1:"") S:INDFLG="" INDFLG=" "
"RTN","IBJTLB1",40,0)
 S IBY=$P(IBD0,U,1)_$$ECME^IBTRE(IBIFN),X=$$SETFLD^VALM1(IBY,X,"BILL")
"RTN","IBJTLB1",41,0)
 S IBY=INDFLG_IBY,X=$$SETFLD^VALM1(IBY,X,"BILL")
"RTN","IBJTLB1",42,0)
 S IBY=$S($$REF^IBJTU31(+IBIFN):"r",1:""),X=$$SETFLD^VALM1(IBY,X,"REFER")
"RTN","IBJTLB1",43,0)
 S IBY=$S($$IB^IBRUTL(+IBIFN,0):"*",1:""),X=$$SETFLD^VALM1(IBY,X,"HD")
"RTN","IBJTLB1",44,0)
 S IBY=$$DATE($P(IBDU,U,1)),X=$$SETFLD^VALM1(IBY,X,"STFROM")
"RTN","IBJTLB1",45,0)
 S IBY=$$DATE($P(IBDU,U,2)),X=$$SETFLD^VALM1(IBY,X,"STTO")
"RTN","IBJTLB1",46,0)
 ;
"RTN","IBJTLB1",47,0)
 ;S IBY=$$TYPE($P(IBD0,U,5))_$$TF($P(IBD0,U,6)),X=$$SETFLD^VALM1(IBY,X,"TYPE")
"RTN","IBJTLB1",48,0)
 S TYPE=$$TYPE($P(IBD0,U,5)) I $E(TYPE,2)="P" S TYPE=$E(TYPE)  ; 516 - baa
"RTN","IBJTLB1",49,0)
 S IBY=TYPE_"/"_$S($P(IBD0,U,27)=1:"I",$P(IBD0,U,27)=2:"P",1:""),X=$$SETFLD^VALM1(IBY,X,"TYPE")  ; 516 - baa
"RTN","IBJTLB1",50,0)
 S IBY=" "_$P($$ARSTATA^IBJTU4(IBIFN),U,2),X=$$SETFLD^VALM1(IBY,X,"ARST")
"RTN","IBJTLB1",51,0)
 ;
"RTN","IBJTLB1",52,0)
 S IBY=$P($G(^DGCR(399.3,+$P(IBD0,U,7),0)),U,4),X=$$SETFLD^VALM1(IBY,X,"RATE")
"RTN","IBJTLB1",53,0)
 S IBY=$S($$MINS^IBJTU31(IBIFN):"+",1:""),X=$$SETFLD^VALM1(IBY,X,"CB")
"RTN","IBJTLB1",54,0)
 S IBY=+$G(^DGCR(399,+IBIFN,"MP"))
"RTN","IBJTLB1",55,0)
 I 'IBY,$$MCRWNR^IBEFUNC(+$$CURR^IBCEF2(IBIFN)) S IBY=+$$CURR^IBCEF2(IBIFN)
"RTN","IBJTLB1",56,0)
 S IBY=$P($G(^DIC(36,+IBY,0)),U,1),X=$$SETFLD^VALM1(IBY,X,"INSUR")
"RTN","IBJTLB1",57,0)
 S IBY=$$BILL^RCJIBFN2(IBIFN)
"RTN","IBJTLB1",58,0)
 S X=$$SETFLD^VALM1($J(+$P(IBY,U,1),8,2),X,"OAMT")
"RTN","IBJTLB1",59,0)
 S X=$$SETFLD^VALM1($J(+$P(IBY,U,3),8,2),X,"CAMT")
"RTN","IBJTLB1",60,0)
 D SET(X,IBCNT)
"RTN","IBJTLB1",61,0)
 Q
"RTN","IBJTLB1",62,0)
 ;
"RTN","IBJTLB1",63,0)
DATE(X) ; date in external format
"RTN","IBJTLB1",64,0)
 Q $E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3)
"RTN","IBJTLB1",65,0)
 ;
"RTN","IBJTLB1",66,0)
TYPE(X) ; return abbreviated form of Bill Classification (399,.05)
"RTN","IBJTLB1",67,0)
 ; modified for 516 - baa
"RTN","IBJTLB1",68,0)
 ;Q $S(X=1:"IP",X=2:"IH",X=3:"OP",X=4:"OH",1:"")
"RTN","IBJTLB1",69,0)
 Q $S(X=1:"I",X=2:"IH",X=3:"O",X=4:"OH",1:"")
"RTN","IBJTLB1",70,0)
 ;
"RTN","IBJTLB1",71,0)
TF(X) ; return abbreviated form of Timeframe of Bill (399,.06)
"RTN","IBJTLB1",72,0)
 Q $S(X=2:"-F",X=3:"-C",X=4:"-L",X'=1:"-O",1:"")
"RTN","IBJTLB1",73,0)
 ;
"RTN","IBJTLB1",74,0)
SET(X,CNT) ; set up list manager screen array
"RTN","IBJTLB1",75,0)
 S VALMCNT=VALMCNT+1
"RTN","IBJTLB1",76,0)
 S ^TMP("IBJTLB",$J,VALMCNT,0)=X Q:'CNT
"RTN","IBJTLB1",77,0)
 S ^TMP("IBJTLB",$J,"IDX",VALMCNT,+CNT)=""
"RTN","IBJTLB1",78,0)
 S ^TMP("IBJTLBX",$J,CNT)=VALMCNT_U_IBIFN
"RTN","IBJTLB1",79,0)
 Q
"RTN","IBJTPE")
0^3^B131608692
"RTN","IBJTPE",1,0)
IBJTPE ;ALB/TJB - TP ERA/835 PRINT EEOB INFORMATIN SCREEN ;20-MAY-2015
"RTN","IBJTPE",2,0)
 ;;2.0;INTEGRATED BILLING;**530**;21-MAR-94;Build 71
"RTN","IBJTPE",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","IBJTPE",4,0)
 ;; ;
"RTN","IBJTPE",5,0)
EN ; -- main entry point for IBJT 835 EEOB PRINT
"RTN","IBJTPE",6,0)
 D EN^VALM("IBJT 835 EEOB PRINT")
"RTN","IBJTPE",7,0)
 Q
"RTN","IBJTPE",8,0)
 ;
"RTN","IBJTPE",9,0)
HDR ; -- header code
"RTN","IBJTPE",10,0)
 S VALMHDR(1)="IBJT 835 EEOB PRINT."
"RTN","IBJTPE",11,0)
 S VALMHDR(2)="Print EEOBs for further investigation"
"RTN","IBJTPE",12,0)
 Q
"RTN","IBJTPE",13,0)
 ;
"RTN","IBJTPE",14,0)
INIT ; -- init variables and list array
"RTN","IBJTPE",15,0)
 ; Array IBEBERA (From IBJTEP) contains the the EEOBs for this KBILL
"RTN","IBJTPE",16,0)
 N IBRP,IBEIEN,CT,DIR,EOBLST,IBEBERA,IBPERA,JJ,X,Y,DTOUT,DUOUT,DIROUT,DIRUT,IBNUM,IBPEOB,IBALL
"RTN","IBJTPE",17,0)
 S IBNUM=1,(CT,EOBLST,IBALL)=0,JJ=""
"RTN","IBJTPE",18,0)
 D FULL^VALM1
"RTN","IBJTPE",19,0)
IN1 ;
"RTN","IBJTPE",20,0)
 S IBRP(U)=", "
"RTN","IBJTPE",21,0)
 ; ERALST is from IBJTEP and will be cleaned up there
"RTN","IBJTPE",22,0)
 I $L(ERALST)=0 W !,"No ERA Information for Bill: "_EPBILL K DIR S DIR(0)="E" D ^DIR K DIR G INITQ
"RTN","IBJTPE",23,0)
 I $L(ERALST,U)=1 S IBPERA=ERALST G IN2
"RTN","IBJTPE",24,0)
 S DIR("A")="Enter a SINGLE ERA# or (A)LL ERAs/All EEOBs to print: ",DIR(0)="FA^1:15"
"RTN","IBJTPE",25,0)
 S DIR("A",1)="This claim has EEOBs on multiple ERAs. Enter a SINGLE ERA# from the following"
"RTN","IBJTPE",26,0)
 S DIR("A",2)="list or enter ALL to print ALL associated EEOBS from all ERAs in the list."
"RTN","IBJTPE",27,0)
 S DIR("A",3)="Available ERAs: "_$$REPLACE^XLFSTR(ERALST,.IBRP)
"RTN","IBJTPE",28,0)
 S DIR("PRE")="S X=$$UP^XLFSTR(X)"
"RTN","IBJTPE",29,0)
 D ^DIR K DIR
"RTN","IBJTPE",30,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") S VALMQUIT="" G INITQ
"RTN","IBJTPE",31,0)
 I Y=$E("ALL",1,$L(Y)) S IBALL=1 G IND ; Print All EOBs for All ERAs
"RTN","IBJTPE",32,0)
 S IBPERA=Y I (U_ERALST_U)'[(U_Y_U) W !!,"ERA: "_Y_" not a valid selection. Please try again...",! S X="",IBPERA="" G IN1
"RTN","IBJTPE",33,0)
IN2 ;
"RTN","IBJTPE",34,0)
 ; EPBILL is from IBJTEP and will be cleaned up there
"RTN","IBJTPE",35,0)
 K IBEBERA D EEOB^IBJTEP1("IBEBERA",IBPERA,EPBILL,1) S JJ="" F  S JJ=$O(IBEBERA(JJ)) Q:JJ=""  S CT=CT+1,EOBLST(CT)=$O(IBEBERA(JJ,""))
"RTN","IBJTPE",36,0)
 I CT=1 S IBPEOB="1," G IND
"RTN","IBJTPE",37,0)
 ; Get the EOB to Print if more than one.
"RTN","IBJTPE",38,0)
 S IBRNG="1-"_IBEBERA
"RTN","IBJTPE",39,0)
 S DIR("A")="Select EEOB# to Print ("_IBRNG_"), (A)ll EEOBs or (E)xit: ",DIR(0)="LA^1:"_IBEBERA
"RTN","IBJTPE",40,0)
 S DIR("PRE")="S X=$S(""Aa""[$E(X):"""_IBRNG_""",""Ee""[$E(X):""^"",1:X)"
"RTN","IBJTPE",41,0)
 D ^DIR K DIR
"RTN","IBJTPE",42,0)
 I $D(DTOUT)!$D(DUOUT)!(Y="") S VALMQUIT=1 G INITQ
"RTN","IBJTPE",43,0)
 ; IBPEOB will be a list of numbers to print
"RTN","IBJTPE",44,0)
 S IBPEOB=Y
"RTN","IBJTPE",45,0)
 ; Ask device
"RTN","IBJTPE",46,0)
IND N POP S %ZIS="QM" D ^%ZIS I POP S VALMQUIT="" G INITQ
"RTN","IBJTPE",47,0)
 I $D(IO("Q")) D  S VALMQUIT="" G INITQ
"RTN","IBJTPE",48,0)
 . S ZTRTN=$S(IBALL=1:"EOBALL^IBJTPE",1:"EOBOUT^IBJTPE"),ZTDESC="AR EDI - Print EEOB Detail from 835 Information"
"RTN","IBJTPE",49,0)
 . S ZTSAVE("IB*")="",ZTSAVE("EOB*")=""
"RTN","IBJTPE",50,0)
 . D ^%ZTLOAD
"RTN","IBJTPE",51,0)
 . W !!,$S($D(ZTSK):"Your task number "_ZTSK_" has been queued.",1:"Unable to queue this job.")
"RTN","IBJTPE",52,0)
 . K ZTSK,IO("Q") D HOME^%ZIS
"RTN","IBJTPE",53,0)
 U IO
"RTN","IBJTPE",54,0)
 ; If IBALL set, print all EOBs on all ERAs otherwise print just selected EOBs/ERAs
"RTN","IBJTPE",55,0)
 G EOBALL:IBALL,EOBOUT
"RTN","IBJTPE",56,0)
 ;
"RTN","IBJTPE",57,0)
INITQ ;
"RTN","IBJTPE",58,0)
 S VALMQUIT=""
"RTN","IBJTPE",59,0)
 K IBEOB,EOBLST,IBRNG
"RTN","IBJTPE",60,0)
 Q
"RTN","IBJTPE",61,0)
 ;
"RTN","IBJTPE",62,0)
HELP ; -- help code
"RTN","IBJTPE",63,0)
 S X="?" D DISP^XQORM1 W !!
"RTN","IBJTPE",64,0)
 Q
"RTN","IBJTPE",65,0)
 ;
"RTN","IBJTPE",66,0)
EXIT ; -- exit code
"RTN","IBJTPE",67,0)
 Q
"RTN","IBJTPE",68,0)
 ;
"RTN","IBJTPE",69,0)
EXPND ; -- expand code
"RTN","IBJTPE",70,0)
 Q
"RTN","IBJTPE",71,0)
 ;
"RTN","IBJTPE",72,0)
EOBALL ; Entry point to print all ERAs and all EOBs
"RTN","IBJTPE",73,0)
 N ZQ,ZQL,IBPERA,JJ,IBEBERA,IBPEOB,CT,IBSL,IBPG,BB,BC,IBQUIT,IBREPG
"RTN","IBJTPE",74,0)
 S (IBPG,IBQUIT,IBREPG,IBSL)=0,ZQL=$L(ERALST,U)
"RTN","IBJTPE",75,0)
 F ZQ=1:1 S IBPERA=$P(ERALST,U,ZQ) Q:IBPERA=""  S:IBPG>0 IBREPG=1 D  Q:IBQUIT
"RTN","IBJTPE",76,0)
 . K IBEBERA D EEOB^IBJTEP1("IBEBERA",IBPERA,EPBILL,1) S JJ="",CT=0 F  S JJ=$O(IBEBERA(JJ)) Q:JJ=""  S CT=CT+1,EOBLST(CT)=$O(IBEBERA(JJ,""))
"RTN","IBJTPE",77,0)
 . I CT=1 S IBPEOB="1,"
"RTN","IBJTPE",78,0)
 . E  S IBPEOB="1-"_IBEBERA
"RTN","IBJTPE",79,0)
 . S IBSL=0 ; Print new page because we are switching ERA #s
"RTN","IBJTPE",80,0)
 . F BC=1:1 S BB=$P(IBPEOB,",",BC) Q:BB=""  S IBEIEN=EOBLST(BB) D EBO Q:IBQUIT
"RTN","IBJTPE",81,0)
 . I ZQ<ZQL D ASK(.IBQUIT)
"RTN","IBJTPE",82,0)
 I 'IBQUIT D SET("      ***  END OF REPORT  ***"),ASK(.IBQUIT)
"RTN","IBJTPE",83,0)
 G INITQ
"RTN","IBJTPE",84,0)
 Q
"RTN","IBJTPE",85,0)
EOBOUT ; Entry for either queued or screen print of EEOB
"RTN","IBJTPE",86,0)
 N AA,AQ,BB,BC,CC,EE,II,QQ,IBDT,IBPG,IBSL,IBQUIT,IBEOB,IBGX,IBCL,IBSPL,IBEERR,IBDGCR,IBEPAR,ACNT,IBQUIT,IBRDC,IBPERR,XLN,XSP,RCBAMT,RCDED,RCMD,RCOIN
"RTN","IBJTPE",87,0)
 N RCPL,RCRC,RCRLN,RCXY,RMIEN,SP80,TDOS,TECME,TEDT,TRX,TSTAT,TSDT,XSP1,IBREPG
"RTN","IBJTPE",88,0)
 S (IBQUIT,IBSL,IBPG,IBREPG)=0
"RTN","IBJTPE",89,0)
 S BB="" F BC=1:1 S BB=$P(IBPEOB,",",BC) Q:BB=""  S IBEIEN=EOBLST(BB) D EBO Q:IBQUIT
"RTN","IBJTPE",90,0)
 I 'IBQUIT D SET("      ***  END OF REPORT  ***"),ASK(.IBQUIT)
"RTN","IBJTPE",91,0)
 G INITQ
"RTN","IBJTPE",92,0)
 Q
"RTN","IBJTPE",93,0)
EBO ; Display the EOB DATA for IBEIEN
"RTN","IBJTPE",94,0)
 S SP80=$J("",IOM),IBDT=$$FMTE^XLFDT($$NOW^XLFDT,1) ; Date format Mon dd, yyyy@hh:mm:ss see kernel documentation
"RTN","IBJTPE",95,0)
 I (IBSL=0)&(IBPG=0) D RHDR(IBPERA,IBDT,.IBPG)
"RTN","IBJTPE",96,0)
 I IBREPG=1 S IBREPG=0 D RHDR(IBPERA,IBDT,.IBPG)
"RTN","IBJTPE",97,0)
 K IBEOB,IBGX,IBCL,IBDGCR,IBEPAR,IBSPL,IBEERR
"RTN","IBJTPE",98,0)
 D GETS^DIQ(361.1,IBEIEN_",",".01;.02;.03;.04;.06;.14;1.01;1.02;1.03;1.1;1.11;2.03;2.04;3.03;3.04;3.05;3.06;3.07;","EI","IBEOB")
"RTN","IBJTPE",99,0)
 D GETS^DIQ(361.1,IBEIEN_",","10*;","EI","IBGX"),RESORT^IBJTEP1("IBGX",361.111),RESORT^IBJTEP1("IBGX",361.11) ; Claim Level Adjustments
"RTN","IBJTPE",100,0)
 D GETS^DIQ(361.1,IBEIEN_",","15*;","EI","IBCL") ; Line Level Adjustments
"RTN","IBJTPE",101,0)
 D GETS^DIQ(361.1,IBEIEN_",","8*;","EI","IBSPL") ; ERA Splits for this EEOB
"RTN","IBJTPE",102,0)
 D GETS^DIQ(361.1,IBEIEN_",","20;","","IBEERR") ; EOB Errors if they exist
"RTN","IBJTPE",103,0)
 ; Make it easier to walk the data
"RTN","IBJTPE",104,0)
 D RESORT^IBJTEP1("IBCL",361.11511),RESORT^IBJTEP1("IBCL",361.115),RESORT^IBJTEP1("IBCL",361.1151)
"RTN","IBJTPE",105,0)
 D RESORT^IBJTEP1("IBCL",361.1152),RESORT^IBJTEP1("IBCL",361.1154)
"RTN","IBJTPE",106,0)
 D GETS^DIQ(399,IBEOB(361.1,IBEIEN_",",.01,"I")_",","460;","EI","IBDGCR")
"RTN","IBJTPE",107,0)
 D GETS^DIQ(344.4,IBPERA_",",".01;.02;.03;.04;.05;.06;.07;.08;.09;.1;.11;.12;.13;.14;.15;4.02;","E","IBEPAR")
"RTN","IBJTPE",108,0)
 ;
"RTN","IBJTPE",109,0)
 D SET("**********  EOB/835 INFORMATION ("_BB_" of "_IBEBERA_") **********") Q:IBQUIT
"RTN","IBJTPE",110,0)
 S XLN="  EOB Type: "_$G(IBEOB("361.1",IBEIEN_",",".04","E")),XSP=$E(SP80,1,(40-$L(XLN)))
"RTN","IBJTPE",111,0)
 D SET(XLN_XSP_"EOB Paid Date: "_$G(IBEOB("361.1",IBEIEN_",",".06","E"))) Q:IBQUIT
"RTN","IBJTPE",112,0)
 S TSDT=$$FMTE^XLFDT($G(IBEOB("361.1",IBEIEN_",","1.1","I")),"2Z"),TEDT=$$FMTE^XLFDT($G(IBEOB("361.1",IBEIEN_",","1.11","I")),"2Z"),XLN="  Svc From Date: "_TSDT,XSP=$E(SP80,1,(40-$L(XLN)))
"RTN","IBJTPE",113,0)
 D SET(XLN_XSP_"Svc to Date: "_TEDT) Q:IBQUIT
"RTN","IBJTPE",114,0)
 D SET("         ICN: "_$G(IBEOB("361.1",IBEIEN_",",".14","E"))) Q:IBQUIT
"RTN","IBJTPE",115,0)
 D SET("  Payer Name/TIN: "_$G(IBEOB("361.1",IBEIEN_",",".02","E"))_"/"_$G(IBEOB("361.1",IBEIEN_",",".03","E"))) Q:IBQUIT
"RTN","IBJTPE",116,0)
 S XLN="     ERA #: "_$G(IBEPAR("344.4",IBPERA_",",".01","E")),XSP=$E(SP80,1,(40-$L(XLN)))
"RTN","IBJTPE",117,0)
 D SET(XLN_XSP_"Auto-Post Status: "_$G(IBEPAR("344.4",IBPERA_",","4.02","E"))) Q:IBQUIT
"RTN","IBJTPE",118,0)
 D SET("   Trace #: "_$G(IBEPAR("344.4",IBPERA_",",".02","E"))) Q:IBQUIT
"RTN","IBJTPE",119,0)
 ; Access to PSOORDER supported by DBIA #1878
"RTN","IBJTPE",120,0)
 S TECME=$P($G(IBDGCR(399,IBEOB(361.1,IBEIEN_",",.01,"I")_",",460,"E")),";",1),TDOS=$$FMTE^XLFDT($$DOS^PSOBPSU1(+TECME),"2Z")
"RTN","IBJTPE",121,0)
 ;Reference to $$STATUS^BPSOSRX supported by IA 4412
"RTN","IBJTPE",122,0)
 S TRX=$$GET1^DIQ(52,+TECME_",",".01")
"RTN","IBJTPE",123,0)
 S TSTAT=$P($$STATUS^BPSOSRX(TRX,$$LSTRFL^PSOBPSU1(+TECME)),"^")
"RTN","IBJTPE",124,0)
 S TRX=TRX_"/"_$$LSTRFL^PSOBPSU1(+TECME)_"/"_TSTAT
"RTN","IBJTPE",125,0)
 I TECME="" S TDOS="",TRX=""
"RTN","IBJTPE",126,0)
 S XLN=" ECME #: "_TECME,XSP=$E(SP80,1,(25-$L(XLN))),XSP1=$E(SP80,1,(39-$L(XLN_XSP_"DOS: "_TDOS)))
"RTN","IBJTPE",127,0)
 D SET(XLN_XSP_"DOS: "_TDOS_XSP1_"Rx/Fill/Release Status: "_TRX) Q:IBQUIT
"RTN","IBJTPE",128,0)
 D SET("--------------------------------------------------------------------------------") Q:IBQUIT
"RTN","IBJTPE",129,0)
 D:$D(IBSPL)>1  Q:IBQUIT  ; This EEOB was split display split payment information
"RTN","IBJTPE",130,0)
 . N SPL
"RTN","IBJTPE",131,0)
 . D SET("** A/R CORRECTED PAYMENT DATA:") Q:IBQUIT
"RTN","IBJTPE",132,0)
 . D SET("   TOTAL AMT PD:          "_$J(IBEOB(361.1,IBEIEN_",",1.01,"E"),9,2)) Q:IBQUIT
"RTN","IBJTPE",133,0)
 . S SPL="" F  S SPL=$O(IBSPL(361.18,SPL)) Q:SPL=""  D  Q:IBQUIT
"RTN","IBJTPE",134,0)
 .. D SET("     "_$S(IBSPL(361.18,SPL,.03,"I")'="":$$BN1^PRCAFN(IBSPL(361.18,SPL,.03,"I"))_$J("",8),1:"[suspense] "_IBSPL(361.18,SPL,.01,"E"))_"  "_$J(IBSPL(361.18,SPL,.02,"E"),9,2)) Q:IBQUIT
"RTN","IBJTPE",135,0)
 . D SET(" ") Q:IBQUIT
"RTN","IBJTPE",136,0)
 D SET("CLAIM LEVEL PAY STATUS:") Q:IBQUIT
"RTN","IBJTPE",137,0)
 D SET("  Total Submitted Charges :"_$J($G(IBEOB("361.1",IBEIEN_",","2.04","E")),11,2)_"  Payer Covered Amount    :"_$J($G(IBEOB("361.1",IBEIEN_",","1.03","E")),11,2)) Q:IBQUIT
"RTN","IBJTPE",138,0)
 D SET("  Payer Paid Amount       :"_$J($G(IBEOB("361.1",IBEIEN_",","1.01","E")),11,2)_"  MEDICARE Allowed Amount :"_$J($G(IBEOB("361.1",IBEIEN_",","2.03","E")),11,2)) Q:IBQUIT
"RTN","IBJTPE",139,0)
 D SET("  Patient Responsibility  :"_$J($G(IBEOB("361.1",IBEIEN_",","1.02","E")),11,2)) Q:IBQUIT
"RTN","IBJTPE",140,0)
 D SET("--------------------------------------------------------------------------------") Q:IBQUIT
"RTN","IBJTPE",141,0)
 D SET("CLAIM LEVEL ADJUSTMENTS:") Q:IBQUIT
"RTN","IBJTPE",142,0)
 S AA="",ACNT=0 F  S AA=$O(IBGX(361.11,AA)) Q:AA=""  S ACNT=ACNT+1,AQ="" D  Q:IBQUIT
"RTN","IBJTPE",143,0)
 . S CC=AA F  S CC=$O(IBGX(361.111,CC)) Q:$E(CC,1,$L(AA))'=AA  D  Q:IBQUIT
"RTN","IBJTPE",144,0)
 .. I AQ="" S AQ=$J(ACNT,3)_") "
"RTN","IBJTPE",145,0)
 .. E  S ACNT=ACNT+1,AQ=$J(ACNT,3)_") "
"RTN","IBJTPE",146,0)
 .. D SET(AQ_"ADJ. AMT: "_$J(IBGX(361.111,CC,.02,"E"),9,2)_"  ADJ GROUP: "_IBGX(361.11,AA,.01,"I")_" => "_IBGX(361.11,AA,.01,"E")) Q:IBQUIT
"RTN","IBJTPE",147,0)
 .. S RMIEN=$$FIND1^DIC(345,"","BX",IBGX(361.111,CC,.01,"E"),"","","IBPERR")
"RTN","IBJTPE",148,0)
 .. I RMIEN'="" K IBPERR,RCRDC,RCFLD S RCXY=$$GET1^DIQ(345,RMIEN_",",4,"","RCRDC","IBPERR") D DLN^IBJTEP("RCRDC","RCFLD",57,69)
"RTN","IBJTPE",149,0)
 .. D SET("     ADJ. CODE: "_IBGX(361.111,CC,.01,"E")_" => "_RCFLD(1)) Q:IBQUIT
"RTN","IBJTPE",150,0)
 .. I RCFLD>1 F II=2:1:RCFLD D SET("          "_RCFLD(II)) Q:IBQUIT
"RTN","IBJTPE",151,0)
 I ACNT=0 D SET("  -- None --") Q:IBQUIT
"RTN","IBJTPE",152,0)
 D:'IBQUIT SET("CLAIM LEVEL REMARKS: ") Q:IBQUIT
"RTN","IBJTPE",153,0)
 S RCRC=0 F II="3.03","3.04","3.05","3.06","3.07" D:IBEOB("361.1",IBEIEN_",",II,"E")'=""  Q:IBQUIT
"RTN","IBJTPE",154,0)
 . ; Get IEN for this remark code - if no IEN then need to look at the data "RM1" to "RM5"
"RTN","IBJTPE",155,0)
 . S RMIEN=$$FIND1^DIC(346,"","BX",IBEOB("361.1",IBEIEN_",",II,"E"),"","","IBPERR")
"RTN","IBJTPE",156,0)
 . I RMIEN'="" K IBPERR,RCRDC,RCFLD S RCXY=$$GET1^DIQ(346,RMIEN_",",4,"","RCRDC","IBPERR") D DLN^IBJTEP("RCRDC","RCFLD",50,68)
"RTN","IBJTPE",157,0)
 . I RMIEN="" S RCFLD=$S(II="3.03":5.011,II="3.04":5.021,II="3.05":5.031,II="3.06":5.041,II="3.07":5.051,1:5.011) S RCRLN=$$GET1^DIQ(361.1,IBEIEN_",",RCFLD)
"RTN","IBJTPE",158,0)
 . S RCRC=RCRC+1 D SET("  --- REMARK CODE("_RCRC_"): "_IBEOB("361.1",IBEIEN_",",II,"E")_" => "_RCFLD(1)) Q:IBQUIT
"RTN","IBJTPE",159,0)
 . I RCFLD>1 F II=2:1:RCFLD D SET("          "_RCFLD(II)) Q:IBQUIT
"RTN","IBJTPE",160,0)
 I RCRC=0 D SET("  -- None --") Q:IBQUIT
"RTN","IBJTPE",161,0)
 D:'IBQUIT SET("--------------------------------------------------------------------------------") Q:IBQUIT
"RTN","IBJTPE",162,0)
 ; Walk through the line level information...
"RTN","IBJTPE",163,0)
 D SET("EEOB LINE LEVEL ADJUSTMENTS:") Q:IBQUIT
"RTN","IBJTPE",164,0)
 S RCPL=0,EE="" F  S EE=$O(IBCL(361.115,EE)) Q:EE=""  S RCPL=RCPL+1 D  Q:IBQUIT
"RTN","IBJTPE",165,0)
 . S QQ=EE,RCMD="" F  S QQ=$O(IBCL(361.1152,QQ)) Q:$E(QQ,1,$L(EE))'=EE  S RCMD=IBCL(361.1152,QQ,.01,"I")
"RTN","IBJTPE",166,0)
 . D SET(" #   SV DT  REVCD   PROC  MOD  UNITS   BILLED  DEDUCT   COINS    ALLOW     PYMT") Q:IBQUIT
"RTN","IBJTPE",167,0)
 . S RCBAMT=$$BILLN^IBJTEP1(IBEOB(361.1,IBEIEN_",",.01,"I"),IBCL(361.115,EE,.1,"E"),IBCL(361.115,EE,.04,"E"))
"RTN","IBJTPE",168,0)
 . S RCDED=$$ADJU^IBJTEP1("DEDUCT",.IBCL,EE),RCOIN=$$ADJU^IBJTEP1("COINS",.IBCL,EE) ; Get Deductable and Co-Insurance amts.
"RTN","IBJTPE",169,0)
 . S XLN=$J(RCPL,2,0)_" "_$$FMTE^XLFDT(IBCL(361.115,EE,.16,"I"),"2Z")_" "_$$CJ^XLFSTR(IBCL(361.115,EE,.1,"E"),5)_" "_$$CJ^XLFSTR(IBCL(361.115,EE,.04,"E"),8)_$$CJ^XLFSTR(RCMD,5)_" "_$$CJ^XLFSTR(IBCL(361.115,EE,.11,"E"),3)
"RTN","IBJTPE",170,0)
 . D SET(XLN_" "_$J(RCBAMT,9,2)_$J(RCDED,8,2)_$J(RCOIN,8,2)_$J(IBCL(361.115,EE,.13,"E"),9,2)_$J(IBCL(361.115,EE,.03,"E"),9,2)) Q:IBQUIT
"RTN","IBJTPE",171,0)
 . D SET(" ") Q:IBQUIT
"RTN","IBJTPE",172,0)
 . D SET("  Product/Service Description:"_IBCL(361.115,EE,.09,"E")) Q:IBQUIT
"RTN","IBJTPE",173,0)
 . D SET("  Payer Policy Reference:"_$G(IBCL(361.11512,EE,.01,"E"))) Q:IBQUIT
"RTN","IBJTPE",174,0)
 . D SET(" ") Q:IBQUIT
"RTN","IBJTPE",175,0)
 . S ACNT=0,AA=EE F  S AA=$O(IBCL(361.1151,AA)) Q:$E(AA,1,$L(EE))'=EE  D  Q:IBQUIT
"RTN","IBJTPE",176,0)
 .. S ACNT=ACNT+1
"RTN","IBJTPE",177,0)
 .. S CC=AA,RCRC=0 F  S CC=$O(IBCL(361.11511,CC)) Q:$E(CC,1,$L(AA))'=AA  D  Q:IBQUIT
"RTN","IBJTPE",178,0)
 ... S RCRC=RCRC+1 D SET("  -> ADJ. AMT: "_$J(IBCL(361.11511,CC,.02,"E"),9,2)_"  ADJ GROUP: "_IBCL(361.1151,AA,.01,"I")_" - "_IBCL(361.1151,AA,.01,"E")_"  "_$$CJ^XLFSTR("QTY: "_+$G(IBCL(361.11511,CC,.03,"E")),8)) Q:IBQUIT
"RTN","IBJTPE",179,0)
 ... S RCXY=$$FIND1^DIC(345,"","BX",IBCL(361.11511,CC,.01,"E"),"","","RCERR")
"RTN","IBJTPE",180,0)
 ... K RCRDC,RCERR S RCXY=$$GET1^DIQ(345,RCXY_",",4,"","RCRDC","RCERR")
"RTN","IBJTPE",181,0)
 ... I $D(RCRDC)>0 K RCFLD D DLN^IBJTEP("RCRDC","RCFLD",57,57)
"RTN","IBJTPE",182,0)
 ... I $D(RCRDC)=0 K RCFLD S RCRDC(1)=IBCL(361.11511,CC,.04,"E") D DLN^IBJTEP("RCRDC","RCFLD",57,57) ; If no data from file 345 use data from FMS
"RTN","IBJTPE",183,0)
 ... D SET("      ADJ CODE: "_$$CJ^XLFSTR(IBCL(361.11511,CC,.01,"E"),5)_" "_RCFLD(1)) Q:IBQUIT
"RTN","IBJTPE",184,0)
 ... I RCFLD>1 F II=2:1:RCFLD D SET("                      "_RCFLD(II)) Q:IBQUIT
"RTN","IBJTPE",185,0)
 . ; Display RARC Codes for this Line Item
"RTN","IBJTPE",186,0)
 . I $D(IBCL(361.1154))'=0 S QQ=EE,RCMD="" F  S QQ=$O(IBCL(361.1154,QQ)) Q:$E(QQ,1,$L(EE))'=EE  D  Q:IBQUIT
"RTN","IBJTPE",187,0)
 .. S RMIEN=$$FIND1^DIC(346,"","BX",IBCL(361.1154,QQ,.02,"E"),"","","IBERR")
"RTN","IBJTPE",188,0)
 .. I RMIEN'="" K IBPERR,RCRDC,RCFLD S RCXY=$$GET1^DIQ(346,RMIEN_",",4,"","RCRDC","IBPERR") D DLN^IBJTEP("RCRDC","RCFLD",50,68)
"RTN","IBJTPE",189,0)
 .. D SET("  --- RARC: "_IBCL(361.1154,QQ,.02,"E")_" - "_RCFLD(1)) Q:IBQUIT
"RTN","IBJTPE",190,0)
 .. I RCFLD>1 F II=2:1:RCFLD D SET("          "_RCFLD(II)) Q:IBQUIT
"RTN","IBJTPE",191,0)
 . D:ACNT'=0 SET(" ") Q:IBQUIT
"RTN","IBJTPE",192,0)
 I ACNT=0 D SET("  -- No Line Level Adjustments --") Q:IBQUIT
"RTN","IBJTPE",193,0)
 ; If there are EOB Errors add them to the Report
"RTN","IBJTPE",194,0)
 D:$D(IBEERR(361.1,IBEIEN_",",20))>9
"RTN","IBJTPE",195,0)
 . D SET(" ") Q:IBQUIT  D SET("EEOB MESSAGE ERRORS:") Q:IBQUIT
"RTN","IBJTPE",196,0)
 . N II S II=0 F  S II=$O(IBEERR(361.1,IBEIEN_",",20,II)) Q:II=""  D SET($G(IBEERR(361.1,IBEIEN_",",20,II))) Q:IBQUIT
"RTN","IBJTPE",197,0)
 D:'IBQUIT SET("================================================================================") Q:IBQUIT
"RTN","IBJTPE",198,0)
 ;
"RTN","IBJTPE",199,0)
 Q
"RTN","IBJTPE",200,0)
SET(DATA,NEW) ;
"RTN","IBJTPE",201,0)
 I $G(NEW)="" S NEW=1
"RTN","IBJTPE",202,0)
 W DATA,! S IBSL=IBSL+1
"RTN","IBJTPE",203,0)
 I IBSL'<(IOSL-4) S IBQUIT=$$NEWPG(.IBPG,NEW,.IBSL,IBPERA)
"RTN","IBJTPE",204,0)
 Q
"RTN","IBJTPE",205,0)
RHDR(IBSCR,IBDT,IBPG) ;Prints EOB detail report heading
"RTN","IBJTPE",206,0)
 ; IBSCR - IEN of the ERA; IBDT - Report Date; IBPG - page #, passed by reference.
"RTN","IBJTPE",207,0)
 N Z
"RTN","IBJTPE",208,0)
 S Z=$G(^RCY(344.4,IBSCR,0))
"RTN","IBJTPE",209,0)
 I IBPG!($E(IOST,1,2)="C-") W @IOF,*13
"RTN","IBJTPE",210,0)
 S IBPG=IBPG+1
"RTN","IBJTPE",211,0)
 D HDRP("EDI EEOB DETAIL - 835 INFORMATION SCREEN "_$$FMTE^XLFDT(IBDT,2),1,"Page: "_IBPG)
"RTN","IBJTPE",212,0)
 D HDRP($E(" ERA NUMBER: "_IBSCR_$J("",25),1,25)_" ERA DATE: "_$$FMTE^XLFDT($P(Z,U,4)),1)
"RTN","IBJTPE",213,0)
 D HDRP("INS COMPANY: "_$P(Z,U,6)_"/"_$P(Z,U,3),1)
"RTN","IBJTPE",214,0)
 D HDRP("ERA TRACE #: "_$P(Z,U,2),1)
"RTN","IBJTPE",215,0)
 W !,$TR($J("",IOM)," ","="),!
"RTN","IBJTPE",216,0)
 S IBSL=5
"RTN","IBJTPE",217,0)
 Q
"RTN","IBJTPE",218,0)
 ;
"RTN","IBJTPE",219,0)
NEWPG(IBPG,IBNEW,IBSL,IBSCR) ; Check for new page needed, output header
"RTN","IBJTPE",220,0)
 ; IBPG = Page number passwd by referece
"RTN","IBJTPE",221,0)
 ; IBNEW = 1 to force new page
"RTN","IBJTPE",222,0)
 ; IBSL = page length passed by reference
"RTN","IBJTPE",223,0)
 ; Function returns 1 if user chooses to stop output
"RTN","IBJTPE",224,0)
 N IBSTOP S IBSTOP=0
"RTN","IBJTPE",225,0)
 I IBNEW!'IBPG!(IBSL'<(IOSL-4)) D
"RTN","IBJTPE",226,0)
 . D:IBPG ASK(.IBSTOP) I IBSTOP Q
"RTN","IBJTPE",227,0)
 . W @IOF
"RTN","IBJTPE",228,0)
 . D RHDR(IBSCR,IBDT,.IBPG)
"RTN","IBJTPE",229,0)
 Q IBSTOP
"RTN","IBJTPE",230,0)
 ;
"RTN","IBJTPE",231,0)
ASK(IBSTOP) ; User if you want to quit or continue
"RTN","IBJTPE",232,0)
 S IBSTOP=0
"RTN","IBJTPE",233,0)
 I $E(IOST,1,2)'["C-" Q
"RTN","IBJTPE",234,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","IBJTPE",235,0)
 S DIR(0)="E" W ! D ^DIR
"RTN","IBJTPE",236,0)
 I ($D(DIRUT))!($D(DUOUT)) S IBSTOP=1 Q
"RTN","IBJTPE",237,0)
 Q
"RTN","IBJTPE",238,0)
 ;
"RTN","IBJTPE",239,0)
HDRP(Z,X,Z1) ; Print Header (Z=String, X=1 (line feed) X=0 (no LF), Z1 (page number right justified)
"RTN","IBJTPE",240,0)
 I X=1 W !
"RTN","IBJTPE",241,0)
 W ?(IOM-$L(Z)\2),Z W:$G(Z1)]"" ?(IOM-$L(Z1)),Z1
"RTN","IBJTPE",242,0)
 Q
"RTN","IBJTTB1")
0^4^B24663260
"RTN","IBJTTB1",1,0)
IBJTTB1 ;ALB/ARH - TPI AR TRANSACTION PROFILE BUILD ;07-APR-1995
"RTN","IBJTTB1",2,0)
 ;;2.0;INTEGRATED BILLING;**39,530**; 21-MAR-94;Build 71
"RTN","IBJTTB1",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","IBJTTB1",4,0)
 ;
"RTN","IBJTTB1",5,0)
BLD ; build array for list manager AR TRANSACTION
"RTN","IBJTTB1",6,0)
 ; input:  DFN, IBIFN - ptr to bill (399), IBTRNS - ptr to transaction (433)
"RTN","IBJTTB1",7,0)
 N IBI,IBJ,IBX,IBRCT0,IBRCT1,IBRCT2,IBRCT3,IBRCT5,IBRCT8,IBLN,IBSTR,IBD,IBT,IBT1,IBT2,IBT3,IBLL,IBRL,IBLC,IBRC,IBLW,IBRW,IBTRTY,IBBC,IBADDM,STRG,IB12,IB32,IB20,IBEDAT,IBERR,IBERA,IBXRC
"RTN","IBJTTB1",8,0)
 Q:'$G(IBTRNS)
"RTN","IBJTTB1",9,0)
 S IBLL=16,IBRL=16,IBLC=2,IBRC=35,IBLW=12+IBLL,IBRW=25+IBRL,IB12=12,IB20=20,IB32=32
"RTN","IBJTTB1",10,0)
 ;
"RTN","IBJTTB1",11,0)
 S IBRCT0=$$N0^RCJIBFN1(IBTRNS),IBRCT1=$$N1^RCJIBFN1(IBTRNS),IBRCT2=$$N2^RCJIBFN1(IBTRNS)
"RTN","IBJTTB1",12,0)
 S IBRCT3=$$N3^RCJIBFN1(IBTRNS),IBRCT5=$$N5^RCJIBFN1(IBTRNS),IBRCT8=$$N8^RCJIBFN1(IBTRNS)
"RTN","IBJTTB1",13,0)
 S IBTRTY=$P($$STNO^RCJIBFN2(+$P(IBRCT1,U,2)),U,3)
"RTN","IBJTTB1",14,0)
 ;
"RTN","IBJTTB1",15,0)
 ; IB*2.0*530 - Get ERA#, Trace# and 835 Payer/Tin from Receipt
"RTN","IBJTTB1",16,0)
 D:$P(IBRCT1,U,3)]""
"RTN","IBJTTB1",17,0)
 . S IBXRC=$$FIND1^DIC(344,"","",$P(IBRCT1,U,3),"B","","IBERR"),IBERA=$$GET1^DIQ(344,IBXRC_",",".18","I")
"RTN","IBJTTB1",18,0)
 . D GETS^DIQ(344.4,IBERA_",",".01;.02;.03;.06","E","IBEDAT")
"RTN","IBJTTB1",19,0)
 I $P(IBRCT1,U,3)="" S IBERA=0,IBEDAT(344.4,IBERA_",",.01,"E")="NO ERA#",IBEDAT(344.4,IBERA_",",.02,"E")="NO TRACE#",IBEDAT(344.4,IBERA_",",.03,"E")="NO TIN",IBEDAT(344.4,IBERA_",",.06,"E")="NO PAYER"
"RTN","IBJTTB1",20,0)
 ;
"RTN","IBJTTB1",21,0)
 S IBLN=1,IBSTR=""
"RTN","IBJTTB1",22,0)
 S IBD="TRANS. NO: ",IBD=$J(IBD,IBLL)_$P(IBRCT0,U,1) S IBSTR=$$SETLN(IBD,IBSTR,IBLC,IBLW)
"RTN","IBJTTB1",23,0)
 S IBD="TRANS. TYPE: ",IBD=$J(IBD,IBLL)_$P($$STNO^RCJIBFN2(+$P(IBRCT1,U,2)),U,1) S IBSTR=$$SETLN(IBD,IBSTR,IBRC,IBRW)
"RTN","IBJTTB1",24,0)
 S IBLN=$$SET(IBSTR,IBLN),IBSTR=""
"RTN","IBJTTB1",25,0)
 ;
"RTN","IBJTTB1",26,0)
 S IBD="TRANS. DATE: ",IBD=$J(IBD,IBLL)_$$DATE^IBJU1(+IBRCT1) S IBSTR=$$SETLN(IBD,IBSTR,IBLC,IBLW)
"RTN","IBJTTB1",27,0)
 S IBD="DATE POSTED: ",IBD=$J(IBD,IBLL)_$$DATE^IBJU1(+$P(IBRCT1,U,7))
"RTN","IBJTTB1",28,0)
 S IBD=IBD_"  ("_$P($G(^VA(200,+$P(IBRCT0,U,3),0)),U,2)_")" S IBSTR=$$SETLN(IBD,IBSTR,IBRC,IBRW)
"RTN","IBJTTB1",29,0)
 S IBLN=$$SET(IBSTR,IBLN),IBSTR=""
"RTN","IBJTTB1",30,0)
 ;
"RTN","IBJTTB1",31,0)
 ; IB*2.0*530 - Add ERA#, Trace # and 835 Payer/TIN to screen
"RTN","IBJTTB1",32,0)
 S IBD="TRANS. AMOUNT: ",IBD=$J(IBD,IBLL)_$FN($P(IBRCT1,U,5),",",2) S IBSTR=$$SETLN(IBD,IBSTR,IBLC,IBLW)
"RTN","IBJTTB1",33,0)
 I IBTRTY=2!(IBTRTY=20) S IBD="ERA#: ",IBD=$J(IBD,8)_$G(IBEDAT(344.4,IBERA_",",.01,"E")) S IBSTR=$$SETLN(IBD,IBSTR,IB32,IB20)
"RTN","IBJTTB1",34,0)
 I IBTRTY=2!(IBTRTY=20) S IBD="RECEIPT #: ",IBD=$J(IBD,IB12)_$P(IBRCT1,U,3) S IBSTR=$$SETLN(IBD,IBSTR,54,26)
"RTN","IBJTTB1",35,0)
 S IBLN=$$SET(IBSTR,IBLN),IBSTR=""
"RTN","IBJTTB1",36,0)
 I IBTRTY=2!(IBTRTY=20) S IBD="PAYER NAME/TIN: ",IBD=$J(IBD,IBLL)_$G(IBEDAT(344.4,IBERA_",",.06,"E"))_"/"_$G(IBEDAT(344.4,IBERA_",",.03,"E")) S IBSTR=$$SETLN(IBD,IBSTR,IBLC,66)
"RTN","IBJTTB1",37,0)
 S IBLN=$$SET(IBSTR,IBLN),IBSTR=""
"RTN","IBJTTB1",38,0)
 I IBTRTY=2!(IBTRTY=20) S IBD="TRACE#: ",IBD=$J(IBD,IBLL)_$G(IBEDAT(344.4,IBERA_",",.02,"E")) S IBSTR=$$SETLN(IBD,IBSTR,IBLC,66)
"RTN","IBJTTB1",39,0)
 S IBLN=$$SET(IBSTR,IBLN),IBSTR=""
"RTN","IBJTTB1",40,0)
 ;
"RTN","IBJTTB1",41,0)
 I IBTRTY=21!(IBTRTY=1) S IBD="ADJUSTMENT #: ",IBD=$J(IBD,IBLL)_$P(IBRCT1,U,4) S IBSTR=$$SETLN(IBD,IBSTR,IBLC,IBLW)
"RTN","IBJTTB1",42,0)
 I $P(IBRCT0,U,2)'="" I IBTRTY=1!((IBTRTY>7)&(IBTRTY<12))!(IBTRTY=21)!(IBTRTY=29)!(IBTRTY=30) D
"RTN","IBJTTB1",43,0)
 . S IBD="DATE CALM DONE: ",IBD=$J(IBD,IBLL)_$$DATE^IBJU1($P(IBRCT0,U,2)) S IBSTR=$$SETLN(IBD,IBSTR,IBRC,IBRW)
"RTN","IBJTTB1",44,0)
 I IBSTR'="" S IBLN=$$SET(IBSTR,IBLN),IBSTR=""
"RTN","IBJTTB1",45,0)
 ;
"RTN","IBJTTB1",46,0)
 I IBTRTY=17!($P(IBRCT5,U,2)'="") S IBD="FOLLOW-UP DATE: ",IBD=$J(IBD,IBLL)_$$DATE^IBJU1($P(IBRCT5,U,2)) S IBSTR=$$SETLN(IBD,IBSTR,IBLC,IBLW)
"RTN","IBJTTB1",47,0)
 I IBSTR'="" S IBLN=$$SET(IBSTR,IBLN),IBSTR=""
"RTN","IBJTTB1",48,0)
 ;
"RTN","IBJTTB1",49,0)
 I $P(IBRCT0,U,4)["INCOMPLETE" S IBLN=$$SET(" ",IBLN) D
"RTN","IBJTTB1",50,0)
 . S IBD="NOTE: ",IBD=$J(IBD,IBLL)_$P(IBRCT0,U,4) S IBSTR=$$SETLN(IBD,"",IBLC,79),IBLN=$$SET(IBSTR,IBLN) S IBSTR=""
"RTN","IBJTTB1",51,0)
 ;
"RTN","IBJTTB1",52,0)
 I IBTRTY=8!(IBTRTY=9) S IBLN=$$SET(" ",IBLN) D  S IBLN=$$SET(IBSTR,IBLN) S IBSTR=""
"RTN","IBJTTB1",53,0)
 . S IBT=22,IBSTR="TERMINATION REASON: ",IBD=$P(IBRCT1,U,6) S IBSTR=$$SETLN(IBD,IBSTR,IBT,50)
"RTN","IBJTTB1",54,0)
 ;
"RTN","IBJTTB1",55,0)
 ; balance and collection amounts
"RTN","IBJTTB1",56,0)
 D BCSCR^IBJTTB2
"RTN","IBJTTB1",57,0)
 ;
"RTN","IBJTTB1",58,0)
 ; administrative charges
"RTN","IBJTTB1",59,0)
 I IBRCT2'="",IBTRTY=12 S IBLN=$$SET(" ",IBLN) S IBSTR="" D
"RTN","IBJTTB1",60,0)
 . S IBT=2,IBD="ADMINISTRATIVE COST CHARGE: " S IBSTR=$$SETLN(IBD,IBSTR,IBT,29)
"RTN","IBJTTB1",61,0)
 . D ADDM^IBJTTB2 S IBI=0 F  S IBI=$O(IBADDM(IBI)) Q:'IBI  D  S IBLN=$$SET(IBSTR,IBLN) S IBSTR=""
"RTN","IBJTTB1",62,0)
 .. S IBT=32,IBD=$P(IBADDM(IBI),U,1) S IBSTR=$$SETLN(IBD,IBSTR,IBT,17)
"RTN","IBJTTB1",63,0)
 .. S IBT=50,IBD=$J($P(IBADDM(IBI),U,2),11,2) S IBSTR=$$SETLN(IBD,IBSTR,IBT,11)
"RTN","IBJTTB1",64,0)
 ;
"RTN","IBJTTB1",65,0)
 K STRG D N4^RCJIBFN1(IBTRNS) S (IBI,IBJ)=0 F  S IBI=$O(STRG(IBI)) Q:'IBI  D  S IBLN=$$SET(IBSTR,IBLN) S IBSTR=""
"RTN","IBJTTB1",66,0)
 . S IBX=STRG(IBI) Q:IBX=""  S IBJ=IBJ+1
"RTN","IBJTTB1",67,0)
 . I IBJ=1 S IBLN=$$SET(" ",IBLN)
"RTN","IBJTTB1",68,0)
 . S IBT=7,IBD=$S(IBJ=1:"FY: ",1:"    ")_$P(IBX,U,1) S IBSTR=$$SETLN(IBD,IBSTR,IBT,8)
"RTN","IBJTTB1",69,0)
 . S IBT=28,IBD=$S(IBJ=1:"PR AMT: ",1:"        ")_$FN(+$P(IBX,U,2),",",2) S IBSTR=$$SETLN(IBD,IBSTR,IBT,21)
"RTN","IBJTTB1",70,0)
 . S IBT=57,IBD=$S(IBJ=1:"FY TR AMT: ",1:"           ")_$FN(+$P(IBX,U,4),",",2) S IBSTR=$$SETLN(IBD,IBSTR,IBT,22)
"RTN","IBJTTB1",71,0)
 K STRG
"RTN","IBJTTB1",72,0)
 ;
"RTN","IBJTTB1",73,0)
 S IBLN=$$SET(" ",IBLN),IBSTR="COMMENTS: "
"RTN","IBJTTB1",74,0)
 S IBT=11,IBD=$P(IBRCT5,U,1) I IBD'="" S IBSTR=$$SETLN(IBD,IBSTR,IBT,45),IBLN=$$SET(IBSTR,IBLN) S IBSTR=""
"RTN","IBJTTB1",75,0)
 D TRCOMM^IBJTTB2,COMM^IBJTTB2
"RTN","IBJTTB1",76,0)
 ;
"RTN","IBJTTB1",77,0)
 S VALMCNT=IBLN-1
"RTN","IBJTTB1",78,0)
 ;
"RTN","IBJTTB1",79,0)
 Q
"RTN","IBJTTB1",80,0)
 ;
"RTN","IBJTTB1",81,0)
SETLN(STR,IBX,COL,WD) ;
"RTN","IBJTTB1",82,0)
 S IBX=$$SETSTR^VALM1(STR,IBX,COL,WD)
"RTN","IBJTTB1",83,0)
 Q IBX
"RTN","IBJTTB1",84,0)
 ;
"RTN","IBJTTB1",85,0)
SET(STR,LN) ; set up TMP array with screen data
"RTN","IBJTTB1",86,0)
 N IBX,IBI
"RTN","IBJTTB1",87,0)
 D SET^VALM10(LN,STR)
"RTN","IBJTTB1",88,0)
 S LN=LN+1
"RTN","IBJTTB1",89,0)
SETQ Q LN
"RTN","IBJTU1")
0^9^B8838308
"RTN","IBJTU1",1,0)
IBJTU1 ;ALB/ARH - TPI UTILITIES ;2/14/95
"RTN","IBJTU1",2,0)
 ;;2.0;INTEGRATED BILLING;**39,80,276,451,516,530**;21-MAR-94;Build 71
"RTN","IBJTU1",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","IBJTU1",4,0)
 ;
"RTN","IBJTU1",5,0)
PRVSCR(SCRNARR) ; called as part of a screen ACTION PROTOCOL'S ENTRY ACTION to determine if screen has already been displayed
"RTN","IBJTU1",6,0)
 ; returns true if screen array already exists (ie. already displayed), 
"RTN","IBJTU1",7,0)
 ; setting IBFASTXT causes LM to back out of current screens,
"RTN","IBJTU1",8,0)
 ; setting IBPRVSCR causes LM to stop exiting screens when the chosen screen is reached
"RTN","IBJTU1",9,0)
 ; if user tries to execute a screen already displayed it will quit out of existing screens until the asked for screen is found
"RTN","IBJTU1",10,0)
 N X S X=0,IBPRVSCR="" I $G(SCRNARR)'="",$D(^TMP(SCRNARR,$J)) S X=1,IBPRVSCR=SCRNARR,IBFASTXT=3
"RTN","IBJTU1",11,0)
 Q X
"RTN","IBJTU1",12,0)
 ;
"RTN","IBJTU1",13,0)
HDR(IBIFN,DFN,LNS) ; called by a screens's LIST TEMPLATE HEADER to get lines for header, used for all TP screens
"RTN","IBJTU1",14,0)
 ;input:  LNS=header lines to add  ---  defined on exit: VALMHDR array
"RTN","IBJTU1",15,0)
 ;
"RTN","IBJTU1",16,0)
 N X,Y,Z,IBD0,IBPD0,IBDI1,IBCNT S IBIFN=+$G(IBIFN),DFN=+$G(DFN),LNS=+$G(LNS) K VALMHDR
"RTN","IBJTU1",17,0)
 S IBCNT=0,IBD0=$G(^DGCR(399,+IBIFN,0)),IBPD0=$G(^DPT(+DFN,0))
"RTN","IBJTU1",18,0)
 ;IB*2.0*516/TAZ - Call $$POLICY^IBCEF to insert HIPAA compliant fields into variable IBDI1. Data will
"RTN","IBJTU1",19,0)
 ;continue to be extracted from IBDI1 original location.
"RTN","IBJTU1",20,0)
 ;S IBDI1=$P(IBD0,U,21),IBDI1=$S(IBDI1="S":"I2",IBDI1="T":"I3",1:"I1"),IBDI1=$G(^DGCR(399,+IBIFN,IBDI1))
"RTN","IBJTU1",21,0)
 S IBDI1=$P(IBD0,U,21),IBDI1=$$POLICY^IBCEF(IBIFN,,IBDI1)  ; 516 - baa
"RTN","IBJTU1",22,0)
 ;
"RTN","IBJTU1",23,0)
1 I LNS'[1 G 2
"RTN","IBJTU1",24,0)
 ; -- first line of screens: BILL NUMBER, PAT NAME, PAT ID, DOB, SUBSCRIBER ID
"RTN","IBJTU1",25,0)
 N IBBILL,IBPAT,IBPATID,IBDOB,IBSUB,IBPNWDTH,REJFLG S IBCNT=IBCNT+1,(IBSUB,IBPATID)=""
"RTN","IBJTU1",26,0)
 S IBBILL=$P(IBD0,U,1)_$$ECME^IBTRE(IBIFN)
"RTN","IBJTU1",27,0)
 S X=$$PT^IBEFUNC(DFN),IBPAT=$P(X,U,1) I $P(X,U,3)'="" S IBPATID=$E(X)_$P(X,U,3)
"RTN","IBJTU1",28,0)
 S IBDOB="DOB: "_$$DATE^IBJU1($P(IBPD0,U,3))
"RTN","IBJTU1",29,0)
 I +IBIFN S X=$P(IBDI1,U,2),X=X_$J("",(13-$L(X))),IBSUB="Subsc ID: "_X
"RTN","IBJTU1",30,0)
 ;
"RTN","IBJTU1",31,0)
 ; IB*2.0*530 - Reject Indicator
"RTN","IBJTU1",32,0)
 I ($G(NAME)="IBJT BILL CHARGES")!($G(NAME)="IBJT CLAIM INFO") S REJFLG=$S($$BILLREJ^IBJTU6($P(IBBILL,"e")):"c",1:"")
"RTN","IBJTU1",33,0)
 ; IB*2.0*451 - get EEOB indicator for bill #
"RTN","IBJTU1",34,0)
 S IBPFLAG=$$EEOB^IBJTLA1(IBIFN)
"RTN","IBJTU1",35,0)
 S IBBILL=$G(IBPFLAG)_$G(REJFLG)_IBBILL
"RTN","IBJTU1",36,0)
 S IBPNWDTH=80-($L(IBBILL)+3+2+$L(IBPATID)+3+$L(IBDOB)+3+$L(IBSUB)),IBPAT=$E(IBPAT,1,IBPNWDTH),Z="   "
"RTN","IBJTU1",37,0)
 S VALMHDR(IBCNT)=IBBILL_Z_IBPAT_"  "_IBPATID_$J("",(IBPNWDTH-$L(IBPAT)))_Z_IBDOB_Z_IBSUB
"RTN","IBJTU1",38,0)
 ; IB*2.0*451 - add explanation of '%' indicator for the user
"RTN","IBJTU1",39,0)
 S VALMSG="|% EEOB | Enter ?? for more actions|"
"RTN","IBJTU1",40,0)
2 I LNS'[2 G 3
"RTN","IBJTU1",41,0)
 ; -- bill screens line 2: STATEMENT DATES, TIMEFRAME, ORIG AMT (AR)
"RTN","IBJTU1",42,0)
 N IBDU S IBCNT=IBCNT+1,IBDU=$G(^DGCR(399,+IBIFN,"U"))
"RTN","IBJTU1",43,0)
 S X=" "_$$DATE^IBJU1(+IBDU)_" - "_$$DATE^IBJU1(+$P(IBDU,U,2)),VALMHDR(IBCNT)=X_$J("",(28-$L(X)))
"RTN","IBJTU1",44,0)
 S X=$$EXSET^IBJU1(+$P(IBD0,U,6),399,.06),VALMHDR(IBCNT)=VALMHDR(IBCNT)_X_$J("",(29-$L(X)))
"RTN","IBJTU1",45,0)
 S X=$$BILL^RCJIBFN2(IBIFN),X="Orig Amt: "_$FN($P(X,U,1),",",2),VALMHDR(IBCNT)=VALMHDR(IBCNT)_X
"RTN","IBJTU1",46,0)
 ; IB*2.0*451 - add explanation of '%' indicator for the user
"RTN","IBJTU1",47,0)
 S VALMSG="|% EEOB | Enter ?? for more actions|"
"RTN","IBJTU1",48,0)
3 I LNS'[3 G HDRQ
"RTN","IBJTU1",49,0)
 ; -- AR screens line 2: CURRENT STATUS (AR), ORIGINAL AMT (AR), CURRENT AMT (AR)
"RTN","IBJTU1",50,0)
 N IBST,IBOC,IBBD,IBY S IBCNT=IBCNT+1,IBY=$$BILL^RCJIBFN2(+IBIFN)
"RTN","IBJTU1",51,0)
 S IBST="AR Status: "_$P($$ARSTATA^IBJTU4(+IBIFN),U,1)
"RTN","IBJTU1",52,0)
 S IBOC="Orig Amt: "_$FN($P(IBY,U,1),",",2)
"RTN","IBJTU1",53,0)
 S IBBD="Balance Due: "_$FN($P(IBY,U,3),",",2)
"RTN","IBJTU1",54,0)
 ;
"RTN","IBJTU1",55,0)
 S X="  "_IBOC_$J("",(20-$L(IBOC)))_" "_IBBD_$J("",(23-$L(IBBD))),Y=80-$L(X),IBST=$E(IBST,1,Y)
"RTN","IBJTU1",56,0)
 S VALMHDR(IBCNT)=IBST_$J("",(Y-$L(IBST)))_X
"RTN","IBJTU1",57,0)
 ;
"RTN","IBJTU1",58,0)
HDRQ Q
"RTN","IBJTU6")
0^10^B8750017
"RTN","IBJTU6",1,0)
IBJTU6 ;ALB/ESG - TPJI UTILITIES/APIs ;9/2/11
"RTN","IBJTU6",2,0)
 ;;2.0;INTEGRATED BILLING;**452,530**;21-MAR-94;Build 71
"RTN","IBJTU6",3,0)
 ;;Per VA Directive 6402, this routine should not be modified.
"RTN","IBJTU6",4,0)
 ;
"RTN","IBJTU6",5,0)
 Q
"RTN","IBJTU6",6,0)
 ;
"RTN","IBJTU6",7,0)
IBDSP(TYPE,IBIFN,DFN,IBCDFN,IBLMDISPA,VALMHDR) ; Build IB display array data
"RTN","IBJTU6",8,0)
 ; The purpose of this API is to build the List Manager display array scratch global
"RTN","IBJTU6",9,0)
 ; and return it to the calling application in the scratch global array specified.
"RTN","IBJTU6",10,0)
 ;
"RTN","IBJTU6",11,0)
 ;  Input:
"RTN","IBJTU6",12,0)
 ;      TYPE - type of IB screen data to build, can be one of the following:
"RTN","IBJTU6",13,0)
 ;         1 = TPJI Claim Information screen (default)
"RTN","IBJTU6",14,0)
 ;         2 = TPJI AR Account Profile screen
"RTN","IBJTU6",15,0)
 ;         3 = TPJI AR Comment History screen
"RTN","IBJTU6",16,0)
 ;         4 = TPJI ECME Rx Response screen
"RTN","IBJTU6",17,0)
 ;         5 = Patient Insurance Policy Information screen
"RTN","IBJTU6",18,0)
 ;     IBIFN - claim ien (#399) Required for any TPJI screen, otherwise optional
"RTN","IBJTU6",19,0)
 ;       DFN - patient ien (#2) Required for Insurance screen, otherwise optional
"RTN","IBJTU6",20,0)
 ;    IBCDFN - insurance type ien (#2.312) Required for Insurance screen, otherwise optional
"RTN","IBJTU6",21,0)
 ;
"RTN","IBJTU6",22,0)
 ; Output:
"RTN","IBJTU6",23,0)
 ;    IBLMDISPA - Destination scratch global reference in which to store the results
"RTN","IBJTU6",24,0)
 ;                Pass closed scratch global reference.
"RTN","IBJTU6",25,0)
 ;                Data will be returned in @IBLMDISPA@(LN,0), where LN is a sequential line# counter
"RTN","IBJTU6",26,0)
 ;      VALMHDR - LM display header array.  Pass by reference
"RTN","IBJTU6",27,0)
 ;
"RTN","IBJTU6",28,0)
 N VALMAR,IBRTN
"RTN","IBJTU6",29,0)
 N I,IBX,IBXARRAY,IBXARRY,IBXERR,IBXSAVE,VALMBG,VALMSG,VALMCNT,X,Y,Z,IBPOLICY,IBARCOMM
"RTN","IBJTU6",30,0)
 N D0,IB1ST,IBCNS,IBCPOL,IBCPOLD,IBCPOLD1,IBCPOLD2,VALM,VALMDDF,GX,IBPPOL
"RTN","IBJTU6",31,0)
 K @IBLMDISPA,VALMHDR
"RTN","IBJTU6",32,0)
 ;
"RTN","IBJTU6",33,0)
 I '$F(".1.2.3.4.5.","."_$G(TYPE)_".") S TYPE=1
"RTN","IBJTU6",34,0)
 ;
"RTN","IBJTU6",35,0)
 I $F(".1.2.3.4.","."_TYPE_"."),'$G(IBIFN) G IBDSPX    ; IBIFN required for TPJI screens
"RTN","IBJTU6",36,0)
 I $F(".1.2.3.4.","."_TYPE_"."),'$G(DFN) S DFN=+$P($G(^DGCR(399,+$G(IBIFN),0)),U,2) I 'DFN G IBDSPX
"RTN","IBJTU6",37,0)
 I TYPE=5,'$G(DFN) G IBDSPX       ; DFN required for ins
"RTN","IBJTU6",38,0)
 I TYPE=5,'$G(IBCDFN) G IBDSPX    ; IBCDFN required for ins
"RTN","IBJTU6",39,0)
 ;
"RTN","IBJTU6",40,0)
 I TYPE=1 S VALMAR=$NA(^TMP("IBJTCA",$J)),IBRTN="INIT^IBJTCA,HDR^IBJTCA"   ; tpji claim info
"RTN","IBJTU6",41,0)
 I TYPE=2 S VALMAR=$NA(^TMP("IBJTTA",$J)),IBRTN="INIT^IBJTTA,HDR^IBJTTA"   ; tpji AR acct profile
"RTN","IBJTU6",42,0)
 I TYPE=3 S VALMAR=$NA(^TMP("IBJTTC",$J)),IBRTN="INIT^IBJTTC,HDR^IBJTTC"   ; tpji AR comment
"RTN","IBJTU6",43,0)
 I TYPE=4 S VALMAR=$NA(^TMP("IBJTRX",$J)),IBRTN="INIT^IBJTRX,HDR^IBJTRX"   ; tpji ECME Rx
"RTN","IBJTU6",44,0)
 I TYPE=5 S VALMAR=$NA(^TMP("IBCNSVP",$J)),IBRTN="INIT^IBCNSP"             ; pt ins policy detail
"RTN","IBJTU6",45,0)
 ;
"RTN","IBJTU6",46,0)
 I TYPE=2 S VALM("IFN")=+$$FIND1^DIC(409.61,,,"IBJT AR ACCOUNT PROFILE"),GX="D COL^VALM" X GX
"RTN","IBJTU6",47,0)
 I TYPE=5 S IBPPOL=U_2_U_DFN_U_IBCDFN_U_$G(^DPT(DFN,.312,IBCDFN,0))
"RTN","IBJTU6",48,0)
 K @VALMAR
"RTN","IBJTU6",49,0)
 D @IBRTN
"RTN","IBJTU6",50,0)
 ;
"RTN","IBJTU6",51,0)
 ; merge IB display lines into target array
"RTN","IBJTU6",52,0)
 M @IBLMDISPA=@VALMAR
"RTN","IBJTU6",53,0)
 ;
"RTN","IBJTU6",54,0)
 ; clean up IB scratch arrays
"RTN","IBJTU6",55,0)
 K @VALMAR,^TMP($J,"IBTPJI"),^TMP("IBJTTAX",$J)
"RTN","IBJTU6",56,0)
 ;
"RTN","IBJTU6",57,0)
IBDSPX ;
"RTN","IBJTU6",58,0)
 Q
"RTN","IBJTU6",59,0)
 ;
"RTN","IBJTU6",60,0)
BILLREJ(BILL) ;Is the bill a reject?
"RTN","IBJTU6",61,0)
 ; Input:
"RTN","IBJTU6",62,0)
 ; BILL - Bill number from #399 - External Value (.01), not IEN
"RTN","IBJTU6",63,0)
 ; Output:
"RTN","IBJTU6",64,0)
 ; REJECT - Reject status (blank = not found, 0 = not a reject, 1 = rejected)
"RTN","IBJTU6",65,0)
 ;
"RTN","IBJTU6",66,0)
 N IEN,PTR,SEV,REJECT
"RTN","IBJTU6",67,0)
 I BILL="" Q ""  ;no bill #
"RTN","IBJTU6",68,0)
 S REJECT=0,IEN=$O(^DGCR(399,"B",BILL,"")) Q:'IEN ""
"RTN","IBJTU6",69,0)
 I '$D(^IBM(361,"B",IEN)) Q ""  ;no entry in #361
"RTN","IBJTU6",70,0)
 S PTR=0 F  S PTR=$O(^IBM(361,"B",IEN,PTR)) Q:'PTR  D  Q:REJECT
"RTN","IBJTU6",71,0)
 . S SEV=$$GET1^DIQ(361,PTR_",",.03,"I")
"RTN","IBJTU6",72,0)
 . I SEV="R" S REJECT=1
"RTN","IBJTU6",73,0)
 Q REJECT
"VER")
8.0^22.0
"^DD",361.1,361.1,.03,0)
PAYER ID^F^^0;3^K:$L(X)>20!($L(X)<1) X
"^DD",361.1,361.1,.03,1,0)
^.1
"^DD",361.1,361.1,.03,1,1,0)
361.1^D
"^DD",361.1,361.1,.03,1,1,1)
S ^IBM(361.1,"D",$E(X,1,30),DA)=""
"^DD",361.1,361.1,.03,1,1,2)
K ^IBM(361.1,"D",$E(X,1,30),DA)
"^DD",361.1,361.1,.03,1,1,3)
Do not delete
"^DD",361.1,361.1,.03,1,1,"%D",0)
^^3^3^3150209^
"^DD",361.1,361.1,.03,1,1,"%D",1,0)
This search cross reference on PAYER ID field. Reports for EOB file use
"^DD",361.1,361.1,.03,1,1,"%D",2,0)
PAYER ID as a search criteria and this index will speed up the ad-hoc
"^DD",361.1,361.1,.03,1,1,"%D",3,0)
reports.  
"^DD",361.1,361.1,.03,1,1,"DT")
3150209
"^DD",361.1,361.1,.03,3)
Answer must be 1-20 characters in length.
"^DD",361.1,361.1,.03,21,0)
^^1^1^2981006^
"^DD",361.1,361.1,.03,21,1,0)
This is the payer ID provided for the insurance co that returned this EOB.
"^DD",361.1,361.1,.03,"DT")
3150710
"^DD",361.1,361.1,.05,0)
ENTRY DATE/TIME^RD^^0;5^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",361.1,361.1,.05,1,0)
^.1^^-1
"^DD",361.1,361.1,.05,1,2,0)
361.1^AD^MUMPS
"^DD",361.1,361.1,.05,1,2,1)
S ^IBM(361.1,"AD",+X,DA)=""
"^DD",361.1,361.1,.05,1,2,2)
K ^IBM(361.1,"AD",+X,DA)
"^DD",361.1,361.1,.05,1,2,3)
Please do not delete
"^DD",361.1,361.1,.05,1,2,"%D",0)
^.101^2^2^3150810^^
"^DD",361.1,361.1,.05,1,2,"%D",1,0)
This index will be used to lookup EEOB by date the EEOB was entered into 
"^DD",361.1,361.1,.05,1,2,"%D",2,0)
VistA to speed up report generation.
"^DD",361.1,361.1,.05,1,2,"DT")
3150810
"^DD",361.1,361.1,.05,3)
Enter the date and time this entry is added to the file
"^DD",361.1,361.1,.05,21,0)
^.001^2^2^3110321^^^^
"^DD",361.1,361.1,.05,21,1,0)
This is the date and time that this EOB entry was added to the Vista file.
"^DD",361.1,361.1,.05,21,2,0)
This is not mapped from the 835 transmission.
"^DD",361.1,361.1,.05,"DT")
3150810
"^DD",361.1,361.1,.06,0)
EOB PAID DATE^D^^0;6^S %DT="EX" D ^%DT S X=Y K:X<1 X
"^DD",361.1,361.1,.06,1,0)
^.1
"^DD",361.1,361.1,.06,1,1,0)
361.1^E
"^DD",361.1,361.1,.06,1,1,1)
S ^IBM(361.1,"E",$E(X,1,30),DA)=""
"^DD",361.1,361.1,.06,1,1,2)
K ^IBM(361.1,"E",$E(X,1,30),DA)
"^DD",361.1,361.1,.06,1,1,3)
Do not delete
"^DD",361.1,361.1,.06,1,1,"%D",0)
^^3^3^3150209^
"^DD",361.1,361.1,.06,1,1,"%D",1,0)
This is a search index on EOB PAID DATE field. Reports for EOB file use
"^DD",361.1,361.1,.06,1,1,"%D",2,0)
date ranges and this index will reduce the time necessary to generate
"^DD",361.1,361.1,.06,1,1,"%D",3,0)
ad-hoc reports. 
"^DD",361.1,361.1,.06,1,1,"DT")
3150209
"^DD",361.1,361.1,.06,3)
Enter the date the payer paid the claim
"^DD",361.1,361.1,.06,21,0)
^^2^2^3031014^
"^DD",361.1,361.1,.06,21,1,0)
This is the effective date of money movement (paid date) from the
"^DD",361.1,361.1,.06,21,2,0)
payer, as indicated in the 835 transmission.
"^DD",361.1,361.1,.06,"DT")
3150209
"^DD",361.1,361.1,.07,0)
TRACE NUMBER^F^^0;7^K:$L(X)>50!($L(X)<1) X
"^DD",361.1,361.1,.07,1,0)
^.1^^0
"^DD",361.1,361.1,.07,3)
Answer must be 1-50 characters in length.
"^DD",361.1,361.1,.07,21,0)
^.001^1^1^3100619^^^
"^DD",361.1,361.1,.07,21,1,0)
This is the TRACE NUMBER from the 835 transaction for this EOB
"^DD",361.1,361.1,.07,23,0)
^.001^1^1^3100619^^^^
"^DD",361.1,361.1,.07,23,1,0)
This is the data from the 835 data field (TRN-02)
"^DD",361.1,361.1,.07,"DT")
3150710
"^DD",361.1,361.1,1.15,0)
CORRECTED PRIORITY PAYER TYPE^S^AD:BLUE CROSS/BLUE SHIELD ASSOC;FI:FEDERAL TAXPAYER;NI:NAIC;PP:PHARMACY PROCESSOR NUMBER;XV:CENTERS FOR MEDICARE/MEDICAID;PI:PAYER ID;^50;4^Q
"^DD",361.1,361.1,1.15,3)
Enter code for type of corrected priority payer.
"^DD",361.1,361.1,1.15,21,0)
^.001^1^1^3160121^^
"^DD",361.1,361.1,1.15,21,1,0)
This is the type of the corrected priority payer.
"^DD",361.1,361.1,1.15,23,0)
^.001^1^1^3160121^^^
"^DD",361.1,361.1,1.15,23,1,0)
From 835 record: 2100 NM108 where NM101 = "PR"
"^DD",361.1,361.1,1.15,"DT")
3160121
**END**
**END**
