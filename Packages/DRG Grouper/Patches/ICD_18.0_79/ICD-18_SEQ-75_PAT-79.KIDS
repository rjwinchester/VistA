Released ICD*18*79 SEQ #75
Extracted from mail message
**KIDS**:ICD*18.0*79^

**INSTALL NAME**
ICD*18.0*79
"BLD",9700,0)
ICD*18.0*79^DRG GROUPER^0^3150414^y
"BLD",9700,1,0)
^^4^4^3150129^^
"BLD",9700,1,1,0)
  This patch corrects various DRG calculations.
"BLD",9700,1,2,0)
 
"BLD",9700,1,3,0)
  Details of the corrections for the DRG Grouper are located in
"BLD",9700,1,4,0)
  ICD*18.0*79.
"BLD",9700,4,0)
^9.64PA^^
"BLD",9700,6)
2^
"BLD",9700,6.3)
6
"BLD",9700,"ABPKG")
n
"BLD",9700,"INID")
^n
"BLD",9700,"INIT")
EN^ICD1879P
"BLD",9700,"KRN",0)
^9.67PA^779.2^20
"BLD",9700,"KRN",.4,0)
.4
"BLD",9700,"KRN",.401,0)
.401
"BLD",9700,"KRN",.402,0)
.402
"BLD",9700,"KRN",.403,0)
.403
"BLD",9700,"KRN",.5,0)
.5
"BLD",9700,"KRN",.84,0)
.84
"BLD",9700,"KRN",3.6,0)
3.6
"BLD",9700,"KRN",3.8,0)
3.8
"BLD",9700,"KRN",9.2,0)
9.2
"BLD",9700,"KRN",9.8,0)
9.8
"BLD",9700,"KRN",9.8,"NM",0)
^9.68A^12^12
"BLD",9700,"KRN",9.8,"NM",1,0)
ICD1879P^^0^B852134
"BLD",9700,"KRN",9.8,"NM",2,0)
ICD1879S^^0^B20537391
"BLD",9700,"KRN",9.8,"NM",3,0)
ICDTBL0E^^0^B25030279
"BLD",9700,"KRN",9.8,"NM",4,0)
ICDTBL0F^^0^B25559023
"BLD",9700,"KRN",9.8,"NM",5,0)
ICDTBL0G^^0^B26412213
"BLD",9700,"KRN",9.8,"NM",6,0)
ICDTBL2C^^0^B52038834
"BLD",9700,"KRN",9.8,"NM",7,0)
ICDTBL2D^^0^B56204226
"BLD",9700,"KRN",9.8,"NM",8,0)
ICDTBL2E^^0^B59221942
"BLD",9700,"KRN",9.8,"NM",9,0)
ICDTBL2F^^0^B59892518
"BLD",9700,"KRN",9.8,"NM",10,0)
ICDTBL2G^^0^B61465625
"BLD",9700,"KRN",9.8,"NM",11,0)
ICDTBL4G^^0^B30232913
"BLD",9700,"KRN",9.8,"NM",12,0)
ICDDRG8^^0^B32166768
"BLD",9700,"KRN",9.8,"NM","B","ICD1879P",1)

"BLD",9700,"KRN",9.8,"NM","B","ICD1879S",2)

"BLD",9700,"KRN",9.8,"NM","B","ICDDRG8",12)

"BLD",9700,"KRN",9.8,"NM","B","ICDTBL0E",3)

"BLD",9700,"KRN",9.8,"NM","B","ICDTBL0F",4)

"BLD",9700,"KRN",9.8,"NM","B","ICDTBL0G",5)

"BLD",9700,"KRN",9.8,"NM","B","ICDTBL2C",6)

"BLD",9700,"KRN",9.8,"NM","B","ICDTBL2D",7)

"BLD",9700,"KRN",9.8,"NM","B","ICDTBL2E",8)

"BLD",9700,"KRN",9.8,"NM","B","ICDTBL2F",9)

"BLD",9700,"KRN",9.8,"NM","B","ICDTBL2G",10)

"BLD",9700,"KRN",9.8,"NM","B","ICDTBL4G",11)

"BLD",9700,"KRN",19,0)
19
"BLD",9700,"KRN",19.1,0)
19.1
"BLD",9700,"KRN",101,0)
101
"BLD",9700,"KRN",409.61,0)
409.61
"BLD",9700,"KRN",771,0)
771
"BLD",9700,"KRN",779.2,0)
779.2
"BLD",9700,"KRN",870,0)
870
"BLD",9700,"KRN",8989.51,0)
8989.51
"BLD",9700,"KRN",8989.52,0)
8989.52
"BLD",9700,"KRN",8994,0)
8994
"BLD",9700,"KRN","B",.4,.4)

"BLD",9700,"KRN","B",.401,.401)

"BLD",9700,"KRN","B",.402,.402)

"BLD",9700,"KRN","B",.403,.403)

"BLD",9700,"KRN","B",.5,.5)

"BLD",9700,"KRN","B",.84,.84)

"BLD",9700,"KRN","B",3.6,3.6)

"BLD",9700,"KRN","B",3.8,3.8)

"BLD",9700,"KRN","B",9.2,9.2)

"BLD",9700,"KRN","B",9.8,9.8)

"BLD",9700,"KRN","B",19,19)

"BLD",9700,"KRN","B",19.1,19.1)

"BLD",9700,"KRN","B",101,101)

"BLD",9700,"KRN","B",409.61,409.61)

"BLD",9700,"KRN","B",771,771)

"BLD",9700,"KRN","B",779.2,779.2)

"BLD",9700,"KRN","B",870,870)

"BLD",9700,"KRN","B",8989.51,8989.51)

"BLD",9700,"KRN","B",8989.52,8989.52)

"BLD",9700,"KRN","B",8994,8994)

"BLD",9700,"QDEF")
^^^^^^^^^^YES
"BLD",9700,"QUES",0)
^9.62^^
"BLD",9700,"REQB",0)
^9.611^3^3
"BLD",9700,"REQB",1,0)
ICD*18.0*77^1
"BLD",9700,"REQB",2,0)
ICD*18.0*64^1
"BLD",9700,"REQB",3,0)
ICD*18.0*74^1
"BLD",9700,"REQB","B","ICD*18.0*64",2)

"BLD",9700,"REQB","B","ICD*18.0*74",3)

"BLD",9700,"REQB","B","ICD*18.0*77",1)

"INIT")
EN^ICD1879P
"MBREQ")
0
"PKG",185,-1)
1^1
"PKG",185,0)
DRG GROUPER^ICD^DRG GROUPER
"PKG",185,22,0)
^9.49I^1^1
"PKG",185,22,1,0)
18.0^3001024^3001201^568
"PKG",185,22,1,"PAH",1,0)
79^3150414^520736426
"PKG",185,22,1,"PAH",1,1,0)
^^4^4^3150414
"PKG",185,22,1,"PAH",1,1,1,0)
  This patch corrects various DRG calculations.
"PKG",185,22,1,"PAH",1,1,2,0)
 
"PKG",185,22,1,"PAH",1,1,3,0)
  Details of the corrections for the DRG Grouper are located in
"PKG",185,22,1,"PAH",1,1,4,0)
  ICD*18.0*79.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
12
"RTN","ICD1879P")
0^1^B852134^n/a
"RTN","ICD1879P",1,0)
ICD1879P ;ALB/JDG - UPDATE DX & PX CODES ; 10/5/11 3:23pm
"RTN","ICD1879P",2,0)
 ;;18.0;DRG Grouper;**79**;Oct 20, 2000;Build 6
"RTN","ICD1879P",3,0)
 ;
"RTN","ICD1879P",4,0)
 ;
"RTN","ICD1879P",5,0)
 Q
"RTN","ICD1879P",6,0)
 ;
"RTN","ICD1879P",7,0)
EN ; start update
"RTN","ICD1879P",8,0)
 ; ********************************************************************************
"RTN","ICD1879P",9,0)
 D ICDUPDPX^ICD1879S ;Update Px code(s)
"RTN","ICD1879P",10,0)
 ; ******************************************************************************** 
"RTN","ICD1879P",11,0)
 ;
"RTN","ICD1879P",12,0)
 ; ********************************************************************************
"RTN","ICD1879P",13,0)
 D ICDUPPX1^ICD1879S ;update the MAJOR O.R. PROCEDURE (#20) field
"RTN","ICD1879P",14,0)
 ; ********************************************************************************
"RTN","ICD1879P",15,0)
 ;
"RTN","ICD1879P",16,0)
 ; ********************************************************************************
"RTN","ICD1879P",17,0)
 D ICDUPDDX^ICD1879S ;Update Dx code(s)
"RTN","ICD1879P",18,0)
 ; ********************************************************************************
"RTN","ICD1879P",19,0)
 ;
"RTN","ICD1879P",20,0)
 ; ********************************************************************************
"RTN","ICD1879P",21,0)
 D UPDTADRG^ICD1879S ;update existing operation/procedure codes
"RTN","ICD1879P",22,0)
 ; ********************************************************************************
"RTN","ICD1879P",23,0)
 ;
"RTN","ICD1879P",24,0)
 ; ********************************************************************************
"RTN","ICD1879P",25,0)
 D INACTDRG^ICD1879S ;inactivate DRG
"RTN","ICD1879P",26,0)
 ; ********************************************************************************
"RTN","ICD1879P",27,0)
 ;
"RTN","ICD1879P",28,0)
 Q
"RTN","ICD1879S")
0^2^B20537391^n/a
"RTN","ICD1879S",1,0)
ICD1879S ;ALB/JDG - UPDATE DX & PX CODES ; 10/5/11 3:23pm
"RTN","ICD1879S",2,0)
 ;;18.0;DRG Grouper;**79**;Oct 20, 2000;Build 6
"RTN","ICD1879S",3,0)
 ;
"RTN","ICD1879S",4,0)
 Q
"RTN","ICD1879S",5,0)
 ;
"RTN","ICD1879S",6,0)
 ; Update Px code(s)
"RTN","ICD1879S",7,0)
ICDUPDPX ; update the IDENTIFIER (#1.2) field
"RTN","ICD1879S",8,0)
 D BMES^XPDUTL(">>>Modify existing procedure codes - file 80.1")
"RTN","ICD1879S",9,0)
 N ICDLINE,ICDX,ICDPROC,ICDENTRY,ICDTXTFP,ICDTXTSP
"RTN","ICD1879S",10,0)
 F ICDLINE=1:1 S ICDX=$T(PROCUP1+ICDLINE) S ICDPROC=$P(ICDX,";;",2),ICDTXTFP=$P(ICDPROC,"^",1),ICDTXTSP=$P(ICDPROC,"^",2) Q:ICDPROC="EXIT"  D
"RTN","ICD1879S",11,0)
 .S ICDENTRY=+$O(^ICD0("BA",""_ICDTXTFP_" "_"",0))
"RTN","ICD1879S",12,0)
 .D:'ICDENTRY BMES^XPDUTL(">>>Unable to find procedure code "_ICDTXTFP_" in file 80.1 <<<")
"RTN","ICD1879S",13,0)
 .I ICDENTRY D
"RTN","ICD1879S",14,0)
 ..S DA=ICDENTRY
"RTN","ICD1879S",15,0)
 ..S DIE="^ICD0("
"RTN","ICD1879S",16,0)
 ..S DR="1.2///^S X=ICDTXTSP"
"RTN","ICD1879S",17,0)
 ..D ^DIE
"RTN","ICD1879S",18,0)
 Q
"RTN","ICD1879S",19,0)
 ;
"RTN","ICD1879S",20,0)
ICDUPPX1 ; update the MAJOR O.R. PROCEDURE (#20) field
"RTN","ICD1879S",21,0)
 D BMES^XPDUTL(">>>update procedure codes field MAJOR O.R. PROCEDURE (#20) - file 80.1")
"RTN","ICD1879S",22,0)
 N ICDLINE,ICDX,ICDPROC,ICDENTRY,ICDTXTFP,ICDTXTSP
"RTN","ICD1879S",23,0)
 F ICDLINE=1:1 S ICDX=$T(PROCUP3+ICDLINE) S ICDPROC=$P(ICDX,";;",2),ICDTXTFP=$P(ICDPROC,"^",1),ICDTXTSP=$P(ICDPROC,"^",2) Q:ICDPROC="EXIT"  D
"RTN","ICD1879S",24,0)
 .S ICDENTRY=+$O(^ICD0("BA",""_ICDTXTFP_" "_"",0))
"RTN","ICD1879S",25,0)
 .D:'ICDENTRY BMES^XPDUTL(">>>Unable to find procedure code "_ICDTXTFP_" in file 80.1 <<<")
"RTN","ICD1879S",26,0)
 .I ICDENTRY D
"RTN","ICD1879S",27,0)
 ..S DA=ICDENTRY
"RTN","ICD1879S",28,0)
 ..S DIE="^ICD0("
"RTN","ICD1879S",29,0)
 ..S DR="20///^S X=ICDTXTSP"
"RTN","ICD1879S",30,0)
 ..D ^DIE
"RTN","ICD1879S",31,0)
 Q
"RTN","ICD1879S",32,0)
 ;
"RTN","ICD1879S",33,0)
 ; Update Dx code(s)
"RTN","ICD1879S",34,0)
ICDUPDDX ; update the IDENTIFIER (#1.2) field
"RTN","ICD1879S",35,0)
 D BMES^XPDUTL(">>>Modify existing diagnosis codes - file 80")
"RTN","ICD1879S",36,0)
 N ICDLINE,ICDX,ICDDIAG,ICDENTRY,ICDTXTFP,ICDTXTSP
"RTN","ICD1879S",37,0)
 F ICDLINE=1:1 S ICDX=$T(PROCUP2+ICDLINE) S ICDDIAG=$P(ICDX,";;",2),ICDTXTFP=$P(ICDDIAG,"^",1),ICDTXTSP=$P(ICDDIAG,"^",2) Q:ICDDIAG="EXIT"  D
"RTN","ICD1879S",38,0)
 .S ICDENTRY=+$O(^ICD9("BA",""_ICDTXTFP_" "_"",0))
"RTN","ICD1879S",39,0)
 .D:'ICDENTRY BMES^XPDUTL(">>>Unable to find diagnosis code "_ICDTXTFP_" in file 80 <<<")
"RTN","ICD1879S",40,0)
 .I ICDENTRY D
"RTN","ICD1879S",41,0)
 ..S DA=ICDENTRY
"RTN","ICD1879S",42,0)
 ..S DIE="^ICD9("
"RTN","ICD1879S",43,0)
 ..S DR="1.2///^S X=ICDTXTSP"
"RTN","ICD1879S",44,0)
 ..D ^DIE
"RTN","ICD1879S",45,0)
 Q
"RTN","ICD1879S",46,0)
 ;
"RTN","ICD1879S",47,0)
 ;Update Px code(s)
"RTN","ICD1879S",48,0)
UPDTADRG ; update existing operation/procedure codes 
"RTN","ICD1879S",49,0)
 D BMES^XPDUTL(">>>Modify existing procedure codes - file 80.1")
"RTN","ICD1879S",50,0)
 N ICDLINE,ICDX,ICDPROC,ENTRY,SUBLINE,DATA,ICDFDA
"RTN","ICD1879S",51,0)
 F ICDLINE=1:1 S ICDX=$T(PROCUP4+ICDLINE) S ICDPROC=$P(ICDX,";;",2) Q:ICDPROC="EXIT"  D
"RTN","ICD1879S",52,0)
 .S ENTRY=+$O(^ICD0("BA",""_ICDPROC_" "_"",0))
"RTN","ICD1879S",53,0)
 .I ENTRY D
"RTN","ICD1879S",54,0)
 ..; check if already created in case patch being re-installed
"RTN","ICD1879S",55,0)
 ..Q:$D(^ICD0(ENTRY,2,"B",3141001))
"RTN","ICD1879S",56,0)
 ..;add 80.171, 80.1711 and 80.17111 records
"RTN","ICD1879S",57,0)
 ..F SUBLINE=1:1 S ICDX=$T(PROCUP5+SUBLINE) S DATA=$P(ICDX,";;",2) Q:DATA'["+"  D
"RTN","ICD1879S",58,0)
 ...I SUBLINE=1 D
"RTN","ICD1879S",59,0)
 ....S ICDFDA(80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1879S",60,0)
 ....S ICDFDA(80.171,"+2,?1,",.01)=3121001
"RTN","ICD1879S",61,0)
 ....D UPDATE^DIE("","ICDFDA") K ICDFDA
"RTN","ICD1879S",62,0)
 ...S DATA=$E(DATA,2,99)
"RTN","ICD1879S",63,0)
 ...S ICDFDA(80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1879S",64,0)
 ...S ICDFDA(80.171,"?2,?1,",.01)=3121001
"RTN","ICD1879S",65,0)
 ...S ICDFDA(80.1711,"+3,?2,?1,",.01)=$P(DATA,U)
"RTN","ICD1879S",66,0)
 ...D UPDATE^DIE("","ICDFDA") K ICDFDA
"RTN","ICD1879S",67,0)
 ...S ICDFDA(80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1879S",68,0)
 ...S ICDFDA(80.171,"?2,?1,",.01)=3121001
"RTN","ICD1879S",69,0)
 ...S ICDFDA(80.1711,"?3,?2,?1,",.01)=$P(DATA,U)
"RTN","ICD1879S",70,0)
 ...S ICDFDA(80.17111,"+4,?3,?2,?1,",.01)=$P(DATA,U,2)
"RTN","ICD1879S",71,0)
 ...S ICDFDA(80.17111,"+5,?3,?2,?1,",.01)=$P(DATA,U,3)
"RTN","ICD1879S",72,0)
 ...D UPDATE^DIE("","ICDFDA") K ICDFDA
"RTN","ICD1879S",73,0)
 Q
"RTN","ICD1879S",74,0)
 ;
"RTN","ICD1879S",75,0)
INACTDRG ;
"RTN","ICD1879S",76,0)
 N LINE,ICDX,ICDDRG,DESC,DA,DIE,DR,MDC,SURG,ICDFDA
"RTN","ICD1879S",77,0)
 D BMES^XPDUTL(">>> Inactivating DRG(s)...")
"RTN","ICD1879S",78,0)
 F LINE=1:1 S ICDX=$T(INAC+LINE) S ICDDRG=$P(ICDX,";;",2) Q:ICDDRG="EXIT"  D
"RTN","ICD1879S",79,0)
 .S DESC="NO LONGER VALID"
"RTN","ICD1879S",80,0)
 .S DA(LINE)=$P(ICDDRG,U)
"RTN","ICD1879S",81,0)
 .S DA=1
"RTN","ICD1879S",82,0)
 .S DIE="^ICD("_DA(LINE)_",1,"
"RTN","ICD1879S",83,0)
 .S DR=".01///^S X=DESC"
"RTN","ICD1879S",84,0)
 .D ^DIE
"RTN","ICD1879S",85,0)
 .; check if already done in case patch being re-installed
"RTN","ICD1879S",86,0)
 .Q:$D(^ICD($P(ICDDRG,U),66,"B",3141001))
"RTN","ICD1879S",87,0)
 .; add entry to 80.266
"RTN","ICD1879S",88,0)
 .S MDC=$P(ICDDRG,U,2)
"RTN","ICD1879S",89,0)
 .S SURG=$P(ICDDRG,U,3)
"RTN","ICD1879S",90,0)
 .S ICDDRG=$P(ICDDRG,U)
"RTN","ICD1879S",91,0)
 .S ICDFDA(80.2,"?1,",.01)=ICDDRG
"RTN","ICD1879S",92,0)
 .S ICDFDA(80.266,"+2,?1,",.01)=3141001
"RTN","ICD1879S",93,0)
 .S ICDFDA(80.266,"+2,?1,",.03)=0
"RTN","ICD1879S",94,0)
 .S ICDFDA(80.266,"+2,?1,",.05)=MDC
"RTN","ICD1879S",95,0)
 .S ICDFDA(80.266,"+2,?1,",.06)=SURG
"RTN","ICD1879S",96,0)
 .D UPDATE^DIE("","ICDFDA") K ICDFDA
"RTN","ICD1879S",97,0)
 .; add entry to 80.268 and 80.2681 
"RTN","ICD1879S",98,0)
 .S ICDFDA(80.2,"?1,",.01)=ICDDRG
"RTN","ICD1879S",99,0)
 .S ICDFDA(80.268,"+2,?1,",.01)=3141001
"RTN","ICD1879S",100,0)
 .D UPDATE^DIE("","ICDFDA") K ICDFDA
"RTN","ICD1879S",101,0)
 .S ICDFDA(80.2,"?1,",.01)=ICDDRG
"RTN","ICD1879S",102,0)
 .S ICDFDA(80.2681,"?2,?1,",.01)=3141001
"RTN","ICD1879S",103,0)
 .S ICDFDA(80.2681,"+3,?2,?1,",.01)=DESC
"RTN","ICD1879S",104,0)
 .D UPDATE^DIE("","ICDFDA") K ICDFDA
"RTN","ICD1879S",105,0)
 Q
"RTN","ICD1879S",106,0)
 ; 
"RTN","ICD1879S",107,0)
 ;
"RTN","ICD1879S",108,0)
 ;
"RTN","ICD1879S",109,0)
PROCUP1 ; updating the IDENTIFIER (#1.2) field for the following Procedure codes
"RTN","ICD1879S",110,0)
 ;;44.99^Ox
"RTN","ICD1879S",111,0)
 ;;37.74^7Pp
"RTN","ICD1879S",112,0)
 ;;EXIT
"RTN","ICD1879S",113,0)
 ;
"RTN","ICD1879S",114,0)
 ;
"RTN","ICD1879S",115,0)
PROCUP2 ; updating the IDENTIFIER (#1.2) field for the following Diagnosis codes
"RTN","ICD1879S",116,0)
 ;;398.91^AZc
"RTN","ICD1879S",117,0)
 ;;288.60^k
"RTN","ICD1879S",118,0)
 ;;EXIT
"RTN","ICD1879S",119,0)
 ;
"RTN","ICD1879S",120,0)
 ;
"RTN","ICD1879S",121,0)
PROCUP3 ; updating the MAJOR O.R. PROCEDURE (#20) field for the following Procedure codes
"RTN","ICD1879S",122,0)
 ;;39.65^A
"RTN","ICD1879S",123,0)
 ;;31.29^2
"RTN","ICD1879S",124,0)
 ;;31.1^@
"RTN","ICD1879S",125,0)
 ;;EXIT
"RTN","ICD1879S",126,0)
 ;
"RTN","ICD1879S",127,0)
 ;
"RTN","ICD1879S",128,0)
PROCUP4 ; update the following ICD OPERARTION/PROCEDURE codes with related DRGs
"RTN","ICD1879S",129,0)
 ;;76.76
"RTN","ICD1879S",130,0)
 ;;76.74
"RTN","ICD1879S",131,0)
 ;;76.79
"RTN","ICD1879S",132,0)
 ;;76.92
"RTN","ICD1879S",133,0)
 ;;EXIT
"RTN","ICD1879S",134,0)
 ;
"RTN","ICD1879S",135,0)
 ;
"RTN","ICD1879S",136,0)
PROCUP5 ;
"RTN","ICD1879S",137,0)
 ;;+3^131^132
"RTN","ICD1879S",138,0)
 ;;EXIT
"RTN","ICD1879S",139,0)
 ;
"RTN","ICD1879S",140,0)
 ;
"RTN","ICD1879S",141,0)
INAC ;DRG^MDC^SURG (1=surg, 0=med)
"RTN","ICD1879S",142,0)
 ;;484^8^1
"RTN","ICD1879S",143,0)
 ;;EXIT
"RTN","ICDDRG8")
0^12^B32166768^B32166933
"RTN","ICDDRG8",1,0)
ICDDRG8 ;ALB/GRR/EG - FIX SURGERY HIERARCHY ; 7/18/01 10:40am
"RTN","ICDDRG8",2,0)
 ;;18.0;DRG Grouper;**1,2,10,20,24,31,77,79**;Oct 20, 2000;Build 6
"RTN","ICDDRG8",3,0)
 Q:$O(ICDODRG(0))'>0  K ICDJ,ICDJJ F ICDJ=0:0 S ICDJ=$O(ICDODRG(ICDJ)) Q:ICDJ'>0  S ICDJJ(ICDJ)="" D
"RTN","ICDDRG8",4,0)
 .I ICDDATE<3051001 D F Q
"RTN","ICDDRG8",5,0)
 .E  I ICDDATE<3061001 D FY2006 Q
"RTN","ICDDRG8",6,0)
 .E  I ICDDATE<3071001 D FY2007 Q
"RTN","ICDDRG8",7,0)
 .E  I ICDDATE<3081001 D FY2008 Q
"RTN","ICDDRG8",8,0)
 .E  D FY2015
"RTN","ICDDRG8",9,0)
END S ICDJ=$O(ICDJ(0)) Q:ICDJ'>0  S ICDJ=ICDJ(ICDJ) K ICDODRG S ICDODRG(ICDJ)="" Q
"RTN","ICDDRG8",10,0)
F I ICDJ=471 S ICDJ(1)=ICDJ Q
"RTN","ICDDRG8",11,0)
 I ICDJ=217 S ICDJ(2)=ICDJ Q
"RTN","ICDDRG8",12,0)
 I ICDJ=209 S ICDJ(3)=ICDJ Q
"RTN","ICDDRG8",13,0)
 I ICDJ=216 S ICDJ(4)=ICDJ Q
"RTN","ICDDRG8",14,0)
 I ICDJ=210 S ICDJ(5)=ICDJ Q
"RTN","ICDDRG8",15,0)
 I ICDJ=213 S ICDJ(6)=ICDJ Q
"RTN","ICDDRG8",16,0)
 I ICDJ=491 S ICDJ(7)=ICDJ Q
"RTN","ICDDRG8",17,0)
 I ICDJ=497 S ICDJ(8)=ICDJ Q
"RTN","ICDDRG8",18,0)
 I ICDJ=519 S ICDJ(9)=ICDJ Q
"RTN","ICDDRG8",19,0)
 I ICDJ=520 S ICDJ(10)=ICDJ Q
"RTN","ICDDRG8",20,0)
 I ICDJ=499 S ICDJ(11)=ICDJ Q
"RTN","ICDDRG8",21,0)
 I ICDJ=501 S ICDJ(12)=ICDJ Q
"RTN","ICDDRG8",22,0)
 I ICDJ=218 S ICDJ(13)=ICDJ Q
"RTN","ICDDRG8",23,0)
 I ICDJ=231 S ICDJ(14)=ICDJ Q
"RTN","ICDDRG8",24,0)
 I ICDJ=537 S ICDJ(15)=ICDJ Q
"RTN","ICDDRG8",25,0)
 I ICDJ=230 S ICDJ(16)=ICDJ Q
"RTN","ICDDRG8",26,0)
 I ICDJ=226 S ICDJ(17)=ICDJ Q
"RTN","ICDDRG8",27,0)
 I ICDJ=227 S ICDJ(18)=ICDJ Q
"RTN","ICDDRG8",28,0)
 I ICDJ=225 S ICDJ(19)=ICDJ Q
"RTN","ICDDRG8",29,0)
 I ICDJ=228 S ICDJ(20)=ICDJ Q
"RTN","ICDDRG8",30,0)
 I ICDJ=223 S ICDJ(21)=ICDJ Q
"RTN","ICDDRG8",31,0)
 I ICDJ=232 S ICDJ(22)=ICDJ Q
"RTN","ICDDRG8",32,0)
 I ICDJ=224 S ICDJ(23)=ICDJ Q
"RTN","ICDDRG8",33,0)
 I ICDJ=229 S ICDJ(24)=ICDJ Q
"RTN","ICDDRG8",34,0)
 I ICDJ=233 S ICDJ(25)=ICDJ Q
"RTN","ICDDRG8",35,0)
 Q
"RTN","ICDDRG8",36,0)
FY2006 ;
"RTN","ICDDRG8",37,0)
 I ICDJ=496 S ICDJ(1)=ICDJ Q
"RTN","ICDDRG8",38,0)
 I ICDJ=546 S ICDJ(2)=ICDJ Q
"RTN","ICDDRG8",39,0)
 I ICDJ=497 S ICDJ(3)=ICDJ Q
"RTN","ICDDRG8",40,0)
 I ICDJ=498 S ICDJ(4)=ICDJ Q
"RTN","ICDDRG8",41,0)
 I ICDJ=471 S ICDJ(5)=ICDJ Q
"RTN","ICDDRG8",42,0)
 I ICDJ=217 S ICDJ(6)=ICDJ Q
"RTN","ICDDRG8",43,0)
 I ICDJ=545 S ICDJ(7)=ICDJ Q
"RTN","ICDDRG8",44,0)
 I ICDJ=544 S ICDJ(8)=ICDJ Q
"RTN","ICDDRG8",45,0)
 I ICDJ=519 S ICDJ(9)=ICDJ Q
"RTN","ICDDRG8",46,0)
 I ICDJ=520 S ICDJ(10)=ICDJ Q
"RTN","ICDDRG8",47,0)
 I ICDJ=216 S ICDJ(11)=ICDJ Q
"RTN","ICDDRG8",48,0)
 I ICDJ=213 S ICDJ(12)=ICDJ Q
"RTN","ICDDRG8",49,0)
 I ICDJ=210 S ICDJ(13)=ICDJ Q
"RTN","ICDDRG8",50,0)
 I ICDJ=211 S ICDJ(14)=ICDJ Q
"RTN","ICDDRG8",51,0)
 I ICDJ=212 S ICDJ(15)=ICDJ Q
"RTN","ICDDRG8",52,0)
 I ICDJ=491 S ICDJ(16)=ICDJ Q
"RTN","ICDDRG8",53,0)
 I ICDJ=501 S ICDJ(17)=ICDJ Q
"RTN","ICDDRG8",54,0)
 I ICDJ=502 S ICDJ(18)=ICDJ Q
"RTN","ICDDRG8",55,0)
 I ICDJ=503 S ICDJ(19)=ICDJ Q 
"RTN","ICDDRG8",56,0)
 I ICDJ=499 S ICDJ(20)=ICDJ Q
"RTN","ICDDRG8",57,0)
 I ICDJ=500 S ICDJ(21)=ICDJ Q
"RTN","ICDDRG8",58,0)
 I ICDJ=218 S ICDJ(22)=ICDJ Q
"RTN","ICDDRG8",59,0)
 I ICDJ=219 S ICDJ(23)=ICDJ Q
"RTN","ICDDRG8",60,0)
 I ICDJ=220 S ICDJ(24)=ICDJ Q
"RTN","ICDDRG8",61,0)
 I ICDJ=537 S ICDJ(25)=ICDJ Q
"RTN","ICDDRG8",62,0)
 I ICDJ=538 S ICDJ(26)=ICDJ Q
"RTN","ICDDRG8",63,0)
 I ICDJ=230 S ICDJ(27)=ICDJ Q
"RTN","ICDDRG8",64,0)
 I ICDJ=226 S ICDJ(28)=ICDJ Q
"RTN","ICDDRG8",65,0)
 I ICDJ=227 S ICDJ(29)=ICDJ Q
"RTN","ICDDRG8",66,0)
 I ICDJ=225 S ICDJ(30)=ICDJ Q
"RTN","ICDDRG8",67,0)
 I ICDJ=228 S ICDJ(31)=ICDJ Q
"RTN","ICDDRG8",68,0)
 I ICDJ=223 S ICDJ(32)=ICDJ Q
"RTN","ICDDRG8",69,0)
 I ICDJ=232 S ICDJ(33)=ICDJ Q
"RTN","ICDDRG8",70,0)
 I ICDJ=224 S ICDJ(34)=ICDJ Q
"RTN","ICDDRG8",71,0)
 I ICDJ=229 S ICDJ(35)=ICDJ Q
"RTN","ICDDRG8",72,0)
 I ICDJ=233 S ICDJ(36)=ICDJ Q
"RTN","ICDDRG8",73,0)
 I ICDJ=234 S ICDJ(37)=ICDJ Q
"RTN","ICDDRG8",74,0)
 Q
"RTN","ICDDRG8",75,0)
FY2007 ;
"RTN","ICDDRG8",76,0)
 I ICDJ=496 S ICDJ(1)=ICDJ Q
"RTN","ICDDRG8",77,0)
 I ICDJ=546 S ICDJ(2)=ICDJ Q
"RTN","ICDDRG8",78,0)
 I ICDJ=497 S ICDJ(3)=ICDJ Q
"RTN","ICDDRG8",79,0)
 I ICDJ=498 S ICDJ(4)=ICDJ Q
"RTN","ICDDRG8",80,0)
 I ICDJ=471 S ICDJ(5)=ICDJ Q
"RTN","ICDDRG8",81,0)
 I ICDJ=217 S ICDJ(6)=ICDJ Q
"RTN","ICDDRG8",82,0)
 I ICDJ=545 S ICDJ(7)=ICDJ Q
"RTN","ICDDRG8",83,0)
 I ICDJ=544 S ICDJ(8)=ICDJ Q
"RTN","ICDDRG8",84,0)
 I ICDJ=519 S ICDJ(9)=ICDJ Q
"RTN","ICDDRG8",85,0)
 I ICDJ=520 S ICDJ(10)=ICDJ Q
"RTN","ICDDRG8",86,0)
 I ICDJ=213 S ICDJ(11)=ICDJ Q
"RTN","ICDDRG8",87,0)
 I ICDJ=216 S ICDJ(12)=ICDJ Q
"RTN","ICDDRG8",88,0)
 I ICDJ=210 S ICDJ(13)=ICDJ Q
"RTN","ICDDRG8",89,0)
 I ICDJ=211 S ICDJ(14)=ICDJ Q
"RTN","ICDDRG8",90,0)
 I ICDJ=212 S ICDJ(15)=ICDJ Q
"RTN","ICDDRG8",91,0)
 I ICDJ=491 S ICDJ(16)=ICDJ Q
"RTN","ICDDRG8",92,0)
 I ICDJ=501 S ICDJ(17)=ICDJ Q
"RTN","ICDDRG8",93,0)
 I ICDJ=502 S ICDJ(18)=ICDJ Q
"RTN","ICDDRG8",94,0)
 I ICDJ=503 S ICDJ(19)=ICDJ Q 
"RTN","ICDDRG8",95,0)
 I ICDJ=499 S ICDJ(20)=ICDJ Q
"RTN","ICDDRG8",96,0)
 I ICDJ=500 S ICDJ(21)=ICDJ Q
"RTN","ICDDRG8",97,0)
 I ICDJ=218 S ICDJ(22)=ICDJ Q
"RTN","ICDDRG8",98,0)
 I ICDJ=219 S ICDJ(23)=ICDJ Q
"RTN","ICDDRG8",99,0)
 I ICDJ=220 S ICDJ(24)=ICDJ Q
"RTN","ICDDRG8",100,0)
 I ICDJ=537 S ICDJ(25)=ICDJ Q
"RTN","ICDDRG8",101,0)
 I ICDJ=538 S ICDJ(26)=ICDJ Q
"RTN","ICDDRG8",102,0)
 I ICDJ=230 S ICDJ(27)=ICDJ Q
"RTN","ICDDRG8",103,0)
 I ICDJ=226 S ICDJ(28)=ICDJ Q
"RTN","ICDDRG8",104,0)
 I ICDJ=227 S ICDJ(29)=ICDJ Q
"RTN","ICDDRG8",105,0)
 I ICDJ=225 S ICDJ(30)=ICDJ Q
"RTN","ICDDRG8",106,0)
 I ICDJ=228 S ICDJ(31)=ICDJ Q
"RTN","ICDDRG8",107,0)
 I ICDJ=223 S ICDJ(32)=ICDJ Q
"RTN","ICDDRG8",108,0)
 I ICDJ=232 S ICDJ(33)=ICDJ Q
"RTN","ICDDRG8",109,0)
 I ICDJ=224 S ICDJ(34)=ICDJ Q
"RTN","ICDDRG8",110,0)
 I ICDJ=229 S ICDJ(35)=ICDJ Q
"RTN","ICDDRG8",111,0)
 I ICDJ=233 S ICDJ(36)=ICDJ Q
"RTN","ICDDRG8",112,0)
 I ICDJ=234 S ICDJ(37)=ICDJ Q
"RTN","ICDDRG8",113,0)
 Q
"RTN","ICDDRG8",114,0)
FY2008 ;
"RTN","ICDDRG8",115,0)
 I ICDJ=455 S ICDJ(1)=ICDJ Q
"RTN","ICDDRG8",116,0)
 I ICDJ=458 S ICDJ(2)=ICDJ Q
"RTN","ICDDRG8",117,0)
 I ICDJ=460 S ICDJ(3)=ICDJ Q
"RTN","ICDDRG8",118,0)
 I ICDJ=462 S ICDJ(4)=ICDJ Q
"RTN","ICDDRG8",119,0)
 I ICDJ=465 S ICDJ(5)=ICDJ Q
"RTN","ICDDRG8",120,0)
 I ICDJ=468 S ICDJ(6)=ICDJ Q
"RTN","ICDDRG8",121,0)
 I ICDJ=470 S ICDJ(7)=ICDJ Q
"RTN","ICDDRG8",122,0)
 I ICDJ=473 S ICDJ(8)=ICDJ Q
"RTN","ICDDRG8",123,0)
 I ICDJ=476 S ICDJ(9)=ICDJ Q
"RTN","ICDDRG8",124,0)
 I ICDJ=479 S ICDJ(10)=ICDJ Q
"RTN","ICDDRG8",125,0)
 I ICDJ=482 S ICDJ(11)=ICDJ Q
"RTN","ICDDRG8",126,0)
 I ICDJ=484 S ICDJ(12)=ICDJ Q
"RTN","ICDDRG8",127,0)
 I ICDJ=487 S ICDJ(13)=ICDJ Q
"RTN","ICDDRG8",128,0)
 I ICDJ=489 S ICDJ(14)=ICDJ Q
"RTN","ICDDRG8",129,0)
 I ICDJ=491 S ICDJ(15)=ICDJ Q
"RTN","ICDDRG8",130,0)
 I ICDJ=494 S ICDJ(16)=ICDJ Q
"RTN","ICDDRG8",131,0)
 I ICDJ=497 S ICDJ(17)=ICDJ Q
"RTN","ICDDRG8",132,0)
 I ICDJ=499 S ICDJ(18)=ICDJ Q
"RTN","ICDDRG8",133,0)
 I ICDJ=502 S ICDJ(19)=ICDJ Q 
"RTN","ICDDRG8",134,0)
 I ICDJ=505 S ICDJ(20)=ICDJ Q
"RTN","ICDDRG8",135,0)
 I ICDJ=506 S ICDJ(21)=ICDJ Q
"RTN","ICDDRG8",136,0)
 I ICDJ=508 S ICDJ(22)=ICDJ Q
"RTN","ICDDRG8",137,0)
 I ICDJ=509 S ICDJ(23)=ICDJ Q
"RTN","ICDDRG8",138,0)
 I ICDJ=512 S ICDJ(24)=ICDJ Q
"RTN","ICDDRG8",139,0)
 I ICDJ=514 S ICDJ(25)=ICDJ Q
"RTN","ICDDRG8",140,0)
 I ICDJ=517 S ICDJ(26)=ICDJ Q
"RTN","ICDDRG8",141,0)
 Q
"RTN","ICDDRG8",142,0)
FY2015 ;
"RTN","ICDDRG8",143,0)
 I ICDJ=455 S ICDJ(1)=ICDJ Q
"RTN","ICDDRG8",144,0)
 I ICDJ=458 S ICDJ(2)=ICDJ Q
"RTN","ICDDRG8",145,0)
 I ICDJ=460 S ICDJ(3)=ICDJ Q
"RTN","ICDDRG8",146,0)
 I ICDJ=462 S ICDJ(4)=ICDJ Q
"RTN","ICDDRG8",147,0)
 I ICDJ=465 S ICDJ(5)=ICDJ Q
"RTN","ICDDRG8",148,0)
 I ICDJ=468 S ICDJ(6)=ICDJ Q
"RTN","ICDDRG8",149,0)
 I ICDJ=470 S ICDJ(7)=ICDJ Q
"RTN","ICDDRG8",150,0)
 I ICDJ=473 S ICDJ(8)=ICDJ Q
"RTN","ICDDRG8",151,0)
 I ICDJ=476 S ICDJ(9)=ICDJ Q
"RTN","ICDDRG8",152,0)
 I ICDJ=479 S ICDJ(10)=ICDJ Q
"RTN","ICDDRG8",153,0)
 I ICDJ=482 S ICDJ(11)=ICDJ Q
"RTN","ICDDRG8",154,0)
 I ICDJ=483 S ICDJ(12)=ICDJ Q
"RTN","ICDDRG8",155,0)
 I ICDJ=487 S ICDJ(13)=ICDJ Q
"RTN","ICDDRG8",156,0)
 I ICDJ=489 S ICDJ(14)=ICDJ Q
"RTN","ICDDRG8",157,0)
 I ICDJ=520 S ICDJ(15)=ICDJ Q
"RTN","ICDDRG8",158,0)
 I ICDJ=494 S ICDJ(16)=ICDJ Q
"RTN","ICDDRG8",159,0)
 I ICDJ=497 S ICDJ(17)=ICDJ Q
"RTN","ICDDRG8",160,0)
 I ICDJ=499 S ICDJ(18)=ICDJ Q
"RTN","ICDDRG8",161,0)
 I ICDJ=502 S ICDJ(19)=ICDJ Q 
"RTN","ICDDRG8",162,0)
 I ICDJ=505 S ICDJ(20)=ICDJ Q
"RTN","ICDDRG8",163,0)
 I ICDJ=506 S ICDJ(21)=ICDJ Q
"RTN","ICDDRG8",164,0)
 I ICDJ=508 S ICDJ(22)=ICDJ Q
"RTN","ICDDRG8",165,0)
 I ICDJ=509 S ICDJ(23)=ICDJ Q
"RTN","ICDDRG8",166,0)
 I ICDJ=512 S ICDJ(24)=ICDJ Q
"RTN","ICDDRG8",167,0)
 I ICDJ=514 S ICDJ(25)=ICDJ Q
"RTN","ICDDRG8",168,0)
 I ICDJ=517 S ICDJ(26)=ICDJ Q
"RTN","ICDDRG8",169,0)
 Q
"RTN","ICDDRG8",170,0)
EN1 ; paired spinal fusion codes
"RTN","ICDDRG8",171,0)
 S ICDCC3=0
"RTN","ICDDRG8",172,0)
 ;I $D(ICDOP(" 81.02"))!$D(ICDOP(" 81.04"))!$D(ICDOP(" 81.06"))&($D(ICDOP(" 81.03"))!$D(ICDOP(" 81.05"))!$D(ICDOP(" 81.08"))) S ICDCC3=1
"RTN","ICDDRG8",173,0)
 N ICDA,ICDB S (ICDA,ICDB)=0
"RTN","ICDDRG8",174,0)
 I $D(ICDOP(" 81.02"))!$D(ICDOP(" 81.04"))!$D(ICDOP(" 81.06"))!$D(ICDOP(" 81.32"))!$D(ICDOP(" 81.34"))!$D(ICDOP(" 81.36")) S ICDA=1
"RTN","ICDDRG8",175,0)
 I $D(ICDOP(" 81.03"))!$D(ICDOP(" 81.05"))!$D(ICDOP(" 81.07"))!$D(ICDOP(" 81.08"))!$D(ICDOP(" 81.33"))!$D(ICDOP(" 81.35"))!$D(ICDOP(" 81.37"))!$D(ICDOP(" 81.38")) S ICDB=1
"RTN","ICDDRG8",176,0)
 I ICDA&ICDB S ICDCC3=1
"RTN","ICDDRG8",177,0)
 Q
"RTN","ICDTBL0E")
0^3^B25030279^B23895138
"RTN","ICDTBL0E",1,0)
ICDTBL0E ;ALB/JDG - GROUPER UTILITY FUNCTIONS;08/09/2010
"RTN","ICDTBL0E",2,0)
 ;;18.0;DRG Grouper;**65,62,71,74,79**;Oct 20, 2000;Build 6
"RTN","ICDTBL0E",3,0)
DRG1 ;line tag for 001,002
"RTN","ICDTBL0E",4,0)
DRG2 ;
"RTN","ICDTBL0E",5,0)
 S ICDRG=$S(ICDMCC=2:1,1:2) Q
"RTN","ICDTBL0E",6,0)
DRG3 ;S ICDRG=3 Q
"RTN","ICDTBL0E",7,0)
DRG4 S ICDRG=$S(ICDMAJ'="":3,1:4) Q
"RTN","ICDTBL0E",8,0)
 S ICDRG=$S(ICDMCC=1:3,1:4) Q
"RTN","ICDTBL0E",9,0)
DRG5 ;line tag for 005,006
"RTN","ICDTBL0E",10,0)
DRG6 S ICDRG=$S(ICDMCC=2:5,1:6) D  Q
"RTN","ICDTBL0E",11,0)
 . I $D(ICDOP(" 46.97")) S ICDRG=5
"RTN","ICDTBL0E",12,0)
DRG7 S ICDRG=7 Q
"RTN","ICDTBL0E",13,0)
DRG8 S ICDRG=8 Q
"RTN","ICDTBL0E",14,0)
DRG9 S ICDRG=9 Q
"RTN","ICDTBL0E",15,0)
DRG10 S ICDRG=10 Q
"RTN","ICDTBL0E",16,0)
DRG11 ;line tag for 011,012,013
"RTN","ICDTBL0E",17,0)
DRG12 ;
"RTN","ICDTBL0E",18,0)
DRG13 ;
"RTN","ICDTBL0E",19,0)
 I ICDPD["T" D DRG914^ICDTBL9E Q
"RTN","ICDTBL0E",20,0)
 I $D(ICDPDRG(13)),$D(ICDPDRG(206)) D  Q
"RTN","ICDTBL0E",21,0)
 .I '$D(ICDOP(" 31.21"))!('$D(ICDOP(" 31.29")))!('$D(ICDOP(" 30.3")))!('$D(ICDOP(" 30.4")))!('$D(ICDOP(" 31.1"))) D DRG206^ICDTBL2E Q
"RTN","ICDTBL0E",22,0)
 S ICDRG=$S(ICDMCC=2:11,ICDMCC=1:12,1:13) Q
"RTN","ICDTBL0E",23,0)
DRG14 ;LINE TAG FOR 014,015,16,17
"RTN","ICDTBL0E",24,0)
DRG15 ;
"RTN","ICDTBL0E",25,0)
DRG16 ;line tag for 016, 017
"RTN","ICDTBL0E",26,0)
DRG17 ;
"RTN","ICDTBL0E",27,0)
 S ICDRG=14 D 
"RTN","ICDTBL0E",28,0)
 . I $D(ICDOP(" 41.00")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0E",29,0)
 . I $D(ICDOP(" 41.01")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0E",30,0)
 . I $D(ICDOP(" 41.04")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0E",31,0)
 . I $D(ICDOP(" 41.07")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0E",32,0)
 . I $D(ICDOP(" 41.09")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0E",33,0)
 Q
"RTN","ICDTBL0E",34,0)
DRG20 ;line tag for 020,021,022
"RTN","ICDTBL0E",35,0)
DRG21 ;
"RTN","ICDTBL0E",36,0)
DRG22 ;
"RTN","ICDTBL0E",37,0)
 S ICDRG=$S((ICDPD["K")&(ICDOR["K")&(ICDMCC=2):20,(ICDPD["K")&(ICDOR["K")&(ICDMCC=1):21,(ICDPD["K")&(ICDOR["K"):22,1:ICDRG) Q
"RTN","ICDTBL0E",38,0)
DRG23 ;line tag for 023,024
"RTN","ICDTBL0E",39,0)
DRG24 ;
"RTN","ICDTBL0E",40,0)
 I ICDPD["k"!(ICDSD["k") D DRG97 Q
"RTN","ICDTBL0E",41,0)
 I ICDPD["K"&(ICDOR["K") D DRG22 Q
"RTN","ICDTBL0E",42,0)
 ;I ICDOR["Q" S ICDRG=27
"RTN","ICDTBL0E",43,0)
 S ICDRG=$S($D(ICDOP(" 00.10")):23,1:ICDRG) Q:(ICDRG=23)
"RTN","ICDTBL0E",44,0)
 S ICDRG=$S((ICDPD["Q")&(ICDOR["Q")&(ICDMCC=2):23,(ICDPD["Q")&(ICDOR["Q"):24,1:ICDRG) Q:(ICDRG=23)
"RTN","ICDTBL0E",45,0)
 I $D(ICDOP(" 02.93")),$D(ICDOP(" 01.20")) S ICDRG=$S(ICDMCC=2:23,1:24) Q
"RTN","ICDTBL0E",46,0)
 I $D(ICDOP(" 02.93")),$D(ICDOP(" 86.95")) S ICDRG=$S(ICDMCC=2:23,1:24) Q
"RTN","ICDTBL0E",47,0)
 I $D(ICDOP(" 02.93")),$D(ICDOP(" 86.98")) S ICDRG=$S(ICDMCC=2:23,1:24) Q
"RTN","ICDTBL0E",48,0)
 S ICDRG=$S(ICDMCC=2:25,ICDMCC=1:26,1:27)
"RTN","ICDTBL0E",49,0)
 Q
"RTN","ICDTBL0E",50,0)
DRG25 ;line tag for 025,026,027
"RTN","ICDTBL0E",51,0)
DRG26 ;
"RTN","ICDTBL0E",52,0)
DRG27 ;
"RTN","ICDTBL0E",53,0)
 I ICDMAJ["B" D DRG28 Q
"RTN","ICDTBL0E",54,0)
 D DRG20 D:'((ICDRG>19)&(ICDRG<23)) DRG23 D:'((ICDRG>22)&(ICDRG<25)) DRG31
"RTN","ICDTBL0E",55,0)
 I ICDDX(1)=6405,$D(ICDDXT("799.1")),ICDEXP=1,ICDMCC=2 S ICDMCC=1
"RTN","ICDTBL0E",56,0)
 S ICDRG=$S(ICDRG=20:20,ICDRG=21:21,ICDRG=22:22,ICDRG=23:23,ICDRG=24:24,ICDRG=31:31,ICDRG=32:32,ICDRG=33:33,ICDMCC=2:25,ICDMCC=1:26,1:27)
"RTN","ICDTBL0E",57,0)
 I $D(ICDOP(" 00.62")),'$D(ICDOP(" 00.65")) S ICDRG=999
"RTN","ICDTBL0E",58,0)
 Q
"RTN","ICDTBL0E",59,0)
DRG28 ;line tag for 028,029,030
"RTN","ICDTBL0E",60,0)
DRG29 ;
"RTN","ICDTBL0E",61,0)
DRG30 ;S ICDRG=$S((ICDMAJ["B")&ICDMCC=2:28,(ICDMAJ["B")&ICDMCC=1:29,ICDMAJ["B":30,1:ICDRG) D  Q
"RTN","ICDTBL0E",62,0)
 ;I $D(ICDOP(" 02.93")) D DRG24
"RTN","ICDTBL0E",63,0)
 S ICDRG=$S(ICDMCC=2:28,ICDMCC=1:29,1:30) D  Q
"RTN","ICDTBL0E",64,0)
 . I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.94")) S ICDRG=29
"RTN","ICDTBL0E",65,0)
 . I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.95")) S ICDRG=29
"RTN","ICDTBL0E",66,0)
 . I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.97")) S ICDRG=29
"RTN","ICDTBL0E",67,0)
 . I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.98")) S ICDRG=29
"RTN","ICDTBL0E",68,0)
 . Q
"RTN","ICDTBL0E",69,0)
DRG31 ;line tag for 031,032,033
"RTN","ICDTBL0E",70,0)
DRG32 ;
"RTN","ICDTBL0E",71,0)
DRG33 ;
"RTN","ICDTBL0E",72,0)
  S ICDRG=$S((ICDOR["S")&(ICDMCC=2):31,(ICDOR["S")&(ICDMCC=1):32,ICDOR["S":33,1:ICDRG)  Q
"RTN","ICDTBL0E",73,0)
DRG34 ;line tag for 034,035,036
"RTN","ICDTBL0E",74,0)
DRG35 ;
"RTN","ICDTBL0E",75,0)
DRG36 ;
"RTN","ICDTBL0E",76,0)
 S ICDRG=$S(ICDMCC=2:34,ICDMCC=1:35,1:36) Q
"RTN","ICDTBL0E",77,0)
DRG37 ;line tag for 037,038,039
"RTN","ICDTBL0E",78,0)
DRG38 ;
"RTN","ICDTBL0E",79,0)
DRG39 ;
"RTN","ICDTBL0E",80,0)
 S ICDRG=$S(ICDMCC=2:37,ICDMCC=1:38,1:39) D  Q
"RTN","ICDTBL0E",81,0)
 . I $D(ICDOP(" 00.61"))&($D(ICDOP(" 00.63")))&(ICDMCC=2) S ICDRG=34
"RTN","ICDTBL0E",82,0)
 . I $D(ICDOP(" 00.61"))&($D(ICDOP(" 00.63")))&(ICDMCC=1) S ICDRG=35
"RTN","ICDTBL0E",83,0)
 . I $D(ICDOP(" 00.61"))&($D(ICDOP(" 00.63"))) S ICDRG=36
"RTN","ICDTBL0E",84,0)
DRG40 ;line tag for 040,041,042
"RTN","ICDTBL0E",85,0)
DRG41 ;
"RTN","ICDTBL0E",86,0)
DRG42 ;
"RTN","ICDTBL0E",87,0)
 S ICDRG=$S(ICDMCC=2:40,ICDMCC=1:41,1:42) D  Q
"RTN","ICDTBL0E",88,0)
 . I $D(ICDOP(" 04.92")),$D(ICDOP(" 86.94")) S ICDRG=41
"RTN","ICDTBL0E",89,0)
 . I $D(ICDOP(" 04.92")),$D(ICDOP(" 86.95")) S ICDRG=41
"RTN","ICDTBL0E",90,0)
 . I $D(ICDOP(" 04.92")),$D(ICDOP(" 86.97")) S ICDRG=41
"RTN","ICDTBL0E",91,0)
 . I $D(ICDOP(" 04.92")),$D(ICDOP(" 86.98")) S ICDRG=41
"RTN","ICDTBL0E",92,0)
 . I ICDDX(1)=8876,$D(ICDDXT("344.1")),ICDMCC=1 S ICDRG=42
"RTN","ICDTBL0E",93,0)
DRG52 ;line tag for 052,053
"RTN","ICDTBL0E",94,0)
DRG53 ;
"RTN","ICDTBL0E",95,0)
 S ICDRG=$S(ICDMCC>0:52,1:53) Q
"RTN","ICDTBL0E",96,0)
DRG54 ;line tag for 054,055
"RTN","ICDTBL0E",97,0)
DRG55 ;
"RTN","ICDTBL0E",98,0)
 S ICDRG=$S(ICDMCC=2:54,1:55) Q
"RTN","ICDTBL0E",99,0)
DRG56 ;line tag for 056,057
"RTN","ICDTBL0E",100,0)
DRG57 ;
"RTN","ICDTBL0E",101,0)
 S ICDRG=$S(ICDMCC=2:56,1:57) Q
"RTN","ICDTBL0E",102,0)
DRG58 ;line tag for 058,059,060
"RTN","ICDTBL0E",103,0)
DRG59 ;
"RTN","ICDTBL0E",104,0)
DRG60 ;
"RTN","ICDTBL0E",105,0)
 S ICDRG=$S(ICDMCC=2:58,ICDMCC=1:59,1:60) Q
"RTN","ICDTBL0E",106,0)
DRG61 ;line tag for 061,062,063
"RTN","ICDTBL0E",107,0)
DRG62 ;
"RTN","ICDTBL0E",108,0)
DRG63 ;
"RTN","ICDTBL0E",109,0)
 I $D(ICDPDRG(69)) D DRG69 Q
"RTN","ICDTBL0E",110,0)
 I ICDDX(1)=12872,$D(ICDDXT("784.3")),ICDMCC=1 S ICDRG=63 Q
"RTN","ICDTBL0E",111,0)
 S ICDRG=$S(ICDMCC=2:61,ICDMCC=1:62,1:63) Q
"RTN","ICDTBL0E",112,0)
DRG64 ;line tag for 064,065,066
"RTN","ICDTBL0E",113,0)
DRG65 ;
"RTN","ICDTBL0E",114,0)
DRG66 ;
"RTN","ICDTBL0E",115,0)
 I ICDDX(1)=12870!(ICDDX(1)=12872),$D(ICDDXT("784.3")),ICDMCC=1 S ICDRG=66 Q
"RTN","ICDTBL0E",116,0)
 I ICDOR="" S ICDRG=$S(ICDMCC=2:64,ICDMCC=1:65,1:66) Q
"RTN","ICDTBL0E",117,0)
 I ICDOR["O" D
"RTN","ICDTBL0E",118,0)
 . S ICDRG=$S(ICDMCC=2:64,ICDMCC=1:65,1:66) Q
"RTN","ICDTBL0E",119,0)
 S ICDRG=$S(ICDMCC=2:64,ICDMCC=1:65,1:66) Q
"RTN","ICDTBL0E",120,0)
DRG67 ;line tag for 067,068
"RTN","ICDTBL0E",121,0)
DRG68 ;
"RTN","ICDTBL0E",122,0)
 S ICDRG=$S(ICDMCC=2:67,1:68) Q
"RTN","ICDTBL0E",123,0)
DRG69 S ICDRG=69 Q
"RTN","ICDTBL0E",124,0)
DRG70 ;line tag for 070,071,072
"RTN","ICDTBL0E",125,0)
DRG71 ;
"RTN","ICDTBL0E",126,0)
DRG72 ;
"RTN","ICDTBL0E",127,0)
 S ICDRG=$S(ICDMCC=2:70,ICDMCC=1:71,1:72) Q
"RTN","ICDTBL0E",128,0)
DRG73 ;line tag for 073,074
"RTN","ICDTBL0E",129,0)
DRG74 ;
"RTN","ICDTBL0E",130,0)
 S ICDRG=$S(ICDMCC=2:73,1:74) Q
"RTN","ICDTBL0E",131,0)
DRG75 ;line tag for 075,076
"RTN","ICDTBL0E",132,0)
DRG76 ;
"RTN","ICDTBL0E",133,0)
 S ICDRG=$S(ICDMCC>0:75,1:76) Q
"RTN","ICDTBL0E",134,0)
DRG77 ;line tag for 077,078,079
"RTN","ICDTBL0E",135,0)
DRG78 ;
"RTN","ICDTBL0E",136,0)
DRG79 ;
"RTN","ICDTBL0E",137,0)
 S ICDRG=$S(ICDMCC=2:77,ICDMCC=1:78,1:79) Q
"RTN","ICDTBL0E",138,0)
DRG80 ;line tag for 080,081
"RTN","ICDTBL0E",139,0)
DRG81 ;
"RTN","ICDTBL0E",140,0)
 S ICDRG=$S(ICDMCC=2:80,1:81) Q
"RTN","ICDTBL0E",141,0)
DRG82 ;line tag for 082,083,084
"RTN","ICDTBL0E",142,0)
DRG83 ;
"RTN","ICDTBL0E",143,0)
DRG84 ;
"RTN","ICDTBL0E",144,0)
 I ICDPD'["1",ICDSD'["1" D DRG85 Q
"RTN","ICDTBL0E",145,0)
 S ICDRG=$S(ICDMCC=2:82,ICDMCC=1:83,1:84) Q
"RTN","ICDTBL0E",146,0)
DRG85 ;line tag for 085,086,087
"RTN","ICDTBL0E",147,0)
DRG86 ;
"RTN","ICDTBL0E",148,0)
DRG87 ;
"RTN","ICDTBL0E",149,0)
 I $D(ICDOP(" 37.72")),$D(ICDOP(" 37.83")) D DRG42 Q
"RTN","ICDTBL0E",150,0)
 S ICDRG=$S(ICDMCC=2:85,ICDMCC=1:86,1:87) Q
"RTN","ICDTBL0E",151,0)
DRG88 ;line tag for 088,089,090
"RTN","ICDTBL0E",152,0)
DRG89 ;
"RTN","ICDTBL0E",153,0)
DRG90 ;
"RTN","ICDTBL0E",154,0)
 S ICDRG=$S(ICDMCC=2:88,ICDMCC=1:89,1:90) Q
"RTN","ICDTBL0E",155,0)
DRG91 ;line tag for 091,092,093
"RTN","ICDTBL0E",156,0)
DRG92 ;
"RTN","ICDTBL0E",157,0)
DRG93 ;
"RTN","ICDTBL0E",158,0)
 S ICDRG=$S(ICDMCC=2:91,ICDMCC=1:92,1:93) Q
"RTN","ICDTBL0E",159,0)
DRG94 ;line tag for 094,095,096
"RTN","ICDTBL0E",160,0)
DRG95 ;
"RTN","ICDTBL0E",161,0)
DRG96 ;
"RTN","ICDTBL0E",162,0)
 S ICDRG=$S(ICDMCC=2:94,ICDMCC=1:95,1:96) Q
"RTN","ICDTBL0E",163,0)
DRG97 ;line tag for 097,098,099
"RTN","ICDTBL0E",164,0)
DRG98 ;
"RTN","ICDTBL0E",165,0)
DRG99 ;
"RTN","ICDTBL0E",166,0)
 S ICDRG=$S(ICDMCC=2:97,ICDMCC=1:98,1:99) Q
"RTN","ICDTBL0E",167,0)
 Q
"RTN","ICDTBL0F")
0^4^B25559023^B24417174
"RTN","ICDTBL0F",1,0)
ICDTBL0F ;ALB/JDG - GROUPER UTILITY FUNCTIONS;08/09/2010
"RTN","ICDTBL0F",2,0)
 ;;18.0;DRG Grouper;**72,74,79**;Oct 20, 2000;Build 6
"RTN","ICDTBL0F",3,0)
DRG1 ;line tag for 001,002
"RTN","ICDTBL0F",4,0)
DRG2 ;
"RTN","ICDTBL0F",5,0)
 S ICDRG=$S(ICDMCC=2:1,1:2) Q
"RTN","ICDTBL0F",6,0)
DRG3 ;S ICDRG=3 Q
"RTN","ICDTBL0F",7,0)
DRG4 S ICDRG=$S(ICDMAJ'="":3,1:4) Q
"RTN","ICDTBL0F",8,0)
 S ICDRG=$S(ICDMCC=1:3,1:4) Q
"RTN","ICDTBL0F",9,0)
DRG5 ;line tag for 005,006
"RTN","ICDTBL0F",10,0)
DRG6 S ICDRG=$S(ICDMCC=2:5,1:6) D  Q
"RTN","ICDTBL0F",11,0)
 . I $D(ICDOP(" 46.97")) S ICDRG=5
"RTN","ICDTBL0F",12,0)
DRG7 S ICDRG=7 Q
"RTN","ICDTBL0F",13,0)
DRG8 S ICDRG=8 Q
"RTN","ICDTBL0F",14,0)
DRG9 S ICDRG=9 Q
"RTN","ICDTBL0F",15,0)
DRG10 S ICDRG=10 Q
"RTN","ICDTBL0F",16,0)
DRG11 ;line tag for 011,012,013
"RTN","ICDTBL0F",17,0)
DRG12 ;
"RTN","ICDTBL0F",18,0)
DRG13 ;
"RTN","ICDTBL0F",19,0)
 I ICDPD["T" D DRG914^ICDTBL9F Q
"RTN","ICDTBL0F",20,0)
 I $D(ICDPDRG(13)),$D(ICDPDRG(206)) D  Q
"RTN","ICDTBL0F",21,0)
 .I '$D(ICDOP(" 31.21"))!('$D(ICDOP(" 31.29")))!('$D(ICDOP(" 30.3")))!('$D(ICDOP(" 30.4")))!('$D(ICDOP(" 31.1"))) D DRG206^ICDTBL2F Q
"RTN","ICDTBL0F",22,0)
 S ICDRG=$S(ICDMCC=2:11,ICDMCC=1:12,1:13) Q
"RTN","ICDTBL0F",23,0)
DRG14 ;LINE TAG FOR 014,015,16,17
"RTN","ICDTBL0F",24,0)
DRG15 ;
"RTN","ICDTBL0F",25,0)
DRG16 ;line tag for 016, 017
"RTN","ICDTBL0F",26,0)
DRG17 ;
"RTN","ICDTBL0F",27,0)
 S ICDRG=14 D 
"RTN","ICDTBL0F",28,0)
 . I $D(ICDOP(" 41.00")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0F",29,0)
 . I $D(ICDOP(" 41.01")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0F",30,0)
 . I $D(ICDOP(" 41.04")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0F",31,0)
 . I $D(ICDOP(" 41.07")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0F",32,0)
 . I $D(ICDOP(" 41.09")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0F",33,0)
 Q
"RTN","ICDTBL0F",34,0)
DRG20 ;line tag for 020,021,022
"RTN","ICDTBL0F",35,0)
DRG21 ;
"RTN","ICDTBL0F",36,0)
DRG22 ;
"RTN","ICDTBL0F",37,0)
 S ICDRG=$S((ICDPD["K")&(ICDOR["K")&(ICDMCC=2):20,(ICDPD["K")&(ICDOR["K")&(ICDMCC=1):21,(ICDPD["K")&(ICDOR["K"):22,1:ICDRG) Q
"RTN","ICDTBL0F",38,0)
DRG23 ;line tag for 023,024
"RTN","ICDTBL0F",39,0)
DRG24 ;
"RTN","ICDTBL0F",40,0)
 I ICDPD["k"!(ICDSD["k") D DRG97 Q
"RTN","ICDTBL0F",41,0)
 I ICDPD["K"&(ICDOR["K") D DRG22 Q
"RTN","ICDTBL0F",42,0)
 ;I ICDOR["Q" S ICDRG=27
"RTN","ICDTBL0F",43,0)
 S ICDRG=$S($D(ICDOP(" 00.10")):23,1:ICDRG) Q:(ICDRG=23)
"RTN","ICDTBL0F",44,0)
 S ICDRG=$S((ICDPD["Q")&(ICDOR["Q")&(ICDMCC=2):23,(ICDPD["Q")&(ICDOR["Q"):24,1:ICDRG) Q:(ICDRG=23)
"RTN","ICDTBL0F",45,0)
 I $D(ICDOP(" 02.93")),$D(ICDOP(" 01.20")) S ICDRG=$S(ICDMCC=2:23,1:24) Q
"RTN","ICDTBL0F",46,0)
 I $D(ICDOP(" 02.93")),$D(ICDOP(" 86.95")) S ICDRG=$S(ICDMCC=2:23,1:24) Q
"RTN","ICDTBL0F",47,0)
 I $D(ICDOP(" 02.93")),$D(ICDOP(" 86.98")) S ICDRG=$S(ICDMCC=2:23,1:24) Q
"RTN","ICDTBL0F",48,0)
 S ICDRG=$S(ICDMCC=2:25,ICDMCC=1:26,1:27)
"RTN","ICDTBL0F",49,0)
 Q
"RTN","ICDTBL0F",50,0)
DRG25 ;line tag for 025,026,027
"RTN","ICDTBL0F",51,0)
DRG26 ;
"RTN","ICDTBL0F",52,0)
DRG27 ;
"RTN","ICDTBL0F",53,0)
 I ICDMAJ["B" D DRG28 Q
"RTN","ICDTBL0F",54,0)
 D DRG20 D:'((ICDRG>19)&(ICDRG<23)) DRG23 D:'((ICDRG>22)&(ICDRG<25)) DRG31
"RTN","ICDTBL0F",55,0)
 I ICDDX(1)=6405,$D(ICDDXT("799.1")),ICDEXP=1,ICDMCC=2 S ICDMCC=1
"RTN","ICDTBL0F",56,0)
 S ICDRG=$S(ICDRG=20:20,ICDRG=21:21,ICDRG=22:22,ICDRG=23:23,ICDRG=24:24,ICDRG=31:31,ICDRG=32:32,ICDRG=33:33,ICDMCC=2:25,ICDMCC=1:26,1:27)
"RTN","ICDTBL0F",57,0)
 I $D(ICDOP(" 00.62")),'$D(ICDOP(" 00.65")) S ICDRG=999
"RTN","ICDTBL0F",58,0)
 Q
"RTN","ICDTBL0F",59,0)
DRG28 ;line tag for 028,029,030
"RTN","ICDTBL0F",60,0)
DRG29 ;
"RTN","ICDTBL0F",61,0)
DRG30 ;S ICDRG=$S((ICDMAJ["B")&ICDMCC=2:28,(ICDMAJ["B")&ICDMCC=1:29,ICDMAJ["B":30,1:ICDRG) D  Q
"RTN","ICDTBL0F",62,0)
 ;I $D(ICDOP(" 02.93")) D DRG24
"RTN","ICDTBL0F",63,0)
 S ICDRG=$S(ICDMCC=2:28,ICDMCC=1:29,1:30) D  Q
"RTN","ICDTBL0F",64,0)
 . I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.94")) S ICDRG=29
"RTN","ICDTBL0F",65,0)
 . I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.95")) S ICDRG=29
"RTN","ICDTBL0F",66,0)
 . I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.97")) S ICDRG=29
"RTN","ICDTBL0F",67,0)
 . I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.98")) S ICDRG=29
"RTN","ICDTBL0F",68,0)
 . Q
"RTN","ICDTBL0F",69,0)
DRG31 ;line tag for 031,032,033
"RTN","ICDTBL0F",70,0)
DRG32 ;
"RTN","ICDTBL0F",71,0)
DRG33 ;
"RTN","ICDTBL0F",72,0)
  S ICDRG=$S((ICDOR["S")&(ICDMCC=2):31,(ICDOR["S")&(ICDMCC=1):32,ICDOR["S":33,1:ICDRG)  Q
"RTN","ICDTBL0F",73,0)
DRG34 ;line tag for 034,035,036
"RTN","ICDTBL0F",74,0)
DRG35 ;
"RTN","ICDTBL0F",75,0)
DRG36 ;
"RTN","ICDTBL0F",76,0)
 S ICDRG=$S(ICDMCC=2:34,ICDMCC=1:35,1:36) Q
"RTN","ICDTBL0F",77,0)
DRG37 ;line tag for 037,038,039
"RTN","ICDTBL0F",78,0)
DRG38 ;
"RTN","ICDTBL0F",79,0)
DRG39 ;
"RTN","ICDTBL0F",80,0)
 S ICDRG=$S(ICDMCC=2:37,ICDMCC=1:38,1:39) D  Q
"RTN","ICDTBL0F",81,0)
 . I $D(ICDOP(" 00.61"))&($D(ICDOP(" 00.63")))&(ICDMCC=2) S ICDRG=34
"RTN","ICDTBL0F",82,0)
 . I $D(ICDOP(" 00.61"))&($D(ICDOP(" 00.63")))&(ICDMCC=1) S ICDRG=35
"RTN","ICDTBL0F",83,0)
 . I $D(ICDOP(" 00.61"))&($D(ICDOP(" 00.63"))) S ICDRG=36
"RTN","ICDTBL0F",84,0)
DRG40 ;line tag for 040,041,042
"RTN","ICDTBL0F",85,0)
DRG41 ;
"RTN","ICDTBL0F",86,0)
DRG42 ;
"RTN","ICDTBL0F",87,0)
 S ICDRG=$S(ICDMCC=2:40,ICDMCC=1:41,1:42) D  Q
"RTN","ICDTBL0F",88,0)
 . I $D(ICDOP(" 04.92")),$D(ICDOP(" 86.94")) S ICDRG=41
"RTN","ICDTBL0F",89,0)
 . I $D(ICDOP(" 04.92")),$D(ICDOP(" 86.95")) S ICDRG=41
"RTN","ICDTBL0F",90,0)
 . I $D(ICDOP(" 04.92")),$D(ICDOP(" 86.97")) S ICDRG=41
"RTN","ICDTBL0F",91,0)
 . I $D(ICDOP(" 04.92")),$D(ICDOP(" 86.98")) S ICDRG=41
"RTN","ICDTBL0F",92,0)
 . I ICDDX(1)=8876,$D(ICDDXT("344.1")),ICDMCC=1 S ICDRG=42
"RTN","ICDTBL0F",93,0)
DRG52 ;line tag for 052,053
"RTN","ICDTBL0F",94,0)
DRG53 ;
"RTN","ICDTBL0F",95,0)
 S ICDRG=$S(ICDMCC>0:52,1:53) Q
"RTN","ICDTBL0F",96,0)
DRG54 ;line tag for 054,055
"RTN","ICDTBL0F",97,0)
DRG55 ;
"RTN","ICDTBL0F",98,0)
 S ICDRG=$S(ICDMCC=2:54,1:55) Q
"RTN","ICDTBL0F",99,0)
DRG56 ;line tag for 056,057
"RTN","ICDTBL0F",100,0)
DRG57 ;
"RTN","ICDTBL0F",101,0)
 S ICDRG=$S(ICDMCC=2:56,1:57) Q
"RTN","ICDTBL0F",102,0)
DRG58 ;line tag for 058,059,060
"RTN","ICDTBL0F",103,0)
DRG59 ;
"RTN","ICDTBL0F",104,0)
DRG60 ;
"RTN","ICDTBL0F",105,0)
 S ICDRG=$S(ICDMCC=2:58,ICDMCC=1:59,1:60) Q
"RTN","ICDTBL0F",106,0)
DRG61 ;line tag for 061,062,063
"RTN","ICDTBL0F",107,0)
DRG62 ;
"RTN","ICDTBL0F",108,0)
DRG63 ;
"RTN","ICDTBL0F",109,0)
 I $D(ICDPDRG(69)) D DRG69 Q
"RTN","ICDTBL0F",110,0)
 I ICDDX(1)=12872,$D(ICDDXT("784.3")),ICDMCC=1 S ICDRG=63 Q
"RTN","ICDTBL0F",111,0)
 S ICDRG=$S(ICDMCC=2:61,ICDMCC=1:62,1:63) Q
"RTN","ICDTBL0F",112,0)
DRG64 ;line tag for 064,065,066
"RTN","ICDTBL0F",113,0)
DRG65 ;
"RTN","ICDTBL0F",114,0)
DRG66 ;
"RTN","ICDTBL0F",115,0)
 I $D(ICDDXT("V45.88")),ICDPDRG["64^65^66" S ICDRG=65 Q
"RTN","ICDTBL0F",116,0)
 I ICDDX(1)=12870!(ICDDX(1)=12872),$D(ICDDXT("784.3")),ICDMCC=1 S ICDRG=66 Q
"RTN","ICDTBL0F",117,0)
 I ICDOR="" S ICDRG=$S(ICDMCC=2:64,ICDMCC=1:65,1:66) Q
"RTN","ICDTBL0F",118,0)
 I ICDOR["O" D
"RTN","ICDTBL0F",119,0)
 . S ICDRG=$S(ICDMCC=2:64,ICDMCC=1:65,1:66) Q
"RTN","ICDTBL0F",120,0)
 S ICDRG=$S(ICDMCC=2:64,ICDMCC=1:65,1:66) Q
"RTN","ICDTBL0F",121,0)
DRG67 ;line tag for 067,068
"RTN","ICDTBL0F",122,0)
DRG68 ;
"RTN","ICDTBL0F",123,0)
 S ICDRG=$S(ICDMCC=2:67,1:68) Q
"RTN","ICDTBL0F",124,0)
DRG69 S ICDRG=69 Q
"RTN","ICDTBL0F",125,0)
DRG70 ;line tag for 070,071,072
"RTN","ICDTBL0F",126,0)
DRG71 ;
"RTN","ICDTBL0F",127,0)
DRG72 ;
"RTN","ICDTBL0F",128,0)
 S ICDRG=$S(ICDMCC=2:70,ICDMCC=1:71,1:72) Q
"RTN","ICDTBL0F",129,0)
DRG73 ;line tag for 073,074
"RTN","ICDTBL0F",130,0)
DRG74 ;
"RTN","ICDTBL0F",131,0)
 S ICDRG=$S(ICDMCC=2:73,1:74) Q
"RTN","ICDTBL0F",132,0)
DRG75 ;line tag for 075,076
"RTN","ICDTBL0F",133,0)
DRG76 ;
"RTN","ICDTBL0F",134,0)
 S ICDRG=$S(ICDMCC>0:75,1:76) Q
"RTN","ICDTBL0F",135,0)
DRG77 ;line tag for 077,078,079
"RTN","ICDTBL0F",136,0)
DRG78 ;
"RTN","ICDTBL0F",137,0)
DRG79 ;
"RTN","ICDTBL0F",138,0)
 S ICDRG=$S(ICDMCC=2:77,ICDMCC=1:78,1:79) Q
"RTN","ICDTBL0F",139,0)
DRG80 ;line tag for 080,081
"RTN","ICDTBL0F",140,0)
DRG81 ;
"RTN","ICDTBL0F",141,0)
 S ICDRG=$S(ICDMCC=2:80,1:81) Q
"RTN","ICDTBL0F",142,0)
DRG82 ;line tag for 082,083,084
"RTN","ICDTBL0F",143,0)
DRG83 ;
"RTN","ICDTBL0F",144,0)
DRG84 ;
"RTN","ICDTBL0F",145,0)
 I ICDPD'["1",ICDSD'["1" D DRG85 Q
"RTN","ICDTBL0F",146,0)
 S ICDRG=$S(ICDMCC=2:82,ICDMCC=1:83,1:84) Q
"RTN","ICDTBL0F",147,0)
DRG85 ;line tag for 085,086,087
"RTN","ICDTBL0F",148,0)
DRG86 ;
"RTN","ICDTBL0F",149,0)
DRG87 ;
"RTN","ICDTBL0F",150,0)
 I $D(ICDOP(" 37.72")),$D(ICDOP(" 37.83")) D DRG42 Q
"RTN","ICDTBL0F",151,0)
 S ICDRG=$S(ICDMCC=2:85,ICDMCC=1:86,1:87) Q
"RTN","ICDTBL0F",152,0)
DRG88 ;line tag for 088,089,090
"RTN","ICDTBL0F",153,0)
DRG89 ;
"RTN","ICDTBL0F",154,0)
DRG90 ;
"RTN","ICDTBL0F",155,0)
 S ICDRG=$S(ICDMCC=2:88,ICDMCC=1:89,1:90) Q
"RTN","ICDTBL0F",156,0)
DRG91 ;line tag for 091,092,093
"RTN","ICDTBL0F",157,0)
DRG92 ;
"RTN","ICDTBL0F",158,0)
DRG93 ;
"RTN","ICDTBL0F",159,0)
 S ICDRG=$S(ICDMCC=2:91,ICDMCC=1:92,1:93) Q
"RTN","ICDTBL0F",160,0)
DRG94 ;line tag for 094,095,096
"RTN","ICDTBL0F",161,0)
DRG95 ;
"RTN","ICDTBL0F",162,0)
DRG96 ;
"RTN","ICDTBL0F",163,0)
 S ICDRG=$S(ICDMCC=2:94,ICDMCC=1:95,1:96) Q
"RTN","ICDTBL0F",164,0)
DRG97 ;line tag for 097,098,099
"RTN","ICDTBL0F",165,0)
DRG98 ;
"RTN","ICDTBL0F",166,0)
DRG99 ;
"RTN","ICDTBL0F",167,0)
 S ICDRG=$S(ICDMCC=2:97,ICDMCC=1:98,1:99) Q
"RTN","ICDTBL0F",168,0)
 Q
"RTN","ICDTBL0G")
0^5^B26412213^B24417183
"RTN","ICDTBL0G",1,0)
ICDTBL0G ;ALB/JDG - GROUPER UTILITY FUNCTIONS;08/09/2010
"RTN","ICDTBL0G",2,0)
 ;;18.0;DRG Grouper;**77,79**;Oct 20, 2000;Build 6
"RTN","ICDTBL0G",3,0)
DRG1 ;line tag for 001,002
"RTN","ICDTBL0G",4,0)
DRG2 ;
"RTN","ICDTBL0G",5,0)
 S ICDRG=$S(ICDMCC=2:1,1:2) Q
"RTN","ICDTBL0G",6,0)
DRG3 ;S ICDRG=3 Q
"RTN","ICDTBL0G",7,0)
DRG4 S ICDRG=$S(ICDMAJ'="":3,1:4) Q
"RTN","ICDTBL0G",8,0)
 S ICDRG=$S(ICDMCC=1:3,1:4) Q
"RTN","ICDTBL0G",9,0)
DRG5 ;line tag for 005,006
"RTN","ICDTBL0G",10,0)
DRG6 S ICDRG=$S(ICDMCC=2:5,1:6) D  Q
"RTN","ICDTBL0G",11,0)
 . I $D(ICDOP(" 46.97")) S ICDRG=5
"RTN","ICDTBL0G",12,0)
DRG7 S ICDRG=7 Q
"RTN","ICDTBL0G",13,0)
DRG8 S ICDRG=8 Q
"RTN","ICDTBL0G",14,0)
DRG9 S ICDRG=9 Q
"RTN","ICDTBL0G",15,0)
DRG10 S ICDRG=10 Q
"RTN","ICDTBL0G",16,0)
DRG11 ;line tag for 011,012,013
"RTN","ICDTBL0G",17,0)
DRG12 ;
"RTN","ICDTBL0G",18,0)
DRG13 ;
"RTN","ICDTBL0G",19,0)
 I ICDPD["T" D DRG914^ICDTBL9F Q
"RTN","ICDTBL0G",20,0)
 I $D(ICDPDRG(13)),$D(ICDPDRG(206)) D  Q
"RTN","ICDTBL0G",21,0)
 .I '$D(ICDOP(" 31.21"))!('$D(ICDOP(" 31.29")))!('$D(ICDOP(" 30.3")))!('$D(ICDOP(" 30.4")))!('$D(ICDOP(" 31.1"))) D DRG206^ICDTBL2G Q
"RTN","ICDTBL0G",22,0)
 S ICDRG=$S(ICDMCC=2:11,ICDMCC=1:12,1:13) Q
"RTN","ICDTBL0G",23,0)
DRG14 ;LINE TAG FOR 014,015,16,17
"RTN","ICDTBL0G",24,0)
DRG15 ;
"RTN","ICDTBL0G",25,0)
DRG16 ;line tag for 016, 017
"RTN","ICDTBL0G",26,0)
DRG17 ;
"RTN","ICDTBL0G",27,0)
 S ICDRG=14 D 
"RTN","ICDTBL0G",28,0)
 . I $D(ICDOP(" 41.00")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0G",29,0)
 . I $D(ICDOP(" 41.01")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0G",30,0)
 . I $D(ICDOP(" 41.04")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0G",31,0)
 . I $D(ICDOP(" 41.07")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0G",32,0)
 . I $D(ICDOP(" 41.09")) S ICDRG=$S(ICDMCC=0:17,1:16) Q
"RTN","ICDTBL0G",33,0)
 Q
"RTN","ICDTBL0G",34,0)
DRG20 ;line tag for 020,021,022
"RTN","ICDTBL0G",35,0)
DRG21 ;
"RTN","ICDTBL0G",36,0)
DRG22 ;
"RTN","ICDTBL0G",37,0)
 S ICDRG=$S((ICDPD["K")&(ICDOR["K")&(ICDMCC=2):20,(ICDPD["K")&(ICDOR["K")&(ICDMCC=1):21,(ICDPD["K")&(ICDOR["K"):22,1:ICDRG) Q
"RTN","ICDTBL0G",38,0)
DRG23 ;line tag for 023,024
"RTN","ICDTBL0G",39,0)
DRG24 ;
"RTN","ICDTBL0G",40,0)
 I ICDPD["k"!(ICDSD["k") D DRG97 Q
"RTN","ICDTBL0G",41,0)
 I ICDPD["K"&(ICDOR["K") D DRG22 Q
"RTN","ICDTBL0G",42,0)
 ;I ICDOR["Q" S ICDRG=27
"RTN","ICDTBL0G",43,0)
 S ICDRG=$S($D(ICDOP(" 00.10")):23,1:ICDRG) Q:(ICDRG=23)
"RTN","ICDTBL0G",44,0)
 S ICDRG=$S((ICDPD["Q")&(ICDOR["Q")&(ICDMCC=2):23,(ICDPD["Q")&(ICDOR["Q"):24,1:ICDRG) Q:(ICDRG=23)
"RTN","ICDTBL0G",45,0)
 I $D(ICDOP(" 02.93")),$D(ICDOP(" 01.20")) S ICDRG=$S(ICDMCC=2:23,1:24) Q
"RTN","ICDTBL0G",46,0)
 I $D(ICDOP(" 02.93")),$D(ICDOP(" 86.95")) S ICDRG=$S(ICDMCC=2:23,1:24) Q
"RTN","ICDTBL0G",47,0)
 I $D(ICDOP(" 02.93")),$D(ICDOP(" 86.98")) S ICDRG=$S(ICDMCC=2:23,1:24) Q
"RTN","ICDTBL0G",48,0)
 S ICDRG=$S(ICDMCC=2:25,ICDMCC=1:26,1:27)
"RTN","ICDTBL0G",49,0)
 Q
"RTN","ICDTBL0G",50,0)
DRG25 ;line tag for 025,026,027
"RTN","ICDTBL0G",51,0)
DRG26 ;
"RTN","ICDTBL0G",52,0)
DRG27 ;
"RTN","ICDTBL0G",53,0)
 I ICDMAJ["B" D DRG28 Q
"RTN","ICDTBL0G",54,0)
 D DRG20 D:'((ICDRG>19)&(ICDRG<23)) DRG23 D:'((ICDRG>22)&(ICDRG<25)) DRG31
"RTN","ICDTBL0G",55,0)
 I ICDDX(1)=6405,$D(ICDDXT("799.1")),ICDEXP=1,ICDMCC=2 S ICDMCC=1
"RTN","ICDTBL0G",56,0)
 S ICDRG=$S(ICDRG=20:20,ICDRG=21:21,ICDRG=22:22,ICDRG=23:23,ICDRG=24:24,ICDRG=31:31,ICDRG=32:32,ICDRG=33:33,ICDMCC=2:25,ICDMCC=1:26,1:27)
"RTN","ICDTBL0G",57,0)
 I $D(ICDOP(" 00.62")),'$D(ICDOP(" 00.65")) S ICDRG=999
"RTN","ICDTBL0G",58,0)
 Q
"RTN","ICDTBL0G",59,0)
DRG28 ;line tag for 028,029,030
"RTN","ICDTBL0G",60,0)
DRG29 ;
"RTN","ICDTBL0G",61,0)
DRG30 ;S ICDRG=$S((ICDMAJ["B")&ICDMCC=2:28,(ICDMAJ["B")&ICDMCC=1:29,ICDMAJ["B":30,1:ICDRG) D  Q
"RTN","ICDTBL0G",62,0)
 ;I $D(ICDOP(" 02.93")) D DRG24
"RTN","ICDTBL0G",63,0)
 S ICDRG=$S(ICDMCC=2:28,ICDMCC=1:29,1:30) D  Q
"RTN","ICDTBL0G",64,0)
 . I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.94")) S ICDRG=29
"RTN","ICDTBL0G",65,0)
 . I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.95")) S ICDRG=29
"RTN","ICDTBL0G",66,0)
 . I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.97")) S ICDRG=29
"RTN","ICDTBL0G",67,0)
 . I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.98")) S ICDRG=29
"RTN","ICDTBL0G",68,0)
 . Q
"RTN","ICDTBL0G",69,0)
DRG31 ;line tag for 031,032,033
"RTN","ICDTBL0G",70,0)
DRG32 ;
"RTN","ICDTBL0G",71,0)
DRG33 ;
"RTN","ICDTBL0G",72,0)
  S ICDRG=$S((ICDOR["S")&(ICDMCC=2):31,(ICDOR["S")&(ICDMCC=1):32,ICDOR["S":33,1:ICDRG)  Q
"RTN","ICDTBL0G",73,0)
DRG34 ;line tag for 034,035,036
"RTN","ICDTBL0G",74,0)
DRG35 ;
"RTN","ICDTBL0G",75,0)
DRG36 ;
"RTN","ICDTBL0G",76,0)
 S ICDRG=$S(ICDMCC=2:34,ICDMCC=1:35,1:36) Q
"RTN","ICDTBL0G",77,0)
DRG37 ;line tag for 037,038,039
"RTN","ICDTBL0G",78,0)
DRG38 ;
"RTN","ICDTBL0G",79,0)
DRG39 ;
"RTN","ICDTBL0G",80,0)
 S ICDRG=$S(ICDMCC=2:37,ICDMCC=1:38,1:39) D  Q
"RTN","ICDTBL0G",81,0)
 . I $D(ICDOP(" 00.61"))&($D(ICDOP(" 00.63")))&(ICDMCC=2) S ICDRG=34
"RTN","ICDTBL0G",82,0)
 . I $D(ICDOP(" 00.61"))&($D(ICDOP(" 00.63")))&(ICDMCC=1) S ICDRG=35
"RTN","ICDTBL0G",83,0)
 . I $D(ICDOP(" 00.61"))&($D(ICDOP(" 00.63"))) S ICDRG=36
"RTN","ICDTBL0G",84,0)
DRG40 ;line tag for 040,041,042
"RTN","ICDTBL0G",85,0)
DRG41 ;
"RTN","ICDTBL0G",86,0)
DRG42 ;
"RTN","ICDTBL0G",87,0)
 S ICDRG=$S(ICDMCC=2:40,ICDMCC=1:41,1:42) D  Q
"RTN","ICDTBL0G",88,0)
 . I $D(ICDOP(" 04.92")),$D(ICDOP(" 86.94")) S ICDRG=41
"RTN","ICDTBL0G",89,0)
 . I $D(ICDOP(" 04.92")),$D(ICDOP(" 86.95")) S ICDRG=41
"RTN","ICDTBL0G",90,0)
 . I $D(ICDOP(" 04.92")),$D(ICDOP(" 86.97")) S ICDRG=41
"RTN","ICDTBL0G",91,0)
 . I $D(ICDOP(" 04.92")),$D(ICDOP(" 86.98")) S ICDRG=41
"RTN","ICDTBL0G",92,0)
 . I ICDDX(1)=8876,$D(ICDDXT("344.1")),ICDMCC=1 S ICDRG=42
"RTN","ICDTBL0G",93,0)
DRG52 ;line tag for 052,053
"RTN","ICDTBL0G",94,0)
DRG53 ;
"RTN","ICDTBL0G",95,0)
 S ICDRG=$S(ICDMCC>0:52,1:53) Q
"RTN","ICDTBL0G",96,0)
DRG54 ;line tag for 054,055
"RTN","ICDTBL0G",97,0)
DRG55 ;
"RTN","ICDTBL0G",98,0)
 S ICDRG=$S(ICDMCC=2:54,1:55) Q
"RTN","ICDTBL0G",99,0)
DRG56 ;line tag for 056,057
"RTN","ICDTBL0G",100,0)
DRG57 ;
"RTN","ICDTBL0G",101,0)
 S ICDRG=$S(ICDMCC=2:56,1:57) Q
"RTN","ICDTBL0G",102,0)
DRG58 ;line tag for 058,059,060
"RTN","ICDTBL0G",103,0)
DRG59 ;
"RTN","ICDTBL0G",104,0)
DRG60 ;
"RTN","ICDTBL0G",105,0)
 S ICDRG=$S(ICDMCC=2:58,ICDMCC=1:59,1:60) Q
"RTN","ICDTBL0G",106,0)
DRG61 ;line tag for 061,062,063
"RTN","ICDTBL0G",107,0)
DRG62 ;
"RTN","ICDTBL0G",108,0)
DRG63 ;
"RTN","ICDTBL0G",109,0)
 I $D(ICDPDRG(69)) D DRG69 Q
"RTN","ICDTBL0G",110,0)
 I ICDDX(1)=12872,$D(ICDDXT("784.3")),ICDMCC=1 S ICDRG=63 Q
"RTN","ICDTBL0G",111,0)
 S ICDRG=$S(ICDMCC=2:61,ICDMCC=1:62,1:63) Q
"RTN","ICDTBL0G",112,0)
DRG64 ;line tag for 064,065,066
"RTN","ICDTBL0G",113,0)
DRG65 ;
"RTN","ICDTBL0G",114,0)
DRG66 ;
"RTN","ICDTBL0G",115,0)
 I ICDDX(1)=9064,$D(ICDDXT("780.03")),$D(ICDDXT("427.5")),ICDEXP=0,ICDMCC=2 S ICDMCC=1
"RTN","ICDTBL0G",116,0)
 I $D(ICDDXT("V45.88")),ICDPDRG["64^65^66" S ICDRG=65 Q
"RTN","ICDTBL0G",117,0)
 I ICDDX(1)=12870!(ICDDX(1)=12872),$D(ICDDXT("784.3")),ICDMCC=1 S ICDRG=66 Q
"RTN","ICDTBL0G",118,0)
 I ICDOR="" S ICDRG=$S(ICDMCC=2:64,ICDMCC=1:65,1:66) Q
"RTN","ICDTBL0G",119,0)
 I ICDOR["O" D
"RTN","ICDTBL0G",120,0)
 . S ICDRG=$S(ICDMCC=2:64,ICDMCC=1:65,1:66) Q
"RTN","ICDTBL0G",121,0)
 S ICDRG=$S(ICDMCC=2:64,ICDMCC=1:65,1:66) Q
"RTN","ICDTBL0G",122,0)
DRG67 ;line tag for 067,068
"RTN","ICDTBL0G",123,0)
DRG68 ;
"RTN","ICDTBL0G",124,0)
 S ICDRG=$S(ICDMCC=2:67,1:68) Q
"RTN","ICDTBL0G",125,0)
DRG69 S ICDRG=69 Q
"RTN","ICDTBL0G",126,0)
DRG70 ;line tag for 070,071,072
"RTN","ICDTBL0G",127,0)
DRG71 ;
"RTN","ICDTBL0G",128,0)
DRG72 ;
"RTN","ICDTBL0G",129,0)
 S ICDRG=$S(ICDMCC=2:70,ICDMCC=1:71,1:72) Q
"RTN","ICDTBL0G",130,0)
DRG73 ;line tag for 073,074
"RTN","ICDTBL0G",131,0)
DRG74 ;
"RTN","ICDTBL0G",132,0)
 S ICDRG=$S(ICDMCC=2:73,1:74) Q
"RTN","ICDTBL0G",133,0)
DRG75 ;line tag for 075,076
"RTN","ICDTBL0G",134,0)
DRG76 ;
"RTN","ICDTBL0G",135,0)
 S ICDRG=$S(ICDMCC>0:75,1:76) Q
"RTN","ICDTBL0G",136,0)
DRG77 ;line tag for 077,078,079
"RTN","ICDTBL0G",137,0)
DRG78 ;
"RTN","ICDTBL0G",138,0)
DRG79 ;
"RTN","ICDTBL0G",139,0)
 S ICDRG=$S(ICDMCC=2:77,ICDMCC=1:78,1:79) Q
"RTN","ICDTBL0G",140,0)
DRG80 ;line tag for 080,081
"RTN","ICDTBL0G",141,0)
DRG81 ;
"RTN","ICDTBL0G",142,0)
 S ICDRG=$S(ICDMCC=2:80,1:81) Q
"RTN","ICDTBL0G",143,0)
DRG82 ;line tag for 082,083,084
"RTN","ICDTBL0G",144,0)
DRG83 ;
"RTN","ICDTBL0G",145,0)
DRG84 ;
"RTN","ICDTBL0G",146,0)
 I ICDPD'["1",ICDSD'["1" D DRG85 Q
"RTN","ICDTBL0G",147,0)
 S ICDRG=$S(ICDMCC=2:82,ICDMCC=1:83,1:84) Q
"RTN","ICDTBL0G",148,0)
DRG85 ;line tag for 085,086,087
"RTN","ICDTBL0G",149,0)
DRG86 ;
"RTN","ICDTBL0G",150,0)
DRG87 ;
"RTN","ICDTBL0G",151,0)
 I $D(ICDOP(" 37.72")),$D(ICDOP(" 37.83")) D DRG42 Q
"RTN","ICDTBL0G",152,0)
 S ICDRG=$S(ICDMCC=2:85,ICDMCC=1:86,1:87) Q
"RTN","ICDTBL0G",153,0)
DRG88 ;line tag for 088,089,090
"RTN","ICDTBL0G",154,0)
DRG89 ;
"RTN","ICDTBL0G",155,0)
DRG90 ;
"RTN","ICDTBL0G",156,0)
 S ICDRG=$S(ICDMCC=2:88,ICDMCC=1:89,1:90) Q
"RTN","ICDTBL0G",157,0)
DRG91 ;line tag for 091,092,093
"RTN","ICDTBL0G",158,0)
DRG92 ;
"RTN","ICDTBL0G",159,0)
DRG93 ;
"RTN","ICDTBL0G",160,0)
 S ICDRG=$S(ICDMCC=2:91,ICDMCC=1:92,1:93) Q
"RTN","ICDTBL0G",161,0)
DRG94 ;line tag for 094,095,096
"RTN","ICDTBL0G",162,0)
DRG95 ;
"RTN","ICDTBL0G",163,0)
DRG96 ;
"RTN","ICDTBL0G",164,0)
 S ICDRG=$S(ICDMCC=2:94,ICDMCC=1:95,1:96) Q
"RTN","ICDTBL0G",165,0)
DRG97 ;line tag for 097,098,099
"RTN","ICDTBL0G",166,0)
DRG98 ;
"RTN","ICDTBL0G",167,0)
DRG99 ;
"RTN","ICDTBL0G",168,0)
 S ICDRG=$S(ICDMCC=2:97,ICDMCC=1:98,1:99) Q
"RTN","ICDTBL0G",169,0)
 Q
"RTN","ICDTBL2C")
0^6^B52038834^B51015005
"RTN","ICDTBL2C",1,0)
ICDTBL2C ;ALB/MJB/KUM - GROUPER UTILITY FUNCTIONS;08/09/2010
"RTN","ICDTBL2C",2,0)
 ;;18.0;DRG Grouper;**50,49,54,55,61,62,64,79**;Oct 20, 2000;Build 6
"RTN","ICDTBL2C",3,0)
DRG200 ;
"RTN","ICDTBL2C",4,0)
DRG201 I ICDSD["c" S ICDRG=$S(ICDMCC=2:199,ICDMCC=1:200,1:201) Q
"RTN","ICDTBL2C",5,0)
 S ICDRG=$S(ICDMCC=2:199,ICDMCC=1:200,1:201) Q
"RTN","ICDTBL2C",6,0)
DRG202 ;
"RTN","ICDTBL2C",7,0)
DRG203 S ICDRG=$S(ICDMCC>0:202,1:203) Q
"RTN","ICDTBL2C",8,0)
DRG204 S ICDRG=204 Q
"RTN","ICDTBL2C",9,0)
DRG205 ;
"RTN","ICDTBL2C",10,0)
DRG206 S ICDRG=$S(ICDMCC=2:205,1:206) Q
"RTN","ICDTBL2C",11,0)
DRG207 S ICDRG=207 Q
"RTN","ICDTBL2C",12,0)
DRG208 I ICDOR["o" D DRG982^ICDTBL9C Q
"RTN","ICDTBL2C",13,0)
 S ICDRG=208 Q
"RTN","ICDTBL2C",14,0)
DRG215 S ICDRG=215 Q
"RTN","ICDTBL2C",15,0)
DRG216 ;valve procedures
"RTN","ICDTBL2C",16,0)
 N ICDE1,ICDE2
"RTN","ICDTBL2C",17,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&($D(ICDOP(" 37.96"))):1,1:0),ICDE2=$S($D(ICDOP(" 37.97"))&($D(ICDOP(" 37.98"))):1,1:0)
"RTN","ICDTBL2C",18,0)
 S:ICDOR["H" ICDRG=$S(ICDOR["N"&ICDE1:218,ICDOR["N"&ICDE2:218,ICDOR["O":218,1:ICDRG)
"RTN","ICDTBL2C",19,0)
 S:ICDOR'["H" ICDRG=$S(ICDOR["N"&ICDE1:221,ICDOR["N"&ICDE2:221,ICDOR["O":221,1:ICDRG)
"RTN","ICDTBL2C",20,0)
 I ICDOR["P"&(ICDE1+ICDE2=0) S ICDRG=$S(ICDOR["H":218,1:221)
"RTN","ICDTBL2C",21,0)
 S:ICDRG=218 ICDRG=$S(ICDMCC=2:216,ICDMCC=1:217,1:218)
"RTN","ICDTBL2C",22,0)
 S:ICDRG=221 ICDRG=$S(ICDMCC=2:219,ICDMCC=1:220,1:221)
"RTN","ICDTBL2C",23,0)
 Q
"RTN","ICDTBL2C",24,0)
DRG217 D DRG216 Q
"RTN","ICDTBL2C",25,0)
DRG218 D DRG216 Q
"RTN","ICDTBL2C",26,0)
DRG219 D DRG216 Q
"RTN","ICDTBL2C",27,0)
DRG220 D DRG216 Q
"RTN","ICDTBL2C",28,0)
DRG221 D DRG216 Q
"RTN","ICDTBL2C",29,0)
DRG222 N ICDE1,ICDE2,ICDE3,ICDE4
"RTN","ICDTBL2C",30,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&(($D(ICDOP(" 37.96")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2C",31,0)
 S ICDE2=$S($D(ICDOP(" 37.97"))&(($D(ICDOP(" 37.98")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2C",32,0)
 S ICDE3=$S($D(ICDOP(" 00.52"))&($D(ICDOP(" 00.54"))):1,1:0)
"RTN","ICDTBL2C",33,0)
 ;S ICDE4=$S($D(ICDOP(" 00.54"))&($D(ICDOP(" 37.95"))):1,1:0)
"RTN","ICDTBL2C",34,0)
 S ICDE4=$S($D(ICDOP(" 37.74"))&(($D(ICDOP(" 37.96")))!($D(ICDOP(" 37.98")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2C",35,0)
 S ICDRG=999
"RTN","ICDTBL2C",36,0)
 I $D(ICDOP(" 37.94"))!$D(ICDOP(" 00.51")) I ICDE1+ICDE2+ICDE3+ICDE4=0 D
"RTN","ICDTBL2C",37,0)
 . S ICDRG=$S(ICDMCC=2:226,1:227)
"RTN","ICDTBL2C",38,0)
 I '$D(ICDOP(" 37.94"))&('$D(ICDOP(" 00.51"))) I ICDE1!ICDE2!ICDE3!ICDE4 D
"RTN","ICDTBL2C",39,0)
 . S ICDRG=$S(ICDMCC=2:226,1:227)
"RTN","ICDTBL2C",40,0)
 ; "HN" in ICDOR represents OR proc 37.21-.23, 37.26, 88.52-.58
"RTN","ICDTBL2C",41,0)
 I (ICDRG=226)!(ICDRG=227) I ICDOR["HN" I '$D(ICDOP(" 37.26")) S ICDRG=$S((ICDPD["A")&(ICDMCC=2):222,ICDPD["A":223,ICDMCC=2:224,1:225)
"RTN","ICDTBL2C",42,0)
 I ICDRG=470 D CMS115
"RTN","ICDTBL2C",43,0)
 Q
"RTN","ICDTBL2C",44,0)
DRG223 D DRG222 Q
"RTN","ICDTBL2C",45,0)
DRG224 ;
"RTN","ICDTBL2C",46,0)
DRG225 D DRG222 Q
"RTN","ICDTBL2C",47,0)
DRG226 ;
"RTN","ICDTBL2C",48,0)
DRG227 D DRG222 Q
"RTN","ICDTBL2C",49,0)
DRG228 ;
"RTN","ICDTBL2C",50,0)
DRG229 ;
"RTN","ICDTBL2C",51,0)
DRG230 ;DRGs 228-230 note ICDOR["Oo" = operation and DRG CMS108/MS230 procedure
"RTN","ICDTBL2C",52,0)
 I $D(ICDOP(" 35.33")) D DRG221 Q
"RTN","ICDTBL2C",53,0)
 I ICDOR["Oo"!($D(ICDOP(" 38.44"))&($D(ICDOP(" 38.45")))) D  Q
"RTN","ICDTBL2C",54,0)
 . S ICDRG=$S(ICDMCC=2:228,ICDMCC=1:229,1:230) Q
"RTN","ICDTBL2C",55,0)
 G DRG237
"RTN","ICDTBL2C",56,0)
DRG231 S ICDRG=999
"RTN","ICDTBL2C",57,0)
 I ICDOR["b" D DRG235
"RTN","ICDTBL2C",58,0)
 I ICDOR["b" I $D(ICDOP(" 35.96"))!($D(ICDOP(" 00.66"))) D  Q
"RTN","ICDTBL2C",59,0)
 . S ICDRG=$S(ICDMCC=2:231,1:232)
"RTN","ICDTBL2C",60,0)
 I ICDOR["b" I $D(ICDOP(" 37.21"))!($D(ICDOP(" 37.22")))!($D(ICDOP(" 37.23"))) D DRG233 Q
"RTN","ICDTBL2C",61,0)
 ;I ICDOR["b" I $D(ICDOP(" 37.21"))!($D(ICDOP(" 37.22")))!($D(ICDOP(" 37.23"))) D DRG233 Q
"RTN","ICDTBL2C",62,0)
 I ICDRG'=231&(ICDRG'=232)&(ICDRG'=233)&(ICDRG'=234)&(ICDRG'=235)&(ICDRG'=236) S ICDRG=999 D DRG237
"RTN","ICDTBL2C",63,0)
 Q
"RTN","ICDTBL2C",64,0)
DRG232 D DRG231 Q
"RTN","ICDTBL2C",65,0)
DRG233 ; called from DRG231
"RTN","ICDTBL2C",66,0)
 D MCV
"RTN","ICDTBL2C",67,0)
 S ICDRG=$S(ICDMCV:233,ICDMCV1:233,1:234)
"RTN","ICDTBL2C",68,0)
 S ICDRG=$S(ICDMCC=2:233,1:234)
"RTN","ICDTBL2C",69,0)
 Q
"RTN","ICDTBL2C",70,0)
DRG234 D DRG233 Q
"RTN","ICDTBL2C",71,0)
DRG235 ;
"RTN","ICDTBL2C",72,0)
DRG236 S ICDRG=$S(ICDMCC=2:235,1:236) Q
"RTN","ICDTBL2C",73,0)
DRG237 I ICDOR["Oo" D DRG228
"RTN","ICDTBL2C",74,0)
 S ICDRG=$S((ICDMCC=2)&(ICDOR[7):237,ICDOR[7:238,1:ICDRG)
"RTN","ICDTBL2C",75,0)
 I $D(ICDOP(" 39.73")) S ICDRG=237
"RTN","ICDTBL2C",76,0)
 I "228^229^230^237^238"[ICDRG Q
"RTN","ICDTBL2C",77,0)
 ;I $D(ICDJJ(478))&('$D(ICDJJ(110))&'($D(ICDJJ(111)))) D DRG478^ICDTBL6C
"RTN","ICDTBL2C",78,0)
 D DRG239 I "239^240^241"[ICDRG Q
"RTN","ICDTBL2C",79,0)
 I ICDOR["p" D DRG260
"RTN","ICDTBL2C",80,0)
 I ICDOR["1" D CMS516
"RTN","ICDTBL2C",81,0)
 Q
"RTN","ICDTBL2C",82,0)
DRG238 S ICDRG=$S(ICDMCC=2:237,1:238) D  Q
"RTN","ICDTBL2C",83,0)
 . I $D(ICDOP(" 39.73")) S ICDRG=237
"RTN","ICDTBL2C",84,0)
DRG239 ;239-241
"RTN","ICDTBL2C",85,0)
DRG240 ;
"RTN","ICDTBL2C",86,0)
DRG241 S ICDRG=$S($D(ICDJJ(241)):241,1:ICDRG)
"RTN","ICDTBL2C",87,0)
 I ICDRG=241 S ICDRG=$S(ICDMCC=2:239,ICDMCC=1:240,1:241)
"RTN","ICDTBL2C",88,0)
 Q
"RTN","ICDTBL2C",89,0)
DRG242 ; called from CMS115
"RTN","ICDTBL2C",90,0)
 D MCV
"RTN","ICDTBL2C",91,0)
 I ICDMCV!(ICDMCV1) D
"RTN","ICDTBL2C",92,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244)
"RTN","ICDTBL2C",93,0)
 Q
"RTN","ICDTBL2C",94,0)
DRG243 D CMS115 Q
"RTN","ICDTBL2C",95,0)
DRG244 D CMS115 Q
"RTN","ICDTBL2C",96,0)
DRG245 I $D(ICDOP(" 37.95"))!($D(ICDOP(" 37.97")))!($D(ICDOP(" 00.52"))) D DRG265 Q
"RTN","ICDTBL2C",97,0)
 E  S ICDRG=245 Q
"RTN","ICDTBL2C",98,0)
DRG246 ;
"RTN","ICDTBL2C",99,0)
 D MCV
"RTN","ICDTBL2C",100,0)
 I ICDMCV!ICDMCV1 S ICDRG=246
"RTN","ICDTBL2C",101,0)
 E  S ICDRG=247
"RTN","ICDTBL2C",102,0)
 S ICDRG=$S(ICDMCC=2:246,1:247) D  Q
"RTN","ICDTBL2C",103,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=246
"RTN","ICDTBL2C",104,0)
 . I $D(ICDOP(" 36.07")),$D(ICDOP(" 00.43")) S ICDRG=246
"RTN","ICDTBL2C",105,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=246
"RTN","ICDTBL2C",106,0)
 . I $D(ICDOP(" 36.07")),$D(ICDOP(" 00.48")) S ICDRG=246
"RTN","ICDTBL2C",107,0)
 Q
"RTN","ICDTBL2C",108,0)
DRG247 D CMS516 Q
"RTN","ICDTBL2C",109,0)
DRG248 ;Called from CMS516
"RTN","ICDTBL2C",110,0)
 D MCV
"RTN","ICDTBL2C",111,0)
 I ICDMCV!(ICDMCV1) S ICDRG=248
"RTN","ICDTBL2C",112,0)
 S ICDRG=$S(ICDMCC=2:248,1:249) D  Q
"RTN","ICDTBL2C",113,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2C",114,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2C",115,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2C",116,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2C",117,0)
 Q
"RTN","ICDTBL2C",118,0)
DRG249 ;Called from CMS516
"RTN","ICDTBL2C",119,0)
 D MCV
"RTN","ICDTBL2C",120,0)
 I 'ICDMCV&('ICDMCV1) S ICDRG=249
"RTN","ICDTBL2C",121,0)
 S ICDRG=$S(ICDMCC=2:248,1:249) D  Q
"RTN","ICDTBL2C",122,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2C",123,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2C",124,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2C",125,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2C",126,0)
 Q
"RTN","ICDTBL2C",127,0)
DRG250 ;
"RTN","ICDTBL2C",128,0)
DRG251 S ICDRG=$S(ICDMCC=2:250,1:251) Q
"RTN","ICDTBL2C",129,0)
DRG252 ;
"RTN","ICDTBL2C",130,0)
DRG253 ;
"RTN","ICDTBL2C",131,0)
DRG254 S ICDRG=$S(ICDMCC=2:252,ICDMCC=1:253,1:254) Q
"RTN","ICDTBL2C",132,0)
DRG255 ;
"RTN","ICDTBL2C",133,0)
DRG256 ;
"RTN","ICDTBL2C",134,0)
DRG257 S ICDRG=$S(ICDMCC=2:255,ICDMCC=1:256,1:257) Q
"RTN","ICDTBL2C",135,0)
DRG258 ;I ICDOR["p" 
"RTN","ICDTBL2C",136,0)
DRG259 D CMS115 I "242^243^244^291^292^293"[ICDRG Q
"RTN","ICDTBL2C",137,0)
 S ICDRG=$S(ICDMCC=2:258,1:259) Q
"RTN","ICDTBL2C",138,0)
DRG260 ;
"RTN","ICDTBL2C",139,0)
 D CMS115 I "242^243^244^291^292^293"[ICDRG Q
"RTN","ICDTBL2C",140,0)
 D DRG258 I $D(ICDOP(" 00.56")) S ICDRG=264 Q
"RTN","ICDTBL2C",141,0)
 I ICDOR["p" S ICDRG=$S(ICDMCC=2:260,ICDMCC=1:261,1:262)
"RTN","ICDTBL2C",142,0)
 Q
"RTN","ICDTBL2C",143,0)
DRG261 D DRG260 Q
"RTN","ICDTBL2C",144,0)
DRG262 D DRG260 Q
"RTN","ICDTBL2C",145,0)
DRG263 S ICDRG=263 Q
"RTN","ICDTBL2C",146,0)
DRG264 S ICDRG=264 Q
"RTN","ICDTBL2C",147,0)
DRG265 S ICDRG=265 Q
"RTN","ICDTBL2C",148,0)
DRG280 ;
"RTN","ICDTBL2C",149,0)
DRG281 ;
"RTN","ICDTBL2C",150,0)
DRG282 I ICDPD="" S ICDRG=282
"RTN","ICDTBL2C",151,0)
 I ICDPD["I"&(ICDSD'["I") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2C",152,0)
 I ICDPD["I"&(ICDSD'["c") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2C",153,0)
 I ICDPD["I"&(ICDSD'["S") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2C",154,0)
 I ICDPD["c"&(ICDSD'["I") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2C",155,0)
 I ICDPD["c"&(ICDSD'["c") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2C",156,0)
 I ICDPD["c"&(ICDSD'["S") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2C",157,0)
 I ICDPD["HJV"&(ICDSD["AI"),ICDMCC=2 S ICDRG=281 Q
"RTN","ICDTBL2C",158,0)
 S ICDRG=$S(ICDMCC=2&(ICDSD["H"):280,ICDMCC=1&(ICDSD["H"):281,1:282) Q
"RTN","ICDTBL2C",159,0)
DRG283 ;
"RTN","ICDTBL2C",160,0)
DRG284 ;
"RTN","ICDTBL2C",161,0)
DRG285 ;
"RTN","ICDTBL2C",162,0)
 I $D(ICDDXT("427.41"))&$D(ICDDXT("427.5")) S ICDMCC=1
"RTN","ICDTBL2C",163,0)
 S ICDRG=$S(ICDMCC=2:283,ICDMCC=1:284,1:285) Q
"RTN","ICDTBL2C",164,0)
DRG286 ;
"RTN","ICDTBL2C",165,0)
DRG287 I ICDMAJ'=""&(ICDMAJ'["A") D DRG982^ICDTBL9C Q
"RTN","ICDTBL2C",166,0)
 S ICDRG=$S(ICDMCC=2:286,1:287) Q
"RTN","ICDTBL2C",167,0)
DRG288 ;
"RTN","ICDTBL2C",168,0)
DRG289 ;
"RTN","ICDTBL2C",169,0)
DRG290 S ICDRG=$S(ICDMCC=2:288,ICDMCC=1:289,1:290) Q
"RTN","ICDTBL2C",170,0)
DRG291 ;
"RTN","ICDTBL2C",171,0)
DRG292 ;
"RTN","ICDTBL2C",172,0)
DRG293 I ICDOR["K" D DRG252 Q
"RTN","ICDTBL2C",173,0)
 I ICDOR["P" D DRG260 Q
"RTN","ICDTBL2C",174,0)
 I (ICDDX(1)=5458!$D(ICDDXT("785.51"))),'ICDEXP S ICDMCC=2
"RTN","ICDTBL2C",175,0)
 I (ICDDX(1)=2480&$D(ICDDXT("428.33"))) S ICDMCC=1
"RTN","ICDTBL2C",176,0)
 S ICDRG=$S(ICDMCC=2:291,ICDMCC=1:292,1:293) Q
"RTN","ICDTBL2C",177,0)
DRG294 ;
"RTN","ICDTBL2C",178,0)
DRG295 S ICDRG=$S(ICDMCC>0:294,1:295) Q
"RTN","ICDTBL2C",179,0)
DRG296 ;
"RTN","ICDTBL2C",180,0)
DRG297 ;
"RTN","ICDTBL2C",181,0)
DRG298 I (ICDDX(1)=2561!$D(ICDDXT(" 427.5"))),'ICDEXP S ICDMCC=2
"RTN","ICDTBL2C",182,0)
 S ICDRG=$S(ICDMCC=2:296,ICDMCC=1:297,1:298) Q
"RTN","ICDTBL2C",183,0)
DRG299 S ICDRG=$S(ICDMCC=2:299,ICDMCC=1:300,1:301) Q
"RTN","ICDTBL2C",184,0)
 Q
"RTN","ICDTBL2C",185,0)
CMS115 ;convert DRG115^ICDTBL2C code - no MS-DRG 115 existed
"RTN","ICDTBL2C",186,0)
 D EN1^ICDDRG5
"RTN","ICDTBL2C",187,0)
 I ICDOR[7,'$D(ICDCC2)!('$D(ICDCC3)) S ICDRG=$S(ICDMCC=2:260,ICDMCC=1:261,1:262) Q
"RTN","ICDTBL2C",188,0)
 I ICDPD'["I"&(ICDOR'["p")&(ICDCC2=0)&(ICDCC3=0) D  Q
"RTN","ICDTBL2C",189,0)
 .I ICDSD["Z" S ICDMCC=0
"RTN","ICDTBL2C",190,0)
 .S ICDRG=$S(ICDMCC=2:291,ICDMCC=1:292,1:293)
"RTN","ICDTBL2C",191,0)
 I ICDCC2=1!(ICDCC3=1) D DRG242
"RTN","ICDTBL2C",192,0)
 I ((ICDRG>241)&(ICDRG<245)) Q
"RTN","ICDTBL2C",193,0)
 ; ICDCC2 identifies AICD LEAD OR GNRTR
"RTN","ICDTBL2C",194,0)
 I ICDCC2=1!(ICDCC3=1) D  Q
"RTN","ICDTBL2C",195,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244) Q
"RTN","ICDTBL2C",196,0)
 I ICDOR["p" D  Q
"RTN","ICDTBL2C",197,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244) Q
"RTN","ICDTBL2C",198,0)
 Q
"RTN","ICDTBL2C",199,0)
CMS516 ;convert DRG516^ICDTBL6C code - no MS-DRG 516 exists
"RTN","ICDTBL2C",200,0)
 I $D(ICDOP(" 37.72")),$D(ICDOP(" 37.83")),"242^243^244"[ICDRG Q
"RTN","ICDTBL2C",201,0)
 S ICDRG=250
"RTN","ICDTBL2C",202,0)
 I '$D(ICDOP(" 36.06"))&'$D(ICDOP(" 92.27"))&'$D(ICDOP(" 36.07")) D DRG251
"RTN","ICDTBL2C",203,0)
 E  D DRG248
"RTN","ICDTBL2C",204,0)
 ;I $D(ICDOP(" 36.06"))!$D(ICDOP(" 92.27")) D DRG249
"RTN","ICDTBL2C",205,0)
 I $D(ICDOP(" 36.07")) D DRG246
"RTN","ICDTBL2C",206,0)
 Q
"RTN","ICDTBL2C",207,0)
MCV ; checks to see if case qualifies as an MCV (major cardiovascular complications or complex conditions)
"RTN","ICDTBL2C",208,0)
 S (ICDMCV,ICDMCV1,ICDMCV2)=0
"RTN","ICDTBL2C",209,0)
 ; ICDPD=identifier for prime dx  ICDSD=identifier for any secondary dx
"RTN","ICDTBL2C",210,0)
 ; DGDX(1)=prime dx  ICDDX(1)=ien of prime dx ICDDXT=any secondary dx  
"RTN","ICDTBL2C",211,0)
 I ICDPD["c"!(ICDSD["c") S ICDMCV=1
"RTN","ICDTBL2C",212,0)
 I ICDSD["s" S ICDMCV=1
"RTN","ICDTBL2C",213,0)
 ;I DGDX(1)["426.0"!(DGDX(1)["426.53")!(DGDX(1)["426.54") S ICDMCV1=1
"RTN","ICDTBL2C",214,0)
 I $G(ICDDX(1))=9056!($G(ICDDX(1))=2548)!($G(ICDDX(1))=2549) S ICDMCV1=1
"RTN","ICDTBL2C",215,0)
 I $D(ICDDXT("426.0"))!($D(ICDDXT("426.53")))!($D(ICDDXT("426.54"))) S ICDMCV1=1
"RTN","ICDTBL2C",216,0)
 ;I DGDX(1)["411.1"!(DGDX(1)["411.81") S ICDMCV2=1
"RTN","ICDTBL2C",217,0)
 I $G(ICDDX(1))=2500!($G(ICDDX(1))=12477) S ICDMCV2=1
"RTN","ICDTBL2C",218,0)
 I $D(ICDDXT("411.1"))!($D(ICDDXT("411.81"))) S ICDMCV2=1
"RTN","ICDTBL2C",219,0)
 Q
"RTN","ICDTBL2D")
0^7^B56204226^B49902612
"RTN","ICDTBL2D",1,0)
ICDTBL2D ;ALB/MJB/KUM - GROUPER UTILITY FUNCTIONS;08/09/2010
"RTN","ICDTBL2D",2,0)
 ;;18.0;DRG Grouper;**56,55,61,62,64,79**;Oct 20, 2000;Build 6
"RTN","ICDTBL2D",3,0)
DRG200 ;
"RTN","ICDTBL2D",4,0)
DRG201 I ICDSD["c" S ICDRG=$S(ICDMCC=2:199,ICDMCC=1:200,1:201) Q
"RTN","ICDTBL2D",5,0)
 S ICDRG=$S(ICDMCC=2:199,ICDMCC=1:200,1:201) Q
"RTN","ICDTBL2D",6,0)
DRG202 ;
"RTN","ICDTBL2D",7,0)
DRG203 S ICDRG=$S(ICDMCC>0:202,1:203) Q
"RTN","ICDTBL2D",8,0)
DRG204 S ICDRG=204 Q
"RTN","ICDTBL2D",9,0)
DRG205 ;
"RTN","ICDTBL2D",10,0)
DRG206 S ICDRG=$S(ICDMCC=2:205,1:206) Q
"RTN","ICDTBL2D",11,0)
DRG207 S ICDRG=207 Q
"RTN","ICDTBL2D",12,0)
DRG208 I ICDOR["o"!(ICDOR["V") D DRG982^ICDTBL9D Q
"RTN","ICDTBL2D",13,0)
 S ICDRG=208 Q
"RTN","ICDTBL2D",14,0)
DRG215 S ICDRG=215 Q
"RTN","ICDTBL2D",15,0)
DRG216 ;valve procedures
"RTN","ICDTBL2D",16,0)
 N ICDE1,ICDE2
"RTN","ICDTBL2D",17,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&($D(ICDOP(" 37.96"))):1,1:0),ICDE2=$S($D(ICDOP(" 37.97"))&($D(ICDOP(" 37.98"))):1,1:0)
"RTN","ICDTBL2D",18,0)
 S:ICDOR["H" ICDRG=$S(ICDOR["N"&ICDE1:218,ICDOR["N"&ICDE2:218,ICDOR["O":218,1:ICDRG)
"RTN","ICDTBL2D",19,0)
 S:ICDOR'["H" ICDRG=$S(ICDOR["N"&ICDE1:221,ICDOR["N"&ICDE2:221,ICDOR["O":221,1:ICDRG)
"RTN","ICDTBL2D",20,0)
 I ICDOR["P"&(ICDE1+ICDE2=0) S ICDRG=$S(ICDOR["H"&('$D(ICDOP(" 37.68"))):218,1:221)
"RTN","ICDTBL2D",21,0)
 S:ICDRG=218 ICDRG=$S(ICDMCC=2:216,ICDMCC=1:217,1:218)
"RTN","ICDTBL2D",22,0)
 S:ICDRG=221 ICDRG=$S(ICDMCC=2:219,ICDMCC=1:220,1:221)
"RTN","ICDTBL2D",23,0)
 Q
"RTN","ICDTBL2D",24,0)
DRG217 D DRG216 Q
"RTN","ICDTBL2D",25,0)
DRG218 D DRG216 Q
"RTN","ICDTBL2D",26,0)
DRG219 D DRG216 Q
"RTN","ICDTBL2D",27,0)
DRG220 D DRG216 Q
"RTN","ICDTBL2D",28,0)
DRG221 D DRG216 Q
"RTN","ICDTBL2D",29,0)
DRG222 N ICDE1,ICDE2,ICDE3,ICDE4
"RTN","ICDTBL2D",30,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&(($D(ICDOP(" 37.96")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2D",31,0)
 S ICDE2=$S($D(ICDOP(" 37.97"))&(($D(ICDOP(" 37.98")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2D",32,0)
 S ICDE3=$S($D(ICDOP(" 00.52"))&($D(ICDOP(" 00.54"))):1,1:0)
"RTN","ICDTBL2D",33,0)
 ;S ICDE4=$S($D(ICDOP(" 00.54"))&($D(ICDOP(" 37.95"))):1,1:0)
"RTN","ICDTBL2D",34,0)
 S ICDE4=$S($D(ICDOP(" 37.74"))&(($D(ICDOP(" 37.96")))!($D(ICDOP(" 37.98")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2D",35,0)
 S ICDRG=999
"RTN","ICDTBL2D",36,0)
 I $D(ICDOP(" 37.94"))!$D(ICDOP(" 00.51")) I ICDE1+ICDE2+ICDE3+ICDE4=0 D
"RTN","ICDTBL2D",37,0)
 . S ICDRG=$S(ICDMCC=2:226,1:227)
"RTN","ICDTBL2D",38,0)
 I '$D(ICDOP(" 37.94"))&('$D(ICDOP(" 00.51"))) I ICDE1!ICDE2!ICDE3!ICDE4 D
"RTN","ICDTBL2D",39,0)
 . S ICDRG=$S(ICDMCC=2:226,1:227)
"RTN","ICDTBL2D",40,0)
 ; "HN" in ICDOR represents OR proc 37.21-.23, 37.26, 88.52-.58
"RTN","ICDTBL2D",41,0)
 I (ICDRG=226)!(ICDRG=227) I ICDOR["HN" I '$D(ICDOP(" 37.26")) S ICDRG=$S((ICDPD["A")&(ICDMCC=2):222,ICDPD["A":223,ICDMCC=2:224,1:225)
"RTN","ICDTBL2D",42,0)
 I ICDRG=470 D CMS115
"RTN","ICDTBL2D",43,0)
 Q
"RTN","ICDTBL2D",44,0)
DRG223 D DRG222 Q
"RTN","ICDTBL2D",45,0)
DRG224 ;
"RTN","ICDTBL2D",46,0)
DRG225 D DRG222 Q
"RTN","ICDTBL2D",47,0)
DRG226 ;
"RTN","ICDTBL2D",48,0)
DRG227 D DRG222 Q
"RTN","ICDTBL2D",49,0)
DRG228 ;
"RTN","ICDTBL2D",50,0)
DRG229 ;
"RTN","ICDTBL2D",51,0)
DRG230 ;DRGs 228-230 note ICDOR["Oo" = operation and DRG CMS108/MS230 procedure
"RTN","ICDTBL2D",52,0)
 I $D(ICDOP(" 35.33")) D DRG221 Q
"RTN","ICDTBL2D",53,0)
 I ICDOR["Oo"!($D(ICDOP(" 38.44"))&($D(ICDOP(" 38.45")))) D  Q
"RTN","ICDTBL2D",54,0)
 . S ICDRG=$S(ICDMCC=2:228,ICDMCC=1:229,1:230) Q
"RTN","ICDTBL2D",55,0)
 G DRG237
"RTN","ICDTBL2D",56,0)
DRG231 S ICDRG=999
"RTN","ICDTBL2D",57,0)
 I ICDOR["b" D DRG235
"RTN","ICDTBL2D",58,0)
 I ICDOR["b" I $D(ICDOP(" 35.96"))!($D(ICDOP(" 00.66"))) D  Q
"RTN","ICDTBL2D",59,0)
 . S ICDRG=$S(ICDMCC=2:231,1:232)
"RTN","ICDTBL2D",60,0)
 I ICDOR["b" I $D(ICDOP(" 37.21"))!($D(ICDOP(" 37.22")))!($D(ICDOP(" 37.23"))) D DRG233 Q
"RTN","ICDTBL2D",61,0)
 I ICDRG'=231&(ICDRG'=232)&(ICDRG'=233)&(ICDRG'=234)&(ICDRG'=235)&(ICDRG'=236) S ICDRG=999 D DRG237
"RTN","ICDTBL2D",62,0)
 Q
"RTN","ICDTBL2D",63,0)
DRG232 D DRG231 Q
"RTN","ICDTBL2D",64,0)
DRG233 ; called from DRG231
"RTN","ICDTBL2D",65,0)
 D MCV
"RTN","ICDTBL2D",66,0)
 S ICDRG=$S(ICDMCV:233,ICDMCV1:233,1:234)
"RTN","ICDTBL2D",67,0)
 S ICDRG=$S(ICDMCC=2:233,1:234)
"RTN","ICDTBL2D",68,0)
 Q
"RTN","ICDTBL2D",69,0)
DRG234 D DRG233 Q
"RTN","ICDTBL2D",70,0)
DRG235 ;
"RTN","ICDTBL2D",71,0)
DRG236 S ICDRG=$S(ICDMCC=2:235,1:236) Q
"RTN","ICDTBL2D",72,0)
DRG237 I ICDOR["Oo" D DRG228
"RTN","ICDTBL2D",73,0)
 S ICDRG=$S((ICDMCC=2)&(ICDOR[7):237,ICDOR[7:238,1:ICDRG)
"RTN","ICDTBL2D",74,0)
 I "228^229^230^237^238"[ICDRG Q
"RTN","ICDTBL2D",75,0)
 ;I $D(ICDJJ(478))&('$D(ICDJJ(110))&'($D(ICDJJ(111)))) D DRG478^ICDTBL6C
"RTN","ICDTBL2D",76,0)
 D DRG239 I "239^240^241"[ICDRG Q
"RTN","ICDTBL2D",77,0)
 I ICDOR["p" D DRG260
"RTN","ICDTBL2D",78,0)
 I ICDOR["1" D CMS516
"RTN","ICDTBL2D",79,0)
 Q
"RTN","ICDTBL2D",80,0)
DRG238 S ICDRG=$S(ICDMCC=2:237,1:238) Q
"RTN","ICDTBL2D",81,0)
DRG239 ;239-241
"RTN","ICDTBL2D",82,0)
DRG240 ;
"RTN","ICDTBL2D",83,0)
DRG241 S ICDRG=$S($D(ICDJJ(241)):241,1:ICDRG)
"RTN","ICDTBL2D",84,0)
 I ICDRG=241 S ICDRG=$S(ICDMCC=2:239,ICDMCC=1:240,1:241)
"RTN","ICDTBL2D",85,0)
 Q
"RTN","ICDTBL2D",86,0)
DRG242 ; called from CMS115
"RTN","ICDTBL2D",87,0)
 D MCV
"RTN","ICDTBL2D",88,0)
 I ICDMCV!(ICDMCV1) D
"RTN","ICDTBL2D",89,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244)
"RTN","ICDTBL2D",90,0)
 Q
"RTN","ICDTBL2D",91,0)
DRG243 D CMS115 Q
"RTN","ICDTBL2D",92,0)
DRG244 D CMS115 Q
"RTN","ICDTBL2D",93,0)
DRG245 I $D(ICDOP(" 37.95"))!($D(ICDOP(" 37.97")))!($D(ICDOP(" 00.52"))) D DRG265 Q
"RTN","ICDTBL2D",94,0)
 E  S ICDRG=245 Q
"RTN","ICDTBL2D",95,0)
DRG246 ;
"RTN","ICDTBL2D",96,0)
 D MCV
"RTN","ICDTBL2D",97,0)
 I ICDMCV!ICDMCV1 S ICDRG=246
"RTN","ICDTBL2D",98,0)
 E  S ICDRG=247
"RTN","ICDTBL2D",99,0)
 S ICDRG=$S(ICDMCC=2:246,1:247) D  Q
"RTN","ICDTBL2D",100,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=246
"RTN","ICDTBL2D",101,0)
 . I $D(ICDOP(" 36.07")),$D(ICDOP(" 00.43")) S ICDRG=246
"RTN","ICDTBL2D",102,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=246
"RTN","ICDTBL2D",103,0)
 . I $D(ICDOP(" 36.07")),$D(ICDOP(" 00.48")) S ICDRG=246
"RTN","ICDTBL2D",104,0)
 Q
"RTN","ICDTBL2D",105,0)
DRG247 D CMS516 Q
"RTN","ICDTBL2D",106,0)
DRG248 ;Called from CMS516
"RTN","ICDTBL2D",107,0)
 D MCV
"RTN","ICDTBL2D",108,0)
 I ICDMCV!(ICDMCV1) S ICDRG=248
"RTN","ICDTBL2D",109,0)
 S ICDRG=$S(ICDMCC=2:248,1:249) D  Q
"RTN","ICDTBL2D",110,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2D",111,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2D",112,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2D",113,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2D",114,0)
 Q
"RTN","ICDTBL2D",115,0)
DRG249 ;Called from CMS516
"RTN","ICDTBL2D",116,0)
 D MCV
"RTN","ICDTBL2D",117,0)
 I 'ICDMCV&('ICDMCV1) S ICDRG=249
"RTN","ICDTBL2D",118,0)
 S ICDRG=$S(ICDMCC=2:248,1:249) D  Q
"RTN","ICDTBL2D",119,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2D",120,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2D",121,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2D",122,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2D",123,0)
 Q
"RTN","ICDTBL2D",124,0)
DRG250 ;
"RTN","ICDTBL2D",125,0)
DRG251 S ICDRG=$S(ICDMCC=2:250,1:251) Q
"RTN","ICDTBL2D",126,0)
DRG252 ;
"RTN","ICDTBL2D",127,0)
DRG253 ;
"RTN","ICDTBL2D",128,0)
DRG254 S ICDRG=$S(ICDMCC=2:252,ICDMCC=1:253,1:254) Q
"RTN","ICDTBL2D",129,0)
DRG255 ;
"RTN","ICDTBL2D",130,0)
DRG256 ;
"RTN","ICDTBL2D",131,0)
DRG257 S ICDRG=$S(ICDMCC=2:255,ICDMCC=1:256,1:257) Q
"RTN","ICDTBL2D",132,0)
DRG258 ;I ICDOR["p" 
"RTN","ICDTBL2D",133,0)
DRG259 D CMS115 I "242^243^244^291^292^293"[ICDRG Q
"RTN","ICDTBL2D",134,0)
 S ICDRG=$S(ICDMCC=2:258,1:259) Q
"RTN","ICDTBL2D",135,0)
DRG260 ;
"RTN","ICDTBL2D",136,0)
 D CMS115 I "242^243^244^291^292^293"[ICDRG Q
"RTN","ICDTBL2D",137,0)
 D DRG258 I $D(ICDOP(" 00.56")) S ICDRG=264 Q
"RTN","ICDTBL2D",138,0)
 I ICDOR["p" S ICDRG=$S(ICDMCC=2:260,ICDMCC=1:261,1:262)
"RTN","ICDTBL2D",139,0)
 Q
"RTN","ICDTBL2D",140,0)
DRG261 D DRG260 Q
"RTN","ICDTBL2D",141,0)
DRG262 D DRG260 Q
"RTN","ICDTBL2D",142,0)
DRG263 S ICDRG=263 Q
"RTN","ICDTBL2D",143,0)
DRG264 S ICDRG=264 Q
"RTN","ICDTBL2D",144,0)
DRG265 S ICDRG=265 Q
"RTN","ICDTBL2D",145,0)
DRG280 ;
"RTN","ICDTBL2D",146,0)
DRG281 ;
"RTN","ICDTBL2D",147,0)
DRG282 I ICDPD="" S ICDRG=282
"RTN","ICDTBL2D",148,0)
 I ICDDX(1)=9061,$D(ICDDXT("491.21"))&$D(ICDDXT("410.71")) S ICDMCC=1
"RTN","ICDTBL2D",149,0)
 I ICDPD["I"&(ICDSD'["I") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2D",150,0)
 I ICDPD["I"&(ICDSD'["c") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2D",151,0)
 I ICDPD["I"&(ICDSD'["S") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2D",152,0)
 I ICDPD["c"&(ICDSD'["I") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2D",153,0)
 I ICDPD["c"&(ICDSD'["c") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2D",154,0)
 I ICDPD["c"&(ICDSD'["S") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2D",155,0)
 I ICDPD["HJV"&(ICDSD["AI"),ICDMCC=2 S ICDRG=281 Q
"RTN","ICDTBL2D",156,0)
 S ICDRG=$S(ICDMCC=2&(ICDSD["H"):280,ICDMCC=1&(ICDSD["H"):281,1:282) Q
"RTN","ICDTBL2D",157,0)
DRG283 ;
"RTN","ICDTBL2D",158,0)
DRG284 ;
"RTN","ICDTBL2D",159,0)
DRG285 ;
"RTN","ICDTBL2D",160,0)
 I $D(ICDDXT("427.41"))&$D(ICDDXT("427.5")) S ICDMCC=1
"RTN","ICDTBL2D",161,0)
 S ICDRG=$S(ICDMCC=2:283,ICDMCC=1:284,1:285) Q
"RTN","ICDTBL2D",162,0)
DRG286 ;
"RTN","ICDTBL2D",163,0)
DRG287 I ICDMAJ'=""&(ICDMAJ'["A") D DRG982^ICDTBL9D Q
"RTN","ICDTBL2D",164,0)
 I '$D(ICDOP(" 37.21"))!('$D(ICDOP(" 37.22")))!('$D(ICDOP(" 37.23")))!('$D(ICDOP(" 88.52")))!('$D(ICDOP(" 88.53"))) S ICDOPFLG=1
"RTN","ICDTBL2D",165,0)
 I '$D(ICDOP(" 88.54"))!('$D(ICDOP(" 88.55")))!('$D(ICDOP(" 88.56")))!('$D(ICDOP(" 88.57")))!('$D(ICDOP(" 88.58"))) S ICDOPFLG=1
"RTN","ICDTBL2D",166,0)
 I ICDPDRG["291^292^",$G(ICDOPFLG)=1 D DRG293^ICDTBL2E Q
"RTN","ICDTBL2D",167,0)
 S ICDRG=$S(ICDMCC=2:286,1:287) Q
"RTN","ICDTBL2D",168,0)
DRG288 ;
"RTN","ICDTBL2D",169,0)
DRG289 ;
"RTN","ICDTBL2D",170,0)
DRG290 S ICDRG=$S(ICDMCC=2:288,ICDMCC=1:289,1:290) Q
"RTN","ICDTBL2D",171,0)
DRG291 ;
"RTN","ICDTBL2D",172,0)
DRG292 ;
"RTN","ICDTBL2D",173,0)
DRG293 I ICDOR["K" D DRG252 Q
"RTN","ICDTBL2D",174,0)
 I ICDOR["P" D DRG260 Q
"RTN","ICDTBL2D",175,0)
 I (ICDDX(1)=5458!$D(ICDDXT("785.51"))),'ICDEXP S ICDMCC=2
"RTN","ICDTBL2D",176,0)
 I (ICDDX(1)=2480&$D(ICDDXT("428.33"))) S ICDMCC=1
"RTN","ICDTBL2D",177,0)
 S ICDRG=$S(ICDMCC=2:291,ICDMCC=1:292,1:293) Q
"RTN","ICDTBL2D",178,0)
DRG294 ;
"RTN","ICDTBL2D",179,0)
DRG295 S ICDRG=$S(ICDMCC>0:294,1:295) Q
"RTN","ICDTBL2D",180,0)
DRG296 ;
"RTN","ICDTBL2D",181,0)
DRG297 ;
"RTN","ICDTBL2D",182,0)
DRG298 I (ICDDX(1)=2561!$D(ICDDXT(" 427.5"))),'ICDEXP S ICDMCC=2
"RTN","ICDTBL2D",183,0)
 S ICDRG=$S(ICDMCC=2:296,ICDMCC=1:297,1:298) Q
"RTN","ICDTBL2D",184,0)
DRG299 S ICDRG=$S(ICDMCC=2:299,ICDMCC=1:300,1:301) Q
"RTN","ICDTBL2D",185,0)
 Q
"RTN","ICDTBL2D",186,0)
CMS115 ;convert DRG115^ICDTBL2D code - no MS-DRG 115 existed
"RTN","ICDTBL2D",187,0)
 D EN1^ICDDRG5
"RTN","ICDTBL2D",188,0)
 I ICDOR[7,'$D(ICDCC2)!('$D(ICDCC3)) S ICDRG=$S(ICDMCC=2:260,ICDMCC=1:261,1:262) Q
"RTN","ICDTBL2D",189,0)
 I ICDPD'["I"&(ICDOR'["p")&(ICDCC2=0)&(ICDCC3=0) D  Q
"RTN","ICDTBL2D",190,0)
 .I ICDSD["Z",ICDPDRG["^291^292^293" S ICDMCC=0
"RTN","ICDTBL2D",191,0)
 .S ICDRG=$S(ICDMCC=2:291,ICDMCC=1:292,1:293)
"RTN","ICDTBL2D",192,0)
 I ICDCC2=1!(ICDCC3=1) D DRG242
"RTN","ICDTBL2D",193,0)
 I ((ICDRG>241)&(ICDRG<245)) Q
"RTN","ICDTBL2D",194,0)
 ; ICDCC2 identifies AICD LEAD OR GNRTR
"RTN","ICDTBL2D",195,0)
 I ICDCC2=1!(ICDCC3=1) D  Q
"RTN","ICDTBL2D",196,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244) Q
"RTN","ICDTBL2D",197,0)
 I ICDOR["p" D  Q
"RTN","ICDTBL2D",198,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244) Q
"RTN","ICDTBL2D",199,0)
 Q
"RTN","ICDTBL2D",200,0)
CMS516 ;convert DRG516^ICDTBL6D code - no MS-DRG 516 exists
"RTN","ICDTBL2D",201,0)
 I $D(ICDOP(" 37.72")),$D(ICDOP(" 37.83")),"242^243^244"[ICDRG Q
"RTN","ICDTBL2D",202,0)
 S ICDRG=250
"RTN","ICDTBL2D",203,0)
 I '$D(ICDOP(" 36.06"))&'$D(ICDOP(" 92.27"))&'$D(ICDOP(" 36.07")) D DRG251
"RTN","ICDTBL2D",204,0)
 E  D DRG248
"RTN","ICDTBL2D",205,0)
 ;I $D(ICDOP(" 36.06"))!$D(ICDOP(" 92.27")) D DRG249
"RTN","ICDTBL2D",206,0)
 I $D(ICDOP(" 36.07")) D DRG246
"RTN","ICDTBL2D",207,0)
 Q
"RTN","ICDTBL2D",208,0)
MCV ; checks to see if case qualifies as an MCV (major cardiovascular complications or complex conditions)
"RTN","ICDTBL2D",209,0)
 S (ICDMCV,ICDMCV1,ICDMCV2)=0
"RTN","ICDTBL2D",210,0)
 ; ICDPD=identifier for prime dx  ICDSD=identifier for any secondary dx
"RTN","ICDTBL2D",211,0)
 ; DGDX(1)=prime dx  ICDDX(1)=ien of prime dx ICDDXT=any secondary dx  
"RTN","ICDTBL2D",212,0)
 I ICDPD["c"!(ICDSD["c") S ICDMCV=1
"RTN","ICDTBL2D",213,0)
 I ICDSD["s" S ICDMCV=1
"RTN","ICDTBL2D",214,0)
 ;I DGDX(1)["426.0"!(DGDX(1)["426.53")!(DGDX(1)["426.54") S ICDMCV1=1
"RTN","ICDTBL2D",215,0)
 I $G(ICDDX(1))=9056!($G(ICDDX(1))=2548)!($G(ICDDX(1))=2549) S ICDMCV1=1
"RTN","ICDTBL2D",216,0)
 I $D(ICDDXT("426.0"))!($D(ICDDXT("426.53")))!($D(ICDDXT("426.54"))) S ICDMCV1=1
"RTN","ICDTBL2D",217,0)
 ;I DGDX(1)["411.1"!(DGDX(1)["411.81") S ICDMCV2=1
"RTN","ICDTBL2D",218,0)
 I $G(ICDDX(1))=2500!($G(ICDDX(1))=12477) S ICDMCV2=1
"RTN","ICDTBL2D",219,0)
 I $D(ICDDXT("411.1"))!($D(ICDDXT("411.81"))) S ICDMCV2=1
"RTN","ICDTBL2D",220,0)
 Q
"RTN","ICDTBL2E")
0^8^B59221942^B49902881
"RTN","ICDTBL2E",1,0)
ICDTBL2E ;ALB/JDG/SS - GROUPER UTILITY FUNCTIONS;08/09/2010
"RTN","ICDTBL2E",2,0)
 ;;18.0;DRG Grouper;**65,64,79**;Oct 20, 2000;Build 6
"RTN","ICDTBL2E",3,0)
DRG200 ;
"RTN","ICDTBL2E",4,0)
DRG201 I ICDSD["c" S ICDRG=$S(ICDMCC=2:199,ICDMCC=1:200,1:201) Q
"RTN","ICDTBL2E",5,0)
 S ICDRG=$S(ICDMCC=2:199,ICDMCC=1:200,1:201) Q
"RTN","ICDTBL2E",6,0)
DRG202 ;
"RTN","ICDTBL2E",7,0)
DRG203 S ICDRG=$S(ICDMCC>0:202,1:203) Q
"RTN","ICDTBL2E",8,0)
DRG204 S ICDRG=204 Q
"RTN","ICDTBL2E",9,0)
DRG205 ;
"RTN","ICDTBL2E",10,0)
DRG206 S ICDRG=$S(ICDMCC=2:205,1:206) Q
"RTN","ICDTBL2E",11,0)
DRG207 S ICDRG=207 Q
"RTN","ICDTBL2E",12,0)
DRG208 I ICDOR["o"!(ICDOR["V") D DRG982^ICDTBL9E Q
"RTN","ICDTBL2E",13,0)
 S ICDRG=208 Q
"RTN","ICDTBL2E",14,0)
DRG215 S ICDRG=215 Q
"RTN","ICDTBL2E",15,0)
DRG216 ;valve procedures
"RTN","ICDTBL2E",16,0)
 N ICDE1,ICDE2
"RTN","ICDTBL2E",17,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&($D(ICDOP(" 37.96"))):1,1:0),ICDE2=$S($D(ICDOP(" 37.97"))&($D(ICDOP(" 37.98"))):1,1:0)
"RTN","ICDTBL2E",18,0)
 S:ICDOR["H" ICDRG=$S(ICDOR["N"&ICDE1:218,ICDOR["N"&ICDE2:218,ICDOR["O":218,1:ICDRG)
"RTN","ICDTBL2E",19,0)
 S:ICDOR'["H" ICDRG=$S(ICDOR["N"&ICDE1:221,ICDOR["N"&ICDE2:221,ICDOR["O":221,1:ICDRG)
"RTN","ICDTBL2E",20,0)
 I ICDOR["P"&(ICDE1+ICDE2=0) S ICDRG=$S(ICDOR["H"&('$D(ICDOP(" 37.68"))):218,1:221)
"RTN","ICDTBL2E",21,0)
 S:ICDRG=218 ICDRG=$S(ICDMCC=2:216,ICDMCC=1:217,1:218)
"RTN","ICDTBL2E",22,0)
 S:ICDRG=221 ICDRG=$S(ICDMCC=2:219,ICDMCC=1:220,1:221)
"RTN","ICDTBL2E",23,0)
 Q
"RTN","ICDTBL2E",24,0)
DRG217 D DRG216 Q
"RTN","ICDTBL2E",25,0)
DRG218 D DRG216 Q
"RTN","ICDTBL2E",26,0)
DRG219 D DRG216 Q
"RTN","ICDTBL2E",27,0)
DRG220 D DRG216 Q
"RTN","ICDTBL2E",28,0)
DRG221 D DRG216 Q
"RTN","ICDTBL2E",29,0)
DRG222 N ICDE1,ICDE2,ICDE3,ICDE4
"RTN","ICDTBL2E",30,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&(($D(ICDOP(" 37.96")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2E",31,0)
 S ICDE2=$S($D(ICDOP(" 37.97"))&(($D(ICDOP(" 37.98")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2E",32,0)
 S ICDE3=$S($D(ICDOP(" 00.52"))&($D(ICDOP(" 00.54"))):1,1:0)
"RTN","ICDTBL2E",33,0)
 ;S ICDE4=$S($D(ICDOP(" 00.54"))&($D(ICDOP(" 37.95"))):1,1:0)
"RTN","ICDTBL2E",34,0)
 S ICDE4=$S($D(ICDOP(" 37.74"))&(($D(ICDOP(" 37.96")))!($D(ICDOP(" 37.98")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2E",35,0)
 S ICDRG=999
"RTN","ICDTBL2E",36,0)
 I $D(ICDOP(" 37.94"))!$D(ICDOP(" 00.51")) I ICDE1+ICDE2+ICDE3+ICDE4=0 D
"RTN","ICDTBL2E",37,0)
 . S ICDRG=$S(ICDMCC=2:226,1:227)
"RTN","ICDTBL2E",38,0)
 I '$D(ICDOP(" 37.94"))&('$D(ICDOP(" 00.51"))) I ICDE1!ICDE2!ICDE3!ICDE4 D
"RTN","ICDTBL2E",39,0)
 . S ICDRG=$S(ICDMCC=2:226,1:227)
"RTN","ICDTBL2E",40,0)
 ; "HN" in ICDOR represents OR proc 37.21-.23, 37.26, 88.52-.58
"RTN","ICDTBL2E",41,0)
 I (ICDRG=226)!(ICDRG=227) I ICDOR["HN" I '$D(ICDOP(" 37.26")) S ICDRG=$S((ICDPD["A")&(ICDMCC=2):222,ICDPD["A":223,ICDMCC=2:224,1:225)
"RTN","ICDTBL2E",42,0)
 I ICDRG=470 D CMS115
"RTN","ICDTBL2E",43,0)
 Q
"RTN","ICDTBL2E",44,0)
DRG223 D DRG222 Q
"RTN","ICDTBL2E",45,0)
DRG224 ;
"RTN","ICDTBL2E",46,0)
DRG225 D DRG222 Q
"RTN","ICDTBL2E",47,0)
DRG226 ;
"RTN","ICDTBL2E",48,0)
DRG227 D DRG222 Q
"RTN","ICDTBL2E",49,0)
DRG228 ;
"RTN","ICDTBL2E",50,0)
DRG229 ;
"RTN","ICDTBL2E",51,0)
DRG230 ;DRGs 228-230 note ICDOR["Oo" = operation and DRG CMS108/MS230 procedure
"RTN","ICDTBL2E",52,0)
 I $D(ICDOP(" 35.33")) D DRG221 Q
"RTN","ICDTBL2E",53,0)
 I ICDOR["Oo"!($D(ICDOP(" 38.44"))&($D(ICDOP(" 38.45")))) D  Q
"RTN","ICDTBL2E",54,0)
 . S ICDRG=$S(ICDMCC=2:228,ICDMCC=1:229,1:230) Q
"RTN","ICDTBL2E",55,0)
 G DRG237
"RTN","ICDTBL2E",56,0)
DRG231 S ICDRG=999
"RTN","ICDTBL2E",57,0)
 I ICDOR["b" D DRG235
"RTN","ICDTBL2E",58,0)
 I ICDOR["b" I $D(ICDOP(" 35.96"))!($D(ICDOP(" 00.66"))) D  Q
"RTN","ICDTBL2E",59,0)
 . S ICDRG=$S(ICDMCC=2:231,1:232)
"RTN","ICDTBL2E",60,0)
 I ICDOR["b" I $D(ICDOP(" 37.21"))!($D(ICDOP(" 37.22")))!($D(ICDOP(" 37.23"))) D DRG233 Q
"RTN","ICDTBL2E",61,0)
 I ICDRG'=231&(ICDRG'=232)&(ICDRG'=233)&(ICDRG'=234)&(ICDRG'=235)&(ICDRG'=236) S ICDRG=999 D DRG237
"RTN","ICDTBL2E",62,0)
 Q
"RTN","ICDTBL2E",63,0)
DRG232 D DRG231 Q
"RTN","ICDTBL2E",64,0)
DRG233 ; called from DRG231
"RTN","ICDTBL2E",65,0)
 D MCV
"RTN","ICDTBL2E",66,0)
 S ICDRG=$S(ICDMCV:233,ICDMCV1:233,1:234)
"RTN","ICDTBL2E",67,0)
 S ICDRG=$S(ICDMCC=2:233,1:234)
"RTN","ICDTBL2E",68,0)
 Q
"RTN","ICDTBL2E",69,0)
DRG234 D DRG233 Q
"RTN","ICDTBL2E",70,0)
DRG235 ;
"RTN","ICDTBL2E",71,0)
DRG236 S ICDRG=$S(ICDMCC=2:235,1:236) Q
"RTN","ICDTBL2E",72,0)
DRG237 I ICDOR["Oo" D DRG228
"RTN","ICDTBL2E",73,0)
 S ICDRG=$S((ICDMCC=2)&(ICDOR[7):237,ICDOR[7:238,1:ICDRG)
"RTN","ICDTBL2E",74,0)
 I ICDDX(1)=12460,$D(ICDDXT("785.51")),ICDRG=237,ICDEXP=1 S ICDRG=238
"RTN","ICDTBL2E",75,0)
 I "228^229^230^237^238"[ICDRG Q
"RTN","ICDTBL2E",76,0)
 ;I $D(ICDJJ(478))&('$D(ICDJJ(110))&'($D(ICDJJ(111)))) D DRG478^ICDTBL6C
"RTN","ICDTBL2E",77,0)
 D DRG239 I "239^240^241"[ICDRG Q
"RTN","ICDTBL2E",78,0)
 I ICDOR["p" D DRG260
"RTN","ICDTBL2E",79,0)
 I ICDOR["1" D CMS516
"RTN","ICDTBL2E",80,0)
 Q
"RTN","ICDTBL2E",81,0)
DRG238 S ICDRG=$S(ICDMCC=2:237,1:238) Q
"RTN","ICDTBL2E",82,0)
DRG239 ;239-241
"RTN","ICDTBL2E",83,0)
DRG240 ;
"RTN","ICDTBL2E",84,0)
DRG241 S ICDRG=$S($D(ICDJJ(241)):241,1:ICDRG)
"RTN","ICDTBL2E",85,0)
 I ICDRG=241 S ICDRG=$S(ICDMCC=2:239,ICDMCC=1:240,1:241)
"RTN","ICDTBL2E",86,0)
 Q
"RTN","ICDTBL2E",87,0)
DRG242 ; called from CMS115
"RTN","ICDTBL2E",88,0)
 D MCV
"RTN","ICDTBL2E",89,0)
 I ICDMCV!(ICDMCV1) D
"RTN","ICDTBL2E",90,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244)
"RTN","ICDTBL2E",91,0)
 Q
"RTN","ICDTBL2E",92,0)
DRG243 D CMS115 Q
"RTN","ICDTBL2E",93,0)
DRG244 D CMS115 Q
"RTN","ICDTBL2E",94,0)
DRG245 I $D(ICDOP(" 37.95"))!($D(ICDOP(" 37.97")))!($D(ICDOP(" 00.52"))) D DRG265 Q
"RTN","ICDTBL2E",95,0)
 E  S ICDRG=245 Q
"RTN","ICDTBL2E",96,0)
DRG246 ;
"RTN","ICDTBL2E",97,0)
 D MCV
"RTN","ICDTBL2E",98,0)
 I ICDMCV!ICDMCV1 S ICDRG=246
"RTN","ICDTBL2E",99,0)
 E  S ICDRG=247
"RTN","ICDTBL2E",100,0)
 S ICDRG=$S(ICDMCC=2:246,1:247) D  Q
"RTN","ICDTBL2E",101,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=246
"RTN","ICDTBL2E",102,0)
 . I $D(ICDOP(" 36.07")),$D(ICDOP(" 00.43")) S ICDRG=246
"RTN","ICDTBL2E",103,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=246
"RTN","ICDTBL2E",104,0)
 . I $D(ICDOP(" 36.07")),$D(ICDOP(" 00.48")) S ICDRG=246
"RTN","ICDTBL2E",105,0)
 Q
"RTN","ICDTBL2E",106,0)
DRG247 D CMS516 Q
"RTN","ICDTBL2E",107,0)
DRG248 ;Called from CMS516
"RTN","ICDTBL2E",108,0)
 D MCV
"RTN","ICDTBL2E",109,0)
 I ICDMCV!(ICDMCV1) S ICDRG=248
"RTN","ICDTBL2E",110,0)
 S ICDRG=$S(ICDMCC=2:248,1:249) D  Q
"RTN","ICDTBL2E",111,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2E",112,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2E",113,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2E",114,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2E",115,0)
 Q
"RTN","ICDTBL2E",116,0)
DRG249 ;Called from CMS516
"RTN","ICDTBL2E",117,0)
 D MCV
"RTN","ICDTBL2E",118,0)
 I 'ICDMCV&('ICDMCV1) S ICDRG=249
"RTN","ICDTBL2E",119,0)
 S ICDRG=$S(ICDMCC=2:248,1:249) D  Q
"RTN","ICDTBL2E",120,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2E",121,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2E",122,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2E",123,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2E",124,0)
 Q
"RTN","ICDTBL2E",125,0)
DRG250 ;
"RTN","ICDTBL2E",126,0)
DRG251 S ICDRG=$S(ICDMCC=2:250,1:251) Q
"RTN","ICDTBL2E",127,0)
DRG252 ;
"RTN","ICDTBL2E",128,0)
DRG253 ;
"RTN","ICDTBL2E",129,0)
DRG254 S ICDRG=$S(ICDMCC=2:252,ICDMCC=1:253,1:254) Q
"RTN","ICDTBL2E",130,0)
DRG255 ;
"RTN","ICDTBL2E",131,0)
DRG256 ;
"RTN","ICDTBL2E",132,0)
DRG257 S ICDRG=$S(ICDMCC=2:255,ICDMCC=1:256,1:257) Q
"RTN","ICDTBL2E",133,0)
DRG258 ;I ICDOR["p" 
"RTN","ICDTBL2E",134,0)
DRG259 D CMS115 I "242^243^244^291^292^293"[ICDRG Q
"RTN","ICDTBL2E",135,0)
 S ICDRG=$S(ICDMCC=2:258,1:259) Q
"RTN","ICDTBL2E",136,0)
DRG260 ;
"RTN","ICDTBL2E",137,0)
 D CMS115 I "242^243^244^291^292^293"[ICDRG Q
"RTN","ICDTBL2E",138,0)
 D DRG258 I $D(ICDOP(" 00.56")) S ICDRG=264 Q
"RTN","ICDTBL2E",139,0)
 I ICDOR["p" S ICDRG=$S(ICDMCC=2:260,ICDMCC=1:261,1:262)
"RTN","ICDTBL2E",140,0)
 Q
"RTN","ICDTBL2E",141,0)
DRG261 D DRG260 Q
"RTN","ICDTBL2E",142,0)
DRG262 D DRG260 Q
"RTN","ICDTBL2E",143,0)
DRG263 S ICDRG=263 Q
"RTN","ICDTBL2E",144,0)
DRG264 S ICDRG=264 Q
"RTN","ICDTBL2E",145,0)
DRG265 S ICDRG=265 Q
"RTN","ICDTBL2E",146,0)
DRG280 ;
"RTN","ICDTBL2E",147,0)
DRG281 ;
"RTN","ICDTBL2E",148,0)
DRG282 I ICDPD="" S ICDRG=282
"RTN","ICDTBL2E",149,0)
 I ICDDX(1)=13639,$D(ICDDXT("410.71")),$D(ICDDXT("428.0")),ICDMCC=2 S ICDMCC=0
"RTN","ICDTBL2E",150,0)
 I ICDDX(1)=9061,$D(ICDDXT("491.21"))&$D(ICDDXT("410.71")) S ICDMCC=1
"RTN","ICDTBL2E",151,0)
 I ICDPD["I"&(ICDSD'["I") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2E",152,0)
 I ICDPD["I"&(ICDSD'["c") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2E",153,0)
 I ICDPD["I"&(ICDSD'["S") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2E",154,0)
 I ICDPD["c"&(ICDSD'["I") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2E",155,0)
 I ICDPD["c"&(ICDSD'["c") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2E",156,0)
 I ICDPD["c"&(ICDSD'["S") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2E",157,0)
 I ICDPD["HJV"&(ICDSD["AI"),ICDMCC=2 S ICDRG=281 Q
"RTN","ICDTBL2E",158,0)
 S ICDRG=$S(ICDMCC=2&(ICDSD["H"):280,ICDMCC=1&(ICDSD["H"):281,1:282) Q
"RTN","ICDTBL2E",159,0)
DRG283 ;
"RTN","ICDTBL2E",160,0)
DRG284 ;
"RTN","ICDTBL2E",161,0)
DRG285 ;
"RTN","ICDTBL2E",162,0)
 I $D(ICDDXT("427.41"))&$D(ICDDXT("427.5")) S ICDMCC=1
"RTN","ICDTBL2E",163,0)
 S ICDRG=$S(ICDMCC=2:283,ICDMCC=1:284,1:285) Q
"RTN","ICDTBL2E",164,0)
DRG286 ;
"RTN","ICDTBL2E",165,0)
DRG287 I ICDMAJ'=""&(ICDMAJ'["A") D DRG982^ICDTBL9E Q
"RTN","ICDTBL2E",166,0)
 N ICDOPFLG
"RTN","ICDTBL2E",167,0)
 S ICDOPFLG=0
"RTN","ICDTBL2E",168,0)
 I '$D(ICDOP(" 37.21"))!('$D(ICDOP(" 37.22")))!('$D(ICDOP(" 37.23")))!('$D(ICDOP(" 88.52")))!('$D(ICDOP(" 88.53"))) S ICDOPFLG=1
"RTN","ICDTBL2E",169,0)
 I '$D(ICDOP(" 88.54"))!('$D(ICDOP(" 88.55")))!('$D(ICDOP(" 88.56")))!('$D(ICDOP(" 88.57")))!('$D(ICDOP(" 88.58"))) S ICDOPFLG=1
"RTN","ICDTBL2E",170,0)
 I ICDPDRG["291^292^",$G(ICDOPFLG)=1 D DRG293^ICDTBL2E Q
"RTN","ICDTBL2E",171,0)
 I ICDPDRG["308^309^310^",$G(ICDOPFLG)=1 D DRG310^ICDTBL3E Q
"RTN","ICDTBL2E",172,0)
 S ICDRG=$S(ICDMCC=2:286,1:287) Q
"RTN","ICDTBL2E",173,0)
DRG288 ;
"RTN","ICDTBL2E",174,0)
DRG289 ;
"RTN","ICDTBL2E",175,0)
DRG290 S ICDRG=$S(ICDMCC=2:288,ICDMCC=1:289,1:290) Q
"RTN","ICDTBL2E",176,0)
DRG291 ;
"RTN","ICDTBL2E",177,0)
DRG292 ;
"RTN","ICDTBL2E",178,0)
DRG293 I ICDOR["K" D DRG252 Q
"RTN","ICDTBL2E",179,0)
 I ICDOR["P" D DRG260 Q
"RTN","ICDTBL2E",180,0)
 I (ICDDX(1)=5458!$D(ICDDXT("785.51"))),'ICDEXP S ICDMCC=2
"RTN","ICDTBL2E",181,0)
 I (ICDDX(1)=2480&$D(ICDDXT("428.33"))) S ICDMCC=1
"RTN","ICDTBL2E",182,0)
 S ICDRG=$S(ICDMCC=2:291,ICDMCC=1:292,1:293) Q
"RTN","ICDTBL2E",183,0)
DRG294 ;
"RTN","ICDTBL2E",184,0)
DRG295 S ICDRG=$S(ICDMCC>0:294,1:295) Q
"RTN","ICDTBL2E",185,0)
DRG296 ;
"RTN","ICDTBL2E",186,0)
DRG297 ;
"RTN","ICDTBL2E",187,0)
DRG298 I (ICDDX(1)=2561!$D(ICDDXT(" 427.5"))),'ICDEXP S ICDMCC=2
"RTN","ICDTBL2E",188,0)
 S ICDRG=$S(ICDMCC=2:296,ICDMCC=1:297,1:298) Q
"RTN","ICDTBL2E",189,0)
DRG299 S ICDRG=$S(ICDMCC=2:299,ICDMCC=1:300,1:301) Q
"RTN","ICDTBL2E",190,0)
 Q
"RTN","ICDTBL2E",191,0)
CMS115 ;convert DRG115^ICDTBL2D code - no MS-DRG 115 existed
"RTN","ICDTBL2E",192,0)
 D EN1^ICDDRG5
"RTN","ICDTBL2E",193,0)
 I ICDOR[7,'$D(ICDCC2)!('$D(ICDCC3)) S ICDRG=$S(ICDMCC=2:260,ICDMCC=1:261,1:262) Q
"RTN","ICDTBL2E",194,0)
 I ICDPD'["I"&(ICDOR'["p")&(ICDCC2=0)&(ICDCC3=0) D  Q
"RTN","ICDTBL2E",195,0)
 .I ICDSD["Z",ICDPDRG["^291^292^293" S ICDMCC=0
"RTN","ICDTBL2E",196,0)
 .S ICDRG=$S(ICDMCC=2:291,ICDMCC=1:292,1:293)
"RTN","ICDTBL2E",197,0)
 I ICDCC2=1!(ICDCC3=1) D DRG242
"RTN","ICDTBL2E",198,0)
 I ((ICDRG>241)&(ICDRG<245)) Q
"RTN","ICDTBL2E",199,0)
 ; ICDCC2 identifies AICD LEAD OR GNRTR
"RTN","ICDTBL2E",200,0)
 I ICDCC2=1!(ICDCC3=1) D  Q
"RTN","ICDTBL2E",201,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244) Q
"RTN","ICDTBL2E",202,0)
 I ICDOR["p" D  Q
"RTN","ICDTBL2E",203,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244) Q
"RTN","ICDTBL2E",204,0)
 Q
"RTN","ICDTBL2E",205,0)
CMS516 ;convert DRG516^ICDTBL6D code - no MS-DRG 516 exists
"RTN","ICDTBL2E",206,0)
 I $D(ICDOP(" 37.72")),$D(ICDOP(" 37.83")),"242^243^244"[ICDRG Q
"RTN","ICDTBL2E",207,0)
 S ICDRG=250
"RTN","ICDTBL2E",208,0)
 I '$D(ICDOP(" 36.06"))&'$D(ICDOP(" 92.27"))&'$D(ICDOP(" 36.07")) D DRG251
"RTN","ICDTBL2E",209,0)
 E  D DRG248
"RTN","ICDTBL2E",210,0)
 ;I $D(ICDOP(" 36.06"))!$D(ICDOP(" 92.27")) D DRG249
"RTN","ICDTBL2E",211,0)
 I $D(ICDOP(" 36.07")) D DRG246
"RTN","ICDTBL2E",212,0)
 Q
"RTN","ICDTBL2E",213,0)
MCV ; checks to see if case qualifies as an MCV (major cardiovascular complications or complex conditions)
"RTN","ICDTBL2E",214,0)
 S (ICDMCV,ICDMCV1,ICDMCV2)=0
"RTN","ICDTBL2E",215,0)
 ; ICDPD=identifier for prime dx  ICDSD=identifier for any secondary dx
"RTN","ICDTBL2E",216,0)
 ; DGDX(1)=prime dx  ICDDX(1)=ien of prime dx ICDDXT=any secondary dx  
"RTN","ICDTBL2E",217,0)
 I ICDPD["c"!(ICDSD["c") S ICDMCV=1
"RTN","ICDTBL2E",218,0)
 I ICDSD["s" S ICDMCV=1
"RTN","ICDTBL2E",219,0)
 ;I DGDX(1)["426.0"!(DGDX(1)["426.53")!(DGDX(1)["426.54") S ICDMCV1=1
"RTN","ICDTBL2E",220,0)
 I $G(ICDDX(1))=9056!($G(ICDDX(1))=2548)!($G(ICDDX(1))=2549) S ICDMCV1=1
"RTN","ICDTBL2E",221,0)
 I $D(ICDDXT("426.0"))!($D(ICDDXT("426.53")))!($D(ICDDXT("426.54"))) S ICDMCV1=1
"RTN","ICDTBL2E",222,0)
 ;I DGDX(1)["411.1"!(DGDX(1)["411.81") S ICDMCV2=1
"RTN","ICDTBL2E",223,0)
 I $G(ICDDX(1))=2500!($G(ICDDX(1))=12477) S ICDMCV2=1
"RTN","ICDTBL2E",224,0)
 I $D(ICDDXT("411.1"))!($D(ICDDXT("411.81"))) S ICDMCV2=1
"RTN","ICDTBL2E",225,0)
 Q
"RTN","ICDTBL2F")
0^9^B59892518^B50198543
"RTN","ICDTBL2F",1,0)
ICDTBL2F ;ALB/JDG - GROUPER UTILITY FUNCTIONS;08/09/2010
"RTN","ICDTBL2F",2,0)
 ;;18.0;DRG Grouper;**72,79**;Oct 20, 2000;Build 6
"RTN","ICDTBL2F",3,0)
DRG200 ;
"RTN","ICDTBL2F",4,0)
DRG201 I ICDSD["c" S ICDRG=$S(ICDMCC=2:199,ICDMCC=1:200,1:201) Q
"RTN","ICDTBL2F",5,0)
 S ICDRG=$S(ICDMCC=2:199,ICDMCC=1:200,1:201) Q
"RTN","ICDTBL2F",6,0)
DRG202 ;
"RTN","ICDTBL2F",7,0)
DRG203 S ICDRG=$S(ICDMCC>0:202,1:203) Q
"RTN","ICDTBL2F",8,0)
DRG204 S ICDRG=204 Q
"RTN","ICDTBL2F",9,0)
DRG205 ;
"RTN","ICDTBL2F",10,0)
DRG206 S ICDRG=$S(ICDMCC=2:205,1:206) Q
"RTN","ICDTBL2F",11,0)
DRG207 S ICDRG=207 Q
"RTN","ICDTBL2F",12,0)
DRG208 I ICDOR["o"!(ICDOR["V") D DRG982^ICDTBL9F Q
"RTN","ICDTBL2F",13,0)
 S ICDRG=208 Q
"RTN","ICDTBL2F",14,0)
DRG215 S ICDRG=215 Q
"RTN","ICDTBL2F",15,0)
DRG216 ;valve procedures
"RTN","ICDTBL2F",16,0)
 N ICDE1,ICDE2
"RTN","ICDTBL2F",17,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&($D(ICDOP(" 37.96"))):1,1:0),ICDE2=$S($D(ICDOP(" 37.97"))&($D(ICDOP(" 37.98"))):1,1:0)
"RTN","ICDTBL2F",18,0)
 S:ICDOR["H" ICDRG=$S(ICDOR["N"&ICDE1:218,ICDOR["N"&ICDE2:218,ICDOR["O":218,1:ICDRG)
"RTN","ICDTBL2F",19,0)
 S:ICDOR'["H" ICDRG=$S(ICDOR["N"&ICDE1:221,ICDOR["N"&ICDE2:221,ICDOR["O":221,1:ICDRG)
"RTN","ICDTBL2F",20,0)
 I ICDOR["P"&(ICDE1+ICDE2=0) S ICDRG=$S(ICDOR["H"&('$D(ICDOP(" 37.68"))):218,1:221)
"RTN","ICDTBL2F",21,0)
 S:ICDRG=218 ICDRG=$S(ICDMCC=2:216,ICDMCC=1:217,1:218)
"RTN","ICDTBL2F",22,0)
 S:ICDRG=221 ICDRG=$S(ICDMCC=2:219,ICDMCC=1:220,1:221)
"RTN","ICDTBL2F",23,0)
 Q
"RTN","ICDTBL2F",24,0)
DRG217 D DRG216 Q
"RTN","ICDTBL2F",25,0)
DRG218 D DRG216 Q
"RTN","ICDTBL2F",26,0)
DRG219 D DRG216 Q
"RTN","ICDTBL2F",27,0)
DRG220 D DRG216 Q
"RTN","ICDTBL2F",28,0)
DRG221 D DRG216 Q
"RTN","ICDTBL2F",29,0)
DRG222 N ICDE1,ICDE2,ICDE3,ICDE4
"RTN","ICDTBL2F",30,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&(($D(ICDOP(" 37.96")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2F",31,0)
 S ICDE2=$S($D(ICDOP(" 37.97"))&(($D(ICDOP(" 37.98")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2F",32,0)
 S ICDE3=$S($D(ICDOP(" 00.52"))&($D(ICDOP(" 00.54"))):1,1:0)
"RTN","ICDTBL2F",33,0)
 ;S ICDE4=$S($D(ICDOP(" 00.54"))&($D(ICDOP(" 37.95"))):1,1:0)
"RTN","ICDTBL2F",34,0)
 S ICDE4=$S($D(ICDOP(" 37.74"))&(($D(ICDOP(" 37.96")))!($D(ICDOP(" 37.98")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2F",35,0)
 S ICDRG=999
"RTN","ICDTBL2F",36,0)
 I $D(ICDOP(" 37.94"))!$D(ICDOP(" 00.51")) I ICDE1+ICDE2+ICDE3+ICDE4=0 D
"RTN","ICDTBL2F",37,0)
 . S ICDRG=$S(ICDMCC=2:226,1:227)
"RTN","ICDTBL2F",38,0)
 I '$D(ICDOP(" 37.94"))&('$D(ICDOP(" 00.51"))) I ICDE1!ICDE2!ICDE3!ICDE4 D
"RTN","ICDTBL2F",39,0)
 . S ICDRG=$S(ICDMCC=2:226,1:227)
"RTN","ICDTBL2F",40,0)
 ; "HN" in ICDOR represents OR proc 37.21-.23, 37.26, 88.52-.58
"RTN","ICDTBL2F",41,0)
 I (ICDRG=226)!(ICDRG=227) I ICDOR["HN" I '$D(ICDOP(" 37.26")) S ICDRG=$S((ICDPD["A")&(ICDMCC=2):222,(ICDDX(1)=12444)&($D(ICDDXT("428.23")))&($D(ICDDXT("785.51")))&(ICDMCC=2):222,ICDPD["A":223,ICDMCC=2:224,1:225)
"RTN","ICDTBL2F",42,0)
 I ICDRG=470 D CMS115
"RTN","ICDTBL2F",43,0)
 Q
"RTN","ICDTBL2F",44,0)
DRG223 D DRG222 Q
"RTN","ICDTBL2F",45,0)
DRG224 ;
"RTN","ICDTBL2F",46,0)
DRG225 D DRG222 Q
"RTN","ICDTBL2F",47,0)
DRG226 ;
"RTN","ICDTBL2F",48,0)
DRG227 D DRG222 Q
"RTN","ICDTBL2F",49,0)
DRG228 ;
"RTN","ICDTBL2F",50,0)
DRG229 ;
"RTN","ICDTBL2F",51,0)
DRG230 ;DRGs 228-230 note ICDOR["Oo" = operation and DRG CMS108/MS230 procedure
"RTN","ICDTBL2F",52,0)
 I $D(ICDOP(" 35.33")) D DRG221 Q
"RTN","ICDTBL2F",53,0)
 I ICDOR["Oo"!($D(ICDOP(" 38.44"))&($D(ICDOP(" 38.45")))) D  Q
"RTN","ICDTBL2F",54,0)
 . S ICDRG=$S(ICDMCC=2:228,ICDMCC=1:229,1:230) Q
"RTN","ICDTBL2F",55,0)
 G DRG237
"RTN","ICDTBL2F",56,0)
DRG231 S ICDRG=999
"RTN","ICDTBL2F",57,0)
 I ICDOR["b" D DRG235
"RTN","ICDTBL2F",58,0)
 I ICDOR["b" I $D(ICDOP(" 35.96"))!($D(ICDOP(" 00.66"))) D  Q
"RTN","ICDTBL2F",59,0)
 . S ICDRG=$S(ICDMCC=2:231,1:232)
"RTN","ICDTBL2F",60,0)
 I ICDOR["b" I $D(ICDOP(" 37.21"))!($D(ICDOP(" 37.22")))!($D(ICDOP(" 37.23"))) D DRG233 Q
"RTN","ICDTBL2F",61,0)
 I ICDRG'=231&(ICDRG'=232)&(ICDRG'=233)&(ICDRG'=234)&(ICDRG'=235)&(ICDRG'=236) S ICDRG=999 D DRG237
"RTN","ICDTBL2F",62,0)
 Q
"RTN","ICDTBL2F",63,0)
DRG232 D DRG231 Q
"RTN","ICDTBL2F",64,0)
DRG233 ; called from DRG231
"RTN","ICDTBL2F",65,0)
 D MCV
"RTN","ICDTBL2F",66,0)
 S ICDRG=$S(ICDMCV:233,ICDMCV1:233,1:234)
"RTN","ICDTBL2F",67,0)
 S ICDRG=$S(ICDMCC=2:233,1:234)
"RTN","ICDTBL2F",68,0)
 Q
"RTN","ICDTBL2F",69,0)
DRG234 D DRG233 Q
"RTN","ICDTBL2F",70,0)
DRG235 ;
"RTN","ICDTBL2F",71,0)
DRG236 S ICDRG=$S(ICDMCC=2:235,1:236) Q
"RTN","ICDTBL2F",72,0)
DRG237 I ICDOR["Oo" D DRG228
"RTN","ICDTBL2F",73,0)
 S ICDRG=$S((ICDMCC=2)&(ICDOR[7):237,ICDOR[7:238,1:ICDRG)
"RTN","ICDTBL2F",74,0)
 I ICDDX(1)=12460,$D(ICDDXT("785.51")),ICDRG=237,ICDEXP=1 S ICDRG=238
"RTN","ICDTBL2F",75,0)
 I "228^229^230^237^238"[ICDRG Q
"RTN","ICDTBL2F",76,0)
 ;I $D(ICDJJ(478))&('$D(ICDJJ(110))&'($D(ICDJJ(111)))) D DRG478^ICDTBL6C
"RTN","ICDTBL2F",77,0)
 D DRG239 I "239^240^241"[ICDRG Q
"RTN","ICDTBL2F",78,0)
 I ICDOR["p" D DRG260
"RTN","ICDTBL2F",79,0)
 I ICDOR["1" D CMS516
"RTN","ICDTBL2F",80,0)
 Q
"RTN","ICDTBL2F",81,0)
DRG238 S ICDRG=$S(ICDMCC=2:237,1:238) Q
"RTN","ICDTBL2F",82,0)
DRG239 ;239-241
"RTN","ICDTBL2F",83,0)
DRG240 ;
"RTN","ICDTBL2F",84,0)
DRG241 S ICDRG=$S($D(ICDJJ(241)):241,1:ICDRG)
"RTN","ICDTBL2F",85,0)
 I ICDRG=241 S ICDRG=$S(ICDMCC=2:239,ICDMCC=1:240,1:241)
"RTN","ICDTBL2F",86,0)
 Q
"RTN","ICDTBL2F",87,0)
DRG242 ; called from CMS115
"RTN","ICDTBL2F",88,0)
 D MCV
"RTN","ICDTBL2F",89,0)
 I ICDMCV!(ICDMCV1) D
"RTN","ICDTBL2F",90,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244)
"RTN","ICDTBL2F",91,0)
 Q
"RTN","ICDTBL2F",92,0)
DRG243 D CMS115 Q
"RTN","ICDTBL2F",93,0)
DRG244 D CMS115 Q
"RTN","ICDTBL2F",94,0)
DRG245 I $D(ICDOP(" 37.95"))!($D(ICDOP(" 37.97")))!($D(ICDOP(" 00.52"))) D DRG265 Q
"RTN","ICDTBL2F",95,0)
 E  S ICDRG=245 Q
"RTN","ICDTBL2F",96,0)
DRG246 ;
"RTN","ICDTBL2F",97,0)
 D MCV
"RTN","ICDTBL2F",98,0)
 I ICDMCV!ICDMCV1 S ICDRG=246
"RTN","ICDTBL2F",99,0)
 E  S ICDRG=247
"RTN","ICDTBL2F",100,0)
 S ICDRG=$S(ICDMCC=2:246,1:247) D  Q
"RTN","ICDTBL2F",101,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=246
"RTN","ICDTBL2F",102,0)
 . I $D(ICDOP(" 36.07")),$D(ICDOP(" 00.43")) S ICDRG=246
"RTN","ICDTBL2F",103,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=246
"RTN","ICDTBL2F",104,0)
 . I $D(ICDOP(" 36.07")),$D(ICDOP(" 00.48")) S ICDRG=246
"RTN","ICDTBL2F",105,0)
 Q
"RTN","ICDTBL2F",106,0)
DRG247 D CMS516 Q
"RTN","ICDTBL2F",107,0)
DRG248 ;Called from CMS516
"RTN","ICDTBL2F",108,0)
 D MCV
"RTN","ICDTBL2F",109,0)
 I ICDMCV!(ICDMCV1) S ICDRG=248
"RTN","ICDTBL2F",110,0)
 S ICDRG=$S(ICDMCC=2:248,1:249) D  Q
"RTN","ICDTBL2F",111,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2F",112,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2F",113,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2F",114,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2F",115,0)
 Q
"RTN","ICDTBL2F",116,0)
DRG249 ;Called from CMS516
"RTN","ICDTBL2F",117,0)
 D MCV
"RTN","ICDTBL2F",118,0)
 I 'ICDMCV&('ICDMCV1) S ICDRG=249
"RTN","ICDTBL2F",119,0)
 S ICDRG=$S(ICDMCC=2:248,1:249) D  Q
"RTN","ICDTBL2F",120,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2F",121,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2F",122,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2F",123,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2F",124,0)
 Q
"RTN","ICDTBL2F",125,0)
DRG250 ;
"RTN","ICDTBL2F",126,0)
DRG251 S ICDRG=$S(ICDMCC=2:250,1:251) Q
"RTN","ICDTBL2F",127,0)
DRG252 ;
"RTN","ICDTBL2F",128,0)
DRG253 ;
"RTN","ICDTBL2F",129,0)
DRG254 S ICDRG=$S(ICDMCC=2:252,ICDMCC=1:253,1:254) Q
"RTN","ICDTBL2F",130,0)
DRG255 ;
"RTN","ICDTBL2F",131,0)
DRG256 ;
"RTN","ICDTBL2F",132,0)
DRG257 S ICDRG=$S(ICDMCC=2:255,ICDMCC=1:256,1:257) Q
"RTN","ICDTBL2F",133,0)
DRG258 ;I ICDOR["p" 
"RTN","ICDTBL2F",134,0)
DRG259 D CMS115 I "242^243^244^291^292^293"[ICDRG Q
"RTN","ICDTBL2F",135,0)
 S ICDRG=$S(ICDMCC=2:258,1:259) Q
"RTN","ICDTBL2F",136,0)
DRG260 ;
"RTN","ICDTBL2F",137,0)
 D CMS115 I "242^243^244^291^292^293"[ICDRG Q
"RTN","ICDTBL2F",138,0)
 D DRG258 I $D(ICDOP(" 00.56")) S ICDRG=264 Q
"RTN","ICDTBL2F",139,0)
 I ICDOR["p" S ICDRG=$S(ICDMCC=2:260,ICDMCC=1:261,1:262)
"RTN","ICDTBL2F",140,0)
 Q
"RTN","ICDTBL2F",141,0)
DRG261 D DRG260 Q
"RTN","ICDTBL2F",142,0)
DRG262 D DRG260 Q
"RTN","ICDTBL2F",143,0)
DRG263 S ICDRG=263 Q
"RTN","ICDTBL2F",144,0)
DRG264 S ICDRG=264 Q
"RTN","ICDTBL2F",145,0)
DRG265 S ICDRG=265 Q
"RTN","ICDTBL2F",146,0)
DRG280 ;
"RTN","ICDTBL2F",147,0)
DRG281 ;
"RTN","ICDTBL2F",148,0)
DRG282 I ICDPD="" S ICDRG=282
"RTN","ICDTBL2F",149,0)
 I ICDDX(1)=13639,$D(ICDDXT("410.71")),$D(ICDDXT("428.0")),ICDMCC=2 S ICDMCC=0
"RTN","ICDTBL2F",150,0)
 I ICDDX(1)=9061,$D(ICDDXT("491.21"))&$D(ICDDXT("410.71")) S ICDMCC=1
"RTN","ICDTBL2F",151,0)
 I ICDPD["I"&(ICDSD'["I") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2F",152,0)
 I ICDPD["I"&(ICDSD'["c") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2F",153,0)
 I ICDPD["I"&(ICDSD'["S") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2F",154,0)
 I ICDPD["c"&(ICDSD'["I") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2F",155,0)
 I ICDPD["c"&(ICDSD'["c") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2F",156,0)
 I ICDPD["c"&(ICDSD'["S") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2F",157,0)
 I $G(ICDDX(1))=2477!(ICDPD["HJV")&(ICDSD["AI"),ICDMCC=2 S ICDRG=281 Q
"RTN","ICDTBL2F",158,0)
 S ICDRG=$S(ICDMCC=2&(ICDSD["H"):280,ICDMCC=1&(ICDSD["H"):281,1:282) Q
"RTN","ICDTBL2F",159,0)
DRG283 ;
"RTN","ICDTBL2F",160,0)
DRG284 ;
"RTN","ICDTBL2F",161,0)
DRG285 ;
"RTN","ICDTBL2F",162,0)
 I $D(ICDDXT("427.41"))&$D(ICDDXT("427.5")) S ICDMCC=1
"RTN","ICDTBL2F",163,0)
 S ICDRG=$S(ICDMCC=2:283,ICDMCC=1:284,1:285) Q
"RTN","ICDTBL2F",164,0)
DRG286 ;
"RTN","ICDTBL2F",165,0)
DRG287 I ICDMAJ'=""&(ICDMAJ'["A") D DRG982^ICDTBL9F Q
"RTN","ICDTBL2F",166,0)
 I '$D(ICDOP(" 37.21"))!('$D(ICDOP(" 37.22")))!('$D(ICDOP(" 37.23")))!('$D(ICDOP(" 88.52")))!('$D(ICDOP(" 88.53"))) S ICDOPFLG=1
"RTN","ICDTBL2F",167,0)
 I '$D(ICDOP(" 88.54"))!('$D(ICDOP(" 88.55")))!('$D(ICDOP(" 88.56")))!('$D(ICDOP(" 88.57")))!('$D(ICDOP(" 88.58"))) S ICDOPFLG=1
"RTN","ICDTBL2F",168,0)
 I ICDPDRG["291^292^",$G(ICDOPFLG)=1 D DRG293^ICDTBL2F Q
"RTN","ICDTBL2F",169,0)
 I ICDPDRG["308^309^310^",$G(ICDOPFLG)=1 D DRG310^ICDTBL3F Q
"RTN","ICDTBL2F",170,0)
 S ICDRG=$S(ICDMCC=2:286,1:287) Q
"RTN","ICDTBL2F",171,0)
DRG288 ;
"RTN","ICDTBL2F",172,0)
DRG289 ;
"RTN","ICDTBL2F",173,0)
DRG290 S ICDRG=$S(ICDMCC=2:288,ICDMCC=1:289,1:290) Q
"RTN","ICDTBL2F",174,0)
DRG291 ;
"RTN","ICDTBL2F",175,0)
DRG292 ;
"RTN","ICDTBL2F",176,0)
DRG293 I ICDOR["K" D DRG252 Q
"RTN","ICDTBL2F",177,0)
 I ICDOR["P" D DRG260 Q
"RTN","ICDTBL2F",178,0)
 I (ICDDX(1)=5458!$D(ICDDXT("785.51"))),'ICDEXP S ICDMCC=2
"RTN","ICDTBL2F",179,0)
 I (ICDDX(1)=2480&$D(ICDDXT("428.33"))) S ICDMCC=1
"RTN","ICDTBL2F",180,0)
 S ICDRG=$S(ICDMCC=2:291,ICDMCC=1:292,1:293) Q
"RTN","ICDTBL2F",181,0)
DRG294 ;
"RTN","ICDTBL2F",182,0)
DRG295 S ICDRG=$S(ICDMCC>0:294,1:295) Q
"RTN","ICDTBL2F",183,0)
DRG296 ;
"RTN","ICDTBL2F",184,0)
DRG297 ;
"RTN","ICDTBL2F",185,0)
DRG298 I (ICDDX(1)=2561!$D(ICDDXT(" 427.5"))),'ICDEXP S ICDMCC=2
"RTN","ICDTBL2F",186,0)
 S ICDRG=$S(ICDMCC=2:296,ICDMCC=1:297,1:298) Q
"RTN","ICDTBL2F",187,0)
DRG299 S ICDRG=$S(ICDMCC=2:299,ICDMCC=1:300,1:301) Q
"RTN","ICDTBL2F",188,0)
 Q
"RTN","ICDTBL2F",189,0)
CMS115 ;convert DRG115^ICDTBL2D code - no MS-DRG 115 existed
"RTN","ICDTBL2F",190,0)
 D EN1^ICDDRG5
"RTN","ICDTBL2F",191,0)
 I ICDOR[7,'$D(ICDCC2)!('$D(ICDCC3)) S ICDRG=$S(ICDMCC=2:260,ICDMCC=1:261,1:262) Q
"RTN","ICDTBL2F",192,0)
 I ICDPD'["I"&(ICDOR'["p")&(ICDCC2=0)&(ICDCC3=0) D  Q
"RTN","ICDTBL2F",193,0)
 .I ICDSD["Z",ICDPDRG["^291^292^293" S ICDMCC=0
"RTN","ICDTBL2F",194,0)
 .S ICDRG=$S(ICDMCC=2:291,ICDMCC=1:292,1:293)
"RTN","ICDTBL2F",195,0)
 I ICDCC2=1!(ICDCC3=1) D DRG242
"RTN","ICDTBL2F",196,0)
 I ((ICDRG>241)&(ICDRG<245)) Q
"RTN","ICDTBL2F",197,0)
 ; ICDCC2 identifies AICD LEAD OR GNRTR
"RTN","ICDTBL2F",198,0)
 I ICDCC2=1!(ICDCC3=1) D  Q
"RTN","ICDTBL2F",199,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244) Q
"RTN","ICDTBL2F",200,0)
  I ICDOR["p" D  Q
"RTN","ICDTBL2F",201,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244) Q
"RTN","ICDTBL2F",202,0)
 Q
"RTN","ICDTBL2F",203,0)
CMS516 ;convert DRG516^ICDTBL6D code - no MS-DRG 516 exists
"RTN","ICDTBL2F",204,0)
 I $D(ICDOP(" 37.72")),$D(ICDOP(" 37.83")),"242^243^244"[ICDRG Q
"RTN","ICDTBL2F",205,0)
 S ICDRG=250
"RTN","ICDTBL2F",206,0)
 I '$D(ICDOP(" 36.06"))&'$D(ICDOP(" 92.27"))&'$D(ICDOP(" 36.07")) D DRG251
"RTN","ICDTBL2F",207,0)
 E  D DRG248
"RTN","ICDTBL2F",208,0)
 ;I $D(ICDOP(" 36.06"))!$D(ICDOP(" 92.27")) D DRG249
"RTN","ICDTBL2F",209,0)
 I $D(ICDOP(" 36.07")) D DRG246
"RTN","ICDTBL2F",210,0)
 Q
"RTN","ICDTBL2F",211,0)
MCV ; checks to see if case qualifies as an MCV (major cardiovascular complications or complex conditions)
"RTN","ICDTBL2F",212,0)
 S (ICDMCV,ICDMCV1,ICDMCV2)=0
"RTN","ICDTBL2F",213,0)
 ; ICDPD=identifier for prime dx  ICDSD=identifier for any secondary dx
"RTN","ICDTBL2F",214,0)
 ; DGDX(1)=prime dx  ICDDX(1)=ien of prime dx ICDDXT=any secondary dx  
"RTN","ICDTBL2F",215,0)
 I ICDPD["c"!(ICDSD["c") S ICDMCV=1
"RTN","ICDTBL2F",216,0)
 I ICDSD["s" S ICDMCV=1
"RTN","ICDTBL2F",217,0)
 ;I DGDX(1)["426.0"!(DGDX(1)["426.53")!(DGDX(1)["426.54") S ICDMCV1=1
"RTN","ICDTBL2F",218,0)
 I $G(ICDDX(1))=9056!($G(ICDDX(1))=2548)!($G(ICDDX(1))=2549) S ICDMCV1=1
"RTN","ICDTBL2F",219,0)
 I $D(ICDDXT("426.0"))!($D(ICDDXT("426.53")))!($D(ICDDXT("426.54"))) S ICDMCV1=1
"RTN","ICDTBL2F",220,0)
 ;I DGDX(1)["411.1"!(DGDX(1)["411.81") S ICDMCV2=1
"RTN","ICDTBL2F",221,0)
 I $G(ICDDX(1))=2500!($G(ICDDX(1))=12477) S ICDMCV2=1
"RTN","ICDTBL2F",222,0)
 I $D(ICDDXT("411.1"))!($D(ICDDXT("411.81"))) S ICDMCV2=1
"RTN","ICDTBL2F",223,0)
 Q
"RTN","ICDTBL2G")
0^10^B61465625^B51747313
"RTN","ICDTBL2G",1,0)
ICDTBL2G ;ALB/JDG - GROUPER UTILITY FUNCTIONS;08/09/2010
"RTN","ICDTBL2G",2,0)
 ;;18.0;DRG Grouper;**77,79**;Oct 20, 2000;Build 6
"RTN","ICDTBL2G",3,0)
DRG200 ;
"RTN","ICDTBL2G",4,0)
DRG201 I ICDSD["c" S ICDRG=$S(ICDMCC=2:199,ICDMCC=1:200,1:201) Q
"RTN","ICDTBL2G",5,0)
 S ICDRG=$S(ICDMCC=2:199,ICDMCC=1:200,1:201) Q
"RTN","ICDTBL2G",6,0)
DRG202 ;
"RTN","ICDTBL2G",7,0)
DRG203 S ICDRG=$S(ICDMCC>0:202,1:203) Q
"RTN","ICDTBL2G",8,0)
DRG204 S ICDRG=204 Q
"RTN","ICDTBL2G",9,0)
DRG205 ;
"RTN","ICDTBL2G",10,0)
DRG206 S ICDRG=$S(ICDMCC=2:205,1:206) Q
"RTN","ICDTBL2G",11,0)
DRG207 S ICDRG=207 Q
"RTN","ICDTBL2G",12,0)
DRG208 I ICDOR["o"!(ICDOR["V") D DRG982^ICDTBL9G Q
"RTN","ICDTBL2G",13,0)
 S ICDRG=208 Q
"RTN","ICDTBL2G",14,0)
DRG215 S ICDRG=215 Q
"RTN","ICDTBL2G",15,0)
DRG216 ;valve procedures
"RTN","ICDTBL2G",16,0)
 N ICDE1,ICDE2
"RTN","ICDTBL2G",17,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&($D(ICDOP(" 37.96"))):1,1:0),ICDE2=$S($D(ICDOP(" 37.97"))&($D(ICDOP(" 37.98"))):1,1:0)
"RTN","ICDTBL2G",18,0)
 S:ICDOR["H" ICDRG=$S(ICDOR["N"&ICDE1:218,ICDOR["N"&ICDE2:218,ICDOR["O":218,1:ICDRG)
"RTN","ICDTBL2G",19,0)
 S:ICDOR'["H" ICDRG=$S(ICDOR["N"&ICDE1:221,ICDOR["N"&ICDE2:221,ICDOR["O":221,1:ICDRG)
"RTN","ICDTBL2G",20,0)
 I ICDOR["P"&(ICDE1+ICDE2=0) S ICDRG=$S(ICDOR["H"&('$D(ICDOP(" 37.68"))):218,1:221)
"RTN","ICDTBL2G",21,0)
 S:ICDRG=218 ICDRG=$S(ICDMCC=2:216,ICDMCC=1:217,1:218)
"RTN","ICDTBL2G",22,0)
 S:ICDRG=221 ICDRG=$S(ICDMCC=2:219,ICDMCC=1:220,1:221)
"RTN","ICDTBL2G",23,0)
 I $D(ICDOP(" 35.05"))!($D(ICDOP(" 35.06")))!($D(ICDOP(" 35.07")))!($D(ICDOP(" 35.08")))!($D(ICDOP(" 35.09"))) D DRG266 Q
"RTN","ICDTBL2G",24,0)
 Q
"RTN","ICDTBL2G",25,0)
DRG217 D DRG216 Q
"RTN","ICDTBL2G",26,0)
DRG218 D DRG216 Q
"RTN","ICDTBL2G",27,0)
DRG219 D DRG216 Q
"RTN","ICDTBL2G",28,0)
DRG220 D DRG216 Q
"RTN","ICDTBL2G",29,0)
DRG221 D DRG216 Q
"RTN","ICDTBL2G",30,0)
DRG222 N ICDE1,ICDE2,ICDE3,ICDE4
"RTN","ICDTBL2G",31,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&(($D(ICDOP(" 37.96")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2G",32,0)
 S ICDE2=$S($D(ICDOP(" 37.97"))&(($D(ICDOP(" 37.98")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2G",33,0)
 S ICDE3=$S($D(ICDOP(" 00.52"))&($D(ICDOP(" 00.54"))):1,1:0)
"RTN","ICDTBL2G",34,0)
 ;S ICDE4=$S($D(ICDOP(" 00.54"))&($D(ICDOP(" 37.95"))):1,1:0)
"RTN","ICDTBL2G",35,0)
 S ICDE4=$S($D(ICDOP(" 37.74"))&(($D(ICDOP(" 37.96")))!($D(ICDOP(" 37.98")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2G",36,0)
 S ICDRG=999
"RTN","ICDTBL2G",37,0)
 I $D(ICDOP(" 37.94"))!$D(ICDOP(" 00.51")) I ICDE1+ICDE2+ICDE3+ICDE4=0 D
"RTN","ICDTBL2G",38,0)
 . S ICDRG=$S(ICDMCC=2:226,1:227)
"RTN","ICDTBL2G",39,0)
 I '$D(ICDOP(" 37.94"))&('$D(ICDOP(" 00.51"))) I ICDE1!ICDE2!ICDE3!ICDE4 D
"RTN","ICDTBL2G",40,0)
 . S ICDRG=$S(ICDMCC=2:226,1:227)
"RTN","ICDTBL2G",41,0)
 ; "HN" in ICDOR represents OR proc 37.21-.23, 37.26, 88.52-.58
"RTN","ICDTBL2G",42,0)
 I (ICDRG=226)!(ICDRG=227) I ICDOR["HN" I '$D(ICDOP(" 37.26")) S ICDRG=$S((ICDPD["A")&(ICDMCC=2):222,(ICDDX(1)=12444)&($D(ICDDXT("428.23")))&($D(ICDDXT("785.51")))&(ICDMCC=2):222,ICDPD["A":223,ICDMCC=2:224,1:225)
"RTN","ICDTBL2G",43,0)
 I ICDRG=470 D CMS115
"RTN","ICDTBL2G",44,0)
 Q
"RTN","ICDTBL2G",45,0)
DRG223 D DRG222 Q
"RTN","ICDTBL2G",46,0)
DRG224 ;
"RTN","ICDTBL2G",47,0)
DRG225 D DRG222 Q
"RTN","ICDTBL2G",48,0)
DRG226 ;
"RTN","ICDTBL2G",49,0)
DRG227 D DRG222 Q
"RTN","ICDTBL2G",50,0)
DRG228 ;
"RTN","ICDTBL2G",51,0)
DRG229 ;
"RTN","ICDTBL2G",52,0)
DRG230 ;DRGs 228-230 note ICDOR["Oo" = operation and DRG CMS108/MS230 procedure
"RTN","ICDTBL2G",53,0)
 I $D(ICDOP(" 35.33")) D DRG221 Q
"RTN","ICDTBL2G",54,0)
 I ICDOR["Oo"!($D(ICDOP(" 38.44"))&($D(ICDOP(" 38.45")))) D  Q
"RTN","ICDTBL2G",55,0)
 . S ICDRG=$S(ICDMCC=2:228,ICDMCC=1:229,1:230) Q
"RTN","ICDTBL2G",56,0)
 G DRG237
"RTN","ICDTBL2G",57,0)
DRG231 S ICDRG=999
"RTN","ICDTBL2G",58,0)
 I ICDOR["b" D DRG235
"RTN","ICDTBL2G",59,0)
 I ICDOR["b" I $D(ICDOP(" 35.96"))!($D(ICDOP(" 00.66"))) D  Q
"RTN","ICDTBL2G",60,0)
 . S ICDRG=$S(ICDMCC=2:231,1:232)
"RTN","ICDTBL2G",61,0)
 I ICDOR["b" I $D(ICDOP(" 37.21"))!($D(ICDOP(" 37.22")))!($D(ICDOP(" 37.23"))) D DRG233 Q
"RTN","ICDTBL2G",62,0)
 I ICDRG'=231&(ICDRG'=232)&(ICDRG'=233)&(ICDRG'=234)&(ICDRG'=235)&(ICDRG'=236) S ICDRG=999 D DRG237
"RTN","ICDTBL2G",63,0)
 Q
"RTN","ICDTBL2G",64,0)
DRG232 D DRG231 Q
"RTN","ICDTBL2G",65,0)
DRG233 ; called from DRG231
"RTN","ICDTBL2G",66,0)
 D MCV
"RTN","ICDTBL2G",67,0)
 S ICDRG=$S(ICDMCV:233,ICDMCV1:233,1:234)
"RTN","ICDTBL2G",68,0)
 S ICDRG=$S(ICDMCC=2:233,1:234)
"RTN","ICDTBL2G",69,0)
 Q
"RTN","ICDTBL2G",70,0)
DRG234 D DRG233 Q
"RTN","ICDTBL2G",71,0)
DRG235 ;
"RTN","ICDTBL2G",72,0)
DRG236 S ICDRG=$S(ICDMCC=2:235,1:236) Q
"RTN","ICDTBL2G",73,0)
DRG237 I ICDOR["Oo" D DRG228
"RTN","ICDTBL2G",74,0)
 S ICDRG=$S((ICDMCC=2)&(ICDOR[7):237,ICDOR[7:238,1:ICDRG)
"RTN","ICDTBL2G",75,0)
 I ICDDX(1)=12460,$D(ICDDXT("785.51")),ICDRG=237,ICDEXP=1 S ICDRG=238
"RTN","ICDTBL2G",76,0)
 I "228^229^230^237^238"[ICDRG Q
"RTN","ICDTBL2G",77,0)
 ;I $D(ICDJJ(478))&('$D(ICDJJ(110))&'($D(ICDJJ(111)))) D DRG478^ICDTBL6C
"RTN","ICDTBL2G",78,0)
 D DRG239 I "239^240^241"[ICDRG Q
"RTN","ICDTBL2G",79,0)
 I ICDOR["p" D DRG260
"RTN","ICDTBL2G",80,0)
 I ICDOR["1" D CMS516
"RTN","ICDTBL2G",81,0)
 Q
"RTN","ICDTBL2G",82,0)
DRG238 S ICDRG=$S(ICDMCC=2:237,1:238) Q
"RTN","ICDTBL2G",83,0)
DRG239 ;239-241
"RTN","ICDTBL2G",84,0)
DRG240 ;
"RTN","ICDTBL2G",85,0)
DRG241 S ICDRG=$S($D(ICDJJ(241)):241,1:ICDRG)
"RTN","ICDTBL2G",86,0)
 I ICDRG=241 S ICDRG=$S(ICDMCC=2:239,ICDMCC=1:240,1:241)
"RTN","ICDTBL2G",87,0)
 Q
"RTN","ICDTBL2G",88,0)
DRG242 ; called from CMS115
"RTN","ICDTBL2G",89,0)
 D MCV
"RTN","ICDTBL2G",90,0)
 I ICDMCV!(ICDMCV1) D
"RTN","ICDTBL2G",91,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244)
"RTN","ICDTBL2G",92,0)
 Q
"RTN","ICDTBL2G",93,0)
DRG243 D CMS115 Q
"RTN","ICDTBL2G",94,0)
DRG244 D CMS115 Q
"RTN","ICDTBL2G",95,0)
DRG245 I $D(ICDOP(" 37.95"))!($D(ICDOP(" 37.97")))!($D(ICDOP(" 00.52"))) D DRG265 Q
"RTN","ICDTBL2G",96,0)
 E  S ICDRG=245 Q
"RTN","ICDTBL2G",97,0)
DRG246 ;
"RTN","ICDTBL2G",98,0)
 D MCV
"RTN","ICDTBL2G",99,0)
 I ICDMCV!ICDMCV1 S ICDRG=246
"RTN","ICDTBL2G",100,0)
 E  S ICDRG=247
"RTN","ICDTBL2G",101,0)
 S ICDRG=$S(ICDMCC=2:246,1:247) D  Q
"RTN","ICDTBL2G",102,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=246
"RTN","ICDTBL2G",103,0)
 . I $D(ICDOP(" 36.07")),$D(ICDOP(" 00.43")) S ICDRG=246
"RTN","ICDTBL2G",104,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=246
"RTN","ICDTBL2G",105,0)
 . I $D(ICDOP(" 36.07")),$D(ICDOP(" 00.48")) S ICDRG=246
"RTN","ICDTBL2G",106,0)
 Q
"RTN","ICDTBL2G",107,0)
DRG247 D CMS516 Q
"RTN","ICDTBL2G",108,0)
DRG248 ;Called from CMS516
"RTN","ICDTBL2G",109,0)
 D MCV
"RTN","ICDTBL2G",110,0)
 I ICDMCV!(ICDMCV1) S ICDRG=248
"RTN","ICDTBL2G",111,0)
 S ICDRG=$S(ICDMCC=2:248,1:249) D  Q
"RTN","ICDTBL2G",112,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2G",113,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2G",114,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2G",115,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2G",116,0)
 Q
"RTN","ICDTBL2G",117,0)
DRG249 ;Called from CMS516
"RTN","ICDTBL2G",118,0)
 D MCV
"RTN","ICDTBL2G",119,0)
 I 'ICDMCV&('ICDMCV1) S ICDRG=249
"RTN","ICDTBL2G",120,0)
 S ICDRG=$S(ICDMCC=2:248,1:249) D  Q
"RTN","ICDTBL2G",121,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2G",122,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2G",123,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2G",124,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2G",125,0)
 Q
"RTN","ICDTBL2G",126,0)
DRG250 ;
"RTN","ICDTBL2G",127,0)
DRG251 S ICDRG=$S(ICDMCC=2:250,1:251) Q
"RTN","ICDTBL2G",128,0)
DRG252 ;
"RTN","ICDTBL2G",129,0)
DRG253 ;
"RTN","ICDTBL2G",130,0)
DRG254 S ICDRG=$S(ICDMCC=2:252,ICDMCC=1:253,1:254) Q
"RTN","ICDTBL2G",131,0)
DRG255 ;
"RTN","ICDTBL2G",132,0)
DRG256 ;
"RTN","ICDTBL2G",133,0)
DRG257 S ICDRG=$S(ICDMCC=2:255,ICDMCC=1:256,1:257) Q
"RTN","ICDTBL2G",134,0)
DRG258 ;I ICDOR["p" 
"RTN","ICDTBL2G",135,0)
DRG259 D CMS115 I "242^243^244^291^292^293"[ICDRG Q
"RTN","ICDTBL2G",136,0)
 S ICDRG=$S(ICDMCC=2:258,1:259) Q
"RTN","ICDTBL2G",137,0)
DRG260 ;
"RTN","ICDTBL2G",138,0)
 D CMS115 I "242^243^244^291^292^293"[ICDRG Q
"RTN","ICDTBL2G",139,0)
 D DRG258 I $D(ICDOP(" 00.56")) S ICDRG=264 Q
"RTN","ICDTBL2G",140,0)
 I ICDOR["p" S ICDRG=$S(ICDMCC=2:260,ICDMCC=1:261,1:262)
"RTN","ICDTBL2G",141,0)
 Q
"RTN","ICDTBL2G",142,0)
DRG261 D DRG260 Q
"RTN","ICDTBL2G",143,0)
DRG262 D DRG260 Q
"RTN","ICDTBL2G",144,0)
DRG263 S ICDRG=263 Q
"RTN","ICDTBL2G",145,0)
DRG264 S ICDRG=264 Q
"RTN","ICDTBL2G",146,0)
DRG265 S ICDRG=265 Q
"RTN","ICDTBL2G",147,0)
DRG266 ;
"RTN","ICDTBL2G",148,0)
DRG267 S ICDRG=$S(ICDMCC=2:266,1:267) Q
"RTN","ICDTBL2G",149,0)
DRG280 ;
"RTN","ICDTBL2G",150,0)
DRG281 ;
"RTN","ICDTBL2G",151,0)
DRG282 I ICDPD="" S ICDRG=282
"RTN","ICDTBL2G",152,0)
 I ICDDX(1)=13639,$D(ICDDXT("410.71")),$D(ICDDXT("428.0")),ICDMCC=2 S ICDMCC=0
"RTN","ICDTBL2G",153,0)
 I ICDDX(1)=9061,$D(ICDDXT("491.21"))&$D(ICDDXT("410.71")) S ICDMCC=1
"RTN","ICDTBL2G",154,0)
 I ICDPD["I"&(ICDSD'["I") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2G",155,0)
 I ICDPD["I"&(ICDSD'["c") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2G",156,0)
 I ICDPD["I"&(ICDSD'["S") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2G",157,0)
 I ICDPD["c"&(ICDSD'["I") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2G",158,0)
 I ICDPD["c"&(ICDSD'["c") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2G",159,0)
 I ICDPD["c"&(ICDSD'["S") S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2G",160,0)
 I $G(ICDDX(1))=2477!(ICDPD["HJV")&(ICDSD["AI"),ICDMCC=2 S ICDRG=281 Q
"RTN","ICDTBL2G",161,0)
 S ICDRG=$S(ICDMCC=2&(ICDSD["H"):280,ICDMCC=1&(ICDSD["H"):281,1:282) Q
"RTN","ICDTBL2G",162,0)
DRG283 ;
"RTN","ICDTBL2G",163,0)
DRG284 ;
"RTN","ICDTBL2G",164,0)
DRG285 ;
"RTN","ICDTBL2G",165,0)
 I $D(ICDDXT("427.41"))&$D(ICDDXT("427.5")) S ICDMCC=1
"RTN","ICDTBL2G",166,0)
 S ICDRG=$S(ICDMCC=2:283,ICDMCC=1:284,1:285) Q
"RTN","ICDTBL2G",167,0)
DRG286 ;
"RTN","ICDTBL2G",168,0)
DRG287 I ICDMAJ'=""&(ICDMAJ'["A") D DRG982^ICDTBL9G Q
"RTN","ICDTBL2G",169,0)
 I '$D(ICDOP(" 37.21"))!('$D(ICDOP(" 37.22")))!('$D(ICDOP(" 37.23")))!('$D(ICDOP(" 88.52")))!('$D(ICDOP(" 88.53"))) S ICDOPFLG=1
"RTN","ICDTBL2G",170,0)
 I '$D(ICDOP(" 88.54"))!('$D(ICDOP(" 88.55")))!('$D(ICDOP(" 88.56")))!('$D(ICDOP(" 88.57")))!('$D(ICDOP(" 88.58"))) S ICDOPFLG=1
"RTN","ICDTBL2G",171,0)
 I ICDPDRG["291^292^",$G(ICDOPFLG)=1 D DRG293^ICDTBL2G Q
"RTN","ICDTBL2G",172,0)
 I ICDPDRG["308^309^310^",$G(ICDOPFLG)=1 D DRG310^ICDTBL3G Q
"RTN","ICDTBL2G",173,0)
 S ICDRG=$S(ICDMCC=2:286,1:287) Q
"RTN","ICDTBL2G",174,0)
DRG288 ;
"RTN","ICDTBL2G",175,0)
DRG289 ;
"RTN","ICDTBL2G",176,0)
DRG290 S ICDRG=$S(ICDMCC=2:288,ICDMCC=1:289,1:290) Q
"RTN","ICDTBL2G",177,0)
DRG291 ;
"RTN","ICDTBL2G",178,0)
DRG292 ;
"RTN","ICDTBL2G",179,0)
DRG293 I ICDOR["K" D DRG252 Q
"RTN","ICDTBL2G",180,0)
 I ICDOR["P" D DRG260 Q
"RTN","ICDTBL2G",181,0)
 I (ICDDX(1)=5458!$D(ICDDXT("785.51"))),'ICDEXP S ICDMCC=2
"RTN","ICDTBL2G",182,0)
 I (ICDDX(1)=2480&$D(ICDDXT("428.33"))) S ICDMCC=1
"RTN","ICDTBL2G",183,0)
 S ICDRG=$S(ICDMCC=2:291,ICDMCC=1:292,1:293) Q
"RTN","ICDTBL2G",184,0)
DRG294 ;
"RTN","ICDTBL2G",185,0)
DRG295 S ICDRG=$S(ICDMCC>0:294,1:295) Q
"RTN","ICDTBL2G",186,0)
DRG296 ;
"RTN","ICDTBL2G",187,0)
DRG297 ;
"RTN","ICDTBL2G",188,0)
DRG298 I (ICDDX(1)=2561!$D(ICDDXT(" 427.5"))),'ICDEXP S ICDMCC=2
"RTN","ICDTBL2G",189,0)
 S ICDRG=$S(ICDMCC=2:296,ICDMCC=1:297,1:298) Q
"RTN","ICDTBL2G",190,0)
DRG299 S ICDRG=$S(ICDMCC=2:299,ICDMCC=1:300,1:301) Q
"RTN","ICDTBL2G",191,0)
 Q
"RTN","ICDTBL2G",192,0)
CMS115 ;convert DRG115^ICDTBL2D code - no MS-DRG 115 existed
"RTN","ICDTBL2G",193,0)
 D EN1^ICDDRG5
"RTN","ICDTBL2G",194,0)
 I ICDOR[7,ICDCC2=0,ICDCC3=0 S ICDRG=$S(ICDMCC=2:260,ICDMCC=1:261,1:262) Q
"RTN","ICDTBL2G",195,0)
 I ICDPD'["I"&(ICDOR'["p")&(ICDCC2=0)&(ICDCC3=0) D  Q
"RTN","ICDTBL2G",196,0)
 .I ICDSD["Z",ICDPDRG["^291^292^293" S ICDMCC=0
"RTN","ICDTBL2G",197,0)
 .S ICDRG=$S(ICDMCC=2:291,ICDMCC=1:292,1:293)
"RTN","ICDTBL2G",198,0)
 I ICDCC2=1!(ICDCC3=1) D DRG242
"RTN","ICDTBL2G",199,0)
 I ((ICDRG>241)&(ICDRG<245)) Q
"RTN","ICDTBL2G",200,0)
 ; ICDCC2 identifies AICD LEAD OR GNRTR
"RTN","ICDTBL2G",201,0)
 I ICDCC2=1!(ICDCC3=1) D  Q
"RTN","ICDTBL2G",202,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244) Q
"RTN","ICDTBL2G",203,0)
  I ICDOR["p" D  Q
"RTN","ICDTBL2G",204,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244) Q
"RTN","ICDTBL2G",205,0)
 Q
"RTN","ICDTBL2G",206,0)
CMS516 ;convert DRG516^ICDTBL6D code - no MS-DRG 516 exists
"RTN","ICDTBL2G",207,0)
 I $D(ICDOP(" 37.72")),$D(ICDOP(" 37.83")),"242^243^244"[ICDRG Q
"RTN","ICDTBL2G",208,0)
 S ICDRG=250
"RTN","ICDTBL2G",209,0)
 I '$D(ICDOP(" 36.06"))&'$D(ICDOP(" 92.27"))&'$D(ICDOP(" 36.07")) D DRG251
"RTN","ICDTBL2G",210,0)
 E  D DRG248
"RTN","ICDTBL2G",211,0)
 ;I $D(ICDOP(" 36.06"))!$D(ICDOP(" 92.27")) D DRG249
"RTN","ICDTBL2G",212,0)
 I $D(ICDOP(" 36.07")) D DRG246
"RTN","ICDTBL2G",213,0)
 Q
"RTN","ICDTBL2G",214,0)
MCV ; checks to see if case qualifies as an MCV (major cardiovascular complications or complex conditions)
"RTN","ICDTBL2G",215,0)
 S (ICDMCV,ICDMCV1,ICDMCV2)=0
"RTN","ICDTBL2G",216,0)
 ; ICDPD=identifier for prime dx  ICDSD=identifier for any secondary dx
"RTN","ICDTBL2G",217,0)
 ; DGDX(1)=prime dx  ICDDX(1)=ien of prime dx ICDDXT=any secondary dx  
"RTN","ICDTBL2G",218,0)
 I ICDPD["c"!(ICDSD["c") S ICDMCV=1
"RTN","ICDTBL2G",219,0)
 I ICDSD["s" S ICDMCV=1
"RTN","ICDTBL2G",220,0)
 ;I DGDX(1)["426.0"!(DGDX(1)["426.53")!(DGDX(1)["426.54") S ICDMCV1=1
"RTN","ICDTBL2G",221,0)
 I $G(ICDDX(1))=9056!($G(ICDDX(1))=2548)!($G(ICDDX(1))=2549) S ICDMCV1=1
"RTN","ICDTBL2G",222,0)
 I $D(ICDDXT("426.0"))!($D(ICDDXT("426.53")))!($D(ICDDXT("426.54"))) S ICDMCV1=1
"RTN","ICDTBL2G",223,0)
 ;I DGDX(1)["411.1"!(DGDX(1)["411.81") S ICDMCV2=1
"RTN","ICDTBL2G",224,0)
 I $G(ICDDX(1))=2500!($G(ICDDX(1))=12477) S ICDMCV2=1
"RTN","ICDTBL2G",225,0)
 I $D(ICDDXT("411.1"))!($D(ICDDXT("411.81"))) S ICDMCV2=1
"RTN","ICDTBL2G",226,0)
 Q
"RTN","ICDTBL4G")
0^11^B30232913^B29278562
"RTN","ICDTBL4G",1,0)
ICDTBL4G ;ALB/JDG - GROUPER UTILITY FUNCTIONS;08/09/2010
"RTN","ICDTBL4G",2,0)
 ;;18.0;DRG Grouper;**77,79**;Oct 20, 2000;Build 6
"RTN","ICDTBL4G",3,0)
DRG405 ;
"RTN","ICDTBL4G",4,0)
DRG406 ;
"RTN","ICDTBL4G",5,0)
DRG407 S ICDRG=$S(ICDMCC=2:405,ICDMCC=1:406,1:407) Q
"RTN","ICDTBL4G",6,0)
DRG408 ;
"RTN","ICDTBL4G",7,0)
 ;I ICDOR["E"!(ICDOR["T") I $D(ICDOP(" 51.21"))!$D(ICDOP(" 51.22"))!$D(ICDOP(" 51.23"))!$D(ICDOP(" 51.24")) S ICDRG=$S(ICDMCC=2:411,ICDMCC=1:412,1:413) Q
"RTN","ICDTBL4G",8,0)
 I $D(ICDOP(" 51.41")) I $D(ICDOP(" 51.21"))!$D(ICDOP(" 51.22"))!$D(ICDOP(" 51.23"))!$D(ICDOP(" 51.24")) S ICDRG=$S(ICDMCC=2:411,ICDMCC=1:412,1:413) Q
"RTN","ICDTBL4G",9,0)
 I $D(ICDOP(" 51.42")) I $D(ICDOP(" 51.21"))!$D(ICDOP(" 51.22"))!$D(ICDOP(" 51.23"))!$D(ICDOP(" 51.24")) S ICDRG=$S(ICDMCC=2:411,ICDMCC=1:412,1:413) Q
"RTN","ICDTBL4G",10,0)
 I $D(ICDOP(" 51.51")) I $D(ICDOP(" 51.21"))!$D(ICDOP(" 51.22"))!$D(ICDOP(" 51.23"))!$D(ICDOP(" 51.24")) S ICDRG=$S(ICDMCC=2:411,ICDMCC=1:412,1:413) Q
"RTN","ICDTBL4G",11,0)
 I ICDOR["3" S ICDRG=$S(ICDMCC=2:408,ICDMCC=1:409,1:410) Q
"RTN","ICDTBL4G",12,0)
 I $D(ICDOP(" 51.21"))!$D(ICDOP(" 51.22")) S ICDRG=$S(ICDMCC=2:414,ICDMCC=1:415,1:416) Q
"RTN","ICDTBL4G",13,0)
 I $D(ICDOP(" 51.23"))!$D(ICDOP(" 51.24")) S ICDRG=$S(ICDMCC=2:417,ICDMCC=1:418,1:419) Q
"RTN","ICDTBL4G",14,0)
 I ICDOR["h" S ICDRG=$S(ICDMCC=2:420,ICDMCC=1:421,1:422) Q
"RTN","ICDTBL4G",15,0)
 I ICDPD["M"&(ICDOR'["h") S ICDRG=$S(ICDMCC=2:435,ICDMCC=1:436,1:437) Q
"RTN","ICDTBL4G",16,0)
 I ICDSD'="" S ICDRG=$S(ICDMCC=2:438,ICDMCC=1:439,1:440) Q
"RTN","ICDTBL4G",17,0)
 I ICDOR["O" S ICDRG=$S(ICDMCC=2:438,ICDMCC=1:439,1:440) Q
"RTN","ICDTBL4G",18,0)
 S ICDRG=$S(ICDMCC=2:438,ICDMCC=1:439,1:440) Q
"RTN","ICDTBL4G",19,0)
 ;S ICDRG=$S(ICDMCC=2&(ICDOR["O"):438,ICDMCC=1&(ICDOR["O"):439,1:440) Q
"RTN","ICDTBL4G",20,0)
 Q
"RTN","ICDTBL4G",21,0)
DRG409 ;
"RTN","ICDTBL4G",22,0)
DRG410 D DRG408 Q
"RTN","ICDTBL4G",23,0)
DRG411 ;
"RTN","ICDTBL4G",24,0)
DRG412 ;
"RTN","ICDTBL4G",25,0)
DRG413 D DRG408 Q
"RTN","ICDTBL4G",26,0)
DRG414 ;
"RTN","ICDTBL4G",27,0)
DRG415 ;
"RTN","ICDTBL4G",28,0)
DRG416 D DRG408 Q
"RTN","ICDTBL4G",29,0)
DRG417 ;
"RTN","ICDTBL4G",30,0)
DRG418 ;
"RTN","ICDTBL4G",31,0)
DRG419 D DRG408 Q
"RTN","ICDTBL4G",32,0)
DRG420 ;
"RTN","ICDTBL4G",33,0)
DRG421 ;
"RTN","ICDTBL4G",34,0)
DRG422 D DRG408 Q
"RTN","ICDTBL4G",35,0)
DRG423 ;
"RTN","ICDTBL4G",36,0)
DRG424 ;
"RTN","ICDTBL4G",37,0)
DRG425 S ICDRG=$S(ICDMCC=2:423,ICDMCC=1:424,1:425) Q
"RTN","ICDTBL4G",38,0)
DRG432 ;
"RTN","ICDTBL4G",39,0)
DRG433 ;
"RTN","ICDTBL4G",40,0)
DRG434 S ICDRG=$S(ICDMCC=2:432,ICDMCC=1:433,1:434) Q
"RTN","ICDTBL4G",41,0)
DRG435 ;
"RTN","ICDTBL4G",42,0)
DRG436 ;
"RTN","ICDTBL4G",43,0)
DRG437 D DRG408 Q
"RTN","ICDTBL4G",44,0)
DRG438 ;
"RTN","ICDTBL4G",45,0)
DRG439 ;
"RTN","ICDTBL4G",46,0)
DRG440 D DRG408 Q
"RTN","ICDTBL4G",47,0)
DRG441 ;
"RTN","ICDTBL4G",48,0)
DRG442 ;
"RTN","ICDTBL4G",49,0)
DRG443 S ICDRG=$S(ICDMCC=2:441,ICDMCC=1:442,1:443) Q
"RTN","ICDTBL4G",50,0)
DRG444 ;
"RTN","ICDTBL4G",51,0)
DRG445 ;
"RTN","ICDTBL4G",52,0)
DRG446 S ICDRG=$S(ICDMCC=2:444,ICDMCC=1:445,1:446) Q
"RTN","ICDTBL4G",53,0)
DRG453 ;
"RTN","ICDTBL4G",54,0)
DRG454 ;
"RTN","ICDTBL4G",55,0)
DRG455 ;
"RTN","ICDTBL4G",56,0)
 N CNTA,CNTP S CNTA=0,CNTP=0
"RTN","ICDTBL4G",57,0)
 I $D(ICDOP(" 81.02")) S CNTA=1
"RTN","ICDTBL4G",58,0)
 I $D(ICDOP(" 81.04")) S CNTA=1
"RTN","ICDTBL4G",59,0)
 I $D(ICDOP(" 81.06")) S CNTA=1
"RTN","ICDTBL4G",60,0)
 I $D(ICDOP(" 81.32")) S CNTA=1
"RTN","ICDTBL4G",61,0)
 I $D(ICDOP(" 81.36")) S CNTA=1
"RTN","ICDTBL4G",62,0)
 I $D(ICDOP(" 81.03")) S CNTP=1
"RTN","ICDTBL4G",63,0)
 I $D(ICDOP(" 81.05")) S CNTP=1
"RTN","ICDTBL4G",64,0)
 I $D(ICDOP(" 81.07")) S CNTP=1
"RTN","ICDTBL4G",65,0)
 I $D(ICDOP(" 81.08")) S CNTP=1
"RTN","ICDTBL4G",66,0)
 I $D(ICDOP(" 81.33")) S CNTP=1
"RTN","ICDTBL4G",67,0)
 I $D(ICDOP(" 81.35")) S CNTP=1
"RTN","ICDTBL4G",68,0)
 I $D(ICDOP(" 81.37")) S CNTP=1
"RTN","ICDTBL4G",69,0)
 I $D(ICDOP(" 81.38")) S CNTP=1
"RTN","ICDTBL4G",70,0)
 I CNTA=1,CNTP=1 D
"RTN","ICDTBL4G",71,0)
 . S ICDRG=$S(ICDMCC=2:453,ICDMCC=1:454,1:455) Q
"RTN","ICDTBL4G",72,0)
 E  S ICDRG=""
"RTN","ICDTBL4G",73,0)
 Q
"RTN","ICDTBL4G",74,0)
DRG456 ;
"RTN","ICDTBL4G",75,0)
DRG457 ;
"RTN","ICDTBL4G",76,0)
DRG458 ;
"RTN","ICDTBL4G",77,0)
 I ICDOR="" D DRG541^ICDTBL5F Q
"RTN","ICDTBL4G",78,0)
 I ICDPD["k" D DRG541^ICDTBL5F Q
"RTN","ICDTBL4G",79,0)
 I ICDPD["6",$D(ICDOP(" 81.64")) S ICDRG=$S(ICDMCC=2:456,ICDMCC=1:457,1:458) Q
"RTN","ICDTBL4G",80,0)
 I ICDSD["6",$D(ICDOP(" 81.64")) S ICDRG=$S(ICDMCC=2:456,ICDMCC=1:457,1:458) Q
"RTN","ICDTBL4G",81,0)
 I ICDPD["6" S ICDRG=$S(ICDMCC=2:456,ICDMCC=1:457,1:458) Q
"RTN","ICDTBL4G",82,0)
DRG459 ;
"RTN","ICDTBL4G",83,0)
DRG460 S ICDRG=$S(ICDMCC=2:459,1:460) Q
"RTN","ICDTBL4G",84,0)
DRG461 ;
"RTN","ICDTBL4G",85,0)
DRG462 ;
"RTN","ICDTBL4G",86,0)
 N ICDCT S ICDCT=""
"RTN","ICDTBL4G",87,0)
 N CNT S CNT=0
"RTN","ICDTBL4G",88,0)
 F  S ICDCT=$O(ICDSURG(ICDCT)) Q:ICDCT=""  D
"RTN","ICDTBL4G",89,0)
 .I $P(ICDSURG(ICDCT),"^")="00.70"!($P(ICDSURG(ICDCT),"^")["00.70") S CNT=CNT+1 Q
"RTN","ICDTBL4G",90,0)
 .I $P(ICDSURG(ICDCT),"^")="00.80"!($P(ICDSURG(ICDCT),"^")["00.80") S CNT=CNT+1 Q
"RTN","ICDTBL4G",91,0)
 .I $P(ICDSURG(ICDCT),"^")="00.85"!($P(ICDSURG(ICDCT),"^")["00.85") S CNT=CNT+1 Q
"RTN","ICDTBL4G",92,0)
 .I $P(ICDSURG(ICDCT),"^")="00.86"!($P(ICDSURG(ICDCT),"^")["00.86") S CNT=CNT+1 Q
"RTN","ICDTBL4G",93,0)
 .I $P(ICDSURG(ICDCT),"^")="00.87"!($P(ICDSURG(ICDCT),"^")["00.87") S CNT=CNT+1 Q
"RTN","ICDTBL4G",94,0)
 .I $P(ICDSURG(ICDCT),"^")="81.51"!($P(ICDSURG(ICDCT),"^")["81.51") S CNT=CNT+1 Q
"RTN","ICDTBL4G",95,0)
 .I $P(ICDSURG(ICDCT),"^")="81.52"!($P(ICDSURG(ICDCT),"^")["81.52") S CNT=CNT+1 Q
"RTN","ICDTBL4G",96,0)
 .I $P(ICDSURG(ICDCT),"^")="81.54"!($P(ICDSURG(ICDCT),"^")["81.54") S CNT=CNT+1 Q
"RTN","ICDTBL4G",97,0)
 .I $P(ICDSURG(ICDCT),"^")="81.56"!($P(ICDSURG(ICDCT),"^")["81.56") S CNT=CNT+1 Q
"RTN","ICDTBL4G",98,0)
 I CNT>1 S ICDRG=$S(ICDMCC=2:461,1:462) Q
"RTN","ICDTBL4G",99,0)
 I $D(ICDOP(" 00.70"))!$D(ICDOP(" 00.80")) D DRG466 Q
"RTN","ICDTBL4G",100,0)
 E  D DRG469 Q
"RTN","ICDTBL4G",101,0)
DRG463 ;
"RTN","ICDTBL4G",102,0)
DRG464 ;
"RTN","ICDTBL4G",103,0)
DRG465 S ICDRG=$S(ICDMCC=2:463,ICDMCC=1:464,1:465) Q
"RTN","ICDTBL4G",104,0)
DRG466 ;
"RTN","ICDTBL4G",105,0)
DRG467 ;
"RTN","ICDTBL4G",106,0)
DRG468 S ICDRG=$S(ICDMCC=2:466,ICDMCC=1:467,1:468) Q
"RTN","ICDTBL4G",107,0)
DRG469 ;
"RTN","ICDTBL4G",108,0)
DRG470 I ICDEXP=1 S ICDMCC=1
"RTN","ICDTBL4G",109,0)
       S ICDRG=$S(ICDMCC=2:469,1:470) Q
"RTN","ICDTBL4G",110,0)
DRG471 ;
"RTN","ICDTBL4G",111,0)
DRG472 ;
"RTN","ICDTBL4G",112,0)
DRG473 S ICDRG=$S(ICDMCC=2:471,ICDMCC=1:472,1:473) Q
"RTN","ICDTBL4G",113,0)
DRG474 ;
"RTN","ICDTBL4G",114,0)
DRG475 ;
"RTN","ICDTBL4G",115,0)
DRG476 S ICDRG=$S(ICDMCC=2:474,ICDMCC=1:475,1:476) Q
"RTN","ICDTBL4G",116,0)
DRG477 ;
"RTN","ICDTBL4G",117,0)
DRG478 ;
"RTN","ICDTBL4G",118,0)
DRG479 S ICDRG=$S(ICDMCC=2:477,ICDMCC=1:478,1:479) Q
"RTN","ICDTBL4G",119,0)
DRG480 ;
"RTN","ICDTBL4G",120,0)
DRG481 ;
"RTN","ICDTBL4G",121,0)
DRG482 S ICDRG=$S(ICDMCC=2:480,ICDMCC=1:481,1:482) Q
"RTN","ICDTBL4G",122,0)
DRG483 S ICDRG=483 Q
"RTN","ICDTBL4G",123,0)
DRG485 ;
"RTN","ICDTBL4G",124,0)
DRG486 ;
"RTN","ICDTBL4G",125,0)
DRG487 I ICDPD["k" S ICDRG=$S(ICDMCC=2:485,ICDMCC=1:486,1:487) Q
"RTN","ICDTBL4G",126,0)
 E  S ICDRG=""
"RTN","ICDTBL4G",127,0)
DRG488 ;
"RTN","ICDTBL4G",128,0)
DRG489 S ICDRG=$S(ICDMCC>0:488,1:489) Q
"RTN","ICDTBL4G",129,0)
 ;DRG490 ; removed for FY2015 
"RTN","ICDTBL4G",130,0)
 ;DRG491 ; removed for FY2015
"RTN","ICDTBL4G",131,0)
 ;I ICDPD["6" D
"RTN","ICDTBL4G",132,0)
 ;.N ICDXFLG
"RTN","ICDTBL4G",133,0)
 ;.S ICDXFLG=0
"RTN","ICDTBL4G",134,0)
 ;.I '$D(ICDOP(" 03.02"))!('$D(ICDOP(" 03.09"))) S ICDXFLG=1
"RTN","ICDTBL4G",135,0)
 ;.I '$D(ICDOP(" 03.1")) S ICDXFLG=1
"RTN","ICDTBL4G",136,0)
 ;.I '$D(ICDOP(" 03.32"))!('$D(ICDOP(" 03.39"))) S ICDXFLG=1
"RTN","ICDTBL4G",137,0)
 ;.I '$D(ICDOP(" 03.4")) S ICDXFLG=1
"RTN","ICDTBL4G",138,0)
 ;.I '$D(ICDOP(" 03.53"))!('$D(ICDOP(" 03.59"))) S ICDXFLG=1
"RTN","ICDTBL4G",139,0)
 ;.I '$D(ICDOP(" 03.6")) S ICDXFLG=1
"RTN","ICDTBL4G",140,0)
 ;.I '$D(ICDOP(" 03.93"))!('$D(ICDOP(" 03.94"))) S ICDXFLG=1
"RTN","ICDTBL4G",141,0)
 ;.I '$D(ICDOP(" 03.97"))!('$D(ICDOP(" 03.98")))!('$D(ICDOP(" 03.99"))) S ICDXFLG=1
"RTN","ICDTBL4G",142,0)
 ;.I '$D(ICDOP(" 80.50"))!('$D(ICDOP(" 80.53")))!('$D(ICDOP(" 80.54")))!('$D(ICDOP(" 80.59"))) S ICDXFLG=1
"RTN","ICDTBL4G",143,0)
 ;.I '$D(ICDOP(" 84.59")) S ICDXFLG=1
"RTN","ICDTBL4G",144,0)
 ;.I '$D(ICDOP(" 84.60"))!('$D(ICDOP(" 84.61")))!('$D(ICDOP(" 84.62")))!('$D(ICDOP(" 84.63")))!('$D(ICDOP(" 84.64"))) S ICDXFLG=1
"RTN","ICDTBL4G",145,0)
 ;.I '$D(ICDOP(" 84.65"))!('$D(ICDOP(" 84.66")))!('$D(ICDOP(" 84.67")))!('$D(ICDOP(" 84.68")))!('$D(ICDOP(" 84.69"))) S ICDXFLG=1
"RTN","ICDTBL4G",146,0)
 ;.I '$D(ICDOP(" 84.80"))!('$D(ICDOP(" 84.82")))!('$D(ICDOP(" 84.84"))) S ICDXFLG=1
"RTN","ICDTBL4G",147,0)
 ;I $G(ICDXFLG)=0 D DRG456 Q
"RTN","ICDTBL4G",148,0)
 ;I ICDOR["F" D DRG456 Q
"RTN","ICDTBL4G",149,0)
 ;S ICDRG=$S(ICDMCC>0:490,1:491) D  Q
"RTN","ICDTBL4G",150,0)
 ;. I $D(ICDOP(" 84.59")) S ICDRG=490
"RTN","ICDTBL4G",151,0)
 ;. I $D(ICDOP(" 84.62")) S ICDRG=490
"RTN","ICDTBL4G",152,0)
 ;. I $D(ICDOP(" 84.65")) S ICDRG=490
"RTN","ICDTBL4G",153,0)
 ;. I $D(ICDOP(" 84.80")) S ICDRG=490
"RTN","ICDTBL4G",154,0)
 ;. I $D(ICDOP(" 84.82")) S ICDRG=490
"RTN","ICDTBL4G",155,0)
 ;. I $D(ICDOP(" 84.84")) S ICDRG=490
"RTN","ICDTBL4G",156,0)
 ;. I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.94")) S ICDRG=490
"RTN","ICDTBL4G",157,0)
 ;. I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.95")) S ICDRG=490
"RTN","ICDTBL4G",158,0)
 ;. I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.97")) S ICDRG=490
"RTN","ICDTBL4G",159,0)
 ;. I $D(ICDOP(" 03.93")),$D(ICDOP(" 86.98")) S ICDRG=490
"RTN","ICDTBL4G",160,0)
DRG492 ;
"RTN","ICDTBL4G",161,0)
DRG493 ;
"RTN","ICDTBL4G",162,0)
DRG494 S ICDRG=$S(ICDMCC=2:492,ICDMCC=1:493,1:494) Q
"RTN","ICDTBL4G",163,0)
DRG495 ;
"RTN","ICDTBL4G",164,0)
DRG496 ;
"RTN","ICDTBL4G",165,0)
DRG497 N ICDOPRFLG
"RTN","ICDTBL4G",166,0)
 S ICDOPRFLG=0
"RTN","ICDTBL4G",167,0)
 I $D(ICDOP(" 80.05")) S ICDOPRFLG=1
"RTN","ICDTBL4G",168,0)
 I $D(ICDOP(" 80.06")) S ICDOPRFLG=1
"RTN","ICDTBL4G",169,0)
 I $D(ICDOP(" 86.22")) S ICDOPRFLG=1
"RTN","ICDTBL4G",170,0)
 I $D(ICDOP(" 86.60")) S ICDOPRFLG=1
"RTN","ICDTBL4G",171,0)
 I $D(ICDOP(" 86.63")) S ICDOPRFLG=1
"RTN","ICDTBL4G",172,0)
 I $D(ICDOP(" 86.65")) S ICDOPRFLG=1
"RTN","ICDTBL4G",173,0)
 I $D(ICDOP(" 86.66")) S ICDOPRFLG=1
"RTN","ICDTBL4G",174,0)
 I $D(ICDOP(" 86.67")) S ICDOPRFLG=1
"RTN","ICDTBL4G",175,0)
 I $D(ICDOP(" 86.69")) S ICDOPRFLG=1
"RTN","ICDTBL4G",176,0)
 I $D(ICDOP(" 86.70")) S ICDOPRFLG=1
"RTN","ICDTBL4G",177,0)
 I $D(ICDOP(" 86.71")) S ICDOPRFLG=1
"RTN","ICDTBL4G",178,0)
 I $D(ICDOP(" 86.72")) S ICDOPRFLG=1
"RTN","ICDTBL4G",179,0)
 I $D(ICDOP(" 86.74")) S ICDOPRFLG=1
"RTN","ICDTBL4G",180,0)
 I $D(ICDOP(" 86.75")) S ICDOPRFLG=1
"RTN","ICDTBL4G",181,0)
 I $D(ICDOP(" 86.93")) S ICDOPRFLG=1
"RTN","ICDTBL4G",182,0)
 I $G(ICDOPRFLG)=1 D DRG465 Q
"RTN","ICDTBL4G",183,0)
 S ICDRG=$S(ICDMCC=2:495,ICDMCC=1:496,1:497) Q
"RTN","ICDTBL4G",184,0)
DRG498 ;
"RTN","ICDTBL4G",185,0)
DRG499 S ICDRG=$S(ICDMCC>0:498,1:499) Q
"RTN","ICDTBL4G",186,0)
 Q
"VER")
8.0^22.0
"BLD",9700,6)
^75
**END**
**END**

