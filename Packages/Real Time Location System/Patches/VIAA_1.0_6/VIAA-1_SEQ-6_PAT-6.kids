Released VIAA*1*6 SEQ #6
Extracted from mail message
**KIDS**:VIAA*1.0*6^

**INSTALL NAME**
VIAA*1.0*6
"BLD",10641,0)
VIAA*1.0*6^REAL TIME LOCATION SYSTEM^0^3180222^y
"BLD",10641,1,0)
^^3^3^3180222^
"BLD",10641,1,1,0)
This patch addresses one issue about a syntactically incorrect error 
"BLD",10641,1,2,0)
occurring in the interface with the EQUIPMENT INV. FILE #6914 via the
"BLD",10641,1,3,0)
Decision Support System (DSS) GUI AbovePAR (APAR) system.
"BLD",10641,4,0)
^9.64PA^^
"BLD",10641,6.3)
1
"BLD",10641,"ABPKG")
n
"BLD",10641,"INID")
n^n^n
"BLD",10641,"KRN",0)
^9.67PA^779.2^20
"BLD",10641,"KRN",.4,0)
.4
"BLD",10641,"KRN",.401,0)
.401
"BLD",10641,"KRN",.402,0)
.402
"BLD",10641,"KRN",.403,0)
.403
"BLD",10641,"KRN",.5,0)
.5
"BLD",10641,"KRN",.84,0)
.84
"BLD",10641,"KRN",3.6,0)
3.6
"BLD",10641,"KRN",3.8,0)
3.8
"BLD",10641,"KRN",9.2,0)
9.2
"BLD",10641,"KRN",9.8,0)
9.8
"BLD",10641,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",10641,"KRN",9.8,"NM",1,0)
VIAATRI^^0^B2514239
"BLD",10641,"KRN",9.8,"NM","B","VIAATRI",1)

"BLD",10641,"KRN",19,0)
19
"BLD",10641,"KRN",19.1,0)
19.1
"BLD",10641,"KRN",101,0)
101
"BLD",10641,"KRN",409.61,0)
409.61
"BLD",10641,"KRN",771,0)
771
"BLD",10641,"KRN",779.2,0)
779.2
"BLD",10641,"KRN",870,0)
870
"BLD",10641,"KRN",8989.51,0)
8989.51
"BLD",10641,"KRN",8989.52,0)
8989.52
"BLD",10641,"KRN",8994,0)
8994
"BLD",10641,"KRN","B",.4,.4)

"BLD",10641,"KRN","B",.401,.401)

"BLD",10641,"KRN","B",.402,.402)

"BLD",10641,"KRN","B",.403,.403)

"BLD",10641,"KRN","B",.5,.5)

"BLD",10641,"KRN","B",.84,.84)

"BLD",10641,"KRN","B",3.6,3.6)

"BLD",10641,"KRN","B",3.8,3.8)

"BLD",10641,"KRN","B",9.2,9.2)

"BLD",10641,"KRN","B",9.8,9.8)

"BLD",10641,"KRN","B",19,19)

"BLD",10641,"KRN","B",19.1,19.1)

"BLD",10641,"KRN","B",101,101)

"BLD",10641,"KRN","B",409.61,409.61)

"BLD",10641,"KRN","B",771,771)

"BLD",10641,"KRN","B",779.2,779.2)

"BLD",10641,"KRN","B",870,870)

"BLD",10641,"KRN","B",8989.51,8989.51)

"BLD",10641,"KRN","B",8989.52,8989.52)

"BLD",10641,"KRN","B",8994,8994)

"BLD",10641,"QDEF")
^^^^^^^^^^
"BLD",10641,"QUES",0)
^9.62^^
"BLD",10641,"REQB",0)
^9.611^1^1
"BLD",10641,"REQB",1,0)
VIAA*1.0*3^2
"BLD",10641,"REQB","B","VIAA*1.0*3",1)

"MBREQ")
0
"PKG",660,-1)
1^1
"PKG",660,0)
REAL TIME LOCATION SYSTEM^VIAA^REAL TIME LOCATION SYSTEM
"PKG",660,20,0)
^9.402P^^
"PKG",660,22,0)
^9.49I^1^1
"PKG",660,22,1,0)
1.0
"PKG",660,22,1,"PAH",1,0)
6^3180222
"PKG",660,22,1,"PAH",1,1,0)
^^3^3^3180222
"PKG",660,22,1,"PAH",1,1,1,0)
This patch addresses one issue about a syntactically incorrect error 
"PKG",660,22,1,"PAH",1,1,2,0)
occurring in the interface with the EQUIPMENT INV. FILE #6914 via the
"PKG",660,22,1,"PAH",1,1,3,0)
Decision Support System (DSS) GUI AbovePAR (APAR) system.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","VIAATRI")
0^1^B2514239^B2232416
"RTN","VIAATRI",1,0)
VIAATRI ;ALB/CR - RTLS Triggers General Utility ;5/4/16 10:06am
"RTN","VIAATRI",2,0)
 ;;1.0;RTLS;**3,6**;April 22, 2013;Build 1
"RTN","VIAATRI",3,0)
 ;
"RTN","VIAATRI",4,0)
 Q
"RTN","VIAATRI",5,0)
 ; Engineering call to this routine covered by IA #6069
"RTN","VIAATRI",6,0)
 ;
"RTN","VIAATRI",7,0)
 ; ------- collect record changes for RTLS -------
"RTN","VIAATRI",8,0)
 ; this tag is called from multiple fields in files #6914 and #6928
"RTN","VIAATRI",9,0)
 ; to capture data changes as they happen, a record ID is added in
"RTN","VIAATRI",10,0)
 ; file #6930 (PENDING RTLS EVENTS) for the queue process
"RTN","VIAATRI",11,0)
 ;
"RTN","VIAATRI",12,0)
 ; ============================================================
"RTN","VIAATRI",13,0)
WC(FILE,ENTRY) ; FILE = either #6914 or #6928, ENTRY = IEN of the record
"RTN","VIAATRI",14,0)
 ;
"RTN","VIAATRI",15,0)
 ; All the triggered fields in files #6914 and #6928 have been added
"RTN","VIAATRI",16,0)
 ; the 'NOREINDEX' flag to prevent flooding file #6930 if re-indexing
"RTN","VIAATRI",17,0)
 ; of any of the M X-Refs is attempted.
"RTN","VIAATRI",18,0)
 ;
"RTN","VIAATRI",19,0)
 I $G(FILE)=""!($G(ENTRY)="") Q
"RTN","VIAATRI",20,0)
 N DA,DATA,DIC,DO,D0,DLAYGO,IEN,FDA,MATCH,X,Y
"RTN","VIAATRI",21,0)
 N DEFSITE,SITE,SITEIEN,TMSTMP
"RTN","VIAATRI",22,0)
 ; don't store the same record multiple times
"RTN","VIAATRI",23,0)
 S MATCH=0
"RTN","VIAATRI",24,0)
 S IEN="" F  S IEN=$O(^VIAA(6930,IEN)) Q:IEN=""  D  Q:MATCH
"RTN","VIAATRI",25,0)
 . S DATA=$G(^VIAA(6930,IEN,0))
"RTN","VIAATRI",26,0)
 . I $P(DATA,U,2)=FILE,$P(DATA,U,3)=ENTRY S MATCH=1
"RTN","VIAATRI",27,0)
 I MATCH Q
"RTN","VIAATRI",28,0)
 ;
"RTN","VIAATRI",29,0)
 S TMSTMP=$$NOW^XLFDT
"RTN","VIAATRI",30,0)
 ; get station number for equipment or space
"RTN","VIAATRI",31,0)
 I FILE=6914!(FILE=6928) S SITE=$P($G(^DIC(6910,1,0)),U,2)
"RTN","VIAATRI",32,0)
 S DIC(0)="L",DLAYGO=6930,DIC="^VIAA(6930,",X=SITE
"RTN","VIAATRI",33,0)
 D FILE^DICN
"RTN","VIAATRI",34,0)
 Q:+Y<1  ;*6 don't run UPDATE^DIE if FILE^DICN failed.
"RTN","VIAATRI",35,0)
 ;  Refiring of the triggers allows process to complete, so file 6930 does get updated.
"RTN","VIAATRI",36,0)
 S DA=+Y
"RTN","VIAATRI",37,0)
 L +^VIAA(6930,DA):5 I '$T D EN^DDIOL("File is in use - try again later.","","!") Q
"RTN","VIAATRI",38,0)
 S FDA(6930,DA_",",1)=FILE
"RTN","VIAATRI",39,0)
 S FDA(6930,DA_",",2)=ENTRY
"RTN","VIAATRI",40,0)
 S FDA(6930,DA_",",3)=TMSTMP
"RTN","VIAATRI",41,0)
 D UPDATE^DIE(,"FDA")
"RTN","VIAATRI",42,0)
 L -^VIAA(6930,DA)
"RTN","VIAATRI",43,0)
 Q
"RTN","VIAATRI",44,0)
 ;
"RTN","VIAATRI",45,0)
 ; =============================================================
"RTN","VIAATRI",46,0)
DEL(COUNT) ; clean up file PENDING RTLS EVENTS after transmission to Mule
"RTN","VIAATRI",47,0)
 ; called from VIAAQUE after transmission of a record
"RTN","VIAATRI",48,0)
 N DA,DIK
"RTN","VIAATRI",49,0)
 S DIK="^VIAA(6930,"
"RTN","VIAATRI",50,0)
 S DA=COUNT D ^DIK
"RTN","VIAATRI",51,0)
 Q
"RTN","VIAATRI",52,0)
 ;
"VER")
8.0^22.2
"BLD",10641,6)
^6
**END**
**END**

