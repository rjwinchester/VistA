Released PXRM*2*66 SEQ #46
Extracted from mail message
**KIDS**:PXRM*2.0*66^

**INSTALL NAME**
PXRM*2.0*66
"BLD",9412,0)
PXRM*2.0*66^CLINICAL REMINDERS^0^3151124^y
"BLD",9412,1,0)
^^1^1^3151124^
"BLD",9412,1,1,0)
Selectable Immunizations
"BLD",9412,4,0)
^9.64PA^^0
"BLD",9412,6)
^43
"BLD",9412,6.3)
226
"BLD",9412,"ABPKG")
n
"BLD",9412,"INI")

"BLD",9412,"INIT")

"BLD",9412,"KRN",0)
^9.67PA^779.2^20
"BLD",9412,"KRN",.4,0)
.4
"BLD",9412,"KRN",.4,"NM",0)
^9.68A^^0
"BLD",9412,"KRN",.401,0)
.401
"BLD",9412,"KRN",.402,0)
.402
"BLD",9412,"KRN",.402,"NM",0)
^9.68A^^0
"BLD",9412,"KRN",.403,0)
.403
"BLD",9412,"KRN",.403,"NM",0)
^9.68A^^0
"BLD",9412,"KRN",.5,0)
.5
"BLD",9412,"KRN",.84,0)
.84
"BLD",9412,"KRN",3.6,0)
3.6
"BLD",9412,"KRN",3.8,0)
3.8
"BLD",9412,"KRN",9.2,0)
9.2
"BLD",9412,"KRN",9.8,0)
9.8
"BLD",9412,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",9412,"KRN",9.8,"NM",1,0)
PXRMDLG6^^0^B21880610
"BLD",9412,"KRN",9.8,"NM","B","PXRMDLG6",1)

"BLD",9412,"KRN",19,0)
19
"BLD",9412,"KRN",19,"NM",0)
^9.68A^^0
"BLD",9412,"KRN",19.1,0)
19.1
"BLD",9412,"KRN",101,0)
101
"BLD",9412,"KRN",101,"NM",0)
^9.68A^^0
"BLD",9412,"KRN",409.61,0)
409.61
"BLD",9412,"KRN",409.61,"NM",0)
^9.68A^^0
"BLD",9412,"KRN",771,0)
771
"BLD",9412,"KRN",779.2,0)
779.2
"BLD",9412,"KRN",870,0)
870
"BLD",9412,"KRN",8989.51,0)
8989.51
"BLD",9412,"KRN",8989.52,0)
8989.52
"BLD",9412,"KRN",8994,0)
8994
"BLD",9412,"KRN","B",.4,.4)

"BLD",9412,"KRN","B",.401,.401)

"BLD",9412,"KRN","B",.402,.402)

"BLD",9412,"KRN","B",.403,.403)

"BLD",9412,"KRN","B",.5,.5)

"BLD",9412,"KRN","B",.84,.84)

"BLD",9412,"KRN","B",3.6,3.6)

"BLD",9412,"KRN","B",3.8,3.8)

"BLD",9412,"KRN","B",9.2,9.2)

"BLD",9412,"KRN","B",9.8,9.8)

"BLD",9412,"KRN","B",19,19)

"BLD",9412,"KRN","B",19.1,19.1)

"BLD",9412,"KRN","B",101,101)

"BLD",9412,"KRN","B",409.61,409.61)

"BLD",9412,"KRN","B",771,771)

"BLD",9412,"KRN","B",779.2,779.2)

"BLD",9412,"KRN","B",870,870)

"BLD",9412,"KRN","B",8989.51,8989.51)

"BLD",9412,"KRN","B",8989.52,8989.52)

"BLD",9412,"KRN","B",8994,8994)

"BLD",9412,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",9412,"QUES",0)
^9.62^^
"BLD",9412,"REQB",0)
^9.611^1^1
"BLD",9412,"REQB",1,0)
PXRM*2.0*53^2
"BLD",9412,"REQB","B","PXRM*2.0*53",1)

"MBREQ")
0
"PKG",534,-1)
1^1
"PKG",534,0)
CLINICAL REMINDERS^PXRM^Clinical Reminders^^^3000301
"PKG",534,20,0)
^9.402P^^
"PKG",534,22,0)
^9.49I^1^1
"PKG",534,22,1,0)
2.0^3050204^3050309^10000000020
"PKG",534,22,1,"PAH",1,0)
66^3151124
"PKG",534,22,1,"PAH",1,1,0)
^^1^1^3151124
"PKG",534,22,1,"PAH",1,1,1,0)
Selectable Immunizations
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PXRMDLG6")
0^1^B21880610^B20894000
"RTN","PXRMDLG6",1,0)
PXRMDLG6 ; SLC/AGP - Reminder Dialog Edit/Inquiry ;07/24/2013
"RTN","PXRMDLG6",2,0)
 ;;2.0;CLINICAL REMINDERS;**12,26,66**;Feb 04, 2005;Build 226
"RTN","PXRMDLG6",3,0)
 ;
"RTN","PXRMDLG6",4,0)
ISACTDLG(DIEN) ;
"RTN","PXRMDLG6",5,0)
 ;this returns a 1 if the dialog can be used in a TIU Template
"RTN","PXRMDLG6",6,0)
 N NODE
"RTN","PXRMDLG6",7,0)
 S NODE=$G(^PXRMD(801.41,DIEN,0))
"RTN","PXRMDLG6",8,0)
 I $P(NODE,U,4)'="R" Q 0
"RTN","PXRMDLG6",9,0)
 I +$P(NODE,U,3)>0 Q 0
"RTN","PXRMDLG6",10,0)
 Q 1
"RTN","PXRMDLG6",11,0)
 ;
"RTN","PXRMDLG6",12,0)
DISCKINP(DIEN,X,ORG) ;
"RTN","PXRMDLG6",13,0)
 ;sub script 1 = name field
"RTN","PXRMDLG6",14,0)
 ;sub script 2 = disable field
"RTN","PXRMDLG6",15,0)
 ;
"RTN","PXRMDLG6",16,0)
 I X(1)="" Q 1
"RTN","PXRMDLG6",17,0)
 I $G(PXRMINST)=1 Q 1
"RTN","PXRMDLG6",18,0)
 I X(2)=1!(X(2)=2) Q 1
"RTN","PXRMDLG6",19,0)
 ;
"RTN","PXRMDLG6",20,0)
 N CANACT,CNT,CNT1,MSG,NAME,RESULT,TEXT,TYPE,STDFILES
"RTN","PXRMDLG6",21,0)
 D DIALDSAR^PXRMFRPT(.STDFILES) I '$D(STDFILES) Q 1
"RTN","PXRMDLG6",22,0)
 S TYPE=$P($G(^PXRMD(801.41,DIEN,0)),U,4)
"RTN","PXRMDLG6",23,0)
 I "RFPT"[TYPE Q 1
"RTN","PXRMDLG6",24,0)
 S TYPE=$S(TYPE="E":"Element",TYPE="G":"Group",TYPE="S":"Result Group")
"RTN","PXRMDLG6",25,0)
 S RESULT=$$DISABCHK(DIEN,.STDFILES,.MSG)
"RTN","PXRMDLG6",26,0)
 S NAME=$P($G(^PXRMD(801.41,DIEN,0)),U)
"RTN","PXRMDLG6",27,0)
 S CNT1=1
"RTN","PXRMDLG6",28,0)
 I RESULT=0 D 
"RTN","PXRMDLG6",29,0)
 .S TEXT(CNT1)="Disabled value cannot be changed."
"RTN","PXRMDLG6",30,0)
 .S $P(^PXRMD(801.41,DIEN,0),U,3)=ORG(2)
"RTN","PXRMDLG6",31,0)
 I $D(MSG)>0 D
"RTN","PXRMDLG6",32,0)
 .S CNT=0 F  S CNT=$O(MSG(CNT)) Q:CNT'>0  S CNT1=CNT1+1,TEXT(CNT1)=MSG(CNT)
"RTN","PXRMDLG6",33,0)
 .D EN^DDIOL(.TEXT)
"RTN","PXRMDLG6",34,0)
 Q RESULT
"RTN","PXRMDLG6",35,0)
 ;
"RTN","PXRMDLG6",36,0)
DISABCHK(DIEN,STDFILES,MSG) ;
"RTN","PXRMDLG6",37,0)
 ;
"RTN","PXRMDLG6",38,0)
 N CNT,FILE,FILESTAT,FIND,NODE,IEN,RESULT,STATUS,VPTR
"RTN","PXRMDLG6",39,0)
 S RESULT=1,CNT=0
"RTN","PXRMDLG6",40,0)
 S NODE=$G(^PXRMD(801.41,DIEN,1))
"RTN","PXRMDLG6",41,0)
 ;;Check for MH Test only in Result Groups
"RTN","PXRMDLG6",42,0)
 I $D(STDFILES("^YTT(601.71,"))>0 D
"RTN","PXRMDLG6",43,0)
 .S FILESTAT=$P(STDFILES("YTT(601.71,"),U,2)
"RTN","PXRMDLG6",44,0)
 .S IEN=$P($G(^PXRMD(801.41,DIEN,50)),U)
"RTN","PXRMDLG6",45,0)
 .S STATUS=$$ENSTAT(STDFILES("^YTT(601.71,"),IEN)
"RTN","PXRMDLG6",46,0)
 .I STATUS=0 D DSMSG(.MSG,.CNT,"MH Test",IEN,"^YTT(601.71)") I FILESTAT=6 S RESULT=0
"RTN","PXRMDLG6",47,0)
 ;
"RTN","PXRMDLG6",48,0)
 ;Check for Orderable Items
"RTN","PXRMDLG6",49,0)
 I $D(STDFILES("^ORD(101.43,"))>0 D
"RTN","PXRMDLG6",50,0)
 .S FILESTAT=$P(STDFILES("^ORD(101.43,"),U,2)
"RTN","PXRMDLG6",51,0)
 .S IEN=$P(NODE,U,7)
"RTN","PXRMDLG6",52,0)
 .S STATUS=$$ENSTAT(STDFILES("^ORD(101.43,"),IEN)
"RTN","PXRMDLG6",53,0)
 .I STATUS=0 D DSMSG(.MSG,.CNT,"Orderable Item",IEN,"^ORD(101.43)") I FILESTAT=6 S RESULT=0
"RTN","PXRMDLG6",54,0)
 ;
"RTN","PXRMDLG6",55,0)
 ;Check for Finding Items
"RTN","PXRMDLG6",56,0)
 S FIND=$P(NODE,U,5)
"RTN","PXRMDLG6",57,0)
 S IEN=$P(FIND,";"),FILE=$P(FIND,";",2)
"RTN","PXRMDLG6",58,0)
 I $D(STDFILES(U_FILE))>0 D
"RTN","PXRMDLG6",59,0)
 .S FILESTAT=$P(STDFILES(U_FILE),U,2)
"RTN","PXRMDLG6",60,0)
 .S STATUS=$$ENSTAT(STDFILES(U_FILE),IEN)
"RTN","PXRMDLG6",61,0)
 .I STATUS=0 D DSMSG(.MSG,.CNT,"Finding Item",IEN,$$SETGBL^PXRMDLG5(FILE)) I FILESTAT=6 S RESULT=0
"RTN","PXRMDLG6",62,0)
 ;
"RTN","PXRMDLG6",63,0)
 ;Check for additional finding items
"RTN","PXRMDLG6",64,0)
 S FIND=0 F  S FIND=$O(^PXRMD(801.41,DIEN,3,"B",FIND)) Q:FIND=""  D
"RTN","PXRMDLG6",65,0)
 .S IEN=$P(FIND,";"),FILE=$P(FIND,";",2)
"RTN","PXRMDLG6",66,0)
 .I $D(STDFILES(U_FILE))>0 D
"RTN","PXRMDLG6",67,0)
 ..S FILESTAT=$P(STDFILES(U_FILE),U,2)
"RTN","PXRMDLG6",68,0)
 ..S STATUS=$$ENSTAT(STDFILES(U_FILE),IEN)
"RTN","PXRMDLG6",69,0)
 ..I STATUS=0 D DSMSG(.MSG,.CNT,"Additional Finding Item",IEN,$$SETGBL^PXRMDLG5(FILE)) I FILESTAT=6 S RESULT=0
"RTN","PXRMDLG6",70,0)
 Q RESULT
"RTN","PXRMDLG6",71,0)
 ;
"RTN","PXRMDLG6",72,0)
DSMSG(MSG,CNT,FIELD,IEN,GBL) ;
"RTN","PXRMDLG6",73,0)
 N ENTRY
"RTN","PXRMDLG6",74,0)
 S CNT=CNT+1
"RTN","PXRMDLG6",75,0)
 S ENTRY=$P($G(@GBL@(IEN,0)),U)
"RTN","PXRMDLG6",76,0)
 S MSG(CNT)="   "_FIELD_" entry "_ENTRY_" is inactive."
"RTN","PXRMDLG6",77,0)
 Q
"RTN","PXRMDLG6",78,0)
 ;
"RTN","PXRMDLG6",79,0)
ENSTAT(FILENUM,IEN) ;
"RTN","PXRMDLG6",80,0)
 ;Return values 0 if finding is inactive, return 1 if finding is active
"RTN","PXRMDLG6",81,0)
 N FIENS,STATUS
"RTN","PXRMDLG6",82,0)
 S FIENS=IEN_","
"RTN","PXRMDLG6",83,0)
 ;DBIA #4631
"RTN","PXRMDLG6",84,0)
 S STATUS=$P($$GETSTAT^XTID(FILENUM,.01,FIENS),U,1)
"RTN","PXRMDLG6",85,0)
 Q STATUS
"RTN","PXRMDLG6",86,0)
 ;
"RTN","PXRMDLG6",87,0)
FILESCR(IEN,FILENUM,DA) ;
"RTN","PXRMDLG6",88,0)
 N DTYPE,LOCK,RESULT,STATUS
"RTN","PXRMDLG6",89,0)
 I $G(PXRMINST)=1 Q 1
"RTN","PXRMDLG6",90,0)
 S RESULT=1
"RTN","PXRMDLG6",91,0)
 I FILENUM=9999999.14 D  Q RESULT
"RTN","PXRMDLG6",92,0)
 .I $P($G(^AUTTIMM(IEN,0)),U,7)="" Q
"RTN","PXRMDLG6",93,0)
 .I $P($G(^AUTTIMM(IEN,6)),U)'="Y" S RESULT=0 Q
"RTN","PXRMDLG6",94,0)
 ;I FILENUM=811.2,$G(DA)>0,$P($G(^PXRMD(801.41,DA,0)),U,4)="G" W !,"Cannot add a taxonomy as finding item to a group." Q 0
"RTN","PXRMDLG6",95,0)
 ;DBIA #4640
"RTN","PXRMDLG6",96,0)
 S STATUS=+$$GETSTAT^HDISVF01(FILENUM)
"RTN","PXRMDLG6",97,0)
 S LOCK=$S(STATUS=6:1,STATUS=7:1,1:0)
"RTN","PXRMDLG6",98,0)
 I LOCK=1 S RESULT=$P($$GETSTAT^XTID(FILENUM,.01,IEN_","),U,1)
"RTN","PXRMDLG6",99,0)
 I +RESULT=0 Q +RESULT
"RTN","PXRMDLG6",100,0)
 I FILENUM=9999999.64,$P($G(^AUTTHF(IEN,0)),U,10)="C" S RESULT=0
"RTN","PXRMDLG6",101,0)
 I FILENUM=601.71,$$MH^PXRMDLG5(IEN)=0 S RESULT=0
"RTN","PXRMDLG6",102,0)
 ;if a taxonomy does not have codes marked for use in a dialog then do
"RTN","PXRMDLG6",103,0)
 ;not allow a selection
"RTN","PXRMDLG6",104,0)
 I FILENUM=811.2 D
"RTN","PXRMDLG6",105,0)
 .I '$D(^PXD(811.2,IEN,20,"AUID")) S RESULT=-1
"RTN","PXRMDLG6",106,0)
 .I $P($G(^PXD(811.2,IEN,0)),U,6)=1 S RESULT=0
"RTN","PXRMDLG6",107,0)
 Q +RESULT
"RTN","PXRMDLG6",108,0)
 ;
"RTN","PXRMDLG6",109,0)
OKTODEL(DIEN) ;
"RTN","PXRMDLG6",110,0)
 ;this checks to see if an entry is okay to delete. the entry
"RTN","PXRMDLG6",111,0)
 ;cannot be used anywhere else.
"RTN","PXRMDLG6",112,0)
 ;"AD" for component multiple
"RTN","PXRMDLG6",113,0)
 ;"R" for replacement element/groups
"RTN","PXRMDLG6",114,0)
 ;"RG" for result groups
"RTN","PXRMDLG6",115,0)
 ;
"RTN","PXRMDLG6",116,0)
 I $G(PXRMEXCH)=1 Q 1
"RTN","PXRMDLG6",117,0)
 I $D(^PXRMD(801.41,"AD",DIEN)) Q 0
"RTN","PXRMDLG6",118,0)
 I $D(^PXRMD(801.41,"R",DIEN)) Q 0
"RTN","PXRMDLG6",119,0)
 I $D(^PXRMD(801.41,"RG",DIEN)) Q 0
"RTN","PXRMDLG6",120,0)
 Q 1
"RTN","PXRMDLG6",121,0)
 ;
"RTN","PXRMDLG6",122,0)
PIPECHK(DIEN) ;
"RTN","PXRMDLG6",123,0)
 N AMOUNT,CNT,FLDNAM,NODE,NUM,TYPE
"RTN","PXRMDLG6",124,0)
 S TYPE=$P($G(^PXRMD(801.41,DA,0)),U,4)
"RTN","PXRMDLG6",125,0)
 F NODE=25,35 D
"RTN","PXRMDLG6",126,0)
 .S CNT=0,NUM=0
"RTN","PXRMDLG6",127,0)
 .F  S NUM=$O(^PXRMD(801.41,DIEN,NODE,NUM)) Q:NUM'>0  D
"RTN","PXRMDLG6",128,0)
 ..S AMOUNT=$L(^PXRMD(801.41,DIEN,NODE,NUM,0),"|") I AMOUNT=1 Q
"RTN","PXRMDLG6",129,0)
 ..S CNT=CNT+(AMOUNT-1)
"RTN","PXRMDLG6",130,0)
 ..I CNT=0 Q
"RTN","PXRMDLG6",131,0)
 ..I CNT#2=0 Q
"RTN","PXRMDLG6",132,0)
 ..I TYPE="E" S FLDNAM=$S(NODE=25:"Dialog/Progress Note  Text",1:"Alternate Progress Note Text")
"RTN","PXRMDLG6",133,0)
 ..I TYPE="G" S FLDNAM=$S(NODE=25:"Group Header Dialog Text",1:"Group Header Alternate Progress Note Text")
"RTN","PXRMDLG6",134,0)
 ..D TIUOBJW^PXRMFNFT(FLDNAM,CNT)
"RTN","PXRMDLG6",135,0)
 Q
"RTN","PXRMDLG6",136,0)
 ;
"VER")
8.0^22.0
"BLD",9412,6)
^46
**END**
**END**

