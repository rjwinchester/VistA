Released HDI*1*19 SEQ #15
Extracted from mail message
**KIDS**:HDI*1.0*19^

**INSTALL NAME**
HDI*1.0*19
"BLD",10202,0)
HDI*1.0*19^HEALTH DATA & INFORMATICS^0^3171006^y
"BLD",10202,1,0)
^^4^4^3170926^^
"BLD",10202,1,1,0)
This patch supports Native Domain Standardization of the Demographics 
"BLD",10202,1,2,0)
Domain. 
"BLD",10202,1,3,0)
 
"BLD",10202,1,4,0)
Please see FORUM for full patch description and installation instructions.
"BLD",10202,4,0)
^9.64PA^^
"BLD",10202,6.3)
9
"BLD",10202,"ABPKG")
n
"BLD",10202,"INIT")
HDI1019A
"BLD",10202,"KRN",0)
^9.67PA^779.2^20
"BLD",10202,"KRN",.4,0)
.4
"BLD",10202,"KRN",.401,0)
.401
"BLD",10202,"KRN",.402,0)
.402
"BLD",10202,"KRN",.403,0)
.403
"BLD",10202,"KRN",.5,0)
.5
"BLD",10202,"KRN",.84,0)
.84
"BLD",10202,"KRN",3.6,0)
3.6
"BLD",10202,"KRN",3.8,0)
3.8
"BLD",10202,"KRN",9.2,0)
9.2
"BLD",10202,"KRN",9.8,0)
9.8
"BLD",10202,"KRN",9.8,"NM",0)
^9.68A^3^2
"BLD",10202,"KRN",9.8,"NM",2,0)
HDI1019A^^0^B5466782
"BLD",10202,"KRN",9.8,"NM",3,0)
HDIZRT^^0^B2560389
"BLD",10202,"KRN",9.8,"NM","B","HDI1019A",2)

"BLD",10202,"KRN",9.8,"NM","B","HDIZRT",3)

"BLD",10202,"KRN",19,0)
19
"BLD",10202,"KRN",19,"NM",0)
^9.68A^^
"BLD",10202,"KRN",19.1,0)
19.1
"BLD",10202,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",10202,"KRN",101,0)
101
"BLD",10202,"KRN",409.61,0)
409.61
"BLD",10202,"KRN",771,0)
771
"BLD",10202,"KRN",779.2,0)
779.2
"BLD",10202,"KRN",870,0)
870
"BLD",10202,"KRN",8989.51,0)
8989.51
"BLD",10202,"KRN",8989.52,0)
8989.52
"BLD",10202,"KRN",8994,0)
8994
"BLD",10202,"KRN","B",.4,.4)

"BLD",10202,"KRN","B",.401,.401)

"BLD",10202,"KRN","B",.402,.402)

"BLD",10202,"KRN","B",.403,.403)

"BLD",10202,"KRN","B",.5,.5)

"BLD",10202,"KRN","B",.84,.84)

"BLD",10202,"KRN","B",3.6,3.6)

"BLD",10202,"KRN","B",3.8,3.8)

"BLD",10202,"KRN","B",9.2,9.2)

"BLD",10202,"KRN","B",9.8,9.8)

"BLD",10202,"KRN","B",19,19)

"BLD",10202,"KRN","B",19.1,19.1)

"BLD",10202,"KRN","B",101,101)

"BLD",10202,"KRN","B",409.61,409.61)

"BLD",10202,"KRN","B",771,771)

"BLD",10202,"KRN","B",779.2,779.2)

"BLD",10202,"KRN","B",870,870)

"BLD",10202,"KRN","B",8989.51,8989.51)

"BLD",10202,"KRN","B",8989.52,8989.52)

"BLD",10202,"KRN","B",8994,8994)

"BLD",10202,"QUES",0)
^9.62^^
"BLD",10202,"REQB",0)
^9.611^1^1
"BLD",10202,"REQB",1,0)
HDI*1.0*6^2
"BLD",10202,"REQB","B","HDI*1.0*6",1)

"INIT")
HDI1019A
"MBREQ")
0
"PKG",633,-1)
1^1
"PKG",633,0)
HEALTH DATA & INFORMATICS^HDI^Data Standardization
"PKG",633,20,0)
^9.402P^^
"PKG",633,22,0)
^9.49I^1^1
"PKG",633,22,1,0)
1.0^3050426^3050602^568
"PKG",633,22,1,"PAH",1,0)
19^3171006
"PKG",633,22,1,"PAH",1,1,0)
^^4^4^3171006
"PKG",633,22,1,"PAH",1,1,1,0)
This patch supports Native Domain Standardization of the Demographics 
"PKG",633,22,1,"PAH",1,1,2,0)
Domain. 
"PKG",633,22,1,"PAH",1,1,3,0)
 
"PKG",633,22,1,"PAH",1,1,4,0)
Please see FORUM for full patch description and installation instructions.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","HDI1019A")
0^2^B5466782^n/a
"RTN","HDI1019A",1,0)
HDI1019A ;DAL/JCH - PATCH 19 POST INSTALL;05/19/2017
"RTN","HDI1019A",2,0)
 ;;1.0;HEALTH DATA & INFORMATICS;**19**;Feb 22, 2005;Build 9
"RTN","HDI1019A",3,0)
 ;
"RTN","HDI1019A",4,0)
POST ;
"RTN","HDI1019A",5,0)
 N DOMAIN,HDIDOM,HDIERROR,HDIMSG
"RTN","HDI1019A",6,0)
 ;
"RTN","HDI1019A",7,0)
 S HDIMSG(1)="Post-Installation (POST^HDI1019A) will now be run."
"RTN","HDI1019A",8,0)
 S HDIMSG(2)=" "
"RTN","HDI1019A",9,0)
 D MES^XPDUTL(.HDIMSG) K HDIMSG
"RTN","HDI1019A",10,0)
 ;
"RTN","HDI1019A",11,0)
 S DOMAIN="DEMOGRAPHICS" ; domain to be added to HDIS DOMAIN File #7115.1
"RTN","HDI1019A",12,0)
 ;
"RTN","HDI1019A",13,0)
 ; add domain
"RTN","HDI1019A",14,0)
 I '+$$UPDTDOM^HDISVCUT(DOMAIN) D  Q
"RTN","HDI1019A",15,0)
 . D MES^XPDUTL("***** Error adding the "_DOMAIN_" domain to the HDIS DOMAIN FILE #7115.1."),PSTHALT("")
"RTN","HDI1019A",16,0)
 ;
"RTN","HDI1019A",17,0)
 ; get domain IEN
"RTN","HDI1019A",18,0)
 I '+$$GETIEN^HDISVF09(DOMAIN,.HDIDOM) D  Q
"RTN","HDI1019A",19,0)
 . D MES^XPDUTL("***** Error retrieving the IEN for the "_DOMAIN_" domain."),PSTHALT("")
"RTN","HDI1019A",20,0)
 ;
"RTN","HDI1019A",21,0)
 ; verify domain IEN
"RTN","HDI1019A",22,0)
 I '+HDIDOM D  Q
"RTN","HDI1019A",23,0)
 . D MES^XPDUTL("***** Error verifying the IEN for the "_DOMAIN_" domain."),PSTHALT("")
"RTN","HDI1019A",24,0)
 ;
"RTN","HDI1019A",25,0)
 ; get files & fields to be added to File #7115.6
"RTN","HDI1019A",26,0)
 N DATA,LINE F LINE=1:1 S DATA=$P($T(DATA+LINE),";;",2) Q:DATA=""  D
"RTN","HDI1019A",27,0)
 . N FILE,FIELD,HDIDATA,HDIERMSG
"RTN","HDI1019A",28,0)
 . S FILE=$P(DATA,U),FIELD=$P(DATA,U,2)
"RTN","HDI1019A",29,0)
 . I +$$GETIEN^HDISVF05(FILE,FIELD) Q  ; quit if entry already exists
"RTN","HDI1019A",30,0)
 . S HDIDATA(FILE)=FIELD
"RTN","HDI1019A",31,0)
 . ; add entry to HDIS FILE/FIELD File #7115.6
"RTN","HDI1019A",32,0)
 . I '+$$ADDDFFS^HDISVF09(HDIDOM,.HDIDATA,.HDIERMSG) D
"RTN","HDI1019A",33,0)
 . . I '$D(HDIERROR) D MES^XPDUTL("***** "_"Error updating File #7115.6")
"RTN","HDI1019A",34,0)
 . . S HDIERROR=1
"RTN","HDI1019A",35,0)
 . . D MES^XPDUTL("***** "_HDIERMSG)
"RTN","HDI1019A",36,0)
 ;
"RTN","HDI1019A",37,0)
 I +$D(HDIERROR) D PSTHALT("") Q
"RTN","HDI1019A",38,0)
 ;
"RTN","HDI1019A",39,0)
 S HDIMSG(1)="Post-Installation complete."
"RTN","HDI1019A",40,0)
 S HDIMSG(2)=""
"RTN","HDI1019A",41,0)
 D MES^XPDUTL(.HDIMSG)
"RTN","HDI1019A",42,0)
 Q
"RTN","HDI1019A",43,0)
PSTHALT(MSG) ; display error message
"RTN","HDI1019A",44,0)
 S HDIMSG(1)=""
"RTN","HDI1019A",45,0)
 S HDIMSG(2)=MSG
"RTN","HDI1019A",46,0)
 S HDIMSG(3)="***** Post-installation has been halted."
"RTN","HDI1019A",47,0)
 S HDIMSG(4)="***** Please contact Enterprise VistA Support."
"RTN","HDI1019A",48,0)
 S HDIMSG(5)=""
"RTN","HDI1019A",49,0)
 D MES^XPDUTL(.HDIMSG)
"RTN","HDI1019A",50,0)
 Q
"RTN","HDI1019A",51,0)
DATA ;
"RTN","HDI1019A",52,0)
 ;;10.99^.01
"RTN","HDI1019A",53,0)
 ;;11.99^.01
"RTN","HDI1019A",54,0)
 ;;13.99^.01
"RTN","HDI1019A",55,0)
 ;;
"RTN","HDI1019A",56,0)
 Q
"RTN","HDIZRT")
0^3^B2560389^n/a
"RTN","HDIZRT",1,0)
HDIZRT ;PBB/ - GENERIC UTILITY FOR MFN  MD5 and Discovery processing
"RTN","HDIZRT",2,0)
 ;;1.0;HEALTH DATA & INFORMATICS;**19**;Feb 22, 2005;Build 9
"RTN","HDIZRT",3,0)
 ;
"RTN","HDIZRT",4,0)
 Q
"RTN","HDIZRT",5,0)
DESC ; Discovery coding to get conversion to escape characters..
"RTN","HDIZRT",6,0)
 N II,CNT,CNT1,VAL,VAL1
"RTN","HDIZRT",7,0)
 S CNT=0,(VAL,VAL1)=""
"RTN","HDIZRT",8,0)
 F  S CNT=$O(^TMP("HLA",$J,CNT)) Q:'CNT  S II=$G(^TMP("HLA",$J,CNT)) Q:'$L(II)  Q:$G(ERROR)  D:$P(II,HLFS)="ZRT"
"RTN","HDIZRT",9,0)
 .S VAL=$P(II,HLFS,3)
"RTN","HDIZRT",10,0)
 .Q:'$L(VAL) 
"RTN","HDIZRT",11,0)
 .S VAL=$$ESC(VAL,.HL)
"RTN","HDIZRT",12,0)
 .S $P(II,HLFS,3)=VAL
"RTN","HDIZRT",13,0)
 .S ^TMP("HLA",$J,CNT)=II
"RTN","HDIZRT",14,0)
 .D:$O(^TMP("HLA",$J,CNT,0))
"RTN","HDIZRT",15,0)
 ..S CNT1=0 F  S CNT1=$O(^TMP("HLA",$J,CNT,CNT1)) Q:'CNT1  D
"RTN","HDIZRT",16,0)
 ...S VAL=$G(^TMP("HLA",$J,CNT,CNT1))
"RTN","HDIZRT",17,0)
 ...S ^TMP("HLA",$J,CNT,CNT1)=$$ESC(VAL,.HL)
"RTN","HDIZRT",18,0)
 Q
"RTN","HDIZRT",19,0)
ESC(VALUE,HL) ;Escape value
"RTN","HDIZRT",20,0)
 N ESC,ESCFS,ESCCMP,ESCSUB,ESCREP,ESCESC,ESCSEQ,CVRT
"RTN","HDIZRT",21,0)
 S ESC=$E(HL("ECH"),3)
"RTN","HDIZRT",22,0)
 S ESCFS=ESC_"F"_ESC S CVRT("ESCFS")=HL("FS")
"RTN","HDIZRT",23,0)
 S ESCCMP=ESC_"S"_ESC S CVRT("ESCCMP")=$E(HL("ECH"),1)
"RTN","HDIZRT",24,0)
 S ESCREP=ESC_"R"_ESC S CVRT("ESCREP")=$E(HL("ECH"),2)
"RTN","HDIZRT",25,0)
 S ESCESC=ESC_"E"_ESC S CVRT("ESCESC")=ESC
"RTN","HDIZRT",26,0)
 S ESCSUB=ESC_"T"_ESC S CVRT("ESCSUB")=$E(HL("ECH"),4)
"RTN","HDIZRT",27,0)
 ;F ESCSEQ="ESCFS","ESCCMP","ESCSUB","ESCREP","ESCESC" D
"RTN","HDIZRT",28,0)
 F ESCSEQ="ESCFS","ESCCMP","ESCSUB","ESCREP" D
"RTN","HDIZRT",29,0)
 .F  Q:VALUE'[CVRT(ESCSEQ)  D
"RTN","HDIZRT",30,0)
 ..S VALUE=$P(VALUE,CVRT(ESCSEQ))_@ESCSEQ_$P(VALUE,CVRT(ESCSEQ),2,9999)
"RTN","HDIZRT",31,0)
 Q VALUE
"VER")
8.0^22.2
"BLD",10202,6)
^15
**END**
**END**

