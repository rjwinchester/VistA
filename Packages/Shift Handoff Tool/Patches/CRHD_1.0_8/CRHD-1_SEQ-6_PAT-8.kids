Released CRHD*1*8 SEQ #6
Extracted from mail message
**KIDS**:CRHD*1.0*8^

**INSTALL NAME**
CRHD*1.0*8
"BLD",10819,0)
CRHD*1.0*8^SHIFT CHANGE HANDOFF TOOL^0^3190522^y
"BLD",10819,4,0)
^9.64PA^^
"BLD",10819,6.3)
14
"BLD",10819,"INID")
^y
"BLD",10819,"INIT")
EN^CRHD8PST
"BLD",10819,"KRN",0)
^9.67PA^779.2^20
"BLD",10819,"KRN",.4,0)
.4
"BLD",10819,"KRN",.401,0)
.401
"BLD",10819,"KRN",.402,0)
.402
"BLD",10819,"KRN",.403,0)
.403
"BLD",10819,"KRN",.5,0)
.5
"BLD",10819,"KRN",.84,0)
.84
"BLD",10819,"KRN",3.6,0)
3.6
"BLD",10819,"KRN",3.8,0)
3.8
"BLD",10819,"KRN",9.2,0)
9.2
"BLD",10819,"KRN",9.8,0)
9.8
"BLD",10819,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",10819,"KRN",9.8,"NM",1,0)
CRHD6^^0^B24441298
"BLD",10819,"KRN",9.8,"NM","B","CRHD6",1)

"BLD",10819,"KRN",19,0)
19
"BLD",10819,"KRN",19,"NM",0)
^9.68A^1^1
"BLD",10819,"KRN",19,"NM",1,0)
CRHD SHIFT CHANGE HANDOFF^^0
"BLD",10819,"KRN",19,"NM","B","CRHD SHIFT CHANGE HANDOFF",1)

"BLD",10819,"KRN",19.1,0)
19.1
"BLD",10819,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",10819,"KRN",101,0)
101
"BLD",10819,"KRN",409.61,0)
409.61
"BLD",10819,"KRN",771,0)
771
"BLD",10819,"KRN",779.2,0)
779.2
"BLD",10819,"KRN",870,0)
870
"BLD",10819,"KRN",8989.51,0)
8989.51
"BLD",10819,"KRN",8989.51,"NM",0)
^9.68A^1^1
"BLD",10819,"KRN",8989.51,"NM",1,0)
CRHD GUI VERSION^^0
"BLD",10819,"KRN",8989.51,"NM","B","CRHD GUI VERSION",1)

"BLD",10819,"KRN",8989.52,0)
8989.52
"BLD",10819,"KRN",8994,0)
8994
"BLD",10819,"KRN",8994,"NM",0)
^9.68A^1^1
"BLD",10819,"KRN",8994,"NM",1,0)
CRHD GET XPAR PARAM^^0
"BLD",10819,"KRN",8994,"NM","B","CRHD GET XPAR PARAM",1)

"BLD",10819,"KRN","B",.4,.4)

"BLD",10819,"KRN","B",.401,.401)

"BLD",10819,"KRN","B",.402,.402)

"BLD",10819,"KRN","B",.403,.403)

"BLD",10819,"KRN","B",.5,.5)

"BLD",10819,"KRN","B",.84,.84)

"BLD",10819,"KRN","B",3.6,3.6)

"BLD",10819,"KRN","B",3.8,3.8)

"BLD",10819,"KRN","B",9.2,9.2)

"BLD",10819,"KRN","B",9.8,9.8)

"BLD",10819,"KRN","B",19,19)

"BLD",10819,"KRN","B",19.1,19.1)

"BLD",10819,"KRN","B",101,101)

"BLD",10819,"KRN","B",409.61,409.61)

"BLD",10819,"KRN","B",771,771)

"BLD",10819,"KRN","B",779.2,779.2)

"BLD",10819,"KRN","B",870,870)

"BLD",10819,"KRN","B",8989.51,8989.51)

"BLD",10819,"KRN","B",8989.52,8989.52)

"BLD",10819,"KRN","B",8994,8994)

"BLD",10819,"QUES",0)
^9.62^^
"BLD",10819,"REQB",0)
^9.611^1^1
"BLD",10819,"REQB",1,0)
CRHD*1.0*7^1
"BLD",10819,"REQB","B","CRHD*1.0*7",1)

"INIT")
EN^CRHD8PST
"KRN",19,2921339,-1)
0^1
"KRN",19,2921339,0)
CRHD SHIFT CHANGE HANDOFF^Shift Change Handoff Tool^^B^^^^^^^^
"KRN",19,2921339,99.1)
64671,28803
"KRN",19,2921339,"RPC",0)
^19.05P^78^78
"KRN",19,2921339,"RPC",1,0)
ORWU USERINFO
"KRN",19,2921339,"RPC",2,0)
ORWU NEWPERS
"KRN",19,2921339,"RPC",3,0)
ORQPT PROVIDER PATIENTS
"KRN",19,2921339,"RPC",4,0)
ORQPT SPECIALTIES
"KRN",19,2921339,"RPC",5,0)
ORQPT SPECIALTY PATIENTS
"KRN",19,2921339,"RPC",6,0)
ORQPT TEAMS
"KRN",19,2921339,"RPC",7,0)
ORQPT TEAM PATIENTS
"KRN",19,2921339,"RPC",8,0)
ORQPT WARDS
"KRN",19,2921339,"RPC",9,0)
ORQPT DEFAULT LIST SOURCE
"KRN",19,2921339,"RPC",10,0)
ORWPT LIST ALL
"KRN",19,2921339,"RPC",11,0)
ORWPT LAST5
"KRN",19,2921339,"RPC",12,0)
ORWPT FULLSSN
"KRN",19,2921339,"RPC",13,0)
ORWPT BYWARD
"KRN",19,2921339,"RPC",14,0)
ORWTPP NEWLIST
"KRN",19,2921339,"RPC",15,0)
ORWTPP PLISTS
"KRN",19,2921339,"RPC",16,0)
ORWTPP SAVELIST
"KRN",19,2921339,"RPC",17,0)
ORWTPP DELLIST
"KRN",19,2921339,"RPC",18,0)
ORQPT DEFAULT LIST SORT
"KRN",19,2921339,"RPC",19,0)
CRHD ADDITIONAL USER INFO
"KRN",19,2921339,"RPC",20,0)
CRHD ALL USER PARAMETERS
"KRN",19,2921339,"RPC",21,0)
CRHD AVAILABLE PARAMETERS
"KRN",19,2921339,"RPC",22,0)
CRHD DEFAULT PREFERENCE
"KRN",19,2921339,"RPC",23,0)
CRHD DELETE A PREFERENCE
"KRN",19,2921339,"RPC",24,0)
CRHD GET CONSULT
"KRN",19,2921339,"RPC",25,0)
CRHD GET DNR TITLES
"KRN",19,2921339,"RPC",26,0)
CRHD GET IMAGING
"KRN",19,2921339,"RPC",27,0)
CRHD GET LABS
"KRN",19,2921339,"RPC",28,0)
CRHD GET ONE PARAMETER
"KRN",19,2921339,"RPC",29,0)
CRHD GET ORDERABLE ITEMS
"KRN",19,2921339,"RPC",30,0)
CRHD GET PAT LIST
"KRN",19,2921339,"RPC",31,0)
CRHD GET PREFERENCES
"KRN",19,2921339,"RPC",32,0)
CRHD GET TEAM PHONE NUMBERS
"KRN",19,2921339,"RPC",33,0)
CRHD GET TEMP FLD
"KRN",19,2921339,"RPC",34,0)
CRHD GET USER DIVISIONS
"KRN",19,2921339,"RPC",35,0)
CRHD GET USER PARAMETERS
"KRN",19,2921339,"RPC",36,0)
CRHD GET XPAR VALUES
"KRN",19,2921339,"RPC",37,0)
CRHD HOT CAN EDIT
"KRN",19,2921339,"RPC",38,0)
CRHD HOT DELETE PAT/PRV
"KRN",19,2921339,"RPC",39,0)
CRHD HOT DELETE TEAM LIST
"KRN",19,2921339,"RPC",40,0)
CRHD HOT MODIFY LIST
"KRN",19,2921339,"RPC",41,0)
CRHD HOT PATIENT LIST
"KRN",19,2921339,"RPC",42,0)
CRHD HOT PATPRV
"KRN",19,2921339,"RPC",43,0)
CRHD HOT PROVIDER BY CLASS
"KRN",19,2921339,"RPC",44,0)
CRHD HOT PROVIDER LIST
"KRN",19,2921339,"RPC",45,0)
CRHD HOT PROVIDER LIST2
"KRN",19,2921339,"RPC",46,0)
CRHD HOT PROVIDER PATIENTS
"KRN",19,2921339,"RPC",47,0)
CRHD HOT PRV INFO
"KRN",19,2921339,"RPC",48,0)
CRHD HOT TEAM LIST
"KRN",19,2921339,"RPC",49,0)
CRHD HOT TEAM PHONE INFO
"KRN",19,2921339,"RPC",50,0)
CRHD HOT TEAM SAVE
"KRN",19,2921339,"RPC",51,0)
CRHD HOT TEAM MGR
"KRN",19,2921339,"RPC",52,0)
CRHD IS RECORD LOCKED
"KRN",19,2921339,"RPC",53,0)
CRHD LIST DIVISIONS
"KRN",19,2921339,"RPC",54,0)
CRHD LIST SERVICES
"KRN",19,2921339,"RPC",55,0)
CRHD MGR
"KRN",19,2921339,"RPC",56,0)
CRHD MOD TM PROVIDERS
"KRN",19,2921339,"RPC",57,0)
CRHD PAT ACTMEDS
"KRN",19,2921339,"RPC",58,0)
CRHD PAT ALLERGIES
"KRN",19,2921339,"RPC",59,0)
CRHD PAT CODESTS
"KRN",19,2921339,"RPC",60,0)
CRHD PAT DEMO
"KRN",19,2921339,"RPC",61,0)
CRHD SAVE DNR TITLES
"KRN",19,2921339,"RPC",62,0)
CRHD SAVE PARAMETERS
"KRN",19,2921339,"RPC",63,0)
CRHD SAVE TEMP FLD
"KRN",19,2921339,"RPC",64,0)
CRHD SAVE XPAR PARAMETERS
"KRN",19,2921339,"RPC",65,0)
CRHD SERVICE INFO
"KRN",19,2921339,"RPC",66,0)
CRHD SORT PRINT LIST
"KRN",19,2921339,"RPC",67,0)
CRHD SPECIALTY INFO
"KRN",19,2921339,"RPC",68,0)
CRHD TM PRV INFO
"KRN",19,2921339,"RPC",69,0)
CRHD TM PRV LIST
"KRN",19,2921339,"RPC",70,0)
CRHD USER PHONE INFO
"KRN",19,2921339,"RPC",71,0)
CRHD USER PHONE NUMBERS
"KRN",19,2921339,"RPC",72,0)
CRHD COMB TM LIST
"KRN",19,2921339,"RPC",73,0)
CRHD INPT LIST
"KRN",19,2921339,"RPC",74,0)
CRHD GET TEAM FILENAME
"KRN",19,2921339,"RPC",75,0)
CRHD SAVE TEAM FILENAME
"KRN",19,2921339,"RPC",76,0)
DG SENSITIVE RECORD ACCESS
"KRN",19,2921339,"RPC",77,0)
DG SENSITIVE RECORD BULLETIN
"KRN",19,2921339,"RPC",78,0)
CRHD GET XPAR PARAM
"KRN",19,2921339,"U")
SHIFT CHANGE HANDOFF TOOL
"KRN",8989.51,891,-1)
0^1
"KRN",8989.51,891,0)
CRHD GUI VERSION^SHIFT CHANGE HANDOFF VERSION CHECK^0^^VERSION NUMBER^0
"KRN",8989.51,891,1)
F^^THIS IS THE CURRENT VERSION NUMBER FOR THE CRHD GUI VERSION
"KRN",8989.51,891,20,0)
^^2^2^3180619^
"KRN",8989.51,891,20,1,0)
This parameter is used to store the GUI version that is compatible with the 
"KRN",8989.51,891,20,2,0)
current server version on the CRHD shift Change Handoff application
"KRN",8989.51,891,30,0)
^8989.513I^1^1
"KRN",8989.51,891,30,1,0)
1^4.2
"KRN",8994,4285,-1)
0^1
"KRN",8994,4285,0)
CRHD GET XPAR PARAM^PARAM^CRHD6^1
"KRN",8994,4285,1,0)
^8994.01^2^2^3180806^^^^
"KRN",8994,4285,1,1,0)
 Simple call to return a parameter value.  The call assumes the current
"KRN",8994,4285,1,2,0)
 user, 'defaultable' entities, and one instance.
"KRN",8994,4285,2,0)
^8994.02A^^0
"KRN",8994,4285,3,0)
^8994.03^1^1^3180806^^
"KRN",8994,4285,3,1,0)
Value from XPAR for the parameter that was passed in
"MBREQ")
0
"ORD",16,8994)
8994;16;1;;;;RPCE1^XPDIA1;;;RPCDEL^XPDIA1
"ORD",16,8994,0)
REMOTE PROCEDURE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"ORD",20,8989.51)
8989.51;20;;;PAR1E1^XPDTA2;PAR1F1^XPDIA3;PAR1E1^XPDIA3;PAR1F2^XPDIA3;;PAR1DEL^XPDIA3(%)
"ORD",20,8989.51,0)
PARAMETER DEFINITION
"PKG",649,-1)
1^1
"PKG",649,0)
SHIFT CHANGE HANDOFF TOOL^CRHD^CAIRO PRODUCT CONVERSION TO CLASS I PRODUCT
"PKG",649,22,0)
^9.49I^1^1
"PKG",649,22,1,0)
1.0^3080513^3110228^520728530
"PKG",649,22,1,"PAH",1,0)
8^3190522
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","CRHD6")
0^1^B24441298^B23982080
"RTN","CRHD6",1,0)
CRHD6 ; CAIRO/CLC - MISC ROUTINE FOR CAIRO HAND-OFF TOOL ;06-Aug-2018 15:00;
"RTN","CRHD6",2,0)
 ;;1.0;CRHD;**8**;Jan 28, 2008;Build 14
"RTN","CRHD6",3,0)
 ;=================================================================
"RTN","CRHD6",4,0)
GETP(CRHDRTN,CRHDE) ;
"RTN","CRHD6",5,0)
 N CRHDPAR,Y,CRHDX,CRHDCT,CRHDMN,CRHDP,CRHDE1,CRHDE2,CRHDE3,CRHDE4
"RTN","CRHD6",6,0)
 N CRHDX2,CRHDRSL,CRHDL,CRHDXCT,CRHDTRSL,CRHDEX,CRHDEE,CRHDXY
"RTN","CRHD6",7,0)
 S Y=-1
"RTN","CRHD6",8,0)
 S CRHDE1=+CRHDE                          ;internal entry number to file
"RTN","CRHD6",9,0)
 S CRHDE2=$P(CRHDE,"^",2)                 ;name
"RTN","CRHD6",10,0)
 S CRHDE3=$P(CRHDE,"^",3)                 ;types
"RTN","CRHD6",11,0)
 ;                                         USR - New Person
"RTN","CRHD6",12,0)
 ;                                         OTL - OE/RR Team
"RTN","CRHD6",13,0)
 ;                                         SRV - Service/Section
"RTN","CRHD6",14,0)
 ;                                         DIV-Institution;
"RTN","CRHD6",15,0)
 ;
"RTN","CRHD6",16,0)
 S CRHDCT=0
"RTN","CRHD6",17,0)
 S CRHDL=$L(CRHDE,"^")
"RTN","CRHD6",18,0)
 S CRHDE4="DIV.`"_$P($P(CRHDE,"^",CRHDL),"-",2)                  ;User Sign in Division
"RTN","CRHD6",19,0)
 I $P(CRHDE4,"`",2)="" D USERDIV^CRHD5(.CRHDEE,DUZ) S CRHDE4="DIV.`"_$G(CRHDEE(1))
"RTN","CRHD6",20,0)
 S CRHDE3=$P($P(CRHDE,"^",CRHDL),"-",1)
"RTN","CRHD6",21,0)
 S CRHDPAR=CRHDE3_".`"_CRHDE1
"RTN","CRHD6",22,0)
 I CRHDPAR'="" D LOOKUP^XPAREDIT(CRHDPAR,183)
"RTN","CRHD6",23,0)
 I Y>-1 D
"RTN","CRHD6",24,0)
 .S CRHDMN=+Y
"RTN","CRHD6",25,0)
 .S CRHDP=0
"RTN","CRHD6",26,0)
 .F  S CRHDP=$O(^CRHD(183,CRHDMN,1,CRHDP)) Q:'CRHDP  D
"RTN","CRHD6",27,0)
 ..S CRHDCT=CRHDCT+1
"RTN","CRHD6",28,0)
 ..I $P($G(^CRHD(183,CRHDMN,1,CRHDP,0)),"^",2)="" D
"RTN","CRHD6",29,0)
 ...S CRHDX2=0 F  S CRHDX2=$O(^CRHD(183,CRHDMN,1,CRHDP,1,CRHDX2)) Q:'CRHDX2  D
"RTN","CRHD6",30,0)
 ....S CRHDRTN(CRHDCT)=$P($G(^CRHD(183,CRHDMN,1,CRHDP,0)),"^",1)_"^"_$G(^CRHD(183,CRHDMN,1,CRHDP,1,CRHDX2,0))
"RTN","CRHD6",31,0)
 ....S CRHDCT=CRHDCT+1
"RTN","CRHD6",32,0)
 ..E  S CRHDRTN(CRHDCT)=$G(^CRHD(183,CRHDMN,1,CRHDP,0))
"RTN","CRHD6",33,0)
 ;get Temp fields expiration days
"RTN","CRHD6",34,0)
 S CRHDEX=$$GET^XPAR(CRHDE4,"CRHD TEMP FLD EXPIRE",1,"I")
"RTN","CRHD6",35,0)
 I 'CRHDEX S CRHDEX=2
"RTN","CRHD6",36,0)
 S CRHDCT=CRHDCT+1,CRHDRTN(CRHDCT)="TEMP_FLD_EXPIRE"_"^"_CRHDEX
"RTN","CRHD6",37,0)
 ;get dnr title and/or text
"RTN","CRHD6",38,0)
 K CRHDRSL D DNRPARM^CRHDDR(.CRHDRSL,DUZ,$P($P(CRHDE,"^",CRHDL),"-",2)) D
"RTN","CRHD6",39,0)
 .I $D(CRHDRSL) D
"RTN","CRHD6",40,0)
 ..S (CRHDXCT,CRHDXY)=0 F  S CRHDXY=$O(CRHDRSL(CRHDXY)) Q:'CRHDXY  D
"RTN","CRHD6",41,0)
 ...S CRHDXCT=CRHDXCT+1,CRHDTRSL(CRHDXCT)=CRHDXY_"^"_$P($G(^ORD(101.43,+CRHDXY,0)),"^",1)
"RTN","CRHD6",42,0)
 .I $D(CRHDTRSL) K CRHDRSL M CRHDRSL=CRHDTRSL K CRHDTRSL
"RTN","CRHD6",43,0)
 I $D(CRHDRSL) D RTNLST("DNR_Titles") K CRHDRSL
"RTN","CRHD6",44,0)
 D GET^CRHD5(.CRHDRSL,CRHDE4,"CRHD DNR ORDER TITLE")
"RTN","CRHD6",45,0)
 I $D(CRHDRSL) D RTNLST("DNR_Text")
"RTN","CRHD6",46,0)
 Q
"RTN","CRHD6",47,0)
RTNLST(CRHDTT) ;
"RTN","CRHD6",48,0)
 I $D(CRHDRSL) D
"RTN","CRHD6",49,0)
 .S CRHDX=0
"RTN","CRHD6",50,0)
 .I CRHDTT["DNR_Titles" F  S CRHDX=$O(CRHDRSL(CRHDX)) Q:'CRHDX  S CRHDCT=CRHDCT+1,CRHDRTN(CRHDCT)=CRHDTT_"^"_CRHDRSL(CRHDX)
"RTN","CRHD6",51,0)
 .E  F  S CRHDX=$O(CRHDRSL(CRHDX)) Q:'CRHDX  S CRHDCT=CRHDCT+1,CRHDRTN(CRHDCT)=CRHDTT_"^"_$P(CRHDRSL(CRHDX),"^",2)
"RTN","CRHD6",52,0)
 Q
"RTN","CRHD6",53,0)
 ;
"RTN","CRHD6",54,0)
SAVEP(CRHDRTN,CRHDE,CRHDPN,CRHDV,CRHDVAL) ;
"RTN","CRHD6",55,0)
 N CRHDENT,CRHDX,CRHDX1,CRHDOLST,CRHDFG,CRHDL
"RTN","CRHD6",56,0)
 S CRHDRTN(0)=1
"RTN","CRHD6",57,0)
 I CRHDE="" S CRHDRTN(0)=0_"^Entity data not valid" Q
"RTN","CRHD6",58,0)
 S CRHDL=$L(CRHDE,"^")
"RTN","CRHD6",59,0)
 I +CRHDE S CRHDENT=$P($P(CRHDE,"^",CRHDL),"-",1)_".`"_+CRHDE
"RTN","CRHD6",60,0)
 I CRHDPN="" S CRHDPN="CRHD DNR ORDER TITLE"
"RTN","CRHD6",61,0)
 ;get all Instances of a Parameter
"RTN","CRHD6",62,0)
 D GETLST^XPAR(.CRHDOLST,CRHDENT,CRHDPN,"I")
"RTN","CRHD6",63,0)
 I $D(CRHDOLST) S CRHDFG=$$DELALL^CRHD5(CRHDENT,CRHDPN)
"RTN","CRHD6",64,0)
 I $D(CRHDVAL) D
"RTN","CRHD6",65,0)
 .S CRHDX=0,CRHDCT=0
"RTN","CRHD6",66,0)
 .F  S CRHDX=$O(CRHDVAL(CRHDX)) Q:'CRHDX  D
"RTN","CRHD6",67,0)
 ..S CRHDCT=CRHDCT+1
"RTN","CRHD6",68,0)
 ..D SET^CRHD5(CRHDENT,CRHDPN,CRHDCT,CRHDVAL(CRHDX))
"RTN","CRHD6",69,0)
 Q
"RTN","CRHD6",70,0)
SAVEP2(CRHDRTN,CRHDE,CRHDPN,CRHDV,CRHDVAL) ;
"RTN","CRHD6",71,0)
 N CRHDENT,CRHDX,CRHDX1,CRHDOLST,CRHDFG,CRHDL
"RTN","CRHD6",72,0)
 S CRHDRTN(0)=1
"RTN","CRHD6",73,0)
 I CRHDE="" S CRHDRTN(0)=0_"^Entity data not valid" Q
"RTN","CRHD6",74,0)
 S CRHDL=$L(CRHDE,"^")
"RTN","CRHD6",75,0)
 I +CRHDE S CRHDENT=$P($P(CRHDE,"^",CRHDL),"-",1)_".`"_+CRHDE
"RTN","CRHD6",76,0)
 I CRHDPN="" S CRHDRTN(0)=0_"^Parameter name not valid" Q     ;S PN="CRHD DNR ORDER TITLE"
"RTN","CRHD6",77,0)
 I CRHDV=""&('$D(CRHDVAL)) S CRHDFG=$$DELALL^CRHD5(CRHDENT,CRHDPN) S CRHDRTN(0)=1 Q
"RTN","CRHD6",78,0)
 ;get all Instances of a Parameter
"RTN","CRHD6",79,0)
 D GETLST^XPAR(.CRHDOLST,CRHDENT,CRHDPN,"I")
"RTN","CRHD6",80,0)
 I $G(CRHDOLST) S CRHDFG=$$DELALL^CRHD5(CRHDENT,CRHDPN) K CRHDOLST
"RTN","CRHD6",81,0)
 I $D(CRHDVAL) D
"RTN","CRHD6",82,0)
 .S CRHDX=0,CRHDCT=0
"RTN","CRHD6",83,0)
 .F  S CRHDX=$O(CRHDVAL(CRHDX)) Q:'CRHDX  D
"RTN","CRHD6",84,0)
 ..S CRHDCT=CRHDCT+1
"RTN","CRHD6",85,0)
 ..I CRHDVAL(CRHDX)'="" D
"RTN","CRHD6",86,0)
 ...I CRHDVAL(CRHDX)?1N.E S CRHDVAL(CRHDX)=+CRHDVAL(CRHDX)
"RTN","CRHD6",87,0)
 ...I CRHDVAL(CRHDX)?1A.E S CRHDVAL(CRHDX)=$P(CRHDVAL(CRHDX),"^",1)
"RTN","CRHD6",88,0)
 ..D SET^CRHD5(CRHDENT,CRHDPN,CRHDCT,CRHDVAL(CRHDX))
"RTN","CRHD6",89,0)
 Q
"RTN","CRHD6",90,0)
GETPAR2(CRHDRTN,CRHDE,CRHDPN) ;
"RTN","CRHD6",91,0)
 ;Get XPAR parameter values
"RTN","CRHD6",92,0)
 N CRHDENT,CRHDX,CRHDX1,CRHDL,CRHDOLST,CRHDPNUM,CRHDFMT,CRHDFG
"RTN","CRHD6",93,0)
 N CRHDI
"RTN","CRHD6",94,0)
 S CRHDRTN(0)=1
"RTN","CRHD6",95,0)
 S CRHDFMT="I"
"RTN","CRHD6",96,0)
 I CRHDE="" S CRHDRTN(0)=0_"^Entity data not valid" Q
"RTN","CRHD6",97,0)
 S CRHDL=$L(CRHDE,"^")
"RTN","CRHD6",98,0)
 I +CRHDE S CRHDENT=$P($P(CRHDE,"^",CRHDL),"-",1)_".`"_+CRHDE
"RTN","CRHD6",99,0)
 I CRHDPN="" S CRHDRTN(0)=0_"^Parameter name not valid" Q     ;S PN="CRHD DNR ORDER TITLE"
"RTN","CRHD6",100,0)
 ;get format code
"RTN","CRHD6",101,0)
 S CRHDPNUM=$O(^XTV(8989.51,"B",CRHDPN,0))
"RTN","CRHD6",102,0)
 I CRHDPNUM D
"RTN","CRHD6",103,0)
 .S CRHDFMT=$S(($P($G(^XTV(8989.51,CRHDPNUM,1)),"^",1)="F")!($P($G(^XTV(8989.51,CRHDPNUM,1)),"^",6)="F"):"E",1:"B")
"RTN","CRHD6",104,0)
 ;get all Instances of a Parameter
"RTN","CRHD6",105,0)
 D GETLST^XPAR(.CRHDOLST,CRHDENT,CRHDPN,CRHDFMT)
"RTN","CRHD6",106,0)
 I CRHDFMT="B" D
"RTN","CRHD6",107,0)
 .K CRHDRTN
"RTN","CRHD6",108,0)
 .S CRHDI=0
"RTN","CRHD6",109,0)
 .F  S CRHDI=$O(CRHDOLST(CRHDI)) Q:'CRHDI  S:$G(CRHDOLST(CRHDI,"V"))'="" CRHDRTN(CRHDI)=$G(CRHDOLST(CRHDI,"V"))
"RTN","CRHD6",110,0)
 E  K CRHDRTN D
"RTN","CRHD6",111,0)
 .S CRHDI=0
"RTN","CRHD6",112,0)
 .F  S CRHDI=$O(CRHDOLST(CRHDI)) Q:'CRHDI  S CRHDRTN(CRHDI)=$P(CRHDOLST(CRHDI),"^",2)
"RTN","CRHD6",113,0)
 Q
"RTN","CRHD6",114,0)
PARAM(VAL,APARAM) ; return a parameter value for a user
"RTN","CRHD6",115,0)
 ; call assumes current user, default entities, single instance
"RTN","CRHD6",116,0)
 S VAL=$$GET^XPAR("ALL",APARAM,1,"I")
"RTN","CRHD6",117,0)
 Q
"RTN","CRHD8PST")
0^^B923810^n/a
"RTN","CRHD8PST",1,0)
CRHD8PST ; HIOFO/FT - FIX PARAMETER SETTINGS ; 5/10/19 2:29pm
"RTN","CRHD8PST",2,0)
 ;;1.0;CRHD;****;Jan 28, 2008;Build 14
"RTN","CRHD8PST",3,0)
 Q
"RTN","CRHD8PST",4,0)
 ; This routine uses the following IAs:
"RTN","CRHD8PST",5,0)
 ;  #10141 - MES^XPDUTL    Kernel  (supported)
"RTN","CRHD8PST",6,0)
 ;  #2263  - EN^XPAR       Kernel  (supported)
"RTN","CRHD8PST",7,0)
 ;
"RTN","CRHD8PST",8,0)
 Q
"RTN","CRHD8PST",9,0)
EN ; main entry point  
"RTN","CRHD8PST",10,0)
 ;
"RTN","CRHD8PST",11,0)
 N CRHDERR
"RTN","CRHD8PST",12,0)
 S CRHDERR=""
"RTN","CRHD8PST",13,0)
 ; Installing commands in the command file...
"RTN","CRHD8PST",14,0)
 D MES^XPDUTL(" Post install starting....updating Parameters...")
"RTN","CRHD8PST",15,0)
 ;
"RTN","CRHD8PST",16,0)
 ; ADD CRHD GUI VERSION with new build numbers for executables.  
"RTN","CRHD8PST",17,0)
 D EN^XPAR("SYS","CRHD GUI VERSION",1,"1.0.8.3",.CRHDERR)
"RTN","CRHD8PST",18,0)
 I +$G(CRHDERR) D
"RTN","CRHD8PST",19,0)
 . D BMES^XPDUTL("    "_CRHDERR)
"RTN","CRHD8PST",20,0)
 . D BMES^XPDUTL("   ....Parameter not added  ")
"RTN","CRHD8PST",21,0)
 ;
"RTN","CRHD8PST",22,0)
 D BMES^XPDUTL(" CRHD*1.0*8 Post Install complete")
"RTN","CRHD8PST",23,0)
 K CRHDERR
"RTN","CRHD8PST",24,0)
 ;
"RTN","CRHD8PST",25,0)
 Q
"RTN","CRHD8PST",26,0)
 ;
"VER")
8.0^22.2
"BLD",10819,6)
^6
**END**
**END**

