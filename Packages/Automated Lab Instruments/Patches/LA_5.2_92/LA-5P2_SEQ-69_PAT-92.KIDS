Released LA*5.2*92 SEQ #69
Extracted from mail message
**KIDS**:LA*5.2*92^

**INSTALL NAME**
LA*5.2*92
"BLD",9772,0)
LA*5.2*92^AUTOMATED LAB INSTRUMENTS^0^3161004^y
"BLD",9772,1,0)
^^1^1^3161004^^
"BLD",9772,1,1,0)
See National Patch Module for details.
"BLD",9772,4,0)
^9.64PA^^
"BLD",9772,6.3)
6
"BLD",9772,"ABPKG")
n
"BLD",9772,"KRN",0)
^9.67PA^779.2^20
"BLD",9772,"KRN",.4,0)
.4
"BLD",9772,"KRN",.401,0)
.401
"BLD",9772,"KRN",.402,0)
.402
"BLD",9772,"KRN",.403,0)
.403
"BLD",9772,"KRN",.5,0)
.5
"BLD",9772,"KRN",.84,0)
.84
"BLD",9772,"KRN",3.6,0)
3.6
"BLD",9772,"KRN",3.8,0)
3.8
"BLD",9772,"KRN",9.2,0)
9.2
"BLD",9772,"KRN",9.8,0)
9.8
"BLD",9772,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",9772,"KRN",9.8,"NM",1,0)
LA7VHLU5^^0^B71334111
"BLD",9772,"KRN",9.8,"NM","B","LA7VHLU5",1)

"BLD",9772,"KRN",19,0)
19
"BLD",9772,"KRN",19,"NM",0)
^9.68A^^
"BLD",9772,"KRN",19.1,0)
19.1
"BLD",9772,"KRN",101,0)
101
"BLD",9772,"KRN",409.61,0)
409.61
"BLD",9772,"KRN",771,0)
771
"BLD",9772,"KRN",779.2,0)
779.2
"BLD",9772,"KRN",870,0)
870
"BLD",9772,"KRN",8989.51,0)
8989.51
"BLD",9772,"KRN",8989.52,0)
8989.52
"BLD",9772,"KRN",8994,0)
8994
"BLD",9772,"KRN","B",.4,.4)

"BLD",9772,"KRN","B",.401,.401)

"BLD",9772,"KRN","B",.402,.402)

"BLD",9772,"KRN","B",.403,.403)

"BLD",9772,"KRN","B",.5,.5)

"BLD",9772,"KRN","B",.84,.84)

"BLD",9772,"KRN","B",3.6,3.6)

"BLD",9772,"KRN","B",3.8,3.8)

"BLD",9772,"KRN","B",9.2,9.2)

"BLD",9772,"KRN","B",9.8,9.8)

"BLD",9772,"KRN","B",19,19)

"BLD",9772,"KRN","B",19.1,19.1)

"BLD",9772,"KRN","B",101,101)

"BLD",9772,"KRN","B",409.61,409.61)

"BLD",9772,"KRN","B",771,771)

"BLD",9772,"KRN","B",779.2,779.2)

"BLD",9772,"KRN","B",870,870)

"BLD",9772,"KRN","B",8989.51,8989.51)

"BLD",9772,"KRN","B",8989.52,8989.52)

"BLD",9772,"KRN","B",8994,8994)

"BLD",9772,"QUES",0)
^9.62^^
"BLD",9772,"REQB",0)
^9.611^1^1
"BLD",9772,"REQB",1,0)
LR*5.2*468^2
"BLD",9772,"REQB","B","LR*5.2*468",1)

"MBREQ")
0
"PKG",53,-1)
1^1
"PKG",53,0)
AUTOMATED LAB INSTRUMENTS^LA^Lab Auto-Instrument Package
"PKG",53,22,0)
^9.49I^1^1
"PKG",53,22,1,0)
5.2^2940927^2950611
"PKG",53,22,1,"PAH",1,0)
92^3161004^520651128
"PKG",53,22,1,"PAH",1,1,0)
^^1^1^3161004
"PKG",53,22,1,"PAH",1,1,1,0)
See National Patch Module for details.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","LA7VHLU5")
0^1^B71334111^B59941403
"RTN","LA7VHLU5",1,0)
LA7VHLU5 ;DALOI/JMC - HL7 segment builder utility ;10/09/09  10:25
"RTN","LA7VHLU5",2,0)
 ;;5.2;AUTOMATED LAB INSTRUMENTS;**46,64,68,74,92**;Sep 27, 1994;Build 6
"RTN","LA7VHLU5",3,0)
 ;
"RTN","LA7VHLU5",4,0)
 ;
"RTN","LA7VHLU5",5,0)
 ;5.2;AUTOMATED LAB INSTRUMENTS; CHANGE FOR PATCH LA*5.2*92; Feb 10 2016;
"RTN","LA7VHLU5",6,0)
 ;
"RTN","LA7VHLU5",7,0)
 ;
"RTN","LA7VHLU5",8,0)
DEFCODE(LRSS,LRSB,LA7CODE,LA761) ; Determine default codes when data is not mapped
"RTN","LA7VHLU5",9,0)
 ;
"RTN","LA7VHLU5",10,0)
 ; Call with  LRSS = file #63 subscript
"RTN","LA7VHLU5",11,0)
 ;            LRSB = file #63 dataname/location
"RTN","LA7VHLU5",12,0)
 ;         LA7CODE = current codes stored with data (order nlt!result nlt!loinc code!method suffix)
"RTN","LA7VHLU5",13,0)
 ;           LA761 = specimen, pointer to file #61
"RTN","LA7VHLU5",14,0)
 ;
"RTN","LA7VHLU5",15,0)
 N I,LA760,LA7DFCDE,LA7MISS,LA7NLT,LA7X,LA7Y
"RTN","LA7VHLU5",16,0)
 ;
"RTN","LA7VHLU5",17,0)
 I LA7CODE="" S LA7CODE="!!!"
"RTN","LA7VHLU5",18,0)
 ;
"RTN","LA7VHLU5",19,0)
 ; Replace any missing codes with defaults
"RTN","LA7VHLU5",20,0)
 ; If no missing codes then return codes passed in.
"RTN","LA7VHLU5",21,0)
 S LA7MISS=""
"RTN","LA7VHLU5",22,0)
 F I=1:1:3 I $P(LA7CODE,"!",I)="" S $P(LA7MISS,"^",I)=I
"RTN","LA7VHLU5",23,0)
 ;
"RTN","LA7VHLU5",24,0)
 I LA7MISS'="" D
"RTN","LA7VHLU5",25,0)
 . I LRSS="CH" D CHSUB Q
"RTN","LA7VHLU5",26,0)
 . I LRSS="MI" D MISUB Q
"RTN","LA7VHLU5",27,0)
 . I LRSS="SP" D SPSUB Q
"RTN","LA7VHLU5",28,0)
 . I LRSS="CY" D CYSUB Q
"RTN","LA7VHLU5",29,0)
 . I LRSS="EM" D EMSUB Q
"RTN","LA7VHLU5",30,0)
 ;
"RTN","LA7VHLU5",31,0)
 Q LA7CODE
"RTN","LA7VHLU5",32,0)
 ;
"RTN","LA7VHLU5",33,0)
 ;
"RTN","LA7VHLU5",34,0)
CHSUB ; Determine codes for CH subscript.
"RTN","LA7VHLU5",35,0)
 ;
"RTN","LA7VHLU5",36,0)
 ; Find a file #60 test which uses this dataname. Since there can be
"RTN","LA7VHLU5",37,0)
 ; multiple tests check each until an order and result NLT code is found.
"RTN","LA7VHLU5",38,0)
 S LA760=0
"RTN","LA7VHLU5",39,0)
 F  S LA760=$O(^LAB(60,"C",LRSS_";"_LRSB_";1",LA760)) Q:'LA760  D
"RTN","LA7VHLU5",40,0)
 . ; Default order NLT
"RTN","LA7VHLU5",41,0)
 . I $P(LA7MISS,"^") D
"RTN","LA7VHLU5",42,0)
 . . S LA7X=$$NLT^LRVER1(LA760)
"RTN","LA7VHLU5",43,0)
 . . I LA7X'="" S $P(LA7CODE,"!")=LA7X,$P(LA7MISS,"^")=""
"RTN","LA7VHLU5",44,0)
 . ; Default result NLT
"RTN","LA7VHLU5",45,0)
 . I $P(LA7MISS,"^",2) D
"RTN","LA7VHLU5",46,0)
 . . S LA7X=+$P($G(^LAB(60,LA760,64)),"^",2),LA7Y=""
"RTN","LA7VHLU5",47,0)
 . . I LA7X S LA7Y=$$GET1^DIQ(64,LA7X_",",1)
"RTN","LA7VHLU5",48,0)
 . . I LA7Y'="" S $P(LA7CODE,"!",2)=LA7Y,$P(LA7MISS,"^",2)=""
"RTN","LA7VHLU5",49,0)
 ;
"RTN","LA7VHLU5",50,0)
 ; If no result NLT code then use order NLT as default
"RTN","LA7VHLU5",51,0)
 I $P(LA7CODE,"!",2)="" S $P(LA7CODE,"!",2)=$P(LA7CODE,"!")
"RTN","LA7VHLU5",52,0)
 ;
"RTN","LA7VHLU5",53,0)
 ; If no order NLT code found on file #60 entries then use this default
"RTN","LA7VHLU5",54,0)
 I $P(LA7CODE,"!")="" S $P(LA7CODE,"!")="81323.0000"
"RTN","LA7VHLU5",55,0)
 ;
"RTN","LA7VHLU5",56,0)
 ; Default result LOINC code based on result NLT code
"RTN","LA7VHLU5",57,0)
 ; If none on NLT result code then try order NLT code
"RTN","LA7VHLU5",58,0)
 ;START OF CHANGE FOR LA*5.2*92
"RTN","LA7VHLU5",59,0)
 N LA760C1,LA7XC,LA7YC S LA760C1=0
"RTN","LA7VHLU5",60,0)
 I $P(LA7CODE,"!",2)'="" F  S LA760C1=$O(^LAB(60,"C",LRSS_";"_LRSB_";1",LA760C1)) Q:'LA760C1  S LA7XC=+$P($G(^LAB(60,LA760C1,64)),"^",2) I LA7XC S LA7YC=$$GET1^DIQ(64,LA7XC_",",1) I LA7YC'=""&(LA7YC=$P(LA7CODE,"!",2)) Q
"RTN","LA7VHLU5",61,0)
 ;END OF CHANGE FOR LA*5.2*92
"RTN","LA7VHLU5",62,0)
 I $P(LA7MISS,"^",3) D
"RTN","LA7VHLU5",63,0)
 . S LA7NLT=$P(LA7CODE,"!",2),LA7X=""
"RTN","LA7VHLU5",64,0)
 . ;START OF CHANGE FOR LA*5.2*92
"RTN","LA7VHLU5",65,0)
 . ;I LA7NLT'="" S LA7X=$$LNC^LRVER1(LA7NLT,$P(LA7CODE,"!",4),LA761)
"RTN","LA7VHLU5",66,0)
 . I LA7NLT'="" S LA7X=$$LNC^LRVER1(LA7NLT,$P(LA7CODE,"!",4),LA761,$G(LA760C1))
"RTN","LA7VHLU5",67,0)
 . ;END OF CHANGE FOR LA*5.2*92
"RTN","LA7VHLU5",68,0)
 . I LA7X S $P(LA7CODE,"!",3)=LA7X Q
"RTN","LA7VHLU5",69,0)
 . S LA7NLT=$P(LA7CODE,"!"),LA7X=""
"RTN","LA7VHLU5",70,0)
 . ;START OF CHANGE FOR LA*5.2*92
"RTN","LA7VHLU5",71,0)
 . ;I LA7NLT'="" S LA7X=$$LNC^LRVER1(LA7NLT,$P(LA7CODE,"!",4),LA761)
"RTN","LA7VHLU5",72,0)
 . I LA7NLT'="" S LA7X=$$LNC^LRVER1(LA7NLT,$P(LA7CODE,"!",4),LA761,$G(LA760C1))
"RTN","LA7VHLU5",73,0)
 . ;END OF CHANGE FOR LA*5.2*92
"RTN","LA7VHLU5",74,0)
 . I LA7X S $P(LA7CODE,"!",3)=LA7X
"RTN","LA7VHLU5",75,0)
 ;START OF CHANGE FOR LA*5.2*92
"RTN","LA7VHLU5",76,0)
 K LA760C1,LA7XC,LA7YC
"RTN","LA7VHLU5",77,0)
 ;END OF CHANGE FOR LA*5.2*92
"RTN","LA7VHLU5",78,0)
 ;
"RTN","LA7VHLU5",79,0)
 Q
"RTN","LA7VHLU5",80,0)
 ;
"RTN","LA7VHLU5",81,0)
 ;
"RTN","LA7VHLU5",82,0)
MISUB ; Determine codes for MI subscript
"RTN","LA7VHLU5",83,0)
 ;
"RTN","LA7VHLU5",84,0)
 ; Bacteriology report
"RTN","LA7VHLU5",85,0)
 I LRSB=11 S LA7DFCDE="87993.0000^93928.0000^" D DEFAULT Q
"RTN","LA7VHLU5",86,0)
 ;
"RTN","LA7VHLU5",87,0)
 ; Urine Screen
"RTN","LA7VHLU5",88,0)
 I LRSB=11.57 S LA7DFCDE="87993.0000^93948.0000^630" D DEFAULT Q
"RTN","LA7VHLU5",89,0)
 ;
"RTN","LA7VHLU5",90,0)
 ; Sputum screen
"RTN","LA7VHLU5",91,0)
 I LRSB=11.58 S LA7DFCDE="87993.0000^93949.0000^6460" D DEFAULT Q
"RTN","LA7VHLU5",92,0)
 ;
"RTN","LA7VHLU5",93,0)
 ; Gram stain
"RTN","LA7VHLU5",94,0)
 I LRSB=11.6 S LA7DFCDE="87993.0000^87754.0000^664" D DEFAULT Q
"RTN","LA7VHLU5",95,0)
 ;
"RTN","LA7VHLU5",96,0)
 ; Bacteriology organism
"RTN","LA7VHLU5",97,0)
 I LRSB=12 S LA7DFCDE="87993.0000^87570.0000^11475" D DEFAULT Q
"RTN","LA7VHLU5",98,0)
 ;
"RTN","LA7VHLU5",99,0)
 ; Bacteria colony count
"RTN","LA7VHLU5",100,0)
 I +LRSB=12,$P(LRSB,",",2)=1 S LA7DFCDE="^87719.0000^564" D DEFAULT Q
"RTN","LA7VHLU5",101,0)
 ;
"RTN","LA7VHLU5",102,0)
 ; Bacteriology smear/prep
"RTN","LA7VHLU5",103,0)
 I LRSB=11.7 S LA7DFCDE="87993.0000^93967.0000^" D DEFAULT Q
"RTN","LA7VHLU5",104,0)
 ;
"RTN","LA7VHLU5",105,0)
 ; Bacteriology test
"RTN","LA7VHLU5",106,0)
 I LRSB=1.5 S LA7DFCDE="87993.0000^93969.0000^" D DEFAULT Q
"RTN","LA7VHLU5",107,0)
 ;
"RTN","LA7VHLU5",108,0)
 ; Parasite report
"RTN","LA7VHLU5",109,0)
 I LRSB=14 S LA7DFCDE="87925.0000^93929.0000^" D DEFAULT Q
"RTN","LA7VHLU5",110,0)
 ;
"RTN","LA7VHLU5",111,0)
 ; Parasite organism
"RTN","LA7VHLU5",112,0)
 I LRSB=16 S LA7DFCDE="87925.0000^87576.0000^20932" D DEFAULT Q
"RTN","LA7VHLU5",113,0)
 ;
"RTN","LA7VHLU5",114,0)
 ; Parasite organism stage
"RTN","LA7VHLU5",115,0)
 I +LRSB=16,$P(LRSB,",",2)=.01 S LA7DFCDE="87925.0000^92930.0000^" D DEFAULT Q
"RTN","LA7VHLU5",116,0)
 ;
"RTN","LA7VHLU5",117,0)
 ; Parasite organism stage quantity
"RTN","LA7VHLU5",118,0)
 I +LRSB=16,$P(LRSB,",",2)=1 S LA7DFCDE="87925.0000^93997.0000^" D DEFAULT Q
"RTN","LA7VHLU5",119,0)
 ;
"RTN","LA7VHLU5",120,0)
 ; Parasitology smear/prep
"RTN","LA7VHLU5",121,0)
 I LRSB=15.51 S LA7DFCDE="87925.0000^93971.0000^" D DEFAULT Q
"RTN","LA7VHLU5",122,0)
 ;
"RTN","LA7VHLU5",123,0)
 ; Parasitology test
"RTN","LA7VHLU5",124,0)
 I LRSB=16.4 S LA7DFCDE="87925.0000^93972.0000^" D DEFAULT Q
"RTN","LA7VHLU5",125,0)
 ;
"RTN","LA7VHLU5",126,0)
 ; Mycology report
"RTN","LA7VHLU5",127,0)
 I LRSB=18 S LA7DFCDE="87994.0000^93930.0000^" D DEFAULT Q
"RTN","LA7VHLU5",128,0)
 ;
"RTN","LA7VHLU5",129,0)
 ; Mycology smear/prep
"RTN","LA7VHLU5",130,0)
 I LRSB=19.6 S LA7DFCDE="87994.0000^93984.0000^" D DEFAULT Q
"RTN","LA7VHLU5",131,0)
 ;
"RTN","LA7VHLU5",132,0)
 ; Mycology test
"RTN","LA7VHLU5",133,0)
 I LRSB=20.4 S LA7DFCDE="87994.0000^93974.0000^" D DEFAULT Q
"RTN","LA7VHLU5",134,0)
 ;
"RTN","LA7VHLU5",135,0)
 ; Fungal organism
"RTN","LA7VHLU5",136,0)
 I LRSB=20 S LA7DFCDE="87994.0000^87578.0000^580" D DEFAULT Q
"RTN","LA7VHLU5",137,0)
 ;
"RTN","LA7VHLU5",138,0)
 ; Fungal colony count
"RTN","LA7VHLU5",139,0)
 I +LRSB=20,$P(LRSB,",",2)=1 S LA7DFCDE="87994.0000^87723.0000^19101" D DEFAULT Q
"RTN","LA7VHLU5",140,0)
 ;
"RTN","LA7VHLU5",141,0)
 ; Mycobacterium report
"RTN","LA7VHLU5",142,0)
 I LRSB=22 S LA7DFCDE="87995.0000^93931.0000^" D DEFAULT Q
"RTN","LA7VHLU5",143,0)
 ;
"RTN","LA7VHLU5",144,0)
 ; Acid Fast stain
"RTN","LA7VHLU5",145,0)
 I LRSB=24 S LA7DFCDE="87995.0000^87756.0000^11545" D DEFAULT Q
"RTN","LA7VHLU5",146,0)
 ;
"RTN","LA7VHLU5",147,0)
 ; Acid Fast stain quantity
"RTN","LA7VHLU5",148,0)
 I LRSB=25 S LA7DFCDE="87995.0000^87583.0000^" D DEFAULT Q
"RTN","LA7VHLU5",149,0)
 ;
"RTN","LA7VHLU5",150,0)
 ; Mycobacterium organism
"RTN","LA7VHLU5",151,0)
 I +LRSB=26,'$P(LRSB,",",2) S LA7DFCDE="87995.0000^87589.0000^543" D DEFAULT Q
"RTN","LA7VHLU5",152,0)
 ;
"RTN","LA7VHLU5",153,0)
 ; Mycobacterium colony count
"RTN","LA7VHLU5",154,0)
 I +LRSB=26,$P(LRSB,",",2)=1 S LA7DFCDE="87995.0000^87719.0000^564" D DEFAULT Q
"RTN","LA7VHLU5",155,0)
 ;
"RTN","LA7VHLU5",156,0)
 ; Bact or TB organism's susceptibilities
"RTN","LA7VHLU5",157,0)
 I ($P(LRSB,",")=12!($P(LRSB,",")=26)),$P(LRSB,",",2)>2,$P(LRSB,",",2)<2.999 D  Q
"RTN","LA7VHLU5",158,0)
 . S LA7X=""
"RTN","LA7VHLU5",159,0)
 . I $P(LRSB,",")=12 D
"RTN","LA7VHLU5",160,0)
 . . S LA7DFCDE="87565.0000^^"
"RTN","LA7VHLU5",161,0)
 . . S LA7X=$O(^LAB(62.06,"AD",$P(LRSB,",",2),0))
"RTN","LA7VHLU5",162,0)
 . I $P(LRSB,",")=26 D
"RTN","LA7VHLU5",163,0)
 . . S LA7DFCDE="87568.0000^^"
"RTN","LA7VHLU5",164,0)
 . . S LA7X=$O(^LAB(62.06,"AD1",$P(LRSB,",",2),0))
"RTN","LA7VHLU5",165,0)
 . I LA7X D
"RTN","LA7VHLU5",166,0)
 . . S X=$$GET1^DIQ(62.06,LA7X_",","64:1")
"RTN","LA7VHLU5",167,0)
 . . I X S $P(LA7DFCDE,"^",2)=X
"RTN","LA7VHLU5",168,0)
 . D DEFAULT
"RTN","LA7VHLU5",169,0)
 ;
"RTN","LA7VHLU5",170,0)
 ; TB test
"RTN","LA7VHLU5",171,0)
 I LRSB=26.4 S LA7DFCDE="87995.0000^93977.0000^" D DEFAULT Q
"RTN","LA7VHLU5",172,0)
 ;
"RTN","LA7VHLU5",173,0)
 ; Virology report
"RTN","LA7VHLU5",174,0)
 I LRSB=33 S LA7DFCDE="87996.0000^93932.0000^" D DEFAULT Q
"RTN","LA7VHLU5",175,0)
 ;
"RTN","LA7VHLU5",176,0)
 ; Viral agent
"RTN","LA7VHLU5",177,0)
 I $P(LRSB,",")=36 S LA7DFCDE="87996.0000^87590.0000^6584" D DEFAULT Q
"RTN","LA7VHLU5",178,0)
 ;
"RTN","LA7VHLU5",179,0)
 ; Virology test
"RTN","LA7VHLU5",180,0)
 I LRSB=36.4 S LA7DFCDE="87996.0000^93981.0000^" D DEFAULT Q
"RTN","LA7VHLU5",181,0)
 ;
"RTN","LA7VHLU5",182,0)
 ; Sterility results
"RTN","LA7VHLU5",183,0)
 I LRSB=11.52 S LA7DFCDE="93982.0000^93982.0000^" D DEFAULT Q
"RTN","LA7VHLU5",184,0)
 ;
"RTN","LA7VHLU5",185,0)
 Q
"RTN","LA7VHLU5",186,0)
 ;
"RTN","LA7VHLU5",187,0)
 ;
"RTN","LA7VHLU5",188,0)
SPSUB ; Determine codes for SP subscript
"RTN","LA7VHLU5",189,0)
 ;
"RTN","LA7VHLU5",190,0)
 ; specimens
"RTN","LA7VHLU5",191,0)
 I $P(LRSB,",")=.012 S LA7DFCDE="88515.0000^88539.0000^22633" D DEFAULT Q
"RTN","LA7VHLU5",192,0)
 I LRSB=10 S LA7DFCDE="88515.0000^88539.0000^22633" D DEFAULT Q
"RTN","LA7VHLU5",193,0)
 ;
"RTN","LA7VHLU5",194,0)
 ; brief clinical history
"RTN","LA7VHLU5",195,0)
 I LRSB=.013 S LA7DFCDE="88515.0000^88542.0000^22636" D DEFAULT Q
"RTN","LA7VHLU5",196,0)
 ;
"RTN","LA7VHLU5",197,0)
 ; preoperative diagnosis
"RTN","LA7VHLU5",198,0)
 I LRSB=.014 S LA7DFCDE="88515.0000^88544.0000^10219" D DEFAULT Q
"RTN","LA7VHLU5",199,0)
 ;
"RTN","LA7VHLU5",200,0)
 ; operative findings
"RTN","LA7VHLU5",201,0)
 I LRSB=.015 S LA7DFCDE="88515.0000^88546.0000^10215" D DEFAULT Q
"RTN","LA7VHLU5",202,0)
 ;
"RTN","LA7VHLU5",203,0)
 ; postoperative diagnosis
"RTN","LA7VHLU5",204,0)
 I LRSB=.016 S LA7DFCDE="88515.0000^88547.0000^10218" D DEFAULT Q
"RTN","LA7VHLU5",205,0)
 ;
"RTN","LA7VHLU5",206,0)
 ; gross description
"RTN","LA7VHLU5",207,0)
 I LRSB=1 S LA7DFCDE="88515.0000^88549.0000^22634" D DEFAULT Q
"RTN","LA7VHLU5",208,0)
 ;
"RTN","LA7VHLU5",209,0)
 ; microscopic description
"RTN","LA7VHLU5",210,0)
 I LRSB=1.1 S LA7DFCDE="88515.0000^88563.0000^22635" D DEFAULT Q
"RTN","LA7VHLU5",211,0)
 ;
"RTN","LA7VHLU5",212,0)
 ; frozen section
"RTN","LA7VHLU5",213,0)
 I LRSB=1.3 S LA7DFCDE="88515.0000^88569.0000^22635" D DEFAULT Q
"RTN","LA7VHLU5",214,0)
 ;
"RTN","LA7VHLU5",215,0)
 ; surgical path diagnosis
"RTN","LA7VHLU5",216,0)
 I LRSB=1.4 S LA7DFCDE="88515.0000^88571.0000^22637" D DEFAULT Q
"RTN","LA7VHLU5",217,0)
 ;
"RTN","LA7VHLU5",218,0)
 ; supplementary report
"RTN","LA7VHLU5",219,0)
 I LRSB=1.2!(LRSB="10,5") S LA7DFCDE="88589.0000^88589.0000^22639" D DEFAULT Q
"RTN","LA7VHLU5",220,0)
 ;
"RTN","LA7VHLU5",221,0)
 ; specimen weight
"RTN","LA7VHLU5",222,0)
 I LRSB="10,2" S LA7DFCDE="88515.0000^81233.0000^3154" D DEFAULT Q
"RTN","LA7VHLU5",223,0)
 ;
"RTN","LA7VHLU5",224,0)
 Q
"RTN","LA7VHLU5",225,0)
 ;
"RTN","LA7VHLU5",226,0)
 ;
"RTN","LA7VHLU5",227,0)
CYSUB ;  Determine codes for CY subscript
"RTN","LA7VHLU5",228,0)
 ;
"RTN","LA7VHLU5",229,0)
 ; specimens
"RTN","LA7VHLU5",230,0)
 I $P(LRSB,",")=.012 S LA7DFCDE="88593.0000^88539.0000^22633" D DEFAULT Q
"RTN","LA7VHLU5",231,0)
 I LRSB=10 S LA7DFCDE="88593.0000^88539.0000^22633" D DEFAULT Q
"RTN","LA7VHLU5",232,0)
 ;
"RTN","LA7VHLU5",233,0)
 ; brief clinical history
"RTN","LA7VHLU5",234,0)
 I LRSB=.013 S LA7DFCDE="88593.0000^88542.0000^22636" D DEFAULT Q
"RTN","LA7VHLU5",235,0)
 ;
"RTN","LA7VHLU5",236,0)
 ; preoperative diagnosis
"RTN","LA7VHLU5",237,0)
 I LRSB=.014 S LA7DFCDE="88593.0000^88544.0000^10219" D DEFAULT Q
"RTN","LA7VHLU5",238,0)
 ;
"RTN","LA7VHLU5",239,0)
 ; operative findings
"RTN","LA7VHLU5",240,0)
 I LRSB=.015 S LA7DFCDE="88593.0000^88542.0000^10215" D DEFAULT Q
"RTN","LA7VHLU5",241,0)
 ;
"RTN","LA7VHLU5",242,0)
 ; postoperative diagnosis
"RTN","LA7VHLU5",243,0)
 I LRSB=.016 S LA7DFCDE="88593.0000^88547.0000^10218" D DEFAULT Q
"RTN","LA7VHLU5",244,0)
 ;
"RTN","LA7VHLU5",245,0)
 ; gross description
"RTN","LA7VHLU5",246,0)
 I LRSB=1!(LRSB=20) S LA7DFCDE="88593.0000^88549.0000^22634" D DEFAULT Q
"RTN","LA7VHLU5",247,0)
 ;
"RTN","LA7VHLU5",248,0)
 ; microscopic examination
"RTN","LA7VHLU5",249,0)
 I LRSB=1.1 S LA7DFCDE="88593.0000^88563.0000^22635" D DEFAULT Q
"RTN","LA7VHLU5",250,0)
 ;
"RTN","LA7VHLU5",251,0)
 ; supplementary report
"RTN","LA7VHLU5",252,0)
 I LRSB=1.2 S LA7DFCDE="88589.0000^88589.0000^22639" D DEFAULT Q
"RTN","LA7VHLU5",253,0)
 ;
"RTN","LA7VHLU5",254,0)
 ; cytopathology diagnosis
"RTN","LA7VHLU5",255,0)
 I LRSB=1.4 S LA7DFCDE="88593.0000^88571.0000^22637" D DEFAULT Q
"RTN","LA7VHLU5",256,0)
 ;
"RTN","LA7VHLU5",257,0)
 Q
"RTN","LA7VHLU5",258,0)
 ;
"RTN","LA7VHLU5",259,0)
 ;
"RTN","LA7VHLU5",260,0)
EMSUB ;  Determine codes for EM subscript
"RTN","LA7VHLU5",261,0)
 ;
"RTN","LA7VHLU5",262,0)
 ; specimens
"RTN","LA7VHLU5",263,0)
 I $P(LRSB,",")=.012 S LA7DFCDE="88597.0000^88057.0000^22633" D DEFAULT Q
"RTN","LA7VHLU5",264,0)
 I LRSB=10 S LA7DFCDE="88597.0000^88057.0000^22633" D DEFAULT Q
"RTN","LA7VHLU5",265,0)
 ;
"RTN","LA7VHLU5",266,0)
 ; brief clinical history
"RTN","LA7VHLU5",267,0)
 I LRSB=.013 S LA7DFCDE="88597.0000^88542.0000^22636" D DEFAULT Q
"RTN","LA7VHLU5",268,0)
 ;
"RTN","LA7VHLU5",269,0)
 ; preoperative diagnosis
"RTN","LA7VHLU5",270,0)
 I LRSB=.014 S LA7DFCDE="88597.0000^88544.0000^10219" D DEFAULT Q
"RTN","LA7VHLU5",271,0)
 ;
"RTN","LA7VHLU5",272,0)
 ; operative findings
"RTN","LA7VHLU5",273,0)
 I LRSB=.015 S LA7DFCDE="88597.0000^88542.0000^10215" D DEFAULT Q
"RTN","LA7VHLU5",274,0)
 ;
"RTN","LA7VHLU5",275,0)
 ; postoperative diagnosis
"RTN","LA7VHLU5",276,0)
 I LRSB=.016 S LA7DFCDE="88597.0000^88547.0000^10218" D DEFAULT Q
"RTN","LA7VHLU5",277,0)
 ;
"RTN","LA7VHLU5",278,0)
 ; gross description
"RTN","LA7VHLU5",279,0)
 I LRSB=1!(LRSB=20) S LA7DFCDE="88597.0000^88549.0000^22634" D DEFAULT Q
"RTN","LA7VHLU5",280,0)
 ;
"RTN","LA7VHLU5",281,0)
 ; microscopic examination
"RTN","LA7VHLU5",282,0)
 I LRSB=1.1 S LA7DFCDE="88597.0000^88563.0000^22635" D DEFAULT Q
"RTN","LA7VHLU5",283,0)
 ;
"RTN","LA7VHLU5",284,0)
 ; supplementary report
"RTN","LA7VHLU5",285,0)
 I LRSB=1.2 S LA7DFCDE="88589.0000^88589.0000^22639" D DEFAULT Q
"RTN","LA7VHLU5",286,0)
 ;
"RTN","LA7VHLU5",287,0)
 ; em diagnosis
"RTN","LA7VHLU5",288,0)
 I LRSB=1.4 S LA7DFCDE="88597.0000^88571.0000^22637" D DEFAULT Q
"RTN","LA7VHLU5",289,0)
 ;
"RTN","LA7VHLU5",290,0)
 Q
"RTN","LA7VHLU5",291,0)
 ;
"RTN","LA7VHLU5",292,0)
 ;
"RTN","LA7VHLU5",293,0)
DEFAULT ; Resolve codes and set defaults as needed
"RTN","LA7VHLU5",294,0)
 ;
"RTN","LA7VHLU5",295,0)
 ; Expects LA7DFCDE=default order NLT^default result NLT^default LOINC code
"RTN","LA7VHLU5",296,0)
 ;
"RTN","LA7VHLU5",297,0)
 I $P(LA7MISS,"^") S $P(LA7CODE,"!")=$P(LA7DFCDE,"^")
"RTN","LA7VHLU5",298,0)
 I $P(LA7MISS,"^",2) S $P(LA7CODE,"!",2)=$P(LA7DFCDE,"^",2)
"RTN","LA7VHLU5",299,0)
 I $P(LA7MISS,"^",3) D
"RTN","LA7VHLU5",300,0)
 . ;START OF CHANGE FOR LA*5.2*92
"RTN","LA7VHLU5",301,0)
 . ;S $P(LA7CODE,"!",3)=$$LNC^LRVER1($P(LA7CODE,"!",2),$P(LA7CODE,"!",4),LA761)
"RTN","LA7VHLU5",302,0)
 . S $P(LA7CODE,"!",3)=$$LNC^LRVER1($P(LA7CODE,"!",2),$P(LA7CODE,"!",4),LA761,0)
"RTN","LA7VHLU5",303,0)
 . ;END OF CHANGE FOR LA*5.2*92
"RTN","LA7VHLU5",304,0)
 . I '$P(LA7CODE,"!",3) S $P(LA7CODE,"!",3)=$P(LA7DFCDE,"^",3)
"RTN","LA7VHLU5",305,0)
 Q
"VER")
8.0^22.0
"BLD",9772,6)
^69
**END**
**END**

