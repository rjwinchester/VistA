Released LA*5.2*91 SEQ #65
Extracted from mail message
**KIDS**:LA*5.2*91^

**INSTALL NAME**
LA*5.2*91
"BLD",9536,0)
LA*5.2*91^AUTOMATED LAB INSTRUMENTS^0^3151214^y
"BLD",9536,4,0)
^9.64PA^^
"BLD",9536,6.3)
4
"BLD",9536,"KRN",0)
^9.67PA^779.2^20
"BLD",9536,"KRN",.4,0)
.4
"BLD",9536,"KRN",.401,0)
.401
"BLD",9536,"KRN",.402,0)
.402
"BLD",9536,"KRN",.403,0)
.403
"BLD",9536,"KRN",.5,0)
.5
"BLD",9536,"KRN",.84,0)
.84
"BLD",9536,"KRN",3.6,0)
3.6
"BLD",9536,"KRN",3.8,0)
3.8
"BLD",9536,"KRN",9.2,0)
9.2
"BLD",9536,"KRN",9.8,0)
9.8
"BLD",9536,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",9536,"KRN",9.8,"NM",1,0)
LAMIAUT0^^0^B23814571
"BLD",9536,"KRN",9.8,"NM","B","LAMIAUT0",1)

"BLD",9536,"KRN",19,0)
19
"BLD",9536,"KRN",19.1,0)
19.1
"BLD",9536,"KRN",101,0)
101
"BLD",9536,"KRN",409.61,0)
409.61
"BLD",9536,"KRN",771,0)
771
"BLD",9536,"KRN",779.2,0)
779.2
"BLD",9536,"KRN",870,0)
870
"BLD",9536,"KRN",8989.51,0)
8989.51
"BLD",9536,"KRN",8989.52,0)
8989.52
"BLD",9536,"KRN",8994,0)
8994
"BLD",9536,"KRN","B",.4,.4)

"BLD",9536,"KRN","B",.401,.401)

"BLD",9536,"KRN","B",.402,.402)

"BLD",9536,"KRN","B",.403,.403)

"BLD",9536,"KRN","B",.5,.5)

"BLD",9536,"KRN","B",.84,.84)

"BLD",9536,"KRN","B",3.6,3.6)

"BLD",9536,"KRN","B",3.8,3.8)

"BLD",9536,"KRN","B",9.2,9.2)

"BLD",9536,"KRN","B",9.8,9.8)

"BLD",9536,"KRN","B",19,19)

"BLD",9536,"KRN","B",19.1,19.1)

"BLD",9536,"KRN","B",101,101)

"BLD",9536,"KRN","B",409.61,409.61)

"BLD",9536,"KRN","B",771,771)

"BLD",9536,"KRN","B",779.2,779.2)

"BLD",9536,"KRN","B",870,870)

"BLD",9536,"KRN","B",8989.51,8989.51)

"BLD",9536,"KRN","B",8989.52,8989.52)

"BLD",9536,"KRN","B",8994,8994)

"BLD",9536,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",9536,"QUES",0)
^9.62^^
"BLD",9536,"REQB",0)
^9.611^1^1
"BLD",9536,"REQB",1,0)
LA*5.2*42^2
"BLD",9536,"REQB","B","LA*5.2*42",1)

"MBREQ")
0
"PKG",53,-1)
1^1
"PKG",53,0)
AUTOMATED LAB INSTRUMENTS^LA^Lab Auto-Instrument Package
"PKG",53,22,0)
^9.49I^1^1
"PKG",53,22,1,0)
5.2^2940927^2950611
"PKG",53,22,1,"PAH",1,0)
91^3151214
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","LAMIAUT0")
0^1^B23814571^B23786786
"RTN","LAMIAUT0",1,0)
LAMIAUT0 ;SLC/FHS -  MICRO AUTO INSTRUMENT PROGRAM VITEK ;7/20/90  09:31 ;
"RTN","LAMIAUT0",2,0)
 ;;5.2;AUTOMATED LAB INSTRUMENTS;**42,91**;Sep 27, 1994;Build 4
"RTN","LAMIAUT0",3,0)
EN ;
"RTN","LAMIAUT0",4,0)
 D CLEAN,^LRPARAM S LRMIDEF=$P(^LAB(69.9,1,1),U,10),LRMIOTH=$P(^(1),U,11),LRINI=$P(^VA(200,DUZ,0),U,2),LRMICOM=$S($D(^DD(63.31,.01,0)):$P(^(0),U,5,99),1:"S Q9=""1,68,KM"" D COM^LRNUM"),LRMICOMS=$P($P(LRMICOM,",",3),"""",1)
"RTN","LAMIAUT0",5,0)
 S LRTEC=LRINI K DIC S DIC=68,DIC(0)="ZMAQE",DIC("S")="I $P(^(0),U,2)=""MI""" D ^DIC G CLEAN:Y<1 S (LRCAPMS,LRAAD,LRCAPWA)=+Y,LAMIAUTO=1
"RTN","LAMIAUT0",6,0)
ACCESS I $P(Y(0),U,14),'$D(^XUSEC($P(^DIC(19.1,$P(Y(0),U,14),0),U),DUZ)) W !!?10,"ACCESS IS DENIED ",$C(7) G CLEAN
"RTN","LAMIAUT0",7,0)
 S TAB1="?20",TAB2="?30",TAB3="?35",LREND=0,LRFIFO=0
"RTN","LAMIAUT0",8,0)
 S LRTRAN=$P(^LRO(68,LRAAD,0),U,3)
"RTN","LAMIAUT0",9,0)
 S DT=$$DT^XLFDT
"RTN","LAMIAUT0",10,0)
 S %DT="AEP",%DT("A")="Select "_$S(LRTRAN=""!("WMQD"]LRTRAN):"Accession Date: ",1:"Accession Year: ")
"RTN","LAMIAUT0",11,0)
 S %DT("B")=$$FMTE^XLFDT($$CADT^LA7UTIL(LRAAD),"1") ; Calculate default date based on accession transform.
"RTN","LAMIAUT0",12,0)
 D DATE^LRWU S LRADDF=+Y I LRADDF<1 G CLEAN
"RTN","LAMIAUT0",13,0)
 K DIC S LREND=0,LRACC="",LRSS="MI",DIC=62.4,DIC("S")="I +Y<1000",DIC(0)="AQEZ",DIC("A")="Select Auto Instrument: " D ^DIC G:Y<1 CLEAN S LRLL=$P(Y(0),U,4),LRINST=+Y I '$L(LRLL) W $C(7),!!!,?10,"No Load List For "_$P(Y,U,2),! G CLEAN
"RTN","LAMIAUT0",14,0)
 I '$O(^LAH(LRLL,1,"C",0)) W !!,$C(7),$P(Y(0),U)," Has no data   TRY LATER " D CLEAN Q
"RTN","LAMIAUT0",15,0)
 S LRVT="VS" I $L($P(Y(0),U,15)) S LRVT=$P(Y(0),U,15)
"RTN","LAMIAUT0",16,0)
 S LRFMT=$P(^LAB(69.9,1,0),U,11),LRFMT=$S(LRFMT="":"I",1:LRFMT)
"RTN","LAMIAUT0",17,0)
 S LRAA=LRAAD D AUTO^LRCAPV I $G(LREND) K LREND G CLEAN
"RTN","LAMIAUT0",18,0)
 F LRAN=0:0 S LRAN=$O(^LAH(LRLL,1,"C",LRAN)) Q:LRAN<1  D LRANX I LREND Q
"RTN","LAMIAUT0",19,0)
 I '$D(^LAH(LRLL,1,"C")) W !!?10,"End of Data",!!,$C(7)
"RTN","LAMIAUT0",20,0)
CLEAN ;
"RTN","LAMIAUT0",21,0)
 LOCK
"RTN","LAMIAUT0",22,0)
 K LRRB,LRSB,LRTREA,VA,XX,LAMIAUTO,LRCAPWA
"RTN","LAMIAUT0",23,0)
 D KVAR^VADPT
"RTN","LAMIAUT0",24,0)
 K A,DD,GLB,LAYGO,LACAPMS,LRCDEF,LRCDEF0,LRCNT,LRCODE,LRCODEN,LRCSQ,LRCY,LRP,LRPN,LRQC,LRSSC,LRSSCX,LRSTD,LRSTR,LRT,LRTIME,LRTS,NODE,NODE0,ZTSK
"RTN","LAMIAUT0",25,0)
 K %,LRTEC,%DT,%X,%Y,A,AGE,B,B1,B2,B3,DA,DFN,DIC,DIE,DOB,DR,I,II,J,K,LR1PASS,LR2ORMOR,LRAA,LRAAD,LRAADF,LRABVNT,LRACC,LRACCN,LRACNT,LRAD,LRADDF,LRAN,LRAO,LRBN,LRBUG,LRTEC
"RTN","LAMIAUT0",26,0)
 K IR,IX,IXI,LRABCNT,LRLL,LRCNODE,LRD,LRDR,LRDRDX,LRINST,LRNAME,LRNTN,LRNX,LRODT,LRORGD,LRSUB,LRTEST,N,T1,X9,AA,LRDRD,LRCARD,LRDRNAME,LRALL,LRPHYN,LRCAPMS
"RTN","LAMIAUT0",27,0)
 K LRCDT,LRCODE,LRCOMTAB,LRDCOM,LRDFN,LRDPF,LRDTR,LREAL,LREDIT,LREND,LRFLAG,LRFMT,LRI,LRIDT,LRIFN,LRINI,LRLL,LRLLOC,LRLLOC,LRMOVE,LRMICOM,LRMICOMS,LRMIDEF,LRMIOTH,LRODT
"RTN","LAMIAUT0",28,0)
 K LRPTP,LRY,LRVT,LRTS,LRSCOM,LRSAME,LRCAPOK,LRFIFO,LRNB,LRTPT,LRBDUP
"RTN","LAMIAUT0",29,0)
 K LRORG,LRORGCOM,LRORGN,LRPHY,LRRES,LRSAMP,LRSN,LRSPEC,LRSS,LRTCUP,LRTRAN,LRUNDO,LRWRD,LRWRDVEW,PNM,Q9,SEX,SSN,TAB1,TAB2,TAB3,X,X1,X2,Y
"RTN","LAMIAUT0",30,0)
 Q
"RTN","LAMIAUT0",31,0)
LRANX ;
"RTN","LAMIAUT0",32,0)
 W !!," Enter number Part of Accession "_LRAN_" // " R X:DTIME S:'$T!($E(X)="^") LREND=1 Q:LREND  S:X="" X=LRAN I $L(X),'$D(^LAH(LRLL,1,"C",X)) D LST S LREND=0 G LRANX
"RTN","LAMIAUT0",33,0)
 K LRAA S:$L(X) LRAN=X S LRIFN=+$O(^LAH(LRLL,1,"C",LRAN,0)) I 'LRIFN W !?7,"RETRANSMIT THE FILE",! Q
"RTN","LAMIAUT0",34,0)
 I '$D(^LAH(LRLL,1,LRIFN,0))#2 W !?7,"NO DATA FOR THIS NUMBER",! K ^LAH(LRLL,1,"C",LRAN,LRIFN) Q
"RTN","LAMIAUT0",35,0)
 S LRAA=+$S($P(^LAH(LRLL,1,LRIFN,0),U,3):$P(^(0),U,3),1:LRAAD) I '$D(^LRO(68,LRAA,0)) D ACC Q:Y<1
"RTN","LAMIAUT0",36,0)
DATE ;
"RTN","LAMIAUT0",37,0)
 Q:'$D(^LRO(68,LRAA,0))#2  S Y(0)=^(0),LRADDF=$P(Y(0),U,2)
"RTN","LAMIAUT0",38,0)
 S LRAD=+$S($P(^LAH(LRLL,1,LRIFN,0),U,4):$P(^(0),U,4),1:LRADDF) I $D(^LRO(68,LRAA,1,LRAD,1,LRAN)) G OK
"RTN","LAMIAUT0",39,0)
 S LRTRAN=$P(Y(0),U,3)
"RTN","LAMIAUT0",40,0)
 S DT=$$DT^XLFDT
"RTN","LAMIAUT0",41,0)
 S %DT="AEP",%DT("A")="Select "_$S(LRTRAN=""!("WMQD"]LRTRAN):"Accession Date: ",1:"Accession Year: ")
"RTN","LAMIAUT0",42,0)
 S %DT("B")=$$FMTE^XLFDT($$CADT^LA7UTIL(LRAA),"1") ; Calculate default date based on accession transform.
"RTN","LAMIAUT0",43,0)
 D DATE^LRWU
"RTN","LAMIAUT0",44,0)
 I '$D(^LRO(68,LRAA,1,Y)) W !!,$C(7)," THERE ARE NO ACCESSIONS FOR THIS DATE " S LRAN=0 Q
"RTN","LAMIAUT0",45,0)
 S LRAD=Y
"RTN","LAMIAUT0",46,0)
OK I '$D(^LRO(68,LRAA,1,LRAD,1,LRAN,0)) W !?7,"Not accessioned -- Would you like a list " S %=2 D YN^DICN G:%=1 SHOW Q
"RTN","LAMIAUT0",47,0)
 S LRTCUP=$P(^LAH(LRLL,1,LRIFN,0),U)_";"_$P(^(0),U,2) D ^LAMIAUT1 LOCK  ;Lock is set in BB+4^LAMIAUT1
"RTN","LAMIAUT0",48,0)
 Q
"RTN","LAMIAUT0",49,0)
LST ;
"RTN","LAMIAUT0",50,0)
 W !!,$S(+X>0:" ( "_X_" ) DOES NOT EXIST ",1:"")," WOULD YOU LIKE A LIST " S %=1,LREND=0 D YN^DICN S:%<0 LREND=1 Q:%'=1
"RTN","LAMIAUT0",51,0)
SHOW ;
"RTN","LAMIAUT0",52,0)
 S LREND=0 F A=0:0 S A=$O(^LAH(LRLL,1,"C",A)) Q:LREND!(A<1)  D:$Y>(IOSL-4) WAIT Q:$D(X)&($E(X)="^")  W !?10,A,"  " I '$D(^LRO(68,LRAAD,1,LRADDF,1,A)) W "   NOT ACCESSIONED "
"RTN","LAMIAUT0",53,0)
 Q
"RTN","LAMIAUT0",54,0)
WAIT R !!," PRESS RETURN FOR MORE ",X:DTIME S:'$T LREND=1 Q:LREND  W @IOF Q
"RTN","LAMIAUT0",55,0)
ACC ;
"RTN","LAMIAUT0",56,0)
 K DIC,Y S DIC("B")=$S($D(LRAADF):LRAADF,1:""),DIC=68,DIC(0)="AQEZM",DIC("S")="I $P(^(0),U,2)=""MI""" D ^DIC Q:Y<1  S LRAA=+Y,LRAADF=$P(Y,U,2)
"RTN","LAMIAUT0",57,0)
 Q
"VER")
8.0^22.0
"BLD",9536,6)
^65
**END**
**END**

