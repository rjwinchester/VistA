Released FH*5.5*43 SEQ #45
Extracted from mail message
**KIDS**:FH*5.5*43^

**INSTALL NAME**
FH*5.5*43
"BLD",10212,0)
FH*5.5*43^DIETETICS^0^3190104^y
"BLD",10212,1,0)
^^1^1^3170501^
"BLD",10212,1,1,0)
DIETETICS
"BLD",10212,4,0)
^9.64PA^115^4
"BLD",10212,4,115,0)
115
"BLD",10212,4,115,2,0)
^9.641^115^1
"BLD",10212,4,115,2,115,0)
NUTRITION PERSON  (File-top level)
"BLD",10212,4,115,2,115,1,0)
^9.6411^22.2^3
"BLD",10212,4,115,2,115,1,22,0)
BREAKFAST FLAG
"BLD",10212,4,115,2,115,1,22.1,0)
NOON
"BLD",10212,4,115,2,115,1,22.2,0)
EVENING FLAG
"BLD",10212,4,115,222)
y^y^p^^^^n^^n
"BLD",10212,4,115,224)

"BLD",10212,4,117.024,0)
117.024
"BLD",10212,4,117.024,222)
y^y^f^^n^^n^r^n
"BLD",10212,4,117.0241,0)
117.0241
"BLD",10212,4,117.0241,222)
y^y^f^^n^^y^r^n
"BLD",10212,4,117.0243,0)
117.0243
"BLD",10212,4,117.0243,222)
y^y^f^^n^^y^r^n
"BLD",10212,4,"APDD",115,115)

"BLD",10212,4,"APDD",115,115,22)

"BLD",10212,4,"APDD",115,115,22.1)

"BLD",10212,4,"APDD",115,115,22.2)

"BLD",10212,4,"B",115,115)

"BLD",10212,4,"B",117.024,117.024)

"BLD",10212,4,"B",117.0241,117.0241)

"BLD",10212,4,"B",117.0243,117.0243)

"BLD",10212,6.3)
66
"BLD",10212,"ABPKG")
n
"BLD",10212,"INI")
FH43P
"BLD",10212,"INID")
^y^n
"BLD",10212,"INIT")
FHP43
"BLD",10212,"KRN",0)
^9.67PA^779.2^20
"BLD",10212,"KRN",.4,0)
.4
"BLD",10212,"KRN",.401,0)
.401
"BLD",10212,"KRN",.402,0)
.402
"BLD",10212,"KRN",.403,0)
.403
"BLD",10212,"KRN",.5,0)
.5
"BLD",10212,"KRN",.84,0)
.84
"BLD",10212,"KRN",3.6,0)
3.6
"BLD",10212,"KRN",3.8,0)
3.8
"BLD",10212,"KRN",9.2,0)
9.2
"BLD",10212,"KRN",9.8,0)
9.8
"BLD",10212,"KRN",9.8,"NM",0)
^9.68A^5^4
"BLD",10212,"KRN",9.8,"NM",1,0)
FHQUE^^0^B25912403
"BLD",10212,"KRN",9.8,"NM",3,0)
FHNO21^^0^B21077978
"BLD",10212,"KRN",9.8,"NM",4,0)
FHMTK1C^^0^B20731472
"BLD",10212,"KRN",9.8,"NM",5,0)
FHMTK1D^^0^B11272478
"BLD",10212,"KRN",9.8,"NM","B","FHMTK1C",4)

"BLD",10212,"KRN",9.8,"NM","B","FHMTK1D",5)

"BLD",10212,"KRN",9.8,"NM","B","FHNO21",3)

"BLD",10212,"KRN",9.8,"NM","B","FHQUE",1)

"BLD",10212,"KRN",19,0)
19
"BLD",10212,"KRN",19,"NM",0)
^9.68A^9^5
"BLD",10212,"KRN",19,"NM",4,0)
FHQUE^^0
"BLD",10212,"KRN",19,"NM",5,0)
FHQUE OPTION EDIT^^0
"BLD",10212,"KRN",19,"NM",6,0)
FHQUE TEST^^0
"BLD",10212,"KRN",19,"NM",8,0)
FHMTK1D^^0^
"BLD",10212,"KRN",19,"NM",9,0)
FHMTKM^^2
"BLD",10212,"KRN",19,"NM","B","FHMTK1D",8)

"BLD",10212,"KRN",19,"NM","B","FHMTKM",9)

"BLD",10212,"KRN",19,"NM","B","FHQUE",4)

"BLD",10212,"KRN",19,"NM","B","FHQUE OPTION EDIT",5)

"BLD",10212,"KRN",19,"NM","B","FHQUE TEST",6)

"BLD",10212,"KRN",19.1,0)
19.1
"BLD",10212,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",10212,"KRN",101,0)
101
"BLD",10212,"KRN",101,"NM",0)
^9.68A^^
"BLD",10212,"KRN",409.61,0)
409.61
"BLD",10212,"KRN",409.61,"NM",0)
^9.68A^^
"BLD",10212,"KRN",771,0)
771
"BLD",10212,"KRN",771,"NM",0)
^9.68A^^
"BLD",10212,"KRN",779.2,0)
779.2
"BLD",10212,"KRN",779.2,"NM",0)
^9.68A^^
"BLD",10212,"KRN",870,0)
870
"BLD",10212,"KRN",870,"NM",0)
^9.68A^^
"BLD",10212,"KRN",8989.51,0)
8989.51
"BLD",10212,"KRN",8989.51,"NM",0)
^9.68A^^
"BLD",10212,"KRN",8989.52,0)
8989.52
"BLD",10212,"KRN",8989.52,"NM",0)
^9.68A^^
"BLD",10212,"KRN",8994,0)
8994
"BLD",10212,"KRN",8994,"NM",0)
^9.68A^^
"BLD",10212,"KRN","B",.4,.4)

"BLD",10212,"KRN","B",.401,.401)

"BLD",10212,"KRN","B",.402,.402)

"BLD",10212,"KRN","B",.403,.403)

"BLD",10212,"KRN","B",.5,.5)

"BLD",10212,"KRN","B",.84,.84)

"BLD",10212,"KRN","B",3.6,3.6)

"BLD",10212,"KRN","B",3.8,3.8)

"BLD",10212,"KRN","B",9.2,9.2)

"BLD",10212,"KRN","B",9.8,9.8)

"BLD",10212,"KRN","B",19,19)

"BLD",10212,"KRN","B",19.1,19.1)

"BLD",10212,"KRN","B",101,101)

"BLD",10212,"KRN","B",409.61,409.61)

"BLD",10212,"KRN","B",771,771)

"BLD",10212,"KRN","B",779.2,779.2)

"BLD",10212,"KRN","B",870,870)

"BLD",10212,"KRN","B",8989.51,8989.51)

"BLD",10212,"KRN","B",8989.52,8989.52)

"BLD",10212,"KRN","B",8994,8994)

"BLD",10212,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",10212,"QUES",0)
^9.62^^
"BLD",10212,"REQB",0)
^9.611^^
"DATA",117.0241,1,0)
Sunday^1
"DATA",117.0241,2,0)
Monday^2
"DATA",117.0241,3,0)
Tuesday^3
"DATA",117.0241,4,0)
Wednesday^4
"DATA",117.0241,5,0)
Thursday^5
"DATA",117.0241,6,0)
Friday^6
"DATA",117.0241,7,0)
Saturday^0
"DATA",117.0243,2,0)
FHASNR4^^Q0^FHASN6
"DATA",117.0243,2,1,0)
^117.024302^2^2
"DATA",117.0243,2,1,1,0)
STS^^5
"DATA",117.0243,2,1,2,0)
SRT^^W
"DATA",117.0243,3,0)
FHBIR^^Q1^FHBIR
"DATA",117.0243,3,1,0)
^117.024302^2^2
"DATA",117.0243,3,1,1,0)
FHP^^0
"DATA",117.0243,3,1,2,0)
DAT^^T^1
"DATA",117.0243,5,0)
FHMTKP^^B1^FHMTK1A
"DATA",117.0243,5,1,0)
^117.024302^9^9
"DATA",117.0243,5,1,1,0)
D1^^T^1
"DATA",117.0243,5,1,2,0)
MEAL^1^
"DATA",117.0243,5,1,2,2,0)
^117.0243025^1^1^3181213^^
"DATA",117.0243,5,1,2,2,1,0)
Choose a meal to print: B for Breakfast, N for Noon, E for Evening meal :
"DATA",117.0243,5,1,3,0)
FHX1
"DATA",117.0243,5,1,3,1)
N FHDA,X S X1=DT D E1|FHPRC1 S FHDA=|FH(116,FHCY,"DA",FHDA,0),X=$G(|FH(116.3,D1,0)) S:$P(X,U,2) $P(FHDA,U,2)=$P(X,U,2) S:$P(X,U,3) $P(FHDA,U,3)=$P(X,U,3) S:$P(X,U,4) $P(FHDA,U,4)=$P(X,U,4) S FHX1=$P(FHDA,U,$F("BNE",MEAL))
"DATA",117.0243,5,1,4,0)
FHP
"DATA",117.0243,5,1,5,0)
W1
"DATA",117.0243,5,1,6,0)
DFN
"DATA",117.0243,5,1,7,0)
SUM^^0
"DATA",117.0243,5,1,8,0)
UPD^^0
"DATA",117.0243,5,1,9,0)
SRT^^R
"DATA",117.0243,7,0)
FHORD10^^^FHORD81
"DATA",117.0243,7,1,0)
^117.024302^4^4
"DATA",117.0243,7,1,1,0)
WRD^^0
"DATA",117.0243,7,1,2,0)
FHXX^^C
"DATA",117.0243,7,1,3,0)
SRT^^R
"DATA",117.0243,7,1,4,0)
SER^^A
"DATA",117.0243,11,0)
FHORT5S^^Q1^FHORT5A
"DATA",117.0243,11,1,0)
^117.024302^6^6
"DATA",117.0243,11,1,1,0)
FHXX^^W
"DATA",117.0243,11,1,2,0)
FHOPT^^5
"DATA",117.0243,11,1,3,0)
FHP^^0
"DATA",117.0243,11,1,4,0)
WRD^^0
"DATA",117.0243,11,1,5,0)
SUM^^1
"DATA",117.0243,11,1,6,0)
MUL^^0
"DATA",117.0243,12,0)
FHORTF5^^Q1^FHORT5A
"DATA",117.0243,12,1,0)
^117.024302^6^6
"DATA",117.0243,12,1,1,0)
FHXX^^1
"DATA",117.0243,12,1,2,0)
FHOPT^^1
"DATA",117.0243,12,1,3,0)
FHP^^0
"DATA",117.0243,12,1,4,0)
WRD^^0
"DATA",117.0243,12,1,5,0)
SUM^^0
"DATA",117.0243,12,1,6,0)
MUL^^0
"DATA",117.0243,13,0)
FHPATM^^F0^FHPATM
"DATA",117.0243,13,1,0)
^117.024302^2^2
"DATA",117.0243,13,1,1,0)
DAT^1^^1
"DATA",117.0243,13,1,1,2,0)
^^2^2^3141107^
"DATA",117.0243,13,1,1,2,1,0)
Please enter the time to run the report from.
"DATA",117.0243,13,1,1,2,2,0)
Example: T-1@1800 or T@0000.
"DATA",117.0243,13,1,2,0)
VAUTD^^1
"DATA",117.0243,14,0)
FHORD13^^Q1^FHORX1
"DATA",117.0243,14,1,0)
^117.024302^3^3
"DATA",117.0243,14,1,1,0)
TIM^1^^1
"DATA",117.0243,14,1,1,2,0)
^^2^2^3141107^
"DATA",117.0243,14,1,1,2,1,0)
Please enter the time to run the report from.
"DATA",117.0243,14,1,1,2,2,0)
Example: T-1@1800 or T@0000.
"DATA",117.0243,14,1,2,0)
LAB^^0
"DATA",117.0243,14,1,3,0)
FHP^^0
"DATA",117.0243,17,0)
FHORD5^^F1^FHORD5
"DATA",117.0243,17,1,0)
^117.024302^2^2
"DATA",117.0243,17,1,1,0)
FHP^^0
"DATA",117.0243,17,1,2,0)
SRT^^W
"FIA",115)
NUTRITION PERSON
"FIA",115,0)
^FHPT(
"FIA",115,0,0)
115
"FIA",115,0,1)
y^y^p^^^^n^^n
"FIA",115,0,10)

"FIA",115,0,11)

"FIA",115,0,"RLRO")

"FIA",115,0,"VR")
5.5^FH
"FIA",115,115)
1
"FIA",115,115,22)

"FIA",115,115,22.1)

"FIA",115,115,22.2)

"FIA",117.024)
FHQUE QUEUED REPORTS/LABELS
"FIA",117.024,0)
^FH(117.024,
"FIA",117.024,0,0)
117.024
"FIA",117.024,0,1)
y^y^f^^n^^n^r^n
"FIA",117.024,0,10)

"FIA",117.024,0,11)

"FIA",117.024,0,"RLRO")

"FIA",117.024,0,"VR")
5.5^FH
"FIA",117.024,117.024)
0
"FIA",117.024,117.02402)
0
"FIA",117.024,117.0242)
0
"FIA",117.0241)
FHQUE REPORT DAYS
"FIA",117.0241,0)
^FH(117.0241,
"FIA",117.0241,0,0)
117.0241
"FIA",117.0241,0,1)
y^y^f^^n^^y^r^n
"FIA",117.0241,0,10)

"FIA",117.0241,0,11)

"FIA",117.0241,0,"RLRO")

"FIA",117.0241,0,"VR")
5.5^FH
"FIA",117.0241,117.0241)
0
"FIA",117.0243)
FHQUE AVAILABLE OPTIONS
"FIA",117.0243,0)
^FH(117.0243,
"FIA",117.0243,0,0)
117.0243I
"FIA",117.0243,0,1)
y^y^f^^n^^y^r^n
"FIA",117.0243,0,10)

"FIA",117.0243,0,11)

"FIA",117.0243,0,"RLRO")

"FIA",117.0243,0,"VR")
5.5^FH
"FIA",117.0243,117.0243)
0
"FIA",117.0243,117.024302)
0
"FIA",117.0243,117.0243025)
0
"INI")
FH43P
"INIT")
FHP43
"KRN",19,2915924,-1)
2^9
"KRN",19,2915924,0)
FHMTKM^Tray Tickets^^M^568^^^^^^^164
"KRN",19,2915924,10,0)
^19.01IP^11^8
"KRN",19,2915924,10,8,0)
2921992^FE
"KRN",19,2915924,10,8,"^")
FHMTK1D
"KRN",19,2915924,10,9,0)
2921965^FHQ
"KRN",19,2915924,10,9,"^")
FHQUE
"KRN",19,2915924,10,10,0)
2921966^FHE
"KRN",19,2915924,10,10,"^")
FHQUE OPTION EDIT
"KRN",19,2915924,10,11,0)
2921967^FHT
"KRN",19,2915924,10,11,"^")
FHQUE TEST
"KRN",19,2915924,"U")
TRAY TICKETS
"KRN",19,2921965,-1)
0^4
"KRN",19,2921965,0)
FHQUE^Queue Diet Reports^^R^^FHMGR^^^^^^
"KRN",19,2921965,1,0)
^19.06^1^1^3170824^^^^
"KRN",19,2921965,1,1,0)
Main task to auto-queue Diet reports and labels.
"KRN",19,2921965,25)
FHQUE
"KRN",19,2921965,99.1)
64677,58690
"KRN",19,2921965,"U")
QUEUE DIET REPORTS
"KRN",19,2921966,-1)
0^5
"KRN",19,2921966,0)
FHQUE OPTION EDIT^Queued Options Edit^^R^^FHMGR^^^^^^
"KRN",19,2921966,1,0)
^19.06^1^1^3170718^^
"KRN",19,2921966,1,1,0)
Task to build the print queue from the available print options.
"KRN",19,2921966,25)
UEDIT^FHQUE
"KRN",19,2921966,"U")
QUEUED OPTIONS EDIT
"KRN",19,2921967,-1)
0^6
"KRN",19,2921967,0)
FHQUE TEST^Test an Individual Queued Option^^R^^FHMGR^^^^^^
"KRN",19,2921967,1,0)
^^2^2^3170718^
"KRN",19,2921967,1,1,0)
Task to submit to place a print option to taskman by the IEN of the 
"KRN",19,2921967,1,2,0)
option.
"KRN",19,2921967,25)
TEST^FHQUE
"KRN",19,2921967,"U")
TEST AN INDIVIDUAL QUEUED OPTI
"KRN",19,2921992,-1)
0^8
"KRN",19,2921992,0)
FHMTK1D^Tray Ticket Flag Edit^^R^^^^^^^^DIETETICS
"KRN",19,2921992,1,0)
^19.06^2^2^3180503^^^^
"KRN",19,2921992,1,1,0)
This option is used to enter or edit the flag the is printed at the 
"KRN",19,2921992,1,2,0)
bottome of the tray tickets for Breakfast, Noon and Dinner.
"KRN",19,2921992,25)
TTFLAG^FHMTK1D
"KRN",19,2921992,99)
64449,34996
"KRN",19,2921992,"U")
TRAY TICKET FLAG EDIT
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",164,-1)
1^1
"PKG",164,0)
DIETETICS^FH^Dietetics System
"PKG",164,22,0)
^9.49I^1^1
"PKG",164,22,1,0)
5.5^3050202^3050504^568
"PKG",164,22,1,"PAH",1,0)
43^3190104
"PKG",164,22,1,"PAH",1,1,0)
^^1^1^3190104
"PKG",164,22,1,"PAH",1,1,1,0)
DIETETICS
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
6
"RTN","FH43P")
0^^B466644^n/a
"RTN","FH43P",1,0)
FH43P ;EPIP/WLE - Remove three FILES for file  ;9/14/18 3:45 PM
"RTN","FH43P",2,0)
 ;;5.5;DIETETICS;**43**;Jan 28, 2005;Build 66
"RTN","FH43P",3,0)
 ; PRE install routine for patch FH*5.5*43 to remove the entries from File 117.0243, 117.0241, 117.024
"RTN","FH43P",4,0)
 ; created in previous patch versions
"RTN","FH43P",5,0)
 ;
"RTN","FH43P",6,0)
EN ;
"RTN","FH43P",7,0)
 I $D(^FH(117.0243,"B","FHNO2"))=0 Q
"RTN","FH43P",8,0)
 S DIK="^FH(117.0243,"
"RTN","FH43P",9,0)
 S DA="" F  S DA=$O(^FH(117.0243,DA)) Q:DA=""  D ^DIK
"RTN","FH43P",10,0)
 S DIK="^FH(117.024,"
"RTN","FH43P",11,0)
 S DA="" F  S DA=$O(^FH(117.024,DA)) Q:DA=""  D ^DIK
"RTN","FH43P",12,0)
 S DIK="^FH(117.0241,"
"RTN","FH43P",13,0)
 S DA="" F  S DA=$O(^FH(117.0241,DA)) Q:DA=""  D ^DIK
"RTN","FH43P",14,0)
 K DIK,DA
"RTN","FH43P",15,0)
 Q
"RTN","FHMTK1C")
0^4^B20731472^B21105135
"RTN","FHMTK1C",1,0)
FHMTK1C ; HISC/NCA/RVD - Print Tray Tickets ;6/21/2017  13:45
"RTN","FHMTK1C",2,0)
 ;;5.5;DIETETICS;**43**;Jan 28, 2005;Build 66
"RTN","FHMTK1C",3,0)
PRT ; Print 3 person per page
"RTN","FHMTK1C",4,0)
START I $G(TABREC)="YES" QUIT
"RTN","FHMTK1C",5,0)
 S TL=0 D CHKH
"RTN","FHMTK1C",6,0)
 W !! S TL=TL+2 F N1=1:1:3 D
"RTN","FHMTK1C",7,0)
 .I 'MFLG S MEALDT=$S(MEAL="B":"Breakfast",MEAL="N":"Noon",1:"Evening")_" "_MDT
"RTN","FHMTK1C",8,0)
 .E  S MEALDT=$S(N1=1:"Breakfast",N1=2:"Noon",1:"Evening")_" "_MDT
"RTN","FHMTK1C",9,0)
 .I '$D(MM(0,N1)) Q
"RTN","FHMTK1C",10,0)
 .S MMMDT=$P(MM(0,N1),U,7) I MMMDT'="" S MEALDT=$S(MMMDT="B":"Breakfast",MMMDT="N":"Noon",1:"Evening")_" "_MDT
"RTN","FHMTK1C",11,0)
 .S MEALDT=$J("",40-$L(MEALDT)\2)_MEALDT
"RTN","FHMTK1C",12,0)
 .I $D(MM(0,N1)) W ?$S(N1=1:2,N1=2:45,1:88),MEALDT
"RTN","FHMTK1C",13,0)
 .Q
"RTN","FHMTK1C",14,0)
 W ! S TL=TL+1 F N1=1:1 Q:'$D(PP(N1))  W ! S TL=TL+1 F NBR=1:1:3 I $D(PP(N1,NBR)) W ?$S(NBR=1:2,NBR=2:45,1:88),PP(N1,NBR)
"RTN","FHMTK1C",15,0)
 W ! S TL=TL+1
"RTN","FHMTK1C",16,0)
 F N1=1:1 Q:'$D(MM(N1))  D:(TL+2)'<($S(FHBOT="Y":LN-5,1:LN-3)) NXT W !! S TL=TL+2 F NBR=1:1:3 I $D(MM(N1,NBR)) W ?$S(NBR=1:2,NBR=2:45,1:88),MM(N1,NBR)
"RTN","FHMTK1C",17,0)
 I TL<LN F L1=TL:1:$S(FHBOT="Y":LN-2,1:LN) W !
"RTN","FHMTK1C",18,0)
 I FHBOT="Y" D HEAD W @IOF Q
"RTN","FHMTK1C",19,0)
 E  D FOOT
"RTN","FHMTK1C",20,0)
 W @IOF Q
"RTN","FHMTK1C",21,0)
NXT ; Print Next Page
"RTN","FHMTK1C",22,0)
 W !! S TL=TL+2 F NM=1:1:3 I $D(MM(0,NM)) W ?$S(NM=1:12,NM=2:57,1:100),"(More Items Next Pg)"
"RTN","FHMTK1C",23,0)
 I TL<LN F L1=TL:1:$S(FHBOT="Y":LN-2,1:LN) W !
"RTN","FHMTK1C",24,0)
 I FHBOT="Y" D HEAD W @IOF G N1
"RTN","FHMTK1C",25,0)
 E  D FOOT
"RTN","FHMTK1C",26,0)
N1 W @IOF S TL=0 D CHKH
"RTN","FHMTK1C",27,0)
 W !! S TL=TL+2 F XX=1:1:3 D
"RTN","FHMTK1C",28,0)
 .I 'MFLG S MEALDT=$S(MEAL="B":"Breakfast",MEAL="N":"Noon",1:"Evening")_" "_MDT
"RTN","FHMTK1C",29,0)
 .E  S MEALDT=$S(XX=1:"Breakfast",XX=2:"Noon",1:"Evening")_" "_MDT
"RTN","FHMTK1C",30,0)
 .I '$D(MM(0,XX)) Q
"RTN","FHMTK1C",31,0)
 .S MMMDT=$P(MM(0,XX),U,7) I MMMDT'="" S MEALDT=$S(MMMDT="B":"Breakfast",MMMDT="N":"Noon",1:"Evening")_" "_MDT
"RTN","FHMTK1C",32,0)
 .S MEALDT=$J("",40-$L(MEALDT)\2)_MEALDT
"RTN","FHMTK1C",33,0)
 .I $D(MM(0,XX)) W ?$S(XX=1:2,XX=2:45,1:88),MEALDT,"  (Cont.)"
"RTN","FHMTK1C",34,0)
 .W ! S TL=TL+1 Q
"RTN","FHMTK1C",35,0)
 Q
"RTN","FHMTK1C",36,0)
CHKH ; Check whether name header should be on bottom
"RTN","FHMTK1C",37,0)
 I FHBOT="Y" W ! S TL=TL+1 D FOOT W ! S TL=TL+1 Q
"RTN","FHMTK1C",38,0)
 E  D HEAD
"RTN","FHMTK1C",39,0)
 Q
"RTN","FHMTK1C",40,0)
HEAD F NM=1:1:3 W ! S TL=TL+1 F NBR=1:1:3 S X=$P($G(MM(0,NBR)),"^",NM) I X'="" D
"RTN","FHMTK1C",41,0)
 .S S1=$S(NBR=1:2,NBR=2:45,1:88) I NM=1 W ?S1,X Q
"RTN","FHMTK1C",42,0)
 .; Print special flags 
"RTN","FHMTK1C",43,0)
 .I NM=3 W ?S1,$$NOTE^FHMTK1D(MM(0,NBR),NBR,MFLG,MEAL)
"RTN","FHMTK1C",44,0)
 .W ?(S1+38-$L(X)),X Q
"RTN","FHMTK1C",45,0)
 Q
"RTN","FHMTK1C",46,0)
FOOT W ! S TL=TL+1 F NBR=1:1:3 S S1=$S(NBR=1:2,NBR=2:45,1:88) W:$D(MM(0,NBR)) ?S1,HD
"RTN","FHMTK1C",47,0)
 Q
"RTN","FHMTK1C",48,0)
LIST ; Print Tabulated Recipe List for Service Points
"RTN","FHMTK1C",49,0)
 S PG=0 I 'MFLG D L1 Q
"RTN","FHMTK1C",50,0)
 F MEAL="B","N","E" D L1
"RTN","FHMTK1C",51,0)
 D:SUM SUM Q
"RTN","FHMTK1C",52,0)
 Q
"RTN","FHMTK1C",53,0)
L1 S:LS(MEAL)<80 LS(MEAL)=80 S MEALDT=$S(MEAL="B":"Breakfast",MEAL="N":"Noon",1:"Evening")_" "_MDT,PG=PG+1
"RTN","FHMTK1C",54,0)
 W:$E(IOST,1,2)="C-" @IOF W !,HD,!!!?(LS(MEAL)-42\2),"T A B U L A T E D   R E C I P E   L I S T",?(LS(MEAL)-8),"Page ",PG
"RTN","FHMTK1C",55,0)
 W !!?(LS(MEAL)-$L(MEALDT)\2),MEALDT,!!,$S(ALL:"ALL",FHP:$P($G(^FH(119.73,FHP,0)),"^",1),1:$P($G(^FH(119.6,+W1,0)),"^",1)),!
"RTN","FHMTK1C",56,0)
 W !!,"R E C I P E S",?29
"RTN","FHMTK1C",57,0)
 S X="" F  S X=$O(DP(MEAL,X)) Q:X=""  F K=0:0 S K=$O(DP(MEAL,X,K)) Q:K=""  W $P(DP(MEAL,X,K),"^",1)
"RTN","FHMTK1C",58,0)
 W "      Total",!
"RTN","FHMTK1C",59,0)
 S X8="" F  S X8=$O(^TMP($J,"CTR",MEAL,X8)) Q:X8=""  W !!,$P(X8,"~",3),?31 D PRO
"RTN","FHMTK1C",60,0)
 S TOT=0 W !!!,"TOTAL RECIPES",?31 S X="" F  S X=$O(DP(MEAL,X)) Q:X=""  D
"RTN","FHMTK1C",61,0)
 .F K=0:0 S K=$O(DP(MEAL,X,K)) Q:K<1  D
"RTN","FHMTK1C",62,0)
 ..S Z=$G(P(MEAL,X,K)),TOT=TOT+Z
"RTN","FHMTK1C",63,0)
 ..I 'Z W $J("",8)_"  " Q
"RTN","FHMTK1C",64,0)
 ..W $S(Z#1>0:$J(Z,8,2),1:$J(Z,8))_"  " Q
"RTN","FHMTK1C",65,0)
 .Q
"RTN","FHMTK1C",66,0)
 W $S(TOT#1>0:$J(TOT,9,2),1:$J(TOT,9)) W:MFLG @IOF Q
"RTN","FHMTK1C",67,0)
PRO S FTOT=0,X="" F  S X=$O(DP(MEAL,X)) Q:X=""  D
"RTN","FHMTK1C",68,0)
 .F K=0:0 S K=$O(DP(MEAL,X,K)) Q:K<1  D
"RTN","FHMTK1C",69,0)
 ..S Z=$G(^TMP($J,"CTR",MEAL,X8,K)),FTOT=FTOT+Z,P(MEAL,X,K)=P(MEAL,X,K)+Z
"RTN","FHMTK1C",70,0)
 ..I 'Z W $J("",8)_"  " Q
"RTN","FHMTK1C",71,0)
 ..;W $S(Z#1>0:$J(Z,8,1),1:$J(Z,6)_"  ")_"  " Q
"RTN","FHMTK1C",72,0)
 ..W $S(Z#1>0:$J(Z,8,2),1:$J(Z,8))_"  " Q
"RTN","FHMTK1C",73,0)
 .Q
"RTN","FHMTK1C",74,0)
 W $S(FTOT#1>0:$J(FTOT,9,2),1:$J(FTOT,9)_"  ")
"RTN","FHMTK1C",75,0)
 Q
"RTN","FHMTK1C",76,0)
SUM S:SL<80 SL=80 S MEALDT="All Meals "_MDT S PG=0 D HDR
"RTN","FHMTK1C",77,0)
 S X8="" F  S X8=$O(^TMP($J,"TOT",X8)) Q:X8=""  D
"RTN","FHMTK1C",78,0)
 .I $Y>LN W @IOF D HDR
"RTN","FHMTK1C",79,0)
 .W !!,$P(X8,"~",3),?31 D PR1 Q
"RTN","FHMTK1C",80,0)
 S TOT=0 W !!!,"TOTAL RECIPES",?31 S X="" F  S X=$O(TP(X)) Q:X=""  D
"RTN","FHMTK1C",81,0)
 .F K=0:0 S K=$O(TP(X,K)) Q:K<1  D
"RTN","FHMTK1C",82,0)
 ..S Z=$G(T1(X,K)),TOT=TOT+Z
"RTN","FHMTK1C",83,0)
 ..I 'Z W $J("",8)_"  " Q
"RTN","FHMTK1C",84,0)
 ..W $S(Z#1>0:$J(Z,8,2),1:$J(Z,8))_"  " Q
"RTN","FHMTK1C",85,0)
 .Q
"RTN","FHMTK1C",86,0)
 W $S(TOT#1>0:$J(TOT,9,2),1:$J(TOT,9)) Q
"RTN","FHMTK1C",87,0)
PR1 S FTOT=0,X="" F  S X=$O(TP(X)) Q:X=""  D
"RTN","FHMTK1C",88,0)
 .F K=0:0 S K=$O(TP(X,K)) Q:K<1  D
"RTN","FHMTK1C",89,0)
 ..S Z=$G(^TMP($J,"TOT",X8,K)),FTOT=FTOT+Z,T1(X,K)=T1(X,K)+Z
"RTN","FHMTK1C",90,0)
 ..I 'Z W $J("",8)_"  " Q
"RTN","FHMTK1C",91,0)
 ..;W $S(Z#1>0:$J(Z,8,1),1:$J(Z,6)_"  ")_"  " Q
"RTN","FHMTK1C",92,0)
 ..W $S(Z#1>0:$J(Z,8,2),1:$J(Z,8))_"  " Q
"RTN","FHMTK1C",93,0)
 .Q
"RTN","FHMTK1C",94,0)
 W $S(FTOT#1>0:$J(FTOT,9,2),1:$J(FTOT,9)_"  ")
"RTN","FHMTK1C",95,0)
 Q
"RTN","FHMTK1C",96,0)
HDR ; Consolidated Recipe List Heading
"RTN","FHMTK1C",97,0)
 S PG=PG+1 W !,HD,!!!?(SL-48\2),"C O N S O L I D A T E D   R E C I P E   L I S T",?(SL-8),"Page ",PG
"RTN","FHMTK1C",98,0)
 W !!?(SL-$L(MEALDT)\2),MEALDT,!!,$S(ALL:"ALL",FHP:$P($G(^FH(119.73,FHP,0)),"^",1),1:$P($G(^FH(119.6,+W1,0)),"^",1)),!
"RTN","FHMTK1C",99,0)
 W !!,"R E C I P E S",?29
"RTN","FHMTK1C",100,0)
 S X="" F  S X=$O(TP(X)) Q:X=""  F K=0:0 S K=$O(TP(X,K)) Q:K=""  W $P(TP(X,K),"^",1)
"RTN","FHMTK1C",101,0)
 W "      Total",! Q
"RTN","FHMTK1D")
0^5^B11272478^n/a
"RTN","FHMTK1D",1,0)
FHMTK1D ;SFVAMC/APC - MEAL TICKET UTILITIES ; 5/29/2017 12:10
"RTN","FHMTK1D",2,0)
 ;;5.5;DIETETICS;**43**;Jan 28, 2005;Build 66
"RTN","FHMTK1D",3,0)
 ;
"RTN","FHMTK1D",4,0)
 ;ICR#   Type  Description
"RTN","FHMTK1D",5,0)
 ;-----  ----  --------------------------------------
"RTN","FHMTK1D",6,0)
 ;10006  Sup   ^DIC
"RTN","FHMTK1D",7,0)
 ;10018  Sup   ^DIE
"RTN","FHMTK1D",8,0)
 ;10026  Sup   ^DIR
"RTN","FHMTK1D",9,0)
 ; 2051  Sup   FIND^DIC  
"RTN","FHMTK1D",10,0)
 ; 2051  Sup   FIND1^DIC  
"RTN","FHMTK1D",11,0)
 ;10035  Sup   File #2
"RTN","FHMTK1D",12,0)
 ;        
"RTN","FHMTK1D",13,0)
DRV(DATA,PART,MFLG,MEAL)  ;
"RTN","FHMTK1D",14,0)
 S MESS=$$NOTE(DATA,PART,$G(MFLG),$G(MEAL))
"RTN","FHMTK1D",15,0)
 W !,MESS
"RTN","FHMTK1D",16,0)
 Q
"RTN","FHMTK1D",17,0)
 ;
"RTN","FHMTK1D",18,0)
NOTE(MTID,PART,MFLG,MEAL) ;Called from HEAD^FHMTK1C
"RTN","FHMTK1D",19,0)
 N FHWARD,PATNM,ARHCDFN,BID,FOUND,MSG,X
"RTN","FHMTK1D",20,0)
 S MSG=""
"RTN","FHMTK1D",21,0)
 S FHWARD=$P(MTID,U,2),X=$P(MTID,"("),X=$E(X,1,$L(X)-1)
"RTN","FHMTK1D",22,0)
 I FHWARD="GA(L)" D NOTE2(X,FHWARD) S:MSG="" MSG="PPAPER ISOL/PLASTW"
"RTN","FHMTK1D",23,0)
 I $E(FHWARD,1,3)="CLC" D NOTE2(X,FHWARD)
"RTN","FHMTK1D",24,0)
 Q MSG
"RTN","FHMTK1D",25,0)
 ;
"RTN","FHMTK1D",26,0)
NOTE2(X,FHWARD)  ;
"RTN","FHMTK1D",27,0)
 N FHNODE,FHP,FHIENP,FHTMP,FHIEN,FLDS,FLG,FHERR,DIERR
"RTN","FHMTK1D",28,0)
 S FLDS="@;.1"
"RTN","FHMTK1D",29,0)
 S FLG="PQ"
"RTN","FHMTK1D",30,0)
 D FIND^DIC(2,,FLDS,FLG,X,,"B","I $E($G(^(.1)),1,3)=""CLC""",,"FHTMP","FHERR")
"RTN","FHMTK1D",31,0)
 S FHIENP=0 F  S FHIENP=$O(FHTMP("DILIST",FHIENP)) Q:FHIENP=""  D
"RTN","FHMTK1D",32,0)
 .S FHIEN=$P($G(FHTMP("DILIST",FHIENP,0)),U)
"RTN","FHMTK1D",33,0)
 .S FHNODE=$G(^FHPT($$IEN(FHIEN),22))
"RTN","FHMTK1D",34,0)
 .I 'MFLG S MSG=$S(MEAL="B":$P(FHNODE,U,1),MEAL="N":$P(FHNODE,U,2),1:$P(FHNODE,U,3)) Q
"RTN","FHMTK1D",35,0)
 .S MSG=$S(PART=1:$P(FHNODE,U,1),PART=2:$P(FHNODE,U,2),1:$P(FHNODE,U,3))
"RTN","FHMTK1D",36,0)
 Q
"RTN","FHMTK1D",37,0)
 ;
"RTN","FHMTK1D",38,0)
TTFLAG ;Edit tray ticket flag
"RTN","FHMTK1D",39,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT
"RTN","FHMTK1D",40,0)
 K DIR S DIR(0)="S^P:PATIENT;W:WARD",DIR("A")="Select by (P)atient or (W)ard",DIR("B")="P" D ^DIR
"RTN","FHMTK1D",41,0)
 Q:$D(DIRUT)
"RTN","FHMTK1D",42,0)
 I Y="P" D TTFP Q
"RTN","FHMTK1D",43,0)
 I Y="W" D TTFW Q
"RTN","FHMTK1D",44,0)
 Q
"RTN","FHMTK1D",45,0)
 ;
"RTN","FHMTK1D",46,0)
TTFP   ;Edit tray ticket flag by patient
"RTN","FHMTK1D",47,0)
 N FHCDFN,FHCFDFN,DIE,DA,DIC,DR,DTOUT,DUOUT
"RTN","FHMTK1D",48,0)
 F  K DIC S DIC="^DPT(",DIC(0)="AZEMQ" D ^DIC Q:Y'>0  D
"RTN","FHMTK1D",49,0)
 .S FHCDFN=+Y
"RTN","FHMTK1D",50,0)
 .S FHCFDFN=$$IEN(FHCDFN)
"RTN","FHMTK1D",51,0)
 .I $$GET1^DIQ(2,FHCDFN,.1)'["CLC" W !!,?7,"Patient is not a CLC patient" Q
"RTN","FHMTK1D",52,0)
 .I '$D(^FHPT(FHCFDFN,0)) W !!,*7,$$GET1^DIQ(2,FHCFDFN,.01)," is not in the Dietetics Patient file." Q
"RTN","FHMTK1D",53,0)
 .S DIE="^FHPT(",DA=FHCFDFN,DR="22;22.1;22.2" D ^DIE
"RTN","FHMTK1D",54,0)
 .W !
"RTN","FHMTK1D",55,0)
 Q
"RTN","FHMTK1D",56,0)
 ;
"RTN","FHMTK1D",57,0)
TTFW   ;Edit tray ticket flag by ward
"RTN","FHMTK1D",58,0)
 N FHCDFN,FHCFDFN,FHWARD,EXIT,FHTMP,FHERR,FLDS,FLG,FHIEN,FHPTIEN,DIE,DTOUT,DUOUT,Y
"RTN","FHMTK1D",59,0)
 S FHCDFN=0,EXIT=0
"RTN","FHMTK1D",60,0)
 S FLDS="@;.01"
"RTN","FHMTK1D",61,0)
 S FLG="PQ"
"RTN","FHMTK1D",62,0)
 D FIND^DIC(2,,FLDS,FLG,"CLC",,"CN",,,"FHTMP","FHERR")
"RTN","FHMTK1D",63,0)
 F  S FHCDFN=$O(FHTMP("DILIST",FHCDFN)) Q:'FHCDFN  D  Q:EXIT
"RTN","FHMTK1D",64,0)
 .N DA,DIE,DR,DTOUT,DUOUT
"RTN","FHMTK1D",65,0)
 .S FHCFDFN=FHTMP("DILIST",FHCDFN,0),FHIEN=+FHCFDFN
"RTN","FHMTK1D",66,0)
 .S FHPTIEN=$$IEN(FHIEN)  ;Get the FH file IEN
"RTN","FHMTK1D",67,0)
 .I '$D(^FHPT(FHPTIEN)) W !,*7,$P(FHTMP("DILIST",FHCDFN,0),U,2)," is not in the Dietetics Patient file." Q
"RTN","FHMTK1D",68,0)
 .W !!,?5,$$GET1^DIQ(2,FHIEN,.01),"   ",$$GET1^DIQ(2,FHIEN,.1),"   ",$$GET1^DIQ(2,FHIEN,.101)
"RTN","FHMTK1D",69,0)
 .S DIE="^FHPT(",DA=FHPTIEN,DR="22;22.1;22.2" D ^DIE
"RTN","FHMTK1D",70,0)
 .I $D(DTOUT)!$D(Y) S EXIT=1
"RTN","FHMTK1D",71,0)
 Q
"RTN","FHMTK1D",72,0)
 ;
"RTN","FHMTK1D",73,0)
IEN(FHD0,FHDFILE) ;
"RTN","FHMTK1D",74,0)
 ;           ;
"RTN","FHMTK1D",75,0)
 ; Get pointer to NUTRITION PERSON (#115) given
"RTN","FHMTK1D",76,0)
 ; the PATIENT (#2) or NEW PERSON (#200) pointer
"RTN","FHMTK1D",77,0)
 ; Input
"RTN","FHMTK1D",78,0)
 ;  FHD0 = PATIENT (#2) or NEW PERSON (#200) pointer (Req)
"RTN","FHMTK1D",79,0)
 ;  FHDFILE = PATIENT (#2) or NEW PERSON (#200) file # (Opt, Dflt=2)
"RTN","FHMTK1D",80,0)
 ; Output
"RTN","FHMTK1D",81,0)
 ;  $$IEN() = Pointer to NUTRITION PERSON (#115)
"RTN","FHMTK1D",82,0)
 N DFN,FOUND,LN,MFLG,MM,MSG,N1,NBR,NM,PART,PG,S1,SL,TL,X,Y,Z,DIERR,FHERR
"RTN","FHMTK1D",83,0)
 Q +$$FIND1^DIC(115,"","X",$S($G(FHDFILE,2)=200:"N",1:"P")_FHD0,"B")
"RTN","FHNO21")
0^3^B21077978^B16043749
"RTN","FHNO21",1,0)
FHNO21 ; HISC/REL/NCA - Print Feeding Labels ; 6/21/2017  12:01 
"RTN","FHNO21",2,0)
 ;;5.5;DIETETICS;**5,8,43**;Jan 28, 2005;Build 66
"RTN","FHNO21",3,0)
 ;;
"RTN","FHNO21",4,0)
 ;ICR#   Type         Description
"RTN","FHNO21",5,0)
 ;-----  ----         --------------------------------------
"RTN","FHNO21",6,0)
 ;325    Controlled   ADM^VADPT2
"RTN","FHNO21",7,0)
 ;
"RTN","FHNO21",8,0)
 S DTP=DT\1 D DTP^FH S DTE=DTP_" "_TIM_$S(TIM=10:"AM",1:"PM")
"RTN","FHNO21",9,0)
 S S1=$S(LAB=1:6,1:9),S2=LAB=2*5+33
"RTN","FHNO21",10,0)
 K N F L=0:0 S L=$O(^FH(118,L)) Q:L<1  S Y=^(L,0),N1=$P(Y,"^",1),^TMP($J,"I",$E(N1,1,26)_","_L)=L I '$D(^FH(118,L,"I")) S N(L)=$P(Y,"^",1,2)
"RTN","FHNO21",11,0)
 S LNOD="" F  S LNOD=$O(^TMP($J,"L",LNOD)) Q:LNOD=""  D P2
"RTN","FHNO21",12,0)
 Q
"RTN","FHNO21",13,0)
P2 S PNOD="",N1=0 K C F  S PNOD=$O(^TMP($J,"L",LNOD,PNOD)) Q:PNOD=""  S Y2=^(PNOD) D P3
"RTN","FHNO21",14,0)
 Q
"RTN","FHNO21",15,0)
P3 S N1=N1+1
"RTN","FHNO21",16,0)
 S FHDFN=$P(PNOD,"~",3),WRD=$P(Y2,"^",10)
"RTN","FHNO21",17,0)
 D PATNAME^FHOMUTL I FHPTNM="" Q
"RTN","FHNO21",18,0)
 S ALG="" D ALG^FHCLN
"RTN","FHNO21",19,0)
 S NAM=FHPTNM,IS=$P(Y2,"^",9)
"RTN","FHNO21",20,0)
 I LAB>2 D LL Q
"RTN","FHNO21",21,0)
 I $P(FHPAR,"^",4)="Y" G P4
"RTN","FHNO21",22,0)
 ; FH*5.5*43 BEGIN Add patient's diet orders 
"RTN","FHNO21",23,0)
 W !,$E(NAM,1,S2-$L(WRD)),?(S2+2-$L(WRD)),$E(WRD,3,99)
"RTN","FHNO21",24,0)
 ; *** Print Diet 1, 2, 3 
"RTN","FHNO21",25,0)
 D DIETORD(DFN,FHDFN,"^1^2^3^")
"RTN","FHNO21",26,0)
 W !?$S(LAB=1:3,1:0),FHBID  W:IS'="" ?(S2-22),"*NURSE" W ?(S2-15),DTE
"RTN","FHNO21",27,0)
 ; *** Print Diet 4, 5
"RTN","FHNO21",28,0)
 D DIETORD(DFN,FHDFN,"^4^5^")
"RTN","FHNO21",29,0)
 S LN=2 I LAB=2 W !! S LN=4
"RTN","FHNO21",30,0)
 ; FH*5.5*43 END Add patient's diet orders 
"RTN","FHNO21",31,0)
 F L=1:2:7 S Z=$P(Y2,"^",L) I Z'="" D
"RTN","FHNO21",32,0)
 .S Q=$P(Y2,"^",L+1) S:'Q Q=1
"RTN","FHNO21",33,0)
 .W !,$J(Q,2)," "
"RTN","FHNO21",34,0)
 .W $S($D(N(Z)):$P(N(Z),"^",1),$D(^FH(118,+Z,0)):$P(^(0),"^",1),1:"")
"RTN","FHNO21",35,0)
 .S LN=LN+1 S:'$D(C(Z)) C(Z)=0 S C(Z)=C(Z)+Q
"RTN","FHNO21",36,0)
 .Q
"RTN","FHNO21",37,0)
 I LN<S1 F L=LN+1:1:S1 W !
"RTN","FHNO21",38,0)
 Q
"RTN","FHNO21",39,0)
P4 S ALG="" D ALG^FHCLN
"RTN","FHNO21",40,0)
 F L=1:2:7 S Z=$P(Y2,"^",L) I Z'="",$S($D(N(Z)):$P(N(Z),"^",2),$D(^FH(118,+Z,0)):$P(^(0),"^",2),1:"")'="N" D
"RTN","FHNO21",41,0)
 .S Q=$P(Y2,"^",L+1) S:'Q Q=1
"RTN","FHNO21",42,0)
 .W !,$E(NAM,1,S2-$L(WRD)),?(S2+2-$L(WRD)),$E(WRD,3,99),!,FHBID,$S(ALG="":"",1:" *ALG")
"RTN","FHNO21",43,0)
 .W:IS'="" ?11,"*NURSE"
"RTN","FHNO21",44,0)
 .W ?(S2-15),DTE,!!,$J(Q,2)," "
"RTN","FHNO21",45,0)
 .W $S($D(N(Z)):$P(N(Z),"^",1),$D(^FH(118,+Z,0)):$P(^(0),"^",1),1:""),!!
"RTN","FHNO21",46,0)
 .W:LAB=2 !!!
"RTN","FHNO21",47,0)
 .S:'$D(C(Z)) C(Z)=0 S C(Z)=C(Z)+Q
"RTN","FHNO21",48,0)
 .Q
"RTN","FHNO21",49,0)
 Q
"RTN","FHNO21",50,0)
P5 S Y=$S(XX="S":$P($G(^FH(119.74,D1,0)),"^",1),1:$P($G(^FH(119.6,W1,0)),"^",1))
"RTN","FHNO21",51,0)
 W !?3,"**** INGREDIENTS LIST ****",!!?(33-$L(Y)\2),Y,!?9,DTE,!! S LN=6
"RTN","FHNO21",52,0)
 S A1="" F K=0:0 S A1=$O(^TMP($J,"I",A1)) Q:A1=""  S L=^(A1) I $D(C(L)),C(L) W !,$S($D(N(L)):$P(N(L),"^",1),$D(^FH(118,+L,0)):$P(^(0),"^",1),1:""),?28,$J(C(L),5,0) S LN=LN+1
"RTN","FHNO21",53,0)
P6 W !!?4,"**** PATIENTS = ",N1," ****",! S LN=LN+3
"RTN","FHNO21",54,0)
 S LN=LN#S1 I LN F L=LN+1:1:S1 W !
"RTN","FHNO21",55,0)
 Q
"RTN","FHNO21",56,0)
 ; FH*5.5*43 BEGIN Add patient's diet orders 
"RTN","FHNO21",57,0)
DIETORD(DFN,FHDFN,DIETS) ; 
"RTN","FHNO21",58,0)
 N DIET,DIETORD,DIETORD0,PIECE,VADMVT,VAERR,VAINDT2
"RTN","FHNO21",59,0)
 D ADM^VADPT2
"RTN","FHNO21",60,0)
 I $G(VAERR)'>0,$G(VADMVT) D
"RTN","FHNO21",61,0)
 .S DIETORD0=+$P($G(^FHPT(FHDFN,"A",VADMVT,0)),U,2)
"RTN","FHNO21",62,0)
 .S DIETORD=$P($G(^FHPT(FHDFN,"A",VADMVT,"DI",DIETORD0,0)),U,2,6)
"RTN","FHNO21",63,0)
 .F PIECE=1:1:5 I DIETS[(U_PIECE_U) D
"RTN","FHNO21",64,0)
 ..N DIERR,DTOUT,DUOUT,FHERR
"RTN","FHNO21",65,0)
 ..S DIET=+$P(DIETORD,U,PIECE)
"RTN","FHNO21",66,0)
 ..W ?$P("36^51^66^36^51",U,PIECE),$$GET1^DIQ(111,DIET,6,,,"FHERR")
"RTN","FHNO21",67,0)
 ..Q
"RTN","FHNO21",68,0)
 .Q
"RTN","FHNO21",69,0)
 ; FH*5.5*43 END Add patient's diet orders
"RTN","FHNO21",70,0)
LL ;
"RTN","FHNO21",71,0)
 D ALG^FHCLN
"RTN","FHNO21",72,0)
 S FHCOL=$S(LAB=3:3,1:2)
"RTN","FHNO21",73,0)
 I LABSTART>1 F FHLABST=1:1:(LABSTART-1)*FHCOL D  S LABSTART=1
"RTN","FHNO21",74,0)
 .I LAB=3 S (PCL1,PCL2,PCL3,PCL4,PCL5,PCL6)="" D LL3^FHLABEL
"RTN","FHNO21",75,0)
 .I LAB=4 S (PCL1,PCL2,PCL3,PCL4,PCL5,PCL6,PCL7,PCL8)="" D LL4^FHLABEL
"RTN","FHNO21",76,0)
 .Q
"RTN","FHNO21",77,0)
 S FHTAB=$S(LAB=3:24,1:37)
"RTN","FHNO21",78,0)
 S WRD1=$E(WRD,3,99)
"RTN","FHNO21",79,0)
 S NAM=$E(NAM,1,FHTAB-$L(WRD1)),BIDIS=BID_$S(ALG="":"",1:" *ALG")
"RTN","FHNO21",80,0)
 I IS="N" S BIDIS=BIDIS_" *NURSE"
"RTN","FHNO21",81,0)
 S LNA=NAM_$J(WRD1,FHTAB+1-$L(NAM)),LNB=BIDIS_$J(DTE,FHTAB+1-$L(BIDIS))
"RTN","FHNO21",82,0)
 I $P(FHPAR,"^",4)="Y" D LL2 Q
"RTN","FHNO21",83,0)
 S NUM=0 F XSF=1:2:7 I $P(Y2,U,XSF)'="" S NUM=NUM+1
"RTN","FHNO21",84,0)
 S INDX=0 F XSF=1:2:7 D
"RTN","FHNO21",85,0)
 .S SFPTR=$P(Y2,U,XSF) I SFPTR="" Q
"RTN","FHNO21",86,0)
 .S QTY=$P(Y2,U,XSF+1),SFNM=$P($G(^FH(118,SFPTR,0)),U,1)
"RTN","FHNO21",87,0)
 .S INDX=INDX+1,ZF(INDX)=$J(QTY,2)_" "_SFNM
"RTN","FHNO21",88,0)
 .Q
"RTN","FHNO21",89,0)
 I LAB=3 D
"RTN","FHNO21",90,0)
 .I NUM=1 S (PCL1,PCL2,PCL6)="",PCL3=LNA,PCL4=LNB,PCL5=ZF(1)
"RTN","FHNO21",91,0)
 .I NUM=2 S (PCL1,PCL6)="",PCL2=LNA,PCL3=LNB,PCL4=ZF(1),PCL5=ZF(2)
"RTN","FHNO21",92,0)
 .I NUM=3 S PCL1="",PCL2=LNA,PCL3=LNB,PCL4=ZF(1),PCL5=ZF(2),PCL6=ZF(3)
"RTN","FHNO21",93,0)
 .I NUM=4 S PCL1=LNA,PCL2=LNB,PCL3=ZF(1),PCL4=ZF(2),PCL5=ZF(3),PCL6=ZF(4)
"RTN","FHNO21",94,0)
 .D LL3^FHLABEL
"RTN","FHNO21",95,0)
 I LAB=4 D
"RTN","FHNO21",96,0)
 .I NUM=1 S (PCL1,PCL2,PCL3,PCL7,PCL8)="",PCL4=LNA,PCL5=LNB,PCL6=ZF(1)
"RTN","FHNO21",97,0)
 .I NUM=2 S (PCL1,PCL2,PCL7,PCL8)="",PCL3=LNA,PCL4=LNB,PCL5=ZF(1),PCL6=ZF(2)
"RTN","FHNO21",98,0)
 .I NUM=3 S (PCL1,PCL2,PCL8)="",PCL3=LNA,PCL4=LNB,PCL5=ZF(1),PCL6=ZF(2),PCL7=ZF(3)
"RTN","FHNO21",99,0)
 .I NUM=4 S (PCL1,PCL8)="",PCL2=LNA,PCL3=LNB,PCL4=ZF(1),PCL5=ZF(2),PCL6=ZF(3),PCL7=ZF(4)
"RTN","FHNO21",100,0)
 .D LL4^FHLABEL
"RTN","FHNO21",101,0)
 Q
"RTN","FHNO21",102,0)
LL2 ;
"RTN","FHNO21",103,0)
 F XSF=1:2:7 D
"RTN","FHNO21",104,0)
 .S SFPTR=$P(Y2,U,XSF) I SFPTR="" Q
"RTN","FHNO21",105,0)
 .S QTY=$P(Y2,U,XSF+1),SFNM=$P($G(^FH(118,SFPTR,0)),U,1)
"RTN","FHNO21",106,0)
 .S LNC=$J(QTY,2)_" "_SFNM
"RTN","FHNO21",107,0)
 .I LAB=3 S (PCL1,PCL4,PCL6)="",PCL2=LNA,PCL3=LNB,PCL5=LNC D LL3^FHLABEL
"RTN","FHNO21",108,0)
 .I LAB=4 S (PCL1,PCL2,PCL5,PCL7,PCL8)="",PCL3=LNA,PCL4=LNB,PCL6=LNC D LL4^FHLABEL
"RTN","FHNO21",109,0)
 Q
"RTN","FHP43")
0^^B2072953^n/a
"RTN","FHP43",1,0)
FHP43 ;EPIP/WLE - Remove three data dictionary fields for file 115 ;6/5/2018 3:45 PM
"RTN","FHP43",2,0)
 ;;5.5;DIETETICS;**43**;Jan 28, 2005;Build 66
"RTN","FHP43",3,0)
 ; Post install routine for patch FH*5.5*43 to remove fields created in a previous version at test sites
"RTN","FHP43",4,0)
 ; Copy the old data at ^FHPT(IEN,662910) to ^FHPT(IEN,22)
"RTN","FHP43",5,0)
 ; then remove the old data and node
"RTN","FHP43",6,0)
EN ;
"RTN","FHP43",7,0)
 I '$$VFIELD^DILFD(115,662910.01) Q  ; The fields do not exist so no reason to continue
"RTN","FHP43",8,0)
 D BMES^XPDUTL("If NUTRITION PERSON FILE #115 has existing tray tickets flags. The data will be moved to a new node.")
"RTN","FHP43",9,0)
 S IEN="" F  S IEN=$O(^FHPT(IEN)) Q:IEN=""  D
"RTN","FHP43",10,0)
  .I $D(^FHPT(IEN,662910)) S ^FHPT(IEN,22)=^FHPT(IEN,662910) K ^FHPT(IEN,662910)
"RTN","FHP43",11,0)
 D BMES^XPDUTL("If NUTRITION PERSON FILE #115 had data it has been moved to the new node.")
"RTN","FHP43",12,0)
 ;
"RTN","FHP43",13,0)
 ; delete the old fields in file 115 
"RTN","FHP43",14,0)
 S DIK="^DD(115,",DA=662910.01,DA(1)=115
"RTN","FHP43",15,0)
 D ^DIK
"RTN","FHP43",16,0)
 S DIK="^DD(115,",DA=662910.02,DA(1)=115
"RTN","FHP43",17,0)
 D ^DIK
"RTN","FHP43",18,0)
 S DIK="^DD(115,",DA=662910.03,DA(1)=115
"RTN","FHP43",19,0)
 D ^DIK
"RTN","FHP43",20,0)
 K DIK,DA,DA(1)
"RTN","FHP43",21,0)
 Q
"RTN","FHQUE")
0^1^B25912403^n/a
"RTN","FHQUE",1,0)
FHQUE ;EPIP/KLD - AUTO-QUEUE DIETETICS REPORTS & LABELS ;04/27/2017  3:31 PM
"RTN","FHQUE",2,0)
 ;;5.5;DIETETICS;**43**;Jan 28, 2005;Build 66
"RTN","FHQUE",3,0)
 ; Run shortly after midnight
"RTN","FHQUE",4,0)
 ; Original version June 2004
"RTN","FHQUE",5,0)
 ;ICR#   Type  Description
"RTN","FHQUE",6,0)
 ;-----  ----  --------------------------------------
"RTN","FHQUE",7,0)
 ;2056   Sup   GETI^DIQ
"RTN","FHQUE",8,0)
 ;10000  Sup   DW^%DTC
"RTN","FHQUE",9,0)
 ;10003  Sup   ^%DT
"RTN","FHQUE",10,0)
 ;10006  Sup   ^DIC
"RTN","FHQUE",11,0)
 ;10009  Sup   ^DICN: FILE, YN
"RTN","FHQUE",12,0)
 ;10013  Sup   ^DIK
"RTN","FHQUE",13,0)
 ;10018  Sup   ^DIE
"RTN","FHQUE",14,0)
 ;10063  Sup   ^%ZTLOAD
"RTN","FHQUE",15,0)
 ;10075  Sup   File 19, field .01, read w/Fileman
"RTN","FHQUE",16,0)
 ;10114  Sup   File 3.5, field .01, read w/Fileman
"RTN","FHQUE",17,0)
 ;
"RTN","FHQUE",18,0)
ST F FHI=0:0 S FHI=$O(^FH(117.024,FHI)) Q:'FHI  D:$$GET1^DIQ(117.024,FHI,5)="YES" ML
"RTN","FHQUE",19,0)
FHK K %,DA,DIC,DIE,DIK,DR,FH,FHI,FHII,FHIII,FHIEN,FHANS,X,Y,ZTDESC,ZTDTH,ZTIO,ZTRTN,ZTSAVE,ZTSK,^TMP("FHQUE",$J) Q
"RTN","FHQUE",20,0)
 ;
"RTN","FHQUE",21,0)
ML ;Main loop
"RTN","FHQUE",22,0)
 S FH("FLAG")=0
"RTN","FHQUE",23,0)
 I $O(^FH(117.024,FHI,2,0)) D  Q:'FH("FLAG")  ;Only run certain days of the week
"RTN","FHQUE",24,0)
 .S X=DT D DW^%DTC S Y=Y+1,FH("FLAG")=$D(^FH(117.024,FHI,2,"B",Y))
"RTN","FHQUE",25,0)
 S FH("TIME")=$$GET1^DIQ(117.024,FHI,1)
"RTN","FHQUE",26,0)
 S:FH("TIME")<600 FH("TIME")=0_FH("TIME")
"RTN","FHQUE",27,0)
 S %DT="R",X="T@"_FH("TIME") D ^%DT S ZTDTH=$S($D(FH("TEST")):$H,1:Y)
"RTN","FHQUE",28,0)
 S ZTDESC=$$GET1^DIQ(117.024,FHI,.01)_" Auto Queue"
"RTN","FHQUE",29,0)
 S ZTIO=$$GET1^DIQ(117.024,FHI,2)
"RTN","FHQUE",30,0)
 S ZTRTN=$$GET1^DIQ(117.024,FHI,3)_U_$$GET1^DIQ(117.024,FHI,4)
"RTN","FHQUE",31,0)
 F FHII=0:0 S FHII=$O(^FH(117.024,FHI,1,FHII)) Q:'FHII  D  ;Get necessary variables
"RTN","FHQUE",32,0)
 .S FH("VAR")=$$GET1^DIQ(117.0242,FHII_","_FHI,.01)
"RTN","FHQUE",33,0)
 .S @FH("VAR")=$TR($$GET1^DIQ(117.0242,FHII_","_FHI,1),"|",U)
"RTN","FHQUE",34,0)
 .D:$$GET1^DIQ(117.0242,FHII_","_FHI,2)="YES"  ;Date variable
"RTN","FHQUE",35,0)
 ..S X=$TR($$GET1^DIQ(117.0242,FHII_","_FHI,1),"|",U),%DT=$S(X["@":"R",1:"")
"RTN","FHQUE",36,0)
 ..D ^%DT S @FH("VAR")=Y
"RTN","FHQUE",37,0)
 .S X=$TR($$GET1^DIQ(117.0242,FHII_","_FHI,3),"|",U) X:X]"" X ;Xecutable code to set the variable
"RTN","FHQUE",38,0)
 .S ZTSAVE(FH("VAR"))=@FH("VAR")
"RTN","FHQUE",39,0)
 D ^%ZTLOAD W !!,"ZTSK=",$G(ZTSK) Q
"RTN","FHQUE",40,0)
 ;
"RTN","FHQUE",41,0)
TEST ;Test one particular option
"RTN","FHQUE",42,0)
 R !!,"IEN: ",FHI:DTIME Q:U[FHI!'$T  S FH("TEST")=""
"RTN","FHQUE",43,0)
 I FHI["?" S FHIEN=0 F  S FHIEN=$O(^FH(117.024,FHIEN)) G:'+FHIEN TEST W !,FHIEN,?10,$P(^FH(117.024,FHIEN,0),"^")
"RTN","FHQUE",44,0)
 I '$D(^FH(117.024,FHI)) W !,"Invalid IEN!" G TEST
"RTN","FHQUE",45,0)
 W ! S DIC="^%ZIS(1,",DIC(0)="QEAM",DIC("A")="Select printer: " D ^DIC
"RTN","FHQUE",46,0)
 G TEST:Y<1 S ZTIO=$P(Y,U,2) D ML,FHK Q
"RTN","FHQUE",47,0)
 ;
"RTN","FHQUE",48,0)
UEDIT ;User edit of options
"RTN","FHQUE",49,0)
 K ^TMP("FHQUE",$J) S FH("CNT")=0,FHI=""
"RTN","FHQUE",50,0)
 F  S FHI=$O(^FH(117.0243,"B",FHI)) Q:FHI=""  D
"RTN","FHQUE",51,0)
 .F FHII=0:0 S FHII=$O(^FH(117.0243,"B",FHI,FHII)) Q:'FHII  D
"RTN","FHQUE",52,0)
 ..S X=$$GET1^DIQ(117.0243,FHII,.01) Q:X=""
"RTN","FHQUE",53,0)
 ..S X(1)=$$GET1^DIQ(117.0243,FHII,1) S:X(1)="" X(1)="NULL"
"RTN","FHQUE",54,0)
 ..S DIC(0)="BZ",DIC="^DIC(19," D ^DIC
"RTN","FHQUE",55,0)
 ..S ^TMP("FHQUE",$J,X,X(1))=$P($G(Y(0)),U,2)_U_FHII
"RTN","FHQUE",56,0)
 S (FHI,FHII)="" W !!,"Available options are:"
"RTN","FHQUE",57,0)
 F  S FHI=$O(^TMP("FHQUE",$J,FHI)) Q:FHI=""  D
"RTN","FHQUE",58,0)
 .F  S FHII=$O(^TMP("FHQUE",$J,FHI,FHII)) Q:FHII=""  D
"RTN","FHQUE",59,0)
 ..S FH("CNT")=FH("CNT")+1,FH("SEL",FH("CNT"))=FHI_U_$P(^TMP("FHQUE",$J,FHI,FHII),U,2)
"RTN","FHQUE",60,0)
 ..W !?3,$J(FH("CNT"),2),". ",FHI W:FHII'="NULL" ?18,FHII
"RTN","FHQUE",61,0)
 ..W ?32,$P(^TMP("FHQUE",$J,FHI,FHII),U)
"RTN","FHQUE",62,0)
UEDIT1 R !,"Your choice, choose by number: ",FH("OPT"):DTIME I U[FH("OPT")!'$T D FHK Q
"RTN","FHQUE",63,0)
 I FH("OPT")["?" D FHSHOW R !!,?5,"Return to continue: ",FHANS:DTIME Q:'$T  G UEDIT
"RTN","FHQUE",64,0)
 I FH("OPT")'?1.2N!('$D(FH("SEL",FH("OPT")))) W "  ??" G UEDIT1
"RTN","FHQUE",65,0)
UEDIT2 R !!,"Time to run the option (use 4 digit military time): ",FH("TIME"):DTIME I U[FH("TIME")!'$T D FHK Q
"RTN","FHQUE",66,0)
 I FH("TIME")'?4N!(FH("TIME")>2359)!($E(FH("TIME"),3)>5) W "  ??" G UEDIT2
"RTN","FHQUE",67,0)
 S FH("NAME")=$P(FH("SEL",FH("OPT")),U)_" "_FH("TIME")
"RTN","FHQUE",68,0)
 S FH("DA")=$P(FH("SEL",FH("OPT")),U,2)
"RTN","FHQUE",69,0)
 S (DIC,DIE)="^FH(117.024,",DIC(0)="M",X=FH("NAME") D ^DIC S DA=+Y
"RTN","FHQUE",70,0)
 I Y=-1 D  G UEDIT:%'=1
"RTN","FHQUE",71,0)
 .W !!,"Add entry ",$C(34),FH("NAME"),$C(34) S %=1 D YN^DICN Q:%'=1
"RTN","FHQUE",72,0)
 .S DIC(0)="L" K DD,DO D FILE^DICN
"RTN","FHQUE",73,0)
 .S DA=+Y,DR="1///"_$P(FH("NAME")," ",2),FH("ADDED")=""
"RTN","FHQUE",74,0)
 .D ^DIE W !,"Entry added."
"RTN","FHQUE",75,0)
 W !!,"Now add/change the printer and whether it's active.",!
"RTN","FHQUE",76,0)
 S DR="3///"_$$GET1^DIQ(117.0243,FH("DA"),3)_";4///"_$$GET1^DIQ(117.0243,FH("DA"),4)_";2R;5R//YES;20"
"RTN","FHQUE",77,0)
 D ^DIE S ^FH(117.024,DA,1,0)="^117.0242^",X=DA
"RTN","FHQUE",78,0)
 K DA,DIC,DIE,DR S DIC="^FH(117.024,"_X_",1,",DIC(0)="L",DA(1)=X,FH("BAD")=0
"RTN","FHQUE",79,0)
 F FHI=0:0 S FHI=$O(^FH(117.0243,FH("DA"),1,FHI)) Q:'FHI!(FH("BAD"))  D
"RTN","FHQUE",80,0)
 .S X=$$GET1^DIQ(117.024302,FHI_","_FH("DA"),.01),DIC("DR")=""
"RTN","FHQUE",81,0)
 .D:$$GET1^DIQ(117.024302,FHI_","_FH("DA"),1)="YES" ASK Q:FH("BAD")
"RTN","FHQUE",82,0)
 .K DIC("DR"),DD,DO D FILE^DICN S DA=+Y
"RTN","FHQUE",83,0)
 .S DR="",DIE=DIC D DR,^DIE K FH("QUES")
"RTN","FHQUE",84,0)
 .S:DR["3//" ^FH(117.024,DA(1),1,DA,1)=$TR(^FH(117.024,DA(1),1,DA,1),"|",U)
"RTN","FHQUE",85,0)
 I 'FH("BAD") W !!,"Option ",$S($D(FH("ADDED")):"add",1:"chang"),"ed!" H 3
"RTN","FHQUE",86,0)
 I FH("BAD") S DIK="^FH(117.024," D ^DIK W !!,"Invalid entry - deleted!"
"RTN","FHQUE",87,0)
 K FH("ADDED") G UEDIT
"RTN","FHQUE",88,0)
 ;
"RTN","FHQUE",89,0)
ASK N %DT,FHII,FHWP,X,Y S FHWP=$$GET1^DIQ(117.024302,FHI_","_FH("DA"),5,"","FHWP")
"RTN","FHQUE",90,0)
 F FHII=0:0 S FHII=$O(FHWP(FHII)) Q:'FHII  W !,FHWP(FHII)
"RTN","FHQUE",91,0)
 R X:DTIME I U[X!'$T S FH("BAD")=1 Q
"RTN","FHQUE",92,0)
 I FHWP(1)["meal","BNE"'[X W !,"B, N or E" G ASK
"RTN","FHQUE",93,0)
 I FHWP(1)["meal","BNE"[X S FH("QUES")=$E(X,1) Q
"RTN","FHQUE",94,0)
 I $$GET1^DIQ(117.024302,FHI_","_FH("DA"),3)="YES" S %DT="ET" D ^%DT I Y<1 W !,"Invalid date/time!" G ASK
"RTN","FHQUE",95,0)
 S FH("QUES")=X Q
"RTN","FHQUE",96,0)
 ;
"RTN","FHQUE",97,0)
DR N X,FHFD S DR=""
"RTN","FHQUE",98,0)
 F FHFD=1,2,3 D
"RTN","FHQUE",99,0)
 .I $G(FH("QUES"))]"",FHFD=1 S X=FH("QUES")
"RTN","FHQUE",100,0)
 .E  S X=$$GET1^DIQ(117.024302,FHI_","_FH("DA"),FHFD+1) Q:X=""
"RTN","FHQUE",101,0)
 .S DR=DR_FHFD_"///"_X_";"
"RTN","FHQUE",102,0)
 Q
"RTN","FHQUE",103,0)
FHSHOW ;Display the print options that have been setup
"RTN","FHQUE",104,0)
 N FHIEN
"RTN","FHQUE",105,0)
 W !!,?5,"Print options and times currently set up",!!
"RTN","FHQUE",106,0)
 S FHIEN="" F  S FHIEN=$O(^FH(117.024,FHIEN)) Q:FHIEN=""  D
"RTN","FHQUE",107,0)
 . W !,?5,$P($G(^FH(117.024,FHIEN,0)),U)
"RTN","FHQUE",108,0)
 . Q
"RTN","FHQUE",109,0)
 Q
"SEC","^DD",117.024,117.0242,3,9)
2
"SEC","^DIC",117.024,117.024,0,"AUDIT")
@
"SEC","^DIC",117.024,117.024,0,"DD")
@
"SEC","^DIC",117.024,117.024,0,"DEL")
@
"SEC","^DIC",117.024,117.024,0,"LAYGO")
@
"SEC","^DIC",117.024,117.024,0,"RD")
@
"SEC","^DIC",117.024,117.024,0,"WR")
@
"SEC","^DIC",117.0241,117.0241,0,"AUDIT")
@
"SEC","^DIC",117.0241,117.0241,0,"DD")
@
"SEC","^DIC",117.0241,117.0241,0,"DEL")
@
"SEC","^DIC",117.0241,117.0241,0,"LAYGO")
@
"SEC","^DIC",117.0241,117.0241,0,"RD")
@
"SEC","^DIC",117.0241,117.0241,0,"WR")
@
"SEC","^DIC",117.0243,117.0243,0,"AUDIT")
@
"SEC","^DIC",117.0243,117.0243,0,"DD")
@
"SEC","^DIC",117.0243,117.0243,0,"DEL")
@
"SEC","^DIC",117.0243,117.0243,0,"LAYGO")
@
"SEC","^DIC",117.0243,117.0243,0,"RD")
@
"SEC","^DIC",117.0243,117.0243,0,"WR")
@
"VER")
8.0^22.2
"^DD",115,115,22,0)
BREAKFAST FLAG^FJ18^^22;1^K:$L(X)>18!($L(X)<3) X
"^DD",115,115,22,3)
Enter from 3-18 characters of text.
"^DD",115,115,22,21,0)
^.001^2^2^3180605^^^
"^DD",115,115,22,21,1,0)
Enter the text that should appear at the bottom of the tray ticket. Text
"^DD",115,115,22,21,2,0)
is up to 18 characters.
"^DD",115,115,22,"DT")
3180605
"^DD",115,115,22.1,0)
NOON^FJ18^^22;2^K:$L(X)>18!($L(X)<3) X
"^DD",115,115,22.1,3)
Enter from 3-18 characters of text.
"^DD",115,115,22.1,21,0)
^^2^2^3180605^
"^DD",115,115,22.1,21,1,0)
Enter the text that should appear at the bottom of the tray ticket. Text
"^DD",115,115,22.1,21,2,0)
is up to 18 characters.
"^DD",115,115,22.1,"DT")
3180605
"^DD",115,115,22.2,0)
EVENING FLAG^FJ18^^22;3^K:$L(X)>18!($L(X)<3) X
"^DD",115,115,22.2,3)
Enter from 3-18 characters of text.
"^DD",115,115,22.2,21,0)
^^2^2^3180605^
"^DD",115,115,22.2,21,1,0)
Enter the text that should appear at the bottom of the tray ticket. Text
"^DD",115,115,22.2,21,2,0)
is up to 18 characters.
"^DD",115,115,22.2,"DT")
3180605
"^DD",117.024,117.024,0)
FIELD^^20^8
"^DD",117.024,117.024,0,"DT")
3170511
"^DD",117.024,117.024,0,"IX","B",117.024,.01)

"^DD",117.024,117.024,0,"NM","FHQUE QUEUED REPORTS/LABELS")

"^DD",117.024,117.024,.01,0)
OPTION NAME^RF^^0;1^K:$L(X)>30!($L(X)<3) X
"^DD",117.024,117.024,.01,1,0)
^.1
"^DD",117.024,117.024,.01,1,1,0)
117.024^B
"^DD",117.024,117.024,.01,1,1,1)
S ^FH(117.024,"B",$E(X,1,30),DA)=""
"^DD",117.024,117.024,.01,1,1,2)
K ^FH(117.024,"B",$E(X,1,30),DA)
"^DD",117.024,117.024,.01,3)
Answer must be 3-30 characters in length.
"^DD",117.024,117.024,.01,21,0)
^^2^2^3170419^^
"^DD",117.024,117.024,.01,21,1,0)
Name of the option, from file 19, plus the run time. For example FHPATM
"^DD",117.024,117.024,.01,21,2,0)
0800.
"^DD",117.024,117.024,.01,"DT")
3170419
"^DD",117.024,117.024,1,0)
TIME TO RUN^NJ4,0^^0;2^K:+X'=X!(X>2359)!(X<0)!(X?.E1"."1N.N) X
"^DD",117.024,117.024,1,3)
Type a number between 0 and 2359, 0 decimal digits.
"^DD",117.024,117.024,1,21,0)
^^1^1^3130520^
"^DD",117.024,117.024,1,21,1,0)
The time the option should run, from 0001-2359.
"^DD",117.024,117.024,1,"DT")
3130520
"^DD",117.024,117.024,2,0)
PRINTER^P3.5'^%ZIS(1,^0;3^Q
"^DD",117.024,117.024,2,3)
Select the Printer used for the given option
"^DD",117.024,117.024,2,21,0)
^^1^1^3130520^
"^DD",117.024,117.024,2,21,1,0)
The printer the option should print to.
"^DD",117.024,117.024,2,"DT")
3170419
"^DD",117.024,117.024,3,0)
ENTRY TAG^FXJ12^^0;4^K:$L(X)>12!($L(X)<1) X
"^DD",117.024,117.024,3,3)
Answer must be 1-12 characters in length.
"^DD",117.024,117.024,3,9)
@
"^DD",117.024,117.024,3,21,0)
^.001^1^1^3130520^^
"^DD",117.024,117.024,3,21,1,0)
Line tag to be called.
"^DD",117.024,117.024,3,"DT")
3170419
"^DD",117.024,117.024,4,0)
CALLED ROUTINE^FXJ12^^0;5^K:$L(X)>12!($L(X)<3) X
"^DD",117.024,117.024,4,3)
Answer must be 3-12 characters in length.
"^DD",117.024,117.024,4,21,0)
^^1^1^3130520^
"^DD",117.024,117.024,4,21,1,0)
Routine to be called.  Be sure to put a line tag in field 3.
"^DD",117.024,117.024,4,"DT")
3170419
"^DD",117.024,117.024,5,0)
ACTIVE^S^1:YES;0:NO;^0;6^Q
"^DD",117.024,117.024,5,3)
Select '1' or 'Yes' if the option is active
"^DD",117.024,117.024,5,21,0)
^^1^1^3130520^
"^DD",117.024,117.024,5,21,1,0)
Is the item active?  Entering no will cause it not to print.
"^DD",117.024,117.024,5,"DT")
3170419
"^DD",117.024,117.024,10,0)
VARIABLES^117.0242^^1;0
"^DD",117.024,117.024,10,21,0)
^^2^2^3170505^^^^
"^DD",117.024,117.024,10,21,1,0)
List of variables that the given ROUTINE will require to run without 
"^DD",117.024,117.024,10,21,2,0)
operator intervention.
"^DD",117.024,117.024,10,"DT")
3030110
"^DD",117.024,117.024,20,0)
DAYS TO RUN^117.02402P^^2;0
"^DD",117.024,117.024,20,21,0)
^^1^1^3170419^
"^DD",117.024,117.024,20,21,1,0)
The days that the option will run from the 117.0241 file.
"^DD",117.024,117.02402,0)
DAYS TO RUN SUB-FIELD^^.01^1
"^DD",117.024,117.02402,0,"DT")
3170419
"^DD",117.024,117.02402,0,"IX","B",117.02402,.01)

"^DD",117.024,117.02402,0,"NM","DAYS TO RUN")

"^DD",117.024,117.02402,0,"UP")
117.024
"^DD",117.024,117.02402,.01,0)
DAYS TO RUN^MP117.0241'^FH(117.0241,^0;1^Q
"^DD",117.024,117.02402,.01,1,0)
^.1
"^DD",117.024,117.02402,.01,1,1,0)
117.02402^B
"^DD",117.024,117.02402,.01,1,1,1)
S ^FH(117.024,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",117.024,117.02402,.01,1,1,2)
K ^FH(117.024,DA(1),2,"B",$E(X,1,30),DA)
"^DD",117.024,117.02402,.01,3)
Select the number that corresponds to the day you wish to use.
"^DD",117.024,117.02402,.01,21,0)
^^1^1^3170419^
"^DD",117.024,117.02402,.01,21,1,0)
Days the selected Option will run.
"^DD",117.024,117.02402,.01,"DT")
3170419
"^DD",117.024,117.0242,0)
VARIABLES SUB-FIELD^^3^4
"^DD",117.024,117.0242,0,"DT")
3170511
"^DD",117.024,117.0242,0,"IX","B",117.0242,.01)

"^DD",117.024,117.0242,0,"NM","VARIABLES")

"^DD",117.024,117.0242,0,"UP")
117.024
"^DD",117.024,117.0242,.01,0)
VARIABLES^MFXJ12^^0;1^K:$L(X)>12!($L(X)<1) X
"^DD",117.024,117.0242,.01,1,0)
^.1
"^DD",117.024,117.0242,.01,1,1,0)
117.0242^B
"^DD",117.024,117.0242,.01,1,1,1)
S ^FH(117.024,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",117.024,117.0242,.01,1,1,2)
K ^FH(117.024,DA(1),1,"B",$E(X,1,30),DA)
"^DD",117.024,117.0242,.01,3)
Answer must be 1-12 characters in length.
"^DD",117.024,117.0242,.01,21,0)
^^1^1^3130521^
"^DD",117.024,117.0242,.01,21,1,0)
A variable that must be defined for this option to work.
"^DD",117.024,117.0242,.01,"DT")
3170421
"^DD",117.024,117.0242,1,0)
DATA FOR THE VARIABLE^RF^^0;2^K:$L(X)>99!($L(X)<1) X
"^DD",117.024,117.0242,1,3)
Answer must be 1-99 characters in length.
"^DD",117.024,117.0242,1,21,0)
^^1^1^3130521^
"^DD",117.024,117.0242,1,21,1,0)
What to set the variable to.
"^DD",117.024,117.0242,1,"DT")
3130521
"^DD",117.024,117.0242,2,0)
%DT REQUIRED^S^1:YES;0:NO;^0;3^Q
"^DD",117.024,117.0242,2,3)
Select '1' or 'YES' if %DT needs to be called.
"^DD",117.024,117.0242,2,21,0)
^^3^3^3170421^
"^DD",117.024,117.0242,2,21,1,0)
%DT will be called if the input is '1' or 'Yes'.  %DT will generate a 
"^DD",117.024,117.0242,2,21,2,0)
date based upon the data in field #117.0242,1 and set into the variable 
"^DD",117.024,117.0242,2,21,3,0)
at 117.0242,.01.
"^DD",117.024,117.0242,2,"DT")
3170421
"^DD",117.024,117.0242,3,0)
XECUTABLE CODE TO SET VARIABLE^F^^1;E1,240^K:$L(X)>240!($L(X)<1) X
"^DD",117.024,117.0242,3,3)
Answer must be 1-240 characters in length.
"^DD",117.024,117.0242,3,"DT")
3170511
"^DD",117.0241,117.0241,0)
FIELD^^1^2
"^DD",117.0241,117.0241,0,"DT")
3170510
"^DD",117.0241,117.0241,0,"IX","B",117.0241,.01)

"^DD",117.0241,117.0241,0,"NM","FHQUE REPORT DAYS")

"^DD",117.0241,117.0241,0,"PT",117.02402,.01)

"^DD",117.0241,117.0241,.01,0)
DAY OF WEEK^RF^^0;1^K:$L(X)>9!($L(X)<6)!'(X'?1P.E) X
"^DD",117.0241,117.0241,.01,1,0)
^.1
"^DD",117.0241,117.0241,.01,1,1,0)
117.0241^B
"^DD",117.0241,117.0241,.01,1,1,1)
S ^FH(117.0241,"B",$E(X,1,30),DA)=""
"^DD",117.0241,117.0241,.01,1,1,2)
K ^FH(117.0241,"B",$E(X,1,30),DA)
"^DD",117.0241,117.0241,.01,3)
Answer must be 6-9 characters in length.
"^DD",117.0241,117.0241,.01,21,0)
^^2^2^3170404^
"^DD",117.0241,117.0241,.01,21,1,0)
This field is for the Day of Week that a report will be run.
"^DD",117.0241,117.0241,.01,21,2,0)
For example Sunday or Monday.
"^DD",117.0241,117.0241,.01,"DT")
3170404
"^DD",117.0241,117.0241,1,0)
NUMBER^NJ1,0^^0;2^K:+X'=X!(X>6)!(X<0)!(X?.E1"."1.N) X
"^DD",117.0241,117.0241,1,3)
Type a number between 0 and 6, 0 decimal digits.
"^DD",117.0241,117.0241,1,21,0)
^^2^2^3170419^
"^DD",117.0241,117.0241,1,21,1,0)
This number is used as a cross reference for the day of week. For example 
"^DD",117.0241,117.0241,1,21,2,0)
1 maybe for Sunday, 2 for Monday.
"^DD",117.0241,117.0241,1,"DT")
3170419
"^DD",117.0243,117.0243,0)
FIELD^^4^5
"^DD",117.0243,117.0243,0,"ID",1)
W "   ",$P(^(0),U,2)
"^DD",117.0243,117.0243,0,"IX","B",117.0243,.01)

"^DD",117.0243,117.0243,0,"NM","FHQUE AVAILABLE OPTIONS")

"^DD",117.0243,117.0243,.01,0)
OPTION^RF^^0;1^K:$L(X)>30!($L(X)<3) X
"^DD",117.0243,117.0243,.01,1,0)
^.1
"^DD",117.0243,117.0243,.01,1,1,0)
117.0243^B
"^DD",117.0243,117.0243,.01,1,1,1)
S ^FH(117.0243,"B",$E(X,1,30),DA)=""
"^DD",117.0243,117.0243,.01,1,1,2)
K ^FH(117.0243,"B",$E(X,1,30),DA)
"^DD",117.0243,117.0243,.01,3)
Answer must be 3-30 characters in length.
"^DD",117.0243,117.0243,.01,"DT")
3131120
"^DD",117.0243,117.0243,1,0)
ADDITIONAL DESCRIPTION^F^^0;2^K:$L(X)>30!($L(X)<3) X
"^DD",117.0243,117.0243,1,3)
Answer must be 3-30 characters in length.
"^DD",117.0243,117.0243,1,"DT")
3130606
"^DD",117.0243,117.0243,2,0)
VARIABLES^117.024302^^1;0
"^DD",117.0243,117.0243,3,0)
TAG^F^^0;3^K:$L(X)>8!($L(X)<1) X
"^DD",117.0243,117.0243,3,3)
Answer must be 1-8 characters in length.
"^DD",117.0243,117.0243,3,"DT")
3130606
"^DD",117.0243,117.0243,4,0)
ROUTINE^F^^0;4^K:$L(X)>8!($L(X)<3) X
"^DD",117.0243,117.0243,4,3)
Answer must be 3-8 characters in length.
"^DD",117.0243,117.0243,4,"DT")
3130606
"^DD",117.0243,117.024302,0)
VARIABLES SUB-FIELD^^5^6
"^DD",117.0243,117.024302,0,"IX","B",117.024302,.01)

"^DD",117.0243,117.024302,0,"NM","VARIABLES")

"^DD",117.0243,117.024302,0,"UP")
117.0243
"^DD",117.0243,117.024302,.01,0)
VARIABLES^MRF^^0;1^K:$L(X)>16!($L(X)<1)!'(X?1U.UN) X
"^DD",117.0243,117.024302,.01,1,0)
^.1
"^DD",117.0243,117.024302,.01,1,1,0)
117.024302^B
"^DD",117.0243,117.024302,.01,1,1,1)
S ^FH(117.0243,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",117.0243,117.024302,.01,1,1,2)
K ^FH(117.0243,DA(1),1,"B",$E(X,1,30),DA)
"^DD",117.0243,117.024302,.01,3)
Answer must be 1-16 characters in length.
"^DD",117.0243,117.024302,.01,21,0)
^^1^1^3141107^
"^DD",117.0243,117.024302,.01,21,1,0)
The variables required for this option.
"^DD",117.0243,117.024302,.01,"DT")
3141107
"^DD",117.0243,117.024302,1,0)
ASK USER FOR DATA^S^1:YES;0:NO;^0;2^Q
"^DD",117.0243,117.024302,1,"DT")
3141107
"^DD",117.0243,117.024302,2,0)
DATA FOR THE VARIABLE^F^^0;3^K:$L(X)>99!($L(X)<1) X
"^DD",117.0243,117.024302,2,3)
Answer must be 1-99 characters in length.
"^DD",117.0243,117.024302,2,"DT")
3141107
"^DD",117.0243,117.024302,3,0)
CALL %DT^S^1:YES;0:NO;^0;4^Q
"^DD",117.0243,117.024302,3,21,0)
^^2^2^3141107^
"^DD",117.0243,117.024302,3,21,1,0)
Used for date variables.  If yes, will call %DT using the value of the 
"^DD",117.0243,117.024302,3,21,2,0)
variable.
"^DD",117.0243,117.024302,3,"DT")
3141107
"^DD",117.0243,117.024302,4,0)
XECUTABLE CODE TO SET VARIABLE^F^^1;1^K:$L(X)>240!($L(X)<3) X
"^DD",117.0243,117.024302,4,3)
Answer must be 3-240 characters in length.
"^DD",117.0243,117.024302,4,21,0)
^.001^1^1^3141107^^
"^DD",117.0243,117.024302,4,21,1,0)
This code helps determine the value of this variable.
"^DD",117.0243,117.024302,4,"DT")
3141107
"^DD",117.0243,117.024302,5,0)
USER TEXT^117.0243025^^2;0
"^DD",117.0243,117.0243025,0)
USER TEXT SUB-FIELD^^.01^1
"^DD",117.0243,117.0243025,0,"NM","USER TEXT")

"^DD",117.0243,117.0243025,0,"UP")
117.024302
"^DD",117.0243,117.0243025,.01,0)
USER TEXT^Wx^^0;1^Q
"^DD",117.0243,117.0243025,.01,21,0)
^^2^2^3141107^
"^DD",117.0243,117.0243025,.01,21,1,0)
Text that will help user answer the question of what data to input for 
"^DD",117.0243,117.0243025,.01,21,2,0)
this variable.
"^DD",117.0243,117.0243025,.01,"DT")
3141107
"^DIC",117.024,117.024,0)
FHQUE QUEUED REPORTS/LABELS^117.024
"^DIC",117.024,117.024,0,"GL")
^FH(117.024,
"^DIC",117.024,117.024,"%",0)
^1.005^^0
"^DIC",117.024,117.024,"%D",0)
^^2^2^3170419^
"^DIC",117.024,117.024,"%D",1,0)
Queued FH Print OPTIONS and the time that the option will be run 
"^DIC",117.024,117.024,"%D",2,0)
including parameters.
"^DIC",117.024,"B","FHQUE QUEUED REPORTS/LABELS",117.024)

"^DIC",117.0241,117.0241,0)
FHQUE REPORT DAYS^117.0241
"^DIC",117.0241,117.0241,0,"GL")
^FH(117.0241,
"^DIC",117.0241,117.0241,"%",0)
^1.005^^0
"^DIC",117.0241,117.0241,"%D",0)
^^2^2^3170419^
"^DIC",117.0241,117.0241,"%D",1,0)
File of the days that may be chosen when building the Queued Reports File 
"^DIC",117.0241,117.0241,"%D",2,0)
#117.024.
"^DIC",117.0241,"B","FHQUE REPORT DAYS",117.0241)

"^DIC",117.0243,117.0243,0)
FHQUE AVAILABLE OPTIONS^117.0243
"^DIC",117.0243,117.0243,0,"GL")
^FH(117.0243,
"^DIC",117.0243,"B","FHQUE AVAILABLE OPTIONS",117.0243)

"BLD",10212,6)
^45
**END**
**END**

