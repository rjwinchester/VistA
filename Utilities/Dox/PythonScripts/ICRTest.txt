INTEGRATION REFERENCES LIST                    JAN 29,2016  12:45    PAGE 1
--------------------------------------------------------------------------------

NUMBER: 3103                            IA #: 3103
  FILE NUMBER: 3.54                     GLOBAL ROOT: %ZISL(3.54
  DATE CREATED: MAY 04, 2000            CUSTODIAL PACKAGE: KERNEL
  CUSTODIAL ISC: San Francisco          USAGE: Private
  TYPE: File                            DBIC APPROVAL STATUS: APPROVED
  NAME: RESOURCE FILE MANAGEMENT        ID: %ZISL(3.54
 GENERAL DESCRIPTION:   To prevent multiple jobs from running simultaneously
 through a resource device, the device must be monitored.  Also, if a job that
 is utilizing a resource device fails, the device must be cleared manually. 
 This IA will allow the CMOP package to manage the PSX resource device and
 prevent potentially harmful results from data merging.  
  STATUS: Active                        DURATION: Till Otherwise Agreed
  MAIL MESSAGE: 31251919
SUBSCRIBING PACKAGE: CMOP               ISC: Birmingham
 SUBSCRIBING DETAILS:   The CMOP transmission process relies on the PSX
 resource device to ensure that only one CMOP job runs at a time.  As long as
 the sites keep the AVAILABLE SLOTS field set to one there is never a problem. 
 However, despite many efforts at training we continually discover the
 AVAILABLE SLOTS set to more than one. Because two CMOP jobs running
 simultaneously has resulted in merged data and involves patient safety, the
 CMOP package requests the ability to monitor the PSX resource device and, if
 necessary, reset the available slots field to one. 
  
  
 GLOBAL REFERENCE: ^%ZISL(3.54,0 
         .01     NAME                    0;1      Read with Fileman 
         1       AVAILABLE SLOTS 0;2      Read with Fileman 
  
 ^%ZISL(3.54,D0,1,0 
         .01     SLOT IN USE             1;1     R/W with Fileman 
         3       TASK #                  1;4     Read with Fileman 

NUMBER: 5317                            IA #: 5317
  DATE CREATED: DEC 23, 2008
  CUSTODIAL PACKAGE: VA CERTIFIED COMPONENTS - DSSI
  USAGE: Controlled Subscription        TYPE: Routine
  DBIC APPROVAL STATUS: APPROVED        ROUTINE: DSICDUZ
  NAME: DSICDUZ                         ORIGINAL NUMBER: 5317
  ID: DSICDUZ                           CREATOR: CAREY,BILL
 GENERAL DESCRIPTION:   
    This ICR records API's in the DSICDUZ routine.  This routine is used by DSS
 applications for NEW PERSON (#200) file accesses.  The routine is a wrapper
 around Standard FILEMAN calls to derive results.  
  
    Associated RPCs: DSIC ACTIVE USER, DSIC USER DEF DIV, 
                     DSIC USER ID, DSIC ACTIVE USER LIST, 
                     DSIC ACTIVE PERSON CLASS, DSIC ACTIVE CPRS PROVIDER 
    
  
  
      ROUTINE: DSICDUZ 
    COMPONENT:  ACT 
    VARIABLES:  DSIC   Type: Output 
                                     A subscripted array with a value of 1 
                                     or 0 to indicated if user is active.  
  
 XDUZ   Type: Input   (Required) 
                                     A single value or a subscripted array 
                                     of security keys to be evaluated.  
                DSISCR Type: Input   (Optional) 
                                     DSISCR(n) = string 
                                                where n = 0,1,2,3,4,...  
                                     Allowable formats of DSISCR(n) = 
                                           flag^val1^val2^val3^..  
  
                                      security key ck = KEY^security key 
                                      name 
                                      kernel param ck = PARM^parameter 
                                      name^ parameter instance 
                                      M code = M^<return message>^ 
                                                 <executable M code which 
                                                  sets $T> 
  
                FUN    Type: Input (Optional)  Default is zero (0).  
                                     I $G(FUN) then extrinsic function, 
                                     else RPC.  
                                       
                   This API is used by the "DSIC USER ACTIVE USER" rpc. 
                   This API can be used to verify if a user is an active 
                   VistA user.  
                   The calling routine will send the DUZ to check and the 
                   API will return a subscripted array with a value of 1 
                   (user owns key) or 0 (key not found).  
  
    COMPONENT:  CK 
    VARIABLES:  XDUZ   Type: Input   (Required) 
                                      A single DUZ value to check.  
     
  
  
    This API does a basic check on a DUZ to see if user is active. 
                
    COMPONENT:  DIV 
    VARIABLES:  DSIC   Type: Output 
                                      return p1^p2^p3: 
  
                                      p1=pointer to file 4 
                                      p2=institution name 
                                      p3=station number 
   
                XDUZ   Type: Input   (Required) default is currect user 
                                     DUZ.  
                                     A single value or a subscripted array 
                                     of security keys to be evaluated.  
                SITE   Type: Input   (Optional) 
                                     if SITE=1 and user has no divisions, 
                                     then return facility's  default 
                                     division 
                                    
                FUN    Type: Input (Optional)  Default is zero (0).  
                                     I $G(FUN) then extrinsic function, 
                                     else RPC.  
                                       
                   Return default division for user.  If that user has 
                   only one division in the file 200 DIVISION multiple, 
                   then that entry is assumed to be the default division 
                   unless it is explicitly marked as NO.  This component is 
                   used for the "DSIC USER DEF DIV" rpc.  
  
    COMPONENT:  ID 
    VARIABLES:  DSIC   Type: Output 
                                     return p1^p2^p3^p4 for n=1,2,3,... 
                                     where 
                                     If error, return -1^message 
                                     If RPC or M API, 
                                     return List[n] = p1^p2^p3^p4 
                                       for n=1,2,3,4,...  
                                     If Ext. Function, 
                                     return 
                                       p1^p2^p3^p4;p1^p2^p3^p4;p1^p2^p3^p4;...  
                                        where p1 - ID mnemonic 
                                              p2 - ID value 
                                              p3 - location 
                                                (valid for OAI mnemonics 
                                                 only) 
                                              p4 = 1 (valid for OAI only.) 
                                                     (If 1, then default 
                                                      Alt ID) 
   
                XDUZ   Type: Input   pointer to NEW PERSON file, 
                                         if optional default to DUZ 
  
                FLAGS  Type: Input   (Optional) 
                                     default to "AaDNSTVv" 
                                     FLAGS["A" - return alternate IDS in 
                                                 field 21600 only 
                                           "a" - return default alternate 
                                                 ID only 
                                                 - either one must be 
                                                   flagged as default or if 
                                                   there is only one entry 
                                                   in alt id.  
                                           "D" - return DEA# 
                                           "N" - return NPI# 
                                           "S" - return SSN 
                                           "T" - TAX ID 
                                           "v" - VA# 
                                           "V" - VPID 
                                    
                FUN    Type: Input (Optional)  Default is zero (0).  
                                     I $G(FUN) then extrinsic function, 
                                     else RPC.  
                                       
                   Return all user IDs for a given user.  This component 
                   is used for the "DSIC USER ID" rpc.  
  
    COMPONENT:  LIST 
    VARIABLES:  DSIC   Type: Output 
                   Return ^TMP("DSIC",$J,"DILIST",#,0) = p1^p2^p3^...^p8  
                       where: 
                          p1 = ien                      p6 = initials 
                          p2 = name (.01 field)         p7 = title 
                          p3 = sig block printed name   p8 = service 
                          p4 = sig block title          p9 = division 
                          p5 = first m last 
   
                VAL   Type: Input   (Required) 
                                     lookup value for NEW PERSON file.  
                                    
                SCR   Type: Input   (Optional) 
                                     array of additional screens to 
                                     perform: 
  
                                     string   where n = 0,1,2,3,4,...  
                                     Allowable formats of SCR(n) = 
                                                    flag^val1^val2^val3^..  
                                       security key ck = KEY^security key 
                                       name 
                                       kernel param ck = PARM^parameter 
                                       name^ parameter instance 
                                       M code = M^<return message>^ 
                                       <executable M code which sets $T> 
                                      
                   Return list of active users for a lookup value.  This 
                   component is used for the "DSIC ACTIVE USER LIST" rpc.  
  
  
  
    COMPONENT:  PER 
    VARIABLES:  DSIC   Type: Output 
  
                   Return user's current active person classification for 
                   PCE.  
                           Return p1^p2^p3^...^p8  where 
                           p1 = IEN to file 8932.1     p5 = Effective date 
                           p2 = Occupation             p6 = expiration date 
                           p3 = specialty              p7 = VA Code 
                           p4 = sub-specialty          p8 = specialty code 
  
                USER   Type: Input   pointer to NEW PERSON file, 
                                         if optional default to DUZ.  
                                    
                DATE    Type: Input   ;  DATE - default=today 
                                         Fileman date to check for 
                                             active person class.  
                                    
                FUN    Type: Input (Optional)  Default is zero (0).  
                                     I $G(FUN) then extrinsic function, 
                                     else RPC.  
                                       
                   Return user's current active person classification for 
                   PCE. This component is used for the "DSIC ACTIVE PERSON 
                   CLASS" rpc.  
  
  
    COMPONENT:  PROV 
    VARIABLES:  DSIC   Type: Output 
  
                   Return: 3 if active user 
                           2 if user is active via the XUORES security key 
                           1 if user is a RDV visitor and you passed RDV=1 
                           0 if user is a RDV visitor and you passed RDV=0 
                           -1^message if problems or not a provider 
  
                XDUZ   Type: Input  (Required) default is current user DUZ.  
  
                          A single value of the DUZ to return values for.  
  
  
                RDV    Type: Input   (Optional) default = today 
                           Boolean flag to indicate whether or not to 
                           include remote data view visitors - default to 0 
                           to not include.  
                                    
                FUN    Type: Input (Optional)  Default is zero (0).  
                          I $G(FUN) then extrinsic function, else RPC.  
                                       
                   Return all user IDs for a given user.  This component 
                   is used for the "DSIC ACTIVE CPRS PROVIDER" rpc.  
  STATUS: Active                        DURATION: Till Otherwise Agreed
COMPONENT/ENTRY POINT: ACT
 COMPONENT DESCRIPTION:   
    VARIABLES:  DSIC   Type: Output 
                                     A subscripted array with a value of 1 
                                     or 0 to indicated if user is active.  
                XDUZ   Type: Input  (Required) 
                                     A single value or a subscripted array 
                                     of security keys to be evaluated.  
                DSISCR Type: Input  (Optional) 
                     DSISCR(n) = string where n = 0,1,2,3,4,... Allowable 
                                 formats of DSISCR(n) = 
                                   flag^val1^val2^val3^..  
  
                                   security key ck = KEY^security key name 
                                   kernel param ck = PARM^parameter name^ 
                                                     parameter instance 
                                      M code = M^<return message>^ 
                                         <executable M code which sets $T> 
  
                FUN    Type: Input (Optional)  Default is zero (0).  
                                     I $G(FUN) then extrinsic function, 
                                     else RPC.  
                                       
                   This API is used by the "DSIC USER ACTIVE USER" rpc. 
                   This API can be used to verify if a user is an active 
                   VistA user.  The calling routine will send the DUZ to 
                   check and the api will return a subscripted array with a 
                   value of 1 (user owns key) or 0 (key not found).  
VARIABLES: DSIC                         TYPE: Output
 VARIABLES DESCRIPTION:   A subscripted array with a value of 1 or 0 to
 indicate if user is active. 1 = Active, 0 = Inactive.  
VARIABLES: XDUZ                         TYPE: Input
 VARIABLES DESCRIPTION:   A single value or a subscripted array of security
 keys to be evaluated.  
VARIABLES: DSISCR                       TYPE: Input
 VARIABLES DESCRIPTION:   DSISCR(n) = string where n = 0,1,2,3,4,...  
  
 Allowable formats of DSISCR(n) = flag^val1^val2^val3^.. where: 
  
             security key ck = KEY^security key name 
  
             kernel param ck = PARM^parameter name^ parameter instance 
  
             M code = M^<return message>^ <executable M code which sets $T> 
VARIABLES: FUN                          TYPE: Input
 VARIABLES DESCRIPTION:   If $G(FUN) then extrinsic function, else RPC.  
COMPONENT/ENTRY POINT: CK
 COMPONENT DESCRIPTION:   This API does a basic check on a DUZ to see if user
 is active.  
VARIABLES: XDUZ                         TYPE: Input
 VARIABLES DESCRIPTION:   A single DUZ value to check.  
COMPONENT/ENTRY POINT: DIV
 COMPONENT DESCRIPTION:   Return default division for user.  If that user has
 only one division in the file 200 DIVISION multiple, then that entry is
 assumed to be the default division unless it is explicitly marked as NO.  This
 component is used for the "DSIC USER DEF DIV" rpc.  
VARIABLES: DSIC                         TYPE: Output
 VARIABLES DESCRIPTION:   return p1^p2^p3: 
  
   p1=pointer to file 4 
   p2=institution name 
   p3=station number 
VARIABLES: XDUZ                         TYPE: Input
 VARIABLES DESCRIPTION:   A single value or a subscripted array of security
 keys to be evaluated.  
VARIABLES: SITE                         TYPE: Input
 VARIABLES DESCRIPTION:   if SITE=1 and user has no divisions, then return
 facility's  default division.  
VARIABLES: FUN                          TYPE: Input
 VARIABLES DESCRIPTION:   Default is zero (0). I $G(FUN) then extrinsic
 function, else RPC 
COMPONENT/ENTRY POINT: ID
 COMPONENT DESCRIPTION:   Return all user IDs for a given user.  This component
 is used for the "DSIC USER ID" rpc.  
VARIABLES: DSIC                         TYPE: Output
 VARIABLES DESCRIPTION:   return p1^p2^p3^p4 for n=1,2,3,... where 
                                     If error, return -1^message 
                                     If RPC or M API, 
                                     return List[n] = p1^p2^p3^p4 
                                       for n=1,2,3,4,...  
                                     If Ext. Function, 
                                     return 
                                       p1^p2^p3^p4;p1^p2^p3^p4;p1^p2^p3^p4;...  
                                        where p1 - ID mnemonic 
                                              p2 - ID value 
                                              p3 - location 
                                             (valid for OAI mnemonics only) 
                                              p4 = 1 (valid for OAI only.) 
                                              (If 1, then default Alt ID) 
VARIABLES: XDUZ                         TYPE: Input
 VARIABLES DESCRIPTION:   Pointer to NEW PERSON (#200) file, if optional
 default to DUZ.  
VARIABLES: FLAGS                        TYPE: Input
 VARIABLES DESCRIPTION:   default to "AaDNSTVv".  
  
  FLAGS["A" - return alternate IDS in field 21600 only 
        "a" - return default alternate ID only - either one must be flagged 
              as default or if there is only one entry in alt id.  
        "D" - return DEA# 
        "N" - return NPI# 
        "S" - return SSN 
        "T" - TAX ID 
        "v" - VA# 
        "V" - VPID 
VARIABLES: FUN                          TYPE: Input
 VARIABLES DESCRIPTION:   Default is zero (0). I $G(FUN) then extrinsic
 function, else RPC.  
COMPONENT/ENTRY POINT: LIST
 COMPONENT DESCRIPTION:   Return list of active users for a lookup value.  This
 component is used for the "DSIC ACTIVE USER LIST" rpc.  
VARIABLES: DSIC                         TYPE: Output
 VARIABLES DESCRIPTION:   Return ^TMP("DSIC",$J,"DILIST",#,0) = p1^p2^p3^...^p8 
 where: 
  
                          p1 = ien                      p6 = initials 
                          p2 = name (.01 field)         p7 = title 
                          p3 = sig block printed name   p8 = service 
                          p4 = sig block title          p9 = division 
                          p5 = first m last 
VARIABLES: VAL                          TYPE: Input
 VARIABLES DESCRIPTION:   lookup value for NEW PERSON file.  
VARIABLES: SCR                          TYPE: Input
 VARIABLES DESCRIPTION:   (Optional) Array of additional screens to perform: 
  
           string   where n = 0,1,2,3,4,...  
    Allowable formats of SCR(n) = flag^val1^val2^val3^..  
  
                                  security key ck = KEY^security key name 
                                  kernel param ck = PARM^parameter name^ 
                                                         parameter instance 
                                  M code = M^<return message>^ 
                                           <executable M code which sets $T 
COMPONENT/ENTRY POINT: PER
 COMPONENT DESCRIPTION:   Return user's current active person classification
 for PCE. This component is used for the "DSIC ACTIVE PERSON CLASS" rpc.  
VARIABLES: DSIC                         TYPE: Output
 VARIABLES DESCRIPTION:   Return user's current active person classification
 for PCE.  
                           
 Return p1^p2^p3^...^p8  where 
             p1 = IEN to file 8932.1     p5 = Effective date 
             p2 = Occupation             p6 = expiration date 
             p3 = specialty              p7 = VA Code 
             p4 = sub-specialty          p8 = specialty code 
VARIABLES: USER                         TYPE: Input
 VARIABLES DESCRIPTION:   Pointer to NEW PERSON (#200) file.  If optional,
 default to DUZ.  
VARIABLES: DATE                         TYPE: Input
 VARIABLES DESCRIPTION:   Default=today.  Fileman date to check for active
 person class.  
VARIABLES: FUN                          TYPE: Input
 VARIABLES DESCRIPTION:   Default is zero (0). I $G(FUN) then extrinsic
 function, else RPC.  
COMPONENT/ENTRY POINT: PROV
 COMPONENT DESCRIPTION:   Return all user IDs for a given user.  This component
 is used for the "DSIC ACTIVE CPRS PROVIDER" rpc.  
VARIABLES: DSIC                         TYPE: Output
 VARIABLES DESCRIPTION:   Return: 3 if active user 
         2 if user is active via the XUORES security key 
         1 if user is a RDV visitor and you passed RDV=1 
         0 if user is a RDV visitor and you passed RDV=0 
         -1^message if problems or not a provider 
VARIABLES: XDUZ                         TYPE: Input
 VARIABLES DESCRIPTION:   (Required) Default is current user DUZ. A single
 value of the DUZ to return values for.  
VARIABLES: RDV                          TYPE: Input
 VARIABLES DESCRIPTION:   Boolean flag to indicate whether or not to include
 remote data view visitors - default to 0 to not include.  
VARIABLES: FUN                          TYPE: Input
 VARIABLES DESCRIPTION:   (Optional)  Default is zero (0). I $G(FUN) then
 extrinsic function, else RPC.  
SUBSCRIBING PACKAGE: INSURANCE CAPTURE BUFFER
  DATE ACTIVATED: JUN 11, 2009
DATE/TIME EDITED: JUN 11, 2009@11:44    ACTION: APPROVED
  AT THE REQUEST OF: CLARK,KAREN        WITH CONCURRENCE OF: CAREY,WILLIAM

NUMBER: 639                             IA #: 639
  DATE CREATED: JUN 19, 1992
  CUSTODIAL PACKAGE: ORDER ENTRY/RESULTS REPORTING
  CUSTODIAL ISC: Salt Lake City         USAGE: Private
  TYPE: Routine                         DBIC APPROVAL STATUS: APPROVED
  ROUTINE: ORX8                         NAME: DBIA181-F
  ORIGINAL NUMBER: 181                  ID: ORX8
  STATUS: Active                        DURATION: Till Otherwise Agreed
COMPONENT/ENTRY POINT: NOTIF
 COMPONENT DESCRIPTION:   NOTIF^ORX8(ORIFN,ORNOTE)  Used when cleaning up a
 notification that is linked to an order.  REQUIRED VARIABLES: 
 ORNOTE(notification entry #) - must be set to null - notification entry number
 is from File 100.9, field .001(IFN) ORVP - patient identifier in the formal
 "DFN;DPT("    (ORVP is also used by other OE/RR routines and may already be
 available in your package.) REUTNRED VARIABLES;          None OPTIONAL
 VARIABLES:  ORIFN - the order that you want this notification to be linked to. 
 ORIFN - the order that you want this notification to be linked to.  
SUBSCRIBING PACKAGE: CONSULT/REQUEST TRACKING
  ISC: Salt Lake City
  
NUMBER: 28                              IA #: 28
  DATE CREATED: MAR 21, 1989            CUSTODIAL PACKAGE: REGISTRATION
  CUSTODIAL ISC: Albany                 USAGE: Private
  TYPE: Routine                         ROUTINE: DGUTL
  NAME: DBIA28                          ORIGINAL NUMBER: 28
  ID: DGUTL
 GENERAL DESCRIPTION:   *****TEMPORARY SUPPORTED CALL FOR IFCAP V2 TEST SITES
 ONLY***** 
                 call to ZIS^DGUTL 
  STATUS: Retired                       DURATION: Till Otherwise Agreed
COMPONENT/ENTRY POINT: ZIS
 COMPONENT DESCRIPTION:   DURATION:  Till completion of IFCAP, version 2,
 testing.  
SUBSCRIBING PACKAGE: IFCAP              ISC: Oakland

NUMBER: 1151                            IA #: 1151
  DATE CREATED: FEB 20, 1995            CUSTODIAL PACKAGE: MAILMAN
  CUSTODIAL ISC: San Francisco          USAGE: Supported
  TYPE: Routine                         DBIC APPROVAL STATUS: APPROVED
  ROUTINE: XMS1                         NAME: MAILMAN: Server API
  ID: XMS1
 GENERAL DESCRIPTION:   ^XMS1 contains the following application programmer
 functions: 
  
 $$STATUS^XMS1(MSGIEN,RDUZ) which extracts the status from network messages
 only.  
  
 $$SRVTIME(MSGIEN,RDUZ,Status) which sets status of recipients in a message. 
  
  
  
  
  
 Appendix 1 -- Message Server Protocol 
  
  
 Overview 
  
 A server is an option which is invoked when a mail message that has been 
 addressed to it has been delivered.  As an option, many of the parameters 
 associated with the servers are embedded in the definition of the option.  
 Therefore, in order to understand servers completely, you should refer to the
 server documentation in Kernel 7.0 manuals.  Options are listed in the Menu
 Management documentation.  
  
 Servers may or may not receive data.  The received data usually comes in the
 form of the text of the message being delivered to it, but the data may also
 be pointed to by the message, and exist in the system either because it was
 there in the beginning, or because it arrived independently.  
  
 Servers may be addressed from a remote  site.  A server on ALTOONA.domain.ext may
 receive a message addressed to it from WASHINGTON.domain.ext.  In fact, this is
 very common.  There are security features as parameters of the option that has
 been designated as a server because of the fact.  Please be aware of these
 security parameters.  Messages addressed to servers will not be scheduled if
 security is not passed.  Filegrams work through use of a server.  Data is
 loaded into a mail message, addressed and when delivered, processed by the
 filegram server into the receiving database.  
  
 Servers are always invoked through tasks that are set up when the message is
 delivered into the system locally or over the network.  One of the options is
 to "Run Immediately".  Then the task is scheduled to run "NOW".  
  
 However, tasks may not need to be scheduled at all because the system manager
 has stated so in the entry for the server in the Option file or because of a
 problem.  See the Menu Management documentation in the MailMan Technical
 Manual and Systems Management Guide for more information concerning this.  
  Server Statuses 
  
 Server recipients are recorded in the recipient chain of a message and appear
 similarly to other users.  MailMan enters statuses on its own as stages in the
 server process are reached.  First, the message is marked as "Awaiting
 Server".  This indicates that the message has been received and the option is
 a valid one.  At this point, a task has been created to actually invoke
 MenuMan to schedule or perform the service (option) required.  
  
 The last status which MailMan sets is "Served", which means that MenuMan has
 been called successfully and MenuMan has either performed the task in the case
 of a server that runs immediately, or that some other action has been done.  
  
 At this point, a task could be scheduled to invoke the server or simply a 
 message could be sent to indicate that the task exists and needs to be 
 scheduled, or some other action that was required was performed.  MenuMan has
 its own statuses which will be used. 
  
  
 $$SRVTIME^XMS1 
  
 This extrinsic function sets status of recipients in a message.  
  
 Usage: S X=$$SRVTIME^XMS1(A,B,C) 
  
 Where: A = XMZ (message number) 
                B = A string representing the recipient name 
                C = Status is free-text (String less than nine (9) 
                       characters in length) 
  
 If successful, X = 0 
                ...or If unsuccessful, X will be a number followed by a human
 readable error 
  
  Addressing a Server 
  
 To address a server, precede the recipient name with "S." (e.g., S.XMECHO). 
 This example sends a message to the Mail Man Echo Tester server.  "S." must be
 followed by an option name from the Option file in the Target Domain.  If not,
 a "Recipient not Found" error will occur.  
  
 A "Recipient Ambiguous" error will occur, if there is more than one option 
 whose name partially matches the name addressed.  
  
 The District Registry server for admitting a new patient could be addressed as
 follows: 
  
 S.DGDISTADMIT@SANFRANCISCO.domain.ext 
  
 The message is destined for the DGDISTADMIT option at San Francisco.  Replies
 to this message would be from this same name.  
  
  
  Writing a Server Program 
  
 The server communicates with mail messages in specific ways.  Code is used to
 interface the server to the message system.  The code below returns the 
 original message to the sender: 
  
 ECHO    ; 
            K XMY 
            S XMSUB=$E("Server echo of'"_XMBSUB_"`",1,65) 
            S XMY(XMFROM)="",XMTXT="^XMB(3.9,"_XMZ_",2," 
            D ^XMD 
            Q 
  
 In this example, the variable XMFROM contains the sender address and is 
 supplied to the server when invoked.  Other variables also exist upon 
 invocation of the server.  
  
 The XMF.1 example server program is supplied with MailMan.  XMF1 uses some of
 the other variables supplied to the server.  
  
 Execute variable XMREC to read a line of the message.  XMER and XMRG are 
 returned.  
  XMER  This variable returns the execution status of XMREC.  XMER<0, if there
 is no more message text to read.  The value of XMER will be zero (0), if XMRG
 is being returned as non-null.  XMRG, in that case, will have as its value the
 text of the next line of the message.  
  
 XMRG   The value of XMRG will be the next line of message text.  XMRG will 
 always be defined, though it will be null when XMER<0.  
  
 XMPOS  This variable contains the current position of the text returned in the
 variable XMGR.  It is initialized if it is undefined, but should be killed by
 the server when it is finished "Reading" the message.  
  
 Here's another example of code, this time from XMF1: 
  
     S XMA=0 
  A  ; 
     X XMREC        ;       Receive a line 
     I $D(XMER) G Q;XMER<0  ;       Check for end of message 
     S XMA=XMA+1    ;       Increment local line count 
     S XMTEXT(XMA)=XMRG     ;       Set local array 
     G A    ;       Go back for another line 
  
  Double Serving Messages 
  
 On occasion, the transmission/receive process is interrupted by a system 
 back-up.  It appears to result in the same message being served twice.  The
 Audit Log for the Options file shows two messages with the same message number
 and subject, but with different Date/Times and Job Numbers.  
  
  
 To avoid this, application servers should be written such that they check for
 and avoid processing of the same message being delivered to any particular
 server.  MailMan transparently checks this and does not deliver twice to mail
 boxes.  However, devices and servers do not have mail boxes to check against. 
 Servers can have some understanding of special mail baskets in the
 Postmaster's mail box and can be written to check for duplicate deliveries
 (See reference XMAIC entry points in the Callable Routines section of the
 Technical Manual and System Manager's Guide).  
  STATUS: Active
COMPONENT/ENTRY POINT: STATUS
 COMPONENT DESCRIPTION:   
  
  
  
 $$STATUS^XMS1 
  
 This extrinsic function extracts the status from network messages only.  
  
 Usage:         S X=$$STATUS^XMS1(A,B) 
  
 Where:         A = Message Number 
                B = Recipient (pointer to File #200 or free-text Network
 Address) 
  
 If successful, X=String 
        ...or If unsuccessful X="" 
  
  
 Examples: 
  
  W $$STATUS^XMS1(51555,"NOSS,VER@VER.GOLD.domain.ext") 
  Awaiting transmission.  
COMPONENT/ENTRY POINT: $$SRVTIME
 COMPONENT DESCRIPTION:   $$SRVTIME^XMS1 
  
 This extrinsic function sets status of recipients in a message.  
  
 Usage: S X=$$SRVTIME^XMS1(A,B,C) 
  
 Where: A = XMZ (message number) 
                B = A string representing the recipient name 
                C = Status is free-text (String less than nine (9) 
                       characters in length) 
  
 If successful, X = 0 
                ...or If unsuccessful, X will be a number followed by a human
 readable error 

NUMBER: 91                              IA #: 91
  FILE NUMBER: 60                       GLOBAL ROOT: LAB(60,
  DATE CREATED: SEP 11, 1991            CUSTODIAL PACKAGE: LAB SERVICE
  CUSTODIAL ISC: Dallas                 USAGE: Controlled Subscription
  TYPE: File                            DBIC APPROVAL STATUS: APPROVED
  NAME: DBIA91-A                        ORIGINAL NUMBER: 91
  ID: LAB(60,
GLOBAL REFERENCE: LAB(60,D0,0)
FIELD NUMBER: .01                       FIELD NAME: NAME
  LOCATION: 0;1                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: 1                         FIELD NAME: TEST COST
  LOCATION: 0;11                        ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: 4                         FIELD NAME: SUBSCRIPT
  LOCATION: 0;4                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: 5                         FIELD NAME: LOCATION (DATA NAME)
  LOCATION: 0;5                         ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: LAB(60,'B',
 GLOBAL DESCRIPTION:   The 'B' cross-reference is used to locate patient data
 by the specific Laboratory Test Name.  
GLOBAL REFERENCE: LAB(60,'C',
 GLOBAL DESCRIPTION:   The 'C' cross-reference is used to locate the Laboratory
 Test Name when all data for a selected patient is being evaluated based on the
 Location (DATA NAME) for a particular result 
GLOBAL REFERENCE: LAB(60,D0,2)
 GLOBAL DESCRIPTION:   This is a check used in  DIC('S') for LAB TESTS INCLUDED
 IN PANEL in the following manner: S DIC("S")="I '$D(^LAB(60,+Y,2))" S
 DIC("?")="The lab test may not be a panel of tests." S DIC="60",DIC(0)="AEQMZ" 
 F  D ^DIC Q:Y=-1  D 
  STATUS: Active                        DURATION: Till Otherwise Agreed
  MAIL MESSAGE: 11757790
SUBSCRIBING PACKAGE: SPINAL CORD DYSFUNCTION
  ISC: Oakland
SUBSCRIBING PACKAGE: CLINICAL REMINDERS
SUBSCRIBING PACKAGE: CLINICAL CASE REGISTRIES
SUBSCRIBING PACKAGE: PHARMACY BENEFITS MANAGEMENT
SUBSCRIBING PACKAGE: ORDER ENTRY/RESULTS REPORTING
SUBSCRIBING PACKAGE: MRSA INITIATIVE REPORTS
 SUBSCRIBING DETAILS:   ADDED 4/23/09 
SUBSCRIBING PACKAGE: HEALTH MANAGEMENT PLATFORM
 SUBSCRIBING DETAILS:   HMP's subscription to this ICR expires on 10/27/17 with
 the shutdown of HMP.  HMP*2.0*12 released on 10/17/17 is an informational
 patch outlining the steps for the sites to shut down the application.  
  
 If HMP is reactivated in the future, the HMP project team should review the
 access provided by this ICR with the custodial application before reactivating
 HMP's subscription to this ICR.  
SUBSCRIBING PACKAGE: VISTA INTEGRATION ADAPTOR
 SUBSCRIBING DETAILS:   VIA needs access to the Laboratory Test (#60) file for
 VIAB LOAD RPC and OrderMgmtSvc - getLabTestSpecificParams.  
 DBA Comments:   1/27/16-MC: Added EHMP as a subscriber to ICR at the request
 of Raymond Blank and approval of Carol Anzaldua for HMP 2.0 
  
 3/15/17-MM:  VIA added as a subscriber to ICR #91 for VIAB*1*9.  VIA's 
 originally created ICR #6728 for access to this file.  Levi recommended adding
 VIA as a subscriber to ICR #91 rather than activating ICR #6728.  VIA agreed.  
  
 VIA needs access to the Laboratory Test (#60) file for VIAB LOAD RPC and 
 OrderMgmtSvc - getLabTestSpecificParams.  CPRS RPC is ORWDLR32 LOAD.  
  
 11/1/17-MM:  HMP's subscription to this ICR expires on 10/27/17 with the 
 shutdown of HMP.  HMP*2.0*12 released on 10/17/17 is an informational patch
 outlining the steps for the sites to shut down the application.  
  
 If HMP is reactivated in the future, the HMP project team should review the
 access provided by this ICR with the custodial application before reactivating
 HMP's subscription to this ICR.  
DATE/TIME EDITED: JUN 08, 2009@12:21    ACTION: SUBSCRIBER ADDED
  AT THE REQUEST OF: MCDEARMON,JAMES
DATE/TIME EDITED: JAN 27, 2016@10:28    ACTION: SUBSCRIBER ADDED
  AT THE REQUEST OF: BLANK,RAYMOND      WITH CONCURRENCE OF: ANZALDUA,CAROL
DATE/TIME EDITED: MAR 15, 2017@11:03    ACTION: SUBSCRIBER ADDED
  AT THE REQUEST OF: ROSS,RICK          WITH CONCURRENCE OF: TEITELBAUM,LEVI
DATE/TIME EDITED: NOV 01, 2017@15:55    ACTION: CONTENT CORRECTED
  AT THE REQUEST OF: LORD,BRIAN         WITH CONCURRENCE OF: ICR,TEAM

NUMBER: 214                             IA #: 214
  DATE CREATED: FEB 22, 1993            CUSTODIAL PACKAGE: IFCAP
  CUSTODIAL ISC: Dallas                 USAGE: Controlled Subscription
  TYPE: Other                           DBIC APPROVAL STATUS: APPROVED
  NAME: DBIA214                         ORIGINAL NUMBER: 214
 GENERAL DESCRIPTION:   The following is entered as DBIA until the next version
 of DA: 
  
     All components indentified in this integration request involve reading 
 from IFCAP files.  Drug Accountability does not write to any IFCAP files.  
 Looking toward an interface with the IFCAP Generic Inventory Package, Drug
 Accountability (PSA) begins the process with a Connection Menu.  The PSAINIT
 creates in the DRUG file (#50) a multiple (#50.0441) pointing to the IFCAP
 ITEM MASTER file (#441), enabling a direct link between the DRUG file (#50)
 and the ITEM MASTER file (#441).  
  
      The first connecting tool provided in the Connection Menu is a sub- menu
 using the National Drug Code (NDC) to attempt matching entries.  In the ITEM
 MASTER file (#441), the NDC field (#4) is located in the VENDOR multiple (#6). 
 This field has an input transform that prevents a user from using the same NDC
 for more than one ITEM MASTER file entry.  In studying an ITEM MASTER file
 from a local site, it was discovered that there were several entries in their
 ITEM MASTER file that did possess the same NDC.  Since this situation might
 lead a connector to link a drug to a potentially less active item, the first
 option in the NDC Menu is the NDC Duplicates Report (ITEM file).  This report
 loops through the NDC ("F") x-ref in #441.  If more than one item contains the
 same NDC and is not inactive (field #16, '$G(^PRC(441,D0,3))), the duplicates
 are listed.  The report displays the NDC that has more than one item attached
 to it, the item numbers attached, their SHORT DESCRIPTION (#.05), and the
 VENDOR (#6) => VENDOR file (#440,#1) that contains the duplicated NDC.  
  
      The second item on the NDC Menu is the Report Potential NDC Matches 
 option.  This report loops through the active, unlinked (to #441) entries in
 the DRUG file (#50) that have an NDC.  If a corresponding NDC is found in the
 "F" x-ref in the ITEM MASTER file (#441), the NDC and drug name are listed
 from the DRUG file (#50) and the ITEM NUMBER (#.01) and DESCRIPTION (#.1)
 listed from the ITEM MASTER file (#441).  Using the ITEM NUMBER ("AB") x-ref
 in the DRUG file (#50), a check is made to see if the matched ITEM MASTER file
 entry is already linked to another DRUG file entry.  If so the user is
 informed of the existing connection.  
  
      Using this same loop and display criteria, the Controlled Connection by
 NDC Match allows the user the opportunity to actually link matched entries. 
 If the user approves the displayed match, a ^DIE stuff of the item number into
 the item multiple (#50.0441) in the DRUG file occurs.  Likewise, the Automated
 DRUG/ITEM file link by NDC option uses the same loop and display criteria and
 the ^DIE stuff for all matches in the loop.  
  
 In the event that the user requires more information about a selected drug
 from either the DRUG file or the ITEM MASTER file before linking, the
 Inquire/Compare DRUG file/ITEM file option is available.  This option uses a
 FM inquire with a no-link pointer jump from the DRUG file to the ITEM MASTER
 file via the NDC "F" x-ref in #441.  The user selects the drug from the DRUG
 file and along with corresponding info from the DRUG file the DESCRIPTION
 (#.1), NSN (#5), NDC (VENDOR (#6),#4) by which the jump occurred, and from
 that same VENDOR multiple the UNIT COST (#1), UNIT OF PURCHASE (#1.5), DATE OF
 UNIT PRICE (#2.5), PACKAGING MULTIPLE (#1.6), calculated unit cost = UNIT COST
 (#1)/DISPENSE UNITS PER ORDER UNIT from the DRUG file, VENDOR (#.01), CREATED
 BY (#15), and with a jump to #200 their OFFICE PHONE NUMBER.  Using this same
 jump, the DRUG file/ITEM file Comparison Report displays the same data with
 the user selecting a range of drugs from the DRUG file.  
  
      The FSN Menu functions similar to the NDC Menu.  The Report Potential FSN
 Matches option loops through the active, unlinked (to #441) entries in the
 DRUG file that have an FSN.  If a corresponding NSN is found in the "BA" x-ref
 in the ITEM MASTER file, the FSN and drug name are listed from the DRUG file
 and the ITEM NUMBER (#.01) and DESCRIPTION (#.1) listed from the ITEM MASTER
 file.  Using the ITEM NUMBER ("AB") x-ref in the DRUG file, a check is made to
 see if the matched ITEM MASTER file entry is already linked to another DRUG
 file entry.  If so the user is informed of the existing connection.  
  
      Using this same loop and display criteria the Controlled Connection by
 FSN Match option allows the user to actually link matched entries.  If the
 user approves the displayed match, a ^DIE stuff of the item number into the
 item multiple (#50.0441) in the DRUG file occurs.  Likewise, the Automated
 DRUG/ITEM File Link by FSN option uses the same loop and display criteria and
 the ^DIE stuff for all matches in the loop.  
  
      The Single Drug Match option uses both the NDC and FSN/NSN tools 
 described previously to offer a connection for a single selection from the
 DRUG file.  If a link to an ITEM MASTER file entry already exists, it is
 displayed to the user and they may edit the connection in the DRUG file. 
 Using the ITEM NUMBER multiple pointer (#50.0441) in the DRUG file, the user
 can also do look-ups to the ITEM MASTER file via available x-refs (NSN (BA),
 SHORT DESCRIPTION (C), VENDOR STOCK # (D), or NDC (F)) in order to select
 additional connections.  
  
      The Report of Unlinked DRUG/ITEM File Entries lists active drugs from the
 DRUG file which do not yet have any entries in the ITEM NUMBER multiple
 (#50.0441).  The Connect Unlinked DRUG/ITEM file Entries option loops through
 these unlinked entries and offers all the tools described in the Single Drug
 Match option to perform the links.  
  
      The Active, Unlinked Drugs in the ITEM File option allows the user to
 select a purchase date from which to consider an ITEM MASTER file drug active. 
 It then loops through the ITEM MASTER file and when an entry's FSC (#2) = 6505
 (Federal Supply Classification for drugs), is not an INACTIVATED ITEM? (#16),
 is not linked to a drug('$O(^PSDRUG,"AB",ITEM,"")), has an entry in the FCP
 (#1) multiple, and has within at least one FCP entry, an entry in the PURCHASE
 ORDER (#1) multiple, the P.O. DATE(s) (#442,#.1) are checked against the user
 selected purchase date.  For entries that pass this criteria, the ITEM NUMBER
 (#.01), SHORT DESCRIPTION (#.05), NSN (#5), LAST VENDOR ORDERED (#9), NDC
 (#6,#4) (for the LAST VENDOR ORDERED), and the DESCRIPTION (#.1) are
 displayed.  
  
      The Display Connected Drug option allows the user to print both a vendor
 catalog for a selected item as well as a procurement history.  The user
 selects an entry from the DRUG file.  If it is connected to more than one
 entry in the ITEM MASTER file the user is asked to select one of the connected
 entries from the ITEM NUMBER multiple (#50.0441).  From the ITEM MASTER file,
 the ITEM NUMBER (#.01), SHORT DESCRIPTION (#.05),and NSN are displayed. If the
 selected ITEM MASTER file entry has only one VENDOR (#6) or has a MANDATORY
 SOURCE (#10), then that vendor is displayed along with the VENDOR STOCK #
 (#3), NDC (#4), PACKAGING MULTIPLE (#1.6), UNIT OF PURCHASE (#1.5), UNIT COST
 (#1), MINIMUM ORDER (#8), DATE OF UNIT PRICE (#2.5), and REQUIRED ORDER
 MULTIPLE (#9).  If there is more than one vendor for the item, the LAST VENDOR
 ORDERED (#9) is displayed as well as each available vendor sorted by DATE OF
 UNIT PRICE (#2.5), beginning with the most recent date.  For each vendor the
 PACKAGING MULTIPLE (#1.6), UNIT OF PURCHASE (#1.5), UNIT COST (#1), DATE OF
 UNIT PRICE(#2.5), and whether or not the vendor has a current contract is 
 listed.  The contract verification is made by looping through the CONTRACT
 NUMBER multiple (#6) in the VENDOR file (#440) and checking the EXPIRATION
 DATE (#1).  If there is an entry in the FCP (#1) multiple for the selected 
 item and any of the FCP entries have an entry in their PURCHASE ORDER (#1) 
 multiple, the user is offered a procurement history.  They can enter a date 
 from which they wish to view the history.  They must also select an FCP.  For
 each purchase order that passes the criteria, the PURCHASE ORDER NUMBER 
 (#.01), VENDOR (#5), P.O. DATE (#.1), QUANTITY (#40,#2) (LINE ITEM NUMBER 
 located using the "AE" x-ref in the ITEM (#40) multiple), UNIT OF PURCHASE 
 (#3), TOTAL COST(#15), and QUANTITY PREVIOUSLY RECEIVED (#11) are displayed.  
 Average ordered/month, total ordered, and total cost are also listed.  
      If the MANDATORY SOURCE (#10) for the selected item is flagged in the 
 VENDOR file (#440) with an "S" in the SUPPLY WHSE. INDICATOR (#.05), then the
 user is informed that the Supply Warehouse is the mandatory source.  Using the
 "AD" x-ref in the INVENTORY TRANSACTION file (#445.2) a check is made for any
 distribution by the warehouse of this item.  If procurement history exists,
 the user is informed and allowed to enter a date from which to view the
 history.  By looping through the "AD" x-ref in #445.2 and checking the
 TRANSACTION ID (#1)?1"R".N and the DATE POSTED (#2.5) is not less than the
 user entered date, a history is displayed.  From the INVENTORY TRANSACTION
 file (#445.2), the DATE POSTED (#2.5), TRANSACTION/P.O. NUMBER (#410),
 -QUANTITY (#6), PACKAGING UNIT (#5), SELLING UNIT PRICE (#8), and OTHER
 INVENTORY POINT AFFECTED (#14) are displayed.  
  
      The Unposted Procurement History and Posted Drug Procurement History
 options are an effort to restore some of the drug accountability lost with the
 disappearance of the LOG 036 report.  For the Unposted Procurement History,
 the user is asked to select a month to review.  A loop through the PROCUREMENT
 & ACCOUNTING TRANSACTION file (#442), using the P.O. DATE ("AB") x-ref
 collects PO's for the user selected month.  If the COST CENTER (#2) = 822400
 (Pharmacy) and the SUPPLY STATUS (#.5)>14 & <45 (basically ordered), the PO's
 are sorted into ^TMP by Station/FCP.  For each Station/FCP the PO's are
 listed, displaying PURCHASE ORDER NUMBER (#.01), P.O. DATE (#.1), FCP(#1),
 VENDOR (#5), and TOTAL AMOUNT (#91).  While looping through these PO's another 
 ^TMP is created, sorted by the DESCRIPTION (#1) of each ITEM (#40) on each PO. 
 The user is asked if they would like to print item totals.  If so, an
 alphabetical listing occurs displaying each ITEM's (#40) DESCRIPTION (#1) and
 REPETITIVE (PR CARD) NO. (#1.5) and each PURCHASE ORDER NUMBER (#.01), P.O.
 DATE (#.1), FCP (#1), QUANTITY (#40,#2), ACTUAL UNIT COST (#40,#5), and TOTAL
 COST (#40,#15).  Finally, the user is if they would like a list of high dollar
 items.  They are invited to enter a cut-off dollar amount and each item
 exceeding that amount is listed beginning with the highest total cost.  The
 total cost was determined by totaling the TOTAL COST (#40,#15) amounts for
 each item listed in the previous display and building a ^TMP to sort from high
 to low.  Each ITEM's (#40) DESCRIPTION (#1), total TOTAL COST (#15), and 
 Station/FCP is shown.  
  
      The Posted Drug Procurement History option uses the TYPE OF INVENTORY
 POINT ("AC") x-ref in the GENERIC INVENTORY file (#445) to locate a "W" or the
 warehouse inventory.  A loop through the INVENTORY ITEM (#1) multiple, using
 the ITEM NO. (#.01) to check in the ITEM MASTER (#441) file for a FSC (#2) =
 6505 (Federal Supply Classification for drugs) isolates the warehouse drugs in
 ^TMP.  Looping through ^TMP a check is made using the INVENTORY POINT ("AD")
 x-ref in the INVENTORY TRANSACTION (#445.2) file to isolate items that have
 had distribution (TRANSACTION ID (#1)?"R".N) and fall within the user selected
 month (DATE POSTED (#2.5)).  These transactions are sorted by the OTHER 
 INVENTORY POINT AFFECTED (#14) and the OTHER INVENTORY POINT AFFECTED (#14) ,
 -QUANTITY (#6), QUANTITY (#410,#10,#2) obtained by using the TRANSACTION /P.O.
 NUMBER (#445.2,#410), PACKAGING UNIT (#5), SELLING UNIT PRICE (#8), total cost
 (-QUANTITY (#6) * SELLING UNIT PRICE (#8)), DATE POSTED (#2.5), and
 TRANSACTION/P.O. NUMBER (#410).  Similar to the Unposted Procurement History,
 a high dollar sort is also offered.  
  
      As stated in the opening paragraph, the Connection Menu lays the 
 groundwork for an interface with the IFCAP Generic Inventory Package.  Phase
 two of this process is contained in a Pharmacy Location Menu.  With this menu
 the Pharmacy user will create and edit the parameters of a Drug Accountability
 location such as Inpatient, Outpatient, or a Combined (IP/OP) operation.  The
 purpose of the interface is to allow the receiving that occurs in the
 Inventory Package to pass the converted dispensing unit quantity of a
 connected drug (ITEM/DRUG file) from a Generic Inventory point (#445) to a
 Drug Accountability location (#58.8).  To establish a direct link between
 these two files, a PRIMARY INVENTORY POINT field exists in the DRUG
 ACCOUNTABILITY STATS file (#58.8).  This field points to the GENERIC INVENTORY
 file (#445) uses the TYPE OF INVENTORY POINT (#.7) = "P" and COST CENTER (#.9)
 = 822400 (Pharmacy) fields as screens.  The input transform also contains a
 call to ^PSAUTL where the "E" x-ref in #58.8 is checked to prevent the linking
 of one primary inventory point to more than one DA location.  The Set up/edit
 a Pharmacy Location option allows the user to edit this link.  If a DA 
 location (#58.8)is linked to an Inventory point (#445), the INVENTORY ITEMS 
 (#1) are checked both against the "AB" x-ref in the DRUG (#50) file and the 
 "C" x-ref in the DA (#58.8) file to see if all Inventory items are tracked in
 DA.  If not the user is given the ability (^DIE) to add Inventory items to the
 DA location.  The Display Location option shows the PRIMARY INVENTORY POINT
 (#11) currently linked to the selected DA location.  
  
      The Inventory Interface sub-menu contains three report options and a
 populate option.  The Report of Inventory items' link to DRUG file displays
 from a selected GENERIC INVENTORY point (#445), selection screened by COST
 CENTER (#.9) = 822400 and TYPE OF INVENTORY POINT (#.7) = "P", the ITEM NO.
 (#445,#1,#.01), either the DESCRIPTION (#.7) or from the ITEM MASTER file
 (#441), the SHORT DESCRIPTION (#.05)and if connected the DRUG (#50) name.  The
 Loadable Inventory Items Report operates exactly the same, however, only lists
 connected items.  The Populate Pharmacy Location with Inventory items option
 uses the same criteria and if a connected drug within an inventory point does
 not yet exist in the DRUG (#10) multiple in the selected DA location (#58.8),
 a ^DIE stuff occurs with a list of drugs loaded displayed at a user selected
 device.  The Display Drugs Not Loaded in Primary option loops through the DRUG
 (#10) multiple in a selected DA location (#58.8) and using the "AB" x-ref in
 the DRUG (#50) file, checks the "AE" x-ref in the GENERIC INVENTORY (#445)
 file for the existance of each drug in the linked Primary Inventory Point.  
 Those drugs not found in the Inventory point are displayed along with their
 ITEM MASTER (#441) file NUMBER (#.01) and SHORT DESCRIPTION (#.05).  
  
  
 CONDENSED DATA DICTIONARY---DRUG FILE (#50)    VERSION:  6 
  
 STORED IN: ^PSDRUG(                                       01/26/93  
 --------------------------------------------------------------------------
  
 CROSS REFERENCED BY: 
       ITEM NUMBER(AB) 
  
                                  FILE STRUCTURE 
  
 FIELD     FIELD NUMBER    NAME 
  
 .001      NUMBER (NJ5,0), [ ] .01       GENERIC NAME (RF), [0;1] 6         FSN
 (F), [0;6] 12        ORDER UNIT (P51.5'), [660;2] 13        PRICE PER ORDER
 UNIT (NJ7,2), [660;3] 14.5      DISPENSE UNIT (F), [660;8] 15        DISPENSE
 UNITS PER ORDER UNIT (NJ4,0), [660;5] 16        PRICE PER DISPENSE UNIT
 (NJ6,2), [660;6] 17        SOURCE OF SUPPLY (F), [660;7] 31        NDC (FX),
 [2;4] 100       INACTIVE DATE (D), [I;1] 441       IFCAP ITEM NUMBER
 (Multiple-50.0441), [441;0] 
           .01  ITEM NUMBER (M*P441'X), [0;1] 
  
 CONDENSED DATA DICTIONARY---ITEM MASTER FILE (#441)UCI: LTL,VAA 
  
 STORED IN: ^PRC(441,                                      01/26/93  
 --------------------------------------------------------------------------
  
 CROSS REFERENCED BY: 
       SHORT DESCRIPTION(AC)  INACTIVATED ITEM?(AD) 
       NUMBER(B)  NSN(BA)  NSN(BB)  SHORT DESCRIPTION(C) 
       VENDOR STOCK #(D)  NDC(F)  NSN(G) 
  
  
                                  FILE STRUCTURE 
  
 FIELD     FIELD NUMBER    NAME 
  
 .01       NUMBER (RNJ6,0X), [0;1] .05       SHORT DESCRIPTION (RFX), [0;2] .1  
      DESCRIPTION (Multiple-441.02), [1;0] 
           .01  DESCRIPTION (W), [0;1] 1         FCP (Multiple-441.03), [4;0] 
           .01  FCP (RFX), [0;1] 
           1    PURCHASE ORDER (Multiple-441.04), [1;0] 
                .01  PURCHASE ORDER (P442'X), [0;1] 
           3    PREFERRED VENDOR (*P440'), [0;3] 2         FSC (RP441.2'),
 [0;3] 5         NSN (FX), [0;5] 6         VENDOR (Multiple-441.01), [2;0] 
           .01  VENDOR (MP440X), [0;1] 
           1    UNIT COST (RNJ10,3), [0;2] 
           1.5  UNIT OF PURCHASE (RP420.5'), [0;7] 
           1.6  PACKAGING MULTIPLE (RNJ6,0), [0;8] 
           2    CONTRACT (NJ6,0XO), [0;3] 
           2.2  CONTRACT EXP. DATE (CJ8), [ ; ] 
           2.5  DATE OF UNIT PRICE (RD), [0;6] 
           3    VENDOR STOCK # (FX), [0;4] 
           4    NDC (FX), [0;5] 
           8    MINIMUM ORDER (NJ6,0), [0;12] 
           9    REQUIRED ORDER MULTIPLE (NJ6,0), [0;11] 9         LAST VENDOR
 ORDERED (P440'), [0;4] 10        MANDATORY SOURCE (*P440'), [0;8] 14       
 DATE ITEM CREATED (D), [0;9] 15        CREATED BY (P3'), [0;11] 16       
 INACTIVATED ITEM? (S), [3;1] 
  
 CONDENSED DATA DICTIONARY---VENDOR FILE (#440) UCI: LTL,VAA 
  
 STORED IN: ^PRC(440,                                      01/26/93  
 --------------------------------------------------------------------------
  
 CROSS REFERENCED BY: 
       SUPPLY WHSE. INDICATOR(AC)  NAME(AD)  INACTIVATED VENDOR(AE) 
       NAME(B)  SYNONYM(C) 
  
  
                                  FILE STRUCTURE 
  
 FIELD     FIELD NUMBER    NAME 
  
 .001      NUMBER (NJ6,0), [ ] .01       NAME (RFX), [0;1] .05       SUPPLY
 WHSE. INDICATOR (SX), [0;11] 6         CONTRACT NUMBER (Multiple-440.03),
 [4;0] 
           .01  CONTRACT NUMBER (MFX), [0;1] 
           1    EXPIRATION DATE (RD), [0;2] 
  
 CONDENSED DATA DICTIONARY---NEW PERSON FILE (#200)  VERSION:  6.5 
  
 STORED IN: ^VA(200,                                       01/27/93  
 --------------------------------------------------------------------------
  
                                  FILE STRUCTURE 
  
 FIELD     FIELD NUMBER    NAME 
  
 .01       NAME (RFX), [0;1] .132      OFFICE PHONE (F), [.13;2] 
  
 CONDENSED DATA DICTIONARY---PROCUREMENT & ACCOUNTING TRANSACTIONS FILE (#442) 
  
 STORED IN: ^PRC(442,                                      01/27/93  
 --------------------------------------------------------------------------
  
 CROSS REFERENCED BY: 
       P.O. DATE(AB)  FCP(AC)  ISSUE VOUCHER NO.(SUPPLY)(AD) 
  
                                  FILE STRUCTURE 
  
 FIELD     FIELD NUMBER    NAME 
  
 .01       PURCHASE ORDER NUMBER (RFX), [0;1] .1        P.O. DATE (RDX), [1;15] 
 .5        SUPPLY STATUS (*P442.3'), [7;1] 1         FCP (RFX), [0;3] 2        
 COST CENTER (FX), [0;5] 5         VENDOR (R*P440X), [1;1] 40        ITEM
 (Multiple-442.01), [2;0] 
           .01  LINE ITEM NUMBER (RMNJ2,0X), [0;1] 
           1    DESCRIPTION (Multiple-442.05), [1;0] 
                .01  DESCRIPTION (W), [0;1] 
           1.5  REPETITIVE (PR CARD) NO. (*P441'X), [0;5] 
           2    QUANTITY (RNJ9,2), [0;2] 
           3    UNIT OF PURCHASE (RP420.5'X), [0;3] 
           5    ACTUAL UNIT COST (RNJ9,2X), [0;9] 
           11   QUANTITY PREVIOUSLY RECEIVED (NJ9,2), [2;8] 
           15   TOTAL COST (RNJ9,2), [2;1] 91        TOTAL AMOUNT (RNJ10,2),
 [0;15] 
  
 CONDENSED DATA DICTIONARY---INVENTORY TRANSACTION FILE (#445.2) 
  
 STORED IN: ^PRCP(445.2,                                   01/27/93  
 --------------------------------------------------------------------------
  
 CROSS REFERENCED BY: 
       DATE POSTED(ABEG)  ITEM NO.(AC)  INVENTORY POINT(AD) 
       ITEM NO.(AE)  INVENTORY POINT(ANXT)  INVENTORY POINT(B) 
       TRANSACTION/P.O. NUMBER(C)  TRANSACTION ID(T) 
  
  
                                  FILE STRUCTURE 
  
 FIELD     FIELD NUMBER    NAME 
  
 .01       INVENTORY POINT (RP445'), [0;1] 1         TRANSACTION ID (RF), [0;2] 
 2.5       DATE POSTED (D), [0;17] 5         PACKAGING UNIT (F), [0;6] 6        
 QUANTITY (NJ6,0), [0;7] 8         SELLING UNIT PRICE (NJ11,3), [0;9] 14       
 OTHER INVENTORY POINT AFFECTED (P445'), [0;18] 410       TRANSACTION/P.O.
 NUMBER (F), [0;19] 
  
 CONDENSED DATA DICTIONARY---GENERIC INVENTORY FILE (#445) 
  
 STORED IN: ^PRCP(445,                                     01/27/93  
 --------------------------------------------------------------------------
  
 CROSS REFERENCED BY: 
       DISTRIBUTION POINT(AB)  TYPE OF INVENTORY POINT(AC) 
       INVENTORY USER(AD)  ITEM NO.(AE)  ABBREVIATED NAME(AF) 
       KEEP PERPETUAL INVENTORY?(AG)  INVENTORY POINT(B) 
       INVENTORY POINT(C) 
  
  
                                  FILE STRUCTURE 
  
 FIELD     FIELD NUMBER    NAME 
  
 .01       INVENTORY POINT (RFX), [0;1] .7        TYPE OF INVENTORY POINT
 (R*SX), [0;3] .9        COST CENTER (P420.1'), [0;7] 1         INVENTORY ITEM
 (Multiple-445.01), [1;0] 
           .01  ITEM NO. (MP441'X), [0;1] 
  
 CONDENSED DATA DICTIONARY---DRUG ACCOUNTABILITY STATS FILE (#58.8) 
  
 STORED IN: ^PSD(58.8,                                     01/27/93  
 --------------------------------------------------------------------------
  
 CROSS REFERENCED BY: 
       DRUG(C) 
       PRIMARY INVENTORY POINT(E) 
  
                                   FILE STRUCTURE 
  
 FIELD     FIELD NUMBER    NAME 
  
 .01       PHARMACY LOCATION (RF), [0;1] 10        DRUG (Multiple-58.8001),
 [1;0] 
           .01  DRUG (MR*P50'X), [0;1] 11        PRIMARY INVENTORY POINT
 (*P445'X), [0;6] 
  
 This DBIA is effective until 18 months following Drug Accountability V2.0.  
  
  STATUS: Active                        DURATION: Till Otherwise Agreed
SUBSCRIBING PACKAGE: DRUG ACCOUNTABILITY
  ISC: Birmingham
SUBSCRIBING PACKAGE: CONTROLLED SUBSTANCES
SUBSCRIBING PACKAGE: PHARMACY DATA MANAGEMENT

NUMBER: 85                              IA #: 85
  FILE NUMBER: 195.4                    GLOBAL ROOT: DIC(195.4,
  DATE CREATED: JUL 09, 1991            CUSTODIAL PACKAGE: RECORD TRACKING
  CUSTODIAL ISC: Albany                 USAGE: Private
  TYPE: File                            DBIC APPROVAL STATUS: APPROVED
  NAME: DBIA85-A                        ORIGINAL NUMBER: 85
  ID: DIC(195.4,
 GENERAL DESCRIPTION:   
   1. Activation interface 
   2. Make an appointment 
      Checkin/unscheduled visit 
   3. Cancel an appointment 
   4. Changing clinic names 
  
      1. Use of the Record Tracking System Parameter file # 195.4 
         SD calls RT if the field 'MAS INTERFACE STATUS' is 'UP' 
         ^DIC(195.4,1,"UP")=1^ 
  
      2.  When a clinic appointment is made if the appointment is 'today' 
          or if the Record Tracking System Parameter 'Batch requests' is 
          set to 'No' or if records are requested for an unscheduled visit.  
   
          A.  An entry is made in the Requested Records file #190.1 
                           ^RTV(190.1,n) 
               by a call from RT^SDUTL to a tasked job QUE^RTQ 
                           or RT^SDI 
     
          B.  After the entry is added to the Requested Records file #190.1 
               an entry is made in Parent Record Request field 
               of the Patient subfield of the Hospital Location file #44 
                ^SC(n,"S",,,,"RTR")=n^ 
               by a return call from CREATE+11^RTQ2 to RTSET^SDUTL 
  
      3.  When a clinic appointment is canceled: 
               If there is a Requested Records entry in file #190.1 
               the status is changed to 'canceled' by a call 
                RTV(190.1,n)=^^^^^x^ 
               from RT+2^SDUTL to CANCEL^RTQ2.  
   
        4.  When the name of a clinic is changed the corresponding names 
          of entries in the Pull List file #194.2 are changed by a trigger 
          on the .01 field of the Hospital Location file #44.  Clinic 
                 ^SC(1,0)=DJones Medical Clinic^ 
                 ^RTV(194.2,n)=Dr Jones Medical Clinic [04/01/91]^     
          Clinic names are changed in a compiled input template.  To 
          insure the use of this trigger the following action is taken: 
          The Record Tracking package includes the .01 field of the 
          Hospital Location file #44 so that the SDB template is 
          re-compiled when the Record Tracking package is initialized.  
  STATUS: Active                        DURATION: Till Otherwise Agreed
SUBSCRIBING PACKAGE: SCHEDULING         ISC: Albany

NUMBER: 6104                            IA #: 6104
  FILE NUMBER: 69.86                    GLOBAL ROOT: LRHY(69.86
  DATE CREATED: SEP 23, 2014            CUSTODIAL PACKAGE: LAB SERVICE
  USAGE: Controlled Subscription        TYPE: Remote Procedure
  DBIC APPROVAL STATUS: APPROVED        NAME: LRHY GET SITES RPC
  ID: LRHY(69.86                        CREATOR: WHELESS,CAROLYN
GLOBAL REFERENCE: LRHY(69.86,D0,0
FIELD NUMBER: NAME
FIELD NUMBER: .01                       FIELD NAME: NAME
  ACCESS: Both R/W w/Fileman
GLOBAL REFERENCE: LRHY(69.86,D0,2,0
FIELD NUMBER: 2                         FIELD NAME: LAB TEST (TO EXCLUDE)
  ACCESS: Both R/W w/Fileman
 GENERAL DESCRIPTION:   
                         NAME: LRHY GET SITES                    TAG: GETSITES 
                           ROUTINE: LRHYRP01                     RETURN VALUE 
                         TYPE: ARRAY 
                          DESCRIPTION:   
                          This RPC will return all Howdy Sites 
               USAGE: Controlled Subscri  ENTERED: SEP 23,2014 
              STATUS: Pending             EXPIRES: 
            DURATION:                     VERSION: 
         DESCRIPTION:                        TYPE: Remote Procedure 
  STATUS: Active
KEYWORDS: LRHY
KEYWORDS: Howdy
SUBSCRIBING PACKAGE: VA POINT OF SERVICE (KIOSKS)
 SUBSCRIBING DETAILS:   VA Point of Service Kiosks needs to use LRHY GET SITES,
 implemented in LRHYRP01 and included in patch LR*5.2*447, to return the list
 of Howdy sites at a facility to VetLink.  
 DBA Comments:   10/2/14-MC:Activated ICR at the request of Carolyn Wheless and
 approved by Levi Teitelbaum for patch LRS*5.2*447. VPS will use the RPC LRHY
 GET SITES to return the list of Howdy sites at a facility.  
  DATE ACTIVATED: OCT 02, 2014



NUMBER: 4849                            IA #: 4849
  FILE NUMBER: 771                      DATE CREATED: APR 20, 2006
  CUSTODIAL PACKAGE: REGISTRATION       USAGE: Private
  TYPE: Other                           DBIC APPROVAL STATUS: APPROVED
  NAME: DBIA #4849
 GENERAL DESCRIPTION:   For the PFSS project, which includes a number of VistA
 application packages, structures are setup for HL7 communication between VistA 
 and an external COTS system for patient billing.  
   
 Most inbound HL7 messages are being received for processing by the
 REGISTRATION package (DG), but two specific messages (ADT-A05 and ADT-A04)
 must be processed only by the INTEGRATED BILLING package within the new IBB
 module for PFSS.  
   
 The IBB receivers use four PROTOCOLS (file #101) in order to route the ADT-A05
 and ADT-A04 to the processing routine.  Since the COTS system will only use
 the HL7 APPLICATION PARAMETER (file #771) names setup for the DG application
 in their MSH segments, the IBB Protocols must be pointed to these file #771
 entries.  
   
 This IA allows the four IBB Protocols to utilize the DG Application Parameters
 DGPFSS ADT RECV and DGPFSS ADT SENDING as follows: 
  
 NAME: IBB PFSS ADT-A04 CLIENT           TYPE: subscriber 
   RECEIVING APPLICATION: DGPFSS ADT RECV 
   EVENT TYPE: A04                       RESPONSE MESSAGE TYPE: ADT 
   PROCESSING ROUTINE: D A04^IBBAADTI    SENDING FACILITY REQUIRED?: NO 
   RECEIVING FACILITY REQUIRED?: NO 
   
 NAME: IBB PFSS ADT-A04 SERVER           ITEM TEXT: PFSS/IBB ADT-A04 Receiver 
   TYPE: event driver                    
   SENDING APPLICATION: DGPFSS ADT SENDING 
   TRANSACTION MESSAGE TYPE: ADT         EVENT TYPE: A04 
   MESSAGE STRUCTURE: ACK                ACCEPT ACK CODE: AL 
   APPLICATION ACK TYPE: AL              VERSION ID: 2.4 SUBSCRIBERS: IBB PFSS
 ADT-A04 CLIENT 
   
 NAME: IBB PFSS ADT-A05 CLIENT           TYPE: subscriber 
   RECEIVING APPLICATION: DGPFSS ADT RECV 
   EVENT TYPE: A05                       RESPONSE MESSAGE TYPE: ADT 
   PROCESSING ROUTINE: D A05^IBBAADTI    SENDING FACILITY REQUIRED?: NO 
   RECEIVING FACILITY REQUIRED?: NO 
   
 NAME: IBB PFSS ADT-A05 SERVER           ITEM TEXT: PFSS/IBB ADT-A05 Receiver 
   TYPE: event driver                    
   SENDING APPLICATION: DGPFSS ADT SENDING 
   TRANSACTION MESSAGE TYPE: ADT         EVENT TYPE: A05 
   ACCEPT ACK CODE: AL                   APPLICATION ACK TYPE: AL 
   VERSION ID: 2.4 
   
VIEWER: KOPECKY,STEPHEN C
VIEWER: FAIN,ZACHARY
  STATUS: Active                        DURATION: Till Otherwise Agreed
  MAIL MESSAGE: 42863544
KEYWORDS: PFSS
KEYWORDS: HL7
KEYWORDS: PROTOCOLS
SUBSCRIBING PACKAGE: INTEGRATED BILLING
 SUBSCRIBING DETAILS:   Four PROTOCOL file (#101) entries setup by IBB for PFSS
 processing of inbound ADT-A05 and ADT-A04 messages will utilize HL7
 APPLICATION PARAMETER file (#771) entries in the DG namespace that are
 intended for use exclusively by the PFSS project.  
   
 The PROTOCOL file entries for IB are: 
  
 NAME: IBB PFSS ADT-A04 CLIENT           TYPE: subscriber 
   RECEIVING APPLICATION: DGPFSS ADT RECV 
   EVENT TYPE: A04                       RESPONSE MESSAGE TYPE: ADT 
   PROCESSING ROUTINE: D A04^IBBAADTI    SENDING FACILITY REQUIRED?: NO 
   RECEIVING FACILITY REQUIRED?: NO 
   
 NAME: IBB PFSS ADT-A04 SERVER           ITEM TEXT: PFSS/IBB ADT-A04 Receiver 
   TYPE: event driver                    
   SENDING APPLICATION: DGPFSS ADT SENDING 
   TRANSACTION MESSAGE TYPE: ADT         EVENT TYPE: A04 
   MESSAGE STRUCTURE: ACK                ACCEPT ACK CODE: AL 
   APPLICATION ACK TYPE: AL              VERSION ID: 2.4 SUBSCRIBERS: IBB PFSS
 ADT-A04 CLIENT 
   
 NAME: IBB PFSS ADT-A05 CLIENT           TYPE: subscriber 
   RECEIVING APPLICATION: DGPFSS ADT RECV 
   EVENT TYPE: A05                       RESPONSE MESSAGE TYPE: ADT 
   PROCESSING ROUTINE: D A05^IBBAADTI    SENDING FACILITY REQUIRED?: NO 
   RECEIVING FACILITY REQUIRED?: NO 
   
 NAME: IBB PFSS ADT-A05 SERVER           ITEM TEXT: PFSS/IBB ADT-A05 Receiver 
   TYPE: event driver                    
   SENDING APPLICATION: DGPFSS ADT SENDING 
   TRANSACTION MESSAGE TYPE: ADT         EVENT TYPE: A05 
   ACCEPT ACK CODE: AL                   APPLICATION ACK TYPE: AL 
   VERSION ID: 2.4 
  
EDITOR: PAJERSKI,JAN  

NUMBER: 16                              IA #: 16
  FILE NUMBER: 130                      GLOBAL ROOT: SRF(
  DATE CREATED: FEB 26, 1990            CUSTODIAL PACKAGE: SURGERY
  CUSTODIAL ISC: Birmingham             USAGE: Private
  TYPE: File                            DBIC APPROVAL STATUS: APPROVED
  NAME: DBIA16                          ORIGINAL NUMBER: 16
  ID: SRF(
GLOBAL REFERENCE: SRF(D0,0)
FIELD NUMBER: .04                       FIELD NAME: SURGERY SPECIALTY
  LOCATION: 0;4                         ACCESS: Read w/Fileman
FIELD NUMBER: .09                       FIELD NAME: DATE OF OPERATION
  LOCATION: 0;9                         ACCESS: Read w/Fileman
GLOBAL REFERENCE: SRF(D0,.1)
FIELD NUMBER: .14                       FIELD NAME: SURGEON
  LOCATION: .1;4                        ACCESS: Read w/Fileman
GLOBAL REFERENCE: SRF(D0,14,D1,0)
FIELD NUMBER: .01                       FIELD NAME: OTHER PREOP DIAGNOSIS
  LOCATION: 0;1                         ACCESS: Read w/Fileman
FIELD NUMBER: 1                         FIELD NAME: PAIRED ORGAN
  LOCATION: 0;2                         ACCESS: Read w/Fileman
FIELD NUMBER: 2                         FIELD NAME: DIAGNOSIS COMMENTS
  LOCATION: 1;0                         ACCESS: Read w/Fileman
GLOBAL REFERENCE: SRF(D0,15,D1,0)
FIELD NUMBER: .01                       FIELD NAME: OTHER POSTOP DIAG'S
  LOCATION: 0;1                         ACCESS: Read w/Fileman
FIELD NUMBER: 1                         FIELD NAME: PAIRED ORGANS
  LOCATION: 0;2                         ACCESS: Read w/Fileman
FIELD NUMBER: 2                         FIELD NAME: DIAGNOSIS COMMENTS
  LOCATION: 1;0                         ACCESS: Read w/Fileman
GLOBAL REFERENCE: SRF(D0,13,D1,0)
FIELD NUMBER: .01                       FIELD NAME: OTHER OPERATIVE PROCEDURES
  LOCATION: 0;1                         ACCESS: Read w/Fileman
FIELD NUMBER: 1.5                       FIELD NAME: OP CODE COMMENTS
  LOCATION: 1;0                         ACCESS: Read w/Fileman
FIELD NUMBER: 2                         FIELD NAME: COMPLETED
  LOCATION: 0;3                         ACCESS: Read w/Fileman
FIELD NUMBER: 3                         FIELD NAME: PROCEDURE CODE
  LOCATION: 2;1                         ACCESS: Read w/Fileman
GLOBAL REFERENCE: SRF(D0,12,D1,0)
FIELD NUMBER: 1.15                      FIELD NAME: SURGEON'S DICTATION
  LOCATION: 12;0                        ACCESS: Read w/Fileman
 FIELD DESCRIPTION:   Word processing 
GLOBAL REFERENCE: SRF(D0,31)
FIELD NUMBER: 15                        FIELD NAME: DATE/TIME OF DICTATION
  LOCATION: 31;6                        ACCESS: Read w/Fileman
FIELD NUMBER: 39                        FIELD NAME: DATE OF TRANSCRIPTION
  LOCATION: 31;7                        ACCESS: Read w/Fileman
GLOBAL REFERENCE: SRF(D0,'OP')
FIELD NUMBER: 27                        FIELD NAME: PRINCIPAL OP CODE
  LOCATION: OP;2                        ACCESS: Read w/Fileman
GLOBAL REFERENCE: SRF(D0,33)
FIELD NUMBER: 32                        FIELD NAME: PRINCIPAL PRE-OP DIAGNOSIS
  LOCATION: 33;1                        ACCESS: Read w/Fileman
GLOBAL REFERENCE: SRF(D0,34)
FIELD NUMBER: 34                        FIELD NAME: PRINCIPAL POST-OP DIAG
  LOCATION: 34;1                        ACCESS: Read w/Fileman
GLOBAL REFERENCE: SRF(D0,'VER')
FIELD NUMBER: 43                        FIELD NAME: CASE VERIFICATION
  LOCATION: VER;1                       ACCESS: Read w/Fileman
GLOBAL REFERENCE: SRF(D0,9,D1,0)
FIELD NUMBER: 49                        FIELD NAME: SPECIMENS AND CULTURES
  LOCATION: 0;1                         ACCESS: Read w/Fileman
 FIELD DESCRIPTION:   Multiple 
GLOBAL REFERENCE: SRF('B',
 GLOBAL DESCRIPTION:   Used to access data.  
 GENERAL DESCRIPTION:   Surgery file (130).  
  STATUS: Active                        DURATION: Till Otherwise Agreed
SUBSCRIBING PACKAGE: HEALTH SUMMARY     ISC: Salt Lake City

NUMBER: 4528                            IA #: 4528
  DATE CREATED: OCT 29, 2004            CUSTODIAL PACKAGE: IMAGING
  CUSTODIAL ISC: Washington             USAGE: Controlled Subscription
  TYPE: Remote Procedure                DBIC APPROVAL STATUS: APPROVED
  NAME: MAG IMPORT CHECK STATUS
  REMOTE PROCEDURE: MAG IMPORT CHECK STATUS
 GENERAL DESCRIPTION:   MAG IMPORT CHECK STATUS This RPC is called to get a
 status record from the IMPORT STATUS file (2006.037) 
  STATUS: Active                        DURATION: Till Otherwise Agreed
  MAIL MESSAGE: 39849955
SUBSCRIBING PACKAGE: ORDER ENTRY/RESULTS REPORTING
  ISC: Salt Lake City
 SUBSCRIBING DETAILS:   The RPC listed in this IA will be added to the OR CPRS
 GUI CHART option beginning at v25 of the CPRS GUI.  



NUMBER: 3248                            IA #: 3248
  DATE CREATED: NOV 13, 2000
  CUSTODIAL PACKAGE: TEXT INTEGRATION UTILITIES
  CUSTODIAL ISC: Salt Lake City         USAGE: Controlled Subscription
  TYPE: Remote Procedure                DBIC APPROVAL STATUS: APPROVED
  NAME: TIU REMOVE LINK TO IMAGE
  REMOTE PROCEDURE: TIU REMOVE LINK TO IMAGE
 GENERAL DESCRIPTION:   This Remote procedure call will allow the calling
 application to REMOVE the link between a specific Document in the TIU Document
 File (#8925) and a specific Image in the Image File (#2005).  
  
 NAME: TIU REMOVE LINK TO IMAGE          TAG: DELIMAGE 
   ROUTINE: TIUSRVPL                     RETURN VALUE TYPE: SINGLE VALUE 
   AVAILABILITY: SUBSCRIPTION 
  DESCRIPTION:   
   This RPC will remove a link between a document and an image. Only valid 
   links may be removed.  INPUT PARAMETER: TIUDA                  PARAMETER
 TYPE: LITERAL 
   REQUIRED: YES                         SEQUENCE NUMBER: 1 
  DESCRIPTION:   
   This is the record number (IEN) of the document in the TIU DOCUMENT FILE 
   (#8925).  INPUT PARAMETER: IMGDA                  PARAMETER TYPE: LITERAL 
   REQUIRED: YES                         SEQUENCE NUMBER: 2 
  DESCRIPTION:   
   This is the record number (IEN) of the document in the IMAGE FILE 
   (#2005).  
  RETURN PARAMETER DESCRIPTION:   
   This is a BOOLEAN result. If the call is made with record numbers for 
   which a valid link exists, it will remove the link, and the return value 
   will be 1 (TRUE), otherwise, the return value will have two '^'-pieces 
   (i.e., zero and an explanatory message (e.g., 0^ Document and Image not 
   currently linked)).  
  STATUS: Active                        DURATION: Till Otherwise Agreed
  MAIL MESSAGE: 32270625
KEYWORDS: DOCUMENT
KEYWORDS: IMAGE
SUBSCRIBING PACKAGE: IMAGING            ISC: Washington/Silver Spring
SUBSCRIBING PACKAGE: ORDER ENTRY/RESULTS REPORTING
  ISC: Salt Lake City


NUMBER: 977                             IA #: 977
  FILE NUMBER: 19                       GLOBAL ROOT: DIC(19,
  DATE CREATED: AUG 29, 1994            CUSTODIAL PACKAGE: KERNEL
  CUSTODIAL ISC: San Francisco          USAGE: Private
  TYPE: File                            NAME: DBIA977
  ID: DIC(19,
 GENERAL DESCRIPTION:   This integration agreement permits IFCAP to remove
 entries from the OPTION file (#19) until the release and availability of KIDS. 
 
  STATUS: Pending                       DURATION: Till Otherwise Agreed
  MAIL MESSAGE: 10999378
SUBSCRIBING PACKAGE: IFCAP              ISC: Washington/Silver Spring
EDITOR: JONES,RICK

NUMBER: 3996                            IA #: 3996
  DATE CREATED: NOV 30, 2005
  CUSTODIAL PACKAGE: GEN. MED. REC. - VITALS
  CUSTODIAL ISC: Chicago                USAGE: Controlled Subscription
  TYPE: Remote Procedure                DBIC APPROVAL STATUS: APPROVED
  NAME: GMV ADD VM                      REMOTE PROCEDURE: GMV ADD VM
 GENERAL DESCRIPTION:   
  NAME: GMV ADD VM 
  TAG: EN1                             
  ROUTINE: GMVDCSAV 
  RETURN VALUE TYPE: SINGLE VALUE      
  AVAILABILITY: SUBSCRIPTION 
  INACTIVE: ACTIVE                     
  WORD WRAP ON: TRUE 
  DESCRIPTION:   
  This remote procedure call is used to enter a new Vital/Measurement 
  record in the GMRV Vital Measurement file (#120.5).  
   
  This remote procedure call is documented in Integration Agreement 3996.  
  INPUT PARAMETER: GMRVDATA              
  PARAMETER TYPE: LITERAL 
  MAXIMUM DATA LENGTH: 255             
  REQUIRED: YES 
  SEQUENCE NUMBER: 1 
  DESCRIPTION:   
  This variable contains the data needed to create a Vital/Measurement 
  record in the GMRV Vital Measurement (#120.5) file. The values are parsed 
  out of the GMRVDATA variable and filed.  
   
  GMRVDATA has the following data: 
   piece1^piece2^piece3^piece4^piece5 
   
   where: 
    piece1 = date/time in FileMan internal format 
    piece2 = patient number from FILE 2 (i.e., DFN) 
    piece3 = vital type, a semi-colon, the reading, a semi-colon, and 
             oxygen flow rate and percentage values [optional] (e.g., 
             21;99;1 l/min 90%) 
    piece4 = hospital location (FILE 44) pointer value 
    piece5 = user number from FILE 200 (i.e., DUZ), an asterisk, and the 
             qualifier (File 120.52) internal entry numbers separated by 
             colons (e.g., 547*50:65) 
  RETURN PARAMETER DESCRIPTION:   
  RESULT does not return a value. 
   
  The data is filed in the GMRV VITAL MEASUREMENT (#120.5) file.  
   
  Example: 
   
   > S GMRVDATA="3051011.1635^134^1;120/80;^67^87*2:38:50:75" 
   > D EN1^GMVDCSAV(.RESULT,GMRVDATA) 
  STATUS: Active                        DURATION: Till Otherwise Agreed
  MAIL MESSAGE: 41976561
SUBSCRIBING PACKAGE: ORDER ENTRY/RESULTS REPORTING
  ISC: Salt Lake City
SUBSCRIBING PACKAGE: VA CERTIFIED COMPONENTS - DSSI
SUBSCRIBING PACKAGE: SURGERY
 DBA Comments:   11/21/12-MM:  Added Patient Assessment Documetation Package
 (PADP) as a subscriber for NUPA*1*1.  The PADP package uses RPC GMV ADD VM in
 order to upload vitals. Frank Traxler concurred with request with the
 following warning to the team: 
  
 "This API creates new vital signs/measurements entries for patients. There are
 few built-in data checks in it. If you pass it junk data values, it will most
 likely file them." 5/21/2014-MC: Added surgery as a subscribing package. Patch
 SR*3.0*180.  Requested by James Harris. Approved by Frank Traxler.  7/9/14-MC:
 PADP did not complete the class 3 to class 1 conversion process, but it is
 still installed at sites. Sites have the option to utilize the program,
 however it is no longer nationally supported.  There will be no further
 patching of the package. PADP has been removed as a subscriber to this ICR.  
DATE/TIME EDITED: NOV 21, 2012@15:05    ACTION: SUBSCRIBER ADDED
  AT THE REQUEST OF: DEZORZI,KEVIN      WITH CONCURRENCE OF: TRAXLER,FRANK
DATE/TIME EDITED: MAY 21, 2014@14:12    ACTION: SUBSCRIBER ADDED
  AT THE REQUEST OF: HARRIS,JAMES       WITH CONCURRENCE OF: TRAXLER,FRANK
DATE/TIME EDITED: MAY 21, 2014@14:13    ACTION: SUBSCRIBER ADDED

NUMBER: 1068                            IA #: 1068
  FILE NUMBER: 627.7                    GLOBAL ROOT: YSD
  DATE CREATED: NOV 21, 1994            CUSTODIAL PACKAGE: MENTAL HEALTH
  CUSTODIAL ISC: Dallas                 USAGE: Private
  TYPE: File                            DBIC APPROVAL STATUS: APPROVED
  NAME: DBIA1068                        ID: YSD
 GENERAL DESCRIPTION:   Progress Notes has a variable pointer, DXLS, file 121,
 field 30 that is as follows: 
        FILE    ORDER   PREFIX  LAYGO   MESSAGE 
         80      1      I       n       ICD9 Code 
        627.5    2      D       n       DSM-III-R Code This is for use with
 Mental Health v4.18 and Mental Health v5.0.  
  
 With the release of Mental Heath v5.01 this will be changed to: 
        FILE    ORDER   PREFIX  LAYGO   MESSAGE 
         80      1      I       n       ICD9 Code 
        627.7    2      D       n       DSM-IV 
  
 PNs should have had an agreement to use this file.  Prior to the release of
 Progress Notes v2.5 this data was a part of the Mental Health progress notes
 global 606.  The agreement was somehow overlooked when the data was converted
 to ^GMR(121.  
  
 GMRP*2.5*26 will make Progress Notes fully compatible with versions 4.18, 5.0
 and 5.01 of Mental Health.  
  
 Progress Notes rtns ^GMRPNP3 and ^GMRPNP4 have been modified to check for the
 existence of all 3 possible globals and accomplish the prting accordingly.  
VIEWER: SCHLEHUBER,PAM
VIEWER: DEFA,TANA
VIEWER: EBERT,AL
VIEWER: ANDREASSEN,LARRY
VIEWER: CRAVEN,MARCIE J
VIEWER: DEVLIN,MARK J
  STATUS: Retired                       DURATION: Till Otherwise Agreed
  MAIL MESSAGE: 12542237
SUBSCRIBING PACKAGE: TEXT INTEGRATION UTILITIES
  ISC: Salt Lake City
 DBA Comments:   While trying to determine what impact ICD10 changes will have
 on the active DBIA ICR #1068, it was discovered that the Progress Note package 
 no longer uses this ICR.  
  
 From: Trost, Debbie The following is from the message string discussing this:
 I have retired the DBIA #1068.   That sure made it easier Robert! 
  
 From: Davis, Robert B. (HP) Sent: Monday, May 07, 2012 9:26 AM To: McClenahan,
 Margy; Trost, Debbie Cc: Phelps, Ty (EDS); Russell, Joel; Traxler, Frank;
 Jackson, Todd (HP); Bootz, Kristina (HP) Subject: RE: IA1068 concurrence 
  
 Thanks Margy! 
  
 Debbie, does that mean this ICR needs to be retired, or another status that
 would be appropriate? 
  
 Please advise.thx! 
  
 Rob 
  
 From: McClenahan, Margy Sent: Monday, May 07, 2012 12:22 PM To: Davis, Robert
 B. (HP) Cc: Phelps, Ty (EDS); Russell, Joel; Trost, Debbie; Traxler, Frank; 
 Jackson, Todd (HP); Bootz, Kristina (HP) Subject: RE: IA1068 concurrence 
  
 Thank you for letting us know.  TIU no longer has routines GMRPNP3 or GMRPNP4
 nor does it use file 121 any longer.  We no longer need that ICR.  Thanks
 again, Margy 
  
 From: Davis, Robert B. (HP) Sent: Friday, May 04, 2012 7:44 AM To: McClenahan,
 Margy Cc: Phelps, Ty (EDS); Russell, Joel; Trost, Debbie; Traxler, Frank; 
 Jackson, Todd (HP); Bootz, Kristina (HP) Subject: IA1068 concurrence 
  
 Hi Margy, 
  
 I am the primary developer on the ICD10 remediation project for the mental
 health package and am seeking ICR concurrence on IA1068 which we want to
 update the verbiage on (see below in Yellow) mainly in reference to some new
 functionality for the DSM table which is what the IA is for (Mental Health is
 the custodial package and TIU is the subscribing package for the DSM table). 
 I was given your name, along with the names of Ty Phelps and Joel Russell, as
 points of contact for TIU to ask about this.  Ty indicated you may be the best
 one to ask for feedback.  
  
 Here is the IA along with the updates we are proposing: 
  
 1068     NAME: DBIA1068 
   CUSTODIAL PACKAGE: MENTAL HEALTH                              Dallas 
 SUBSCRIBING PACKAGE: TEXT INTEGRATION UTILITIES                 Salt Lake City 
               USAGE: Private             ENTERED: NOV 21,1994 
              STATUS: Active              EXPIRES: 
            DURATION: Till Otherwise Agr  VERSION: 
                FILE: 627.7                  ROOT: YSD 
         DESCRIPTION:                        TYPE: File 
    Progress Notes has a variable pointer, DXLS, file 121, field 30 that is as 
    follows: 
           FILE    ORDER   PREFIX  LAYGO   MESSAGE 
            80      1      I       n       ICD Code 
           627.5    2      D       n       DSM-III-R Code This is for use with 
    Mental Health v4.18 and Mental Health v5.0.  
     
    With the release of Mental Heath v5.01 this will be changed to: 
           FILE    ORDER   PREFIX  LAYGO   MESSAGE 
            80      1      I       n       ICD Code 
  
  
 INTEGRATION REFERENCE INQUIRY #1068            APR 26,2012  14:00    PAGE 2 
 --------------------------------------------------------------------------
 ------
  
           627.7    2      D       n       DSM-IV 
     
    PNs should have had an agreement to use this file.  Prior to the release 
    of Progress Notes v2.5 this data was a part of the Mental Health progress 
    notes global 606.  The agreement was somehow overlooked when the data was 
    converted to ^GMR(121.  
     
    GMRP*2.5*26 will make Progress Notes fully compatible with versions 4.18, 
    5.0 and 5.01 of Mental Health.  
     
    Progress Notes rtns ^GMRPNP3 and ^GMRPNP4 have been modified to check for 
    the existence of all 3 possible globals and accomplish the prting 
    accordingly. 
  
    Please note that Mental Health has made modifications to its YSDIAGE menu 
    option to check the 0;8 field of file 627.7 and, if it is '9' which denotes 
    ICD9 ICD VERSION then some date validation logic will be triggered to make 
    certain that the DATE/TIME OF DIAGNOSIS field in file 627.8 is before the 
    ICD10 implementation date.  Similarly, if 0;8 of file 627.7 is '10' which 
    denotes ICD10 ICD VERSION then the DATE/TIME OF DIAGNOSIS field of file 
    627.8 will be checked to ascertain that it is on or after the ICD10 
    Implementation date.  TIU should probably add some validation logic in 
    its routines to emulate what has been done in Mental Health routines for 
    the YSDIAGE menu option. 
            KEYWORDS: 
  
                              ***************************
  
 The mental health code has been modified to do what is in yellow above.  
DATE/TIME EDITED: MAY 07, 2012@14:46    ACTION: RETIRED
  AT THE REQUEST OF: MCCLENAHAN,MARGY   WITH CONCURRENCE OF: DAVIS,ROBERT

NUMBER: 1973                            IA #: 1973
  DATE CREATED: MAR 27, 1997            CUSTODIAL PACKAGE: OUTPATIENT PHARMACY
  CUSTODIAL ISC: Birmingham             USAGE: Controlled Subscription
  TYPE: Routine                         DBIC APPROVAL STATUS: APPROVED

INTEGRATION REFERENCES List                          JAN 24, 2019@16:41   PAGE 2
--------------------------------------------------------------------------------

  ROUTINE: PSOLSET                      NAME: DBIA1973
  ID: PSOLSET
 GENERAL DESCRIPTION:   The CMOP package makes a call to the Outpatient
 Pharmacy routine, PSOLSET.  This call is made to set up the required OP system
 variables that are necessary for pulling Rx's from suspense during the CMOP
 transmission process or when CMOP labels are printed at the medical center
 pharmacy.  
  STATUS: Active                        DURATION: Till Otherwise Agreed
  MAIL MESSAGE: 23527871
COMPONENT/ENTRY POINT: PSOLSET
VARIABLES: PSOPAR                       TYPE: Output
VARIABLES: PSOBAR0                      TYPE: Output
VARIABLES: PSOBAR1                      TYPE: Output
VARIABLES: PSOBARS                      TYPE: Output
VARIABLES: PSOCAP                       TYPE: Output
VARIABLES: PSOCLC                       TYPE: Output
VARIABLES: PSOCNT                       TYPE: Output
VARIABLES: PSODIV                       TYPE: Output
VARIABLES: PSXDTCUT                     TYPE: Output
VARIABLES: PSOINST                      TYPE: Output
VARIABLES: PSOION                       TYPE: Output
VARIABLES: PSOIOS                       TYPE: Output
VARIABLES: PSOLAP                       TYPE: Output
VARIABLES: PSONULBL                     TYPE: Output
VARIABLES: PSOPAR7                      TYPE: Output
VARIABLES: PSOPROP                      TYPE: Output
VARIABLES: PSOPRPAS                     TYPE: Output
VARIABLES: PSOREL                       TYPE: Output
VARIABLES: PSOREO                       TYPE: Output
VARIABLES: PSOSITE                      TYPE: Output
VARIABLES: PSOSITE7                     TYPE: Output
VARIABLES: PSOSYS                       TYPE: Output
VARIABLES: PSXSYS                       TYPE: Output
SUBSCRIBING PACKAGE: CMOP               ISC: Birmingham
SUBSCRIBING PACKAGE: INTEGRATED BILLING
  ISC: Albany

NUMBER: 4887                            IA #: 4887
  DATE CREATED: AUG 21, 2006            CUSTODIAL PACKAGE: 807
  USAGE: Private                        TYPE: SQL Table
  DBIC APPROVAL STATUS: APPROVED
  NAME: Use of STD_INSTITUTION table in PATS application
  CREATOR: WINN,TAMI
 GENERAL DESCRIPTION:   This integration agreement describes the use of the
 std_institution table and fields within the PATS application's Oracle
 database. 
  
 When the first test site goes to production with PATS, the EMC will be using
 version 11 of the SDS database.  
  STATUS: Active                        DURATION: Till Otherwise Agreed
  MAIL MESSAGE: 43953287
KEYWORDS: PATS
KEYWORDS: SDS
KEYWORDS: INSTITUTION
KEYWORDS: STD_INSTITUTION
  SQL TABLE: STD_INSTITUTION
SQL COLUMN: STATIONNUMBER
 COLUMN DETAILS:   PATS does a join between the PATS report_of_contact table
 and the std_institution table, to select this field into the rollup table and
 the report tables.  
SQL COLUMN: VISN_ID
 COLUMN DETAILS:   PATS uses this field when building data for the rollup and
 for one PATS report provided for the National Program Office. PATS first does
 a JOIN between the PATS report_of_contact table and the std_institution table
 to select the institution at which a patient complaint was made. It then uses 
 the results of the first join to do a second join on the std_institution table
 to select an entry with an ID matching the visn_id field of the first entry,
 in order to get the name of the VISN.  
SQL COLUMN: VISTANAME
 COLUMN DETAILS:   PATS does a join between the PATS report_of_contact table
 and the std_institution table, to select this field into the rollup table and
 the report tables.  
SQL COLUMN: ID
 COLUMN DETAILS:   PATS has several foreign key references to the ID field on
 the std_institution table. This field is used both to do joins between the 
 PATS tables and the std_institution table to build tables used for reporting,
 and to screen data so that users see only the data for their own division.  
  DATE ACTIVATED: SEP 23, 2006
DATE/TIME EDITED: SEP 23, 2006@09:00    ACTION: APPROVED
  AT THE REQUEST OF: WINN,TAMI          WITH CONCURRENCE OF: ADDISON,MELISSA

NUMBER: 5499                            IA #: 5499
  DATE CREATED: SEP 25, 2009
  CUSTODIAL PACKAGE: TEXT INTEGRATION UTILITIES
  USAGE: Controlled Subscription        TYPE: Remote Procedure
  DBIC APPROVAL STATUS: APPROVED        NAME: TIU GET PERSONAL PREFERENCES
  REMOTE PROCEDURE: TIU GET PERSONAL PREFERENCES
  CREATOR: FINKELSTEIN,ALLAN
 GENERAL DESCRIPTION:   Add support for Mental Health 
  
       1796     NAME: TIU GET PERSONAL PREFERENCES 
  CUSTODIAL PACKAGE:  TEXT INTEGRATION UTILITIES                 Salt Lake City 
 SUBSCRIBING PACKAGE: FUNCTIONAL INDEPENDENCE                    
                      ORDER ENTRY/RESULTS REPORTING              
               USAGE: Controlled Subscri  ENTERED: APR 30,2003 
              STATUS: Active              EXPIRES: 
            DURATION:                     VERSION: 
         DESCRIPTION:                        TYPE: Remote Procedure 
    Returns Users personal preferences for TIU in the following format: 
     
    TIUY = USER [1P] ^ DEFAULT LOCATION [2P] ^ REVIEW SCREEN SORT FIELD [3S] ^ 
        ==>REVIEW SCREEN SORT ORDER [4S] ^ DISPLAY MENUS [5S] ^ PATIENT 
        ==>SELECTION PREFERENCE [6S] ^ ASK 'Save changes?' AFTER EDIT [7S] 
 ^
        ==>ASK SUBJECT FOR PROGRESS NOTES [8S] ^ 
  
  TAG^ROUTINE: GETPREF^TIUSRVR 
            KEYWORDS: 
  STATUS: Active
KEYWORDS: GET PREF
SUBSCRIBING PACKAGE: MENTAL HEALTH
  DATE ACTIVATED: SEP 25, 2009
  
NUMBER: 6280                            IA #: 6280
  FILE NUMBER: 64.5                     GLOBAL ROOT: LAB(64.5
  DATE CREATED: NOV 24, 2015            CUSTODIAL PACKAGE: LAB SERVICE
  USAGE: Private                        TYPE: File
  NAME: HMP ACCESS TO LAB(64.5          ID: LAB(64.5
  CREATOR: BURKHALTER,WILLIAM
GLOBAL REFERENCE: LAB(64.5,D0,0
FIELD NUMBER: .01                       FIELD NAME: NAME
  LOCATION: 0;1                         ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: LAB(64.5,D0,1,D1
FIELD NUMBER: .01                       FIELD NAME: MAJOR HEADER
  LOCATION: 1;1                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: 5                         FIELD NAME: MEDICAL CENTER
  LOCATION: 1;2                         ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: LAB(64.5,D0,1,D1,1,D2
FIELD NUMBER: .01                       FIELD NAME: MINOR HEADER
  LOCATION: 0;1                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: 1                         FIELD NAME: PROFILE SITE/SPECIMEN
  LOCATION: 0;2                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: 2                         FIELD NAME: TYPE OF DISPLAY
  LOCATION: 0;3                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: 3                         FIELD NAME: LOCALE FIELD
  LOCATION: 0;4                         ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: LAB(64.5,D0,1,D1,1,D2,1,D3
FIELD NUMBER: .01                       FIELD NAME: LAB TEST
  LOCATION: 0;1                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: 1                         FIELD NAME: TEST FIELD LENGTH
  LOCATION: 0;2                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: 2                         FIELD NAME: PRINT TEST NAME
  LOCATION: 0;3                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: 3                         FIELD NAME: TEST PRINT CODE
  LOCATION: 0;4                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: 4                         FIELD NAME: TEST LOCATIOIN
  LOCATION: 0;5                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: 5                         FIELD NAME: DECIMAL PLACES
  LOCATION: 0;6                         ACCESS: Direct Global Read & w/Fileman
 GENERAL DESCRIPTION:   The Enterprise Health MGMT Platform (HMP) accesses the
 Lab Reports file (#64.5) to retrieve lab report data.  
  STATUS: Retired                       EXPIRATION DATE: OCT 27, 2017
  MAIL MESSAGE: 76134459
KEYWORDS: LAB(64.5
KEYWORDS: 64.5
SUBSCRIBING PACKAGE: HEALTH MANAGEMENT PLATFORM
 SUBSCRIBING DETAILS:   HMP's subscription to this ICR expires on 10/27/17 with
 the shutdown of HMP.  HMP*2.0*12 released on 10/17/17 is an informational
 patch outlining the steps for the sites to shut down the application.  
  
 If HMP is reactivated in the future, the HMP project team should review the
 access provided by this ICR with the custodial application before reactivating
 HMP's subscription to this ICR.  
 DBA Comments:   11/6/17-DT: ICR 6280 provides access to Lab reports, the same
 way that CPRS sees the reports.  Carol Anzaldua approved the request December
 17, 2015.  Of note, John McCormack was asked his opinion. He didn't think this
 ICR should be approved, pending a rewrite of the Lab Reporting sofware.  Since
 no other solution is available, and HMP is assigned to provide Lab reports
 like CPRS does, the ICR was approved.  

INTEGRATION REFERENCES List                          JAN 24, 2019@16:41   PAGE 5
--------------------------------------------------------------------------------

  
 After approval, added text to subscriber details regarding  future ICR 
 reactivation, and then retired 6280.  
  
 HMP's subscription to this ICR is retired effective on 10/27/17 with the 
 shutdown of HMP.  HMP*2.0*12 released on 10/17/17 is an informational patch
 outlining the steps for the sites to shut down the application.  
  
 If HMP is reactivated in the future, the HMP project team should review the
 access provided by this ICR with the custodial application before reactivating
 HMP's subscription to this ICR. It is possible that the custodian application
 had to make changes that HMP needs to accomodate.  
  
 11/7/17-DT: Changed Usage to Private per Carol Anzaldua's request.  
  DATE ACTIVATED: NOV 06, 2017
DATE/TIME EDITED: NOV 06, 2017@13:43    ACTION: APPROVED
  AT THE REQUEST OF: BURKHALTER,WILLIAM
  WITH CONCURRENCE OF: ANZALDUA,CAROL
DATE/TIME EDITED: NOV 06, 2017@13:56    ACTION: RETIRED
  AT THE REQUEST OF: LORD,BRIAN         WITH CONCURRENCE OF: ICR,TEAM
DATE/TIME EDITED: NOV 07, 2017@14:16    ACTION: USAGE CHOICE CHANGED
  AT THE REQUEST OF: ANZALDUA,CAROL     WITH CONCURRENCE OF: TEAM,ICR
  
NUMBER: 6730                            IA #: 6730
  FILE NUMBER: 130                      GLOBAL ROOT: SRF(
  DATE CREATED: JAN 26, 2017            CUSTODIAL PACKAGE: SURGERY
  USAGE: Private                        TYPE: File
  DBIC APPROVAL STATUS: APPROVED        NAME: VIAB SRGY RPTLIST
  ID: SRF(                              CREATOR: MORRISON,JENNIFER
GLOBAL REFERENCE: SRF(D0,0)
FIELD NUMBER: .04                       FIELD NAME: SURGERY SPECIALTY
  LOCATION: 0;4                         ACCESS: Read w/Fileman
GLOBAL REFERENCE: SRF(D0,9,0)
FIELD NUMBER: 49                        FIELD NAME: SPECIMENS
  LOCATION: 9;0                         ACCESS: Read w/Fileman
 GENERAL DESCRIPTION:   VIA needs to read a number of fields from Surgery File
 #130 for VIAB SRGY RPTLIST RPC.  
  STATUS: Active
KEYWORDS: SURGERY
KEYWORDS: REPORT
KEYWORDS: LIST
KEYWORDS: VIA
SUBSCRIBING PACKAGE: VISTA INTEGRATION ADAPTOR
 DBA Comments:   3/9/2017-DC Activated the ICR for VIAB*1*9 and VIAB SRGY
 RPTLIST RPC service name for RPC maybe: GET SURGERY REPORT.  
  
 Recommendations from Alan Monosky is as follows: Concerning ICR #6730, the
 DATE/TIME OF DICTATION field (#15) and the DATE OF TRANSCRIPTION field (#39)
 are not part of the current dictation/transcription process through TIU.
 Therefore, those two fields will not be populated and should not be part of
 the ICR.  
  
 Discussions with Mike Montoli and VIA resulted in removing the PLANNED PRIN
 PROCEDURE CODE (27) from the ICR request.  
  DATE ACTIVATED: MAR 09, 2017
DATE/TIME EDITED: MAR 09, 2017@12:58    ACTION: APPROVED
  AT THE REQUEST OF: ROSS,RICK          WITH CONCURRENCE OF: MONTALI,MIKE

NUMBER: 10155                           IA #: 10155
  FILE NUMBER: 0                        GLOBAL ROOT: DD(file,field,0)
  DATE CREATED: FEB 03, 1998            CUSTODIAL PACKAGE: VA FILEMAN
  CUSTODIAL ISC: San Francisco          USAGE: Supported
  TYPE: File                            DBIC APPROVAL STATUS: APPROVED
  NAME: SET OF CODES                    ID: DD(file,field,0)
GLOBAL REFERENCE: piece 3
 GENERAL DESCRIPTION:   The 3rd piece of ^DD(filenumber,fieldnumber,0) is used
 in the call to Y^DIQ.  This may be referenced since no FM APIs exist yet to
 return this field for input to the supported call Y^DIQ.  
  STATUS: Active

NUMBER: 10156                           IA #: 10156
  FILE NUMBER: 19                       GLOBAL ROOT: DIC(19,
  DATE CREATED: MAY 31, 2006            CUSTODIAL PACKAGE: KERNEL
  USAGE: Supported                      TYPE: File
  DBIC APPROVAL STATUS: APPROVED        NAME: OPTION FILE
  ID: DIC(19,
 GENERAL DESCRIPTION:   Exporting, deleting, updating Options by Namespace via
 KIDS is permitted.  Linking menu options from other packages requires IAs
 between the packages whose options are being "linked".  
  STATUS: Active                        MAIL MESSAGE: 43299654

NUMBER: 10034                           IA #: 10034
  DATE CREATED: NOV 17, 1998            CUSTODIAL PACKAGE: VA FILEMAN
  CUSTODIAL ISC: San Francisco          USAGE: Supported
  TYPE: Routine                         DBIC APPROVAL STATUS: APPROVED
  ROUTINE: DIFG                         NAME: Other API: Filegram
  ORIGINAL NUMBER: 10034                ID: DIFG
 GENERAL DESCRIPTION:   Used to to install filegrams.  
  STATUS: Active                        MAIL MESSAGE: 28370785
COMPONENT/ENTRY POINT: DIFG
 COMPONENT DESCRIPTION:   Used to to install filegrams.  
VARIABLES: DIFGLO                       TYPE: Input
 VARIABLES DESCRIPTION:   (Required) This variable must be the global root of
 the filegram to be installed. 
VARIABLES: DIADD                        TYPE: Input
 VARIABLES DESCRIPTION:   (Optional) If this variable is defined, a new entry
 will be created in the base file. 
VARIABLES: DINUM                        TYPE: Input
 VARIABLES DESCRIPTION:   (Optional) Entry number in base file at which new
 file entry, if added, will be created.  
VARIABLES: DIFGER                       TYPE: Output
 VARIABLES DESCRIPTION:   This output variable is defined if an error has
 occurred. 
VARIABLES: DIFGY                        TYPE: Output
 VARIABLES DESCRIPTION:   ^DIFG always returns DIFGY. DIFGY can have one of the
 following values: 
  
 DIFGY=-1 Indicates that the lookup on the initial file processed (the base 
 file) was unsuccessful.  
  
 DIFGY=N^F Where N is the internal number of the entry in the base file and F
 is the base file's number.  
  
 DIFGY=N^F^1 Where N and F are defined as above and 1 indicates that a new 
 entry has been added to the base file.  

NUMBER: 10035                           IA #: 10035
  FILE NUMBER: 2                        GLOBAL ROOT: DPT(
  DATE CREATED: SEP 13, 2017            CUSTODIAL PACKAGE: REGISTRATION
  CUSTODIAL ISC: Albany                 USAGE: Supported
  TYPE: File                            DBIC APPROVAL STATUS: APPROVED
  NAME: PATIENT FILE                    ORIGINAL NUMBER: 10035
  ID: DPT(                              CREATOR: SCHLEHUBER,CAMERON
GLOBAL REFERENCE: DPT(
FIELD NUMBER: .01                       FIELD NAME: NAME
  LOCATION: 0;1                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .02                       FIELD NAME: SEX
  LOCATION: 0;2                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .03                       FIELD NAME: DATE OF BIRTH
  LOCATION: 0;3                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .05                       FIELD NAME: MARITAL STATUS
  LOCATION: 0;5                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .07                       FIELD NAME: OCCUPATION
  LOCATION: 0;7                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .08                       FIELD NAME: RELIGIOUS PREFERENCE
  LOCATION: 0;8                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .09                       FIELD NAME: SOCIAL SECURITY NUMBER
  LOCATION: 0;9                         ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .091                      FIELD NAME: REMARKS
  LOCATION: 0;10                        ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .092                      FIELD NAME: PLACE OF BIRTH [CITY]
  LOCATION: 0;11                        ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .093                      FIELD NAME: PLACE OF BIRTH [STATE]
  LOCATION: 0;12                        ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .033                      FIELD NAME: AGE
  LOCATION: COMPUTED                    ACCESS: Read w/Fileman
 FIELD DESCRIPTION:   Computed field 
FIELD NUMBER: .14                       FIELD NAME: CURRENT MEANS TEST STATUS
  LOCATION: 0;14                        ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .096                      FIELD NAME: WHO ENTERED PATIENT
  LOCATION: 0;15                        ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .097                      FIELD NAME: DATE ENTERED INTO FILE
  LOCATION: 0;16                        ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,.1)
FIELD NUMBER: .1                        FIELD NAME: WARD LOCATION
  LOCATION: .1;1                        ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,.101)
FIELD NUMBER: .101                      FIELD NAME: ROOM-BED
  LOCATION: .101;1                      ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,'LR')
FIELD NUMBER: 63                        FIELD NAME: LABORATORY REFERENCE
  LOCATION: 63;1                        ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,.36)
FIELD NUMBER: .363                      FIELD NAME: PRIMARY LONG ID
  LOCATION: .36;3                       ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .364                      FIELD NAME: PRIMARY SHORT ID
  LOCATION: .36;4                       ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,.102)
FIELD NUMBER: .102                      FIELD NAME: CURRENT MOVEMENT
  LOCATION: .102;1                      ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,.103)
FIELD NUMBER: .103                      FIELD NAME: TREATING SPECIALTY
  LOCATION: .103;1                      ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,.104)
FIELD NUMBER: .104                      FIELD NAME: PROVIDER
  LOCATION: .104;1                      ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,.1041)
FIELD NUMBER: .1041                     FIELD NAME: ATTENDING PHYSICIAN
  LOCATION: .1041;1                     ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,.105)
FIELD NUMBER: .105                      FIELD NAME: CURRENT ADMISSION
  LOCATION: .105;1                      ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,.106)
FIELD NUMBER: .106                      FIELD NAME: LAST DMMS EPISODE NUMBER
  LOCATION: .106;1                      ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,.107)
FIELD NUMBER: .107                      FIELD NAME: LODGER WARD LOCATION
  LOCATION: .107;1                      ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,.108)
FIELD NUMBER: .108                      FIELD NAME: CURRENT ROOM
  LOCATION: .108;1                      ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,.35)
FIELD NUMBER: .351                      FIELD NAME: DATE OF DEATH
  LOCATION: .35;1                       ACCESS: Direct Global Read & w/Fileman
FIELD NUMBER: .352                      FIELD NAME: DEATH ENTERED BY
  LOCATION: .35;2                       ACCESS: Direct Global Read & w/Fileman
GLOBAL REFERENCE: DPT(D0,.02,
FIELD NUMBER: .01                       FIELD NAME: RACE INFORMATION
  LOCATION: 0;1                         ACCESS: Read w/Fileman
GLOBAL REFERENCE: DPT(D0,.06,
FIELD NUMBER: .01                       FIELD NAME: ETHNICITY INFORMATION
  LOCATION: 0;1                         ACCESS: Read w/Fileman
GLOBAL REFERENCE: DPT(D0,.13)
FIELD NUMBER: .132                      FIELD NAME: PHONE NUMBER [WORK]
  LOCATION: .13;2                       ACCESS: Read w/Fileman
FIELD NUMBER: .134                      FIELD NAME: PHONE NUMBER [CELLULAR]
  LOCATION: .13;4                       ACCESS: Read w/Fileman
FIELD NUMBER: .133                      FIELD NAME: EMAIL ADDRESS
  LOCATION: .13;3                       ACCESS: Read w/Fileman
GLOBAL REFERENCE: DPT(D0,.109
FIELD NUMBER: .109                      FIELD NAME: EXCLUDE FROM FACILITY DIR
  LOCATION: .109;1                      ACCESS: Direct Global Read & w/Fileman
 FIELD DESCRIPTION:   Denotes whether or not the patient wished to be excluded
 from the Facility Directory for current admission.  This field is only stored
 for current inpatients.  It must NOT be edited as this could affect the
 integrity of many options within PIMS and other packages.  
 GENERAL DESCRIPTION:   Any nationally released cross-reference on the
 supported fields in this Integration Agreement are "open/supported" for direct
 global reference (as well as reference through VA FileMan).  
  STATUS: Active                        MAIL MESSAGE: 85805601
 DBA Comments:   20070910 - added field .134 PHONE NUMBER [CELLULAR] 20110524 -
 added field .133 EMAIL ADDRESS 9/13/17-DT: Adding field EXCLUDE FROM FACILITY
 DIR (#.109) for use by VIAB in VIAB*1*12.  This changes the VIA
 BackgroundProcess Method: getBMSdata.  10/2/17-DT: Reactivated ICR. Field .109
 is introduced in VIAB*1*8 for BMS.  
  DATE ACTIVATED: MAY 24, 2011
DATE/TIME EDITED: SEP 24, 2007@14:00    ACTION: DEACTIVATED FOR EDITS
  AT THE REQUEST OF: WHITE,ELAINE       WITH CONCURRENCE OF: DESMOND,LINDA
DATE/TIME EDITED: AUG 25, 2007@08:00    ACTION: APPROVED
  AT THE REQUEST OF: WHITE,ELAINE       WITH CONCURRENCE OF: DESMOND,LINDA
DATE/TIME EDITED: MAY 24, 2011@11:31    ACTION: DEACTIVATED FOR EDITS
  AT THE REQUEST OF: WARE,CHANDRA       WITH CONCURRENCE OF: HARVEY,JULIE
DATE/TIME EDITED: MAY 24, 2011@11:49    ACTION: APPROVED
  AT THE REQUEST OF: BLAESER,DAVID      WITH CONCURRENCE OF: KOPECKY,STEVE
DATE/TIME EDITED: SEP 13, 2017@12:04    ACTION: DEACTIVATED FOR EDITS
  AT THE REQUEST OF: RENEE,JOLIE        WITH CONCURRENCE OF: ICR,TEAM
DATE/TIME EDITED: OCT 02, 2017@16:56    ACTION: APPROVED
  AT THE REQUEST OF: BURKHALTER,WILLIAM
  WITH CONCURRENCE OF: ICR,TEAM
